"use strict";(self.webpackChunkpetguardian_mobile=self.webpackChunkpetguardian_mobile||[]).push([[179],{749:(Kr,ji,Yt)=>{function ie(n){return"function"==typeof n}function Ve(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const oe=Ve(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function yt(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class He{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(ie(i))try{i()}catch(s){t=s instanceof oe?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{Ln(s)}catch(o){t=t??[],o instanceof oe?t=[...t,...o.errors]:t.push(o)}}if(t)throw new oe(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Ln(t);else{if(t instanceof He){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&yt(e,t)}remove(t){const{_finalizers:e}=this;e&&yt(e,t),t instanceof He&&t._removeParent(this)}}He.EMPTY=(()=>{const n=new He;return n.closed=!0,n})();const Ei=He.EMPTY;function dt(n){return n instanceof He||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function Ln(n){ie(n)?n():n.unsubscribe()}const vn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xe={setTimeout(n,t,...e){const{delegate:i}=Xe;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Xe;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function rt(n){Xe.setTimeout(()=>{const{onUnhandledError:t}=vn;if(!t)throw n;t(n)})}function Rt(){}const rn=Dn("C",void 0,void 0);function Dn(n,t,e){return{kind:n,value:t,error:e}}let nn=null;function he(n){if(vn.useDeprecatedSynchronousErrorHandling){const t=!nn;if(t&&(nn={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=nn;if(nn=null,e)throw i}}else n()}class yn extends He{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,dt(t)&&t.add(this)):this.destination=$n}static create(t,e,i){return new Yi(t,e,i)}next(t){this.isStopped?Rn(function Mn(n){return Dn("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Rn(function Vn(n){return Dn("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Rn(rn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function qt(n,t){return Me.call(n,t)}class Cr{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){ln(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){ln(i)}else ln(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ln(e)}}}class Yi extends yn{constructor(t,e,i){let r;if(super(),ie(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&vn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&qt(t.next,s),error:t.error&&qt(t.error,s),complete:t.complete&&qt(t.complete,s)}):r=t}this.destination=new Cr(r)}}function ln(n){vn.useDeprecatedSynchronousErrorHandling?function Di(n){vn.useDeprecatedSynchronousErrorHandling&&nn&&(nn.errorThrown=!0,nn.error=n)}(n):rt(n)}function Rn(n,t){const{onStoppedNotification:e}=vn;e&&Xe.setTimeout(()=>e(n,t))}const $n={closed:!0,next:Rt,error:function st(n){throw n},complete:Rt},Vi="function"==typeof Symbol&&Symbol.observable||"@@observable";function un(n){return n}function os(n){return 0===n.length?un:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let zt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function ke(n){return n&&n instanceof yn||function zr(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}(n)&&dt(n)}(e)?e:new Yi(e,i,r);return he(()=>{const{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=gr(i))((r,s)=>{const o=new Yi({next:c=>{try{e(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Vi](){return this}pipe(...e){return os(e)(this)}toPromise(e){return new(e=gr(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function gr(n){var t;return null!==(t=n??vn.Promise)&&void 0!==t?t:Promise}const Ne=Ve(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fe=(()=>{class n extends zt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Ae(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Ne}next(e){he(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){he(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){he(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Ei:(this.currentObservers=null,s.push(e),new He(()=>{this.currentObservers=null,yt(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new zt;return e.source=this,e}}return n.create=(t,e)=>new Ae(t,e),n})();class Ae extends fe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Ei}}function Je(n){return ie(n?.lift)}function je(n){return t=>{if(Je(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ot(n,t,e,i,r){return new hn(n,t,e,i,r)}class hn extends yn{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(c){try{e(c)}catch(u){t.error(u)}}:super._next,this._error=r?function(c){try{r(c)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ge(n,t){return je((e,i)=>{let r=0;e.subscribe(ot(i,s=>{i.next(n.call(t,s,r++))}))})}var Bt=Yt(582);const bn=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function bi(n){return ie(n?.then)}function Bn(n){return ie(n[Vi])}function pi(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function Mi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const we=function Ce(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Oe(n){return ie(n?.[we])}function Ke(n){return(0,Bt.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Bt.qq)(e.read());if(r)return yield(0,Bt.qq)(void 0);yield yield(0,Bt.qq)(i)}}finally{e.releaseLock()}})}function mt(n){return ie(n?.getReader)}function nt(n){if(n instanceof zt)return n;if(null!=n){if(Bn(n))return function gi(n){return new zt(t=>{const e=n[Vi]();if(ie(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(bn(n))return function Fn(n){return new zt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(bi(n))return function Tn(n){return new zt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,rt)})}(n);if(pi(n))return Bi(n);if(Oe(n))return function mi(n){return new zt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(mt(n))return function qi(n){return Bi(Ke(n))}(n)}throw Mi(n)}function Bi(n){return new zt(t=>{(function Mr(n,t){var e,i,r,s;return(0,Bt.mG)(this,void 0,void 0,function*(){try{for(e=(0,Bt.KL)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Rr(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function In(n,t,e=1/0){return ie(t)?In((i,r)=>Ge((s,o)=>t(i,s,r,o))(nt(n(i,r))),e):("number"==typeof t&&(e=t),je((i,r)=>function oi(n,t,e,i,r,s,o,c){const u=[];let f=0,_=0,w=!1;const T=()=>{w&&!u.length&&!f&&t.complete()},M=V=>f<i?F(V):u.push(V),F=V=>{s&&t.next(V),f++;let U=!1;nt(e(V,_++)).subscribe(ot(t,re=>{r?.(re),s?M(re):t.next(re)},()=>{U=!0},void 0,()=>{if(U)try{for(f--;u.length&&f<i;){const re=u.shift();o?Rr(t,o,()=>F(re)):F(re)}T()}catch(re){t.error(re)}}))};return n.subscribe(ot(t,M,()=>{w=!0,T()})),()=>{c?.()}}(i,r,n,e)))}function Yn(n=1/0){return In(un,n)}const ti=new zt(n=>n.complete());function Ri(n){return n&&ie(n.schedule)}function uo(n){return n[n.length-1]}function bs(n){return ie(uo(n))?n.pop():void 0}function ho(n){return Ri(uo(n))?n.pop():void 0}function Oi(n,t=0){return je((e,i)=>{e.subscribe(ot(i,r=>Rr(i,n,()=>i.next(r),t),()=>Rr(i,n,()=>i.complete(),t),r=>Rr(i,n,()=>i.error(r),t)))})}function Qr(n,t=0){return je((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function fo(n,t){if(!n)throw new Error("Iterable cannot be null");return new zt(e=>{Rr(e,t,()=>{const i=n[Symbol.asyncIterator]();Rr(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function $(n,t){return t?function ce(n,t){if(null!=n){if(Bn(n))return function as(n,t){return nt(n).pipe(Qr(t),Oi(t))}(n,t);if(bn(n))return function Ma(n,t){return new zt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(bi(n))return function Ka(n,t){return nt(n).pipe(Qr(t),Oi(t))}(n,t);if(pi(n))return fo(n,t);if(Oe(n))return function Ra(n,t){return new zt(e=>{let i;return Rr(e,t,()=>{i=n[we](),Rr(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>ie(i?.return)&&i.return()})}(n,t);if(mt(n))return function pe(n,t){return fo(Ke(n),t)}(n,t)}throw Mi(n)}(n,t):nt(n)}function K(...n){const t=ho(n),e=function Er(n,t){return"number"==typeof uo(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?nt(i[0]):Yn(e)($(i,t)):ti}class W extends fe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function de(...n){return $(n,ho(n))}function Be(n={}){const{connector:t=(()=>new fe),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,c,u,f=0,_=!1,w=!1;const T=()=>{c?.unsubscribe(),c=void 0},M=()=>{T(),o=u=void 0,_=w=!1},F=()=>{const V=o;M(),V?.unsubscribe()};return je((V,U)=>{f++,!w&&!_&&T();const re=u=u??t();U.add(()=>{f--,0===f&&!w&&!_&&(c=Tt(F,r))}),re.subscribe(U),!o&&f>0&&(o=new Yi({next:ee=>re.next(ee),error:ee=>{w=!0,T(),c=Tt(M,e,ee),re.error(ee)},complete:()=>{_=!0,T(),c=Tt(M,i),re.complete()}}),nt(V).subscribe(o))})(s)}}function Tt(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Yi({next:()=>{i.unsubscribe(),n()}});return nt(t(...e)).subscribe(i)}function vt(n,t){return je((e,i)=>{let r=null,s=0,o=!1;const c=()=>o&&!r&&i.complete();e.subscribe(ot(i,u=>{r?.unsubscribe();let f=0;const _=s++;nt(n(u,_)).subscribe(r=ot(i,w=>i.next(t?t(u,w,_,f++):w),()=>{r=null,c()}))},()=>{o=!0,c()}))})}function en(n,t=un){return n=n??ii,je((e,i)=>{let r,s=!0;e.subscribe(ot(i,o=>{const c=t(o);(s||!n(r,c))&&(s=!1,r=c,i.next(o))}))})}function ii(n,t){return n===t}function Ct(n){for(let t in n)if(n[t]===Ct)return t;throw Error("Could not find renamed property on target object.")}function _i(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Gt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Gt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Dr(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Qa=Ct({__forward_ref__:Ct});function Ee(n){return n.__forward_ref__=Ee,n.toString=function(){return Gt(this())},n}function ve(n){return lt(n)?n():n}function lt(n){return"function"==typeof n&&n.hasOwnProperty(Qa)&&n.__forward_ref__===Ee}function Wt(n){return n&&!!n.\u0275providers}const a="https://g.co/ng/security#xss";class l extends Error{constructor(t,e){super(function d(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function h(n){return"string"==typeof n?n:null==n?"":String(n)}function x(n,t){throw new l(-201,!1)}function Z(n,t){null==n&&function Y(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ie(n){return{providers:n.providers||[],imports:n.imports||[]}}function bt(n){return Sn(n,ri)||Sn(n,ws)}function Sn(n,t){return n.hasOwnProperty(t)?n[t]:null}function wi(n){return n&&(n.hasOwnProperty(zi)||n.hasOwnProperty(Ja))?n[zi]:null}const ri=Ct({\u0275prov:Ct}),zi=Ct({\u0275inj:Ct}),ws=Ct({ngInjectableDef:Ct}),Ja=Ct({ngInjectorDef:Ct});var pn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(pn||{});let Oa;function hi(n){const t=Oa;return Oa=n,t}function Ec(n,t,e){const i=bt(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&pn.Optional?null:void 0!==t?t:void x(Gt(n))}const Ii=globalThis;class ze{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=le({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Tc={},l_="__NG_DI_FLAG__",wd="ngTempTokenPath",c_=/\n/gm,rw="__source";let Fl;function Ll(n){const t=Fl;return Fl=n,t}function VT(n,t=pn.Default){if(void 0===Fl)throw new l(-203,!1);return null===Fl?Ec(n,void 0,t):Fl.get(n,t&pn.Optional?null:void 0,t)}function ue(n,t=pn.Default){return(function Hr(){return Oa}()||VT)(ve(n),t)}function We(n,t=pn.Default){return ue(n,zo(t))}function zo(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Vl(n){const t=[];for(let e=0;e<n.length;e++){const i=ve(n[e]);if(Array.isArray(i)){if(0===i.length)throw new l(900,!1);let r,s=pn.Default;for(let o=0;o<i.length;o++){const c=i[o],u=zT(c);"number"==typeof u?-1===u?r=c.token:s|=u:r=c}t.push(ue(r,s))}else t.push(ue(i))}return t}function tl(n,t){return n[l_]=t,n.prototype[l_]=t,n}function zT(n){return n[l_]}function nl(n){return{toString:n}.toString()}var il=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(il||{}),Ho=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ho||{});const po={},ai=[],Ku=Ct({\u0275cmp:Ct}),Qu=Ct({\u0275dir:Ct}),Xs=Ct({\u0275pipe:Ct}),d_=Ct({\u0275mod:Ct}),rl=Ct({\u0275fac:Ct}),Sc=Ct({__NG_ELEMENT_ID__:Ct}),Ju=Ct({__NG_ENV_ID__:Ct});function u_(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function Wf(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],c=e[i++];n.setAttribute(t,o,c,s)}else{const s=r,o=e[++i];Gf(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function sw(n){return 3===n||4===n||6===n}function Gf(n){return 64===n.charCodeAt(0)}function Ac(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||$f(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function $f(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const c=n[s++];if("number"==typeof c){if(c===t){o=-1;break}if(c>t){o=s-1;break}}}for(;s<n.length;){const c=n[s];if("number"==typeof c)break;if(c===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const eh="ng-template";function h_(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==u_(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function f_(n){return 4===n.type&&n.value!==eh}function p_(n,t,e){return t===(4!==n.type||e?n.value:eh)}function ow(n,t,e){let i=4;const r=n.attrs||[],s=function g_(n){for(let t=0;t<n.length;t++)if(sw(n[t]))return t;return n.length}(r);let o=!1;for(let c=0;c<t.length;c++){const u=t[c];if("number"!=typeof u){if(!o)if(4&i){if(i=2|1&i,""!==u&&!p_(n,u,e)||""===u&&1===t.length){if(go(i))return!1;o=!0}}else{const f=8&i?u:t[++c];if(8&i&&null!==n.attrs){if(!h_(n.attrs,f,e)){if(go(i))return!1;o=!0}continue}const w=Yf(8&i?"class":u,r,f_(n),e);if(-1===w){if(go(i))return!1;o=!0;continue}if(""!==f){let T;T=w>s?"":r[w+1].toLowerCase();const M=8&i?T:null;if(M&&-1!==u_(M,f,0)||2&i&&f!==T){if(go(i))return!1;o=!0}}}}else{if(!o&&!go(i)&&!go(u))return!1;if(o&&go(u))continue;o=!1,i=u|1&i}}return go(i)||o}function go(n){return 0==(1&n)}function Yf(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let c=t[++r];for(;"string"==typeof c;)c=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function lw(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function qf(n,t,e=!1){for(let i=0;i<t.length;i++)if(ow(n,t[i],e))return!0;return!1}function m_(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function cw(n,t){return n?":not("+t.trim()+")":t}function __(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const c=n[++e];r+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!go(o)&&(t+=cw(s,r),r=""),i=o,s=s||!go(i);e++}return""!==r&&(t+=cw(s,r)),t}function Ot(n){return nl(()=>{const t=uw(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===il.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ho.Emulated,styles:n.styles||ai,_:null,schemas:n.schemas||null,tView:null,id:""};Zf(e);const i=n.dependencies;return e.directiveDefs=Kf(i,!1),e.pipeDefs=Kf(i,!0),e.id=function WT(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function b_(n){return Xn(n)||ls(n)}function Xf(n){return null!==n}function At(n){return nl(()=>({type:n.type,bootstrap:n.bootstrap||ai,declarations:n.declarations||ai,imports:n.imports||ai,exports:n.exports||ai,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function dw(n,t){if(null==n)return po;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function Ue(n){return nl(()=>{const t=uw(n);return Zf(t),t})}function Jr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xn(n){return n[Ku]||null}function ls(n){return n[Qu]||null}function cs(n){return n[Xs]||null}function Ns(n,t){const e=n[d_]||null;if(!e&&!0===t)throw new Error(`Type ${Gt(n)} does not have '\u0275mod' property.`);return e}function uw(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||po,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ai,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dw(n.inputs,t),outputs:dw(n.outputs)}}function Zf(n){n.features?.forEach(t=>t(n))}function Kf(n,t){if(!n)return null;const e=t?cs:b_;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(Xf)}const mr=0,It=1,gn=2,Xi=3,mo=4,th=5,es=6,xd=7,lr=8,Bl=9,zl=10,dn=11,Mc=12,hw=13,Hl=14,Tr=15,Rc=16,Cd=17,Pa=18,Ed=19,Qf=20,Ul=21,Zs=22,Dd=23,nh=24,Un=25,C_=1,fw=2,sl=7,ih=9,ds=11;function _o(n){return Array.isArray(n)&&"object"==typeof n[C_]}function Ks(n){return Array.isArray(n)&&!0===n[C_]}function pw(n){return 0!=(4&n.flags)}function Td(n){return n.componentOffset>-1}function D_(n){return 1==(1&n.flags)}function vo(n){return!!n.template}function ol(n){return 0!=(512&n[gn])}function Pc(n,t){return n.hasOwnProperty(rl)?n[rl]:null}let us=null,Id=!1;function Uo(n){const t=us;return us=n,t}const vw={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function yw(n){if(!Nc(n)||n.dirty){if(!n.producerMustRecompute(n)&&!np(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Sd(n){n.dirty=!0,function rh(n){if(void 0===n.liveConsumerNode)return;const t=Id;Id=!0;try{for(const e of n.liveConsumerNode)e.dirty||Sd(e)}finally{Id=t}}(n),n.consumerMarkedDirty?.(n)}function Ad(n){return n&&(n.nextProducerIndex=0),Uo(n)}function A_(n,t){if(Uo(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Nc(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)rp(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function np(n){Fc(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(yw(e),i!==e.version))return!0}return!1}function k_(n){if(Fc(n),Nc(n))for(let t=0;t<n.producerNode.length;t++)rp(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function rp(n,t){if(function bw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Fc(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)rp(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Fc(r),r.producerIndexOfThis[i]=t}}function Nc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Fc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let ww=null;function P_(n){const t=Uo(null);try{return n()}finally{Uo(t)}}const Ew=()=>{},iI=(()=>({...vw,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Ew}))();class rI{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function An(){return Tw}function Tw(n){return n.type.prototype.ngOnChanges&&(n.setInput=sI),N_}function N_(){const n=sh(this),t=n?.current;if(t){const e=n.previous;if(e===po)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function sI(n,t,e,i){const r=this.declaredInputs[e],s=sh(n)||function F_(n,t){return n[op]=t}(n,{previous:po,current:null}),o=s.current||(s.current={}),c=s.previous,u=c[r];o[r]=new rI(u&&u.currentValue,t,c===po),n[i]=t}An.ngInherit=!0;const op="__ngSimpleChanges__";function sh(n){return n[op]||null}const Na=function(n,t,e){},jl="svg";function Hi(n){for(;Array.isArray(n);)n=n[mr];return n}function lp(n,t){return Hi(t[n])}function xs(n,t){return Hi(t[n.index])}function Sw(n,t){return n.data[t]}function kd(n,t){return n[t]}function Fs(n,t){const e=t[n];return _o(e)?e:e[mr]}function Fa(n,t){return null==t?null:n[t]}function cp(n){n[Cd]=0}function lI(n){1024&n[gn]||(n[gn]|=1024,Aw(n,1))}function Md(n){1024&n[gn]&&(n[gn]&=-1025,Aw(n,-1))}function Aw(n,t){let e=n[Xi];if(null===e)return;e[th]+=t;let i=e;for(e=e[Xi];null!==e&&(1===t&&1===i[th]||-1===t&&0===i[th]);)e[th]+=t,i=e,e=e[Xi]}const sn={lFrame:jw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Pw(){return sn.bindingsEnabled}function Rd(){return null!==sn.skipHydrationRootTNode}function tt(){return sn.lFrame.lView}function Zn(){return sn.lFrame.tView}function pt(n){return sn.lFrame.contextLView=n,n[lr]}function ft(n){return sn.lFrame.contextLView=null,n}function Ur(){let n=up();for(;null!==n&&64===n.type;)n=n.parent;return n}function up(){return sn.lFrame.currentTNode}function jo(n,t){const e=sn.lFrame;e.currentTNode=n,e.isParent=t}function W_(){return sn.lFrame.isParent}function hp(){sn.lFrame.isParent=!1}function Cs(){const n=sn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function sa(){return sn.lFrame.bindingIndex}function Pd(){return sn.lFrame.bindingIndex++}function al(n){const t=sn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function fI(n,t){const e=sn.lFrame;e.bindingIndex=e.bindingRootIndex=n,$_(t)}function $_(n){sn.lFrame.currentDirectiveIndex=n}function Nd(n){const t=sn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function zw(){return sn.lFrame.currentQueryIndex}function Y_(n){sn.lFrame.currentQueryIndex=n}function pI(n){const t=n[It];return 2===t.type?t.declTNode:1===t.type?n[es]:null}function Hw(n,t,e){if(e&pn.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&pn.Host||(r=pI(s),null===r||(s=s[Hl],10&r.type))););if(null===r)return!1;t=r,n=s}const i=sn.lFrame=Uw();return i.currentTNode=t,i.lView=n,!0}function q_(n){const t=Uw(),e=n[It];sn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Uw(){const n=sn.lFrame,t=null===n?null:n.child;return null===t?jw(n):t}function jw(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Ww(){const n=sn.lFrame;return sn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const fp=Ww;function X_(){const n=Ww();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ls(){return sn.lFrame.selectedIndex}function Lc(n){sn.lFrame.selectedIndex=n}function Zi(){const n=sn.lFrame;return Sw(n.tView,n.selectedIndex)}function Vc(){sn.lFrame.currentNamespace=jl}function pp(){!function vI(){sn.lFrame.currentNamespace=null}()}let gp=!0;function Fd(){return gp}function Wl(n){gp=n}function mp(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:_}=s;o&&(n.contentHooks??=[]).push(-e,o),c&&((n.contentHooks??=[]).push(e,c),(n.contentCheckHooks??=[]).push(e,c)),u&&(n.viewHooks??=[]).push(-e,u),f&&((n.viewHooks??=[]).push(e,f),(n.viewCheckHooks??=[]).push(e,f)),null!=_&&(n.destroyHooks??=[]).push(e,_)}}function oh(n,t,e){$w(n,t,3,e)}function _p(n,t,e,i){(3&n[gn])===e&&$w(n,t,e,i)}function ah(n,t){let e=n[gn];(3&e)===t&&(e&=8191,e+=1,n[gn]=e)}function $w(n,t,e,i){const s=i??-1,o=t.length-1;let c=0;for(let u=void 0!==i?65535&n[Cd]:0;u<o;u++)if("number"==typeof t[u+1]){if(c=t[u],null!=i&&c>=i)break}else t[u]<0&&(n[Cd]+=65536),(c<s||-1==s)&&(K_(n,e,t,u),n[Cd]=(4294901760&n[Cd])+u+2),u++}function yI(n,t){Na(4,n,t);const e=Uo(null);try{t.call(n)}finally{Uo(e),Na(5,n,t)}}function K_(n,t,e,i){const r=e[i]<0,s=e[i+1],c=n[r?-e[i]:e[i]];r?n[gn]>>13<n[Cd]>>16&&(3&n[gn])===t&&(n[gn]+=8192,yI(c,s)):yI(c,s)}const Bc=-1;class Gl{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function J_(n){return n!==Bc}function vp(n){return 32767&n}function y(n,t){let e=function S(n){return n>>16}(n),i=t;for(;e>0;)i=i[Hl],e--;return i}let C=!0;function k(n){const t=C;return C=n,t}const q=255,ye=5;let Pe=0;const et={};function Xt(n,t){const e=Vs(n,t);if(-1!==e)return e;const i=t[It];i.firstCreatePass&&(n.injectorIndex=t.length,jn(i.data,n),jn(t,null),jn(i.blueprint,null));const r=oa(n,t),s=n.injectorIndex;if(J_(r)){const o=vp(r),c=y(r,t),u=c[It].data;for(let f=0;f<8;f++)t[s+f]=c[o+f]|u[o+f]}return t[s+8]=r,s}function jn(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Vs(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function oa(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=m2(r),null===i)return Bc;if(e++,r=r[Hl],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Bc}function Ld(n,t,e){!function Lt(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Sc)&&(i=e[Sc]),null==i&&(i=e[Sc]=Pe++);const r=i&q;t.data[n+(r>>ye)]|=1<<r}(n,t,e)}function yp(n,t,e){if(e&pn.Optional||void 0!==n)return n;x()}function ev(n,t,e,i){if(e&pn.Optional&&void 0===i&&(i=null),!(e&(pn.Self|pn.Host))){const r=n[Bl],s=hi(void 0);try{return r?r.get(t,i,e&pn.Optional):Ec(t,i,e&pn.Optional)}finally{hi(s)}}return yp(i,0,e)}function tv(n,t,e,i=pn.Default,r){if(null!==n){if(2048&t[gn]&&!(i&pn.Self)){const o=function hJ(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[gn]&&!(512&o[gn]);){const c=bp(s,o,e,i|pn.Self,et);if(c!==et)return c;let u=s.parent;if(!u){const f=o[Qf];if(f){const _=f.get(e,et,i);if(_!==et)return _}u=m2(o),o=o[Hl]}s=u}return r}(n,t,e,i,et);if(o!==et)return o}const s=bp(n,t,e,i,et);if(s!==et)return s}return ev(t,e,i,r)}function bp(n,t,e,i,r){const s=function Zw(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Sc)?n[Sc]:void 0;return"number"==typeof t?t>=0?t&q:uJ:t}(e);if("function"==typeof s){if(!Hw(t,n,i))return i&pn.Host?yp(r,0,i):ev(t,e,i,r);try{let o;if(o=s(i),null!=o||i&pn.Optional)return o;x()}finally{fp()}}else if("number"==typeof s){let o=null,c=Vs(n,t),u=Bc,f=i&pn.Host?t[Tr][es]:null;for((-1===c||i&pn.SkipSelf)&&(u=-1===c?oa(n,t):t[c+8],u!==Bc&&wp(i,!1)?(o=t[It],c=vp(u),t=y(u,t)):c=-1);-1!==c;){const _=t[It];if(Kw(s,c,_.data)){const w=Xw(c,t,e,o,i,f);if(w!==et)return w}u=t[c+8],u!==Bc&&wp(i,t[It].data[c+8]===f)&&Kw(s,c,t)?(o=_,c=vp(u),t=y(u,t)):c=-1}}return r}function Xw(n,t,e,i,r,s){const o=t[It],c=o.data[n+8],_=lh(c,o,e,null==i?Td(c)&&C:i!=o&&0!=(3&c.type),r&pn.Host&&s===c);return null!==_?ll(t,o,_,c):et}function lh(n,t,e,i,r){const s=n.providerIndexes,o=t.data,c=1048575&s,u=n.directiveStart,_=s>>20,T=r?c+_:n.directiveEnd;for(let M=i?c:c+_;M<T;M++){const F=o[M];if(M<u&&e===F||M>=u&&F.type===e)return M}if(r){const M=o[u];if(M&&vo(M)&&M.type===e)return u}return null}function ll(n,t,e,i){let r=n[e];const s=t.data;if(function Yw(n){return n instanceof Gl}(r)){const o=r;o.resolving&&function g(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new l(-200,`Circular dependency in DI detected for ${n}${e}`)}(function p(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():h(n)}(s[e]));const c=k(o.canSeeViewProviders);o.resolving=!0;const f=o.injectImpl?hi(o.injectImpl):null;Hw(n,i,pn.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Z_(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=Tw(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==f&&hi(f),k(c),o.resolving=!1,fp()}}return r}function Kw(n,t,e){return!!(e[t+(n>>ye)]&1<<n)}function wp(n,t){return!(n&pn.Self||n&pn.Host&&t)}class yo{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return tv(this._tNode,this._lView,t,zo(i),e)}}function uJ(){return new yo(Ur(),tt())}function Ki(n){return nl(()=>{const t=n.prototype.constructor,e=t[rl]||EI(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[rl]||EI(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function EI(n){return lt(n)?()=>{const t=EI(ve(n));return t&&t()}:Pc(n)}function m2(n){const t=n[It],e=t.type;return 2===e?t.declTNode:1===e?n[es]:null}function zc(n){return function qw(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(sw(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(Ur(),n)}const Cp="__parameters__";function Dp(n,t,e){return nl(()=>{const i=function DI(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return c.annotation=o,c;function c(u,f,_){const w=u.hasOwnProperty(Cp)?u[Cp]:Object.defineProperty(u,Cp,{value:[]})[Cp];for(;w.length<=_;)w.push(null);return(w[_]=w[_]||[]).push(o),u}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Ip(n,t){n.forEach(e=>Array.isArray(e)?Ip(e,t):t(e))}function v2(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Qw(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function iv(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function aa(n,t,e){let i=Sp(n,t);return i>=0?n[1|i]=e:(i=~i,function yJ(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function TI(n,t){const e=Sp(n,t);if(e>=0)return n[1|e]}function Sp(n,t){return function y2(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const Vd=tl(Dp("Optional"),8),dh=tl(Dp("SkipSelf"),4);function rx(n){return 128==(128&n.flags)}var Bd=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Bd||{});const zJ=/^>|^->|<!--|-->|--!>|<!-$/g,HJ=/(<|>)/g,UJ="\u200b$1\u200b";const MI=new Map;let jJ=0;const OI="__ngContext__";function Qs(n,t){_o(t)?(n[OI]=t[Ed],function GJ(n){MI.set(n[Ed],n)}(t)):n[OI]=t}let PI;function NI(n,t){return PI(n,t)}function ov(n){const t=n[Xi];return Ks(t)?t[Xi]:t}function B2(n){return H2(n[Mc])}function z2(n){return H2(n[mo])}function H2(n){for(;null!==n&&!Ks(n);)n=n[mo];return n}function Mp(n,t,e,i,r){if(null!=i){let s,o=!1;Ks(i)?s=i:_o(i)&&(o=!0,i=i[mr]);const c=Hi(i);0===n&&null!==e?null==r?G2(t,e,c):uh(t,e,c,r||null,!0):1===n&&null!==e?uh(t,e,c,r||null,!0):2===n?function ux(n,t,e){const i=cx(n,t);i&&function dee(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,c,o):3===n&&t.destroyNode(c),null!=s&&function fee(n,t,e,i,r){const s=e[sl];s!==Hi(e)&&Mp(t,n,i,s,r);for(let c=ds;c<e.length;c++){const u=e[c];lv(u[It],u,n,t,i,s)}}(t,n,s,e,r)}}function FI(n,t){return n.createComment(function M2(n){return n.replace(zJ,t=>t.replace(HJ,UJ))}(t))}function ax(n,t,e){return n.createElement(t,e)}function j2(n,t){const e=n[ih],i=e.indexOf(t);Md(t),e.splice(i,1)}function lx(n,t){if(n.length<=ds)return;const e=ds+t,i=n[e];if(i){const r=i[Rc];null!==r&&r!==n&&j2(r,i),t>0&&(n[e-1][mo]=i[mo]);const s=Qw(n,ds+t);!function nee(n,t){lv(n,t,t[dn],2,null,null),t[mr]=null,t[es]=null}(i[It],i);const o=s[Pa];null!==o&&o.detachView(s[It]),i[Xi]=null,i[mo]=null,i[gn]&=-129}return i}function LI(n,t){if(!(256&t[gn])){const e=t[dn];t[Dd]&&k_(t[Dd]),t[nh]&&k_(t[nh]),e.destroyNode&&lv(n,t,e,3,null,null),function see(n){let t=n[Mc];if(!t)return VI(n[It],n);for(;t;){let e=null;if(_o(t))e=t[Mc];else{const i=t[ds];i&&(e=i)}if(!e){for(;t&&!t[mo]&&t!==n;)_o(t)&&VI(t[It],t),t=t[Xi];null===t&&(t=n),_o(t)&&VI(t[It],t),e=t&&t[mo]}t=e}}(t)}}function VI(n,t){if(!(256&t[gn])){t[gn]&=-129,t[gn]|=256,function cee(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Gl)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const c=r[s[o]],u=s[o+1];Na(4,c,u);try{u.call(c)}finally{Na(5,c,u)}}else{Na(4,r,s);try{s.call(r)}finally{Na(5,r,s)}}}}}(n,t),function lee(n,t){const e=n.cleanup,i=t[xd];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[xd]=null);const r=t[Ul];if(null!==r){t[Ul]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[It].type&&t[dn].destroy();const e=t[Rc];if(null!==e&&Ks(t[Xi])){e!==t[Xi]&&j2(e,t);const i=t[Pa];null!==i&&i.detachView(n)}!function $J(n){MI.delete(n[Ed])}(t)}}function BI(n,t,e){return function W2(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[mr];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Ho.None||s===Ho.Emulated)return null}return xs(i,e)}}(n,t.parent,e)}function uh(n,t,e,i,r){n.insertBefore(t,e,i,r)}function G2(n,t,e){n.appendChild(t,e)}function $2(n,t,e,i,r){null!==i?uh(n,t,e,i,r):G2(n,t,e)}function cx(n,t){return n.parentNode(t)}function Y2(n,t,e){return X2(n,t,e)}let zI,hx,WI,fx,X2=function q2(n,t,e){return 40&n.type?xs(n,e):null};function dx(n,t,e,i){const r=BI(n,i,t),s=t[dn],c=Y2(i.parent||t[es],i,t);if(null!=r)if(Array.isArray(e))for(let u=0;u<e.length;u++)$2(s,r,e[u],c,!1);else $2(s,r,e,c,!1);void 0!==zI&&zI(s,i,t,e,r)}function av(n,t){if(null!==t){const e=t.type;if(3&e)return xs(t,n);if(4&e)return HI(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return av(n,i);{const r=n[t.index];return Ks(r)?HI(-1,r):Hi(r)}}if(32&e)return NI(t,n)()||Hi(n[t.index]);{const i=K2(n,t);return null!==i?Array.isArray(i)?i[0]:av(ov(n[Tr]),i):av(n,t.next)}}return null}function K2(n,t){return null!==t?n[Tr][es].projection[t.projection]:null}function HI(n,t){const e=ds+n+1;if(e<t.length){const i=t[e],r=i[It].firstChild;if(null!==r)return av(i,r)}return t[sl]}function UI(n,t,e,i,r,s,o){for(;null!=e;){const c=i[e.index],u=e.type;if(o&&0===t&&(c&&Qs(Hi(c),i),e.flags|=2),32!=(32&e.flags))if(8&u)UI(n,t,e.child,i,r,s,!1),Mp(t,n,r,c,s);else if(32&u){const f=NI(e,i);let _;for(;_=f();)Mp(t,n,r,_,s);Mp(t,n,r,c,s)}else 16&u?J2(n,t,i,e,r,s):Mp(t,n,r,c,s);e=o?e.projectionNext:e.next}}function lv(n,t,e,i,r,s){UI(e,i,n.firstChild,t,r,s,!1)}function J2(n,t,e,i,r,s){const o=e[Tr],u=o[es].projection[i.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)Mp(t,n,r,u[f],s);else{let f=u;const _=o[Xi];rx(i)&&(f.flags|=128),UI(n,t,f,_,r,s,!0)}}function eV(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function tV(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&Wf(n,t,i),null!==r&&eV(n,t,r),null!==s&&function gee(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function Rp(n){return function jI(){if(void 0===hx&&(hx=null,Ii.trustedTypes))try{hx=Ii.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return hx}()?.createHTML(n)||n}function Op(){if(void 0!==WI)return WI;if(typeof document<"u")return document;throw new l(210,!1)}function GI(){if(void 0===fx&&(fx=null,Ii.trustedTypes))try{fx=Ii.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return fx}function nV(n){return GI()?.createHTML(n)||n}function rV(n){return GI()?.createScriptURL(n)||n}class hh{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${a})`}}class bee extends hh{getTypeName(){return"HTML"}}class wee extends hh{getTypeName(){return"Style"}}class xee extends hh{getTypeName(){return"Script"}}class Cee extends hh{getTypeName(){return"URL"}}class Eee extends hh{getTypeName(){return"ResourceURL"}}function la(n){return n instanceof hh?n.changingThisBreaksApplicationSecurity:n}function $l(n,t){const e=function Dee(n){return n instanceof hh&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${a})`)}return e===t}class Mee{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Rp(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class Ree{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Rp(t),e}}const Pee=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function px(n){return(n=String(n)).match(Pee)?n:"unsafe:"+n}function Hc(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function cv(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const oV=Hc("area,br,col,hr,img,wbr"),aV=Hc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lV=Hc("rp,rt"),$I=cv(oV,cv(aV,Hc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cv(lV,Hc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cv(lV,aV)),YI=Hc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cV=cv(YI,Hc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Nee=Hc("script,style,template");class Fee{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!$I.hasOwnProperty(e))return this.sanitizedSomething=!0,!Nee.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,c=o.toLowerCase();if(!cV.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=s.value;YI[c]&&(u=px(u)),this.buf.push(" ",o,'="',dV(u),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();$I.hasOwnProperty(e)&&!oV.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(dV(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Lee=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vee=/([^\#-~ |!])/g;function dV(n){return n.replace(/&/g,"&amp;").replace(Lee,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Vee,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gx;function uV(n,t){let e=null;try{gx=gx||function sV(n){const t=new Ree(n);return function Oee(){try{return!!(new window.DOMParser).parseFromString(Rp(""),"text/html")}catch{return!1}}()?new Mee(t):t}(n);let i=t?String(t):"";e=gx.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=gx.getInertBodyElement(i)}while(i!==s);return Rp((new Fee).sanitizeChildren(qI(e)||e))}finally{if(e){const i=qI(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function qI(n){return"content"in n&&function Bee(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ca=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ca||{});function fh(n){const t=dv();return t?nV(t.sanitize(ca.HTML,n)||""):$l(n,"HTML")?nV(la(n)):uV(Op(),h(n))}function Pp(n){const t=dv();return t?t.sanitize(ca.URL,n)||"":$l(n,"URL")?la(n):px(h(n))}function hV(n){const t=dv();if(t)return rV(t.sanitize(ca.RESOURCE_URL,n)||"");if($l(n,"ResourceURL"))return rV(la(n));throw new l(904,!1)}function dv(){const n=tt();return n&&n[zl].sanitizer}const uv=new ze("ENVIRONMENT_INITIALIZER"),pV=new ze("INJECTOR",-1),gV=new ze("INJECTOR_DEF_TYPES");class XI{get(t,e=Tc){if(e===Tc){const i=new Error(`NullInjectorError: No provider for ${Gt(t)}!`);throw i.name="NullInjectorError",i}return e}}function Yl(n){return{\u0275providers:n}}function Gee(...n){return{\u0275providers:mV(0,n),\u0275fromNgModule:!0}}function mV(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return Ip(t,o=>{const c=o;mx(c,s,[],i)&&(r||=[],r.push(c))}),void 0!==r&&_V(r,s),e}function _V(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];ZI(r,s=>{t(s,i)})}}function mx(n,t,e,i){if(!(n=ve(n)))return!1;let r=null,s=wi(n);const o=!s&&Xn(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const u=n.ngModule;if(s=wi(u),!s)return!1;r=u}const c=i.has(r);if(o){if(c)return!1;if(i.add(r),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const f of u)mx(f,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let f;i.add(r);try{Ip(s.imports,_=>{mx(_,t,e,i)&&(f||=[],f.push(_))})}finally{}void 0!==f&&_V(f,t)}if(!c){const f=Pc(r)||(()=>new r);t({provide:r,useFactory:f,deps:ai},r),t({provide:gV,useValue:r,multi:!0},r),t({provide:uv,useValue:()=>ue(r),multi:!0},r)}const u=s.providers;if(null!=u&&!c){const f=n;ZI(u,_=>{t(_,f)})}}}return r!==n&&void 0!==n.providers}function ZI(n,t){for(let e of n)Wt(e)&&(e=e.\u0275providers),Array.isArray(e)?ZI(e,t):t(e)}const $ee=Ct({provide:String,useValue:Ct});function KI(n){return null!==n&&"object"==typeof n&&$ee in n}function ph(n){return"function"==typeof n}const QI=new ze("Set Injector scope."),_x={},qee={};let JI;function vx(){return void 0===JI&&(JI=new XI),JI}class bo{}class Np extends bo{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tS(t,o=>this.processProvider(o)),this.records.set(pV,Fp(void 0,this)),r.has("environment")&&this.records.set(bo,Fp(void 0,this));const s=this.records.get(QI);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(gV.multi,ai,pn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Ll(this),i=hi(void 0);try{return t()}finally{Ll(e),hi(i)}}get(t,e=Tc,i=pn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ju))return t[Ju](this);i=zo(i);const s=Ll(this),o=hi(void 0);try{if(!(i&pn.SkipSelf)){let u=this.records.get(t);if(void 0===u){const f=function Jee(n){return"function"==typeof n||"object"==typeof n&&n instanceof ze}(t)&&bt(t);u=f&&this.injectableDefInScope(f)?Fp(eS(t),_x):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(i&pn.Self?vx():this.parent).get(t,e=i&pn.Optional&&e===Tc?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[wd]=c[wd]||[]).unshift(Gt(t)),s)throw c;return function HT(n,t,e,i){const r=n[wd];throw t[rw]&&r.unshift(t[rw]),n.message=function UT(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Gt(t);if(Array.isArray(t))r=t.map(Gt).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let c=t[o];s.push(o+":"+("string"==typeof c?JSON.stringify(c):Gt(c)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(c_,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[wd]=null,n}(c,t,"R3InjectorError",this.source)}throw c}finally{hi(o),Ll(s)}}resolveInjectorInitializers(){const t=Ll(this),e=hi(void 0);try{const r=this.get(uv.multi,ai,pn.Self);for(const s of r)s()}finally{Ll(t),hi(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Gt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new l(205,!1)}processProvider(t){let e=ph(t=ve(t))?t:ve(t&&t.provide);const i=function Zee(n){return KI(n)?Fp(void 0,n.useValue):Fp(bV(n),_x)}(t);if(ph(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Fp(void 0,_x,!0),r.factory=()=>Vl(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===_x&&(e.value=qee,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Qee(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ve(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function eS(n){const t=bt(n),e=null!==t?t.factory:Pc(n);if(null!==e)return e;if(n instanceof ze)throw new l(204,!1);if(n instanceof Function)return function Xee(n){const t=n.length;if(t>0)throw iv(t,"?"),new l(204,!1);const e=function qn(n){return n&&(n[ri]||n[ws])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new l(204,!1)}function bV(n,t,e){let i;if(ph(n)){const r=ve(n);return Pc(r)||eS(r)}if(KI(n))i=()=>ve(n.useValue);else if(function yV(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Vl(n.deps||[]));else if(function vV(n){return!(!n||!n.useExisting)}(n))i=()=>ue(ve(n.useExisting));else{const r=ve(n&&(n.useClass||n.provide));if(!function Kee(n){return!!n.deps}(n))return Pc(r)||eS(r);i=()=>new r(...Vl(n.deps))}return i}function Fp(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function tS(n,t){for(const e of n)Array.isArray(e)?tS(e,t):e&&Wt(e)?tS(e.\u0275providers,t):t(e)}const yx=new ze("AppId",{providedIn:"root",factory:()=>ete}),ete="ng",wV=new ze("Platform Initializer"),wo=new ze("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ql=new ze("AnimationModuleType"),nS=new ze("CSP nonce",{providedIn:"root",factory:()=>Op().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xV=(n,t,e)=>null;function dS(n,t,e=!1){return xV(n,t,e)}class dte{}class DV{}class hte{resolveComponentFactory(t){throw function ute(n){const t=Error(`No component factory found for ${Gt(n)}.`);return t.ngComponent=n,t}(t)}}let zd=(()=>{class n{static#e=this.NULL=new hte}return n})();function fte(){return Bp(Ur(),tt())}function Bp(n,t){return new Ht(xs(n,t))}let Ht=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=fte}return n})();function pte(n){return n instanceof Ht?n.nativeElement:n}class zp{}let jr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function gte(){const n=tt(),e=Fs(Ur().index,n);return(_o(e)?e:n)[dn]}()}return n})(),mte=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>null})}return n})();class Hd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const IV=new Hd("16.2.12"),fS={};function MV(n,t=null,e=null,i){const r=RV(n,t,e,i);return r.resolveInjectorInitializers(),r}function RV(n,t=null,e=null,i,r=new Set){const s=[e||ai,Gee(n)];return i=i||("object"==typeof n?void 0:Gt(n)),new Np(s,t||vx(),i||null,r)}let Ir=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Tc;static#t=this.NULL=new XI;static create(e,i){if(Array.isArray(e))return MV({name:""},i,e,"");{const r=e.name??"";return MV({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=le({token:n,providedIn:"any",factory:()=>ue(pV)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function pS(n){return n.ngOriginalError}class Uc{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&pS(t);for(;e&&pS(e);)e=pS(e);return e||null}}function gS(n){return t=>{setTimeout(n,void 0,t)}}const Le=class Ete extends fe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const u=t;r=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=gS(s),r&&(r=gS(r)),o&&(o=gS(o)));const c=super.subscribe({next:r,error:s,complete:o});return t instanceof He&&t.add(c),c}};function PV(...n){}class ct{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1),typeof Zone>"u")throw new l(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Dte(){const n="function"==typeof Ii.requestAnimationFrame;let t=Ii[n?"requestAnimationFrame":"setTimeout"],e=Ii[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Ste(n){const t=()=>{!function Ite(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ii,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,_S(n),n.isCheckStableRunning=!0,mS(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),_S(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,c)=>{if(function kte(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(c))return e.invokeTask(r,s,o,c);try{return NV(n),e.invokeTask(r,s,o,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),FV(n)}},onInvoke:(e,i,r,s,o,c,u)=>{try{return NV(n),e.invoke(r,s,o,c,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),FV(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,_S(n),mS(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ct.isInAngularZone())throw new l(909,!1)}static assertNotInAngularZone(){if(ct.isInAngularZone())throw new l(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,Tte,PV,PV);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const Tte={};function mS(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function _S(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function NV(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FV(n){n._nesting--,mS(n)}class Ate{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const LV=new ze("",{providedIn:"root",factory:VV});function VV(){const n=We(ct);let t=!0;return K(new zt(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new zt(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{ct.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{ct.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Be()))}function jc(n){return n instanceof Function?n():n}let vS=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}return n})();function pv(n){for(;n;){n[gn]|=64;const t=ov(n);if(ol(n)&&!t)return n;n=t}return null}const jV=new ze("",{providedIn:"root",factory:()=>!1});let Ix=null;function YV(n,t){return n[t]??ZV()}function qV(n,t){const e=ZV();e.producerNode?.length&&(n[t]=Ix,e.lView=n,Ix=XV())}const zte={...vw,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{pv(n.lView)},lView:null};function XV(){return Object.create(zte)}function ZV(){return Ix??=XV(),Ix}const wn={};function J(n){KV(Zn(),tt(),Ls()+n,!1)}function KV(n,t,e,i){if(!i)if(3==(3&t[gn])){const s=n.preOrderCheckHooks;null!==s&&oh(t,s,e)}else{const s=n.preOrderHooks;null!==s&&_p(t,s,0,e)}Lc(e)}function H(n,t=pn.Default){const e=tt();return null===e?ue(n,t):tv(Ur(),e,ve(n),t)}function gv(){throw new Error("invalid")}function Sx(n,t,e,i,r,s,o,c,u,f,_){const w=t.blueprint.slice();return w[mr]=r,w[gn]=140|i,(null!==f||n&&2048&n[gn])&&(w[gn]|=2048),cp(w),w[Xi]=w[Hl]=n,w[lr]=e,w[zl]=o||n&&n[zl],w[dn]=c||n&&n[dn],w[Bl]=u||n&&n[Bl]||null,w[es]=s,w[Ed]=function WJ(){return jJ++}(),w[Zs]=_,w[Qf]=f,w[Tr]=2==t.type?n[Tr]:w,w}function Wp(n,t,e,i,r){let s=n.data[t];if(null===s)s=function yS(n,t,e,i,r){const s=up(),o=W_(),u=n.data[t]=function qte(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,c=0;return Rd()&&(c|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,t,e,i,r),function G_(){return sn.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function Od(){const n=sn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return jo(s,!0),s}function mv(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function QV(n,t,e,i,r){const s=YV(t,Dd),o=Ls(),c=2&i;try{Lc(-1),c&&t.length>Un&&KV(n,t,Un,!1),Na(c?2:0,r);const f=c?s:null,_=Ad(f);try{null!==f&&(f.dirty=!1),e(i,r)}finally{A_(f,_)}}finally{c&&null===t[Dd]&&qV(t,Dd),Lc(o),Na(c?3:1,r)}}function bS(n,t,e){if(pw(t)){const i=Uo(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const c=n.data[o];c.contentQueries&&c.contentQueries(1,e[o],o)}}finally{Uo(i)}}}function wS(n,t,e){Pw()&&(function tne(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;Td(e)&&function lne(n,t,e){const i=xs(t,n),r=JV(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const c=Ax(n,Sx(n,r,null,o,i,t,null,n[zl].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=c}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Xt(e,t),Qs(i,t);const o=e.initialInputs;for(let c=r;c<s;c++){const u=n.data[c],f=ll(t,n,c,e);Qs(f,t),null!==o&&cne(0,c-r,f,u,0,o),vo(u)&&(Fs(e.index,t)[lr]=ll(t,n,c,e))}}(n,t,e,xs(e,t)),64==(64&e.flags)&&rB(n,t,e))}function xS(n,t,e=xs){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],c=-1===o?e(t,n):n[o];n[r++]=c}}}function JV(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=CS(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function CS(n,t,e,i,r,s,o,c,u,f,_){const w=Un+i,T=w+r,M=function Ute(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:wn);return e}(w,T),F="function"==typeof f?f():f;return M[It]={type:n,blueprint:M,template:e,queries:null,viewQuery:c,declTNode:t,data:M.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:T,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:F,incompleteFirstPass:!1,ssrId:_}}let eB=n=>null;function tB(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?nB(e,t,r,s):i.hasOwnProperty(r)&&nB(e,t,i[r],s)}return e}function nB(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function da(n,t,e,i,r,s,o,c){const u=xs(t,e);let _,f=t.inputs;!c&&null!=f&&(_=f[i])?(SS(n,e,_,i,r),Td(t)&&function Kte(n,t){const e=Fs(t,n);16&e[gn]||(e[gn]|=64)}(e,t.index)):3&t.type&&(i=function Zte(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(u,i,r))}function ES(n,t,e,i){if(Pw()){const r=null===i?null:{"":-1},s=function ine(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(qf(t,o.selectors,!1))if(i||(i=[]),vo(o))if(null!==o.findHostDirectiveDefs){const c=[];r=r||new Map,o.findHostDirectiveDefs(o,c,r),i.unshift(...c,o),DS(n,t,c.length)}else i.unshift(o),DS(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,c;null===s?o=c=null:[o,c]=s,null!==o&&iB(n,t,e,o,r,c),r&&function rne(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new l(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=Ac(e.mergedAttrs,e.attrs)}function iB(n,t,e,i,r,s){for(let f=0;f<i.length;f++)Ld(Xt(e,t),n,i[f].type);!function one(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let f=0;f<i.length;f++){const _=i[f];_.providersResolver&&_.providersResolver(_)}let o=!1,c=!1,u=mv(n,t,i.length,null);for(let f=0;f<i.length;f++){const _=i[f];e.mergedAttrs=Ac(e.mergedAttrs,_.hostAttrs),ane(n,e,t,u,_),sne(u,_,r),null!==_.contentQueries&&(e.flags|=4),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(e.flags|=64);const w=_.type.prototype;!o&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!c&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),c=!0),u++}!function Xte(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,c=[];let u=null,f=null;for(let _=t.directiveStart;_<r;_++){const w=s[_],T=e?e.get(w):null,F=T?T.outputs:null;u=tB(w.inputs,_,u,T?T.inputs:null),f=tB(w.outputs,_,f,F);const V=null===u||null===o||f_(t)?null:dne(u,_,o);c.push(V)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=u,t.outputs=f}(n,e,s)}function rB(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function Bw(){return sn.lFrame.currentDirectiveIndex}();try{Lc(s);for(let c=i;c<r;c++){const u=n.data[c],f=t[c];$_(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&nne(u,f)}}finally{Lc(-1),$_(o)}}function nne(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function DS(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function sne(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;vo(t)&&(e[""]=n)}}function ane(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Pc(r.type)),o=new Gl(s,vo(r),H);n.blueprint[i]=o,e[i]=o,function Jte(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const c=~t.index;(function ene(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=c&&o.push(c),o.push(e,i,s)}}(n,t,i,mv(n,e,r.hostVars,wn),r)}function Xl(n,t,e,i,r,s){const o=xs(n,t);!function TS(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const c=null==o?h(s):o(s,i||"",r);n.setAttribute(t,r,c,e)}}(t[dn],o,s,n.value,e,i,r)}function cne(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let c=0;c<o.length;)sB(i,e,o[c++],o[c++],o[c++])}function sB(n,t,e,i,r){const s=Uo(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{Uo(s)}}function dne(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let c=0;c<o.length;c+=2)if(o[c]===t){i.push(s,o[c+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function oB(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function aB(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];Y_(e[i]),o.contentQueries(2,t[s],s)}}}function Ax(n,t){return n[Mc]?n[hw][mo]=t:n[Mc]=t,n[hw]=t,t}function IS(n,t,e){Y_(0);const i=Uo(null);try{t(n,e)}finally{Uo(i)}}function lB(n){return n[xd]||(n[xd]=[])}function cB(n){return n.cleanup||(n.cleanup=[])}function dB(n,t,e){return(null===n||vo(n))&&(e=function B_(n){for(;Array.isArray(n);){if("object"==typeof n[C_])return n;n=n[mr]}return null}(e[t.index])),e[dn]}function uB(n,t){const e=n[Bl],i=e?e.get(Uc,null):null;i&&i.handleError(t)}function SS(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],c=e[s++];sB(n.data[o],t[o],i,c,r)}}function Wc(n,t,e){const i=lp(t,n);!function U2(n,t,e){n.setValue(t,e)}(n[dn],i,e)}function une(n,t){const e=Fs(t,n),i=e[It];!function hne(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[mr];null!==r&&null===e[Zs]&&(e[Zs]=dS(r,e[Bl])),AS(i,e,e[lr])}function AS(n,t,e){q_(t);try{const i=n.viewQuery;null!==i&&IS(1,i,e);const r=n.template;null!==r&&QV(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&aB(n,t),n.staticViewQueries&&IS(2,n.viewQuery,e);const s=n.components;null!==s&&function fne(n,t){for(let e=0;e<t.length;e++)une(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[gn]&=-5,X_()}}let hB=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function nI(n,t,e){const i=Object.create(iI);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>Sd(i),run:()=>{if(i.dirty=!1,i.hasRun&&!np(i))return;i.hasRun=!0;const o=Ad(i);try{i.cleanupFn(),i.cleanupFn=Ew,i.fn(r)}finally{A_(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,f=>{this.all.has(f)&&this.queue.set(f,s)},r);let c;this.all.add(o),o.notify();const u=()=>{o.cleanup(),c?.(),this.all.delete(o),this.queue.delete(o)};return c=i?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}return n})();function kx(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const c=t[o];"number"==typeof c?s=c:1==s?r=Dr(r,c):2==s&&(i=Dr(i,c+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function _v(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(Hi(s)),Ks(s)&&fB(s,i);const o=e.type;if(8&o)_v(n,t,e.child,i);else if(32&o){const c=NI(e,t);let u;for(;u=c();)i.push(u)}else if(16&o){const c=K2(t,e);if(Array.isArray(c))i.push(...c);else{const u=ov(t[Tr]);_v(u[It],u,c,i,!0)}}e=r?e.projectionNext:e.next}return i}function fB(n,t){for(let e=ds;e<n.length;e++){const i=n[e],r=i[It].firstChild;null!==r&&_v(i[It],i,r,t)}n[sl]!==n[mr]&&t.push(n[sl])}function Mx(n,t,e,i=!0){const r=t[zl],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{pB(n,t,n.template,e)}catch(u){throw i&&uB(t,u),u}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function pB(n,t,e,i){const r=t[gn];if(256!=(256&r)){t[zl].effectManager?.flush(),q_(t);try{cp(t),function Lw(n){return sn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&QV(n,t,e,2,i);const o=3==(3&r);if(o){const f=n.preOrderCheckHooks;null!==f&&oh(t,f,null)}else{const f=n.preOrderHooks;null!==f&&_p(t,f,0,null),ah(t,0)}if(function mne(n){for(let t=B2(n);null!==t;t=z2(t)){if(!t[fw])continue;const e=t[ih];for(let i=0;i<e.length;i++){lI(e[i])}}}(t),gB(t,2),null!==n.contentQueries&&aB(n,t),o){const f=n.contentCheckHooks;null!==f&&oh(t,f)}else{const f=n.contentHooks;null!==f&&_p(t,f,1),ah(t,1)}!function Hte(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=YV(t,nh);try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)Lc(~s);else{const o=s,c=e[++r],u=e[++r];fI(c,o),i.dirty=!1;const f=Ad(i);try{u(2,t[o])}finally{A_(i,f)}}}}finally{null===t[nh]&&qV(t,nh),Lc(-1)}}(n,t);const c=n.components;null!==c&&_B(t,c,0);const u=n.viewQuery;if(null!==u&&IS(2,u,i),o){const f=n.viewCheckHooks;null!==f&&oh(t,f)}else{const f=n.viewHooks;null!==f&&_p(t,f,2),ah(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[gn]&=-73,Md(t)}finally{X_()}}}function gB(n,t){for(let e=B2(n);null!==e;e=z2(e))for(let i=ds;i<e.length;i++)mB(e[i],t)}function _ne(n,t,e){mB(Fs(t,n),e)}function mB(n,t){if(!function z_(n){return 128==(128&n[gn])}(n))return;const e=n[It],i=n[gn];if(80&i&&0===t||1024&i||2===t)pB(e,n,e.template,n[lr]);else if(n[th]>0){gB(n,1);const r=e.components;null!==r&&_B(n,r,1)}}function _B(n,t,e){for(let i=0;i<t.length;i++)_ne(n,t[i],e)}class vv{get rootNodes(){const t=this._lView,e=t[It];return _v(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lr]}set context(t){this._lView[lr]=t}get destroyed(){return 256==(256&this._lView[gn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Xi];if(Ks(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(lx(t,i),Qw(e,i))}this._attachedToViewContainer=!1}LI(this._lView[It],this._lView)}onDestroy(t){!function kw(n,t){if(256==(256&n[gn]))throw new l(911,!1);null===n[Ul]&&(n[Ul]=[]),n[Ul].push(t)}(this._lView,t)}markForCheck(){pv(this._cdRefInjectingView||this._lView)}detach(){this._lView[gn]&=-129}reattach(){this._lView[gn]|=128}detectChanges(){Mx(this._lView[It],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new l(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ree(n,t){lv(n,t,t[dn],2,null,null)}(this._lView[It],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new l(902,!1);this._appRef=t}}class vne extends vv{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Mx(t[It],t,t[lr],!1)}checkNoChanges(){}get context(){return null}}class vB extends zd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Xn(t);return new yv(e,this.ngModule)}}function yB(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class bne{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=zo(i);const r=this.injector.get(t,fS,i);return r!==fS||e===fS?r:this.parentInjector.get(t,e,i)}}class yv extends DV{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=yB(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return yB(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function jT(n){return n.map(__).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof bo?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new bne(t,s):t,c=o.get(zp,null);if(null===c)throw new l(407,!1);const w={rendererFactory:c,sanitizer:o.get(mte,null),effectManager:o.get(hB,null),afterRenderEventManager:o.get(vS,null)},T=c.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",F=i?function jte(n,t,e,i){const s=i.get(jV,!1)||e===Ho.ShadowDom,o=n.selectRootElement(t,s);return function Wte(n){eB(n)}(o),o}(T,i,this.componentDef.encapsulation,o):ax(T,M,function yne(n){const t=n.toLowerCase();return"svg"===t?jl:"math"===t?"math":null}(M)),re=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ee=null;null!==F&&(ee=dS(F,o,!0));const ae=CS(0,null,null,1,0,null,null,null,null,null,null),ge=Sx(null,ae,null,re,null,null,w,T,o,null,ee);let Te,qe;q_(ge);try{const ht=this.componentDef;let ut,Dt=null;ht.findHostDirectiveDefs?(ut=[],Dt=new Map,ht.findHostDirectiveDefs(ht,ut,Dt),ut.push(ht)):ut=[ht];const kt=function xne(n,t){const e=n[It],i=Un;return n[i]=t,Wp(e,i,2,"#host",null)}(ge,F),gt=function Cne(n,t,e,i,r,s,o){const c=r[It];!function Ene(n,t,e,i){for(const r of n)t.mergedAttrs=Ac(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(kx(t,t.mergedAttrs,!0),null!==e&&tV(i,e,t))}(i,n,t,o);let u=null;null!==t&&(u=dS(t,r[Bl]));const f=s.rendererFactory.createRenderer(t,e);let _=16;e.signals?_=4096:e.onPush&&(_=64);const w=Sx(r,JV(e),null,_,r[n.index],n,s,f,null,null,u);return c.firstCreatePass&&DS(c,n,i.length-1),Ax(r,w),r[n.index]=w}(kt,F,ht,ut,ge,w,T);qe=Sw(ae,Un),F&&function Tne(n,t,e,i){if(i)Wf(n,e,["ng-version",IV.full]);else{const{attrs:r,classes:s}=function v_(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!go(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Wf(n,e,r),s&&s.length>0&&eV(n,e,s.join(" "))}}(T,ht,F,i),void 0!==e&&function Ine(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(qe,this.ngContentSelectors,e),Te=function Dne(n,t,e,i,r,s){const o=Ur(),c=r[It],u=xs(o,r);iB(c,r,o,e,null,i);for(let _=0;_<e.length;_++)Qs(ll(r,c,o.directiveStart+_,o),r);rB(c,r,o),u&&Qs(u,r);const f=ll(r,c,o.directiveStart+o.componentOffset,o);if(n[lr]=r[lr]=f,null!==s)for(const _ of s)_(f,t);return bS(c,o,n),f}(gt,ht,ut,Dt,ge,[Sne]),AS(ae,ge,null)}finally{X_()}return new wne(this.componentType,Te,Bp(qe,ge),ge,qe)}}class wne extends dte{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new vne(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;SS(s[It],s,r,t,e),this.previousInputValues.set(t,e),pv(Fs(this._tNode.index,s))}}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Sne(){const n=Ur();mp(tt()[It],n)}function xn(n){let t=function bB(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(vo(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new l(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=Rx(n.inputs),o.inputTransforms=Rx(n.inputTransforms),o.declaredInputs=Rx(n.declaredInputs),o.outputs=Rx(n.outputs);const c=r.hostBindings;c&&Rne(n,c);const u=r.viewQuery,f=r.contentQueries;if(u&&kne(n,u),f&&Mne(n,f),_i(n.inputs,r.inputs),_i(n.declaredInputs,r.declaredInputs),_i(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),_i(o.inputTransforms,r.inputTransforms)),vo(r)&&r.data.animation){const _=n.data;_.animation=(_.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const c=s[o];c&&c.ngInherit&&c(n),c===xn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function Ane(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ac(r.hostAttrs,e=Ac(e,r.hostAttrs))}}(i)}function Rx(n){return n===po?{}:n===ai?[]:n}function kne(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function Mne(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function Rne(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function EB(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function Ox(n){return!!kS(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function kS(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Zl(n,t,e){return n[t]=e}function wv(n,t){return n[t]}function Js(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function gh(n,t,e,i){const r=Js(n,t,e);return Js(n,t+1,i)||r}function Px(n,t,e,i,r){const s=gh(n,t,e,i);return Js(n,t+2,r)||s}function Va(n,t,e,i,r,s){const o=gh(n,t,e,i);return gh(n,t+2,r,s)||o}function Pt(n,t,e,i){const r=tt();return Js(r,Pd(),t)&&(Zn(),Xl(Zi(),r,n,t,e,i)),Pt}function $p(n,t,e,i){return Js(n,Pd(),e)?t+h(e)+i:wn}function xe(n,t,e,i,r,s,o,c){const u=tt(),f=Zn(),_=n+Un,w=f.firstCreatePass?function nie(n,t,e,i,r,s,o,c,u){const f=t.consts,_=Wp(t,n,4,o||null,Fa(f,c));ES(t,e,_,Fa(f,u)),mp(t,_);const w=_.tView=CS(2,_,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,f,null);return null!==t.queries&&(t.queries.template(t,_),w.queries=t.queries.embeddedTView(_)),_}(_,f,u,t,e,i,r,s,o):f.data[_];jo(w,!1);const T=LB(f,u,w,n);Fd()&&dx(f,u,T,w),Qs(T,u),Ax(u,u[_]=oB(T,u,T,w)),D_(w)&&wS(f,u,w),null!=o&&xS(u,w,c)}let LB=function VB(n,t,e,i){return Wl(!0),t[dn].createComment("")};function zn(n){return kd(function Nw(){return sn.lFrame.contextLView}(),Un+n)}function se(n,t,e){const i=tt();return Js(i,Pd(),t)&&da(Zn(),Zi(),i,n,t,i[dn],e,!1),se}function FS(n,t,e,i,r){const o=r?"class":"style";SS(n,e,t.inputs[o],o,i)}function Q(n,t,e,i){const r=tt(),s=Zn(),o=Un+n,c=r[dn],u=s.firstCreatePass?function oie(n,t,e,i,r,s){const o=t.consts,u=Wp(t,n,2,i,Fa(o,r));return ES(t,e,u,Fa(o,s)),null!==u.attrs&&kx(u,u.attrs,!1),null!==u.mergedAttrs&&kx(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,s,r,t,e,i):s.data[o],f=BB(s,r,u,c,t,n);r[o]=f;const _=D_(u);return jo(u,!0),tV(c,f,u),32!=(32&u.flags)&&Fd()&&dx(s,r,f,u),0===function Mw(){return sn.lFrame.elementDepthCount}()&&Qs(f,r),function Rw(){sn.lFrame.elementDepthCount++}(),_&&(wS(s,r,u),bS(s,u,r)),null!==i&&xS(r,u),Q}function ne(){let n=Ur();W_()?hp():(n=n.parent,jo(n,!1));const t=n;(function U_(n){return sn.skipHydrationRootTNode===n})(t)&&function uI(){sn.skipHydrationRootTNode=null}(),function Ow(){sn.lFrame.elementDepthCount--}();const e=Zn();return e.firstCreatePass&&(mp(e,n),pw(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function wI(n){return 0!=(8&n.flags)}(t)&&FS(e,t,tt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function xI(n){return 0!=(16&n.flags)}(t)&&FS(e,t,tt(),t.stylesWithoutHost,!1),ne}function Qe(n,t,e,i){return Q(n,t,e,i),ne(),Qe}let BB=(n,t,e,i,r,s)=>(Wl(!0),ax(i,r,function Gw(){return sn.lFrame.currentNamespace}()));function Dv(n,t,e){const i=tt(),r=Zn(),s=n+Un,o=r.firstCreatePass?function cie(n,t,e,i,r){const s=t.consts,o=Fa(s,i),c=Wp(t,n,8,"ng-container",o);return null!==o&&kx(c,o,!0),ES(t,e,c,Fa(s,r)),null!==t.queries&&t.queries.elementStart(t,c),c}(s,r,i,t,e):r.data[s];jo(o,!0);const c=zB(r,i,o,n);return i[s]=c,Fd()&&dx(r,i,c,o),Qs(c,i),D_(o)&&(wS(r,i,o),bS(r,o,i)),null!=e&&xS(i,o),Dv}function Tv(){let n=Ur();const t=Zn();return W_()?hp():(n=n.parent,jo(n,!1)),t.firstCreatePass&&(mp(t,n),pw(n)&&t.queries.elementEnd(n)),Tv}function mh(n,t,e){return Dv(n,t,e),Tv(),mh}let zB=(n,t,e,i)=>(Wl(!0),FI(t[dn],""));function On(){return tt()}function Iv(n){return!!n&&"function"==typeof n.then}function HB(n){return!!n&&"function"==typeof n.subscribe}function $e(n,t,e,i){const r=tt(),s=Zn(),o=Ur();return UB(s,r,r[dn],o,n,t,i),$e}function LS(n,t){const e=Ur(),i=tt(),r=Zn();return UB(r,i,dB(Nd(r.data),e,i),e,n,t),LS}function UB(n,t,e,i,r,s,o){const c=D_(i),f=n.firstCreatePass&&cB(n),_=t[lr],w=lB(t);let T=!0;if(3&i.type||o){const V=xs(i,t),U=o?o(V):V,re=w.length,ee=o?ge=>o(Hi(ge[i.index])):i.index;let ae=null;if(!o&&c&&(ae=function hie(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const c=t[xd],u=r[s+2];return c.length>u?c[u]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==ae)(ae.__ngLastListenerFn__||ae).__ngNextListenerFn__=s,ae.__ngLastListenerFn__=s,T=!1;else{s=WB(i,t,_,s,!1);const ge=e.listen(U,r,s);w.push(s,ge),f&&f.push(r,ee,re,re+1)}}else s=WB(i,t,_,s,!1);const M=i.outputs;let F;if(T&&null!==M&&(F=M[r])){const V=F.length;if(V)for(let U=0;U<V;U+=2){const Te=t[F[U]][F[U+1]].subscribe(s),qe=w.length;w.push(s,Te),f&&f.push(r,i.index,qe,-(qe+1))}}}function jB(n,t,e,i){try{return Na(6,t,e),!1!==e(i)}catch(r){return uB(n,r),!1}finally{Na(7,t,e)}}function WB(n,t,e,i,r){return function s(o){if(o===Function)return i;pv(n.componentOffset>-1?Fs(n.index,t):t);let u=jB(t,e,i,o),f=s.__ngNextListenerFn__;for(;f;)u=jB(t,e,f,o)&&u,f=f.__ngNextListenerFn__;return r&&!1===u&&o.preventDefault(),u}}function be(n=1){return function gI(n){return(sn.lFrame.contextLView=function mI(n,t){for(;n>0;)t=t[Hl],n--;return t}(n,sn.lFrame.contextLView))[lr]}(n)}function fie(n,t){let e=null;const i=function aw(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?qf(n,s,!0):m_(i,s))return r}else e=r}return e}function ua(n){const t=tt()[Tr][es];if(!t.projection){const i=t.projection=iv(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?fie(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Qi(n,t=0,e){const i=tt(),r=Zn(),s=Wp(r,Un+n,16,null,e||null);null===s.projection&&(s.projection=t),hp(),(!i[Zs]||Rd())&&32!=(32&s.flags)&&function hee(n,t,e){J2(t[dn],0,t,e,BI(n,e,t),Y2(e.parent||t[es],e,t))}(r,i,s)}function Kl(n,t,e){return Vx(n,"",t,"",e),Kl}function Vx(n,t,e,i,r){const s=tt(),o=$p(s,t,e,i);return o!==wn&&da(Zn(),Zi(),s,n,o,s[dn],r,!1),Vx}function Bx(n,t){return n<<17|t<<2}function Ud(n){return n>>17&32767}function VS(n){return 2|n}function _h(n){return(131068&n)>>2}function BS(n,t){return-131069&n|t<<2}function zS(n){return 1|n}function JB(n,t,e,i,r){const s=n[e+1],o=null===t;let c=i?Ud(s):_h(s),u=!1;for(;0!==c&&(!1===u||o);){const _=n[c+1];yie(n[c],t)&&(u=!0,n[c+1]=i?zS(_):VS(_)),c=i?Ud(_):_h(_)}u&&(n[e+1]=i?VS(s):zS(s))}function yie(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Sp(n,t)>=0}const fs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ez(n){return n.substring(fs.key,fs.keyEnd)}function tz(n,t){const e=fs.textEnd;return e===t?-1:(t=fs.keyEnd=function Cie(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,fs.key=t,e),eg(n,t,e))}function eg(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Es(n,t,e){return cl(n,t,e,!1),Es}function Vt(n,t){return cl(n,t,null,!0),Vt}function xo(n){dl(Rie,Jl,n,!0)}function Jl(n,t){for(let e=function wie(n){return function iz(n){fs.key=0,fs.keyEnd=0,fs.value=0,fs.valueEnd=0,fs.textEnd=n.length}(n),tz(n,eg(n,0,fs.textEnd))}(t);e>=0;e=tz(t,e))aa(n,ez(t),!0)}function cl(n,t,e,i){const r=tt(),s=Zn(),o=al(2);s.firstUpdatePass&&az(s,n,o,i),t!==wn&&Js(r,o,t)&&cz(s,s.data[Ls()],r,r[dn],n,r[o+1]=function Pie(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Gt(la(n)))),n}(t,e),i,o)}function dl(n,t,e,i){const r=Zn(),s=al(2);r.firstUpdatePass&&az(r,null,s,i);const o=tt();if(e!==wn&&Js(o,s,e)){const c=r.data[Ls()];if(uz(c,i)&&!oz(r,s)){let u=i?c.classesWithoutHost:c.stylesWithoutHost;null!==u&&(e=Dr(u,e||"")),FS(r,c,o,e,i)}else!function Oie(n,t,e,i,r,s,o,c){r===wn&&(r=ai);let u=0,f=0,_=0<r.length?r[0]:null,w=0<s.length?s[0]:null;for(;null!==_||null!==w;){const T=u<r.length?r[u+1]:void 0,M=f<s.length?s[f+1]:void 0;let V,F=null;_===w?(u+=2,f+=2,T!==M&&(F=w,V=M)):null===w||null!==_&&_<w?(u+=2,F=_):(f+=2,F=w,V=M),null!==F&&cz(n,t,e,i,F,V,o,c),_=u<r.length?r[u]:null,w=f<s.length?s[f]:null}}(r,c,o,o[dn],o[s+1],o[s+1]=function Mie(n,t,e){if(null==e||""===e)return ai;const i=[],r=la(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function oz(n,t){return t>=n.expandoStartIndex}function az(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Ls()],o=oz(n,e);uz(s,i)&&null===t&&!o&&(t=!1),t=function Iie(n,t,e,i){const r=Nd(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Sv(e=HS(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=HS(r,n,t,e,i),null===s){let u=function Sie(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==_h(i))return n[Ud(i)]}(n,t,i);void 0!==u&&Array.isArray(u)&&(u=HS(null,n,t,u[1],i),u=Sv(u,t.attrs,i),function Aie(n,t,e,i){n[Ud(e?t.classBindings:t.styleBindings)]=i}(n,t,i,u))}else s=function kie(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Sv(i,n[s].hostAttrs,e);return Sv(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function _ie(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,c=Ud(o),u=_h(o);n[i]=e;let _,f=!1;if(Array.isArray(e)?(_=e[1],(null===_||Sp(e,_)>0)&&(f=!0)):_=e,r)if(0!==u){const T=Ud(n[c+1]);n[i+1]=Bx(T,c),0!==T&&(n[T+1]=BS(n[T+1],i)),n[c+1]=function gie(n,t){return 131071&n|t<<17}(n[c+1],i)}else n[i+1]=Bx(c,0),0!==c&&(n[c+1]=BS(n[c+1],i)),c=i;else n[i+1]=Bx(u,0),0===c?c=i:n[u+1]=BS(n[u+1],i),u=i;f&&(n[i+1]=VS(n[i+1])),JB(n,_,i,!0),JB(n,_,i,!1),function vie(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Sp(s,t)>=0&&(e[i+1]=zS(e[i+1]))}(t,_,n,i,s),o=Bx(c,u),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function HS(n,t,e,i,r){let s=null;const o=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<o&&(s=t[c],i=Sv(i,s.hostAttrs,r),s!==n);)c++;return null!==n&&(e.directiveStylingLast=c),i}function Sv(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),aa(n,o,!!e||t[++s]))}return void 0===n?null:n}function Rie(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&aa(n,i,e)}function cz(n,t,e,i,r,s,o,c){if(!(3&t.type))return;const u=n.data,f=u[c+1],_=function mie(n){return 1==(1&n)}(f)?dz(u,t,e,r,_h(f),o):void 0;zx(_)||(zx(s)||function pie(n){return 2==(2&n)}(f)&&(s=dz(u,null,e,r,c,o)),function pee(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:Bd.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Bd.Important),n.setStyle(e,i,r,s))}}(i,o,lp(Ls(),e),r,s))}function dz(n,t,e,i,r,s){const o=null===t;let c;for(;r>0;){const u=n[r],f=Array.isArray(u),_=f?u[1]:u,w=null===_;let T=e[r+1];T===wn&&(T=w?ai:void 0);let M=w?TI(T,i):_===i?T:void 0;if(f&&!zx(M)&&(M=TI(u,i)),zx(M)&&(c=M,o))return c;const F=n[r+1];r=o?Ud(F):_h(F)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(c=TI(u,i))}return c}function zx(n){return void 0!==n}function uz(n,t){return 0!=(n.flags&(t?8:16))}function Se(n,t=""){const e=tt(),i=Zn(),r=n+Un,s=i.firstCreatePass?Wp(i,r,1,t,null):i.data[r],o=hz(i,e,s,t,n);e[r]=o,Fd()&&dx(i,e,o,s),jo(s,!1)}let hz=(n,t,e,i,r)=>(Wl(!0),function ox(n,t){return n.createText(t)}(t[dn],i));function on(n){return Cn("",n,""),on}function Cn(n,t,e){const i=tt(),r=$p(i,n,t,e);return r!==wn&&Wc(i,Ls(),r),Cn}function Hx(n,t,e,i,r){const s=tt(),o=function Yp(n,t,e,i,r,s){const c=gh(n,sa(),e,r);return al(2),c?t+h(e)+i+h(r)+s:wn}(s,n,t,e,i,r);return o!==wn&&Wc(s,Ls(),o),Hx}function US(n,t,e,i,r,s,o){const c=tt(),u=function qp(n,t,e,i,r,s,o,c){const f=Px(n,sa(),e,r,o);return al(3),f?t+h(e)+i+h(r)+s+h(o)+c:wn}(c,n,t,e,i,r,s,o);return u!==wn&&Wc(c,Ls(),u),US}function eo(n,t,e){const i=tt();return Js(i,Pd(),t)&&da(Zn(),Zi(),i,n,t,i[dn],e,!0),eo}function Ux(n,t,e){const i=tt();if(Js(i,Pd(),t)){const s=Zn(),o=Zi();da(s,o,i,n,t,dB(Nd(s.data),o,i),e,!0)}return Ux}const vh=void 0;var tre=["en",[["a","p"],["AM","PM"],vh],[["AM","PM"],vh,vh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vh,"{1} 'at' {0}",vh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ere(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let tg={};function Co(n){const t=function ire(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=kz(t);if(e)return e;const i=t.split("-")[0];if(e=kz(i),e)return e;if("en"===i)return tre;throw new l(701,!1)}function kz(n){return n in tg||(tg[n]=Ii.ng&&Ii.ng.common&&Ii.ng.common.locales&&Ii.ng.common.locales[n]),tg[n]}var Ji=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ji||{});const ng="en-US";let Mz=ng;function GS(n,t,e,i,r){if(n=ve(n),Array.isArray(n))for(let s=0;s<n.length;s++)GS(n[s],t,e,i,r);else{const s=Zn(),o=tt(),c=Ur();let u=ph(n)?n:ve(n.provide);const f=bV(n),_=1048575&c.providerIndexes,w=c.directiveStart,T=c.providerIndexes>>20;if(ph(n)||!n.multi){const M=new Gl(f,r,H),F=YS(u,t,r?_:_+T,w);-1===F?(Ld(Xt(c,o),s,u),$S(s,n,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(M),o.push(M)):(e[F]=M,o[F]=M)}else{const M=YS(u,t,_+T,w),F=YS(u,t,_,_+T),U=F>=0&&e[F];if(r&&!U||!r&&!(M>=0&&e[M])){Ld(Xt(c,o),s,u);const re=function ese(n,t,e,i,r){const s=new Gl(n,e,H);return s.multi=[],s.index=t,s.componentProviders=0,nH(s,r,i&&!e),s}(r?Jre:Qre,e.length,r,i,f);!r&&U&&(e[F].providerFactory=re),$S(s,n,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(re),o.push(re)}else $S(s,n,M>-1?M:F,nH(e[r?F:M],f,!r&&i));!r&&i&&U&&e[F].componentProviders++}}}function $S(n,t,e,i){const r=ph(t),s=function Yee(n){return!!n.useClass}(t);if(r||s){const u=(s?ve(t.useClass):t).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const _=f.indexOf(e);-1===_?f.push(e,[i,u]):f[_+1].push(i,u)}else f.push(e,u)}}}function nH(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function YS(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function Qre(n,t,e,i){return qS(this.multi,[])}function Jre(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,c=ll(e,e[It],this.providerFactory.index,i);s=c.slice(0,o),qS(r,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],qS(r,s);return s}function qS(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function li(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Kre(n,t,e){const i=Zn();if(i.firstCreatePass){const r=vo(n);GS(e,i.data,i.blueprint,r,!0),GS(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class yh{}class iH{}class XS extends yh{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vB(this);const r=Ns(t);this._bootstrapComponents=jc(r.bootstrap),this._r3Injector=RV(t,e,[{provide:yh,useValue:this},{provide:zd,useValue:this.componentFactoryResolver},...i],Gt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ZS extends iH{constructor(t){super(),this.moduleType=t}create(t){return new XS(this.moduleType,t,[])}}class rH extends yh{constructor(t){super(),this.componentFactoryResolver=new vB(this),this.instance=null;const e=new Np([...t.providers,{provide:yh,useValue:this},{provide:zd,useValue:this.componentFactoryResolver}],t.parent||vx(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function KS(n,t,e=null){return new rH({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let ise=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=mV(0,e.type),r=i.length>0?KS([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=le({token:n,providedIn:"environment",factory:()=>new n(ue(bo))})}return n})();function Eo(n){n.getStandaloneInjector=t=>t.get(ise).getOrCreateStandaloneInjector(n)}function Do(n,t,e){const i=Cs()+n,r=tt();return r[i]===wn?Zl(r,i,e?t.call(e):t()):wv(r,i)}function ul(n,t,e,i){return pH(tt(),Cs(),n,t,e,i)}function Wr(n,t,e,i,r){return gH(tt(),Cs(),n,t,e,i,r)}function ig(n,t,e,i,r,s){return mH(tt(),Cs(),n,t,e,i,r,s)}function uH(n,t,e,i,r,s,o){return function _H(n,t,e,i,r,s,o,c,u){const f=t+e;return Va(n,f,r,s,o,c)?Zl(n,f+4,u?i.call(u,r,s,o,c):i(r,s,o,c)):Nv(n,f+4)}(tt(),Cs(),n,t,e,i,r,s,o)}function JS(n,t,e,i,r,s,o,c){const u=Cs()+n,f=tt(),_=Va(f,u,e,i,r,s);return Js(f,u+4,o)||_?Zl(f,u+5,c?t.call(c,e,i,r,s,o):t(e,i,r,s,o)):wv(f,u+5)}function eA(n,t,e,i){return function vH(n,t,e,i,r,s){let o=t+e,c=!1;for(let u=0;u<r.length;u++)Js(n,o++,r[u])&&(c=!0);return c?Zl(n,o,i.apply(s,r)):Nv(n,o)}(tt(),Cs(),n,t,e,i)}function Nv(n,t){const e=n[t];return e===wn?void 0:e}function pH(n,t,e,i,r,s){const o=t+e;return Js(n,o,r)?Zl(n,o+1,s?i.call(s,r):i(r)):Nv(n,o+1)}function gH(n,t,e,i,r,s,o){const c=t+e;return gh(n,c,r,s)?Zl(n,c+2,o?i.call(o,r,s):i(r,s)):Nv(n,c+2)}function mH(n,t,e,i,r,s,o,c){const u=t+e;return Px(n,u,r,s,o)?Zl(n,u+3,c?i.call(c,r,s,o):i(r,s,o)):Nv(n,u+3)}function Nt(n,t){const e=Zn();let i;const r=n+Un;e.firstCreatePass?(i=function fse(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Pc(i.type)),c=hi(H);try{const u=k(!1),f=s();return k(u),function sie(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,tt(),r,f),f}finally{hi(c)}}function mn(n,t,e){const i=n+Un,r=tt(),s=kd(r,i);return Fv(r,i)?pH(r,Cs(),t,s.transform,e,s):s.transform(e)}function To(n,t,e,i){const r=n+Un,s=tt(),o=kd(s,r);return Fv(s,r)?gH(s,Cs(),t,o.transform,e,i,o):o.transform(e,i)}function hl(n,t,e,i,r){const s=n+Un,o=tt(),c=kd(o,s);return Fv(o,s)?mH(o,Cs(),t,c.transform,e,i,r,c):c.transform(e,i,r)}function Fv(n,t){return n[It].data[t].pure}function mse(){return this._results[Symbol.iterator]()}class Lv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Le)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Lv.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=mse)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function La(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function _J(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function vse(n,t,e,i=!0){const r=t[It];if(function oee(n,t,e,i){const r=ds+i,s=e.length;i>0&&(e[r-1][mo]=t),i<s-ds?(t[mo]=e[r],v2(e,ds+i,t)):(e.push(t),t[mo]=null),t[Xi]=e;const o=t[Rc];null!==o&&e!==o&&function aee(n,t){const e=n[ih];t[Tr]!==t[Xi][Xi][Tr]&&(n[fw]=!0),null===e?n[ih]=[t]:e.push(t)}(o,t);const c=t[Pa];null!==c&&c.insertView(n),t[gn]|=128}(r,t,n,e),i){const s=HI(e,n),o=t[dn],c=cx(o,n[sl]);null!==c&&function iee(n,t,e,i,r,s){i[mr]=r,i[es]=t,lv(n,i,e,1,r,s)}(r,n[es],o,t,c,s)}}let er=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=wse}return n})();const yse=er,bse=class extends yse{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function _se(n,t,e,i){const r=t.tView,c=Sx(n,r,e,4096&n[gn]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);c[Rc]=n[t.index];const f=n[Pa];return null!==f&&(c[Pa]=f.createEmbeddedView(r)),AS(r,c,e),c}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new vv(r)}};function wse(){return Yx(Ur(),tt())}function Yx(n,t){return 4&n.type?new bse(t,n,Bp(n,t)):null}let Ds=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Ise}return n})();function Ise(){return DH(Ur(),tt())}const Sse=Ds,CH=class extends Sse{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Bp(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){const t=oa(this._hostTNode,this._hostLView);if(J_(t)){const e=y(t,this._hostLView),i=vp(t);return new yo(e[It].data[i+8],e)}return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=EH(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ds}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const c=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(c,r,false),c}createComponent(t,e,i,r,s){const o=t&&!function nv(n){return"function"==typeof n}(t);let c;if(o)c=e;else{const V=e||{};c=V.index,i=V.injector,r=V.projectableNodes,s=V.environmentInjector||V.ngModuleRef}const u=o?t:new yv(Xn(t)),f=i||this.parentInjector;if(!s&&null==u.ngModule){const U=(o?f:this.parentInjector).get(bo,null);U&&(s=U)}Xn(u.componentType??{});const M=u.create(f,r,null,s);return this.insertImpl(M.hostView,c,false),M}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function aI(n){return Ks(n[Xi])}(r)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const f=r[Xi],_=new CH(f,f[es],f[Xi]);_.detach(_.indexOf(t))}}const o=this._adjustIndex(e),c=this._lContainer;return vse(c,r,o,!i),t.attachToViewContainerRef(),v2(tA(c),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=EH(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=lx(this._lContainer,e);i&&(Qw(tA(this._lContainer),e),LI(i[It],i))}detach(t){const e=this._adjustIndex(t,-1),i=lx(this._lContainer,e);return i&&null!=Qw(tA(this._lContainer),e)?new vv(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function EH(n){return n[8]}function tA(n){return n[8]||(n[8]=[])}function DH(n,t){let e;const i=t[n.index];return Ks(i)?e=i:(e=oB(i,t,null,n),t[n.index]=e,Ax(t,e)),TH(e,t,n,i),new CH(e,n,t)}let TH=function IH(n,t,e,i){if(n[sl])return;let r;r=8&e.type?Hi(i):function Ase(n,t){const e=n[dn],i=e.createComment(""),r=xs(t,n);return uh(e,cx(e,r),i,function uee(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[sl]=r};class nA{constructor(t){this.queryList=t,this.matches=null}clone(){return new nA(this.queryList)}setDirty(){this.queryList.setDirty()}}class iA{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new iA(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==RH(t,e).matches&&this.queries[e].setDirty()}}class SH{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class rA{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new rA(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class sA{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new sA(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,Rse(e,s)),this.matchTNodeWithReadOption(t,e,lh(e,t,s,!1,!1))}else i===er?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,lh(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ht||r===Ds||r===er&&4&e.type)this.addMatch(e.index,-2);else{const s=lh(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Rse(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Pse(n,t,e,i){return-1===e?function Ose(n,t){return 11&n.type?Bp(n,t):4&n.type?Yx(n,t):null}(t,n):-2===e?function Nse(n,t,e){return e===Ht?Bp(t,n):e===er?Yx(t,n):e===Ds?DH(t,n):void 0}(n,t,i):ll(n,n[It],e,t)}function AH(n,t,e,i){const r=t[Pa].queries[i];if(null===r.matches){const s=n.data,o=e.matches,c=[];for(let u=0;u<o.length;u+=2){const f=o[u];c.push(f<0?null:Pse(t,s[f],o[u+1],e.metadata.read))}r.matches=c}return r.matches}function oA(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=AH(n,t,r,e);for(let c=0;c<s.length;c+=2){const u=s[c];if(u>0)i.push(o[c/2]);else{const f=s[c+1],_=t[-u];for(let w=ds;w<_.length;w++){const T=_[w];T[Rc]===T[Xi]&&oA(T[It],T,f,i)}if(null!==_[ih]){const w=_[ih];for(let T=0;T<w.length;T++){const M=w[T];oA(M[It],M,f,i)}}}}}return i}function Ut(n){const t=tt(),e=Zn(),i=zw();Y_(i+1);const r=RH(e,i);if(n.dirty&&function oI(n){return 4==(4&n[gn])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?oA(e,t,i,[]):AH(e,t,r,i);n.reset(s,pte),n.notifyOnChanges()}return!0}return!1}function Si(n,t,e){const i=Zn();i.firstCreatePass&&(MH(i,new SH(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),kH(i,tt(),t)}function si(n,t,e,i){const r=Zn();if(r.firstCreatePass){const s=Ur();MH(r,new SH(t,e,i),s.index),function Lse(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}kH(r,tt(),e)}function jt(){return function Fse(n,t){return n[Pa].queries[t].queryList}(tt(),zw())}function kH(n,t,e){const i=new Lv(4==(4&e));(function Yte(n,t,e,i){const r=lB(t);r.push(e),n.firstCreatePass&&cB(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[Pa]&&(t[Pa]=new iA),t[Pa].queries.push(new nA(i))}function MH(n,t,e){null===n.queries&&(n.queries=new rA),n.queries.track(new sA(t,e))}function RH(n,t){return n.queries.getByIndex(t)}function Wi(n,t){return Yx(n,t)}const hA=new ze("Application Initializer");let fA=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=We(hA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(Iv(s))e.push(s);else if(HB(s)){const o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XH=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const to=new ze("LocaleId",{providedIn:"root",factory:()=>We(to,pn.Optional|pn.SkipSelf)||function roe(){return typeof $localize<"u"&&$localize.locale||ng}()});let Zx=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new W(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class aoe{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let ZH=(()=>{class n{compileModuleSync(e){return new ZS(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=jc(Ns(e).declarations).reduce((o,c)=>{const u=Xn(c);return u&&o.push(new yv(u)),o},[]);return new aoe(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const eU=new ze(""),Qx=new ze("");let vA,mA=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vA||(function Aoe(n){vA=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ct.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(ue(ct),ue(_A),ue(Qx))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),_A=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return vA?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),jd=null;const tU=new ze("AllowMultipleToken"),yA=new ze("PlatformDestroyListeners"),bA=new ze("appBootstrapListener");class iU{constructor(t,e){this.name=t,this.token=e}}function sU(n,t,e=[]){const i=`Platform: ${t}`,r=new ze(i);return(s=[])=>{let o=wA();if(!o||o.injector.get(tU,!1)){const c=[...e,...s,{provide:r,useValue:!0}];n?n(c):function Roe(n){if(jd&&!jd.get(tU,!1))throw new l(400,!1);(function nU(){!function sp(n){ww=n}(()=>{throw new l(600,!1)})})(),jd=n;const t=n.get(aU);(function rU(n){n.get(wV,null)?.forEach(e=>e())})(n)}(function oU(n=[],t){return Ir.create({name:t,providers:[{provide:QI,useValue:"platform"},{provide:yA,useValue:new Set([()=>jd=null])},...n]})}(c,i))}return function Poe(n){const t=wA();if(!t)throw new l(401,!1);return t}()}}function wA(){return jd?.get(aU)??null}let aU=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function Noe(n="zone.js",t){return"noop"===n?new Ate:"zone.js"===n?new ct(t):n}(i?.ngZone,function lU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function nse(n,t,e){return new XS(n,t,e)}(e.moduleType,this.injector,function fU(n){return[{provide:ct,useFactory:n},{provide:uv,multi:!0,useFactory:()=>{const t=We(Loe,{optional:!0});return()=>t.initialize()}},{provide:hU,useFactory:Foe},{provide:LV,useFactory:VV}]}(()=>r)),o=s.injector.get(Uc,null);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Jx(this._modules,s),c.unsubscribe()})}),function cU(n,t,e){try{const i=e();return Iv(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const c=s.injector.get(fA);return c.runInitializers(),c.donePromise.then(()=>(function Rz(n){Z(n,"Expected localeId to be defined"),"string"==typeof n&&(Mz=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(to,ng)||ng),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=dU({},i);return function koe(n,t,e){const i=new ZS(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Ba);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new l(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new l(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(yA,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(ue(Ir))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function dU(n,t){return Array.isArray(t)?t.reduce(dU,n):{...n,...t}}let Ba=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=We(hU),this.zoneIsStable=We(LV),this.componentTypes=[],this.components=[],this.isStable=We(Zx).hasPendingTasks.pipe(vt(e=>e?de(!1):this.zoneIsStable),en(),Be()),this._injector=We(bo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof DV;if(!this._injector.get(fA).done)throw!r&&function kc(n){const t=Xn(n)||ls(n)||cs(n);return null!==t&&t.standalone}(e),new l(405,!1);let o;o=r?e:this._injector.get(zd).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const c=function Moe(n){return n.isBoundToModule}(o)?void 0:this._injector.get(yh),f=o.create(Ir.NULL,[],i||o.selector,c),_=f.location.nativeElement,w=f.injector.get(eU,null);return w?.registerApplication(_),f.onDestroy(()=>{this.detachView(f.hostView),Jx(this.components,f),w?.unregisterApplication(_)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new l(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Jx(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(bA,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Jx(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new l(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jx(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const hU=new ze("",{providedIn:"root",factory:()=>We(Uc).handleError.bind(void 0)});function Foe(){const n=We(ct),t=We(Uc);return e=>n.runOutsideAngular(()=>t.handleError(e))}let Loe=(()=>{class n{constructor(){this.zone=We(ct),this.applicationRef=We(Ba)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let cr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Boe}return n})();function Boe(n){return function zoe(n,t,e){if(Td(n)&&!e){const i=Fs(n.index,t);return new vv(i,i)}return 47&n.type?new vv(t[Tr],t):null}(Ur(),tt(),16==(16&n))}class _U{constructor(){}supports(t){return Ox(t)}create(t){return new $oe(t)}}const Goe=(n,t)=>t;class $oe{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Goe}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<yU(i,r,s)?e:i,c=yU(o,r,s),u=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const f=c-r,_=u-r;if(f!=_){for(let T=0;T<f;T++){const M=T<s.length?s[T]:s[T]=0,F=M+T;_<=F&&F<f&&(s[T]=M+1)}s[o.previousIndex]=_-f}}c!==u&&t(o,c,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ox(t))throw new l(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)s=t[c],o=this._trackByFn(c,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,c)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,c),i=!0),e=e._next}else r=0,function Vne(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,c=>{o=this._trackByFn(r,c),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,c,o,r)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new Yoe(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new vU),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vU),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Yoe{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qoe{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class vU{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new qoe,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yU(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class bU{constructor(){}supports(t){return t instanceof Map||kS(t)}create(){return new Xoe}}class Xoe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||kS(t)))throw new l(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new Zoe(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Zoe{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wU(){return new nC([new _U])}let nC=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:wU});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||wU()),deps:[[n,new dh,new Vd]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new l(901,!1)}}return n})();function xU(){return new zv([new bU])}let zv=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:xU});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||xU()),deps:[[n,new dh,new Vd]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new l(901,!1)}}return n})();const Joe=sU(null,"core",[]);let eae=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(ue(Ba))};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})();function og(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function SA(n,t){const e=Xn(n),i=t.elementInjector||vx();return new yv(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let AA=null;function Wd(){return AA}class pae{}const an=new ze("DocumentToken");let kA=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return We(mae)},providedIn:"platform"})}return n})();const gae=new ze("Location Initialized");let mae=(()=>{class n extends kA{constructor(){super(),this._doc=We(an),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wd().getBaseHref(this._doc)}onPopState(e){const i=Wd().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Wd().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function MA(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function MU(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Gc(n){return n&&"?"!==n[0]?"?"+n:n}let wh=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return We(OU)},providedIn:"root"})}return n})();const RU=new ze("appBaseHref");let OU=(()=>{class n extends wh{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??We(an).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return MA(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Gc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+Gc(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+Gc(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(kA),ue(RU,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_ae=(()=>{class n extends wh{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=MA(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+Gc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+Gc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(kA),ue(RU,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),rC=(()=>{class n{constructor(e){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function bae(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(MU(PU(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Gc(i))}normalize(e){return n.stripTrailingSlash(function yae(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,PU(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Gc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Gc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Gc;static#t=this.joinWithSlash=MA;static#n=this.stripTrailingSlash=MU;static#i=this.\u0275fac=function(i){return new(i||n)(ue(wh))};static#r=this.\u0275prov=le({token:n,factory:function(){return function vae(){return new rC(ue(wh))}()},providedIn:"root"})}return n})();function PU(n){return n.replace(/\/index.html$/,"")}var ag=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}(ag||{}),Ts=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ts||{}),fi=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(fi||{}),ha=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ha||{}),Gr=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Gr||{});function oC(n,t){return Ha(Co(n)[Ji.DateFormat],t)}function aC(n,t){return Ha(Co(n)[Ji.TimeFormat],t)}function lC(n,t){return Ha(Co(n)[Ji.DateTimeFormat],t)}function za(n,t){const e=Co(n),i=e[Ji.NumberSymbols][t];if(typeof i>"u"){if(t===Gr.CurrencyDecimal)return e[Ji.NumberSymbols][Gr.Decimal];if(t===Gr.CurrencyGroup)return e[Ji.NumberSymbols][Gr.Group]}return i}const Tae=function Az(n){return Co(n)[Ji.PluralCase]};function LU(n){if(!n[Ji.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ji.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ha(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function PA(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Rae=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hv={},Oae=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $c=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}($c||{}),xi=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(xi||{}),Ci=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ci||{});function ts(n,t,e,i){let r=function Uae(n){if(zU(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(c=>+c);return cC(r,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Rae))return function jae(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,c=Number(n[5]||0)-i,u=Number(n[6]||0),f=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,c,u,f),t}(i)}const t=new Date(n);if(!zU(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Yc(e,t)||t;let c,o=[];for(;t;){if(c=Oae.exec(t),!c){o.push(t);break}{o=o.concat(c.slice(1));const _=o.pop();if(!_)break;t=_}}let u=r.getTimezoneOffset();i&&(u=BU(i,u),r=function Hae(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function zae(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(BU(t,r)-r))}(r,i,!0));let f="";return o.forEach(_=>{const w=function Bae(n){if(FA[n])return FA[n];let t;switch(n){case"G":case"GG":case"GGG":t=tr(Ci.Eras,fi.Abbreviated);break;case"GGGG":t=tr(Ci.Eras,fi.Wide);break;case"GGGGG":t=tr(Ci.Eras,fi.Narrow);break;case"y":t=ns(xi.FullYear,1,0,!1,!0);break;case"yy":t=ns(xi.FullYear,2,0,!0,!0);break;case"yyy":t=ns(xi.FullYear,3,0,!1,!0);break;case"yyyy":t=ns(xi.FullYear,4,0,!1,!0);break;case"Y":t=fC(1);break;case"YY":t=fC(2,!0);break;case"YYY":t=fC(3);break;case"YYYY":t=fC(4);break;case"M":case"L":t=ns(xi.Month,1,1);break;case"MM":case"LL":t=ns(xi.Month,2,1);break;case"MMM":t=tr(Ci.Months,fi.Abbreviated);break;case"MMMM":t=tr(Ci.Months,fi.Wide);break;case"MMMMM":t=tr(Ci.Months,fi.Narrow);break;case"LLL":t=tr(Ci.Months,fi.Abbreviated,Ts.Standalone);break;case"LLLL":t=tr(Ci.Months,fi.Wide,Ts.Standalone);break;case"LLLLL":t=tr(Ci.Months,fi.Narrow,Ts.Standalone);break;case"w":t=NA(1);break;case"ww":t=NA(2);break;case"W":t=NA(1,!0);break;case"d":t=ns(xi.Date,1);break;case"dd":t=ns(xi.Date,2);break;case"c":case"cc":t=ns(xi.Day,1);break;case"ccc":t=tr(Ci.Days,fi.Abbreviated,Ts.Standalone);break;case"cccc":t=tr(Ci.Days,fi.Wide,Ts.Standalone);break;case"ccccc":t=tr(Ci.Days,fi.Narrow,Ts.Standalone);break;case"cccccc":t=tr(Ci.Days,fi.Short,Ts.Standalone);break;case"E":case"EE":case"EEE":t=tr(Ci.Days,fi.Abbreviated);break;case"EEEE":t=tr(Ci.Days,fi.Wide);break;case"EEEEE":t=tr(Ci.Days,fi.Narrow);break;case"EEEEEE":t=tr(Ci.Days,fi.Short);break;case"a":case"aa":case"aaa":t=tr(Ci.DayPeriods,fi.Abbreviated);break;case"aaaa":t=tr(Ci.DayPeriods,fi.Wide);break;case"aaaaa":t=tr(Ci.DayPeriods,fi.Narrow);break;case"b":case"bb":case"bbb":t=tr(Ci.DayPeriods,fi.Abbreviated,Ts.Standalone,!0);break;case"bbbb":t=tr(Ci.DayPeriods,fi.Wide,Ts.Standalone,!0);break;case"bbbbb":t=tr(Ci.DayPeriods,fi.Narrow,Ts.Standalone,!0);break;case"B":case"BB":case"BBB":t=tr(Ci.DayPeriods,fi.Abbreviated,Ts.Format,!0);break;case"BBBB":t=tr(Ci.DayPeriods,fi.Wide,Ts.Format,!0);break;case"BBBBB":t=tr(Ci.DayPeriods,fi.Narrow,Ts.Format,!0);break;case"h":t=ns(xi.Hours,1,-12);break;case"hh":t=ns(xi.Hours,2,-12);break;case"H":t=ns(xi.Hours,1);break;case"HH":t=ns(xi.Hours,2);break;case"m":t=ns(xi.Minutes,1);break;case"mm":t=ns(xi.Minutes,2);break;case"s":t=ns(xi.Seconds,1);break;case"ss":t=ns(xi.Seconds,2);break;case"S":t=ns(xi.FractionalSeconds,1);break;case"SS":t=ns(xi.FractionalSeconds,2);break;case"SSS":t=ns(xi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=uC($c.Short);break;case"ZZZZZ":t=uC($c.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=uC($c.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=uC($c.Long);break;default:return null}return FA[n]=t,t}(_);f+=w?w(r,e,u):"''"===_?"'":_.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function cC(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Yc(n,t){const e=function xae(n){return Co(n)[Ji.LocaleId]}(n);if(Hv[e]=Hv[e]||{},Hv[e][t])return Hv[e][t];let i="";switch(t){case"shortDate":i=oC(n,ha.Short);break;case"mediumDate":i=oC(n,ha.Medium);break;case"longDate":i=oC(n,ha.Long);break;case"fullDate":i=oC(n,ha.Full);break;case"shortTime":i=aC(n,ha.Short);break;case"mediumTime":i=aC(n,ha.Medium);break;case"longTime":i=aC(n,ha.Long);break;case"fullTime":i=aC(n,ha.Full);break;case"short":const r=Yc(n,"shortTime"),s=Yc(n,"shortDate");i=dC(lC(n,ha.Short),[r,s]);break;case"medium":const o=Yc(n,"mediumTime"),c=Yc(n,"mediumDate");i=dC(lC(n,ha.Medium),[o,c]);break;case"long":const u=Yc(n,"longTime"),f=Yc(n,"longDate");i=dC(lC(n,ha.Long),[u,f]);break;case"full":const _=Yc(n,"fullTime"),w=Yc(n,"fullDate");i=dC(lC(n,ha.Full),[_,w])}return i&&(Hv[e][t]=i),i}function dC(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function fl(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o}function ns(n,t,e=0,i=!1,r=!1){return function(s,o){let c=function Nae(n,t){switch(n){case xi.FullYear:return t.getFullYear();case xi.Month:return t.getMonth();case xi.Date:return t.getDate();case xi.Hours:return t.getHours();case xi.Minutes:return t.getMinutes();case xi.Seconds:return t.getSeconds();case xi.FractionalSeconds:return t.getMilliseconds();case xi.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||c>-e)&&(c+=e),n===xi.Hours)0===c&&-12===e&&(c=12);else if(n===xi.FractionalSeconds)return function Pae(n,t){return fl(n,3).substring(0,t)}(c,t);const u=za(o,Gr.MinusSign);return fl(c,t,u,i,r)}}function tr(n,t,e=Ts.Format,i=!1){return function(r,s){return function Fae(n,t,e,i,r,s){switch(e){case Ci.Months:return function RA(n,t,e){const i=Co(n),s=Ha([i[Ji.MonthsFormat],i[Ji.MonthsStandalone]],t);return Ha(s,e)}(t,r,i)[n.getMonth()];case Ci.Days:return function FU(n,t,e){const i=Co(n),s=Ha([i[Ji.DaysFormat],i[Ji.DaysStandalone]],t);return Ha(s,e)}(t,r,i)[n.getDay()];case Ci.DayPeriods:const o=n.getHours(),c=n.getMinutes();if(s){const f=function Iae(n){const t=Co(n);return LU(t),(t[Ji.ExtraData][2]||[]).map(i=>"string"==typeof i?PA(i):[PA(i[0]),PA(i[1])])}(t),_=function Sae(n,t,e){const i=Co(n);LU(i);const s=Ha([i[Ji.ExtraData][0],i[Ji.ExtraData][1]],t)||[];return Ha(s,e)||[]}(t,r,i),w=f.findIndex(T=>{if(Array.isArray(T)){const[M,F]=T,V=o>=M.hours&&c>=M.minutes,U=o<F.hours||o===F.hours&&c<F.minutes;if(M.hours<F.hours){if(V&&U)return!0}else if(V||U)return!0}else if(T.hours===o&&T.minutes===c)return!0;return!1});if(-1!==w)return _[w]}return function Cae(n,t,e){const i=Co(n),s=Ha([i[Ji.DayPeriodsFormat],i[Ji.DayPeriodsStandalone]],t);return Ha(s,e)}(t,r,i)[o<12?0:1];case Ci.Eras:return function Eae(n,t){return Ha(Co(n)[Ji.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function uC(n){return function(t,e,i){const r=-1*i,s=za(e,Gr.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case $c.Short:return(r>=0?"+":"")+fl(o,2,s)+fl(Math.abs(r%60),2,s);case $c.ShortGMT:return"GMT"+(r>=0?"+":"")+fl(o,1,s);case $c.Long:return"GMT"+(r>=0?"+":"")+fl(o,2,s)+":"+fl(Math.abs(r%60),2,s);case $c.Extended:return 0===i?"Z":(r>=0?"+":"")+fl(o,2,s)+":"+fl(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const Lae=0,hC=4;function VU(n){return cC(n.getFullYear(),n.getMonth(),n.getDate()+(hC-n.getDay()))}function NA(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{const s=VU(e),o=function Vae(n){const t=cC(n,Lae,1).getDay();return cC(n,0,1+(t<=hC?hC:hC+7)-t)}(s.getFullYear()),c=s.getTime()-o.getTime();r=1+Math.round(c/6048e5)}return fl(r,n,za(i,Gr.MinusSign))}}function fC(n,t=!1){return function(e,i){return fl(VU(e).getFullYear(),n,za(i,Gr.MinusSign),t)}}const FA={};function BU(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function zU(n){return n instanceof Date&&!isNaN(n.valueOf())}let HA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(i){let r=null;return i?r=new i:(s=ue(to),r=new ele(s)),r;var s},providedIn:"root"})}return n})();let ele=(()=>{class n extends HA{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Tae(i||this.locale)(e)){case ag.Zero:return"zero";case ag.One:return"one";case ag.Two:return"two";case ag.Few:return"few";case ag.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(i){return new(i||n)(ue(to))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function WU(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const UA=/\s+/,GU=[];let fa=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=GU,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(UA):GU}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(UA):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(UA).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(H(nC),H(zv),H(Ht),H(jr))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class ile{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Or=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ile(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,o),YU(c,r)}});for(let r=0,s=i.length;r<s;r++){const c=i.get(r).context;c.index=r,c.count=s,c.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{YU(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ds),H(er),H(nC))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function YU(n,t){n.context.$implicit=t.item}let dr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new rle,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){qU("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){qU("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ds),H(er))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class rle{constructor(){this.$implicit=null,this.ngIf=null}}function qU(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Gt(t)}'.`)}class jA{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let xh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ue({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),jv=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new jA(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ds),H(er),H(xh,9))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),XU=(()=>{class n{constructor(e,i,r){r._addDefault(new jA(e,i))}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ds),H(er),H(xh,9))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return n})(),Wv=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:Bd.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(zv),H(jr))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),ps=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ds))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[An]})}return n})();function pl(n,t){return new l(2100,!1)}class ole{createSubscription(t,e){return P_(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){P_(()=>t.unsubscribe())}}class ale{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const lle=new ale,cle=new ole;let WA=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Iv(e))return lle;if(HB(e))return cle;throw pl()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(H(cr,16))};static#t=this.\u0275pipe=Jr({name:"async",type:n,pure:!1,standalone:!0})}return n})();const gle=new ze("DATE_PIPE_DEFAULT_TIMEZONE"),mle=new ze("DATE_PIPE_DEFAULT_OPTIONS");let lg=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return ts(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw pl()}}static#e=this.\u0275fac=function(i){return new(i||n)(H(to,16),H(gle,24),H(mle,24))};static#t=this.\u0275pipe=Jr({name:"date",type:n,pure:!0,standalone:!0})}return n})();const _le=/#/g;let GA=(()=>{class n{constructor(e){this._localization=e}transform(e,i,r){if(null==e)return"";if("object"!=typeof i||null===i)throw pl();return i[function jU(n,t,e,i){let r=`=${n}`;if(t.indexOf(r)>-1||(r=e.getPluralCategory(n,i),t.indexOf(r)>-1))return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(e,Object.keys(i),this._localization,r)].replace(_le,e.toString())}static#e=this.\u0275fac=function(i){return new(i||n)(H(HA,16))};static#t=this.\u0275pipe=Jr({name:"i18nPlural",type:n,pure:!0,standalone:!0})}return n})(),QU=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw pl();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Jr({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),gl=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})();const JU="browser";function qA(n){return n===JU}function gC(n){return"server"===n}let Sle=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new Ale(ue(an),window)})}return n})();class Ale{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function kle(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class e3{}class Jle extends pae{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class KA extends Jle{static makeCurrent(){!function fae(n){AA||(AA=n)}(new KA)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ece(){return $v=$v||document.querySelector("base"),$v?$v.getAttribute("href"):null}();return null==e?null:function tce(n){vC=vC||document.createElement("a"),vC.setAttribute("href",n);const t=vC.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){$v=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return WU(document.cookie,t)}}let vC,$v=null,ice=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const QA=new ze("EventManagerPlugins");let s3=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new l(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(ue(QA),ue(ct))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class o3{constructor(t){this._doc=t}}const JA="ng-app-id";let a3=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gC(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${JA}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(JA),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(JA,this.appId),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(an),ue(yx),ue(nS,8),ue(wo))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const ek={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tk=/%COMP%/g,ace=new ze("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function c3(n,t){return t.map(e=>e.replace(tk,n))}let nk=(()=>{class n{constructor(e,i,r,s,o,c,u,f=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=gC(c),this.defaultRenderer=new ik(e,o,u,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ho.ShadowDom&&(i={...i,encapsulation:Ho.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof u3?r.applyToHost(e):r instanceof rk&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,c=this.ngZone,u=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(i.encapsulation){case Ho.Emulated:s=new u3(u,f,i,this.appId,_,o,c,w);break;case Ho.ShadowDom:return new uce(u,f,e,i,o,c,this.nonce,w);default:s=new rk(u,f,i,_,o,c,w)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(ue(s3),ue(a3),ue(yx),ue(ace),ue(an),ue(wo),ue(ct),ue(nS))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class ik{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(ek[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(d3(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(d3(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new l(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=ek[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ek[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Bd.DashCase|Bd.Important)?t.style.setProperty(e,i,r&Bd.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Bd.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Wd().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function d3(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class uce extends ik{constructor(t,e,i,r,s,o,c,u){super(t,s,o,u),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=c3(r.id,r.styles);for(const _ of f){const w=document.createElement("style");c&&w.setAttribute("nonce",c),w.textContent=_,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rk extends ik{constructor(t,e,i,r,s,o,c,u){super(t,s,o,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=u?c3(u,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class u3 extends rk{constructor(t,e,i,r,s,o,c,u){const f=r+"-"+i.id;super(t,e,i,s,o,c,u,f),this.contentAttr=function lce(n){return"_ngcontent-%COMP%".replace(tk,n)}(f),this.hostAttr=function cce(n){return"_nghost-%COMP%".replace(tk,n)}(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let hce=(()=>{class n extends o3{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(an))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const h3=["alt","control","meta","shift"],fce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pce={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let gce=(()=>{class n extends o3{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wd().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),h3.forEach(f=>{const _=i.indexOf(f);_>-1&&(i.splice(_,1),o+=f+".")}),o+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=r,u.fullKey=o,u}static matchEventFullKeyCode(e,i){let r=fce[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),h3.forEach(o=>{o!==r&&(0,pce[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(ue(an))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const p3=[{provide:wo,useValue:JU},{provide:wV,useValue:function mce(){KA.makeCurrent()},multi:!0},{provide:an,useFactory:function vce(){return function yee(n){WI=n}(document),document},deps:[]}],yce=sU(Joe,"browser",p3),bce=new ze(""),g3=[{provide:Qx,useClass:class nce{addToWindow(t){Ii.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new l(5103,!1);return s},Ii.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ii.getAllAngularRootElements=()=>t.getAllRootElements(),Ii.frameworkStabilizers||(Ii.frameworkStabilizers=[]),Ii.frameworkStabilizers.push(i=>{const r=Ii.getAllAngularTestabilities();let s=r.length,o=!1;const c=function(u){o=o||u,s--,0==s&&i(o)};r.forEach(u=>{u.whenStable(c)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Wd().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:eU,useClass:mA,deps:[ct,_A,Qx]},{provide:mA,useClass:mA,deps:[ct,_A,Qx]}],m3=[{provide:QI,useValue:"root"},{provide:Uc,useFactory:function _ce(){return new Uc},deps:[]},{provide:QA,useClass:hce,multi:!0,deps:[an,ct,wo]},{provide:QA,useClass:gce,multi:!0,deps:[an]},nk,a3,s3,{provide:zp,useExisting:nk},{provide:e3,useClass:ice,deps:[]},[]];let _3=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:yx,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(ue(bce,12))};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({providers:[...m3,...g3],imports:[gl,eae]})}return n})(),v3=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(ue(an))};static#t=this.\u0275prov=le({token:n,factory:function(i){let r=null;return r=i?new i:function xce(){return new v3(ue(an))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let w3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(i){let r=null;return r=i?new(i||n):ue(x3),r},providedIn:"root"})}return n})(),x3=(()=>{class n extends w3{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case ca.NONE:return i;case ca.HTML:return $l(i,"HTML")?la(i):uV(this._doc,String(i)).toString();case ca.STYLE:return $l(i,"Style")?la(i):i;case ca.SCRIPT:if($l(i,"Script"))return la(i);throw new l(5200,!1);case ca.URL:return $l(i,"URL")?la(i):px(String(i));case ca.RESOURCE_URL:if($l(i,"ResourceURL"))return la(i);throw new l(5201,!1);default:throw new l(5202,!1)}}bypassSecurityTrustHtml(e){return function Tee(n){return new bee(n)}(e)}bypassSecurityTrustStyle(e){return function Iee(n){return new wee(n)}(e)}bypassSecurityTrustScript(e){return function See(n){return new xee(n)}(e)}bypassSecurityTrustUrl(e){return function Aee(n){return new Cee(n)}(e)}bypassSecurityTrustResourceUrl(e){return function kee(n){return new Eee(n)}(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(an))};static#t=this.\u0275prov=le({token:n,factory:function(i){let r=null;return r=i?new i:function Tce(n){return new x3(n.get(an))}(ue(Ir)),r},providedIn:"root"})}return n})();var Yo=Yt(211);(0,Yo.registerVersion)("firebase","10.5.2","app");class Ace extends He{constructor(t,e){super()}schedule(t,e=0){return this}}const yC={setInterval(n,t,...e){const{delegate:i}=yC;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=yC;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class bC extends Ace{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return yC.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&yC.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,yt(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const ok={now:()=>(ok.delegate||Date).now(),delegate:void 0};class Yv{constructor(t,e=Yv.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Yv.now=ok.now;class wC extends Yv{constructor(t,e=Yv.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Rce=new class Mce extends wC{}(class kce extends bC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),$d=new wC(bC),Oce=$d;function Nr(n,t,e){const i=ie(n)||t||e?{next:n,error:t,complete:e}:n;return i?je((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let c=!0;r.subscribe(ot(s,u=>{var f;null===(f=i.next)||void 0===f||f.call(i,u),s.next(u)},()=>{var u;c=!1,null===(u=i.complete)||void 0===u||u.call(i),s.complete()},u=>{var f;c=!1,null===(f=i.error)||void 0===f||f.call(i,u),s.error(u)},()=>{var u,f;c&&(null===(u=i.unsubscribe)||void 0===u||u.call(i)),null===(f=i.finalize)||void 0===f||f.call(i)}))}):un}const cg=new Hd("ANGULARFIRE2_VERSION");class xC{constructor(){return((n,t)=>{const e=(0,Yo.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i})(Nce)}}const Nce="app-check";function dg(){}class E3{zone;delegate;constructor(t,e=Rce){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class Fce{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dg,{},dg,dg)),e.pipe(Nr({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let CC=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new E3(Zone.current)),this.insideAngular=e.run(()=>new E3(Zone.current,$d)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(ue(ct))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ug(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function D3(n){return n.pipe(Oi(ug().outsideAngular))}function $r(n){return function Vce(n){return function(e){return(e=e.lift(new Fce(n.ngZone))).pipe(Qr(n.outsideAngular),Oi(n.insideAngular))}}(ug())(n)}var pa=Yt(168);pa.Z.registerVersion("firebase","10.5.2","app-compat");const Uce=["ngOnDestroy"];class T3{constructor(t){return t}}const hg=new ze("angularfire2.app.options"),fg=new ze("angularfire2.app.name");function qv(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const o=pa.Z.apps.filter(c=>c&&c.name===r.name)[0]||t.runOutsideAngular(()=>pa.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const c=!!module.hot;Gce("error",`${o.name} Firebase App already initialized with different options${c?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new T3(o)}const Gce=(n,...t)=>{},$ce={provide:T3,useFactory:qv,deps:[hg,ct,[new Vd,fg]]};let Yce=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:hg,useValue:e},{provide:fg,useValue:i}]}}constructor(e){pa.Z.registerVersion("angularfire",cg.full,"core"),pa.Z.registerVersion("angularfire",cg.full,"app-compat"),pa.Z.registerVersion("angular",IV.full,e.toString())}static \u0275fac=function(i){return new(i||n)(ue(wo))};static \u0275mod=At({type:n});static \u0275inj=Ie({providers:[$ce]})}return n})();function EC(n,t,e,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(c=>c[0]===n)||[];if(s)return function qce(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,o)||(I3("error",`${t} was already initialized on the ${e} Firebase App with different settings.${Xce?" You may need to reload as Firebase is not HMR aware.":""}`),I3("warn",{is:r,was:o})),s;{const c=i();return globalThis.\u0275AngularfireInstanceCache.push([n,c,r]),c}}const Xce=typeof module<"u"&&!!module.hot,I3=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Yt(743);class S3 extends fe{constructor(t=1/0,e=1/0,i=ok){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(i.push(t),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=i?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=e.now();let c=0;for(let u=1;u<i.length&&i[u]<=o;u+=2)c=u;c&&i.splice(0,c+1)}}}function DC(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,Be({connector:()=>new S3(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const TC=Ve(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Hn(n,t){return je((e,i)=>{let r=0;e.subscribe(ot(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Kn(n){return n<=0?()=>ti:je((t,e)=>{let i=0;t.subscribe(ot(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function IC(n){return je((t,e)=>{let i=!1;t.subscribe(ot(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function A3(n=Zce){return je((t,e)=>{let i=!1;t.subscribe(ot(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Zce(){return new TC}function Yd(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Hn((r,s)=>n(r,s,i)):un,Kn(1),e?IC(t):A3(()=>new TC))}function ak(n,t){return ie(t)?vt(()=>n,t):vt(()=>n)}const lk=new ze("angularfire2.auth.use-emulator"),ck=new ze("angularfire2.auth.settings"),dk=new ze("angularfire2.auth.tenant-id"),uk=new ze("angularfire2.auth.langugage-code"),hk=new ze("angularfire2.auth.use-device-language"),fk=new ze("angularfire.auth.persistence"),pk=(n,t,e,i,r,s,o,c)=>EC(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const u=t.runOutsideAngular(()=>n.auth());if(e&&u.useEmulator(...e),i&&(u.tenantId=i),u.languageCode=r,s&&u.useDeviceLanguage(),o)for(const[f,_]of Object.entries(o))u.settings[f]=_;return c&&u.setPersistence(c),u},[e,i,r,s,o,c]);let qc=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,s,o,c,u,f,_,w,T,M){const F=new fe,V=de(void 0).pipe(Oi(o.outsideAngular),vt(()=>s.runOutsideAngular(()=>Promise.resolve().then(Yt.bind(Yt,743)))),Ge(()=>qv(e,s,i)),Ge(U=>pk(U,s,c,f,_,w,u,T)),DC({bufferSize:1,refCount:!1}));if(gC(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=de(null);else{V.pipe(Yd()).subscribe();const U=V.pipe(vt(ae=>ae.getRedirectResult().then(ge=>ge,()=>null)),$r,DC({bufferSize:1,refCount:!1})),re=V.pipe(vt(ae=>new zt(ge=>({unsubscribe:s.runOutsideAngular(()=>ae.onAuthStateChanged(Te=>ge.next(Te),Te=>ge.error(Te),()=>ge.complete()))})))),ee=V.pipe(vt(ae=>new zt(ge=>({unsubscribe:s.runOutsideAngular(()=>ae.onIdTokenChanged(Te=>ge.next(Te),Te=>ge.error(Te),()=>ge.complete()))}))));this.authState=U.pipe(ak(re),Qr(o.outsideAngular),Oi(o.insideAngular)),this.user=U.pipe(ak(ee),Qr(o.outsideAngular),Oi(o.insideAngular)),this.idToken=this.user.pipe(vt(ae=>ae?$(ae.getIdToken()):de(null))),this.idTokenResult=this.user.pipe(vt(ae=>ae?$(ae.getIdTokenResult()):de(null))),this.credential=K(U,F,this.authState.pipe(Hn(ae=>!ae))).pipe(Ge(ae=>ae?.user?ae:null),Qr(o.outsideAngular),Oi(o.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,s)=>e.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(Uce.indexOf(s)>-1)return()=>{};const o=t.toPromise().then(c=>{const u=c?.[s];return"function"==typeof u?u.bind(c):u?.then?u.then(f=>e.run(()=>f)):e.run(()=>u)});return new Proxy(()=>{},{get:(c,u)=>o[u],apply:(c,u,f)=>o.then(_=>{const w=_?.(...f);return i?.spy?.apply&&i.spy.apply(s,f,w),w})})})}))(this,V,s,{spy:{apply:(U,re,ee)=>{(U.startsWith("signIn")||U.startsWith("createUser"))&&ee.then(ae=>F.next(ae))}}})}static \u0275fac=function(i){return new(i||n)(ue(hg),ue(fg,8),ue(wo),ue(ct),ue(CC),ue(lk,8),ue(ck,8),ue(dk,8),ue(uk,8),ue(hk,8),ue(fk,8),ue(xC,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Qce=(()=>{class n{constructor(){pa.Z.registerVersion("angularfire",cg.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=At({type:n});static \u0275inj=Ie({providers:[qc]})}return n})();function k3(n,t,e,i,r){return(s,o)=>{let c=e,u=t,f=0;s.subscribe(ot(o,_=>{const w=f++;u=c?n(u,_,w):(c=!0,_),i&&o.next(u)},r&&(()=>{c&&o.next(u),o.complete()})))}}function pg(n,t){return je(k3(n,t,arguments.length>=2,!0))}function SC(...n){const t=bs(n);return je((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),c=!1;for(let u=0;u<r;u++)nt(n[u]).subscribe(ot(i,f=>{s[u]=f,!c&&!o[u]&&(o[u]=!0,(c=o.every(un))&&(o=null))},Rt));e.subscribe(ot(i,u=>{if(c){const f=[u,...s];i.next(t?t(...f):f)}}))})}var ml=Yt(427),Ze=Yt(861),te=Yt(963),ga=Yt(383);const M3="@firebase/database";let gk="";function mk(n){gk=n}class ede{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,te.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,te.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class tde{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,te.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const O3=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ede(t)}}catch{}return new tde},Eh=O3("localStorage"),_k=O3("sessionStorage"),gg=new ga.Yd("@firebase/database"),P3=function(){let n=1;return function(){return n++}}(),N3=function(n){const t=(0,te.dS)(n),e=new te.gQ;e.update(t);const i=e.digest();return te.US.encodeByteArray(i)},Xv=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Xv.apply(null,i):t+="object"==typeof i?(0,te.Wl)(i):i,t+=" "}return t};let Dh=null,F3=!0;const L3=function(n,t){(0,te.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(gg.logLevel=ga.in.VERBOSE,Dh=gg.log.bind(gg),t&&_k.set("logging_enabled",!0)):"function"==typeof n?Dh=n:(Dh=null,_k.remove("logging_enabled"))},Is=function(...n){if(!0===F3&&(F3=!1,null===Dh&&!0===_k.get("logging_enabled")&&L3(!0)),Dh){const t=Xv.apply(null,n);Dh(t)}},Zv=function(n){return function(...t){Is(n,...t)}},vk=function(...n){const t="FIREBASE INTERNAL ERROR: "+Xv(...n);gg.error(t)},ec=function(...n){const t=`FIREBASE FATAL ERROR: ${Xv(...n)}`;throw gg.error(t),new Error(t)},no=function(...n){const t="FIREBASE WARNING: "+Xv(...n);gg.warn(t)},AC=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},qd="[MIN_NAME]",Xc="[MAX_NAME]",Th=function(n,t){if(n===t)return 0;if(n===qd||t===Xc)return-1;if(t===qd||n===Xc)return 1;{const e=z3(n),i=z3(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},rde=function(n,t){return n===t?0:n<t?-1:1},Kv=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,te.Wl)(t))},yk=function(n){if("object"!=typeof n||null===n)return(0,te.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,te.Wl)(t[i]),e+=":",e+=yk(n[t[i]]);return e+="}",e},V3=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Ss(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const B3=function(n){(0,te.hu)(!AC(n),"Invalid JSON number");const i=1023;let r,s,o,c,u;0===n?(s=0,o=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=c+i,o=Math.round(n*Math.pow(2,52-c)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const f=[];for(u=52;u;u-=1)f.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(r?1:0),f.reverse();const _=f.join("");let w="";for(u=0;u<64;u+=8){let T=parseInt(_.substr(u,8),2).toString(16);1===T.length&&(T="0"+T),w+=T}return w.toLowerCase()},lde=new RegExp("^-?(0*)\\d{1,10}$"),z3=function(n){if(lde.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},mg=function(n){try{n()}catch(t){setTimeout(()=>{throw no("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Qv=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class hde{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){no(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class fde{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Is("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',no(t)}}let Jv=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const G3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,q3="websocket",X3="long_polling";class wk{constructor(t,e,i,r,s=!1,o="",c=!1,u=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Eh.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Eh.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Z3(n,t,e){let i;if((0,te.hu)("string"==typeof t,"typeof type must == string"),(0,te.hu)("object"==typeof e,"typeof params must == object"),t===q3)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==X3)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function pde(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Ss(e,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class gde{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,te.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,te.p$)(this.counters_)}}const xk={},Ck={};function Ek(n){const t=n.toString();return xk[t]||(xk[t]=new gde),xk[t]}class _de{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&mg(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Xd{constructor(t,e,i,r,s,o,c){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zv(t),this.stats_=Ek(e),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),Z3(e,X3,u))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new _de(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,te.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Dk((...s)=>{const[o,c,u,f,_]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=c,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&G3.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xd.forceAllow_=!0}static forceDisallow(){Xd.forceDisallow_=!0}static isAvailable(){return!((0,te.Yr)()||!Xd.forceAllow_&&(Xd.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,te.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,te.h$)(e),r=V3(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,te.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,te.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Dk{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,te.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=P3(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Dk.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){Is("frame writing exception"),c.stack&&Is(c.stack),Is(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Is("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,te.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Is("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let MC=null;typeof MozWebSocket<"u"?MC=MozWebSocket:typeof WebSocket<"u"&&(MC=WebSocket);let _g=(()=>{class n{constructor(e,i,r,s,o,c,u){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zv(this.connId),this.stats_=Ek(i),this.connURL=n.connectionURL_(i,c,u,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,o){const c={v:"5"};return!(0,te.Yr)()&&typeof location<"u"&&location.hostname&&G3.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),o&&(c.p=o),Z3(e,q3,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Eh.set("previous_websocket_failure",!0);try{let r;if((0,te.Yr)()){r={headers:{"User-Agent":`Firebase/5/${gk}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,c=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;c&&(r.proxy={origin:c})}this.mySock=new MC(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==MC&&!n.forceDisallow_}static previouslyFailed(){return Eh.isInMemoryStorage||!0===Eh.get("previous_websocket_failure")}markConnectionHealthy(){Eh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,te.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,te.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,te.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=V3(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),ij=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Xd,_g]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=_g&&_g.isAvailable();let r=i&&!_g.previouslyFailed();if(e.webSocketOnly&&(i||no("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[_g];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class dj{constructor(t,e,i,r,s,o,c,u,f,_){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=u,this.onKill_=f,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zv("c:"+this.id+":"),this.transportManager_=new ij(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Qv(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Kv("t",t),i=Kv("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Kv("t",t),i=Kv("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Kv("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?vk("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vk("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&no("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Qv(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qv(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Eh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class uj{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class hj{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,te.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,te.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class RC extends hj{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,te.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new RC}getInitialEvent(t){return(0,te.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Ai{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function vi(){return new Ai("")}function Wn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Zd(n){return n.pieces_.length-n.pieceNum_}function Gi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Ai(n.pieces_,t)}function Ik(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ey(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function gj(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Ai(t,0)}function _r(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Ai)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Ai(e,0)}function Gn(n){return n.pieceNum_>=n.pieces_.length}function So(n,t){const e=Wn(n),i=Wn(t);if(null===e)return t;if(e===i)return So(Gi(n),Gi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Bde(n,t){const e=ey(n,0),i=ey(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=Th(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function Sk(n,t){if(Zd(n)!==Zd(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ua(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Zd(n)>Zd(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class zde{constructor(t,e){this.errorPrefix_=e,this.parts_=ey(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,te.ug)(this.parts_[i]);mj(this)}}function mj(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ih(n))}function Ih(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Ak extends hj{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Ak}getInitialEvent(t){return(0,te.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const ty=1e3;let PC,Sh=(()=>{class n extends uj{constructor(e,i,r,s,o,c,u,f){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=u,this.authOverride_=f,this.id=n.nextPersistentConnectionId_++,this.log_=Zv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ty,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f&&!(0,te.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ak.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&RC.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,o={r:s,a:e,b:i};this.log_((0,te.Wl)(o)),(0,te.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new te.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const u=c.d;"ok"===c.s?i.resolve(u):i.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),(0,te.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,te.hu)(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(c).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};e.tag&&(o.q=i._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,u=>{const f=u.d,_=u.s;n.warnOnListenWarnings_(f,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",u),"ok"!==_&&this.removeListen_(r,s),e.onComplete&&e.onComplete(_,f))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,te.r3)(e,"w")){const r=(0,te.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();no(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,te.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,te.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,c=s.d||"error";this.authToken_===e&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,te.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const o={p:e};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,o){this.initConnection_();const c={p:i,d:r};void 0!==o&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,te.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):vk("Unrecognized action received from server: "+(0,te.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,te.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ty,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ty,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ty),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ze.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),o=e.id+":"+n.nextConnectionId_++,c=e.lastSessionId;let u=!1,f=null;const _=function(){f?f.close():(u=!0,s())};e.realtime_={close:_,sendRequest:function(M){(0,te.hu)(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(M)}};const T=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[M,F]=yield Promise.all([e.authTokenProvider_.getToken(T),e.appCheckTokenProvider_.getToken(T)]);u?Is("getToken() completed but was canceled"):(Is("getToken() completed. Creating connection."),e.authToken_=M&&M.accessToken,e.appCheckToken_=F&&F.token,f=new dj(o,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,V=>{no(V+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},c))}catch(M){e.log_("Failed to get token: "+M),u||(e.repoInfo_.nodeAdmin&&no(M),_())}}})()}interrupt(e){Is("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Is("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,te.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ty,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(o=>yk(o)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Ai(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Is("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Is("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,te.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+gk.replace(/\./g,"-")]=1,(0,te.uI)()?e["framework.cordova"]=1:(0,te.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=RC.getInstance().currentlyOnline();return(0,te.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Qn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Qn(t,e)}}class OC{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Qn(qd,t),r=new Qn(qd,e);return 0!==this.compare(i,r)}minPost(){return Qn.MIN}}class yj extends OC{static get __EMPTY_NODE(){return PC}static set __EMPTY_NODE(t){PC=t}compare(t,e){return Th(t.name,e.name)}isDefinedOn(t){throw(0,te.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Qn.MIN}maxPost(){return new Qn(Xc,PC)}makePost(t,e){return(0,te.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Qn(t,PC)}toString(){return".key"}}const tc=new yj;class NC{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Mk,_l=(()=>{class n{constructor(e,i,r,s,o){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??qo.EMPTY_NODE,this.right=o??qo.EMPTY_NODE}copy(e,i,r,s,o){return new n(e??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return qo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return qo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class qo{constructor(t,e=qo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new qo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,_l.BLACK,null,null))}remove(t){return new qo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,_l.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new NC(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new NC(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new NC(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new NC(this.root_,null,this.comparator_,!0,t)}}function qde(n,t){return Th(n.name,t.name)}function kk(n,t){return Th(n,t)}qo.EMPTY_NODE=new class Yde{copy(t,e,i,r,s){return this}insert(t,e,i){return new _l(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const bj=function(n){return"number"==typeof n?"number:"+B3(n):"string:"+n},wj=function(n){if(n.isLeafNode()){const t=n.val();(0,te.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,te.r3)(t,".sv"),"Priority must be a string or number.")}else(0,te.hu)(n===Mk||n.isEmpty(),"priority of unexpected type.");(0,te.hu)(n===Mk||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let xj,Cj,Ej,vg=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,te.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),wj(this.priorityNode_)}static set __childrenNodeConstructor(e){xj=e}static get __childrenNodeConstructor(){return xj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Gn(e)?this:".priority"===Wn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Wn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,te.hu)(".priority"!==r||1===Zd(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+bj(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?B3(this.value_):this.value_,this.lazyHash_=N3(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,te.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),o=n.VALUE_TYPE_ORDER.indexOf(r);return(0,te.hu)(s>=0,"Unknown leaf type: "+i),(0,te.hu)(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const nr=new class Qde extends OC{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?Th(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Qn.MIN}maxPost(){return new Qn(Xc,new vg("[PRIORITY-POST]",Ej))}makePost(t,e){const i=Cj(t);return new Qn(e,new vg("[PRIORITY-POST]",i))}toString(){return".priority"}},Jde=Math.log(2);class eue{constructor(t){this.count=parseInt(Math.log(t+1)/Jde,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const FC=function(n,t,e,i){n.sort(t);const r=function(u,f){const _=f-u;let w,T;if(0===_)return null;if(1===_)return w=n[u],T=e?e(w):w,new _l(T,w.node,_l.BLACK,null,null);{const M=parseInt(_/2,10)+u,F=r(u,M),V=r(M+1,f);return w=n[M],T=e?e(w):w,new _l(T,w.node,_l.BLACK,F,V)}},c=function(u){let f=null,_=null,w=n.length;const T=function(F,V){const U=w-F,re=w;w-=F;const ee=r(U+1,re),ae=n[U],ge=e?e(ae):ae;M(new _l(ge,ae.node,V,null,ee))},M=function(F){f?(f.left=F,f=F):(_=F,f=F)};for(let F=0;F<u.count;++F){const V=u.nextBitIsOne(),U=Math.pow(2,u.count-(F+1));V?T(U,_l.BLACK):(T(U,_l.BLACK),T(U,_l.RED))}return _}(new eue(n.length));return new qo(i||t,c)};let Rk;const yg={};class Zc{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,te.hu)(yg&&nr,"ChildrenNode.ts has not been loaded"),Rk=Rk||new Zc({".priority":yg},{".priority":nr}),Rk}get(t){const e=(0,te.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof qo?e:null}hasIndex(t){return(0,te.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,te.hu)(t!==tc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(Qn.Wrap);let c,o=s.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=s.getNext();c=r?FC(i,t.getCompare()):yg;const u=t.toString(),f=Object.assign({},this.indexSet_);f[u]=t;const _=Object.assign({},this.indexes_);return _[u]=c,new Zc(_,f)}addToIndexes(t,e){const i=(0,te.UI)(this.indexes_,(r,s)=>{const o=(0,te.DV)(this.indexSet_,s);if((0,te.hu)(o,"Missing index implementation for "+s),r===yg){if(o.isDefinedOn(t.node)){const c=[],u=e.getIterator(Qn.Wrap);let f=u.getNext();for(;f;)f.name!==t.name&&c.push(f),f=u.getNext();return c.push(t),FC(c,o.getCompare())}return yg}{const c=e.get(t.name);let u=r;return c&&(u=u.remove(new Qn(t.name,c))),u.insert(t,t.node)}});return new Zc(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,te.UI)(this.indexes_,r=>{if(r===yg)return r;{const s=e.get(t.name);return s?r.remove(new Qn(t.name,s)):r}});return new Zc(i,this.indexSet_)}}let ny,kn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&wj(this.priorityNode_),this.children_.isEmpty()&&(0,te.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ny||(ny=new n(new qo(kk),null,Zc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ny}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?ny:i}}getChild(e){const i=Wn(e);return null===i?this:this.getImmediateChild(i).getChild(Gi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,te.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Qn(e,i);let s,o;i.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),o=this.indexMap_.addToIndexes(r,this.children_));const c=s.isEmpty()?ny:this.priorityNode_;return new n(s,c,o)}}updateChild(e,i){const r=Wn(e);if(null===r)return i;{(0,te.hu)(".priority"!==Wn(e)||1===Zd(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Gi(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(nr,(c,u)=>{i[c]=u.val(e),r++,o&&n.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!e&&o&&s<2*r){const c=[];for(const u in i)c[u]=i[u];return c}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+bj(this.getPriority().val())+":"),this.forEachChild(nr,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":N3(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new Qn(e,i));return o?o.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Qn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Qn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Qn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Qn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===iy?-1:0}withIndex(e){if(e===tc||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===tc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(nr),s=i.getIterator(nr);let o=r.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=r.getNext(),c=s.getNext()}return null===o&&null===c}return!1}return!1}}resolveIndex_(e){return e===tc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const iy=new class tue extends kn{constructor(){super(new qo(kk),kn.EMPTY_NODE,Zc.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return kn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Qn,{MIN:{value:new Qn(qd,kn.EMPTY_NODE)},MAX:{value:new Qn(Xc,iy)}}),yj.__EMPTY_NODE=kn.EMPTY_NODE,vg.__childrenNodeConstructor=kn,function Xde(n){Mk=n}(iy),function Kde(n){Ej=n}(iy);const nue=!0;function Sr(n,t=null){if(null===n)return kn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,te.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new vg(n,Sr(t));if(n instanceof Array||!nue){let e=kn.EMPTY_NODE;return Ss(n,(i,r)=>{if((0,te.r3)(n,i)&&"."!==i.substring(0,1)){const s=Sr(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Sr(t))}{const e=[];let i=!1;if(Ss(n,(o,c)=>{if("."!==o.substring(0,1)){const u=Sr(c);u.isEmpty()||(i=i||!u.getPriority().isEmpty(),e.push(new Qn(o,u)))}}),0===e.length)return kn.EMPTY_NODE;const s=FC(e,qde,o=>o.name,kk);if(i){const o=FC(e,nr.getCompare());return new kn(s,Sr(t),new Zc({".priority":o},{".priority":nr}))}return new kn(s,Sr(t),Zc.Default)}}!function Zde(n){Cj=n}(Sr);class Ok extends OC{constructor(t){super(),this.indexPath_=t,(0,te.hu)(!Gn(t)&&".priority"!==Wn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?Th(t.name,e.name):s}makePost(t,e){const i=Sr(t),r=kn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Qn(e,r)}maxPost(){const t=kn.EMPTY_NODE.updateChild(this.indexPath_,iy);return new Qn(Xc,t)}toString(){return ey(this.indexPath_,0).join("/")}}const Pk=new class iue extends OC{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Th(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Qn.MIN}maxPost(){return Qn.MAX}makePost(t,e){const i=Sr(t);return new Qn(e,i)}toString(){return".value"}};function Dj(n){return{type:"value",snapshotNode:n}}function bg(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function ry(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function sy(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Nk{constructor(t){this.index_=t}updateChild(t,e,i,r,s,o){(0,te.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=t.getImmediateChild(e);return c.getChild(r).equals(i.getChild(r))&&c.isEmpty()===i.isEmpty()||(null!=o&&(i.isEmpty()?t.hasChild(e)?o.trackChildChange(ry(e,c)):(0,te.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(bg(e,i)):o.trackChildChange(sy(e,i,c))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(nr,(r,s)=>{e.hasChild(r)||i.trackChildChange(ry(r,s))}),e.isLeafNode()||e.forEachChild(nr,(r,s)=>{if(t.hasChild(r)){const o=t.getImmediateChild(r);o.equals(s)||i.trackChildChange(sy(r,s,o))}else i.trackChildChange(bg(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?kn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class oy{constructor(t){this.indexedFilter_=new Nk(t.getIndex()),this.index_=t.getIndex(),this.startPost_=oy.getStartPost_(t),this.endPost_=oy.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,o){return this.matches(new Qn(e,i))||(i=kn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,o)}updateFullNode(t,e,i){e.isLeafNode()&&(e=kn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(kn.EMPTY_NODE);const s=this;return e.forEachChild(nr,(o,c)=>{s.matches(new Qn(o,c))||(r=r.updateImmediateChild(o,kn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class sue{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new oy(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,o){return this.rangedFilter_.matches(new Qn(e,i))||(i=kn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,o):this.fullLimitUpdateChild_(t,e,i,s,o)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=kn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=kn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c)){if(!this.withinDirectionalEnd(c))break;r=r.updateImmediateChild(c.name,c.node),o++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(kn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:r=r.updateImmediateChild(c.name,kn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let o;if(this.reverse_){const w=this.index_.getCompare();o=(T,M)=>w(M,T)}else o=this.index_.getCompare();const c=t;(0,te.hu)(c.numChildren()===this.limit_,"");const u=new Qn(e,i),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),_=this.rangedFilter_.matches(u);if(c.hasChild(e)){const w=c.getImmediateChild(e);let T=r.getChildAfterChild(this.index_,f,this.reverse_);for(;null!=T&&(T.name===e||c.hasChild(T.name));)T=r.getChildAfterChild(this.index_,T,this.reverse_);const M=null==T?1:o(T,u);if(_&&!i.isEmpty()&&M>=0)return s?.trackChildChange(sy(e,i,w)),c.updateImmediateChild(e,i);{s?.trackChildChange(ry(e,w));const V=c.updateImmediateChild(e,kn.EMPTY_NODE);return null!=T&&this.rangedFilter_.matches(T)?(s?.trackChildChange(bg(T.name,T.node)),V.updateImmediateChild(T.name,T.node)):V}}return i.isEmpty()?t:_&&o(f,u)>=0?(null!=s&&(s.trackChildChange(ry(f.name,f.node)),s.trackChildChange(bg(e,i))),c.updateImmediateChild(e,i).updateImmediateChild(f.name,kn.EMPTY_NODE)):t}}class LC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,te.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,te.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,te.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,te.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,te.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nr}copy(){const t=new LC;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Fk(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Lk(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function VC(n,t){const e=n.copy();return e.index_=t,e}function Tj(n){const t={};if(n.isDefault())return t;let e;if(n.index_===nr?e="$priority":n.index_===Pk?e="$value":n.index_===tc?e="$key":((0,te.hu)(n.index_ instanceof Ok,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,te.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,te.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,te.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,te.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,te.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Ij(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==nr&&(t.i=n.index_.toString()),t}class BC extends uj{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Zv("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,te.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=BC.getListenId_(t,i),c={};this.listens_[o]=c;const u=Tj(t._queryParams);this.restRequest_(s+".json",u,(f,_)=>{let w=_;if(404===f&&(w=null,f=null),null===f&&this.onDataUpdate_(s,w,!1,i),(0,te.DV)(this.listens_,o)===c){let T;T=f?401===f?"permission_denied":"rest_error:"+f:"ok",r(T,null)}})}unlisten(t,e){const i=BC.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Tj(t._queryParams),i=t._path.toString(),r=new te.BH;return this.restRequest_(i+".json",e,(s,o)=>{let c=o;404===s&&(c=null,s=null),null===s?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,te.xO)(e);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&4===c.readyState){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=(0,te.cI)(c.responseText)}catch{no("Failed to parse JSON response for "+o+": "+c.responseText)}i(null,u)}else 401!==c.status&&404!==c.status&&no("Got unsuccessful REST response for "+o+" Status: "+c.status),i(c.status);i=null}},c.open("GET",o,!0),c.send()})}}class uue{constructor(){this.rootNode_=kn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function zC(){return{value:null,children:new Map}}function wg(n,t,e){if(Gn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Wn(t);n.children.has(i)||n.children.set(i,zC()),wg(n.children.get(i),t=Gi(t),e)}}function Vk(n,t){if(Gn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(nr,(i,r)=>{wg(n,new Ai(i),r)}),Vk(n,t)}}if(n.children.size>0){const e=Wn(t);return t=Gi(t),n.children.has(e)&&Vk(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Bk(n,t,e){null!==n.value?e(t,n.value):function hue(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{Bk(r,new Ai(t.toString()+"/"+i),e)})}class fue{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Ss(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class mue{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new fue(t);const i=1e4+2e4*Math.random();Qv(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Ss(t,(r,s)=>{s>0&&(0,te.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),Qv(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var nc=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(nc||{});function Uk(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class HC{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=nc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Gn(this.path)){if(null!=this.affectedTree.value)return(0,te.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ai(t));return new HC(vi(),e,this.revert)}}return(0,te.hu)(Wn(this.path)===t,"operationForChild called for unrelated child."),new HC(Gi(this.path),this.affectedTree,this.revert)}}class ay{constructor(t,e){this.source=t,this.path=e,this.type=nc.LISTEN_COMPLETE}operationForChild(t){return Gn(this.path)?new ay(this.source,vi()):new ay(this.source,Gi(this.path))}}class Ah{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=nc.OVERWRITE}operationForChild(t){return Gn(this.path)?new Ah(this.source,vi(),this.snap.getImmediateChild(t)):new Ah(this.source,Gi(this.path),this.snap)}}class xg{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=nc.MERGE}operationForChild(t){if(Gn(this.path)){const e=this.children.subtree(new Ai(t));return e.isEmpty()?null:e.value?new Ah(this.source,vi(),e.value):new xg(this.source,vi(),e)}return(0,te.hu)(Wn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new xg(this.source,Gi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Kd{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Gn(t))return this.isFullyInitialized()&&!this.filtered_;const e=Wn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class _ue{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ly(n,t,e,i,r,s){const o=i.filter(c=>c.type===e);o.sort((c,u)=>function bue(n,t,e){if(null==t.childName||null==e.childName)throw(0,te.g5)("Should only compare child_ events.");const i=new Qn(t.childName,t.snapshotNode),r=new Qn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,c,u)),o.forEach(c=>{const u=function yue(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,c,s);r.forEach(f=>{f.respondsTo(c.type)&&t.push(f.createEvent(u,n.query_))})})}function UC(n,t){return{eventCache:n,serverCache:t}}function cy(n,t,e,i){return UC(new Kd(t,e,i),n.serverCache)}function Aj(n,t,e,i){return UC(n.eventCache,new Kd(t,e,i))}function jC(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function kh(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let jk;class ir{constructor(t,e=(()=>(jk||(jk=new qo(rde)),jk))()){this.value=t,this.children=e}static fromObject(t){let e=new ir(null);return Ss(t,(i,r)=>{e=e.set(new Ai(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:vi(),value:this.value};if(Gn(t))return null;{const i=Wn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Gi(t),e);return null!=s?{path:_r(new Ai(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Gn(t))return this;{const e=Wn(t),i=this.children.get(e);return null!==i?i.subtree(Gi(t)):new ir(null)}}set(t,e){if(Gn(t))return new ir(e,this.children);{const i=Wn(t),s=(this.children.get(i)||new ir(null)).set(Gi(t),e),o=this.children.insert(i,s);return new ir(this.value,o)}}remove(t){if(Gn(t))return this.children.isEmpty()?new ir(null):new ir(null,this.children);{const e=Wn(t),i=this.children.get(e);if(i){const r=i.remove(Gi(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new ir(null):new ir(this.value,s)}return this}}get(t){if(Gn(t))return this.value;{const e=Wn(t),i=this.children.get(e);return i?i.get(Gi(t)):null}}setTree(t,e){if(Gn(t))return e;{const i=Wn(t),s=(this.children.get(i)||new ir(null)).setTree(Gi(t),e);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new ir(this.value,o)}}fold(t){return this.fold_(vi(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(_r(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,vi(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Gn(t))return null;{const s=Wn(t),o=this.children.get(s);return o?o.findOnPath_(Gi(t),_r(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,vi(),e)}foreachOnPath_(t,e,i){if(Gn(t))return this;{this.value&&i(e,this.value);const r=Wn(t),s=this.children.get(r);return s?s.foreachOnPath_(Gi(t),_r(e,r),i):new ir(null)}}foreach(t){this.foreach_(vi(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(_r(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class vl{constructor(t){this.writeTree_=t}static empty(){return new vl(new ir(null))}}function dy(n,t,e){if(Gn(t))return new vl(new ir(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const o=So(r,t);return s=s.updateChild(o,e),new vl(n.writeTree_.set(r,s))}{const r=new ir(e),s=n.writeTree_.setTree(t,r);return new vl(s)}}}function Wk(n,t,e){let i=n;return Ss(e,(r,s)=>{i=dy(i,_r(t,r),s)}),i}function kj(n,t){if(Gn(t))return vl.empty();{const e=n.writeTree_.setTree(t,new ir(null));return new vl(e)}}function Gk(n,t){return null!=Mh(n,t)}function Mh(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(So(e.path,t)):null}function Mj(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(nr,(i,r)=>{t.push(new Qn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Qn(i,r.value))}),t}function Qd(n,t){if(Gn(t))return n;{const e=Mh(n,t);return new vl(null!=e?new ir(e):n.writeTree_.subtree(t))}}function $k(n){return n.writeTree_.isEmpty()}function Cg(n,t){return Rj(vi(),n.writeTree_,t)}function Rj(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,te.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=Rj(_r(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(_r(n,".priority"),i)),e}}function WC(n,t){return Lj(t,n)}function Tue(n,t){if(n.snap)return Ua(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ua(_r(n.path,e),t))return!0;return!1}function Sue(n){return n.visible}function Oj(n,t,e){let i=vl.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const o=s.path;let c;if(s.snap)Ua(e,o)?(c=So(e,o),i=dy(i,c,s.snap)):Ua(o,e)&&(c=So(o,e),i=dy(i,vi(),s.snap.getChild(c)));else{if(!s.children)throw(0,te.g5)("WriteRecord should have .snap or .children");if(Ua(e,o))c=So(e,o),i=Wk(i,c,s.children);else if(Ua(o,e))if(c=So(o,e),Gn(c))i=Wk(i,vi(),s.children);else{const u=(0,te.DV)(s.children,Wn(c));if(u){const f=u.getChild(Gi(c));i=dy(i,vi(),f)}}}}}return i}function Pj(n,t,e,i,r){if(i||r){const s=Qd(n.visibleWrites,t);return!r&&$k(s)?e:r||null!=e||Gk(s,vi())?Cg(Oj(n.allWrites,function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(Ua(f.path,t)||Ua(t,f.path))},t),e||kn.EMPTY_NODE):null}{const s=Mh(n.visibleWrites,t);if(null!=s)return s;{const o=Qd(n.visibleWrites,t);return $k(o)?e:null!=e||Gk(o,vi())?Cg(o,e||kn.EMPTY_NODE):null}}}function GC(n,t,e,i){return Pj(n.writeTree,n.treePath,t,e,i)}function Yk(n,t){return function Aue(n,t,e){let i=kn.EMPTY_NODE;const r=Mh(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(nr,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(e){const s=Qd(n.visibleWrites,t);return e.forEachChild(nr,(o,c)=>{const u=Cg(Qd(s,new Ai(o)),c);i=i.updateImmediateChild(o,u)}),Mj(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return Mj(Qd(n.visibleWrites,t)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(n.writeTree,n.treePath,t)}function Nj(n,t,e,i){return function kue(n,t,e,i,r){(0,te.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=_r(t,e);if(Gk(n.visibleWrites,s))return null;{const o=Qd(n.visibleWrites,s);return $k(o)?r.getChild(e):Cg(o,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function $C(n,t){return function Rue(n,t){return Mh(n.visibleWrites,t)}(n.writeTree,_r(n.treePath,t))}function qk(n,t,e){return function Mue(n,t,e,i){const r=_r(t,e),s=Mh(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?Cg(Qd(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Fj(n,t){return Lj(_r(n.treePath,t),n.writeTree)}function Lj(n,t){return{treePath:n,writeTree:t}}class Fue{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,te.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,te.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,sy(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,ry(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,bg(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,te.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,sy(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Vj=new class Lue{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class Xk{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Kd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qk(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:kh(this.viewCache_),s=function Nue(n,t,e,i,r,s){return function Oue(n,t,e,i,r,s,o){let c;const u=Qd(n.visibleWrites,t),f=Mh(u,vi());if(null!=f)c=f;else{if(null==e)return[];c=Cg(u,e)}if(c=c.withIndex(o),c.isEmpty()||c.isLeafNode())return[];{const _=[],w=o.getCompare(),T=s?c.getReverseIteratorFrom(i,o):c.getIteratorFrom(i,o);let M=T.getNext();for(;M&&_.length<r;)0!==w(M,i)&&_.push(M),M=T.getNext();return _}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function Bj(n,t,e,i,r,s){const o=t.eventCache;if(null!=$C(i,e))return t;{let c,u;if(Gn(e))if((0,te.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const f=kh(t),w=Yk(i,f instanceof kn?f:kn.EMPTY_NODE);c=n.filter.updateFullNode(t.eventCache.getNode(),w,s)}else{const f=GC(i,kh(t));c=n.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const f=Wn(e);if(".priority"===f){(0,te.hu)(1===Zd(e),"Can't have a priority with additional path components");const _=o.getNode();u=t.serverCache.getNode();const w=Nj(i,e,_,u);c=null!=w?n.filter.updatePriority(_,w):o.getNode()}else{const _=Gi(e);let w;if(o.isCompleteForChild(f)){u=t.serverCache.getNode();const T=Nj(i,e,o.getNode(),u);w=null!=T?o.getNode().getImmediateChild(f).updateChild(_,T):o.getNode().getImmediateChild(f)}else w=qk(i,f,t.serverCache);c=null!=w?n.filter.updateChild(o.getNode(),f,w,_,r,s):o.getNode()}}return cy(t,c,o.isFullyInitialized()||Gn(e),n.filter.filtersNodes())}}function YC(n,t,e,i,r,s,o,c){const u=t.serverCache;let f;const _=o?n.filter:n.filter.getIndexedFilter();if(Gn(e))f=_.updateFullNode(u.getNode(),i,null);else if(_.filtersNodes()&&!u.isFiltered()){const M=u.getNode().updateChild(e,i);f=_.updateFullNode(u.getNode(),M,null)}else{const M=Wn(e);if(!u.isCompleteForPath(e)&&Zd(e)>1)return t;const F=Gi(e),U=u.getNode().getImmediateChild(M).updateChild(F,i);f=".priority"===M?_.updatePriority(u.getNode(),U):_.updateChild(u.getNode(),M,U,F,Vj,null)}const w=Aj(t,f,u.isFullyInitialized()||Gn(e),_.filtersNodes());return Bj(n,w,e,r,new Xk(r,w,s),c)}function Zk(n,t,e,i,r,s,o){const c=t.eventCache;let u,f;const _=new Xk(r,t,s);if(Gn(e))f=n.filter.updateFullNode(t.eventCache.getNode(),i,o),u=cy(t,f,!0,n.filter.filtersNodes());else{const w=Wn(e);if(".priority"===w)f=n.filter.updatePriority(t.eventCache.getNode(),i),u=cy(t,f,c.isFullyInitialized(),c.isFiltered());else{const T=Gi(e),M=c.getNode().getImmediateChild(w);let F;if(Gn(T))F=i;else{const V=_.getCompleteChild(w);F=null!=V?".priority"===Ik(T)&&V.getChild(gj(T)).isEmpty()?V:V.updateChild(T,i):kn.EMPTY_NODE}u=M.equals(F)?t:cy(t,n.filter.updateChild(c.getNode(),w,F,T,_,o),c.isFullyInitialized(),n.filter.filtersNodes())}}return u}function zj(n,t){return n.eventCache.isCompleteForChild(t)}function Hj(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Kk(n,t,e,i,r,s,o,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let f,u=t;f=Gn(e)?i:new ir(null).setTree(e,i);const _=t.serverCache.getNode();return f.children.inorderTraversal((w,T)=>{if(_.hasChild(w)){const F=Hj(0,t.serverCache.getNode().getImmediateChild(w),T);u=YC(n,u,new Ai(w),F,r,s,o,c)}}),f.children.inorderTraversal((w,T)=>{const M=!t.serverCache.isCompleteForChild(w)&&null===T.value;if(!_.hasChild(w)&&!M){const V=Hj(0,t.serverCache.getNode().getImmediateChild(w),T);u=YC(n,u,new Ai(w),V,r,s,o,c)}}),u}class $ue{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Nk(i.getIndex()),s=function oue(n){return n.loadsAllData()?new Nk(n.getIndex()):n.hasLimit()?new sue(n):new oy(n)}(i);this.processor_=function Vue(n){return{filter:n}}(s);const o=e.serverCache,c=e.eventCache,u=r.updateFullNode(kn.EMPTY_NODE,o.getNode(),null),f=s.updateFullNode(kn.EMPTY_NODE,c.getNode(),null),_=new Kd(u,o.isFullyInitialized(),r.filtersNodes()),w=new Kd(f,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=UC(w,_),this.eventGenerator_=new _ue(this.query_)}get query(){return this.query_}}function Xue(n,t){const e=kh(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Gn(t)&&!e.getImmediateChild(Wn(t)).isEmpty())?e.getChild(t):null}function Uj(n){return 0===n.eventRegistrations_.length}function jj(n,t,e){const i=[];if(e){(0,te.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(e,r);o&&i.push(o)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(o)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function Wj(n,t,e,i){t.type===nc.MERGE&&null!==t.source.queryId&&((0,te.hu)(kh(n.viewCache_),"We should always have a full cache before handling merges"),(0,te.hu)(jC(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function zue(n,t,e,i,r){const s=new Fue;let o,c;if(e.type===nc.OVERWRITE){const f=e;f.source.fromUser?o=Zk(n,t,f.path,f.snap,i,r,s):((0,te.hu)(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered()&&!Gn(f.path),o=YC(n,t,f.path,f.snap,i,r,c,s))}else if(e.type===nc.MERGE){const f=e;f.source.fromUser?o=function Uue(n,t,e,i,r,s,o){let c=t;return i.foreach((u,f)=>{const _=_r(e,u);zj(t,Wn(_))&&(c=Zk(n,c,_,f,r,s,o))}),i.foreach((u,f)=>{const _=_r(e,u);zj(t,Wn(_))||(c=Zk(n,c,_,f,r,s,o))}),c}(n,t,f.path,f.children,i,r,s):((0,te.hu)(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered(),o=Kk(n,t,f.path,f.children,i,r,c,s))}else if(e.type===nc.ACK_USER_WRITE){const f=e;o=f.revert?function Gue(n,t,e,i,r,s){let o;if(null!=$C(i,e))return t;{const c=new Xk(i,t,r),u=t.eventCache.getNode();let f;if(Gn(e)||".priority"===Wn(e)){let _;if(t.serverCache.isFullyInitialized())_=GC(i,kh(t));else{const w=t.serverCache.getNode();(0,te.hu)(w instanceof kn,"serverChildren would be complete if leaf node"),_=Yk(i,w)}f=n.filter.updateFullNode(u,_,s)}else{const _=Wn(e);let w=qk(i,_,t.serverCache);null==w&&t.serverCache.isCompleteForChild(_)&&(w=u.getImmediateChild(_)),f=null!=w?n.filter.updateChild(u,_,w,Gi(e),c,s):t.eventCache.getNode().hasChild(_)?n.filter.updateChild(u,_,kn.EMPTY_NODE,Gi(e),c,s):u,f.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=GC(i,kh(t)),o.isLeafNode()&&(f=n.filter.updateFullNode(f,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=$C(i,vi()),cy(t,f,o,n.filter.filtersNodes())}}(n,t,f.path,i,r,s):function jue(n,t,e,i,r,s,o){if(null!=$C(r,e))return t;const c=t.serverCache.isFiltered(),u=t.serverCache;if(null!=i.value){if(Gn(e)&&u.isFullyInitialized()||u.isCompleteForPath(e))return YC(n,t,e,u.getNode().getChild(e),r,s,c,o);if(Gn(e)){let f=new ir(null);return u.getNode().forEachChild(tc,(_,w)=>{f=f.set(new Ai(_),w)}),Kk(n,t,e,f,r,s,c,o)}return t}{let f=new ir(null);return i.foreach((_,w)=>{const T=_r(e,_);u.isCompleteForPath(T)&&(f=f.set(_,u.getNode().getChild(T)))}),Kk(n,t,e,f,r,s,c,o)}}(n,t,f.path,f.affectedTree,i,r,s)}else{if(e.type!==nc.LISTEN_COMPLETE)throw(0,te.g5)("Unknown operation type: "+e.type);o=function Wue(n,t,e,i,r){const s=t.serverCache;return Bj(n,Aj(t,s.getNode(),s.isFullyInitialized()||Gn(e),s.isFiltered()),e,i,Vj,r)}(n,t,e.path,i,s)}const u=s.getChanges();return function Hue(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=jC(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(Dj(jC(t)))}}(t,o,u),{viewCache:o,changes:u}}(n.processor_,r,t,e,i);return function Bue(n,t){(0,te.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,te.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,te.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,Gj(n,s.changes,s.viewCache.eventCache.getNode(),null)}function Gj(n,t,e,i){return function vue(n,t,e,i){const r=[],s=[];return t.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function rue(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(o.childName,o.snapshotNode))}),ly(n,r,"child_removed",t,i,e),ly(n,r,"child_added",t,i,e),ly(n,r,"child_moved",s,i,e),ly(n,r,"child_changed",t,i,e),ly(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let qC,ZC;class $j{constructor(){this.views=new Map}}function Qk(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,te.hu)(null!=s,"SyncTree gave us an op for an invalid query."),Wj(s,t,e,i)}{let s=[];for(const o of n.views.values())s=s.concat(Wj(o,t,e,i));return s}}function Yj(n,t,e,i,r){const o=n.views.get(t._queryIdentifier);if(!o){let c=GC(e,r?i:null),u=!1;c?u=!0:i instanceof kn?(c=Yk(e,i),u=!1):(c=kn.EMPTY_NODE,u=!1);const f=UC(new Kd(c,u,!1),new Kd(i,r,!1));return new $ue(t,f)}return o}function qj(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Jd(n,t){let e=null;for(const i of n.views.values())e=e||Xue(i,t);return e}function Xj(n,t){return t._queryParams.loadsAllData()?XC(n):n.views.get(t._queryIdentifier)}function Zj(n,t){return null!=Xj(n,t)}function eu(n){return null!=XC(n)}function XC(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let she=1;class Kj{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ir(null),this.pendingWriteTree_=function Pue(){return{visibleWrites:vl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Jk(n,t,e,i,r){return function xue(n,t,e,i,r){(0,te.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=dy(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Eg(n,new Ah({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function tu(n,t,e=!1){const i=function Eue(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Due(n,t){const e=n.allWrites.findIndex(c=>c.writeId===t);(0,te.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,o=n.allWrites.length-1;for(;r&&o>=0;){const c=n.allWrites[o];c.visible&&(o>=e&&Tue(c,i.path)?r=!1:Ua(i.path,c.path)&&(s=!0)),o--}return!!r&&(s?(function Iue(n){n.visibleWrites=Oj(n.allWrites,Sue,vi()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=kj(n.visibleWrites,i.path):Ss(i.children,u=>{n.visibleWrites=kj(n.visibleWrites,_r(i.path,u))}),!0))}(n.pendingWriteTree_,t)){let s=new ir(null);return null!=i.snap?s=s.set(vi(),!0):Ss(i.children,o=>{s=s.set(new Ai(o),!0)}),Eg(n,new HC(i.path,s,e))}return[]}function uy(n,t,e){return Eg(n,new Ah({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function KC(n,t,e,i,r=!1){const s=t._path,o=n.syncPointTree_.get(s);let c=[];if(o&&("default"===t._queryIdentifier||Zj(o,t))){const u=function nhe(n,t,e,i){const r=t._queryIdentifier,s=[];let o=[];const c=eu(n);if("default"===r)for(const[u,f]of n.views.entries())o=o.concat(jj(f,e,i)),Uj(f)&&(n.views.delete(u),f.query._queryParams.loadsAllData()||s.push(f.query));else{const u=n.views.get(r);u&&(o=o.concat(jj(u,e,i)),Uj(u)&&(n.views.delete(r),u.query._queryParams.loadsAllData()||s.push(u.query)))}return c&&!eu(n)&&s.push(new(function Jue(){return(0,te.hu)(qC,"Reference.ts has not been loaded"),qC}())(t._repo,t._path)),{removed:s,events:o}}(o,t,e,i);(function ehe(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const f=u.removed;if(c=u.events,!r){const _=-1!==f.findIndex(T=>T._queryParams.loadsAllData()),w=n.syncPointTree_.findOnPath(s,(T,M)=>eu(M));if(_&&!w){const T=n.syncPointTree_.subtree(s);if(!T.isEmpty()){const M=function hhe(n){return n.fold((t,e,i)=>{if(e&&eu(e))return[XC(e)];{let r=[];return e&&(r=qj(e)),Ss(i,(s,o)=>{r=r.concat(o)}),r}})}(T);for(let F=0;F<M.length;++F){const V=M[F],U=V.query,re=t4(n,V);n.listenProvider_.startListening(fy(U),hy(n,U),re.hashFn,re.onComplete)}}}!w&&f.length>0&&!i&&(_?n.listenProvider_.stopListening(fy(t),null):f.forEach(T=>{const M=n.queryToTagMap.get(JC(T));n.listenProvider_.stopListening(fy(T),M)}))}!function fhe(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=JC(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,f)}return c}function Qj(n,t,e,i){const r=tM(n,i);if(null!=r){const s=nM(r),o=s.path,c=s.queryId,u=So(o,t);return iM(n,o,new Ah(Uk(c),u,e))}return[]}function eM(n,t,e,i=!1){const r=t._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(r,(T,M)=>{const F=So(T,r);s=s||Jd(M,F),o=o||eu(M)});let u,c=n.syncPointTree_.get(r);c?(o=o||eu(c),s=s||Jd(c,vi())):(c=new $j,n.syncPointTree_=n.syncPointTree_.set(r,c)),null!=s?u=!0:(u=!1,s=kn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((M,F)=>{const V=Jd(F,vi());V&&(s=s.updateImmediateChild(M,V))}));const f=Zj(c,t);if(!f&&!t._queryParams.loadsAllData()){const T=JC(t);(0,te.hu)(!n.queryToTagMap.has(T),"View does not exist, but we have a tag");const M=function phe(){return she++}();n.queryToTagMap.set(T,M),n.tagToQueryMap.set(M,T)}let w=function the(n,t,e,i,r,s){const o=Yj(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,o),function Zue(n,t){n.eventRegistrations_.push(t)}(o,e),function Kue(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(nr,(s,o)=>{i.push(bg(s,o))}),e.isFullyInitialized()&&i.push(Dj(e.getNode())),Gj(n,i,e.getNode(),t)}(o,e)}(c,t,e,WC(n.pendingWriteTree_,r),s,u);if(!f&&!o&&!i){const T=Xj(c,t);w=w.concat(function ghe(n,t,e){const i=t._path,r=hy(n,t),s=t4(n,e),o=n.listenProvider_.startListening(fy(t),r,s.hashFn,s.onComplete),c=n.syncPointTree_.subtree(i);if(r)(0,te.hu)(!eu(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((f,_,w)=>{if(!Gn(f)&&_&&eu(_))return[XC(_).query];{let T=[];return _&&(T=T.concat(qj(_).map(M=>M.query))),Ss(w,(M,F)=>{T=T.concat(F)}),T}});for(let f=0;f<u.length;++f){const _=u[f];n.listenProvider_.stopListening(fy(_),hy(n,_))}}return o}(n,t,T))}return w}function QC(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(o,c)=>{const f=Jd(c,So(o,t));if(f)return f});return Pj(r,t,s,e,!0)}function Eg(n,t){return Jj(t,n.syncPointTree_,null,WC(n.pendingWriteTree_,vi()))}function Jj(n,t,e,i){if(Gn(n.path))return e4(n,t,e,i);{const r=t.get(vi());null==e&&null!=r&&(e=Jd(r,vi()));let s=[];const o=Wn(n.path),c=n.operationForChild(o),u=t.children.get(o);if(u&&c){const f=e?e.getImmediateChild(o):null,_=Fj(i,o);s=s.concat(Jj(c,u,f,_))}return r&&(s=s.concat(Qk(r,n,i,e))),s}}function e4(n,t,e,i){const r=t.get(vi());null==e&&null!=r&&(e=Jd(r,vi()));let s=[];return t.children.inorderTraversal((o,c)=>{const u=e?e.getImmediateChild(o):null,f=Fj(i,o),_=n.operationForChild(o);_&&(s=s.concat(e4(_,c,u,f)))}),r&&(s=s.concat(Qk(r,n,i,e))),s}function t4(n,t){const e=t.query,i=hy(n,e);return{hashFn:()=>(function Yue(n){return n.viewCache_.serverCache.getNode()}(t)||kn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function che(n,t,e){const i=tM(n,e);if(i){const r=nM(i),s=r.path,o=r.queryId,c=So(s,t);return iM(n,s,new ay(Uk(o),c))}return[]}(n,e._path,i):function lhe(n,t){return Eg(n,new ay({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function ade(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return KC(n,e,null,s)}}}}function hy(n,t){const e=JC(t);return n.queryToTagMap.get(e)}function JC(n){return n._path.toString()+"$"+n._queryIdentifier}function tM(n,t){return n.tagToQueryMap.get(t)}function nM(n){const t=n.indexOf("$");return(0,te.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Ai(n.substr(0,t))}}function iM(n,t,e){const i=n.syncPointTree_.get(t);return(0,te.hu)(i,"Missing sync point for query tag that we're tracking"),Qk(i,e,WC(n.pendingWriteTree_,t),null)}function fy(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function rhe(){return(0,te.hu)(ZC,"Reference.ts has not been loaded"),ZC}())(n._repo,n._path):n}class rM{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new rM(e)}node(){return this.node_}}class sM{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=_r(this.path_,t);return new sM(this.syncTree_,e)}node(){return QC(this.syncTree_,this.path_)}}const mhe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},n4=function(n,t,e){return n&&"object"==typeof n?((0,te.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?_he(n[".sv"],t,e):"object"==typeof n[".sv"]?vhe(n[".sv"],t):void(0,te.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},_he=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,te.hu)(!1,"Unexpected server value: "+n)},vhe=function(n,t,e){n.hasOwnProperty("increment")||(0,te.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,te.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,te.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},i4=function(n,t,e,i){return aM(t,new sM(e,n),i)},oM=function(n,t,e){return aM(n,new rM(t),e)};function aM(n,t,e){const i=n.getPriority().val(),r=n4(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const o=n,c=n4(o.getValue(),t,e);return c!==o.getValue()||r!==o.getPriority().val()?new vg(c,Sr(r)):n}{const o=n;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new vg(r))),o.forEachChild(nr,(c,u)=>{const f=aM(u,t.getImmediateChild(c),e);f!==u&&(s=s.updateImmediateChild(c,f))}),s}}class lM{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function eE(n,t){let e=t instanceof Ai?t:new Ai(t),i=n,r=Wn(e);for(;null!==r;){const s=(0,te.DV)(i.node.children,r)||{children:{},childCount:0};i=new lM(r,i,s),e=Gi(e),r=Wn(e)}return i}function Rh(n){return n.node.value}function cM(n,t){n.node.value=t,dM(n)}function r4(n){return n.node.childCount>0}function tE(n,t){Ss(n.node.children,(e,i)=>{t(new lM(e,n,i))})}function s4(n,t,e,i){e&&!i&&t(n),tE(n,r=>{s4(r,t,!0,i)}),e&&i&&t(n)}function py(n){return new Ai(null===n.parent?n.name:py(n.parent)+"/"+n.name)}function dM(n){null!==n.parent&&function whe(n,t,e){const i=function yhe(n){return void 0===Rh(n)&&!r4(n)}(e),r=(0,te.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,dM(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,dM(n))}(n.parent,n.name,n)}const xhe=/[\[\].#$\/\u0000-\u001F\u007F]/,Che=/[\[\].#$\u0000-\u001F\u007F]/,uM=10485760,nE=function(n){return"string"==typeof n&&0!==n.length&&!xhe.test(n)},o4=function(n){return"string"==typeof n&&0!==n.length&&!Che.test(n)},gy=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!AC(n)||n&&"object"==typeof n&&(0,te.r3)(n,".sv")},ic=function(n,t,e,i){i&&void 0===t||my((0,te.gK)(n,"value"),t,e)},my=function(n,t,e){const i=e instanceof Ai?new zde(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Ih(i));if("function"==typeof t)throw new Error(n+"contains a function "+Ih(i)+" with contents = "+t.toString());if(AC(t))throw new Error(n+"contains "+t.toString()+" "+Ih(i));if("string"==typeof t&&t.length>uM/3&&(0,te.ug)(t)>uM)throw new Error(n+"contains a string greater than "+uM+" utf8 bytes "+Ih(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Ss(t,(o,c)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!nE(o)))throw new Error(n+" contains an invalid key ("+o+") "+Ih(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Hde(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,te.ug)(t),mj(n)})(i,o),my(n,c,i),function Ude(n){const t=n.parts_.pop();n.byteLength_-=(0,te.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Ih(i)+" in addition to actual children.")}},a4=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,te.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Ss(t,(o,c)=>{const u=new Ai(o);if(my(r,c,_r(e,u)),".priority"===Ik(u)&&!gy(c))throw new Error(r+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=ey(i);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!nE(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Bde);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Ua(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},hM=function(n,t,e){if(!e||void 0!==t){if(AC(t))throw new Error((0,te.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!gy(t))throw new Error((0,te.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},_y=function(n,t,e,i){if(!(i&&void 0===e||nE(e)))throw new Error((0,te.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},vy=function(n,t,e,i){if(!(i&&void 0===e||o4(e)))throw new Error((0,te.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},The=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),vy(n,t,e,i)},ja=function(n,t){if(".info"===Wn(t))throw new Error(n+" failed = Can't modify data under /.info/")},l4=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!nE(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),o4(n)}(e))throw new Error((0,te.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ihe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function iE(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!Sk(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function c4(n,t,e){iE(n,e),d4(n,i=>Sk(i,t))}function ma(n,t,e){iE(n,e),d4(n,i=>Ua(i,t)||Ua(t,i))}function d4(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(She(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function She(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Dh&&Is("event: "+e.toString()),mg(i)}}}const u4="repo_interrupt",Ahe=25;class khe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ihe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zC(),this.transactionQueueTree_=new lM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function h4(n){const e=n.infoData_.getNode(new Ai(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function yy(n){return mhe({timestamp:h4(n)})}function f4(n,t,e,i,r){n.dataUpdateCount++;const s=new Ai(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let o=[];if(r)if(i){const u=(0,te.UI)(e,f=>Sr(f));o=function dhe(n,t,e,i){const r=tM(n,i);if(r){const s=nM(r),o=s.path,c=s.queryId,u=So(o,t),f=ir.fromObject(e);return iM(n,o,new xg(Uk(c),u,f))}return[]}(n.serverSyncTree_,s,u,r)}else{const u=Sr(e);o=Qj(n.serverSyncTree_,s,u,r)}else if(i){const u=(0,te.UI)(e,f=>Sr(f));o=function ahe(n,t,e){const i=ir.fromObject(e);return Eg(n,new xg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,u)}else{const u=Sr(e);o=uy(n.serverSyncTree_,s,u)}let c=s;o.length>0&&(c=Tg(n,s)),ma(n.eventQueue_,c,o)}function p4(n,t){fM(n,"connected",t),!1===t&&function Nhe(n){Dg(n,"onDisconnectEvents");const t=yy(n),e=zC();Bk(n.onDisconnect_,vi(),(r,s)=>{const o=i4(r,s,n.serverSyncTree_,t);wg(e,r,o)});let i=[];Bk(e,vi(),(r,s)=>{i=i.concat(uy(n.serverSyncTree_,r,s));const o=_M(n,r);Tg(n,o)}),n.onDisconnect_=zC(),ma(n.eventQueue_,vi(),i)}(n)}function fM(n,t,e){const i=new Ai("/.info/"+t),r=Sr(e);n.infoData_.updateSnapshot(i,r);const s=uy(n.infoSyncTree_,i,r);ma(n.eventQueue_,i,s)}function rE(n){return n.nextWriteId_++}function pM(n,t,e,i,r){Dg(n,"set",{path:t.toString(),value:e,priority:i});const s=yy(n),o=Sr(e,i),c=QC(n.serverSyncTree_,t),u=oM(o,c,s),f=rE(n),_=Jk(n.serverSyncTree_,t,u,f,!0);iE(n.eventQueue_,_),n.server_.put(t.toString(),o.val(!0),(T,M)=>{const F="ok"===T;F||no("set at "+t+" failed: "+T);const V=tu(n.serverSyncTree_,f,!F);ma(n.eventQueue_,t,V),nu(0,r,T,M)});const w=_M(n,t);Tg(n,w),ma(n.eventQueue_,w,[])}function Fhe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&Vk(n.onDisconnect_,t),nu(0,e,i,r)})}function g4(n,t,e,i){const r=Sr(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,o)=>{"ok"===s&&wg(n.onDisconnect_,t,r),nu(0,i,s,o)})}function gM(n,t,e){let i;i=".info"===Wn(t._path)?KC(n.infoSyncTree_,t,e):KC(n.serverSyncTree_,t,e),c4(n.eventQueue_,t._path,i)}function m4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(u4)}function Dg(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Is(e,...t)}function nu(n,t,e,i){t&&mg(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,t(o)}})}function mM(n,t,e){return QC(n.serverSyncTree_,t,e)||kn.EMPTY_NODE}function sE(n,t=n.transactionQueueTree_){if(t||oE(n,t),Rh(t)){const e=v4(n,t);(0,te.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Uhe(n,t,e){const i=e.map(f=>f.currentWriteId),r=mM(n,t,i);let s=r;const o=r.hash();for(let f=0;f<e.length;f++){const _=e[f];(0,te.hu)(0===_.status,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const w=So(t,_.path);s=s.updateChild(w,_.currentOutputSnapshotRaw)}const c=s.val(!0),u=t;n.server_.put(u.toString(),c,f=>{Dg(n,"transaction put response",{path:u.toString(),status:f});let _=[];if("ok"===f){const w=[];for(let T=0;T<e.length;T++)e[T].status=2,_=_.concat(tu(n.serverSyncTree_,e[T].currentWriteId)),e[T].onComplete&&w.push(()=>e[T].onComplete(null,!0,e[T].currentOutputSnapshotResolved)),e[T].unwatcher();oE(n,eE(n.transactionQueueTree_,t)),sE(n,n.transactionQueueTree_),ma(n.eventQueue_,t,_);for(let T=0;T<w.length;T++)mg(w[T])}else{if("datastale"===f)for(let w=0;w<e.length;w++)e[w].status=3===e[w].status?4:0;else{no("transaction at "+u.toString()+" failed: "+f);for(let w=0;w<e.length;w++)e[w].status=4,e[w].abortReason=f}Tg(n,t)}},o)}(n,py(t),e)}else r4(t)&&tE(t,e=>{sE(n,e)})}function Tg(n,t){const e=_4(n,t),i=py(e);return function jhe(n,t,e){if(0===t.length)return;const i=[];let r=[];const o=t.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const u=t[c],f=So(e,u.path);let w,_=!1;if((0,te.hu)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)_=!0,w=u.abortReason,r=r.concat(tu(n.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=Ahe)_=!0,w="maxretry",r=r.concat(tu(n.serverSyncTree_,u.currentWriteId,!0));else{const T=mM(n,u.path,o);u.currentInputSnapshot=T;const M=t[c].update(T.val());if(void 0!==M){my("transaction failed: Data returned ",M,u.path);let F=Sr(M);"object"==typeof M&&null!=M&&(0,te.r3)(M,".priority")||(F=F.updatePriority(T.getPriority()));const U=u.currentWriteId,re=yy(n),ee=oM(F,T,re);u.currentOutputSnapshotRaw=F,u.currentOutputSnapshotResolved=ee,u.currentWriteId=rE(n),o.splice(o.indexOf(U),1),r=r.concat(Jk(n.serverSyncTree_,u.path,ee,u.currentWriteId,u.applyLocally)),r=r.concat(tu(n.serverSyncTree_,U,!0))}else _=!0,w="nodata",r=r.concat(tu(n.serverSyncTree_,u.currentWriteId,!0))}ma(n.eventQueue_,e,r),r=[],_&&(t[c].status=2,setTimeout(t[c].unwatcher,Math.floor(0)),t[c].onComplete&&i.push("nodata"===w?()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot):()=>t[c].onComplete(new Error(w),!1,null)))}oE(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)mg(i[c]);sE(n,n.transactionQueueTree_)}(n,v4(n,e),i),i}function _4(n,t){let e,i=n.transactionQueueTree_;for(e=Wn(t);null!==e&&void 0===Rh(i);)i=eE(i,e),e=Wn(t=Gi(t));return i}function v4(n,t){const e=[];return y4(n,t,e),e.sort((i,r)=>i.order-r.order),e}function y4(n,t,e){const i=Rh(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);tE(t,r=>{y4(n,r,e)})}function oE(n,t){const e=Rh(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,cM(t,e.length>0?e:void 0)}tE(t,i=>{oE(n,i)})}function _M(n,t){const e=py(_4(n,t)),i=eE(n.transactionQueueTree_,t);return function bhe(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{vM(n,r)}),vM(n,i),s4(i,r=>{vM(n,r)}),e}function vM(n,t){const e=Rh(t);if(e){const i=[];let r=[],s=-1;for(let o=0;o<e.length;o++)3===e[o].status||(1===e[o].status?((0,te.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,e[o].status=3,e[o].abortReason="set"):((0,te.hu)(0===e[o].status,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(tu(n.serverSyncTree_,e[o].currentWriteId,!0)),e[o].onComplete&&i.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?cM(t,void 0):e.length=s+1,ma(n.eventQueue_,py(t),r);for(let o=0;o<i.length;o++)mg(i[o])}}const yM=function(n,t){const e=$he(n),i=e.namespace;return"firebase.com"===e.domain&&ec(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ec("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&no("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new wk(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Ai(e.pathString)}},$he=function(n){let t="",e="",i="",r="",s="",o=!0,c="https",u=443;if("string"==typeof n){let f=n.indexOf("//");f>=0&&(c=n.substring(0,f-1),n=n.substring(f+2));let _=n.indexOf("/");-1===_&&(_=n.length);let w=n.indexOf("?");-1===w&&(w=n.length),t=n.substring(0,Math.min(_,w)),_<w&&(r=function Whe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(_,w)));const T=function Ghe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):no(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,w)));f=t.indexOf(":"),f>=0?(o="https"===c||"wss"===c,u=parseInt(t.substring(f+1),10)):f=t.length;const M=t.slice(0,f);if("localhost"===M.toLowerCase())e="localhost";else if(M.split(".").length<=2)e=M;else{const F=t.indexOf(".");i=t.substring(0,F).toLowerCase(),e=t.substring(F+1),s=i}"ns"in T&&(s=T.ns)}return{host:t,port:u,domain:e,subdomain:i,secure:o,scheme:c,pathString:r,namespace:s}},b4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Yhe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=b4.charAt(e%64),e=Math.floor(e/64);(0,te.hu)(0===e,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=b4.charAt(t[r]);return(0,te.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class w4{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,te.Wl)(this.snapshot.exportVal())}}class x4{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class bM{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,te.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class C4{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new te.BH;return Fhe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ja("OnDisconnect.remove",this._path);const t=new te.BH;return g4(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ja("OnDisconnect.set",this._path),ic("OnDisconnect.set",t,this._path,!1);const e=new te.BH;return g4(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){ja("OnDisconnect.setWithPriority",this._path),ic("OnDisconnect.setWithPriority",t,this._path,!1),hM("OnDisconnect.setWithPriority",e,!1);const i=new te.BH;return function Lhe(n,t,e,i,r){const s=Sr(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(o,c)=>{"ok"===o&&wg(n.onDisconnect_,t,s),nu(0,r,o,c)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){ja("OnDisconnect.update",this._path),a4("OnDisconnect.update",t,this._path,!1);const e=new te.BH;return function Vhe(n,t,e,i){if((0,te.xb)(e))return Is("onDisconnect().update() called with empty data.  Don't do anything."),void nu(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Ss(e,(o,c)=>{const u=Sr(c);wg(n.onDisconnect_,_r(t,o),u)}),nu(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Xo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Gn(this._path)?null:Ik(this._path)}get ref(){return new Wa(this._repo,this._path)}get _queryIdentifier(){const t=Ij(this._queryParams),e=yk(t);return"{}"===e?"default":e}get _queryObject(){return Ij(this._queryParams)}isEqual(t){if(!((t=(0,te.m9)(t))instanceof Xo))return!1;const e=this._repo===t._repo,i=Sk(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Vde(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function aE(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function iu(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===tc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==qd)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Xc)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===nr){if(null!=t&&!gy(t)||null!=e&&!gy(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,te.hu)(n.getIndex()instanceof Ok||n.getIndex()===Pk,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function lE(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Wa extends Xo{constructor(t,e){super(t,e,new LC,!1)}get parent(){const t=gj(this._path);return null===t?null:new Wa(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Oh{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Ai(t),i=Ph(this.ref,t);return new Oh(this._node.getChild(e),i,nr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Oh(r,Ph(this.ref,i),nr)))}hasChild(t){const e=new Ai(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function E4(n,t){return(n=(0,te.m9)(n))._checkNotDeleted("ref"),void 0!==t?Ph(n._root,t):n._root}function D4(n,t){(n=(0,te.m9)(n))._checkNotDeleted("refFromURL");const e=yM(t,n._repo.repoInfo_.nodeAdmin);l4("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ec("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),E4(n,e.path.toString())}function Ph(n,t){return null===Wn((n=(0,te.m9)(n))._path)?The("child","path",t,!1):vy("child","path",t,!1),new Wa(n._repo,_r(n._path,t))}function wM(n,t){n=(0,te.m9)(n),ja("set",n._path),ic("set",t,n._path,!1);const e=new te.BH;return pM(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Qhe(n,t){a4("update",t,n._path,!1);const e=new te.BH;return function Phe(n,t,e,i){Dg(n,"update",{path:t.toString(),value:e});let r=!0;const s=yy(n),o={};if(Ss(e,(c,u)=>{r=!1,o[c]=i4(_r(t,c),Sr(u),n.serverSyncTree_,s)}),r)Is("update() called with empty data.  Don't do anything."),nu(0,i,"ok",void 0);else{const c=rE(n),u=function ohe(n,t,e,i){!function Cue(n,t,e,i){(0,te.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Wk(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=ir.fromObject(e);return Eg(n,new xg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,o,c);iE(n.eventQueue_,u),n.server_.merge(t.toString(),e,(f,_)=>{const w="ok"===f;w||no("update at "+t+" failed: "+f);const T=tu(n.serverSyncTree_,c,!w),M=T.length>0?Tg(n,t):t;ma(n.eventQueue_,M,T),nu(0,i,f,_)}),Ss(e,f=>{const _=_M(n,_r(t,f));Tg(n,_)}),ma(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Jhe(n){n=(0,te.m9)(n);const t=new bM(()=>{}),e=new by(t);return function Ohe(n,t,e){const i=function uhe(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(f,_)=>{const w=So(f,e);i=i||Jd(_,w)});let r=n.syncPointTree_.get(e);r?i=i||Jd(r,vi()):(r=new $j,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,o=s?new Kd(i,!0,!1):null;return function que(n){return jC(n.viewCache_)}(Yj(r,t,WC(n.pendingWriteTree_,t._path),s?o.getNode():kn.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=Sr(r).withIndex(t._queryParams.getIndex());let o;if(eM(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())o=uy(n.serverSyncTree_,t._path,s);else{const c=hy(n.serverSyncTree_,t);o=Qj(n.serverSyncTree_,t._path,s,c)}return ma(n.eventQueue_,t._path,o),KC(n.serverSyncTree_,t,e,null,!0),s},r=>(Dg(n,"get for query "+(0,te.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Oh(i,new Wa(n._repo,n._path),n._queryParams.getIndex()))}class by{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new w4("value",this,new Oh(t.snapshotNode,new Wa(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new x4(this,t,e):null}matches(t){return t instanceof by&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cE{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new x4(this,t,e):null}createEvent(t,e){(0,te.hu)(null!=t.childName,"Child events should have a childName.");const i=Ph(new Wa(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new w4(t.type,this,new Oh(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof cE&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function wy(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const u=e,f=(_,w)=>{gM(n._repo,n,c),u(_,w)};f.userCallback=e.userCallback,f.context=e.context,e=f}const o=new bM(e,s||void 0),c="value"===t?new by(o):new cE(t,o);return function Bhe(n,t,e){let i;i=".info"===Wn(t._path)?eM(n.infoSyncTree_,t,e):eM(n.serverSyncTree_,t,e),c4(n.eventQueue_,t._path,i)}(n._repo,n,c),()=>gM(n._repo,n,c)}function xM(n,t,e,i){return wy(n,"value",t,e,i)}function T4(n,t,e,i){return wy(n,"child_added",t,e,i)}function I4(n,t,e,i){return wy(n,"child_changed",t,e,i)}function S4(n,t,e,i){return wy(n,"child_moved",t,e,i)}function A4(n,t,e,i){return wy(n,"child_removed",t,e,i)}function k4(n,t,e){let i=null;const r=e?new bM(e):null;"value"===t?i=new by(r):t&&(i=new cE(t,r)),gM(n._repo,n,i)}class yl{}class M4 extends yl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ic("endAt",this._value,t._path,!0);const e=Lk(t._queryParams,this._value,this._key);if(lE(e),iu(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xo(t._repo,t._path,e,t._orderByCalled)}}class tfe extends yl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ic("endBefore",this._value,t._path,!1);const e=function due(n,t,e){let i;return i=Lk(n,t,n.index_===tc||e?e:qd),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(lE(e),iu(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xo(t._repo,t._path,e,t._orderByCalled)}}class R4 extends yl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ic("startAt",this._value,t._path,!0);const e=Fk(t._queryParams,this._value,this._key);if(lE(e),iu(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Xo(t._repo,t._path,e,t._orderByCalled)}}class rfe extends yl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ic("startAfter",this._value,t._path,!1);const e=function cue(n,t,e){let i;return i=Fk(n,t,n.index_===tc||e?e:Xc),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(lE(e),iu(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Xo(t._repo,t._path,e,t._orderByCalled)}}class ofe extends yl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xo(t._repo,t._path,function aue(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class lfe extends yl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xo(t._repo,t._path,function lue(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class dfe extends yl{constructor(t){super(),this._path=t}_apply(t){aE(t,"orderByChild");const e=new Ai(this._path);if(Gn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Ok(e),r=VC(t._queryParams,i);return iu(r),new Xo(t._repo,t._path,r,!0)}}class hfe extends yl{_apply(t){aE(t,"orderByKey");const e=VC(t._queryParams,tc);return iu(e),new Xo(t._repo,t._path,e,!0)}}class pfe extends yl{_apply(t){aE(t,"orderByPriority");const e=VC(t._queryParams,nr);return iu(e),new Xo(t._repo,t._path,e,!0)}}class mfe extends yl{_apply(t){aE(t,"orderByValue");const e=VC(t._queryParams,Pk);return iu(e),new Xo(t._repo,t._path,e,!0)}}class vfe extends yl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ic("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new M4(this._value,this._key)._apply(new R4(this._value,this._key)._apply(t))}}function bl(n,...t){let e=(0,te.m9)(n);for(const i of t)e=i._apply(e);return e}(function Que(n){(0,te.hu)(!qC,"__referenceConstructor has already been defined"),qC=n})(Wa),function ihe(n){(0,te.hu)(!ZC,"__referenceConstructor has already been defined"),ZC=n}(Wa);const CM={};function EM(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||ec("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Is("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u,f,o=yM(s,r),c=o.repoInfo;typeof process<"u"&&process.env&&(f=process.env.FIREBASE_DATABASE_EMULATOR_HOST),f?(u=!0,s=`http://${f}?ns=${c.namespace}`,o=yM(s,r),c=o.repoInfo):u=!o.repoInfo.secure;const _=r&&u?new Jv(Jv.OWNER):new fde(n.name,n.options,t);l4("Invalid Firebase Database URL",o),Gn(o.path)||ec("Database URL must point to the root of a Firebase Database (not including a child path).");const w=function Cfe(n,t,e,i){let r=CM[t.name];r||(r={},CM[t.name]=r);let s=r[n.toURLString()];return s&&ec("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new khe(n,false,e,i),r[n.toURLString()]=s,s}(c,n,_,new hde(n.name,e));return new Dfe(w,n)}class Dfe{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Mhe(n,t,e){if(n.stats_=Ek(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new BC(n.repoInfo_,(i,r,s,o)=>{f4(n,i,r,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>p4(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,te.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Sh(n.repoInfo_,t,(i,r,s,o)=>{f4(n,i,r,s,o)},i=>{p4(n,i)},i=>{!function Rhe(n,t){Ss(t,(e,i)=>{fM(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function mde(n,t){const e=n.toString();return Ck[e]||(Ck[e]=t()),Ck[e]}(n.repoInfo_,()=>new mue(n.stats_,n.server_)),n.infoData_=new uue,n.infoSyncTree_=new Kj({startListening:(i,r,s,o)=>{let c=[];const u=n.infoData_.getNode(i._path);return u.isEmpty()||(c=uy(n.infoSyncTree_,i._path,u),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),fM(n,"connected",!1),n.serverSyncTree_=new Kj({startListening:(i,r,s,o)=>(n.server_.listen(i,s,r,(c,u)=>{const f=o(c,u);ma(n.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wa(this._repo,vi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function xfe(n,t){const e=CM[t];(!e||e[n.key]!==n)&&ec(`Database ${t}(${n.repoInfo_}) has already been deleted.`),m4(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ec("Cannot call "+t+" on a deleted database.")}}function P4(){ij.IS_TRANSPORT_INITIALIZED&&no("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Tfe(){P4(),Xd.forceDisallow()}function Ife(){P4(),_g.forceDisallow(),Xd.forceAllow()}function kfe(n,t){L3(n,t)}const Rfe={".sv":"timestamp"};class Nfe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Sh.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Sh.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Mfe(n){mk(Yo.SDK_VERSION),(0,Yo._registerComponent)(new ml.wA("database",(t,{instanceIdentifier:e})=>EM(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Yo.registerVersion)(M3,"1.0.1",n),(0,Yo.registerVersion)(M3,"1.0.1","esm2017")}();const Bfe=new ga.Yd("@firebase/database-compat"),F4=function(n){Bfe.warn("FIREBASE WARNING: "+n)};class Ufe{constructor(t){this._delegate=t}cancel(t){(0,te.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,te.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,te.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,te.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,te.Dv)("OnDisconnect.set",1,2,arguments.length),(0,te.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,te.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,te.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,te.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,F4("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,te.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class jfe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,te.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ru{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,te.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,te.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,te.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,te.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,te.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),vy("DataSnapshot.child","path",t,!1),new ru(this._database,this._delegate.child(t))}hasChild(t){return(0,te.Dv)("DataSnapshot.hasChild",1,1,arguments.length),vy("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,te.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,te.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,te.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new ru(this._database,e)))}hasChildren(){return(0,te.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,te.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,te.Dv)("DataSnapshot.ref",0,0,arguments.length),new _a(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Bs{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,te.Dv)("Query.on",2,4,arguments.length),(0,te.Wj)("Query.on","callback",e,!1);const o=Bs.getCancelAndContextArgs_("Query.on",i,r),c=(f,_)=>{e.call(o.context,new ru(this.database,f),_)};c.userCallback=e,c.context=o.context;const u=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(t){case"value":return xM(this._delegate,c,u),e;case"child_added":return T4(this._delegate,c,u),e;case"child_removed":return A4(this._delegate,c,u),e;case"child_changed":return I4(this._delegate,c,u),e;case"child_moved":return S4(this._delegate,c,u),e;default:throw new Error((0,te.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,te.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,te.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,te.Wj)("Query.off","callback",e,!0),(0,te.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,k4(this._delegate,t,r)}else k4(this._delegate,t)}get(){return Jhe(this._delegate).then(t=>new ru(this.database,t))}once(t,e,i,r){(0,te.Dv)("Query.once",1,4,arguments.length),(0,te.Wj)("Query.once","callback",e,!0);const s=Bs.getCancelAndContextArgs_("Query.once",i,r),o=new te.BH,c=(f,_)=>{const w=new ru(this.database,f);e&&e.call(s.context,w,_),o.resolve(w)};c.userCallback=e,c.context=s.context;const u=f=>{s.cancel&&s.cancel.call(s.context,f),o.reject(f)};switch(t){case"value":xM(this._delegate,c,u,{onlyOnce:!0});break;case"child_added":T4(this._delegate,c,u,{onlyOnce:!0});break;case"child_removed":A4(this._delegate,c,u,{onlyOnce:!0});break;case"child_changed":I4(this._delegate,c,u,{onlyOnce:!0});break;case"child_moved":S4(this._delegate,c,u,{onlyOnce:!0});break;default:throw new Error((0,te.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return(0,te.Dv)("Query.limitToFirst",1,1,arguments.length),new Bs(this.database,bl(this._delegate,function afe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ofe(n)}(t)))}limitToLast(t){return(0,te.Dv)("Query.limitToLast",1,1,arguments.length),new Bs(this.database,bl(this._delegate,function cfe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new lfe(n)}(t)))}orderByChild(t){return(0,te.Dv)("Query.orderByChild",1,1,arguments.length),new Bs(this.database,bl(this._delegate,function ufe(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return vy("orderByChild","path",n,!1),new dfe(n)}(t)))}orderByKey(){return(0,te.Dv)("Query.orderByKey",0,0,arguments.length),new Bs(this.database,bl(this._delegate,function ffe(){return new hfe}()))}orderByPriority(){return(0,te.Dv)("Query.orderByPriority",0,0,arguments.length),new Bs(this.database,bl(this._delegate,function gfe(){return new pfe}()))}orderByValue(){return(0,te.Dv)("Query.orderByValue",0,0,arguments.length),new Bs(this.database,bl(this._delegate,function _fe(){return new mfe}()))}startAt(t=null,e){return(0,te.Dv)("Query.startAt",0,2,arguments.length),new Bs(this.database,bl(this._delegate,function ife(n=null,t){return _y("startAt","key",t,!0),new R4(n,t)}(t,e)))}startAfter(t=null,e){return(0,te.Dv)("Query.startAfter",0,2,arguments.length),new Bs(this.database,bl(this._delegate,function sfe(n,t){return _y("startAfter","key",t,!0),new rfe(n,t)}(t,e)))}endAt(t=null,e){return(0,te.Dv)("Query.endAt",0,2,arguments.length),new Bs(this.database,bl(this._delegate,function efe(n,t){return _y("endAt","key",t,!0),new M4(n,t)}(t,e)))}endBefore(t=null,e){return(0,te.Dv)("Query.endBefore",0,2,arguments.length),new Bs(this.database,bl(this._delegate,function nfe(n,t){return _y("endBefore","key",t,!0),new tfe(n,t)}(t,e)))}equalTo(t,e){return(0,te.Dv)("Query.equalTo",1,2,arguments.length),new Bs(this.database,bl(this._delegate,function yfe(n,t){return _y("equalTo","key",t,!0),new vfe(n,t)}(t,e)))}toString(){return(0,te.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,te.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,te.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Bs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,te.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,te.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,te.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new _a(this.database,new Wa(this._delegate._repo,this._delegate._path))}}class _a extends Bs{constructor(t,e){super(t,new Xo(e._repo,e._path,new LC,!1)),this.database=t,this._delegate=e}getKey(){return(0,te.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,te.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new _a(this.database,Ph(this._delegate,t))}getParent(){(0,te.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new _a(this.database,t):null}getRoot(){return(0,te.Dv)("Reference.root",0,0,arguments.length),new _a(this.database,this._delegate.root)}set(t,e){(0,te.Dv)("Reference.set",1,2,arguments.length),(0,te.Wj)("Reference.set","onComplete",e,!0);const i=wM(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,te.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,F4("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ja("Reference.update",this._delegate._path),(0,te.Wj)("Reference.update","onComplete",e,!0);const i=Qhe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,te.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,te.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Khe(n,t,e){if(ja("setWithPriority",n._path),ic("setWithPriority",t,n._path,!1),hM("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new te.BH;return pM(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,te.Dv)("Reference.remove",0,1,arguments.length),(0,te.Wj)("Reference.remove","onComplete",t,!0);const e=function Xhe(n){return ja("remove",n._path),wM(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,te.Dv)("Reference.transaction",1,3,arguments.length),(0,te.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,te.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,te.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Ffe(n,t,e){var i;if(n=(0,te.m9)(n),ja("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new te.BH,c=xM(n,()=>{});return function Hhe(n,t,e,i,r,s){Dg(n,"transaction on "+t);const o={path:t,update:e,onComplete:i,status:null,order:P3(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=mM(n,t,void 0);o.currentInputSnapshot=c;const u=o.update(c.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{my("transaction failed: Data returned ",u,o.path),o.status=0;const f=eE(n.transactionQueueTree_,t),_=Rh(f)||[];let w;_.push(o),cM(f,_),"object"==typeof u&&null!==u&&(0,te.r3)(u,".priority")?(w=(0,te.DV)(u,".priority"),(0,te.hu)(gy(w),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):w=(QC(n.serverSyncTree_,t)||kn.EMPTY_NODE).getPriority().val();const T=yy(n),M=Sr(u,w),F=oM(M,c,T);o.currentOutputSnapshotRaw=M,o.currentOutputSnapshotResolved=F,o.currentWriteId=rE(n);const V=Jk(n.serverSyncTree_,t,F,o.currentWriteId,o.applyLocally);ma(n.eventQueue_,t,V),sE(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(u,f,_)=>{let w=null;u?s.reject(u):(w=new Oh(_,new Wa(n._repo,n._path),nr),s.resolve(new Nfe(f,w)))},c,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new jfe(s.committed,new ru(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,te.Dv)("Reference.setPriority",1,2,arguments.length),(0,te.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Zhe(n,t){n=(0,te.m9)(n),ja("setPriority",n._path),hM("setPriority",t,!1);const e=new te.BH;return pM(n._repo,_r(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,te.Dv)("Reference.push",0,2,arguments.length),(0,te.Wj)("Reference.push","onComplete",e,!0);const i=function qhe(n,t){n=(0,te.m9)(n),ja("push",n._path),ic("push",t,n._path,!0);const e=h4(n._repo),i=Yhe(e),r=Ph(n,i),s=Ph(n,i);let o;return o=null!=t?wM(s,t).then(()=>s):Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}(this._delegate,t),r=i.then(o=>new _a(this.database,o));e&&r.then(()=>e(null),o=>e(o));const s=new _a(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return ja("Reference.onDisconnect",this._delegate._path),new Ufe(new C4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class xy{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Tfe,forceLongPolling:Ife}}useEmulator(t,e,i={}){!function N4(n,t,e,i={}){(n=(0,te.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ec("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ec('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Jv(Jv.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:(0,te.Sg)(i.mockUserToken,n.app.options.projectId);s=new Jv(o)}!function wfe(n,t,e,i){n.repoInfo_=new wk(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,te.Dv)("database.ref",0,1,arguments.length),t instanceof _a){const e=D4(this._delegate,t.toString());return new _a(this,e)}{const e=E4(this._delegate,t);return new _a(this,e)}}refFromURL(t){(0,te.Dv)("database.refFromURL",1,1,arguments.length);const i=D4(this._delegate,t);return new _a(this,i)}goOffline(){return(0,te.Dv)("database.goOffline",0,0,arguments.length),function Sfe(n){(n=(0,te.m9)(n))._checkNotDeleted("goOffline"),m4(n._repo)}(this._delegate)}goOnline(){return(0,te.Dv)("database.goOnline",0,0,arguments.length),function Afe(n){(n=(0,te.m9)(n))._checkNotDeleted("goOnline"),function zhe(n){n.persistentConnection_&&n.persistentConnection_.resume(u4)}(n._repo)}(this._delegate)}}xy.ServerValue={TIMESTAMP:function Ofe(){return Rfe}(),increment:n=>function Pfe(n){return{".sv":{increment:n}}}(n)};var Gfe=Object.freeze({__proto__:null,initStandalone:function Wfe({app:n,url:t,version:e,customAuthImpl:i,customAppCheckImpl:r,namespace:s,nodeAdmin:o=!1}){mk(e);const c=new ml.H0("database-standalone"),u=new ml.zt("auth-internal",c);let f;return u.setComponent(new ml.wA("auth-internal",()=>i,"PRIVATE")),r&&(f=new ml.zt("app-check-internal",c),f.setComponent(new ml.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new xy(EM(n,u,f,t,o),n),namespace:s}}});const $fe=xy.ServerValue;function Cy(n,t,e="on",i=$d){return new zt(r=>{let s=null;return s=n[e](t,(o,c)=>{i.schedule(()=>{r.next({snapshot:o,prevKey:c})}),"once"===e&&i.schedule(()=>r.complete())},o=>{i.schedule(()=>r.error(o))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe(Ge(r=>{const{snapshot:s,prevKey:o}=r;let c=null;return s.exists()&&(c=s.key),{type:t,payload:s,prevKey:o,key:c}}),Be())}function L4(n){return null==n}function V4(n){return"function"==typeof n.set}function B4(n,t){return V4(t)?t:n.ref(t)}function z4(n,t){if(function qfe(n){return"string"==typeof n}(n))return t.stringCase();if(V4(n))return t.firebaseCase();if(function Xfe(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function H4(n){return(L4(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function U4(n,t,e){return K(...(t=H4(t)).map(r=>Cy(n,r,"on",e)))}function j4(n,t){return function(i,r){return z4(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Jfe(n){return function(e){return e?z4(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function W4(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function npe(n,t){const{payload:e,prevKey:i,key:r}=t,s=W4(n,r),o=function tpe(n,t){if(L4(t))return 0;{const e=W4(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload?.exists()){let c=null;t.payload.forEach(u=>{const f={payload:u,type:"value",prevKey:c,key:u.key};return c=u.key,n=[...n,f],!1})}return n;case"child_added":if(s>-1)(n[s-1]?.key||null)!==i&&(n=n.filter(u=>u.payload.key!==e.key)).splice(o,0,t);else{if(null==i)return[t,...n];(n=n.slice()).splice(o,0,t)}return n;case"child_removed":return n.filter(c=>c.payload.key!==e.key);case"child_changed":return n.map(c=>c.payload.key===r?t:c);case"child_moved":if(s>-1){const c=n.splice(s,1)[0];return(n=n.slice()).splice(o,0,c),n}return n;default:return n}}function G4(n,t,e){return function epe(n,t,e){return Cy(n,"value","once",e).pipe(vt(i=>{const r=[de(i)];return t.forEach(s=>r.push(Cy(n,s,"on",e))),K(...r).pipe(pg(npe,[]))}),en())}(n,t=H4(t),e)}function $4(n,t){return function(){return Cy(n,"value","on",t)}}!function Yfe(n){n.INTERNAL.registerComponent(new ml.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new xy(r,i)},"PUBLIC").setServiceProps({Reference:_a,Query:Bs,Database:xy,DataSnapshot:ru,enableLogging:kfe,INTERNAL:Gfe,ServerValue:$fe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.1")}(pa.Z);const spe=new ze("angularfire2.realtimeDatabaseURL"),ope=new ze("angularfire2.database.use-emulator");let ape=(()=>{class n{schedulers;database;constructor(e,i,r,s,o,c,u,f,_,w,T,M,F,V,U){this.schedulers=c;const re=u,ee=qv(e,o,i);f&&pk(ee,o,_,T,M,F,w,V),this.database=EC(`${ee.name}.database.${r}`,"AngularFireDatabase",ee.name,()=>{const ae=o.runOutsideAngular(()=>ee.database(r||void 0));return re&&ae.useEmulator(...re),ae},[re])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>B4(this.database,e));let s=r;return i&&(s=i(r)),function ipe(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:j4(i,"update"),set:j4(i,"set"),push:r=>i.push(r),remove:Jfe(i),snapshotChanges:r=>G4(n,r,e).pipe($r),stateChanges:r=>U4(n,r,e).pipe($r),auditTrail:r=>function Zfe(n,t,e){return function Qfe(n,t,e){return function Kfe(n,t){return Cy(n,"value","on",t).pipe(Ge(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(SC(t),Ge(([r,s])=>{const o=r.lastKeyToLoad,c=s.map(u=>u.key);return{actions:s,lastKeyToLoad:o,loadedKeys:c}}),function Jce(n){return je((t,e)=>{let i=!1,r=0;t.subscribe(ot(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),Ge(r=>r.actions))}(n,U4(n,t).pipe(pg((r,s)=>[...r,s],[])),e)}(n,r,e).pipe($r),valueChanges:(r,s)=>G4(n,r,e).pipe(Ge(c=>c.map(u=>s&&s.idField?{...u.payload.val(),[s.idField]:u.key}:u.payload.val())),$r)}}(s,this)}object(e){return function rpe(n,t){return{query:n,snapshotChanges:()=>$4(n,t.schedulers.outsideAngular)().pipe($r),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>$4(n,t.schedulers.outsideAngular)().pipe($r,Ge(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>B4(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(ue(hg),ue(fg,8),ue(spe,8),ue(wo),ue(ct),ue(CC),ue(ope,8),ue(qc,8),ue(lk,8),ue(ck,8),ue(dk,8),ue(uk,8),ue(hk,8),ue(fk,8),ue(xC,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),lpe=(()=>{class n{constructor(){pa.Z.registerVersion("angularfire",cg.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=At({type:n});static \u0275inj=Ie({providers:[ape]})}return n})();function Ig(...n){return function cpe(){return Yn(1)}()($(n,ho(n)))}function va(...n){const t=ho(n);return je((e,i)=>{(t?Ig(n,e,t):Ig(n,e)).subscribe(i)})}function Sg(){return je((n,t)=>{let e,i=!1;n.subscribe(ot(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var St,dpe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wl={},DM=DM||{},_n=dpe||self;function dE(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Ey(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var TM="closure_uid_"+(1e9*Math.random()>>>0),hpe=0;function fpe(n,t,e){return n.call.apply(n.bind,arguments)}function ppe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function io(n,t,e){return(io=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fpe:ppe).apply(null,arguments)}function uE(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function As(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),c=2;c<arguments.length;c++)o[c-2]=arguments[c];return t.prototype[r].apply(i,o)}}function su(){this.s=this.s,this.o=this.o}su.prototype.s=!1,su.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function upe(n){Object.prototype.hasOwnProperty.call(n,TM)&&n[TM]||(n[TM]=++hpe)}(this)},su.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Y4=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function IM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function q4(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(dE(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function ro(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}ro.prototype.h=function(){this.defaultPrevented=!0};var mpe=function(){if(!_n.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{_n.addEventListener("test",()=>{},t),_n.removeEventListener("test",()=>{},t)}catch{}return n}();function Dy(n){return/^[\s\xa0]*$/.test(n)}function hE(){var n=_n.navigator;return n&&(n=n.userAgent)?n:""}function rc(n){return-1!=hE().indexOf(n)}function SM(n){return SM[" "](n),n}SM[" "]=function(){};var kM,n,vpe=rc("Opera"),Ag=rc("Trident")||rc("MSIE"),X4=rc("Edge"),AM=X4||Ag,Z4=rc("Gecko")&&!(-1!=hE().toLowerCase().indexOf("webkit")&&!rc("Edge"))&&!(rc("Trident")||rc("MSIE"))&&!rc("Edge"),ype=-1!=hE().toLowerCase().indexOf("webkit")&&!rc("Edge");function K4(){var n=_n.document;return n?n.documentMode:void 0}e:{var MM="",RM=(n=hE(),Z4?/rv:([^\);]+)(\)|;)/.exec(n):X4?/Edge\/([\d\.]+)/.exec(n):Ag?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ype?/WebKit\/(\S+)/.exec(n):vpe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(RM&&(MM=RM?RM[1]:""),Ag){var OM=K4();if(null!=OM&&OM>parseFloat(MM)){kM=String(OM);break e}}kM=MM}var bpe=_n.document&&Ag&&(K4()||parseInt(kM,10))||void 0;function Ty(n,t){if(ro.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Z4){e:{try{SM(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:wpe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ty.$.h.call(this)}}As(Ty,ro);var wpe={2:"touch",3:"pen",4:"mouse"};Ty.prototype.h=function(){Ty.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Iy="closure_listenable_"+(1e6*Math.random()|0),xpe=0;function Cpe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++xpe,this.fa=this.ia=!1}function fE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function NM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function J4(n){const t={};for(const e in n)t[e]=n[e];return t}const eW="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tW(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<eW.length;s++)e=eW[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function pE(n){this.src=n,this.g={},this.h=0}function FM(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=Y4(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(fE(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function LM(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}pE.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=LM(n,t,i,r);return-1<o?(t=n[o],e||(t.ia=!1)):((t=new Cpe(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var VM="closure_lm_"+(1e6*Math.random()|0),BM={};function nW(n,t,e,i,r){if(i&&i.once)return rW(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)nW(n,t[s],e,i,r);return null}return e=jM(e),n&&n[Iy]?n.O(t,e,Ey(i)?!!i.capture:!!i,r):iW(n,t,e,!1,i,r)}function iW(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=Ey(r)?!!r.capture:!!r,c=HM(n);if(c||(n[VM]=c=new pE(n)),(e=c.add(t,e,i,o,s)).proxy)return e;if(i=function Dpe(){const t=Tpe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)mpe||(r=o),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(oW(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function rW(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)rW(n,t[s],e,i,r);return null}return e=jM(e),n&&n[Iy]?n.P(t,e,Ey(i)?!!i.capture:!!i,r):iW(n,t,e,!0,i,r)}function sW(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)sW(n,t[s],e,i,r);else i=Ey(i)?!!i.capture:!!i,e=jM(e),n&&n[Iy]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=LM(s=n.g[t],e,i,r))&&(fE(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=HM(n))&&(t=n.g[t.toString()],n=-1,t&&(n=LM(t,e,i,r)),(e=-1<n?t[n]:null)&&zM(e))}function zM(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Iy])FM(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(oW(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=HM(t))?(FM(e,n),0==e.h&&(e.src=null,t[VM]=null)):fE(n)}}}function oW(n){return n in BM?BM[n]:BM[n]="on"+n}function Tpe(n,t){if(n.fa)n=!0;else{t=new Ty(t,this);var e=n.listener,i=n.la||n.src;n.ia&&zM(n),n=e.call(i,t)}return n}function HM(n){return(n=n[VM])instanceof pE?n:null}var UM="__closure_events_fn_"+(1e9*Math.random()>>>0);function jM(n){return"function"==typeof n?n:(n[UM]||(n[UM]=function(t){return n.handleEvent(t)}),n[UM])}function ks(){su.call(this),this.i=new pE(this),this.S=this,this.J=null}function zs(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new ro(t,n);else if(t instanceof ro)t.target=t.target||n;else{var r=t;tW(t=new ro(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=gE(o,i,!0,t)&&r}if(r=gE(o=t.g=n,i,!0,t)&&r,r=gE(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=gE(o=t.g=e[s],i,!1,t)&&r}function gE(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==e){var c=o.listener,u=o.la||o.src;o.ia&&FM(n.i,o),r=!1!==c.call(u,i)&&r}}return r&&!i.defaultPrevented}As(ks,su),ks.prototype[Iy]=!0,ks.prototype.removeEventListener=function(n,t,e,i){sW(this,n,t,e,i)},ks.prototype.N=function(){if(ks.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)fE(e[i]);delete n.g[t],n.h--}}this.J=null},ks.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ks.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var WM=_n.JSON.stringify;function Spe(){var n=GM;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var aW=new class Ipe{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new kpe,n=>n.reset());class kpe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Mpe(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Rpe(n){_n.setTimeout(()=>{throw n},0)}let Sy,Ay=!1,GM=new class Ape{constructor(){this.h=this.g=null}add(t,e){const i=aW.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},lW=()=>{const n=_n.Promise.resolve(void 0);Sy=()=>{n.then(Ope)}};var Ope=()=>{for(var n;n=Spe();){try{n.h.call(n.g)}catch(e){Rpe(e)}var t=aW;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Ay=!1};function mE(n,t){ks.call(this),this.h=n||1,this.g=t||_n,this.j=io(this.qb,this),this.l=Date.now()}function $M(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function YM(n,t,e){if("function"==typeof n)e&&(n=io(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=io(n.handleEvent,n)}return 2147483647<Number(t)?-1:_n.setTimeout(n,t||0)}function cW(n){n.g=YM(()=>{n.g=null,n.i&&(n.i=!1,cW(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}As(mE,ks),(St=mE.prototype).ga=!1,St.T=null,St.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zs(this,"tick"),this.ga&&($M(this),this.start()))}},St.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},St.N=function(){mE.$.N.call(this),$M(this),delete this.g};class Ppe extends su{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:cW(this)}N(){super.N(),this.g&&(_n.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ky(n){su.call(this),this.h=n,this.g={}}As(ky,su);var dW=[];function uW(n,t,e,i){Array.isArray(e)||(e&&(dW[0]=e.toString()),e=dW);for(var r=0;r<e.length;r++){var s=nW(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function hW(n){NM(n.g,function(t,e){this.g.hasOwnProperty(e)&&zM(t)},n),n.g={}}function _E(){this.g=!0}function kg(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Vpe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return WM(e)}catch{return t}}(n,e)+(i?" "+i:"")})}ky.prototype.N=function(){ky.$.N.call(this),hW(this)},ky.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_E.prototype.Ea=function(){this.g=!1},_E.prototype.info=function(){};var Nh={},fW=null;function vE(){return fW=fW||new ks}function pW(n){ro.call(this,Nh.Ta,n)}function My(n){const t=vE();zs(t,new pW(t))}function gW(n,t){ro.call(this,Nh.STAT_EVENT,n),this.stat=t}function Ao(n){const t=vE();zs(t,new gW(t,n))}function mW(n,t){ro.call(this,Nh.Ua,n),this.size=t}function Ry(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return _n.setTimeout(function(){n()},t)}Nh.Ta="serverreachability",As(pW,ro),Nh.STAT_EVENT="statevent",As(gW,ro),Nh.Ua="timingevent",As(mW,ro);var yE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_W={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qM(){}function yW(){}qM.prototype.h=null;var KM,Oy={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function XM(){ro.call(this,"d")}function ZM(){ro.call(this,"c")}function bE(){}function Py(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new ky(this),this.P=Bpe,this.V=new mE(n=AM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bW}function bW(){this.i=null,this.g="",this.h=!1}As(XM,ro),As(ZM,ro),As(bE,qM),bE.prototype.g=function(){return new XMLHttpRequest},bE.prototype.i=function(){return{}},KM=new bE;var Bpe=45e3,QM={},wE={};function JM(n,t,e){n.L=1,n.v=DE(Kc(t)),n.s=e,n.S=!0,wW(n,null)}function wW(n,t){n.G=Date.now(),Ny(n),n.A=Kc(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),MW(e.i,"t",i),n.C=0,e=n.l.J,n.h=new bW,n.g=tG(n.l,e?t:null,!n.s),0<n.O&&(n.M=new Ppe(io(n.Pa,n,n.g),n.O)),uW(n.U,n.g,"readystatechange",n.nb),t=n.I?J4(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),My(),function Npe(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",c=s.split("&"),u=0;u<c.length;u++){var f=c[u].split("=");if(1<f.length){var _=f[0];f=f[1];var w=_.split("_");o=2<=w.length&&"type"==w[1]?o+(_+"=")+f+"&":o+(_+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function xW(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function CW(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=zpe(n,e),r==wE){4==t&&(n.o=4,Ao(14),i=!1),kg(n.j,n.m,null,"[Incomplete Response]");break}if(r==QM){n.o=4,Ao(15),kg(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}kg(n.j,n.m,r,null),eR(n,r)}xW(n)&&r!=wE&&r!=QM&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ao(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),aR(t),t.M=!0,Ao(11))):(kg(n.j,n.m,e,"[Invalid Chunked Response]"),Fh(n),Fy(n))}function zpe(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?wE:(e=Number(t.substring(e,i)),isNaN(e)?QM:(i+=1)+e>t.length?wE:(t=t.slice(i,i+e),n.C=i+e,t))}function Ny(n){n.Y=Date.now()+n.P,EW(n,n.P)}function EW(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ry(io(n.lb,n),t)}function xE(n){n.B&&(_n.clearTimeout(n.B),n.B=null)}function Fy(n){0==n.l.H||n.J||KW(n.l,n)}function Fh(n){xE(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,$M(n.V),hW(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function eR(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||tR(e.i,n)))if(!n.K&&tR(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;ME(e),AE(e)}oR(e),Ao(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Ry(io(e.ib,e),6e3));if(1>=PW(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Vh(e,11)}else if((n.K||e.g==n)&&ME(e),!Dy(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let f=r[t];if(e.V=f[0],f=f[1],2==e.H)if("c"==f[0]){e.K=f[1],e.pa=f[2];const _=f[3];null!=_&&(e.ra=_,e.l.info("VER="+e.ra));const w=f[4];null!=w&&(e.Ga=w,e.l.info("SVER="+e.Ga));const T=f[5];null!=T&&"number"==typeof T&&0<T&&(e.L=i=1.5*T,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const M=n.g;if(M){const F=M.g?M.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var s=i.i;s.g||-1==F.indexOf("spdy")&&-1==F.indexOf("quic")&&-1==F.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(nR(s,s.h),s.h=null))}if(i.F){const V=M.g?M.g.getResponseHeader("X-HTTP-Session-Id"):null;V&&(i.Da=V,ur(i.I,i.F,V))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var o=n;if((i=e).wa=eG(i,i.J?i.pa:null,i.Y),o.K){NW(i.i,o);var c=o,u=i.L;u&&c.setTimeout(u),c.B&&(xE(c),Ny(c)),i.g=o}else XW(i);0<e.j.length&&kE(e)}else"stop"!=f[0]&&"close"!=f[0]||Vh(e,7);else 3==e.H&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?Vh(e,7):sR(e):"noop"!=f[0]&&e.h&&e.h.Aa(f),e.A=0)}My()}catch{}}function DW(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(dE(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function Upe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(dE(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function Hpe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(dE(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(St=Py.prototype).setTimeout=function(n){this.P=n},St.nb=function(n){n=n.target;const t=this.M;t&&3==sc(n)?t.l():this.Pa(n)},St.Pa=function(n){try{if(n==this.g)e:{const _=sc(this.g);var t=this.g.Ia();if(this.g.da(),!(3>_)&&(3!=_||AM||this.g&&(this.h.h||this.g.ja()||jW(this.g)))){this.J||4!=_||7==t||My(),xE(this);var e=this.g.da();this.ca=e;t:if(xW(this)){var i=jW(this.g);n="";var r=i.length,s=4==sc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fh(this),Fy(this);var o="";break t}this.h.i=new _n.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==e,function Fpe(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,_,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dy(c)){var f=c;break t}}f=null}if(!(e=f)){this.i=!1,this.o=3,Ao(12),Fh(this),Fy(this);break e}kg(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eR(this,e)}this.S?(CW(this,_,o),AM&&this.i&&3==_&&(uW(this.U,this.V,"tick",this.mb),this.V.start())):(kg(this.j,this.m,o,null),eR(this,o)),4==_&&Fh(this),this.i&&!this.J&&(4==_?KW(this.l,this):(this.i=!1,Ny(this)))}else(function oge(n){const t={};n=(n.g&&2<=sc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Dy(n[i]))continue;var e=Mpe(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function Epe(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<o.indexOf("Unknown SID")?(this.o=3,Ao(12)):(this.o=0,Ao(13)),Fh(this),Fy(this)}}}catch{}},St.mb=function(){if(this.g){var n=sc(this.g),t=this.g.ja();this.C<t.length&&(xE(this),CW(this,n,t),this.i&&4!=n&&Ny(this))}},St.cancel=function(){this.J=!0,Fh(this)},St.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Lpe(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(My(),Ao(17)),Fh(this),this.o=2,Fy(this)):EW(this,this.Y-n)};var TW=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Lh){this.h=n.h,CE(this,n.j),this.s=n.s,this.g=n.g,EE(this,n.m),this.l=n.l;var t=n.i,e=new By;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),IW(this,e),this.o=n.o}else n&&(t=String(n).match(TW))?(this.h=!1,CE(this,t[1]||"",!0),this.s=Ly(t[2]||""),this.g=Ly(t[3]||"",!0),EE(this,t[4]),this.l=Ly(t[5]||"",!0),IW(this,t[6]||"",!0),this.o=Ly(t[7]||"")):(this.h=!1,this.i=new By(null,this.h))}function Kc(n){return new Lh(n)}function CE(n,t,e){n.j=e?Ly(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function EE(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function IW(n,t,e){t instanceof By?(n.i=t,function Xpe(n,t){t&&!n.j&&(ou(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(AW(this,i),MW(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Vy(t,Ype)),n.i=new By(t,n.h))}function ur(n,t,e){n.i.set(t,e)}function DE(n){return ur(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ly(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vy(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Wpe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Wpe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Lh.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Vy(t,SW,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Vy(t,SW,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Vy(e,"/"==e.charAt(0)?$pe:Gpe,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Vy(e,qpe)),n.join("")};var SW=/[#\/\?@]/g,Gpe=/[#\?:]/g,$pe=/[#\?]/g,Ype=/[#\?@]/g,qpe=/#/g;function By(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function ou(n){n.g||(n.g=new Map,n.h=0,n.i&&function jpe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function AW(n,t){ou(n),t=Mg(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function kW(n,t){return ou(n),t=Mg(n,t),n.g.has(t)}function MW(n,t,e){AW(n,t),0<e.length&&(n.i=null,n.g.set(Mg(n,t),IM(e)),n.h+=e.length)}function Mg(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function RW(n){this.l=n||Kpe,n=_n.PerformanceNavigationTiming?0<(n=_n.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(_n.g&&_n.g.Ka&&_n.g.Ka()&&_n.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(St=By.prototype).add=function(n,t){ou(this),this.i=null,n=Mg(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},St.forEach=function(n,t){ou(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},St.ta=function(){ou(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},St.Z=function(n){ou(this);let t=[];if("string"==typeof n)kW(this,n)&&(t=t.concat(this.g.get(Mg(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},St.set=function(n,t){return ou(this),this.i=null,kW(this,n=Mg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},St.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},St.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var Kpe=10;function OW(n){return!!n.h||!!n.g&&n.g.size>=n.j}function PW(n){return n.h?1:n.g?n.g.size:0}function tR(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function nR(n,t){n.g?n.g.add(t):n.h=t}function NW(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function FW(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return IM(n.i)}RW.prototype.cancel=function(){if(this.i=FW(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Qpe=class{stringify(n){return _n.JSON.stringify(n,void 0)}parse(n){return _n.JSON.parse(n,void 0)}};function Jpe(){this.g=new Qpe}function ege(n,t,e){const i=e||"";try{DW(n,function(r,s){let o=r;Ey(r)&&(o=WM(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function TE(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function zy(n){this.l=n.ec||null,this.j=n.ob||!1}function IE(n,t){ks.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=iR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}As(zy,qM),zy.prototype.g=function(){return new IE(this.l,this.j)},zy.prototype.i=function(n){return function(){return n}}({}),As(IE,ks);var iR=0;function LW(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Hy(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Uy(n)}function Uy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(St=IE.prototype).open=function(n,t){if(this.readyState!=iR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Uy(this)},St.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||_n).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},St.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hy(this)),this.readyState=iR},St.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Uy(this)),this.g&&(this.readyState=3,Uy(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof _n.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LW(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},St.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Hy(this):Uy(this),3==this.readyState&&LW(this)}},St.Za=function(n){this.g&&(this.response=this.responseText=n,Hy(this))},St.Ya=function(n){this.g&&(this.response=n,Hy(this))},St.ka=function(){this.g&&Hy(this)},St.setRequestHeader=function(n,t){this.v.append(n,t)},St.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},St.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(IE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var nge=_n.JSON.parse;function Fr(n){ks.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=VW,this.L=this.M=!1}As(Fr,ks);var VW="",ige=/^https?$/i,rge=["POST","PUT"];function BW(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,zW(n),SE(n)}function zW(n){n.F||(n.F=!0,zs(n,"complete"),zs(n,"error"))}function HW(n){if(n.h&&typeof DM<"u"&&(!n.C[1]||4!=sc(n)||2!=n.da()))if(n.v&&4==sc(n))YM(n.La,0,n);else if(zs(n,"readystatechange"),4==sc(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===o){var r=String(n.I).match(TW)[1]||null;!r&&_n.self&&_n.self.location&&(r=_n.self.location.protocol.slice(0,-1)),i=!ige.test(r?r.toLowerCase():"")}e=i}if(e)zs(n,"complete"),zs(n,"success");else{n.m=6;try{var s=2<sc(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",zW(n)}}finally{SE(n)}}}function SE(n,t){if(n.g){UW(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||zs(n,"ready");try{e.onreadystatechange=i}catch{}}}function UW(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(_n.clearTimeout(n.A),n.A=null)}function sc(n){return n.g?n.g.readyState:0}function jW(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case VW:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function WW(n){let t="";return NM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function rR(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=WW(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ur(n,t,e))}function jy(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function GW(n){this.Ga=0,this.j=[],this.l=new _E,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jy("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jy("baseRetryDelayMs",5e3,n),this.hb=jy("retryDelaySeedMs",1e4,n),this.eb=jy("forwardChannelMaxRetries",2,n),this.xa=jy("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new RW(n&&n.concurrentRequestLimit),this.Ja=new Jpe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function sR(n){if($W(n),3==n.H){var t=n.W++,e=Kc(n.I);if(ur(e,"SID",n.K),ur(e,"RID",t),ur(e,"TYPE","terminate"),Wy(n,e),(t=new Py(n,n.l,t)).L=2,t.v=DE(Kc(e)),e=!1,_n.navigator&&_n.navigator.sendBeacon)try{e=_n.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&_n.Image&&((new Image).src=t.v,e=!0),e||(t.g=tG(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ny(t)}JW(n)}function AE(n){n.g&&(aR(n),n.g.cancel(),n.g=null)}function $W(n){AE(n),n.u&&(_n.clearTimeout(n.u),n.u=null),ME(n),n.i.cancel(),n.m&&("number"==typeof n.m&&_n.clearTimeout(n.m),n.m=null)}function kE(n){if(!OW(n.i)&&!n.m){n.m=!0;var t=n.Na;Sy||lW(),Ay||(Sy(),Ay=!0),GM.add(t,n),n.C=0}}function YW(n,t){var e;e=t?t.m:n.W++;const i=Kc(n.I);ur(i,"SID",n.K),ur(i,"RID",e),ur(i,"AID",n.V),Wy(n,i),n.o&&n.s&&rR(i,n.o,n.s),e=new Py(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=qW(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),nR(n.i,e),JM(e,i,t)}function Wy(n,t){n.na&&NM(n.na,function(e,i){ur(t,i,e)}),n.h&&DW({},function(e,i){ur(t,i,e)})}function qW(n,t,e){e=Math.min(n.j.length,e);var i=n.h?io(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let c=!0;for(let u=0;u<e;u++){let f=r[u].g;const _=r[u].map;if(f-=s,0>f)s=Math.max(0,r[u].g-100),c=!1;else try{ege(_,o,"req"+f+"_")}catch{i&&i(_)}}if(c){i=o.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function XW(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Sy||lW(),Ay||(Sy(),Ay=!0),GM.add(t,n),n.A=0}}function oR(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ry(io(n.Ma,n),QW(n,n.A)),n.A++,0))}function aR(n){null!=n.B&&(_n.clearTimeout(n.B),n.B=null)}function ZW(n){n.g=new Py(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Kc(n.wa);ur(t,"RID","rpc"),ur(t,"SID",n.K),ur(t,"AID",n.V),ur(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&ur(t,"TO",n.qa),ur(t,"TYPE","xmlhttp"),Wy(n,t),n.o&&n.s&&rR(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=DE(Kc(t)),e.s=null,e.S=!0,wW(e,n)}function ME(n){null!=n.v&&(_n.clearTimeout(n.v),n.v=null)}function KW(n,t){var e=null;if(n.g==t){ME(n),aR(n),n.g=null;var i=2}else{if(!tR(n.i,t))return;e=t.F,NW(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;zs(i=vE(),new mW(i,e)),kE(n)}else XW(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function age(n,t){return!(PW(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ry(io(n.Na,n,t),QW(n,n.C)),n.C++,0)))}(n,t)||2==i&&oR(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Vh(n,5);break;case 4:Vh(n,10);break;case 3:Vh(n,6);break;default:Vh(n,2)}}function QW(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Vh(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=io(n.pb,n);e||(e=new Lh("//www.google.com/images/cleardot.gif"),_n.location&&"http"==_n.location.protocol||CE(e,"https"),DE(e)),function tge(n,t){const e=new _E;if(_n.Image){const i=new Image;i.onload=uE(TE,e,i,"TestLoadImage: loaded",!0,t),i.onerror=uE(TE,e,i,"TestLoadImage: error",!1,t),i.onabort=uE(TE,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=uE(TE,e,i,"TestLoadImage: timeout",!1,t),_n.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ao(2);n.H=0,n.h&&n.h.za(t),JW(n),$W(n)}function JW(n){if(n.H=0,n.ma=[],n.h){const t=FW(n.i);(0!=t.length||0!=n.j.length)&&(q4(n.ma,t),q4(n.ma,n.j),n.i.i.length=0,IM(n.j),n.j.length=0),n.h.ya()}}function eG(n,t,e){var i=e instanceof Lh?Kc(e):new Lh(e);if(""!=i.g)t&&(i.g=t+"."+i.g),EE(i,i.m);else{var r=_n.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Lh(null);i&&CE(s,i),t&&(s.g=t),r&&EE(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&ur(i,e,t),ur(i,"VER",n.ra),Wy(n,i),i}function tG(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Fr(e&&n.Ha&&!n.va?new zy({ob:!0}):n.va)).Oa(n.J),t}function nG(){}function RE(){if(Ag&&!(10<=Number(bpe)))throw Error("Environmental error: no available transport.")}function ya(n,t){ks.call(this),this.g=new GW(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Dy(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Dy(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Rg(this)}function iG(n){XM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function rG(){ZM.call(this),this.status=1}function Rg(n){this.g=n}function xl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function lR(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],o=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=e+((o=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ni(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(St=Fr.prototype).Oa=function(n){this.M=n},St.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():KM.g(),this.C=function vW(n){return n.h||(n.h=n.i())}(this.u?this.u:KM),this.g.onreadystatechange=io(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void BW(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=_n.FormData&&n instanceof _n.FormData,!(0<=Y4(rge,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{UW(this),0<this.B&&((this.L=function sge(n){return Ag&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=io(this.ua,this)):this.A=YM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){BW(this,s)}},St.ua=function(){typeof DM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zs(this,"timeout"),this.abort(8))},St.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zs(this,"complete"),zs(this,"abort"),SE(this))},St.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),SE(this,!0)),Fr.$.N.call(this)},St.La=function(){this.s||(this.G||this.v||this.l?HW(this):this.kb())},St.kb=function(){HW(this)},St.isActive=function(){return!!this.g},St.da=function(){try{return 2<sc(this)?this.g.status:-1}catch{return-1}},St.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},St.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),nge(t)}},St.Ia=function(){return this.m},St.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(St=GW.prototype).ra=8,St.H=1,St.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Py(this,this.l,n);let s=this.s;if(this.U&&(s?(s=J4(s),tW(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=qW(this,r,t),ur(e=Kc(this.I),"RID",n),ur(e,"CVER",22),this.F&&ur(e,"X-HTTP-Session-Id",this.F),Wy(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(WW(s)))+"&"+t:this.o&&rR(e,this.o,s)),nR(this.i,r),this.bb&&ur(e,"TYPE","init"),this.P?(ur(e,"$req",t),ur(e,"SID","null"),r.aa=!0,JM(r,e,null)):JM(r,e,t),this.H=2}}else 3==this.H&&(n?YW(this,n):0==this.j.length||OW(this.i)||YW(this))},St.Ma=function(){if(this.u=null,ZW(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ry(io(this.jb,this),n)}},St.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ao(10),AE(this),ZW(this))},St.ib=function(){null!=this.v&&(this.v=null,AE(this),oR(this),Ao(19))},St.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ao(2)):(this.l.info("Failed to ping google.com"),Ao(1))},St.isActive=function(){return!!this.h&&this.h.isActive(this)},(St=nG.prototype).Ba=function(){},St.Aa=function(){},St.za=function(){},St.ya=function(){},St.isActive=function(){return!0},St.Va=function(){},RE.prototype.g=function(n,t){return new ya(n,t)},As(ya,ks),ya.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Ao(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=eG(n,null,n.Y),kE(n)},ya.prototype.close=function(){sR(this.g)},ya.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=WM(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&kE(t)},ya.prototype.N=function(){this.g.h=null,delete this.j,sR(this.g),delete this.g,ya.$.N.call(this)},As(iG,XM),As(rG,ZM),As(Rg,nG),Rg.prototype.Ba=function(){zs(this.g,"a")},Rg.prototype.Aa=function(n){zs(this.g,new iG(n))},Rg.prototype.za=function(n){zs(this.g,new rG)},Rg.prototype.ya=function(){zs(this.g,"b")},As(xl,function lge(){this.blockSize=-1}),xl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xl.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)lR(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){lR(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){lR(this,i),r=0;break}}this.h=r,this.i+=t},xl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var cge={};function cR(n){return-128<=n&&128>n?function _pe(n,t){var e=cge;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Ni([0|t],0>t?-1:0)}):new Ni([0|n],0>n?-1:0)}function oc(n){if(isNaN(n)||!isFinite(n))return Og;if(0>n)return Hs(oc(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=dR;return new Ni(t,0)}var dR=4294967296,Og=cR(0),uR=cR(1),oG=cR(16777216);function Qc(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Ga(n){return-1==n.h}function Hs(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Ni(e,~n.h).add(uR)}function OE(n,t){return n.add(Hs(t))}function PE(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Gy(n,t){this.g=n,this.h=t}function NE(n,t){if(Qc(t))throw Error("division by zero");if(Qc(n))return new Gy(Og,Og);if(Ga(n))return t=NE(Hs(n),t),new Gy(Hs(t.g),Hs(t.h));if(Ga(t))return t=NE(n,Hs(t)),new Gy(Hs(t.g),t.h);if(30<n.g.length){if(Ga(n)||Ga(t))throw Error("slowDivide_ only works with positive integers.");for(var e=uR,i=t;0>=i.X(n);)e=aG(e),i=aG(i);var r=Pg(e,1),s=Pg(i,1);for(i=Pg(i,2),e=Pg(e,2);!Qc(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(e),s=o),i=Pg(i,1),e=Pg(e,1)}return t=OE(n,r.R(t)),new Gy(r,t)}for(r=Og;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),o=(s=oc(e)).R(t);Ga(o)||0<o.X(n);)o=(s=oc(e-=i)).R(t);Qc(s)&&(s=uR),r=r.add(s),n=OE(n,o)}return new Gy(r,n)}function aG(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ni(e,n.h)}function Pg(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Ni(r,n.h)}(St=Ni.prototype).ea=function(){if(Ga(this))return-Hs(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:dR+i)*t,t*=dR}return n},St.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Qc(this))return"0";if(Ga(this))return"-"+Hs(this).toString(n);for(var t=oc(Math.pow(n,6)),e=this,i="";;){var r=NE(e,t).g,s=((0<(e=OE(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Qc(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},St.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},St.X=function(n){return Ga(n=OE(this,n))?-1:Qc(n)?0:1},St.abs=function(){return Ga(this)?Hs(this):this},St.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,e[r]=(o&=65535)<<16|(s&=65535)}return new Ni(e,-2147483648&e[e.length-1]?-1:0)},St.R=function(n){if(Qc(this)||Qc(n))return Og;if(Ga(this))return Ga(n)?Hs(this).R(Hs(n)):Hs(Hs(this).R(n));if(Ga(n))return Hs(this.R(Hs(n)));if(0>this.X(oG)&&0>n.X(oG))return oc(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),c=n.D(r)>>>16,u=65535&n.D(r);e[2*i+2*r]+=o*u,PE(e,2*i+2*r),e[2*i+2*r+1]+=s*u,PE(e,2*i+2*r+1),e[2*i+2*r+1]+=o*c,PE(e,2*i+2*r+1),e[2*i+2*r+2]+=s*c,PE(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Ni(e,0)},St.gb=function(n){return NE(this,n).h},St.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Ni(e,this.h&n.h)},St.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Ni(e,this.h|n.h)},St.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Ni(e,this.h^n.h)},RE.prototype.createWebChannel=RE.prototype.g,ya.prototype.send=ya.prototype.u,ya.prototype.open=ya.prototype.m,ya.prototype.close=ya.prototype.close,yE.NO_ERROR=0,yE.TIMEOUT=8,yE.HTTP_ERROR=6,_W.COMPLETE="complete",yW.EventType=Oy,Oy.OPEN="a",Oy.CLOSE="b",Oy.ERROR="c",Oy.MESSAGE="d",ks.prototype.listen=ks.prototype.O,Fr.prototype.listenOnce=Fr.prototype.P,Fr.prototype.getLastError=Fr.prototype.Sa,Fr.prototype.getLastErrorCode=Fr.prototype.Ia,Fr.prototype.getStatus=Fr.prototype.da,Fr.prototype.getResponseJson=Fr.prototype.Wa,Fr.prototype.getResponseText=Fr.prototype.ja,Fr.prototype.send=Fr.prototype.ha,Fr.prototype.setWithCredentials=Fr.prototype.Oa,xl.prototype.digest=xl.prototype.l,xl.prototype.reset=xl.prototype.reset,xl.prototype.update=xl.prototype.j,Ni.prototype.add=Ni.prototype.add,Ni.prototype.multiply=Ni.prototype.R,Ni.prototype.modulo=Ni.prototype.gb,Ni.prototype.compare=Ni.prototype.X,Ni.prototype.toNumber=Ni.prototype.ea,Ni.prototype.toString=Ni.prototype.toString,Ni.prototype.getBits=Ni.prototype.D,Ni.fromNumber=oc,Ni.fromString=function sG(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Hs(sG(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=oc(Math.pow(t,8)),i=Og,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),t);8>s?(s=oc(Math.pow(t,s)),i=i.R(s).add(oc(o))):i=(i=i.R(e)).add(oc(o))}return i};var dge=wl.createWebChannelTransport=function(){return new RE},uge=wl.getStatEventTarget=function(){return vE()},hR=wl.ErrorCode=yE,hge=wl.EventType=_W,fge=wl.Event=Nh,lG=wl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pge=wl.FetchXmlHttpFactory=zy,FE=wl.WebChannel=yW,gge=wl.XhrIo=Fr,mge=wl.Md5=xl,Ng=wl.Integer=Ni;const cG="@firebase/firestore";class Ms{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ms.UNAUTHENTICATED=new Ms(null),Ms.GOOGLE_CREDENTIALS=new Ms("google-credentials-uid"),Ms.FIRST_PARTY=new Ms("first-party-uid"),Ms.MOCK_USER=new Ms("mock-user");let Fg="10.5.2";const au=new ga.Yd("@firebase/firestore");function Lg(){return au.logLevel}function at(n,...t){if(au.logLevel<=ga.in.DEBUG){const e=t.map(fR);au.debug(`Firestore (${Fg}): ${n}`,...e)}}function Yr(n,...t){if(au.logLevel<=ga.in.ERROR){const e=t.map(fR);au.error(`Firestore (${Fg}): ${n}`,...e)}}function Zo(n,...t){if(au.logLevel<=ga.in.WARN){const e=t.map(fR);au.warn(`Firestore (${Fg}): ${n}`,...e)}}function fR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ft(n="Unexpected state"){const t=`FIRESTORE (${Fg}) INTERNAL ASSERTION FAILED: `+n;throw Yr(t),new Error(t)}function Zt(n,t){n||Ft()}function wt(n,t){return n}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends te.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class dG{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ms.UNAUTHENTICATED))}shutdown(){}}class bge{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class wge{constructor(t){this.t=t,this.currentUser=Ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let o=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gs,t.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const f=o;t.enqueueRetryable((0,Ze.Z)(function*(){yield f.promise,yield s(i.currentUser)}))},u=f=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gs)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Zt("string"==typeof i.accessToken),new dG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Zt(null===t||"string"==typeof t),new Ms(t)}}class xge{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Ms.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Cge{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new xge(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Ms.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ege{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=s=>{null!=s.error&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,at("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Zt("string"==typeof e.token),this.R=e.token,new uG(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Dge(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class hG{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Dge(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function fn(n,t){return n<t?-1:n>t?1:0}function Vg(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function fG(n){return n+"\0"}class vr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new it(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new it(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new it(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return vr.fromMillis(Date.now())}static fromDate(t){return vr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new vr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?fn(this.nanoseconds,t.nanoseconds):fn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Kt(t)}static min(){return new Kt(new vr(0,0))}static max(){return new Kt(new vr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $y{constructor(t,e,i){void 0===e?e=0:e>t.length&&Ft(),void 0===i?i=t.length-e:i>t.length-e&&Ft(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===$y.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof $y?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ci extends $y{construct(t,e,i){return new ci(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new it(Fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ci(e)}static emptyPath(){return new ci([])}}const Tge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends $y{construct(t,e,i){return new hr(t,e,i)}static isValidIdentifier(t){return Tge.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new it(Fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const c=t[r];if("\\"===c){if(r+1===t.length)throw new it(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new it(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else"`"===c?(o=!o,r++):"."!==c||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new it(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hr(e)}static emptyPath(){return new hr([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(ci.fromString(t))}static fromName(t){return new Et(ci.fromString(t).popFirst(5))}static empty(){return new Et(ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ci.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ci.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new ci(t.slice()))}}class Bg{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function pR(n){return n.fields.find(t=>2===t.kind)}function Bh(n){return n.fields.filter(t=>2!==t.kind)}Bg.UNKNOWN_ID=-1;class zh{constructor(t,e){this.fieldPath=t,this.kind=e}}class zg{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new zg(0,ba.min())}}function pG(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Kt.fromTimestamp(1e9===i?new vr(e+1,0):new vr(e,i));return new ba(r,Et.empty(),t)}function gG(n){return new ba(n.readTime,n.key,-1)}class ba{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ba(Kt.min(),Et.empty(),-1)}static max(){return new ba(Kt.max(),Et.empty(),-1)}}function gR(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Et.comparator(n.documentKey,t.documentKey),0!==e?e:fn(n.largestBatchId,t.largestBatchId))}const mG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _G{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function lu(n){return mR.apply(this,arguments)}function mR(){return mR=(0,Ze.Z)(function*(n){if(n.code!==Fe.FAILED_PRECONDITION||n.message!==mG)throw n;at("LocalStore","Unexpectedly lost primary lease")}),mR.apply(this,arguments)}class De{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new De((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof De?e:De.resolve(e)}catch(e){return De.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):De.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):De.reject(e)}static resolve(t){return new De((e,i)=>{e(t)})}static reject(t){return new De((e,i)=>{i(t)})}static waitFor(t){return new De((e,i)=>{let r=0,s=0,o=!1;t.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&e()},u=>i(u))}),o=!0,s===r&&e()})}static or(t){let e=De.resolve(!1);for(const i of t)e=e.next(r=>r?De.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new De((i,r)=>{const s=t.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const f=u;e(t[f]).next(_=>{o[f]=_,++c,c===s&&i(o)},_=>r(_))}})}static doWhile(t,e){return new De((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class LE{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new gs,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Yy(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=_R(i.target.error);this.V.reject(new Yy(t,r))}}static open(t,e,i,r){try{return new LE(e,t.transaction(r,i))}catch(s){throw new Yy(e,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(at("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new kge(e)}}class Cl{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===Cl.S((0,te.z$)())&&Yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return at("SimpleDb","Removing database:",t),Hh(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,te.hl)())return!1;if(Cl.C())return!0;const t=(0,te.z$)(),e=Cl.S(t),i=0<e&&e<10,r=Cl.v(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,Ze.Z)(function*(){return e.db||(at("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=o=>{i(o.target.result)},s.onblocked=()=>{r(new Yy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const c=o.target.error;r("VersionError"===c.name?new it(Fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===c.name?new it(Fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c):new Yy(t,c))},s.onupgradeneeded=o=>{at("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',o.oldVersion),e.p.N(o.target.result,s.transaction,o.oldVersion,e.version).next(()=>{at("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Ze.Z)(function*(){const o="readonly"===e;let c=0;for(;;){++c;try{s.db=yield s.O(t);const u=LE.open(s.db,t,o?"readonly":"readwrite",i),f=r(u).next(_=>(u.g(),_)).catch(_=>(u.abort(_),De.reject(_))).toPromise();return f.catch(()=>{}),yield u.m,f}catch(u){const f=u,_="FirebaseError"!==f.name&&c<3;if(at("SimpleDb","Transaction failed with error:",f.message,"Retrying:",_),s.close(),!_)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Age{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Hh(this.k.delete())}}class Yy extends it{constructor(t,e){super(Fe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function cu(n){return"IndexedDbTransactionError"===n.name}class kge{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(at("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(at("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Hh(i)}add(t){return at("SimpleDb","ADD",this.store.name,t,t),Hh(this.store.add(t))}get(t){return Hh(this.store.get(t)).next(e=>(void 0===e&&(e=null),at("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return at("SimpleDb","DELETE",this.store.name,t),Hh(this.store.delete(t))}count(){return at("SimpleDb","COUNT",this.store.name),Hh(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(o,c)=>{s.push(c)}).next(()=>s)}{const r=this.store.getAll(i.range);return new De((s,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{s(c.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new De((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}H(t,e){at("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.J=!1;const r=this.cursor(i);return this.G(r,(s,o,c)=>c.delete())}Y(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Z(t){const e=this.cursor({});return new De((i,r)=>{e.onerror=s=>{const o=_R(s.target.error);r(o)},e.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(c=>{c?o.continue():i()}):i()}})}G(t,e){const i=[];return new De((r,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const c=o.target.result;if(!c)return void r();const u=new Age(c),f=e(c.primaryKey,c.value,u);if(f instanceof De){const _=f.catch(w=>(u.done(),De.reject(w)));i.push(_)}u.isDone?r():null===u.$?c.continue():c.continue(u.$)}}).next(()=>De.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Hh(n){return new De((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=_R(i.target.error);e(r)}})}let vG=!1;function _R(n){const t=Cl.S((0,te.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new it("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vG||(vG=!0,setTimeout(()=>{throw i},0)),i}}return n}class Mge{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;at("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ze.Z)(function*(){e.task=null;try{at("IndexBackiller",`Documents written: ${yield e.X.te()}`)}catch(i){cu(i)?at("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield lu(i)}yield e.ee(6e4)}))}}class Rge{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return(0,Ze.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.ne(i,t))})()}ne(t,e){const i=new Set;let r=e,s=!0;return De.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(null!==o&&!i.has(o))return at("IndexBackiller",`Processing collection: ${o}`),this.re(t,o,r).next(c=>{r-=c,i.add(o)});s=!1})).next(()=>e-r)}re(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.ie(r,s)).next(c=>(at("IndexBackiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(t,e,c))).next(()=>o.size)}))}ie(t,e){let i=t;return e.changes.forEach((r,s)=>{const o=gG(s);gR(o,i)>0&&(i=o)}),new ba(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let wa=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function qy(n){return null==n}function Xy(n){return 0===n&&1/n==-1/0}function yG(n){return"number"==typeof n&&Number.isInteger(n)&&!Xy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function so(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=bG(t)),t=Oge(n.get(e),t);return bG(t)}function Oge(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function bG(n){return n+"\x01\x01"}function ac(n){const t=n.length;if(Zt(t>=2),2===t)return Zt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ci.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const o=n.indexOf("\x01",s);switch((o<0||o>e)&&Ft(),n.charAt(o+1)){case"\x01":const c=n.substring(s,o);let u;0===r.length?u=c:(r+=c,u=r,r=""),i.push(u);break;case"\x10":r+=n.substring(s,o),r+="\0";break;case"\x11":r+=n.substring(s,o+1);break;default:Ft()}s=o+2}return new ci(i)}const wG=["userId","batchId"];function VE(n,t){return[n,so(t)]}function xG(n,t,e){return[n,so(t),e]}const Pge={},Nge=["prefixPath","collectionGroup","readTime","documentId"],Fge=["prefixPath","collectionGroup","documentId"],Lge=["collectionGroup","readTime","prefixPath","documentId"],Vge=["canonicalId","targetId"],Bge=["targetId","path"],zge=["path","targetId"],Hge=["collectionId","parent"],Uge=["indexId","uid"],jge=["uid","sequenceNumber"],Wge=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gge=["indexId","uid","orderedDocumentKey"],$ge=["userId","collectionPath","documentId"],Yge=["userId","collectionPath","largestBatchId"],qge=["userId","collectionGroup","largestBatchId"],CG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xge=[...CG,"documentOverlays"],EG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DG=EG,Zge=[...DG,"indexConfiguration","indexState","indexEntries"];class vR extends _G{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function Rs(n,t){const e=wt(n);return Cl.M(e.ae,t)}function TG(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function du(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function IG(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class rr{constructor(t,e){this.comparator=t,this.root=e||Us.EMPTY}insert(t,e){return new rr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Us.BLACK,null,null))}remove(t){return new rr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Us.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new BE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new BE(this.root,t,this.comparator,!1)}getReverseIterator(){return new BE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new BE(this.root,t,this.comparator,!0)}}class BE{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Us{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Us.RED,this.left=r??Us.EMPTY,this.right=s??Us.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Us(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Us.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Us.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Us.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const t=this.left.check();if(t!==this.right.check())throw Ft();return t+(this.isRed()?0:1)}}Us.EMPTY=null,Us.RED=!0,Us.BLACK=!1,Us.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(t,e,i,r,s){return this}insert(t,e,i){return new Us(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ui{constructor(t){this.comparator=t,this.data=new rr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new SG(this.data.getIterator())}getIteratorFrom(t){return new SG(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ui)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ui(this.comparator);return e.data=t,e}}class SG{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hg(n){return n.hasNext()?n.getNext():void 0}class Ko{constructor(t){this.fields=t,t.sort(hr.comparator)}static empty(){return new Ko([])}unionWith(t){let e=new Ui(hr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ko(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Vg(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class AG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ms{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AG("Invalid base64 string: "+s):s}}(t);return new ms(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new ms(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return fn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ms.EMPTY_BYTE_STRING=new ms("");const Qge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uu(n){if(Zt(!!n),"string"==typeof n){let t=0;const e=Qge.exec(n);if(Zt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Lr(n.seconds),nanos:Lr(n.nanos)}}function Lr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Jc(n){return"string"==typeof n?ms.fromBase64String(n):ms.fromUint8Array(n)}function zE(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function HE(n){const t=n.mapValue.fields.__previous_value__;return zE(t)?HE(t):t}function Zy(n){const t=uu(n.mapValue.fields.__local_write_time__.timestampValue);return new vr(t.seconds,t.nanos)}class Jge{constructor(t,e,i,r,s,o,c,u,f){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f}}class hu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof hu&&t.projectId===this.projectId&&t.database===this.database}}const fu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},UE={nullValue:"NULL_VALUE"};function pu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zE(n)?4:OG(n)?9007199254740991:10:Ft()}function lc(n,t){if(n===t)return!0;const e=pu(n);if(e!==pu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Zy(n).isEqual(Zy(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=uu(r.timestampValue),c=uu(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,Jc(n.bytesValue).isEqual(Jc(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return Lr(r.geoPointValue.latitude)===Lr(s.geoPointValue.latitude)&&Lr(r.geoPointValue.longitude)===Lr(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Lr(r.integerValue)===Lr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Lr(r.doubleValue),c=Lr(s.doubleValue);return o===c?Xy(o)===Xy(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return Vg(n.arrayValue.values||[],t.arrayValue.values||[],lc);case 10:return function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(TG(o)!==TG(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===c[u]||!lc(o[u],c[u])))return!1;return!0}(n,t);default:return Ft()}var s}function Ky(n,t){return void 0!==(n.values||[]).find(e=>lc(e,t))}function gu(n,t){if(n===t)return 0;const e=pu(n),i=pu(t);if(e!==i)return fn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return fn(n.booleanValue,t.booleanValue);case 2:return function(s,o){const c=Lr(s.integerValue||s.doubleValue),u=Lr(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,t);case 3:return kG(n.timestampValue,t.timestampValue);case 4:return kG(Zy(n),Zy(t));case 5:return fn(n.stringValue,t.stringValue);case 6:return function(s,o){const c=Jc(s),u=Jc(o);return c.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const c=s.split("/"),u=o.split("/");for(let f=0;f<c.length&&f<u.length;f++){const _=fn(c[f],u[f]);if(0!==_)return _}return fn(c.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const c=fn(Lr(s.latitude),Lr(o.latitude));return 0!==c?c:fn(Lr(s.longitude),Lr(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const c=s.values||[],u=o.values||[];for(let f=0;f<c.length&&f<u.length;++f){const _=gu(c[f],u[f]);if(_)return _}return fn(c.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===fu.mapValue&&o===fu.mapValue)return 0;if(s===fu.mapValue)return 1;if(o===fu.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),f=o.fields||{},_=Object.keys(f);u.sort(),_.sort();for(let w=0;w<u.length&&w<_.length;++w){const T=fn(u[w],_[w]);if(0!==T)return T;const M=gu(c[u[w]],f[_[w]]);if(0!==M)return M}return fn(u.length,_.length)}(n.mapValue,t.mapValue);default:throw Ft()}}function kG(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return fn(n,t);const e=uu(n),i=uu(t),r=fn(e.seconds,i.seconds);return 0!==r?r:fn(e.nanos,i.nanos)}function Ug(n){return yR(n)}function yR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=uu(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Jc(n.bytesValue).toBase64():"referenceValue"in n?Et.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=yR(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${yR(e.fields[o])}`;return r+"}"}(n.mapValue):Ft()}function Uh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function bR(n){return!!n&&"integerValue"in n}function Qy(n){return!!n&&"arrayValue"in n}function MG(n){return!!n&&"nullValue"in n}function RG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function WE(n){return!!n&&"mapValue"in n}function Jy(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return du(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Jy(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Jy(n.arrayValue.values[e]);return t}return Object.assign({},n)}function OG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function eme(n){return"nullValue"in n?UE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Uh(hu.empty(),Et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ft()}function tme(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Uh(hu.empty(),Et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?fu:Ft()}function PG(n,t){const e=gu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function NG(n,t){const e=gu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class js{constructor(t){this.value=t}static empty(){return new js({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!WE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jy(e)}setAll(t){let e=hr.emptyPath(),i={},r=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){const u=this.getFieldsMap(e);this.applyChanges(u,i,r),i={},r=[],e=c.popLast()}o?i[c.lastSegment()]=Jy(o):r.push(c.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());WE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return lc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];WE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){du(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new js(Jy(this.value))}}function FG(n){const t=[];return du(n.fields,(e,i)=>{const r=new hr([e]);if(WE(i)){const s=FG(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new Ko(t)}class fr{constructor(t,e,i,r,s,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new fr(t,0,Kt.min(),Kt.min(),Kt.min(),js.empty(),0)}static newFoundDocument(t,e,i,r){return new fr(t,1,e,Kt.min(),i,r,0)}static newNoDocument(t,e){return new fr(t,2,e,Kt.min(),Kt.min(),js.empty(),0)}static newUnknownDocument(t,e){return new fr(t,3,e,Kt.min(),Kt.min(),js.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=js.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof fr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mu{constructor(t,e){this.position=t,this.inclusive=e}}function LG(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?Et.comparator(Et.fromName(o.referenceValue),e.key):gu(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function VG(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!lc(n.position[e],t.position[e]))return!1;return!0}class eb{constructor(t,e="asc"){this.field=t,this.dir=e}}function nme(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class BG{}class ni extends BG{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new ime(t,e,i):"array-contains"===e?new ome(t,i):"in"===e?new GG(t,i):"not-in"===e?new ame(t,i):"array-contains-any"===e?new lme(t,i):new ni(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new rme(t,i):new sme(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(gu(e,this.value)):null!==e&&pu(this.value)===pu(e)&&this.matchesComparison(gu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends BG{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Fi(t,e)}matches(t){return jg(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function jg(n){return"and"===n.op}function wR(n){return"or"===n.op}function xR(n){return zG(n)&&jg(n)}function zG(n){for(const t of n.filters)if(t instanceof Fi)return!1;return!0}function CR(n){if(n instanceof ni)return n.field.canonicalString()+n.op.toString()+Ug(n.value);if(xR(n))return n.filters.map(t=>CR(t)).join(",");{const t=n.filters.map(e=>CR(e)).join(",");return`${n.op}(${t})`}}function HG(n,t){return n instanceof ni?(i=n,(r=t)instanceof ni&&i.op===r.op&&i.field.isEqual(r.field)&&lc(i.value,r.value)):n instanceof Fi?function(i,r){return r instanceof Fi&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,c)=>s&&HG(o,r.filters[c]),!0)}(n,t):void Ft();var i,r}function UG(n,t){const e=n.filters.concat(t);return Fi.create(e,n.op)}function jG(n){return n instanceof ni?`${(e=n).field.canonicalString()} ${e.op} ${Ug(e.value)}`:n instanceof Fi?function(e){return e.op.toString()+" {"+e.getFilters().map(jG).join(" ,")+"}"}(n):"Filter";var e}class ime extends ni{constructor(t,e,i){super(t,e,i),this.key=Et.fromName(i.referenceValue)}matches(t){const e=Et.comparator(t.key,this.key);return this.matchesComparison(e)}}class rme extends ni{constructor(t,e){super(t,"in",e),this.keys=WG(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class sme extends ni{constructor(t,e){super(t,"not-in",e),this.keys=WG(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function WG(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Et.fromName(i.referenceValue))}class ome extends ni{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Qy(e)&&Ky(e.arrayValue,this.value)}}class GG extends ni{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ky(this.value.arrayValue,e)}}class ame extends ni{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ky(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ky(this.value.arrayValue,e)}}class lme extends ni{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Qy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Ky(this.value.arrayValue,i))}}class cme{constructor(t,e=null,i=[],r=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.ce=null}}function ER(n,t=null,e=[],i=[],r=null,s=null,o=null){return new cme(n,t,e,i,r,s,o)}function jh(n){const t=wt(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>CR(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),qy(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Ug(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Ug(i)).join(",")),t.ce=e}return t.ce}function tb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!nme(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!HG(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!VG(n.startAt,t.startAt)&&VG(n.endAt,t.endAt)}function GE(n){return Et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function $E(n,t){return n.filters.filter(e=>e instanceof ni&&e.field.isEqual(t))}function $G(n,t,e){let i=UE,r=!0;for(const s of $E(n,t)){let o=UE,c=!0;switch(s.op){case"<":case"<=":o=eme(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,c=!1;break;case"!=":case"not-in":o=UE}PG({value:i,inclusive:r},{value:o,inclusive:c})<0&&(i=o,r=c)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];PG({value:i,inclusive:r},{value:o,inclusive:e.inclusive})<0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}function YG(n,t,e){let i=fu,r=!0;for(const s of $E(n,t)){let o=fu,c=!0;switch(s.op){case">=":case">":o=tme(s.value),c=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,c=!1;break;case"!=":case"not-in":o=fu}NG({value:i,inclusive:r},{value:o,inclusive:c})>0&&(i=o,r=c)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];NG({value:i,inclusive:r},{value:o,inclusive:e.inclusive})>0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}class ed{constructor(t,e=null,i=[],r=[],s=null,o="F",c=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function qG(n,t,e,i,r,s,o,c){return new ed(n,t,e,i,r,s,o,c)}function Wg(n){return new ed(n)}function XG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function DR(n){return null!==n.collectionGroup}function Gg(n){const t=wt(n);if(null===t.le){t.le=[];const e=new Set;for(const s of t.explicitOrderBy)t.le.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ui(hr.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.le.push(new eb(s,i))}),e.has(hr.keyField().canonicalString())||t.le.push(new eb(hr.keyField(),i))}return t.le}function ko(n){const t=wt(n);return t.he||(t.he=function ZG(n,t){if("F"===n.limitType)return ER(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new eb(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new mu(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new mu(n.startAt.position,n.startAt.inclusive):null;return ER(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,Gg(n))),t.he}function TR(n,t){const e=n.filters.concat([t]);return new ed(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function YE(n,t,e){return new ed(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function nb(n,t){return tb(ko(n),ko(t))&&n.limitType===t.limitType}function KG(n){return`${jh(ko(n))}|lt:${n.limitType}`}function $g(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>jG(r)).join(", ")}]`),qy(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Ug(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Ug(r)).join(",")),`Target(${i})`}(ko(n))}; limitType=${n.limitType})`}function ib(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Et.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of Gg(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,c,u){const f=LG(o,c,u);return o.inclusive?f<=0:f<0}(i.startAt,Gg(i),r)||i.endAt&&!function(o,c,u){const f=LG(o,c,u);return o.inclusive?f>=0:f>0}(i.endAt,Gg(i),r)));var i,r}function QG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JG(n){return(t,e)=>{let i=!1;for(const r of Gg(n)){const s=dme(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function dme(n,t,e){const i=n.field.isKeyField()?Et.comparator(t.key,e.key):function(s,o,c){const u=o.data.field(s),f=c.data.field(s);return null!==u&&null!==f?gu(u,f):Ft()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ft()}}class td{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){du(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return IG(this.inner)}size(){return this.innerSize}}const ume=new rr(Et.comparator);function Qo(){return ume}const e5=new rr(Et.comparator);function rb(...n){let t=e5;for(const e of n)t=t.insert(e.key,e);return t}function t5(n){let t=e5;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function cc(){return sb()}function n5(){return sb()}function sb(){return new td(n=>n.toString(),(n,t)=>n.isEqual(t))}const hme=new rr(Et.comparator),fme=new Ui(Et.comparator);function Pn(...n){let t=fme;for(const e of n)t=t.add(e);return t}const pme=new Ui(fn);function IR(){return pme}function r5(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xy(t)?"-0":t}}function s5(n){return{integerValue:""+n}}function o5(n,t){return yG(t)?s5(t):r5(n,t)}class qE{constructor(){this._=void 0}}function gme(n,t,e){return n instanceof Yg?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&zE(s)&&(s=HE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof Wh?l5(n,t):n instanceof Gh?c5(n,t):function(r,s){const o=a5(r,s),c=d5(o)+d5(r.Ie);return bR(o)&&bR(r.Ie)?s5(c):r5(r.serializer,c)}(n,t)}function mme(n,t,e){return n instanceof Wh?l5(n,t):n instanceof Gh?c5(n,t):e}function a5(n,t){return n instanceof qg?bR(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class Yg extends qE{}class Wh extends qE{constructor(t){super(),this.elements=t}}function l5(n,t){const e=u5(t);for(const i of n.elements)e.some(r=>lc(r,i))||e.push(i);return{arrayValue:{values:e}}}class Gh extends qE{constructor(t){super(),this.elements=t}}function c5(n,t){let e=u5(t);for(const i of n.elements)e=e.filter(r=>!lc(r,i));return{arrayValue:{values:e}}}class qg extends qE{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function d5(n){return Lr(n.integerValue||n.doubleValue)}function u5(n){return Qy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ob{constructor(t,e){this.field=t,this.transform=e}}class vme{constructor(t,e){this.version=t,this.transformResults=e}}class yr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new yr}static exists(t){return new yr(void 0,t)}static updateTime(t){return new yr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function XE(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class ZE{}function h5(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Zg(n.key,yr.none()):new Xg(n.key,n.data,yr.none());{const e=n.data,i=js.empty();let r=new Ui(hr.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new nd(n.key,i,new Ko(r.toArray()),yr.none())}}function yme(n,t,e){n instanceof Xg?function(r,s,o){const c=r.value.clone(),u=g5(r.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof nd?function(r,s,o){if(!XE(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=g5(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(p5(r)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function ab(n,t,e,i){return n instanceof Xg?function(s,o,c,u){if(!XE(s.precondition,o))return c;const f=s.value.clone(),_=m5(s.fieldTransforms,u,o);return f.setAll(_),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof nd?function(s,o,c,u){if(!XE(s.precondition,o))return c;const f=m5(s.fieldTransforms,u,o),_=o.data;return _.setAll(p5(s)),_.setAll(f),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===c?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(w=>w.field))}(n,t,e,i):(c=e,XE(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function bme(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=a5(i.transform,r||null);null!=s&&(null===e&&(e=js.empty()),e.set(i.field,s))}return e||null}function f5(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Vg(i,r,(s,o)=>function _me(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof Wh&&r instanceof Wh||i instanceof Gh&&r instanceof Gh?Vg(i.elements,r.elements,lc):i instanceof qg&&r instanceof qg?lc(i.Ie,r.Ie):i instanceof Yg&&r instanceof Yg);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class Xg extends ZE{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class nd extends ZE{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function p5(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function g5(n,t,e){const i=new Map;Zt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,c=t.data.field(s.field);i.set(s.field,mme(o,c,e[r]))}return i}function m5(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,gme(s,o,t))}return i}class Zg extends ZE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SR extends ZE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AR{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&yme(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=ab(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=ab(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=n5();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=e.has(r.key)?null:c;const u=h5(o,c);null!==u&&i.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(Kt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Pn())}isEqual(t){return this.batchId===t.batchId&&Vg(this.mutations,t.mutations,(e,i)=>f5(e,i))&&Vg(this.baseMutations,t.baseMutations,(e,i)=>f5(e,i))}}class kR{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Zt(t.mutations.length===i.length);let r=hme;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new kR(t,e,i,r)}}class MR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xme{constructor(t,e){this.count=t,this.unchangedNames=e}}var is,di;function _5(n){switch(n){default:return Ft();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function v5(n){if(void 0===n)return Yr("GRPC error has no .code"),Fe.UNKNOWN;switch(n){case is.OK:return Fe.OK;case is.CANCELLED:return Fe.CANCELLED;case is.UNKNOWN:return Fe.UNKNOWN;case is.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case is.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case is.INTERNAL:return Fe.INTERNAL;case is.UNAVAILABLE:return Fe.UNAVAILABLE;case is.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case is.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case is.NOT_FOUND:return Fe.NOT_FOUND;case is.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case is.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case is.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case is.ABORTED:return Fe.ABORTED;case is.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case is.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case is.DATA_LOSS:return Fe.DATA_LOSS;default:return Ft()}}(di=is||(is={}))[di.OK=0]="OK",di[di.CANCELLED=1]="CANCELLED",di[di.UNKNOWN=2]="UNKNOWN",di[di.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",di[di.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",di[di.NOT_FOUND=5]="NOT_FOUND",di[di.ALREADY_EXISTS=6]="ALREADY_EXISTS",di[di.PERMISSION_DENIED=7]="PERMISSION_DENIED",di[di.UNAUTHENTICATED=16]="UNAUTHENTICATED",di[di.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",di[di.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",di[di.ABORTED=10]="ABORTED",di[di.OUT_OF_RANGE=11]="OUT_OF_RANGE",di[di.UNIMPLEMENTED=12]="UNIMPLEMENTED",di[di.INTERNAL=13]="INTERNAL",di[di.UNAVAILABLE=14]="UNAVAILABLE",di[di.DATA_LOSS=15]="DATA_LOSS";function y5(){return new TextEncoder}const Cme=new Ng([4294967295,4294967295],0);function b5(n){const t=y5().encode(n),e=new mge;return e.update(t),new Uint8Array(e.digest())}function w5(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ng([e,i],0),new Ng([r,s],0)]}class RR{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new lb(`Invalid padding: ${e}`);if(i<0)throw new lb(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new lb(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new lb(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=Ng.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(Ng.fromNumber(i)));return 1===r.compare(Cme)&&(r=new Ng([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=b5(t),[i,r]=w5(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new RR(s,r,e);return i.forEach(c=>o.insert(c)),o}insert(t){if(0===this.Te)return;const e=b5(t),[i,r]=w5(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class lb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cb{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,db.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new cb(Kt.min(),r,new rr(fn),Qo(),Pn())}}class db{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new db(i,e,Pn(),Pn(),Pn())}}class QE{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class x5{constructor(t,e){this.targetId=t,this.fe=e}}class C5{constructor(t,e,i=ms.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class E5{constructor(){this.ge=0,this.pe=T5(),this.ye=ms.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Pn(),e=Pn(),i=Pn();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Ft()}}),new db(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=T5()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Eme{constructor(t){this.Le=t,this.ke=new Map,this.qe=Qo(),this.Qe=D5(),this.Ke=new rr(fn)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:Ft()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const s=r.target;if(GE(s))if(0===i){const o=new Et(s.path);this.We(e,o,fr.newNoDocument(o,Kt.min()))}else Zt(1===i);else{const o=this.Ze(e);if(o!==i){const c=this.Xe(t),u=c?this.et(c,t,o):1;0!==u&&(this.He(e),this.Ke=this.Ke.insert(e,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,c;try{o=Jc(i).toUint8Array()}catch(u){if(u instanceof AG)return Zo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new RR(o,r,s)}catch(u){return Zo(u instanceof lb?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===c.Te?null:c}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.nt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.We(e,s,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((s,o)=>{const c=this.Ye(o);if(c){if(s.current&&GE(c.target)){const u=new Et(c.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,fr.newNoDocument(u,t))}s.De&&(e.set(o,s.ve()),s.Fe())}});let i=Pn();this.Qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{const f=this.Ye(u);return!f||"TargetPurposeLimboResolution"===f.purpose||(c=!1,!1)}),c&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new cb(t,e,this.Ke,this.qe,i);return this.qe=Qo(),this.Qe=D5(),this.Ke=new rr(fn),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new E5,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new Ui(fn),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||at("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new E5),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function D5(){return new rr(Et.comparator)}function T5(){return new rr(Et.comparator)}const Dme={asc:"ASCENDING",desc:"DESCENDING"},Tme={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ime={and:"AND",or:"OR"};class Sme{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function OR(n,t){return n.useProto3Json||qy(t)?t:{value:t}}function Kg(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function I5(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Ame(n,t){return Kg(n,t.toTimestamp())}function qr(n){return Zt(!!n),Kt.fromTimestamp(function(e){const i=uu(e);return new vr(i.seconds,i.nanos)}(n))}function PR(n,t){return(i=n,new ci(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function S5(n){const t=ci.fromString(n);return Zt(L5(t)),t}function ub(n,t){return PR(n.databaseId,t.path)}function dc(n,t){const e=S5(t);if(e.get(1)!==n.databaseId.projectId)throw new it(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new it(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Et(k5(e))}function NR(n,t){return PR(n.databaseId,t)}function A5(n){const t=S5(n);return 4===t.length?ci.emptyPath():k5(t)}function hb(n){return new ci(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function k5(n){return Zt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function M5(n,t,e){return{name:ub(n,t),fields:e.value.mapValue.fields}}function R5(n,t,e){const i=dc(n,t.name),r=qr(t.updateTime),s=t.createTime?qr(t.createTime):Kt.min(),o=new js({mapValue:{fields:t.fields}}),c=fr.newFoundDocument(i,r,s,o);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function fb(n,t){let e;if(t instanceof Xg)e={update:M5(n,t.key,t.value)};else if(t instanceof Zg)e={delete:ub(n,t.key)};else if(t instanceof nd)e={update:M5(n,t.key,t.data),updateMask:Lme(t.fieldMask)};else{if(!(t instanceof SR))return Ft();e={verify:ub(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const c=o.transform;if(c instanceof Yg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Wh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Gh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qg)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw Ft()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:Ame(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ft()),e;var s}function FR(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?yr.updateTime(qr(s.updateTime)):void 0!==s.exists?yr.exists(s.exists):yr.none():yr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let u=null;"setToServerValue"in c?(Zt("REQUEST_TIME"===c.setToServerValue),u=new Yg):"appendMissingElements"in c?u=new Wh(c.appendMissingElements.values||[]):"removeAllFromArray"in c?u=new Gh(c.removeAllFromArray.values||[]):"increment"in c?u=new qg(o,c.increment):Ft();const f=hr.fromServerFormat(c.fieldPath);return new ob(f,u)}(n,r)):[];var s;if(t.update){const r=dc(n,t.update.name),s=new js({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=new Ko((t.updateMask.fieldPaths||[]).map(_=>hr.fromServerFormat(_)));return new nd(r,s,o,e,i)}return new Xg(r,s,e,i)}if(t.delete){const r=dc(n,t.delete);return new Zg(r,e)}if(t.verify){const r=dc(n,t.verify);return new SR(r,e)}return Ft()}function O5(n,t){return{documents:[NR(n,t.path)]}}function LR(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=NR(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=NR(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(u){if(0!==u.length)return F5(Fi.create(u,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(u){if(0!==u.length)return u.map(f=>{return{field:_u((w=f).field),direction:Pme(w.dir)};var w})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=OR(n,t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),e;var u}function P5(n){let t=A5(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Zt(1===i);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let s=[];e.where&&(s=function(w){const T=N5(w);return T instanceof Fi&&xR(T)?T.getFilters():[T]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(T=>{return new eb(Qg((F=T).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction));var F}));let c=null;e.limit&&(c=function(w){let T;return T="object"==typeof w?w.value:w,qy(T)?null:T}(e.limit));let u=null;var w;e.startAt&&(u=new mu((w=e.startAt).values||[],!!w.before));let f=null;return e.endAt&&(f=function(w){return new mu(w.values||[],!w.before)}(e.endAt)),qG(t,r,o,s,c,"F",u,f)}function N5(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Qg(e.unaryFilter.field);return ni.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Qg(e.unaryFilter.field);return ni.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qg(e.unaryFilter.field);return ni.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qg(e.unaryFilter.field);return ni.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(n):void 0!==n.fieldFilter?ni.create(Qg((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Fi.create(e.compositeFilter.filters.map(i=>N5(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ft()}}(e.compositeFilter.op))}(n):Ft();var e}function Pme(n){return Dme[n]}function Nme(n){return Tme[n]}function Fme(n){return Ime[n]}function _u(n){return{fieldPath:n.canonicalString()}}function Qg(n){return hr.fromServerFormat(n.fieldPath)}function F5(n){return n instanceof ni?function(e){if("=="===e.op){if(RG(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NAN"}};if(MG(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(RG(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NOT_NAN"}};if(MG(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_u(e.field),op:Nme(e.op),value:e.value}}}(n):n instanceof Fi?function(e){const i=e.getFilters().map(r=>F5(r));return 1===i.length?i[0]:{compositeFilter:{op:Fme(e.op),filters:i}}}(n):Ft()}function Lme(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function L5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class id{constructor(t,e,i,r,s=Kt.min(),o=Kt.min(),c=ms.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new id(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new id(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new id(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new id(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class V5{constructor(t){this.ut=t}}function B5(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:JE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:ub(s=n.ut,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Kg(s,o.version.toTimestamp()),createTime:Kg(s,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:$h(t.version)};else{if(!t.isUnknownDocument())return Ft();i.unknownDocument={path:e.path.toArray(),version:$h(t.version)}}var s,o;return i}function JE(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function $h(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Yh(n){const t=new vr(n.seconds,n.nanoseconds);return Kt.fromTimestamp(t)}function qh(n,t){const e=(t.baseMutations||[]).map(s=>FR(n.ut,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>FR(n.ut,s)),r=vr.fromMillis(t.localWriteTimeMs);return new AR(t.batchId,r,e,i)}function pb(n){const t=Yh(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Yh(n.lastLimboFreeSnapshotVersion):Kt.min();let i;return i=void 0!==n.query.documents?(Zt(1===(s=n.query).documents.length),ko(Wg(A5(s.documents[0])))):function(s){return ko(P5(s))}(n.query),new id(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,ms.fromBase64String(n.resumeToken));var s}function z5(n,t){const e=$h(t.snapshotVersion),i=$h(t.lastLimboFreeSnapshotVersion);let r;r=GE(t.target)?O5(n.ut,t.target):LR(n.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:jh(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function VR(n){const t=P5({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?YE(t,t.limit,"L"):t}function BR(n,t){return new MR(t.largestBatchId,FR(n.ut,t.overlayMutation))}function H5(n,t){const e=t.path.lastSegment();return[n,so(t.path.popLast()),e]}function U5(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:$h(i.readTime),documentKey:so(i.documentKey.path),largestBatchId:i.largestBatchId}}class Bme{getBundleMetadata(t,e){return j5(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:Yh(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return j5(t).put({bundleId:(r=e).id,createTime:$h(qr(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return W5(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:VR(s.bundledQuery),readTime:Yh(s.readTime)};var s})}saveNamedQuery(t,e){return W5(t).put({name:(r=e).name,readTime:$h(qr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function j5(n){return Rs(n,"bundles")}function W5(n){return Rs(n,"namedQueries")}class eD{constructor(t,e){this.serializer=t,this.userId=e}static ct(t,e){return new eD(t,e.uid||"")}getOverlay(t,e){return gb(t).get(H5(this.userId,e)).next(i=>i?BR(this.serializer,i):null)}getOverlays(t,e){const i=cc();return De.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,o)=>{const c=new MR(e,o);r.push(this.lt(t,c))}),De.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(o=>r.add(so(o.getCollectionPath())));const s=[];return r.forEach(o=>{const c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(gb(t).H("collectionPathOverlayIndex",c))}),De.waitFor(s)}getOverlaysForCollection(t,e,i){const r=cc(),s=so(e),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return gb(t).W("collectionPathOverlayIndex",o).next(c=>{for(const u of c){const f=BR(this.serializer,u);r.set(f.getKey(),f)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=cc();let o;const c=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return gb(t).Y({index:"collectionGroupOverlayIndex",range:c},(u,f,_)=>{const w=BR(this.serializer,f);s.size()<r||w.largestBatchId===o?(s.set(w.getKey(),w),o=w.largestBatchId):_.done()}).next(()=>s)}lt(t,e){return gb(t).put(function(r,s,o){const[c,u,f]=H5(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:f,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:fb(r.ut,o.mutation)}}(this.serializer,this.userId,e))}}function gb(n){return Rs(n,"documentOverlays")}class Xh{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(Lr(t.integerValue));else if("doubleValue"in t){const i=Lr(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),Xy(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(Jc(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?OG(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):Ft()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),Et.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}function zme(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function G5(n){const t=64-function(i){let r=0;for(let s=0;s<8;++s){const o=zme(255&i[s]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(t/8)}Xh.St=new Xh;class Hme{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Dt(i.value),i=e.next();this.Ct()}vt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=e.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(t){const e=this.Bt(t),i=G5(e);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}kt(t){const e=this.Bt(t),i=G5(e);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(t){this.Lt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ut(){return this.buffer.slice(0,this.position)}Bt(t){const e=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Dt(t){const e=255&t;0===e?(this.Qt(0),this.Qt(255)):255===e?(this.Qt(255),this.Qt(0)):this.Qt(e)}Ft(t){const e=255&t;0===e?(this.$t(0),this.$t(255)):255===e?(this.$t(255),this.$t(0)):this.$t(t)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(t){this.Lt(1),this.buffer[this.position++]=t}$t(t){this.Lt(1),this.buffer[this.position++]=~t}Lt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Ume{constructor(t){this.Wt=t}Vt(t){this.Wt.bt(t)}dt(t){this.Wt.xt(t)}Et(t){this.Wt.Nt(t)}It(){this.Wt.qt()}}class jme{constructor(t){this.Wt=t}Vt(t){this.Wt.vt(t)}dt(t){this.Wt.Ot(t)}Et(t){this.Wt.kt(t)}It(){this.Wt.Kt()}}class mb{constructor(){this.Wt=new Hme,this.Gt=new Ume(this.Wt),this.zt=new jme(this.Wt)}seed(t){this.Wt.seed(t)}jt(t){return 0===t?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Zh{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ht(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Zh(this.indexId,this.documentKey,this.arrayValue,i)}}function vu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=$5(n.arrayValue,t.arrayValue),0!==e?e:(e=$5(n.directionalValue,t.directionalValue),0!==e?e:Et.comparator(n.documentKey,t.documentKey)))}function $5(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class Y5{constructor(t){this.Jt=new Ui((e,i)=>hr.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];for(const e of t.filters){const i=e;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(t){if(Zt(t.collectionGroup===this.collectionId),this.Xt)return!1;const e=pR(t);if(void 0!==e&&!this.tn(e))return!1;const i=Bh(t);let r=new Set,s=0,o=0;for(;s<i.length&&this.tn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Jt.size>0){const c=this.Jt.getIterator().getNext();if(!r.has(c.field.canonicalString())){const u=i[s];if(!this.nn(c,u)||!this.rn(this.Yt[o++],u))return!1}++s}for(;s<i.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],i[s]))return!1;return!0}sn(){if(this.Xt)return null;let t=new Ui(hr.comparator);const e=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new zh(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new zh(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new zh(i.field,"asc"===i.dir?0:1)));return new Bg(Bg.UNKNOWN_ID,this.collectionId,e,zg.empty())}tn(t){for(const e of this.Zt)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}rn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function q5(n){var t,e;if(Zt(n instanceof ni||n instanceof Fi),n instanceof ni){if(n instanceof GG){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>ni.create(n.field,"==",s)))||[];return Fi.create(r,"or")}return n}const i=n.filters.map(r=>q5(r));return Fi.create(i,n.op)}function Wme(n){if(0===n.getFilters().length)return[];const t=UR(q5(n));return Zt(X5(t)),zR(t)||HR(t)?[t]:t.getFilters()}function zR(n){return n instanceof ni}function HR(n){return n instanceof Fi&&xR(n)}function X5(n){return zR(n)||HR(n)||function(e){if(e instanceof Fi&&wR(e)){for(const i of e.getFilters())if(!zR(i)&&!HR(i))return!1;return!0}return!1}(n)}function UR(n){if(Zt(n instanceof ni||n instanceof Fi),n instanceof ni)return n;if(1===n.filters.length)return UR(n.filters[0]);const t=n.filters.map(i=>UR(i));let e=Fi.create(t,n.op);return e=tD(e),X5(e)?e:(Zt(e instanceof Fi),Zt(jg(e)),Zt(e.filters.length>1),e.filters.reduce((i,r)=>jR(i,r)))}function jR(n,t){let e;return Zt(n instanceof ni||n instanceof Fi),Zt(t instanceof ni||t instanceof Fi),e=n instanceof ni?t instanceof ni?Fi.create([n,t],"and"):Z5(n,t):t instanceof ni?Z5(t,n):function(r,s){if(Zt(r.filters.length>0&&s.filters.length>0),jg(r)&&jg(s))return UG(r,s.getFilters());const o=wR(r)?r:s,c=wR(r)?s:r,u=o.filters.map(f=>jR(f,c));return Fi.create(u,"or")}(n,t),tD(e)}function Z5(n,t){if(jg(t))return UG(t,n.getFilters());{const e=t.filters.map(i=>jR(n,i));return Fi.create(e,"or")}}function tD(n){if(Zt(n instanceof ni||n instanceof Fi),n instanceof ni)return n;const t=n.getFilters();if(1===t.length)return tD(t[0]);if(zG(n))return n;const e=t.map(r=>tD(r)),i=[];return e.forEach(r=>{r instanceof ni?i.push(r):r instanceof Fi&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Fi.create(i,n.op)}class Gme{constructor(){this.on=new WR}addToCollectionParentIndex(t,e){return this.on.add(e),De.resolve()}getCollectionParents(t,e){return De.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return De.resolve()}deleteFieldIndex(t,e){return De.resolve()}deleteAllFieldIndexes(t){return De.resolve()}createTargetIndexes(t,e){return De.resolve()}getDocumentsMatchingTarget(t,e){return De.resolve(null)}getIndexType(t,e){return De.resolve(0)}getFieldIndexes(t,e){return De.resolve([])}getNextCollectionGroupToUpdate(t){return De.resolve(null)}getMinOffset(t,e){return De.resolve(ba.min())}getMinOffsetFromCollectionGroup(t,e){return De.resolve(ba.min())}updateCollectionGroup(t,e,i){return De.resolve()}updateIndexEntries(t,e){return De.resolve()}}class WR{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ui(ci.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ui(ci.comparator)).toArray()}}const nD=new Uint8Array(0);class $me{constructor(t,e){this.user=t,this.databaseId=e,this._n=new WR,this.an=new td(i=>jh(i),(i,r)=>tb(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this._n.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this._n.add(e)});const s={collectionId:i,parent:so(r)};return K5(t).put(s)}return De.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[fG(e),""],!1,!0);return K5(t).W(r).next(s=>{for(const o of s){if(o.collectionId!==e)break;i.push(ac(o.parent))}return i})}addFieldIndex(t,e){const i=_b(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var c;delete r.indexId;const s=i.add(r);if(e.indexState){const o=em(t);return s.next(c=>{o.put(U5(c,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=_b(t),r=em(t),s=Jg(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=_b(t),i=Jg(t),r=em(t);return e.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(t,e){return De.forEach(this.un(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const s=new Y5(i).sn();if(null!=s)return this.addFieldIndex(t,s)}}))}getDocumentsMatchingTarget(t,e){const i=Jg(t);let r=!0;const s=new Map;return De.forEach(this.un(e),o=>this.cn(t,o).next(c=>{r&&(r=!!c),s.set(o,c)})).next(()=>{if(r){let o=Pn();const c=[];return De.forEach(s,(u,f)=>{var ae;at("IndexedDbIndexManager",`Using index ${ae=u,`id=${ae.indexId}|cg=${ae.collectionGroup}|f=${ae.fields.map(ge=>`${ge.fieldPath}:${ge.kind}`).join(",")}`} to execute ${jh(e)}`);const _=function(ae,ge){const Te=pR(ge);if(void 0===Te)return null;for(const qe of $E(ae,Te.fieldPath))switch(qe.op){case"array-contains-any":return qe.value.arrayValue.values||[];case"array-contains":return[qe.value]}return null}(f,u),w=function(ae,ge){const Te=new Map;for(const qe of Bh(ge))for(const ht of $E(ae,qe.fieldPath))switch(ht.op){case"==":case"in":Te.set(qe.fieldPath.canonicalString(),ht.value);break;case"not-in":case"!=":return Te.set(qe.fieldPath.canonicalString(),ht.value),Array.from(Te.values())}return null}(f,u),T=function(ae,ge){const Te=[];let qe=!0;for(const ht of Bh(ge)){const ut=0===ht.kind?$G(ae,ht.fieldPath,ae.startAt):YG(ae,ht.fieldPath,ae.startAt);Te.push(ut.value),qe&&(qe=ut.inclusive)}return new mu(Te,qe)}(f,u),M=function(ae,ge){const Te=[];let qe=!0;for(const ht of Bh(ge)){const ut=0===ht.kind?YG(ae,ht.fieldPath,ae.endAt):$G(ae,ht.fieldPath,ae.endAt);Te.push(ut.value),qe&&(qe=ut.inclusive)}return new mu(Te,qe)}(f,u),F=this.ln(u,f,T),V=this.ln(u,f,M),U=this.hn(u,f,w),re=this.Pn(u.indexId,_,F,T.inclusive,V,M.inclusive,U);return De.forEach(re,ee=>i.j(ee,e.limit).next(ae=>{ae.forEach(ge=>{const Te=Et.fromSegments(ge.documentKey);o.has(Te)||(o=o.add(Te),c.push(Te))})}))}).next(()=>c)}return De.resolve(null)})}un(t){let e=this.an.get(t);return e||(e=0===t.filters.length?[t]:Wme(Fi.create(t.filters,"and")).map(i=>ER(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.an.set(t,e),e)}Pn(t,e,i,r,s,o,c){const u=(null!=e?e.length:1)*Math.max(i.length,s.length),f=u/(null!=e?e.length:1),_=[];for(let w=0;w<u;++w){const T=e?this.In(e[w/f]):nD,M=this.Tn(t,T,i[w%f],r),F=this.En(t,T,s[w%f],o),V=c.map(U=>this.Tn(t,T,U,!0));_.push(...this.createRange(M,F,V))}return _}Tn(t,e,i,r){const s=new Zh(t,Et.empty(),e,i);return r?s:s.Ht()}En(t,e,i,r){const s=new Zh(t,Et.empty(),e,i);return r?s.Ht():s}cn(t,e){const i=new Y5(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let o=null;for(const c of s)i.en(c)&&(!o||c.fields.length>o.fields.length)&&(o=c);return o})}getIndexType(t,e){let i=2;const r=this.un(e);return De.forEach(r,s=>this.cn(t,s).next(o=>{o?0!==i&&o.fields.length<function(u){let f=new Ui(hr.comparator),_=!1;for(const w of u.filters)for(const T of w.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?_=!0:f=f.add(T.field));for(const w of u.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(_?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}dn(t,e){const i=new mb;for(const r of Bh(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const o=i.jt(r.kind);Xh.St.ht(s,o)}return i.Ut()}In(t){const e=new mb;return Xh.St.ht(t,e.jt(0)),e.Ut()}An(t,e){const i=new mb;return Xh.St.ht(Uh(this.databaseId,e),i.jt(function(s){const o=Bh(s);return 0===o.length?0:o[o.length-1].kind}(t))),i.Ut()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new mb);let s=0;for(const o of Bh(t)){const c=i[s++];for(const u of r)if(this.Rn(e,o.fieldPath)&&Qy(c))r=this.Vn(r,o,c);else{const f=u.jt(o.kind);Xh.St.ht(c,f)}}return this.mn(r)}ln(t,e,i){return this.hn(t,e,i.position)}mn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ut();return e}Vn(t,e,i){const r=[...t],s=[];for(const o of i.arrayValue.values||[])for(const c of r){const u=new mb;u.seed(c.Ut()),Xh.St.ht(o,u.jt(e.kind)),s.push(u)}return s}Rn(t,e){return!!t.filters.find(i=>i instanceof ni&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=_b(t),r=em(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const o=[];return De.forEach(s,c=>r.get([c.indexId,this.uid]).next(u=>{o.push(function(_,w){const T=w?new zg(w.sequenceNumber,new ba(Yh(w.readTime),new Et(ac(w.documentKey)),w.largestBatchId)):zg.empty(),M=_.fields.map(([F,V])=>new zh(hr.fromServerFormat(F),V));return new Bg(_.indexId,_.collectionGroup,M,T)}(c,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:fn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=_b(t),s=em(t);return this.fn(t).next(o=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(c=>De.forEach(c,u=>s.put(U5(u.indexId,this.user,o,i)))))}updateIndexEntries(t,e){const i=new Map;return De.forEach(e,(r,s)=>{const o=i.get(r.collectionGroup);return(o?De.resolve(o):this.getFieldIndexes(t,r.collectionGroup)).next(c=>(i.set(r.collectionGroup,c),De.forEach(c,u=>this.gn(t,r,u).next(f=>{const _=this.pn(s,u);return f.isEqual(_)?De.resolve():this.yn(t,s,u,f,_)}))))})}wn(t,e,i,r){return Jg(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,e.key),documentKey:e.key.path.toArray()})}Sn(t,e,i,r){return Jg(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,e.key),e.key.path.toArray()])}gn(t,e,i){const r=Jg(t);let s=new Ui(vu);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,e)])},(o,c)=>{s=s.add(new Zh(i.indexId,e,c.arrayValue,c.directionalValue))}).next(()=>s)}pn(t,e){let i=new Ui(vu);const r=this.dn(e,t);if(null==r)return i;const s=pR(e);if(null!=s){const o=t.data.field(s.fieldPath);if(Qy(o))for(const c of o.arrayValue.values||[])i=i.add(new Zh(e.indexId,t.key,this.In(c),r))}else i=i.add(new Zh(e.indexId,t.key,nD,r));return i}yn(t,e,i,r,s){at("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(u,f,_,w,T){const M=u.getIterator(),F=f.getIterator();let V=Hg(M),U=Hg(F);for(;V||U;){let re=!1,ee=!1;if(V&&U){const ae=_(V,U);ae<0?ee=!0:ae>0&&(re=!0)}else null!=V?ee=!0:re=!0;re?(w(U),U=Hg(F)):ee?(T(V),V=Hg(M)):(V=Hg(M),U=Hg(F))}}(r,s,vu,c=>{o.push(this.wn(t,e,i,c))},c=>{o.push(this.Sn(t,e,i,c))}),De.waitFor(o)}fn(t){let e=1;return em(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((o,c)=>vu(o,c)).filter((o,c,u)=>!c||0!==vu(o,u[c-1]));const r=[];r.push(t);for(const o of i){const c=vu(o,t),u=vu(o,e);if(0===c)r[0]=t.Ht();else if(c>0&&u<0)r.push(o),r.push(o.Ht());else if(u>0)break}r.push(e);const s=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];s.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,nD,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,nD,[]]))}return s}bn(t,e){return vu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Q5)}getMinOffset(t,e){return De.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||Ft())).next(Q5)}}function K5(n){return Rs(n,"collectionParents")}function Jg(n){return Rs(n,"indexEntries")}function _b(n){return Rs(n,"indexConfiguration")}function em(n){return Rs(n,"indexState")}function Q5(n){Zt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;gR(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ba(t.readTime,t.documentKey,e)}const J5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new oo(t,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function e$(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(e.batchId);let c=0;const u=i.Y({range:o},(_,w,T)=>(c++,T.delete()));s.push(u.next(()=>{Zt(1===c)}));const f=[];for(const _ of e.mutations){const w=xG(t,_.key.path,e.batchId);s.push(r.delete(w)),f.push(_.key)}return De.waitFor(s).next(()=>f)}function iD(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Ft();t=n.noDocument}return JSON.stringify(t).length}oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);class rD{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(t,e,i,r){Zt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new rD(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yu(t).Y({index:"userMutationsIndex",range:i},(r,s,o)=>{e=!1,o.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=tm(t),o=yu(t);return o.add({}).next(c=>{Zt("number"==typeof c);const u=new AR(c,e,i,r),f=function(M,F,V){const U=V.baseMutations.map(ee=>fb(M.ut,ee)),re=V.mutations.map(ee=>fb(M.ut,ee));return{userId:F,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:U,mutations:re}}(this.serializer,this.userId,u),_=[];let w=new Ui((T,M)=>fn(T.canonicalString(),M.canonicalString()));for(const T of r){const M=xG(this.userId,T.key.path,c);w=w.add(T.key.path.popLast()),_.push(o.put(f)),_.push(s.put(M,Pge))}return w.forEach(T=>{_.push(this.indexManager.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(()=>{this.Dn[c]=u.keys()}),De.waitFor(_).next(()=>u)})}lookupMutationBatch(t,e){return yu(t).get(e).next(i=>i?(Zt(i.userId===this.userId),qh(this.serializer,i)):null)}Cn(t,e){return this.Dn[e]?De.resolve(this.Dn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Dn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return yu(t).Y({index:"userMutationsIndex",range:r},(o,c,u)=>{c.userId===this.userId&&(Zt(c.batchId>=i),s=qh(this.serializer,c)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return yu(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yu(t).W("userMutationsIndex",e).next(i=>i.map(r=>qh(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=VE(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return tm(t).Y({range:r},(o,c,u)=>{const[f,_,w]=o,T=ac(_);if(f===this.userId&&e.path.isEqual(T))return yu(t).get(w).next(M=>{if(!M)throw Ft();Zt(M.userId===this.userId),s.push(qh(this.serializer,M))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ui(fn);const r=[];return e.forEach(s=>{const o=VE(this.userId,s.path),c=IDBKeyRange.lowerBound(o),u=tm(t).Y({range:c},(f,_,w)=>{const[T,M,F]=f,V=ac(M);T===this.userId&&s.path.isEqual(V)?i=i.add(F):w.done()});r.push(u)}),De.waitFor(r).next(()=>this.vn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=VE(this.userId,i),o=IDBKeyRange.lowerBound(s);let c=new Ui(fn);return tm(t).Y({range:o},(u,f,_)=>{const[w,T,M]=u,F=ac(T);w===this.userId&&i.isPrefixOf(F)?F.length===r&&(c=c.add(M)):_.done()}).next(()=>this.vn(t,c))}vn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(yu(t).get(s).next(o=>{if(null===o)throw Ft();Zt(o.userId===this.userId),i.push(qh(this.serializer,o))}))}),De.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return e$(t.ae,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Fn(e.batchId)}),De.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Fn(t){delete this.Dn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return De.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return tm(t).Y({range:i},(s,o,c)=>{if(s[0]===this.userId){const u=ac(s[1]);r.push(u)}else c.done()}).next(()=>{Zt(0===r.length)})})}containsKey(t,e){return t$(t,this.userId,e)}Mn(t){return n$(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function t$(n,t,e){const i=VE(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return tm(n).Y({range:s,J:!0},(c,u,f)=>{const[_,w,T]=c;_===t&&w===r&&(o=!0),f.done()}).next(()=>o)}function yu(n){return Rs(n,"mutations")}function tm(n){return Rs(n,"documentMutations")}function n$(n){return Rs(n,"mutationQueues")}class Kh{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Kh(0)}static Nn(){return new Kh(-1)}}class Yme{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Bn(t).next(e=>{const i=new Kh(e.highestTargetId);return e.highestTargetId=i.next(),this.Ln(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(e=>Kt.fromTimestamp(new vr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Ln(t,r)))}addTargetData(t,e){return this.kn(t,e).next(()=>this.Bn(t).next(i=>(i.targetCount+=1,this.qn(e,i),this.Ln(t,i))))}updateTargetData(t,e){return this.kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>nm(t).delete(e.targetId)).next(()=>this.Bn(t)).next(i=>(Zt(i.targetCount>0),i.targetCount-=1,this.Ln(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return nm(t).Y((o,c)=>{const u=pb(c);u.sequenceNumber<=e&&null===i.get(u.targetId)&&(r++,s.push(this.removeTargetData(t,u)))}).next(()=>De.waitFor(s)).next(()=>r)}forEachTarget(t,e){return nm(t).Y((i,r)=>{const s=pb(r);e(s)})}Bn(t){return i$(t).get("targetGlobalKey").next(e=>(Zt(null!==e),e))}Ln(t,e){return i$(t).put("targetGlobalKey",e)}kn(t,e){return nm(t).put(z5(this.serializer,e))}qn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=jh(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return nm(t).Y({range:r,index:"queryTargetsIndex"},(o,c,u)=>{const f=pb(c);tb(e,f.target)&&(s=f,u.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=bu(t);return e.forEach(o=>{const c=so(o.path);r.push(s.put({targetId:i,path:c})),r.push(this.referenceDelegate.addReference(t,i,o))}),De.waitFor(r)}removeMatchingKeys(t,e,i){const r=bu(t);return De.forEach(e,s=>{const o=so(s.path);return De.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=bu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=bu(t);let s=Pn();return r.Y({range:i,J:!0},(o,c,u)=>{const f=ac(o[1]),_=new Et(f);s=s.add(_)}).next(()=>s)}containsKey(t,e){const i=so(e.path),r=IDBKeyRange.bound([i],[fG(i)],!1,!0);let s=0;return bu(t).Y({index:"documentTargetsIndex",J:!0,range:r},([o,c],u,f)=>{0!==o&&(s++,f.done())}).next(()=>s>0)}_t(t,e){return nm(t).get(e).next(i=>i?pb(i):null)}}function nm(n){return Rs(n,"targets")}function i$(n){return Rs(n,"targetGlobal")}function bu(n){return Rs(n,"targetDocuments")}function r$([n,t],[e,i]){const r=fn(n,e);return 0===r?fn(t,i):r}class qme{constructor(t){this.Qn=t,this.buffer=new Ui(r$),this.Kn=0}$n(){return++this.Kn}Un(t){const e=[t,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();r$(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class s${constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(t){var e=this;at("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ze.Z)(function*(){e.Wn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){cu(i)?at("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield lu(i)}yield e.Gn(3e5)}))}}class Xme{constructor(t,e){this.zn=t,this.params=e}calculateTargetCount(t,e){return this.zn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return De.resolve(wa._e);const i=new qme(e);return this.zn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(J5)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J5):this.Jn(t,e))}getCacheSize(t){return this.zn.getCacheSize(t)}Jn(t,e){let i,r,s,o,c,u,f;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),r=this.params.maximumSequenceNumbersToCollect):r=w,o=Date.now(),this.nthSequenceNumber(t,r))).next(w=>(i=w,c=Date.now(),this.removeTargets(t,i,e))).next(w=>(s=w,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(w=>(f=Date.now(),Lg()<=ga.in.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-_}ms\n\tDetermined least recently used ${r} in `+(c-o)+`ms\n\tRemoved ${s} targets in `+(u-c)+`ms\n\tRemoved ${w} documents in `+(f-u)+`ms\nTotal Duration: ${f-_}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:w})))}}class Zme{constructor(t,e){this.db=t,this.garbageCollector=function o$(n,t){return new Xme(n,t)}(this,e)}jn(t){const e=this.Yn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Yn(t){let e=0;return this.Hn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Hn(t,e){return this.Zn(t,(i,r)=>e(r))}addReference(t,e,i){return sD(t,i)}removeReference(t,e,i){return sD(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return sD(t,e)}Xn(t,e){return function(r,s){let o=!1;return n$(r).Z(c=>t$(r,c,s).next(u=>(u&&(o=!0),De.resolve(!u)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Zn(t,(o,c)=>{if(c<=e){const u=this.Xn(t,o).next(f=>{if(!f)return s++,i.getEntry(t,o).next(()=>(i.removeEntry(o,Kt.min()),bu(t).delete([0,so(o.path)])))});r.push(u)}}).next(()=>De.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return sD(t,e)}Zn(t,e){const i=bu(t);let r,s=wa._e;return i.Y({index:"documentTargetsIndex"},([o,c],{path:u,sequenceNumber:f})=>{0===o?(s!==wa._e&&e(new Et(ac(r)),s),s=f,r=u):s=wa._e}).next(()=>{s!==wa._e&&e(new Et(ac(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function sD(n,t){return bu(n).put((r=n.currentSequenceNumber,{targetId:0,path:so(t.path),sequenceNumber:r}));var r}class a${constructor(){this.changes=new td(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,fr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?De.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Kme{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Qh(t).put(i)}removeEntry(t,e,i){return Qh(t).delete(function(s,o){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],JE(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.er(t,i)))}getEntry(t,e){let i=fr.newInvalidDocument(e);return Qh(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(vb(e))},(r,s)=>{i=this.tr(e,s)}).next(()=>i)}nr(t,e){let i={size:0,document:fr.newInvalidDocument(e)};return Qh(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(vb(e))},(r,s)=>{i={document:this.tr(e,s),size:iD(s)}}).next(()=>i)}getEntries(t,e){let i=Qo();return this.rr(t,e,(r,s)=>{const o=this.tr(r,s);i=i.insert(r,o)}).next(()=>i)}ir(t,e){let i=Qo(),r=new rr(Et.comparator);return this.rr(t,e,(s,o)=>{const c=this.tr(s,o);i=i.insert(s,c),r=r.insert(s,iD(o))}).next(()=>({documents:i,sr:r}))}rr(t,e,i){if(e.isEmpty())return De.resolve();let r=new Ui(u$);e.forEach(u=>r=r.add(u));const s=IDBKeyRange.bound(vb(r.first()),vb(r.last())),o=r.getIterator();let c=o.getNext();return Qh(t).Y({index:"documentKeyIndex",range:s},(u,f,_)=>{const w=Et.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&u$(c,w)<0;)i(c,null),c=o.getNext();c&&c.isEqual(w)&&(i(c,f),c=o.hasNext()?o.getNext():null),c?_.U(vb(c)):_.done()}).next(()=>{for(;c;)i(c,null),c=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,s){const o=e.path,c=[o.popLast().toArray(),o.lastSegment(),JE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qh(t).W(IDBKeyRange.bound(c,u,!0)).next(f=>{s?.incrementDocumentReadCount(f.length);let _=Qo();for(const w of f){const T=this.tr(Et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);T.isFoundDocument()&&(ib(e,T)||r.has(T.key))&&(_=_.insert(T.key,T))}return _})}getAllFromCollectionGroup(t,e,i,r){let s=Qo();const o=d$(e,i),c=d$(e,ba.max());return Qh(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,c,!0)},(u,f,_)=>{const w=this.tr(Et.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(w.key,w),s.size===r&&_.done()}).next(()=>s)}newChangeBuffer(t){return new Qme(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return c$(t).get("remoteDocumentGlobalKey").next(e=>(Zt(!!e),e))}er(t,e){return c$(t).put("remoteDocumentGlobalKey",e)}tr(t,e){if(e){const i=function Vme(n,t){let e;if(t.document)e=R5(n.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Et.fromSegments(t.noDocument.path),r=Yh(t.noDocument.readTime);e=fr.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ft();{const i=Et.fromSegments(t.unknownDocument.path),r=Yh(t.unknownDocument.version);e=fr.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const s=new vr(r[0],r[1]);return Kt.fromTimestamp(s)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Kt.min()))return i}return fr.newInvalidDocument(t)}}function l$(n){return new Kme(n)}class Qme extends a${constructor(t,e){super(),this._r=t,this.trackRemovals=e,this.ar=new td(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Ui((s,o)=>fn(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const c=this.ar.get(s);if(e.push(this._r.removeEntry(t,s,c.readTime)),o.isValidDocument()){const u=B5(this._r.serializer,o);r=r.add(s.path.popLast());const f=iD(u);i+=f-c.size,e.push(this._r.addEntry(t,s,u))}else if(i-=c.size,this.trackRemovals){const u=B5(this._r.serializer,o.convertToNoDocument(Kt.min()));e.push(this._r.addEntry(t,s,u))}}),r.forEach(s=>{e.push(this._r.indexManager.addToCollectionParentIndex(t,s))}),e.push(this._r.updateMetadata(t,i)),De.waitFor(e)}getFromCache(t,e){return this._r.nr(t,e).next(i=>(this.ar.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this._r.ir(t,e).next(({documents:i,sr:r})=>(r.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:i.get(s).readTime})}),i))}}function c$(n){return Rs(n,"remoteDocumentGlobal")}function Qh(n){return Rs(n,"remoteDocumentsV14")}function vb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function d$(n,t){const e=t.documentKey.path.toArray();return[n,JE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function u$(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=fn(e[s],i[s]),r)return r;return r=fn(e.length,i.length),r||(r=fn(e[e.length-2],i[i.length-2]),r||fn(e[e.length-1],i[i.length-1]))}class Jme{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class h${constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&ab(i.mutation,r,Ko.empty(),vr.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Pn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Pn()){const r=cc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=rb();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=cc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Pn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,i,r){let s=Qo();const o=sb(),c=sb();return e.forEach((u,f)=>{const _=i.get(f.key);r.has(f.key)&&(void 0===_||_.mutation instanceof nd)?s=s.insert(f.key,f):void 0!==_?(o.set(f.key,_.mutation.getFieldMask()),ab(_.mutation,f,_.mutation.getFieldMask(),vr.now())):o.set(f.key,Ko.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((f,_)=>o.set(f,_)),e.forEach((f,_)=>{var w;return c.set(f,new Jme(_,null!==(w=o.get(f))&&void 0!==w?w:null))}),c))}recalculateAndSaveOverlays(t,e){const i=sb();let r=new rr((o,c)=>o-c),s=Pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const c of o)c.keys().forEach(u=>{const f=e.get(u);if(null===f)return;let _=i.get(u)||Ko.empty();_=c.applyToLocalView(f,_),i.set(u,_);const w=(r.get(c.batchId)||Pn()).add(u);r=r.insert(c.batchId,w)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,_=u.value,w=n5();_.forEach(T=>{if(!s.has(T)){const M=h5(e.get(T),i.get(T));null!==M&&w.set(T,M),s=s.add(T)}}),o.push(this.documentOverlayCache.saveOverlays(t,f,w))}return De.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return Et.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):DR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):De.resolve(cc());let c=-1,u=s;return o.next(f=>De.forEach(f,(_,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),s.get(_)?De.resolve():this.remoteDocumentCache.getEntry(t,_).next(T=>{u=u.insert(_,T)}))).next(()=>this.populateOverlays(t,f,s)).next(()=>this.computeViews(t,u,f,Pn())).next(_=>({batchId:c,changes:t5(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Et(e)).next(i=>{let r=rb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=rb();return this.indexManager.getCollectionParents(t,s).next(c=>De.forEach(c,u=>{const f=(w=e,T=u.child(s),new ed(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next(_=>{_.forEach((w,T)=>{o=o.insert(w,T)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((u,f)=>{const _=f.getKey();null===o.get(_)&&(o=o.insert(_,fr.newInvalidDocument(_)))});let c=rb();return o.forEach((u,f)=>{const _=s.get(u);void 0!==_&&ab(_.mutation,f,Ko.empty(),vr.now()),ib(e,f)&&(c=c.insert(u,f))}),c})}}class e_e{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return De.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:qr(r.createTime)}),De.resolve();var r}getNamedQuery(t,e){return De.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:VR(r.bundledQuery),readTime:qr(r.readTime)}),De.resolve();var r}}class t_e{constructor(){this.overlays=new rr(Et.comparator),this.lr=new Map}getOverlay(t,e){return De.resolve(this.overlays.get(e))}getOverlays(t,e){const i=cc();return De.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.lt(t,e,s)}),De.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),De.resolve()}getOverlaysForCollection(t,e,i){const r=cc(),s=e.length+1,o=new Et(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return De.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new rr((f,_)=>f-_);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let _=s.get(f.largestBatchId);null===_&&(_=cc(),s=s.insert(f.largestBatchId,_)),_.set(f.getKey(),f)}}const c=cc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,_)=>c.set(f,_)),!(c.size()>=r)););return De.resolve(c)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new MR(e,i));let s=this.lr.get(e);void 0===s&&(s=Pn(),this.lr.set(e,s)),this.lr.set(e,s.add(i.key))}}class GR{constructor(){this.hr=new Ui(Os.Pr),this.Ir=new Ui(Os.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new Os(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new Os(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new Et(new ci([])),i=new Os(e,t),r=new Os(e,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new Et(new ci([])),i=new Os(e,t),r=new Os(e,t+1);let s=Pn();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new Os(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Os{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return Et.comparator(t.key,e.key)||fn(t.gr,e.gr)}static Tr(t,e){return fn(t.gr,e.gr)||Et.comparator(t.key,e.key)}}class n_e{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new Ui(Os.Pr)}checkEmpty(t){return De.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.pr;this.pr++;const o=new AR(s,e,i,r);this.mutationQueue.push(o);for(const c of r)this.yr=this.yr.add(new Os(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return De.resolve(o)}lookupMutationBatch(t,e){return De.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),s=r<0?0:r;return De.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Os(e,0),r=new Os(e,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const c=this.wr(o.gr);s.push(c)}),De.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ui(fn);return e.forEach(r=>{const s=new Os(r,0),o=new Os(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],c=>{i=i.add(c.gr)})}),De.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Et.isDocumentKey(s)||(s=s.child(""));const o=new Os(new Et(s),0);let c=new Ui(fn);return this.yr.forEachWhile(u=>{const f=u.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(c=c.add(u.gr)),!0)},o),De.resolve(this.br(c))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Zt(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return De.forEach(e.mutations,r=>{const s=new Os(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new Os(e,0),r=this.yr.firstAfterOrEqual(i);return De.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return De.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class i_e{constructor(t){this.Cr=t,this.docs=new rr(Et.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return De.resolve(i?i.document.mutableCopy():fr.newInvalidDocument(e))}getEntries(t,e){let i=Qo();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():fr.newInvalidDocument(r))}),De.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=Qo();const o=e.path,c=new Et(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||gR(gG(_),i)<=0||(r.has(_.key)||ib(e,_))&&(s=s.insert(_.key,_.mutableCopy()))}return De.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Ft()}vr(t,e){return De.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new r_e(this)}getSize(t){return De.resolve(this.size)}}class r_e extends a${constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),De.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class s_e{constructor(t){this.persistence=t,this.Fr=new td(e=>jh(e),tb),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new GR,this.targetCount=0,this.Nr=Kh.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),De.resolve()}getLastRemoteSnapshotVersion(t){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return De.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),De.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new Kh(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,De.resolve()}updateTargetData(t,e){return this.kn(e),De.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,De.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Fr.forEach((o,c)=>{c.sequenceNumber<=e&&null===i.get(c.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),De.waitFor(s).next(()=>r)}getTargetCount(t){return De.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return De.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),De.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),De.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),De.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return De.resolve(i)}containsKey(t,e){return De.resolve(this.Or.containsKey(e))}}class $R{constructor(t,e){this.Br={},this.overlays={},this.Lr=new wa(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new s_e(this),this.indexManager=new Gme,this.remoteDocumentCache=new i_e(i=>this.referenceDelegate.Qr(i)),this.serializer=new V5(e),this.Kr=new e_e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new t_e,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new n_e(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){at("MemoryPersistence","Starting transaction:",t);const r=new o_e(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,e){return De.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class o_e extends _G{constructor(t){super(),this.currentSequenceNumber=t}}class oD{constructor(t){this.persistence=t,this.Gr=new GR,this.zr=null}static jr(t){return new oD(t)}get Hr(){if(this.zr)return this.zr;throw Ft()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),De.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),De.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),De.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Hr,i=>{const r=Et.fromPath(i);return this.Jr(t,r).next(s=>{s||e.removeEntry(r,Kt.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return De.or([()=>De.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class a_e{constructor(t){this.serializer=t}N(t,e,i,r){const s=new LE("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wG,{unique:!0}),u.createObjectStore("documentMutations"),f$(t),function(u){u.createObjectStore("remoteDocuments")}(t));let o=De.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),f$(t)),o=o.next(()=>function(u){const f=u.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(o=o.next(()=>function(u,f){return f.store("mutations").W().next(_=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wG,{unique:!0});const w=f.store("mutations"),T=_.map(M=>w.put(M));return De.waitFor(T)})}(t,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(o=o.next(()=>this.Zr(s))),i<6&&r>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Xr(s)))),i<7&&r>=7&&(o=o.next(()=>this.ei(s))),i<8&&r>=8&&(o=o.next(()=>this.ti(t,s))),i<9&&r>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(o=o.next(()=>this.ni(s))),i<11&&r>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(o=o.next(()=>{!function(u){const f=u.createObjectStore("documentOverlays",{keyPath:$ge});f.createIndex("collectionPathOverlayIndex",Yge,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",qge,{unique:!1})}(t)})),i<13&&r>=13&&(o=o.next(()=>function(u){const f=u.createObjectStore("remoteDocumentsV14",{keyPath:Nge});f.createIndex("documentKeyIndex",Fge),f.createIndex("collectionGroupIndex",Lge)}(t)).next(()=>this.ri(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.ii(t,s))),i<15&&r>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:Uge}).createIndex("sequenceNumberIndex",jge,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:Wge}).createIndex("documentKeyIndex",Gge,{unique:!1})}(t))),o}Xr(t){let e=0;return t.store("remoteDocuments").Y((i,r)=>{e+=iD(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>De.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",o).next(c=>De.forEach(c,u=>{Zt(u.userId===s.userId);const f=qh(this.serializer,u);return e$(t,s.userId,f).next(()=>{})}))}))}ei(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Y((o,c)=>{const u=new ci(o),f=[0,so(u)];s.push(e.get(f).next(_=>_?De.resolve():e.put({targetId:0,path:so(u),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>De.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:Hge});const i=e.store("collectionParents"),r=new WR,s=o=>{if(r.add(o)){const c=o.lastSegment(),u=o.popLast();return i.put({collectionId:c,parent:so(u)})}};return e.store("remoteDocuments").Y({J:!0},(o,c)=>{const u=new ci(o);return s(u.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([o,c,u],f)=>{const _=ac(c);return s(_.popLast())}))}ni(t){const e=t.store("targets");return e.Y((i,r)=>{const s=pb(r),o=z5(this.serializer,s);return e.put(o)})}ri(t,e){const i=e.store("remoteDocuments"),r=[];return i.Y((s,o)=>{const c=e.store("remoteDocumentsV14"),u=(w=o,w.document?new Et(ci.fromString(w.document.name).popFirst(5)):w.noDocument?Et.fromSegments(w.noDocument.path):w.unknownDocument?Et.fromSegments(w.unknownDocument.path):Ft()).path.toArray(),f={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var w;r.push(c.put(f))}).next(()=>De.waitFor(r))}ii(t,e){const i=e.store("mutations"),r=l$(this.serializer),s=new $R(oD.jr,this.serializer.ut);return i.W().next(o=>{const c=new Map;return o.forEach(u=>{var f;let _=null!==(f=c.get(u.userId))&&void 0!==f?f:Pn();qh(this.serializer,u).keys().forEach(w=>_=_.add(w)),c.set(u.userId,_)}),De.forEach(c,(u,f)=>{const _=new Ms(f),w=eD.ct(this.serializer,_),T=s.getIndexManager(_),M=rD.ct(_,this.serializer,T,s.referenceDelegate);return new h$(r,M,w,T).recalculateAndSaveOverlaysForDocumentKeys(new vR(e,wa._e),u).next()})})}}function f$(n){n.createObjectStore("targetDocuments",{keyPath:Bge}).createIndex("documentTargetsIndex",zge,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Vge,{unique:!0}),n.createObjectStore("targetGlobal")}const YR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qR{constructor(t,e,i,r,s,o,c,u,f,_,w=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=s,this.window=o,this.document=c,this.oi=f,this._i=_,this.ai=w,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=T=>Promise.resolve(),!qR.D())throw new it(Fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zme(this,r),this.Ii=e+"main",this.serializer=new V5(u),this.Ti=new Cl(this.Ii,this.ai,new a_e(this.serializer)),this.qr=new Yme(this.referenceDelegate,this.serializer),this.remoteDocumentCache=l$(this.serializer),this.Kr=new Bme,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===_&&Yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new it(Fe.FAILED_PRECONDITION,YR);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.qr.getHighestSequenceNumber(t))}).then(t=>{this.Lr=new wa(t,this.oi)}).then(()=>{this.kr=!0}).catch(t=>(this.Ti&&this.Ti.close(),Promise.reject(t)))}mi(t){var e=this;return this.Pi=function(){var i=(0,Ze.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ti.L(function(){var e=(0,Ze.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,Ze.Z)(function*(){e.started&&(yield e.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>lD(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(t)).next(e=>this.isPrimary&&!e?this.pi(t).next(()=>!1):!!e&&this.yi(t).next(()=>!0))).catch(t=>{if(cu(t))return at("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return at("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.Pi(t)),this.isPrimary=t})}fi(t){return yb(t).get("owner").next(e=>De.resolve(this.wi(e)))}Si(t){return lD(t).delete(this.clientId)}bi(){var t=this;return(0,Ze.Z)(function*(){if(t.isPrimary&&!t.Di(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Rs(i,"clientMetadata");return r.W().next(s=>{const o=t.Ci(s,18e5),c=s.filter(u=>-1===o.indexOf(u));return De.forEach(c,u=>r.delete(u.clientId)).next(()=>c)})}).catch(()=>[]);if(t.Ei)for(const i of e)t.Ei.removeItem(t.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(t){return!!t&&t.ownerId===this.clientId}gi(t){return this._i?De.resolve(!0):yb(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)){if(this.wi(e)&&this.networkEnabled)return!0;if(!this.wi(e)){if(!e.allowTabSynchronization)throw new it(Fe.FAILED_PRECONDITION,YR);return!1}}return!(!this.networkEnabled||!this.inForeground)||lD(t).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&at("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ze.Z)(function*(){t.kr=!1,t.Mi(),t.li&&(t.li.cancel(),t.li=null),t.xi(),t.Oi(),yield t.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new vR(e,wa._e);return t.pi(i).next(()=>t.Si(i))}),t.Ti.close(),t.Ni()})()}Ci(t,e){return t.filter(i=>this.Di(i.updateTimeMs,e)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>lD(t).W().next(e=>this.Ci(e,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(t,e){return rD.ct(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new $me(t,this.serializer.ut.databaseId)}getDocumentOverlayCache(t){return eD.ct(this.serializer,t)}getBundleCache(){return this.Kr}runTransaction(t,e,i){at("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(u=this.ai)?Zge:14===u?DG:13===u?EG:12===u?Xge:11===u?CG:void Ft();var u;let o;return this.Ti.runTransaction(t,r,s,c=>(o=new vR(c,this.Lr?this.Lr.next():wa._e),"readwrite-primary"===e?this.fi(o).next(u=>!!u||this.gi(o)).next(u=>{if(!u)throw Yr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new it(Fe.FAILED_PRECONDITION,mG);return i(o)}).next(u=>this.yi(o).next(()=>u)):this.Li(o).next(()=>i(o)))).then(c=>(o.raiseOnCommittedEvent(),c))}Li(t){return yb(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new it(Fe.FAILED_PRECONDITION,YR)})}yi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yb(t).put("owner",e)}static D(){return Cl.D()}pi(t){const e=yb(t);return e.get("owner").next(i=>this.wi(i)?(at("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):De.resolve())}Di(t,e){const i=Date.now();return!(t<i-e||t>i&&(Yr(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;(0,te.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(t){var e;try{const i=null!==(null===(e=this.Ei)||void 0===e?void 0:e.getItem(this.vi(t)));return at("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Yr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(t){Yr("Failed to set zombie client id.",t)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function yb(n){return Rs(n,"owner")}function lD(n){return Rs(n,"clientMetadata")}function XR(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class ZR{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Pn(),r=Pn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ZR(t,e.fromCache,i,r)}}class l_e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class p${constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.zi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new l_e;return this.Hi(t,e,o).next(c=>{if(s.result=c,this.$i)return this.Ji(t,e,o,c.size)})}).next(()=>s.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(Lg()<=ga.in.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",$g(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),De.resolve()):(Lg()<=ga.in.DEBUG&&at("QueryEngine","Query:",$g(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Lg()<=ga.in.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",$g(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ko(e))):De.resolve())}zi(t,e){if(XG(e))return De.resolve(null);let i=ko(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=YE(e,null,"F"),i=ko(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Pn(...s);return this.Gi.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,i).next(u=>{const f=this.Yi(e,c);return this.Zi(e,f,o,u.readTime)?this.zi(t,YE(e,null,"F")):this.Xi(t,f,e,u)}))})))}ji(t,e,i,r){return XG(e)||r.isEqual(Kt.min())?De.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(e,s);return this.Zi(e,o,i,r)?De.resolve(null):(Lg()<=ga.in.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$g(e)),this.Xi(t,o,e,pG(r,-1)).next(c=>c))})}Yi(t,e){let i=new Ui(JG(t));return e.forEach((r,s)=>{ib(t,s)&&(i=i.add(s))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,e,i){return Lg()<=ga.in.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",$g(e)),this.Gi.getDocumentsMatchingQuery(t,e,ba.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class c_e{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new rr(fn),this.ns=new td(s=>jh(s),tb),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new h$(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function g$(n,t,e,i){return new c_e(n,t,e,i)}function m$(n,t){return KR.apply(this,arguments)}function KR(){return KR=(0,Ze.Z)(function*(n,t){const e=wt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],c=[];let u=Pn();for(const f of r){o.push(f.batchId);for(const _ of f.mutations)u=u.add(_.key)}for(const f of s){c.push(f.batchId);for(const _ of f.mutations)u=u.add(_.key)}return e.localDocuments.getDocuments(i,u).next(f=>({_s:f,removedBatchIds:o,addedBatchIds:c}))})})}),KR.apply(this,arguments)}function _$(n){const t=wt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function v$(n,t,e){let i=Pn(),r=Pn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=Qo();return e.forEach((c,u)=>{const f=s.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(Kt.min())?(t.removeEntry(c,u.readTime),o=o.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||0===u.version.compareTo(f.version)&&f.hasPendingWrites?(t.addEntry(u),o=o.insert(c,u)):at("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)}),{us:o,cs:r}})}function h_e(n,t){const e=wt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function im(n,t){const e=wt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(s=>s?(r=s,De.resolve(r)):e.qr.allocateTargetId(i).next(o=>(r=new id(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}function rm(n,t,e){return QR.apply(this,arguments)}function QR(){return QR=(0,Ze.Z)(function*(n,t,e){const i=wt(n),r=i.ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!cu(o))throw o;at("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),QR.apply(this,arguments)}function cD(n,t,e){const i=wt(n);let r=Kt.min(),s=Pn();return i.persistence.runTransaction("Execute query","readwrite",o=>function(u,f,_){const w=wt(u),T=w.ns.get(_);return void 0!==T?De.resolve(w.ts.get(T)):w.qr.getTargetData(f,_)}(i,o,ko(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,e?r:Kt.min(),e?s:Pn())).next(c=>(w$(i,QG(t),c),{documents:c,ls:s})))}function y$(n,t){const e=wt(n),i=wt(e.qr),r=e.ts.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i._t(s,t).next(o=>o?o.target:null))}function b$(n,t){const e=wt(n),i=e.rs.get(t)||Kt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ss.getAllFromCollectionGroup(r,t,pG(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(w$(e,t,r),r))}function w$(n,t,e){let i=n.rs.get(t)||Kt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(t,i)}function JR(){return JR=(0,Ze.Z)(function*(n,t,e,i){const r=wt(n);let s=Pn(),o=Qo();for(const f of e){const _=t.hs(f.metadata.name);f.document&&(s=s.add(_));const w=t.Ps(f);w.setReadTime(t.Is(f.metadata.readTime)),o=o.insert(_,w)}const c=r.ss.newChangeBuffer({trackRemovals:!0}),u=yield im(r,(_=i,ko(Wg(ci.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",f=>v$(f,c,o).next(_=>(c.apply(f),_)).next(_=>r.qr.removeMatchingKeysForTargetId(f,u.targetId).next(()=>r.qr.addMatchingKeys(f,s,u.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,_.us,_.cs)).next(()=>_.us)))}),JR.apply(this,arguments)}function p_e(n,t){return eO.apply(this,arguments)}function eO(){return eO=(0,Ze.Z)(function*(n,t,e=Pn()){const i=yield im(n,ko(VR(t.bundledQuery))),r=wt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=qr(t.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Kr.saveNamedQuery(s,t);const c=i.withResumeToken(ms.EMPTY_BYTE_STRING,o);return r.ts=r.ts.insert(c.targetId,c),r.qr.updateTargetData(s,c).next(()=>r.qr.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.qr.addMatchingKeys(s,e,i.targetId)).next(()=>r.Kr.saveNamedQuery(s,t))})}),eO.apply(this,arguments)}function x$(n,t){return`firestore_clients_${n}_${t}`}function C$(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function tO(n,t){return`firestore_targets_${n}_${t}`}class dD{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ts(t,e,i){const r=JSON.parse(i);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new it(r.error.code,r.error.message))),o?new dD(t,e,r.state,s):(Yr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class bb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ts(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new it(i.error.code,i.error.message))),s?new bb(t,i.state,r):(Yr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class uD{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ts(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=IR();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=yG(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new uD(t,s):(Yr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class nO{constructor(t,e){this.clientId=t,this.onlineState=e}static Ts(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new nO(e.clientId,e.onlineState):(Yr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class iO{constructor(){this.activeTargetIds=IR()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rO{constructor(t,e,i,r,s){this.window=t,this.si=e,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new rr(fn),this.started=!1,this.ps=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=x$(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new iO),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ze.Z)(function*(){const e=yield t.syncEngine.Bi();for(const r of e){if(r===t.Rs)continue;const s=t.getItem(x$(t.persistenceKey,r));if(s){const o=uD.Ts(r,s);o&&(t.gs=t.gs.insert(o.clientId,o))}}t.Fs();const i=t.storage.getItem(t.Cs);if(i){const r=t.Ms(i);r&&t.xs(r)}for(const r of t.ps)t.fs(r);t.ps=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(t){let e=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ns(t,"pending")}updateMutationState(t,e,i){this.Ns(t,e,i),this.Bs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(tO(this.persistenceKey,t));if(i){const r=bb.Ts(t,i);r&&(e=r.state)}}return this.Ls.ds(t),this.Fs(),e}removeLocalQueryTarget(t){this.Ls.As(t),this.Fs()}isLocalQueryTarget(t){return this.Ls.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(tO(this.persistenceKey,t))}updateQueryState(t,e,i){this.ks(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Bs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.qs(t)}notifyBundleLoaded(t){this.Qs(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return at("SharedClientState","READ",t,e),e}setItem(t,e){at("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){at("SharedClientState","REMOVE",t),this.storage.removeItem(t)}fs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(at("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Ze.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ss.test(i.key)){if(null==i.newValue){const r=e.Ks(i.key);return e.$s(r,null)}{const r=e.Us(i.key,i.newValue);if(r)return e.$s(r.clientId,r)}}else if(e.bs.test(i.key)){if(null!==i.newValue){const r=e.Ws(i.key,i.newValue);if(r)return e.Gs(r)}}else if(e.Ds.test(i.key)){if(null!==i.newValue){const r=e.zs(i.key,i.newValue);if(r)return e.js(r)}}else if(i.key===e.Cs){if(null!==i.newValue){const r=e.Ms(i.newValue);if(r)return e.xs(r)}}else if(i.key===e.ws){const r=function(o){let c=wa._e;if(null!=o)try{const u=JSON.parse(o);Zt("number"==typeof u),c=u}catch(u){Yr("SharedClientState","Failed to read sequence number from WebStorage",u)}return c}(i.newValue);r!==wa._e&&e.sequenceNumberHandler(r)}else if(i.key===e.vs){const r=e.Hs(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Js(s)))}}else e.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(t,e,i){const r=new dD(this.currentUser,t,e,i),s=C$(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Es())}Bs(t){const e=C$(this.persistenceKey,this.currentUser,t);this.removeItem(e)}qs(t){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:t}))}ks(t,e,i){const r=tO(this.persistenceKey,t),s=new bb(t,e,i);this.setItem(r,s.Es())}Qs(t){const e=JSON.stringify(Array.from(t));this.setItem(this.vs,e)}Ks(t){const e=this.Ss.exec(t);return e?e[1]:null}Us(t,e){const i=this.Ks(t);return uD.Ts(i,e)}Ws(t,e){const i=this.bs.exec(t),r=Number(i[1]);return dD.Ts(new Ms(void 0!==i[2]?i[2]:null),r,e)}zs(t,e){const i=this.Ds.exec(t),r=Number(i[1]);return bb.Ts(r,e)}Ms(t){return nO.Ts(t)}Hs(t){return JSON.parse(t)}Gs(t){var e=this;return(0,Ze.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Ys(t.batchId,t.state,t.error);at("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}js(t){return this.syncEngine.Zs(t.targetId,t.state,t.error)}$s(t,e){const i=e?this.gs.insert(t,e):this.gs.remove(t),r=this.Os(this.gs),s=this.Os(i),o=[],c=[];return s.forEach(u=>{r.has(u)||o.push(u)}),r.forEach(u=>{s.has(u)||c.push(u)}),this.syncEngine.Xs(o,c).then(()=>{this.gs=i})}xs(t){this.gs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Os(t){let e=IR();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class E${constructor(){this.eo=new iO,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new iO,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class g_e{ro(t){}shutdown(){}}class D${constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hD=null;function sO(){return null===hD?hD=268435456+Math.round(2147483648*Math.random()):hD++,"0x"+hD.toString(16)}const m_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __e{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const ao="WebChannelConnection";class v_e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(e,i,r,s,o){const c=sO(),u=this.So(e,i);at("RestConnection",`Sending RPC '${e}' ${c}:`,u,r);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,s,o),this.Do(e,u,f,r).then(_=>(at("RestConnection",`Received RPC '${e}' ${c}: `,_),_),_=>{throw Zo("RestConnection",`RPC '${e}' ${c} failed with error: `,_,"url: ",u,"request:",r),_})}Co(e,i,r,s,o,c){return this.wo(e,i,r,s,o)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,i){return`${this.mo}/v1/${i}:${m_e[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const s=sO();return new Promise((o,c)=>{const u=new gge;u.setWithCredentials(!0),u.listenOnce(hge.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case hR.NO_ERROR:const _=u.getResponseJson();at(ao,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(_)),o(_);break;case hR.TIMEOUT:at(ao,`RPC '${t}' ${s} timed out`),c(new it(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case hR.HTTP_ERROR:const w=u.getStatus();if(at(ao,`RPC '${t}' ${s} failed with status:`,w,"response text:",u.getResponseText()),w>0){let T=u.getResponseJson();Array.isArray(T)&&(T=T[0]);const M=T?.error;if(M&&M.status&&M.message){const F=function(U){const re=U.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(re)>=0?re:Fe.UNKNOWN}(M.status);c(new it(F,M.message))}else c(new it(Fe.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new it(Fe.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{at(ao,`RPC '${t}' ${s} completed.`)}});const f=JSON.stringify(r);at(ao,`RPC '${t}' ${s} sending request:`,r),u.send(e,"POST",f,i,15)})}vo(t,e,i){const r=sO(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=dge(),c=uge(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;void 0!==f&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.xmlHttpFactory=new pge({})),this.bo(u.initMessageHeaders,e,i),u.encodeInitMessageHeaders=!0;const _=s.join("");at(ao,`Creating RPC '${t}' stream ${r}: ${_}`,u);const w=o.createWebChannel(_,u);let T=!1,M=!1;const F=new __e({co:U=>{M?at(ao,`Not sending because RPC '${t}' stream ${r} is closed:`,U):(T||(at(ao,`Opening RPC '${t}' stream ${r} transport.`),w.open(),T=!0),at(ao,`RPC '${t}' stream ${r} sending:`,U),w.send(U))},lo:()=>w.close()}),V=(U,re,ee)=>{U.listen(re,ae=>{try{ee(ae)}catch(ge){setTimeout(()=>{throw ge},0)}})};return V(w,FE.EventType.OPEN,()=>{M||at(ao,`RPC '${t}' stream ${r} transport opened.`)}),V(w,FE.EventType.CLOSE,()=>{M||(M=!0,at(ao,`RPC '${t}' stream ${r} transport closed`),F.Ro())}),V(w,FE.EventType.ERROR,U=>{M||(M=!0,Zo(ao,`RPC '${t}' stream ${r} transport errored:`,U),F.Ro(new it(Fe.UNAVAILABLE,"The operation could not be completed")))}),V(w,FE.EventType.MESSAGE,U=>{var re;if(!M){const ee=U.data[0];Zt(!!ee);const ge=ee.error||(null===(re=ee[0])||void 0===re?void 0:re.error);if(ge){at(ao,`RPC '${t}' stream ${r} received error:`,ge);const Te=ge.status;let qe=function(Dt){const kt=is[Dt];if(void 0!==kt)return v5(kt)}(Te),ht=ge.message;void 0===qe&&(qe=Fe.INTERNAL,ht="Unknown error status: "+Te+" with message "+ge.message),M=!0,F.Ro(new it(qe,ht)),w.close()}else at(ao,`RPC '${t}' stream ${r} received:`,ee),F.Vo(ee)}}),V(c,fge.STAT_EVENT,U=>{U.stat===lG.PROXY?at(ao,`RPC '${t}' stream ${r} detected buffering proxy`):U.stat===lG.NOPROXY&&at(ao,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{F.Ao()},0),F}}function T$(){return typeof window<"u"?window:null}function fD(){return typeof document<"u"?document:null}function wb(n){return new Sme(n,!0)}class oO{constructor(t,e,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&at("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class I${constructor(t,e,i,r,s,o,c,u){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new oO(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return(0,Ze.Z)(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return(0,Ze.Z)(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return(0,Ze.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===Fe.RESOURCE_EXHAUSTED?(Yr(e.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===Fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new it(Fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko((0,Ze.Z)(function*(){t.state=0,t.start()}))}o_(t){return at("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y_e extends I${constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function Mme(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:Ft(),r=t.targetChange.targetIds||[],s=function(f,_){return f.useProto3Json?(Zt(void 0===_||"string"==typeof _),ms.fromBase64String(_||"")):(Zt(void 0===_||_ instanceof Uint8Array),ms.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(f){const _=void 0===f.code?Fe.UNKNOWN:v5(f.code);return new it(_,f.message||"")}(o);e=new C5(i,r,s,c||null)}else if("documentChange"in t){const i=t.documentChange,r=dc(n,i.document.name),s=qr(i.document.updateTime),o=i.document.createTime?qr(i.document.createTime):Kt.min(),c=new js({mapValue:{fields:i.document.fields}}),u=fr.newFoundDocument(r,s,o,c);e=new QE(i.targetIds||[],i.removedTargetIds||[],u.key,u)}else if("documentDelete"in t){const i=t.documentDelete,r=dc(n,i.document),s=i.readTime?qr(i.readTime):Kt.min(),o=fr.newNoDocument(r,s);e=new QE([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=dc(n,i.document);e=new QE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Ft();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new xme(r,s);e=new x5(i.targetId,o)}}var f;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return Kt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Kt.min():o.readTime?qr(o.readTime):Kt.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=hb(this.serializer),e.addTarget=function(s,o){let c;const u=o.target;if(c=GE(u)?{documents:O5(s,u)}:{query:LR(s,u)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=I5(s,o.resumeToken);const f=OR(s,o.expectedCount);null!==f&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo(Kt.min())>0){c.readTime=Kg(s,o.snapshotVersion.toTimestamp());const f=OR(s,o.expectedCount);null!==f&&(c.expectedCount=f)}return c}(this.serializer,t);const i=function Ome(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=hb(this.serializer),e.removeTarget=t,this.e_(e)}}class b_e extends I${constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(Zt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function Rme(n,t){return n&&n.length>0?(Zt(void 0!==t),n.map(e=>function(r,s){let o=qr(r.updateTime?r.updateTime:s);return o.isEqual(Kt.min())&&(o=qr(s)),new vme(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=qr(t.commitTime);return this.listener.I_(i,e)}return Zt(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=hb(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>fb(this.serializer,i))};this.e_(e)}}class w_e extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new it(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new it(Fe.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,e,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(Fe.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class C_e{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Yr(e),this.f_=!1):at("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class E_e{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(c=>{i.enqueueAndForget((0,Ze.Z)(function*(){var u;wu(o)&&(at("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,Ze.Z)(function*(_){const w=wt(_);w.C_.add(4),yield sm(w),w.M_.set("Unknown"),w.C_.delete(4),yield xb(w)}),function f(_){return u.apply(this,arguments)})(o))}))}),this.M_=new C_e(i,r)}}function xb(n){return lO.apply(this,arguments)}function lO(){return lO=(0,Ze.Z)(function*(n){if(wu(n))for(const t of n.v_)yield t(!0)}),lO.apply(this,arguments)}function sm(n){return cO.apply(this,arguments)}function cO(){return cO=(0,Ze.Z)(function*(n){for(const t of n.v_)yield t(!1)}),cO.apply(this,arguments)}function pD(n,t){const e=wt(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),hO(e)?uO(e):am(e).Ho()&&dO(e,t))}function Cb(n,t){const e=wt(n),i=am(e);e.D_.delete(t),i.Ho()&&S$(e,t),0===e.D_.size&&(i.Ho()?i.Zo():wu(e)&&e.M_.set("Unknown"))}function dO(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}am(n).u_(t)}function S$(n,t){n.x_.Oe(t),am(n).c_(t)}function uO(n){n.x_=new Eme({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),am(n).start(),n.M_.g_()}function hO(n){return wu(n)&&!am(n).jo()&&n.D_.size>0}function wu(n){return 0===wt(n).C_.size}function A$(n){n.x_=void 0}function D_e(n){return fO.apply(this,arguments)}function fO(){return fO=(0,Ze.Z)(function*(n){n.D_.forEach((t,e)=>{dO(n,t)})}),fO.apply(this,arguments)}function T_e(n,t){return pO.apply(this,arguments)}function pO(){return pO=(0,Ze.Z)(function*(n,t){A$(n),hO(n)?(n.M_.w_(t),uO(n)):n.M_.set("Unknown")}),pO.apply(this,arguments)}function I_e(n,t,e){return gO.apply(this,arguments)}function gO(){return gO=(0,Ze.Z)(function*(n,t,e){if(n.M_.set("Online"),t instanceof C5&&2===t.state&&t.cause)try{yield(i=(0,Ze.Z)(function*(s,o){const c=o.cause;for(const u of o.targetIds)s.D_.has(u)&&(yield s.remoteSyncer.rejectListen(u,c),s.D_.delete(u),s.x_.removeTarget(u))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){at("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield gD(n,i)}else if(t instanceof QE?n.x_.$e(t):t instanceof x5?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(Kt.min()))try{const i=yield _$(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const c=s.x_.it(o);return c.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const _=s.D_.get(f);_&&s.D_.set(f,_.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,f)=>{const _=s.D_.get(u);if(!_)return;s.D_.set(u,_.withResumeToken(ms.EMPTY_BYTE_STRING,_.snapshotVersion)),S$(s,u);const w=new id(_.target,u,f,_.sequenceNumber);dO(s,w)}),s.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){at("RemoteStore","Failed to raise snapshot:",i),yield gD(n,i)}var i}),gO.apply(this,arguments)}function gD(n,t,e){return mO.apply(this,arguments)}function mO(){return mO=(0,Ze.Z)(function*(n,t,e){if(!cu(t))throw t;n.C_.add(1),yield sm(n),n.M_.set("Offline"),e||(e=()=>_$(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ze.Z)(function*(){at("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield xb(n)}))}),mO.apply(this,arguments)}function k$(n,t){return t().catch(e=>gD(n,e,t))}function om(n){return _O.apply(this,arguments)}function _O(){return _O=(0,Ze.Z)(function*(n){const t=wt(n),e=xu(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;S_e(t);)try{const r=yield h_e(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,A_e(t,r)}catch(r){yield gD(t,r)}M$(t)&&R$(t)}),_O.apply(this,arguments)}function S_e(n){return wu(n)&&n.b_.length<10}function A_e(n,t){n.b_.push(t);const e=xu(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function M$(n){return wu(n)&&!xu(n).jo()&&n.b_.length>0}function R$(n){xu(n).start()}function k_e(n){return vO.apply(this,arguments)}function vO(){return vO=(0,Ze.Z)(function*(n){xu(n).E_()}),vO.apply(this,arguments)}function M_e(n){return yO.apply(this,arguments)}function yO(){return yO=(0,Ze.Z)(function*(n){const t=xu(n);for(const e of n.b_)t.P_(e.mutations)}),yO.apply(this,arguments)}function R_e(n,t,e){return bO.apply(this,arguments)}function bO(){return bO=(0,Ze.Z)(function*(n,t,e){const i=n.b_.shift(),r=kR.from(i,t,e);yield k$(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield om(n)}),bO.apply(this,arguments)}function O_e(n,t){return wO.apply(this,arguments)}function wO(){return wO=(0,Ze.Z)(function*(n,t){var e;t&&xu(n).h_&&(yield(e=(0,Ze.Z)(function*(r,s){if(_5(c=s.code)&&c!==Fe.ABORTED){const o=r.b_.shift();xu(r).Yo(),yield k$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield om(r)}var c}),function i(r,s){return e.apply(this,arguments)})(n,t)),M$(n)&&R$(n)}),wO.apply(this,arguments)}function O$(n,t){return xO.apply(this,arguments)}function xO(){return xO=(0,Ze.Z)(function*(n,t){const e=wt(n);e.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const i=wu(e);e.C_.add(3),yield sm(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield xb(e)}),xO.apply(this,arguments)}function CO(n,t){return EO.apply(this,arguments)}function EO(){return EO=(0,Ze.Z)(function*(n,t){const e=wt(n);t?(e.C_.delete(2),yield xb(e)):t||(e.C_.add(2),yield sm(e),e.M_.set("Unknown"))}),EO.apply(this,arguments)}function am(n){return n.O_||(n.O_=function(e,i,r){const s=wt(e);return s.A_(),new y_e(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:D_e.bind(null,n),Io:T_e.bind(null,n),a_:I_e.bind(null,n)}),n.v_.push(function(){var t=(0,Ze.Z)(function*(e){e?(n.O_.Yo(),hO(n)?uO(n):n.M_.set("Unknown")):(yield n.O_.stop(),A$(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function xu(n){return n.N_||(n.N_=function(e,i,r){const s=wt(e);return s.A_(),new b_e(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:k_e.bind(null,n),Io:O_e.bind(null,n),T_:M_e.bind(null,n),I_:R_e.bind(null,n)}),n.v_.push(function(){var t=(0,Ze.Z)(function*(e){e?(n.N_.Yo(),yield om(n)):(yield n.N_.stop(),n.b_.length>0&&(at("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class DO{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,c=new DO(t,e,o,r,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new it(Fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lm(n,t){if(Yr("AsyncQueue",`${t}: ${n}`),cu(n))return new it(Fe.UNAVAILABLE,`${t}: ${n}`);throw n}class cm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Et.comparator(e.key,i.key):(e,i)=>Et.comparator(e.key,i.key),this.keyedMap=rb(),this.sortedSet=new rr(this.comparator)}static emptySet(t){return new cm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof cm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new cm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class P${constructor(){this.B_=new rr(Et.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):Ft():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class dm{constructor(t,e,i,r,s,o,c,u,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new dm(t,e,cm.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class P_e{constructor(){this.k_=void 0,this.listeners=[]}}class N_e{constructor(){this.queries=new td(t=>KG(t),nb),this.onlineState="Unknown",this.q_=new Set}}function TO(n,t){return IO.apply(this,arguments)}function IO(){return IO=(0,Ze.Z)(function*(n,t){const e=wt(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new P_e),r)try{s.k_=yield e.onListen(i)}catch(o){const c=lm(o,`Initialization of query '${$g(t.query)}' failed`);return void t.onError(c)}e.queries.set(i,s),s.listeners.push(t),t.Q_(e.onlineState),s.k_&&t.K_(s.k_)&&kO(e)}),IO.apply(this,arguments)}function SO(n,t){return AO.apply(this,arguments)}function AO(){return AO=(0,Ze.Z)(function*(n,t){const e=wt(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),AO.apply(this,arguments)}function F_e(n,t){const e=wt(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const c of o.listeners)c.K_(r)&&(i=!0);o.k_=r}}i&&kO(e)}function L_e(n,t,e){const i=wt(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function kO(n){n.q_.forEach(t=>{t.next()})}class MO{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new dm(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=dm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class V_e{constructor(t,e){this.Y_=t,this.byteLength=e}Z_(){return"metadata"in this.Y_}}class N${constructor(t){this.serializer=t}hs(t){return dc(this.serializer,t)}Ps(t){return t.metadata.exists?R5(this.serializer,t.document,!1):fr.newNoDocument(this.hs(t.metadata.name),this.Is(t.metadata.readTime))}Is(t){return qr(t)}}class B_e{constructor(t,e,i){this.X_=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=F$(t)}ea(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Y_.namedQuery)this.queries.push(t.Y_.namedQuery);else if(t.Y_.documentMetadata){this.documents.push({metadata:t.Y_.documentMetadata}),t.Y_.documentMetadata.exists||++e;const i=ci.fromString(t.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Y_.document&&(this.documents[this.documents.length-1].document=t.Y_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ta(t){const e=new Map,i=new N$(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.hs(r.metadata.name);for(const o of r.metadata.queries){const c=(e.get(o)||Pn()).add(s);e.set(o,c)}}return e}complete(){var t=this;return(0,Ze.Z)(function*(){const e=yield function f_e(n,t,e,i){return JR.apply(this,arguments)}(t.localStore,new N$(t.serializer),t.documents,t.X_.id),i=t.ta(t.documents);for(const r of t.queries)yield p_e(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,na:t.collectionGroups,ra:e}})()}}function F$(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class L${constructor(t){this.key=t}}class V${constructor(t){this.key=t}}class B${constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Pn(),this.mutatedKeys=Pn(),this._a=JG(t),this.aa=new cm(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new P$,r=e?e.aa:this.aa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,c=!1;const u="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,f="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,w)=>{const T=r.get(_),M=ib(this.query,w)?w:null,F=!!T&&this.mutatedKeys.has(T.key),V=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let U=!1;T&&M?T.data.isEqual(M.data)?F!==V&&(i.track({type:3,doc:M}),U=!0):this.ha(T,M)||(i.track({type:2,doc:M}),U=!0,(u&&this._a(M,u)>0||f&&this._a(M,f)<0)&&(c=!0)):!T&&M?(i.track({type:0,doc:M}),U=!0):T&&!M&&(i.track({type:1,doc:T}),U=!0,(u||f)&&(c=!0)),U&&(M?(o=o.add(M),s=V?s.add(_):s.delete(_)):(o=o.delete(_),s=s.delete(_)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const _="F"===this.query.limitType?o.last():o.first();o=o.delete(_.key),s=s.delete(_.key),i.track({type:1,doc:_})}return{aa:o,la:i,Zi:c,mutatedKeys:s}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((f,_)=>function(T,M){const F=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return F(T)-F(M)}(f.type,_.type)||this._a(f.doc,_.doc)),this.Pa(i);const o=e?this.Ia():[],c=0===this.oa.size&&this.current?1:0,u=c!==this.sa;return this.sa=c,0!==s.length||u?{snapshot:new dm(this.query,t.aa,r,s,t.mutatedKeys,0===c,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new P$,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Pn(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new V$(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new L$(i))}),e}da(t){this.ia=t.ls,this.oa=Pn();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return dm.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class z_e{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class H_e{constructor(t){this.key=t,this.Ra=!1}}class U_e{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new td(c=>KG(c),nb),this.fa=new Map,this.ga=new Set,this.pa=new rr(Et.comparator),this.ya=new Map,this.wa=new GR,this.Sa={},this.ba=new Map,this.Da=Kh.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function j_e(n,t){return RO.apply(this,arguments)}function RO(){return RO=(0,Ze.Z)(function*(n,t){const e=tP(n);let i,r;const s=e.ma.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=yield im(e.localStore,ko(t)),c=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield OO(e,t,i,"current"===c,o.resumeToken),e.isPrimaryClient&&pD(e.remoteStore,o)}return r}),RO.apply(this,arguments)}function OO(n,t,e,i,r){return PO.apply(this,arguments)}function PO(){return PO=(0,Ze.Z)(function*(n,t,e,i,r){n.va=(w,T,M)=>{return(F=(0,Ze.Z)(function*(U,re,ee,ae){let ge=re.view.ca(ee);ge.Zi&&(ge=yield cD(U.localStore,re.query,!1).then(({documents:ht})=>re.view.ca(ht,ge)));const Te=ae&&ae.targetChanges.get(re.targetId),qe=re.view.applyChanges(ge,U.isPrimaryClient,Te);return WO(U,re.targetId,qe.Ta),qe.snapshot}),function V(U,re,ee,ae){return F.apply(this,arguments)})(n,w,T,M);var F};const s=yield cD(n.localStore,t,!0),o=new B$(t,s.ls),c=o.ca(s.documents),u=db.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),f=o.applyChanges(c,n.isPrimaryClient,u);WO(n,e,f.Ta);const _=new z_e(t,e,o);return n.ma.set(t,_),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),f.snapshot}),PO.apply(this,arguments)}function W_e(n,t){return NO.apply(this,arguments)}function NO(){return NO=(0,Ze.Z)(function*(n,t){const e=wt(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(s=>!nb(s,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield rm(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Cb(e.remoteStore,i.targetId),um(e,i.targetId)}).catch(lu))):(um(e,i.targetId),yield rm(e.localStore,i.targetId,!0))}),NO.apply(this,arguments)}function FO(){return FO=(0,Ze.Z)(function*(n,t,e){const i=nP(n);try{const r=yield function(o,c){const u=wt(o),f=vr.now(),_=c.reduce((M,F)=>M.add(F.key),Pn());let w,T;return u.persistence.runTransaction("Locally write mutations","readwrite",M=>{let F=Qo(),V=Pn();return u.ss.getEntries(M,_).next(U=>{F=U,F.forEach((re,ee)=>{ee.isValidDocument()||(V=V.add(re))})}).next(()=>u.localDocuments.getOverlayedDocuments(M,F)).next(U=>{w=U;const re=[];for(const ee of c){const ae=bme(ee,w.get(ee.key).overlayedDocument);null!=ae&&re.push(new nd(ee.key,ae,FG(ae.value.mapValue),yr.exists(!0)))}return u.mutationQueue.addMutationBatch(M,f,re,c)}).next(U=>{T=U;const re=U.applyToLocalDocumentSet(w,V);return u.documentOverlayCache.saveOverlays(M,U.batchId,re)})}).then(()=>({batchId:T.batchId,changes:t5(w)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,u){let f=o.Sa[o.currentUser.toKey()];f||(f=new rr(fn)),f=f.insert(c,u),o.Sa[o.currentUser.toKey()]=f}(i,r.batchId,e),yield rd(i,r.changes),yield om(i.remoteStore)}catch(r){const s=lm(r,"Failed to persist write");e.reject(s)}}),FO.apply(this,arguments)}function z$(n,t){return LO.apply(this,arguments)}function LO(){return LO=(0,Ze.Z)(function*(n,t){const e=wt(n);try{const i=yield function u_e(n,t){const e=wt(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const c=[];t.targetChanges.forEach((_,w)=>{const T=r.get(w);if(!T)return;c.push(e.qr.removeMatchingKeys(s,_.removedDocuments,w).next(()=>e.qr.addMatchingKeys(s,_.addedDocuments,w)));let M=T.withSequenceNumber(s.currentSequenceNumber);var V,U,re;null!==t.targetMismatches.get(w)?M=M.withResumeToken(ms.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,i)),r=r.insert(w,M),U=M,re=_,(0===(V=T).resumeToken.approximateByteSize()||U.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&c.push(e.qr.updateTargetData(s,M))});let u=Qo(),f=Pn();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,_))}),c.push(v$(s,o,t.documentUpdates).next(_=>{u=_.us,f=_.cs})),!i.isEqual(Kt.min())){const _=e.qr.getLastRemoteSnapshotVersion(s).next(w=>e.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(_)}return De.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,u,f)).next(()=>u)}).then(s=>(e.ts=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.ya.get(s);o&&(Zt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?Zt(o.Ra):r.removedDocuments.size>0&&(Zt(o.Ra),o.Ra=!1))}),yield rd(e,i,t)}catch(i){yield lu(i)}}),LO.apply(this,arguments)}function H$(n,t,e){const i=wt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((s,o)=>{const c=o.view.Q_(t);c.snapshot&&r.push(c.snapshot)}),function(o,c){const u=wt(o);u.onlineState=c;let f=!1;u.queries.forEach((_,w)=>{for(const T of w.listeners)T.Q_(c)&&(f=!0)}),f&&kO(u)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function $_e(n,t,e){return VO.apply(this,arguments)}function VO(){return VO=(0,Ze.Z)(function*(n,t,e){const i=wt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new rr(Et.comparator);o=o.insert(s,fr.newNoDocument(s,Kt.min()));const c=Pn().add(s),u=new cb(Kt.min(),new Map,new rr(fn),o,c);yield z$(i,u),i.pa=i.pa.remove(s),i.ya.delete(t),GO(i)}else yield rm(i.localStore,t,!1).then(()=>um(i,t,e)).catch(lu)}),VO.apply(this,arguments)}function Y_e(n,t){return BO.apply(this,arguments)}function BO(){return BO=(0,Ze.Z)(function*(n,t){const e=wt(n),i=t.batch.batchId;try{const r=yield function d_e(n,t){const e=wt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ss.newChangeBuffer({trackRemovals:!0});return function(c,u,f,_){const w=f.batch,T=w.keys();let M=De.resolve();return T.forEach(F=>{M=M.next(()=>_.getEntry(u,F)).next(V=>{const U=f.docVersions.get(F);Zt(null!==U),V.version.compareTo(U)<0&&(w.applyToRemoteDocument(V,f),V.isValidDocument()&&(V.setReadTime(f.commitVersion),_.addEntry(V)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(u,w))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=Pn();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(u=u.add(c.batch.mutations[f].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);jO(e,i,null),UO(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield rd(e,r)}catch(r){yield lu(r)}}),BO.apply(this,arguments)}function q_e(n,t,e){return zO.apply(this,arguments)}function zO(){return zO=(0,Ze.Z)(function*(n,t,e){const i=wt(n);try{const r=yield function(o,c){const u=wt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let _;return u.mutationQueue.lookupMutationBatch(f,c).next(w=>(Zt(null!==w),_=w.keys(),u.mutationQueue.removeMutationBatch(f,w))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,_,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,_)).next(()=>u.localDocuments.getDocuments(f,_))})}(i.localStore,t);jO(i,t,e),UO(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield rd(i,r)}catch(r){yield lu(r)}}),zO.apply(this,arguments)}function HO(){return HO=(0,Ze.Z)(function*(n,t){const e=wt(n);wu(e.remoteStore)||at("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=wt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>c.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ba.get(i)||[];r.push(t),e.ba.set(i,r)}catch(i){const r=lm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),HO.apply(this,arguments)}function UO(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function jO(n,t,e){const i=wt(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function um(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||U$(n,i)})}function U$(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(Cb(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),GO(n))}function WO(n,t,e){for(const i of e)i instanceof L$?(n.wa.addReference(i.key,t),Z_e(n,i)):i instanceof V$?(at("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||U$(n,i.key)):Ft()}function Z_e(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(at("SyncEngine","New document in limbo: "+e),n.ga.add(i),GO(n))}function GO(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new Et(ci.fromString(t)),i=n.Da.next();n.ya.set(i,new H_e(e)),n.pa=n.pa.insert(e,i),pD(n.remoteStore,new id(ko(Wg(e.path)),i,"TargetPurposeLimboResolution",wa._e))}}function rd(n,t,e){return $O.apply(this,arguments)}function $O(){return $O=(0,Ze.Z)(function*(n,t,e){const i=wt(n),r=[],s=[],o=[];var c;i.ma.isEmpty()||(i.ma.forEach((c,u)=>{o.push(i.va(u,t,e).then(f=>{if((f||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(u.targetId,f?.fromCache?"not-current":"current"),f){r.push(f);const _=ZR.Qi(u.targetId,f);s.push(_)}}))}),yield Promise.all(o),i.Va.a_(r),yield(c=(0,Ze.Z)(function*(f,_){const w=wt(f);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>De.forEach(_,M=>De.forEach(M.ki,F=>w.persistence.referenceDelegate.addReference(T,M.targetId,F)).next(()=>De.forEach(M.qi,F=>w.persistence.referenceDelegate.removeReference(T,M.targetId,F)))))}catch(T){if(!cu(T))throw T;at("LocalStore","Failed to update sequence numbers: "+T)}for(const T of _){const M=T.targetId;if(!T.fromCache){const F=w.ts.get(M),U=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);w.ts=w.ts.insert(M,U)}}}),function u(f,_){return c.apply(this,arguments)})(i.localStore,s))}),$O.apply(this,arguments)}function K_e(n,t){return YO.apply(this,arguments)}function YO(){return YO=(0,Ze.Z)(function*(n,t){const e=wt(n);if(!e.currentUser.isEqual(t)){at("SyncEngine","User change. New user:",t.toKey());const i=yield m$(e.localStore,t);e.currentUser=t,(s=e).ba.forEach(c=>{c.forEach(u=>{u.reject(new it(Fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield rd(e,i._s)}var s}),YO.apply(this,arguments)}function Q_e(n,t){const e=wt(n),i=e.ya.get(t);if(i&&i.Ra)return Pn().add(i.key);{let r=Pn();const s=e.fa.get(t);if(!s)return r;for(const o of s){const c=e.ma.get(o);r=r.unionWith(c.view.ua)}return r}}function J_e(n,t){return qO.apply(this,arguments)}function qO(){return qO=(0,Ze.Z)(function*(n,t){const e=wt(n),i=yield cD(e.localStore,t.query,!0),r=t.view.da(i);return e.isPrimaryClient&&WO(e,t.targetId,r.Ta),r}),qO.apply(this,arguments)}function eve(n,t){return XO.apply(this,arguments)}function XO(){return XO=(0,Ze.Z)(function*(n,t){const e=wt(n);return b$(e.localStore,t).then(i=>rd(e,i))}),XO.apply(this,arguments)}function tve(n,t,e,i){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,Ze.Z)(function*(n,t,e,i){const r=wt(n),s=yield function(c,u){const f=wt(c),_=wt(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",w=>_.Cn(w,u).next(T=>T?f.localDocuments.getDocuments(w,T):De.resolve(null)))}(r.localStore,t);var u;null!==s?("pending"===e?yield om(r.remoteStore):"acknowledged"===e||"rejected"===e?(jO(r,t,i||null),UO(r,t),u=t,wt(wt(r.localStore).mutationQueue).Fn(u)):Ft(),yield rd(r,s)):at("SyncEngine","Cannot apply mutation batch with id: "+t)}),ZO.apply(this,arguments)}function KO(){return KO=(0,Ze.Z)(function*(n,t){const e=wt(n);if(tP(e),nP(e),!0===t&&!0!==e.Ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield j$(e,i.toArray());e.Ca=!0,yield CO(e.remoteStore,!0);for(const s of r)pD(e.remoteStore,s)}else if(!1===t&&!1!==e.Ca){const i=[];let r=Promise.resolve();e.fa.forEach((s,o)=>{e.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(um(e,o),rm(e.localStore,o,!0))),Cb(e.remoteStore,o)}),yield r,yield j$(e,i),function(o){const c=wt(o);c.ya.forEach((u,f)=>{Cb(c.remoteStore,f)}),c.wa.Vr(),c.ya=new Map,c.pa=new rr(Et.comparator)}(e),e.Ca=!1,yield CO(e.remoteStore,!1)}}),KO.apply(this,arguments)}function j$(n,t,e){return QO.apply(this,arguments)}function QO(){return QO=(0,Ze.Z)(function*(n,t,e){const i=wt(n),r=[],s=[];for(const o of t){let c;const u=i.fa.get(o);if(u&&0!==u.length){c=yield im(i.localStore,ko(u[0]));for(const f of u){const _=i.ma.get(f),w=yield J_e(i,_);w.snapshot&&s.push(w.snapshot)}}else{const f=yield y$(i.localStore,o);c=yield im(i.localStore,f),yield OO(i,W$(f),o,!1,c.resumeToken)}r.push(c)}return i.Va.a_(s),r}),QO.apply(this,arguments)}function W$(n){return qG(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ive(n){return e=wt(n).localStore,wt(wt(e).persistence).Bi();var e}function rve(n,t,e,i){return JO.apply(this,arguments)}function JO(){return JO=(0,Ze.Z)(function*(n,t,e,i){const r=wt(n);if(r.Ca)return void at("SyncEngine","Ignoring unexpected query state notification.");const s=r.fa.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const o=yield b$(r.localStore,QG(s[0])),c=cb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,ms.EMPTY_BYTE_STRING);yield rd(r,o,c);break}case"rejected":yield rm(r.localStore,t,!0),um(r,t,i);break;default:Ft()}}),JO.apply(this,arguments)}function sve(n,t,e){return eP.apply(this,arguments)}function eP(){return eP=(0,Ze.Z)(function*(n,t,e){const i=tP(n);if(i.Ca){for(const r of t){if(i.fa.has(r)){at("SyncEngine","Adding an already active target "+r);continue}const s=yield y$(i.localStore,r),o=yield im(i.localStore,s);yield OO(i,W$(s),o.targetId,!1,o.resumeToken),pD(i.remoteStore,o)}for(const r of e)i.fa.has(r)&&(yield rm(i.localStore,r,!1).then(()=>{Cb(i.remoteStore,r),um(i,r)}).catch(lu))}}),eP.apply(this,arguments)}function tP(n){const t=wt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=z$.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q_e.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$_e.bind(null,t),t.Va.a_=F_e.bind(null,t.eventManager),t.Va.Fa=L_e.bind(null,t.eventManager),t}function nP(n){const t=wt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Y_e.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=q_e.bind(null,t),t}class Eb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ze.Z)(function*(){e.serializer=wb(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return g$(this.persistence,new p$,t.initialUser,this.serializer)}createPersistence(t){return new $R(oD.jr,this.serializer)}createSharedClientState(t){return new E$}terminate(){var t=this;return(0,Ze.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class iP extends Eb{constructor(t,e,i){super(),this.xa=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ze.Z)(function*(){yield e().call(i,t),yield i.xa.initialize(i,t),yield nP(i.xa.syncEngine),yield om(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return g$(this.persistence,new p$,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new s$(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new Rge(e,this.persistence);return new Mge(t.asyncQueue,i)}createPersistence(t){const e=XR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new qR(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,T$(),fD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new E$}}class G$ extends iP{constructor(t,e){super(t,e,!1),this.xa=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ze.Z)(function*(){yield e().call(i,t);const r=i.xa.syncEngine;i.sharedClientState instanceof rO&&(i.sharedClientState.syncEngine={Ys:tve.bind(null,r),Zs:rve.bind(null,r),Xs:sve.bind(null,r),Bi:ive.bind(null,r),Js:eve.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var s=(0,Ze.Z)(function*(o){yield function nve(n,t){return KO.apply(this,arguments)}(i.xa.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=T$();if(!rO.D(e))throw new it(Fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=XR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new rO(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class hm{initialize(t,e){var i=this;return(0,Ze.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>H$(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=K_e.bind(null,i.syncEngine),yield CO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new N_e}createDatastore(t){const e=wb(t.databaseInfo.databaseId),i=new v_e(t.databaseInfo);return new w_e(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,o=e=>H$(this.syncEngine,e,0),c=D$.D()?new D$:new g_e,new E_e(i,r,s,o,c);var i,r,s,o,c}createSyncEngine(t,e){return function(r,s,o,c,u,f,_){const w=new U_e(r,s,o,c,u,f);return _&&(w.Ca=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ze.Z)(function*(i){const r=wt(i);at("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield sm(r),r.F_.shutdown(),r.M_.set("Unknown")}),function e(i){return t.apply(this,arguments)})(this.remoteStore);var t}}function $$(n,t=10240){let e=0;return{read:()=>(0,Ze.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ze.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class mD{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Yr("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class lve{constructor(t,e){this.Ba=t,this.serializer=e,this.metadata=new gs,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var t=this;return(0,Ze.Z)(function*(){return t.metadata.promise})()}Ma(){var t=this;return(0,Ze.Z)(function*(){return yield t.getMetadata(),t.ka()})()}ka(){var t=this;return(0,Ze.Z)(function*(){const e=yield t.qa();if(null===e)return null;const i=t.La.decode(e),r=Number(i);isNaN(r)&&t.Qa(`length string (${i}) is not valid number`);const s=yield t.Ka(r);return new V_e(JSON.parse(s),e.length+r)})()}$a(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}qa(){var t=this;return(0,Ze.Z)(function*(){for(;t.$a()<0&&!(yield t.Ua()););if(0===t.buffer.length)return null;const e=t.$a();e<0&&t.Qa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Ka(t){var e=this;return(0,Ze.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ua())&&e.Qa("Reached the end of bundle when more is expected.");const i=e.La.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Qa(t){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${t}`)}Ua(){var t=this;return(0,Ze.Z)(function*(){const e=yield t.Ba.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class cve{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ze.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new it(Fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ze.Z)(function*(o,c){const u=wt(o),f=hb(u.serializer)+"/documents",_={documents:c.map(F=>ub(u.serializer,F))},w=yield u.Co("BatchGetDocuments",f,_,c.length),T=new Map;w.forEach(F=>{const V=function kme(n,t){return"found"in t?function(i,r){Zt(!!r.found);const s=dc(i,r.found.name),o=qr(r.found.updateTime),c=r.found.createTime?qr(r.found.createTime):Kt.min(),u=new js({mapValue:{fields:r.found.fields}});return fr.newFoundDocument(s,o,c,u)}(n,t):"missing"in t?function(i,r){Zt(!!r.missing),Zt(!!r.readTime);const s=dc(i,r.missing),o=qr(r.readTime);return fr.newNoDocument(s,o)}(n,t):Ft()}(u.serializer,F);T.set(V.key.toString(),V)});const M=[];return c.forEach(F=>{const V=T.get(F.toString());Zt(!!V),M.push(V)}),M}),function s(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Zg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ze.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Et.fromPath(r);t.mutations.push(new SR(s,t.precondition(s)))}),yield(i=(0,Ze.Z)(function*(s,o){const c=wt(s),u=hb(c.serializer)+"/documents",f={writes:o.map(_=>fb(c.serializer,_))};yield c.wo("Commit",u,f)}),function r(s,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ft();e=Kt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new it(Fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Kt.min())?yr.exists(!1):yr.updateTime(e):yr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Kt.min()))throw new it(Fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yr.updateTime(e)}return yr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class dve{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Wa=i.maxAttempts,this.zo=new oO(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var t=this;this.zo.ko((0,Ze.Z)(function*(){const e=new cve(t.datastore),i=t.za(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.ja(s)}))}).catch(r=>{t.ja(r)})}))}za(t){try{const e=this.updateFunction(t);return!qy(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(t){this.Wa>0&&this.Ha(t)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(t)}Ha(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!_5(e)}return!1}}class uve{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Ms.UNAUTHENTICATED,this.clientId=hG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=(0,Ze.Z)(function*(c){at("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(at("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return(0,Ze.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new it(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ze.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=lm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function _D(n,t){return rP.apply(this,arguments)}function rP(){return rP=(0,Ze.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ze.Z)(function*(s){i.isEqual(s)||(yield m$(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),rP.apply(this,arguments)}function sP(n,t){return oP.apply(this,arguments)}function oP(){return oP=(0,Ze.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield aP(n);at("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>O$(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>O$(t.remoteStore,s)),n._onlineComponents=t}),oP.apply(this,arguments)}function Y$(n){return"FirebaseError"===n.name?n.code===Fe.FAILED_PRECONDITION||n.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function aP(n){return lP.apply(this,arguments)}function lP(){return lP=(0,Ze.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _D(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!Y$(e))throw e;Zo("Error using user provided cache. Falling back to memory cache: "+e),yield _D(n,new Eb)}}else at("FirestoreClient","Using default OfflineComponentProvider"),yield _D(n,new Eb);return n._offlineComponents}),lP.apply(this,arguments)}function vD(n){return cP.apply(this,arguments)}function cP(){return cP=(0,Ze.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),yield sP(n,n._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),yield sP(n,new hm))),n._onlineComponents}),cP.apply(this,arguments)}function q$(n){return aP(n).then(t=>t.persistence)}function fm(n){return aP(n).then(t=>t.localStore)}function X$(n){return vD(n).then(t=>t.remoteStore)}function dP(n){return vD(n).then(t=>t.syncEngine)}function pm(n){return uP.apply(this,arguments)}function uP(){return uP=(0,Ze.Z)(function*(n){const t=yield vD(n),e=t.eventManager;return e.onListen=j_e.bind(null,t.syncEngine),e.onUnlisten=W_e.bind(null,t.syncEngine),e}),uP.apply(this,arguments)}function K$(n,t,e={}){const i=new gs;return n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return function(s,o,c,u,f){const _=new mD({next:T=>{o.enqueueAndForget(()=>SO(s,w));const M=T.docs.has(c);!M&&T.fromCache?f.reject(new it(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&T.fromCache&&u&&"server"===u.source?f.reject(new it(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(T)},error:T=>f.reject(T)}),w=new MO(Wg(c.path),_,{includeMetadataChanges:!0,J_:!0});return TO(s,w)}(yield pm(n),n.asyncQueue,t,e,i)})),i.promise}function Q$(n,t,e={}){const i=new gs;return n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return function(s,o,c,u,f){const _=new mD({next:T=>{o.enqueueAndForget(()=>SO(s,w)),T.fromCache&&"server"===u.source?f.reject(new it(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(T)},error:T=>f.reject(T)}),w=new MO(c,_,{includeMetadataChanges:!0,J_:!0});return TO(s,w)}(yield pm(n),n.asyncQueue,t,e,i)})),i.promise}function J$(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const e8=new Map;function hP(n,t,e){if(!e)throw new it(Fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function t8(n,t,e,i){if(!0===t&&!0===i)throw new it(Fe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function n8(n){if(!Et.isDocumentKey(n))throw new it(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function i8(n){if(Et.isDocumentKey(n))throw new it(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":Ft()}function Jn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new it(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=yD(n);throw new it(Fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function r8(n,t){if(t<=0)throw new it(Fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class s8{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new it(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new it(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}t8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=J$(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new it(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Db{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s8({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new it(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new it(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s8(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new yge;switch(i.type){case"firstParty":return new Cge(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new it(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=e8.get(e);i&&(at("ComponentProvider","Removing Datastore"),e8.delete(e),i.terminate())}(this),Promise.resolve()}}class Ws{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ws(this.firestore,t,this._query)}}class pr{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pr(this.firestore,t,this._key)}}class uc extends Ws{constructor(t,e,i){super(t,e,Wg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pr(this.firestore,null,new Et(t))}withConverter(t){return new uc(this.firestore,t,this._path)}}function a8(n,t,...e){if(n=(0,te.m9)(n),hP("collection","path",t),n instanceof Db){const i=ci.fromString(t,...e);return i8(i),new uc(n,null,i)}{if(!(n instanceof pr||n instanceof uc))throw new it(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ci.fromString(t,...e));return i8(i),new uc(n.firestore,null,i)}}function bD(n,t,...e){if(n=(0,te.m9)(n),1===arguments.length&&(t=hG.newId()),hP("doc","path",t),n instanceof Db){const i=ci.fromString(t,...e);return n8(i),new pr(n,null,new Et(i))}{if(!(n instanceof pr||n instanceof uc))throw new it(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ci.fromString(t,...e));return n8(i),new pr(n.firestore,n instanceof uc?n.converter:null,new Et(i))}}function l8(n,t){return n=(0,te.m9)(n),t=(0,te.m9)(t),(n instanceof pr||n instanceof uc)&&(t instanceof pr||t instanceof uc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function fP(n,t){return n=(0,te.m9)(n),t=(0,te.m9)(t),n instanceof Ws&&t instanceof Ws&&n.firestore===t.firestore&&nb(n._query,t._query)&&n.converter===t.converter}class Cve{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new oO(this,"async_queue_retry"),this.iu=()=>{const e=fD();e&&at("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=fD();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=fD();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new gs;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return(0,Ze.Z)(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!cu(e))throw e;at("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,Yr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=DO.createAndSchedule(this,t,e,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&Ft()}verifyOperationInProgress(){}uu(){var t=this;return(0,Ze.Z)(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}function pP(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class Eve{constructor(){this._progressObserver={},this._taskCompletionResolver=new gs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class sr extends Db{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Cve,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||c8(this),this._firestoreClient.terminate()}}function Vr(n){return n._firestoreClient||c8(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function c8(n){var t,e,i;const r=n._freezeSettings(),s=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Jge(n._databaseId,u,n._persistenceKey,(_=r).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,J$(_.experimentalLongPollingOptions),_.useFetchStreams));var u,_;n._firestoreClient=new uve(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function d8(n,t,e){const i=new gs;return n.asyncQueue.enqueue((0,Ze.Z)(function*(){try{yield _D(n,e),yield sP(n,t),i.resolve()}catch(r){const s=r;if(!Y$(s))throw s;Zo("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function u8(n){if(n._initialized||n._terminated)throw new it(Fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hc(ms.fromBase64String(t))}catch(e){throw new it(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new hc(ms.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class sd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new it(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Jh{constructor(t){this._methodName=t}}class wD{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new it(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new it(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return fn(this._lat,t._lat)||fn(this._long,t._long)}}const Nve=/^__.*__$/;class Fve{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new nd(t,this.data,this.fieldMask,e,this.fieldTransforms):new Xg(t,this.data,e,this.fieldTransforms)}}class h8{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new nd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function f8(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class xD{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new xD(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return DD(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(f8(this.Iu)&&Nve.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class Lve{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||wb(t)}pu(t,e,i,r=!1){return new xD({Iu:t,methodName:e,gu:i,path:hr.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(n){const t=n._freezeSettings(),e=wb(n._databaseId);return new Lve(n._databaseId,!!t.ignoreUndefinedProperties,e)}function CD(n,t,e,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,t,e,r);vP("Data must be an object, but it was:",o,i);const c=m8(i,o);let u,f;if(s.merge)u=new Ko(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const _=[];for(const w of s.mergeFields){const T=Sb(t,w,e);if(!o.contains(T))throw new it(Fe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);v8(_,T)||_.push(T)}u=new Ko(_),f=o.fieldTransforms.filter(w=>u.covers(w.field))}else u=null,f=o.fieldTransforms;return new Fve(new js(c),u,f)}class Ib extends Jh{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ib}}function p8(n,t,e){return new xD({Iu:3,gu:t.settings.gu,methodName:n._methodName,du:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class gP extends Jh{_toFieldTransform(t){return new ob(t.path,new Yg)}isEqual(t){return t instanceof gP}}class Vve extends Jh{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=p8(this,t,!0),i=this.yu.map(s=>tf(s,e)),r=new Wh(i);return new ob(t.path,r)}isEqual(t){return this===t}}class Bve extends Jh{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=p8(this,t,!0),i=this.yu.map(s=>tf(s,e)),r=new Gh(i);return new ob(t.path,r)}isEqual(t){return this===t}}class zve extends Jh{constructor(t,e){super(t),this.wu=e}_toFieldTransform(t){const e=new qg(t.serializer,o5(t.serializer,this.wu));return new ob(t.path,e)}isEqual(t){return this===t}}function mP(n,t,e,i){const r=n.pu(1,t,e);vP("Data must be an object, but it was:",r,i);const s=[],o=js.empty();du(i,(u,f)=>{const _=ED(t,u,e);f=(0,te.m9)(f);const w=r.Ru(_);if(f instanceof Ib)s.push(_);else{const T=tf(f,w);null!=T&&(s.push(_),o.set(_,T))}});const c=new Ko(s);return new h8(o,c,r.fieldTransforms)}function _P(n,t,e,i,r,s){const o=n.pu(1,t,e),c=[Sb(t,i,e)],u=[r];if(s.length%2!=0)throw new it(Fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<s.length;T+=2)c.push(Sb(t,s[T])),u.push(s[T+1]);const f=[],_=js.empty();for(let T=c.length-1;T>=0;--T)if(!v8(f,c[T])){const M=c[T];let F=u[T];F=(0,te.m9)(F);const V=o.Ru(M);if(F instanceof Ib)f.push(M);else{const U=tf(F,V);null!=U&&(f.push(M),_.set(M,U))}}const w=new Ko(f);return new h8(_,w,o.fieldTransforms)}function g8(n,t,e,i=!1){return tf(e,n.pu(i?4:3,t))}function tf(n,t){if(_8(n=(0,te.m9)(n)))return vP("Unsupported field value:",t,n),m8(n,t);if(n instanceof Jh)return function(i,r){if(!f8(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const c of i){let u=tf(c,r.Vu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=(0,te.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return o5(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=vr.fromDate(i);return{timestampValue:Kg(r.serializer,s)}}if(i instanceof vr){const s=new vr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Kg(r.serializer,s)}}if(i instanceof wD)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hc)return{bytesValue:I5(r.serializer,i._byteString)};if(i instanceof pr){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:PR(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${yD(i)}`)}(n,t)}function m8(n,t){const e={};return IG(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):du(n,(i,r)=>{const s=tf(r,t.Eu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function _8(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vr||n instanceof wD||n instanceof hc||n instanceof pr||n instanceof Jh)}function vP(n,t,e){if(!_8(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=yD(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Sb(n,t,e){if((t=(0,te.m9)(t))instanceof sd)return t._internalPath;if("string"==typeof t)return ED(n,t);throw DD("Field path arguments must be of type string or ",n,!1,void 0,e)}const Hve=new RegExp("[~\\*/\\[\\]]");function ED(n,t,e){if(t.search(Hve)>=0)throw DD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new sd(...t.split("."))._internalPath}catch{throw DD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function DD(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${i}`),o&&(u+=` in document ${r}`),u+=")"),new it(Fe.INVALID_ARGUMENT,c+n+u)}function v8(n,t){return n.some(e=>e.isEqual(t))}class Ab{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Uve(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(TD("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Uve extends Ab{data(){return super.data()}}function TD(n,t){return"string"==typeof t?ED(n,t):t instanceof sd?t._internalPath:t._delegate._internalPath}function y8(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new it(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yP{}class kb extends yP{}function Cu(n,t,...e){let i=[];t instanceof yP&&i.push(t),i=i.concat(e),function(s){const o=s.filter(u=>u instanceof gm).length,c=s.filter(u=>u instanceof Mb).length;if(o>1||o>0&&c>0)throw new it(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Mb extends kb{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Mb(t,e,i)}_apply(t){const e=this._parse(t);return C8(t._query,e),new Ws(t.firestore,t.converter,TR(t._query,e))}_parse(t){const e=ef(t.firestore);return function(s,o,c,u,f,_,w){let T;if(f.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new it(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){x8(w,_);const M=[];for(const F of w)M.push(w8(u,s,F));T={arrayValue:{values:M}}}else T=w8(u,s,w)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||x8(w,_),T=g8(c,"where",w,"in"===_||"not-in"===_);return ni.create(f,_,T)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class gm extends yP{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new gm(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Fi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,s){let o=r;const c=s.getFlattenedFilters();for(const u of c)C8(o,u),o=TR(o,u)}(t._query,e),new Ws(t.firestore,t.converter,TR(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bP extends kb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new bP(t,e)}_apply(t){const e=function(r,s,o){if(null!==r.startAt)throw new it(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new it(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eb(s,o)}(t._query,this._field,this._direction);return new Ws(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new ed(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class ID extends kb{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new ID(t,e,i)}_apply(t){return new Ws(t.firestore,t.converter,YE(t._query,this._limit,this._limitType))}}class SD extends kb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new SD(t,e,i)}_apply(t){const e=b8(t,this.type,this._docOrFields,this._inclusive);return new Ws(t.firestore,t.converter,(s=e,new ed((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class AD extends kb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new AD(t,e,i)}_apply(t){const e=b8(t,this.type,this._docOrFields,this._inclusive);return new Ws(t.firestore,t.converter,(s=e,new ed((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function b8(n,t,e,i){if(e[0]=(0,te.m9)(e[0]),e[0]instanceof Ab)return function(s,o,c,u,f){if(!u)throw new it(Fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const w of Gg(s))if(w.field.isKeyField())_.push(Uh(o,u.key));else{const T=u.data.field(w.field);if(zE(T))throw new it(Fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const M=w.field.canonicalString();throw new it(Fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}_.push(T)}return new mu(_,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=ef(n.firestore);return function(o,c,u,f,_,w){const T=o.explicitOrderBy;if(_.length>T.length)throw new it(Fe.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let F=0;F<_.length;F++){const V=_[F];if(T[F].field.isKeyField()){if("string"!=typeof V)throw new it(Fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof V}`);if(!DR(o)&&-1!==V.indexOf("/"))throw new it(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${V}' contains a slash.`);const U=o.path.child(ci.fromString(V));if(!Et.isDocumentKey(U))throw new it(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const re=new Et(U);M.push(Uh(c,re))}else{const U=g8(u,f,V);M.push(U)}}return new mu(M,w)}(n._query,n.firestore._databaseId,r,t,e,i)}}function w8(n,t,e){if("string"==typeof(e=(0,te.m9)(e))){if(""===e)throw new it(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DR(t)&&-1!==e.indexOf("/"))throw new it(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ci.fromString(e));if(!Et.isDocumentKey(i))throw new it(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Uh(n,new Et(i))}if(e instanceof pr)return Uh(n,e._key);throw new it(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yD(e)}.`)}function x8(n,t){if(!Array.isArray(n)||0===n.length)throw new it(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function C8(n,t){const e=function(r,s){for(const o of r)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new it(Fe.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class wP{convertValue(t,e="none"){switch(pu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Lr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Jc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ft()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return du(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new wD(Lr(t.latitude),Lr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=HE(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Zy(t));default:return null}}convertTimestamp(t){const e=uu(t);return new vr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ci.fromString(t);Zt(L5(i));const r=new hu(i.get(1),i.get(3)),s=new Et(i.popFirst(5));return r.isEqual(e)||Yr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function kD(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Kve extends wP{constructor(t){super(),this.firestore=t}convertBytes(t){return new hc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new pr(this.firestore,null,e)}}class nf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class od extends Ab{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Rb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(TD("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Rb extends od{data(t={}){return super.data(t)}}class Eu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new nf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Rb(this._firestore,this._userDataWriter,i.key,i,new nf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new it(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Rb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new nf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const u=new Rb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new nf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,_=-1;return 0!==c.type&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),_=o.indexOf(c.doc.key)),{type:Jve(c.type),doc:u,oldIndex:f,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Jve(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}function D8(n,t){return n instanceof od&&t instanceof od?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Eu&&t instanceof Eu&&n._firestore===t._firestore&&fP(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Du extends wP{constructor(t){super(),this.firestore=t}convertBytes(t){return new hc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new pr(this.firestore,null,e)}}function T8(n,t,e){n=Jn(n,pr);const i=Jn(n.firestore,sr),r=kD(n.converter,t,e);return mm(i,[CD(ef(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,yr.none())])}function I8(n,t,e,...i){n=Jn(n,pr);const r=Jn(n.firestore,sr),s=ef(r);let o;return o="string"==typeof(t=(0,te.m9)(t))||t instanceof sd?_P(s,"updateDoc",n._key,t,e,i):mP(s,"updateDoc",n._key,t),mm(r,[o.toMutation(n._key,yr.exists(!0))])}function S8(n,...t){var e,i,r;n=(0,te.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||pP(t[o])||(s=t[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges};if(pP(t[o])){const w=t[o];t[o]=null===(e=w.next)||void 0===e?void 0:e.bind(w),t[o+1]=null===(i=w.error)||void 0===i?void 0:i.bind(w),t[o+2]=null===(r=w.complete)||void 0===r?void 0:r.bind(w)}let u,f,_;if(n instanceof pr)f=Jn(n.firestore,sr),_=Wg(n._key.path),u={next:w=>{t[o]&&t[o](xP(f,n,w))},error:t[o+1],complete:t[o+2]};else{const w=Jn(n,Ws);f=Jn(w.firestore,sr),_=w._query;const T=new Du(f);u={next:M=>{t[o]&&t[o](new Eu(f,T,w,M))},error:t[o+1],complete:t[o+2]},y8(n._query)}return function(T,M,F,V){const U=new mD(V),re=new MO(M,U,F);return T.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return TO(yield pm(T),re)})),()=>{U.Na(),T.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return SO(yield pm(T),re)}))}}(Vr(f),_,c,u)}function mm(n,t){return function(i,r){const s=new gs;return i.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return function G_e(n,t,e){return FO.apply(this,arguments)}(yield dP(i),r,s)})),s.promise}(Vr(n),t)}function xP(n,t,e){const i=e.docs.get(t._key),r=new Du(n);return new od(n,r,t._key,i,new nf(e.hasPendingWrites,e.fromCache),t.converter)}const _ye={maxAttempts:5};class A8{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ef(t)}set(t,e,i){this._verifyNotCommitted();const r=Tu(t,this._firestore),s=kD(r.converter,e,i),o=CD(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(o.toMutation(r._key,yr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Tu(t,this._firestore);let o;return o="string"==typeof(e=(0,te.m9)(e))||e instanceof sd?_P(this._dataReader,"WriteBatch.update",s._key,e,i,r):mP(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,yr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Tu(t,this._firestore);return this._mutations=this._mutations.concat(new Zg(e._key,yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tu(n,t){if((n=(0,te.m9)(n)).firestore!==t)throw new it(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class vye extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=ef(e)}get(e){const i=Tu(e,this._firestore),r=new Kve(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||1!==s.length)return Ft();const o=s[0];if(o.isFoundDocument())return new Ab(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new Ab(this._firestore,r,i._key,null,i.converter);throw Ft()})}set(e,i,r){const s=Tu(e,this._firestore),o=kD(s.converter,i,r),c=CD(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,r);return this._transaction.set(s._key,c),this}update(e,i,r,...s){const o=Tu(e,this._firestore);let c;return c="string"==typeof(i=(0,te.m9)(i))||i instanceof sd?_P(this._dataReader,"Transaction.update",o._key,i,r,s):mP(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,c),this}delete(e){const i=Tu(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Tu(t,this._firestore),i=new Du(this._firestore);return super.get(t).then(r=>new od(this._firestore,i,e._key,r._document,new nf(!1,!1),e.converter))}}function EP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new it("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function O8(){if(typeof Uint8Array>"u")throw new it("unimplemented","Uint8Arrays are not available in this environment.")}function P8(){if(!function Kge(){return typeof atob<"u"}())throw new it("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Fg=Yo.SDK_VERSION,(0,Yo._registerComponent)(new ml.wA("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),c=new sr(new wge(i.getProvider("auth-internal")),new Ege(i.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new it(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(f.options.projectId,_)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),(0,Yo.registerVersion)(cG,"4.3.2",t),(0,Yo.registerVersion)(cG,"4.3.2","esm2017")}();class Ob{constructor(t){this._delegate=t}static fromBase64String(t){return P8(),new Ob(hc.fromBase64String(t))}static fromUint8Array(t){return O8(),new Ob(hc.fromUint8Array(t))}toBase64(){return P8(),this._delegate.toBase64()}toUint8Array(){return O8(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function DP(n){return function Sye(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class Aye{enableIndexedDbPersistence(t,e){return function Tve(n,t){u8(n=Jn(n,sr));const e=Vr(n);if(e._uninitializedComponentsProvider)throw new it(Fe.FAILED_PRECONDITION,"SDK cache is already specified.");Zo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new hm;return d8(e,r,new iP(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Ive(n){u8(n=Jn(n,sr));const t=Vr(n);if(t._uninitializedComponentsProvider)throw new it(Fe.FAILED_PRECONDITION,"SDK cache is already specified.");Zo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new hm;return d8(t,i,new G$(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Sve(n){if(n._initialized&&!n._terminated)throw new it(Fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new gs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ze.Z)(function*(){try{yield(e=(0,Ze.Z)(function*(r){if(!Cl.D())return Promise.resolve();const s=r+"main";yield Cl.delete(s)}),function i(r){return e.apply(this,arguments)})(XR(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class N8{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof hu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Zo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function o8(n,t,e,i={}){var r;const s=(n=Jn(n,Db))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let c,u;if("string"==typeof i.mockUserToken)c=i.mockUserToken,u=Ms.MOCK_USER;else{c=(0,te.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new it(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ms(f)}n._authCredentials=new bge(new dG(c,u))}}(this._delegate,t,e,i)}enableNetwork(){return function kve(n){return function hve(n){return n.asyncQueue.enqueue((0,Ze.Z)(function*(){const t=yield q$(n),e=yield X$(n);return t.setNetworkEnabled(!0),function(r){const s=wt(r);return s.C_.delete(0),xb(s)}(e)}))}(Vr(n=Jn(n,sr)))}(this._delegate)}disableNetwork(){return function Mve(n){return function fve(n){return n.asyncQueue.enqueue((0,Ze.Z)(function*(){const t=yield q$(n),e=yield X$(n);return t.setNetworkEnabled(!1),(i=(0,Ze.Z)(function*(s){const o=wt(s);o.C_.add(0),yield sm(o),o.M_.set("Offline")}),function r(s){return i.apply(this,arguments)})(e);var i}))}(Vr(n=Jn(n,sr)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,t8("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ave(n){return function(e){const i=new gs;return e.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return function X_e(n,t){return HO.apply(this,arguments)}(yield dP(e),i)})),i.promise}(Vr(n=Jn(n,sr)))}(this._delegate)}onSnapshotsInSync(t){return function lye(n,t){return function mve(n,t){const e=new mD(t);return n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return r=yield pm(n),s=e,wt(r).q_.add(s),void s.next();var r,s})),()=>{e.Na(),n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return r=yield pm(n),s=e,void wt(r).q_.delete(s);var r,s}))}}(Vr(n=Jn(n,sr)),pP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new it("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new _m(this,a8(this._delegate,t))}catch(e){throw Mo(e,"collection()","Firestore.collection()")}}doc(t){try{return new $a(this,bD(this._delegate,t))}catch(e){throw Mo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ro(this,function xve(n,t){if(n=Jn(n,Db),hP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new it(Fe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ws(n,null,(i=t,new ed(ci.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw Mo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function yye(n,t,e){n=Jn(n,sr);const i=Object.assign(Object.assign({},_ye),e);return function(s){if(s.maxAttempts<1)throw new it(Fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,c){const u=new gs;return s.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){const f=yield function Z$(n){return vD(n).then(t=>t.datastore)}(s);new dve(s.asyncQueue,f,c,o,u).run()})),u.promise}(Vr(n),r=>t(new vye(n,r)),i)}(this._delegate,e=>t(new F8(this,e)))}batch(){return Vr(this._delegate),new L8(new A8(this._delegate,t=>mm(this._delegate,t)))}loadBundle(t){return function Rve(n,t){const e=Vr(n=Jn(n,sr)),i=new Eve;return function _ve(n,t,e,i){const r=function(o,c){let u;return u="string"==typeof o?y5().encode(o):o,_=function(_,w){if(_ instanceof Uint8Array)return $$(_,w);if(_ instanceof ArrayBuffer)return $$(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new lve(_,c);var _}(e,wb(t));n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){!function ove(n,t,e){const i=wt(n);var r;(r=(0,Ze.Z)(function*(o,c,u){try{const f=yield c.getMetadata();if(yield function(F,V){const U=wt(F),re=qr(V.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",ee=>U.Kr.getBundleMetadata(ee,V.id)).then(ee=>!!ee&&ee.createTime.compareTo(re)>=0)}(o.localStore,f))return yield c.close(),u._completeWith({taskState:"Success",documentsLoaded:(F=f).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);u._updateProgress(F$(f));const _=new B_e(f,o.localStore,c.serializer);let w=yield c.Ma();for(;w;){const M=yield _.ea(w);M&&u._updateProgress(M),w=yield c.Ma()}const T=yield _.complete();return yield rd(o,T.ra,void 0),yield function(F,V){const U=wt(F);return U.persistence.runTransaction("Save bundle","readwrite",re=>U.Kr.saveBundleMetadata(re,V))}(o.localStore,f),u._completeWith(T.progress),Promise.resolve(T.na)}catch(f){return Zo("SyncEngine",`Loading bundle failed with ${f}`),u._failWith(f),Promise.resolve(new Set)}var F}),function s(o,c,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield dP(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Ove(n,t){return function vve(n,t){return n.asyncQueue.enqueue((0,Ze.Z)(function*(){return function(i,r){const s=wt(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,r))}(yield fm(n),t)}))}(Vr(n=Jn(n,sr)),t).then(e=>e?new Ws(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ro(this,e):null)}}class RD extends wP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ob(new hc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return $a.forKey(e,this.firestore,null)}}class F8{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new RD(t)}get(t){const e=sf(t);return this._delegate.get(e).then(i=>new Pb(this._firestore,new od(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=sf(t);return i?(EP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=sf(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=sf(t);return this._delegate.delete(e),this}}class L8{constructor(t){this._delegate=t}set(t,e,i){const r=sf(t);return i?(EP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=sf(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=sf(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class rf{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Rb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Nb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=rf.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new rf(t,new RD(t),e),r.set(e,s)),s}}rf.INSTANCES=new WeakMap;class $a{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new RD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new it("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new $a(e,new pr(e._delegate,i,new Et(t)))}static forKey(t,e,i){return new $a(e,new pr(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new _m(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new _m(this.firestore,a8(this._delegate,t))}catch(e){throw Mo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,te.m9)(t))instanceof pr&&l8(this._delegate,t)}set(t,e){e=EP("DocumentReference.set",e);try{return e?T8(this._delegate,t,e):T8(this._delegate,t)}catch(i){throw Mo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?I8(this._delegate,t):I8(this._delegate,t,e,...i)}catch(r){throw Mo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function oye(n){return mm(Jn(n.firestore,sr),[new Zg(n._key,yr.none())])}(this._delegate)}onSnapshot(...t){const e=V8(t),i=B8(t,r=>new Pb(this.firestore,new od(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return S8(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function tye(n){n=Jn(n,pr);const t=Jn(n.firestore,sr),e=Vr(t),i=new Du(t);return function pve(n,t){const e=new gs;return n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return(i=(0,Ze.Z)(function*(s,o,c){try{const u=yield function(_,w){const T=wt(_);return T.persistence.runTransaction("read document","readonly",M=>T.localDocuments.getDocument(M,w))}(s,o);u.isFoundDocument()?c.resolve(u):u.isNoDocument()?c.resolve(null):c.reject(new it(Fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const f=lm(u,`Failed to get document '${o} from cache`);c.reject(f)}}),function r(s,o,c){return i.apply(this,arguments)})(yield fm(n),t,e);var i})),e.promise}(e,n._key).then(r=>new od(t,i,n._key,r,new nf(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function nye(n){n=Jn(n,pr);const t=Jn(n.firestore,sr);return K$(Vr(t),n._key,{source:"server"}).then(e=>xP(t,n,e))}(this._delegate):function eye(n){n=Jn(n,pr);const t=Jn(n.firestore,sr);return K$(Vr(t),n._key).then(e=>xP(t,n,e))}(this._delegate),e.then(i=>new Pb(this.firestore,new od(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new $a(this.firestore,this._delegate.withConverter(t?rf.getInstance(this.firestore,t):null))}}function Mo(n,t,e){return n.message=n.message.replace(t,e),n}function V8(n){for(const t of n)if("object"==typeof t&&!DP(t))return t;return{}}function B8(n,t){var e,i;let r;return r=DP(n[0])?n[0]:DP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Pb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new $a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return D8(this._delegate,t._delegate)}}class Nb extends Pb{data(t){const e=this._delegate.data(t);return function vge(n,t){n||Ft()}(void 0!==e),e}}class Ro{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new RD(t)}where(t,e,i){try{return new Ro(this.firestore,Cu(this._delegate,function jve(n,t,e){const i=t,r=TD("where",n);return Mb._create(r,i,e)}(t,e,i)))}catch(r){throw Mo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ro(this.firestore,Cu(this._delegate,function Wve(n,t="asc"){const e=t,i=TD("orderBy",n);return bP._create(i,e)}(t,e)))}catch(i){throw Mo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ro(this.firestore,Cu(this._delegate,function Gve(n){return r8("limit",n),ID._create("limit",n,"F")}(t)))}catch(e){throw Mo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ro(this.firestore,Cu(this._delegate,function $ve(n){return r8("limitToLast",n),ID._create("limitToLast",n,"L")}(t)))}catch(e){throw Mo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ro(this.firestore,Cu(this._delegate,function Yve(...n){return SD._create("startAt",n,!0)}(...t)))}catch(e){throw Mo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ro(this.firestore,Cu(this._delegate,function qve(...n){return SD._create("startAfter",n,!1)}(...t)))}catch(e){throw Mo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ro(this.firestore,Cu(this._delegate,function Xve(...n){return AD._create("endBefore",n,!1)}(...t)))}catch(e){throw Mo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ro(this.firestore,Cu(this._delegate,function Zve(...n){return AD._create("endAt",n,!0)}(...t)))}catch(e){throw Mo(e,"endAt()","Query.endAt()")}}isEqual(t){return fP(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function rye(n){n=Jn(n,Ws);const t=Jn(n.firestore,sr),e=Vr(t),i=new Du(t);return function gve(n,t){const e=new gs;return n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return(i=(0,Ze.Z)(function*(s,o,c){try{const u=yield cD(s,o,!0),f=new B$(o,u.ls),_=f.ca(u.documents),w=f.applyChanges(_,!1);c.resolve(w.snapshot)}catch(u){const f=lm(u,`Failed to execute query '${o} against cache`);c.reject(f)}}),function r(s,o,c){return i.apply(this,arguments)})(yield fm(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Eu(t,i,n,r))}(this._delegate):"server"===t?.source?function sye(n){n=Jn(n,Ws);const t=Jn(n.firestore,sr),e=Vr(t),i=new Du(t);return Q$(e,n._query,{source:"server"}).then(r=>new Eu(t,i,n,r))}(this._delegate):function iye(n){n=Jn(n,Ws);const t=Jn(n.firestore,sr),e=Vr(t),i=new Du(t);return y8(n._query),Q$(e,n._query).then(r=>new Eu(t,i,n,r))}(this._delegate),e.then(i=>new TP(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=V8(t),i=B8(t,r=>new TP(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return S8(this._delegate,e,i)}withConverter(t){return new Ro(this.firestore,this._delegate.withConverter(t?rf.getInstance(this.firestore,t):null))}}class Mye{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Nb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class TP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ro(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Nb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Mye(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Nb(this._firestore,i))})}isEqual(t){return D8(this._delegate,t._delegate)}}class _m extends Ro{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new $a(this.firestore,t):null}doc(t){try{return new $a(this.firestore,void 0===t?bD(this._delegate):bD(this._delegate,t))}catch(e){throw Mo(e,"doc()","CollectionReference.doc()")}}add(t){return function aye(n,t){const e=Jn(n.firestore,sr),i=bD(n),r=kD(n.converter,t);return mm(e,[CD(ef(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,yr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new $a(this.firestore,e))}isEqual(t){return l8(this._delegate,t._delegate)}withConverter(t){return new _m(this.firestore,this._delegate.withConverter(t?rf.getInstance(this.firestore,t):null))}}function sf(n){return Jn(n,pr)}class IP{constructor(...t){this._delegate=new sd(...t)}static documentId(){return new IP(hr.keyField().canonicalString())}isEqual(t){return(t=(0,te.m9)(t))instanceof sd&&this._delegate._internalPath.isEqual(t._internalPath)}}class af{constructor(t){this._delegate=t}static serverTimestamp(){const t=function wye(){return new gP("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new af(t)}static delete(){const t=function bye(){return new Ib("deleteField")}();return t._methodName="FieldValue.delete",new af(t)}static arrayUnion(...t){const e=function xye(...n){return new Vve("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new af(e)}static arrayRemove(...t){const e=function Cye(...n){return new Bve("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new af(e)}static increment(t){const e=function Eye(n){return new zve("increment",n)}(t);return e._methodName="FieldValue.increment",new af(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Rye={Firestore:N8,GeoPoint:wD,Timestamp:vr,Blob:Ob,Transaction:F8,WriteBatch:L8,DocumentReference:$a,DocumentSnapshot:Pb,Query:Ro,QueryDocumentSnapshot:Nb,QuerySnapshot:TP,CollectionReference:_m,FieldPath:IP,FieldValue:af,setLogLevel:function kye(n){!function _ge(n){au.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function z8(n,t){return function Nye(n,t=$d){return new zt(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function SP(n,t){return z8(n,t).pipe(Ge(e=>({payload:e,type:"query"})))}!function Pye(n){(function Oye(n,t){n.INTERNAL.registerComponent(new ml.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Rye)))})(n,(t,e)=>new N8(t,e,new Aye)),n.registerVersion("@firebase/firestore-compat","0.3.21")}(pa.Z);class H8{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=Y8(i,e);return new W8(r,s,this.afs)}snapshotChanges(){return function Fye(n,t){return z8(n,t).pipe(va(void 0),Sg(),Ge(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($r)}valueChanges(t={}){return this.snapshotChanges().pipe(Ge(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return $(this.ref.get(t)).pipe($r)}}function OD(n,t){return SP(n,t).pipe(va(void 0),Sg(),Ge(e=>{const[i,r]=e,s=r.payload.docChanges(),o=s.map(c=>({type:c.type,payload:c}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,u)=>{const f=s.find(w=>w.doc.ref.isEqual(c.ref)),_=i?.payload.docs.find(w=>w.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:c}})}),o}))}function U8(n,t,e){return OD(n,e).pipe(pg((i,r)=>function Lye(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function Vye(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return AP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return AP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return AP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),en(),Ge(i=>i.map(r=>({type:r.type,payload:r}))))}function AP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function j8(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class W8{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=OD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Ge(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(va(void 0),Sg(),Hn(([i,r])=>r.length>0||!i),Ge(([,i])=>i),$r)}auditTrail(t){return this.stateChanges(t).pipe(pg((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=j8(t);return U8(this.query,e,this.afs.schedulers.outsideAngular).pipe($r)}valueChanges(t={}){return SP(this.query,this.afs.schedulers.outsideAngular).pipe(Ge(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),$r)}get(t){return $(this.query.get(t)).pipe($r)}add(t){return this.ref.add(t)}doc(t){return new H8(this.ref.doc(t),this.afs)}}class Bye{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?OD(this.query,this.afs.schedulers.outsideAngular).pipe(Ge(e=>e.filter(i=>t.indexOf(i.type)>-1)),Hn(e=>e.length>0),$r):OD(this.query,this.afs.schedulers.outsideAngular).pipe($r)}auditTrail(t){return this.stateChanges(t).pipe(pg((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=j8(t);return U8(this.query,e,this.afs.schedulers.outsideAngular).pipe($r)}valueChanges(t={}){return SP(this.query,this.afs.schedulers.outsideAngular).pipe(Ge(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),$r)}get(t){return $(this.query.get(t)).pipe($r)}}const G8=new ze("angularfire2.enableFirestorePersistence"),$8=new ze("angularfire2.firestore.persistenceSettings"),zye=new ze("angularfire2.firestore.settings"),Hye=new ze("angularfire2.firestore.use-emulator");function Y8(n,t=(e=>e)){return{query:t(n),ref:n}}let Uye=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,s,o,c,u,f,_,w,T,M,F,V,U,re,ee){this.schedulers=u;const ae=qv(e,c,i),ge=_;w&&pk(ae,c,T,F,V,U,M,re),[this.firestore,this.persistenceEnabled$]=EC(`${ae.name}.firestore`,"AngularFirestore",ae.name,()=>{const Te=c.runOutsideAngular(()=>ae.firestore());if(s&&Te.settings(s),ge&&Te.useEmulator(...ge),r&&!gC(o)){const qe=()=>{try{return $(Te.enablePersistence(f||void 0).then(()=>!0,()=>!1))}catch(ht){return typeof console<"u"&&console.warn(ht),de(!1)}};return[Te,c.runOutsideAngular(qe)]}return[Te,de(!1)]},[s,ge,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:o}=Y8(r,i),c=this.schedulers.ngZone.run(()=>s);return new W8(c,o,this)}collectionGroup(e,i){const r=i||(o=>o),s=this.firestore.collectionGroup(e);return new Bye(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new H8(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(ue(hg),ue(fg,8),ue(G8,8),ue(zye,8),ue(wo),ue(ct),ue(CC),ue($8,8),ue(Hye,8),ue(qc,8),ue(lk,8),ue(ck,8),ue(dk,8),ue(uk,8),ue(hk,8),ue(fk,8),ue(xC,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),jye=(()=>{class n{constructor(){pa.Z.registerVersion("angularfire",cg.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:G8,useValue:!0},{provide:$8,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=At({type:n});static \u0275inj=Ie({providers:[Uye]})}return n})();function kP(n,t=$d){return je((e,i)=>{let r=null,s=null,o=null;const c=()=>{if(r){r.unsubscribe(),r=null;const f=s;s=null,i.next(f)}};function u(){const f=o+n,_=t.now();if(_<f)return r=this.schedule(void 0,f-_),void i.add(r);c()}e.subscribe(ot(i,f=>{s=f,o=t.now(),r||(r=t.schedule(u,n),i.add(r))},()=>{c(),i.complete()},void 0,()=>{s=r=null}))})}const q8="firebasestorage.googleapis.com",X8="storageBucket";class Ar extends te.ZR{constructor(t,e,i=0){super(MP(t),`Firebase Storage: ${e} (${MP(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ar.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return MP(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var br=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(br||{});function MP(n){return"storage/"+n}function RP(){return new Ar(br.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Z8(){return new Ar(br.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function K8(){return new Ar(br.CANCELED,"User canceled the upload/download.")}function Q8(){return new Ar(br.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vm(n){return new Ar(br.INVALID_ARGUMENT,n)}function J8(){return new Ar(br.APP_DELETED,"The Firebase app was deleted.")}function eY(n){return new Ar(br.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fb(n,t){return new Ar(br.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Lb(n){throw new Ar(br.INTERNAL_ERROR,"Internal error: "+n)}class lo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=lo.makeFromUrl(t,e)}catch{return new lo(t,"")}if(""===i.path)return i;throw function Jye(n){return new Ar(br.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+r+"(/(.*))?$","i");function f(ge){ge.path_=decodeURIComponent(ge.path)}const w=e.replace(/[.]/g,"\\."),ae=[{regex:c,indices:{bucket:1,path:3},postModify:function s(ge){"/"===ge.path.charAt(ge.path.length-1)&&(ge.path_=ge.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${w}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:f},{regex:new RegExp(`^https?://${e===q8?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:f}];for(let ge=0;ge<ae.length;ge++){const Te=ae[ge],qe=Te.regex.exec(t);if(qe){let ut=qe[Te.indices.path];ut||(ut=""),i=new lo(qe[Te.indices.bucket],ut),Te.postModify(i);break}}if(null==i)throw function Qye(n){return new Ar(br.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class rbe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function PD(n){return"string"==typeof n||n instanceof String}function tY(n){return OP()&&n instanceof Blob}function OP(){return typeof Blob<"u"&&!(0,te.UG)()}function PP(n,t,e,i){if(i<t)throw vm(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw vm(`Invalid value for '${n}'. Expected ${e} or less.`)}function ad(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function nY(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var ym=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(ym||{});function iY(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class dbe{constructor(t,e,i,r,s,o,c,u,f,_,w,T=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=_,this.connectionFactory_=w,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,F)=>{this.resolve_=M,this.reject_=F,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());!function abe(n){return void 0!==n}(u)?s():s(u)}catch(u){o(u)}else if(null!==c){const u=RP();u.serverResponse=c.getErrorText(),o(this.errorCallback_?this.errorCallback_(c,u):u)}else o(r.canceled?this.appDelete_?J8():K8():Z8())};this.canceled_?e(0,new ND(!1,null,!0)):this.backoffId_=function sbe(n,t,e){let i=1,r=null,s=null,o=!1,c=0;function u(){return 2===c}let f=!1;function _(...U){f||(f=!0,t.apply(null,U))}function w(U){r=setTimeout(()=>{r=null,n(M,u())},U)}function T(){s&&clearTimeout(s)}function M(U,...re){if(f)return void T();if(U)return T(),void _.call(null,U,...re);if(u()||o)return T(),void _.call(null,U,...re);let ae;i<64&&(i*=2),1===c?(c=2,ae=0):ae=1e3*(i+Math.random()),w(ae)}let F=!1;function V(U){F||(F=!0,T(),!f&&(null!==r?(U||(c=2),clearTimeout(r),w(0)):U||(c=1)))}return w(0),s=setTimeout(()=>{o=!0,V(!0)},e),V}((i,r)=>{if(r)return void i(!1,new ND(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===ym.NO_ERROR,u=s.getStatus();if(!c||iY(u,this.additionalRetryCodes_)&&this.retry){const _=s.getErrorCode()===ym.ABORT;return void i(!1,new ND(!1,null,_))}const f=-1!==this.successCodes_.indexOf(u);i(!0,new ND(f,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function obe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ND{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function _be(...n){const t=function mbe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(OP())return new Blob(n);throw new Ar(br.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const xa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class NP{constructor(t,e){this.data=t,this.contentType=e||null}}function FP(n,t){switch(n){case xa.RAW:return new NP(rY(t));case xa.BASE64:case xa.BASE64URL:return new NP(sY(n,t));case xa.DATA_URL:return new NP(function wbe(n){const t=new oY(n);return t.base64?sY(xa.BASE64,t.rest):function bbe(n){let t;try{t=decodeURIComponent(n)}catch{throw Fb(xa.DATA_URL,"Malformed data URL.")}return rY(t)}(t.rest)}(t),function xbe(n){return new oY(n).contentType}(t))}throw RP()}function rY(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function sY(n,t){switch(n){case xa.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw Fb(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case xa.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw Fb(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function ybe(n){if(typeof atob>"u")throw function ibe(n){return new Ar(br.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:Fb(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class oY{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Fb(xa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Cbe(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class fc{constructor(t,e){let i=0,r="";tY(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(tY(this.data_)){const r=function vbe(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new fc(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new fc(i,!0)}}static getBlob(...t){if(OP()){const e=t.map(i=>i instanceof fc?i.data_:i);return new fc(_be.apply(null,e))}{const e=t.map(o=>PD(o)?FP(xa.RAW,o).data:o.data_);let i=0;e.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(o=>{for(let c=0;c<o.length;c++)r[s++]=o[c]}),new fc(r,!0)}}uploadData(){return this.data_}}function LP(n){let t;try{t=JSON.parse(n)}catch{return null}return function cbe(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function aY(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Tbe(n,t){return t}class Oo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Tbe}}let FD=null;function Vb(){if(FD)return FD;const n=[];n.push(new Oo("bucket")),n.push(new Oo("generation")),n.push(new Oo("metageneration")),n.push(new Oo("name","fullPath",!0));const e=new Oo("name");e.xform=function t(s,o){return function Ibe(n){return!PD(n)||n.length<2?n:aY(n)}(o)},n.push(e);const r=new Oo("size");return r.xform=function i(s,o){return void 0!==o?Number(o):o},n.push(r),n.push(new Oo("timeCreated")),n.push(new Oo("updated")),n.push(new Oo("md5Hash",null,!0)),n.push(new Oo("cacheControl",null,!0)),n.push(new Oo("contentDisposition",null,!0)),n.push(new Oo("contentEncoding",null,!0)),n.push(new Oo("contentLanguage",null,!0)),n.push(new Oo("contentType",null,!0)),n.push(new Oo("metadata","customMetadata",!0)),FD=n,FD}function lY(n,t,e){const i=LP(t);return null===i?null:function Abe(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const o=e[s];i[o.local]=o.xform(i,t[o.server])}return function Sbe(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new lo(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function VP(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const cY="prefixes",dY="items";class pc{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function gc(n){if(!n)throw RP()}function LD(n,t){return function e(i,r){const s=lY(n,r,t);return gc(null!==s),s}}function bm(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Zye(){return new Ar(br.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Xye(){return new Ar(br.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function qye(n){return new Ar(br.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function Kye(n){return new Ar(br.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function Bb(n){const t=bm(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function Yye(n){return new Ar(br.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function uY(n,t,e){const r=ad(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new pc(r,"GET",LD(n,e),o);return c.errorHandler=Bb(t),c}function Nbe(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const c=ad(t.bucketOnlyServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,_=new pc(c,"GET",function Obe(n,t){return function e(i,r){const s=function Rbe(n,t,e){const i=LP(e);return null===i?null:function Mbe(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[cY])for(const r of e[cY]){const s=r.replace(/\/$/,""),o=n._makeStorageReference(new lo(t,s));i.prefixes.push(o)}if(e[dY])for(const r of e[dY]){const s=n._makeStorageReference(new lo(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return gc(null!==s),s}}(n,t.bucket),f);return _.urlParams=s,_.errorHandler=bm(t),_}function fY(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function Bbe(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class VD{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function BP(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{gc(!1)}return gc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const jbe={STATE_CHANGED:"state_changed"},Po={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zP(n){switch(n){case"running":case"pausing":case"canceling":return Po.RUNNING;case"paused":return Po.PAUSED;case"success":return Po.SUCCESS;case"canceled":return Po.CANCELED;default:return Po.ERROR}}class Wbe{constructor(t,e,i){if(function lbe(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function wm(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let mY=null;class Gbe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ym.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ym.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ym.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Lb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Lb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class $be extends Gbe{initXhr(){this.xhr_.responseType="text"}}function El(){return mY?mY():new $be}class _Y{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Vb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(br.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(iY(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=Z8()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(br.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function zbe(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o=fY(t,i,r),c={name:o.fullPath},u=ad(s,n.host,n._protocol),_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},w=VP(o,e),F=new pc(u,"POST",function M(V){let U;BP(V);try{U=V.getResponseHeader("X-Goog-Upload-URL")}catch{gc(!1)}return gc(PD(U)),U},n.maxUploadRetryTime);return F.urlParams=c,F.headers=_,F.body=w,F.errorHandler=bm(t),F}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,El,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function Hbe(n,t,e,i){const u=new pc(e,"POST",function s(f){const _=BP(f,["active","final"]);let w=null;try{w=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{gc(!1)}w||gc(!1);const T=Number(w);return gc(!isNaN(T)),new VD(T,i.size(),"final"===_)},n.maxUploadRetryTime);return u.headers={"X-Goog-Upload-Command":"query"},u.errorHandler=bm(t),u}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,El,e,i);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new VD(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=function Ube(n,t,e,i,r,s,o,c){const u=new VD(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=i.size()),i.size()!==u.total)throw function tbe(){return new Ar(br.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const f=u.total-u.current;let _=f;r>0&&(_=Math.min(_,r));const w=u.current;let M="";M=0===_?"finalize":f===_?"upload, finalize":"upload";const F={"X-Goog-Upload-Command":M,"X-Goog-Upload-Offset":`${u.current}`},V=i.slice(w,w+_);if(null===V)throw Q8();const ae=new pc(e,"POST",function U(ge,Te){const qe=BP(ge,["active","final"]),ht=u.current+_,ut=i.size();let Dt;return Dt="final"===qe?LD(t,s)(ge,Te):null,new VD(ht,ut,"final"===qe,Dt)},t.maxUploadRetryTime);return ae.headers=F,ae.body=V.uploadData(),ae.progressCallback=c||null,ae.errorHandler=bm(n),ae}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(u){return this._error=u,void this._transition("error")}const c=this._ref.storage._makeRequest(o,El,r,s,!1);this._request=c,c.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=uY(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,El,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function pY(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},u=function c(){let ae="";for(let ge=0;ge<2;ge++)ae+=Math.random().toString().slice(2);return ae}();o["Content-Type"]="multipart/related; boundary="+u;const f=fY(t,i,r),_=VP(f,e),M=fc.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_+"\r\n--"+u+"\r\nContent-Type: "+f.contentType+"\r\n\r\n",i,"\r\n--"+u+"--");if(null===M)throw Q8();const F={name:f.fullPath},V=ad(s,n.host,n._protocol),re=n.maxUploadRetryTime,ee=new pc(V,"POST",LD(n,e),re);return ee.urlParams=F,ee.headers=o,ee.body=M.uploadData(),ee.errorHandler=bm(t),ee}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,El,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=K8(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=zP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new Wbe(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(zP(this._state)){case Po.SUCCESS:wm(this._resolve.bind(null,this.snapshot))();break;case Po.CANCELED:case Po.ERROR:wm(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(zP(this._state)){case Po.RUNNING:case Po.PAUSED:t.next&&wm(t.next.bind(t,this.snapshot))();break;case Po.SUCCESS:t.complete&&wm(t.complete.bind(t))();break;default:t.error&&wm(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class lf{constructor(t,e){this._service=t,this._location=e instanceof lo?e:lo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new lf(t,e)}get root(){const t=new lo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aY(this._location.path)}get storage(){return this._service}get parent(){const t=function Ebe(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new lo(this._location.bucket,t);return new lf(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw eY(t)}}function yY(n,t,e){return HP.apply(this,arguments)}function HP(){return HP=(0,Ze.Z)(function*(n,t,e){const r=yield bY(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield yY(n,t,r.nextPageToken))}),HP.apply(this,arguments)}function bY(n,t){null!=t&&"number"==typeof t.maxResults&&PP("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Nbe(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,El)}function r0e(n){n._throwIfRoot("getDownloadURL");const t=function Fbe(n,t,e){const r=ad(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new pc(r,"GET",function Pbe(n,t){return function e(i,r){const s=lY(n,r,t);return gc(null!==s),function kbe(n,t,e,i){const r=LP(t);if(null===r||!PD(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(f=>{const w=n.fullPath;return ad("/b/"+o(n.bucket)+"/o/"+o(w),e,i)+nY({alt:"media",token:f})})[0]}(s,r,n.host,n._protocol)}}(n,e),o);return c.errorHandler=Bb(t),c}(n.storage,n._location,Vb());return n.storage.makeRequestWithTokens(t,El).then(e=>{if(null===e)throw function nbe(){return new Ar(br.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function wY(n,t){const e=function Dbe(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new lo(n._location.bucket,e);return new lf(n.storage,i)}function xY(n,t){if(n instanceof UP){const e=n;if(null==e._bucket)throw function ebe(){return new Ar(br.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+X8+"' property when initializing the app?")}();const i=new lf(e,e._bucket);return null!=t?xY(i,t):i}return void 0!==t?wY(n,t):n}function l0e(n,t){if(t&&function o0e(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof UP)return function a0e(n,t){return new lf(n,t)}(n,t);throw vm("To use ref(service, url), the first argument must be a Storage instance.")}return xY(n,t)}function CY(n,t){const e=t?.[X8];return null==e?null:lo.makeFromBucketSpec(e,n)}class UP{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=q8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?lo.makeFromBucketSpec(r,this._host):CY(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?lo.makeFromBucketSpec(this._url,t):CY(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){PP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){PP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Ze.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Ze.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new lf(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new rbe(J8());{const o=function gbe(n,t,e,i,r,s,o=!0){const c=nY(n.urlParams),u=n.url+c,f=Object.assign({},n.headers);return function fbe(n,t){t&&(n["X-Firebase-GMPID"]=t)}(f,t),function ube(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(f,e),function hbe(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(f,s),function pbe(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(f,i),new dbe(u,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,Ze.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const EY="@firebase/storage";function IY(n,t){return l0e(n=(0,te.m9)(n),t)}function v0e(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new UP(e,i,r,t,Yo.SDK_VERSION)}!function y0e(){(0,Yo._registerComponent)(new ml.wA("storage",v0e,"PUBLIC").setMultipleInstances(!0)),(0,Yo.registerVersion)(EY,"0.11.2",""),(0,Yo.registerVersion)(EY,"0.11.2","esm2017")}();class BD{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class AY{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new BD(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new BD(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?o=>e(new BD(o,this,this._ref)):{next:e.next?o=>e.next(new BD(o,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class kY{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new ld(t,this._service))}get items(){return this._delegate.items.map(t=>new ld(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ld{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function _0e(n,t){return wY(n,t)}(this._delegate,t);return new ld(e,this.storage)}get root(){return new ld(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new ld(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new AY(function d0e(n,t,e){return function Jbe(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new _Y(n,new fc(t),e)}(n=(0,te.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=xa.RAW,i){this._throwIfRoot("putString");const r=FP(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new AY(new _Y(this._delegate,new fc(r.data,!0),s),this)}listAll(){return function p0e(n){return function t0e(n){const t={prefixes:[],items:[]};return yY(n,t).then(()=>t)}(n=(0,te.m9)(n))}(this._delegate).then(t=>new kY(t,this.storage))}list(t){return function f0e(n,t){return bY(n=(0,te.m9)(n),t)}(this._delegate,t||void 0).then(e=>new kY(e,this.storage))}getMetadata(){return function u0e(n){return function n0e(n){n._throwIfRoot("getMetadata");const t=uY(n.storage,n._location,Vb());return n.storage.makeRequestWithTokens(t,El)}(n=(0,te.m9)(n))}(this._delegate)}updateMetadata(t){return function h0e(n,t){return function i0e(n,t){n._throwIfRoot("updateMetadata");const e=function Lbe(n,t,e,i){const s=ad(t.fullServerUrl(),n.host,n._protocol),c=VP(e,i),f=n.maxOperationRetryTime,_=new pc(s,"PATCH",LD(n,i),f);return _.headers={"Content-Type":"application/json; charset=utf-8"},_.body=c,_.errorHandler=Bb(t),_}(n.storage,n._location,t,Vb());return n.storage.makeRequestWithTokens(e,El)}(n=(0,te.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function g0e(n){return r0e(n=(0,te.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function m0e(n){return function s0e(n){n._throwIfRoot("deleteObject");const t=function Vbe(n,t){const i=ad(t.fullServerUrl(),n.host,n._protocol),c=new pc(i,"DELETE",function o(u,f){},n.maxOperationRetryTime);return c.successCodes=[200,204],c.errorHandler=Bb(t),c}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,El)}(n=(0,te.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw eY(t)}}class MY{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(RY(t))throw vm("ref() expected a child path but got a URL, use refFromURL instead.");return new ld(IY(this._delegate,t),this)}refFromURL(t){if(!RY(t))throw vm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lo.makeFromUrl(t,this._delegate.host)}catch{throw vm("refFromUrl() expected a valid full URL but got an invalid one.")}return new ld(IY(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function SY(n,t,e,i={}){!function c0e(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,te.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function RY(n){return/^[A-Za-z]+:\/\//.test(n)}function C0e(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new MY(e,i)}function OY(n){const t=function D0e(n){return new zt(t=>{const e=o=>t.next(o);e(n.snapshot);const s=n.on("state_changed",e);return n.then(o=>{e(o),t.complete()},o=>{e(n.snapshot),(o=>{t.error(o)})(o)}),function(){s()}}).pipe(kP(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(Ge(e=>e.bytesTransferred/e.totalBytes*100))}}function zD(n){return{getDownloadURL:()=>de(void 0).pipe(D3,vt(()=>n.getDownloadURL()),$r),getMetadata:()=>de(void 0).pipe(D3,vt(()=>n.getMetadata()),$r),delete:()=>$(n.delete()),child:t=>zD(n.child(t)),updateMetadata:t=>$(n.updateMetadata(t)),put:(t,e)=>OY(n.put(t,e)),putString:(t,e,i)=>OY(n.putString(t,e,i)),list:t=>$(n.list(t)),listAll:()=>$(n.listAll())}}!function E0e(n){const t={TaskState:Po,TaskEvent:jbe,StringFormat:xa,Storage:MY,Reference:ld};n.INTERNAL.registerComponent(new ml.wA("storage-compat",C0e,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(pa.Z);const T0e=new ze("angularfire2.storageBucket"),I0e=new ze("angularfire2.storage.maxUploadRetryTime"),S0e=new ze("angularfire2.storage.maxOperationRetryTime"),A0e=new ze("angularfire2.storage.use-emulator");let k0e=(()=>{class n{storage;constructor(e,i,r,s,o,c,u,f,_,w){const T=qv(e,o,i);this.storage=EC(`${T.name}.storage.${r}`,"AngularFireStorage",T.name,()=>{const M=o.runOutsideAngular(()=>T.storage(r||void 0)),F=_;return F&&M.useEmulator(...F),u&&M.setMaxUploadRetryTime(u),f&&M.setMaxOperationRetryTime(f),M},[u,f])}ref(e){return zD(this.storage.ref(e))}refFromURL(e){return zD(this.storage.refFromURL(e))}upload(e,i,r){return zD(this.storage.ref(e)).put(i,r)}static \u0275fac=function(i){return new(i||n)(ue(hg),ue(fg,8),ue(T0e,8),ue(wo),ue(ct),ue(CC),ue(I0e,8),ue(S0e,8),ue(A0e,8),ue(xC,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),M0e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=At({type:n});static \u0275inj=Ie({})}return n})(),R0e=(()=>{class n{constructor(){pa.Z.registerVersion("angularfire",cg.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=At({type:n});static \u0275inj=Ie({providers:[k0e],imports:[M0e]})}return n})();const PY_firebase={apiKey:"AIzaSyDZMfeKR9MBcMxMHIf9uJ79ypwh1PdLqnc",authDomain:"petguardian-mobile.firebaseapp.com",projectId:"petguardian-mobile",storageBucket:"petguardian-mobile.appspot.com",messagingSenderId:"804674385941",appId:"1:804674385941:web:09008f5ce221d66a34761c",measurementId:"G-GL45SM7ZE6"};let jP,O0e=1;const HD={};function NY(n){return n in HD&&(delete HD[n],!0)}const P0e={setImmediate(n){const t=O0e++;return HD[t]=!0,jP||(jP=Promise.resolve()),jP.then(()=>NY(t)&&n()),t},clearImmediate(n){NY(n)}},{setImmediate:N0e,clearImmediate:F0e}=P0e,UD={setImmediate(...n){const{delegate:t}=UD;return(t?.setImmediate||N0e)(...n)},clearImmediate(n){const{delegate:t}=UD;return(t?.clearImmediate||F0e)(n)},delegate:void 0},FY=new class V0e extends wC{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class L0e extends bC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=UD.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(UD.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var LY=Yt(54);const B0e=["chart"];let VY=(()=>{class n{constructor(e){this.ngZone=e,this.autoUpdateSeries=!0}ngOnChanges(e){FY.schedule(()=>{this.autoUpdateSeries&&0===Object.keys(e).filter(i=>"series"!==i).length?this.updateSeries(this.series,!0):this.createElement()})}ngOnDestroy(){this.chartObj&&this.chartObj.destroy()}createElement(){const e={};this.annotations&&(e.annotations=this.annotations),this.chart&&(e.chart=this.chart),this.colors&&(e.colors=this.colors),this.dataLabels&&(e.dataLabels=this.dataLabels),this.series&&(e.series=this.series),this.stroke&&(e.stroke=this.stroke),this.labels&&(e.labels=this.labels),this.legend&&(e.legend=this.legend),this.fill&&(e.fill=this.fill),this.tooltip&&(e.tooltip=this.tooltip),this.plotOptions&&(e.plotOptions=this.plotOptions),this.responsive&&(e.responsive=this.responsive),this.markers&&(e.markers=this.markers),this.noData&&(e.noData=this.noData),this.xaxis&&(e.xaxis=this.xaxis),this.yaxis&&(e.yaxis=this.yaxis),this.forecastDataPoints&&(e.forecastDataPoints=this.forecastDataPoints),this.grid&&(e.grid=this.grid),this.states&&(e.states=this.states),this.title&&(e.title=this.title),this.subtitle&&(e.subtitle=this.subtitle),this.theme&&(e.theme=this.theme),this.chartObj&&this.chartObj.destroy(),this.ngZone.runOutsideAngular(()=>{this.chartObj=new LY(this.chartElement.nativeElement,e)}),this.render()}render(){return this.ngZone.runOutsideAngular(()=>this.chartObj.render())}updateOptions(e,i,r,s){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateOptions(e,i,r,s))}updateSeries(e,i){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateSeries(e,i))}appendSeries(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.appendSeries(e,i))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartObj.appendData(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartObj.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartObj.resetSeries())}zoomX(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.zoomX(e,i))}toggleDataPointSelection(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.toggleDataPointSelection(e,i))}destroy(){this.chartObj.destroy()}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartObj.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartObj.paper())}addXaxisAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addXaxisAnnotation(e,i,r))}addYaxisAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addYaxisAnnotation(e,i,r))}addPointAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addPointAnnotation(e,i,r))}removeAnnotation(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.removeAnnotation(e,i))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartObj.clearAnnotations(e))}dataURI(e){return this.chartObj.dataURI(e)}}return n.\u0275fac=function(e){return new(e||n)(H(ct))},n.\u0275cmp=Ot({type:n,selectors:[["apx-chart"]],viewQuery:function(e,i){if(1&e&&Si(B0e,7),2&e){let r;Ut(r=jt())&&(i.chartElement=r.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",forecastDataPoints:"forecastDataPoints",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},features:[An],decls:2,vars:0,consts:[["chart",""]],template:function(e,i){1&e&&Qe(0,"div",null,0)},encapsulation:2,changeDetection:0}),n})();window.ApexCharts=LY;let z0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Ie({}),n})();const{isArray:U0e}=Array,{getPrototypeOf:j0e,prototype:W0e,keys:G0e}=Object;function BY(n){if(1===n.length){const t=n[0];if(U0e(t))return{args:t,keys:null};if(function $0e(n){return n&&"object"==typeof n&&j0e(n)===W0e}(t)){const e=G0e(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Y0e}=Array;function WP(n){return Ge(t=>function q0e(n,t){return Y0e(t)?n(...t):n(t)}(n,t))}function zY(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Ya(...n){const t=ho(n),e=bs(n),{args:i,keys:r}=BY(n);if(0===i.length)return $([],t);const s=new zt(function X0e(n,t,e=un){return i=>{HY(t,()=>{const{length:r}=n,s=new Array(r);let o=r,c=r;for(let u=0;u<r;u++)HY(t,()=>{const f=$(n[u],t);let _=!1;f.subscribe(ot(i,w=>{s[u]=w,_||(_=!0,c--),c||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>zY(r,o):un));return e?s.pipe(WP(e)):s}function HY(n,t,e){n?Rr(e,n,t):t()}function GP(n){return new zt(t=>{nt(n()).subscribe(t)})}function zb(n,t){const e=ie(n)?n:()=>n,i=r=>r.error(e());return new zt(t?r=>t.schedule(i,0,r):i)}function $P(){return je((n,t)=>{let e=null;n._refCount++;const i=ot(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class UY extends zt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Je(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new He;const e=this.getSubject();t.add(this.source.subscribe(ot(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=He.EMPTY)}return t}refCount(){return $P()(this)}}function xm(n,t){return ie(t)?In(n,t,1):In(n,1)}function Iu(n){return je((t,e)=>{let s,i=null,r=!1;i=t.subscribe(ot(e,void 0,void 0,o=>{s=nt(n(o,Iu(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function jD(n){return n<=0?()=>ti:je((t,e)=>{let i=[];t.subscribe(ot(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Hb(n){return je((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function $t(n){return je((t,e)=>{nt(n).subscribe(ot(e,()=>e.complete(),Rt)),!e.closed&&t.subscribe(e)})}const Nn="primary",Ub=Symbol("RouteTitle");class K0e{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Cm(n){return new K0e(n)}function Q0e(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],c=n[s];if(o.startsWith(":"))r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function mc(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!WY(n[r],t[r]))return!1;return!0}function WY(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function GY(n){return n.length>0?n[n.length-1]:null}function Su(n){return function H0e(n){return!!n&&(n instanceof zt||ie(n.lift)&&ie(n.subscribe))}(n)?n:Iv(n)?$(Promise.resolve(n)):de(n)}const ewe={exact:function qY(n,t,e){if(!cf(n.segments,t.segments)||!WD(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!qY(n.children[i],t.children[i],e))return!1;return!0},subset:XY},$Y={exact:function twe(n,t){return mc(n,t)},subset:function nwe(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>WY(n[e],t[e]))},ignored:()=>!0};function YY(n,t,e){return ewe[e.paths](n.root,t.root,e.matrixParams)&&$Y[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function XY(n,t,e){return ZY(n,t,t.segments,e)}function ZY(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!cf(r,e)||t.hasChildren()||!WD(r,e,i))}if(n.segments.length===e.length){if(!cf(n.segments,e)||!WD(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!XY(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(cf(n.segments,r)&&WD(n.segments,r,i)&&n.children[Nn])&&ZY(n.children[Nn],t,s,i)}}function WD(n,t,e){return t.every((i,r)=>$Y[e](n[r].parameters,i.parameters))}class Em{constructor(t=new Li([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cm(this.queryParams)),this._queryParamMap}toString(){return swe.serialize(this)}}class Li{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return GD(this)}}class jb{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Cm(this.parameters)),this._parameterMap}toString(){return JY(this)}}function cf(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Wb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return new YP},providedIn:"root"})}return n})();class YP{parse(t){const e=new mwe(t);return new Em(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Gb(t.root,!0)}`,i=function lwe(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${$D(e)}=${$D(r)}`).join("&"):`${$D(e)}=${$D(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function owe(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const swe=new YP;function GD(n){return n.segments.map(t=>JY(t)).join("/")}function Gb(n,t){if(!n.hasChildren())return GD(n);if(t){const e=n.children[Nn]?Gb(n.children[Nn],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Nn&&i.push(`${r}:${Gb(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function rwe(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Nn&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Nn&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Nn?[Gb(n.children[Nn],!1)]:[`${r}:${Gb(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Nn]?`${GD(n)}/${e[0]}`:`${GD(n)}/(${e.join("//")})`}}function KY(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $D(n){return KY(n).replace(/%3B/gi,";")}function qP(n){return KY(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function YD(n){return decodeURIComponent(n)}function QY(n){return YD(n.replace(/\+/g,"%20"))}function JY(n){return`${qP(n.path)}${function awe(n){return Object.keys(n).map(t=>`;${qP(t)}=${qP(n[t])}`).join("")}(n.parameters)}`}const cwe=/^[^\/()?;#]+/;function XP(n){const t=n.match(cwe);return t?t[0]:""}const dwe=/^[^\/()?;=#]+/,hwe=/^[^=?&#]+/,pwe=/^[^&#]+/;class mwe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Li([],{}):new Li([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Nn]=new Li(t,e)),i}parseSegment(){const t=XP(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l(4009,!1);return this.capture(t),new jb(YD(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function uwe(n){const t=n.match(dwe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=XP(this.remaining);r&&(i=r,this.capture(i))}t[YD(e)]=YD(i)}parseQueryParam(t){const e=function fwe(n){const t=n.match(hwe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function gwe(n){const t=n.match(pwe);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=QY(e),s=QY(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=XP(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Nn);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Nn]:new Li([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l(4011,!1)}}function e6(n){return n.segments.length>0?new Li([],{[Nn]:n}):n}function t6(n){const t={};for(const i of Object.keys(n.children)){const s=t6(n.children[i]);if(i===Nn&&0===s.segments.length&&s.hasChildren())for(const[o,c]of Object.entries(s.children))t[o]=c;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function _we(n){if(1===n.numberOfChildren&&n.children[Nn]){const t=n.children[Nn];return new Li(n.segments.concat(t.segments),t.children)}return n}(new Li(n.segments,t))}function df(n){return n instanceof Em}function n6(n){let t;const r=e6(function e(s){const o={};for(const u of s.children){const f=e(u);o[u.outlet]=f}const c=new Li(s.url,o);return s===n&&(t=c),c}(n.root));return t??r}function i6(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return ZP(r,r,r,e,i);const s=function ywe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new s6(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Object.entries(s.outlets).forEach(([u,f])=>{c[u]="string"==typeof f?f.split("/"):f}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?e=!0:".."===c?t++:""!=c&&r.push(c))}),r):[...r,s]},[]);return new s6(e,t,i)}(t);if(s.toRoot())return ZP(r,r,new Li([],{}),e,i);const o=function bwe(n,t,e){if(n.isAbsolute)return new XD(t,!0,0);if(!e)return new XD(t,!1,NaN);if(null===e.parent)return new XD(e,!0,0);const i=qD(n.commands[0])?0:1;return function wwe(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l(4005,!1);r=i.segments.length}return new XD(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),c=o.processChildren?Yb(o.segmentGroup,o.index,s.commands):o6(o.segmentGroup,o.index,s.commands);return ZP(r,o.segmentGroup,c,e,i)}function qD(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $b(n){return"object"==typeof n&&null!=n&&n.outlets}function ZP(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([u,f])=>{s[u]=Array.isArray(f)?f.map(_=>`${_}`):`${f}`}),o=n===t?e:r6(n,t,e);const c=e6(t6(o));return new Em(c,s,r)}function r6(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:r6(s,t,e)}),new Li(n.segments,i)}class s6{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&qD(i[0]))throw new l(4003,!1);const r=i.find($b);if(r&&r!==GY(i))throw new l(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class XD{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function o6(n,t,e){if(n||(n=new Li([],{})),0===n.segments.length&&n.hasChildren())return Yb(n,t,e);const i=function Cwe(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],c=e[i];if($b(c))break;const u=`${c}`,f=i<e.length-1?e[i+1]:null;if(r>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!l6(u,f,o))return s;i+=2}else{if(!l6(u,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Li(n.segments.slice(0,i.pathIndex),{});return s.children[Nn]=new Li(n.segments.slice(i.pathIndex),n.children),Yb(s,0,r)}return i.match&&0===r.length?new Li(n.segments,{}):i.match&&!n.hasChildren()?KP(n,t,e):i.match?Yb(n,0,r):KP(n,t,e)}function Yb(n,t,e){if(0===e.length)return new Li(n.segments,{});{const i=function xwe(n){return $b(n[0])?n[0].outlets:{[Nn]:n}}(e),r={};if(Object.keys(i).some(s=>s!==Nn)&&n.children[Nn]&&1===n.numberOfChildren&&0===n.children[Nn].segments.length){const s=Yb(n.children[Nn],t,e);return new Li(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=o6(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Li(n.segments,r)}}function KP(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if($b(s)){const u=Ewe(s.outlets);return new Li(i,u)}if(0===r&&qD(e[0])){i.push(new jb(n.segments[t].path,a6(e[0]))),r++;continue}const o=$b(s)?s.outlets[Nn]:`${s}`,c=r<e.length-1?e[r+1]:null;o&&c&&qD(c)?(i.push(new jb(o,a6(c))),r+=2):(i.push(new jb(o,{})),r++)}return new Li(i,{})}function Ewe(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=KP(new Li([],{}),0,i))}),t}function a6(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function l6(n,t,e){return n==e.path&&mc(t,e.parameters)}const qb="imperative";class _c{constructor(t,e){this.id=t,this.url=e}}class ZD extends _c{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Au extends _c{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xb extends _c{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dm extends _c{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class KD extends _c{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class c6 extends _c{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dwe extends _c{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Twe extends _c{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Iwe extends _c{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Swe extends _c{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Awe{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kwe{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mwe{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rwe{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Owe{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pwe{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d6{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class QP{}class JP{constructor(t){this.url=t}}class Nwe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zb,this.attachRef=null}}let Zb=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Nwe,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class u6{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=eN(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=eN(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=tN(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return tN(t,this._root).map(e=>e.value)}}function eN(n,t){if(n===t.value)return t;for(const e of t.children){const i=eN(n,e);if(i)return i}return null}function tN(n,t){if(n===t.value)return[t];for(const e of t.children){const i=tN(n,e);if(i.length)return i.unshift(t),i}return[]}class cd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Tm(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class h6 extends u6{constructor(t,e){super(t),this.snapshot=e,nN(this,t)}toString(){return this.snapshot.toString()}}function f6(n,t){const e=function Fwe(n,t){const o=new QD([],{},{},"",{},Nn,t,null,{});return new g6("",new cd(o,[]))}(0,t),i=new W([new jb("",{})]),r=new W({}),s=new W({}),o=new W({}),c=new W(""),u=new Im(i,r,o,c,s,Nn,t,e.root);return u.snapshot=e.root,new h6(new cd(u,[]),e)}class Im{constructor(t,e,i,r,s,o,c,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ge(f=>f[Ub]))??de(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ge(t=>Cm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ge(t=>Cm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function p6(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Lwe(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class QD{get title(){return this.data?.[Ub]}constructor(t,e,i,r,s,o,c,u,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class g6 extends u6{constructor(t,e){super(e),this.url=t,nN(this,e)}toString(){return m6(this._root)}}function nN(n,t){t.value._routerState=n,t.children.forEach(e=>nN(n,e))}function m6(n){const t=n.children.length>0?` { ${n.children.map(m6).join(", ")} } `:"";return`${n.value}${t}`}function iN(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,mc(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),mc(t.params,e.params)||n.paramsSubject.next(e.params),function J0e(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!mc(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),mc(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function rN(n,t){const e=mc(n.params,t.params)&&function iwe(n,t){return cf(n,t)&&n.every((e,i)=>mc(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||rN(n.parent,t.parent))}let sN=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Nn,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=We(Zb),this.location=We(Ds),this.changeDetector=We(cr),this.environmentInjector=We(bo),this.inputBinder=We(JD,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Vwe(e,c,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[An]})}return n})();class Vwe{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Im?this.route:t===Zb?this.childContexts:this.parent.get(t,e)}}const JD=new ze("");let _6=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Ya([i.queryParams,i.params,i.data]).pipe(vt(([s,o,c],u)=>(c={...s,...o,...c},0===u?de(c):Promise.resolve(c)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function hae(n){const t=Xn(n);if(!t)return null;const e=new yv(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:c}of o.inputs)e.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function Kb(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function zwe(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Kb(n,i,r);return Kb(n,i)})}(n,t,e);return new cd(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(c=>Kb(n,c)),o}}const i=function Hwe(n){return new Im(new W(n.url),new W(n.params),new W(n.queryParams),new W(n.fragment),new W(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Kb(n,s));return new cd(i,r)}}const oN="ngNavigationCancelingError";function v6(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=df(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=y6(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function y6(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[oN]=!0,i.cancellationCode=t,e&&(i.url=e),i}function b6(n){return n&&n[oN]}let w6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ot({type:n,selectors:[["ng-component"]],standalone:!0,features:[Eo],decls:1,vars:0,template:function(i,r){1&i&&Qe(0,"router-outlet")},dependencies:[sN],encapsulation:2})}return n})();function aN(n){const t=n.children&&n.children.map(aN),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Nn&&(e.component=w6),e}function Dl(n){return n.outlet||Nn}function Qb(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Xwe{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),iN(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Tm(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Tm(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Tm(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Tm(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Pwe(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Rwe(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(iN(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),iN(c.route.value),this.activateChildRoutes(t,null,o.children)}else{const c=Qb(r.snapshot);o.attachRef=null,o.route=r,o.injector=c,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class x6{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class e1{constructor(t,e){this.component=t,this.route=e}}function Zwe(n,t,e){const i=n._root;return Jb(i,t?t._root:null,e,[i.value])}function Sm(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function tn(n){return null!==bt(n)}(n)?t.get(n):n:i}function Jb(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Tm(t);return n.children.forEach(o=>{(function Qwe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function Jwe(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!cf(n.url,t.url);case"pathParamsOrQueryParamsChange":return!cf(n.url,t.url)||!mc(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rN(n,t)||!mc(n.queryParams,t.queryParams);default:return!rN(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new x6(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Jb(n,t,s.component?c?c.children:null:e,i,r),u&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new e1(c.outlet.component,o))}else o&&e0(t,c,r),r.canActivateChecks.push(new x6(i)),Jb(n,null,s.component?c?c.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>e0(c,e.getContext(o),r)),r}function e0(n,t,e){const i=Tm(n),r=n.value;Object.entries(i).forEach(([s,o])=>{e0(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new e1(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function t0(n){return"function"==typeof n}function C6(n){return n instanceof TC||"EmptyError"===n?.name}const t1=Symbol("INITIAL_VALUE");function Am(){return vt(n=>Ya(n.map(t=>t.pipe(Kn(1),va(t1)))).pipe(Ge(t=>{for(const e of t)if(!0!==e){if(e===t1)return t1;if(!1===e||e instanceof Em)return e}return!0}),Hn(t=>t!==t1),Kn(1)))}function E6(n){return function Br(...n){return os(n)}(Nr(t=>{if(df(t))throw v6(0,t)}),Ge(t=>!0===t))}class n1{constructor(t){this.segmentGroup=t||null}}class D6{constructor(t){this.urlTree=t}}function km(n){return zb(new n1(n))}function T6(n){return zb(new D6(n))}class yxe{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new l(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return de(i);if(r.numberOfChildren>1||!r.children[Nn])return zb(new l(4e3,!1));r=r.children[Nn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Em(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const c=s.substring(1);i[r]=e[c]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(t,u,i,r)}),new Li(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new l(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const lN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bxe(n,t,e,i,r){const s=cN(n,t,e);return s.matched?(i=function jwe(n,t){return n.providers&&!n._injector&&(n._injector=KS(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function mxe(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?de(r.map(o=>{const c=Sm(o,n);return Su(function sxe(n){return n&&t0(n.canMatch)}(c)?c.canMatch(t,e):n.runInContext(()=>c(t,e)))})).pipe(Am(),E6()):de(!0)}(i,t,e).pipe(Ge(o=>!0===o?s:{...lN}))):de(s)}function cN(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...lN}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Q0e)(e,n,t);if(!r)return{...lN};const s={};Object.entries(r.posParams??{}).forEach(([c,u])=>{s[c]=u.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function I6(n,t,e,i){return e.length>0&&function Cxe(n,t,e){return e.some(i=>r1(n,t,i)&&Dl(i)!==Nn)}(n,e,i)?{segmentGroup:new Li(t,xxe(i,new Li(e,n.children))),slicedSegments:[]}:0===e.length&&function Exe(n,t,e){return e.some(i=>r1(n,t,i))}(n,e,i)?{segmentGroup:new Li(n.segments,wxe(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Li(n.segments,n.children),slicedSegments:e}}function wxe(n,t,e,i,r){const s={};for(const o of i)if(r1(n,e,o)&&!r[Dl(o)]){const c=new Li([],{});s[Dl(o)]=c}return{...r,...s}}function xxe(n,t){const e={};e[Nn]=t;for(const i of n)if(""===i.path&&Dl(i)!==Nn){const r=new Li([],{});e[Dl(i)]=r}return e}function r1(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Sxe{constructor(t,e,i,r,s,o,c){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new yxe(this.urlSerializer,this.urlTree)}noMatchError(t){return new l(4002,!1)}recognize(){const t=I6(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Nn).pipe(Iu(e=>{if(e instanceof D6)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof n1?this.noMatchError(e):e}),Ge(e=>{const i=new QD([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Nn,this.rootComponentType,null,{}),r=new cd(i,e),s=new g6("",r),o=function vwe(n,t,e=null,i=null){return i6(n6(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Nn).pipe(Iu(i=>{throw i instanceof n1?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=p6(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return $(r).pipe(xm(s=>{const o=i.children[s],c=function Ywe(n,t){const e=n.filter(i=>Dl(i)===t);return e.push(...n.filter(i=>Dl(i)!==t)),e}(e,s);return this.processSegmentGroup(t,c,o,s)}),pg((s,o)=>(s.push(...o),s)),IC(null),function Z0e(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Hn((r,s)=>n(r,s,i)):un,jD(1),e?IC(t):A3(()=>new TC))}(),In(s=>{if(null===s)return km(i);const o=S6(s);return function Axe(n){n.sort((t,e)=>t.value.outlet===Nn?-1:e.value.outlet===Nn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),de(o)}))}processSegment(t,e,i,r,s,o){return $(e).pipe(xm(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,i,r,s,o).pipe(Iu(u=>{if(u instanceof n1)return de(null);throw u}))),Yd(c=>!!c),Iu(c=>{if(C6(c))return function Txe(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?de([]):km(i);throw c}))}processSegmentAgainstRoute(t,e,i,r,s,o,c){return function Dxe(n,t,e,i){return!!(Dl(n)===i||i!==Nn&&r1(t,e,n))&&("**"===n.path||cN(t,n,e).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):km(r):km(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?T6(s):this.applyRedirects.lineralizeSegments(i,s).pipe(In(o=>{const c=new Li(o,{});return this.processSegment(t,e,c,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:c,consumedSegments:u,remainingSegments:f,positionalParamSegments:_}=cN(e,r,s);if(!c)return km(e);const w=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,_);return r.redirectTo.startsWith("/")?T6(w):this.applyRedirects.lineralizeSegments(r,w).pipe(In(T=>this.processSegment(t,i,e,T.concat(f),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let c;if("**"===i.path){const u=r.length>0?GY(r).parameters:{};c=de({snapshot:new QD(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,A6(i),Dl(i),i.component??i._loadedComponent??null,i,k6(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else c=bxe(e,i,r,t).pipe(Ge(({matched:u,consumedSegments:f,remainingSegments:_,parameters:w})=>u?{snapshot:new QD(f,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,A6(i),Dl(i),i.component??i._loadedComponent??null,i,k6(i)),consumedSegments:f,remainingSegments:_}:null));return c.pipe(vt(u=>null===u?km(e):this.getChildConfig(t=i._injector??t,i,r).pipe(vt(({routes:f})=>{const _=i._loadedInjector??t,{snapshot:w,consumedSegments:T,remainingSegments:M}=u,{segmentGroup:F,slicedSegments:V}=I6(e,T,M,f);if(0===V.length&&F.hasChildren())return this.processChildren(_,f,F).pipe(Ge(re=>null===re?null:[new cd(w,re)]));if(0===f.length&&0===V.length)return de([new cd(w,[])]);const U=Dl(i)===s;return this.processSegment(_,f,F,V,U?Nn:s,!0).pipe(Ge(re=>[new cd(w,re)]))}))))}getChildConfig(t,e,i){return e.children?de({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?de({routes:e._loadedRoutes,injector:e._loadedInjector}):function gxe(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?de(!0):de(r.map(o=>{const c=Sm(o,n);return Su(function txe(n){return n&&t0(n.canLoad)}(c)?c.canLoad(t,e):n.runInContext(()=>c(t,e)))})).pipe(Am(),E6())}(t,e,i).pipe(In(r=>r?this.configLoader.loadChildren(t,e).pipe(Nr(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function vxe(n){return zb(y6(!1,3))}())):de({routes:[],injector:t})}}function kxe(n){const t=n.value.routeConfig;return t&&""===t.path}function S6(n){const t=[],e=new Set;for(const i of n){if(!kxe(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=S6(i.children);t.push(new cd(i.value,r))}return t.filter(i=>!e.has(i))}function A6(n){return n.data||{}}function k6(n){return n.resolve||{}}function Rxe(n,t){return In(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return de(e);let s=0;return $(r).pipe(xm(o=>function Oxe(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!M6(r)&&(s[Ub]=r.title),function Pxe(n,t,e,i){const r=function Nxe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return de({});const s={};return $(r).pipe(In(o=>function Fxe(n,t,e,i){const r=Qb(t)??i,s=Sm(n,r);return Su(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(Yd(),Nr(c=>{s[o]=c}))),jD(1),function jY(n){return Ge(()=>n)}(s),Iu(o=>C6(o)?ti:zb(o)))}(s,n,t,i).pipe(Ge(o=>(n._resolvedData=o,n.data=p6(n,e).resolve,r&&M6(r)&&(n.data[Ub]=r.title),null)))}(o.route,i,n,t)),Nr(()=>s++),jD(1),In(o=>s===r.length?de(e):ti))})}function M6(n){return"string"==typeof n.title||null===n.title}function dN(n){return vt(t=>{const e=n(t);return e?$(e).pipe(Ge(()=>t)):de(t)})}const Mm=new ze("ROUTES");let uN=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=We(ZH)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return de(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Su(e.loadComponent()).pipe(Ge(R6),Nr(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Hb(()=>{this.componentLoaders.delete(e)})),r=new UY(i,()=>new fe).pipe($P());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return de({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Lxe(n,t,e,i){return Su(n.loadChildren()).pipe(Ge(R6),In(r=>r instanceof iH||Array.isArray(r)?de(r):$(t.compileModuleAsync(r))),Ge(r=>{i&&i(n);let s,o,c=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(Mm,[],{optional:!0,self:!0}).flat()),{routes:o.map(aN),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Hb(()=>{this.childrenLoaders.delete(i)})),o=new UY(s,()=>new fe).pipe($P());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R6(n){return function Vxe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let s1=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fe,this.transitionAbortSubject=new fe,this.configLoader=We(uN),this.environmentInjector=We(bo),this.urlSerializer=We(Wb),this.rootContexts=We(Zb),this.inputBindingEnabled=null!==We(JD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>de(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new kwe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Awe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new W({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qb,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hn(s=>0!==s.id),Ge(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),vt(s=>{this.currentTransition=s;let o=!1,c=!1;return de(s).pipe(Nr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vt(u=>{const f=u.currentBrowserUrl.toString(),_=!e.navigated||u.extractedUrl.toString()!==f||f!==u.currentUrlTree.toString();if(!_&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const T="";return this.events.next(new Dm(u.id,this.urlSerializer.serialize(u.rawUrl),T,0)),u.resolve(null),ti}if(e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return de(u).pipe(vt(T=>{const M=this.transitions?.getValue();return this.events.next(new ZD(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),M!==this.transitions?.getValue()?ti:Promise.resolve(T)}),function Mxe(n,t,e,i,r,s){return In(o=>function Ixe(n,t,e,i,r,s,o="emptyOnly"){return new Sxe(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe(Ge(({state:c,tree:u})=>({...o,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Nr(T=>{s.targetSnapshot=T.targetSnapshot,s.urlAfterRedirects=T.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects};const M=new c6(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(M)}));if(_&&e.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:T,extractedUrl:M,source:F,restoredState:V,extras:U}=u,re=new ZD(T,this.urlSerializer.serialize(M),F,V);this.events.next(re);const ee=f6(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:ee,urlAfterRedirects:M,extras:{...U,skipLocationChange:!1,replaceUrl:!1}},de(s)}{const T="";return this.events.next(new Dm(u.id,this.urlSerializer.serialize(u.extractedUrl),T,1)),u.resolve(null),ti}}),Nr(u=>{const f=new Dwe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),Ge(u=>(this.currentTransition=s={...u,guards:Zwe(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function axe(n,t){return In(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?de({...e,guardsResult:!0}):function lxe(n,t,e,i){return $(n).pipe(In(r=>function pxe(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?de(s.map(c=>{const u=Qb(t)??r,f=Sm(c,u);return Su(function rxe(n){return n&&t0(n.canDeactivate)}(f)?f.canDeactivate(n,t,e,i):u.runInContext(()=>f(n,t,e,i))).pipe(Yd())})).pipe(Am()):de(!0)}(r.component,r.route,e,t,i)),Yd(r=>!0!==r,!0))}(o,i,r,n).pipe(In(c=>c&&function exe(n){return"boolean"==typeof n}(c)?function cxe(n,t,e,i){return $(t).pipe(xm(r=>Ig(function uxe(n,t){return null!==n&&t&&t(new Mwe(n)),de(!0)}(r.route.parent,i),function dxe(n,t){return null!==n&&t&&t(new Owe(n)),de(!0)}(r.route,i),function fxe(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function Kwe(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>GP(()=>de(o.guards.map(u=>{const f=Qb(o.node)??e,_=Sm(u,f);return Su(function ixe(n){return n&&t0(n.canActivateChild)}(_)?_.canActivateChild(i,n):f.runInContext(()=>_(i,n))).pipe(Yd())})).pipe(Am())));return de(s).pipe(Am())}(n,r.path,e),function hxe(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return de(!0);const r=i.map(s=>GP(()=>{const o=Qb(t)??e,c=Sm(s,o);return Su(function nxe(n){return n&&t0(n.canActivate)}(c)?c.canActivate(t,n):o.runInContext(()=>c(t,n))).pipe(Yd())}));return de(r).pipe(Am())}(n,r.route,e))),Yd(r=>!0!==r,!0))}(i,s,n,t):de(c)),Ge(c=>({...e,guardsResult:c})))})}(this.environmentInjector,u=>this.events.next(u)),Nr(u=>{if(s.guardsResult=u.guardsResult,df(u.guardsResult))throw v6(0,u.guardsResult);const f=new Twe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),Hn(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),dN(u=>{if(u.guards.canActivateChecks.length)return de(u).pipe(Nr(f=>{const _=new Iwe(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),vt(f=>{let _=!1;return de(f).pipe(Rxe(e.paramsInheritanceStrategy,this.environmentInjector),Nr({next:()=>_=!0,complete:()=>{_||this.cancelNavigationTransition(f,"",2)}}))}),Nr(f=>{const _=new Swe(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),dN(u=>{const f=_=>{const w=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(_.routeConfig).pipe(Nr(T=>{_.component=T}),Ge(()=>{})));for(const T of _.children)w.push(...f(T));return w};return Ya(f(u.targetSnapshot.root)).pipe(IC(),Kn(1))}),dN(()=>this.afterPreactivation()),Ge(u=>{const f=function Bwe(n,t,e){const i=Kb(n,t._root,e?e._root:void 0);return new h6(i,t)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:f},s}),Nr(()=>{this.events.next(new QP)}),((n,t,e,i)=>Ge(r=>(new Xwe(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Kn(1),Nr({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Au(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),$t(this.transitionAbortSubject.pipe(Nr(u=>{throw u}))),Hb(()=>{o||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Iu(u=>{if(c=!0,b6(u))this.events.next(new Xb(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function Uwe(n){return b6(n)&&df(n.url)}(u)?this.events.next(new JP(u.url)):s.resolve(!1);else{this.events.next(new KD(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(u))}catch(f){s.reject(f)}}return ti}))}))}cancelNavigationTransition(e,i,r){const s=new Xb(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function O6(n){return n!==qb}let P6=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Nn);return i}getResolvedTitleForRoute(e){return e.data[Ub]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return We(Bxe)},providedIn:"root"})}return n})(),Bxe=(()=>{class n extends P6{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(v3))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zxe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return We(Uxe)},providedIn:"root"})}return n})();class Hxe{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Uxe=(()=>{class n extends Hxe{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ki(n)))(r||n)}}();static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const o1=new ze("",{providedIn:"root",factory:()=>({})});let jxe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return We(Wxe)},providedIn:"root"})}return n})(),Wxe=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var n0=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(n0||{});function N6(n,t){n.events.pipe(Hn(e=>e instanceof Au||e instanceof Xb||e instanceof KD||e instanceof Dm),Ge(e=>e instanceof Au||e instanceof Dm?n0.COMPLETE:e instanceof Xb&&(0===e.code||1===e.code)?n0.REDIRECTING:n0.FAILED),Hn(e=>e!==n0.REDIRECTING),Kn(1)).subscribe(()=>{t()})}function Gxe(n){throw n}function $xe(n,t,e){return t.parse("/")}const Yxe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qxe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=We(XH),this.isNgZoneEnabled=!1,this._events=new fe,this.options=We(o1,{optional:!0})||{},this.pendingTasks=We(Zx),this.errorHandler=this.options.errorHandler||Gxe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$xe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=We(jxe),this.routeReuseStrategy=We(zxe),this.titleStrategy=We(P6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=We(Mm,{optional:!0})?.flat()??[],this.navigationTransitions=We(s1),this.urlSerializer=We(Wb),this.location=We(rC),this.componentInputBindingEnabled=!!We(JD,{optional:!0}),this.eventsSubscription=new He,this.isNgZoneEnabled=We(ct)instanceof ct&&ct.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Em,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=f6(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(F6(i)&&this._events.next(i));if(i instanceof ZD)O6(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Dm)this.rawUrlTree=r.rawUrl;else if(i instanceof c6){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof QP)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Xb)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof JP){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||O6(r.source)};this.scheduleNavigation(s,qb,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof KD&&this.restoreHistory(r,!0),i instanceof Au&&(this.navigated=!0),F6(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qb,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const u={...r};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const c=this.parseUrl(e);this.scheduleNavigation(c,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(aN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=i,f=u?this.currentUrlTree.fragment:o;let w,_=null;switch(c){case"merge":_={...this.currentUrlTree.queryParams,...s};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=s||null}null!==_&&(_=this.removeEmptyProps(_));try{w=n6(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),w=this.currentUrlTree.root}return i6(w,e,_,f??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=df(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,qb,null,i)}navigate(e,i={skipLocationChange:!1}){return function Xxe(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new l(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Yxe}:!1===i?{...qxe}:i,df(e))return YY(this.currentUrlTree,e,r);const s=this.parseUrl(e);return YY(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,f;o?(c=o.resolve,u=o.reject,f=o.promise):f=new Promise((w,T)=>{c=w,u=T});const _=this.pendingTasks.add();return N6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:c,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(w=>Promise.reject(w))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F6(n){return!(n instanceof QP||n instanceof JP)}let r0=(()=>{class n{constructor(e,i,r,s,o,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=e.events.subscribe(f=>{f instanceof Au&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function fV(n,t,e){return function Wee(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?hV:Pp}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(H(rs),H(Im),zc("tabindex"),H(jr),H(Ht),H(wh))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&$e("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&Pt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",og],skipLocationChange:["skipLocationChange","skipLocationChange",og],replaceUrl:["replaceUrl","replaceUrl",og],routerLink:"routerLink"},standalone:!0,features:[EB,An]})}return n})(),L6=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,s,o){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Le,this.routerEventsSubscription=e.events.subscribe(c=>{c instanceof Au&&this.update()})}ngAfterContentInit(){de(this.links.changes,de(null)).pipe(Yn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=$(e).pipe(Yn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Zxe(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(H(rs),H(Ht),H(jr),H(cr),H(r0,8))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(1&i&&si(s,r0,5),2&i){let o;Ut(o=jt())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[An]})}return n})();class V6{}let Kxe=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Hn(e=>e instanceof Au),xm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=KS(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(c,s.children??s._loadedRoutes))}return $(r).pipe(Yn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):de(null);const s=r.pipe(In(o=>null===o?de(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?$([s,this.loader.loadComponent(i)]).pipe(Yn()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(ue(rs),ue(ZH),ue(bo),ue(V6),ue(uN))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hN=new ze("");let B6=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ZD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Au?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Dm&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof d6&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new d6(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){gv()};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function dd(n,t){return{\u0275kind:n,\u0275providers:t}}function H6(){const n=We(Ir);return t=>{const e=n.get(Ba);if(t!==e.components[0])return;const i=n.get(rs),r=n.get(U6);1===n.get(fN)&&i.initialNavigation(),n.get(j6,null,pn.Optional)?.setUpPreloading(),n.get(hN,null,pn.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const U6=new ze("",{factory:()=>new fe}),fN=new ze("",{providedIn:"root",factory:()=>1}),j6=new ze("");function tCe(n){return dd(0,[{provide:j6,useExisting:Kxe},{provide:V6,useExisting:n}])}const W6=new ze("ROUTER_FORROOT_GUARD"),iCe=[rC,{provide:Wb,useClass:YP},rs,Zb,{provide:Im,useFactory:function z6(n){return n.routerState.root},deps:[rs]},uN,[]];function rCe(){return new iU("Router",rs)}let G6=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[iCe,[],{provide:Mm,multi:!0,useValue:e},{provide:W6,useFactory:lCe,deps:[[rs,new Vd,new dh]]},{provide:o1,useValue:i||{}},i?.useHash?{provide:wh,useClass:_ae}:{provide:wh,useClass:OU},{provide:hN,useFactory:()=>{const n=We(Sle),t=We(ct),e=We(o1),i=We(s1),r=We(Wb);return e.scrollOffset&&n.setOffset(e.scrollOffset),new B6(r,i,n,t,e)}},i?.preloadingStrategy?tCe(i.preloadingStrategy).\u0275providers:[],{provide:iU,multi:!0,useFactory:rCe},i?.initialNavigation?cCe(i):[],i?.bindToComponentInputs?dd(8,[_6,{provide:JD,useExisting:_6}]).\u0275providers:[],[{provide:$6,useFactory:H6},{provide:bA,multi:!0,useExisting:$6}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Mm,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(ue(W6,8))};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})();function lCe(n){return"guarded"}function cCe(n){return["disabled"===n.initialNavigation?dd(3,[{provide:hA,multi:!0,useFactory:()=>{const t=We(rs);return()=>{t.setUpLocationChangeListener()}}},{provide:fN,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?dd(2,[{provide:fN,useValue:0},{provide:hA,multi:!0,deps:[Ir],useFactory:t=>{const e=t.get(gae,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(rs),s=t.get(U6);N6(r,()=>{i(!0)}),t.get(s1).afterPreactivation=()=>(i(!0),s.closed?de(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const $6=new ze("");function a1(...n){const t=bs(n),{args:e,keys:i}=BY(n),r=new zt(s=>{const{length:o}=e;if(!o)return void s.complete();const c=new Array(o);let u=o,f=o;for(let _=0;_<o;_++){let w=!1;nt(e[_]).subscribe(ot(s,T=>{w||(w=!0,f--),c[_]=T},()=>u--,void 0,()=>{(!u||!w)&&(f||s.next(i?zY(i,c):c),s.complete())}))}});return t?r.pipe(WP(t)):r}let Y6=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(H(jr),H(Ht))};static#t=this.\u0275dir=Ue({type:n})}return n})(),uf=(()=>{class n extends Y6{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ki(n)))(r||n)}}();static#t=this.\u0275dir=Ue({type:n,features:[xn]})}return n})();const Ca=new ze("NgValueAccessor"),hCe={provide:Ca,useExisting:Ee(()=>hf),multi:!0},pCe=new ze("CompositionEventMode");let hf=(()=>{class n extends Y6{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fCe(){const n=Wd()?Wd().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(H(jr),H(Ht),H(pCe,8))};static#t=this.\u0275dir=Ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&$e("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[li([hCe]),xn]})}return n})();function ku(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function X6(n){return null!=n&&"number"==typeof n.length}const Ps=new ze("NgValidators"),Mu=new ze("NgAsyncValidators"),gCe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wr{static min(t){return function Z6(n){return t=>{if(ku(t.value)||ku(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function K6(n){return t=>{if(ku(t.value)||ku(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Q6(t)}static requiredTrue(t){return function J6(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function e9(n){return ku(n.value)||gCe.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function t9(n){return t=>ku(t.value)||!X6(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function n9(n){return t=>X6(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function i9(n){if(!n)return l1;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ku(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return c9(t)}static composeAsync(t){return d9(t)}}function Q6(n){return ku(n.value)?{required:!0}:null}function l1(n){return null}function r9(n){return null!=n}function s9(n){return Iv(n)?$(n):n}function o9(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function a9(n,t){return t.map(e=>e(n))}function l9(n){return n.map(t=>function mCe(n){return!n.validate}(t)?t:e=>t.validate(e))}function c9(n){if(!n)return null;const t=n.filter(r9);return 0==t.length?null:function(e){return o9(a9(e,t))}}function pN(n){return null!=n?c9(l9(n)):null}function d9(n){if(!n)return null;const t=n.filter(r9);return 0==t.length?null:function(e){return a1(a9(e,t).map(s9)).pipe(Ge(o9))}}function gN(n){return null!=n?d9(l9(n)):null}function u9(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function h9(n){return n._rawValidators}function f9(n){return n._rawAsyncValidators}function mN(n){return n?Array.isArray(n)?n:[n]:[]}function c1(n,t){return Array.isArray(n)?n.includes(t):n===t}function p9(n,t){const e=mN(t);return mN(n).forEach(r=>{c1(e,r)||e.push(r)}),e}function g9(n,t){return mN(t).filter(e=>!c1(n,e))}class m9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=pN(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class No extends m9{get formDirective(){return null}get path(){return null}}class vc extends m9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _9{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let s0=(()=>{class n extends _9{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(H(vc,2))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Vt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[xn]})}return n})(),o0=(()=>{class n extends _9{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(H(No,10))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Vt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[xn]})}return n})();const a0="VALID",u1="INVALID",Rm="PENDING",l0="DISABLED";function yN(n){return(h1(n)?n.validators:n)||null}function bN(n,t){return(h1(t)?t.asyncValidators:n)||null}function h1(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function y9(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new l(1e3,"");if(!i[e])throw new l(1001,"")}function b9(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new l(1002,"")})}class f1{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===a0}get invalid(){return this.status===u1}get pending(){return this.status==Rm}get disabled(){return this.status===l0}get enabled(){return this.status!==l0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(p9(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(p9(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(g9(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(g9(t,this._rawAsyncValidators))}hasValidator(t){return c1(this._rawValidators,t)}hasAsyncValidator(t){return c1(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Rm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=l0,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=a0,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===a0||this.status===Rm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?l0:a0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Rm,this._hasOwnPendingAsyncValidator=!0;const e=s9(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?l0:this.errors?u1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rm)?Rm:this._anyControlsHaveStatus(u1)?u1:a0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){h1(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function bCe(n){return Array.isArray(n)?pN(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function wCe(n){return Array.isArray(n)?gN(n):n||null}(this._rawAsyncValidators)}}class c0 extends f1{constructor(t,e,i){super(yN(e),bN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){b9(this,0,t),Object.keys(t).forEach(i=>{y9(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class w9 extends c0{}const ff=new ze("CallSetDisabledState",{providedIn:"root",factory:()=>d0}),d0="always";function u0(n,t,e=d0){wN(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function CCe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&x9(n,t)})}(n,t),function DCe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function ECe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&x9(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function xCe(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function g1(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),_1(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function m1(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function wN(n,t){const e=h9(n);null!==t.validator?n.setValidators(u9(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=f9(n);null!==t.asyncValidator?n.setAsyncValidators(u9(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();m1(t._rawValidators,r),m1(t._rawAsyncValidators,r)}function _1(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=h9(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=f9(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return m1(t._rawValidators,i),m1(t._rawAsyncValidators,i),e}function x9(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function C9(n,t){wN(n,t)}function E9(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const kCe={provide:No,useExisting:Ee(()=>f0)},h0=(()=>Promise.resolve())();let f0=(()=>{class n extends No{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Le,this.form=new c0({},pN(e),gN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){h0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),u0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){h0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){h0.then(()=>{const i=this._findContainer(e.path),r=new c0({});C9(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){h0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){h0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,E9(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ps,10),H(Mu,10),H(ff,8))};static#t=this.\u0275dir=Ue({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&$e("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[li([kCe]),xn]})}return n})();function D9(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function T9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const p0=class extends f1{constructor(t=null,e,i){super(yN(e),bN(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),h1(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=T9(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){D9(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){D9(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){T9(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let g0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),R9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})();const DN=new ze("NgModelWithFormControlWarning"),BCe={provide:No,useExisting:Ee(()=>ud)};let ud=(()=>{class n extends No{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Le,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return u0(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){g1(e.control||null,e,!1),function ACe(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,E9(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(g1(i||null,e),(n=>n instanceof p0)(r)&&(u0(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);C9(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function TCe(n,t){return _1(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wN(this.form,this),this._oldForm&&_1(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ps,10),H(Mu,10),H(ff,8))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&$e("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[li([BCe]),xn,An]})}return n})();const UCe={provide:vc,useExisting:Ee(()=>Om)};let Om=(()=>{class n extends vc{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Le,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function EN(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===hf?e=s:function SCe(n){return Object.getPrototypeOf(n.constructor)===uf}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){this._added||this._setUpControl(),function CN(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function p1(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(H(No,13),H(Ps,10),H(Mu,10),H(Ca,10),H(DN,8))};static#n=this.\u0275dir=Ue({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[li([UCe]),xn,An]})}return n})(),pf=(()=>{class n{constructor(){this._validator=l1}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):l1,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ue({type:n,features:[An]})}return n})();const KCe={provide:Ps,useExisting:Ee(()=>m0),multi:!0};let m0=(()=>{class n extends pf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=og,this.createValidator=e=>Q6}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ki(n)))(r||n)}}();static#t=this.\u0275dir=Ue({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Pt("required",r._enabled?"":null)},inputs:{required:"required"},features:[li([KCe]),xn]})}return n})(),q9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[R9]})}return n})();class X9 extends f1{constructor(t,e,i){super(yN(e),bN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){b9(this,0,t),t.forEach((i,r)=>{y9(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Z9(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let v1=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return Z9(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new c0(r,s)}record(e,i=null){const r=this._reduceControls(e);return new w9(r,i)}control(e,i,r){let s={};return this.useNonNullable?(Z9(i)?s=i:(s.validators=i,s.asyncValidators=r),new p0(e,{...s,nonNullable:!0})):new p0(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new X9(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof p0||e instanceof f1?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iEe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ff,useValue:e.callSetDisabledState??d0}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[q9]})}return n})(),rEe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:DN,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:ff,useValue:e.callSetDisabledState??d0}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[q9]})}return n})();var K9=Yt(215);class y1{}class b1{}class yc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof yc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new yc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof yc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(c=>-1===s.indexOf(c)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class sEe{encodeKey(t){return Q9(t)}encodeValue(t){return Q9(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const aEe=/%(\d[a-f0-9])/gi,lEe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Q9(n){return encodeURIComponent(n).replace(aEe,(t,e)=>lEe[e]??t)}function w1(n){return`${n}`}class Ru{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new sEe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function oEe(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,c]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],u=e.get(o)||[];u.push(c),e.set(o,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(w1):[w1(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ru({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(w1(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(w1(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class cEe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function J9(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function eq(n){return typeof Blob<"u"&&n instanceof Blob}function tq(n){return typeof FormData<"u"&&n instanceof FormData}class _0{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function dEe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new yc),this.context||(this.context=new cEe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+o}}else this.params=new Ru,this.urlWithParams=e}serializeBody(){return null===this.body?null:J9(this.body)||eq(this.body)||tq(this.body)||function uEe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ru?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tq(this.body)?null:eq(this.body)?this.body.type||null:J9(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ru?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,f=t.params||this.params;const _=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((w,T)=>w.set(T,t.setHeaders[T]),u)),t.setParams&&(f=Object.keys(t.setParams).reduce((w,T)=>w.set(T,t.setParams[T]),f)),new _0(e,i,s,{params:f,headers:u,context:_,reportProgress:c,responseType:r,withCredentials:o})}}var Pm=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Pm||{});class kN{constructor(t,e=200,i="OK"){this.headers=t.headers||new yc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class MN extends kN{constructor(t={}){super(t),this.type=Pm.ResponseHeader}clone(t={}){return new MN({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Nm extends kN{constructor(t={}){super(t),this.type=Pm.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Nm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class nq extends kN{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function RN(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let x1=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof _0)s=e;else{let u,f;u=r.headers instanceof yc?r.headers:new yc(r.headers),r.params&&(f=r.params instanceof Ru?r.params:new Ru({fromObject:r.params})),s=new _0(e,i,void 0!==r.body?r.body:null,{headers:u,context:r.context,params:f,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=de(s).pipe(xm(u=>this.handler.handle(u)));if(e instanceof _0||"events"===r.observe)return o;const c=o.pipe(Hn(u=>u instanceof Nm));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Ge(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(Ge(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(Ge(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return c.pipe(Ge(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ru).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,RN(r,i))}post(e,i,r={}){return this.request("POST",e,RN(r,i))}put(e,i,r={}){return this.request("PUT",e,RN(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(ue(y1))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function sq(n,t){return t(n)}function fEe(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const gEe=new ze(""),v0=new ze(""),oq=new ze("");function mEe(){let n=null;return(t,e)=>{null===n&&(n=(We(gEe,{optional:!0})??[]).reduceRight(fEe,sq));const i=We(Zx),r=i.add();return n(t,e).pipe(Hb(()=>i.remove(r)))}}let aq=(()=>{class n extends y1{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=We(Zx)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(v0),...this.injector.get(oq,[])]));this.chain=r.reduceRight((s,o)=>function pEe(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,o,this.injector),sq)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Hb(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(ue(b1),ue(bo))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const bEe=/^\)\]\}',?\n/;let cq=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new l(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?$(i.\u0275loadImpl()):de(null)).pipe(vt(()=>new zt(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((V,U)=>o.setRequestHeader(V,U.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const V=e.detectContentTypeHeader();null!==V&&o.setRequestHeader("Content-Type",V)}if(e.responseType){const V=e.responseType.toLowerCase();o.responseType="json"!==V?V:"text"}const c=e.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const V=o.statusText||"OK",U=new yc(o.getAllResponseHeaders()),re=function wEe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return u=new MN({headers:U,status:o.status,statusText:V,url:re}),u},_=()=>{let{headers:V,status:U,statusText:re,url:ee}=f(),ae=null;204!==U&&(ae=typeof o.response>"u"?o.responseText:o.response),0===U&&(U=ae?200:0);let ge=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof ae){const Te=ae;ae=ae.replace(bEe,"");try{ae=""!==ae?JSON.parse(ae):null}catch(qe){ae=Te,ge&&(ge=!1,ae={error:qe,text:ae})}}ge?(s.next(new Nm({body:ae,headers:V,status:U,statusText:re,url:ee||void 0})),s.complete()):s.error(new nq({error:ae,headers:V,status:U,statusText:re,url:ee||void 0}))},w=V=>{const{url:U}=f(),re=new nq({error:V,status:o.status||0,statusText:o.statusText||"Unknown Error",url:U||void 0});s.error(re)};let T=!1;const M=V=>{T||(s.next(f()),T=!0);let U={type:Pm.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),"text"===e.responseType&&o.responseText&&(U.partialText=o.responseText),s.next(U)},F=V=>{let U={type:Pm.UploadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),s.next(U)};return o.addEventListener("load",_),o.addEventListener("error",w),o.addEventListener("timeout",w),o.addEventListener("abort",w),e.reportProgress&&(o.addEventListener("progress",M),null!==c&&o.upload&&o.upload.addEventListener("progress",F)),o.send(c),s.next({type:Pm.Sent}),()=>{o.removeEventListener("error",w),o.removeEventListener("abort",w),o.removeEventListener("load",_),o.removeEventListener("timeout",w),e.reportProgress&&(o.removeEventListener("progress",M),null!==c&&o.upload&&o.upload.removeEventListener("progress",F)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(ue(e3))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const ON=new ze("XSRF_ENABLED"),dq=new ze("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),uq=new ze("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class hq{}let EEe=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=WU(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(ue(an),ue(wo),ue(dq))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function DEe(n,t){const e=n.url.toLowerCase();if(!We(ON)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=We(hq).getToken(),r=We(uq);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Ou=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Ou||{});function TEe(...n){const t=[x1,cq,aq,{provide:y1,useExisting:aq},{provide:b1,useExisting:cq},{provide:v0,useValue:DEe,multi:!0},{provide:ON,useValue:!0},{provide:hq,useClass:EEe}];for(const e of n)t.push(...e.\u0275providers);return Yl(t)}const fq=new ze("LEGACY_INTERCEPTOR_FN");function IEe(){return function gf(n,t){return{\u0275kind:n,\u0275providers:t}}(Ou.LegacyInterceptors,[{provide:fq,useFactory:mEe},{provide:v0,useExisting:fq,multi:!0}])}let SEe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({providers:[TEe(IEe())]})}return n})(),bc=(()=>{class n{constructor(){this.loggedIn=new W(!1)}get isLoggedIn(){return this.loggedIn.asObservable()}isLoggedNext(e){return this.loggedIn.next(e)}SessionAddStorage(e,i){sessionStorage.setItem(e,JSON.stringify(i))}SessionGetStorage(e){const i=sessionStorage.getItem(e);return JSON.parse(i)}SessionRemove(e){sessionStorage.removeItem(e),sessionStorage.clear()}SessionClear(){sessionStorage.clear()}LocalAddStorage(e,i){localStorage.setItem(e,JSON.stringify(i))}LocalGetStorage(e){const i=localStorage.getItem(e);return JSON.parse(i)}LocalRemove(e){localStorage.removeItem(e)}LocalClear(){localStorage.clear()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class pq{}class PEe{}const hd="*";function mf(n,t){return{type:7,name:n,definitions:t,options:{}}}function Tl(n,t=null){return{type:4,styles:t,timings:n}}function gq(n,t=null){return{type:2,steps:n,options:t}}function _s(n){return{type:6,styles:n,offset:null}}function fd(n,t,e){return{type:0,name:n,styles:t,options:e}}function mq(n){return{type:5,steps:n}}function qa(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function NEe(n=null){return{type:9,options:n}}function FEe(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class y0{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class _q{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,c)=>Math.max(o,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const vq=["toast-component",""];function LEe(n,t){if(1&n){const e=On();Q(0,"button",5),$e("click",function(){return pt(e),ft(be().remove())}),Q(1,"span",6),Se(2,"\xd7"),ne()()}}function VEe(n,t){if(1&n&&(Dv(0),Se(1),Tv()),2&n){const e=be(2);J(1),Cn("[",e.duplicatesCount+1,"]")}}function BEe(n,t){if(1&n&&(Q(0,"div"),Se(1),xe(2,VEe,2,1,"ng-container",4),ne()),2&n){const e=be();xo(e.options.titleClass),Pt("aria-label",e.title),J(1),Cn(" ",e.title," "),J(1),se("ngIf",e.duplicatesCount)}}function zEe(n,t){if(1&n&&Qe(0,"div",7),2&n){const e=be();xo(e.options.messageClass),se("innerHTML",e.message,fh)}}function HEe(n,t){if(1&n&&(Q(0,"div",8),Se(1),ne()),2&n){const e=be();xo(e.options.messageClass),Pt("aria-label",e.message),J(1),Cn(" ",e.message," ")}}function UEe(n,t){if(1&n&&(Q(0,"div"),Qe(1,"div",9),ne()),2&n){const e=be();J(1),Es("width",e.width+"%")}}class XEe{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ZEe{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class KEe{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new fe;_activate=new fe;_manualClose=new fe;_resetTimeout=new fe;_countDuplicate=new fe;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class E1{toastId;config;message;title;toastType;toastRef;_onTap=new fe;_onAction=new fe;constructor(t,e,i,r,s,o){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const bq=new ze("ToastConfig");class QEe extends ZEe{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){const i=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let JEe=(()=>{class n{_document=We(an);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class eDe{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let tDe=(()=>{class n{_overlayContainer=We(JEe);_componentFactoryResolver=We(zd);_appRef=We(Ba);_document=We(an);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new QEe(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new eDe(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b0=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,i,r={},s=""){return this._preBuildNotification(s,e,i,this.applyConfig(r))}success(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(r))}error(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(r))}info(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(r))}warning(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(r))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const c of this.toasts)if((!o||o&&c.title===e)&&c.message===i)return c.toastRef.onDuplicate(r,s),c;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,s)):this._buildNotification(e,i,r,s)}_buildNotification(e,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=i;let c=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(c=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let f=i;i&&s.enableHtml&&(f=this.sanitizer.sanitize(ca.HTML,i));const _=new KEe(u),w=new E1(this.index,s,f,r,e,_),M=Ir.create({providers:[{provide:E1,useValue:w}],parent:this._injector}),F=new XEe(s.toastComponent,M),V=u.attach(F,s.newestOnTop);_.componentInstance=V.instance;const U={toastId:this.index,title:r||"",message:i||"",toastRef:_,onShown:_.afterActivate(),onHidden:_.afterClosed(),onTap:w.onTap(),onAction:w.onAction(),portal:V};return c||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{U.toastRef.activate()})),this.toasts.push(U),U}static \u0275fac=function(i){return new(i||n)(ue(bq),ue(tDe),ue(Ir),ue(w3),ue(ct))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const nDe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||n)(H(b0),H(E1),H(ct))};static \u0275cmp=Ot({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){1&i&&$e("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&i&&(Ux("@flyInOut",r.state),xo(r.toastClasses),Es("display",r.displayStyle))},standalone:!0,features:[Eo],attrs:vq,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){1&i&&(xe(0,LEe,3,0,"button",0),xe(1,BEe,3,5,"div",1),xe(2,zEe,1,3,"div",2),xe(3,HEe,2,4,"div",3),xe(4,UEe,2,2,"div",4)),2&i&&(se("ngIf",r.options.closeButton),J(1),se("ngIf",r.title),J(1),se("ngIf",r.message&&r.options.enableHtml),J(1),se("ngIf",r.message&&!r.options.enableHtml),J(1),se("ngIf",r.options.progressBar))},dependencies:[dr],encapsulation:2,data:{animation:[mf("flyInOut",[fd("inactive",_s({opacity:0})),fd("active",_s({opacity:1})),fd("removed",_s({opacity:0})),qa("inactive => active",Tl("{{ easeTime }}ms {{ easing }}")),qa("active => removed",Tl("{{ easeTime }}ms {{ easing }}"))])]}})}return n})()},iDe=(n={})=>Yl([{provide:bq,useValue:{default:nDe,config:n}}]);let NN,wq=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[iDe(e)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=At({type:n});static \u0275inj=Ie({})}return n})(),Pu=(()=>{class n{constructor(e,i,r,s){this.http=e,this.storageService=i,this.afAuth=r,this.toastr=s,this.apiUrl="https://petguardian-api.uc.r.appspot.com/",this.petsArray=[]}GoogleAuth(){return this.AuthLogin(new K9.W)}AuthLogin(e){return this.afAuth.signInWithPopup(e).then(i=>{console.log("You have been successfully logged in!")}).catch(i=>{console.log(i)})}getAppointments(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"client/findAppointments/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClientAppointments(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"client/findAppointments/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClients(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"vet/findClients/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getSingleClient(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/client/find/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClientPets(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/client/findPets/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}postClientPets(e){const i={birth:"",breed:"",weight:{},health_info:{cardiac_freq:{},vaccines:[],observations:"",steps:{}},height:0,name:"",type:"",vet_id:"",client_id:"",profile_image:"",id:"",...e};return new Promise((r,s)=>{this.http.post(this.apiUrl+"pet/create",i,{responseType:"text"}).subscribe({next:o=>{e.profile_image="/assets/img/logo_default.svg",this.petsArray.push(e),this.toastr.success("Register completed","Congratulations!")},error:o=>{console.error("There was an error!",o),this.toastr.error("Error registering pet","Error")}})})}getPet(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/pet/find/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}addUser(e){const i={"content-type":"application/json",responseType:"json"};return new Promise((r,s)=>{this.http.post(this.apiUrl+"client/create/"+e.id,e,{headers:i}).subscribe(o=>{r(o)},o=>{200==o.status&&r(e),s(o)})})}googleReg(e,i,r,s){return new Promise((o,c)=>{this.getSingleClient(e).then(u=>{if(null==u){var f={id:e,name:s,address:{latitude:"0.0",longitude:"0.0"},email:i,phone:Number(r),surnames:""};this.addUser(f).then(_=>{console.log(),o(f.id)}).catch(_=>{})}o(u.id)}).catch(u=>{c(u)})})}getAllPets(){return new Promise((e,i)=>{this.http.get(this.apiUrl+"/pet/all").subscribe(r=>{e(r)},r=>{i(r)})})}static#e=this.\u0275fac=function(i){return new(i||n)(ue(x1),ue(bc),ue(qc),ue(b0))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{NN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{NN=!1}let Fm,vs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?qA(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!NN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(ue(wo))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const xq=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Cq(){if(Fm)return Fm;if("object"!=typeof document||!document)return Fm=new Set(xq),Fm;let n=document.createElement("input");return Fm=new Set(xq.filter(t=>(n.setAttribute("type",t),n.type===t))),Fm}let w0,_f,FN;function Nu(n){return function rDe(){if(null==w0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>w0=!0}))}finally{w0=w0||!1}return w0}()?n:!!n.capture}function sDe(){if(null==_f){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return _f=!1,_f;if("scrollBehavior"in document.documentElement.style)_f=!0;else{const n=Element.prototype.scrollTo;_f=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return _f}function Eq(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Fu(n){return n.composedPath?n.composedPath()[0]:n.target}function LN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Il(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function BN(n){return Hn((t,e)=>n<=e)}function or(n){return null!=n&&"false"!=`${n}`}function E0(n,t=0){return function _De(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function S1(n){return Array.isArray(n)?n:[n]}function ss(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Bu(n){return n instanceof Ht?n.nativeElement:n}let yDe=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({providers:[yDe]})}return n})();const Iq=new Set;let vf,bDe=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xDe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function wDe(n,t){if(!Iq.has(n))try{vf||(vf=document.createElement("style"),t&&(vf.nonce=t),vf.setAttribute("type","text/css"),document.head.appendChild(vf)),vf.sheet&&(vf.sheet.insertRule(`@media ${n} {body{ }}`,0),Iq.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(vs),ue(nS,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xDe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let CDe=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new fe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Sq(S1(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Ya(Sq(S1(e)).map(o=>this._registerQuery(o).observable));return s=Ig(s.pipe(Kn(1)),s.pipe(BN(1),kP(0))),s.pipe(Ge(o=>{const c={matches:!1,breakpoints:{}};return o.forEach(({matches:u,query:f})=>{c.matches=c.matches||u,c.breakpoints[f]=u}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new zt(o=>{const c=u=>this._zone.run(()=>o.next(u));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(va(i),Ge(({matches:o})=>({query:e,matches:o})),$t(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(ue(bDe),ue(ct))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sq(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function kq(n,t,e){const r=Mq(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function Mq(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}class IDe{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new fe,this._typeaheadSubscription=He.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new fe,this.change=new fe,t instanceof Lv&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Nr(e=>this._pressedLetters.push(e)),kP(t),Hn(()=>this._pressedLetters.length>0),Ge(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||Il(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Lv?this._items.toArray():this._items}}class SDe extends IDe{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let ADe=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function MDe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function kDe(n){try{return n.frameElement}catch{return null}}(function BDe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Oq(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=Oq(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function LDe(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function VDe(n){return!function ODe(n){return function NDe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function RDe(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function PDe(n){return function FDe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Rq(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(ue(vs))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rq(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Oq(n){if(!Rq(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class zDe{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Kn(1)).subscribe(t)}}let HDe=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new zDe(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(ADe),ue(ct),ue(an))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UDe=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=or(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=or(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Eq(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(HDe),H(an))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[An]})}return n})();function Pq(n){return 0===n.buttons||0===n.detail}function Nq(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const jDe=new ze("cdk-input-modality-detector-options"),WDe={ignoreKeys:[18,17,224,91,16]},Bm=Nu({passive:!0,capture:!0});let GDe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new W(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(c=>c===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Fu(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Pq(o)?"keyboard":"mouse"),this._mostRecentTarget=Fu(o))},this._onTouchstart=o=>{Nq(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Fu(o))},this._options={...WDe,...s},this.modalityDetected=this._modality.pipe(BN(1)),this.modalityChanged=this.modalityDetected.pipe(en()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Bm),r.addEventListener("mousedown",this._onMousedown,Bm),r.addEventListener("touchstart",this._onTouchstart,Bm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Bm),document.removeEventListener("mousedown",this._onMousedown,Bm),document.removeEventListener("touchstart",this._onTouchstart,Bm))}static#e=this.\u0275fac=function(i){return new(i||n)(ue(vs),ue(ct),ue(an),ue(jDe,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $De=new ze("liveAnnouncerElement",{providedIn:"root",factory:function YDe(){return null}}),qDe=new ze("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let XDe=0,ZDe=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+XDe++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(e)&&s.setAttribute("aria-owns",o+" "+e):s.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(ue($De,8),ue(ct),ue(an),ue(qDe,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const KDe=new ze("cdk-focus-monitor-default-options"),A1=Nu({passive:!0,capture:!0});let Lq=(()=>{class n{constructor(e,i,r,s,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new fe,this._rootNodeFocusAndBlurListener=c=>{for(let f=Fu(c);f;f=f.parentElement)"focus"===c.type?this._onFocus(c,f):this._onBlur(c,f)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(e,i=!1){const r=Bu(e);if(!this._platform.isBrowser||1!==r.nodeType)return de();const s=function aDe(n){if(function oDe(){if(null==FN){const n=typeof document<"u"?document.head:null;FN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return FN}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const c={checkChildren:i,subject:new fe,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const i=Bu(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Bu(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([c,u])=>this._originChanged(c,i,u)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Fu(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,A1),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,A1)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($t(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,A1),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,A1),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(ue(ct),ue(vs),ue(GDe),ue(an,8),ue(KDe,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QDe=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Le}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(Lq))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();const Vq="cdk-high-contrast-black-on-white",Bq="cdk-high-contrast-white-on-black",zN="cdk-high-contrast-active";let zq=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=We(CDe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(zN,Vq,Bq),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(zN,Vq):2===i&&e.add(zN,Bq)}}static#e=this.\u0275fac=function(i){return new(i||n)(ue(vs),ue(an))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JDe=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(ue(zq))};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[Tq]})}return n})();const e1e=["addListener","removeListener"],t1e=["addEventListener","removeEventListener"],n1e=["on","off"];function Xr(n,t,e,i){if(ie(e)&&(i=e,e=void 0),i)return Xr(n,t,e).pipe(WP(i));const[r,s]=function s1e(n){return ie(n.addEventListener)&&ie(n.removeEventListener)}(n)?t1e.map(o=>c=>n[o](t,c,e)):function i1e(n){return ie(n.addListener)&&ie(n.removeListener)}(n)?e1e.map(Hq(n,t)):function r1e(n){return ie(n.on)&&ie(n.off)}(n)?n1e.map(Hq(n,t)):[];if(!r&&bn(n))return In(o=>Xr(o,t,e))(nt(n));if(!r)throw new TypeError("Invalid event target");return new zt(o=>{const c=(...u)=>o.next(1<u.length?u:u[0]);return r(c),()=>s(c)})}function Hq(n,t){return e=>i=>n[e](t,i)}const D0={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=D0;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new He(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=D0;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=D0;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class a1e extends wC{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class o1e extends bC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=D0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(D0.cancelAnimationFrame(e),t._scheduled=void 0)}});function zm(n=0,t,e=Oce){let i=-1;return null!=t&&(Ri(t)?e=t:i=t),new zt(r=>{let s=function d1e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Uq(n,t=$d){return function c1e(n){return je((t,e)=>{let i=!1,r=null,s=null,o=!1;const c=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const f=r;r=null,e.next(f)}o&&e.complete()},u=()=>{s=null,o&&e.complete()};t.subscribe(ot(e,f=>{i=!0,r=f,s||nt(n(f)).subscribe(s=ot(e,c,u))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>zm(n,t))}const u1e=new ze("cdk-dir-doc",{providedIn:"root",factory:function h1e(){return We(an)}}),f1e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let zu=(()=>{class n{constructor(e){this.value="ltr",this.change=new Le,e&&(this.value=function p1e(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?f1e.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(ue(u1e,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),m1e=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new fe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new zt(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Uq(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):de()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Hn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Bu(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Xr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(ct),ue(vs),ue(an,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HN=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new fe,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Uq(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(ue(vs),ue(ct),ue(an,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),k1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),jq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[T0,k1,T0,k1]})}return n})();class UN{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class jN extends UN{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class Wq extends UN{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class y1e extends UN{constructor(t){super(),this.element=t instanceof Ht?t.nativeElement:t}}class Gq{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof jN?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Wq?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof y1e?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class b1e extends Gq{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const c=o.element,u=this._document.createComment("dom-portal");c.parentNode.insertBefore(u,c),this.outletElement.appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Ir.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let $q=(()=>{class n extends Gq{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Le,this.attachDomPortal=s=>{const o=s.element,c=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(c,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(o,c)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(H(zd),H(Ds),H(an))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[xn]})}return n})(),Yq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})();const qq=sDe();class w1e{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ss(-this._previousScrollPosition.left),t.style.top=ss(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),qq&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),qq&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class x1e{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Hn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Xq{enable(){}disable(){}attach(){}}function WN(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Zq(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class C1e{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();WN(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let E1e=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Xq,this.close=o=>new x1e(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new w1e(this._viewportRuler,this._document),this.reposition=o=>new C1e(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(i){return new(i||n)(ue(m1e),ue(HN),ue(ct),ue(an))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class GN{constructor(t){if(this.scrollStrategy=new Xq,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class D1e{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Kq=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(ue(an))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T1e=(()=>{class n extends Kq{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const c=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(an),ue(ct,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),I1e=(()=>{class n extends Kq{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Fu(s)},this._clickListener=s=>{const o=Fu(s),c="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let f=u.length-1;f>-1;f--){const _=u[f];if(_._outsidePointerEvents.observers.length<1||!_.hasAttached())continue;if(_.overlayElement.contains(o)||_.overlayElement.contains(c))break;const w=_._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>w.next(s)):w.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(an),ue(vs),ue(ct,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qq=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||LN()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),LN()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(ue(an),ue(vs))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class S1e{constructor(t,e,i,r,s,o,c,u,f,_=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=c,this._location=u,this._outsideClickDispatcher=f,this._animationsDisabled=_,this._backdropElement=null,this._backdropClick=new fe,this._attachments=new fe,this._detachments=new fe,this._locationChanges=He.EMPTY,this._backdropClickHandler=w=>this._backdropClick.next(w),this._backdropTransitionendHandler=w=>{this._disposeBackdrop(w.target)},this._keydownEvents=new fe,this._outsidePointerEvents=new fe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ss(this._config.width),t.height=ss(this._config.height),t.minWidth=ss(this._config.minWidth),t.minHeight=ss(this._config.minHeight),t.maxWidth=ss(this._config.maxWidth),t.maxHeight=ss(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=S1(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe($t(K(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Jq="cdk-overlay-connected-position-bounding-box",A1e=/([A-Za-z%]+)$/;class eX{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new fe,this._resizeSubscription=He.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(Jq),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let c of this._preferredPositions){let u=this._getOriginPoint(t,r,c),f=this._getOverlayPoint(u,e,c),_=this._getOverlayFit(f,e,i,c);if(_.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,u);this._canFitWithFlexibleDimensions(_,f,i)?s.push({position:c,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,c)}):(!o||o.overlayFit.visibleArea<_.visibleArea)&&(o={overlayFit:_,overlayPoint:f,originPoint:u,position:c,overlayRect:e})}if(s.length){let c=null,u=-1;for(const f of s){const _=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);_>u&&(u=_,c=f)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Jq),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;r="start"==i.originX?o:c}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=nX(e);let{x:o,y:c}=t,u=this._getOffset(r,"x"),f=this._getOffset(r,"y");u&&(o+=u),f&&(c+=f);let T=0-c,M=c+s.height-i.height,F=this._subtractOverflows(s.width,0-o,o+s.width-i.width),V=this._subtractOverflows(s.height,T,M),U=F*V;return{visibleArea:U,isCompletelyWithinViewport:s.width*s.height===U,fitsInViewportVertically:V===s.height,fitsInViewportHorizontally:F==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,o=tX(this._overlayRef.getConfig().minHeight),c=tX(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=c&&c<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=nX(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),c=Math.max(t.y+r.height-s.height,0),u=Math.max(s.top-i.top-t.y,0),f=Math.max(s.left-i.left-t.x,0);let _=0,w=0;return _=r.width<=s.width?f||-o:t.x<this._viewportMargin?s.left-i.left-t.x:0,w=r.height<=s.height?u||-c:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:_,y:w},{x:t.x+_,y:t.y+w}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new D1e(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,o,c,_,w,T;if("top"===e.overlayY)o=t.y,s=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)c=i.height-t.y+2*this._viewportMargin,s=i.height-c+this._viewportMargin;else{const M=Math.min(i.bottom-t.y+i.top,t.y),F=this._lastBoundingBoxSize.height;s=2*M,o=t.y-M,s>F&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-F/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)T=i.width-t.x+this._viewportMargin,_=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)w=t.x,_=i.right-t.x;else{const M=Math.min(i.right-t.x+i.left,t.x),F=this._lastBoundingBoxSize.width;_=2*M,w=t.x-M,_>F&&!this._isInitialRender&&!this._growAfterOpen&&(w=t.x-F/2)}return{top:o,left:w,bottom:c,right:T,width:_,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=ss(i.height),r.top=ss(i.top),r.bottom=ss(i.bottom),r.width=ss(i.width),r.left=ss(i.left),r.right=ss(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ss(s)),o&&(r.maxWidth=ss(o))}this._lastBoundingBoxSize=i,yf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){yf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const _=this._viewportRuler.getViewportScrollPosition();yf(i,this._getExactOverlayY(e,t,_)),yf(i,this._getExactOverlayX(e,t,_))}else i.position="static";let c="",u=this._getOffset(e,"x"),f=this._getOffset(e,"y");u&&(c+=`translateX(${u}px) `),f&&(c+=`translateY(${f}px)`),i.transform=c.trim(),o.maxHeight&&(r?i.maxHeight=ss(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=ss(o.maxWidth):s&&(i.maxWidth="")),yf(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ss(s.y),r}_getExactOverlayX(t,e,i){let o,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ss(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Zq(t,i),isOriginOutsideView:WN(t,i),isOverlayClipped:Zq(e,i),isOverlayOutsideView:WN(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&S1(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ht)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function yf(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function tX(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(A1e);return e&&"px"!==e?null:parseFloat(t)}return n||null}function nX(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const iX="cdk-global-overlay-wrapper";class k1e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(iX),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:c}=i,u=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),f=!("100%"!==s&&"100vh"!==s||c&&"100%"!==c&&"100vh"!==c),_=this._xPosition,w=this._xOffset,T="rtl"===this._overlayRef.getConfig().direction;let M="",F="",V="";u?V="flex-start":"center"===_?(V="center",T?F=w:M=w):T?"left"===_||"end"===_?(V="flex-end",M=w):("right"===_||"start"===_)&&(V="flex-start",F=w):"left"===_||"start"===_?(V="flex-start",M=w):("right"===_||"end"===_)&&(V="flex-end",F=w),t.position=this._cssPosition,t.marginLeft=u?"0":M,t.marginTop=f?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=u?"0":F,e.justifyContent=V,e.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(iX),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let M1e=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new k1e}flexibleConnectedTo(e){return new eX(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(HN),ue(an),ue(vs),ue(Qq))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R1e=0,Hm=(()=>{class n{constructor(e,i,r,s,o,c,u,f,_,w,T,M){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=c,this._ngZone=u,this._document=f,this._directionality=_,this._location=w,this._outsideClickDispatcher=T,this._animationsModuleType=M}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new GN(e);return o.direction=o.direction||this._directionality.value,new S1e(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+R1e++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ba)),new b1e(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(E1e),ue(Qq),ue(zd),ue(M1e),ue(T1e),ue(Ir),ue(ct),ue(an),ue(zu),ue(rC),ue(I1e),ue(ql,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const O1e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],rX=new ze("cdk-connected-overlay-scroll-strategy");let $N=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),sX=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=or(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=or(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=or(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=or(e)}get push(){return this._push}set push(e){this._push=or(e)}constructor(e,i,r,s,o){this._overlay=e,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=He.EMPTY,this._attachSubscription=He.EMPTY,this._detachSubscription=He.EMPTY,this._positionSubscription=He.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Le,this.positionChange=new Le,this.attach=new Le,this.detach=new Le,this.overlayKeydown=new Le,this.overlayOutsideClick=new Le,this._templatePortal=new Wq(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=O1e);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Il(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new GN({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof $N?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function v1e(n,t=!1){return je((e,i)=>{let r=0;e.subscribe(ot(i,s=>{const o=n(s,r++);(o||t)&&i.next(s),!o&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(H(Hm),H(er),H(Ds),H(rX),H(zu,8))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[An]})}return n})();const N1e={provide:rX,deps:[Hm],useFactory:function P1e(n){return()=>n.scrollStrategies.reposition()}};let oX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({providers:[Hm,N1e],imports:[T0,Yq,jq,jq]})}return n})();const F1e=["text"];function L1e(n,t){if(1&n&&Qe(0,"mat-pseudo-checkbox",6),2&n){const e=be();se("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function V1e(n,t){1&n&&Qe(0,"mat-pseudo-checkbox",7),2&n&&se("disabled",be().disabled)}function B1e(n,t){if(1&n&&(Q(0,"span",8),Se(1),ne()),2&n){const e=be();J(1),Cn("(",e.group.label,")")}}const z1e=[[["mat-icon"]],"*"],H1e=["mat-icon","*"],j1e=new ze("mat-sanity-checks",{providedIn:"root",factory:function U1e(){return!0}});let Jo=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!LN()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(ue(zq),ue(j1e,8),ue(an))};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[T0,T0]})}return n})();function cX(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=or(t)}constructor(...t){super(...t),this._disabled=!1}}}function YN(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function dX(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=or(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function W1e(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?E0(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function uX(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}const G1e=new ze("MAT_DATE_LOCALE",{providedIn:"root",factory:function $1e(){return We(to)}});class Gs{constructor(){this._localeChanges=new fe,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const bf=new ze("mat-date-formats"),Y1e=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function qN(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let q1e=(()=>{class n extends Gs{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return qN(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return qN(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return qN(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Y1e.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(G1e,8),ue(vs))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const X1e={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Z1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({providers:[{provide:Gs,useClass:q1e}]})}return n})(),K1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({providers:[{provide:bf,useValue:X1e}],imports:[Z1e]})}return n})(),hX=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Q1e{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const fX=Nu({passive:!0,capture:!0});class J1e{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Fu(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,fX)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,fX)))}}const pX={enterDuration:225,exitDuration:150},gX=Nu({passive:!0,capture:!0}),mX=["mousedown","touchstart"],_X=["mouseup","mouseleave","touchend","touchcancel"];class M1{static#e=this._eventManager=new J1e;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Bu(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...pX,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=i.radius||function tTe(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),c=t-r.left,u=e-r.top,f=s.enterDuration,_=document.createElement("div");_.classList.add("mat-ripple-element"),_.style.left=c-o+"px",_.style.top=u-o+"px",_.style.height=2*o+"px",_.style.width=2*o+"px",null!=i.color&&(_.style.backgroundColor=i.color),_.style.transitionDuration=`${f}ms`,this._containerElement.appendChild(_);const w=window.getComputedStyle(_),M=w.transitionDuration,F="none"===w.transitionProperty||"0s"===M||"0s, 0s"===M||0===r.width&&0===r.height,V=new Q1e(this,_,i,F);_.style.transform="scale3d(1, 1, 1)",V.state=0,i.persistent||(this._mostRecentTransientRipple=V);let U=null;return!F&&(f||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const re=()=>this._finishRippleTransition(V),ee=()=>this._destroyRipple(V);_.addEventListener("transitionend",re),_.addEventListener("transitioncancel",ee),U={onTransitionEnd:re,onTransitionCancel:ee}}),this._activeRipples.set(V,U),(F||!f)&&this._finishRippleTransition(V),V}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...pX,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Bu(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,mX.forEach(i=>{M1._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_X.forEach(e=>{this._triggerElement.addEventListener(e,this,gX)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Pq(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Nq(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(mX.forEach(e=>M1._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&_X.forEach(e=>t.removeEventListener(e,this,gX)))}}const vX=new ze("mat-ripple-global-options");let yX=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new M1(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(ct),H(vs),H(vX,8),H(ql,8))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Vt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),bX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[Jo,Jo]})}return n})(),nTe=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(H(ql,8))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&Vt("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),iTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[Jo]})}return n})();const wX=new ze("MAT_OPTION_PARENT_COMPONENT"),xX=new ze("MatOptgroup");let rTe=0;class sTe{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let oTe=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=or(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+rTe++,this.onSelectionChange=new Le,this._stateChanges=new fe}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Il(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new sTe(this,e))}static#e=this.\u0275fac=function(i){gv()};static#t=this.\u0275dir=Ue({type:n,viewQuery:function(i,r){if(1&i&&Si(F1e,7),2&i){let s;Ut(s=jt())&&(r._text=s.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return n})(),CX=(()=>{class n extends oTe{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(cr),H(wX,8),H(xX,8))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&$e("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&i&&(eo("id",r.id),Pt("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Vt("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[xn],ngContentSelectors:H1e,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(ua(z1e),xe(0,L1e,1,2,"mat-pseudo-checkbox",0),Qi(1),Q(2,"span",1,2),Qi(4,1),ne(),xe(5,V1e,1,1,"mat-pseudo-checkbox",3),xe(6,B1e,2,1,"span",4),Qe(7,"div",5)),2&i&&(se("ngIf",r.multiple),J(5),se("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),J(1),se("ngIf",r.group&&r.group._inert),J(1),se("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[yX,dr,nTe],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),EX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[bX,gl,Jo,iTe]})}return n})();const DX={capture:!0},TX=["focus","click","mouseenter","touchstart"],XN="mat-ripple-loader-uninitialized",ZN="mat-ripple-loader-class-name",IX="mat-ripple-loader-centered",R1="mat-ripple-loader-disabled";let cTe=(()=>{class n{constructor(){this._document=We(an,{optional:!0}),this._animationMode=We(ql,{optional:!0}),this._globalRippleOptions=We(vX,{optional:!0}),this._platform=We(vs),this._ngZone=We(ct),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${XN}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of TX)this._document?.addEventListener(e,this._onInteraction,DX)})}ngOnDestroy(){for(const e of TX)this._document?.removeEventListener(e,this._onInteraction,DX)}configureRipple(e,i){e.setAttribute(XN,""),(i.className||!e.hasAttribute(ZN))&&e.setAttribute(ZN,i.className||""),i.centered&&e.setAttribute(IX,""),i.disabled&&e.setAttribute(R1,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(R1,""):e.removeAttribute(R1)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(ZN)),e.append(i);const r=new yX(new Ht(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(IX),r.disabled=e.hasAttribute(R1),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(XN),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const dTe=["mat-button",""],uTe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],hTe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],pTe=["mat-icon-button",""],gTe=["*"],mTe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],_Te=YN(cX(dX(class{constructor(n){this._elementRef=n}})));let SX=(()=>{class n extends _Te{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=or(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=or(e),this._updateRippleDisabled()}constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=We(Lq),this._rippleLoader=We(cTe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const o=e.nativeElement.classList;for(const c of mTe)this._hasHostAttributes(c.selector)&&c.mdcClasses.forEach(u=>{o.add(u)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){gv()};static#t=this.\u0275dir=Ue({type:n,features:[xn]})}return n})(),AX=(()=>{class n extends SX{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(vs),H(ct),H(ql,8))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Pt("disabled",r.disabled||null),Vt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[xn],attrs:dTe,ngContentSelectors:hTe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(ua(uTe),Qe(0,"span",0),Qi(1),Q(2,"span",1),Qi(3,1),ne(),Qi(4,2),Qe(5,"span",2)(6,"span",3)),2&i&&Vt("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),kX=(()=>{class n extends SX{constructor(e,i,r,s){super(e,i,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(vs),H(ct),H(ql,8))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Pt("disabled",r.disabled||null),Vt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[xn],attrs:pTe,ngContentSelectors:gTe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(ua(),Qe(0,"span",0),Qi(1),Qe(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),bTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[Jo,bX,Jo]})}return n})();class wTe{constructor(t){this._box=t,this._destroyed=new fe,this._resizeSubject=new fe,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new zt(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Hn(e=>e.some(i=>i.target===t)),DC({bufferSize:1,refCount:!0}),$t(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let xTe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=We(ct)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new wTe(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const CTe=["notch"],ETe=["matFormFieldNotchedOutline",""],DTe=["*"],TTe=["textField"],ITe=["iconPrefixContainer"],STe=["textPrefixContainer"];function ATe(n,t){1&n&&Qe(0,"span",19)}function kTe(n,t){if(1&n&&(Q(0,"label",17),Qi(1,1),xe(2,ATe,1,0,"span",18),ne()),2&n){const e=be(2);se("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Pt("for",e._control.id),J(2),se("ngIf",!e.hideRequiredMarker&&e._control.required)}}function MTe(n,t){1&n&&xe(0,kTe,3,5,"label",16),2&n&&se("ngIf",be()._hasFloatingLabel())}function RTe(n,t){1&n&&Qe(0,"div",20)}function OTe(n,t){}function PTe(n,t){1&n&&xe(0,OTe,0,0,"ng-template",22),2&n&&(be(2),se("ngTemplateOutlet",zn(1)))}function NTe(n,t){if(1&n&&(Q(0,"div",21),xe(1,PTe,1,1,"ng-template",9),ne()),2&n){const e=be();se("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),J(1),se("ngIf",!e._forceDisplayInfixLabel())}}function FTe(n,t){1&n&&(Q(0,"div",23,24),Qi(2,2),ne())}function LTe(n,t){1&n&&(Q(0,"div",25,26),Qi(2,3),ne())}function VTe(n,t){}function BTe(n,t){1&n&&xe(0,VTe,0,0,"ng-template",22),2&n&&(be(),se("ngTemplateOutlet",zn(1)))}function zTe(n,t){1&n&&(Q(0,"div",27),Qi(1,4),ne())}function HTe(n,t){1&n&&(Q(0,"div",28),Qi(1,5),ne())}function UTe(n,t){1&n&&Qe(0,"div",29)}function jTe(n,t){1&n&&(Q(0,"div",30),Qi(1,6),ne()),2&n&&se("@transitionMessages",be()._subscriptAnimationState)}function WTe(n,t){if(1&n&&(Q(0,"mat-hint",34),Se(1),ne()),2&n){const e=be(2);se("id",e._hintLabelId),J(1),on(e.hintLabel)}}function GTe(n,t){if(1&n&&(Q(0,"div",31),xe(1,WTe,2,2,"mat-hint",32),Qi(2,7),Qe(3,"div",33),Qi(4,8),ne()),2&n){const e=be();se("@transitionMessages",e._subscriptAnimationState),J(1),se("ngIf",e.hintLabel)}}const $Te=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],YTe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let O1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ue({type:n,selectors:[["mat-label"]]})}return n})();const qTe=new ze("MatError");let XTe=0,MX=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+XTe++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ue({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(eo("id",r.id),Pt("align",null),Vt("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const ZTe=new ze("MatPrefix"),RX=new ze("MatSuffix");let OX=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ue({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[li([{provide:RX,useExisting:n}])]})}return n})();const PX=new ze("FloatingLabelParent");let NX=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=We(xTe),this._ngZone=We(ct),this._parent=We(PX),this._resizeSubscription=new He}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function KTe(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht))};static#t=this.\u0275dir=Ue({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Vt("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const FX="mdc-line-ripple--active",P1="mdc-line-ripple--deactivating";let LX=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(P1);"opacity"===r.propertyName&&o&&s.remove(FX,P1)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(P1),e.add(FX)}deactivate(){this._elementRef.nativeElement.classList.add(P1)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(ct))};static#t=this.\u0275dir=Ue({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),VX=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(ct))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&Si(CTe,5),2&i){let s;Ut(s=jt())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Vt("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:ETe,ngContentSelectors:DTe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(ua(),Qe(0,"div",0),Q(1,"div",1,2),Qi(3),ne(),Qe(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const QTe={transitionMessages:mf("transitionMessages",[fd("enter",_s({opacity:1,transform:"translateY(0%)"})),qa("void => enter",[_s({opacity:0,transform:"translateY(-5px)"}),Tl("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let KN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ue({type:n})}return n})();const N1=new ze("MatFormField"),JTe=new ze("MAT_FORM_FIELD_DEFAULT_OPTIONS");let BX=0,UX=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=or(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,o,c,u,f){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=c,this._animationMode=u,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+BX++,this._hintLabelId="mat-mdc-hint-"+BX++,this._subscriptAnimationState="",this._destroyed=new fe,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe($t(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),K(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe($t(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe($t(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(cr),H(ct),H(zu),H(vs),H(JTe,8),H(ql,8),H(an))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(si(s,O1,5),si(s,O1,7),si(s,KN,5),si(s,ZTe,5),si(s,RX,5),si(s,qTe,5),si(s,MX,5)),2&i){let o;Ut(o=jt())&&(r._labelChildNonStatic=o.first),Ut(o=jt())&&(r._labelChildStatic=o.first),Ut(o=jt())&&(r._formFieldControl=o.first),Ut(o=jt())&&(r._prefixChildren=o),Ut(o=jt())&&(r._suffixChildren=o),Ut(o=jt())&&(r._errorChildren=o),Ut(o=jt())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(1&i&&(Si(TTe,5),Si(ITe,5),Si(STe,5),Si(NX,5),Si(VX,5),Si(LX,5)),2&i){let s;Ut(s=jt())&&(r._textField=s.first),Ut(s=jt())&&(r._iconPrefixContainer=s.first),Ut(s=jt())&&(r._textPrefixContainer=s.first),Ut(s=jt())&&(r._floatingLabel=s.first),Ut(s=jt())&&(r._notchedOutline=s.first),Ut(s=jt())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Vt("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[li([{provide:N1,useExisting:n},{provide:PX,useExisting:n}])],ngContentSelectors:YTe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(ua($Te),xe(0,MTe,1,1,"ng-template",null,0,Wi),Q(2,"div",1,2),$e("click",function(o){return r._control.onContainerClick(o)}),xe(4,RTe,1,0,"div",3),Q(5,"div",4),xe(6,NTe,2,2,"div",5),xe(7,FTe,3,0,"div",6),xe(8,LTe,3,0,"div",7),Q(9,"div",8),xe(10,BTe,1,1,"ng-template",9),Qi(11),ne(),xe(12,zTe,2,0,"div",10),xe(13,HTe,2,0,"div",11),ne(),xe(14,UTe,1,0,"div",12),ne(),Q(15,"div",13),xe(16,jTe,2,1,"div",14),xe(17,GTe,5,2,"div",15),ne()),2&i&&(J(2),Vt("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),J(2),se("ngIf",!r._hasOutline()&&!r._control.disabled),J(2),se("ngIf",r._hasOutline()),J(1),se("ngIf",r._hasIconPrefix),J(1),se("ngIf",r._hasTextPrefix),J(2),se("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),J(2),se("ngIf",r._hasTextSuffix),J(1),se("ngIf",r._hasIconSuffix),J(1),se("ngIf",!r._hasOutline()),J(1),Vt("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),se("ngSwitch",r._getDisplayedMessages()),J(1),se("ngSwitchCase","error"),J(1),se("ngSwitchCase","hint"))},dependencies:[dr,ps,xh,jv,MX,NX,VX,LX],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[QTe.transitionMessages]},changeDetection:0})}return n})(),QN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[Jo,gl,Tq,Jo]})}return n})();const jX=Nu({passive:!0});let nIe=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ti;const i=Bu(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new fe,o="cdk-text-field-autofilled",c=u=>{"cdk-text-field-autofill-start"!==u.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===u.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:u.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:u.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",c,jX),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",c,jX)}}),s}stopMonitoring(e){const i=Bu(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(ue(vs),ue(ct))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})();const WX=new ze("MAT_INPUT_VALUE_ACCESSOR"),rIe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let sIe=0;const oIe=uX(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new fe}});let GX=(()=>{class n extends oIe{get disabled(){return this._disabled}set disabled(e){this._disabled=or(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(wr.required)??!1}set required(e){this._required=or(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Cq().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=or(e)}constructor(e,i,r,s,o,c,u,f,_,w){super(c,s,o,r),this._elementRef=e,this._platform=i,this._autofillMonitor=f,this._formField=w,this._uid="mat-input-"+sIe++,this.focused=!1,this.stateChanges=new fe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>Cq().has(F)),this._iOSKeyupListener=F=>{const V=F.target;!V.value&&0===V.selectionStart&&0===V.selectionEnd&&(V.setSelectionRange(1,1),V.setSelectionRange(0,0))};const T=this._elementRef.nativeElement,M=T.nodeName.toLowerCase();this._inputValueAccessor=u||T,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&_.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===M,this._isTextarea="textarea"===M,this._isInFormField=!!w,this._isNativeSelect&&(this.controlType=T.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){rIe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(vs),H(vc,10),H(f0,8),H(ud,8),H(hX),H(WX,10),H(nIe),H(ct),H(N1,8))};static#t=this.\u0275dir=Ue({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&$e("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(eo("id",r.id)("disabled",r.disabled)("required",r.required),Pt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Vt("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[li([{provide:KN,useExisting:n}]),xn,An]})}return n})(),aIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[Jo,QN,QN,iIe,Jo]})}return n})();const lIe=["mat-calendar-body",""];function cIe(n,t){if(1&n&&(Q(0,"tr",3)(1,"td",4),Se(2),ne()()),2&n){const e=be();J(1),Es("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Pt("colspan",e.numCols),J(1),Cn(" ",e.label," ")}}function dIe(n,t){if(1&n&&(Q(0,"td",4),Se(1),ne()),2&n){const e=be(2);Es("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Pt("colspan",e._firstRowOffset),J(1),Cn(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function uIe(n,t){if(1&n){const e=On();Q(0,"td",8)(1,"button",9),$e("click",function(r){const o=pt(e).$implicit;return ft(be(2)._cellClicked(o,r))})("focus",function(r){const o=pt(e).$implicit;return ft(be(2)._emitActiveDateChange(o,r))}),Q(2,"span",10),Se(3),ne(),Qe(4,"span",11),ne()()}if(2&n){const e=t.$implicit,i=t.index,r=be().index,s=be();Es("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),Pt("data-mat-row",r)("data-mat-col",i),J(1),Vt("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),se("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),Pt("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null)("aria-describedby",s._getDescribedby(e.compareValue)),J(1),Vt("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),J(1),Cn(" ",e.displayValue," ")}}function hIe(n,t){if(1&n&&(Q(0,"tr",5),xe(1,dIe,2,6,"td",6),xe(2,uIe,5,48,"td",7),ne()),2&n){const e=t.$implicit,i=t.index,r=be();J(1),se("ngIf",0===i&&r._firstRowOffset),J(1),se("ngForOf",e)}}function fIe(n,t){if(1&n&&(Q(0,"th",5)(1,"span",6),Se(2),ne(),Q(3,"span",7),Se(4),ne()()),2&n){const e=t.$implicit;J(2),on(e.long),J(2),on(e.narrow)}}const pIe=["*"];function gIe(n,t){}function mIe(n,t){if(1&n){const e=On();Q(0,"mat-month-view",5),$e("activeDateChange",function(r){return pt(e),ft(be().activeDate=r)})("_userSelection",function(r){return pt(e),ft(be()._dateSelected(r))})("dragStarted",function(r){return pt(e),ft(be()._dragStarted(r))})("dragEnded",function(r){return pt(e),ft(be()._dragEnded(r))}),ne()}if(2&n){const e=be();se("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function _Ie(n,t){if(1&n){const e=On();Q(0,"mat-year-view",6),$e("activeDateChange",function(r){return pt(e),ft(be().activeDate=r)})("monthSelected",function(r){return pt(e),ft(be()._monthSelectedInYearView(r))})("selectedChange",function(r){return pt(e),ft(be()._goToDateInView(r,"month"))}),ne()}if(2&n){const e=be();se("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function vIe(n,t){if(1&n){const e=On();Q(0,"mat-multi-year-view",7),$e("activeDateChange",function(r){return pt(e),ft(be().activeDate=r)})("yearSelected",function(r){return pt(e),ft(be()._yearSelectedInMultiYearView(r))})("selectedChange",function(r){return pt(e),ft(be()._goToDateInView(r,"year"))}),ne()}if(2&n){const e=be();se("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function yIe(n,t){}const bIe=["button"];function wIe(n,t){1&n&&(Vc(),Q(0,"svg",3),Qe(1,"path",4),ne())}const xIe=[[["","matDatepickerToggleIcon",""]]],CIe=["[matDatepickerToggleIcon]"];let S0=(()=>{class n{constructor(){this.changes=new fe,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class JN{constructor(t,e,i,r,s={},o=t,c){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=o,this.rawValue=c}}let EIe=1;const $X=Nu({passive:!1,capture:!0}),Hu=Nu({passive:!0,capture:!0}),F1=Nu({passive:!0});let Um=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=We(vs),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Le,this.previewChange=new Le,this.activeDateChange=new Le,this.dragStarted=new Le,this.dragEnded=new Le,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const s=YX(r),o=s?this._getCellFromElement(s):null;s!==r.target&&(this._didDragSinceMouseDown=!0),tF(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=r.target&&this._getCellFromElement(r.target);!s||!this._isInRange(s.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const s=tF(r.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const o=this._getCellFromElement(s);this.dragEnded.emit({value:o?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const s=YX(r);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+EIe++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,$X),r.addEventListener("mouseenter",this._enterHandler,Hu),r.addEventListener("focus",this._enterHandler,Hu),r.addEventListener("mouseleave",this._leaveHandler,Hu),r.addEventListener("blur",this._leaveHandler,Hu),r.addEventListener("mousedown",this._mousedownHandler,F1),r.addEventListener("touchstart",this._mousedownHandler,F1),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,$X),e.removeEventListener("mouseenter",this._enterHandler,Hu),e.removeEventListener("focus",this._enterHandler,Hu),e.removeEventListener("mouseleave",this._leaveHandler,Hu),e.removeEventListener("blur",this._leaveHandler,Hu),e.removeEventListener("mousedown",this._mousedownHandler,F1),e.removeEventListener("touchstart",this._mousedownHandler,F1),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return nF(e,this.startValue,this.endValue)}_isRangeEnd(e){return iF(e,this.startValue,this.endValue)}_isInRange(e){return rF(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return nF(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const o=this.rows[i-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const o=this.rows[i+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return iF(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return rF(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return nF(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return iF(e,this.previewStart,this.previewEnd)}_isInPreview(e){return rF(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const i=tF(e);if(i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(ct))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[An],attrs:lIe,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,r){1&i&&(xe(0,cIe,3,6,"tr",0),xe(1,hIe,3,2,"tr",1),Q(2,"label",2),Se(3),ne(),Q(4,"label",2),Se(5),ne()),2&i&&(se("ngIf",r._firstRowOffset<r.labelMinRequiredCells),J(1),se("ngForOf",r.rows),J(1),se("id",r._startDateLabelId),J(1),Cn(" ",r.startDateAccessibleName,"\n"),J(1),se("id",r._endDateLabelId),J(1),Cn(" ",r.endDateAccessibleName,"\n"))},dependencies:[fa,Or,dr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return n})();function eF(n){return"TD"===n?.nodeName}function tF(n){let t;return eF(n)?t=n:eF(n.parentNode)?t=n.parentNode:eF(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function nF(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function iF(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function rF(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}function YX(n){const t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class Fo{constructor(t,e){this.start=t,this.end=e}}let Uu=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new fe,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static#e=this.\u0275fac=function(i){gv()};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),DIe=(()=>{class n extends Uu{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static#e=this.\u0275fac=function(i){return new(i||n)(ue(Gs))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const qX={provide:Uu,deps:[[new Vd,new dh,Uu],Gs],useFactory:function IIe(n,t){return n||new DIe(t)}},L1=new ze("MAT_DATE_RANGE_SELECTION_STRATEGY");let XX=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Fo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=o,this._rerenderSubscription=He.EMPTY,this.activeDrag=null,this.selectedChange=new Le,this._userSelection=new Le,this.dragStarted=new Le,this.dragEnded=new Le,this.activeDateChange=new Le,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(va(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,o;this._selected instanceof Fo?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),(s!==i||o!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Il(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const r=i?i.rawValue:null,s=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&r){const o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((o,c)=>({long:o,narrow:i[c]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),c=this._shouldEnableDate(o),u=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),f=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new JN(r+1,i[r],u,c,f,this._getCellCompareValue(o),o))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Fo?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(i){return new(i||n)(H(cr),H(bf,8),H(Gs,8),H(zu,8),H(L1,8))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,r){if(1&i&&Si(Um,5),2&i){let s;Ut(s=jt())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[An],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(i,r){1&i&&(Q(0,"table",0)(1,"thead",1)(2,"tr"),xe(3,fIe,5,2,"th",2),ne(),Q(4,"tr"),Qe(5,"th",3),ne()(),Q(6,"tbody",4),$e("selectedValueChange",function(o){return r._dateSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("previewChange",function(o){return r._previewChanged(o)})("dragStarted",function(o){return r.dragStarted.emit(o)})("dragEnded",function(o){return r._dragEnded(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),ne()()),2&i&&(J(3),se("ngForOf",r._weekdays),J(3),se("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Or,Um],encapsulation:2,changeDetection:0})}return n})();const Ea=24;let ZX=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),KX(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Fo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=He.EMPTY,this.selectedChange=new Le,this.yearSelected=new Le,this.activeDateChange=new Le,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(va(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-A0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<Ea;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-A0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ea-A0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-Ea:-Ea);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*Ea:Ea);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return A0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new JN(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Fo){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static#e=this.\u0275fac=function(i){return new(i||n)(H(cr),H(Gs,8),H(zu,8))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,r){if(1&i&&Si(Um,5),2&i){let s;Ut(s=jt())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,r){1&i&&(Q(0,"table",0)(1,"thead",1)(2,"tr"),Qe(3,"th",2),ne()(),Q(4,"tbody",3),$e("selectedValueChange",function(o){return r._yearSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),ne()()),2&i&&(J(4),se("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Um],encapsulation:2,changeDetection:0})}return n})();function KX(n,t,e,i,r){const s=n.getYear(t),o=n.getYear(e),c=QX(n,i,r);return Math.floor((s-c)/Ea)===Math.floor((o-c)/Ea)}function A0(n,t,e,i){return function MIe(n,t){return(n%t+t)%t}(n.getYear(t)-QX(n,e,i),Ea)}function QX(n,t,e){let i=0;return e?i=n.getYear(e)-Ea+1:t&&(i=n.getYear(t)),i}let JX=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Fo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=He.EMPTY,this.selectedChange=new Le,this.monthSelected=new Le,this.activeDateChange=new Le,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(va(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(r,"year"):void 0;return new JN(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),o)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Fo?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}static#e=this.\u0275fac=function(i){return new(i||n)(H(cr),H(bf,8),H(Gs,8),H(zu,8))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,r){if(1&i&&Si(Um,5),2&i){let s;Ut(s=jt())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,r){1&i&&(Q(0,"table",0)(1,"thead",1)(2,"tr"),Qe(3,"th",2),ne()(),Q(4,"tbody",3),$e("selectedValueChange",function(o){return r._monthSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),ne()()),2&i&&(J(4),se("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Um],encapsulation:2,changeDetection:0})}return n})(),RIe=1,OIe=(()=>{class n{constructor(e,i,r,s,o){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._id="mat-calendar-header-"+RIe++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Ea)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Ea)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):KX(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-A0(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+Ea-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}static#e=this.\u0275fac=function(i){return new(i||n)(H(S0),H(Ee(()=>aF)),H(Gs,8),H(bf,8),H(cr))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:pIe,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(i,r){1&i&&(ua(),Q(0,"div",0)(1,"div",1)(2,"button",2),$e("click",function(){return r.currentPeriodClicked()}),Q(3,"span",3),Se(4),ne(),Vc(),Q(5,"svg",4),Qe(6,"polygon",5),ne()(),pp(),Qe(7,"div",6),Qi(8),Q(9,"button",7),$e("click",function(){return r.previousClicked()}),ne(),Q(10,"button",8),$e("click",function(){return r.nextClicked()}),ne()()(),Q(11,"label",9),Se(12),ne()),2&i&&(J(2),Pt("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),J(2),on(r.periodButtonText),J(1),Vt("mat-calendar-invert","month"!==r.calendar.currentView),J(4),se("disabled",!r.previousEnabled()),Pt("aria-label",r.prevButtonLabel),J(1),se("disabled",!r.nextEnabled()),Pt("aria-label",r.nextButtonLabel),J(1),se("id",r._periodButtonLabelId),J(1),on(r.periodButtonDescription))},dependencies:[AX,kX],encapsulation:2,changeDetection:0})}return n})(),aF=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Fo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Le,this.yearSelected=new Le,this.monthSelected=new Le,this.viewChanged=new Le(!0),this._userSelection=new Le,this._userDragDrop=new Le,this._activeDrag=null,this.stateChanges=new fe,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new jN(this.headerComponent||OIe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Fo||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(i){return new(i||n)(H(S0),H(Gs,8),H(bf,8),H(cr))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,r){if(1&i&&(Si(XX,5),Si(JX,5),Si(ZX,5)),2&i){let s;Ut(s=jt())&&(r.monthView=s.first),Ut(s=jt())&&(r.yearView=s.first),Ut(s=jt())&&(r.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[li([qX]),An],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(i,r){1&i&&(xe(0,gIe,0,0,"ng-template",0),Q(1,"div",1),xe(2,mIe,1,11,"mat-month-view",2),xe(3,_Ie,1,6,"mat-year-view",3),xe(4,vIe,1,6,"mat-multi-year-view",4),ne()),2&i&&(se("cdkPortalOutlet",r._calendarHeaderPortal),J(1),se("ngSwitch",r.currentView),J(1),se("ngSwitchCase","month"),J(1),se("ngSwitchCase","year"),J(1),se("ngSwitchCase","multi-year"))},dependencies:[xh,jv,QDe,$q,XX,JX,ZX],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button,.mat-datepicker-content .mat-calendar-next-button{color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return n})();const e7={transformPanel:mf("transformPanel",[qa("void => enter-dropdown",Tl("120ms cubic-bezier(0, 0, 0.2, 1)",mq([_s({opacity:0,transform:"scale(1, 0.8)"}),_s({opacity:1,transform:"scale(1, 1)"})]))),qa("void => enter-dialog",Tl("150ms cubic-bezier(0, 0, 0.2, 1)",mq([_s({opacity:0,transform:"scale(0.7)"}),_s({transform:"none",opacity:1})]))),qa("* => void",Tl("100ms linear",_s({opacity:0})))]),fadeInCalendar:mf("fadeInCalendar",[fd("void",_s({opacity:0})),fd("enter",_s({opacity:1})),qa("void => *",Tl("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let PIe=0;const t7=new ze("mat-datepicker-scroll-strategy"),FIe={provide:t7,deps:[Hm],useFactory:function NIe(n){return()=>n.scrollStrategies.reposition()}},LIe=YN(class{constructor(n){this._elementRef=n}});let VIe=(()=>{class n extends LIe{constructor(e,i,r,s,o,c){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=o,this._subscriptions=new He,this._animationDone=new fe,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=c.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof Fo;if(s&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(o,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(cr),H(Uu),H(Gs),H(L1,8),H(S0))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,r){if(1&i&&Si(aF,5),2&i){let s;Ut(s=jt())&&(r._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(i,r){1&i&&LS("@transformPanel.start",function(o){return r._handleAnimationEvent(o)})("@transformPanel.done",function(o){return r._handleAnimationEvent(o)}),2&i&&(Ux("@transformPanel",r._animationState),Vt("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[xn],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(i,r){if(1&i&&(Q(0,"div",0)(1,"mat-calendar",1),$e("yearSelected",function(o){return r.datepicker._selectYear(o)})("monthSelected",function(o){return r.datepicker._selectMonth(o)})("viewChanged",function(o){return r.datepicker._viewChanged(o)})("_userSelection",function(o){return r._handleUserSelection(o)})("_userDragDrop",function(o){return r._handleUserDragDrop(o)}),ne(),xe(2,yIe,0,0,"ng-template",2),Q(3,"button",3),$e("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),Se(4),ne()()),2&i){let s;Vt("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Pt("aria-modal",!0)("aria-labelledby",null!==(s=r._dialogLabelId)&&void 0!==s?s:void 0),J(1),se("id",r.datepicker.id)("ngClass",r.datepicker.panelClass)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),J(1),se("cdkPortalOutlet",r._actionsPortal),J(1),Vt("cdk-visually-hidden",!r._closeButtonFocused),se("color",r.color||"primary"),J(1),on(r._closeButtonText)}},dependencies:[fa,AX,UDe,$q,aF],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[e7.transformPanel,e7.fadeInCalendar]},changeDetection:0})}return n})(),n7=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=or(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=or(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=or(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function vDe(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){or(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,r,s,o,c,u){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=o,this._dir=c,this._model=u,this._inputStateChanges=He.EMPTY,this._document=We(an),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new Le,this.monthSelected=new Le,this.viewChanged=new Le(!0),this.openedStream=new Le,this.closedStream=new Le,this._opened=!1,this.id="mat-datepicker-"+PIe++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new fe,this._scrollStrategy=s}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof eX&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=Eq(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(Kn(1)).subscribe(()=>{const o=this._document.activeElement;e&&(!o||o===this._document.activeElement||s.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new jN(VIe,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new GN({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const o=s.keyCode;(38===o||40===o||37===o||39===o||33===o||34===o)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",o="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:o,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o}])}_getCloseStream(e){const i=["ctrlKey","shiftKey","metaKey"];return K(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Hn(r=>27===r.keyCode&&!Il(r)||this.datepickerInput&&Il(r,"altKey")&&38===r.keyCode&&i.every(s=>!Il(r,s)))))}static#e=this.\u0275fac=function(i){return new(i||n)(H(Hm),H(ct),H(Ds),H(t7),H(Gs,8),H(zu,8),H(Uu))};static#t=this.\u0275dir=Ue({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[An]})}return n})(),i7=(()=>{class n extends n7{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ki(n)))(r||n)}}();static#t=this.\u0275cmp=Ot({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[li([qX,{provide:n7,useExisting:n}]),xn],decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}return n})();class V1{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let BIe=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=or(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new V1(this,this._elementRef.nativeElement)),this.dateChange.emit(new V1(this,this._elementRef.nativeElement))}})}constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new Le,this.dateInput=new Le,this.stateChanges=new fe,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=He.EMPTY,this._localeSubscription=He.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),c=this._getMinDate();return!c||!o||this._dateAdapter.compareDate(c,o)<=0?null:{matDatepickerMin:{min:c,actual:o}}},this._maxValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),c=this._getMaxDate();return!c||!o||this._dateAdapter.compareDate(c,o)>=0?null:{matDatepickerMax:{max:c,actual:o}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function zIe(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){Il(e,"altKey")&&40===e.keyCode&&["ctrlKey","shiftKey","metaKey"].every(s=>!Il(e,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new V1(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new V1(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(Gs,8),H(bf,8))};static#t=this.\u0275dir=Ue({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[An]})}return n})();const HIe={provide:Ca,useExisting:Ee(()=>B1),multi:!0},UIe={provide:Ps,useExisting:Ee(()=>B1),multi:!0};let B1=(()=>{class n extends BIe{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=He.EMPTY,this._validator=wr.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(Gs,8),H(bf,8),H(N1,8))};static#t=this.\u0275dir=Ue({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,r){1&i&&$e("input",function(o){return r._onInput(o.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(o){return r._onKeydown(o)}),2&i&&(eo("disabled",r.disabled),Pt("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",(null==r._datepicker?null:r._datepicker.opened)&&r._datepicker.id||null)("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[li([HIe,UIe,{provide:WX,useExisting:n}]),xn]})}return n})(),jIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ue({type:n,selectors:[["","matDatepickerToggleIcon",""]]})}return n})(),r7=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=or(e)}constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=He.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:de(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:de(),r=this.datepicker?K(this.datepicker.openedStream,this.datepicker.closedStream):de();this._stateChanges.unsubscribe(),this._stateChanges=K(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(H(S0),H(cr),zc("tabindex"))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,r,s){if(1&i&&si(s,jIe,5),2&i){let o;Ut(o=jt())&&(r._customIcon=o.first)}},viewQuery:function(i,r){if(1&i&&Si(bIe,5),2&i){let s;Ut(s=jt())&&(r._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,r){1&i&&$e("click",function(o){return r._open(o)}),2&i&&(Pt("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),Vt("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&"accent"===r.datepicker.color)("mat-warn",r.datepicker&&"warn"===r.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[An],ngContentSelectors:CIe,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,r){1&i&&(ua(xIe),Q(0,"button",0,1),xe(2,wIe,2,0,"svg",2),Qi(3),ne()),2&i&&(se("disabled",r.disabled)("disableRipple",r.disableRipple),Pt("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),J(2),se("ngIf",!r._customIcon))},dependencies:[dr,kX],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return n})(),$Ie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({providers:[S0,FIe],imports:[gl,bTe,oX,JDe,Yq,Jo,k1]})}return n})();function o7(n){return n&&n.constructor&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)}function a7(n){return n}function l7(n,t){const e=(t=t||{}).delimiter||".",i=t.maxDepth,r=t.transformKey||a7,s={};return function o(c,u,f){f=f||1,Object.keys(c).forEach(function(_){const w=c[_],T=t.safe&&Array.isArray(w),M=Object.prototype.toString.call(w),F=o7(w),V="[object Object]"===M||"[object Array]"===M,U=u?u+e+r(_):r(_);if(!T&&!F&&V&&Object.keys(w).length&&(!t.maxDepth||f<i))return o(w,U,f+1);s[U]=w})}(n),s}function c7(n,t){const e=(t=t||{}).delimiter||".",i=t.overwrite||!1,r=t.transformKey||a7,s={};if(o7(n)||"[object Object]"!==Object.prototype.toString.call(n))return n;function c(_){const w=Number(_);return isNaN(w)||-1!==_.indexOf(".")||t.object?_:w}return n=Object.keys(n).reduce(function(_,w){const T=Object.prototype.toString.call(n[w]);return"[object Object]"!==T&&"[object Array]"!==T||function f(_){const w=Object.prototype.toString.call(_);return!_||("[object Array]"===w?!_.length:"[object Object]"===w?!Object.keys(_).length:void 0)}(n[w])?(_[w]=n[w],_):function u(_,w,T){return Object.keys(T).reduce(function(M,F){return M[_+e+F]=T[F],M},w)}(w,_,l7(n[w],t))},{}),Object.keys(n).forEach(function(_){const w=_.split(e).map(r);let T=c(w.shift()),M=c(w[0]),F=s;for(;void 0!==M;){if("__proto__"===T)return;const V=Object.prototype.toString.call(F[T]),U="[object Object]"===V||"[object Array]"===V;if(!i&&!U&&typeof F[T]<"u")return;(i&&!U||!i&&null==F[T])&&(F[T]="number"!=typeof M||t.object?{}:[]),F=F[T],w.length>0&&(T=c(w.shift()),M=c(w[0]))}F[T]=c7(n[_],t)}),s}class qIe{translations;constructor(t){this.translations=t}getTranslation(t){return de(this.translations.get(t)||{})}}const d7=new ze("TRANSLOCO_LOADER");function u7(n,t){return n&&(Object.prototype.hasOwnProperty.call(n,t)?n[t]:t.split(".").reduce((e,i)=>e?.[i],n))}function h7(n){return n?Array.isArray(n)?n.length:cF(n)?Object.keys(n).length:n?n.length:0:0}function wf(n){return"string"==typeof n}function cF(n){return!!n&&"object"==typeof n&&!Array.isArray(n)}function f7(n){return n.replace(/(?:^\w|[A-Z]|\b\w)/g,(t,e)=>0==e?t.toLowerCase():t.toUpperCase()).replace(/\s+|_|-|\//g,"")}function dF(n){return null==n}function g7(n){return!1===dF(n)}function uF(n){return n&&"string"==typeof n.scope}function m7(n){return l7(n,{safe:!0})}const jm=new ze("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>k0}),k0={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"]};function nSe(n={}){return{...k0,...n,missingHandler:{...k0.missingHandler,...n.missingHandler},flatten:{...k0.flatten,...n.flatten}}}const _7=new ze("TRANSLOCO_TRANSPILER");let iSe=(()=>{class n{interpolationMatcher;constructor(e){this.interpolationMatcher=function rSe(n){const[t,e]=n.interpolation;return new RegExp(`${t}(.*?)${e}`,"g")}(e??k0)}transpile(e,i={},r,s){return wf(e)?e.replace(this.interpolationMatcher,(o,c)=>(c=c.trim(),g7(i[c])?i[c]:g7(r[c])?this.transpile(r[c],i,r,s):"")):(i&&(cF(e)?e=this.handleObject(e,i,r,s):Array.isArray(e)&&(e=this.handleArray(e,i,r,s))),e)}handleObject(e,i={},r,s){let o=e;return Object.keys(i).forEach(c=>{const u=u7(o,c),f=u7(i,c),_=this.transpile(u,f,r,s);o=function XIe(n,t,e){n={...n};const i=t.split("."),r=i.length-1;return i.reduce((s,o,c)=>(s[o]=c===r?e:Array.isArray(s[o])?s[o].slice():{...s[o]},s&&s[o]),n),n}(o,c,_)}),o}handleArray(e,i={},r,s){return e.map(o=>this.transpile(o,i,r,s))}static \u0275fac=function(i){return new(i||n)(ue(jm,8))};static \u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const v7=new ze("TRANSLOCO_MISSING_HANDLER");let sSe=(()=>{class n{handle(e,i){return i.missingHandler.logMissingKey&&!i.prodMode&&console.warn(`%c Missing translation for '${e}'`,"font-size: 12px; color: red"),e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const y7=new ze("TRANSLOCO_INTERCEPTOR");let oSe=(()=>{class n{preSaveTranslation(e){return e}preSaveTranslationKey(e,i){return i}static \u0275fac=function(i){return new(i||n)};static \u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const b7=new ze("TRANSLOCO_FALLBACK_STRATEGY");let gF,aSe=(()=>{class n{userConfig;constructor(e){this.userConfig=e}getNextLangs(){const e=this.userConfig.fallbackLang;if(!e)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(e)?e:[e]}static \u0275fac=function(i){return new(i||n)(ue(jm))};static \u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function M0(n){if(!n)return"";const t=n.split("/");return t.pop(),t.join("/")}function ju(n){return n?n.split("/").pop():""}function hF(n,t,e="|"){if(wf(n)){const i=n.split(e),r=i.pop();return r===t?[!0,i.toString()]:[!1,r]}return[!1,""]}function fF(n,t){return function eSe(n){return n&&cF(n.loader)}(n)?function lSe(n,t){return Object.keys(n).reduce((e,i)=>(e[`${t}/${i}`]=n[i],e),{})}(n.loader,t):void 0}function pF(n){return{scope:M0(n)||null,langName:ju(n)}}function C7(n){const{path:t,inlineLoader:e,mainLoader:i,data:r}=n;if(e){if(!1===function KIe(n){return"function"==typeof n}(e[t]))throw`You're using an inline loader but didn't provide a loader for ${t}`;return e[t]().then(o=>o.default?o.default:o)}return i.getTranslation(t,r)}let z1=(()=>{class n{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;subscription=null;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new fe;events$=this.events.asObservable();config;constructor(e,i,r,s,o,c){this.loader=e,this.parser=i,this.missingHandler=r,this.interceptor=s,this.fallbackStrategy=c,this.loader||(this.loader=new qIe(this.translations)),gF=this,this.config=JSON.parse(JSON.stringify(o)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new W(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.subscription=this.events$.subscribe(u=>{"translationLoadSuccess"===u.type&&u.wasFailure&&this.setActiveLang(u.payload.langName)})}getDefaultLang(){return this.defaultLang}setDefaultLang(e){this.defaultLang=e}getActiveLang(){return this.lang.getValue()}setActiveLang(e){return this.parser.onLangChanged?.(e),this.lang.next(e),this.events.next({type:"langChanged",payload:pF(e)}),this}setAvailableLangs(e){this.availableLangs=e}getAvailableLangs(){return this.availableLangs}load(e,i={}){const r=this.cache.get(e);if(r)return r;let s;const o=this._isLangScoped(e);let c;o&&(c=M0(e));const u={path:e,mainLoader:this.loader,inlineLoader:i.inlineLoader,data:o?{scope:c}:void 0};if(this.useFallbackTranslation(e)){const _=o?`${c}/${this.firstFallbackLang}`:this.firstFallbackLang,w=function cSe({mainLoader:n,path:t,data:e,fallbackPath:i,inlineLoader:r}){return(i?[t,i]:[t]).map(o=>$(C7({path:o,mainLoader:n,inlineLoader:r,data:e})).pipe(Ge(u=>({translation:u,lang:o}))))}({...u,fallbackPath:_});s=a1(w)}else s=$(C7(u));const f=s.pipe(function YIe(n=1/0){let t;t=n&&"object"==typeof n?n:{count:n};const{count:e=1/0,delay:i,resetOnSuccess:r=!1}=t;return e<=0?un:je((s,o)=>{let u,c=0;const f=()=>{let _=!1;u=s.subscribe(ot(o,w=>{r&&(c=0),o.next(w)},void 0,w=>{if(c++<e){const T=()=>{u?(u.unsubscribe(),u=null,f()):_=!0};if(null!=i){const M="number"==typeof i?zm(i):nt(i(w,c)),F=ot(o,()=>{F.unsubscribe(),T()},()=>{o.complete()});M.subscribe(F)}else T()}else o.error(w)})),_&&(u.unsubscribe(),u=null,f())};f()})}(this.config.failedRetries),Nr(_=>{Array.isArray(_)?_.forEach(w=>{this.handleSuccess(w.lang,w.translation),w.lang!==e&&this.cache.set(w.lang,de({}))}):this.handleSuccess(e,_)}),Iu(_=>(this.config.prodMode||console.error(`Error while trying to load "${e}"`,_),this.handleFailure(e,i))),DC(1));return this.cache.set(e,f),f}translate(e,i={},r=this.getActiveLang()){if(!e)return e;const{scope:s,resolveLang:o}=this.resolveLangAndScope(r);if(Array.isArray(e))return e.map(f=>this.translate(s?`${s}.${f}`:f,i,o));e=s?`${s}.${e}`:e;const c=this.getTranslation(o),u=c[e];return u?this.parser.transpile(u,i,c,e):this._handleMissingKey(e,u,i)}selectTranslate(e,i,r,s=!1){let o;const c=(f,_)=>this.load(f,_).pipe(Ge(()=>s?this.translateObject(e,i,f):this.translate(e,i,f)));if(dF(r))return this.langChanges$.pipe(vt(f=>c(f)));if(function JIe(n){return Array.isArray(n)&&n.every(uF)}(r)||uF(r)){const f=Array.isArray(r)?r[0]:r;r=f.scope,o=fF(f,f.scope)}if(this.isLang(r)||this.isScopeWithLang(r))return c(r);const u=r;return this.langChanges$.pipe(vt(f=>c(`${u}/${f}`,{inlineLoader:o})))}isScopeWithLang(e){return this.isLang(ju(e))}translateObject(e,i={},r=this.getActiveLang()){if(wf(e)||Array.isArray(e)){const{resolveLang:o,scope:c}=this.resolveLangAndScope(r);if(Array.isArray(e))return e.map(_=>this.translateObject(c?`${c}.${_}`:_,i,o));const u=this.getTranslation(o),f=function tSe(n){return c7(n)}(this.getObjectByKey(u,e=c?`${c}.${e}`:e));return function ZIe(n){return 0===h7(n)}(f)?this.translate(e,i,r):this.parser.transpile(f,i,u,e)}const s=[];for(const[o,c]of this.getEntries(e))s.push(this.translateObject(o,c,r));return s}selectTranslateObject(e,i,r){if(wf(e)||Array.isArray(e))return this.selectTranslate(e,i,r,!0);const[[s,o],...c]=this.getEntries(e);return this.selectTranslateObject(s,o,r).pipe(Ge(u=>{const f=[u];for(const[_,w]of c)f.push(this.translateObject(_,w,r));return f}))}getTranslation(e){if(e){if(this.isLang(e))return this.translations.get(e)||{};{const{scope:i,resolveLang:r}=this.resolveLangAndScope(e),s=this.translations.get(r)||{};return this.getObjectByKey(s,i)}}return this.translations}selectTranslation(e){let i=this.langChanges$;if(e){const r=ju(e)!==e;i=this.isLang(e)||r?de(e):this.langChanges$.pipe(Ge(s=>`${e}/${s}`))}return i.pipe(vt(r=>this.load(r).pipe(Ge(()=>this.getTranslation(r)))))}setTranslation(e,i=this.getActiveLang(),r={}){const o={merge:!0,emitChange:!0,...r},c=M0(i);let u=e;c&&(u=m7({[this.getMappedScope(c)]:e}));const f=c?ju(i):i,_={...o.merge&&this.getTranslation(f),...u},w=this.config.flatten.aot?_:m7(_),T=this.interceptor.preSaveTranslation(w,f);this.translations.set(f,T),o.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(e,i,r=this.getActiveLang(),s={}){const o=this.interceptor.preSaveTranslationKey(e,i,r);this.setTranslation({[e]:o},r,{...s,merge:!0})}setFallbackLangForMissingTranslation({fallbackLang:e}){const i=Array.isArray(e)?e[0]:e;e&&this.useFallbackTranslation(i)&&(this.firstFallbackLang=i)}_handleMissingKey(e,i,r){if(this.config.missingHandler.allowEmpty&&""===i)return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;const s=this.translate(e,r,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,s}return this.missingHandler.handle(e,this.getMissingHandlerData(),r)}_isLangScoped(e){return-1===this.getAvailableLangsIds().indexOf(e)}isLang(e){return-1!==this.getAvailableLangsIds().indexOf(e)}_loadDependencies(e,i){const r=ju(e);return this._isLangScoped(e)&&!this.isLoadedTranslation(r)?Ya([this.load(r),this.load(e,{inlineLoader:i})]):this.load(e,{inlineLoader:i})}_completeScopeWithLang(e){return this._isLangScoped(e)&&!this.isLang(ju(e))?`${e}/${this.getActiveLang()}`:e}_setScopeAlias(e,i){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[e]=i}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.cache.clear()}isLoadedTranslation(e){return h7(this.getTranslation(e))}getAvailableLangsIds(){return wf(this.getAvailableLangs()[0])?this.getAvailableLangs():this.getAvailableLangs().map(i=>i.id)}getMissingHandlerData(){return{...this.config,activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang}}useFallbackTranslation(e){return this.config.missingHandler.useFallbackTranslation&&e!==this.firstFallbackLang}handleSuccess(e,i){this.setTranslation(i,e,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:pF(e)}),this.failedLangs.forEach(r=>this.cache.delete(r)),this.failedLangs.clear()}handleFailure(e,i){dF(i.failedCounter)&&(i.failedCounter=0,i.fallbackLangs||(i.fallbackLangs=this.fallbackStrategy.getNextLangs(e)));const r=e.split("/"),o=i.fallbackLangs[i.failedCounter];if(this.failedLangs.add(e),this.cache.has(o))return this.handleSuccess(o,this.getTranslation(o)),ti;if(!o||o===r[r.length-1]){let f="Unable to load translation and all the fallback languages";throw r.length>1&&(f+=", did you misspelled the scope name?"),new Error(f)}let u=o;return r.length>1&&(r[r.length-1]=o,u=r.join("/")),i.failedCounter++,this.events.next({type:"translationLoadFailure",payload:pF(e)}),this.load(u,i)}getMappedScope(e){const{scopeMapping:i={}}=this.config;return i[e]||f7(e)}resolveLangAndScope(e){let r,i=e;if(this._isLangScoped(e)){const s=ju(e),o=this.isLang(s);i=o?s:this.getActiveLang(),r=this.getMappedScope(o?M0(e):e)}return{scope:r,resolveLang:i}}getObjectByKey(e,i){const r={},s=`${i}.`;for(const o in e)o.startsWith(s)&&(r[o.replace(s,"")]=e[o]);return r}getEntries(e){return e instanceof Map?e.entries():Object.entries(e)}static \u0275fac=function(i){return new(i||n)(ue(d7,8),ue(_7),ue(v7),ue(y7),ue(jm),ue(b7))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mF=new ze("TRANSLOCO_LANG"),_F=(new ze("TRANSLOCO_LOADING_TEMPLATE"),new ze("TRANSLOCO_SCOPE"));class D7{initialized=!1;resolve({inline:t,provider:e,active:i}){let r=i;if(this.initialized)return r=i,r;if(e){const[,s]=hF(e,"static");r=s}if(t){const[,s]=hF(t,"static");r=s}return this.initialized=!0,r}resolveLangBasedOnScope(t){return M0(t)?ju(t):t}resolveLangPath(t,e){return e?`${e}/${t}`:t}}class T7{service;constructor(t){this.service=t}resolve(t){const{inline:e,provider:i}=t;if(e)return e;if(i){if(uF(i)){const{scope:r,alias:s=f7(r)}=i;return this.service._setScopeAlias(r,s),r}return i}}}let md=(()=>{class n{service;providerScope;providerLang;cdr;subscription=null;lastValue="";lastKey;path;langResolver=new D7;scopeResolver;constructor(e,i,r,s){this.service=e,this.providerScope=i,this.providerLang=r,this.cdr=s,this.scopeResolver=new T7(this.service)}transform(e,i,r){if(!e)return e;const s=i?`${e}${JSON.stringify(i)}`:e;if(s===this.lastKey)return this.lastValue;this.lastKey=s,this.subscription?.unsubscribe();const o=function w7(n,t){const[e]=hF(t,"static");return!e&&!!n.config.reRenderOnLangChange}(this.service,this.providerLang||r);return this.subscription=this.service.langChanges$.pipe(vt(c=>{const u=this.langResolver.resolve({inline:r,provider:this.providerLang,active:c});return Array.isArray(this.providerScope)?a1(this.providerScope.map(f=>this.resolveScope(u,f))):this.resolveScope(u,this.providerScope)}),function x7(n){return n?t=>t:Kn(1)}(o)).subscribe(()=>this.updateValue(e,i)),this.lastValue}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscription=null}updateValue(e,i){const r=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.service.translate(e,i,r),this.cdr.markForCheck()}resolveScope(e,i){const r=this.scopeResolver.resolve({inline:void 0,provider:i});this.path=this.langResolver.resolveLangPath(e,r);const s=fF(i,r);return this.service._loadDependencies(this.path,s)}static \u0275fac=function(i){return new(i||n)(H(z1,16),H(_F,24),H(mF,24),H(cr,16))};static \u0275pipe=Jr({name:"transloco",type:n,pure:!1,standalone:!0})}return n})(),fSe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=At({type:n});static \u0275inj=Ie({})}return n})();function pSe(n){const t=[_Se(iSe),ySe(sSe),bSe(oSe),vSe(aSe)];return n.config&&t.push(function gSe(n){return Yl([{provide:jm,useValue:nSe(n)}])}(n.config)),n.loader&&t.push(function mSe(n){return Yl([{provide:d7,useClass:n}])}(n.loader)),t}function _Se(n){return Yl([{provide:_7,useClass:n,deps:[jm]}])}function vSe(n){return Yl([{provide:b7,useClass:n,deps:[jm]}])}function ySe(n){return Yl([{provide:v7,useClass:n}])}function bSe(n){return Yl([{provide:y7,useClass:n}])}function xSe(n,t){if(1&n){const e=On();Q(0,"div",12)(1,"div",13),$e("click",function(){const s=pt(e).$implicit;return ft(be().redirectPetPage(s.id||""))}),Qe(2,"img",14),Q(3,"div",15)(4,"p"),Se(5),ne()()()()}if(2&n){const e=t.$implicit;J(1),Kl("id",e.id),J(1),Kl("src",e.profile_image,Pp),J(3),on(e.name)}}new ze("TRANSLOCO_TEST_LANGS - Available testing languages"),new ze("TRANSLOCO_TEST_OPTIONS - Testing options");let CSe=(()=>{class n{constructor(e,i,r,s,o){this.apiService=e,this.router=i,this.datePipe=r,this.fb=s,this.storageService=o,this.savedPets=[],this.registerPetForm=this.fb.group({name:["",[wr.required]],type:["",wr.required],breed:["",[wr.required]],birth:["",wr.required]}),this.showData()}openForm(){const e=document.getElementById("myForm");e&&(e.style.display="block")}closeForm(){const e=document.getElementById("myForm");e&&(e.style.display="none")}redirectPetPage(e){this.router.navigate(["pet-profile"],{queryParams:{petId:e}})}registerPet(){var e={client_id:this.storageService.SessionGetStorage("uid"),name:this.registerPetForm.value.name,type:this.registerPetForm.value.type,breed:this.registerPetForm.value.breed,birth:this.registerPetForm.value.birth};console.log(e),this.apiService.postClientPets(e),this.closeForm()}showData(){this.apiService.getClientPets(this.storageService.SessionGetStorage("uid")).then(e=>{this.apiService.petsArray=e;for(const i of this.apiService.petsArray)""==i.profile_image?i.profile_image="Toby"==i.name?"/assets/img/dogImage1.jpg":"Dobby"==i.name?"/assets/img/dogImage2.jpg":"Darwin"==i.name?"/assets/img/catImage.avif":"/assets/img/logo_default.svg":"Toby"==i.name?i.profile_image="/assets/img/dogImage1.jpg":"Dobby"==i.name?i.profile_image="/assets/img/dogImage2.jpg":"Darwin"==i.name&&(i.profile_image="/assets/img/catImage.avif");console.log(e)})}onDateInput(e){this.registerPetForm.value.birth=this.datePipe.transform(e.value,"ddMMyyyy")+"_00:00"}static#e=this.\u0275fac=function(i){return new(i||n)(H(Pu),H(rs),H(lg),H(v1),H(bc))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-pets-list"]],decls:31,vars:29,consts:[[1,"open-button",3,"click"],["id","myForm",1,"form-popup"],[1,"form-container",3,"formGroup","ngSubmit"],["type","text","formControlName","name","required","",3,"placeholder"],["type","text","formControlName","type","required","",3,"placeholder"],["type","text","formControlName","breed","required","",3,"placeholder"],["formControlName","birth","matInput","","readonly","","required","",3,"matDatepicker","click","dateInput"],["matSuffix","",3,"for"],["picker",""],["type","submit",1,"btn",3,"disabled"],["type","button",1,"btn","cancel",3,"click"],["class","module","style","text-align: center;",4,"ngFor","ngForOf"],[1,"module",2,"text-align","center"],[1,"image-container",3,"id","click"],["width","50px","alt","Pet",3,"src"],[1,"overlay"]],template:function(i,r){if(1&i){const s=On();Q(0,"button",0),$e("click",function(){return r.openForm()}),Se(1,"+"),ne(),Q(2,"div",1)(3,"form",2),$e("ngSubmit",function(){return r.registerPet()}),Q(4,"h1"),Se(5),Nt(6,"transloco"),ne(),Qe(7,"input",3),Nt(8,"transloco"),Qe(9,"input",4),Nt(10,"transloco"),Qe(11,"input",5),Nt(12,"transloco"),Q(13,"mat-form-field")(14,"mat-label"),Se(15),Nt(16,"transloco"),ne(),Q(17,"input",6),$e("click",function(){return pt(s),ft(zn(20).open())})("dateInput",function(c){return r.onDateInput(c)}),ne(),Qe(18,"mat-datepicker-toggle",7)(19,"mat-datepicker",null,8),ne(),Q(21,"button",9),Se(22),Nt(23,"transloco"),ne(),Q(24,"button",10),$e("click",function(){return r.closeForm()}),Se(25),Nt(26,"transloco"),ne()()(),Q(27,"h1"),Se(28),Nt(29,"transloco"),ne(),xe(30,xSe,6,3,"div",11)}if(2&i){const s=zn(20);J(3),se("formGroup",r.registerPetForm),J(2),on(mn(6,13,"register_pet")),J(2),se("placeholder",mn(8,15,"pet_name")),J(2),se("placeholder",mn(10,17,"pet_type")),J(2),se("placeholder",mn(12,19,"pet_breed")),J(4),on(mn(16,21,"pet_birth")),J(2),se("matDatepicker",s),J(1),se("for",s),J(3),se("disabled",r.registerPetForm.invalid),J(1),on(mn(23,23,"register_button")),J(3),on(mn(26,25,"close_button")),J(3),Cn(" ",mn(29,27,"your_pets"),"\n"),J(2),se("ngForOf",r.apiService.petsArray)}},dependencies:[Or,g0,hf,s0,o0,m0,ud,Om,i7,B1,r7,GX,UX,O1,OX,md],styles:[".whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:10px;border-radius:20px;width:350px;margin-right:40px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}*[_ngcontent-%COMP%]{box-sizing:border-box}.open-button[_ngcontent-%COMP%]{background-color:#555;color:#fff;padding:16px 20px;border:none;cursor:pointer;opacity:.8;position:fixed;bottom:80px;right:10px}.form-popup[_ngcontent-%COMP%]{display:none;position:fixed;bottom:80px;right:15px;border:3px solid #f1f1f1;z-index:9}.form-container[_ngcontent-%COMP%]{max-width:300px;padding:10px;background-color:#fff}.form-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:15px;margin:5px 0 22px;border:none;background:#f1f1f1}.form-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{background-color:#ddd;outline:none}.form-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff;padding:16px 20px;border:none;cursor:pointer;width:50%;margin-bottom:10px;opacity:.8}.form-container[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:red}.form-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .open-button[_ngcontent-%COMP%]:hover{opacity:1}"]})}return n})();var xf=function(n){return n.UserNotFound="auth/user-not-found",n.WrongPassword="auth/wrong-password",n.EmailInUse="auth/email-already-in-use",n.WeakPassword="auth/weak-password",n.BadEmail="auth/invalid-email",n.InvalidLogin="auth/invalid-login-credentials",n}(xf||{});let I7=(()=>{class n{constructor(){}firebaseError(e){switch(e){case xf.UserNotFound:return"User does not exist";case xf.WrongPassword:return"Wrong password";case xf.EmailInUse:return"Email already in use";case xf.WeakPassword:return"Weak password, use 6 characters at least";case xf.BadEmail:return"Invalid Email";case xf.InvalidLogin:return"Credentials not accepted";default:return"Unknown error"}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ESe(n,t){1&n&&(Q(0,"span",14)(1,"strong"),Se(2,"Mail"),ne(),Se(3," is required "),ne())}function DSe(n,t){1&n&&(Q(0,"span",14),Se(1," Mail must be "),Q(2,"strong"),Se(3,"valid"),ne()())}function TSe(n,t){1&n&&(Q(0,"span",14)(1,"strong"),Se(2,"Password"),ne(),Se(3," is required "),ne())}let ISe=(()=>{class n{constructor(e,i,r,s,o,c,u){this.fb=e,this.afAuth=i,this.router=r,this.fireBaseErrorService=s,this.toastr=o,this.storageService=c,this.apiService=u,this.loginUser=this.fb.group({email:["",[wr.required,wr.email]],password:["",wr.required]}),this.subscription=this.storageService.isLoggedIn.subscribe(f=>{1==f&&this.router.navigate(["home"])}),this.checkSession()}checkSession(){const e=localStorage.getItem("usrMail")||"",i=localStorage.getItem("usrPswd")||"";this.login(e,i,!0)}login(e,i,r){var s=this.loginUser.value.email,o=this.loginUser.value.password;if(r){if(""==e||""==i)return;s=e,o=i}this.afAuth.signInWithEmailAndPassword(s,o).then(c=>{localStorage.setItem("usrPswd",o),localStorage.setItem("usrMail",s),this.storageService.isLoggedNext(!0),this.storageService.SessionAddStorage("uid",c.user?.uid),this.router.navigate(["home"])}).catch(c=>{this.toastr.error(this.fireBaseErrorService.firebaseError(c.code),"Error")})}GoogleAuth(){return this.AuthLogin(new K9.W)}AuthLogin(e){return this.afAuth.signInWithPopup(e).then(i=>{this.apiService.googleReg(i.user?.uid,i.user?.email,i.user?.phoneNumber,i.user?.displayName).then(r=>{this.storageService.SessionAddStorage("uid",r),this.storageService.isLoggedNext(!0),this.router.navigate(["home"])})}).catch(i=>{console.log(i)})}delay(e){return new Promise(i=>setTimeout(i,e))}static#e=this.\u0275fac=function(i){return new(i||n)(H(v1),H(qc),H(rs),H(I7),H(b0),H(bc),H(Pu))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-login"]],decls:27,vars:5,consts:[[1,"wrapper"],[1,"body"],["src","../../../assets/img/login-person.png","alt","Login",1,"logo"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["class","text-danger errorLabel",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"form-group","mt-3"],[1,"btn","btn-lg","btn-google",3,"click"],["src","/assets/imgs/google.png","alt","Login w google"],[1,"btn","btn-lg","btn-reg",3,"click"],[1,"text-danger","errorLabel"]],template:function(i,r){if(1&i&&(Q(0,"div",0)(1,"div",1),Qe(2,"img",2),Q(3,"h1"),Se(4,"Login"),ne(),Q(5,"form",3),$e("ngSubmit",function(){return r.login("","",!1)}),Q(6,"div",4),Qe(7,"input",5),Q(8,"label"),Se(9,"Email"),ne(),xe(10,ESe,4,0,"span",6),xe(11,DSe,4,0,"span",6),ne(),Q(12,"div",4),Qe(13,"input",7),Q(14,"label"),Se(15,"Password"),ne(),xe(16,TSe,4,0,"span",6),ne(),Q(17,"div",8)(18,"button",9),Se(19,"Login"),ne()()(),Q(20,"div",10)(21,"button",11),$e("click",function(){return r.GoogleAuth()}),Qe(22,"img",12),Se(23," Login with google"),ne()(),Q(24,"div",10)(25,"button",13),$e("click",function(){return r.router.navigate(["register"])}),Se(26,"Register"),ne()()()()),2&i){let s,o,c;J(5),se("formGroup",r.loginUser),J(5),se("ngIf",(null==(s=r.loginUser.get("email"))?null:s.hasError("required"))&&(null==(s=r.loginUser.get("email"))?null:s.touched)),J(1),se("ngIf",(null==(o=r.loginUser.get("email"))?null:o.hasError("email"))&&(null==(o=r.loginUser.get("email"))?null:o.touched)),J(5),se("ngIf",(null==(c=r.loginUser.get("password"))?null:c.hasError("required"))&&(null==(c=r.loginUser.get("password"))?null:c.touched)),J(2),se("disabled",r.loginUser.invalid)}},dependencies:[dr,g0,hf,s0,o0,ud,Om],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:10px}.body[_ngcontent-%COMP%]{width:100%;max-width:330px;text-align:center}.btn-google[_ngcontent-%COMP%]{background-color:#fff;color:#444;width:100%;font-weight:500}.btn-reg[_ngcontent-%COMP%]{background-color:#9d9d9d;color:#fff;width:100%;font-weight:500}.btn-google[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-bottom:4px;margin-right:14px}.btn-reg[_ngcontent-%COMP%]{background-color:#9d9d9d;color:#fff;width:100%}"]})}return n})();function SSe(n,t){1&n&&(Q(0,"span",14)(1,"strong"),Se(2,"Mail"),ne(),Se(3," is required "),ne())}function ASe(n,t){1&n&&(Q(0,"span",14),Se(1," Mail must be "),Q(2,"strong"),Se(3,"valid"),ne()())}function kSe(n,t){1&n&&(Q(0,"span",14)(1,"strong"),Se(2,"Password"),ne(),Se(3," is required "),ne())}function MSe(n,t){1&n&&(Q(0,"span",14)(1,"strong"),Se(2,"Password"),ne(),Se(3," is different "),ne())}function RSe(n,t){1&n&&(Q(0,"span",14)(1,"strong"),Se(2,"Name"),ne(),Se(3," is required "),ne())}function OSe(n,t){1&n&&(Q(0,"span",14),Se(1," Provide at least "),Q(2,"strong"),Se(3,"one surname"),ne()())}function PSe(n,t){1&n&&(Q(0,"span",14)(1,"strong"),Se(2,"Phone number"),ne(),Se(3," is required "),ne())}function NSe(n,t){1&n&&(Q(0,"span",14),Se(1," Phone number "),Q(2,"strong"),Se(3,"must be valid "),ne()())}function FSe(n,t){1&n&&(Q(0,"span",14)(1,"strong"),Se(2,"Address"),ne(),Se(3," is required "),ne())}let LSe=(()=>{class n{constructor(e,i,r,s,o,c,u){this.fb=e,this.afAuth=i,this.router=r,this.fireBaseErrorService=s,this.toastr=o,this.storageService=c,this.apiService=u,this.registerUser=this.fb.group({email:["",[wr.required,wr.email]],password:["",wr.required],password_rep:["",[wr.required]],name:["",wr.required],surnames:["",[wr.required]],phone:[" ",[wr.required,wr.min(1e8),wr.max(999999999)]],address:["",wr.required]}),this.subscription=this.storageService.isLoggedIn.subscribe(f=>{1==f&&this.router.navigate(["home"])})}register(){const e=this.registerUser.value.email,i=this.registerUser.value.password;this.registerUser.value.password_rep!=this.registerUser.value.password&&this.toastr.error("Passwords do not match","Password error"),this.afAuth.createUserWithEmailAndPassword(e,i).then(r=>{this.apiService.addUser({id:r.user?.uid,name:this.registerUser.value.name,address:{latitude:"0.0",longitude:"0.0"},email:this.registerUser.value.email,phone:this.registerUser.value.phone,surnames:this.registerUser.value.surnames}),this.toastr.success("Register completed","Congratulations!"),this.router.navigate([""])}).catch(r=>{this.toastr.error(this.fireBaseErrorService.firebaseError(r.code),"Error")})}static#e=this.\u0275fac=function(i){return new(i||n)(H(v1),H(qc),H(rs),H(I7),H(b0),H(bc),H(Pu))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-register"]],decls:45,vars:11,consts:[[1,"wrapper"],[1,"body"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["class","text-danger errorLabel",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["type","password","formControlName","password_rep","placeholder","Password Repeat",1,"form-control"],["type","text","formControlName","name","placeholder","Name",1,"form-control"],["type","text","formControlName","surnames","placeholder","Surnames",1,"form-control"],["type","tel","formControlName","phone","placeholder","Phone",1,"form-control"],["type","text","formControlName","address","placeholder","Address",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"text-danger","errorLabel"]],template:function(i,r){if(1&i&&(Q(0,"div",0)(1,"div",1)(2,"h1"),Se(3,"Register"),ne(),Q(4,"form",2),$e("ngSubmit",function(){return r.register()}),Q(5,"div",3),Qe(6,"input",4),Q(7,"label"),Se(8,"Email"),ne(),xe(9,SSe,4,0,"span",5),xe(10,ASe,4,0,"span",5),ne(),Q(11,"div",3),Qe(12,"input",6),Q(13,"label"),Se(14,"Password"),ne(),xe(15,kSe,4,0,"span",5),ne(),Q(16,"div",3),Qe(17,"input",7),Q(18,"label"),Se(19,"Repeat Password"),ne(),xe(20,MSe,4,0,"span",5),ne(),Q(21,"div",3),Qe(22,"input",8),Q(23,"label"),Se(24,"Name"),ne(),xe(25,RSe,4,0,"span",5),ne(),Q(26,"div",3),Qe(27,"input",9),Q(28,"label"),Se(29,"Surnames"),ne(),xe(30,OSe,4,0,"span",5),ne(),Q(31,"div",3),Qe(32,"input",10),Q(33,"label"),Se(34,"Phone number"),ne(),xe(35,PSe,4,0,"span",5),xe(36,NSe,4,0,"span",5),ne(),Q(37,"div",3),Qe(38,"input",11),Q(39,"label"),Se(40,"Address"),ne(),xe(41,FSe,4,0,"span",5),ne(),Q(42,"div",12)(43,"button",13),Se(44,"Register"),ne()()()()()),2&i){let s,o,c,u,f,_,w,T,M;J(4),se("formGroup",r.registerUser),J(5),se("ngIf",(null==(s=r.registerUser.get("email"))?null:s.hasError("required"))&&(null==(s=r.registerUser.get("email"))?null:s.touched)),J(1),se("ngIf",(null==(o=r.registerUser.get("email"))?null:o.hasError("email"))&&(null==(o=r.registerUser.get("email"))?null:o.touched)),J(5),se("ngIf",(null==(c=r.registerUser.get("password"))?null:c.hasError("required"))&&(null==(c=r.registerUser.get("password"))?null:c.touched)),J(5),se("ngIf",(null==(u=r.registerUser.get("password_rep"))?null:u.hasError("checkPasswords"))&&(null==(u=r.registerUser.get("passwor_rep"))?null:u.touched)),J(5),se("ngIf",(null==(f=r.registerUser.get("name"))?null:f.hasError("required"))&&(null==(f=r.registerUser.get("name"))?null:f.touched)),J(5),se("ngIf",(null==(_=r.registerUser.get("surnames"))?null:_.hasError("required"))&&(null==(_=r.registerUser.get("surnames"))?null:_.touched)),J(5),se("ngIf",(null==(w=r.registerUser.get("phone"))?null:w.hasError("required"))&&(null==(w=r.registerUser.get("phone"))?null:w.touched)),J(1),se("ngIf",((null==(T=r.registerUser.get("phone"))?null:T.hasError("min"))||(null==(T=r.registerUser.get("phone"))?null:T.hasError("max")))&&(null==(T=r.registerUser.get("phone"))?null:T.touched)),J(5),se("ngIf",(null==(M=r.registerUser.get("address"))?null:M.hasError("address"))&&(null==(M=r.registerUser.get("address"))?null:M.touched)),J(2),se("disabled",r.registerUser.invalid)}},dependencies:[dr,g0,hf,s0,o0,ud,Om],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:10px}.body[_ngcontent-%COMP%]{width:100%;max-width:330px;margin:auto;padding:30px;text-align:center}"]})}return n})();const S7=["*"];class Sl{_clearListeners(){for(const t of this._listeners)t.remove();this._listeners=[]}constructor(t){this._ngZone=t,this._pending=[],this._listeners=[],this._targetStream=new W(void 0)}getLazyEmitter(t){return this._targetStream.pipe(vt(e=>{const i=new zt(r=>{if(!e)return void this._pending.push({observable:i,observer:r});const s=e.addListener(t,o=>{this._ngZone.run(()=>r.next(o))});if(s)return this._listeners.push(s),()=>s.remove();r.complete()});return i}))}setTarget(t){const e=this._targetStream.value;t!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(t),this._pending.forEach(i=>i.observable.subscribe(i.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const R0={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"};let Lo=(()=>{class n{set center(e){this._center=e}set zoom(e){this._zoom=e}set options(e){this._options=e||R0}constructor(e,i,r){if(this._elementRef=e,this._ngZone=i,this._eventManager=new Sl(We(ct)),this.height="500px",this.width="500px",this._options=R0,this.mapInitialized=new Le,this.authFailure=new Le,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=qA(r),this._isBrowser){const s=window;this._existingAuthFailureCallback=s.gm_authFailure,s.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(e){(e.height||e.width)&&this._setSize();const i=this.googleMap;i&&(e.options&&i.setOptions(this._combineOptions()),e.center&&this._center&&i.setCenter(this._center),e.zoom&&null!=this._zoom&&i.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&i.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._ngZone.runOutsideAngular(()=>{this.googleMap=new google.maps.Map(this._mapEl,this._combineOptions())}),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap))}ngOnDestroy(){this._eventManager.destroy(),this._isBrowser&&(window.gm_authFailure=this._existingAuthFailureCallback)}fitBounds(e,i){this._assertInitialized(),this.googleMap.fitBounds(e,i)}panBy(e,i){this._assertInitialized(),this.googleMap.panBy(e,i)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,i){this._assertInitialized(),this.googleMap.panToBounds(e,i)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const e=this._mapEl.style;e.height=null===this.height?"":M7(this.height)||"500px",e.width=null===this.width?"":M7(this.width)||"500px"}}_combineOptions(){const e=this._options||{};return{...e,center:this._center||e.center||R0.center,zoom:this._zoom??e.zoom??R0.zoom,mapTypeId:this.mapTypeId||e.mapTypeId||R0.mapTypeId}}_assertInitialized(){}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(ct),H(wo))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[An],ngContentSelectors:S7,decls:2,vars:0,consts:[[1,"map-container"]],template:function(i,r){1&i&&(ua(),Qe(0,"div",0),Qi(1))},encapsulation:2,changeDetection:0})}return n})();const VSe=/([A-Za-z%]+)$/;function M7(n){return null==n?"":VSe.test(n)?n:`${n}px`}const GSe={position:{lat:37.421995,lng:-122.084092}};let yF=(()=>{class n{set title(e){this._title=e}set position(e){this._position=e}set label(e){this._label=e}set clickable(e){this._clickable=e}set options(e){this._options=e}set icon(e){this._icon=e}set visible(e){this._visible=e}constructor(e,i){this._googleMap=e,this._ngZone=i,this._eventManager=new Sl(We(ct)),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this.marker=new google.maps.Marker(this._combineOptions())}),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker))}ngOnChanges(e){const{marker:i,_title:r,_position:s,_label:o,_clickable:c,_icon:u,_visible:f}=this;i&&(e.options&&i.setOptions(this._combineOptions()),e.title&&void 0!==r&&i.setTitle(r),e.position&&s&&i.setPosition(s),e.label&&void 0!==o&&i.setLabel(o),e.clickable&&void 0!==c&&i.setClickable(c),e.icon&&u&&i.setIcon(u),e.visible&&void 0!==f&&i.setVisible(f))}ngOnDestroy(){this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){const e=this._options||GSe;return{...e,title:this._title||e.title,position:this._position||e.position,label:this._label||e.label,clickable:this._clickable??e.clickable,map:this._googleMap.googleMap,icon:this._icon||e.icon,visible:this._visible??e.visible}}_assertInitialized(){}static#e=this.\u0275fac=function(i){return new(i||n)(H(Lo),H(ct))};static#t=this.\u0275dir=Ue({type:n,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"],features:[An]})}return n})(),tAe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})();function nAe(n,t){if(1&n&&Qe(0,"map-marker",17),2&n){const e=t.$implicit,i=be();se("options",i.parkMarkerOptions)("position",e.getPosition())("visible",i.marker1.getVisible())}}let R7=(()=>{class n{constructor(e){this.httpClient=e,this.zoom=15,this.options={mapTypeId:"hybrid",zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0,maxZoom:15,minZoom:8,disableDefaultUI:!0},this.markerOptions={draggable:!1,icon:{url:"../assets/mapIcons/user_position.svg",scaledSize:new google.maps.Size(50,50)}},this.parkMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_park.svg",scaledSize:new google.maps.Size(50,50)}},this.cofeeMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_cofee.svg",scaledSize:new google.maps.Size(50,50)}},this.hairMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_hair.svg",scaledSize:new google.maps.Size(50,50)}},this.hotelMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_hotel.svg",scaledSize:new google.maps.Size(50,50)}},this.storeMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_store.svg",scaledSize:new google.maps.Size(50,50)}},this.toystoreMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_toystore.svg",scaledSize:new google.maps.Size(50,50)}},this.markers=[],this.parkMarkers=[],this.userMarker=new google.maps.Marker,this.marker1=new google.maps.Marker,this.marker2=new google.maps.Marker,this.marker3=new google.maps.Marker,this.marker4=new google.maps.Marker,this.marker5=new google.maps.Marker,this.marker6=new google.maps.Marker,this.apiKey="AIzaSyAouWao_x1bulJ9RkrfYpYP49u2a9RzSXw"}ngOnInit(){this.getPosition().then(e=>{e&&(this.center=e,this.userMarker.setPosition(e),this.getNearbyRestaurants(this.center).then(i=>{}))}),this.generateMockMarkers()}generateMockMarkers(){this.marker1.setPosition({lat:41.616858,lng:.644994}),this.marker2.setPosition({lat:41.602403,lng:.646611}),this.marker3.setPosition({lat:41.593508,lng:.629787}),this.marker4.setPosition({lat:41.63944,lng:.627794}),this.marker5.setPosition({lat:41.627029,lng:.617831}),this.marker6.setPosition({lat:41.623057,lng:.601558}),this.marker1.setIcon(),this.parkMarkers.push(this.marker1),this.parkMarkers.push(this.marker2),this.parkMarkers.push(this.marker3),this.parkMarkers.push(this.marker4),this.parkMarkers.push(this.marker5),this.parkMarkers.push(this.marker6)}getNearbyRestaurants(e){console.log(e);const r=`https://maps.googleapis.com/maps/api/place/nearbysearch/\n    json?location=${e.lat},${e.lng}\n    &radius=500\n    &type=restaurant\n    &key=${this.apiKey}`;return this.httpClient.get(r),new Promise((s,o)=>{this.httpClient.get(r).subscribe(c=>{s(c.results)},c=>{o(c)})})}getPosition(){return new Promise((e,i)=>{navigator.geolocation.getCurrentPosition(r=>{e({lng:r.coords.longitude,lat:r.coords.latitude})},r=>{i(r)})})}toggleButtonClass(e,i){var r=document.getElementById(e);r instanceof HTMLButtonElement&&(r.classList.contains("button-on")?(r.classList.remove("button-on"),r.classList.add("button-off"),i.setVisible(!0)):(r.classList.add("button-on"),r.classList.remove("button-off"),i.setVisible(!1)))}obtainCoordByStr(){alert("executing...");const i=document.getElementById("searchInput").value,s=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(i)}&key=${this.apiKey}`;this.httpClient.get(s).subscribe(o=>{if("OK"===o.status&&o.results.length>0){const c=o.results[0].geometry.location;console.log(i,c),this.center=c,this.userMarker.setPosition(c)}})}static#e=this.\u0275fac=function(i){return new(i||n)(H(x1))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-map-page"]],decls:54,vars:29,consts:[["id","searchInput","placeholder","Av/ John Doe 1234",1,"input",3,"keydown.enter"],["height","500px","width","100%",3,"zoom","center"],["id","",3,"options","position"],["id","parkMarker",3,"options","position","visible",4,"ngFor","ngForOf"],[1,"button-container"],["id","storeBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/shop_ico.svg","alt",""],["id","parkBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/park_ico.svg","alt",""],["id","cafeBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/cafe_ico.svg","alt",""],["id","homeBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/hotel_ico.svg","alt",""],["id","hairBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/hair_ico.svg","alt",""],["id","petstoreBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/toystore_ico.svg","alt",""],["id","parkMarker",3,"options","position","visible"]],template:function(i,r){1&i&&(Q(0,"h1"),Se(1),Nt(2,"transloco"),ne(),Q(3,"h2"),Se(4),Nt(5,"transloco"),ne(),Q(6,"input",0),$e("keydown.enter",function(){return r.obtainCoordByStr()}),ne(),Q(7,"google-map",1),Qe(8,"map-marker",2),xe(9,nAe,1,3,"map-marker",3),ne(),Q(10,"div",4)(11,"div")(12,"button",5),$e("click",function(){return r.toggleButtonClass("storeBtn",r.marker5)}),Qe(13,"img",6),ne(),Qe(14,"br"),Q(15,"label"),Se(16),Nt(17,"transloco"),ne()(),Q(18,"div")(19,"button",7),$e("click",function(){return r.toggleButtonClass("parkBtn",r.marker1)}),Qe(20,"img",8),ne(),Qe(21,"br"),Q(22,"label"),Se(23),Nt(24,"transloco"),ne()(),Q(25,"div")(26,"button",9),$e("click",function(){return r.toggleButtonClass("cafeBtn",r.marker2)}),Qe(27,"img",10),ne(),Qe(28,"br"),Q(29,"label"),Se(30),Nt(31,"transloco"),ne()()(),Q(32,"div",4)(33,"div")(34,"button",11),$e("click",function(){return r.toggleButtonClass("homeBtn",r.marker4)}),Qe(35,"img",12),ne(),Qe(36,"br"),Q(37,"label"),Se(38),Nt(39,"transloco"),ne()(),Q(40,"div")(41,"button",13),$e("click",function(){return r.toggleButtonClass("hairBtn",r.marker3)}),Qe(42,"img",14),ne(),Qe(43,"br"),Q(44,"label"),Se(45),Nt(46,"transloco"),ne()(),Q(47,"div")(48,"button",15),$e("click",function(){return r.toggleButtonClass("petstoreBtn",r.marker6)}),Qe(49,"img",16),ne(),Qe(50,"br"),Q(51,"label"),Se(52),Nt(53,"transloco"),ne()()()),2&i&&(J(1),on(mn(2,13,"interactive_maps")),J(3),on(mn(5,15,"find_location")),J(3),se("zoom",12)("center",r.center),J(1),se("options",r.markerOptions)("position",r.userMarker.getPosition()),J(1),se("ngForOf",r.parkMarkers),J(7),on(mn(17,17,"petstore")),J(7),on(mn(24,19,"park")),J(7),on(mn(31,21,"cafe")),J(8),on(mn(39,23,"hotel")),J(7),on(mn(46,25,"hairdresser")),J(7),on(mn(53,27,"toy")))},dependencies:[Or,Lo,yF,md],styles:[".button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:25px 10px;text-align:center}.button-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:0 0 calc(33.33% - 10px)}.button-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}h2[_ngcontent-%COMP%]{font-size:16px;margin-top:20px;margin-bottom:-20px}.button-on[_ngcontent-%COMP%]{margin:10px 0;padding:24px;background-color:#fff;border-radius:10px;box-shadow:#00000059 0 5px 15px;border:none;transition:background-color .3s ease}.button-off[_ngcontent-%COMP%]{margin:10px 0;padding:24px;background-color:#a9dfaa;border-radius:10px;box-shadow:inset 0 0 10px #00000080;border:none;transition:background-color .3s ease}.input[_ngcontent-%COMP%]{width:100%;border-radius:10px;margin-bottom:20px}"]})}return n})();function H1(n){return(H1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function En(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function yi(n){En(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||"object"===H1(n)&&"[object Date]"===t?new Date(n.getTime()):"number"==typeof n||"[object Number]"===t?new Date(n):(("string"==typeof n||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function O7(n,t){En(2,arguments);var e=yi(n),i=yi(t);return e.getFullYear()===i.getFullYear()&&e.getMonth()===i.getMonth()}function O0(n){En(1,arguments);var t=yi(n);return t.setHours(0,0,0,0),t}function P7(n,t){En(2,arguments);var e=O0(n),i=O0(t);return e.getTime()===i.getTime()}var rAe=function(){function n(){}return n.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},n.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},n.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},n.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},n.prototype.position=function(t,e){void 0===e&&(e=!0);var i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i={top:(i=t.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},n.prototype.offset=function(t,e){void 0===e&&(e=!0);var i=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s},n.prototype.positionElements=function(t,e,i,r){var s=i.split("-"),o=s[0],c=void 0===o?"top":o,u=s[1],f=void 0===u?"center":u,_=r?this.offset(t,!1):this.position(t,!1),w=this.getAllStyles(e),T=parseFloat(w.marginTop),M=parseFloat(w.marginBottom),F=parseFloat(w.marginLeft),V=parseFloat(w.marginRight),U=0,re=0;switch(c){case"top":U=_.top-(e.offsetHeight+T+M);break;case"bottom":U=_.top+_.height;break;case"left":re=_.left-(e.offsetWidth+F+V);break;case"right":re=_.left+_.width}switch(f){case"top":U=_.top;break;case"bottom":U=_.top+_.height-e.offsetHeight;break;case"left":re=_.left;break;case"right":re=_.left+_.width-e.offsetWidth;break;case"center":"top"===c||"bottom"===c?re=_.left+_.width/2-e.offsetWidth/2:U=_.top+_.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(re)+"px, "+Math.round(U)+"px)";var ee=e.getBoundingClientRect(),ae=document.documentElement,ge=window.innerHeight||ae.clientHeight,Te=window.innerWidth||ae.clientWidth;return ee.left>=0&&ee.top>=0&&ee.right<=Te&&ee.bottom<=ge},n}(),sAe=/\s+/,N7=new rAe,Al=function(){return Al=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Al.apply(this,arguments)},bF=function(n,t,e){if(e||2===arguments.length)for(var s,i=0,r=t.length;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return n.concat(s||Array.prototype.slice.call(t))},wF=function(n){return n[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",n}(wF||{}),aAe=[wF.SUNDAY,wF.SATURDAY],xF=7,Wu=86400;function F7(n,t){var e=t.startDate,r=t.excluded,s=t.precision;if(r.length<1)return 0;for(var c=n.getDay,u=n.addDays,f=(0,n.addSeconds)(e,t.seconds-1),_=c(e),w=c(f),T=0,M=e,F=function(){var V=c(M);r.some(function(U){return U===V})&&(T+=function lAe(n,t){var i=t.day,s=t.dayEnd,o=t.startDate,c=t.endDate,u=n.differenceInSeconds,_=n.startOfDay;if("minutes"===t.precision){if(i===t.dayStart)return u((0,n.endOfDay)(o),o)+1;if(i===s)return u(c,_(c))+1}return Wu}(n,{dayStart:_,dayEnd:w,day:V,precision:s,startDate:e,endDate:f})),M=u(M,1)};M<f;)F();return T}function P0(n,t){var i=t.periodStart,r=t.periodEnd;return t.events.filter(function(s){return function uAe(n,t){var e=t.event,i=t.periodStart,r=t.periodEnd,s=n.isSameSecond,o=e.start,c=e.end||e.start;return!!(o>i&&o<r||c>i&&c<r||o<i&&c>r||s(o,i)||s(o,r)||s(c,i)||s(c,r))}(n,{event:s,periodStart:i,periodEnd:r})})}function L7(n,t){var e=t.date,i=t.weekendDays,r=void 0===i?aAe:i,o=n.isSameDay,c=n.getDay,u=(0,n.startOfDay)(new Date),f=c(e);return{date:e,day:f,isPast:e<u,isToday:o(e,u),isFuture:e>u,isWeekend:r.indexOf(f)>-1}}function EF(n,t){for(var r=t.excluded,s=void 0===r?[]:r,o=t.weekendDays,c=t.viewStart,u=void 0===c?n.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):c,f=t.viewEnd,_=void 0===f?n.addDays(u,xF):f,w=n.addDays,T=n.getDay,M=[],F=u;F<_;)s.some(function(V){return T(F)===V})||M.push(L7(n,{date:F,weekendDays:o})),F=w(F,1);return M}function fAe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.excluded,s=void 0===r?[]:r,o=t.precision,c=void 0===o?"days":o,u=t.absolutePositionedEvents,f=void 0!==u&&u,_=t.viewStart,w=t.viewEnd;_=n.startOfDay(_),w=n.endOfDay(w);var T=n.differenceInSeconds,M=n.differenceInDays,F=function hAe(n,t){for(var i=t.date2,r=t.excluded,s=t.date1,o=0;s<i;)-1===r.indexOf(n.getDay(s))&&o++,s=n.addDays(s,1);return o}(n,{date1:_,date2:w,excluded:s}),V=M(w,_)+1,U=i.filter(function(ae){return ae.allDay}).map(function(ae){var ge=function dAe(n,t){var e=t.event,i=t.startOfWeek,r=t.excluded,s=t.precision,o=n.differenceInDays,c=n.startOfDay,u=n.differenceInSeconds;if(e.start<i)return 0;var f=0;switch(s){case"days":f=o(c(e.start),i)*Wu;break;case"minutes":f=u(e.start,i)}return f-=F7(n,{startDate:i,seconds:f,excluded:r,precision:s}),Math.abs(f/Wu)}(n,{event:ae,startOfWeek:_,excluded:s,precision:c}),Te=function cAe(n,t){var e=t.event,i=t.offset,s=t.excluded,o=t.precision,c=t.totalDaysInView,f=n.differenceInSeconds,_=n.addDays,w=n.endOfDay,T=n.differenceInDays,M=Wu,F=(0,n.max)([e.start,t.startOfWeekDate]);e.end&&(M="minutes"===o?f(e.end,F):T(_(w(e.end),1),F)*Wu);var V=i*Wu,re=c*Wu;return V+M>re&&(M=re-V),(M-=F7(n,{startDate:F,seconds:M,excluded:s,precision:o}))/Wu}(n,{event:ae,offset:ge,startOfWeekDate:_,excluded:s,precision:c,totalDaysInView:V});return{event:ae,offset:ge,span:Te}}).filter(function(ae){return ae.offset<F}).filter(function(ae){return ae.span>0}).map(function(ae){return{event:ae.event,offset:ae.offset,span:ae.span,startsBeforeWeek:ae.event.start<_,endsAfterWeek:(ae.event.end||ae.event.start)>w}}).sort(function(ae,ge){var Te=T(ae.event.start,ge.event.start);return 0===Te?T(ge.event.end||ge.event.start,ae.event.end||ae.event.start):Te}),re=[],ee=[];return U.forEach(function(ae,ge){if(-1===ee.indexOf(ae)){ee.push(ae);var Te=ae.span+ae.offset,qe=U.slice(ge+1).filter(function(Dt){if(Dt.offset>=Te&&Te+Dt.span<=V&&-1===ee.indexOf(Dt)){var kt=Dt.offset-Te;return f||(Dt.offset=kt),Te+=Dt.span+kt,ee.push(Dt),!0}}),ht=bF([ae],qe,!0),ut=ht.filter(function(Dt){return Dt.event.id}).map(function(Dt){return Dt.event.id}).join("-");re.push(Al({row:ht},ut?{id:ut}:{}))}}),re}function pAe(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.hourDuration,o=t.dayStart,c=t.dayEnd,u=t.weekStartsOn,f=t.excluded,_=t.weekendDays,w=t.segmentHeight,T=t.viewStart,M=t.viewEnd,F=t.minimumEventHeight,V=function vAe(n,t){var e=t.viewDate,i=t.hourSegments,r=t.hourDuration,s=t.dayStart,o=t.dayEnd,c=n.setMinutes,u=n.setHours,f=n.startOfDay,_=n.startOfMinute,w=n.endOfDay,T=n.addMinutes,M=n.addDays,F=[],V=c(u(f(e),W1(s.hour)),G1(s.minute)),U=c(u(_(w(e)),W1(o.hour)),G1(o.minute)),re=(r||60)/i,ee=f(e),ae=w(e),ge=function(kt){return kt};n.getTimezoneOffset(ee)!==n.getTimezoneOffset(ae)&&(ee=M(ee,1),V=M(V,1),U=M(U,1),ge=function(kt){return M(kt,-1)});for(var Te=r?1440/r:60,qe=0;qe<Te;qe++){for(var ht=[],ut=0;ut<i;ut++){var Dt=T(T(V,qe*(r||60)),ut*re);Dt>=V&&Dt<U&&ht.push({date:ge(Dt),displayDate:Dt,isStart:0===ut})}ht.length>0&&F.push({segments:ht})}return F}(n,{viewDate:i,hourSegments:r,hourDuration:s,dayStart:o,dayEnd:c}),U=EF(n,{viewDate:i,weekStartsOn:u,excluded:f,weekendDays:_,viewStart:T,viewEnd:M}),re=n.setHours,ee=n.setMinutes,ae=n.getHours,ge=n.getMinutes;return U.map(function(Te){var qe=function _Ae(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.dayStart,o=t.dayEnd,c=t.eventWidth,u=t.segmentHeight,f=t.hourDuration,_=t.minimumEventHeight,w=n.setMinutes,T=n.setHours,M=n.startOfDay,F=n.startOfMinute,V=n.endOfDay,U=n.differenceInMinutes,re=w(T(M(i),W1(s.hour)),G1(s.minute)),ee=w(T(F(V(i)),W1(o.hour)),G1(o.minute));ee.setSeconds(59,999);var ae=[],ge=P0(n,{events:e.filter(function(ut){return!ut.allDay}),periodStart:re,periodEnd:ee}),Te=ge.sort(function(ut,Dt){return ut.start.valueOf()-Dt.start.valueOf()}).map(function(ut){var Dt=ut.start,kt=ut.end||Dt,gt=Dt<re,_t=kt>ee,cn=r*u/(f||60),ei=0;if(Dt>re){var ia=n.getTimezoneOffset(Dt),Mt=n.getTimezoneOffset(re)-ia;ei+=U(Dt,re)+Mt}ei*=cn,ei=Math.floor(ei);var Qt=gt?re:Dt,Jt=_t?ee:kt,ki=n.getTimezoneOffset(Qt)-n.getTimezoneOffset(Jt),ar=U(Jt,Qt)+ki;ut.end?ar*=cn:ar=u,_&&ar<_&&(ar=_),ar=Math.floor(ar);for(var Vo=j1(ae,ei,ei+ar),ui=0;Vo.some(function(bd){return bd.left===ui});)ui+=c;var ra={event:ut,height:ar,width:c,top:ei,left:ui,startsBeforeDay:gt,endsAfterDay:_t};return ae.push(ra),ra}),qe=Math.max.apply(Math,Te.map(function(ut){return ut.left+ut.width})),ht=P0(n,{events:e.filter(function(ut){return ut.allDay}),periodStart:M(re),periodEnd:V(ee)});return{events:Te,width:qe,allDayEvents:ht,period:{events:ge,start:re,end:ee}}}(n,{events:e,viewDate:Te.date,hourSegments:r,dayStart:o,dayEnd:c,segmentHeight:w,eventWidth:1,hourDuration:s,minimumEventHeight:F}),ht=V.map(function(kt){var gt=kt.segments.map(function(_t){var cn=ee(re(Te.date,ae(_t.date)),ge(_t.date));return Al(Al({},_t),{date:cn})});return Al(Al({},kt),{segments:gt})});function ut(kt,gt){var _t=Math.max.apply(Math,gt.map(function(ei){return ei.left+1})),cn=kt.filter(function(ei){return ei.left>=_t}).filter(function(ei){return j1(gt,ei.top,ei.top+ei.height).length>0});return cn.length>0?ut(kt,cn):_t}var Dt=qe.events.map(function(kt){var _t=100/ut(qe.events,j1(qe.events,kt.top,kt.top+kt.height));return Al(Al({},kt),{left:kt.left*_t,width:_t})});return{hours:ht,date:Te.date,events:Dt.map(function(kt){var gt=j1(Dt.filter(function(_t){return _t.left>kt.left}),kt.top,kt.top+kt.height);return gt.length>0?Al(Al({},kt),{width:Math.min.apply(Math,gt.map(function(_t){return _t.left}))-kt.left}):kt})}})}function j1(n,t,e){return n.filter(function(i){var r=i.top,s=i.top+i.height;return t<s&&s<e||t<r&&r<e||r<=t&&e<=s})}function W1(n){return Math.max(Math.min(23,n),0)}function G1(n){return Math.max(Math.min(59,n),0)}var Wm=function(n){return n.NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",n}(Wm||{});function DF(n,t){return n=function xAe(n,t){return typeof n>"u"?typeof t>"u"?n:t:n}(n,t),"function"==typeof n?function(){for(var i=arguments,r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=i[o];return!!n.apply(this,s)}:n?function(){return!0}:function(){return!1}}var TF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},V7=function(n){return null!=n&&"object"===(typeof n>"u"?"undefined":TF(n))&&1===n.nodeType&&"object"===TF(n.style)&&"object"===TF(n.ownerDocument)};function B7(n,t){if(t=SF(t,!0),!V7(t))return-1;for(var e=0;e<n.length;e++)if(n[e]===t)return e;return-1}function IF(n,t){return-1!==B7(n,t)}function EAe(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return function CAe(n,t){for(var e=0;e<t.length;e++)IF(n,t[e])||n.push(t[e]);return t}(n,e=e.map(SF))}function DAe(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return e.map(SF).reduce(function(r,s){var o=B7(n,s);return-1!==o?r.concat(n.splice(o,1)):r},[])}function SF(n,t){if("string"==typeof n)try{return document.querySelector(n)}catch(e){throw e}if(!V7(n)&&!t)throw new TypeError(n+" is not a DOM element.");return n}function z7(n){if(n===window)return function IAe(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var t={};return Object.defineProperties(t,n),t}();try{var t=n.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}var t,AF=void 0;"function"!=typeof Object.create?(t=function(){},AF=function(e,i){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");t.prototype=e||{};var r=new t;return t.prototype=null,void 0!==i&&Object.defineProperties(r,i),null===e&&(r.__proto__=null),r}):AF=Object.create;var AAe=AF,Cf=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function kF(n,t){t=t||{};for(var e=AAe(n),i=0;i<Cf.length;i++)void 0!==t[Cf[i]]&&(e[Cf[i]]=t[Cf[i]]);return e}function MF(n,t){console.log("data ",t),n.data=t||{},n.dispatched="mousemove"}var N0=["webkit","moz","ms","o"],F0=function(){if(typeof window>"u")return function(){};for(var n=0,t=N0.length;n<t&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[N0[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(i){var r=(new Date).getTime(),s=Math.max(0,16-r-e),o=window.setTimeout(function(){return i(r+s)},s);return e=r+s,o}}return window.requestAnimationFrame.bind(window)}(),Gm=function(){if(typeof window>"u")return function(){};for(var n=0,t=N0.length;n<t&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[N0[n]+"CancelAnimationFrame"]||window[N0[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function MAe(n,t){void 0===t&&(t={});var e=this,i=4,r=!1;if("object"!=typeof t.margin){var s=t.margin||-1;this.margin={left:s,right:s,top:s,bottom:s}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var o={},c=function TAe(n,t){var e=DF((t=t||{}).allowUpdate,!0);return function(r){if(r=r||window.event,n.target=r.target||r.srcElement||r.originalTarget,n.element=this,n.type=r.type,e(r)){if(r.targetTouches)n.x=r.targetTouches[0].clientX,n.y=r.targetTouches[0].clientY,n.pageX=r.targetTouches[0].pageX,n.pageY=r.targetTouches[0].pageY,n.screenX=r.targetTouches[0].screenX,n.screenY=r.targetTouches[0].screenY;else{if(null===r.pageX&&null!==r.clientX){var s=r.target&&r.target.ownerDocument||document,o=s.documentElement,c=s.body;n.pageX=r.clientX+(o&&o.scrollLeft||c&&c.scrollLeft||0)-(o&&o.clientLeft||c&&c.clientLeft||0),n.pageY=r.clientY+(o&&o.scrollTop||c&&c.scrollTop||0)-(o&&o.clientTop||c&&c.clientTop||0)}else n.pageX=r.pageX,n.pageY=r.pageY;n.x=r.clientX,n.y=r.clientY,n.screenX=r.screenX,n.screenY=r.screenY}n.clientX=n.x,n.clientY=n.y}}}(o),u=function kAe(n){var t={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function e(s){for(var o=0;o<Cf.length;o++)t[Cf[o]]=s[Cf[o]]}return void 0!==n&&n.addEventListener("mousemove",e),{destroy:function r(){n&&n.removeEventListener("mousemove",e,!1),t=null},dispatch:MouseEvent?function(o,c,u){var f=new MouseEvent("mousemove",kF(t,c));return MF(f,u),o.dispatchEvent(f)}:"function"==typeof document.createEvent?function(o,c,u){var f=kF(t,c),_=document.createEvent("MouseEvents");return _.initMouseEvent("mousemove",!0,!0,window,0,f.screenX,f.screenY,f.clientX,f.clientY,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget),MF(_,u),o.dispatchEvent(_)}:"function"==typeof document.createEventObject?function(o,c,u){var f=document.createEventObject(),_=kF(t,c);for(var w in _)f[w]=_[w];return MF(f,u),o.dispatchEvent(f)}:void 0}}(),f=!1;window.addEventListener("mousemove",c,!1),window.addEventListener("touchmove",c,!1),isNaN(t.maxSpeed)||(i=t.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=DF(t.autoScroll),this.syncMove=DF(t.syncMove,!1),this.destroy=function(gt){window.removeEventListener("mousemove",c,!1),window.removeEventListener("touchmove",c,!1),window.removeEventListener("mousedown",V,!1),window.removeEventListener("touchstart",V,!1),window.removeEventListener("mouseup",U,!1),window.removeEventListener("touchend",U,!1),window.removeEventListener("pointerup",U,!1),window.removeEventListener("mouseleave",ee,!1),window.removeEventListener("mousemove",Te,!1),window.removeEventListener("touchmove",Te,!1),window.removeEventListener("scroll",F,!0),n=[],gt&&re()},this.add=function(){for(var gt=[],_t=arguments.length;_t--;)gt[_t]=arguments[_t];return EAe.apply(void 0,[n].concat(gt)),this},this.remove=function(){for(var gt=[],_t=arguments.length;_t--;)gt[_t]=arguments[_t];return DAe.apply(void 0,[n].concat(gt))};var w,gt,_=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),gt=n,n=[],gt.forEach(function(_t){_t===window?_=window:e.add(_t)}),Object.defineProperties(this,{down:{get:function(){return f}},maxSpeed:{get:function(){return i}},point:{get:function(){return o}},scrolling:{get:function(){return r}}});var M,T=null;function F(gt){for(var _t=0;_t<n.length;_t++)if(n[_t]===gt.target){r=!0;break}r&&F0(function(){return r=!1})}function V(){f=!0}function U(){f=!1,re()}function re(){Gm(M),Gm(w)}function ee(){f=!1}function ge(){for(var gt=null,_t=0;_t<n.length;_t++)H7(o,n[_t])&&(gt=n[_t]);return gt}function Te(gt){if(e.autoScroll()&&!gt.dispatched){var _t=gt.target,cn=document.body;T&&!H7(o,T)&&(e.scrollWhenOutside||(T=null)),_t&&_t.parentNode===cn?_t=ge():(_t=function ae(gt){if(!gt)return null;if(T===gt||IF(n,gt))return gt;for(;gt=gt.parentNode;)if(IF(n,gt))return gt;return null}(_t),_t||(_t=ge())),_t&&_t!==T&&(T=_t),_&&(Gm(w),w=F0(qe)),T&&(Gm(M),M=F0(ht))}}function qe(){ut(_),Gm(w),w=F0(qe)}function ht(){T&&(ut(T),Gm(M),M=F0(ht))}function ut(gt){var cn,ei,_t=z7(gt);cn=o.x<_t.left+e.margin.left?Math.floor(Math.max(-1,(o.x-_t.left)/e.margin.left-1)*e.maxSpeed.left):o.x>_t.right-e.margin.right?Math.ceil(Math.min(1,(o.x-_t.right)/e.margin.right+1)*e.maxSpeed.right):0,ei=o.y<_t.top+e.margin.top?Math.floor(Math.max(-1,(o.y-_t.top)/e.margin.top-1)*e.maxSpeed.top):o.y>_t.bottom-e.margin.bottom?Math.ceil(Math.min(1,(o.y-_t.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):0,e.syncMove()&&u.dispatch(gt,{pageX:o.pageX+cn,pageY:o.pageY+ei,clientX:o.x+cn,clientY:o.y+ei}),setTimeout(function(){ei&&function Dt(gt,_t){gt===window?window.scrollTo(gt.pageXOffset,gt.pageYOffset+_t):gt.scrollTop+=_t}(gt,ei),cn&&function kt(gt,_t){gt===window?window.scrollTo(gt.pageXOffset+_t,gt.pageYOffset):gt.scrollLeft+=_t}(gt,cn)})}window.addEventListener("mousedown",V,!1),window.addEventListener("touchstart",V,!1),window.addEventListener("mouseup",U,!1),window.addEventListener("touchend",U,!1),window.addEventListener("pointerup",U,!1),window.addEventListener("mousemove",Te,!1),window.addEventListener("touchmove",Te,!1),window.addEventListener("mouseleave",ee,!1),window.addEventListener("scroll",F,!0)}function H7(n,t,e){return e?n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right:function SAe(n,t){var e=z7(t);return n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right}(n,t)}function RF(n,t,e){e&&e.split(" ").forEach(i=>n.addClass(t.nativeElement,i))}function $1(n,t,e){e&&e.split(" ").forEach(i=>n.removeClass(t.nativeElement,i))}let U7=(()=>{class n{constructor(){this.currentDrag=new fe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j7=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(H(Ht))},n.\u0275dir=Ue({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),OF=(()=>{class n{constructor(e,i,r,s,o,c,u){this.element=e,this.renderer=i,this.draggableHelper=r,this.zone=s,this.vcr=o,this.scrollContainer=c,this.document=u,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new Le,this.dragStart=new Le,this.ghostElementCreated=new Le,this.dragging=new Le,this.dragEnd=new Le,this.pointerDown$=new fe,this.pointerMove$=new fe,this.pointerUp$=new fe,this.eventListenerSubscriptions={},this.destroy$=new fe,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(Hn(()=>this.canDrag()),In(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();const r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(r)});const s=this.getScrollPosition(),o=new zt(M=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",V=>M.next(V))).pipe(va(s),Ge(()=>this.getScrollPosition())),c=new fe,u=new S3;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const f=K(this.pointerUp$,this.pointerDown$,u,this.destroy$).pipe(Be()),_=Ya([this.pointerMove$,o]).pipe(Ge(([M,F])=>({currentDrag$:c,transformX:M.clientX-i.clientX,transformY:M.clientY-i.clientY,clientX:M.clientX,clientY:M.clientY,scrollLeft:F.left,scrollTop:F.top,target:M.event.target})),Ge(M=>(this.dragSnapGrid.x&&(M.transformX=Math.round(M.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(M.transformY=Math.round(M.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),M)),Ge(M=>(this.dragAxis.x||(M.transformX=0),this.dragAxis.y||(M.transformY=0),M)),Ge(M=>{const F=M.scrollLeft-s.left,V=M.scrollTop-s.top;return{...M,x:M.transformX+F,y:M.transformY+V}}),Hn(({x:M,y:F,transformX:V,transformY:U})=>!this.validateDrag||this.validateDrag({x:M,y:F,transform:{x:V,y:U}})),$t(f),Be()),w=_.pipe(Kn(1),Be()),T=_.pipe(jD(1),Be());return w.subscribe(({clientX:M,clientY:F,x:V,y:U})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:u})}),this.scroller=function RAe(n,t){return new MAe(n,t)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],{...this.autoScroll,autoScroll:()=>!0}),RF(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const re=this.element.nativeElement.getBoundingClientRect(),ee=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(ee):this.element.nativeElement.parentNode.insertBefore(ee,this.element.nativeElement.nextSibling),this.ghostElement=ee,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(ee,{position:"fixed",top:`${re.top}px`,left:`${re.left}px`,width:`${re.width}px`,height:`${re.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const ae=this.vcr.createEmbeddedView(this.ghostElementTemplate);ee.innerHTML="",ae.rootNodes.filter(ge=>ge instanceof Node).forEach(ge=>{ee.appendChild(ge)}),T.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(ae))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:M-V,clientY:F-U,element:ee})}),T.subscribe(()=>{ee.parentElement.removeChild(ee),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(c)}),T.pipe(In(M=>{const F=u.pipe(function wAe(n){return function bAe(n,t){return je(k3(n,t,arguments.length>=2,!1,!0))}((t,e,i)=>!n||n(e,i)?t+1:t,0)}(),Kn(1),Ge(V=>({...M,dragCancelled:V>0})));return u.complete(),F})).subscribe(({x:M,y:F,dragCancelled:V})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:M,y:F,dragCancelled:V})}),$1(this.renderer,this.element,this.dragActiveClass),c.complete()}),K(f,T).pipe(Kn(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),_}),Be());K(e.pipe(Kn(1),Ge(i=>[,i])),e.pipe(Sg())).pipe(Hn(([i,r])=>!i||i.x!==r.x||i.y!==r.y),Ge(([i,r])=>r)).subscribe(({x:i,y:r,currentDrag$:s,clientX:o,clientY:c,transformX:u,transformY:f,target:_})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:i,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){const w=`translate3d(${u}px, ${f}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:w,"-webkit-transform":w,"-ms-transform":w,"-moz-transform":w,"-o-transform":w})}}),s.next({clientX:o,clientY:c,dropData:this.dropData,target:_})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;e&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&i&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let i,r,s;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,s=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const o=Xr(this.document,"contextmenu").subscribe(u=>{u.preventDefault()}),c=Xr(this.document,"touchmove",{passive:!1}).subscribe(u=>{this.touchStartLongPress&&!r&&s&&(r=this.shouldBeginDrag(e,u,i)),(!this.touchStartLongPress||!s||r)&&(u.preventDefault(),this.pointerMove$.next({event:u,clientX:u.targetTouches[0].clientX,clientY:u.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{o.unsubscribe(),c.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,i){Object.keys(i).forEach(r=>{this.renderer.setStyle(e,r,i[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,i,r){const s=this.getScrollPosition(),o_top=Math.abs(s.top-r.top),o_left=Math.abs(s.left-r.left),c=Math.abs(i.targetTouches[0].clientX-e.touches[0].clientX)-o_left,u=Math.abs(i.targetTouches[0].clientY-e.touches[0].clientY)-o_top,_=this.touchStartLongPress;return(c+u>_.delta||o_top>0||o_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=_.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(H(Ht),H(jr),H(U7),H(ct),H(Ds),H(j7,8),H(an))},n.\u0275dir=Ue({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[An]}),n})();function W7(n,t,e){return n>=e.left&&n<=e.right&&t>=e.top&&t<=e.bottom}let PF=(()=>{class n{constructor(e,i,r,s,o){this.element=e,this.draggableHelper=i,this.zone=r,this.renderer=s,this.scrollContainer=o,this.dragEnter=new Le,this.dragLeave=new Le,this.dragOver=new Le,this.drop=new Le}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{RF(this.renderer,this.element,this.dragActiveClass);const i={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0});let s;const o=e.pipe(Ge(({clientX:f,clientY:_,dropData:w,target:T})=>{s={clientX:f,clientY:_,dropData:w,target:T},i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);const M=W7(f,_,i.rect),F=!this.validateDrop||this.validateDrop({clientX:f,clientY:_,target:T,dropData:w});return i.scrollContainerRect?M&&F&&W7(f,_,i.scrollContainerRect):M&&F})),c=o.pipe(en());let u;c.pipe(Hn(f=>f)).subscribe(()=>{u=!0,RF(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(s)})}),o.pipe(Hn(f=>f)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(s)})}),c.pipe(Sg(),Hn(([f,_])=>f&&!_)).subscribe(()=>{u=!1,$1(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(s)})}),e.subscribe({complete:()=>{r(),$1(this.renderer,this.element,this.dragActiveClass),u&&($1(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(s)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(H(Ht),H(U7),H(ct),H(jr),H(j7,8))},n.\u0275dir=Ue({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),Y1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Ie({}),n})();const Ef=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function G7(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let o=0;o<r.length;o++)i(r[o],s[o])}}let NAe=0;function $7(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${NAe++}`)}function Y7(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function q7(n,t,e,i){const r={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return t.top&&(r.top+=i),t.bottom&&(r.bottom+=i),t.left&&(r.left+=e),t.right&&(r.right+=e),r.height=r.bottom-r.top,r.width=r.right-r.left,r}const X7=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Z7(n,t){return n.left&&n.top?t.topLeft:n.right&&n.top?t.topRight:n.left&&n.bottom?t.bottomLeft:n.right&&n.bottom?t.bottomRight:n.left||n.right?t.leftOrRight:n.top||n.bottom?t.topOrBottom:""}function q1({edges:n,initialRectangle:t,newRectangle:e}){const i={};return Object.keys(n).forEach(r=>{i[r]=(e[r]||0)-(t[r]||0)}),i}const K7="resize-active";let Q7=(()=>{class n{constructor(e,i,r,s){this.platformId=e,this.renderer=i,this.elm=r,this.zone=s,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=X7,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new Le,this.resizing=new Le,this.resizeEnd=new Le,this.mouseup=new fe,this.mousedown=new fe,this.mousemove=new fe,this.destroy$=new fe,this.pointerEventListeners=$m.getInstance(i,s)}ngOnInit(){const e=K(this.pointerEventListeners.pointerDown,this.mousedown),i=K(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Nr(({event:f})=>{s&&f.cancelable&&f.preventDefault()}),Be()),r=K(this.pointerEventListeners.pointerUp,this.mouseup);let s;const o=()=>{s&&s.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},c=()=>({...X7,...this.resizeCursors});e.pipe(In(f=>{function _(M){return{clientX:M.clientX-f.clientX,clientY:M.clientY-f.clientY}}const w=()=>{const M={x:1,y:1};return s&&(this.resizeSnapGrid.left&&s.edges.left?M.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&s.edges.right&&(M.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&s.edges.top?M.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&s.edges.bottom&&(M.y=+this.resizeSnapGrid.bottom)),M};function T(M,F){return{x:Math.ceil(M.clientX/F.x),y:Math.ceil(M.clientY/F.y)}}return K(i.pipe(Kn(1)).pipe(Ge(M=>[,M])),i.pipe(Sg())).pipe(Ge(([M,F])=>[M&&_(M),_(F)])).pipe(Hn(([M,F])=>{if(!M)return!0;const V=w(),U=T(M,V),re=T(F,V);return U.x!==re.x||U.y!==re.y})).pipe(Ge(([,M])=>{const F=w();return{clientX:Math.round(M.clientX/F.x)*F.x,clientY:Math.round(M.clientY/F.y)*F.y}})).pipe($t(K(r,e)))})).pipe(Hn(()=>!!s)).pipe(Ge(({clientX:f,clientY:_})=>q7(s.startingRect,s.edges,f,_))).pipe(Hn(f=>this.allowNegativeResizes||!!(f.height&&f.width&&f.height>0&&f.width>0))).pipe(Hn(f=>!this.validateResize||this.validateResize({rectangle:f,edges:q1({edges:s.edges,initialRectangle:s.startingRect,newRectangle:f})})),$t(this.destroy$)).subscribe(f=>{s&&s.clonedNode&&(this.renderer.setStyle(s.clonedNode,"height",`${f.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${f.width}px`),this.renderer.setStyle(s.clonedNode,"top",`${f.top}px`),this.renderer.setStyle(s.clonedNode,"left",`${f.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:q1({edges:s.edges,initialRectangle:s.startingRect,newRectangle:f}),rectangle:f})}),s.currentRect=f}),e.pipe(Ge(({edges:f})=>f||{}),Hn(f=>Object.keys(f).length>0),$t(this.destroy$)).subscribe(f=>{s&&o();const _=function FAe(n,t){let e=0,i=0;const r=n.nativeElement.style,o=["transform","-ms-transform","-moz-transform","-o-transform"].map(c=>r[c]).find(c=>!!c);if(o&&o.includes("translate")&&(e=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-i,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-i,left:n.nativeElement.offsetLeft-e,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-e};{const c=n.nativeElement.getBoundingClientRect();return{height:c.height,width:c.width,top:c.top-i,bottom:c.bottom-i,left:c.left-e,right:c.right-e,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);s={edges:f,startingRect:_,currentRect:_};const w=c(),T=Z7(s.edges,w);this.renderer.setStyle(document.body,"cursor",T),this.setElementClass(this.elm,K7,!0),this.enableGhostResize&&(s.clonedNode=function PAe(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();return t.removeAttribute("id"),e.forEach(r=>{r.removeAttribute("id")}),"canvas"===i?Y7(n,t):("input"===i||"select"===i||"textarea"===i)&&$7(n,t),G7("canvas",n,t,Y7),G7("input, textarea, select",n,t,$7),t}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(s.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(s.clonedNode,"left",`${s.startingRect.left}px`),this.renderer.setStyle(s.clonedNode,"top",`${s.startingRect.top}px`),this.renderer.setStyle(s.clonedNode,"height",`${s.startingRect.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${s.startingRect.width}px`),this.renderer.setStyle(s.clonedNode,"cursor",Z7(s.edges,w)),this.renderer.addClass(s.clonedNode,"resize-ghost-element"),s.clonedNode.scrollTop=s.startingRect.scrollTop,s.clonedNode.scrollLeft=s.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:q1({edges:f,initialRectangle:_,newRectangle:_}),rectangle:q7(_,{},0,0)})})}),r.pipe($t(this.destroy$)).subscribe(()=>{s&&(this.renderer.removeClass(this.elm.nativeElement,K7),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:q1({edges:s.edges,initialRectangle:s.startingRect,newRectangle:s.currentRect}),rectangle:s.currentRect})}),o(),s=null)})}ngOnDestroy(){qA(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,i,r){r?this.renderer.addClass(e.nativeElement,i):this.renderer.removeClass(e.nativeElement,i)}}return n.\u0275fac=function(e){return new(e||n)(H(wo),H(jr),H(Ht),H(ct))},n.\u0275dir=Ue({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class $m{constructor(t,e){this.pointerDown=new zt(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousedown",o=>{i.next({clientX:o.clientX,clientY:o.clientY,event:o})}),Ef&&(s=t.listen("document","touchstart",o=>{i.next({clientX:o.touches[0].clientX,clientY:o.touches[0].clientY,event:o})}))}),()=>{r(),Ef&&s()}}).pipe(Be()),this.pointerMove=new zt(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousemove",o=>{i.next({clientX:o.clientX,clientY:o.clientY,event:o})}),Ef&&(s=t.listen("document","touchmove",o=>{i.next({clientX:o.targetTouches[0].clientX,clientY:o.targetTouches[0].clientY,event:o})}))}),()=>{r(),Ef&&s()}}).pipe(Be()),this.pointerUp=new zt(i=>{let r,s,o;return e.runOutsideAngular(()=>{r=t.listen("document","mouseup",c=>{i.next({clientX:c.clientX,clientY:c.clientY,event:c})}),Ef&&(s=t.listen("document","touchend",c=>{i.next({clientX:c.changedTouches[0].clientX,clientY:c.changedTouches[0].clientY,event:c})}),o=t.listen("document","touchcancel",c=>{i.next({clientX:c.changedTouches[0].clientX,clientY:c.changedTouches[0].clientY,event:c})}))}),()=>{r(),Ef&&(s(),o())}}).pipe(Be())}static getInstance(t,e){return $m.instance||($m.instance=new $m(t,e)),$m.instance}}let BAe=(()=>{class n{constructor(e,i,r,s){this.renderer=e,this.element=i,this.zone=r,this.resizableDirective=s,this.resizeEdges={},this.eventListeners={},this.destroy$=new fe}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),Ef&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),K(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,i,r){e.cancelable&&e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",s=>{this.onMousemove(s,s.targetTouches[0].clientX,s.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",s=>{this.onMousemove(s,s.clientX,s.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:r,edges:this.resizeEdges})}onMouseup(e,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,i,r){this.resizable.mousemove.next({clientX:i,clientY:r,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return Xr(this.element.nativeElement,e).pipe($t(this.destroy$))}}return n.\u0275fac=function(e){return new(e||n)(H(jr),H(Ht),H(ct),H(Q7,8))},n.\u0275dir=Ue({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),J7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Ie({}),n})();const zAe=function(n){return{action:n}};function HAe(n,t){if(1&n){const e=On();Q(0,"a",5),$e("mwlClick",function(r){const o=pt(e).$implicit,c=be(2).event;return ft(o.onClick({event:c,sourceEvent:r}))})("mwlKeydownEnter",function(r){const o=pt(e).$implicit,c=be(2).event;return ft(o.onClick({event:c,sourceEvent:r}))}),Nt(1,"calendarA11y"),ne()}if(2&n){const e=t.$implicit;se("ngClass",e.cssClass)("innerHtml",e.label,fh),Pt("aria-label",To(1,3,ul(6,zAe,e),"actionButtonLabel"))}}function UAe(n,t){if(1&n&&(Q(0,"span",3),xe(1,HAe,2,8,"a",4),ne()),2&n){const e=be(),i=e.event,r=e.trackByActionId;J(1),se("ngForOf",i.actions)("ngForTrackBy",r)}}function jAe(n,t){1&n&&xe(0,UAe,2,2,"span",2),2&n&&se("ngIf",t.event.actions)}function WAe(n,t){}const GAe=function(n,t){return{event:n,trackByActionId:t}},Ym=function(){return{}};function $Ae(n,t){if(1&n&&(Qe(0,"span",2),Nt(1,"calendarEventTitle"),Nt(2,"calendarA11y")),2&n){const e=t.event;se("innerHTML",hl(1,2,e.title,t.view,e),fh),Pt("aria-hidden",To(2,6,Do(9,Ym),"hideEventTitle"))}}function YAe(n,t){}const qAe=function(n,t){return{event:n,view:t}};function XAe(n,t){if(1&n&&(Q(0,"div",2),Qe(1,"div",3)(2,"div",4),ne()),2&n){const e=t.contents;se("ngClass","cal-tooltip-"+t.placement),J(2),se("innerHtml",e,fh)}}function ZAe(n,t){}const KAe=function(n,t,e){return{contents:n,placement:t,event:e}};function QAe(n,t){if(1&n&&(Q(0,"span",7),Se(1),ne()),2&n){const e=be().day;J(1),on(e.badgeTotal)}}const NF=function(n){return{backgroundColor:n}},JAe=function(n,t){return{event:n,draggedFrom:t}},L0=function(n,t){return{x:n,y:t}},X1=function(){return{delay:300,delta:30}};function eke(n,t){if(1&n){const e=On();Q(0,"div",10),$e("mouseenter",function(){const s=pt(e).$implicit;return ft(be(2).highlightDay.emit({event:s}))})("mouseleave",function(){const s=pt(e).$implicit;return ft(be(2).unhighlightDay.emit({event:s}))})("mwlClick",function(r){const o=pt(e).$implicit;return ft(be(2).eventClicked.emit({event:o,sourceEvent:r}))}),Nt(1,"calendarEventTitle"),Nt(2,"calendarA11y"),ne()}if(2&n){const e=t.$implicit,i=be(2),r=i.tooltipPlacement,s=i.tooltipTemplate,o=i.tooltipAppendToBody,c=i.tooltipDelay,u=i.day,f=i.validateDrag;Vt("cal-draggable",e.draggable),se("ngStyle",ul(22,NF,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",hl(1,15,e.title,"monthTooltip",e))("tooltipPlacement",r)("tooltipEvent",e)("tooltipTemplate",s)("tooltipAppendToBody",o)("tooltipDelay",c)("dropData",Wr(24,JAe,e,u))("dragAxis",Wr(27,L0,e.draggable,e.draggable))("validateDrag",f)("touchStartLongPress",Do(30,X1)),Pt("aria-hidden",To(2,19,Do(31,Ym),"hideMonthCellEvents"))}}function tke(n,t){if(1&n&&(Q(0,"div",8),xe(1,eke,3,32,"div",9),ne()),2&n){const e=be(),i=e.day,r=e.trackByEventId;J(1),se("ngForOf",i.events)("ngForTrackBy",r)}}const nke=function(n,t){return{day:n,locale:t}};function ike(n,t){if(1&n&&(Q(0,"div",2),Nt(1,"calendarA11y"),Q(2,"span",3),xe(3,QAe,2,1,"span",4),Q(4,"span",5),Se(5),Nt(6,"calendarDate"),ne()()(),xe(7,tke,2,2,"div",6)),2&n){const e=t.day,i=t.locale;Pt("aria-label",To(1,4,Wr(11,nke,e,i),"monthCell")),J(3),se("ngIf",e.badgeTotal>0),J(2),on(hl(6,7,e.date,"monthViewDayNumber",i)),J(2),se("ngIf",e.events.length>0)}}function rke(n,t){}const ske=function(n,t,e,i,r,s,o,c,u,f,_,w){return{day:n,openDay:t,locale:e,tooltipPlacement:i,highlightDay:r,unhighlightDay:s,eventClicked:o,tooltipTemplate:c,tooltipAppendToBody:u,tooltipDelay:f,trackByEventId:_,validateDrag:w}},oke=function(n){return{event:n}},eZ=function(n,t){return{event:n,locale:t}};function ake(n,t){if(1&n){const e=On();Q(0,"div",7),Qe(1,"span",8),Se(2," "),Q(3,"mwl-calendar-event-title",9),$e("mwlClick",function(r){const o=pt(e).$implicit;return ft(be(2).eventClicked.emit({event:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){const o=pt(e).$implicit;return ft(be(2).eventClicked.emit({event:o,sourceEvent:r}))}),Nt(4,"calendarA11y"),ne(),Se(5," "),Qe(6,"mwl-calendar-event-actions",10),ne()}if(2&n){const e=t.$implicit,i=be(2).validateDrag,r=be();Vt("cal-draggable",e.draggable),se("ngClass",null==e?null:e.cssClass)("dropData",ul(16,oke,e))("dragAxis",Wr(18,L0,e.draggable,e.draggable))("validateDrag",i)("touchStartLongPress",Do(21,X1)),J(1),se("ngStyle",ul(22,NF,null==e.color?null:e.color.primary)),J(2),se("event",e)("customTemplate",r.eventTitleTemplate),Pt("aria-label",To(4,13,Wr(24,eZ,e,r.locale),"eventDescription")),J(3),se("event",e)("customTemplate",r.eventActionsTemplate)}}const tZ=function(n,t){return{date:n,locale:t}};function lke(n,t){if(1&n&&(Q(0,"div",3),Qe(1,"span",4),Nt(2,"calendarA11y"),Qe(3,"span",5),Nt(4,"calendarA11y"),xe(5,ake,7,27,"div",6),ne()),2&n){const e=be(),i=e.events,r=e.trackByEventId,s=be();se("@collapse",void 0),J(1),Pt("aria-label",To(2,5,Wr(11,tZ,s.date,s.locale),"openDayEventsAlert")),J(2),Pt("aria-label",To(4,8,Wr(14,tZ,s.date,s.locale),"openDayEventsLandmark")),J(2),se("ngForOf",i)("ngForTrackBy",r)}}function cke(n,t){1&n&&xe(0,lke,6,17,"div",2),2&n&&se("ngIf",t.isOpen)}function dke(n,t){}const uke=function(n,t,e,i,r){return{events:n,eventClicked:t,isOpen:e,trackByEventId:i,validateDrag:r}};function hke(n,t){if(1&n){const e=On();Q(0,"div",4),$e("click",function(r){const o=pt(e).$implicit;return ft(be(2).columnHeaderClicked.emit({isoDayNumber:o.day,sourceEvent:r}))}),Se(1),Nt(2,"calendarDate"),ne()}if(2&n){const e=t.$implicit,i=be().locale;Vt("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),se("ngClass",e.cssClass),J(1),Cn(" ",hl(2,10,e.date,"monthViewColumnHeader",i)," ")}}function fke(n,t){if(1&n&&(Q(0,"div",2),xe(1,hke,3,14,"div",3),ne()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;J(1),se("ngForOf",e)("ngForTrackBy",i)}}function pke(n,t){}const gke=function(n,t,e){return{days:n,locale:t,trackByWeekDayHeaderDate:e}};function mke(n,t){if(1&n){const e=On();Q(0,"mwl-calendar-month-cell",7),$e("mwlClick",function(r){const o=pt(e).$implicit;return ft(be(2).dayClicked.emit({day:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){const o=pt(e).$implicit;return ft(be(2).dayClicked.emit({day:o,sourceEvent:r}))})("highlightDay",function(r){return pt(e),ft(be(2).toggleDayHighlight(r.event,!0))})("unhighlightDay",function(r){return pt(e),ft(be(2).toggleDayHighlight(r.event,!1))})("drop",function(r){const o=pt(e).$implicit;return ft(be(2).eventDropped(o,r.dropData.event,r.dropData.draggedFrom))})("eventClicked",function(r){return pt(e),ft(be(2).eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))}),Nt(1,"calendarA11y"),ne()}if(2&n){const e=t.$implicit,i=be(2);se("ngClass",null==e?null:e.cssClass)("day",e)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",ul(15,NF,e.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),Pt("tabindex",To(1,12,Do(17,Ym),"monthCellTabIndex"))}}function _ke(n,t){if(1&n){const e=On();Q(0,"div")(1,"div",4),xe(2,mke,2,18,"mwl-calendar-month-cell",5),Nt(3,"slice"),ne(),Q(4,"mwl-calendar-open-day-events",6),$e("eventClicked",function(r){return pt(e),ft(be().eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))})("drop",function(r){pt(e);const s=be();return ft(s.eventDropped(s.openDay,r.dropData.event,r.dropData.draggedFrom))}),ne()()}if(2&n){const e=t.$implicit,i=be();J(2),se("ngForOf",hl(3,9,i.view.days,e,e+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),J(2),se("locale",i.locale)("isOpen",i.openRowIndex===e)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function vke(n,t){if(1&n){const e=On();Q(0,"div",4),$e("mwlClick",function(r){const o=pt(e).$implicit;return ft(be().dayHeaderClicked.emit({day:o,sourceEvent:r}))})("drop",function(r){const o=pt(e).$implicit;return ft(be().eventDropped.emit({event:r.dropData.event,newStart:o.date}))})("dragEnter",function(){const s=pt(e).$implicit;return ft(be().dragEnter.emit({date:s.date}))}),Q(1,"b"),Se(2),Nt(3,"calendarDate"),ne(),Qe(4,"br"),Q(5,"span"),Se(6),Nt(7,"calendarDate"),ne()()}if(2&n){const e=t.$implicit,i=be().locale;Vt("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),se("ngClass",e.cssClass),J(2),on(hl(3,11,e.date,"weekViewColumnHeader",i)),J(4),on(hl(7,15,e.date,"weekViewColumnSubHeader",i))}}function yke(n,t){if(1&n&&(Q(0,"div",2),xe(1,vke,8,19,"div",3),ne()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;J(1),se("ngForOf",e)("ngForTrackBy",i)}}function bke(n,t){}const wke=function(n,t,e,i,r,s){return{days:n,locale:t,dayHeaderClicked:e,eventDropped:i,dragEnter:r,trackByWeekDayHeaderDate:s}},xke=function(n,t,e){return{color:n,backgroundColor:t,borderColor:e}};function Cke(n,t){if(1&n){const e=On();Q(0,"div",2),$e("mwlClick",function(r){return ft(pt(e).eventClicked.emit({sourceEvent:r}))})("mwlKeydownEnter",function(r){return ft(pt(e).eventClicked.emit({sourceEvent:r}))}),Nt(1,"calendarEventTitle"),Nt(2,"calendarA11y"),Qe(3,"mwl-calendar-event-actions",3),Se(4," "),Qe(5,"mwl-calendar-event-title",4),ne()}if(2&n){const e=t.weekEvent,i=t.tooltipPlacement,r=t.tooltipTemplate,s=t.tooltipAppendToBody,o=t.tooltipDisabled,c=t.tooltipDelay,u=t.daysInWeek,f=be();se("ngStyle",ig(20,xke,null==e.event.color?null:e.event.color.secondaryText,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",o?"":hl(1,13,e.event.title,1===u?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",i)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",r)("tooltipAppendToBody",s)("tooltipDelay",c),Pt("aria-label",To(2,17,Wr(24,eZ,e.tempEvent||e.event,f.locale),"eventDescription")),J(3),se("event",e.tempEvent||e.event)("customTemplate",f.eventActionsTemplate),J(2),se("event",e.tempEvent||e.event)("customTemplate",f.eventTitleTemplate)("view",1===u?"day":"week")}}function Eke(n,t){}const Dke=function(n,t,e,i,r,s,o,c,u){return{weekEvent:n,tooltipPlacement:t,eventClicked:e,tooltipTemplate:i,tooltipAppendToBody:r,tooltipDisabled:s,tooltipDelay:o,column:c,daysInWeek:u}};function Tke(n,t){if(1&n&&(Q(0,"div",4),Se(1),Nt(2,"calendarDate"),ne()),2&n){const e=be(),i=e.segment,r=e.daysInWeek,s=e.locale;J(1),Cn(" ",hl(2,1,i.displayDate,1===r?"dayViewHour":"weekViewHour",s)," ")}}function Ike(n,t){if(1&n&&(Q(0,"div",2),Nt(1,"calendarA11y"),xe(2,Tke,3,5,"div",3),ne()),2&n){const e=t.segment,r=t.isTimeLabel,s=t.daysInWeek;Es("height",t.segmentHeight,"px"),Vt("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),se("ngClass",e.cssClass),Pt("aria-hidden",To(1,9,Do(12,Ym),1===s?"hideDayHourSegment":"hideWeekHourSegment")),J(2),se("ngIf",r)}}function Ske(n,t){}const Ake=function(n,t,e,i,r){return{segment:n,locale:t,segmentHeight:e,isTimeLabel:i,daysInWeek:r}};function kke(n,t){1&n&&Qe(0,"div",3),2&n&&Es("top",be().topPx,"px")}function Mke(n,t){1&n&&xe(0,kke,1,2,"div",2),2&n&&se("ngIf",t.isVisible)}function Rke(n,t){}const Oke=function(n,t,e,i,r,s,o){return{columnDate:n,dayStartHour:t,dayStartMinute:e,dayEndHour:i,dayEndMinute:r,isVisible:s,topPx:o}};function Pke(n,t){if(1&n){const e=On();Q(0,"div",13),$e("drop",function(r){const o=pt(e).$implicit;return ft(be(2).eventDropped(r,o.date,!0))})("dragEnter",function(){const s=pt(e).$implicit;return ft(be(2).dateDragEnter(s.date))}),ne()}}const Nke=function(){return{left:!0}};function Fke(n,t){1&n&&Qe(0,"div",22),2&n&&se("resizeEdges",Do(1,Nke))}const Lke=function(){return{right:!0}};function Vke(n,t){1&n&&Qe(0,"div",23),2&n&&se("resizeEdges",Do(1,Lke))}const Bke=function(n,t){return{left:n,right:t}},nZ=function(n,t){return{event:n,calendarId:t}},zke=function(n){return{x:n}};function Hke(n,t){if(1&n){const e=On();Q(0,"div",17,18),$e("resizeStart",function(r){const o=pt(e).$implicit;be();const c=zn(1);return ft(be(2).allDayEventResizeStarted(c,o,r))})("resizing",function(r){const o=pt(e).$implicit,c=be(3);return ft(c.allDayEventResizing(o,r,c.dayColumnWidth))})("resizeEnd",function(){const s=pt(e).$implicit;return ft(be(3).allDayEventResizeEnded(s))})("dragStart",function(){const s=pt(e).$implicit,o=zn(1);be();const c=zn(1);return ft(be(2).dragStarted(c,o,s,!1))})("dragging",function(){return pt(e),ft(be(3).allDayEventDragMove())})("dragEnd",function(r){const o=pt(e).$implicit,c=be(3);return ft(c.dragEnded(o,r,c.dayColumnWidth))}),xe(2,Fke,1,2,"div",19),Q(3,"mwl-calendar-week-view-event",20),$e("eventClicked",function(r){const o=pt(e).$implicit;return ft(be(3).eventClicked.emit({event:o.event,sourceEvent:r.sourceEvent}))}),ne(),xe(4,Vke,1,2,"div",21),ne()}if(2&n){const e=t.$implicit,i=be(3);Es("width",100/i.days.length*e.span,"%")("margin-left",i.rtl?null:100/i.days.length*e.offset,"%")("margin-right",i.rtl?100/i.days.length*e.offset:null,"%"),Vt("cal-draggable",e.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),se("ngClass",null==e.event?null:e.event.cssClass)("resizeCursors",i.resizeCursors)("resizeSnapGrid",Wr(33,Bke,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",Wr(36,nZ,e.event,i.calendarId))("dragAxis",Wr(39,L0,e.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&e.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?ul(42,zke,i.dayColumnWidth):Do(44,Ym))("validateDrag",i.validateDrag)("touchStartLongPress",Do(45,X1)),J(2),se("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),J(1),se("locale",i.locale)("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),J(1),se("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function Uke(n,t){if(1&n&&(Q(0,"div",14,15),xe(2,Hke,5,46,"div",16),ne()),2&n){const e=t.$implicit,i=be(2);J(2),se("ngForOf",e.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function jke(n,t){if(1&n){const e=On();Q(0,"div",8,9),$e("dragEnter",function(){return pt(e),ft(be().dragEnter("allDay"))})("dragLeave",function(){return pt(e),ft(be().dragLeave("allDay"))}),Q(2,"div",5),Qe(3,"div",10),xe(4,Pke,1,0,"div",11),ne(),xe(5,Uke,3,2,"div",12),ne()}if(2&n){const e=be();J(3),se("ngTemplateOutlet",e.allDayEventsLabelTemplate),J(1),se("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),J(1),se("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function Wke(n,t){if(1&n&&Qe(0,"mwl-calendar-week-view-hour-segment",28),2&n){const e=t.$implicit,i=be(3);Es("height",i.hourSegmentHeight,"px"),se("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function Gke(n,t){if(1&n&&(Q(0,"div",26),xe(1,Wke,1,8,"mwl-calendar-week-view-hour-segment",27),ne()),2&n){const e=t.$implicit,i=t.odd,r=be(2);Vt("cal-hour-odd",i),J(1),se("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function $ke(n,t){if(1&n&&(Q(0,"div",24),xe(1,Gke,2,4,"div",25),ne()),2&n){const e=be();J(1),se("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const Yke=function(){return{left:!0,top:!0}};function qke(n,t){1&n&&Qe(0,"div",22),2&n&&se("resizeEdges",Do(1,Yke))}function Xke(n,t){}function Zke(n,t){if(1&n){const e=On();Q(0,"mwl-calendar-week-view-event",36),$e("eventClicked",function(r){pt(e);const s=be().$implicit;return ft(be(2).eventClicked.emit({event:s.event,sourceEvent:r.sourceEvent}))}),ne()}if(2&n){const e=be().$implicit,i=be().$implicit,r=be();se("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",i)("daysInWeek",r.daysInWeek)}}const Kke=function(){return{right:!0,bottom:!0}};function Qke(n,t){1&n&&Qe(0,"div",23),2&n&&se("resizeEdges",Do(1,Kke))}const Jke=function(n,t,e,i){return{left:n,right:t,top:e,bottom:i}};function eMe(n,t){if(1&n){const e=On();Q(0,"div",33,18),$e("resizeStart",function(r){const o=pt(e).$implicit,c=be(2),u=zn(6);return ft(c.timeEventResizeStarted(u,o,r))})("resizing",function(r){const o=pt(e).$implicit;return ft(be(2).timeEventResizing(o,r))})("resizeEnd",function(){const s=pt(e).$implicit;return ft(be(2).timeEventResizeEnded(s))})("dragStart",function(){const s=pt(e).$implicit,o=zn(1),c=be(2),u=zn(6);return ft(c.dragStarted(u,o,s,!0))})("dragging",function(r){const o=pt(e).$implicit;return ft(be(2).dragMove(o,r))})("dragEnd",function(r){const o=pt(e).$implicit,c=be(2);return ft(c.dragEnded(o,r,c.dayColumnWidth,!0))}),xe(2,qke,1,2,"div",19),xe(3,Xke,0,0,"ng-template",34),xe(4,Zke,1,12,"ng-template",null,35,Wi),xe(6,Qke,1,2,"div",21),ne()}if(2&n){const e=t.$implicit,i=zn(5),r=be(2);Es("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),Vt("cal-draggable",e.event.draggable&&0===r.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),se("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeCursors",r.resizeCursors)("resizeSnapGrid",uH(30,Jke,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",Wr(35,nZ,e.event,r.calendarId))("dragAxis",Wr(38,L0,e.event.draggable&&0===r.timeEventResizes.size,e.event.draggable&&0===r.timeEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?Wr(41,L0,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):Do(44,Ym))("touchStartLongPress",Do(45,X1))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",r.validateDrag),J(2),se("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),J(1),se("ngTemplateOutlet",i),J(3),se("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function tMe(n,t){if(1&n){const e=On();Q(0,"mwl-calendar-week-view-hour-segment",38),$e("mwlClick",function(r){const o=pt(e).$implicit;return ft(be(3).hourSegmentClicked.emit({date:o.date,sourceEvent:r}))})("drop",function(r){const o=pt(e).$implicit;return ft(be(3).eventDropped(r,o.date,!1))})("dragEnter",function(){const s=pt(e).$implicit;return ft(be(3).dateDragEnter(s.date))}),ne()}if(2&n){const e=t.$implicit,i=be(3);Es("height",i.hourSegmentHeight,"px"),se("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function nMe(n,t){if(1&n&&(Q(0,"div",26),xe(1,tMe,1,10,"mwl-calendar-week-view-hour-segment",37),ne()),2&n){const e=t.$implicit,i=t.odd,r=be(2);Vt("cal-hour-odd",i),J(1),se("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function iMe(n,t){if(1&n&&(Q(0,"div",29),Qe(1,"mwl-calendar-week-view-current-time-marker",30),Q(2,"div",31),xe(3,eMe,7,46,"div",32),ne(),xe(4,nMe,2,4,"div",25),ne()),2&n){const e=t.$implicit,i=be();J(1),se("columnDate",e.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),J(2),se("ngForOf",e.events)("ngForTrackBy",i.trackByWeekTimeEvent),J(1),se("ngForOf",e.hours)("ngForTrackBy",i.trackByHour)}}let Df=(()=>{class n{constructor(e,i,r){this.renderer=e,this.elm=i,this.document=r,this.clickListenerDisabled=!1,this.click=new Le,this.destroy$=new fe}ngOnInit(){this.clickListenerDisabled||this.listen().pipe($t(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new zt(e=>this.renderer.listen(this.elm.nativeElement,"click",i=>{e.next(i)}))}}return n.\u0275fac=function(e){return new(e||n)(H(jr),H(Ht),H(an))},n.\u0275dir=Ue({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),Z1=(()=>{class n{constructor(e,i,r){this.host=e,this.ngZone=i,this.renderer=r,this.keydown=new Le,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(13===e.keyCode||13===e.which||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(e){return new(e||n)(H(Ht),H(ct),H(jr))},n.\u0275dir=Ue({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),K1=(()=>{class n{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:i}){return e.badgeTotal>0?`\n        ${ts(e.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${ts(e.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:e,locale:i}){return`\n      Beginning of expanded view for ${ts(e,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:e,locale:i}){return`${ts(e,"EEEE MMMM dd",i)} expanded`}eventDescription({event:e,locale:i}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:i});const r=`\n      ${ts(e.start,"EEEE MMMM dd",i)},\n      ${e.title}, from ${ts(e.start,"hh:mm a",i)}\n    `;return e.end?r+` to ${ts(e.end,"hh:mm a",i)}`:r}allDayEventDescription({event:e,locale:i}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${ts(e.start,"MMMM dd hh:mm a",i)}\n    `;return e.end?r+`, stop time ${ts(e.end,"MMMM d hh:mm a",i)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(e){return new(e||n)(ue(GA))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),Tf=(()=>{class n{constructor(e,i){this.calendarA11y=e,this.locale=i}transform(e,i){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[i]>"u"){const r=Object.getOwnPropertyNames(Object.getPrototypeOf(K1.prototype)).filter(s=>"constructor"!==s);throw new Error(`${i} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[i](e)}}return n.\u0275fac=function(e){return new(e||n)(H(K1,16),H(to,16))},n.\u0275pipe=Jr({name:"calendarA11y",type:n,pure:!0}),n})(),iZ=(()=>{class n{constructor(){this.trackByActionId=(e,i)=>i.id?i.id:i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ot({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,i){if(1&e&&(xe(0,jAe,1,1,"ng-template",null,0,Wi),xe(2,WAe,0,0,"ng-template",1)),2&e){const r=zn(1);J(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",Wr(2,GAe,i.event,i.trackByActionId))}},dependencies:[fa,Or,dr,ps,Df,Z1,Tf],encapsulation:2}),n})();class FF{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}let LF=(()=>{class n{constructor(e){this.calendarEventTitle=e}transform(e,i,r){return this.calendarEventTitle[i](r,e)}}return n.\u0275fac=function(e){return new(e||n)(H(FF,16))},n.\u0275pipe=Jr({name:"calendarEventTitle",type:n,pure:!0}),n})(),rZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ot({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,i){if(1&e&&(xe(0,$Ae,3,10,"ng-template",null,0,Wi),xe(2,YAe,0,0,"ng-template",1)),2&e){const r=zn(1);J(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",Wr(2,qAe,i.event,i.view))}},dependencies:[ps,LF,Tf],encapsulation:2}),n})(),rMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ot({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,i){if(1&e&&(xe(0,XAe,3,2,"ng-template",null,0,Wi),xe(2,ZAe,0,0,"ng-template",1)),2&e){const r=zn(1);J(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",ig(2,KAe,i.contents,i.placement,i.event))}},dependencies:[fa,ps],encapsulation:2}),n})(),sZ=(()=>{class n{constructor(e,i,r,s,o,c){this.elementRef=e,this.injector=i,this.renderer=r,this.viewContainerRef=o,this.document=c,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new fe,this.tooltipFactory=s.resolveComponentFactory(rMe)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?de("now"):zm(this.delay)).pipe($t(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function oAe(n,t,e,i,r){var s=Array.isArray(e)?e:e.split(sAe),o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],c=t.classList,u=function(U){var re=U.split("-"),ee=re[0],ae=re[1],ge=[];return r&&(ge.push(r+"-"+ee),ae&&ge.push(r+"-"+ee+"-"+ae),ge.forEach(function(Te){c.add(Te)})),ge};r&&o.forEach(function(U){c.remove(r+"-"+U)});var f=s.findIndex(function(U){return"auto"===U});f>=0&&o.forEach(function(U){null==s.find(function(re){return-1!==re.search("^"+U)})&&s.splice(f++,1,U)});var _=t.style;_.position="absolute",_.top="0",_.left="0",_["will-change"]="transform";for(var w,T=!1,M=0,F=s;M<F.length;M++){var V=u(w=F[M]);if(N7.positionElements(n,t,w,i)){T=!0;break}r&&V.forEach(function(U){c.remove(U)})}return T||(u(w=s[0]),N7.positionElements(n,t,w,i)),w}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(e){return new(e||n)(H(Ht),H(Ir),H(jr),H(zd),H(Ds),H(an))},n.\u0275dir=Ue({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,i){1&e&&$e("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[An]}),n})();var If=function(n){return n.Month="month",n.Week="week",n.Day="day",n}(If||{});const oZ=n=>function yAe(n,t){var e=!0;function i(r,s){t(r,s),e=!1}return Array.isArray(n)?(n.forEach(function(r){r.start?r.start instanceof Date||i(Wm.StartPropertyNotDate,r):i(Wm.StartPropertyMissing,r),r.end&&(r.end instanceof Date||i(Wm.EndPropertyNotDate,r),r.start>r.end&&i(Wm.EndsBeforeStart,r))}),e):(t(Wm.NotArray,n),!1)}(n,(...e)=>console.warn("angular-calendar",...e));function aZ(n,t){return Math.floor(n.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(n.right)}function lZ(n,t){return Math.round(n/t)*t}const cZ=(n,t)=>t.id?t.id:t,VF=(n,t)=>t.date.toISOString(),aMe=(n,t)=>t.date.toISOString(),lMe=(n,t)=>t.segments[0].date.toISOString(),cMe=(n,t)=>t.event.id?t.event.id:t.event,dMe=(n,t)=>t.event.id?t.event.id:t.event;function BF(n,t,e,i,r){const s=lZ(n,i||e),o=function hMe(n,t,e){return(e||60)/(n*t)}(t,e,r);return s*o}function dZ(n,t,e){return t.end?t.end:n.addMinutes(t.start,e)}function kl(n,t,e,i){let r=0,s=0;const o=e<0?n.subDays:n.addDays;let c=t;for(;s<=Math.abs(e);){c=o(t,r);const u=n.getDay(c);-1===i.indexOf(u)&&s++,r++}return c}function zF(n,t,e,i=[],r){let s=r?n.startOfDay(t):n.startOfWeek(t,{weekStartsOn:e});const o=n.endOfWeek(t,{weekStartsOn:e});for(;i.indexOf(n.getDay(s))>-1&&s<o;)s=n.addDays(s,1);if(r)return{viewStart:s,viewEnd:n.endOfDay(kl(n,s,r-1,i))};{let c=o;for(;i.indexOf(n.getDay(c))>-1&&c>s;)c=n.subDays(c,1);return{viewStart:s,viewEnd:c}}}function HF({x:n,y:t}){return Math.abs(n)>1||Math.abs(t)>1}class _d{}let gMe=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new Le}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===If.Day?kl(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===If.Week&&this.daysInWeek?kl(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(H(_d))},n.\u0275dir=Ue({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,i){1&e&&$e("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),mMe=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new Le}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===If.Day?kl(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===If.Week&&this.daysInWeek?kl(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(H(_d))},n.\u0275dir=Ue({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,i){1&e&&$e("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),_Me=(()=>{class n{constructor(e){this.dateAdapter=e,this.viewDateChange=new Le}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return n.\u0275fac=function(e){return new(e||n)(H(_d))},n.\u0275dir=Ue({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,i){1&e&&$e("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),n})(),vMe=(()=>{class n{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return ts(e,"EEEE",i)}monthViewDayNumber({date:e,locale:i}){return ts(e,"d",i)}monthViewTitle({date:e,locale:i}){return ts(e,"LLLL y",i)}weekViewColumnHeader({date:e,locale:i}){return ts(e,"EEEE",i)}weekViewColumnSubHeader({date:e,locale:i}){return ts(e,"MMM d",i)}weekViewTitle({date:e,locale:i,weekStartsOn:r,excludeDays:s,daysInWeek:o}){const{viewStart:c,viewEnd:u}=zF(this.dateAdapter,e,r,s,o),f=(_,w)=>ts(_,"MMM d"+(w?", yyyy":""),i);return`${f(c,c.getUTCFullYear()!==u.getUTCFullYear())} - ${f(u,!0)}`}weekViewHour({date:e,locale:i}){return ts(e,"h a",i)}dayViewHour({date:e,locale:i}){return ts(e,"h a",i)}dayViewTitle({date:e,locale:i}){return ts(e,"EEEE, MMMM d, y",i)}}return n.\u0275fac=function(e){return new(e||n)(ue(_d))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),Q1=(()=>{class n extends vMe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ki(n)))(i||n)}}(),n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),V0=(()=>{class n{constructor(e,i){this.dateFormatter=e,this.locale=i}transform(e,i,r=this.locale,s=0,o=[],c){if(typeof this.dateFormatter[i]>"u"){const u=Object.getOwnPropertyNames(Object.getPrototypeOf(Q1.prototype)).filter(f=>"constructor"!==f);throw new Error(`${i} is not a valid date formatter. Can only be one of ${u.join(", ")}`)}return this.dateFormatter[i]({date:e,locale:r,weekStartsOn:s,excludeDays:o,daysInWeek:c})}}return n.\u0275fac=function(e){return new(e||n)(H(Q1,16),H(to,16))},n.\u0275pipe=Jr({name:"calendarDate",type:n,pure:!0}),n})(),J1=(()=>{class n{constructor(e){this.dateAdapter=e}getMonthView(e){return function mAe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,o=t.excluded,c=void 0===o?[]:o,u=t.viewStart,f=void 0===u?n.startOfMonth(r):u,_=t.viewEnd,w=void 0===_?n.endOfMonth(r):_,T=t.weekendDays;i||(i=[]);for(var Dt,F=n.endOfWeek,V=n.differenceInDays,U=n.startOfDay,re=n.addHours,ee=n.endOfDay,ae=n.isSameMonth,ge=n.getDay,Te=(0,n.startOfWeek)(f,{weekStartsOn:s}),qe=F(w,{weekStartsOn:s}),ht=P0(n,{events:i,periodStart:Te,periodEnd:qe}),ut=[],kt=function(Qt){var Jt;if(Dt?(Jt=U(re(Dt,24)),Dt.getTime()===Jt.getTime()&&(Jt=U(re(Dt,25))),Dt=Jt):Jt=Dt=Te,!c.some(function(kr){return ge(Jt)===kr})){var ki=L7(n,{date:Jt,weekendDays:T}),ar=P0(n,{events:ht,periodStart:U(Jt),periodEnd:ee(Jt)});ki.inMonth=ae(Jt,r),ki.events=ar,ki.badgeTotal=ar.length,ut.push(ki)}},gt=0;gt<V(qe,Te)+1;gt++)kt();var _t=[],cn=xF-c.length;if(cn<xF)for(gt=0;gt<ut.length;gt+=cn){var ei=ut.slice(gt,gt+cn);ei.some(function(Jt){return f<=Jt.date&&Jt.date<w})&&(_t=bF(bF([],_t,!0),ei,!0))}else _t=ut;var xt=Math.floor(_t.length/cn),Mt=[];for(gt=0;gt<xt;gt++)Mt.push(gt*cn);return{rowOffsets:Mt,totalDaysVisibleInWeek:cn,days:_t,period:{start:_t[0].date,end:ee(_t[_t.length-1].date),events:ht}}}(this.dateAdapter,e)}getWeekViewHeader(e){return EF(this.dateAdapter,e)}getWeekView(e){return function gAe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,o=t.excluded,c=void 0===o?[]:o,u=t.precision,f=void 0===u?"days":u,_=t.absolutePositionedEvents,w=void 0!==_&&_,T=t.hourSegments,M=t.hourDuration,F=t.dayStart,V=t.dayEnd,U=t.weekendDays,re=t.segmentHeight,ee=t.minimumEventHeight,ae=t.viewStart,ge=void 0===ae?n.startOfWeek(r,{weekStartsOn:s}):ae,Te=t.viewEnd,qe=void 0===Te?n.endOfWeek(r,{weekStartsOn:s}):Te;i||(i=[]);var ut=n.endOfDay,Dt=P0(n,{events:i,periodStart:ge=(0,n.startOfDay)(ge),periodEnd:qe=ut(qe)}),kt=EF(n,{viewDate:r,weekStartsOn:s,excluded:c,weekendDays:U,viewStart:ge,viewEnd:qe});return{allDayEventRows:fAe(n,{events:Dt,excluded:c,precision:f,absolutePositionedEvents:w,viewStart:ge,viewEnd:qe}),period:{events:Dt,start:kt[0].date,end:ut(kt[kt.length-1].date)},hourColumns:pAe(n,{events:i,viewDate:r,hourSegments:T,hourDuration:M,dayStart:F,dayEnd:V,weekStartsOn:s,excluded:c,weekendDays:U,segmentHeight:re,viewStart:ge,viewEnd:qe,minimumEventHeight:ee})}}(this.dateAdapter,e)}}return n.\u0275fac=function(e){return new(e||n)(ue(_d))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();new ze("Moment");var Gu=function(n){return n.Drag="drag",n.Drop="drop",n.Resize="resize",n}(Gu||{});let B0=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||FF,i.dateFormatter||Q1,i.utils||J1,i.a11y||K1]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Ie({providers:[GA],imports:[gl]}),n})(),yMe=(()=>{class n{constructor(){this.highlightDay=new Le,this.unhighlightDay=new Le,this.eventClicked=new Le,this.trackByEventId=cZ,this.validateDrag=HF}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ot({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,i){2&e&&Vt("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,i){if(1&e&&(xe(0,ike,8,14,"ng-template",null,0,Wi),xe(2,rke,0,0,"ng-template",1)),2&e){const r=zn(1);J(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",eA(2,ske,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},dependencies:[fa,Or,dr,ps,Wv,OF,sZ,Df,V0,LF,Tf],encapsulation:2}),n})();const bMe=mf("collapse",[fd("void",_s({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),fd("*",_s({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),qa("* => void",Tl("150ms ease-out")),qa("void => *",Tl("150ms ease-in"))]);let wMe=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new Le,this.trackByEventId=cZ,this.validateDrag=HF}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ot({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,i){if(1&e&&(xe(0,cke,1,1,"ng-template",null,0,Wi),xe(2,dke,0,0,"ng-template",1)),2&e){const r=zn(1);J(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",JS(2,uke,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},dependencies:[fa,Or,dr,ps,Wv,OF,iZ,rZ,Df,Z1,Tf],encapsulation:2,data:{animation:[bMe]}}),n})(),xMe=(()=>{class n{constructor(){this.columnHeaderClicked=new Le,this.trackByWeekDayHeaderDate=VF}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ot({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,i){if(1&e&&(xe(0,fke,2,2,"ng-template",null,0,Wi),xe(2,pke,0,0,"ng-template",1)),2&e){const r=zn(1);J(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",ig(2,gke,i.days,i.locale,i.trackByWeekDayHeaderDate))}},dependencies:[fa,Or,ps,V0],encapsulation:2}),n})(),CMe=(()=>{class n{constructor(e,i,r,s){this.cdr=e,this.utils=i,this.dateAdapter=s,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new Le,this.dayClicked=new Le,this.eventClicked=new Le,this.columnHeaderClicked=new Le,this.eventTimesChanged=new Le,this.trackByRowOffset=(o,c)=>this.view.days.slice(c,this.view.totalDaysVisibleInWeek).map(u=>u.date.toISOString()).join("-"),this.trackByDate=(o,c)=>c.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays,r=e.viewDate||e.events||e.excludeDays||e.weekendDays;i&&this.refreshHeader(),e.events&&oZ(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,i){this.view.days.forEach(r=>{i&&r.events.indexOf(e)>-1?r.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(e,i,r){if(e!==r){const s=this.dateAdapter.getYear(e.date),o=this.dateAdapter.getMonth(e.date),c=this.dateAdapter.getDate(e.date),u=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,s),o),c);let f;if(i.end){const _=this.dateAdapter.differenceInSeconds(u,i.start);f=this.dateAdapter.addSeconds(i.end,_)}this.eventTimesChanged.emit({event:i,newStart:u,newEnd:f,day:e,type:Gu.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,e));const i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(e){return new(e||n)(H(cr),H(J1),H(to),H(_d))},n.\u0275cmp=Ot({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[An],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,i){1&e&&(Q(0,"div",0)(1,"mwl-calendar-month-view-header",1),$e("columnHeaderClicked",function(s){return i.columnHeaderClicked.emit(s)}),ne(),Q(2,"div",2),xe(3,_ke,5,13,"div",3),ne()()),2&e&&(J(1),se("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),J(2),se("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},dependencies:[fa,Or,Wv,PF,Df,Z1,yMe,wMe,xMe,QU,Tf],encapsulation:2}),n})(),uZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Ie({imports:[gl,Y1,B0,Y1]}),n})();class EMe{constructor(t,e){this.dragContainerElement=t,this.startPosition=e.getBoundingClientRect()}validateDrag({x:t,y:e,snapDraggedEvents:i,dragAlreadyMoved:r,transform:s}){const o=HF({x:t,y:e})||r;if(i){const c=Object.assign({},this.startPosition,{left:this.startPosition.left+s.x,right:this.startPosition.right+s.x,top:this.startPosition.top+s.y,bottom:this.startPosition.bottom+s.y});if(o){const u=this.dragContainerElement.getBoundingClientRect(),f=u.top<c.top&&c.top<u.bottom,_=u.top<c.bottom&&c.bottom<u.bottom;return aZ(u,c)&&(f||_)}return!1}return o}}class DMe{constructor(t,e,i){this.resizeContainerElement=t,this.minWidth=e,this.rtl=i}validateResize({rectangle:t,edges:e}){return this.rtl&&(typeof e.left<"u"?(t.left-=e.left,t.right+=e.left):typeof e.right<"u"&&(t.left+=e.right,t.right-=e.right),t.width=t.right-t.left),!(this.minWidth&&Math.ceil(t.width)<Math.ceil(this.minWidth))&&function oMe(n,t){return aZ(n,t)&&function sMe(n,t){return Math.floor(n.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(n.bottom)}(n,t)}(this.resizeContainerElement.getBoundingClientRect(),t)}}let TMe=(()=>{class n{constructor(){this.dayHeaderClicked=new Le,this.eventDropped=new Le,this.dragEnter=new Le,this.trackByWeekDayHeaderDate=VF}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ot({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,i){if(1&e&&(xe(0,yke,2,2,"ng-template",null,0,Wi),xe(2,bke,0,0,"ng-template",1)),2&e){const r=zn(1);J(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function hH(n,t,e,i,r,s,o,c,u){const f=Cs()+n,_=tt(),w=Va(_,f,e,i,r,s);return gh(_,f+4,o,c)||w?Zl(_,f+6,u?t.call(u,e,i,r,s,o,c):t(e,i,r,s,o,c)):wv(_,f+6)}(2,wke,i.days,i.locale,i.dayHeaderClicked,i.eventDropped,i.dragEnter,i.trackByWeekDayHeaderDate))}},dependencies:[fa,Or,ps,PF,Df,V0],encapsulation:2}),n})(),IMe=(()=>{class n{constructor(){this.eventClicked=new Le}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ot({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,i){if(1&e&&(xe(0,Cke,6,27,"ng-template",null,0,Wi),xe(2,Eke,0,0,"ng-template",1)),2&e){const r=zn(1);J(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",eA(2,Dke,[i.weekEvent,i.tooltipPlacement,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDisabled,i.tooltipDelay,i.column,i.daysInWeek]))}},dependencies:[ps,Wv,iZ,rZ,sZ,Df,Z1,LF,Tf],encapsulation:2}),n})(),SMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ot({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,i){if(1&e&&(xe(0,Ike,3,13,"ng-template",null,0,Wi),xe(2,Ske,0,0,"ng-template",1)),2&e){const r=zn(1);J(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",JS(2,Ake,i.segment,i.locale,i.segmentHeight,i.isTimeLabel,i.daysInWeek))}},dependencies:[fa,dr,ps,V0,Tf],encapsulation:2}),n})(),AMe=(()=>{class n{constructor(e,i){this.dateAdapter=e,this.zone=i,this.columnDate$=new W(void 0),this.marker$=this.zone.onStable.pipe(vt(()=>function iAe(n=0,t=$d){return n<0&&(n=0),zm(n,n,t)}(6e4)),va(0),ak(this.columnDate$),Ge(r=>{const s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),c=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),u=new Date;return{isVisible:this.dateAdapter.isSameDay(r,u)&&u>=s&&u<=o,top:this.dateAdapter.differenceInMinutes(u,s)*c}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return n.\u0275fac=function(e){return new(e||n)(H(_d),H(ct))},n.\u0275cmp=Ot({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[An],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,i){if(1&e&&(xe(0,Mke,1,1,"ng-template",null,0,Wi),xe(2,Rke,0,0,"ng-template",1),Nt(3,"async"),Nt(4,"async")),2&e){const r=zn(1);let s;J(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function fH(n,t,e,i,r,s,o,c,u,f){const _=Cs()+n,w=tt();let T=Va(w,_,e,i,r,s);return Px(w,_+4,o,c,u)||T?Zl(w,_+7,f?t.call(f,e,i,r,s,o,c,u):t(e,i,r,s,o,c,u)):wv(w,_+7)}(6,Oke,i.columnDate,i.dayStartHour,i.dayStartMinute,i.dayEndHour,i.dayEndMinute,null==(s=mn(3,2,i.marker$))?null:s.isVisible,null==(s=mn(4,4,i.marker$))?null:s.top))}},dependencies:[dr,ps,WA],encapsulation:2}),n})(),hZ=(()=>{class n{constructor(e,i,r,s,o){this.cdr=e,this.utils=i,this.dateAdapter=s,this.element=o,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new Le,this.eventClicked=new Le,this.eventTimesChanged=new Le,this.beforeViewRender=new Le,this.hourSegmentClicked=new Le,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=VF,this.trackByHourSegment=aMe,this.trackByHour=lMe,this.trackByWeekAllDayEvent=cMe,this.trackByWeekTimeEvent=dMe,this.trackByHourColumn=(c,u)=>u.hours[0]?u.hours[0].segments[0].date.toISOString():u,this.trackById=(c,u)=>u.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,r=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;i&&this.refreshHeader(),e.events&&oZ(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(e,i,r){this.timeEventResizes.set(i.event,r),this.resizeStarted(e,i)}timeEventResizing(e,i){this.timeEventResizes.set(e.event,i);const r=new Map,s=[...this.events];this.timeEventResizes.forEach((o,c)=>{const u=this.getTimeEventResizedDates(c,o),f={...c,...u};r.set(f,c);const _=s.indexOf(c);s[_]=f}),this.restoreOriginalEvents(s,r,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const i=this.timeEventResizes.get(e.event);if(i){this.timeEventResizes.delete(e.event);const r=this.getTimeEventResizedDates(e.event,i);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:e.event,type:Gu.Resize})}}allDayEventResizeStarted(e,i,r){this.allDayEventResizes.set(i,{originalOffset:i.offset,originalSpan:i.span,edge:typeof r.edges.left<"u"?"left":"right"}),this.resizeStarted(e,i,this.getDayColumnWidth(e))}allDayEventResizing(e,i,r){const s=this.allDayEventResizes.get(e),o=this.rtl?-1:1;if(typeof i.edges.left<"u"){const c=Math.round(+i.edges.left/r)*o;e.offset=s.originalOffset+c,e.span=s.originalSpan-c}else if(typeof i.edges.right<"u"){const c=Math.round(+i.edges.right/r)*o;e.span=s.originalSpan+c}}allDayEventResizeEnded(e){const i=this.allDayEventResizes.get(e);if(i){const r="left"===i.edge;let s;s=r?e.offset-i.originalOffset:e.span-i.originalSpan,e.offset=i.originalOffset,e.span=i.originalSpan;const o=this.getAllDayEventResizedDates(e.event,s,r);this.eventTimesChanged.emit({newStart:o.start,newEnd:o.end,event:e.event,type:Gu.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,i,r){(function pMe(n,t,e,i){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==i||n.dropData.event.allDay&&!e||!n.dropData.event.allDay&&e)})(e,0,r,this.calendarId)&&this.lastDragEnterDate.getTime()===i.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:Gu.Drop,event:e.dropData.event,newStart:i,allDay:r}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,i,r,s){this.dayColumnWidth=this.getDayColumnWidth(e);const o=new EMe(e,i);this.validateDrag=({x:c,y:u,transform:f})=>{const _=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&o.validateDrag({x:c,y:u,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:f});if(_&&this.validateEventTimesChanged){const w=this.getDragMovedEventTimes(r,{x:c,y:u},this.dayColumnWidth,s);return this.validateEventTimesChanged({type:Gu.Drag,event:r.event,newStart:w.start,newEnd:w.end})}return _},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&s&&this.view.hourColumns.forEach(c=>{const u=c.events.find(f=>f.event===r.event&&f!==r);u&&(u.width=0,u.height=0)}),this.cdr.markForCheck()}dragMove(e,i){const r=this.getDragMovedEventTimes(e,i,this.dayColumnWidth,!0),s=e.event,o={...s,...r},c=this.events.map(u=>u===s?o:u);this.restoreOriginalEvents(c,new Map([[o,s]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,i,r,s=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:o,end:c}=this.getDragMovedEventTimes(e,i,r,s);(this.snapDraggedEvents||this.eventDragEnterByType[s?"time":"allDay"]>0)&&function fMe(n,t,e){const i=t||n;return e.start<=n&&n<=e.end||e.start<=i&&i<=e.end}(o,c,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:o,newEnd:c,event:e.event,type:Gu.Drag,allDay:!s}))}refreshHeader(){this.days=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays,...zF(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit({header:this.days,...this.view})}getWeekView(e){return this.utils.getWeekView({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight,...zF(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}getDragMovedEventTimes(e,i,r,s){const o=lZ(i.x,r)/r*(this.rtl?-1:1),c=s?BF(i.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,u=this.dateAdapter.addMinutes(kl(this.dateAdapter,e.event.start,o,this.excludeDays),c);let f;return e.event.end&&(f=this.dateAdapter.addMinutes(kl(this.dateAdapter,e.event.end,o,this.excludeDays),c)),{start:u,end:f}}restoreOriginalEvents(e,i,r=!0){const s=this.view;r&&(this.view=this.getWeekView(e));const o=e.filter(c=>i.has(c));this.view.hourColumns.forEach((c,u)=>{s.hourColumns[u].hours.forEach((f,_)=>{f.segments.forEach((w,T)=>{c.hours[_].segments[T].cssClass=w.cssClass})}),o.forEach(f=>{const _=i.get(f),w=c.events.find(T=>T.event===(r?f:_));w?(w.event=_,w.tempEvent=f,r||(w.height=0,w.width=0)):c.events.push({event:_,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:f})})}),i.clear()}getTimeEventResizedDates(e,i){const r={start:e.start,end:dZ(this.dateAdapter,e,this.minimumEventHeight)},{end:s,...o}=e,c={start:this.dateAdapter.addMinutes(r.end,-1*this.minimumEventHeight),end:dZ(this.dateAdapter,o,this.minimumEventHeight)},u=this.rtl?-1:1;if(typeof i.edges.left<"u"){const f=Math.round(+i.edges.left/this.dayColumnWidth)*u,_=kl(this.dateAdapter,r.start,f,this.excludeDays);r.start=_<c.start?_:c.start}else if(typeof i.edges.right<"u"){const f=Math.round(+i.edges.right/this.dayColumnWidth)*u,_=kl(this.dateAdapter,r.end,f,this.excludeDays);r.end=_>c.end?_:c.end}if(typeof i.edges.top<"u"){const f=BF(i.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),_=this.dateAdapter.addMinutes(r.start,f);r.start=_<c.start?_:c.start}else if(typeof i.edges.bottom<"u"){const f=BF(i.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),_=this.dateAdapter.addMinutes(r.end,f);r.end=_>c.end?_:c.end}return r}resizeStarted(e,i,r){this.dayColumnWidth=this.getDayColumnWidth(e);const s=new DMe(e,r,this.rtl);this.validateResize=({rectangle:o,edges:c})=>{const u=s.validateResize({rectangle:{...o},edges:c});if(u&&this.validateEventTimesChanged){let f;if(r){const _=this.rtl?-1:1;if(typeof c.left<"u"){const w=Math.round(+c.left/r)*_;f=this.getAllDayEventResizedDates(i.event,w,!this.rtl)}else{const w=Math.round(+c.right/r)*_;f=this.getAllDayEventResizedDates(i.event,w,this.rtl)}}else f=this.getTimeEventResizedDates(i.event,{rectangle:o,edges:c});return this.validateEventTimesChanged({type:Gu.Resize,event:i.event,newStart:f.start,newEnd:f.end})}return u},this.cdr.markForCheck()}getAllDayEventResizedDates(e,i,r){let s=e.start,o=e.end||e.start;return r?s=kl(this.dateAdapter,s,i,this.excludeDays):o=kl(this.dateAdapter,o,i,this.excludeDays),{start:s,end:o}}}return n.\u0275fac=function(e){return new(e||n)(H(cr),H(J1),H(to),H(_d),H(Ht))},n.\u0275cmp=Ot({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[An],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,i){1&e&&(Q(0,"div",0)(1,"mwl-calendar-week-view-header",1),$e("dayHeaderClicked",function(s){return i.dayHeaderClicked.emit(s)})("eventDropped",function(s){return i.eventDropped({dropData:s},s.newStart,!0)})("dragEnter",function(s){return i.dateDragEnter(s.date)}),ne(),xe(2,jke,6,5,"div",2),Q(3,"div",3),$e("dragEnter",function(){return i.dragEnter("time")})("dragLeave",function(){return i.dragLeave("time")}),xe(4,$ke,2,2,"div",4),Q(5,"div",5,6),xe(7,iMe,5,13,"div",7),ne()()()),2&e&&(J(1),se("days",i.days)("locale",i.locale)("customTemplate",i.headerTemplate),J(1),se("ngIf",i.view.allDayEventRows.length>0),J(2),se("ngIf",i.view.hourColumns.length>0&&1!==i.daysInWeek),J(1),Vt("cal-resize-active",i.timeEventResizes.size>0),J(2),se("ngForOf",i.view.hourColumns)("ngForTrackBy",i.trackByHourColumn))},dependencies:[fa,Or,dr,ps,Q7,BAe,OF,PF,Df,TMe,IMe,SMe,AMe],encapsulation:2}),n})(),UF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Ie({imports:[gl,J7,Y1,B0,J7,Y1]}),n})(),kMe=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new Le,this.hourSegmentClicked=new Le,this.eventTimesChanged=new Le,this.beforeViewRender=new Le}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ot({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:27,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,i){1&e&&(Q(0,"mwl-calendar-week-view",0),$e("eventClicked",function(s){return i.eventClicked.emit(s)})("hourSegmentClicked",function(s){return i.hourSegmentClicked.emit(s)})("eventTimesChanged",function(s){return i.eventTimesChanged.emit(s)})("beforeViewRender",function(s){return i.beforeViewRender.emit(s)}),ne()),2&e&&se("daysInWeek",1)("viewDate",i.viewDate)("events",i.events)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("minimumEventHeight",i.minimumEventHeight)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("refresh",i.refresh)("locale",i.locale)("eventSnapSize",i.eventSnapSize)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("resizeCursors",i.resizeCursors)("hourSegmentTemplate",i.hourSegmentTemplate)("eventTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("snapDraggedEvents",i.snapDraggedEvents)("allDayEventsLabelTemplate",i.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",i.currentTimeMarkerTemplate)("validateEventTimesChanged",i.validateEventTimesChanged)},dependencies:[hZ],encapsulation:2}),n})(),fZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Ie({imports:[gl,B0,UF]}),n})(),MMe=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||FF,i.dateFormatter||Q1,i.utils||J1,i.a11y||K1]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Ie({imports:[B0,uZ,UF,fZ,B0,uZ,UF,fZ]}),n})();const Sf=void 0,OMe=["en",[["a","p"],["AM","PM"],Sf],[["AM","PM"],Sf,Sf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sf,"{1} 'at' {0}",Sf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function RMe(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],{isArray:PMe}=Array;function pZ(n){return 1===n.length&&PMe(n[0])?n[0]:n}function jF(...n){const t=bs(n),e=pZ(n);return e.length?new zt(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)nt(e[o]).subscribe(ot(i,c=>{if(r[o].push(c),r.every(u=>u.length)){const u=r.map(f=>f.shift());i.next(t?t(...u):u),r.some((f,_)=>!f.length&&s[_])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):ti}Math,Math,Math;const uOe=["*"],HOe=["dialog"];function Mf(n){return"string"==typeof n}function Rf(n){return null!=n}function Jm(n){return(n||document.body).getBoundingClientRect()}const YZ={animation:!0,transitionTimerDelayMs:5},OPe=()=>{},{transitionTimerDelayMs:PPe}=YZ,Y0=new Map,na=(n,t,e,i)=>{let r=i.context||{};const s=Y0.get(t);if(s)switch(i.runningTransition){case"continue":return ti;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Y0.delete(t)}const o=e(t,i.animation,r)||OPe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),de(void 0).pipe(function MPe(n){return t=>new zt(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const c=new fe,u=new fe,f=c.pipe(function FMe(...n){return t=>Ig(t,de(...n))}(!0));Y0.set(t,{transition$:c,complete:()=>{u.next(),u.complete()},context:r});const _=function RPe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const w=Xr(t,"transitionend").pipe($t(f),Hn(({target:M})=>M===t));(function gZ(...n){return 1===(n=pZ(n)).length?nt(n[0]):new zt(function NMe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(nt(n[i]).subscribe(ot(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(zm(_+PPe).pipe($t(f)),w,u).pipe($t(f)).subscribe(()=>{Y0.delete(t),n.run(()=>{o(),c.next(),c.complete()})})}),c.asObservable()};let aT=(()=>{class n{constructor(){this.animation=YZ.animation}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),iK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),oK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),aK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})();var $i=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}($i||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const pK=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function gK(n){const t=Array.from(n.querySelectorAll(pK)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let SK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),MK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})();class Lf{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let ONe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Kn(1)).subscribe(()=>{na(this._zone,this._el.nativeElement,(e,i)=>{i&&Jm(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return na(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(ct))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(xo("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Vt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Eo],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();class RK{update(t){}close(t){}dismiss(t){}}const PNe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],NNe=["animation","backdropClass"];class FNe{_applyWindowOptions(t,e){PNe.forEach(i=>{Rf(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){NNe.forEach(i=>{Rf(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe($t(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe($t(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new fe,this._dismissed=new fe,this._hidden=new fe,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function WZ(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():de(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),jF(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var _L=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(_L||{});let LNe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new fe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Le,this.shown=new fe,this.hidden=new fe}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Mf(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Kn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=jF(na(this._zone,e,()=>e.classList.remove("show"),i),na(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};jF(na(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Jm(s),s.classList.add("show")},e),na(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Xr(e,"keydown").pipe($t(this._closed$),Hn(r=>r.which===$i.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(_L.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Xr(this._dialogEl.nativeElement,"mousedown").pipe($t(this._closed$),Nr(()=>i=!1),vt(()=>Xr(e,"mouseup").pipe($t(this._closed$),Kn(1))),Hn(({target:r})=>e===r)).subscribe(()=>{i=!0}),Xr(e,"click").pipe($t(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(_L.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=gK(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&na(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||n)(H(an),H(Ht),H(ct))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&Si(HOe,7),2&i){let s;Ut(s=jt())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Pt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),xo("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Vt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Eo],ngContentSelectors:uOe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(ua(),Q(0,"div",0,1)(2,"div",2),Qi(3),ne()()),2&i&&xo("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),VNe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(e>0){const c=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${c+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=o),r.overflow=s}}static#e=this.\u0275fac=function(i){return new(i||n)(ue(an))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BNe=(()=>{class n{constructor(e,i,r,s,o,c,u){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=s,this._scrollBar=o,this._rendererFactory=c,this._ngZone=u,this._activeWindowCmptHasChanged=new fe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Le,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const f=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=Xr(t,"focusin").pipe($t(e),Ge(s=>s.target));Xr(t,"keydown").pipe($t(e),Hn(s=>s.which===$i.Tab),SC(r)).subscribe(([s,o])=>{const[c,u]=gK(t);(o===c||o===t)&&s.shiftKey&&(u.focus(),s.preventDefault()),o===u&&!s.shiftKey&&(c.focus(),s.preventDefault())}),i&&Xr(t,"click").pipe($t(e),SC(r),Ge(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const s=r.container instanceof HTMLElement?r.container:Rf(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const c=new RK,u=(e=r.injector||e).get(bo,null)||this._environmentInjector,f=this._getContentRef(e,u,i,c,r);let _=!1!==r.backdrop?this._attachBackdrop(s):void 0,w=this._attachWindowComponent(s,f.nodes),T=new FNe(w,f,_,r.beforeDismiss);return this._registerModalRef(T),this._registerWindowCmpt(w),T.hidden.pipe(Kn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),c.close=M=>{T.close(M)},c.dismiss=M=>{T.dismiss(M)},c.update=M=>{T.update(M)},T.update(r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),_&&_.instance&&_.changeDetectorRef.detectChanges(),w.changeDetectorRef.detectChanges(),T}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=SA(ONe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=SA(LNe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,s,o){return r?r instanceof er?this._createFromTemplateRef(r,s):Mf(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new Lf([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new Lf([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Lf([[i]])}_createFromComponent(e,i,r,s,o){const u=SA(r,{environmentInjector:i,elementInjector:Ir.create({providers:[{provide:RK,useValue:s}],parent:e})}),f=u.location.nativeElement;return o.scrollable&&f.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Lf([[f]],u.hostView,u)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||n)(ue(Ba),ue(Ir),ue(bo),ue(an),ue(VNe),ue(zp),ue(ct))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zNe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(ue(aT))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OK=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||n)(ue(Ir),ue(BNe),ue(zNe))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({providers:[OK]})}return n})(),LK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),GK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),$K=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),YK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),qK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),XK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),ZK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),KK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),QK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})();new ze("live announcer delay",{providedIn:"root",factory:function tFe(){return 100}});let JK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})(),eQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({})}return n})();const iFe=[nK,iK,oK,aK,SK,MK,PK,LK,eQ,GK,$K,YK,qK,XK,ZK,KK,QK,JK];let tQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[iFe,nK,iK,oK,aK,SK,MK,PK,LK,eQ,GK,$K,YK,qK,XK,ZK,KK,QK,JK]})}return n})(),nQ=(()=>{class n{constructor(e,i){this.apiService=e,this.storageService=i,this.pet_list=[],e.getAllPets().then(r=>{this.pet_list=r,i.SessionAddStorage("pets",this.pet_list)})}static#e=this.\u0275fac=function(i){return new(i||n)(ue(Pu),ue(bc))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rFe={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"},black:{primary:"#000000",secondary:"#000000"},green:{primary:"#2D6F28",secondary:"#2D6F28"}};let sFe=(()=>{class n{constructor(e,i,r){this.storageService=e,this.apiservice=i,this.petService=r,this.uid="",this.eventListSubject=new fe,this.eventList=[],this.EventList=this.eventListSubject.asObservable();var s=e.SessionGetStorage("uid");console.log(s),this.apiservice.getAppointments(s).then(o=>{o.forEach(c=>{console.log("a"),console.log(c);var u,f="";u=this.parseDateFromString(c.start_date)<new Date?"black":"green",console.log("asdasd"+r.pet_list),r.pet_list.forEach(_=>{"CL7E6IRjyJgOzaLxCV8O"==c.pet_id?f="Tobby":"HtvrlxCnJsSXVkUcgkFG"==c.pet_id?f="Dobby":(f="Bobby",console.log(""))}),this.addEvent({start:this.parseDateFromString(c.start_date),end:this.parseDateFromString(c.end_date),title:f,pet_id:c.pet_id,matter:c.matter,color:{...rFe[u]}})})})}getVetfromPet(e){var i=this.storageService.SessionGetStorage("pets");return i.find(r=>r.id==e)?.vet_id}parseDateFromString(e){const r=e.match(/^(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})$/);if(r){const s=parseInt(r[1]),o=parseInt(r[2])-1,c=parseInt(r[3]),u=parseInt(r[4]),f=parseInt(r[5]),_=new Date(c,o,s,u,f);if(!isNaN(_.getTime()))return _}return null}addEvent(e){this.eventList.push(e),this.eventListSubject.next(this.eventList)}deleteEvent(e){this.eventList=this.eventList.filter(i=>i!==e),this.eventListSubject.next(this.eventList)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(bc),ue(Pu),ue(nQ))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class oFe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new fe,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const aFe=["trigger"],lFe=["panel"];function cFe(n,t){if(1&n&&(Q(0,"span",10),Se(1),ne()),2&n){const e=be();J(1),on(e.placeholder)}}function dFe(n,t){if(1&n&&(Q(0,"span",14),Se(1),ne()),2&n){const e=be(2);J(1),on(e.triggerValue)}}function uFe(n,t){1&n&&Qi(0,0,["*ngSwitchCase","true"])}function hFe(n,t){1&n&&(Q(0,"span",11),xe(1,dFe,2,1,"span",12),xe(2,uFe,1,0,"ng-content",13),ne()),2&n&&(se("ngSwitch",!!be().customTrigger),J(2),se("ngSwitchCase",!0))}function fFe(n,t){if(1&n){const e=On();Vc(),pp(),Q(0,"div",15,16),$e("@transformPanel.done",function(r){return pt(e),ft(be()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return pt(e),ft(be()._handleKeydown(r))}),Qi(2,1),ne()}if(2&n){const e=be();(function yz(n,t,e){dl(aa,Jl,$p(tt(),n,t,e),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),se("ngClass",e.panelClass)("@transformPanel","showing"),Pt("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const pFe=[[["mat-select-trigger"]],"*"],gFe=["mat-select-trigger","*"],mFe={transformPanelWrap:mf("transformPanelWrap",[qa("* => void",FEe("@transformPanel",[NEe()],{optional:!0}))]),transformPanel:mf("transformPanel",[fd("void",_s({opacity:0,transform:"scale(1, 0.8)"})),qa("void => showing",Tl("120ms cubic-bezier(0, 0, 0.2, 1)",_s({opacity:1,transform:"scale(1, 1)"}))),qa("* => void",Tl("100ms linear",_s({opacity:0})))])};let iQ=0;const rQ=new ze("mat-select-scroll-strategy"),vFe=new ze("MAT_SELECT_CONFIG"),yFe={provide:rQ,deps:[Hm],useFactory:function _Fe(n){return()=>n.scrollStrategies.reposition()}},bFe=new ze("MatSelectTrigger");class wFe{constructor(t,e){this.source=t,this.value=e}}const xFe=dX(W1e(cX(uX(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new fe}}))));let CFe=(()=>{class n extends xFe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(wr.required)??!1}set required(e){this._required=or(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=or(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=or(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=E0(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,s,o,c,u,f,_,w,T,M,F,V){super(o,s,u,f,w),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=c,this._parentFormField=_,this._liveAnnouncer=F,this._defaultOptions=V,this._panelOpen=!1,this._compareWith=(U,re)=>U===re,this._uid="mat-select-"+iQ++,this._triggerAriaLabelledBy=null,this._destroy=new fe,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+iQ++,this._panelDoneAnimatingStream=new fe,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=GP(()=>{const U=this.options;return U?U.changes.pipe(va(U),vt(()=>K(...U.map(re=>re.onSelectionChange)))):this._ngZone.onStable.pipe(Kn(1),vt(()=>this.optionSelectionChanges))}),this.openedChange=new Le,this._openedStream=this.openedChange.pipe(Hn(U=>U),Ge(()=>{})),this._closedStream=this.openedChange.pipe(Hn(U=>!U),Ge(()=>{})),this.selectionChange=new Le,this.valueChange=new Le,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=V?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=V.typeaheadDebounceInterval),this._scrollStrategyFactory=M,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(T)||0,this.id=this.id}ngOnInit(){this._selectionModel=new oFe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(en(),$t(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe($t(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(va(null),$t(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&kq(this._trackedModal,"aria-owns",i),function EDe(n,t,e){const i=Mq(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(kq(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,o=this._keyManager;if(!o.isTyping()&&s&&!Il(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const c=this.selected;o.onKeydown(e);const u=this.selected;u&&c!==u&&this._liveAnnouncer.announce(u.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,o=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(o||13!==r&&32!==r||!i.activeItem||Il(e))if(!o&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const c=this.options.some(u=>!u.disabled&&!u.selected);this.options.forEach(u=>{u.disabled||(c?u.select():u.deselect())})}else{const c=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==c&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Kn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new SDe(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=K(this.options.changes,this._destroy);this.optionSelectionChanges.pipe($t(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),K(...this.options.map(i=>i._stateChanges)).pipe($t(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(H(HN),H(cr),H(ct),H(hX),H(Ht),H(zu,8),H(f0,8),H(ud,8),H(N1,8),H(vc,10),zc("tabindex"),H(rQ),H(ZDe),H(vFe,8))};static#t=this.\u0275dir=Ue({type:n,viewQuery:function(i,r){if(1&i&&(Si(aFe,5),Si(lFe,5),Si(sX,5)),2&i){let s;Ut(s=jt())&&(r.trigger=s.first),Ut(s=jt())&&(r.panel=s.first),Ut(s=jt())&&(r._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[xn,An]})}return n})(),EFe=(()=>{class n extends CFe{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe($t(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,s=function aTe(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let o=0;o<n+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),o=i._getHostElement();r.scrollTop=0===e&&1===s?0:function lTe(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new wFe(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof $N?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=or(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ki(n)))(r||n)}}();static#t=this.\u0275cmp=Ot({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(1&i&&(si(s,bFe,5),si(s,CX,5),si(s,xX,5)),2&i){let o;Ut(o=jt())&&(r.customTrigger=o.first),Ut(o=jt())&&(r.options=o),Ut(o=jt())&&(r.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&$e("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(Pt("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Vt("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[li([{provide:KN,useExisting:n},{provide:wX,useExisting:n}]),xn],ngContentSelectors:gFe,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(ua(pFe),Q(0,"div",0,1),$e("click",function(){return r.toggle()}),Q(3,"div",2),xe(4,cFe,2,1,"span",3),xe(5,hFe,3,2,"span",4),ne(),Q(6,"div",5)(7,"div",6),Vc(),Q(8,"svg",7),Qe(9,"path",8),ne()()()(),xe(10,fFe,3,9,"ng-template",9),$e("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const s=zn(1);J(3),se("ngSwitch",r.empty),Pt("id",r._valueId),J(1),se("ngSwitchCase",!0),J(1),se("ngSwitchCase",!1),J(5),se("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[fa,xh,jv,XU,sX,$N],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[mFe.transformPanel]},changeDetection:0})}return n})(),DFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({providers:[yFe],imports:[gl,oX,EX,Jo,k1,QN,EX,Jo]})}return n})();const TFe=["modalContent"];function IFe(n,t){if(1&n){const e=On();Q(0,"mwl-calendar-month-view",13),$e("dayClicked",function(r){return pt(e),ft(be().dayClicked(r.day))})("eventClicked",function(r){return pt(e),ft(be().eventClicked(r))})("beforeViewRender",function(r){return pt(e),ft(be().beforeMonthViewRender(r))}),ne()}if(2&n){const e=be();se("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)("activeDayIsOpen",e.activeDayIsOpen)}}function SFe(n,t){if(1&n){const e=On();Q(0,"mwl-calendar-week-view",14),$e("beforeViewRender",function(r){return pt(e),ft(be().beforeWeekViewRender(r))}),ne()}if(2&n){const e=be();se("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)}}function AFe(n,t){if(1&n){const e=On();Q(0,"mwl-calendar-day-view",14),$e("beforeViewRender",function(r){return pt(e),ft(be().beforeDayViewRender(r))}),ne()}if(2&n){const e=be();se("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)}}function kFe(n,t){if(1&n){const e=On();Q(0,"div",15)(1,"div",16),$e("click",function(){return pt(e),ft(be().triggerCreateFlag())}),Qe(2,"img",17),Q(3,"div",18)(4,"p"),Se(5,"Add new Appointment"),ne()()()()}}function MFe(n,t){if(1&n&&(Q(0,"mat-option",32),Se(1),ne()),2&n){const e=t.$implicit;se("value",e.id),J(1),Cn(" ",e.name," ")}}function RFe(n,t){if(1&n){const e=On();Q(0,"div")(1,"form",19),$e("ngSubmit",function(){return pt(e),ft(be().add_appoint())}),Q(2,"mat-form-field")(3,"mat-select",20),$e("valueChange",function(r){return pt(e),ft(be().pets[0].name=r)})("selectionChange",function(r){return pt(e),ft(be().handleSelectChange(r))}),xe(4,MFe,2,2,"mat-option",21),ne()(),Q(5,"div",22)(6,"mat-form-field")(7,"mat-label"),Se(8,"Start Date"),ne(),Q(9,"input",23),$e("click",function(){return pt(e),ft(zn(12).open())})("dateInput",function(r){return pt(e),ft(be().onDateInputStart(r))}),ne(),Qe(10,"mat-datepicker-toggle",24)(11,"mat-datepicker",null,25),ne()(),Q(13,"div",22)(14,"mat-form-field")(15,"mat-label"),Se(16,"End Date"),ne(),Q(17,"input",26),$e("click",function(){return pt(e),ft(zn(20).open())})("dateInput",function(r){return pt(e),ft(be().onDateInputEnd(r))}),ne(),Qe(18,"mat-datepicker-toggle",24)(19,"mat-datepicker",null,27),ne()(),Q(21,"div",22),Qe(22,"input",28),Q(23,"label"),Se(24,"Matter"),ne()(),Q(25,"div",29)(26,"button",30),Se(27,"Add"),ne(),Q(28,"button",31),$e("click",function(){return pt(e),ft(be().triggerCreateFlag())}),Se(29,"Back"),ne()()()()}if(2&n){const e=zn(12),i=zn(20),r=be();J(1),se("formGroup",r.apponintForm),J(2),se("value",r.pets[0].name),J(1),se("ngForOf",r.pets),J(5),se("matDatepicker",e),J(1),se("for",e),J(7),se("matDatepicker",i),J(1),se("for",i),J(8),se("disabled",r.apponintForm.invalid)}}function OFe(n,t){if(1&n){const e=On();Q(0,"div",34)(1,"div",35),Qe(2,"img",36),Q(3,"div",37)(4,"b",38),Se(5),Nt(6,"date"),ne(),Q(7,"p",39),Se(8),ne(),Q(9,"p",39),Se(10,"Vet: Ramon"),ne(),Q(11,"p",39),Se(12),ne()(),Qe(13,"img",40),Q(14,"img",41),$e("click",function(){const s=pt(e).$implicit;return ft(be(2).delete_event(s))}),ne()()()}if(2&n){const e=t.$implicit;J(5),on(To(6,3,e.start,"MMM dd 'at' hh:mm a")),J(3),Cn("Pet: ",e.title,""),J(4),Cn("Matter: ",e.matter,"")}}function PFe(n,t){if(1&n&&(Q(0,"div"),xe(1,OFe,15,6,"div",33),ne()),2&n){const e=be();J(1),se("ngForOf",e.displayed_events)}}!function tle(n,t,e){(function nre(n,t,e){"string"!=typeof t&&(e=t,t=n[Ji.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),tg[t]=n,e&&(tg[t][Ji.ExtraData]=e)})(n,t,e)}(OMe);let NFe=(()=>{class n{constructor(e,i,r,s,o,c,u,f){this.modal=e,this.storageService=i,this.apiService=r,this.appointmentService=s,this.router=o,this.fb=c,this.datePipe=u,this.petService=f,this.locale="en",this.view=If.Month,this.CalendarView=If,this.viewDate=new Date,this.refresh=new fe,this.events=[],this.displayed_events=[],this.activeDayIsOpen=!0,this.pets=[],this.selectedValue="",this.createFlag=!1;var _=this.storageService.SessionGetStorage("uid");this.apiService.getClientPets(_).then(w=>{this.pets=w}),this.apponintForm=this.fb.group({pet:["",[wr.required]],start_date:["",wr.required],end_date:["",[wr.required]],matter:["",wr.required]})}handleSelectChange(e){this.selectedValue=e.value}add_appoint(){console.log("aaaaa"),this.triggerCreateFlag()}onDateInputStart(e){this.apponintForm.value.start_date=e.value}onDateInputEnd(e){this.apponintForm.value.end_date=e.value}triggerCreateFlag(){this.createFlag=!this.createFlag}ngOnInit(){this.appointmentService.EventList.subscribe(e=>{this.events=e;var i=new Date;this.events.forEach(r=>{r.start>i&&this.displayed_events.push(r)})})}eventClicked({event:e}){this.router.navigate(["clients/pet"],{queryParams:{petId:e.pet_id}})}dayClicked({date:e,events:i}){O7(e,this.viewDate)&&(this.activeDayIsOpen=!(P7(this.viewDate,e)&&!0===this.activeDayIsOpen||0===i.length),this.viewDate=e)}beforeMonthViewRender(e){e.body.forEach(i=>{i.isPast&&(i.cssClass="bg-pink")})}beforeWeekViewRender(e){e.hourColumns.forEach(i=>{i.hours.forEach(r=>{r.segments.forEach(s=>{})})})}beforeDayViewRender(e){e.hourColumns.forEach(i=>{i.hours.forEach(r=>{r.segments.forEach(s=>{})})})}delete_event(e){this.displayed_events.splice(this.displayed_events.indexOf(e),1),this.events.splice(this.events.indexOf(e),1),this.appointmentService.deleteEvent(e)}setView(e){this.view=e}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}static#e=this.\u0275fac=function(i){return new(i||n)(H(OK),H(bc),H(Pu),H(sFe),H(rs),H(v1),H(lg),H(nQ))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-appointments"]],viewQuery:function(i,r){if(1&i&&Si(TFe,7),2&i){let s;Ut(s=jt())&&(r.modalContent=s.first)}},decls:36,vars:23,consts:[[1,"row","text-center"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-dark",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-dark",3,"view","viewDate","viewDateChange"],[1,"btn","btn-dark",3,"click"],[1,"calendar-size",3,"ngSwitch"],[3,"locale","viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","beforeViewRender",4,"ngSwitchCase"],[3,"locale","viewDate","events","refresh","beforeViewRender",4,"ngSwitchCase"],[2,"width","100%","align-self","center"],["style","justify-content: center; height: 80px;",4,"ngIf"],[4,"ngIf"],[3,"locale","viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","beforeViewRender"],[3,"locale","viewDate","events","refresh","beforeViewRender"],[2,"justify-content","center","height","80px"],[1,"appointment-container",2,"display","flex","text-align","center",3,"click"],["src","../../../assets/imgs/Add.svg",2,"height","70%","padding-left","5%","padding-top","5%"],[2,"align-items","center","text-align","center"],[3,"formGroup","ngSubmit"],["formControlName","pet",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"form-floating","mb-3"],["formControlName","start_date","matInput","","readonly","","required","",3,"matDatepicker","click","dateInput"],["matSuffix","",3,"for"],["picker",""],["formControlName","end_date","matInput","","readonly","","required","",3,"matDatepicker","click","dateInput"],["picker2",""],["type","text","formControlName","matter","placeholder","Matter",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[3,"click"],[3,"value"],["style","justify-content: center; height: 100px;",4,"ngFor","ngForOf"],[2,"justify-content","center","height","100px"],[1,"appointment-container",2,"display","flex","text-align","center"],["src","../../../assets/imgs/vet_img.svg",2,"height","70%","padding-left","5%","padding-top","5%"],[2,"align-items","center","text-align","left","max-width","200px","padding-left","10px"],[2,"word-wrap","break-word","margin","0","color","#286024"],[2,"word-wrap","break-word","margin","0"],["src","../../../assets/imgs/edit_icon.svg",1,"editIcons"],["src","../../../assets/imgs/delete_icon.svg",1,"editIcons",3,"click"]],template:function(i,r){1&i&&(Q(0,"h1"),Se(1,"Appointments"),ne(),Qe(2,"br"),Q(3,"div",0)(4,"div",1)(5,"div",2)(6,"div",3),$e("viewDateChange",function(o){return r.viewDate=o})("viewDateChange",function(){return r.closeOpenMonthViewDay()}),Se(7," Previous "),ne(),Q(8,"div",4),$e("viewDateChange",function(o){return r.viewDate=o}),Se(9," Today "),ne(),Q(10,"div",5),$e("viewDateChange",function(o){return r.viewDate=o})("viewDateChange",function(){return r.closeOpenMonthViewDay()}),Se(11," Next "),ne()()(),Q(12,"div",1)(13,"h3"),Se(14),Nt(15,"calendarDate"),ne()(),Q(16,"div",1)(17,"div",2)(18,"div",6),$e("click",function(){return r.setView(r.CalendarView.Month)}),Se(19," Month "),ne(),Q(20,"div",6),$e("click",function(){return r.setView(r.CalendarView.Week)}),Se(21," Week "),ne(),Q(22,"div",6),$e("click",function(){return r.setView(r.CalendarView.Day)}),Se(23," Day "),ne()()()(),Qe(24,"br"),Q(25,"div",7),xe(26,IFe,1,5,"mwl-calendar-month-view",8),xe(27,SFe,1,4,"mwl-calendar-week-view",9),xe(28,AFe,1,4,"mwl-calendar-day-view",9),ne(),Qe(29,"br"),Q(30,"h3",10),Se(31,"Upcommig Appointments"),ne(),xe(32,kFe,6,0,"div",11),xe(33,RFe,30,8,"div",12),Qe(34,"br"),xe(35,PFe,2,1,"div",12)),2&i&&(J(6),se("view",r.view)("viewDate",r.viewDate),J(2),se("viewDate",r.viewDate),J(2),se("view",r.view)("viewDate",r.viewDate),J(4),on(hl(15,19,r.viewDate,r.view+"ViewTitle","en")),J(4),Vt("active",r.view===r.CalendarView.Month),J(2),Vt("active",r.view===r.CalendarView.Week),J(2),Vt("active",r.view===r.CalendarView.Day),J(3),se("ngSwitch",r.view),J(1),se("ngSwitchCase",r.CalendarView.Month),J(1),se("ngSwitchCase",r.CalendarView.Week),J(1),se("ngSwitchCase",r.CalendarView.Day),J(4),se("ngIf",!r.createFlag),J(1),se("ngIf",r.createFlag),J(2),se("ngIf",!r.createFlag))},dependencies:[Or,dr,xh,jv,g0,hf,s0,o0,m0,ud,Om,gMe,mMe,_Me,CMe,hZ,kMe,i7,B1,r7,GX,UX,O1,OX,EFe,CX,lg,V0],styles:[".calendar-size[_ngcontent-%COMP%]{font-size:11px!important}.appointment-container[_ngcontent-%COMP%]{width:100%;height:100%;top:405px;left:1488px;border-radius:8px;background-color:#fff;text-align:center;margin-bottom:25px;padding-top:3%}.editIcons[_ngcontent-%COMP%]{padding:1%;margin-left:20px;width:40px}p[_ngcontent-%COMP%]{font-size:12px}"]})}return n})();class FFe{}class sQ{}const LFe=["determinateSpinner"];function VFe(n,t){if(1&n&&(Vc(),Q(0,"svg",11),Qe(1,"circle",12),ne()),2&n){const e=be();Pt("viewBox",e._viewBox()),J(1),Es("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),Pt("r",e._circleRadius())}}const BFe=YN(class{constructor(n){this._elementRef=n}},"primary"),zFe=new ze("mat-progress-spinner-default-options",{providedIn:"root",factory:function HFe(){return{diameter:oQ}}}),oQ=100;let jFe=(()=>{class n extends BFe{constructor(e,i,r){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=oQ,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,E0(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=E0(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=E0(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(i){return new(i||n)(H(Ht),H(ql,8),H(zFe))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(1&i&&Si(LFe,5),2&i){let s;Ut(s=jt())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(i,r){2&i&&(Pt("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),Es("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),Vt("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[xn],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(1&i&&(xe(0,VFe,2,8,"ng-template",null,0,Wi),Q(2,"div",1,2),Vc(),Q(4,"svg",3),Qe(5,"circle",4),ne()(),pp(),Q(6,"div",5)(7,"div",6)(8,"div",7),mh(9,8),ne(),Q(10,"div",9),mh(11,8),ne(),Q(12,"div",10),mh(13,8),ne()()()),2&i){const s=zn(1);J(4),Pt("viewBox",r._viewBox()),J(1),Es("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Pt("r",r._circleRadius()),J(4),se("ngTemplateOutlet",s),J(2),se("ngTemplateOutlet",s),J(2),se("ngTemplateOutlet",s)}},dependencies:[ps],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return n})(),WFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[gl,Jo]})}return n})();function GFe(n,t){1&n&&mh(0)}function $Fe(n,t){1&n&&mh(0)}function YFe(n,t){if(1&n){const e=On();Q(0,"button",7),$e("click",function(){pt(e);const r=be().$implicit;return ft(be(2).redirectVisitPage(r.id||""))}),Q(1,"div",8)(2,"div"),Qe(3,"img",9),ne(),Q(4,"div",10)(5,"ul")(6,"li")(7,"b"),Se(8),Nt(9,"transloco"),ne(),Se(10),ne(),Q(11,"li")(12,"b"),Se(13),Nt(14,"transloco"),ne(),Se(15),ne(),Q(16,"li")(17,"b"),Se(18),Nt(19,"transloco"),ne(),Se(20),ne()()()()()}if(2&n){const e=be().$implicit,i=be(2);Kl("id",e.id),J(3),Kl("src",i.VisitPet.profile_image,Pp),J(5),Cn(" ",mn(9,8,"pet_profile_birth")," "),J(2),Cn(" ",i.VisitPet.name,""),J(3),Cn(" ",mn(14,10,"start"),""),J(2),Cn(" ",i.formatStartDate(e.start_date||""),""),J(3),Cn(" ",mn(19,12,"end"),""),J(2),Cn(" ",i.formatStartDate(e.end_date||""),"")}}function qFe(n,t){if(1&n&&(Q(0,"div"),xe(1,$Fe,1,0,"ng-container",6),xe(2,YFe,21,14,"ng-template",null,1,Wi),ne()),2&n){const e=t.$implicit,i=zn(3),r=be(2);J(1),se("ngIf",r.isTodayVisit(e.end_date||""))("ngIfThen",i)}}function XFe(n,t){1&n&&xe(0,qFe,4,2,"div",5),2&n&&se("ngForOf",be().clientAppointments)}function ZFe(n,t){1&n&&(Q(0,"div")(1,"p"),Se(2),Nt(3,"transloco"),ne()()),2&n&&(J(2),Cn(" ",mn(3,1,"no_visits"),""))}function KFe(n,t){1&n&&(Q(0,"div",11),Qe(1,"mat-spinner"),ne())}function QFe(n,t){if(1&n){const e=On();Q(0,"div",12)(1,"div",13),$e("click",function(){const s=pt(e).$implicit;return ft(be().redirectPetPage(s.id||""))}),Qe(2,"img",14),Q(3,"div",15)(4,"p"),Se(5),ne()()()()}if(2&n){const e=t.$implicit;J(1),Kl("id",e.id),J(1),Kl("src",e.profile_image,Pp),J(3),on(e.name)}}let JFe=(()=>{class n{constructor(e,i,r,s){this.router=e,this.apiService=i,this.storageService=r,this.translocoService=s,this.contentIsLoading=!0,this.currentDate=new Date,this.showData(),this.client=new FFe,this.petsArray=[],this.clientAppointments=[],this.ifvisit=!1,this.isTodayVisits=[],this.VisitPet=new sQ}ngOnInit(){}formatStartDate(e){const r=e.match(/(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})/);return r?`${r[4]}:${r[5]}`:""}formatDate(e){const r=e.match(/(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})/);return r?`${r[1]}${r[2]}${r[3]}`:""}isTodayVisit(e){const o=`${this.currentDate.getDate().toString().padStart(2,"0")}${(this.currentDate.getMonth()+1).toString().padStart(2,"0")}${this.currentDate.getFullYear().toString()}`;return this.formatDate(e)==o}redirectPetPage(e){this.router.navigate(["pet-profile"],{queryParams:{petId:e}})}redirectVisitPage(e){this.router.navigate(["appointment"],{queryParams:{appointmentId:e}})}showData(){this.apiService.getSingleClient(this.storageService.SessionGetStorage("uid")).then(e=>{this.client=e,console.log(e)}),this.apiService.getClientPets(this.storageService.SessionGetStorage("uid")).then(e=>{this.petsArray=e;for(let i=0;i<e.length;i++)e[i].profile_image="Toby"==e[i].name?"/assets/img/dogImage1.jpg":"Dobby"==e[i].name?"/assets/img/dogImage2.jpg":"Darwin"==e[i].name?"/assets/img/catImage.avif":"/assets/img/logo_default.svg";this.contentIsLoading=!1,console.log(e)}),this.apiService.getClientAppointments(this.storageService.SessionGetStorage("uid")).then(e=>{this.clientAppointments=e;let i=!1;for(const r of this.clientAppointments)this.apiService.getPet(r.pet_id||"").then(s=>{this.VisitPet=s,""==this.VisitPet.profile_image?this.VisitPet.profile_image="/assets/img/logo_default.svg":"Toby"==this.VisitPet.name?this.VisitPet.profile_image="/assets/img/dogImage1.jpg":"Dobby"==this.VisitPet.name?this.VisitPet.profile_image="/assets/img/dogImage2.jpg":"Darwin"==this.VisitPet.name&&(this.VisitPet.profile_image="/assets/img/catImage.avif")}),(i=this.isTodayVisit(r.end_date||""))&&this.isTodayVisits.push(r.end_date||"")})}static#e=this.\u0275fac=function(i){return new(i||n)(H(rs),H(Pu),H(bc),H(z1))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-home"]],decls:21,vars:27,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""],["class","spinnerDiv",4,"ngIf"],["class","module","style","text-align: center;",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen"],[1,"whiteButton",3,"id","click"],[2,"column-count","2"],[2,"width","70%",3,"src"],[2,"text-align","left"],[1,"spinnerDiv"],[1,"module",2,"text-align","center"],[1,"image-container",3,"id","click"],["width","50px","alt","Pet",3,"src"],[1,"overlay"]],template:function(i,r){if(1&i&&(Q(0,"h1"),Se(1),Nt(2,"transloco"),ne(),Q(3,"h2"),Se(4),Nt(5,"date"),Nt(6,"date"),Nt(7,"date"),ne(),Q(8,"h1"),Se(9),Nt(10,"transloco"),ne(),xe(11,GFe,1,0,"ng-container",0),xe(12,XFe,1,1,"ng-template",null,1,Wi),xe(14,ZFe,4,3,"ng-template",null,2,Wi),Q(16,"h1"),Se(17),Nt(18,"transloco"),ne(),xe(19,KFe,2,0,"div",3),xe(20,QFe,6,3,"div",4)),2&i){const s=zn(13),o=zn(15);J(1),Hx(" ",mn(2,12,"welcome")," ",r.client.name,"\n"),J(3),US(" ",To(5,14,r.currentDate,"EEEE"),", ",To(6,17,r.currentDate,"d")," ",To(7,20,r.currentDate,"MMMM"),""),J(5),Cn(" ",mn(10,23,"today_visits"),"\n"),J(2),se("ngIf",r.isTodayVisits.length>0)("ngIfThen",s)("ngIfElse",o),J(6),Cn(" ",mn(18,25,"your_pets"),"\n"),J(2),se("ngIf",r.contentIsLoading),J(1),se("ngForOf",r.petsArray)}},dependencies:[Or,dr,jFe,lg,md],styles:[".whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:10px;border-radius:20px;width:100%;margin-right:20px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}.module[_ngcontent-%COMP%]{padding:0 40px}"]})}return n})();const eLe=["chart_div"];function tLe(n,t){if(1&n&&(Q(0,"ul")(1,"li"),Se(2),ne()()),2&n){const e=t.$implicit;J(2),Cn("",e," \u2713")}}const nLe=[{path:"",component:ISe},{path:"register",component:LSe},{path:"map",component:R7},{path:"appointments",component:NFe},{path:"map",component:R7},{path:"home",component:JFe},{path:"pet-profile",component:(()=>{class n{constructor(e){this.apiService=e,this.chartOptions={series:[{name:"Cardiac Frequency",data:[70,75,80,74,84,90,75,70,80,91,92,93,64,75,86,77,98,109,60]},{name:"Steps",data:[300,200,100,290,500,400,211,314,194,211,112,323,414,125,376,517,238,419,310]}],chart:{type:"bar",height:350},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(r){return"$ "+r+" thousands"}}}},this.chartOptions2={series:[{name:"Weight",data:[90,91,90,93,94,90,95,98,100,98,97]},{name:"Height",data:[100,100,100,105,105,105,105,105,110,110,110]}],chart:{type:"line",height:350},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(r){return"$ "+r+" thousands"}}}};const i=new URLSearchParams(window.location.search);this.showPetData(i.get("petId")),this.petInfo=new sQ,this.petImage=new String}showPetData(e){null!=e&&this.apiService.getPet(e).then(i=>{this.petInfo=i,i.profile_image="Toby"==i.name?"/assets/img/dogImage1.jpg":"Dobby"==i.name?"/assets/img/dogImage2.jpg":"Darwin"==i.name?"/assets/img/catImage.avif":"/assets/img/logo_default.svg"})}getLatestWeight(){if(null!=this.petInfo.weight){const e=Object.keys(this.petInfo.weight);return this.petInfo.weight[e[e.length-1]]}return null}getBirth(e){if(null!=e){const i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=e.split("_")[0],o=parseInt(s.substring(0,2),10),c=parseInt(s.substring(2,4),10)-1,u=parseInt(s.substring(4,8),10);return`${o} of ${i[c]}, ${u}`}return null}static#e=this.\u0275fac=function(i){return new(i||n)(H(Pu))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-pet-profile-page"]],viewQuery:function(i,r){if(1&i&&Si(eLe,5),2&i){let s;Ut(s=jt())&&(r.chart=s.first)}},decls:69,vars:41,consts:[[2,"text-align","center"],["id","petsIcon","src","/assets/menuIcons/edit.svg","alt","pets"],["id","petsIcon","src","/assets/menuIcons/delete.svg","alt","pets"],[2,"width","300px",3,"src"],[1,"module",2,"column-count","2"],[1,"info-container"],["for","petTypeBreed"],["id","petTypeBreed"],["for","petWeight"],["id","petWeight"],["for","petHeight"],["id","petHeight"],[1,"module",2,"padding-right","5px"],[4,"ngFor","ngForOf"],[1,"module","info-container",2,"padding-right","5px"],[2,"text-align","justify"],[1,"module"],[1,"image-container"],["id","chart_div"],[3,"series","chart"]],template:function(i,r){1&i&&(Q(0,"div")(1,"h1",0),Se(2),Qe(3,"img",1)(4,"img",2),ne()(),Q(5,"div",0),Qe(6,"img",3),ne(),Q(7,"div",4)(8,"h1"),Se(9),Nt(10,"transloco"),ne(),Q(11,"div",5)(12,"div")(13,"div")(14,"label")(15,"b"),Se(16),Nt(17,"transloco"),ne()(),Q(18,"span"),Se(19),ne(),Qe(20,"br"),Q(21,"label")(22,"b"),Se(23),Nt(24,"transloco"),ne()(),Q(25,"span"),Se(26),ne(),Qe(27,"br"),Q(28,"label",6)(29,"b"),Se(30),Nt(31,"transloco"),ne()(),Q(32,"span",7),Se(33),ne(),Qe(34,"br"),ne(),Q(35,"div")(36,"label",8)(37,"b"),Se(38),Nt(39,"transloco"),ne()(),Q(40,"span",9),Se(41),ne(),Qe(42,"br"),Q(43,"label",10)(44,"b"),Se(45),Nt(46,"transloco"),ne()(),Q(47,"span",11),Se(48),ne(),Qe(49,"br"),ne()(),Q(50,"div",12)(51,"h1"),Se(52),Nt(53,"transloco"),ne(),xe(54,tLe,3,1,"ul",13),ne()()(),Q(55,"div",14)(56,"h1"),Se(57),Nt(58,"transloco"),ne(),Q(59,"p",15),Se(60),ne()(),Q(61,"div",16)(62,"h1"),Se(63),Nt(64,"transloco"),ne(),Qe(65,"div",17),Q(66,"div",18),Qe(67,"apx-chart",19)(68,"apx-chart",19),ne()()),2&i&&(J(2),Cn("",r.petInfo.name," "),J(4),Kl("src",r.petInfo.profile_image,Pp),J(3),Cn(" ",mn(10,23,"personal_info"),""),J(7),on(mn(17,25,"pet_profile_name")),J(3),Cn(" ",r.petInfo.name,""),J(4),Cn(" ",mn(24,27,"pet_profile_birth"),""),J(3),Cn(" ",r.getBirth(r.petInfo.birth),""),J(4),on(mn(31,29,"pet_profile_type")),J(3),Hx(" ",r.petInfo.type,", ",r.petInfo.breed,""),J(5),Cn(" ",mn(39,31,"pet_weight"),""),J(3),Cn(" ",r.getLatestWeight(),"g"),J(4),Cn(" ",mn(46,33,"pet_height"),""),J(3),Cn(" ",r.petInfo.height,"cm"),J(4),on(mn(53,35,"pet_vaccines")),J(2),se("ngForOf",null==r.petInfo.health_info?null:r.petInfo.health_info.vaccines),J(3),on(mn(58,37,"pet_resume")),J(3),Cn("",null==r.petInfo.health_info?null:r.petInfo.health_info.observations," "),J(3),on(mn(64,39,"pet_statistics")),J(4),se("series",r.chartOptions.series)("chart",r.chartOptions.chart),J(1),se("series",r.chartOptions2.series)("chart",r.chartOptions2.chart))},dependencies:[Or,VY,md],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-right:50px}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:278px;height:178px}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}"]})}return n})()},{path:"menu-pet-appointment",component:(()=>{class n{constructor(e){this.router=e}redirectPetsPage(){this.router.navigate(["petsList"])}redirectVisitPage(){this.router.navigate(["appointments"])}static#e=this.\u0275fac=function(i){return new(i||n)(H(rs))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-menu-pet-appointment"]],decls:10,vars:0,consts:[[1,"whiteButton"],["src","/assets/menuIcons/calendar-clock 1.svg ","alt","petajda",3,"click"],["src","/assets/menuIcons/petjada.svg ","alt","petajda",3,"click"]],template:function(i,r){1&i&&(Q(0,"h1"),Se(1," Pet-vet menu\n"),ne(),Q(2,"button",0)(3,"img",1),$e("click",function(){return r.redirectVisitPage()}),ne(),Q(4,"h2"),Se(5,"Appointments"),ne()(),Q(6,"button",0)(7,"img",2),$e("click",function(){return r.redirectPetsPage()}),ne(),Q(8,"h2"),Se(9,"Pet space"),ne()())},styles:[".whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:50px;border-radius:20px;width:100%;margin-top:100px;margin-right:20px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px;margin-bottom:20px}"]})}return n})()},{path:"petsList",component:CSe},{path:"qr",component:(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-qr"]],decls:8,vars:6,consts:[[2,"text-align","center"],["src","/assets/imgs/under-dev.png","alt","unde development","width","100%"]],template:function(i,r){1&i&&(Q(0,"h1"),Se(1),Nt(2,"transloco"),ne(),Q(3,"div",0),Qe(4,"img",1),Q(5,"h2"),Se(6),Nt(7,"transloco"),ne()()),2&i&&(J(1),on(mn(2,2,"qr_underdev")),J(5),on(mn(7,4,"stay_tunned")))},dependencies:[md]})}return n})()},{path:"chat",component:(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-chat"]],decls:8,vars:6,consts:[[2,"text-align","center"],["src","/assets/imgs/under-dev.png","alt","unde development","width","100%"]],template:function(i,r){1&i&&(Q(0,"h1"),Se(1),Nt(2,"transloco"),ne(),Q(3,"div",0),Qe(4,"img",1),Q(5,"h2"),Se(6),Nt(7,"transloco"),ne()()),2&i&&(J(1),on(mn(2,2,"chat_underdev")),J(5),on(mn(7,4,"stay_tunned")))},dependencies:[md]})}return n})()},{path:"profile",component:(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-user-profile"]],decls:8,vars:6,consts:[[2,"text-align","center"],["src","/assets/imgs/under-dev.png","alt","unde development","width","100%"]],template:function(i,r){1&i&&(Q(0,"h1"),Se(1),Nt(2,"transloco"),ne(),Q(3,"div",0),Qe(4,"img",1),Q(5,"h2"),Se(6),Nt(7,"transloco"),ne()()),2&i&&(J(1),on(mn(2,2,"user_underdev")),J(5),on(mn(7,4,"stay_tunned")))},dependencies:[md]})}return n})()}];let iLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({imports:[G6.forRoot(nLe),G6]})}return n})();const rLe=[[["","icon",""]],"*"],sLe=["[icon]","*"];let oLe=(()=>{class n{constructor(){this.routerLinkActiveOptions={exact:!1}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-sidenav-link"]],inputs:{routerLink:"routerLink",routerLinkActiveOptions:"routerLinkActiveOptions"},ngContentSelectors:sLe,decls:5,vars:2,consts:[["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],[1,"text-container"]],template:function(i,r){1&i&&(ua(rLe),Q(0,"a",0)(1,"span"),Qi(2),ne(),Q(3,"span",1),Qi(4,1),ne()()),2&i&&se("routerLink",r.routerLink)("routerLinkActiveOptions",r.routerLinkActiveOptions)},dependencies:[r0,L6],styles:["a[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:8px;min-width:80px;padding:16px;background-color:#2d6f28;font-weight:700;color:#afeebb;box-sizing:border-box;text-decoration:none;border-radius:0;transition:background-color 275ms ease-out}a[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]})}return n})(),aLe=(()=>{class n{changeIcon(e){switch(document.getElementById("profileIcon").src="/assets/menuIcons/userOff.svg",e){case"dashboardIcon":document.getElementById(e).src="/assets/menuIcons/homeOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("mapIcon","map"),this.disableIcon("chatIcon","chat"),this.disableIcon("qrIcon","qr");break;case"petsIcon":document.getElementById(e).src="/assets/menuIcons/dogOn.svg",this.disableIcon("dashboardIcon","home"),this.disableIcon("mapIcon","map"),this.disableIcon("chatIcon","chat"),this.disableIcon("qrIcon","qr");break;case"mapIcon":document.getElementById(e).src="/assets/menuIcons/mapOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("dashboardIcon","home"),this.disableIcon("chatIcon","chat"),this.disableIcon("qrIcon","qr");break;case"chatIcon":document.getElementById(e).src="/assets/menuIcons/chatOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("mapIcon","map"),this.disableIcon("dashboardIcon","home"),this.disableIcon("qrIcon","qr");break;case"qrIcon":document.getElementById(e).src="/assets/menuIcons/qrOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("mapIcon","map"),this.disableIcon("chatIcon","chat"),this.disableIcon("dashboardIcon","home")}}disableIcon(e,i){document.getElementById(e).src="/assets/menuIcons/"+i+"Off.svg"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-side-nav"]],decls:11,vars:0,consts:[[1,"mainSidenav"],["routerLink","home",3,"click"],["id","dashboardIcon","src","/assets/menuIcons/homeOn.svg","alt","dashboard"],["routerLink","menu-pet-appointment",3,"click"],["id","petsIcon","src","/assets/menuIcons/dogOff.svg","alt","pets"],["routerLink","map",3,"click"],["id","mapIcon","src","/assets/menuIcons/mapOff.svg","alt","map"],["routerLink","chat",3,"click"],["id","chatIcon","src","/assets/menuIcons/chatOff.svg","alt","chat"],["routerLink","qr",3,"click"],["id","qrIcon","src","/assets/menuIcons/qrOff.svg","alt","qr"]],template:function(i,r){1&i&&(Q(0,"div",0)(1,"app-sidenav-link",1),$e("click",function(){return r.changeIcon("dashboardIcon")}),Qe(2,"img",2),ne(),Q(3,"app-sidenav-link",3),$e("click",function(){return r.changeIcon("petsIcon")}),Qe(4,"img",4),ne(),Q(5,"app-sidenav-link",5),$e("click",function(){return r.changeIcon("mapIcon")}),Qe(6,"img",6),ne(),Q(7,"app-sidenav-link",7),$e("click",function(){return r.changeIcon("chatIcon")}),Qe(8,"img",8),ne(),Q(9,"app-sidenav-link",9),$e("click",function(){return r.changeIcon("qrIcon")}),Qe(10,"img",10),ne()())},dependencies:[r0,oLe],styles:["[_nghost-%COMP%]{height:60px;width:100%;box-sizing:border-box;position:fixed;bottom:0;background-color:#2d6f28}.mainSidenav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mainSidenav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}"]})}return n})();function lLe(n,t){if(1&n){const e=On();Q(0,"div",6)(1,"a",7),$e("click",function(){return pt(e),ft(be().redirectProfile())}),Se(2),Nt(3,"transloco"),ne(),Q(4,"a",7),$e("click",function(){return pt(e),ft(be().logout())}),Se(5),Nt(6,"transloco"),ne()()}2&n&&(J(2),on(mn(3,2,"user_profile_popup")),J(3),on(mn(6,4,"logout_popup")))}let cLe=(()=>{class n{constructor(e,i,r,s){this.afAuth=e,this.router=i,this.storageService=r,this.translocoService=s,this.prevScrollPos=window.pageYOffset,this.showPopup=!1}logout(){this.afAuth.signOut().then(()=>{this.storageService.isLoggedNext(!1),localStorage.clear(),this.router.navigate(["/"]),this.togglePopup()})}redirectProfile(){this.router.navigate(["profile"]),this.togglePopup(),this.changeMenuIcons()}changeMenuIcons(){document.getElementById("profileIcon").src="/assets/menuIcons/userOn.svg";const i=document.getElementById("petsIcon"),r=document.getElementById("dashboardIcon"),s=document.getElementById("mapIcon"),o=document.getElementById("chatIcon"),c=document.getElementById("qrIcon");i.src="/assets/menuIcons/dogOff.svg",r.src="/assets/menuIcons/homeOff.svg",s.src="/assets/menuIcons/mapOff.svg",o.src="/assets/menuIcons/chatOff.svg",c.src="/assets/menuIcons/qrOff.svg"}togglePopup(){this.showPopup=!this.showPopup}swapLang(e){this.translocoService.setActiveLang(e);const i=document.getElementById("catIcon"),r=document.getElementById("esIcon"),s=document.getElementById("enIcon");switch(e){case"cat":i.width=30,r.width=18,s.width=18;break;case"es":i.width=18,r.width=30,s.width=18;break;case"en":i.width=18,r.width=18,s.width=30}}static#e=this.\u0275fac=function(i){return new(i||n)(H(qc),H(rs),H(bc),H(z1))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-top-bar"]],decls:9,vars:1,consts:[["id","barra",1,"barra"],["id","catIcon","src","/assets/menuIcons/cat.png","alt","User profile","width","18px;",3,"click"],["id","esIcon","src","/assets/menuIcons/espana.png","alt","User profile","width","18px;",3,"click"],["id","enIcon","src","/assets/menuIcons/reino-unido.png","alt","User profile","width","30px;",3,"click"],["id","profileIcon","src","/assets/menuIcons/userOff.svg","alt","User profile",3,"click"],["class","popup",4,"ngIf"],[1,"popup"],[3,"click"]],template:function(i,r){1&i&&(Q(0,"div",0)(1,"p"),Se(2,"PetGuardian App"),ne(),Q(3,"div")(4,"img",1),$e("click",function(){return r.swapLang("cat")}),ne(),Q(5,"img",2),$e("click",function(){return r.swapLang("es")}),ne(),Q(6,"img",3),$e("click",function(){return r.swapLang("en")}),ne(),Q(7,"img",4),$e("click",function(){return r.togglePopup()}),ne()(),xe(8,lLe,7,6,"div",5),ne()),2&i&&(J(8),se("ngIf",r.showPopup))},dependencies:[dr,md],styles:[".barra[_ngcontent-%COMP%]{background-color:#2d6f28;color:#fff;text-align:center;padding:10px;position:fixed;top:0;width:100%;display:flex;justify-content:space-between;transition:top .3s;z-index:1000}.barra[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}img[_ngcontent-%COMP%]{margin-left:20px}.popup[_ngcontent-%COMP%]{position:absolute;right:0;top:60px;background-color:#fff;box-shadow:0 8px 16px #0003;z-index:1001}.popup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:10px;display:block;text-decoration:none}.popup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.popup.show[_ngcontent-%COMP%]{display:block}#profileIcon[_ngcontent-%COMP%]{width:30px}"]})}return n})();function dLe(n,t){1&n&&Qe(0,"app-top-bar")}function uLe(n,t){1&n&&Qe(0,"app-side-nav")}let hLe=(()=>{class n{constructor(e,i,r){this.afAuth=e,this.router=i,this.storageService=r,this.title="petguardian-mobile",this.isLoggedIn$=this.storageService.isLoggedIn,this.subscription=this.storageService.isLoggedIn.subscribe(s=>{0==s&&this.router.navigate(["/"])})}static#e=this.\u0275fac=function(i){return new(i||n)(H(qc),H(rs),H(bc))};static#t=this.\u0275cmp=Ot({type:n,selectors:[["app-root"]],decls:6,vars:6,consts:[[4,"ngIf"],[1,"content"]],template:function(i,r){1&i&&(xe(0,dLe,1,0,"app-top-bar",0),Nt(1,"async"),Q(2,"div",1),Qe(3,"router-outlet"),ne(),xe(4,uLe,1,0,"app-side-nav",0),Nt(5,"async")),2&i&&(se("ngIf",mn(1,2,r.isLoggedIn$)),J(4),se("ngIf",mn(5,4,r.isLoggedIn$)))},dependencies:[dr,sN,aLe,cLe,WA],styles:["[_ngcontent-%COMP%]:root{--sidenav-width: 300px}[_nghost-%COMP%]{min-height:100vh;display:flex;flex-direction:row}.content[_ngcontent-%COMP%]{flex-grow:1;padding:75px 20px 85px;background-color:#ededed}"]})}return n})();function qs(n){if(null===n||!0===n||!1===n)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function yL(n,t){En(2,arguments);var e=yi(n),i=qs(t);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function bL(n,t){En(2,arguments);var e=yi(n).getTime(),i=qs(t);return new Date(e+i)}var fLe=36e5;function pLe(n,t){return En(2,arguments),bL(n,qs(t)*fLe)}var gLe=6e4;function mLe(n,t){return En(2,arguments),bL(n,qs(t)*gLe)}function _Le(n,t){return En(2,arguments),bL(n,1e3*qs(t))}function aQ(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}var vLe=864e5;function lQ(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function bLe(n,t){En(2,arguments);var e=yi(n),i=yi(t),r=lQ(e,i),s=Math.abs(function yLe(n,t){En(2,arguments);var e=O0(n),i=O0(t),r=e.getTime()-aQ(e),s=i.getTime()-aQ(i);return Math.round((r-s)/vLe)}(e,i));e.setDate(e.getDate()-r*s);var c=r*(s-+(lQ(e,i)===-r));return 0===c?0:c}Math.pow(10,8);var CLe=6e4;function dQ(n,t){return En(2,arguments),yi(n).getTime()-yi(t).getTime()}var uQ={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},ILe="trunc";function hQ(n){return n?uQ[n]:uQ[ILe]}function SLe(n,t,e){En(2,arguments);var i=dQ(n,t)/CLe;return hQ(e?.roundingMethod)(i)}function ALe(n,t,e){En(2,arguments);var i=dQ(n,t)/1e3;return hQ(e?.roundingMethod)(i)}function kLe(n){En(1,arguments);var t=yi(n);return t.setHours(23,59,59,999),t}function MLe(n){En(1,arguments);var t=yi(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}var fQ={};function pQ(){return fQ}function RLe(n,t){var e,i,r,s,o,c,u,f;En(1,arguments);var _=pQ(),w=qs(null!==(e=null!==(i=null!==(r=null!==(s=t?.weekStartsOn)&&void 0!==s?s:null==t||null===(o=t.locale)||void 0===o||null===(c=o.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:_.weekStartsOn)&&void 0!==i?i:null===(u=_.locale)||void 0===u||null===(f=u.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==e?e:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var T=yi(n),M=T.getDay(),F=6+(M<w?-7:0)-(M-w);return T.setDate(T.getDate()+F),T.setHours(23,59,59,999),T}function OLe(n){return En(1,arguments),yi(n).getDay()}function PLe(n){return En(1,arguments),yi(n).getMonth()}function gQ(n){En(1,arguments);var t=yi(n);return t.setMilliseconds(0),t}function NLe(n,t){En(2,arguments);var e=gQ(n),i=gQ(t);return e.getTime()===i.getTime()}function FLe(n){var t,e;if(En(1,arguments),n&&"function"==typeof n.forEach)t=n;else{if("object"!==H1(n)||null===n)return new Date(NaN);t=Array.prototype.slice.call(n)}return t.forEach(function(i){var r=yi(i);(void 0===e||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function LLe(n,t){En(2,arguments);var e=yi(n),i=qs(t);return e.setHours(i),e}function VLe(n,t){En(2,arguments);var e=yi(n),i=qs(t);return e.setMinutes(i),e}function BLe(n){En(1,arguments);var t=yi(n);return t.setSeconds(0,0),t}function zLe(n){En(1,arguments);var t=yi(n);return t.setDate(1),t.setHours(0,0,0,0),t}function mQ(n,t){var e,i,r,s,o,c,u,f;En(1,arguments);var _=pQ(),w=qs(null!==(e=null!==(i=null!==(r=null!==(s=t?.weekStartsOn)&&void 0!==s?s:null==t||null===(o=t.locale)||void 0===o||null===(c=o.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:_.weekStartsOn)&&void 0!==i?i:null===(u=_.locale)||void 0===u||null===(f=u.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==e?e:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var T=yi(n),M=T.getDay(),F=(M<w?7:0)+M-w;return T.setDate(T.getDate()-F),T.setHours(0,0,0,0),T}function HLe(n){return En(1,arguments),yi(n).getHours()}function ULe(n){return En(1,arguments),yi(n).getMinutes()}function jLe(n){return new Date(n).getTimezoneOffset()}function _Q(n,t){return En(2,arguments),yL(n,7*qs(t))}function vQ(n,t){En(2,arguments);var e=yi(n),i=qs(t);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());return s.setMonth(e.getMonth()+i+1,0),r>=s.getDate()?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function GLe(n,t){return En(2,arguments),yL(n,-qs(t))}function $Le(n,t){return En(2,arguments),_Q(n,-qs(t))}function YLe(n,t){return En(2,arguments),vQ(n,-qs(t))}function bT(n){return En(1,arguments),mQ(n,{weekStartsOn:1})}var ZLe=6048e5;function KLe(n){En(1,arguments);var t=yi(n),e=bT(t).getTime()-function XLe(n){En(1,arguments);var t=function qLe(n){En(1,arguments);var t=yi(n),e=t.getFullYear(),i=new Date(0);i.setFullYear(e+1,0,4),i.setHours(0,0,0,0);var r=bT(i),s=new Date(0);s.setFullYear(e,0,4),s.setHours(0,0,0,0);var o=bT(s);return t.getTime()>=r.getTime()?e+1:t.getTime()>=o.getTime()?e:e-1}(n),e=new Date(0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),bT(e)}(t).getTime();return Math.round(e/ZLe)+1}function QLe(n,t){En(2,arguments);var e=yi(n),i=qs(t);return e.setDate(i),e}function e2e(n,t){En(2,arguments);var e=yi(n),i=qs(t),r=e.getFullYear(),s=e.getDate(),o=new Date(0);o.setFullYear(r,i,15),o.setHours(0,0,0,0);var c=function JLe(n){En(1,arguments);var t=yi(n),e=t.getFullYear(),i=t.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}(o);return e.setMonth(i,Math.min(s,c)),e}function t2e(n,t){En(2,arguments);var e=yi(n),i=qs(t);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(i),e)}function n2e(n){return En(1,arguments),yi(n).getDate()}function i2e(n){return En(1,arguments),yi(n).getFullYear()}function r2e(){return(0,Bt.pi)((0,Bt.pi)({},function WLe(){return{addDays:yL,addHours:pLe,addMinutes:mLe,addSeconds:_Le,differenceInDays:bLe,differenceInMinutes:SLe,differenceInSeconds:ALe,endOfDay:kLe,endOfMonth:MLe,endOfWeek:RLe,getDay:OLe,getMonth:PLe,isSameDay:P7,isSameMonth:O7,isSameSecond:NLe,max:FLe,setHours:LLe,setMinutes:VLe,startOfDay:O0,startOfMinute:BLe,startOfMonth:zLe,startOfWeek:mQ,getHours:HLe,getMinutes:ULe,getTimezoneOffset:jLe}}()),{addWeeks:_Q,addMonths:vQ,subDays:GLe,subWeeks:$Le,subMonths:YLe,getISOWeek:KLe,setDate:QLe,setMonth:e2e,setYear:t2e,getDate:n2e,getYear:i2e})}function yQ(n){return new l(3e3,!1)}function qu(n){switch(n.length){case 0:return new y0;case 1:return n[0];default:return new _q(n)}}function bQ(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,c=null;if(t.forEach(u=>{const f=u.get("offset"),_=f==o,w=_&&c||new Map;u.forEach((T,M)=>{let F=M,V=T;if("offset"!==M)switch(F=n.normalizePropertyName(F,r),V){case"!":V=e.get(M);break;case hd:V=i.get(M);break;default:V=n.normalizeStyleValue(M,F,V,r)}w.set(F,V)}),_||s.push(w),c=w,o=f}),r.length)throw function I2e(n){return new l(3502,!1)}();return s}function wL(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&xL(e,"start",n)));break;case"done":n.onDone(()=>i(e&&xL(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&xL(e,"destroy",n)))}}function xL(n,t,e){const s=CL(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function CL(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Sa(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function wQ(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const B2e=(()=>typeof document>"u"?null:document.documentElement)();function EL(n){const t=n.parentNode||n.host||null;return t===B2e?null:t}let Vf=null,xQ=!1;function CQ(n,t){for(;t;){if(t===n)return!0;t=EL(t)}return!1}function EQ(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let DQ=(()=>{class n{validateStyleProperty(e){return function H2e(n){Vf||(Vf=function U2e(){return typeof document<"u"?document.body:null}()||{},xQ=!!Vf.style&&"WebkitAppearance"in Vf.style);let t=!0;return Vf.style&&!function z2e(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Vf.style,!t&&xQ&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Vf.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return CQ(e,i)}getParentElement(e){return EL(e)}query(e,i,r){return EQ(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,c=[],u){return new y0(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),DL=(()=>{class n{static#e=this.NOOP=new DQ}return n})();const j2e=1e3,TL="ng-enter",wT="ng-leave",xT="ng-trigger",CT=".ng-trigger",IQ="ng-animating",IL=".ng-animating";function yd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:SL(parseFloat(t[1]),t[2])}function SL(n,t){return"s"===t?n*j2e:n}function ET(n,t,e){return n.hasOwnProperty("duration")?n:function G2e(n,t,e){let r,s=0,o="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(yQ()),{duration:0,delay:0,easing:""};r=SL(parseFloat(c[1]),c[2]);const u=c[3];null!=u&&(s=SL(parseFloat(u),c[4]));const f=c[5];f&&(o=f)}else r=n;if(!e){let c=!1,u=t.length;r<0&&(t.push(function s2e(){return new l(3100,!1)}()),c=!0),s<0&&(t.push(function o2e(){return new l(3101,!1)}()),c=!0),c&&t.splice(u,0,yQ())}return{duration:r,delay:s,easing:o}}(n,t,e)}function Q0(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function SQ(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Xu(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Cc(n,t,e){t.forEach((i,r)=>{const s=kL(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function Bf(n,t){t.forEach((e,i)=>{const r=kL(i);n.style[r]=""})}function J0(n){return Array.isArray(n)?1==n.length?n[0]:gq(n):n}const AL=new RegExp("{{\\s*(.+?)\\s*}}","g");function kQ(n){let t=[];if("string"==typeof n){let e;for(;e=AL.exec(n);)t.push(e[1]);AL.lastIndex=0}return t}function ew(n,t,e){const i=n.toString(),r=i.replace(AL,(s,o)=>{let c=t[o];return null==c&&(e.push(function l2e(n){return new l(3003,!1)}()),c=""),c.toString()});return r==i?n:r}function DT(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const q2e=/-+([a-z0-9])/g;function kL(n){return n.replace(q2e,(...t)=>t[1].toUpperCase())}function Aa(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function c2e(n){return new l(3004,!1)}()}}function MQ(n,t){return window.getComputedStyle(n)[t]}const TT="*";function K2e(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Q2e(n,t,e){if(":"==n[0]){const u=function J2e(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function C2e(n){return new l(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof u)return void t.push(u);n=u}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function x2e(n){return new l(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(RQ(r,o));"<"==s[0]&&!(r==TT&&o==TT)&&t.push(RQ(o,r))}(i,e,t)):e.push(n),e}const IT=new Set(["true","1"]),ST=new Set(["false","0"]);function RQ(n,t){const e=IT.has(n)||ST.has(n),i=IT.has(t)||ST.has(t);return(r,s)=>{let o=n==TT||n==r,c=t==TT||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?IT.has(n):ST.has(n)),!c&&i&&"boolean"==typeof s&&(c=s?IT.has(t):ST.has(t)),o&&c}}const eVe=new RegExp("s*:selfs*,?","g");function ML(n,t,e,i){return new tVe(n).build(t,e,i)}class tVe{constructor(t){this._driver=t}build(t,e,i){const r=new rVe(e);return this._resetContextStyleTimingState(r),Aa(this,J0(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function u2e(){return new l(3006,!1)}()),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const u=c,f=u.name;f.toString().split(/\s*,\s*/).forEach(_=>{u.name=_,s.push(this.visitState(u,e))}),u.name=f}else if(1==c.type){const u=this.visitTransition(c,e);i+=u.queryCount,r+=u.depCount,o.push(u)}else e.errors.push(function h2e(){return new l(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{kQ(u).forEach(f=>{o.hasOwnProperty(f)||s.add(f)})})}),s.size&&(DT(s.values()),e.errors.push(function f2e(n,t){return new l(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Aa(this,J0(t.animation),e);return{type:1,matchers:K2e(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:zf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Aa(this,i,e)),options:zf(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const c=Aa(this,o,e);return r=Math.max(r,e.currentTime),c});return e.currentTime=r,{type:3,steps:s,options:zf(t.options)}}visitAnimate(t,e){const i=function oVe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return RL(ET(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=RL(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=ET(e,t);return RL(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:_s({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,c=!1;if(!o){c=!0;const f={};i.easing&&(f.easing=i.easing),o=_s(f)}e.currentTime+=i.duration+i.delay;const u=this.visitStyle(o,e);u.isEmptyStep=c,r=u}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let c of r)"string"==typeof c?c===hd?i.push(c):e.errors.push(new l(3002,!1)):i.push(SQ(c));let s=!1,o=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(o=c.get("easing"),c.delete("easing")),!s))for(let u of c.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,u)=>{const f=e.collectedStyles.get(e.currentQuerySelector),_=f.get(u);let w=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(e.errors.push(function g2e(n,t,e,i,r){return new l(3010,!1)}()),w=!1),s=_.startTime),w&&f.set(u,{startTime:s,endTime:r}),e.options&&function Y2e(n,t,e){const i=t.params||{},r=kQ(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function a2e(n){return new l(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function m2e(){return new l(3011,!1)}()),i;let s=0;const o=[];let c=!1,u=!1,f=0;const _=t.steps.map(re=>{const ee=this._makeStyleAst(re,e);let ae=null!=ee.offset?ee.offset:function sVe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ee.styles),ge=0;return null!=ae&&(s++,ge=ee.offset=ae),u=u||ge<0||ge>1,c=c||ge<f,f=ge,o.push(ge),ee});u&&e.errors.push(function _2e(){return new l(3012,!1)}()),c&&e.errors.push(function v2e(){return new l(3200,!1)}());const w=t.steps.length;let T=0;s>0&&s<w?e.errors.push(function y2e(){return new l(3202,!1)}()):0==s&&(T=1/(w-1));const M=w-1,F=e.currentTime,V=e.currentAnimateTimings,U=V.duration;return _.forEach((re,ee)=>{const ae=T>0?ee==M?1:T*ee:o[ee],ge=ae*U;e.currentTime=F+V.delay+ge,V.duration=ge,this._validateStyleAst(re,e),re.offset=ae,i.styles.push(re)}),i}visitReference(t,e){return{type:8,animation:Aa(this,J0(t.animation),e),options:zf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:zf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:zf(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function nVe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(eVe,"")),n=n.replace(/@\*/g,CT).replace(/@\w+/g,e=>CT+"-"+e.slice(1)).replace(/:animating/g,IL),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Sa(e.collectedStyles,e.currentQuerySelector,new Map);const c=Aa(this,J0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:c,originalSelector:t.selector,options:zf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function b2e(){return new l(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:ET(t.timings,e.errors,!0);return{type:12,animation:Aa(this,J0(t.animation),e),timings:i,options:null}}}class rVe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zf(n){return n?(n=Q0(n)).params&&(n.params=function iVe(n){return n?Q0(n):null}(n.params)):n={},n}function RL(n,t,e){return{duration:n,delay:t,easing:e}}function OL(n,t,e,i,r,s,o=null,c=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:c}}class AT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const cVe=new RegExp(":enter","g"),uVe=new RegExp(":leave","g");function PL(n,t,e,i,r,s=new Map,o=new Map,c,u,f=[]){return(new hVe).buildKeyframes(n,t,e,i,r,s,o,c,u,f)}class hVe{buildKeyframes(t,e,i,r,s,o,c,u,f,_=[]){f=f||new AT;const w=new NL(t,e,f,r,s,_,[]);w.options=u;const T=u.delay?yd(u.delay):0;w.currentTimeline.delayNextStep(T),w.currentTimeline.setStyles([o],null,w.errors,u),Aa(this,i,w);const M=w.timelines.filter(F=>F.containsAnimation());if(M.length&&c.size){let F;for(let V=M.length-1;V>=0;V--){const U=M[V];if(U.element===e){F=U;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([c],null,w.errors,u)}return M.length?M.map(F=>F.buildKeyframes()):[OL(e,[],[],[],0,T,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:yd(ew(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?yd(i.duration):null,c=null!=i.delay?yd(i.delay):null;return 0!==o&&t.forEach(u=>{const f=e.appendInstructionToTimeline(u,o,c);s=Math.max(s,f.duration+f.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Aa(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=kT);const o=yd(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Aa(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?yd(t.options.delay):0;t.steps.forEach(o=>{const c=e.createSubContext(t.options);s&&c.delayNextStep(s),Aa(this,o,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return ET(e.params?ew(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,c=e.createSubContext().currentTimeline;c.easing=i.easing,t.styles.forEach(u=>{c.forwardTime((u.offset||0)*s),c.setStyles(u.styles,u.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?yd(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=kT);let o=i;const c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=c.length;let u=null;c.forEach((f,_)=>{e.currentQueryIndex=_;const w=e.createSubContext(t.options,f);s&&w.delayNextStep(s),f===e.element&&(u=w.currentTimeline),Aa(this,t.animation,w),w.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,w.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),c=o*(e.currentQueryTotal-1);let u=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=c-u;break;case"full":u=i.currentStaggerTime}const _=e.currentTimeline;u&&_.delayNextStep(u);const w=_.currentTime;Aa(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-w+(r.startTime-i.currentTimeline.startTime)}}const kT={};class NL{constructor(t,e,i,r,s,o,c,u){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new MT(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=yd(i.duration)),null!=i.delay&&(r.delay=yd(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(c=>{(!e||!o.hasOwnProperty(c))&&(o[c]=ew(s[c],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new NL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=kT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new fVe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let c=[];if(r&&c.push(this.element),t.length>0){t=(t=t.replace(cVe,"."+this._enterClassName)).replace(uVe,"."+this._leaveClassName);let f=this._driver.query(this.element,t,1!=i);0!==i&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),c.push(...f)}return!s&&0==c.length&&o.push(function w2e(n){return new l(3014,!1)}()),c}}class MT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new MT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||hd),this._currentKeyframe.set(e,hd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function pVe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,hd)}else Xu(r,e)}),e}(t,this._globalTimelineStyles);for(let[c,u]of o){const f=ew(u,s,i);this._pendingStyles.set(c,f),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??hd),this._updateStyle(c,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,u)=>{const f=Xu(c,new Map,this._backFill);f.forEach((_,w)=>{"!"===_?t.add(w):_===hd&&e.add(w)}),i||f.set("offset",u/this.duration),r.push(f)});const s=t.size?DT(t.values()):[],o=e.size?DT(e.values()):[];if(i){const c=r[0],u=new Map(c);c.set("offset",0),u.set("offset",1),r=[c,u]}return OL(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class fVe extends MT{constructor(t,e,i,r,s,o,c=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,c=e/o,u=Xu(t[0]);u.set("offset",0),s.push(u);const f=Xu(t[0]);f.set("offset",NQ(c)),s.push(f);const _=t.length-1;for(let w=1;w<=_;w++){let T=Xu(t[w]);const M=T.get("offset");T.set("offset",NQ((e+M*i)/o)),s.push(T)}i=o,e=0,r="",t=s}return OL(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function NQ(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class FL{}const gVe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class mVe extends FL{normalizePropertyName(t,e){return kL(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(gVe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function d2e(n,t){return new l(3005,!1)}())}return o+s}}function FQ(n,t,e,i,r,s,o,c,u,f,_,w,T){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:c,queriedElements:u,preStyleProps:f,postStyleProps:_,totalTime:w,errors:T}}const LL={};class LQ{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function _Ve(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,c,u,f,_){const w=[],T=this.ast.options&&this.ast.options.params||LL,F=this.buildStyles(i,c&&c.params||LL,w),V=u&&u.params||LL,U=this.buildStyles(r,V,w),re=new Set,ee=new Map,ae=new Map,ge="void"===r,Te={params:vVe(V,T),delay:this.ast.options?.delay},qe=_?[]:PL(t,e,this.ast.animation,s,o,F,U,Te,f,w);let ht=0;if(qe.forEach(Dt=>{ht=Math.max(Dt.duration+Dt.delay,ht)}),w.length)return FQ(e,this._triggerName,i,r,ge,F,U,[],[],ee,ae,ht,w);qe.forEach(Dt=>{const kt=Dt.element,gt=Sa(ee,kt,new Set);Dt.preStyleProps.forEach(cn=>gt.add(cn));const _t=Sa(ae,kt,new Set);Dt.postStyleProps.forEach(cn=>_t.add(cn)),kt!==e&&re.add(kt)});const ut=DT(re.values());return FQ(e,this._triggerName,i,r,ge,F,U,qe,ut,ee,ae,ht)}}function vVe(n,t){const e=Q0(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class yVe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Q0(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,c)=>{o&&(o=ew(o,r,e));const u=this.normalizer.normalizePropertyName(c,e);o=this.normalizer.normalizeStyleValue(c,u,o,e),i.set(c,o)})}),i}}class wVe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new yVe(r.style,r.options&&r.options.params||{},i))}),VQ(this.states,"true","1"),VQ(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new LQ(t,r,this.states))}),this.fallbackTransition=function xVe(n,t,e){return new LQ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function VQ(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const CVe=new AT;class EVe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=ML(this._driver,e,i,[]);if(i.length)throw function S2e(n){return new l(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=bQ(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const c=new Map;if(s?(o=PL(this._driver,e,s,TL,wT,new Map,new Map,i,CVe,r),o.forEach(_=>{const w=Sa(c,_.element,new Map);_.postStyleProps.forEach(T=>w.set(T,null))})):(r.push(function A2e(){return new l(3300,!1)}()),o=[]),r.length)throw function k2e(n){return new l(3504,!1)}();c.forEach((_,w)=>{_.forEach((T,M)=>{_.set(M,this._driver.computeStyle(w,M,hd))})});const f=qu(o.map(_=>{const w=c.get(_.element);return this._buildPlayer(_,new Map,w)}));return this._playersById.set(t,f),f.onDestroy(()=>this.destroy(t)),this.players.push(f),f}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function M2e(n){return new l(3301,!1)}();return e}listen(t,e,i,r){const s=CL(e,"","","");return wL(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const BQ="ng-animate-queued",VL="ng-animate-disabled",AVe=[],zQ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kVe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pl="__ng_removed";class BL{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function PVe(n){return n??null}(i?t.value:t),i){const s=Q0(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const tw="void",zL=new BL(tw);class MVe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Za(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function R2e(n,t){return new l(3302,!1)}();if(null==i||0==i.length)throw function O2e(n){return new l(3303,!1)}();if(!function NVe(n){return"start"==n||"done"==n}(i))throw function P2e(n,t){return new l(3400,!1)}();const s=Sa(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const c=Sa(this._engine.statesByElement,t,new Map);return c.has(e)||(Za(t,xT),Za(t,xT+"-"+e),c.set(e,zL)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(e)||c.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function N2e(n){return new l(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new HL(this.id,e,t);let c=this._engine.statesByElement.get(t);c||(Za(t,xT),Za(t,xT+"-"+e),this._engine.statesByElement.set(t,c=new Map));let u=c.get(e);const f=new BL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&f.absorbOptions(u.options),c.set(e,f),u||(u=zL),f.value!==tw&&u.value===f.value){if(!function VVe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(u.params,f.params)){const V=[],U=s.matchStyles(u.value,u.params,V),re=s.matchStyles(f.value,f.params,V);V.length?this._engine.reportError(V):this._engine.afterFlush(()=>{Bf(t,U),Cc(t,re)})}return}const T=Sa(this._engine.playersByElement,t,[]);T.forEach(V=>{V.namespaceId==this.id&&V.triggerName==e&&V.queued&&V.destroy()});let M=s.matchTransition(u.value,f.value,t,f.params),F=!1;if(!M){if(!r)return;M=s.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:M,fromState:u,toState:f,player:o,isFallbackTransition:F}),F||(Za(t,BQ),o.onStart(()=>{i_(t,BQ)})),o.onDone(()=>{let V=this.players.indexOf(o);V>=0&&this.players.splice(V,1);const U=this._engine.playersByElement.get(t);if(U){let re=U.indexOf(o);re>=0&&U.splice(re,1)}}),this.players.push(o),T.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,CT,!0);i.forEach(r=>{if(r[Pl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const c=[];if(s.forEach((u,f)=>{if(o.set(f,u.value),this._triggers.has(f)){const _=this.trigger(t,f,tw,r);_&&c.push(_)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&qu(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const u=this._triggers.get(o).fallbackTransition,f=i.get(o)||zL,_=new BL(tw),w=new HL(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:u,fromState:f,toState:_,player:w,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Pl];(!s||s===zQ)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Za(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(c=>{if(c.name==i.triggerName){const u=CL(s,i.triggerName,i.fromState.value,i.toState.value);u._data=t,wL(i.player,c.phase,u,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class RVe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new MVe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,c=this.driver.getParentElement(e);for(;c;){const u=r.get(c);if(u){const f=i.indexOf(u);i.splice(f+1,0,t),o=!0;break}c=this.driver.getParentElement(c)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(RT(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!RT(e))return;const s=e[Pl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Za(t,VL)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),i_(t,VL))}removeNode(t,e,i){if(RT(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Pl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return RT(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,CT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,IL,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Pl];if(e&&e.setForRemoval){if(t[Pl]=zQ,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(VL)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Za(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?qu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function F2e(n){return new l(3402,!1)}()}_flushAnimations(t,e){const i=new AT,r=[],s=new Map,o=[],c=new Map,u=new Map,f=new Map,_=new Set;this.disabledNodes.forEach(xt=>{_.add(xt);const Mt=this.driver.query(xt,".ng-animate-queued",!0);for(let Qt=0;Qt<Mt.length;Qt++)_.add(Mt[Qt])});const w=this.bodyNode,T=Array.from(this.statesByElement.keys()),M=jQ(T,this.collectedEnterElements),F=new Map;let V=0;M.forEach((xt,Mt)=>{const Qt=TL+V++;F.set(Mt,Qt),xt.forEach(Jt=>Za(Jt,Qt))});const U=[],re=new Set,ee=new Set;for(let xt=0;xt<this.collectedLeaveElements.length;xt++){const Mt=this.collectedLeaveElements[xt],Qt=Mt[Pl];Qt&&Qt.setForRemoval&&(U.push(Mt),re.add(Mt),Qt.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(Jt=>re.add(Jt)):ee.add(Mt))}const ae=new Map,ge=jQ(T,Array.from(re));ge.forEach((xt,Mt)=>{const Qt=wT+V++;ae.set(Mt,Qt),xt.forEach(Jt=>Za(Jt,Qt))}),t.push(()=>{M.forEach((xt,Mt)=>{const Qt=F.get(Mt);xt.forEach(Jt=>i_(Jt,Qt))}),ge.forEach((xt,Mt)=>{const Qt=ae.get(Mt);xt.forEach(Jt=>i_(Jt,Qt))}),U.forEach(xt=>{this.processLeaveNode(xt)})});const Te=[],qe=[];for(let xt=this._namespaceList.length-1;xt>=0;xt--)this._namespaceList[xt].drainQueuedTransitions(e).forEach(Qt=>{const Jt=Qt.player,ki=Qt.element;if(Te.push(Jt),this.collectedEnterElements.length){const Zr=ki[Pl];if(Zr&&Zr.setForMove){if(Zr.previousTriggersValues&&Zr.previousTriggersValues.has(Qt.triggerName)){const Bo=Zr.previousTriggersValues.get(Qt.triggerName),co=this.statesByElement.get(Qt.element);if(co&&co.has(Qt.triggerName)){const r_=co.get(Qt.triggerName);r_.value=Bo,co.set(Qt.triggerName,r_)}}return void Jt.destroy()}}const ar=!w||!this.driver.containsElement(w,ki),kr=ae.get(ki),Vo=F.get(ki),ui=this._buildInstruction(Qt,i,Vo,kr,ar);if(ui.errors&&ui.errors.length)return void qe.push(ui);if(ar)return Jt.onStart(()=>Bf(ki,ui.fromStyles)),Jt.onDestroy(()=>Cc(ki,ui.toStyles)),void r.push(Jt);if(Qt.isFallbackTransition)return Jt.onStart(()=>Bf(ki,ui.fromStyles)),Jt.onDestroy(()=>Cc(ki,ui.toStyles)),void r.push(Jt);const ra=[];ui.timelines.forEach(Zr=>{Zr.stretchStartingKeyframe=!0,this.disabledNodes.has(Zr.element)||ra.push(Zr)}),ui.timelines=ra,i.append(ki,ui.timelines),o.push({instruction:ui,player:Jt,element:ki}),ui.queriedElements.forEach(Zr=>Sa(c,Zr,[]).push(Jt)),ui.preStyleProps.forEach((Zr,Bo)=>{if(Zr.size){let co=u.get(Bo);co||u.set(Bo,co=new Set),Zr.forEach((r_,Hf)=>co.add(Hf))}}),ui.postStyleProps.forEach((Zr,Bo)=>{let co=f.get(Bo);co||f.set(Bo,co=new Set),Zr.forEach((r_,Hf)=>co.add(Hf))})});if(qe.length){const xt=[];qe.forEach(Mt=>{xt.push(function L2e(n,t){return new l(3505,!1)}())}),Te.forEach(Mt=>Mt.destroy()),this.reportError(xt)}const ht=new Map,ut=new Map;o.forEach(xt=>{const Mt=xt.element;i.has(Mt)&&(ut.set(Mt,Mt),this._beforeAnimationBuild(xt.player.namespaceId,xt.instruction,ht))}),r.forEach(xt=>{const Mt=xt.element;this._getPreviousPlayers(Mt,!1,xt.namespaceId,xt.triggerName,null).forEach(Jt=>{Sa(ht,Mt,[]).push(Jt),Jt.destroy()})});const Dt=U.filter(xt=>GQ(xt,u,f)),kt=new Map;UQ(kt,this.driver,ee,f,hd).forEach(xt=>{GQ(xt,u,f)&&Dt.push(xt)});const _t=new Map;M.forEach((xt,Mt)=>{UQ(_t,this.driver,new Set(xt),u,"!")}),Dt.forEach(xt=>{const Mt=kt.get(xt),Qt=_t.get(xt);kt.set(xt,new Map([...Mt?.entries()??[],...Qt?.entries()??[]]))});const cn=[],ei=[],ia={};o.forEach(xt=>{const{element:Mt,player:Qt,instruction:Jt}=xt;if(i.has(Mt)){if(_.has(Mt))return Qt.onDestroy(()=>Cc(Mt,Jt.toStyles)),Qt.disabled=!0,Qt.overrideTotalTime(Jt.totalTime),void r.push(Qt);let ki=ia;if(ut.size>1){let kr=Mt;const Vo=[];for(;kr=kr.parentNode;){const ui=ut.get(kr);if(ui){ki=ui;break}Vo.push(kr)}Vo.forEach(ui=>ut.set(ui,ki))}const ar=this._buildAnimation(Qt.namespaceId,Jt,ht,s,_t,kt);if(Qt.setRealPlayer(ar),ki===ia)cn.push(Qt);else{const kr=this.playersByElement.get(ki);kr&&kr.length&&(Qt.parentPlayer=qu(kr)),r.push(Qt)}}else Bf(Mt,Jt.fromStyles),Qt.onDestroy(()=>Cc(Mt,Jt.toStyles)),ei.push(Qt),_.has(Mt)&&r.push(Qt)}),ei.forEach(xt=>{const Mt=s.get(xt.element);if(Mt&&Mt.length){const Qt=qu(Mt);xt.setRealPlayer(Qt)}}),r.forEach(xt=>{xt.parentPlayer?xt.syncPlayerEvents(xt.parentPlayer):xt.destroy()});for(let xt=0;xt<U.length;xt++){const Mt=U[xt],Qt=Mt[Pl];if(i_(Mt,wT),Qt&&Qt.hasAnimation)continue;let Jt=[];if(c.size){let ar=c.get(Mt);ar&&ar.length&&Jt.push(...ar);let kr=this.driver.query(Mt,IL,!0);for(let Vo=0;Vo<kr.length;Vo++){let ui=c.get(kr[Vo]);ui&&ui.length&&Jt.push(...ui)}}const ki=Jt.filter(ar=>!ar.destroyed);ki.length?FVe(this,Mt,ki):this.processLeaveNode(Mt)}return U.length=0,cn.forEach(xt=>{this.players.push(xt),xt.onDone(()=>{xt.destroy();const Mt=this.players.indexOf(xt);this.players.splice(Mt,1)}),xt.play()}),cn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const c=this.playersByQueriedElement.get(t);c&&(o=c)}else{const c=this.playersByElement.get(t);if(c){const u=!s||s==tw;c.forEach(f=>{f.queued||!u&&f.triggerName!=r||o.push(f)})}}return(i||r)&&(o=o.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const f=u.element,_=f!==s,w=Sa(i,f,[]);this._getPreviousPlayers(f,_,o,c,e.toState).forEach(M=>{const F=M.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),M.destroy(),w.push(M)})}Bf(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const c=e.triggerName,u=e.element,f=[],_=new Set,w=new Set,T=e.timelines.map(F=>{const V=F.element;_.add(V);const U=V[Pl];if(U&&U.removedBeforeQueried)return new y0(F.duration,F.delay);const re=V!==u,ee=function LVe(n){const t=[];return WQ(n,t),t}((i.get(V)||AVe).map(ht=>ht.getRealPlayer())).filter(ht=>!!ht.element&&ht.element===V),ae=s.get(V),ge=o.get(V),Te=bQ(this._normalizer,F.keyframes,ae,ge),qe=this._buildPlayer(F,Te,ee);if(F.subTimeline&&r&&w.add(V),re){const ht=new HL(t,c,V);ht.setRealPlayer(qe),f.push(ht)}return qe});f.forEach(F=>{Sa(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>function OVe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,F.element,F))}),_.forEach(F=>Za(F,IQ));const M=qu(T);return M.onDestroy(()=>{_.forEach(F=>i_(F,IQ)),Cc(u,e.toStyles)}),w.forEach(F=>{Sa(r,F,[]).push(M)}),M}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new y0(t.duration,t.delay)}}class HL{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new y0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>wL(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Sa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function RT(n){return n&&1===n.nodeType}function HQ(n,t){const e=n.style.display;return n.style.display=t??"none",e}function UQ(n,t,e,i,r){const s=[];e.forEach(u=>s.push(HQ(u)));const o=[];i.forEach((u,f)=>{const _=new Map;u.forEach(w=>{const T=t.computeStyle(f,w,r);_.set(w,T),(!T||0==T.length)&&(f[Pl]=kVe,o.push(f))}),n.set(f,_)});let c=0;return e.forEach(u=>HQ(u,s[c++])),o}function jQ(n,t){const e=new Map;if(n.forEach(c=>e.set(c,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(c){if(!c)return 1;let u=s.get(c);if(u)return u;const f=c.parentNode;return u=e.has(f)?f:r.has(f)?1:o(f),s.set(c,u),u}return t.forEach(c=>{const u=o(c);1!==u&&e.get(u).push(c)}),e}function Za(n,t){n.classList?.add(t)}function i_(n,t){n.classList?.remove(t)}function FVe(n,t,e){qu(e).onDone(()=>n.processLeaveNode(t))}function WQ(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof _q?WQ(i.players,t):t.push(i)}}function GQ(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class OT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new RVe(t,e,i),this._timelineEngine=new EVe(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let c=this._triggerCache[o];if(!c){const u=[],_=ML(this._driver,s,u,[]);if(u.length)throw function T2e(n,t){return new l(3404,!1)}();c=function bVe(n,t,e){return new wVe(n,t,e)}(r,_,this._normalizer),this._triggerCache[o]=c}this._transitionEngine.registerTrigger(e,r,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=wQ(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,c]=wQ(i);return this._timelineEngine.listen(o,e,c,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let zVe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Cc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cc(this._element,this._initialStyles),this._endStyles&&(Cc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Bf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bf(this._element,this._endStyles),this._endStyles=null),Cc(this._element,this._initialStyles),this._state=3)}}return n})();function UL(n){let t=null;return n.forEach((e,i)=>{(function HVe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class $Q{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:MQ(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class UVe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return CQ(t,e)}getParentElement(t){return EL(t)}query(t,e,i){return EQ(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const u={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(u.easing=s);const f=new Map,_=o.filter(M=>M instanceof $Q);(function X2e(n,t){return 0===n||0===t})(i,r)&&_.forEach(M=>{M.currentSnapshot.forEach((F,V)=>f.set(V,F))});let w=function $2e(n){return n.length?n[0]instanceof Map?n:n.map(t=>SQ(t)):[]}(e).map(M=>Xu(M));w=function Z2e(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(c=>o.set(c,MQ(n,c)))}}return t}(t,w,f);const T=function BVe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=UL(t[0]),t.length>1&&(i=UL(t[t.length-1]))):t instanceof Map&&(e=UL(t)),e||i?new zVe(n,e,i):null}(t,w);return new $Q(t,w,u,T)}}let jVe=(()=>{class n extends pq{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Ho.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?gq(e):e;return YQ(this._renderer,null,i,"register",[r]),new WVe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(ue(zp),ue(an))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class WVe extends PEe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new GVe(this._id,t,e||{},this._renderer)}}class GVe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return YQ(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function YQ(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const qQ="@.disabled";let $Ve=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const c=o?.parentNode(s);c&&o.removeChild(c,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let _=this._rendererCache.get(s);return _||(_=new XQ("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,_)),_}const o=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const u=_=>{Array.isArray(_)?_.forEach(u):this.engine.registerTrigger(o,c,e,_.name,_)};return i.data.animation.forEach(u),new YVe(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,c]=s;o(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(ue(zp),ue(OT),ue(ct))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class XQ{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==qQ?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class YVe extends XQ{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==qQ?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function qVe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function XVe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(t,e,i)}}let ZVe=(()=>{class n extends OT{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(ue(an),ue(DL),ue(FL),ue(Ba))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const ZQ=[{provide:pq,useClass:jVe},{provide:FL,useFactory:function KVe(){return new mVe}},{provide:OT,useClass:ZVe},{provide:zp,useFactory:function QVe(n,t,e){return new $Ve(n,t,e)},deps:[nk,OT,ct]}],jL=[{provide:DL,useFactory:()=>new UVe},{provide:ql,useValue:"BrowserAnimations"},...ZQ],KQ=[{provide:DL,useClass:DQ},{provide:ql,useValue:"NoopAnimations"},...ZQ];let QQ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?KQ:jL}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({providers:jL,imports:[_3]})}return n})(),JVe=(()=>{class n{constructor(){this.http=We(x1)}getTranslation(e){return this.http.get(`http://localhost:4200/assets/i18n/${e}.json`)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eBe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n});static#n=this.\u0275inj=Ie({providers:[pSe({config:{availableLangs:["en","es","cat"],defaultLang:"en",reRenderOnLangChange:!0,prodMode:!0},loader:JVe})],imports:[fSe]})}return n})(),tBe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=At({type:n,bootstrap:[hLe]});static#n=this.\u0275inj=Ie({providers:[lg],imports:[Yce.initializeApp(PY_firebase),Qce,SEe,gl,wq.forRoot(),iEe,rEe,jye,R0e,lpe,_3,QQ,iLe,wq,tQ,MMe.forRoot({provide:_d,useFactory:r2e}),tAe,tQ,z0e,QQ,$Ie,aIe,K1e,WFe,DFe,eBe]})}return n})();yce().bootstrapModule(tBe).catch(n=>console.error(n))},54:(Kr,ji,Yt)=>{var ie;function Ve(L,a){var l=Object.keys(L);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(L);a&&(d=d.filter(function(h){return Object.getOwnPropertyDescriptor(L,h).enumerable})),l.push.apply(l,d)}return l}function oe(L){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?arguments[a]:{};a%2?Ve(Object(l),!0).forEach(function(d){Ln(L,d,l[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(l)):Ve(Object(l)).forEach(function(d){Object.defineProperty(L,d,Object.getOwnPropertyDescriptor(l,d))})}return L}function yt(L){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(L)}function He(L,a){if(!(L instanceof a))throw new TypeError("Cannot call a class as a function")}function Ei(L,a){for(var l=0;l<a.length;l++){var d=a[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(L,d.key,d)}}function dt(L,a,l){return a&&Ei(L.prototype,a),l&&Ei(L,l),L}function Ln(L,a,l){return a in L?Object.defineProperty(L,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):L[a]=l,L}function vn(L,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(a&&a.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),a&&rt(L,a)}function Xe(L){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(L)}function rt(L,a){return(rt=Object.setPrototypeOf||function(l,d){return l.__proto__=d,l})(L,a)}function rn(L){var a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,d=Xe(L);if(a){var h=Xe(this).constructor;l=Reflect.construct(d,arguments,h)}else l=d.apply(this,arguments);return function Rt(L,a){if(a&&("object"==typeof a||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(L)}(this,l)}}function Vn(L,a){return function(l){if(Array.isArray(l))return l}(L)||function(l,d){var h=null==l?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(null!=h){var p,g,m=[],v=!0,x=!1;try{for(h=h.call(l);!(v=(p=h.next()).done)&&(m.push(p.value),!d||m.length!==d);v=!0);}catch(E){x=!0,g=E}finally{try{v||null==h.return||h.return()}finally{if(x)throw g}}return m}}(L,a)||Dn(L,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(L){return function(a){if(Array.isArray(a))return nn(a)}(L)||function(a){if(typeof Symbol<"u"&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(L)||Dn(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(L,a){if(L){if("string"==typeof L)return nn(L,a);var l=Object.prototype.toString.call(L).slice(8,-1);return"Object"===l&&L.constructor&&(l=L.constructor.name),"Map"===l||"Set"===l?Array.from(L):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?nn(L,a):void 0}}function nn(L,a){(null==a||a>L.length)&&(a=L.length);for(var l=0,d=new Array(a);l<a;l++)d[l]=L[l];return d}var he=function(){function L(){He(this,L)}return dt(L,[{key:"shadeRGBColor",value:function(a,l){var d=l.split(","),h=a<0?0:255,p=a<0?-1*a:a,g=parseInt(d[0].slice(4),10),m=parseInt(d[1],10),v=parseInt(d[2],10);return"rgb("+(Math.round((h-g)*p)+g)+","+(Math.round((h-m)*p)+m)+","+(Math.round((h-v)*p)+v)+")"}},{key:"shadeHexColor",value:function(a,l){var d=parseInt(l.slice(1),16),h=a<0?0:255,p=a<0?-1*a:a,g=d>>16,m=d>>8&255,v=255&d;return"#"+(16777216+65536*(Math.round((h-g)*p)+g)+256*(Math.round((h-m)*p)+m)+(Math.round((h-v)*p)+v)).toString(16).slice(1)}},{key:"shadeColor",value:function(a,l){return L.isColorHex(l)?this.shadeHexColor(a,l):this.shadeRGBColor(a,l)}}],[{key:"bind",value:function(a,l){return function(){return a.apply(l,arguments)}}},{key:"isObject",value:function(a){return a&&"object"===yt(a)&&!Array.isArray(a)&&null!=a}},{key:"is",value:function(a,l){return Object.prototype.toString.call(l)==="[object "+a+"]"}},{key:"listToArray",value:function(a){var l,d=[];for(l=0;l<a.length;l++)d[l]=a[l];return d}},{key:"extend",value:function(a,l){var d=this;"function"!=typeof Object.assign&&(Object.assign=function(p){if(null==p)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(p),m=1;m<arguments.length;m++){var v=arguments[m];if(null!=v)for(var x in v)v.hasOwnProperty(x)&&(g[x]=v[x])}return g});var h=Object.assign({},a);return this.isObject(a)&&this.isObject(l)&&Object.keys(l).forEach(function(p){d.isObject(l[p])&&p in a?h[p]=d.extend(a[p],l[p]):Object.assign(h,Ln({},p,l[p]))}),h}},{key:"extendArray",value:function(a,l){var d=[];return a.map(function(h){d.push(L.extend(l,h))}),d}},{key:"monthMod",value:function(a){return a%12}},{key:"clone",value:function(a){if(L.is("Array",a)){for(var l=[],d=0;d<a.length;d++)l[d]=this.clone(a[d]);return l}if(L.is("Null",a))return null;if(L.is("Date",a))return a;if("object"===yt(a)){var h={};for(var p in a)a.hasOwnProperty(p)&&(h[p]=this.clone(a[p]));return h}return a}},{key:"log10",value:function(a){return Math.log(a)/Math.LN10}},{key:"roundToBase10",value:function(a){return Math.pow(10,Math.floor(Math.log10(a)))}},{key:"roundToBase",value:function(a,l){return Math.pow(l,Math.floor(Math.log(a)/Math.log(l)))}},{key:"parseNumber",value:function(a){return null===a?a:parseFloat(a)}},{key:"stripNumber",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isInteger(a)?a:parseFloat(a.toPrecision(l))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(a){var l=String(a).split(/[eE]/);if(1===l.length)return l[0];var d="",h=a<0?"-":"",p=l[0].replace(".",""),g=Number(l[1])+1;if(g<0){for(d=h+"0.";g++;)d+="0";return d+p.replace(/^-/,"")}for(g-=p.length;g--;)d+="0";return p+d}},{key:"getDimensions",value:function(a){var l=getComputedStyle(a,null),d=a.clientHeight,h=a.clientWidth;return d-=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),[h-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),d]}},{key:"getBoundingClientRect",value:function(a){var l=a.getBoundingClientRect();return{top:l.top,right:l.right,bottom:l.bottom,left:l.left,width:a.clientWidth,height:a.clientHeight,x:l.left,y:l.top}}},{key:"getLargestStringFromArr",value:function(a){return a.reduce(function(l,d){return Array.isArray(d)&&(d=d.reduce(function(h,p){return h.length>p.length?h:p})),l.length>d.length?l:d},0)}},{key:"hexToRgba",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==a.substring(0,1)&&(a="#999999");var d=a.replace("#","");d=d.match(new RegExp("(.{"+d.length/3+"})","g"));for(var h=0;h<d.length;h++)d[h]=parseInt(1===d[h].length?d[h]+d[h]:d[h],16);return void 0!==l&&d.push(l),"rgba("+d.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(a){return parseFloat(a.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(a)}},{key:"getPolygonPos",value:function(a,l){for(var d=[],h=2*Math.PI/l,p=0;p<l;p++){var g={};g.x=a*Math.sin(p*h),g.y=-a*Math.cos(p*h),d.push(g)}return d}},{key:"polarToCartesian",value:function(a,l,d,h){var p=(h-90)*Math.PI/180;return{x:a+d*Math.cos(p),y:l+d*Math.sin(p)}}},{key:"escapeString",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";return a.toString().slice().replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,l)}},{key:"negToZero",value:function(a){return a<0?0:a}},{key:"moveIndexInArray",value:function(a,l,d){if(d>=a.length)for(var h=d-a.length+1;h--;)a.push(void 0);return a.splice(d,0,a.splice(l,1)[0]),a}},{key:"extractNumber",value:function(a){return parseFloat(a.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(a,l){for(;(a=a.parentElement)&&!a.classList.contains(l););return a}},{key:"setELstyles",value:function(a,l){for(var d in l)l.hasOwnProperty(d)&&(a.style.key=l[d])}},{key:"isNumber",value:function(a){return!isNaN(a)&&parseFloat(Number(a))===a&&!isNaN(parseInt(a,10))}},{key:"isFloat",value:function(a){return Number(a)===a&&a%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var a=window.navigator.userAgent,l=a.indexOf("MSIE ");if(l>0)return parseInt(a.substring(l+5,a.indexOf(".",l)),10);if(a.indexOf("Trident/")>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}var h=a.indexOf("Edge/");return h>0&&parseInt(a.substring(h+5,a.indexOf(".",h)),10)}}]),L}(),Di=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.setEasingFunctions()}return dt(L,[{key:"setEasingFunctions",value:function(){var a;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":a="-";break;case"easein":a="<";break;case"easeout":a=">";break;case"easeinout":default:a="<>";break;case"swing":a=function(l){var d=1.70158;return(l-=1)*l*((d+1)*l+d)+1};break;case"bounce":a=function(l){return l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375};break;case"elastic":a=function(l){return l===!!l?l:Math.pow(2,-10*l)*Math.sin((l-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=a}}},{key:"animateLine",value:function(a,l,d,h){a.attr(l).animate(h).attr(d)}},{key:"animateMarker",value:function(a,l,d,h,p,g){l||(l=0),a.attr({r:l,width:l,height:l}).animate(h,p).attr({r:d,width:d.width,height:d.height}).afterAll(function(){g()})}},{key:"animateCircle",value:function(a,l,d,h,p){a.attr({r:l.r,cx:l.cx,cy:l.cy}).animate(h,p).attr({r:d.r,cx:d.cx,cy:d.cy})}},{key:"animateRect",value:function(a,l,d,h,p){a.attr(l).animate(h).attr(d).afterAll(function(){return p()})}},{key:"animatePathsGradually",value:function(a){var E=this.w,D=0;E.config.chart.animations.animateGradually.enabled&&(D=E.config.chart.animations.animateGradually.delay),E.config.chart.animations.dynamicAnimation.enabled&&E.globals.dataChanged&&"bar"!==E.config.chart.type&&(D=0),this.morphSVG(a.el,a.realIndex,a.j,"line"!==E.config.chart.type||E.globals.comboCharts?a.fill:"stroke",a.pathFrom,a.pathTo,a.speed,a.delay*D)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(a){var l=a.el;l.classList.remove("apexcharts-element-hidden"),l.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(a){var l=this.w;l.globals.animationEnded||(l.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof l.config.chart.events.animationEnd&&l.config.chart.events.animationEnd(this.ctx,{el:a,w:l}))}},{key:"morphSVG",value:function(a,l,d,h,p,g,m,v){var x=this,E=this.w;p||(p=a.attr("pathFrom")),g||(g=a.attr("pathTo"));var D=function(A){return"radar"===E.config.chart.type&&(m=1),"M 0 ".concat(E.globals.gridHeight)};(!p||p.indexOf("undefined")>-1||p.indexOf("NaN")>-1)&&(p=D()),(!g||g.indexOf("undefined")>-1||g.indexOf("NaN")>-1)&&(g=D()),E.globals.shouldAnimate||(m=1),a.plot(p).animate(1,E.globals.easing,v).plot(p).animate(m,E.globals.easing,v).plot(g).afterAll(function(){he.isNumber(d)?d===E.globals.series[E.globals.maxValsInArrayIndex].length-2&&E.globals.shouldAnimate&&x.animationCompleted(a):"none"!==h&&E.globals.shouldAnimate&&(!E.globals.comboCharts&&l===E.globals.series.length-1||E.globals.comboCharts)&&x.animationCompleted(a),x.showDelayedElements()})}}]),L}(),yn=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"getDefaultFilter",value:function(a,l){var d=this.w;a.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==d.config.states.normal.filter?this.applyFilter(a,l,d.config.states.normal.filter.type,d.config.states.normal.filter.value):d.config.chart.dropShadow.enabled&&this.dropShadow(a,d.config.chart.dropShadow,l)}},{key:"addNormalFilter",value:function(a,l){var d=this.w;d.config.chart.dropShadow.enabled&&!a.node.classList.contains("apexcharts-marker")&&this.dropShadow(a,d.config.chart.dropShadow,l)}},{key:"addLightenFilter",value:function(a,l,d){var h=this,p=this.w,g=d.intensity;a.unfilter(!0),new window.SVG.Filter,a.filter(function(m){var v=p.config.chart.dropShadow;(v.enabled?h.addShadow(m,l,v):m).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:g}})}),a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)}},{key:"addDarkenFilter",value:function(a,l,d){var h=this,p=this.w,g=d.intensity;a.unfilter(!0),new window.SVG.Filter,a.filter(function(m){var v=p.config.chart.dropShadow;(v.enabled?h.addShadow(m,l,v):m).componentTransfer({rgb:{type:"linear",slope:g}})}),a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)}},{key:"applyFilter",value:function(a,l,d){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(d){case"none":this.addNormalFilter(a,l);break;case"lighten":this.addLightenFilter(a,l,{intensity:h});break;case"darken":this.addDarkenFilter(a,l,{intensity:h})}}},{key:"addShadow",value:function(a,l,d){var h=d.blur,p=d.top,g=d.left,m=d.color,v=d.opacity,x=a.flood(Array.isArray(m)?m[l]:m,v).composite(a.sourceAlpha,"in").offset(g,p).gaussianBlur(h).merge(a.source);return a.blend(a.source,x)}},{key:"dropShadow",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,h=l.top,p=l.left,g=l.blur,m=l.color,v=l.opacity,x=l.noUserSpaceOnUse,E=this.w;return a.unfilter(!0),he.isIE()&&"radialBar"===E.config.chart.type||(m=Array.isArray(m)?m[d]:m,a.filter(function(D){var A;A=he.isSafari()||he.isFirefox()||he.isIE()?D.flood(m,v).composite(D.sourceAlpha,"in").offset(p,h).gaussianBlur(g):D.flood(m,v).composite(D.sourceAlpha,"in").offset(p,h).gaussianBlur(g).merge(D.source),D.blend(D.source,A)}),x||a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)),a}},{key:"setSelectionFilter",value:function(a,l,d){var h=this.w;if(void 0!==h.globals.selectedDataPoints[l]&&h.globals.selectedDataPoints[l].indexOf(d)>-1){a.node.setAttribute("selected",!0);var p=h.config.states.active.filter;"none"!==p&&this.applyFilter(a,l,p.type,p.value)}}},{key:"_scaleFilterSize",value:function(a){!function(l){for(var d in l)l.hasOwnProperty(d)&&a.setAttribute(d,l[d])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),L}(),Me=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"roundPathCorners",value:function(a,l){function d(Y,_e,me){var Re=_e.x-Y.x,le=_e.y-Y.y,Ye=Math.sqrt(Re*Re+le*le);return h(Y,_e,Math.min(1,me/Ye))}function h(Y,_e,me){return{x:Y.x+(_e.x-Y.x)*me,y:Y.y+(_e.y-Y.y)*me}}function p(Y,_e){Y.length>2&&(Y[Y.length-2]=_e.x,Y[Y.length-1]=_e.y)}function g(Y){return{x:parseFloat(Y[Y.length-2]),y:parseFloat(Y[Y.length-1])}}a.indexOf("NaN")>-1&&(a="");var m=a.split(/[,\s]/).reduce(function(Y,_e){var me=_e.match("([a-zA-Z])(.+)");return me?(Y.push(me[1]),Y.push(me[2])):Y.push(_e),Y},[]).reduce(function(Y,_e){return parseFloat(_e)==_e&&Y.length?Y[Y.length-1].push(_e):Y.push([_e]),Y},[]),v=[];if(m.length>1){var x=g(m[0]),E=null;"Z"==m[m.length-1][0]&&m[0].length>2&&(m[m.length-1]=E=["L",x.x,x.y]),v.push(m[0]);for(var D=1;D<m.length;D++){var A=v[v.length-1],R=m[D],O=R==E?m[1]:m[D+1];if(O&&A&&A.length>2&&"L"==R[0]&&O.length>2&&"L"==O[0]){var N,B,G=g(A),X=g(R),b=g(O);N=d(X,G,l),B=d(X,b,l),p(R,N),R.origPoint=X,v.push(R);var I=h(N,X,.5),P=h(X,B,.5),j=["C",I.x,I.y,P.x,P.y,B.x,B.y];j.origPoint=X,v.push(j)}else v.push(R)}if(E){var Z=g(v[v.length-1]);v.push(["Z"]),p(v[0],Z)}}else v=m;return v.reduce(function(Y,_e){return Y+_e.join(" ")+" "},"")}},{key:"drawLine",value:function(a,l,d,h){var p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:a,y1:l,x2:d,y2:h,stroke:p,"stroke-dasharray":g,"stroke-width":m,"stroke-linecap":v})}},{key:"drawRect",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,x=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,E=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,D=this.w.globals.dom.Paper.rect();return D.attr({x:a,y:l,width:d>0?d:0,height:h>0?h:0,rx:p,ry:p,opacity:m,"stroke-width":null!==v?v:0,stroke:null!==x?x:"none","stroke-dasharray":E}),D.node.setAttribute("fill",g),D}},{key:"drawPolygon",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(a).attr({fill:h,stroke:l,"stroke-width":d})}},{key:"drawCircle",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a<0&&(a=0);var d=this.w.globals.dom.Paper.circle(2*a);return null!==l&&d.attr(l),d}},{key:"drawPath",value:function(a){var l=a.d,d=void 0===l?"":l,h=a.stroke,p=void 0===h?"#a8a8a8":h,g=a.strokeWidth,m=void 0===g?1:g,v=a.fill,x=a.fillOpacity,E=void 0===x?1:x,D=a.strokeOpacity,A=void 0===D?1:D,R=a.classes,O=a.strokeLinecap,N=void 0===O?null:O,B=a.strokeDashArray,G=void 0===B?0:B,X=this.w;return null===N&&(N=X.config.stroke.lineCap),(d.indexOf("undefined")>-1||d.indexOf("NaN")>-1)&&(d="M 0 ".concat(X.globals.gridHeight)),X.globals.dom.Paper.path(d).attr({fill:v,"fill-opacity":E,stroke:p,"stroke-opacity":A,"stroke-linecap":N,"stroke-width":m,"stroke-dasharray":G,class:R})}},{key:"group",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w.globals.dom.Paper.group();return null!==a&&l.attr(a),l}},{key:"move",value:function(a,l){return["M",a,l].join(" ")}},{key:"line",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=null;return null===d?h=[" L",a,l].join(" "):"H"===d?h=[" H",a].join(" "):"V"===d&&(h=[" V",l].join(" ")),h}},{key:"curve",value:function(a,l,d,h,p,g){return["C",a,l,d,h,p,g].join(" ")}},{key:"quadraticCurve",value:function(a,l,d,h){return["Q",a,l,d,h].join(" ")}},{key:"arc",value:function(a,l,d,h,p,g,m){var v="A";return arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(v="a"),[v,a,l,d,h,p,g,m].join(" ")}},{key:"renderPaths",value:function(a){var l,d=a.j,h=a.realIndex,p=a.pathFrom,g=a.pathTo,m=a.stroke,v=a.strokeWidth,x=a.strokeLinecap,E=a.fill,D=a.animationDelay,A=a.initialSpeed,R=a.dataChangeSpeed,O=a.className,N=a.shouldClipToGrid,B=void 0===N||N,G=a.bindEventsOnPaths,X=void 0===G||G,b=a.drawShadow,I=void 0===b||b,P=this.w,j=new yn(this.ctx),Z=new Di(this.ctx),Y=this.w.config.chart.animations.enabled,_e=Y&&this.w.config.chart.animations.dynamicAnimation.enabled,me=!!(Y&&!P.globals.resized||_e&&P.globals.dataChanged&&P.globals.shouldAnimate);me?l=p:(l=g,P.globals.animationEnded=!0);var le,Re=P.config.stroke.dashArray;le=Array.isArray(Re)?Re[h]:P.config.stroke.dashArray;var Ye=this.drawPath({d:l,stroke:m,strokeWidth:v,fill:E,fillOpacity:1,classes:O,strokeLinecap:x,strokeDashArray:le});Ye.attr("index",h),B&&Ye.attr({"clip-path":"url(#gridRectMask".concat(P.globals.cuid,")")}),"none"!==P.config.states.normal.filter.type?j.getDefaultFilter(Ye,h):P.config.chart.dropShadow.enabled&&I&&(!P.config.chart.dropShadow.enabledOnSeries||P.config.chart.dropShadow.enabledOnSeries&&-1!==P.config.chart.dropShadow.enabledOnSeries.indexOf(h))&&j.dropShadow(Ye,P.config.chart.dropShadow,h),X&&(Ye.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Ye)),Ye.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Ye)),Ye.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Ye))),Ye.attr({pathTo:g,pathFrom:p});var bt={el:Ye,j:d,realIndex:h,pathFrom:p,pathTo:g,fill:E,strokeWidth:v,delay:D};return!Y||P.globals.resized||P.globals.dataChanged?!P.globals.resized&&P.globals.dataChanged||Z.showDelayedElements():Z.animatePathsGradually(oe(oe({},bt),{},{speed:A})),P.globals.dataChanged&&_e&&me&&Z.animatePathsGradually(oe(oe({},bt),{},{speed:R})),Ye}},{key:"drawPattern",value:function(a,l,d){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(l,d,function(g){"horizontalLines"===a?g.line(0,0,d,0).stroke({color:h,width:p+1}):"verticalLines"===a?g.line(0,0,0,l).stroke({color:h,width:p+1}):"slantedLines"===a?g.line(0,0,l,d).stroke({color:h,width:p}):"squares"===a?g.rect(l,d).fill("none").stroke({color:h,width:p}):"circles"===a&&g.circle(l).fill("none").stroke({color:h,width:p})})}},{key:"drawGradient",value:function(a,l,d,h,p){var g,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,v=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,x=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,E=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,D=this.w;l.length<9&&0===l.indexOf("#")&&(l=he.hexToRgba(l,h)),d.length<9&&0===d.indexOf("#")&&(d=he.hexToRgba(d,p));var A=0,R=1,O=1,N=null;null!==v&&(A=void 0!==v[0]?v[0]/100:0,R=void 0!==v[1]?v[1]/100:1,O=void 0!==v[2]?v[2]/100:1,N=void 0!==v[3]?v[3]/100:null);var B=!("donut"!==D.config.chart.type&&"pie"!==D.config.chart.type&&"polarArea"!==D.config.chart.type&&"bubble"!==D.config.chart.type);return g=D.globals.dom.Paper.gradient(B?"radial":"linear",null===x||0===x.length?function(b){b.at(A,l,h),b.at(R,d,p),b.at(O,d,p),null!==N&&b.at(N,l,h)}:function(b){(Array.isArray(x[E])?x[E]:x).forEach(function(I){b.at(I.offset/100,I.color,I.opacity)})}),B?g.attr("bubble"!==D.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:D.globals.gridWidth/2,cy:D.globals.gridHeight/2,r:m}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2}):"vertical"===a?g.from(0,0).to(0,1):"diagonal"===a?g.from(0,0).to(1,1):"horizontal"===a?g.from(0,1).to(1,1):"diagonal2"===a&&g.from(1,0).to(0,1),g}},{key:"getTextBasedOnMaxWidth",value:function(a){var l=a.text,d=a.maxWidth,g=this.getTextRects(l,a.fontSize,a.fontFamily),v=Math.floor(d/(g.width/l.length));return d<g.width?l.slice(0,v-3)+"...":l}},{key:"drawText",value:function(a){var l=this,d=a.x,h=a.y,p=a.text,g=a.textAnchor,m=a.fontSize,v=a.fontFamily,x=a.fontWeight,E=a.foreColor,D=a.opacity,A=a.maxWidth,R=a.cssClass,O=void 0===R?"":R,N=a.isPlainText,B=void 0===N||N,G=this.w;void 0===p&&(p="");var X=p;g||(g="start"),E&&E.length||(E=G.config.chart.foreColor),x=x||"regular";var b,I={maxWidth:A,fontSize:m=m||"11px",fontFamily:v=v||G.config.chart.fontFamily};return Array.isArray(p)?b=G.globals.dom.Paper.text(function(P){for(var j=0;j<p.length;j++)X=p[j],A&&(X=l.getTextBasedOnMaxWidth(oe({text:p[j]},I))),0===j?P.tspan(X):P.tspan(X).newLine()}):(A&&(X=this.getTextBasedOnMaxWidth(oe({text:p},I))),b=B?G.globals.dom.Paper.plain(p):G.globals.dom.Paper.text(function(P){return P.tspan(X)})),b.attr({x:d,y:h,"text-anchor":g,"dominant-baseline":"auto","font-size":m,"font-family":v,"font-weight":x,fill:E,class:"apexcharts-text "+O}),b.node.style.fontFamily=v,b.node.style.opacity=D,b}},{key:"drawMarker",value:function(a,l,d){a=a||0;var h=d.pSize||0,p=null;if("square"===d.shape||"rect"===d.shape){var g=void 0===d.pRadius?h/2:d.pRadius;null!==l&&h||(h=0,g=0);var m=1.2*h+g,v=this.drawRect(m,m,m,m,g);v.attr({x:a-m/2,y:l-m/2,cx:a,cy:l,class:d.class?d.class:"",fill:d.pointFillColor,"fill-opacity":d.pointFillOpacity?d.pointFillOpacity:1,stroke:d.pointStrokeColor,"stroke-width":d.pointStrokeWidth?d.pointStrokeWidth:0,"stroke-opacity":d.pointStrokeOpacity?d.pointStrokeOpacity:1}),p=v}else"circle"!==d.shape&&d.shape||(he.isNumber(l)||(h=0,l=0),p=this.drawCircle(h,{cx:a,cy:l,class:d.class?d.class:"",stroke:d.pointStrokeColor,fill:d.pointFillColor,"fill-opacity":d.pointFillOpacity?d.pointFillOpacity:1,"stroke-width":d.pointStrokeWidth?d.pointStrokeWidth:0,"stroke-opacity":d.pointStrokeOpacity?d.pointStrokeOpacity:1}));return p}},{key:"pathMouseEnter",value:function(a,l){var d=this.w,h=new yn(this.ctx),p=parseInt(a.node.getAttribute("index"),10),g=parseInt(a.node.getAttribute("j"),10);if("function"==typeof d.config.chart.events.dataPointMouseEnter&&d.config.chart.events.dataPointMouseEnter(l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:d}),this.ctx.events.fireEvent("dataPointMouseEnter",[l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:d}]),("none"===d.config.states.active.filter.type||"true"!==a.node.getAttribute("selected"))&&"none"!==d.config.states.hover.filter.type&&!d.globals.isTouchDevice){var m=d.config.states.hover.filter;h.applyFilter(a,p,m.type,m.value)}}},{key:"pathMouseLeave",value:function(a,l){var d=this.w,h=new yn(this.ctx),p=parseInt(a.node.getAttribute("index"),10),g=parseInt(a.node.getAttribute("j"),10);"function"==typeof d.config.chart.events.dataPointMouseLeave&&d.config.chart.events.dataPointMouseLeave(l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:d}),this.ctx.events.fireEvent("dataPointMouseLeave",[l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:d}]),"none"!==d.config.states.active.filter.type&&"true"===a.node.getAttribute("selected")||"none"!==d.config.states.hover.filter.type&&h.getDefaultFilter(a,p)}},{key:"pathMouseDown",value:function(a,l){var d=this.w,h=new yn(this.ctx),p=parseInt(a.node.getAttribute("index"),10),g=parseInt(a.node.getAttribute("j"),10),m="false";if("true"===a.node.getAttribute("selected")){if(a.node.setAttribute("selected","false"),d.globals.selectedDataPoints[p].indexOf(g)>-1){var v=d.globals.selectedDataPoints[p].indexOf(g);d.globals.selectedDataPoints[p].splice(v,1)}}else{if(!d.config.states.active.allowMultipleDataPointsSelection&&d.globals.selectedDataPoints.length>0){d.globals.selectedDataPoints=[];var x=d.globals.dom.Paper.select(".apexcharts-series path").members,E=d.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,D=function(O){Array.prototype.forEach.call(O,function(N){N.node.setAttribute("selected","false"),h.getDefaultFilter(N,p)})};D(x),D(E)}a.node.setAttribute("selected","true"),m="true",void 0===d.globals.selectedDataPoints[p]&&(d.globals.selectedDataPoints[p]=[]),d.globals.selectedDataPoints[p].push(g)}if("true"===m){var A=d.config.states.active.filter;if("none"!==A)h.applyFilter(a,p,A.type,A.value);else if("none"!==d.config.states.hover.filter&&!d.globals.isTouchDevice){var R=d.config.states.hover.filter;h.applyFilter(a,p,R.type,R.value)}}else"none"!==d.config.states.active.filter.type&&("none"===d.config.states.hover.filter.type||d.globals.isTouchDevice?h.getDefaultFilter(a,p):h.applyFilter(a,p,(R=d.config.states.hover.filter).type,R.value));"function"==typeof d.config.chart.events.dataPointSelection&&d.config.chart.events.dataPointSelection(l,this.ctx,{selectedDataPoints:d.globals.selectedDataPoints,seriesIndex:p,dataPointIndex:g,w:d}),l&&this.ctx.events.fireEvent("dataPointSelection",[l,this.ctx,{selectedDataPoints:d.globals.selectedDataPoints,seriesIndex:p,dataPointIndex:g,w:d}])}},{key:"rotateAroundCenter",value:function(a){var l={};return a&&"function"==typeof a.getBBox&&(l=a.getBBox()),{x:l.x+l.width/2,y:l.y+l.height/2}}},{key:"getTextRects",value:function(a,l,d,h){var p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=this.w,m=this.drawText({x:-200,y:-200,text:a,textAnchor:"start",fontSize:l,fontFamily:d,foreColor:"#fff",opacity:0});h&&m.attr("transform",h),g.globals.dom.Paper.add(m);var v=m.bbox();return p||(v=m.node.getBoundingClientRect()),m.remove(),{width:v.width,height:v.height}}},{key:"placeTextWithEllipsis",value:function(a,l,d){if("function"==typeof a.getComputedTextLength&&(a.textContent=l,l.length>0&&a.getComputedTextLength()>=d/1.1)){for(var h=l.length-3;h>0;h-=3)if(a.getSubStringLength(0,h)<=d/1.1)return void(a.textContent=l.substring(0,h)+"...");a.textContent="."}}}],[{key:"setAttrs",value:function(a,l){for(var d in l)l.hasOwnProperty(d)&&a.setAttribute(d,l[d])}}]),L}(),qt=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"getStackedSeriesTotals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=this.w,d=[];if(0===l.globals.series.length)return d;for(var h=0;h<l.globals.series[l.globals.maxValsInArrayIndex].length;h++){for(var p=0,g=0;g<l.globals.series.length;g++)void 0!==l.globals.series[g][h]&&-1===a.indexOf(g)&&(p+=l.globals.series[g][h]);d.push(p)}return d}},{key:"getSeriesTotalByIndex",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===a?this.w.config.series.reduce(function(l,d){return l+d},0):this.w.globals.series[a].reduce(function(l,d){return l+d},0)}},{key:"isSeriesNull",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===a?this.w.config.series.filter(function(l){return null!==l}):this.w.config.series[a].data.filter(function(l){return null!==l})).length}},{key:"seriesHaveSameValues",value:function(a){return this.w.globals.series[a].every(function(l,d,h){return l===h[0]})}},{key:"getCategoryLabels",value:function(a){var l=this.w,d=a.slice();return l.config.xaxis.convertedCatToNumeric&&(d=a.map(function(h,p){return l.config.xaxis.labels.formatter(h-l.globals.minX+1)})),d}},{key:"getLargestSeries",value:function(){var a=this.w;a.globals.maxValsInArrayIndex=a.globals.series.map(function(l){return l.length}).indexOf(Math.max.apply(Math,a.globals.series.map(function(l){return l.length})))}},{key:"getLargestMarkerSize",value:function(){var a=this.w,l=0;return a.globals.markers.size.forEach(function(d){l=Math.max(l,d)}),a.config.markers.discrete&&a.config.markers.discrete.length&&a.config.markers.discrete.forEach(function(d){l=Math.max(l,d.size)}),l>0&&(l+=a.config.markers.hover.sizeOffset+1),a.globals.markers.largestSize=l,l}},{key:"getSeriesTotals",value:function(){var a=this.w;a.globals.seriesTotals=a.globals.series.map(function(l,d){var h=0;if(Array.isArray(l))for(var p=0;p<l.length;p++)h+=l[p];else h+=l;return h})}},{key:"getSeriesTotalsXRange",value:function(a,l){var d=this.w;return d.globals.series.map(function(h,p){for(var g=0,m=0;m<h.length;m++)d.globals.seriesX[p][m]>a&&d.globals.seriesX[p][m]<l&&(g+=h[m]);return g})}},{key:"getPercentSeries",value:function(){var a=this.w;a.globals.seriesPercent=a.globals.series.map(function(l,d){var h=[];if(Array.isArray(l))for(var p=0;p<l.length;p++){var g=a.globals.stackedSeriesTotals[p],m=0;g&&(m=100*l[p]/g),h.push(m)}else{var v=100*l/a.globals.seriesTotals.reduce(function(x,E){return x+E},0);h.push(v)}return h})}},{key:"getCalculatedRatios",value:function(){var a,l,d,h,p=this.w.globals,g=[],m=0,v=[],x=.1,E=0;if(p.yRange=[],p.isMultipleYAxis)for(var D=0;D<p.minYArr.length;D++)p.yRange.push(Math.abs(p.minYArr[D]-p.maxYArr[D])),v.push(0);else p.yRange.push(Math.abs(p.minY-p.maxY));p.xRange=Math.abs(p.maxX-p.minX),p.zRange=Math.abs(p.maxZ-p.minZ);for(var A=0;A<p.yRange.length;A++)g.push(p.yRange[A]/p.gridHeight);if(l=p.xRange/p.gridWidth,d=Math.abs(p.initialMaxX-p.initialMinX)/p.gridWidth,a=p.yRange/p.gridWidth,h=p.xRange/p.gridHeight,(m=p.zRange/p.gridHeight*16)||(m=1),p.minY!==Number.MIN_VALUE&&0!==Math.abs(p.minY)&&(p.hasNegs=!0),p.isMultipleYAxis){v=[];for(var R=0;R<g.length;R++)v.push(-p.minYArr[R]/g[R])}else v.push(-p.minY/g[0]),p.minY!==Number.MIN_VALUE&&0!==Math.abs(p.minY)&&(x=-p.minY/a,E=p.minX/l);return{yRatio:g,invertedYRatio:a,zRatio:m,xRatio:l,initialXRatio:d,invertedXRatio:h,baseLineInvertedY:x,baseLineY:v,baseLineX:E}}},{key:"getLogSeries",value:function(a){var l=this,d=this.w;return d.globals.seriesLog=a.map(function(h,p){return d.config.yaxis[p]&&d.config.yaxis[p].logarithmic?h.map(function(g){return null===g?null:l.getLogVal(d.config.yaxis[p].logBase,g,p)}):h}),d.globals.invalidLogScale?a:d.globals.seriesLog}},{key:"getBaseLog",value:function(a,l){return Math.log(l)/Math.log(a)}},{key:"getLogVal",value:function(a,l,d){if(0===l)return 0;var h=this.w,p=0===h.globals.minYArr[d]?-1:this.getBaseLog(a,h.globals.minYArr[d]),g=(0===h.globals.maxYArr[d]?0:this.getBaseLog(a,h.globals.maxYArr[d]))-p;return l<1?l/g:(this.getBaseLog(a,l)-p)/g}},{key:"getLogYRatios",value:function(a){var l=this,d=this.w,h=this.w.globals;return h.yLogRatio=a.slice(),h.logYRange=h.yRange.map(function(p,g){if(d.config.yaxis[g]&&l.w.config.yaxis[g].logarithmic){var m,v=-Number.MAX_VALUE,x=Number.MIN_VALUE;return h.seriesLog.forEach(function(E,D){E.forEach(function(A){d.config.yaxis[D]&&d.config.yaxis[D].logarithmic&&(v=Math.max(A,v),x=Math.min(A,x))})}),m=Math.pow(h.yRange[g],Math.abs(x-v)/h.yRange[g]),h.yLogRatio[g]=m/h.gridHeight,m}}),h.invalidLogScale?a.slice():h.yLogRatio}}],[{key:"checkComboSeries",value:function(a){var l=!1,d=0,h=0;return a.length&&void 0!==a[0].type&&a.forEach(function(p){"bar"!==p.type&&"column"!==p.type&&"candlestick"!==p.type&&"boxPlot"!==p.type||d++,void 0!==p.type&&h++}),h>0&&(l=!0),{comboBarCount:d,comboCharts:l}}},{key:"extendArrayProps",value:function(a,l,d){return l.yaxis&&(l=a.extendYAxis(l,d)),l.annotations&&(l.annotations.yaxis&&(l=a.extendYAxisAnnotations(l)),l.annotations.xaxis&&(l=a.extendXAxisAnnotations(l)),l.annotations.points&&(l=a.extendPointAnnotations(l))),l}}]),L}(),Cr=function(){function L(a){He(this,L),this.w=a.w,this.annoCtx=a}return dt(L,[{key:"setOrientations",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("vertical"===a.label.orientation){var p=this.w.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(null!==l?l:0,"']"));if(null!==p){var g=p.getBoundingClientRect();p.setAttribute("x",parseFloat(p.getAttribute("x"))-g.height+4),p.setAttribute("y","top"===a.label.position?parseFloat(p.getAttribute("y"))+g.width:parseFloat(p.getAttribute("y"))-g.width);var m=this.annoCtx.graphics.rotateAroundCenter(p),x=m.y;p.setAttribute("transform","rotate(-90 ".concat(m.x," ").concat(x,")"))}}}},{key:"addBackgroundToAnno",value:function(a,l){var d=this.w;if(!a||void 0===l.label.text||void 0!==l.label.text&&!String(l.label.text).trim())return null;var h=d.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),p=a.getBoundingClientRect(),g=l.label.style.padding.left,m=l.label.style.padding.right,v=l.label.style.padding.top,x=l.label.style.padding.bottom;"vertical"===l.label.orientation&&(v=l.label.style.padding.left,x=l.label.style.padding.right,g=l.label.style.padding.top,m=l.label.style.padding.bottom);var A=this.annoCtx.graphics.drawRect(p.left-h.left-g-d.globals.barPadForNumericAxis,p.top-h.top-v,p.width+g+m,p.height+v+x,l.label.borderRadius,l.label.style.background,1,l.label.borderWidth,l.label.borderColor,0);return l.id&&A.node.classList.add(l.id),A}},{key:"annotationsBackground",value:function(){var a=this,l=this.w,d=function(h,p,g){var m=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(g,"-annotations .apexcharts-").concat(g,"-annotation-label[rel='").concat(p,"']"));if(m){var v=m.parentNode,x=a.addBackgroundToAnno(m,h);x&&(v.insertBefore(x.node,m),h.label.mouseEnter&&x.node.addEventListener("mouseenter",h.label.mouseEnter.bind(a,h)),h.label.mouseLeave&&x.node.addEventListener("mouseleave",h.label.mouseLeave.bind(a,h)),h.label.click&&x.node.addEventListener("click",h.label.click.bind(a,h)))}};l.config.annotations.xaxis.map(function(h,p){d(h,p,"xaxis")}),l.config.annotations.yaxis.map(function(h,p){d(h,p,"yaxis")}),l.config.annotations.points.map(function(h,p){d(h,p,"point")})}},{key:"getY1Y2",value:function(a,l){var d,h="y1"===a?l.y:l.y2,p=this.w;if(this.annoCtx.invertAxis){var g=p.globals.labels.indexOf(h);p.config.xaxis.convertedCatToNumeric&&(g=p.globals.categoryLabels.indexOf(h));var m=p.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(g+1)+")");m&&(d=parseFloat(m.getAttribute("y")))}else{var v;v=p.config.yaxis[l.yAxisIndex].logarithmic?(h=new qt(this.annoCtx.ctx).getLogVal(h,l.yAxisIndex))/p.globals.yLogRatio[l.yAxisIndex]:(h-p.globals.minYArr[l.yAxisIndex])/(p.globals.yRange[l.yAxisIndex]/p.globals.gridHeight),d=p.globals.gridHeight-v,!l.marker||null!=l.y||(d=0),p.config.yaxis[l.yAxisIndex]&&p.config.yaxis[l.yAxisIndex].reversed&&(d=v)}return"string"==typeof h&&h.indexOf("px")>-1&&(d=parseFloat(h)),d}},{key:"getX1X2",value:function(a,l){var d=this.w,h=this.annoCtx.invertAxis?d.globals.minY:d.globals.minX,p=this.annoCtx.invertAxis?d.globals.maxY:d.globals.maxX,g=this.annoCtx.invertAxis?d.globals.yRange[0]:d.globals.xRange,m=(l.x-h)/(g/d.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(m=(p-l.x)/(g/d.globals.gridWidth)),"category"!==d.config.xaxis.type&&!d.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||d.globals.dataFormatXNumeric||(m=this.getStringX(l.x));var v=(l.x2-h)/(g/d.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(v=(p-l.x2)/(g/d.globals.gridWidth)),"category"!==d.config.xaxis.type&&!d.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||d.globals.dataFormatXNumeric||(v=this.getStringX(l.x2)),null!=l.x||!l.marker||(m=d.globals.gridWidth),"x1"===a&&"string"==typeof l.x&&l.x.indexOf("px")>-1&&(m=parseFloat(l.x)),"x2"===a&&"string"==typeof l.x2&&l.x2.indexOf("px")>-1&&(v=parseFloat(l.x2)),"x1"===a?m:v}},{key:"getStringX",value:function(a){var l=this.w,d=a;l.config.xaxis.convertedCatToNumeric&&l.globals.categoryLabels.length&&(a=l.globals.categoryLabels.indexOf(a)+1);var h=l.globals.labels.indexOf(a),p=l.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(h+1)+")");return p&&(d=parseFloat(p.getAttribute("x"))),d}}]),L}(),Yi=function(){function L(a){He(this,L),this.w=a.w,this.annoCtx=a,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Cr(this.annoCtx)}return dt(L,[{key:"addXaxisAnnotation",value:function(a,l,d){var h,p=this.w,g=this.helpers.getX1X2("x1",a),m=a.label.text,v=a.strokeDashArray;if(he.isNumber(g)){if(null==a.x2){var x=this.annoCtx.graphics.drawLine(g+a.offsetX,0+a.offsetY,g+a.offsetX,p.globals.gridHeight+a.offsetY,a.borderColor,v,a.borderWidth);l.appendChild(x.node),a.id&&x.node.classList.add(a.id)}else{if((h=this.helpers.getX1X2("x2",a))<g){var E=g;g=h,h=E}var D=this.annoCtx.graphics.drawRect(g+a.offsetX,0+a.offsetY,h-g,p.globals.gridHeight+a.offsetY,0,a.fillColor,a.opacity,1,a.borderColor,v);D.node.classList.add("apexcharts-annotation-rect"),D.attr("clip-path","url(#gridRectMask".concat(p.globals.cuid,")")),l.appendChild(D.node),a.id&&D.node.classList.add(a.id)}var A=this.annoCtx.graphics.getTextRects(m,parseFloat(a.label.style.fontSize)),O=this.annoCtx.graphics.drawText({x:g+a.label.offsetX,y:("top"===a.label.position?4:"center"===a.label.position?p.globals.gridHeight/2+("vertical"===a.label.orientation?A.width/2:0):p.globals.gridHeight)+a.label.offsetY-("vertical"===a.label.orientation?"top"===a.label.position?A.width/2-12:-A.width/2:0),text:m,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});O.attr({rel:d}),l.appendChild(O.node),this.annoCtx.helpers.setOrientations(a,d)}}},{key:"drawXAxisAnnotations",value:function(){var a=this,l=this.w,d=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return l.config.annotations.xaxis.map(function(h,p){a.addXaxisAnnotation(h,d.node,p)}),d}}]),L}(),ln=function(){function L(a){He(this,L),this.w=a.w,this.annoCtx=a,this.helpers=new Cr(this.annoCtx)}return dt(L,[{key:"addYaxisAnnotation",value:function(a,l,d){var h,p=this.w,g=a.strokeDashArray,m=this.helpers.getY1Y2("y1",a),v=a.label.text;if(null==a.y2){var x=this.annoCtx.graphics.drawLine(0+a.offsetX,m+a.offsetY,this._getYAxisAnnotationWidth(a),m+a.offsetY,a.borderColor,g,a.borderWidth);l.appendChild(x.node),a.id&&x.node.classList.add(a.id)}else{if((h=this.helpers.getY1Y2("y2",a))>m){var E=m;m=h,h=E}var D=this.annoCtx.graphics.drawRect(0+a.offsetX,h+a.offsetY,this._getYAxisAnnotationWidth(a),m-h,0,a.fillColor,a.opacity,1,a.borderColor,g);D.node.classList.add("apexcharts-annotation-rect"),D.attr("clip-path","url(#gridRectMask".concat(p.globals.cuid,")")),l.appendChild(D.node),a.id&&D.node.classList.add(a.id)}var R=this.annoCtx.graphics.drawText({x:("right"===a.label.position?p.globals.gridWidth:"center"===a.label.position?p.globals.gridWidth/2:0)+a.label.offsetX,y:(h??m)+a.label.offsetY-3,text:v,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});R.attr({rel:d}),l.appendChild(R.node)}},{key:"_getYAxisAnnotationWidth",value:function(a){var l=this.w;return(a.width.indexOf("%")>-1?l.globals.gridWidth*parseInt(a.width,10)/100:parseInt(a.width,10))+a.offsetX}},{key:"drawYAxisAnnotations",value:function(){var a=this,l=this.w,d=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return l.config.annotations.yaxis.map(function(h,p){a.addYaxisAnnotation(h,d.node,p)}),d}}]),L}(),st=function(){function L(a){He(this,L),this.w=a.w,this.annoCtx=a,this.helpers=new Cr(this.annoCtx)}return dt(L,[{key:"addPointAnnotation",value:function(a,l,d){var h=this.helpers.getX1X2("x1",a),p=this.helpers.getY1Y2("y1",a);if(he.isNumber(h)){var g={pSize:a.marker.size,pointStrokeWidth:a.marker.strokeWidth,pointFillColor:a.marker.fillColor,pointStrokeColor:a.marker.strokeColor,shape:a.marker.shape,pRadius:a.marker.radius,class:"apexcharts-point-annotation-marker ".concat(a.marker.cssClass," ").concat(a.id?a.id:"")},m=this.annoCtx.graphics.drawMarker(h+a.marker.offsetX,p+a.marker.offsetY,g);l.appendChild(m.node);var v=a.label.text?a.label.text:"",x=this.annoCtx.graphics.drawText({x:h+a.label.offsetX,y:p+a.label.offsetY-a.marker.size-parseFloat(a.label.style.fontSize)/1.6,text:v,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});if(x.attr({rel:d}),l.appendChild(x.node),a.customSVG.SVG){var E=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+a.customSVG.cssClass});E.attr({transform:"translate(".concat(h+a.customSVG.offsetX,", ").concat(p+a.customSVG.offsetY,")")}),E.node.innerHTML=a.customSVG.SVG,l.appendChild(E.node)}if(a.image.path){var D=a.image.width?a.image.width:20,A=a.image.height?a.image.height:20;m=this.annoCtx.addImage({x:h+a.image.offsetX-D/2,y:p+a.image.offsetY-A/2,width:D,height:A,path:a.image.path,appendTo:".apexcharts-point-annotations"})}a.mouseEnter&&m.node.addEventListener("mouseenter",a.mouseEnter.bind(this,a)),a.mouseLeave&&m.node.addEventListener("mouseleave",a.mouseLeave.bind(this,a)),a.click&&m.node.addEventListener("click",a.click.bind(this,a))}}},{key:"drawPointAnnotations",value:function(){var a=this,l=this.w,d=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return l.config.annotations.points.map(function(h,p){a.addPointAnnotation(h,d.node,p)}),d}}]),L}(),Rn={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},$n=function(){function L(){He(this,L),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return dt(L,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[Rn],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(a){return new Date(a).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(a){return a}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(a){return a+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(a){return a.globals.seriesTotals.reduce(function(l,d){return l+d},0)/a.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(a){return a}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(a){return a}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(a){return a.globals.seriesTotals.reduce(function(l,d){return l+d},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(a){return null!==a?a:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(a){return a?a+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),L}(),Vi=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.graphics=new Me(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Cr(this),this.xAxisAnnotations=new Yi(this),this.yAxisAnnotations=new ln(this),this.pointsAnnotations=new st(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return dt(L,[{key:"drawAxesAnnotations",value:function(){var a=this.w;if(a.globals.axisCharts){for(var l=this.yAxisAnnotations.drawYAxisAnnotations(),d=this.xAxisAnnotations.drawXAxisAnnotations(),h=this.pointsAnnotations.drawPointAnnotations(),p=a.config.chart.animations.enabled,g=[l,d,h],m=[d.node,l.node,h.node],v=0;v<3;v++)a.globals.dom.elGraphical.add(g[v]),!p||a.globals.resized||a.globals.dataChanged||"scatter"!==a.config.chart.type&&"bubble"!==a.config.chart.type&&a.globals.dataPoints>1&&m[v].classList.add("apexcharts-element-hidden"),a.globals.delayedElements.push({el:m[v],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var a=this;this.w.config.annotations.images.map(function(l,d){a.addImage(l,d)})}},{key:"drawTextAnnos",value:function(){var a=this;this.w.config.annotations.texts.map(function(l,d){a.addText(l,d)})}},{key:"addXaxisAnnotation",value:function(a,l,d){this.xAxisAnnotations.addXaxisAnnotation(a,l,d)}},{key:"addYaxisAnnotation",value:function(a,l,d){this.yAxisAnnotations.addYaxisAnnotation(a,l,d)}},{key:"addPointAnnotation",value:function(a,l,d){this.pointsAnnotations.addPointAnnotation(a,l,d)}},{key:"addText",value:function(a,l){var p=a.text,A=a.backgroundColor,R=a.borderWidth,O=a.strokeDashArray,N=a.borderRadius,B=a.borderColor,G=a.appendTo,X=void 0===G?".apexcharts-annotations":G,b=a.paddingLeft,I=void 0===b?4:b,P=a.paddingRight,j=void 0===P?4:P,Z=a.paddingBottom,Y=void 0===Z?2:Z,_e=a.paddingTop,me=void 0===_e?2:_e,Re=this.w,le=this.graphics.drawText({x:a.x,y:a.y,text:p,textAnchor:a.textAnchor||"start",fontSize:a.fontSize||"12px",fontWeight:a.fontWeight||"regular",fontFamily:a.fontFamily||Re.config.chart.fontFamily,foreColor:a.foreColor||Re.config.chart.foreColor,cssClass:a.cssClass}),Ye=Re.globals.dom.baseEl.querySelector(X);Ye&&Ye.appendChild(le.node);var Ie=le.bbox();if(p){var bt=this.graphics.drawRect(Ie.x-I,Ie.y-me,Ie.width+I+j,Ie.height+Y+me,N,A||"transparent",1,R,B,O);Ye.insertBefore(bt.node,le.node)}}},{key:"addImage",value:function(a,l){var d=this.w,p=a.x,g=void 0===p?0:p,m=a.y,v=void 0===m?0:m,x=a.width,E=void 0===x?20:x,D=a.height,A=void 0===D?20:D,R=a.appendTo,O=void 0===R?".apexcharts-annotations":R,N=d.globals.dom.Paper.image(a.path);N.size(E,A).move(g,v);var B=d.globals.dom.baseEl.querySelector(O);return B&&B.appendChild(N.node),N}},{key:"addXaxisAnnotationExternal",value:function(a,l,d){return this.addAnnotationExternal({params:a,pushToMemory:l,context:d,type:"xaxis",contextMethod:d.addXaxisAnnotation}),d}},{key:"addYaxisAnnotationExternal",value:function(a,l,d){return this.addAnnotationExternal({params:a,pushToMemory:l,context:d,type:"yaxis",contextMethod:d.addYaxisAnnotation}),d}},{key:"addPointAnnotationExternal",value:function(a,l,d){return void 0===this.invertAxis&&(this.invertAxis=d.w.globals.isBarHorizontal),this.addAnnotationExternal({params:a,pushToMemory:l,context:d,type:"point",contextMethod:d.addPointAnnotation}),d}},{key:"addAnnotationExternal",value:function(a){var l=a.params,d=a.pushToMemory,h=a.context,p=a.type,g=a.contextMethod,m=h,v=m.w,x=v.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-annotations")),E=x.childNodes.length+1,D=new $n,A=Object.assign({},"xaxis"===p?D.xAxisAnnotation:"yaxis"===p?D.yAxisAnnotation:D.pointAnnotation),R=he.extend(A,l);switch(p){case"xaxis":this.addXaxisAnnotation(R,x,E);break;case"yaxis":this.addYaxisAnnotation(R,x,E);break;case"point":this.addPointAnnotation(R,x,E)}var O=v.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-annotations .apexcharts-").concat(p,"-annotation-label[rel='").concat(E,"']")),N=this.helpers.addBackgroundToAnno(O,R);return N&&x.insertBefore(N.node,O),d&&v.globals.memory.methodsToExec.push({context:m,id:R.id?R.id:he.randomId(),method:g,label:"addAnnotation",params:l}),h}},{key:"clearAnnotations",value:function(a){var l=a.w,d=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");l.globals.memory.methodsToExec.map(function(h,p){"addText"!==h.label&&"addAnnotation"!==h.label||l.globals.memory.methodsToExec.splice(p,1)}),d=he.listToArray(d),Array.prototype.forEach.call(d,function(h){for(;h.firstChild;)h.removeChild(h.firstChild)})}},{key:"removeAnnotation",value:function(a,l){var d=a.w,h=d.globals.dom.baseEl.querySelectorAll(".".concat(l));h&&(d.globals.memory.methodsToExec.map(function(p,g){p.id===l&&d.globals.memory.methodsToExec.splice(g,1)}),Array.prototype.forEach.call(h,function(p){p.parentElement.removeChild(p)}))}}]),L}(),un=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return dt(L,[{key:"isValidDate",value:function(a){return!isNaN(this.parseDate(a))}},{key:"getTimeStamp",value:function(a){return Date.parse(a)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(a).toISOString().substr(0,25)).getTime():new Date(a).getTime():a}},{key:"getDate",value:function(a){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(a).toUTCString()):new Date(a)}},{key:"parseDate",value:function(a){var l=Date.parse(a);if(!isNaN(l))return this.getTimeStamp(a);var d=Date.parse(a.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(d)}},{key:"parseDateWithTimezone",value:function(a){return Date.parse(a.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(a,l){var d=this.w.globals.locale,h=this.w.config.xaxis.labels.datetimeUTC,p=["\0"].concat(Mn(d.months)),g=["\x01"].concat(Mn(d.shortMonths)),m=["\x02"].concat(Mn(d.days)),v=["\x03"].concat(Mn(d.shortDays));function x(Y,_e){var me=Y+"";for(_e=_e||2;me.length<_e;)me="0"+me;return me}var E=h?a.getUTCFullYear():a.getFullYear();l=(l=(l=l.replace(/(^|[^\\])yyyy+/g,"$1"+E)).replace(/(^|[^\\])yy/g,"$1"+E.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+E);var D=(h?a.getUTCMonth():a.getMonth())+1;l=(l=(l=(l=l.replace(/(^|[^\\])MMMM+/g,"$1"+p[0])).replace(/(^|[^\\])MMM/g,"$1"+g[0])).replace(/(^|[^\\])MM/g,"$1"+x(D))).replace(/(^|[^\\])M/g,"$1"+D);var A=h?a.getUTCDate():a.getDate();l=(l=(l=(l=l.replace(/(^|[^\\])dddd+/g,"$1"+m[0])).replace(/(^|[^\\])ddd/g,"$1"+v[0])).replace(/(^|[^\\])dd/g,"$1"+x(A))).replace(/(^|[^\\])d/g,"$1"+A);var R=h?a.getUTCHours():a.getHours(),O=R>12?R-12:0===R?12:R;l=(l=(l=(l=l.replace(/(^|[^\\])HH+/g,"$1"+x(R))).replace(/(^|[^\\])H/g,"$1"+R)).replace(/(^|[^\\])hh+/g,"$1"+x(O))).replace(/(^|[^\\])h/g,"$1"+O);var N=h?a.getUTCMinutes():a.getMinutes();l=(l=l.replace(/(^|[^\\])mm+/g,"$1"+x(N))).replace(/(^|[^\\])m/g,"$1"+N);var B=h?a.getUTCSeconds():a.getSeconds();l=(l=l.replace(/(^|[^\\])ss+/g,"$1"+x(B))).replace(/(^|[^\\])s/g,"$1"+B);var G=h?a.getUTCMilliseconds():a.getMilliseconds();l=l.replace(/(^|[^\\])fff+/g,"$1"+x(G,3)),G=Math.round(G/10),l=l.replace(/(^|[^\\])ff/g,"$1"+x(G)),G=Math.round(G/10);var X=R<12?"AM":"PM";l=(l=(l=l.replace(/(^|[^\\])f/g,"$1"+G)).replace(/(^|[^\\])TT+/g,"$1"+X)).replace(/(^|[^\\])T/g,"$1"+X.charAt(0));var b=X.toLowerCase();l=(l=l.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var I=-a.getTimezoneOffset(),P=h||!I?"Z":I>0?"+":"-";if(!h){var j=(I=Math.abs(I))%60;P+=x(Math.floor(I/60))+":"+x(j)}l=l.replace(/(^|[^\\])K/g,"$1"+P);var Z=(h?a.getUTCDay():a.getDay())+1;return(l=(l=(l=(l=l.replace(new RegExp(m[0],"g"),m[Z])).replace(new RegExp(v[0],"g"),v[Z])).replace(new RegExp(p[0],"g"),p[D])).replace(new RegExp(g[0],"g"),g[D])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(a,l,d){var h=this.w;void 0!==h.config.xaxis.min&&(a=h.config.xaxis.min),void 0!==h.config.xaxis.max&&(l=h.config.xaxis.max);var p=this.getDate(a),g=this.getDate(l),m=this.formatDate(p,"yyyy MM dd HH mm ss fff").split(" "),v=this.formatDate(g,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(m[6],10),maxMillisecond:parseInt(v[6],10),minSecond:parseInt(m[5],10),maxSecond:parseInt(v[5],10),minMinute:parseInt(m[4],10),maxMinute:parseInt(v[4],10),minHour:parseInt(m[3],10),maxHour:parseInt(v[3],10),minDate:parseInt(m[2],10),maxDate:parseInt(v[2],10),minMonth:parseInt(m[1],10)-1,maxMonth:parseInt(v[1],10)-1,minYear:parseInt(m[0],10),maxYear:parseInt(v[0],10)}}},{key:"isLeapYear",value:function(a){return a%4==0&&a%100!=0||a%400==0}},{key:"calculcateLastDaysOfMonth",value:function(a,l,d){return this.determineDaysOfMonths(a,l)-d}},{key:"determineDaysOfYear",value:function(a){var l=365;return this.isLeapYear(a)&&(l=366),l}},{key:"determineRemainingDaysOfYear",value:function(a,l,d){var h=this.daysCntOfYear[l]+d;return l>1&&this.isLeapYear()&&h++,h}},{key:"determineDaysOfMonths",value:function(a,l){var d=30;switch(a=he.monthMod(a),!0){case this.months30.indexOf(a)>-1:2===a&&(d=this.isLeapYear(l)?29:28);break;case this.months31.indexOf(a)>-1:default:d=31}return d}}]),L}(),Br=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.tooltipKeyFormat="dd MMM"}return dt(L,[{key:"xLabelFormat",value:function(a,l,d,h){var p=this.w;if("datetime"===p.config.xaxis.type&&void 0===p.config.xaxis.labels.formatter&&void 0===p.config.tooltip.x.formatter){var g=new un(this.ctx);return g.formatDate(g.getDate(l),p.config.tooltip.x.format)}return a(l,d,h)}},{key:"defaultGeneralFormatter",value:function(a){return Array.isArray(a)?a.map(function(l){return l}):a}},{key:"defaultYFormatter",value:function(a,l,d){var h=this.w;return he.isNumber(a)&&(a=a.toFixed(0!==h.globals.yValueDecimal?void 0!==l.decimalsInFloat?l.decimalsInFloat:h.globals.yValueDecimal:h.globals.maxYArr[d]-h.globals.minYArr[d]<5?1:0)),a}},{key:"setLabelFormatters",value:function(){var a=this,l=this.w;return l.globals.xaxisTooltipFormatter=function(d){return a.defaultGeneralFormatter(d)},l.globals.ttKeyFormatter=function(d){return a.defaultGeneralFormatter(d)},l.globals.ttZFormatter=function(d){return d},l.globals.legendFormatter=function(d){return a.defaultGeneralFormatter(d)},l.globals.xLabelFormatter=void 0!==l.config.xaxis.labels.formatter?l.config.xaxis.labels.formatter:function(d){if(he.isNumber(d)){if(!l.config.xaxis.convertedCatToNumeric&&"numeric"===l.config.xaxis.type){if(he.isNumber(l.config.xaxis.decimalsInFloat))return d.toFixed(l.config.xaxis.decimalsInFloat);var h=l.globals.maxX-l.globals.minX;return d.toFixed(h>0&&h<100?1:0)}return d.toFixed(l.globals.isBarHorizontal&&l.globals.maxY-l.globals.minYArr<4?1:0)}return d},l.globals.ttKeyFormatter="function"==typeof l.config.tooltip.x.formatter?l.config.tooltip.x.formatter:l.globals.xLabelFormatter,"function"==typeof l.config.xaxis.tooltip.formatter&&(l.globals.xaxisTooltipFormatter=l.config.xaxis.tooltip.formatter),(Array.isArray(l.config.tooltip.y)||void 0!==l.config.tooltip.y.formatter)&&(l.globals.ttVal=l.config.tooltip.y),void 0!==l.config.tooltip.z.formatter&&(l.globals.ttZFormatter=l.config.tooltip.z.formatter),void 0!==l.config.legend.formatter&&(l.globals.legendFormatter=l.config.legend.formatter),l.config.yaxis.forEach(function(d,h){l.globals.yLabelFormatters[h]=void 0!==d.labels.formatter?d.labels.formatter:function(p){return l.globals.xyCharts?Array.isArray(p)?p.map(function(g){return a.defaultYFormatter(g,d,h)}):a.defaultYFormatter(p,d,h):p}}),l.globals}},{key:"heatmapLabelFormatters",value:function(){var a=this.w;if("heatmap"===a.config.chart.type){a.globals.yAxisScale[0].result=a.globals.seriesNames.slice();var l=a.globals.seriesNames.reduce(function(d,h){return d.length>h.length?d:h},0);a.globals.yAxisScale[0].niceMax=l,a.globals.yAxisScale[0].niceMin=l}}}]),L}(),os=function(L){var a,l=L.isTimeline,d=L.ctx,h=L.seriesIndex,p=L.dataPointIndex,g=L.y1,m=L.y2,v=L.w,x=v.globals.seriesRangeStart[h][p],E=v.globals.seriesRangeEnd[h][p],D=v.globals.labels[p],A=v.config.series[h].name?v.config.series[h].name:"",R=v.globals.ttKeyFormatter,O=v.config.tooltip.y.title.formatter,N={w:v,seriesIndex:h,dataPointIndex:p,start:x,end:E};"function"==typeof O&&(A=O(A,N)),null!==(a=v.config.series[h].data[p])&&void 0!==a&&a.x&&(D=v.config.series[h].data[p].x),l||"datetime"===v.config.xaxis.type&&(D=new Br(d).xLabelFormat(v.globals.ttKeyFormatter,D,D,{i:void 0,dateFormatter:new un(d).formatDate,w:v})),"function"==typeof R&&(D=R(D,N)),Number.isFinite(g)&&Number.isFinite(m)&&(x=g,E=m);var B="",G="",X=v.globals.colors[h];if(void 0===v.config.tooltip.x.formatter)if("datetime"===v.config.xaxis.type){var b=new un(d);B=b.formatDate(b.getDate(x),v.config.tooltip.x.format),G=b.formatDate(b.getDate(E),v.config.tooltip.x.format)}else B=x,G=E;else B=v.config.tooltip.x.formatter(x),G=v.config.tooltip.x.formatter(E);return{start:x,end:E,startVal:B,endVal:G,ylabel:D,color:X,seriesName:A}},zt=function(L){var a=L.color,l=L.seriesName,d=L.ylabel,h=L.start,p=L.end,g=L.seriesIndex,m=L.dataPointIndex,v=L.ctx.tooltip.tooltipLabels.getFormatters(g);h=v.yLbFormatter(h),p=v.yLbFormatter(p);var x=v.yLbFormatter(L.w.globals.series[g][m]),E='<span class="value start-value">\n  '.concat(h,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(p,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+a+'">'+(l||"")+'</span></div><div> <span class="category">'+d+": </span> "+(L.w.globals.comboCharts?"rangeArea"===L.w.config.series[g].type||"rangeBar"===L.w.config.series[g].type?E:"<span>".concat(x,"</span>"):E)+" </div></div>"},gr=function(){function L(a){He(this,L),this.opts=a}return dt(L,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(a){return this.hideYAxis(),he.extend(a,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),oe(oe({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var a=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return a._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var a=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return a._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(a,l){var d=l.seriesIndex,h=l.dataPointIndex,p=l.w,g=function(){return p.globals.seriesRangeEnd[d][h]-p.globals.seriesRangeStart[d][h]};return p.globals.comboCharts?"rangeBar"===p.config.series[d].type||"rangeArea"===p.config.series[d].type?g():a:g()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(a){return a.w.config.plotOptions&&a.w.config.plotOptions.bar&&a.w.config.plotOptions.bar.horizontal?(h=(d=os(oe(oe({},l=a),{},{isTimeline:!0}))).color,p=d.seriesName,g=d.ylabel,m=d.startVal,v=d.endVal,zt(oe(oe({},l),{},{color:h,seriesName:p,ylabel:g,start:m,end:v}))):function(l){var d=os(l),h=d.color,p=d.seriesName,g=d.ylabel,m=d.start,v=d.end;return zt(oe(oe({},l),{},{color:h,seriesName:p,ylabel:g,start:m,end:v}))}(a);var l,d,h,p,g,m,v}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(a){var l,d;return null!==(l=a.plotOptions.bar)&&void 0!==l&&l.barHeight||(a.plotOptions.bar.barHeight=2),null!==(d=a.plotOptions.bar)&&void 0!==d&&d.columnWidth||(a.plotOptions.bar.columnWidth=2),a}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(a){return h=(d=os(l=a)).color,p=d.seriesName,g=d.ylabel,m=d.start,v=d.end,zt(oe(oe({},l),{},{color:h,seriesName:p,ylabel:g,start:m,end:v}));var l,d,h,p,g,m,v}}}}},{key:"brush",value:function(a){return he.extend(a,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(a){a.dataLabels=a.dataLabels||{},a.dataLabels.formatter=a.dataLabels.formatter||void 0;var l=a.dataLabels.formatter;return a.yaxis.forEach(function(d,h){a.yaxis[h].min=0,a.yaxis[h].max=100}),"bar"===a.chart.type&&(a.dataLabels.formatter=l||function(d){return"number"==typeof d&&d?d.toFixed(0)+"%":d}),a}},{key:"stackedBars",value:function(){var a=this.bar();return oe(oe({},a),{},{plotOptions:oe(oe({},a.plotOptions),{},{bar:oe(oe({},a.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(a){return a.xaxis.convertedCatToNumeric=!0,a}},{key:"convertCatToNumericXaxis",value:function(a,l,d){a.xaxis.type="numeric",a.xaxis.labels=a.xaxis.labels||{},a.xaxis.labels.formatter=a.xaxis.labels.formatter||function(g){return he.isNumber(g)?Math.floor(g):g};var h=a.xaxis.labels.formatter,p=a.xaxis.categories&&a.xaxis.categories.length?a.xaxis.categories:a.labels;return d&&d.length&&(p=d.map(function(g){return Array.isArray(g)?g:String(g)})),p&&p.length&&(a.xaxis.labels.formatter=function(g){return he.isNumber(g)?h(p[Math.floor(g)-1]):h(g)}),a.xaxis.categories=[],a.labels=[],a.xaxis.tickAmount=a.xaxis.tickAmount||"dataPoints",a}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(a){return a},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(a,l,d,h,p){var g=a.globals.seriesCandleO[l][d],m=a.globals.seriesCandleH[l][d],v=a.globals.seriesCandleM[l][d],x=a.globals.seriesCandleL[l][d],E=a.globals.seriesCandleC[l][d];return a.config.series[l].type&&a.config.series[l].type!==p?'<div class="apexcharts-custom-tooltip">\n          '.concat(a.config.series[l].name?a.config.series[l].name:"series-"+(l+1),": <strong>").concat(a.globals.series[l][d],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(a.config.chart.type,'">')+"<div>".concat(h[0],': <span class="value">')+g+"</span></div>"+"<div>".concat(h[1],': <span class="value">')+m+"</span></div>"+(v?"<div>".concat(h[2],': <span class="value">')+v+"</span></div>":"")+"<div>".concat(h[3],': <span class="value">')+x+"</span></div>"+"<div>".concat(h[4],': <span class="value">')+E+"</span></div></div>"}}]),L}(),zr=function(){function L(a){He(this,L),this.opts=a}return dt(L,[{key:"init",value:function(a){var l=a.responsiveOverride,d=this.opts,h=new $n,p=new gr(d);this.chartType=d.chart.type,d=this.extendYAxis(d),d=this.extendAnnotations(d);var g=h.init(),m={};if(d&&"object"===yt(d)){var v,x,E,D,A,R,O,N,B,G,X={};X=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(d.chart.type)?p[d.chart.type]():p.line(),null!==(v=d.plotOptions)&&void 0!==v&&null!==(x=v.bar)&&void 0!==x&&x.isFunnel&&(X=p.funnel()),d.chart.stacked&&"bar"===d.chart.type&&(X=p.stackedBars()),null!==(E=d.chart.brush)&&void 0!==E&&E.enabled&&(X=p.brush(X)),d.chart.stacked&&"100%"===d.chart.stackType&&(d=p.stacked100(d)),null!==(D=d.plotOptions)&&void 0!==D&&null!==(A=D.bar)&&void 0!==A&&A.isDumbbell&&(d=p.dumbbell(d)),"monotoneCubic"===(null===(R=d)||void 0===R||null===(O=R.stroke)||void 0===O?void 0:O.curve)&&(d.stroke.curve="smooth"),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(d),d.xaxis=d.xaxis||window.Apex.xaxis||{},l||(d.xaxis.convertedCatToNumeric=!1),(null!==(N=(d=this.checkForCatToNumericXAxis(this.chartType,X,d)).chart.sparkline)&&void 0!==N&&N.enabled||null!==(B=window.Apex.chart)&&void 0!==B&&null!==(G=B.sparkline)&&void 0!==G&&G.enabled)&&(X=p.sparkline(X)),m=he.extend(g,X)}var b=he.extend(m,window.Apex);return g=he.extend(b,d),this.handleUserInputErrors(g)}},{key:"checkForCatToNumericXAxis",value:function(a,l,d){var h,p,g=new gr(d);return("bar"===a||"boxPlot"===a)&&(null===(h=d.plotOptions)||void 0===h||null===(p=h.bar)||void 0===p?void 0:p.horizontal)||"pie"===a||"polarArea"===a||"donut"===a||"radar"===a||"radialBar"===a||"heatmap"===a||!("datetime"!==d.xaxis.type&&"numeric"!==d.xaxis.type)||"between"===(d.xaxis.tickPlacement?d.xaxis.tickPlacement:l.xaxis&&l.xaxis.tickPlacement)||(d=g.convertCatToNumeric(d)),d}},{key:"extendYAxis",value:function(a,l){var d=new $n;(void 0===a.yaxis||!a.yaxis||Array.isArray(a.yaxis)&&0===a.yaxis.length)&&(a.yaxis={}),a.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(a.yaxis=he.extend(a.yaxis,window.Apex.yaxis)),a.yaxis=a.yaxis.constructor!==Array?[he.extend(d.yAxis,a.yaxis)]:he.extendArray(a.yaxis,d.yAxis);var h=!1;a.yaxis.forEach(function(g){g.logarithmic&&(h=!0)});var p=a.series;return l&&!p&&(p=l.config.series),h&&p.length!==a.yaxis.length&&p.length&&(a.yaxis=p.map(function(g,m){if(g.name||(p[m].name="series-".concat(m+1)),a.yaxis[m])return a.yaxis[m].seriesName=p[m].name,a.yaxis[m];var v=he.extend(d.yAxis,a.yaxis[0]);return v.show=!1,v})),h&&p.length>1&&p.length!==a.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),a}},{key:"extendAnnotations",value:function(a){return void 0===a.annotations&&(a.annotations={},a.annotations.yaxis=[],a.annotations.xaxis=[],a.annotations.points=[]),a=this.extendYAxisAnnotations(a),a=this.extendXAxisAnnotations(a),this.extendPointAnnotations(a)}},{key:"extendYAxisAnnotations",value:function(a){var l=new $n;return a.annotations.yaxis=he.extendArray(void 0!==a.annotations.yaxis?a.annotations.yaxis:[],l.yAxisAnnotation),a}},{key:"extendXAxisAnnotations",value:function(a){var l=new $n;return a.annotations.xaxis=he.extendArray(void 0!==a.annotations.xaxis?a.annotations.xaxis:[],l.xAxisAnnotation),a}},{key:"extendPointAnnotations",value:function(a){var l=new $n;return a.annotations.points=he.extendArray(void 0!==a.annotations.points?a.annotations.points:[],l.pointAnnotation),a}},{key:"checkForDarkTheme",value:function(a){a.theme&&"dark"===a.theme.mode&&(a.tooltip||(a.tooltip={}),"light"!==a.tooltip.theme&&(a.tooltip.theme="dark"),a.chart.foreColor||(a.chart.foreColor="#f6f7f8"),a.chart.background||(a.chart.background="#424242"),a.theme.palette||(a.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(a){var l=a;if(l.tooltip.shared&&l.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===l.chart.type&&l.plotOptions.bar.horizontal){if(l.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");l.yaxis[0].reversed&&(l.yaxis[0].opposite=!0),l.xaxis.tooltip.enabled=!1,l.yaxis[0].tooltip.enabled=!1,l.chart.zoom.enabled=!1}return"bar"!==l.chart.type&&"rangeBar"!==l.chart.type||l.tooltip.shared&&"barWidth"===l.xaxis.crosshairs.width&&l.series.length>1&&(l.xaxis.crosshairs.width="tickWidth"),"candlestick"!==l.chart.type&&"boxPlot"!==l.chart.type||l.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(l.chart.type," chart is not supported.")),l.yaxis[0].reversed=!1),l}}]),L}(),ke=function(){function L(){He(this,L)}return dt(L,[{key:"initGlobalVars",value:function(a){a.series=[],a.seriesCandleO=[],a.seriesCandleH=[],a.seriesCandleM=[],a.seriesCandleL=[],a.seriesCandleC=[],a.seriesRangeStart=[],a.seriesRangeEnd=[],a.seriesRange=[],a.seriesPercent=[],a.seriesGoals=[],a.seriesX=[],a.seriesZ=[],a.seriesNames=[],a.seriesTotals=[],a.seriesLog=[],a.seriesColors=[],a.stackedSeriesTotals=[],a.seriesXvalues=[],a.seriesYvalues=[],a.labels=[],a.hasXaxisGroups=!1,a.groups=[],a.hasSeriesGroups=!1,a.seriesGroups=[],a.categoryLabels=[],a.timescaleLabels=[],a.noLabelsProvided=!1,a.resizeTimer=null,a.selectionResizeTimer=null,a.delayedElements=[],a.pointsArray=[],a.dataLabelsRects=[],a.isXNumeric=!1,a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1,a.isDataXYZ=!1,a.isMultiLineX=!1,a.isMultipleYAxis=!1,a.maxY=-Number.MAX_VALUE,a.minY=Number.MIN_VALUE,a.minYArr=[],a.maxYArr=[],a.maxX=-Number.MAX_VALUE,a.minX=Number.MAX_VALUE,a.initialMaxX=-Number.MAX_VALUE,a.initialMinX=Number.MAX_VALUE,a.maxDate=0,a.minDate=Number.MAX_VALUE,a.minZ=Number.MAX_VALUE,a.maxZ=-Number.MAX_VALUE,a.minXDiff=Number.MAX_VALUE,a.yAxisScale=[],a.xAxisScale=null,a.xAxisTicksPositions=[],a.yLabelsCoords=[],a.yTitleCoords=[],a.barPadForNumericAxis=0,a.padHorizontal=0,a.xRange=0,a.yRange=[],a.zRange=0,a.dataPoints=0,a.xTickAmount=0}},{key:"globalVars",value:function(a){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:a.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.zoom&&a.chart.zoom.enabled,panEnabled:"pan"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.pan,selectionEnabled:"selection"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(a){var l=this.globalVars(a);return this.initGlobalVars(l),l.initialConfig=he.extend({},a),l.initialSeries=he.clone(a.series),l.lastXAxis=he.clone(l.initialConfig.xaxis),l.lastYAxis=he.clone(l.initialConfig.yaxis),l}}]),L}(),Ne=function(){function L(a){He(this,L),this.opts=a}return dt(L,[{key:"init",value:function(){var a=new zr(this.opts).init({responsiveOverride:!1});return{config:a,globals:(new ke).init(a)}}}]),L}(),fe=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.opts=null,this.seriesIndex=0}return dt(L,[{key:"clippedImgArea",value:function(a){var l=this.w,d=l.config,h=parseInt(l.globals.gridWidth,10),p=parseInt(l.globals.gridHeight,10),g=h>p?h:p,m=a.image,v=0,x=0;void 0===a.width&&void 0===a.height?void 0!==d.fill.image.width&&void 0!==d.fill.image.height?(v=d.fill.image.width+1,x=d.fill.image.height):(v=g+1,x=g):(v=a.width,x=a.height);var E=document.createElementNS(l.globals.SVGNS,"pattern");Me.setAttrs(E,{id:a.patternID,patternUnits:a.patternUnits?a.patternUnits:"userSpaceOnUse",width:v+"px",height:x+"px"});var D=document.createElementNS(l.globals.SVGNS,"image");E.appendChild(D),D.setAttributeNS(window.SVG.xlink,"href",m),Me.setAttrs(D,{x:0,y:0,preserveAspectRatio:"none",width:v+"px",height:x+"px"}),D.style.opacity=a.opacity,l.globals.dom.elDefs.node.appendChild(E)}},{key:"getSeriesIndex",value:function(a){var l=this.w,d=l.config.chart.type;return this.seriesIndex=("bar"===d||"rangeBar"===d)&&l.config.plotOptions.bar.distributed||"heatmap"===d||"treemap"===d?a.seriesNumber:a.seriesNumber%l.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(a){var l=this.w;this.opts=a;var d,h,p,g=this.w.config;this.seriesIndex=this.getSeriesIndex(a);var m=this.getFillColors()[this.seriesIndex];void 0!==l.globals.seriesColors[this.seriesIndex]&&(m=l.globals.seriesColors[this.seriesIndex]),"function"==typeof m&&(m=m({seriesIndex:this.seriesIndex,dataPointIndex:a.dataPointIndex,value:a.value,w:l}));var v=a.fillType?a.fillType:this.getFillType(this.seriesIndex),x=Array.isArray(g.fill.opacity)?g.fill.opacity[this.seriesIndex]:g.fill.opacity;a.color&&(m=a.color),m||(m="#fff",console.warn("undefined color - ApexCharts"));var E=m;if(-1===m.indexOf("rgb")?m.length<9&&(E=he.hexToRgba(m,x)):m.indexOf("rgba")>-1&&(x=he.getOpacityFromRGBA(m)),a.opacity&&(x=a.opacity),"pattern"===v&&(h=this.handlePatternFill({fillConfig:a.fillConfig,patternFill:h,fillColor:m,fillOpacity:x,defaultColor:E})),"gradient"===v&&(p=this.handleGradientFill({fillConfig:a.fillConfig,fillColor:m,fillOpacity:x,i:this.seriesIndex})),"image"===v){var D=g.fill.image.src,A=a.patternID?a.patternID:"";this.clippedImgArea({opacity:x,image:Array.isArray(D)?a.seriesNumber<D.length?D[a.seriesNumber]:D[0]:D,width:a.width?a.width:void 0,height:a.height?a.height:void 0,patternUnits:a.patternUnits,patternID:"pattern".concat(l.globals.cuid).concat(a.seriesNumber+1).concat(A)}),d="url(#pattern".concat(l.globals.cuid).concat(a.seriesNumber+1).concat(A,")")}else d="gradient"===v?p:"pattern"===v?h:E;return a.solid&&(d=E),d}},{key:"getFillType",value:function(a){var l=this.w;return Array.isArray(l.config.fill.type)?l.config.fill.type[a]:l.config.fill.type}},{key:"getFillColors",value:function(){var a=this.w,l=a.config,d=this.opts,h=[];return a.globals.comboCharts?"line"===a.config.series[this.seriesIndex].type?Array.isArray(a.globals.stroke.colors)?h=a.globals.stroke.colors:h.push(a.globals.stroke.colors):Array.isArray(a.globals.fill.colors)?h=a.globals.fill.colors:h.push(a.globals.fill.colors):"line"===l.chart.type?Array.isArray(a.globals.stroke.colors)?h=a.globals.stroke.colors:h.push(a.globals.stroke.colors):Array.isArray(a.globals.fill.colors)?h=a.globals.fill.colors:h.push(a.globals.fill.colors),void 0!==d.fillColors&&(h=[],Array.isArray(d.fillColors)?h=d.fillColors.slice():h.push(d.fillColors)),h}},{key:"handlePatternFill",value:function(a){var l=a.fillConfig,h=a.fillColor,p=a.fillOpacity,g=a.defaultColor,m=this.w.config.fill;l&&(m=l);var v=this.opts,x=new Me(this.ctx),E=Array.isArray(m.pattern.strokeWidth)?m.pattern.strokeWidth[this.seriesIndex]:m.pattern.strokeWidth,D=h;return Array.isArray(m.pattern.style)?void 0!==m.pattern.style[v.seriesNumber]?x.drawPattern(m.pattern.style[v.seriesNumber],m.pattern.width,m.pattern.height,D,E,p):g:x.drawPattern(m.pattern.style,m.pattern.width,m.pattern.height,D,E,p)}},{key:"handleGradientFill",value:function(a){var l=a.fillColor,d=a.fillOpacity,h=a.fillConfig,p=a.i,g=this.w.config.fill;h&&(g=oe(oe({},g),h));var m,v=this.opts,x=new Me(this.ctx),E=new he,D=g.gradient.type,A=l,R=void 0===g.gradient.opacityFrom?d:Array.isArray(g.gradient.opacityFrom)?g.gradient.opacityFrom[p]:g.gradient.opacityFrom;A.indexOf("rgba")>-1&&(R=he.getOpacityFromRGBA(A));var O=void 0===g.gradient.opacityTo?d:Array.isArray(g.gradient.opacityTo)?g.gradient.opacityTo[p]:g.gradient.opacityTo;if(void 0===g.gradient.gradientToColors||0===g.gradient.gradientToColors.length)m=E.shadeColor("dark"===g.gradient.shade?-1*parseFloat(g.gradient.shadeIntensity):parseFloat(g.gradient.shadeIntensity),l.indexOf("rgb")>-1?he.rgb2hex(l):l);else if(g.gradient.gradientToColors[v.seriesNumber]){var N=g.gradient.gradientToColors[v.seriesNumber];m=N,N.indexOf("rgba")>-1&&(O=he.getOpacityFromRGBA(N))}else m=l;if(g.gradient.gradientFrom&&(A=g.gradient.gradientFrom),g.gradient.gradientTo&&(m=g.gradient.gradientTo),g.gradient.inverseColors){var B=A;A=m,m=B}return A.indexOf("rgb")>-1&&(A=he.rgb2hex(A)),m.indexOf("rgb")>-1&&(m=he.rgb2hex(m)),x.drawGradient(D,A,m,R,O,v.size,g.gradient.stops,g.gradient.colorStops,p)}}]),L}(),Ae=function(){function L(a,l){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"setGlobalMarkerSize",value:function(){var a=this.w;if(a.globals.markers.size=Array.isArray(a.config.markers.size)?a.config.markers.size:[a.config.markers.size],a.globals.markers.size.length>0){if(a.globals.markers.size.length<a.globals.series.length+1)for(var l=0;l<=a.globals.series.length;l++)void 0===a.globals.markers.size[l]&&a.globals.markers.size.push(a.globals.markers.size[0])}else a.globals.markers.size=a.config.series.map(function(d){return a.config.markers.size})}},{key:"plotChartMarkers",value:function(a,l,d,h){var p,g=arguments.length>4&&void 0!==arguments[4]&&arguments[4],m=this.w,v=l,x=a,E=null,D=new Me(this.ctx),A=m.config.markers.discrete&&m.config.markers.discrete.length;if((m.globals.markers.size[l]>0||g||A)&&(E=D.group({class:g||A?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(m.globals.cuid,")")),Array.isArray(x.x))for(var R=0;R<x.x.length;R++){var O=d;1===d&&0===R&&(O=0),1===d&&1===R&&(O=1);var N="apexcharts-marker";if("line"!==m.config.chart.type&&"area"!==m.config.chart.type||m.globals.comboCharts||m.config.tooltip.intersect||(N+=" no-pointer-events"),(Array.isArray(m.config.markers.size)?m.globals.markers.size[l]>0:m.config.markers.size>0)||g||A){he.isNumber(x.y[R])?N+=" w".concat(he.randomId()):N="apexcharts-nullpoint";var B=this.getMarkerConfig({cssClass:N,seriesIndex:l,dataPointIndex:O});m.config.series[v].data[O]&&(m.config.series[v].data[O].fillColor&&(B.pointFillColor=m.config.series[v].data[O].fillColor),m.config.series[v].data[O].strokeColor&&(B.pointStrokeColor=m.config.series[v].data[O].strokeColor)),h&&(B.pSize=h),(x.x[R]<0||x.x[R]>m.globals.gridWidth||x.y[R]<-m.globals.markers.largestSize||x.y[R]>m.globals.gridHeight+m.globals.markers.largestSize)&&(B.pSize=0),(p=D.drawMarker(x.x[R],x.y[R],B)).attr("rel",O),p.attr("j",O),p.attr("index",l),p.node.setAttribute("default-marker-size",B.pSize),new yn(this.ctx).setSelectionFilter(p,l,O),this.addEvents(p),E&&E.add(p)}else void 0===m.globals.pointsArray[l]&&(m.globals.pointsArray[l]=[]),m.globals.pointsArray[l].push([x.x[R],x.y[R]])}return E}},{key:"getMarkerConfig",value:function(a){var l=a.cssClass,d=a.seriesIndex,h=a.dataPointIndex,p=void 0===h?null:h,g=a.finishRadius,m=void 0===g?null:g,v=this.w,x=this.getMarkerStyle(d),E=v.globals.markers.size[d],D=v.config.markers;return null!==p&&D.discrete.length&&D.discrete.map(function(A){A.seriesIndex===d&&A.dataPointIndex===p&&(x.pointStrokeColor=A.strokeColor,x.pointFillColor=A.fillColor,E=A.size,x.pointShape=A.shape)}),{pSize:null===m?E:m,pRadius:D.radius,width:Array.isArray(D.width)?D.width[d]:D.width,height:Array.isArray(D.height)?D.height[d]:D.height,pointStrokeWidth:Array.isArray(D.strokeWidth)?D.strokeWidth[d]:D.strokeWidth,pointStrokeColor:x.pointStrokeColor,pointFillColor:x.pointFillColor,shape:x.pointShape||(Array.isArray(D.shape)?D.shape[d]:D.shape),class:l,pointStrokeOpacity:Array.isArray(D.strokeOpacity)?D.strokeOpacity[d]:D.strokeOpacity,pointStrokeDashArray:Array.isArray(D.strokeDashArray)?D.strokeDashArray[d]:D.strokeDashArray,pointFillOpacity:Array.isArray(D.fillOpacity)?D.fillOpacity[d]:D.fillOpacity,seriesIndex:d}}},{key:"addEvents",value:function(a){var l=this.w,d=new Me(this.ctx);a.node.addEventListener("mouseenter",d.pathMouseEnter.bind(this.ctx,a)),a.node.addEventListener("mouseleave",d.pathMouseLeave.bind(this.ctx,a)),a.node.addEventListener("mousedown",d.pathMouseDown.bind(this.ctx,a)),a.node.addEventListener("click",l.config.markers.onClick),a.node.addEventListener("dblclick",l.config.markers.onDblClick),a.node.addEventListener("touchstart",d.pathMouseDown.bind(this.ctx,a),{passive:!0})}},{key:"getMarkerStyle",value:function(a){var l=this.w,d=l.globals.markers.colors,h=l.config.markers.strokeColor||l.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(h)?h[a]:h,pointFillColor:Array.isArray(d)?d[a]:d}}}]),L}(),Je=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return dt(L,[{key:"draw",value:function(a,l,d){var h=this.w,p=new Me(this.ctx),g=d.realIndex,m=d.pointsPos,v=d.zRatio,x=d.elParent,E=p.group({class:"apexcharts-series-markers apexcharts-series-".concat(h.config.chart.type)});if(E.attr("clip-path","url(#gridRectMarkerMask".concat(h.globals.cuid,")")),Array.isArray(m.x))for(var D=0;D<m.x.length;D++){var A=l+1,R=!0;0===l&&0===D&&(A=0),0===l&&1===D&&(A=1);var O=0,N=h.globals.markers.size[g];if(v!==1/0){var B=h.config.plotOptions.bubble;N=h.globals.seriesZ[g][A],B.zScaling&&(N/=v),B.minBubbleRadius&&N<B.minBubbleRadius&&(N=B.minBubbleRadius),B.maxBubbleRadius&&N>B.maxBubbleRadius&&(N=B.maxBubbleRadius)}h.config.chart.animations.enabled||(O=N);var X=m.y[D];if(O=O||0,null!==X&&void 0!==h.globals.series[g][A]||(R=!1),R){var b=this.drawPoint(m.x[D],X,O,N,g,A,l);E.add(b)}x.add(E)}}},{key:"drawPoint",value:function(a,l,d,h,p,g,m){var v=this.w,x=p,E=new Di(this.ctx),D=new yn(this.ctx),A=new fe(this.ctx),R=new Ae(this.ctx),O=new Me(this.ctx),N=R.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:x,dataPointIndex:g,finishRadius:"bubble"===v.config.chart.type||v.globals.comboCharts&&v.config.series[p]&&"bubble"===v.config.series[p].type?h:null});h=N.pSize;var B,G=A.fillPath({seriesNumber:p,dataPointIndex:g,color:N.pointFillColor,patternUnits:"objectBoundingBox",value:v.globals.series[p][m]});if("circle"===N.shape?B=O.drawCircle(d):"square"!==N.shape&&"rect"!==N.shape||(B=O.drawRect(0,0,N.width-N.pointStrokeWidth/2,N.height-N.pointStrokeWidth/2,N.pRadius)),v.config.series[x].data[g]&&v.config.series[x].data[g].fillColor&&(G=v.config.series[x].data[g].fillColor),B.attr({x:a-N.width/2-N.pointStrokeWidth/2,y:l-N.height/2-N.pointStrokeWidth/2,cx:a,cy:l,fill:G,"fill-opacity":N.pointFillOpacity,stroke:N.pointStrokeColor,r:h,"stroke-width":N.pointStrokeWidth,"stroke-dasharray":N.pointStrokeDashArray,"stroke-opacity":N.pointStrokeOpacity}),v.config.chart.dropShadow.enabled&&D.dropShadow(B,v.config.chart.dropShadow,p),!this.initialAnim||v.globals.dataChanged||v.globals.resized?v.globals.animationEnded=!0:E.animateMarker(B,0,"circle"===N.shape?h:{width:N.width,height:N.height},v.config.chart.animations.speed,v.globals.easing,function(){window.setTimeout(function(){E.animationCompleted(B)},100)}),v.globals.dataChanged&&"circle"===N.shape)if(this.dynamicAnim){var I,P,j,Z,Y=v.config.chart.animations.dynamicAnimation.speed;null!=(Z=v.globals.previousPaths[p]&&v.globals.previousPaths[p][m])&&(I=Z.x,P=Z.y,j=void 0!==Z.r?Z.r:h);for(var _e=0;_e<v.globals.collapsedSeries.length;_e++)v.globals.collapsedSeries[_e].index===p&&(Y=1,h=0);0===a&&0===l&&(h=0),E.animateCircle(B,{cx:I,cy:P,r:j},{cx:a,cy:l,r:h},Y,v.globals.easing)}else B.attr({r:h});return B.attr({rel:g,j:g,index:p,"default-marker-size":h}),D.setSelectionFilter(B,p,g),R.addEvents(B),B.node.classList.add("apexcharts-marker"),B}},{key:"centerTextInBubble",value:function(a){return{y:a+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),L}(),je=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"dataLabelsCorrection",value:function(a,l,d,h,p,g,m){var v=this.w,x=!1,E=new Me(this.ctx).getTextRects(d,m),D=E.width,A=E.height;if(l<0&&(l=0),l>v.globals.gridHeight+A&&(l=v.globals.gridHeight+A/2),void 0===v.globals.dataLabelsRects[h]&&(v.globals.dataLabelsRects[h]=[]),v.globals.dataLabelsRects[h].push({x:a,y:l,width:D,height:A}),void 0!==v.globals.dataLabelsRects[h][v.globals.dataLabelsRects[h].length-2]){var N=v.globals.dataLabelsRects[h][void 0!==v.globals.lastDrawnDataLabelsIndexes[h]?v.globals.lastDrawnDataLabelsIndexes[h][v.globals.lastDrawnDataLabelsIndexes[h].length-1]:0];(a>N.x+N.width||l>N.y+N.height||l+A<N.y||a+D<N.x)&&(x=!0)}return(0===p||g)&&(x=!0),{x:a,y:l,textRects:E,drawnextLabel:x}}},{key:"drawDataLabel",value:function(a){var l=this,d=a.type,h=a.pos,p=a.i,g=a.j,m=a.isRangeStart,v=a.strokeWidth,x=void 0===v?2:v,E=this.w,D=new Me(this.ctx),A=E.config.dataLabels,R=0,O=0,N=g,B=null;if(!A.enabled||!Array.isArray(h.x))return B;B=D.group({class:"apexcharts-data-labels"});for(var G=0;G<h.x.length;G++)if(R=h.x[G]+A.offsetX,O=h.y[G]+A.offsetY+x,!isNaN(R)){1===g&&0===G&&(N=0),1===g&&1===G&&(N=1);var X=E.globals.series[p][N];"rangeArea"===d&&(X=m?E.globals.seriesRangeStart[p][N]:E.globals.seriesRangeEnd[p][N]);var b="",I=function(P){return E.config.dataLabels.formatter(P,{ctx:l.ctx,seriesIndex:p,dataPointIndex:N,w:E})};"bubble"===E.config.chart.type?(b=I(X=E.globals.seriesZ[p][N]),O=h.y[G],O=new Je(this.ctx).centerTextInBubble(O,p,N).y):void 0!==X&&(b=I(X)),this.plotDataLabelsText({x:R,y:O,text:b,i:p,j:N,parent:B,offsetCorrection:!0,dataLabelsConfig:E.config.dataLabels})}return B}},{key:"plotDataLabelsText",value:function(a){var l=this.w,d=new Me(this.ctx),h=a.x,p=a.y,g=a.i,m=a.j,v=a.text,x=a.textAnchor,E=a.fontSize,D=a.parent,A=a.dataLabelsConfig,R=a.color,O=a.alwaysDrawDataLabel,N=a.offsetCorrection;if(!(Array.isArray(l.config.dataLabels.enabledOnSeries)&&l.config.dataLabels.enabledOnSeries.indexOf(g)<0)){var B={x:h,y:p,drawnextLabel:!0,textRects:null};N&&(B=this.dataLabelsCorrection(h,p,v,g,m,O,parseInt(A.style.fontSize,10))),l.globals.zoomed||(h=B.x,p=B.y),B.textRects&&(h<-10-B.textRects.width||h>l.globals.gridWidth+B.textRects.width+10)&&(v="");var G=l.globals.dataLabels.style.colors[g];(("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)&&l.config.plotOptions.bar.distributed||l.config.dataLabels.distributed)&&(G=l.globals.dataLabels.style.colors[m]),"function"==typeof G&&(G=G({series:l.globals.series,seriesIndex:g,dataPointIndex:m,w:l})),R&&(G=R);var X=A.offsetX,b=A.offsetY;if("bar"!==l.config.chart.type&&"rangeBar"!==l.config.chart.type||(X=0,b=0),B.drawnextLabel){var I=d.drawText({width:100,height:parseInt(A.style.fontSize,10),x:h+X,y:p+b,foreColor:G,textAnchor:x||A.textAnchor,text:v,fontSize:E||A.style.fontSize,fontFamily:A.style.fontFamily,fontWeight:A.style.fontWeight||"normal"});if(I.attr({class:"apexcharts-datalabel",cx:h,cy:p}),A.dropShadow.enabled){var P=A.dropShadow;new yn(this.ctx).dropShadow(I,P)}D.add(I),void 0===l.globals.lastDrawnDataLabelsIndexes[g]&&(l.globals.lastDrawnDataLabelsIndexes[g]=[]),l.globals.lastDrawnDataLabelsIndexes[g].push(m)}}}},{key:"addBackgroundToDataLabel",value:function(a,l){var d=this.w,h=d.config.dataLabels.background,p=h.padding,g=h.padding/2,m=l.width,v=l.height,x=new Me(this.ctx).drawRect(l.x-p,l.y-g/2,m+2*p,v+g,h.borderRadius,"transparent"===d.config.chart.background?"#fff":d.config.chart.background,h.opacity,h.borderWidth,h.borderColor);return h.dropShadow.enabled&&new yn(this.ctx).dropShadow(x,h.dropShadow),x}},{key:"dataLabelsBackground",value:function(){var a=this.w;if("bubble"!==a.config.chart.type)for(var l=a.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),d=0;d<l.length;d++){var h=l[d],p=h.getBBox(),g=null;if(p.width&&p.height&&(g=this.addBackgroundToDataLabel(h,p)),g){h.parentNode.insertBefore(g.node,h);var m=h.getAttribute("fill");!a.config.chart.animations.enabled||a.globals.resized||a.globals.dataChanged?g.attr({fill:m}):g.animate().attr({fill:m}),h.setAttribute("fill",a.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var a=this.w,l=a.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),d=a.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),h=0;h<l.length;h++)d&&d.insertBefore(l[h],d.nextSibling)}}]),L}(),ot=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.legendInactiveClass="legend-mouseover-inactive"}return dt(L,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(a){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(he.escapeString(a),"']"))}},{key:"isSeriesHidden",value:function(a){var l=this.getSeriesByName(a),d=parseInt(l.getAttribute("data:realIndex"),10);return{isHidden:l.classList.contains("apexcharts-series-collapsed"),realIndex:d}}},{key:"addCollapsedClassToSeries",value:function(a,l){var d=this.w;function h(p){for(var g=0;g<p.length;g++)p[g].index===l&&a.node.classList.add("apexcharts-series-collapsed")}h(d.globals.collapsedSeries),h(d.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(a){var l=this.isSeriesHidden(a);return this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,l.isHidden),l.isHidden}},{key:"showSeries",value:function(a){var l=this.isSeriesHidden(a);l.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!0)}},{key:"hideSeries",value:function(a){var l=this.isSeriesHidden(a);l.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!1)}},{key:"resetSeries",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],h=this.w,p=he.clone(h.globals.initialSeries);h.globals.previousPaths=[],d?(h.globals.collapsedSeries=[],h.globals.ancillaryCollapsedSeries=[],h.globals.collapsedSeriesIndices=[],h.globals.ancillaryCollapsedSeriesIndices=[]):p=this.emptyCollapsedSeries(p),h.config.series=p,a&&(l&&(h.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(p,h.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(a){for(var l=this.w,d=0;d<a.length;d++)l.globals.collapsedSeriesIndices.indexOf(d)>-1&&(a[d].data=[]);return a}},{key:"toggleSeriesOnHover",value:function(a,l){var d=this.w;l||(l=a.target);var h=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===a.type){var p=parseInt(l.getAttribute("rel"),10)-1,g=null,m=null;d.globals.axisCharts||"radialBar"===d.config.chart.type?d.globals.axisCharts?(g=d.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(p,"']")),m=d.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(p,"']"))):g=d.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"']")):g=d.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"'] path"));for(var v=0;v<h.length;v++)h[v].classList.add(this.legendInactiveClass);null!==g&&(d.globals.axisCharts||g.parentNode.classList.remove(this.legendInactiveClass),g.classList.remove(this.legendInactiveClass),null!==m&&m.classList.remove(this.legendInactiveClass))}else if("mouseout"===a.type)for(var x=0;x<h.length;x++)h[x].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(a,l){var d=this,h=this.w,p=h.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),g=function(v){for(var x=0;x<p.length;x++)p[x].classList[v](d.legendInactiveClass)};if("mousemove"===a.type){var m=parseInt(l.getAttribute("rel"),10)-1;g("add"),function(v){for(var x=0;x<p.length;x++){var E=parseInt(p[x].getAttribute("val"),10);E>=v.from&&E<=v.to&&p[x].classList.remove(d.legendInactiveClass)}}(h.config.plotOptions.heatmap.colorScale.ranges[m])}else"mouseout"===a.type&&g("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=this.w,h=0;if(d.config.series.length>1)for(var p=d.config.series.map(function(m,v){return m.data&&m.data.length>0&&-1===d.globals.collapsedSeriesIndices.indexOf(v)&&(!d.globals.comboCharts||0===l.length||l.length&&l.indexOf(d.config.series[v].type)>-1)?v:-1}),g="asc"===a?0:p.length-1;"asc"===a?g<p.length:g>=0;"asc"===a?g++:g--)if(-1!==p[g]){h=p[g];break}return h}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(a,l){return"bar"===a.type||"column"===a.type?l:-1}).filter(function(a){return-1!==a}):this.w.config.series.map(function(a,l){return l})}},{key:"getPreviousPaths",value:function(){var a=this.w;function l(g,m,v){for(var x=g[m].childNodes,E={type:v,paths:[],realIndex:g[m].getAttribute("data:realIndex")},D=0;D<x.length;D++)if(x[D].hasAttribute("pathTo")){var A=x[D].getAttribute("pathTo");E.paths.push({d:A})}a.globals.previousPaths.push(E)}a.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(g){for(var v=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(g,"-series .apexcharts-series")),x=0;x<v.length;x++)l(v,x,g)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var d=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a.config.chart.type," .apexcharts-series"));if(d.length>0)for(var h=function(g){for(var m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(g,"'] rect")),v=[],x=function(D){var A=function(O){return m[D].getAttribute(O)},R={x:parseFloat(A("x")),y:parseFloat(A("y")),width:parseFloat(A("width")),height:parseFloat(A("height"))};v.push({rect:R,color:m[D].getAttribute("color")})},E=0;E<m.length;E++)x(E);a.globals.previousPaths.push(v)},p=0;p<d.length;p++)h(p);a.globals.axisCharts||(a.globals.previousPaths=a.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(a){var l=this.w,d=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series"));if(d.length>0)for(var h=0;h<d.length;h++){for(var p=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series[data\\:realIndex='").concat(h,"'] circle")),g=[],m=0;m<p.length;m++)g.push({x:p[m].getAttribute("cx"),y:p[m].getAttribute("cy"),r:p[m].getAttribute("r")});l.globals.previousPaths.push(g)}}},{key:"clearPreviousPaths",value:function(){var a=this.w;a.globals.previousPaths=[],a.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var a=this.w,l=a.config.noData,d=new Me(this.ctx),h=a.globals.svgWidth/2,p=a.globals.svgHeight/2,g="middle";if(a.globals.noData=!0,a.globals.animationEnded=!0,"left"===l.align?(h=10,g="start"):"right"===l.align&&(h=a.globals.svgWidth-10,g="end"),"top"===l.verticalAlign?p=50:"bottom"===l.verticalAlign&&(p=a.globals.svgHeight-50),h+=l.offsetX,p=p+parseInt(l.style.fontSize,10)+2+l.offsetY,void 0!==l.text&&""!==l.text){var m=d.drawText({x:h,y:p,text:l.text,textAnchor:g,fontSize:l.style.fontSize,fontFamily:l.style.fontFamily,foreColor:l.style.color,opacity:1,class:"apexcharts-text-nodata"});a.globals.dom.Paper.add(m)}}},{key:"setNullSeriesToZeroValues",value:function(a){for(var l=this.w,d=0;d<a.length;d++)if(0===a[d].length)for(var h=0;h<a[l.globals.maxValsInArrayIndex].length;h++)a[d].push(0);return a}},{key:"hasAllSeriesEqualX",value:function(){for(var a=!0,l=this.w,d=this.filteredSeriesX(),h=0;h<d.length-1;h++)if(d[h][0]!==d[h+1][0]){a=!1;break}return l.globals.allSeriesHasEqualX=a,a}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(l){return l.length>0?l:[]})}}]),L}(),hn=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new qt(this.ctx)}return dt(L,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var a=this.w.config.series.slice(),l=new ot(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==a[this.activeSeriesIndex].data&&a[this.activeSeriesIndex].data.length>0&&null!==a[this.activeSeriesIndex].data[0]&&void 0!==a[this.activeSeriesIndex].data[0].x&&null!==a[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var a=this.w.config.series.slice(),l=new ot(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==a[this.activeSeriesIndex].data&&a[this.activeSeriesIndex].data.length>0&&null!=a[this.activeSeriesIndex].data[0]&&a[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(a,l){for(var d=this.w.config,h=this.w.globals,p="boxPlot"===d.chart.type||"boxPlot"===d.series[l].type,g=0;g<a[l].data.length;g++)if(void 0!==a[l].data[g][1]&&(Array.isArray(a[l].data[g][1])&&4===a[l].data[g][1].length&&!p?this.twoDSeries.push(he.parseNumber(a[l].data[g][1][3])):this.twoDSeries.push(he.parseNumber(a[l].data[g].length>=5?a[l].data[g][4]:a[l].data[g][1])),h.dataFormatXNumeric=!0),"datetime"===d.xaxis.type){var m=new Date(a[l].data[g][0]);m=new Date(m).getTime(),this.twoDSeriesX.push(m)}else this.twoDSeriesX.push(a[l].data[g][0]);for(var v=0;v<a[l].data.length;v++)void 0!==a[l].data[v][2]&&(this.threeDSeries.push(a[l].data[v][2]),h.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(a,l){var d=this.w.config,h=this.w.globals,p=new un(this.ctx),g=l;h.collapsedSeriesIndices.indexOf(l)>-1&&(g=this.activeSeriesIndex);for(var m=0;m<a[l].data.length;m++)void 0!==a[l].data[m].y&&(Array.isArray(a[l].data[m].y)?this.twoDSeries.push(he.parseNumber(a[l].data[m].y[a[l].data[m].y.length-1])):this.twoDSeries.push(he.parseNumber(a[l].data[m].y))),void 0!==a[l].data[m].goals&&Array.isArray(a[l].data[m].goals)?(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(a[l].data[m].goals)):(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(null));for(var v=0;v<a[g].data.length;v++){var x="string"==typeof a[g].data[v].x,E=Array.isArray(a[g].data[v].x),D=!E&&!!p.isValidDate(a[g].data[v].x.toString());x||D?x||d.xaxis.convertedCatToNumeric?"datetime"!==d.xaxis.type||h.isBarHorizontal&&h.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(a[g].data[v].x),isNaN(a[g].data[v].x)||"category"===this.w.config.xaxis.type||"string"==typeof a[g].data[v].x||(h.isXNumeric=!0)):this.twoDSeriesX.push(p.parseDate(a[g].data[v].x)):"datetime"===d.xaxis.type?this.twoDSeriesX.push(p.parseDate(a[g].data[v].x.toString())):(h.dataFormatXNumeric=!0,h.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(a[g].data[v].x))):E?(this.fallbackToCategory=!0,this.twoDSeriesX.push(a[g].data[v].x)):(h.isXNumeric=!0,h.dataFormatXNumeric=!0,this.twoDSeriesX.push(a[g].data[v].x))}if(a[l].data[0]&&void 0!==a[l].data[0].z){for(var R=0;R<a[l].data.length;R++)this.threeDSeries.push(a[l].data[R].z);h.isDataXYZ=!0}}},{key:"handleRangeData",value:function(a,l){var d=this.w.globals,h={};return this.isFormat2DArray()?h=this.handleRangeDataFormat("array",a,l):this.isFormatXY()&&(h=this.handleRangeDataFormat("xy",a,l)),d.seriesRangeStart.push(h.start),d.seriesRangeEnd.push(h.end),d.seriesRange.push(h.rangeUniques),d.seriesRange.forEach(function(p,g){p&&p.forEach(function(m,v){m.y.forEach(function(x,E){for(var D=0;D<m.y.length;D++)E!==D&&x.y1<=m.y[D].y2&&m.y[D].y1<=x.y2&&(m.overlaps.indexOf(x.rangeName)<0&&m.overlaps.push(x.rangeName),m.overlaps.indexOf(m.y[D].rangeName)<0&&m.overlaps.push(m.y[D].rangeName))})})}),h}},{key:"handleCandleStickBoxData",value:function(a,l){var d=this.w.globals,h={};return this.isFormat2DArray()?h=this.handleCandleStickBoxDataFormat("array",a,l):this.isFormatXY()&&(h=this.handleCandleStickBoxDataFormat("xy",a,l)),d.seriesCandleO[l]=h.o,d.seriesCandleH[l]=h.h,d.seriesCandleM[l]=h.m,d.seriesCandleL[l]=h.l,d.seriesCandleC[l]=h.c,h}},{key:"handleRangeDataFormat",value:function(a,l,d){var h=[],p=[],g=l[d].data.filter(function(E,D,A){return D===A.findIndex(function(R){return R.x===E.x})}).map(function(E,D){return{x:E.x,overlaps:[],y:[]}});if("array"===a)for(var m=0;m<l[d].data.length;m++)Array.isArray(l[d].data[m])?(h.push(l[d].data[m][1][0]),p.push(l[d].data[m][1][1])):(h.push(l[d].data[m]),p.push(l[d].data[m]));else if("xy"===a)for(var v=function(E){var D=Array.isArray(l[d].data[E].y),A=he.randomId(),R=l[d].data[E].x,O={y1:D?l[d].data[E].y[0]:l[d].data[E].y,y2:D?l[d].data[E].y[1]:l[d].data[E].y,rangeName:A};l[d].data[E].rangeName=A;var N=g.findIndex(function(B){return B.x===R});g[N].y.push(O),h.push(O.y1),p.push(O.y2)},x=0;x<l[d].data.length;x++)v(x);return{start:h,end:p,rangeUniques:g}}},{key:"handleCandleStickBoxDataFormat",value:function(a,l,d){var h=this.w,p="boxPlot"===h.config.chart.type||"boxPlot"===h.config.series[d].type,g=[],m=[],v=[],x=[],E=[];if("array"===a)if(p&&6===l[d].data[0].length||!p&&5===l[d].data[0].length)for(var D=0;D<l[d].data.length;D++)g.push(l[d].data[D][1]),m.push(l[d].data[D][2]),p?(v.push(l[d].data[D][3]),x.push(l[d].data[D][4]),E.push(l[d].data[D][5])):(x.push(l[d].data[D][3]),E.push(l[d].data[D][4]));else for(var A=0;A<l[d].data.length;A++)Array.isArray(l[d].data[A][1])&&(g.push(l[d].data[A][1][0]),m.push(l[d].data[A][1][1]),p?(v.push(l[d].data[A][1][2]),x.push(l[d].data[A][1][3]),E.push(l[d].data[A][1][4])):(x.push(l[d].data[A][1][2]),E.push(l[d].data[A][1][3])));else if("xy"===a)for(var R=0;R<l[d].data.length;R++)Array.isArray(l[d].data[R].y)&&(g.push(l[d].data[R].y[0]),m.push(l[d].data[R].y[1]),p?(v.push(l[d].data[R].y[2]),x.push(l[d].data[R].y[3]),E.push(l[d].data[R].y[4])):(x.push(l[d].data[R].y[2]),E.push(l[d].data[R].y[3])));return{o:g,h:m,m:v,l:x,c:E}}},{key:"parseDataAxisCharts",value:function(a){var l,d=this,p=this.w.config,g=this.w.globals,m=new un(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx),v=p.labels.length>0?p.labels.slice():p.xaxis.categories.slice();if(g.isRangeBar="rangeBar"===p.chart.type&&g.isBarHorizontal,g.hasXaxisGroups="category"===p.xaxis.type&&p.xaxis.group.groups.length>0,g.hasXaxisGroups&&(g.groups=p.xaxis.group.groups),g.hasSeriesGroups=null===(l=a[0])||void 0===l?void 0:l.group,g.hasSeriesGroups){var x=[],E=Mn(new Set(a.map(function(O){return O.group})));a.forEach(function(O,N){var B=E.indexOf(O.group);x[B]||(x[B]=[]),x[B].push(O.name)}),g.seriesGroups=x}for(var D=function(){for(var O=0;O<v.length;O++)if("string"==typeof v[O]){if(!m.isValidDate(v[O]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");d.twoDSeriesX.push(m.parseDate(v[O]))}else d.twoDSeriesX.push(v[O])},A=0;A<a.length;A++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===a[A].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==p.chart.type&&"rangeArea"!==p.chart.type&&"rangeBar"!==a[A].type&&"rangeArea"!==a[A].type||(g.isRangeData=!0,g.isComboCharts?"rangeBar"!==a[A].type&&"rangeArea"!==a[A].type||this.handleRangeData(a,A):"rangeBar"!==p.chart.type&&"rangeArea"!==p.chart.type||this.handleRangeData(a,A)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(a,A):this.isFormatXY()&&this.handleFormatXY(a,A),"candlestick"!==p.chart.type&&"candlestick"!==a[A].type&&"boxPlot"!==p.chart.type&&"boxPlot"!==a[A].type||this.handleCandleStickBoxData(a,A),g.series.push(this.twoDSeries),g.labels.push(this.twoDSeriesX),g.seriesX.push(this.twoDSeriesX),g.seriesGoals=this.seriesGoals,A!==this.activeSeriesIndex||this.fallbackToCategory||(g.isXNumeric=!0);else{"datetime"===p.xaxis.type?(g.isXNumeric=!0,D(),g.seriesX.push(this.twoDSeriesX)):"numeric"===p.xaxis.type&&(g.isXNumeric=!0,v.length>0&&(this.twoDSeriesX=v,g.seriesX.push(this.twoDSeriesX))),g.labels.push(this.twoDSeriesX);var R=a[A].data.map(function(O){return he.parseNumber(O)});g.series.push(R)}g.seriesZ.push(this.threeDSeries),g.seriesNames.push(void 0!==a[A].name?a[A].name:"series-"+parseInt(A+1,10)),g.seriesColors.push(void 0!==a[A].color?a[A].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(a){var l=this.w.globals,d=this.w.config;l.series=a.slice(),l.seriesNames=d.labels.slice();for(var h=0;h<l.series.length;h++)void 0===l.seriesNames[h]&&l.seriesNames.push("series-"+(h+1));return this.w}},{key:"handleExternalLabelsData",value:function(a){var l=this.w.config,d=this.w.globals;l.xaxis.categories.length>0?d.labels=l.xaxis.categories:l.labels.length>0?d.labels=l.labels.slice():this.fallbackToCategory?(d.labels=d.labels[0],d.seriesRange.length&&(d.seriesRange.map(function(h){h.forEach(function(p){d.labels.indexOf(p.x)<0&&p.x&&d.labels.push(p.x)})}),d.labels=Array.from(new Set(d.labels.map(JSON.stringify)),JSON.parse)),l.xaxis.convertedCatToNumeric&&(new gr(l).convertCatToNumericXaxis(l,this.ctx,d.seriesX[0]),this._generateExternalLabels(a))):this._generateExternalLabels(a)}},{key:"_generateExternalLabels",value:function(a){var l=this.w.globals,d=this.w.config,h=[];if(l.axisCharts){if(l.series.length>0)if(this.isFormatXY())for(var p=d.series.map(function(D,A){return D.data.filter(function(R,O,N){return N.findIndex(function(B){return B.x===R.x})===O})}),g=p.reduce(function(D,A,R,O){return O[D].length>A.length?D:R},0),m=0;m<p[g].length;m++)h.push(m+1);else for(var v=0;v<l.series[l.maxValsInArrayIndex].length;v++)h.push(v+1);l.seriesX=[];for(var x=0;x<a.length;x++)l.seriesX.push(h);this.w.globals.isBarHorizontal||(l.isXNumeric=!0)}if(0===h.length){h=l.axisCharts?[]:l.series.map(function(D,A){return A+1});for(var E=0;E<a.length;E++)l.seriesX.push(h)}l.labels=h,d.xaxis.convertedCatToNumeric&&(l.categoryLabels=h.map(function(D){return d.xaxis.labels.formatter(D)})),l.noLabelsProvided=!0}},{key:"parseData",value:function(a){var l=this.w,d=l.config,h=l.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),h.axisCharts?(this.parseDataAxisCharts(a),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(a),d.chart.stacked){var p=new ot(this.ctx);h.series=p.setNullSeriesToZeroValues(h.series)}this.coreUtils.getSeriesTotals(),h.axisCharts&&(h.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),h.dataFormatXNumeric||h.isXNumeric&&("numeric"!==d.xaxis.type||0!==d.labels.length||0!==d.xaxis.categories.length)||this.handleExternalLabelsData(a);for(var g=this.coreUtils.getCategoryLabels(h.labels),m=0;m<g.length;m++)if(Array.isArray(g[m])){h.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var a=this,l=this.w;l.globals.ignoreYAxisIndexes=l.globals.collapsedSeries.map(function(d,h){if(a.w.globals.isMultipleYAxis&&!l.config.chart.stacked)return d.index})}}]),L}(),Ge=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"getLabel",value:function(a,l,d,h){var B,G,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",m=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],v=this.w,x=void 0===a[h]?"":a[h],E=x,D=v.globals.xLabelFormatter,A=v.config.xaxis.labels.formatter,R=!1,O=new Br(this.ctx);m&&(E=O.xLabelFormat(D,x,x,{i:h,dateFormatter:new un(this.ctx).formatDate,w:v}),void 0!==A&&(E=A(x,a[h],{i:h,dateFormatter:new un(this.ctx).formatDate,w:v}))),l.length>0?(B=l[h].unit,G=null,l.forEach(function(P){"month"===P.unit?G="year":"day"===P.unit?G="month":"hour"===P.unit?G="day":"minute"===P.unit&&(G="hour")}),R=G===B,d=l[h].position,E=l[h].value):"datetime"===v.config.xaxis.type&&void 0===A&&(E=""),void 0===E&&(E=""),E=Array.isArray(E)?E:E.toString();var b,X=new Me(this.ctx);b=v.globals.rotateXLabels&&m?X.getTextRects(E,parseInt(g,10),null,"rotate(".concat(v.config.xaxis.labels.rotate," 0 0)"),!1):X.getTextRects(E,parseInt(g,10));var I=!v.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(E)&&(0===E.indexOf("NaN")||0===E.toLowerCase().indexOf("invalid")||E.toLowerCase().indexOf("infinity")>=0||p.indexOf(E)>=0&&I)&&(E=""),{x:d,text:E,textRect:b,isBold:R}}},{key:"checkLabelBasedOnTickamount",value:function(a,l,d){var h=this.w,p=h.config.xaxis.tickAmount;return"dataPoints"===p&&(p=Math.round(h.globals.gridWidth/120)),p>d||a%Math.round(d/(p+1))==0||(l.text=""),l}},{key:"checkForOverflowingLabels",value:function(a,l,d,h,p){var g=this.w;if(0===a&&g.globals.skipFirstTimelinelabel&&(l.text=""),a===d-1&&g.globals.skipLastTimelinelabel&&(l.text=""),g.config.xaxis.labels.hideOverlappingLabels&&h.length>0){var m=p[p.length-1];l.x<m.textRect.width/(g.globals.rotateXLabels?Math.abs(g.config.xaxis.labels.rotate)/12:1.01)+m.x&&(l.text="")}return l}},{key:"checkForReversedLabels",value:function(a,l){var d=this.w;return d.config.yaxis[a]&&d.config.yaxis[a].reversed&&l.reverse(),l}},{key:"isYAxisHidden",value:function(a){var l=this.w,d=new qt(this.ctx);return!l.config.yaxis[a].show||!l.config.yaxis[a].showForNullSeries&&d.isSeriesNull(a)&&-1===l.globals.collapsedSeriesIndices.indexOf(a)}},{key:"getYAxisForeColor",value:function(a,l){var d=this.w;return Array.isArray(a)&&d.globals.yAxisScale[l]&&this.ctx.theme.pushExtraColors(a,d.globals.yAxisScale[l].result.length,!1),a}},{key:"drawYAxisTicks",value:function(a,l,d,h,p,g,m){var v=this.w,x=new Me(this.ctx),E=v.globals.translateY;if(h.show&&l>0){!0===v.config.yaxis[p].opposite&&(a+=h.width);for(var D=l;D>=0;D--){var A=E+l/10+v.config.yaxis[p].labels.offsetY-1;v.globals.isBarHorizontal&&(A=g*D),"heatmap"===v.config.chart.type&&(A+=g/2);var R=x.drawLine(a+d.offsetX-h.width+h.offsetX,A+h.offsetY,a+d.offsetX+h.offsetX,A+h.offsetY,h.color);m.add(R),E+=g}}}}]),L}(),Bt=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"scaleSvgNode",value:function(a,l){var d=parseFloat(a.getAttributeNS(null,"width")),h=parseFloat(a.getAttributeNS(null,"height"));a.setAttributeNS(null,"width",d*l),a.setAttributeNS(null,"height",h*l),a.setAttributeNS(null,"viewBox","0 0 "+d+" "+h)}},{key:"fixSvgStringForIe11",value:function(a){if(!he.isIE11())return a.replace(/&nbsp;/g,"&#160;");var l=0,d=a.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(h){return 2==++l?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':h});return(d=d.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(a){null==a&&(a=1);var l=this.w.globals.dom.Paper.svg();if(1!==a){var d=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(d,a),l=(new XMLSerializer).serializeToString(d)}return this.fixSvgStringForIe11(l)}},{key:"cleanup",value:function(){var a=this.w,l=a.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),d=a.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),h=a.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(h,function(p){p.setAttribute("width",0)}),l&&l[0]&&(l[0].setAttribute("x",-500),l[0].setAttribute("x1",-500),l[0].setAttribute("x2",-500)),d&&d[0]&&(d[0].setAttribute("y",-100),d[0].setAttribute("y1",-100),d[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var a=this.getSvgString(),l=new Blob([a],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(l)}},{key:"dataURI",value:function(a){var l=this;return new Promise(function(d){var h=l.w,p=a?a.scale||a.width/h.globals.svgWidth:1;l.cleanup();var g=document.createElement("canvas");g.width=h.globals.svgWidth*p,g.height=parseInt(h.globals.dom.elWrap.style.height,10)*p;var m="transparent"===h.config.chart.background?"#fff":h.config.chart.background,v=g.getContext("2d");v.fillStyle=m,v.fillRect(0,0,g.width*p,g.height*p);var x=l.getSvgString(p);if(window.canvg&&he.isIE11()){var E=window.canvg.Canvg.fromString(v,x,{ignoreClear:!0,ignoreDimensions:!0});E.start();var D=g.msToBlob();E.stop(),d({blob:D})}else{var A="data:image/svg+xml,"+encodeURIComponent(x),R=new Image;R.crossOrigin="anonymous",R.onload=function(){if(v.drawImage(R,0,0),g.msToBlob){var O=g.msToBlob();d({blob:O})}else{var N=g.toDataURL("image/png");d({imgURI:N})}},R.src=A}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var a=this;this.dataURI().then(function(l){var d=l.imgURI,h=l.blob;h?navigator.msSaveOrOpenBlob(h,a.w.globals.chartID+".png"):a.triggerDownload(d,a.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(a){var l=this,d=a.series,h=a.fileName,p=a.columnDelimiter,g=void 0===p?",":p,m=a.lineDelimiter,v=void 0===m?"\n":m,x=this.w;d||(d=x.config.series);var E=[],D=[],A="",R=x.globals.series.map(function(b,I){return-1===x.globals.collapsedSeriesIndices.indexOf(I)?b:[]}),O=Math.max.apply(Math,Mn(d.map(function(b){return b.data?b.data.length:0}))),N=new hn(this.ctx),B=new Ge(this.ctx),G=function(b){var I="";if(x.globals.axisCharts){if("category"===x.config.xaxis.type||x.config.xaxis.convertedCatToNumeric)if(x.globals.isBarHorizontal){var P=x.globals.yLabelFormatters[0],j=new ot(l.ctx).getActiveConfigSeriesIndex();I=P(x.globals.labels[b],{seriesIndex:j,dataPointIndex:b,w:x})}else I=B.getLabel(x.globals.labels,x.globals.timescaleLabels,0,b).text;"datetime"===x.config.xaxis.type&&(x.config.xaxis.categories.length?I=x.config.xaxis.categories[b]:x.config.labels.length&&(I=x.config.labels[b]))}else I=x.config.labels[b];return Array.isArray(I)&&(I=I.join(" ")),he.isNumber(I)?I:I.split(g).join("")};E.push(x.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===x.config.chart.type?(E.push("minimum"),E.push("q1"),E.push("median"),E.push("q3"),E.push("maximum")):"candlestick"===x.config.chart.type?(E.push("open"),E.push("high"),E.push("low"),E.push("close")):"rangeBar"===x.config.chart.type?(E.push("minimum"),E.push("maximum")):d.map(function(b,I){var P=(b.name?b.name:"series-".concat(I))+"";x.globals.axisCharts&&E.push(P.split(g).join("")?P.split(g).join(""):"series-".concat(I))}),x.globals.axisCharts||(E.push(x.config.chart.toolbar.export.csv.headerValue),D.push(E.join(g))),d.map(function(b,I){x.globals.axisCharts?function(b,I){if(E.length&&0===I&&D.push(E.join(g)),b.data){b.data=b.data.length&&b.data||Mn(Array(O)).map(function(){return""});for(var P=0;P<b.data.length;P++){E=[];var j=G(P);if(j||(N.isFormatXY()?j=d[I].data[P].x:N.isFormat2DArray()&&(j=d[I].data[P]?d[I].data[P][0]:"")),0===I){E.push("datetime"===x.config.xaxis.type&&String(j).length>=10?x.config.chart.toolbar.export.csv.dateFormatter(j):he.isNumber(j)?j:j.split(g).join(""));for(var Z=0;Z<x.globals.series.length;Z++){var Y;N.isFormatXY()?E.push(null===(Y=d[Z].data[P])||void 0===Y?void 0:Y.y):E.push(R[Z][P])}}("candlestick"===x.config.chart.type||b.type&&"candlestick"===b.type)&&(E.pop(),E.push(x.globals.seriesCandleO[I][P]),E.push(x.globals.seriesCandleH[I][P]),E.push(x.globals.seriesCandleL[I][P]),E.push(x.globals.seriesCandleC[I][P])),("boxPlot"===x.config.chart.type||b.type&&"boxPlot"===b.type)&&(E.pop(),E.push(x.globals.seriesCandleO[I][P]),E.push(x.globals.seriesCandleH[I][P]),E.push(x.globals.seriesCandleM[I][P]),E.push(x.globals.seriesCandleL[I][P]),E.push(x.globals.seriesCandleC[I][P])),"rangeBar"===x.config.chart.type&&(E.pop(),E.push(x.globals.seriesRangeStart[I][P]),E.push(x.globals.seriesRangeEnd[I][P])),E.length&&D.push(E.join(g))}}}(b,I):((E=[]).push(x.globals.labels[I].split(g).join("")),E.push(R[I]),D.push(E.join(g)))}),A+=D.join(v),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+A),h||x.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(a,l,d){var h=document.createElement("a");h.href=a,h.download=(l||this.w.globals.chartID)+d,document.body.appendChild(h),h.click(),document.body.removeChild(h)}}]),L}(),bn=function(){function L(a,l){He(this,L),this.ctx=a,this.elgrid=l,this.w=a.w;var d=this.w;this.axesUtils=new Ge(a),this.xaxisLabels=d.globals.labels.slice(),d.globals.timescaleLabels.length>0&&!d.globals.isBarHorizontal&&(this.xaxisLabels=d.globals.timescaleLabels.slice()),d.config.xaxis.overwriteCategories&&(this.xaxisLabels=d.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===d.config.xaxis.position?0:d.globals.gridHeight+1,this.offY=this.offY+d.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===d.config.chart.type&&d.config.plotOptions.bar.horizontal,this.xaxisFontSize=d.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=d.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=d.config.xaxis.labels.style.colors,this.xaxisBorderWidth=d.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=d.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?d.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=d.config.xaxis.axisBorder.height,this.yaxis=d.config.yaxis[0]}return dt(L,[{key:"drawXaxis",value:function(){var a=this.w,l=new Me(this.ctx),d=l.group({class:"apexcharts-xaxis",transform:"translate(".concat(a.config.xaxis.offsetX,", ").concat(a.config.xaxis.offsetY,")")}),h=l.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(a.globals.translateXAxisX,", ").concat(a.globals.translateXAxisY,")")});d.add(h);for(var p=[],g=0;g<this.xaxisLabels.length;g++)p.push(this.xaxisLabels[g]);if(this.drawXAxisLabelAndGroup(!0,l,h,p,a.globals.isXNumeric,function(O,N){return N}),a.globals.hasXaxisGroups){var m=a.globals.groups;p=[];for(var v=0;v<m.length;v++)p.push(m[v].title);var x={};a.config.xaxis.group.style&&(x.xaxisFontSize=a.config.xaxis.group.style.fontSize,x.xaxisFontFamily=a.config.xaxis.group.style.fontFamily,x.xaxisForeColors=a.config.xaxis.group.style.colors,x.fontWeight=a.config.xaxis.group.style.fontWeight,x.cssClass=a.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,l,h,p,!1,function(O,N){return m[O].cols*N},x)}if(void 0!==a.config.xaxis.title.text){var E=l.group({class:"apexcharts-xaxis-title"}),D=l.drawText({x:a.globals.gridWidth/2+a.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===a.config.xaxis.position?a.globals.xAxisLabelsHeight:-a.globals.xAxisLabelsHeight-10)+a.config.xaxis.title.offsetY,text:a.config.xaxis.title.text,textAnchor:"middle",fontSize:a.config.xaxis.title.style.fontSize,fontFamily:a.config.xaxis.title.style.fontFamily,fontWeight:a.config.xaxis.title.style.fontWeight,foreColor:a.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+a.config.xaxis.title.style.cssClass});E.add(D),d.add(E)}if(a.config.xaxis.axisBorder.show){var A=a.globals.barPadForNumericAxis,R=l.drawLine(a.globals.padHorizontal+a.config.xaxis.axisBorder.offsetX-A,this.offY,this.xaxisBorderWidth+A,this.offY,a.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&a.config.grid.show?this.elgrid.elGridBorders.add(R):d.add(R)}return d}},{key:"drawXAxisLabelAndGroup",value:function(a,l,d,h,p,g){var m,v=this,x=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},E=[],D=[],A=this.w,R=x.xaxisFontSize||this.xaxisFontSize,O=x.xaxisFontFamily||this.xaxisFontFamily,N=x.xaxisForeColors||this.xaxisForeColors,B=x.fontWeight||A.config.xaxis.labels.style.fontWeight,G=x.cssClass||A.config.xaxis.labels.style.cssClass,X=A.globals.padHorizontal,b=h.length,I="category"===A.config.xaxis.type?A.globals.dataPoints:b;0===I&&b>I&&(I=b),p?(m=A.globals.gridWidth/Math.min(I>1?I-1:I,b-1),X=X+g(0,m)/2+A.config.xaxis.labels.offsetX):X=X+g(0,m=A.globals.gridWidth/I)+A.config.xaxis.labels.offsetX;for(var j=function(Y){var _e=X-g(Y,m)/2+A.config.xaxis.labels.offsetX;0===Y&&1===b&&m/2===X&&1===I&&(_e=A.globals.gridWidth/2);var me=v.axesUtils.getLabel(h,A.globals.timescaleLabels,_e,Y,E,R,a),Re=28;if(A.globals.rotateXLabels&&a&&(Re=22),A.config.xaxis.title.text&&"top"===A.config.xaxis.position&&(Re+=parseFloat(A.config.xaxis.title.style.fontSize)+2),a||(Re=Re+parseFloat(R)+(A.globals.xAxisLabelsHeight-A.globals.xAxisGroupLabelsHeight)+(A.globals.rotateXLabels?10:0)),me=void 0!==A.config.xaxis.tickAmount&&"dataPoints"!==A.config.xaxis.tickAmount&&"datetime"!==A.config.xaxis.type?v.axesUtils.checkLabelBasedOnTickamount(Y,me,b):v.axesUtils.checkForOverflowingLabels(Y,me,b,E,D),A.config.xaxis.labels.show){var le=l.drawText({x:me.x,y:v.offY+A.config.xaxis.labels.offsetY+Re-("top"===A.config.xaxis.position?A.globals.xAxisHeight+A.config.xaxis.axisTicks.height-2:0),text:me.text,textAnchor:"middle",fontWeight:me.isBold?600:B,fontSize:R,fontFamily:O,foreColor:Array.isArray(N)?a&&A.config.xaxis.convertedCatToNumeric?N[A.globals.minX+Y-1]:N[Y]:N,isPlainText:!1,cssClass:(a?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+G});if(d.add(le),le.on("click",function(Ie){if("function"==typeof A.config.chart.events.xAxisLabelClick){var bt=Object.assign({},A,{labelIndex:Y});A.config.chart.events.xAxisLabelClick(Ie,v.ctx,bt)}}),a){var Ye=document.createElementNS(A.globals.SVGNS,"title");Ye.textContent=Array.isArray(me.text)?me.text.join(" "):me.text,le.node.appendChild(Ye),""!==me.text&&(E.push(me.text),D.push(me))}}Y<b-1&&(X+=g(Y+1,m))},Z=0;Z<=b-1;Z++)j(Z)}},{key:"drawXaxisInversed",value:function(a){var l,d,h=this,p=this.w,g=new Me(this.ctx),m=p.config.yaxis[0].opposite?p.globals.translateYAxisX[a]:0,v=g.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:a}),x=g.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+m+", 0)"});v.add(x);var E=[];if(p.config.yaxis[a].show)for(var D=0;D<this.xaxisLabels.length;D++)E.push(this.xaxisLabels[D]);d=-(l=p.globals.gridHeight/E.length)/2.2;var A=p.globals.yLabelFormatters[0],R=p.config.yaxis[0].labels;if(R.show)for(var O=function(P){var j=void 0===E[P]?"":E[P];j=A(j,{seriesIndex:a,dataPointIndex:P,w:p});var Z=h.axesUtils.getYAxisForeColor(R.style.colors,a),Y=0;Array.isArray(j)&&(Y=j.length/2*parseInt(R.style.fontSize,10));var _e=R.offsetX-15,me="end";h.yaxis.opposite&&(me="start"),"left"===p.config.yaxis[0].labels.align?(_e=R.offsetX,me="start"):"center"===p.config.yaxis[0].labels.align?(_e=R.offsetX,me="middle"):"right"===p.config.yaxis[0].labels.align&&(me="end");var Re=g.drawText({x:_e,y:d+l+R.offsetY-Y,text:j,textAnchor:me,foreColor:Array.isArray(Z)?Z[P]:Z,fontSize:R.style.fontSize,fontFamily:R.style.fontFamily,fontWeight:R.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+R.style.cssClass,maxWidth:R.maxWidth});x.add(Re),Re.on("click",function(Ie){if("function"==typeof p.config.chart.events.xAxisLabelClick){var bt=Object.assign({},p,{labelIndex:P});p.config.chart.events.xAxisLabelClick(Ie,h.ctx,bt)}});var le=document.createElementNS(p.globals.SVGNS,"title");if(le.textContent=Array.isArray(j)?j.join(" "):j,Re.node.appendChild(le),0!==p.config.yaxis[a].labels.rotate){var Ye=g.rotateAroundCenter(Re.node);Re.node.setAttribute("transform","rotate(".concat(p.config.yaxis[a].labels.rotate," 0 ").concat(Ye.y,")"))}d+=l},N=0;N<=E.length-1;N++)O(N);if(void 0!==p.config.yaxis[0].title.text){var B=g.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+m+", 0)"}),G=g.drawText({x:p.config.yaxis[0].title.offsetX,y:p.globals.gridHeight/2+p.config.yaxis[0].title.offsetY,text:p.config.yaxis[0].title.text,textAnchor:"middle",foreColor:p.config.yaxis[0].title.style.color,fontSize:p.config.yaxis[0].title.style.fontSize,fontWeight:p.config.yaxis[0].title.style.fontWeight,fontFamily:p.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+p.config.yaxis[0].title.style.cssClass});B.add(G),v.add(B)}var X=0;this.isCategoryBarHorizontal&&p.config.yaxis[0].opposite&&(X=p.globals.gridWidth);var b=p.config.xaxis.axisBorder;if(b.show){var I=g.drawLine(p.globals.padHorizontal+b.offsetX+X,1+b.offsetY,p.globals.padHorizontal+b.offsetX+X,p.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&p.config.grid.show?this.elgrid.elGridBorders.add(I):v.add(I)}return p.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(X,E.length,p.config.yaxis[0].axisBorder,p.config.yaxis[0].axisTicks,0,l,v),v}},{key:"drawXaxisTicks",value:function(a,l,d){var h=this.w,p=a;if(!(a<0||a-2>h.globals.gridWidth)){var g=this.offY+h.config.xaxis.axisTicks.offsetY;if(l=l+g+h.config.xaxis.axisTicks.height,"top"===h.config.xaxis.position&&(l=g-h.config.xaxis.axisTicks.height),h.config.xaxis.axisTicks.show){var m=new Me(this.ctx).drawLine(a+h.config.xaxis.axisTicks.offsetX,g+h.config.xaxis.offsetY,p+h.config.xaxis.axisTicks.offsetX,l+h.config.xaxis.offsetY,h.config.xaxis.axisTicks.color);d.add(m),m.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var a=this.w,l=[],d=this.xaxisLabels.length,h=a.globals.padHorizontal;if(a.globals.timescaleLabels.length>0)for(var p=0;p<d;p++)l.push(h=this.xaxisLabels[p].position);else for(var g=d,m=0;m<g;m++){var v=g;a.globals.isXNumeric&&"bar"!==a.config.chart.type&&(v-=1),l.push(h+=a.globals.gridWidth/v)}return l}},{key:"xAxisLabelCorrections",value:function(){var a=this.w,l=new Me(this.ctx),d=a.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),h=a.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),p=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),g=a.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(a.globals.rotateXLabels||a.config.xaxis.labels.rotateAlways)for(var m=0;m<h.length;m++){var v=l.rotateAroundCenter(h[m]);v.y=v.y-1,v.x=v.x+1,h[m].setAttribute("transform","rotate(".concat(a.config.xaxis.labels.rotate," ").concat(v.x," ").concat(v.y,")")),h[m].setAttribute("text-anchor","end"),d.setAttribute("transform","translate(0, ".concat(-10,")")),a.config.xaxis.labels.trim&&Array.prototype.forEach.call(h[m].childNodes,function(R){l.placeTextWithEllipsis(R,R.textContent,a.globals.xAxisLabelsHeight-("bottom"===a.config.legend.position?20:10))})}else!function(){for(var R=a.globals.gridWidth/(a.globals.labels.length+1),O=0;O<h.length;O++)a.config.xaxis.labels.trim&&"datetime"!==a.config.xaxis.type&&Array.prototype.forEach.call(h[O].childNodes,function(B){l.placeTextWithEllipsis(B,B.textContent,R)})}();if(p.length>0){var E=p[p.length-1].getBBox(),D=p[0].getBBox();E.x<-20&&p[p.length-1].parentNode.removeChild(p[p.length-1]),D.x+D.width>a.globals.gridWidth&&!a.globals.isBarHorizontal&&p[0].parentNode.removeChild(p[0]);for(var A=0;A<g.length;A++)l.placeTextWithEllipsis(g[A],g[A].textContent,a.config.yaxis[0].labels.maxWidth-(a.config.yaxis[0].title.text?2*parseFloat(a.config.yaxis[0].title.style.fontSize):0)-15)}}}]),L}(),bi=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w;var l=this.w;this.xaxisLabels=l.globals.labels.slice(),this.axesUtils=new Ge(a),this.isRangeBar=l.globals.seriesRange.length&&l.globals.isBarHorizontal,l.globals.timescaleLabels.length>0&&(this.xaxisLabels=l.globals.timescaleLabels.slice())}return dt(L,[{key:"drawGridArea",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w,d=new Me(this.ctx);null===a&&(a=d.group({class:"apexcharts-grid"}));var h=d.drawLine(l.globals.padHorizontal,1,l.globals.padHorizontal,l.globals.gridHeight,"transparent"),p=d.drawLine(l.globals.padHorizontal,l.globals.gridHeight,l.globals.gridWidth,l.globals.gridHeight,"transparent");return a.add(p),a.add(h),a}},{key:"drawGrid",value:function(){var a=null;return this.w.globals.axisCharts&&(a=this.renderGrid(),this.drawGridArea(a.el)),a}},{key:"createGridMask",value:function(){var a=this.w,l=a.globals,d=new Me(this.ctx),h=Array.isArray(a.config.stroke.width)?0:a.config.stroke.width;if(Array.isArray(a.config.stroke.width)){var p=0;a.config.stroke.width.forEach(function(D){p=Math.max(p,D)}),h=p}l.dom.elGridRectMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(l.cuid)),l.dom.elGridRectMarkerMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(l.cuid)),l.dom.elForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elForecastMask.setAttribute("id","forecastMask".concat(l.cuid)),l.dom.elNonForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(l.cuid));var g=a.config.chart.type,m=0,v=0;("bar"===g||"rangeBar"===g||"candlestick"===g||"boxPlot"===g||a.globals.comboBarCount>0)&&a.globals.isXNumeric&&!a.globals.isBarHorizontal&&(v=a.config.grid.padding.right,l.barPadForNumericAxis>(m=a.config.grid.padding.left)&&(m=l.barPadForNumericAxis,v=l.barPadForNumericAxis)),l.dom.elGridRect=d.drawRect(-h-m-2,2*-h-2,l.gridWidth+h+v+m+4,l.gridHeight+4*h+4,0,"#fff");var x=a.globals.markers.largestSize+1;l.dom.elGridRectMarker=d.drawRect(2*-x,2*-x,l.gridWidth+4*x,l.gridHeight+4*x,0,"#fff"),l.dom.elGridRectMask.appendChild(l.dom.elGridRect.node),l.dom.elGridRectMarkerMask.appendChild(l.dom.elGridRectMarker.node);var E=l.dom.baseEl.querySelector("defs");E.appendChild(l.dom.elGridRectMask),E.appendChild(l.dom.elForecastMask),E.appendChild(l.dom.elNonForecastMask),E.appendChild(l.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(a){var l=a.i,d=a.x1,m=a.xCount,x=this.w;if(!(0===l&&x.globals.skipFirstTimelinelabel||l===m-1&&x.globals.skipLastTimelinelabel&&!x.config.xaxis.labels.formatter||"radar"===x.config.chart.type)){x.config.grid.xaxis.lines.show&&this._drawGridLine({i:l,x1:d,y1:a.y1,x2:a.x2,y2:a.y2,xCount:m,parent:a.parent});var E=0;if(x.globals.hasXaxisGroups&&"between"===x.config.xaxis.tickPlacement){var D=x.globals.groups;if(D){for(var A=0,R=0;A<l&&R<D.length;R++)A+=D[R].cols;A===l&&(E=.6*x.globals.xAxisLabelsHeight)}}new bn(this.ctx).drawXaxisTicks(d,E,x.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(a){var l=a.i,d=a.x1,h=a.y1,p=a.x2,g=a.y2,m=a.xCount,v=a.parent,x=this.w,E=!1,D=v.node.classList.contains("apexcharts-gridlines-horizontal"),A=x.config.grid.strokeDashArray,R=x.globals.barPadForNumericAxis;(0===h&&0===g||0===d&&0===p)&&(E=!0),h===x.globals.gridHeight&&g===x.globals.gridHeight&&(E=!0),!x.globals.isBarHorizontal||0!==l&&l!==m-1||(E=!0);var O=new Me(this).drawLine(d-(D?R:0),h,p+(D?R:0),g,x.config.grid.borderColor,A);O.node.classList.add("apexcharts-gridline"),E&&x.config.grid.show?this.elGridBorders.add(O):v.add(O)}},{key:"_drawGridBandRect",value:function(a){var l=a.c,d=a.x1,h=a.y1,p=a.x2,g=a.y2,m=a.type,v=this.w,x=new Me(this.ctx),E=v.globals.barPadForNumericAxis;if("column"!==m||"datetime"!==v.config.xaxis.type){var A=x.drawRect(d-("row"===m?E:0),h,p+("row"===m?2*E:0),g,0,v.config.grid[m].colors[l],v.config.grid[m].opacity);this.elg.add(A),A.attr("clip-path","url(#gridRectMask".concat(v.globals.cuid,")")),A.node.classList.add("apexcharts-grid-".concat(m))}}},{key:"_drawXYLines",value:function(a){var l=this,d=a.xCount,h=a.tickAmount,p=this.w;if(p.config.grid.xaxis.lines.show||p.config.xaxis.axisTicks.show){var g,m=p.globals.padHorizontal,v=p.globals.gridHeight;p.globals.timescaleLabels.length?function(O){for(var N=O.xC,G=O.y1,b=O.y2,I=0;I<N;I++)l._drawGridLines({i:I,x1:l.xaxisLabels[I].position,y1:G,x2:l.xaxisLabels[I].position,y2:b,xCount:d,parent:l.elgridLinesV})}({xC:d,x1:m,y1:0,x2:g,y2:v}):(p.globals.isXNumeric&&(d=p.globals.xAxisScale.result.length),function(O){for(var N=O.xC,B=O.x1,G=O.y1,X=O.x2,b=O.y2,I=0;I<N+(p.globals.isXNumeric?0:1);I++)0===I&&1===N&&1===p.globals.dataPoints&&(X=B=p.globals.gridWidth/2),l._drawGridLines({i:I,x1:B,y1:G,x2:X,y2:b,xCount:d,parent:l.elgridLinesV}),X=B+=p.globals.gridWidth/(p.globals.isXNumeric?N-1:N)}({xC:d,x1:m,y1:0,x2:g,y2:v}))}if(p.config.grid.yaxis.lines.show){var x=0,E=0,D=p.globals.gridWidth,A=h+1;this.isRangeBar&&(A=p.globals.labels.length);for(var R=0;R<A+(this.isRangeBar?1:0);R++)this._drawGridLine({i:R,xCount:A+(this.isRangeBar?1:0),x1:0,y1:x,x2:D,y2:E,parent:this.elgridLinesH}),E=x+=p.globals.gridHeight/(this.isRangeBar?A:h)}}},{key:"_drawInvertedXYLines",value:function(a){var l=a.xCount,d=this.w;if(d.config.grid.xaxis.lines.show||d.config.xaxis.axisTicks.show)for(var h,p=d.globals.padHorizontal,g=d.globals.gridHeight,m=0;m<l+1;m++)d.config.grid.xaxis.lines.show&&this._drawGridLine({i:m,xCount:l+1,x1:p,y1:0,x2:h,y2:g,parent:this.elgridLinesV}),new bn(this.ctx).drawXaxisTicks(p,0,d.globals.dom.elGraphical),h=p=p+d.globals.gridWidth/l+.3;if(d.config.grid.yaxis.lines.show)for(var v=0,x=0,E=d.globals.gridWidth,D=0;D<d.globals.dataPoints+1;D++)this._drawGridLine({i:D,xCount:d.globals.dataPoints+1,x1:0,y1:v,x2:E,y2:x,parent:this.elgridLinesH}),x=v+=d.globals.gridHeight/d.globals.dataPoints}},{key:"renderGrid",value:function(){var a=this.w,l=new Me(this.ctx);this.elg=l.group({class:"apexcharts-grid"}),this.elgridLinesH=l.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=l.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=l.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),a.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var d,h=a.globals.yAxisScale.length?a.globals.yAxisScale[0].result.length-1:5,p=0;p<a.globals.series.length&&(void 0!==a.globals.yAxisScale[p]&&(h=a.globals.yAxisScale[p].result.length-1),!(h>2));p++);return!a.globals.isBarHorizontal||this.isRangeBar?(d=this.xaxisLabels.length,this.isRangeBar&&(d--,h=a.globals.labels.length,a.config.xaxis.tickAmount&&a.config.xaxis.labels.formatter&&(d=a.config.xaxis.tickAmount)),this._drawXYLines({xCount:d,tickAmount:h})):this._drawInvertedXYLines({xCount:d=h,tickAmount:h=a.globals.xTickAmount}),this.drawGridBands(d,h),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:a.globals.gridWidth/d}}},{key:"drawGridBands",value:function(a,l){var d=this.w;if(void 0!==d.config.grid.row.colors&&d.config.grid.row.colors.length>0)for(var h=0,p=d.globals.gridHeight/l,g=d.globals.gridWidth,m=0,v=0;m<l;m++,v++)v>=d.config.grid.row.colors.length&&(v=0),this._drawGridBandRect({c:v,x1:0,y1:h,x2:g,y2:p,type:"row"}),h+=d.globals.gridHeight/l;if(void 0!==d.config.grid.column.colors&&d.config.grid.column.colors.length>0)for(var x=d.globals.isBarHorizontal||"on"!==d.config.xaxis.tickPlacement||"category"!==d.config.xaxis.type&&!d.config.xaxis.convertedCatToNumeric?a:a-1,E=d.globals.padHorizontal,D=d.globals.padHorizontal+d.globals.gridWidth/x,A=d.globals.gridHeight,R=0,O=0;R<a;R++,O++)O>=d.config.grid.column.colors.length&&(O=0),this._drawGridBandRect({c:O,x1:E,y1:0,x2:D,y2:A,type:"column"}),E+=d.globals.gridWidth/x}}]),L}(),Bn=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"niceScale",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,p=arguments.length>4?arguments[4]:void 0,g=this.w,m=Math.abs(l-a);if("dataPoints"===(d=this._adjustTicksForSmallRange(d,h,m))&&(d=g.globals.dataPoints-1),a===Number.MIN_VALUE&&0===l||!he.isNumber(a)&&!he.isNumber(l)||a===Number.MIN_VALUE&&l===-Number.MAX_VALUE)return this.linearScale(a=0,l=d,d);a>l?(console.warn("axis.min cannot be greater than axis.max"),l=a+.1):a===l&&(a=0===a?0:a-.5,l=0===l?2:l+.5);var v=[];m<1&&p&&("candlestick"===g.config.chart.type||"candlestick"===g.config.series[h].type||"boxPlot"===g.config.chart.type||"boxPlot"===g.config.series[h].type||g.globals.isRangeData)&&(l*=1.01);var x=d+1;x<2?x=2:x>2&&(x-=2);var E=m/x,D=Math.floor(he.log10(E)),A=Math.pow(10,D),R=Math.round(E/A);R<1&&(R=1);var O=R*A,N=O*Math.floor(a/O),B=O*Math.ceil(l/O),G=N;if(p&&m>2){for(;v.push(he.stripNumber(G,7)),!((G+=O)>B););return{result:v,niceMin:v[0],niceMax:v[v.length-1]}}var X=a;(v=[]).push(he.stripNumber(X,7));for(var b=Math.abs(l-a)/d,I=0;I<=d;I++)v.push(X+=b);return v[v.length-2]>=l&&v.pop(),{result:v,niceMin:v[0],niceMax:v[v.length-1]}}},{key:"linearScale",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,h=arguments.length>3?arguments[3]:void 0,p=Math.abs(l-a);"dataPoints"===(d=this._adjustTicksForSmallRange(d,h,p))&&(d=this.w.globals.dataPoints-1);var g=p/d;d===Number.MAX_VALUE&&(d=10,g=1);for(var m=[],v=a;d>=0;)m.push(v),v+=g,d-=1;return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"logarithmicScaleNice",value:function(a,l,d){l<=0&&(l=Math.max(a,d)),a<=0&&(a=Math.min(l,d));for(var h=[],p=Math.ceil(Math.log(l)/Math.log(d)+1),g=Math.floor(Math.log(a)/Math.log(d));g<p;g++)h.push(Math.pow(d,g));return{result:h,niceMin:h[0],niceMax:h[h.length-1]}}},{key:"logarithmicScale",value:function(a,l,d){l<=0&&(l=Math.max(a,d)),a<=0&&(a=Math.min(l,d));for(var h=[],p=Math.log(l)/Math.log(d),g=Math.log(a)/Math.log(d),m=p-g,v=Math.round(m),x=m/v,E=0,D=g;E<v;E++,D+=x)h.push(Math.pow(d,D));return h.push(Math.pow(d,p)),{result:h,niceMin:a,niceMax:l}}},{key:"_adjustTicksForSmallRange",value:function(a,l,d){var h=a;if(void 0!==l&&this.w.config.yaxis[l].labels.formatter&&void 0===this.w.config.yaxis[l].tickAmount){var p=Number(this.w.config.yaxis[l].labels.formatter(1));he.isNumber(p)&&0===this.w.globals.yValueDecimal&&(h=Math.ceil(d))}return h<a?h:a}},{key:"setYScaleForIndex",value:function(a,l,d){var h=this.w.globals,p=this.w.config,g=h.isBarHorizontal?p.xaxis:p.yaxis[a];void 0===h.yAxisScale[a]&&(h.yAxisScale[a]=[]);var m=Math.abs(d-l);g.logarithmic&&m<=5&&(h.invalidLogScale=!0),g.logarithmic&&m>5?(h.allSeriesCollapsed=!1,h.yAxisScale[a]=this.logarithmicScale(l,d,g.logBase),h.yAxisScale[a]=g.forceNiceScale?this.logarithmicScaleNice(l,d,g.logBase):this.logarithmicScale(l,d,g.logBase)):d!==-Number.MAX_VALUE&&he.isNumber(d)?(h.allSeriesCollapsed=!1,h.yAxisScale[a]=void 0===g.min&&void 0===g.max||g.forceNiceScale?this.niceScale(l,d,g.tickAmount?g.tickAmount:m<5&&m>1?m+1:5,a,void 0===p.yaxis[a].max&&void 0===p.yaxis[a].min||p.yaxis[a].forceNiceScale):this.linearScale(l,d,g.tickAmount,a)):h.yAxisScale[a]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(a,l){var d=this.w,h=d.globals,p=d.config.xaxis,g=Math.abs(l-a);return h.xAxisScale=l!==-Number.MAX_VALUE&&he.isNumber(l)?this.linearScale(a,l,p.tickAmount?p.tickAmount:g<5&&g>1?g+1:5,0):this.linearScale(0,5,5),h.xAxisScale}},{key:"setMultipleYScales",value:function(){var a=this,l=this.w.globals,d=this.w.config,h=l.minYArr.concat([]),p=l.maxYArr.concat([]),g=[];d.yaxis.forEach(function(m,v){var x=v;d.series.forEach(function(A,R){A.name===m.seriesName&&(x=R,g.push(v!==R?{index:R,similarIndex:v,alreadyExists:!0}:{index:R}))}),a.setYScaleForIndex(v,h[x],p[x])}),this.sameScaleInMultipleAxes(h,p,g)}},{key:"sameScaleInMultipleAxes",value:function(a,l,d){var h=this,p=this.w.config,g=this.w.globals,m=[];d.forEach(function(N){N.alreadyExists&&(void 0===m[N.index]&&(m[N.index]=[]),m[N.index].push(N.index),m[N.index].push(N.similarIndex))}),g.yAxisSameScaleIndices=m,m.forEach(function(N,B){m.forEach(function(G,X){var b,I;B!==X&&(b=N,I=G,b.filter(function(P){return-1!==I.indexOf(P)})).length>0&&(m[B]=m[B].concat(m[X]))})});var v=m.map(function(N){return N.filter(function(B,G){return N.indexOf(B)===G})}).map(function(N){return N.sort()});m=m.filter(function(N){return!!N});var x=v.slice(),E=x.map(function(N){return JSON.stringify(N)});x=x.filter(function(N,B){return E.indexOf(JSON.stringify(N))===B});var D=[],A=[];a.forEach(function(N,B){x.forEach(function(G,X){G.indexOf(B)>-1&&(void 0===D[X]&&(D[X]=[],A[X]=[]),D[X].push({key:B,value:N}),A[X].push({key:B,value:l[B]}))})});var R=Array.apply(null,Array(x.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),O=Array.apply(null,Array(x.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);D.forEach(function(N,B){N.forEach(function(G,X){R[B]=Math.min(G.value,R[B])})}),A.forEach(function(N,B){N.forEach(function(G,X){O[B]=Math.max(G.value,O[B])})}),a.forEach(function(N,B){A.forEach(function(G,X){var b=R[X],I=O[X];p.chart.stacked&&(I=0,G.forEach(function(P,j){P.value!==-Number.MAX_VALUE&&(I+=P.value),b!==Number.MIN_VALUE&&(b+=D[X][j].value)})),G.forEach(function(P,j){G[j].key===B&&(void 0!==p.yaxis[B].min&&(b="function"==typeof p.yaxis[B].min?p.yaxis[B].min(g.minY):p.yaxis[B].min),void 0!==p.yaxis[B].max&&(I="function"==typeof p.yaxis[B].max?p.yaxis[B].max(g.maxY):p.yaxis[B].max),h.setYScaleForIndex(B,b,I))})})})}},{key:"autoScaleY",value:function(a,l,d){a||(a=this);var h=a.w;if(h.globals.isMultipleYAxis||h.globals.collapsedSeries.length)return console.warn("autoScaleYaxis not supported in a multi-yaxis chart."),l;var p=h.globals.seriesX[0],g=h.config.chart.stacked;return l.forEach(function(m,v){for(var x=0,E=0;E<p.length;E++)if(p[E]>=d.xaxis.min){x=E;break}var D,A,R=h.globals.minYArr[v],O=h.globals.maxYArr[v],N=h.globals.stackedSeriesTotals;h.globals.series.forEach(function(B,G){var X=B[x];g?(D=A=X=N[x],N.forEach(function(b,I){p[I]<=d.xaxis.max&&p[I]>=d.xaxis.min&&(b>A&&null!==b&&(A=b),B[I]<D&&null!==B[I]&&(D=B[I]))})):(D=A=X,B.forEach(function(b,I){if(p[I]<=d.xaxis.max&&p[I]>=d.xaxis.min){var P=b,j=b;h.globals.series.forEach(function(Z,Y){null!==b&&(P=Math.min(Z[I],P),j=Math.max(Z[I],j))}),j>A&&null!==j&&(A=j),P<D&&null!==P&&(D=P)}})),void 0===D&&void 0===A&&(D=R,A=O),A*=A<0?.9:1.1,0==(D*=D<0?1.1:.9)&&0===A&&(D=-1,A=1),A<0&&A<O&&(A=O),D<0&&D>R&&(D=R),l.length>1?(l[G].min=void 0===m.min?D:m.min,l[G].max=void 0===m.max?A:m.max):(l[0].min=void 0===m.min?D:m.min,l[0].max=void 0===m.max?A:m.max)})}),l}}]),L}(),pi=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.scales=new Bn(a)}return dt(L,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=this.w.config,g=this.w.globals,m=-Number.MAX_VALUE,v=Number.MIN_VALUE;null===h&&(h=a+1);var x=g.series,E=x,D=x;"candlestick"===p.chart.type?(E=g.seriesCandleL,D=g.seriesCandleH):"boxPlot"===p.chart.type?(E=g.seriesCandleO,D=g.seriesCandleC):g.isRangeData&&(E=g.seriesRangeStart,D=g.seriesRangeEnd);for(var A=a;A<h;A++){g.dataPoints=Math.max(g.dataPoints,x[A].length),g.categoryLabels.length&&(g.dataPoints=g.categoryLabels.filter(function(N){return void 0!==N}).length),g.labels.length&&"datetime"!==p.xaxis.type&&0!==g.series.reduce(function(N,B){return N+B.length},0)&&(g.dataPoints=Math.max(g.dataPoints,g.labels.length));for(var R=0;R<g.series[A].length;R++){var O=x[A][R];null!==O&&he.isNumber(O)?(void 0!==D[A][R]&&(m=Math.max(m,D[A][R]),l=Math.min(l,D[A][R])),void 0!==E[A][R]&&(l=Math.min(l,E[A][R]),d=Math.max(d,E[A][R])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==g.seriesCandleC[A][R]&&(m=Math.max(m,g.seriesCandleO[A][R]),m=Math.max(m,g.seriesCandleH[A][R]),m=Math.max(m,g.seriesCandleL[A][R]),m=Math.max(m,g.seriesCandleC[A][R]),"boxPlot"===this.w.config.chart.type&&(m=Math.max(m,g.seriesCandleM[A][R]))),!p.series[A].type||"candlestick"===p.series[A].type&&"boxPlot"===p.series[A].type&&"rangeArea"===p.series[A].type&&"rangeBar"===p.series[A].type||(m=Math.max(m,g.series[A][R]),l=Math.min(l,g.series[A][R])),d=m),g.seriesGoals[A]&&g.seriesGoals[A][R]&&Array.isArray(g.seriesGoals[A][R])&&g.seriesGoals[A][R].forEach(function(N){v!==Number.MIN_VALUE&&(v=Math.min(v,N.value),l=v),m=Math.max(m,N.value),d=m}),he.isFloat(O)&&(O=he.noExponents(O),g.yValueDecimal=Math.max(g.yValueDecimal,O.toString().split(".")[1].length)),v>E[A][R]&&E[A][R]<0&&(v=E[A][R])):g.hasNullValues=!0}}return"rangeBar"===p.chart.type&&g.seriesRangeStart.length&&g.isBarHorizontal&&(v=l),"bar"===p.chart.type&&(v<0&&m<0&&(m=0),v===Number.MIN_VALUE&&(v=0)),{minY:v,maxY:m,lowestY:l,highestY:d}}},{key:"setYRange",value:function(){var a=this.w.globals,l=this.w.config;a.maxY=-Number.MAX_VALUE,a.minY=Number.MIN_VALUE;var d=Number.MAX_VALUE;if(a.isMultipleYAxis)for(var h=0;h<a.series.length;h++){var p=this.getMinYMaxY(h,d,null,h+1);a.minYArr.push(p.minY),a.maxYArr.push(p.maxY),d=p.lowestY}var g=this.getMinYMaxY(0,d,null,a.series.length);if(a.minY=g.minY,a.maxY=g.maxY,d=g.lowestY,l.chart.stacked&&this._setStackedMinMax(),("line"===l.chart.type||"area"===l.chart.type||"candlestick"===l.chart.type||"boxPlot"===l.chart.type||"rangeBar"===l.chart.type&&!a.isBarHorizontal)&&a.minY===Number.MIN_VALUE&&d!==-Number.MAX_VALUE&&d!==a.maxY){var m=a.maxY-d;(d>=0&&d<=10||void 0!==l.yaxis[0].min||void 0!==l.yaxis[0].max)&&(m=0),a.minY=d-5*m/100,d>0&&a.minY<0&&(a.minY=0),a.maxY=a.maxY+5*m/100}return l.yaxis.forEach(function(v,x){void 0!==v.max&&("number"==typeof v.max?a.maxYArr[x]=v.max:"function"==typeof v.max&&(a.maxYArr[x]=v.max(a.isMultipleYAxis?a.maxYArr[x]:a.maxY)),a.maxY=a.maxYArr[x]),void 0!==v.min&&("number"==typeof v.min?a.minYArr[x]=v.min:"function"==typeof v.min&&(a.minYArr[x]=v.min(a.isMultipleYAxis?a.minYArr[x]===Number.MIN_VALUE?0:a.minYArr[x]:a.minY)),a.minY=a.minYArr[x])}),a.isBarHorizontal&&["min","max"].forEach(function(v){void 0!==l.xaxis[v]&&"number"==typeof l.xaxis[v]&&("min"===v?a.minY=l.xaxis[v]:a.maxY=l.xaxis[v])}),a.isMultipleYAxis?(this.scales.setMultipleYScales(),a.minY=d,a.yAxisScale.forEach(function(v,x){a.minYArr[x]=v.niceMin,a.maxYArr[x]=v.niceMax})):(this.scales.setYScaleForIndex(0,a.minY,a.maxY),a.minY=a.yAxisScale[0].niceMin,a.maxY=a.yAxisScale[0].niceMax,a.minYArr[0]=a.yAxisScale[0].niceMin,a.maxYArr[0]=a.yAxisScale[0].niceMax),{minY:a.minY,maxY:a.maxY,minYArr:a.minYArr,maxYArr:a.maxYArr,yAxisScale:a.yAxisScale}}},{key:"setXRange",value:function(){var a=this.w.globals,l=this.w.config,d="numeric"===l.xaxis.type||"datetime"===l.xaxis.type||"category"===l.xaxis.type&&!a.noLabelsProvided||a.noLabelsProvided||a.isXNumeric;if(a.isXNumeric&&function(){for(var m=0;m<a.series.length;m++)if(a.labels[m])for(var v=0;v<a.labels[m].length;v++)null!==a.labels[m][v]&&he.isNumber(a.labels[m][v])&&(a.maxX=Math.max(a.maxX,a.labels[m][v]),a.initialMaxX=Math.max(a.maxX,a.labels[m][v]),a.minX=Math.min(a.minX,a.labels[m][v]),a.initialMinX=Math.min(a.minX,a.labels[m][v]))}(),a.noLabelsProvided&&0===l.xaxis.categories.length&&(a.maxX=a.labels[a.labels.length-1],a.initialMaxX=a.labels[a.labels.length-1],a.minX=1,a.initialMinX=1),a.isXNumeric||a.noLabelsProvided||a.dataFormatXNumeric){var h;if(void 0===l.xaxis.tickAmount?(h=Math.round(a.svgWidth/150),"numeric"===l.xaxis.type&&a.dataPoints<30&&(h=a.dataPoints-1),h>a.dataPoints&&0!==a.dataPoints&&(h=a.dataPoints-1)):"dataPoints"===l.xaxis.tickAmount?(a.series.length>1&&(h=a.series[a.maxValsInArrayIndex].length-1),a.isXNumeric&&(h=a.maxX-a.minX-1)):h=l.xaxis.tickAmount,a.xTickAmount=h,void 0!==l.xaxis.max&&"number"==typeof l.xaxis.max&&(a.maxX=l.xaxis.max),void 0!==l.xaxis.min&&"number"==typeof l.xaxis.min&&(a.minX=l.xaxis.min),void 0!==l.xaxis.range&&(a.minX=a.maxX-l.xaxis.range),a.minX!==Number.MAX_VALUE&&a.maxX!==-Number.MAX_VALUE)if(l.xaxis.convertedCatToNumeric&&!a.dataFormatXNumeric){for(var p=[],g=a.minX-1;g<a.maxX;g++)p.push(g+1);a.xAxisScale={result:p,niceMin:p[0],niceMax:p[p.length-1]}}else a.xAxisScale=this.scales.setXScale(a.minX,a.maxX);else a.xAxisScale=this.scales.linearScale(0,h,h),a.noLabelsProvided&&a.labels.length>0&&(a.xAxisScale=this.scales.linearScale(1,a.labels.length,h-1),a.seriesX=a.labels.slice());d&&(a.labels=a.xAxisScale.result.slice())}return a.isBarHorizontal&&a.labels.length&&(a.xTickAmount=a.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:a.minX,maxX:a.maxX}}},{key:"setZRange",value:function(){var a=this.w.globals;if(a.isDataXYZ)for(var l=0;l<a.series.length;l++)if(void 0!==a.seriesZ[l])for(var d=0;d<a.seriesZ[l].length;d++)null!==a.seriesZ[l][d]&&he.isNumber(a.seriesZ[l][d])&&(a.maxZ=Math.max(a.maxZ,a.seriesZ[l][d]),a.minZ=Math.min(a.minZ,a.seriesZ[l][d]))}},{key:"_handleSingleDataPoint",value:function(){var a=this.w.globals,l=this.w.config;if(a.minX===a.maxX){var d=new un(this.ctx);if("datetime"===l.xaxis.type){var h=d.getDate(a.minX);l.xaxis.labels.datetimeUTC?h.setUTCDate(h.getUTCDate()-2):h.setDate(h.getDate()-2),a.minX=new Date(h).getTime();var p=d.getDate(a.maxX);l.xaxis.labels.datetimeUTC?p.setUTCDate(p.getUTCDate()+2):p.setDate(p.getDate()+2),a.maxX=new Date(p).getTime()}else("numeric"===l.xaxis.type||"category"===l.xaxis.type&&!a.noLabelsProvided)&&(a.minX=a.minX-2,a.initialMinX=a.minX,a.maxX=a.maxX+2,a.initialMaxX=a.maxX)}}},{key:"_getMinXDiff",value:function(){var a=this.w.globals;a.isXNumeric&&a.seriesX.forEach(function(l,d){1===l.length&&l.push(a.seriesX[a.maxValsInArrayIndex][a.seriesX[a.maxValsInArrayIndex].length-1]);var h=l.slice();h.sort(function(p,g){return p-g}),h.forEach(function(p,g){if(g>0){var m=p-h[g-1];m>0&&(a.minXDiff=Math.min(m,a.minXDiff))}}),1!==a.dataPoints&&a.minXDiff!==Number.MAX_VALUE||(a.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var a=this,l=this.w.globals;if(l.series.length){var d=l.seriesGroups;d.length||(d=[this.w.config.series.map(function(g){return g.name})]);var h={},p={};d.forEach(function(g){h[g]=[],p[g]=[],a.w.config.series.map(function(m,v){return g.indexOf(m.name)>-1?v:null}).filter(function(m){return null!==m}).forEach(function(m){for(var v=0;v<l.series[l.maxValsInArrayIndex].length;v++)void 0===h[g][v]&&(h[g][v]=0,p[g][v]=0),null!==l.series[m][v]&&he.isNumber(l.series[m][v])&&(l.series[m][v]>0?h[g][v]+=parseFloat(l.series[m][v])+1e-4:p[g][v]+=parseFloat(l.series[m][v]))})}),Object.entries(h).forEach(function(g){var m=Vn(g,1)[0];h[m].forEach(function(v,x){l.maxY=Math.max(l.maxY,h[m][x]),l.minY=Math.min(l.minY,p[m][x])})})}}}]),L}(),Mi=function(){function L(a,l){He(this,L),this.ctx=a,this.elgrid=l,this.w=a.w;var d=this.w;this.xaxisFontSize=d.config.xaxis.labels.style.fontSize,this.axisFontFamily=d.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=d.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===d.config.chart.type&&d.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===d.config.xaxis.position&&(this.xAxisoffX=d.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Ge(a)}return dt(L,[{key:"drawYaxis",value:function(a){var l=this,d=this.w,h=new Me(this.ctx),p=d.config.yaxis[a].labels.style,g=p.fontSize,m=p.fontFamily,v=p.fontWeight,x=h.group({class:"apexcharts-yaxis",rel:a,transform:"translate("+d.globals.translateYAxisX[a]+", 0)"});if(this.axesUtils.isYAxisHidden(a))return x;var E=h.group({class:"apexcharts-yaxis-texts-g"});x.add(E);var D=d.globals.yAxisScale[a].result.length-1,A=d.globals.gridHeight/D,R=d.globals.translateY,O=d.globals.yLabelFormatters[a],N=d.globals.yAxisScale[a].result.slice();N=this.axesUtils.checkForReversedLabels(a,N);var B="";if(d.config.yaxis[a].labels.show)for(var G=function(_e){var me=N[_e];me=O(me,_e,d);var Re=d.config.yaxis[a].labels.padding;d.config.yaxis[a].opposite&&0!==d.config.yaxis.length&&(Re*=-1);var le="end";d.config.yaxis[a].opposite&&(le="start"),"left"===d.config.yaxis[a].labels.align?le="start":"center"===d.config.yaxis[a].labels.align?le="middle":"right"===d.config.yaxis[a].labels.align&&(le="end");var Ye=l.axesUtils.getYAxisForeColor(p.colors,a),Ie=d.config.yaxis[a].labels.offsetY;"heatmap"===d.config.chart.type&&(Ie-=(d.globals.gridHeight/d.globals.series.length-1)/2);var bt=h.drawText({x:Re,y:R+D/10+Ie+1,text:me,textAnchor:le,fontSize:g,fontFamily:m,fontWeight:v,maxWidth:d.config.yaxis[a].labels.maxWidth,foreColor:Array.isArray(Ye)?Ye[_e]:Ye,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+p.cssClass});_e===D&&(B=bt),E.add(bt);var tn=document.createElementNS(d.globals.SVGNS,"title");if(tn.textContent=Array.isArray(me)?me.join(" "):me,bt.node.appendChild(tn),0!==d.config.yaxis[a].labels.rotate){var Sn=h.rotateAroundCenter(B.node),qn=h.rotateAroundCenter(bt.node);bt.node.setAttribute("transform","rotate(".concat(d.config.yaxis[a].labels.rotate," ").concat(Sn.x," ").concat(qn.y,")"))}R+=A},X=D;X>=0;X--)G(X);if(void 0!==d.config.yaxis[a].title.text){var b=h.group({class:"apexcharts-yaxis-title"}),I=0;d.config.yaxis[a].opposite&&(I=d.globals.translateYAxisX[a]);var P=h.drawText({x:I,y:d.globals.gridHeight/2+d.globals.translateY+d.config.yaxis[a].title.offsetY,text:d.config.yaxis[a].title.text,textAnchor:"end",foreColor:d.config.yaxis[a].title.style.color,fontSize:d.config.yaxis[a].title.style.fontSize,fontWeight:d.config.yaxis[a].title.style.fontWeight,fontFamily:d.config.yaxis[a].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+d.config.yaxis[a].title.style.cssClass});b.add(P),x.add(b)}var j=d.config.yaxis[a].axisBorder,Z=31+j.offsetX;if(d.config.yaxis[a].opposite&&(Z=-31-j.offsetX),j.show){var Y=h.drawLine(Z,d.globals.translateY+j.offsetY-2,Z,d.globals.gridHeight+d.globals.translateY+j.offsetY+2,j.color,0,j.width);x.add(Y)}return d.config.yaxis[a].axisTicks.show&&this.axesUtils.drawYAxisTicks(Z,D,j,d.config.yaxis[a].axisTicks,a,A,x),x}},{key:"drawYaxisInversed",value:function(a){var l=this.w,d=new Me(this.ctx),h=d.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),p=d.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(l.globals.translateXAxisX,", ").concat(l.globals.translateXAxisY,")")});h.add(p);var g=l.globals.yAxisScale[a].result.length-1,m=l.globals.gridWidth/g+.1,v=m+l.config.xaxis.labels.offsetX,x=l.globals.xLabelFormatter,E=l.globals.yAxisScale[a].result.slice(),D=l.globals.timescaleLabels;D.length>0&&(this.xaxisLabels=D.slice(),g=(E=D.slice()).length),E=this.axesUtils.checkForReversedLabels(a,E);var A=D.length;if(l.config.xaxis.labels.show)for(var R=A?0:g;A?R<A:R>=0;A?R++:R--){var O=E[R];O=x(O,R,l);var N=l.globals.gridWidth+l.globals.padHorizontal-(v-m+l.config.xaxis.labels.offsetX);if(D.length){var B=this.axesUtils.getLabel(E,D,N,R,this.drawnLabels,this.xaxisFontSize);N=B.x,O=B.text,this.drawnLabels.push(B.text),0===R&&l.globals.skipFirstTimelinelabel&&(O=""),R===E.length-1&&l.globals.skipLastTimelinelabel&&(O="")}var G=d.drawText({x:N,y:this.xAxisoffX+l.config.xaxis.labels.offsetY+30-("top"===l.config.xaxis.position?l.globals.xAxisHeight+l.config.xaxis.axisTicks.height-2:0),text:O,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[a]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:l.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+l.config.xaxis.labels.style.cssClass});p.add(G),G.tspan(O);var X=document.createElementNS(l.globals.SVGNS,"title");X.textContent=O,G.node.appendChild(X),v+=m}return this.inversedYAxisTitleText(h),this.inversedYAxisBorder(h),h}},{key:"inversedYAxisBorder",value:function(a){var l=this.w,d=new Me(this.ctx),h=l.config.xaxis.axisBorder;if(h.show){var p=0;"bar"===l.config.chart.type&&l.globals.isXNumeric&&(p-=15);var g=d.drawLine(l.globals.padHorizontal+p+h.offsetX,this.xAxisoffX,l.globals.gridWidth,this.xAxisoffX,h.color,0,h.height);this.elgrid&&this.elgrid.elGridBorders&&l.config.grid.show?this.elgrid.elGridBorders.add(g):a.add(g)}}},{key:"inversedYAxisTitleText",value:function(a){var l=this.w,d=new Me(this.ctx);if(void 0!==l.config.xaxis.title.text){var h=d.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),p=d.drawText({x:l.globals.gridWidth/2+l.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(l.config.xaxis.title.style.fontSize)+l.config.xaxis.title.offsetY+20,text:l.config.xaxis.title.text,textAnchor:"middle",fontSize:l.config.xaxis.title.style.fontSize,fontFamily:l.config.xaxis.title.style.fontFamily,fontWeight:l.config.xaxis.title.style.fontWeight,foreColor:l.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+l.config.xaxis.title.style.cssClass});h.add(p),a.add(h)}}},{key:"yAxisTitleRotate",value:function(a,l){var d=this.w,h=new Me(this.ctx),p={width:0,height:0},g={width:0,height:0},m=d.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-texts-g"));null!==m&&(p=m.getBoundingClientRect());var v=d.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-title text"));if(null!==v&&(g=v.getBoundingClientRect()),null!==v){var x=this.xPaddingForYAxisTitle(a,p,g,l);v.setAttribute("x",x.xPos-(l?10:0))}if(null!==v){var E=h.rotateAroundCenter(v);v.setAttribute("transform","rotate(".concat(l?-1*d.config.yaxis[a].title.rotate:d.config.yaxis[a].title.rotate," ").concat(E.x," ").concat(E.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(a,l,d,h){var p=this.w,g=0,m=0,v=10;return void 0===p.config.yaxis[a].title.text||a<0?{xPos:m,padd:0}:(h?(m=l.width+p.config.yaxis[a].title.offsetX+d.width/2+v/2,0===(g+=1)&&(m-=v/2)):(m=-1*l.width+p.config.yaxis[a].title.offsetX+v/2+d.width/2,p.globals.isBarHorizontal&&(m=-1*l.width-p.config.yaxis[a].title.offsetX-(v=25))),{xPos:m,padd:v})}},{key:"setYAxisXPosition",value:function(a,l){var d=this.w,h=0,p=0,g=18,m=1;d.config.yaxis.length>1&&(this.multipleYs=!0),d.config.yaxis.map(function(v,x){var E=d.globals.ignoreYAxisIndexes.indexOf(x)>-1||!v.show||v.floating||0===a[x].width,D=a[x].width+l[x].width;v.opposite?d.globals.isBarHorizontal?d.globals.translateYAxisX[x]=(p=d.globals.gridWidth+d.globals.translateX-1)-v.labels.offsetX:(p=d.globals.gridWidth+d.globals.translateX+m,E||(m=m+D+20),d.globals.translateYAxisX[x]=p-v.labels.offsetX+20):(h=d.globals.translateX-g,E||(g=g+D+20),d.globals.translateYAxisX[x]=h+v.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var a=this.w,l=a.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(l=he.listToArray(l)).forEach(function(d,h){var p=a.config.yaxis[h];if(p&&!p.floating&&void 0!==p.labels.align){var g=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-texts-g")),m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-label"));m=he.listToArray(m);var v=g.getBoundingClientRect();"left"===p.labels.align?(m.forEach(function(x,E){x.setAttribute("text-anchor","start")}),p.opposite||g.setAttribute("transform","translate(-".concat(v.width,", 0)"))):"center"===p.labels.align?(m.forEach(function(x,E){x.setAttribute("text-anchor","middle")}),g.setAttribute("transform","translate(".concat(v.width/2*(p.opposite?1:-1),", 0)"))):"right"===p.labels.align&&(m.forEach(function(x,E){x.setAttribute("text-anchor","end")}),p.opposite&&g.setAttribute("transform","translate(".concat(v.width,", 0)")))}})}}]),L}(),Ce=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.documentEvent=he.bind(this.documentEvent,this)}return dt(L,[{key:"addEventListener",value:function(a,l){var d=this.w;d.globals.events.hasOwnProperty(a)?d.globals.events[a].push(l):d.globals.events[a]=[l]}},{key:"removeEventListener",value:function(a,l){var d=this.w;if(d.globals.events.hasOwnProperty(a)){var h=d.globals.events[a].indexOf(l);-1!==h&&d.globals.events[a].splice(h,1)}}},{key:"fireEvent",value:function(a,l){var d=this.w;if(d.globals.events.hasOwnProperty(a)){l&&l.length||(l=[]);for(var h=d.globals.events[a],p=h.length,g=0;g<p;g++)h[g].apply(null,l)}}},{key:"setupEventHandlers",value:function(){var a=this,l=this.w,d=this.ctx,h=l.globals.dom.baseEl.querySelector(l.globals.chartClass);this.ctx.eventList.forEach(function(p){h.addEventListener(p,function(g){var m=Object.assign({},l,{seriesIndex:l.globals.capturedSeriesIndex,dataPointIndex:l.globals.capturedDataPointIndex});"mousemove"===g.type||"touchmove"===g.type?"function"==typeof l.config.chart.events.mouseMove&&l.config.chart.events.mouseMove(g,d,m):"mouseleave"===g.type||"touchleave"===g.type?"function"==typeof l.config.chart.events.mouseLeave&&l.config.chart.events.mouseLeave(g,d,m):("mouseup"===g.type&&1===g.which||"touchend"===g.type)&&("function"==typeof l.config.chart.events.click&&l.config.chart.events.click(g,d,m),d.ctx.events.fireEvent("click",[g,d,m]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(p){l.globals.dom.baseEl.addEventListener(p,a.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(a){var l=this.w,d=a.target.className;if("click"===a.type){var h=l.globals.dom.baseEl.querySelector(".apexcharts-menu");h&&h.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==d&&h.classList.remove("apexcharts-menu-open")}l.globals.clientX="touchmove"===a.type?a.touches[0].clientX:a.clientX,l.globals.clientY="touchmove"===a.type?a.touches[0].clientY:a.clientY}}]),L}(),we=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"setCurrentLocaleValues",value:function(a){var l=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(l=this.w.config.chart.locales.concat(window.Apex.chart.locales));var d=l.filter(function(p){return p.name===a})[0];if(!d)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var h=he.extend(Rn,d);this.w.globals.locale=h.options}}]),L}(),Oe=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"drawAxis",value:function(a,l){var d,h,p=this,g=this.w.globals,m=this.w.config,v=new bn(this.ctx,l),x=new Mi(this.ctx,l);g.axisCharts&&"radar"!==a&&(g.isBarHorizontal?(h=x.drawYaxisInversed(0),d=v.drawXaxisInversed(0),g.dom.elGraphical.add(d),g.dom.elGraphical.add(h)):(d=v.drawXaxis(),g.dom.elGraphical.add(d),m.yaxis.map(function(E,D){if(-1===g.ignoreYAxisIndexes.indexOf(D)&&(h=x.drawYaxis(D),g.dom.Paper.add(h),"back"===p.w.config.grid.position)){var A=g.dom.Paper.children()[1];A.remove(),g.dom.Paper.add(A)}})))}}]),L}(),Ke=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"drawXCrosshairs",value:function(){var a=this.w,l=new Me(this.ctx),d=new yn(this.ctx),h=a.config.xaxis.crosshairs.fill.gradient,p=a.config.xaxis.crosshairs.dropShadow,A=p.enabled,R=p.left,O=p.top,N=p.blur,B=p.color,G=p.opacity,X=a.config.xaxis.crosshairs.fill.color;if(a.config.xaxis.crosshairs.show){"gradient"===a.config.xaxis.crosshairs.fill.type&&(X=l.drawGradient("vertical",h.colorFrom,h.colorTo,h.opacityFrom,h.opacityTo,null,h.stops,null));var b=l.drawRect();1===a.config.xaxis.crosshairs.width&&(b=l.drawLine());var I=a.globals.gridHeight;(!he.isNumber(I)||I<0)&&(I=0);var P=a.config.xaxis.crosshairs.width;(!he.isNumber(P)||P<0)&&(P=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:I,width:P,height:I,fill:X,filter:"none","fill-opacity":a.config.xaxis.crosshairs.opacity,stroke:a.config.xaxis.crosshairs.stroke.color,"stroke-width":a.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":a.config.xaxis.crosshairs.stroke.dashArray}),A&&(b=d.dropShadow(b,{left:R,top:O,blur:N,color:B,opacity:G})),a.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var a=this.w,l=new Me(this.ctx),d=a.config.yaxis[0].crosshairs,h=a.globals.barPadForNumericAxis;if(a.config.yaxis[0].crosshairs.show){var p=l.drawLine(-h,0,a.globals.gridWidth+h,0,d.stroke.color,d.stroke.dashArray,d.stroke.width);p.attr({class:"apexcharts-ycrosshairs"}),a.globals.dom.elGraphical.add(p)}var g=l.drawLine(-h,0,a.globals.gridWidth+h,0,d.stroke.color,0,0);g.attr({class:"apexcharts-ycrosshairs-hidden"}),a.globals.dom.elGraphical.add(g)}}]),L}(),mt=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"checkResponsiveConfig",value:function(a){var l=this,d=this.w,h=d.config;if(0!==h.responsive.length){var p=h.responsive.slice();p.sort(function(x,E){return x.breakpoint>E.breakpoint?1:E.breakpoint>x.breakpoint?-1:0}).reverse();var g=new zr({}),m=function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},D=window.innerWidth>0?window.innerWidth:screen.width;if(D>p[0].breakpoint){var A=qt.extendArrayProps(g,d.globals.initialConfig,d);x=he.extend(A,x),x=he.extend(d.config,x),l.overrideResponsiveOptions(x)}else for(var R=0;R<p.length;R++)D<p[R].breakpoint&&(x=qt.extendArrayProps(g,p[R].options,d),x=he.extend(d.config,x),l.overrideResponsiveOptions(x))};if(a){var v=qt.extendArrayProps(g,a,d);v=he.extend(d.config,v),m(v=he.extend(v,a))}else m({})}}},{key:"overrideResponsiveOptions",value:function(a){var l=new zr(a).init({responsiveOverride:!0});this.w.config=l}}]),L}(),nt=function(){function L(a){He(this,L),this.ctx=a,this.colors=[],this.w=a.w;var l=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===l.config.chart.type&&l.config.plotOptions.treemap.distributed||"heatmap"===l.config.chart.type&&l.config.plotOptions.heatmap.distributed,this.isBarDistributed=l.config.plotOptions.bar.distributed&&("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)}return dt(L,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var a,l=this,d=this.w,h=new he;if(d.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(d.config.theme.mode)),void 0===d.config.colors||0===(null===(a=d.config.colors)||void 0===a?void 0:a.length)?d.globals.colors=this.predefined():(d.globals.colors=d.config.colors,Array.isArray(d.config.colors)&&d.config.colors.length>0&&"function"==typeof d.config.colors[0]&&(d.globals.colors=d.config.series.map(function(O,N){var B=d.config.colors[N];return B||(B=d.config.colors[0]),"function"==typeof B?(l.isColorFn=!0,B({value:d.globals.axisCharts?d.globals.series[N][0]?d.globals.series[N][0]:0:d.globals.series[N],seriesIndex:N,dataPointIndex:N,w:d})):B}))),d.globals.seriesColors.map(function(O,N){O&&(d.globals.colors[N]=O)}),d.config.theme.monochrome.enabled){var p=[],g=d.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(g=d.globals.series[0].length*d.globals.series.length);for(var m=d.config.theme.monochrome.color,v=1/(g/d.config.theme.monochrome.shadeIntensity),x=d.config.theme.monochrome.shadeTo,E=0,D=0;D<g;D++){var A=void 0;"dark"===x?(A=h.shadeColor(-1*E,m),E+=v):(A=h.shadeColor(E,m),E+=v),p.push(A)}d.globals.colors=p.slice()}var R=d.globals.colors.slice();this.pushExtraColors(d.globals.colors),["fill","stroke"].forEach(function(O){d.globals[O].colors=void 0===d.config[O].colors?l.isColorFn?d.config.colors:R:d.config[O].colors.slice(),l.pushExtraColors(d.globals[O].colors)}),d.globals.dataLabels.style.colors=void 0===d.config.dataLabels.style.colors?R:d.config.dataLabels.style.colors.slice(),this.pushExtraColors(d.globals.dataLabels.style.colors,50),d.globals.radarPolygons.fill.colors=void 0===d.config.plotOptions.radar.polygons.fill.colors?["dark"===d.config.theme.mode?"#424242":"none"]:d.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(d.globals.radarPolygons.fill.colors,20),d.globals.markers.colors=void 0===d.config.markers.colors?R:d.config.markers.colors.slice(),this.pushExtraColors(d.globals.markers.colors)}},{key:"pushExtraColors",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=this.w,p=l||h.globals.series.length;if(null===d&&(d=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===h.config.chart.type&&h.config.plotOptions.heatmap.colorScale.inverse),d&&h.globals.series.length&&(p=h.globals.series[h.globals.maxValsInArrayIndex].length*h.globals.series.length),a.length<p)for(var g=p-a.length,m=0;m<g;m++)a.push(a[m])}},{key:"updateThemeOptions",value:function(a){a.chart=a.chart||{},a.tooltip=a.tooltip||{};var l=a.theme.mode||"light",d=a.theme.palette?a.theme.palette:"dark"===l?"palette4":"palette1",h=a.chart.foreColor?a.chart.foreColor:"dark"===l?"#f6f7f8":"#373d3f";return a.tooltip.theme=l,a.chart.foreColor=h,a.theme.palette=d,a}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),L}(),gi=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(a){var l=this.w,d="title"===a?l.config.title:l.config.subtitle,h=l.globals.svgWidth/2,p=d.offsetY,g="middle";if("left"===d.align?(h=10,g="start"):"right"===d.align&&(h=l.globals.svgWidth-10,g="end"),h+=d.offsetX,p=p+parseInt(d.style.fontSize,10)+d.margin/2,void 0!==d.text){var m=new Me(this.ctx).drawText({x:h,y:p,text:d.text,textAnchor:g,fontSize:d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight,foreColor:d.style.color,opacity:1});m.node.setAttribute("class","apexcharts-".concat(a,"-text")),l.globals.dom.Paper.add(m)}}}]),L}(),Fn=function(){function L(a){He(this,L),this.w=a.w,this.dCtx=a}return dt(L,[{key:"getTitleSubtitleCoords",value:function(a){var l=this.w,d=0,h=0,p="title"===a?l.config.title.floating:l.config.subtitle.floating,g=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-text"));if(null!==g&&!p){var m=g.getBoundingClientRect();d=m.width,h=l.globals.axisCharts?m.height+5:m.height}return{width:d,height:h}}},{key:"getLegendsRect",value:function(){var a=this.w,l=a.globals.dom.elLegendWrap;a.config.legend.height||"top"!==a.config.legend.position&&"bottom"!==a.config.legend.position||(l.style.maxHeight=a.globals.svgHeight/2+"px");var d=Object.assign({},he.getBoundingClientRect(l));return this.dCtx.lgRect=null!==l&&!a.config.legend.floating&&a.config.legend.show?{x:d.x,y:d.y,height:d.height,width:0===d.height?0:d.width}:{x:0,y:0,height:0,width:0},"left"!==a.config.legend.position&&"right"!==a.config.legend.position||1.5*this.dCtx.lgRect.width>a.globals.svgWidth&&(this.dCtx.lgRect.width=a.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(a,l){var d=a;if(this.w.globals.isMultiLineX){var h=l.map(function(g,m){return Array.isArray(g)?g.length:1}),p=Math.max.apply(Math,Mn(h));d=l[h.indexOf(p)]}return d}}]),L}(),Tn=function(){function L(a){He(this,L),this.w=a.w,this.dCtx=a}return dt(L,[{key:"getxAxisLabelsCoords",value:function(){var a,l=this.w,d=l.globals.labels.slice();if(l.config.xaxis.convertedCatToNumeric&&0===d.length&&(d=l.globals.categoryLabels),l.globals.timescaleLabels.length>0){var h=this.getxAxisTimeScaleLabelsCoords();a={width:h.width,height:h.height},l.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==l.config.legend.position&&"right"!==l.config.legend.position||l.config.legend.floating?0:this.dCtx.lgRect.width;var p=l.globals.xLabelFormatter,g=he.getLargestStringFromArr(d),m=this.dCtx.dimHelpers.getLargestStringFromMultiArr(g,d);l.globals.isBarHorizontal&&(m=g=l.globals.yAxisScale[0].result.reduce(function(O,N){return O.length>N.length?O:N},0));var v=new Br(this.dCtx.ctx),x=g;g=v.xLabelFormat(p,g,x,{i:void 0,dateFormatter:new un(this.dCtx.ctx).formatDate,w:l}),m=v.xLabelFormat(p,m,x,{i:void 0,dateFormatter:new un(this.dCtx.ctx).formatDate,w:l}),(l.config.xaxis.convertedCatToNumeric&&void 0===g||""===String(g).trim())&&(m=g="1");var E=new Me(this.dCtx.ctx),D=E.getTextRects(g,l.config.xaxis.labels.style.fontSize),A=D;if(g!==m&&(A=E.getTextRects(m,l.config.xaxis.labels.style.fontSize)),(a={width:D.width>=A.width?D.width:A.width,height:D.height>=A.height?D.height:A.height}).width*d.length>l.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==l.config.xaxis.labels.rotate||l.config.xaxis.labels.rotateAlways){if(!l.globals.isBarHorizontal){l.globals.rotateXLabels=!0;var R=function(O){return E.getTextRects(O,l.config.xaxis.labels.style.fontSize,l.config.xaxis.labels.style.fontFamily,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1)};D=R(g),g!==m&&(A=R(m)),a.height=(D.height>A.height?D.height:A.height)/1.5,a.width=D.width>A.width?D.width:A.width}}else l.globals.rotateXLabels=!1}return l.config.xaxis.labels.show||(a={width:0,height:0}),{width:a.width,height:a.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var a,l=this.w;if(!l.globals.hasXaxisGroups)return{width:0,height:0};var d,h=(null===(a=l.config.xaxis.group.style)||void 0===a?void 0:a.fontSize)||l.config.xaxis.labels.style.fontSize,p=l.globals.groups.map(function(D){return D.title}),g=he.getLargestStringFromArr(p),m=this.dCtx.dimHelpers.getLargestStringFromMultiArr(g,p),v=new Me(this.dCtx.ctx),x=v.getTextRects(g,h),E=x;return g!==m&&(E=v.getTextRects(m,h)),d={width:x.width>=E.width?x.width:E.width,height:x.height>=E.height?x.height:E.height},l.config.xaxis.labels.show||(d={width:0,height:0}),{width:d.width,height:d.height}}},{key:"getxAxisTitleCoords",value:function(){var a=this.w,l=0,d=0;if(void 0!==a.config.xaxis.title.text){var h=new Me(this.dCtx.ctx).getTextRects(a.config.xaxis.title.text,a.config.xaxis.title.style.fontSize);l=h.width,d=h.height}return{width:l,height:d}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var a,l=this.w;this.dCtx.timescaleLabels=l.globals.timescaleLabels.slice();var d=this.dCtx.timescaleLabels.map(function(p){return p.value}),h=d.reduce(function(p,g){return void 0===p?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):p.length>g.length?p:g},0);return 1.05*(a=new Me(this.dCtx.ctx).getTextRects(h,l.config.xaxis.labels.style.fontSize)).width*d.length>l.globals.gridWidth&&0!==l.config.xaxis.labels.rotate&&(l.globals.overlappingXLabels=!0),a}},{key:"additionalPaddingXLabels",value:function(a){var l=this,d=this.w,h=d.globals,p=d.config,g=p.xaxis.type,m=a.width;h.skipLastTimelinelabel=!1,h.skipFirstTimelinelabel=!1;var v=d.config.yaxis[0].opposite&&d.globals.isBarHorizontal;p.yaxis.forEach(function(E,D){v?(l.dCtx.gridPad.left<m&&(l.dCtx.xPadLeft=m/2+1),l.dCtx.xPadRight=m/2+1):function(E,D){p.yaxis.length>1&&-1!==h.collapsedSeriesIndices.indexOf(D)||function(A){if(l.dCtx.timescaleLabels&&l.dCtx.timescaleLabels.length){var N=l.dCtx.timescaleLabels[0].position-m/1.75+l.dCtx.yAxisWidthLeft;l.dCtx.timescaleLabels[l.dCtx.timescaleLabels.length-1].position+m/1.75-l.dCtx.yAxisWidthRight>h.svgWidth-h.translateX-("right"===d.config.legend.position&&l.dCtx.lgRect.width>0?l.dCtx.lgRect.width:0)&&(h.skipLastTimelinelabel=!0),N<-(A.show&&!A.floating||"bar"!==p.chart.type&&"candlestick"!==p.chart.type&&"rangeBar"!==p.chart.type&&"boxPlot"!==p.chart.type?10:m/1.75)&&(h.skipFirstTimelinelabel=!0)}else"datetime"===g?l.dCtx.gridPad.right<m&&!h.rotateXLabels&&(h.skipLastTimelinelabel=!0):"datetime"!==g&&l.dCtx.gridPad.right<m/2-l.dCtx.yAxisWidthRight&&!h.rotateXLabels&&!d.config.xaxis.labels.trim&&("between"!==d.config.xaxis.tickPlacement||d.globals.isBarHorizontal)&&(l.dCtx.xPadRight=m/2+1)}(E)}(E,D)})}}]),L}(),mi=function(){function L(a){He(this,L),this.w=a.w,this.dCtx=a}return dt(L,[{key:"getyAxisLabelsCoords",value:function(){var a=this,l=this.w,d=[],h=10,p=new Ge(this.dCtx.ctx);return l.config.yaxis.map(function(g,m){var v={seriesIndex:m,dataPointIndex:-1,w:l},x=l.globals.yAxisScale[m],E=0;if(!p.isYAxisHidden(m)&&g.labels.show&&void 0!==g.labels.minWidth&&(E=g.labels.minWidth),!p.isYAxisHidden(m)&&g.labels.show&&x.result.length){var D=l.globals.yLabelFormatters[m],R=x.result.reduce(function(I,P){var j,Z;return(null===(j=String(D(I,v)))||void 0===j?void 0:j.length)>(null===(Z=String(D(P,v)))||void 0===Z?void 0:Z.length)?I:P},x.niceMin===Number.MIN_VALUE?0:x.niceMin),O=R=D(R,v);if(void 0!==R&&0!==R.length||(R=x.niceMax),l.globals.isBarHorizontal){h=0;var N=l.globals.labels.slice();R=he.getLargestStringFromArr(N),R=D(R,{seriesIndex:m,dataPointIndex:-1,w:l}),O=a.dCtx.dimHelpers.getLargestStringFromMultiArr(R,N)}var B=new Me(a.dCtx.ctx),G="rotate(".concat(g.labels.rotate," 0 0)"),X=B.getTextRects(R,g.labels.style.fontSize,g.labels.style.fontFamily,G,!1),b=X;R!==O&&(b=B.getTextRects(O,g.labels.style.fontSize,g.labels.style.fontFamily,G,!1)),d.push({width:(E>b.width||E>X.width?E:b.width>X.width?b.width:X.width)+h,height:b.height>X.height?b.height:X.height})}else d.push({width:0,height:0})}),d}},{key:"getyAxisTitleCoords",value:function(){var a=this,d=[];return this.w.config.yaxis.map(function(h,p){if(h.show&&void 0!==h.title.text){var g=new Me(a.dCtx.ctx),m="rotate(".concat(h.title.rotate," 0 0)"),v=g.getTextRects(h.title.text,h.title.style.fontSize,h.title.style.fontFamily,m,!1);d.push({width:v.width,height:v.height})}else d.push({width:0,height:0})}),d}},{key:"getTotalYAxisWidth",value:function(){var a=this.w,l=0,d=0,h=0,p=a.globals.yAxisScale.length>1?10:0,g=new Ge(this.dCtx.ctx),m=function(v,x){var E=a.config.yaxis[x].floating,D=0;v.width>0&&!E?(D=v.width+p,a.globals.ignoreYAxisIndexes.indexOf(x)>-1&&(D=D-v.width-p)):D=E||g.isYAxisHidden(x)?0:5,a.config.yaxis[x].opposite?h+=D:d+=D,l+=D};return a.globals.yLabelsCoords.map(function(v,x){m(v,x)}),a.globals.yTitleCoords.map(function(v,x){m(v,x)}),a.globals.isBarHorizontal&&!a.config.yaxis[0].floating&&(l=a.globals.yLabelsCoords[0].width+a.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=d,this.dCtx.yAxisWidthRight=h,l}}]),L}(),Bi=function(){function L(a){He(this,L),this.w=a.w,this.dCtx=a}return dt(L,[{key:"gridPadForColumnsInNumericAxis",value:function(a){var l=this.w;if(l.globals.noData||l.globals.allSeriesCollapsed)return 0;var d=function(E){return"bar"===E||"rangeBar"===E||"candlestick"===E||"boxPlot"===E},h=l.config.chart.type,p=0,g=d(h)?l.config.series.length:1;if(l.globals.comboBarCount>0&&(g=l.globals.comboBarCount),l.globals.collapsedSeries.forEach(function(E){d(E.type)&&(g-=1)}),l.config.chart.stacked&&(g=1),(d(h)||l.globals.comboBarCount>0)&&l.globals.isXNumeric&&!l.globals.isBarHorizontal&&g>0){var m,v,x=Math.abs(l.globals.initialMaxX-l.globals.initialMinX);x<=3&&(x=l.globals.dataPoints),m=x/a,l.globals.minXDiff&&l.globals.minXDiff/m>0&&(v=l.globals.minXDiff/m),v>a/2&&(v/=2),(p=v/g*parseInt(l.config.plotOptions.bar.columnWidth,10)/100)<1&&(p=1),l.globals.barPadForNumericAxis=p=p/(g>1?1:1.5)+5}return p}},{key:"gridPadFortitleSubtitle",value:function(){var a=this,l=this.w,d=l.globals,h=this.dCtx.isSparkline||!l.globals.axisCharts?0:10;["title","subtitle"].forEach(function(m){h+=void 0!==l.config[m].text?l.config[m].margin:a.dCtx.isSparkline||!l.globals.axisCharts?0:5}),!l.config.legend.show||"bottom"!==l.config.legend.position||l.config.legend.floating||l.globals.axisCharts||(h+=10);var p=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),g=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");d.gridHeight=d.gridHeight-p.height-g.height-h,d.translateY=d.translateY+p.height+g.height+h}},{key:"setGridXPosForDualYAxis",value:function(a,l){var d=this.w,h=new Ge(this.dCtx.ctx);d.config.yaxis.map(function(p,g){-1!==d.globals.ignoreYAxisIndexes.indexOf(g)||p.floating||h.isYAxisHidden(g)||(p.opposite&&(d.globals.translateX=d.globals.translateX-(l[g].width+a[g].width)-parseInt(d.config.yaxis[g].labels.style.fontSize,10)/1.2-12),d.globals.translateX<2&&(d.globals.translateX=2))})}}]),L}(),qi=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Fn(this),this.dimYAxis=new mi(this),this.dimXAxis=new Tn(this),this.dimGrid=new Bi(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return dt(L,[{key:"plotCoords",value:function(){var a=this,l=this.w,d=l.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&((l.config.markers.discrete.length>0||l.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(p){var g=Vn(p,2);a.gridPad[g[0]]=Math.max(g[1],a.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(l.config.stroke.width/2,this.gridPad.top),this.gridPad.bottom=Math.max(l.config.stroke.width/2,this.gridPad.bottom)),d.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),d.gridHeight=d.gridHeight-this.gridPad.top-this.gridPad.bottom,d.gridWidth=d.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var h=this.dimGrid.gridPadForColumnsInNumericAxis(d.gridWidth);d.gridWidth=d.gridWidth-2*h,d.translateX=d.translateX+this.gridPad.left+this.xPadLeft+(h>0?h+4:0),d.translateY=d.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var a=this,l=this.w,d=l.globals,h=this.dimYAxis.getyAxisLabelsCoords(),p=this.dimYAxis.getyAxisTitleCoords();l.globals.yLabelsCoords=[],l.globals.yTitleCoords=[],l.config.yaxis.map(function(R,O){l.globals.yLabelsCoords.push({width:h[O].width,index:O}),l.globals.yTitleCoords.push({width:p[O].width,index:O})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var g=this.dimXAxis.getxAxisLabelsCoords(),m=this.dimXAxis.getxAxisGroupLabelsCoords(),v=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(g,v,m),d.translateXAxisY=l.globals.rotateXLabels?this.xAxisHeight/8:-4,d.translateXAxisX=l.globals.rotateXLabels&&l.globals.isXNumeric&&l.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,l.globals.isBarHorizontal&&(d.rotateXLabels=!1,d.translateXAxisY=parseInt(l.config.xaxis.labels.style.fontSize,10)/1.5*-1),d.translateXAxisY=d.translateXAxisY+l.config.xaxis.labels.offsetY,d.translateXAxisX=d.translateXAxisX+l.config.xaxis.labels.offsetX;var x=this.yAxisWidth,E=this.xAxisHeight;d.xAxisLabelsHeight=this.xAxisHeight-v.height,d.xAxisGroupLabelsHeight=d.xAxisLabelsHeight-g.height,d.xAxisLabelsWidth=this.xAxisWidth,d.xAxisHeight=this.xAxisHeight;var D=10;("radar"===l.config.chart.type||this.isSparkline)&&(x=0,E=d.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===l.config.chart.type)&&(x=0,E=0,D=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(g);var A=function(){d.translateX=x,d.gridHeight=d.svgHeight-a.lgRect.height-E-(a.isSparkline||"treemap"===l.config.chart.type?0:l.globals.rotateXLabels?10:15),d.gridWidth=d.svgWidth-x};switch("top"===l.config.xaxis.position&&(D=d.xAxisHeight-l.config.xaxis.axisTicks.height-5),l.config.legend.position){case"bottom":d.translateY=D,A();break;case"top":d.translateY=this.lgRect.height+D,A();break;case"left":d.translateY=D,d.translateX=this.lgRect.width+x,d.gridHeight=d.svgHeight-E-12,d.gridWidth=d.svgWidth-this.lgRect.width-x;break;case"right":d.translateY=D,d.translateX=x,d.gridHeight=d.svgHeight-E-12,d.gridWidth=d.svgWidth-this.lgRect.width-x-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(p,h),new Mi(this.ctx).setYAxisXPosition(h,p)}},{key:"setDimensionsForNonAxisCharts",value:function(){var a=this.w,l=a.globals,d=a.config,h=0;a.config.legend.show&&!a.config.legend.floating&&(h=20);var p="pie"===d.chart.type||"polarArea"===d.chart.type||"donut"===d.chart.type?"pie":"radialBar",g=d.plotOptions[p].offsetY,m=d.plotOptions[p].offsetX;if(!d.legend.show||d.legend.floating)return l.gridHeight=l.svgHeight-d.grid.padding.left+d.grid.padding.right,l.gridWidth=l.gridHeight,l.translateY=g,void(l.translateX=m+(l.svgWidth-l.gridWidth)/2);switch(d.legend.position){case"bottom":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=g-10,l.translateX=m+(l.svgWidth-l.gridWidth)/2;break;case"top":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=this.lgRect.height+g+10,l.translateX=m+(l.svgWidth-l.gridWidth)/2;break;case"left":l.gridWidth=l.svgWidth-this.lgRect.width-h,l.gridHeight="auto"!==d.chart.height?l.svgHeight:l.gridWidth,l.translateY=g,l.translateX=m+this.lgRect.width+h;break;case"right":l.gridWidth=l.svgWidth-this.lgRect.width-h-5,l.gridHeight="auto"!==d.chart.height?l.svgHeight:l.gridWidth,l.translateY=g,l.translateX=m+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(a,l,d){var h=this.w;this.xAxisHeight=(d.height+a.height+l.height)*(h.globals.isMultiLineX?1.2:h.globals.LINE_HEIGHT_RATIO)+(h.globals.hasXaxisGroups?2:1)*(h.globals.rotateXLabels?22:10)+(h.globals.rotateXLabels&&"bottom"===h.config.legend.position?10:0),this.xAxisWidth=a.width,this.xAxisHeight-l.height>h.config.xaxis.labels.maxHeight&&(this.xAxisHeight=h.config.xaxis.labels.maxHeight),h.config.xaxis.labels.minHeight&&this.xAxisHeight<h.config.xaxis.labels.minHeight&&(this.xAxisHeight=h.config.xaxis.labels.minHeight),h.config.xaxis.floating&&(this.xAxisHeight=0);var E=0,D=0;h.config.yaxis.forEach(function(A){E+=A.labels.minWidth,D+=A.labels.maxWidth}),this.yAxisWidth<E&&(this.yAxisWidth=E),this.yAxisWidth>D&&(this.yAxisWidth=D)}}]),L}(),Mr=function(){function L(a){He(this,L),this.w=a.w,this.lgCtx=a}return dt(L,[{key:"getLegendStyles",value:function(){var a=document.createElement("style");a.setAttribute("type","text/css");var l=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return a.appendChild(l),a}},{key:"getLegendBBox",value:function(){var a=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:a.height,clww:a.width}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(a,l){var d=this,h=this.w;if(h.globals.axisCharts||"radialBar"===h.config.chart.type){h.globals.resized=!0;var p=null,g=null;h.globals.risingSeries=[],h.globals.axisCharts?(p=h.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),g=parseInt(p.getAttribute("data:realIndex"),10)):(p=h.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")),g=parseInt(p.getAttribute("rel"),10)-1),l?[{cs:h.globals.collapsedSeries,csi:h.globals.collapsedSeriesIndices},{cs:h.globals.ancillaryCollapsedSeries,csi:h.globals.ancillaryCollapsedSeriesIndices}].forEach(function(E){d.riseCollapsedSeries(E.cs,E.csi,g)}):this.hideSeries({seriesEl:p,realIndex:g})}else{var m=h.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(a+1,"'] path")),v=h.config.chart.type;if("pie"===v||"polarArea"===v||"donut"===v){var x=h.config.plotOptions.pie.donut.labels;new Me(this.lgCtx.ctx).pathMouseDown(m.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(m.members[0].node,x)}m.fire("click")}}},{key:"hideSeries",value:function(a){var l=a.seriesEl,d=a.realIndex,h=this.w,p=he.clone(h.config.series);if(h.globals.axisCharts){var g=!1;if(h.config.yaxis[d]&&h.config.yaxis[d].show&&h.config.yaxis[d].showAlways&&(g=!0,h.globals.ancillaryCollapsedSeriesIndices.indexOf(d)<0&&(h.globals.ancillaryCollapsedSeries.push({index:d,data:p[d].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),h.globals.ancillaryCollapsedSeriesIndices.push(d))),!g){h.globals.collapsedSeries.push({index:d,data:p[d].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),h.globals.collapsedSeriesIndices.push(d);var m=h.globals.risingSeries.indexOf(d);h.globals.risingSeries.splice(m,1)}}else h.globals.collapsedSeries.push({index:d,data:p[d]}),h.globals.collapsedSeriesIndices.push(d);for(var v=l.childNodes,x=0;x<v.length;x++)v[x].classList.contains("apexcharts-series-markers-wrap")&&(v[x].classList.contains("apexcharts-hide")?v[x].classList.remove("apexcharts-hide"):v[x].classList.add("apexcharts-hide"));h.globals.allSeriesCollapsed=h.globals.collapsedSeries.length===h.config.series.length,p=this._getSeriesBasedOnCollapsedState(p),this.lgCtx.ctx.updateHelpers._updateSeries(p,h.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(a,l,d){var h=this.w,p=he.clone(h.config.series);if(a.length>0){for(var g=0;g<a.length;g++)a[g].index===d&&(h.globals.axisCharts?(p[d].data=a[g].data.slice(),a.splice(g,1),l.splice(g,1),h.globals.risingSeries.push(d)):(p[d]=a[g].data,a.splice(g,1),l.splice(g,1),h.globals.risingSeries.push(d)));p=this._getSeriesBasedOnCollapsedState(p),this.lgCtx.ctx.updateHelpers._updateSeries(p,h.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(a){var l=this.w;return a.forEach(l.globals.axisCharts?function(d,h){l.globals.collapsedSeriesIndices.indexOf(h)>-1&&(a[h].data=[])}:function(d,h){l.globals.collapsedSeriesIndices.indexOf(h)>-1&&(a[h]=0)}),a}}]),L}(),Rr=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new Mr(this)}return dt(L,[{key:"init",value:function(){var a=this.w,l=a.globals,d=a.config;if((d.legend.showForSingleSeries&&1===l.series.length||this.isBarsDistributed||l.series.length>1||!l.axisCharts)&&d.legend.show){for(;l.dom.elLegendWrap.firstChild;)l.dom.elLegendWrap.removeChild(l.dom.elLegendWrap.firstChild);this.drawLegends(),he.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===d.legend.position||"top"===d.legend.position?this.legendAlignHorizontal():"right"!==d.legend.position&&"left"!==d.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var a=this,l=this.w,d=l.config.legend.fontFamily,h=l.globals.seriesNames,p=l.globals.colors.slice();if("heatmap"===l.config.chart.type){var g=l.config.plotOptions.heatmap.colorScale.ranges;h=g.map(function(Ye){return Ye.name?Ye.name:Ye.from+" - "+Ye.to}),p=g.map(function(Ye){return Ye.color})}else this.isBarsDistributed&&(h=l.globals.labels.slice());l.config.legend.customLegendItems.length&&(h=l.config.legend.customLegendItems);for(var m=l.globals.legendFormatter,v=l.config.legend.inverseOrder,x=v?h.length-1:0;v?x>=0:x<=h.length-1;v?x--:x++){var E,D=m(h[x],{seriesIndex:x,w:l}),A=!1,R=!1;if(l.globals.collapsedSeries.length>0)for(var O=0;O<l.globals.collapsedSeries.length;O++)l.globals.collapsedSeries[O].index===x&&(A=!0);if(l.globals.ancillaryCollapsedSeriesIndices.length>0)for(var N=0;N<l.globals.ancillaryCollapsedSeriesIndices.length;N++)l.globals.ancillaryCollapsedSeriesIndices[N]===x&&(R=!0);var B=document.createElement("span");B.classList.add("apexcharts-legend-marker");var G=l.config.legend.markers.offsetX,X=l.config.legend.markers.offsetY,b=l.config.legend.markers.height,I=l.config.legend.markers.width,P=l.config.legend.markers.strokeWidth,j=l.config.legend.markers.strokeColor,Z=l.config.legend.markers.radius,Y=B.style;Y.background=p[x],Y.color=p[x],Y.setProperty("background",p[x],"important"),l.config.legend.markers.fillColors&&l.config.legend.markers.fillColors[x]&&(Y.background=l.config.legend.markers.fillColors[x]),void 0!==l.globals.seriesColors[x]&&(Y.background=l.globals.seriesColors[x],Y.color=l.globals.seriesColors[x]),Y.height=Array.isArray(b)?parseFloat(b[x])+"px":parseFloat(b)+"px",Y.width=Array.isArray(I)?parseFloat(I[x])+"px":parseFloat(I)+"px",Y.left=(Array.isArray(G)?parseFloat(G[x]):parseFloat(G))+"px",Y.top=(Array.isArray(X)?parseFloat(X[x]):parseFloat(X))+"px",Y.borderWidth=Array.isArray(P)?P[x]:P,Y.borderColor=Array.isArray(j)?j[x]:j,Y.borderRadius=Array.isArray(Z)?parseFloat(Z[x])+"px":parseFloat(Z)+"px",l.config.legend.markers.customHTML&&(Array.isArray(l.config.legend.markers.customHTML)?l.config.legend.markers.customHTML[x]&&(B.innerHTML=l.config.legend.markers.customHTML[x]()):B.innerHTML=l.config.legend.markers.customHTML()),Me.setAttrs(B,{rel:x+1,"data:collapsed":A||R}),(A||R)&&B.classList.add("apexcharts-inactive-legend");var _e=document.createElement("div"),me=document.createElement("span");me.classList.add("apexcharts-legend-text"),me.innerHTML=Array.isArray(D)?D.join(" "):D;var Re=l.config.legend.labels.useSeriesColors?l.globals.colors[x]:Array.isArray(l.config.legend.labels.colors)?null===(E=l.config.legend.labels.colors)||void 0===E?void 0:E[x]:l.config.legend.labels.colors;Re||(Re=l.config.chart.foreColor),me.style.color=Re,me.style.fontSize=parseFloat(l.config.legend.fontSize)+"px",me.style.fontWeight=l.config.legend.fontWeight,me.style.fontFamily=d||l.config.chart.fontFamily,Me.setAttrs(me,{rel:x+1,i:x,"data:default-text":encodeURIComponent(D),"data:collapsed":A||R}),_e.appendChild(B),_e.appendChild(me);var le=new qt(this.ctx);l.config.legend.showForZeroSeries||0===le.getSeriesTotalByIndex(x)&&le.seriesHaveSameValues(x)&&!le.isSeriesNull(x)&&-1===l.globals.collapsedSeriesIndices.indexOf(x)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(x)&&_e.classList.add("apexcharts-hidden-zero-series"),l.config.legend.showForNullSeries||le.isSeriesNull(x)&&-1===l.globals.collapsedSeriesIndices.indexOf(x)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(x)&&_e.classList.add("apexcharts-hidden-null-series"),l.globals.dom.elLegendWrap.appendChild(_e),l.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(l.config.legend.horizontalAlign)),l.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+l.config.legend.position),_e.classList.add("apexcharts-legend-series"),_e.style.margin="".concat(l.config.legend.itemMargin.vertical,"px ").concat(l.config.legend.itemMargin.horizontal,"px"),l.globals.dom.elLegendWrap.style.width=l.config.legend.width?l.config.legend.width+"px":"",l.globals.dom.elLegendWrap.style.height=l.config.legend.height?l.config.legend.height+"px":"",Me.setAttrs(_e,{rel:x+1,seriesName:he.escapeString(h[x]),"data:collapsed":A||R}),(A||R)&&_e.classList.add("apexcharts-inactive-legend"),l.config.legend.onItemClick.toggleDataSeries||_e.classList.add("apexcharts-no-click")}l.globals.dom.elWrap.addEventListener("click",a.onLegendClick,!0),l.config.legend.onItemHover.highlightDataSeries&&0===l.config.legend.customLegendItems.length&&(l.globals.dom.elWrap.addEventListener("mousemove",a.onLegendHovered,!0),l.globals.dom.elWrap.addEventListener("mouseout",a.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(a,l){var d=this.w,h=d.globals.dom.elLegendWrap,p=h.getBoundingClientRect(),g=0,m=0;if("bottom"===d.config.legend.position)m+=d.globals.svgHeight-p.height/2;else if("top"===d.config.legend.position){var v=new qi(this.ctx),x=v.dimHelpers.getTitleSubtitleCoords("title").height,E=v.dimHelpers.getTitleSubtitleCoords("subtitle").height;m=m+(x>0?x-10:0)+(E>0?E-10:0)}h.style.position="absolute",m=m+l+d.config.legend.offsetY,h.style.left=(g=g+a+d.config.legend.offsetX)+"px",h.style.top=m+"px","bottom"===d.config.legend.position?(h.style.top="auto",h.style.bottom=5-d.config.legend.offsetY+"px"):"right"===d.config.legend.position&&(h.style.left="auto",h.style.right=25+d.config.legend.offsetX+"px"),["width","height"].forEach(function(D){h.style[D]&&(h.style[D]=parseInt(d.config.legend[D],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var a=this.w;a.globals.dom.elLegendWrap.style.right=0;var l=this.legendHelpers.getLegendBBox(),d=new qi(this.ctx),h=d.dimHelpers.getTitleSubtitleCoords("title"),p=d.dimHelpers.getTitleSubtitleCoords("subtitle"),g=0;"bottom"===a.config.legend.position?g=-l.clwh/1.8:"top"===a.config.legend.position&&(g=h.height+p.height+a.config.title.margin+a.config.subtitle.margin-10),this.setLegendWrapXY(20,g)}},{key:"legendAlignVertical",value:function(){var a=this.w,l=this.legendHelpers.getLegendBBox(),d=0;"left"===a.config.legend.position&&(d=20),"right"===a.config.legend.position&&(d=a.globals.svgWidth-l.clww-10),this.setLegendWrapXY(d,20)}},{key:"onLegendHovered",value:function(a){var l=this.w,d=a.target.classList.contains("apexcharts-legend-series")||a.target.classList.contains("apexcharts-legend-text")||a.target.classList.contains("apexcharts-legend-marker");if("heatmap"===l.config.chart.type||this.isBarsDistributed){if(d){var h=parseInt(a.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,h,this.w]),new ot(this.ctx).highlightRangeInSeries(a,a.target)}}else!a.target.classList.contains("apexcharts-inactive-legend")&&d&&new ot(this.ctx).toggleSeriesOnHover(a,a.target)}},{key:"onLegendClick",value:function(a){var l=this.w;if(!l.config.legend.customLegendItems.length&&(a.target.classList.contains("apexcharts-legend-series")||a.target.classList.contains("apexcharts-legend-text")||a.target.classList.contains("apexcharts-legend-marker"))){var d=parseInt(a.target.getAttribute("rel"),10)-1,h="true"===a.target.getAttribute("data:collapsed"),p=this.w.config.chart.events.legendClick;"function"==typeof p&&p(this.ctx,d,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,d,this.w]);var g=this.w.config.legend.markers.onClick;"function"==typeof g&&a.target.classList.contains("apexcharts-legend-marker")&&(g(this.ctx,d,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,d,this.w])),"treemap"!==l.config.chart.type&&"heatmap"!==l.config.chart.type&&!this.isBarsDistributed&&l.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(d,h)}}}]),L}(),oi=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w;var l=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=l.globals.minX,this.maxX=l.globals.maxX}return dt(L,[{key:"createToolbar",value:function(){var a=this,l=this.w,d=function(){return document.createElement("div")},h=d();if(h.setAttribute("class","apexcharts-toolbar"),h.style.top=l.config.chart.toolbar.offsetY+"px",h.style.right=3-l.config.chart.toolbar.offsetX+"px",l.globals.dom.elWrap.appendChild(h),this.elZoom=d(),this.elZoomIn=d(),this.elZoomOut=d(),this.elPan=d(),this.elSelection=d(),this.elZoomReset=d(),this.elMenuIcon=d(),this.elMenu=d(),this.elCustomIcons=[],this.t=l.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var p=0;p<this.t.customIcons.length;p++)this.elCustomIcons.push(d());var g=[],m=function(D,A,R){var O=D.toLowerCase();a.t[O]&&l.config.chart.zoom.enabled&&g.push({el:A,icon:"string"==typeof a.t[O]?a.t[O]:R,title:a.localeValues[D],class:"apexcharts-".concat(O,"-icon")})};m("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),m("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var v=function(D){a.t[D]&&l.config.chart[D].enabled&&g.push({el:"zoom"===D?a.elZoom:a.elSelection,icon:"string"==typeof a.t[D]?a.t[D]:"zoom"===D?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:a.localeValues["zoom"===D?"selectionZoom":"selection"],class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(D,"-icon")})};v("zoom"),v("selection"),this.t.pan&&l.config.chart.zoom.enabled&&g.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),m("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&g.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var x=0;x<this.elCustomIcons.length;x++)g.push({el:this.elCustomIcons[x],icon:this.t.customIcons[x].icon,title:this.t.customIcons[x].title,index:this.t.customIcons[x].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[x].class});g.forEach(function(D,A){D.index&&he.moveIndexInArray(g,A,D.index)});for(var E=0;E<g.length;E++)Me.setAttrs(g[E].el,{class:g[E].class,title:g[E].title}),g[E].el.innerHTML=g[E].icon,h.appendChild(g[E].el);this._createHamburgerMenu(h),l.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):l.globals.panEnabled?this.elPan.classList.add(this.selectedClass):l.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(a){this.elMenuItems=[],a.appendChild(this.elMenu),Me.setAttrs(this.elMenu,{class:"apexcharts-menu"});var l=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||l.splice(2,1);for(var d=0;d<l.length;d++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[d].innerHTML=l[d].title,Me.setAttrs(this.elMenuItems[d],{class:"apexcharts-menu-item ".concat(l[d].name),title:l[d].title}),this.elMenu.appendChild(this.elMenuItems[d])}},{key:"addToolbarEventListeners",value:function(){var a=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(d){d.classList.contains("exportSVG")?d.addEventListener("click",a.handleDownload.bind(a,"svg")):d.classList.contains("exportPNG")?d.addEventListener("click",a.handleDownload.bind(a,"png")):d.classList.contains("exportCSV")&&d.addEventListener("click",a.handleDownload.bind(a,"csv"))});for(var l=0;l<this.t.customIcons.length;l++)this.elCustomIcons[l].addEventListener("click",this.t.customIcons[l].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(a){this.ctx.getSyncedCharts().forEach(function(l){l.ctx.toolbar.toggleOtherControls();var d="selection"===a?l.ctx.toolbar.elSelection:l.ctx.toolbar.elZoom,h="selection"===a?"selectionEnabled":"zoomEnabled";l.w.globals[h]=!l.w.globals[h],d.classList.contains(l.ctx.toolbar.selectedClass)?d.classList.remove(l.ctx.toolbar.selectedClass):d.classList.add(l.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var a=this.w;this.elZoom||(this.elZoom=a.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=a.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=a.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(a){this.toggleOtherControls(),"pan"===a?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var l="pan"===a?this.elPan:this.elZoom,d="pan"===a?this.elZoom:this.elPan;l&&l.classList.add(this.selectedClass),d&&d.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(a){a.ctx.toolbar.toggleOtherControls(),a.w.globals.panEnabled=!a.w.globals.panEnabled,a.ctx.toolbar.elPan.classList.contains(a.ctx.toolbar.selectedClass)?a.ctx.toolbar.elPan.classList.remove(a.ctx.toolbar.selectedClass):a.ctx.toolbar.elPan.classList.add(a.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var a=this,l=this.w;l.globals.panEnabled=!1,l.globals.zoomEnabled=!1,l.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(d){d&&d.classList.remove(a.selectedClass)})}},{key:"handleZoomIn",value:function(){var a=this.w;a.globals.isRangeBar&&(this.minX=a.globals.minY,this.maxX=a.globals.maxY);var l=(this.minX+this.maxX)/2,p=this._getNewMinXMaxX((this.minX+l)/2,(this.maxX+l)/2);a.globals.disableZoomIn||this.zoomUpdateOptions(p.minX,p.maxX)}},{key:"handleZoomOut",value:function(){var a=this.w;if(a.globals.isRangeBar&&(this.minX=a.globals.minY,this.maxX=a.globals.maxY),!("datetime"===a.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var l=(this.minX+this.maxX)/2,p=this._getNewMinXMaxX(this.minX-(l-this.minX),this.maxX-(l-this.maxX));a.globals.disableZoomOut||this.zoomUpdateOptions(p.minX,p.maxX)}}},{key:"_getNewMinXMaxX",value:function(a,l){var d=this.w.config.xaxis.convertedCatToNumeric;return{minX:d?Math.floor(a):a,maxX:d?Math.floor(l):l}}},{key:"zoomUpdateOptions",value:function(a,l){var d=this.w;if(void 0!==a||void 0!==l){if(!(d.config.xaxis.convertedCatToNumeric&&(a<1&&(a=1,l=d.globals.dataPoints),l-a<2))){var h={min:a,max:l},p=this.getBeforeZoomRange(h);p&&(h=p.xaxis);var g={xaxis:h},m=he.clone(d.globals.initialConfig.yaxis);d.config.chart.zoom.autoScaleYaxis&&(m=new Bn(this.ctx).autoScaleY(this.ctx,m,{xaxis:h})),d.config.chart.group||(g.yaxis=m),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(g,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(h,m)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(a,l){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:a,yaxis:l})}},{key:"getBeforeZoomRange",value:function(a,l){var d=null;return"function"==typeof this.ev.beforeZoom&&(d=this.ev.beforeZoom(this,{xaxis:a,yaxis:l})),d}},{key:"toggleMenu",value:function(){var a=this;window.setTimeout(function(){a.elMenu.classList.contains("apexcharts-menu-open")?a.elMenu.classList.remove("apexcharts-menu-open"):a.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(a){var l=this.w,d=new Bt(this.ctx);switch(a){case"svg":d.exportToSVG(this.ctx);break;case"png":d.exportToPng(this.ctx);break;case"csv":d.exportToCSV({series:l.config.series,columnDelimiter:l.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(a){this.ctx.getSyncedCharts().forEach(function(l){var d=l.w;if(d.globals.lastXAxis.min=d.globals.initialConfig.xaxis.min,d.globals.lastXAxis.max=d.globals.initialConfig.xaxis.max,l.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof d.config.chart.events.beforeResetZoom){var h=d.config.chart.events.beforeResetZoom(l,d);h&&l.updateHelpers.revertDefaultAxisMinMax(h)}"function"==typeof d.config.chart.events.zoomed&&l.ctx.toolbar.zoomCallback({min:d.config.xaxis.min,max:d.config.xaxis.max}),d.globals.zoomed=!1;var p=l.ctx.series.emptyCollapsedSeries(he.clone(d.globals.initialSeries));l.updateHelpers._updateSeries(p,d.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),L}(),In=function(L){vn(l,oi);var a=rn(l);function l(d){var h;return He(this,l),(h=a.call(this,d)).ctx=d,h.w=d.w,h.dragged=!1,h.graphics=new Me(h.ctx),h.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],h.clientX=0,h.clientY=0,h.startX=0,h.endX=0,h.dragX=0,h.startY=0,h.endY=0,h.dragY=0,h.moveDirection="none",h}return dt(l,[{key:"init",value:function(d){var h=this,p=d.xyRatios,g=this.w,m=this;this.xyRatios=p,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=g.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),g.globals.dom.elGraphical.add(this.zoomRect),g.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===g.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:g.globals.gridWidth,maxY:g.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===g.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:g.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=g.globals.dom.baseEl.querySelector("".concat(g.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(v){h.hoverArea.addEventListener(v,m.svgMouseEvents.bind(m,p),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(d,h){var p=this.w,g=this,m=this.ctx.toolbar,v=p.globals.zoomEnabled?p.config.chart.zoom.type:p.config.chart.selection.type,x=p.config.chart.toolbar.autoSelected;if(h.shiftKey?(this.shiftWasPressed=!0,m.enableZoomPanFromToolbar("pan"===x?"zoom":"pan")):this.shiftWasPressed&&(m.enableZoomPanFromToolbar(x),this.shiftWasPressed=!1),h.target){var E,D=h.target.classList;if(h.target.parentNode&&null!==h.target.parentNode&&(E=h.target.parentNode.classList),!(D.contains("apexcharts-selection-rect")||D.contains("apexcharts-legend-marker")||D.contains("apexcharts-legend-text")||E&&E.contains("apexcharts-toolbar"))){if(g.clientX="touchmove"===h.type||"touchstart"===h.type?h.touches[0].clientX:"touchend"===h.type?h.changedTouches[0].clientX:h.clientX,g.clientY="touchmove"===h.type||"touchstart"===h.type?h.touches[0].clientY:"touchend"===h.type?h.changedTouches[0].clientY:h.clientY,"mousedown"===h.type&&1===h.which){var A=g.gridRect.getBoundingClientRect();g.startX=g.clientX-A.left,g.startY=g.clientY-A.top,g.dragged=!1,g.w.globals.mousedown=!0}if(("mousemove"===h.type&&1===h.which||"touchmove"===h.type)&&(g.dragged=!0,p.globals.panEnabled?(p.globals.selection=null,g.w.globals.mousedown&&g.panDragging({context:g,zoomtype:v,xyRatios:d})):(g.w.globals.mousedown&&p.globals.zoomEnabled||g.w.globals.mousedown&&p.globals.selectionEnabled)&&(g.selection=g.selectionDrawing({context:g,zoomtype:v}))),"mouseup"===h.type||"touchend"===h.type||"mouseleave"===h.type){var R=g.gridRect.getBoundingClientRect();g.w.globals.mousedown&&(g.endX=g.clientX-R.left,g.endY=g.clientY-R.top,g.dragX=Math.abs(g.endX-g.startX),g.dragY=Math.abs(g.endY-g.startY),(p.globals.zoomEnabled||p.globals.selectionEnabled)&&g.selectionDrawn({context:g,zoomtype:v}),p.globals.panEnabled&&p.config.xaxis.convertedCatToNumeric&&g.delayedPanScrolled()),p.globals.zoomEnabled&&g.hideSelectionRect(this.selectionRect),g.dragged=!1,g.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var d=this.w;if(this.selectionRect){var h=this.selectionRect.node.getBoundingClientRect();h.width>0&&h.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:d.globals.gridWidth,maxY:d.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var d=this.w,h=this.xyRatios;if(!d.globals.zoomEnabled)if(null!=d.globals.selection)this.drawSelectionRect(d.globals.selection);else if(void 0!==d.config.chart.selection.xaxis.min&&void 0!==d.config.chart.selection.xaxis.max){var p=(d.config.chart.selection.xaxis.min-d.globals.minX)/h.xRatio;this.drawSelectionRect({x:p,y:0,width:d.globals.gridWidth-(d.globals.maxX-d.config.chart.selection.xaxis.max)/h.xRatio-p,height:d.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof d.config.chart.events.selection&&d.config.chart.events.selection(this.ctx,{xaxis:{min:d.config.chart.selection.xaxis.min,max:d.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(d){var h=d.x,p=d.y,g=d.width,m=d.height,v=d.translateX,E=d.translateY,A=this.w,R=this.zoomRect,O=this.selectionRect;if(this.dragged||null!==A.globals.selection){var N={transform:"translate("+(void 0===v?0:v)+", "+(void 0===E?0:E)+")"};A.globals.zoomEnabled&&this.dragged&&(g<0&&(g=1),R.attr({x:h,y:p,width:g,height:m,fill:A.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":A.config.chart.zoom.zoomedArea.fill.opacity,stroke:A.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":A.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":A.config.chart.zoom.zoomedArea.stroke.opacity}),Me.setAttrs(R.node,N)),A.globals.selectionEnabled&&(O.attr({x:h,y:p,width:g>0?g:0,height:m>0?m:0,fill:A.config.chart.selection.fill.color,"fill-opacity":A.config.chart.selection.fill.opacity,stroke:A.config.chart.selection.stroke.color,"stroke-width":A.config.chart.selection.stroke.width,"stroke-dasharray":A.config.chart.selection.stroke.dashArray,"stroke-opacity":A.config.chart.selection.stroke.opacity}),Me.setAttrs(O.node,N))}}},{key:"hideSelectionRect",value:function(d){d&&d.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(d){var N,p=d.zoomtype,g=this.w,m=d.context,v=this.gridRect.getBoundingClientRect(),x=m.startX-1,E=m.startY,D=!1,A=!1,R=m.clientX-v.left-x,O=m.clientY-v.top-E;return Math.abs(R+x)>g.globals.gridWidth?R=g.globals.gridWidth-x:m.clientX-v.left<0&&(R=x),x>m.clientX-v.left&&(D=!0,R=Math.abs(R)),E>m.clientY-v.top&&(A=!0,O=Math.abs(O)),m.drawSelectionRect(N="x"===p?{x:D?x-R:x,y:0,width:R,height:g.globals.gridHeight}:"y"===p?{x:0,y:A?E-O:E,width:g.globals.gridWidth,height:O}:{x:D?x-R:x,y:A?E-O:E,width:R,height:O}),m.selectionDragging("resizing"),N}},{key:"selectionDragging",value:function(d,h){var p=this,g=this.w,m=this.xyRatios,v=this.selectionRect,x=0;"resizing"===d&&(x=30);var E=function(A){return parseFloat(v.node.getAttribute(A))},D={x:E("x"),y:E("y"),width:E("width"),height:E("height")};g.globals.selection=D,"function"==typeof g.config.chart.events.selection&&g.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var A=p.gridRect.getBoundingClientRect(),R=v.node.getBoundingClientRect(),O={xaxis:{min:g.globals.xAxisScale.niceMin+(R.left-A.left)*m.xRatio,max:g.globals.xAxisScale.niceMin+(R.right-A.left)*m.xRatio},yaxis:{min:g.globals.yAxisScale[0].niceMin+(A.bottom-R.bottom)*m.yRatio[0],max:g.globals.yAxisScale[0].niceMax-(R.top-A.top)*m.yRatio[0]}};g.config.chart.events.selection(p.ctx,O),g.config.chart.brush.enabled&&void 0!==g.config.chart.events.brushScrolled&&g.config.chart.events.brushScrolled(p.ctx,O)},x))}},{key:"selectionDrawn",value:function(d){var p=d.zoomtype,g=this.w,m=d.context,v=this.xyRatios,x=this.ctx.toolbar;if(m.startX>m.endX){var E=m.startX;m.startX=m.endX,m.endX=E}if(m.startY>m.endY){var D=m.startY;m.startY=m.endY,m.endY=D}var A=void 0,R=void 0;g.globals.isRangeBar?(A=g.globals.yAxisScale[0].niceMin+m.startX*v.invertedYRatio,R=g.globals.yAxisScale[0].niceMin+m.endX*v.invertedYRatio):(A=g.globals.xAxisScale.niceMin+m.startX*v.xRatio,R=g.globals.xAxisScale.niceMin+m.endX*v.xRatio);var O=[],N=[];if(g.config.yaxis.forEach(function(Z,Y){O.push(g.globals.yAxisScale[Y].niceMax-v.yRatio[Y]*m.startY),N.push(g.globals.yAxisScale[Y].niceMax-v.yRatio[Y]*m.endY)}),m.dragged&&(m.dragX>10||m.dragY>10)&&A!==R)if(g.globals.zoomEnabled){var B=he.clone(g.globals.initialConfig.yaxis),G=he.clone(g.globals.initialConfig.xaxis);if(g.globals.zoomed=!0,g.config.xaxis.convertedCatToNumeric&&(A=Math.floor(A),R=Math.floor(R),A<1&&(A=1,R=g.globals.dataPoints),R-A<2&&(R=A+1)),"xy"!==p&&"x"!==p||(G={min:A,max:R}),"xy"!==p&&"y"!==p||B.forEach(function(Z,Y){B[Y].min=N[Y],B[Y].max=O[Y]}),g.config.chart.zoom.autoScaleYaxis){var X=new Bn(m.ctx);B=X.autoScaleY(m.ctx,B,{xaxis:G})}if(x){var b=x.getBeforeZoomRange(G,B);b&&(G=b.xaxis?b.xaxis:G,B=b.yaxis?b.yaxis:B)}var I={xaxis:G};g.config.chart.group||(I.yaxis=B),m.ctx.updateHelpers._updateOptions(I,!1,m.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof g.config.chart.events.zoomed&&x.zoomCallback(G,B)}else if(g.globals.selectionEnabled){var P,j=null;P={min:A,max:R},"xy"!==p&&"y"!==p||(j=he.clone(g.config.yaxis)).forEach(function(Z,Y){j[Y].min=N[Y],j[Y].max=O[Y]}),g.globals.selection=m.selection,"function"==typeof g.config.chart.events.selection&&g.config.chart.events.selection(m.ctx,{xaxis:P,yaxis:j})}}},{key:"panDragging",value:function(d){var p=this.w,g=d.context;if(void 0!==p.globals.lastClientPosition.x){var m=p.globals.lastClientPosition.x-g.clientX,v=p.globals.lastClientPosition.y-g.clientY;Math.abs(m)>Math.abs(v)&&m>0?this.moveDirection="left":Math.abs(m)>Math.abs(v)&&m<0?this.moveDirection="right":Math.abs(v)>Math.abs(m)&&v>0?this.moveDirection="up":Math.abs(v)>Math.abs(m)&&v<0&&(this.moveDirection="down")}p.globals.lastClientPosition={x:g.clientX,y:g.clientY},p.config.xaxis.convertedCatToNumeric||g.panScrolled(p.globals.isRangeBar?p.globals.minY:p.globals.minX,p.globals.isRangeBar?p.globals.maxY:p.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var d=this.w,h=d.globals.minX,p=d.globals.maxX,g=(d.globals.maxX-d.globals.minX)/2;"left"===this.moveDirection?(h=d.globals.minX+g,p=d.globals.maxX+g):"right"===this.moveDirection&&(h=d.globals.minX-g,p=d.globals.maxX-g),h=Math.floor(h),p=Math.floor(p),this.updateScrolledChart({xaxis:{min:h,max:p}},h,p)}},{key:"panScrolled",value:function(d,h){var p=this.w,g=this.xyRatios,m=he.clone(p.globals.initialConfig.yaxis),v=g.xRatio,x=p.globals.minX,E=p.globals.maxX;p.globals.isRangeBar&&(v=g.invertedYRatio,x=p.globals.minY,E=p.globals.maxY),"left"===this.moveDirection?(d=x+p.globals.gridWidth/15*v,h=E+p.globals.gridWidth/15*v):"right"===this.moveDirection&&(d=x-p.globals.gridWidth/15*v,h=E-p.globals.gridWidth/15*v),p.globals.isRangeBar||(d<p.globals.initialMinX||h>p.globals.initialMaxX)&&(d=x,h=E);var D={min:d,max:h};p.config.chart.zoom.autoScaleYaxis&&(m=new Bn(this.ctx).autoScaleY(this.ctx,m,{xaxis:D}));var A={xaxis:{min:d,max:h}};p.config.chart.group||(A.yaxis=m),this.updateScrolledChart(A,d,h)}},{key:"updateScrolledChart",value:function(d,h,p){var g=this.w;this.ctx.updateHelpers._updateOptions(d,!1,!1),"function"==typeof g.config.chart.events.scrolled&&g.config.chart.events.scrolled(this.ctx,{xaxis:{min:h,max:p}})}}]),l}(),Yn=function(){function L(a){He(this,L),this.w=a.w,this.ttCtx=a,this.ctx=a.ctx}return dt(L,[{key:"getNearestValues",value:function(a){var l=a.hoverArea,h=a.clientX,p=a.clientY,g=this.w,m=a.elGrid.getBoundingClientRect(),v=m.width,x=m.height,E=v/(g.globals.dataPoints-1),D=x/g.globals.dataPoints,A=this.hasBars();!g.globals.comboCharts&&!A||g.config.xaxis.convertedCatToNumeric||(E=v/g.globals.dataPoints);var R=h-m.left-g.globals.barPadForNumericAxis,O=p-m.top;R<0||O<0||R>v||O>x?(l.classList.remove("hovering-zoom"),l.classList.remove("hovering-pan")):g.globals.zoomEnabled?(l.classList.remove("hovering-pan"),l.classList.add("hovering-zoom")):g.globals.panEnabled&&(l.classList.remove("hovering-zoom"),l.classList.add("hovering-pan"));var N=Math.round(R/E),B=Math.floor(O/D);A&&!g.config.xaxis.convertedCatToNumeric&&(N=Math.ceil(R/E),N-=1);var G=null,X=null,b=g.globals.seriesXvalues.map(function(Y){return Y.filter(function(_e){return he.isNumber(_e)})}),I=g.globals.seriesYvalues.map(function(Y){return Y.filter(function(_e){return he.isNumber(_e)})});if(g.globals.isXNumeric){var P=this.ttCtx.getElGrid().getBoundingClientRect(),j=R*(P.width/v);G=(X=this.closestInMultiArray(j,O*(P.height/x),b,I)).index,N=X.j,null!==G&&(N=(X=this.closestInArray(j,b=g.globals.seriesXvalues[G])).index)}return g.globals.capturedSeriesIndex=null===G?-1:G,(!N||N<1)&&(N=0),g.globals.capturedDataPointIndex=g.globals.isBarHorizontal?B:N,{capturedSeries:G,j:g.globals.isBarHorizontal?B:N,hoverX:R,hoverY:O}}},{key:"closestInMultiArray",value:function(a,l,d,h){var g=0,m=null,v=-1;this.w.globals.series.length>1?g=this.getFirstActiveXArray(d):m=0;var E=Math.abs(a-d[g][0]);if(d.forEach(function(R){R.forEach(function(O,N){var B=Math.abs(a-O);B<=E&&(E=B,v=N)})}),-1!==v){var A=Math.abs(l-h[g][v]);m=g,h.forEach(function(R,O){var N=Math.abs(l-R[v]);N<=A&&(A=N,m=O)})}return{index:m,j:v}}},{key:"getFirstActiveXArray",value:function(a){for(var l=this.w,d=0,h=a.map(function(g,m){return g.length>0?m:-1}),p=0;p<h.length;p++)if(-1!==h[p]&&-1===l.globals.collapsedSeriesIndices.indexOf(p)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(p)){d=h[p];break}return d}},{key:"closestInArray",value:function(a,l){for(var h=null,p=Math.abs(a-l[0]),g=0;g<l.length;g++){var m=Math.abs(a-l[g]);m<p&&(p=m,h=g)}return{index:h}}},{key:"isXoverlap",value:function(a){var l=[],d=this.w.globals.seriesX.filter(function(p){return void 0!==p[0]});if(d.length>0)for(var h=0;h<d.length-1;h++)void 0!==d[h][a]&&void 0!==d[h+1][a]&&d[h][a]!==d[h+1][a]&&l.push("unEqual");return 0===l.length}},{key:"isInitialSeriesSameLen",value:function(){for(var a=!0,l=this.w.globals.initialSeries,d=0;d<l.length-1;d++)if(l[d].data.length!==l[d+1].data.length){a=!1;break}return a}},{key:"getBarsHeight",value:function(a){return Mn(a).reduce(function(l,d){return l+d.getBBox().height},0)}},{key:"getElMarkers",value:function(a){return this.w.globals.dom.baseEl.querySelectorAll("number"==typeof a?".apexcharts-series[data\\:realIndex='".concat(a,"'] .apexcharts-series-markers-wrap > *"):".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(a=Mn(a)).sort(function(d,h){var p=Number(d.getAttribute("data:realIndex")),g=Number(h.getAttribute("data:realIndex"));return g<p?1:g>p?-1:0});var l=[];return a.forEach(function(d){l.push(d.querySelector(".apexcharts-marker"))}),l}},{key:"hasMarkers",value:function(a){return this.getElMarkers(a).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(a){var l=this.w,d=l.config.markers.hover.size;return void 0===d&&(d=l.globals.markers.size[a]+l.config.markers.hover.sizeOffset),d}},{key:"toggleAllTooltipSeriesGroups",value:function(a){var l=this.w,d=this.ttCtx;0===d.allTooltipSeriesGroups.length&&(d.allTooltipSeriesGroups=l.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var h=d.allTooltipSeriesGroups,p=0;p<h.length;p++)"enable"===a?(h[p].classList.add("apexcharts-active"),h[p].style.display=l.config.tooltip.items.display):(h[p].classList.remove("apexcharts-active"),h[p].style.display="none")}}]),L}(),ti=function(){function L(a){He(this,L),this.w=a.w,this.ctx=a.ctx,this.ttCtx=a,this.tooltipUtil=new Yn(a)}return dt(L,[{key:"drawSeriesTexts",value:function(a){var l=a.shared,d=void 0===l||l,h=a.ttItems,p=a.i,g=void 0===p?0:p,m=a.j,v=void 0===m?null:m,D=a.e,A=this.w;void 0!==A.config.tooltip.custom?this.handleCustomTooltip({i:g,j:v,y1:a.y1,y2:a.y2,w:A}):this.toggleActiveInactiveSeries(d);var R=this.getValuesToPrint({i:g,j:v});this.printLabels({i:g,j:v,values:R,ttItems:h,shared:d,e:D});var O=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=O.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=O.getBoundingClientRect().height}},{key:"printLabels",value:function(a){var l,d=this,h=a.i,p=a.j,g=a.values,m=a.ttItems,v=a.shared,x=a.e,E=this.w,D=[],A=function(P){return E.globals.seriesGoals[P]&&E.globals.seriesGoals[P][p]&&Array.isArray(E.globals.seriesGoals[P][p])},R=g.xVal,O=g.zVal,N=g.xAxisTTVal,B="",G=E.globals.colors[h];null!==p&&E.config.plotOptions.bar.distributed&&(G=E.globals.colors[p]);for(var X=function(P,j){var Z=d.getFormatters(h);B=d.getSeriesName({fn:Z.yLbTitleFormatter,index:h,seriesIndex:h,j:p}),"treemap"===E.config.chart.type&&(B=Z.yLbTitleFormatter(String(E.config.series[h].data[p].x),{series:E.globals.series,seriesIndex:h,dataPointIndex:p,w:E}));var Y=E.config.tooltip.inverseOrder?j:P;if(E.globals.axisCharts){var _e=function(le){var Ye,Ie,bt,tn;return E.globals.isRangeData?Z.yLbFormatter(null===(Ye=E.globals.seriesRangeStart)||void 0===Ye||null===(Ie=Ye[le])||void 0===Ie?void 0:Ie[p],{series:E.globals.seriesRangeStart,seriesIndex:le,dataPointIndex:p,w:E})+" - "+Z.yLbFormatter(null===(bt=E.globals.seriesRangeEnd)||void 0===bt||null===(tn=bt[le])||void 0===tn?void 0:tn[p],{series:E.globals.seriesRangeEnd,seriesIndex:le,dataPointIndex:p,w:E}):Z.yLbFormatter(E.globals.series[le][p],{series:E.globals.series,seriesIndex:le,dataPointIndex:p,w:E})};if(v)Z=d.getFormatters(Y),B=d.getSeriesName({fn:Z.yLbTitleFormatter,index:Y,seriesIndex:h,j:p}),G=E.globals.colors[Y],l=_e(Y),A(Y)&&(D=E.globals.seriesGoals[Y][p].map(function(le){return{attrs:le,val:Z.yLbFormatter(le.value,{seriesIndex:Y,dataPointIndex:p,w:E})}}));else{var me,Re=null==x||null===(me=x.target)||void 0===me?void 0:me.getAttribute("fill");Re&&(G=-1!==Re.indexOf("url")?document.querySelector(Re.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):Re),l=_e(h),A(h)&&Array.isArray(E.globals.seriesGoals[h][p])&&(D=E.globals.seriesGoals[h][p].map(function(le){return{attrs:le,val:Z.yLbFormatter(le.value,{seriesIndex:h,dataPointIndex:p,w:E})}}))}}null===p&&(l=Z.yLbFormatter(E.globals.series[h],oe(oe({},E),{},{seriesIndex:h,dataPointIndex:h}))),d.DOMHandling({i:h,t:Y,j:p,ttItems:m,values:{val:l,goalVals:D,xVal:R,xAxisTTVal:N,zVal:O},seriesName:B,shared:v,pColor:G})},b=0,I=E.globals.series.length-1;b<E.globals.series.length;b++,I--)X(b,I)}},{key:"getFormatters",value:function(a){var l,d=this.w,h=d.globals.yLabelFormatters[a];return void 0!==d.globals.ttVal?Array.isArray(d.globals.ttVal)?(h=d.globals.ttVal[a]&&d.globals.ttVal[a].formatter,l=d.globals.ttVal[a]&&d.globals.ttVal[a].title&&d.globals.ttVal[a].title.formatter):(h=d.globals.ttVal.formatter,"function"==typeof d.globals.ttVal.title.formatter&&(l=d.globals.ttVal.title.formatter)):l=d.config.tooltip.y.title.formatter,"function"!=typeof h&&(h=d.globals.yLabelFormatters[0]?d.globals.yLabelFormatters[0]:function(p){return p}),"function"!=typeof l&&(l=function(p){return p}),{yLbFormatter:h,yLbTitleFormatter:l}}},{key:"getSeriesName",value:function(a){var h=a.seriesIndex,p=a.j,g=this.w;return(0,a.fn)(String(g.globals.seriesNames[a.index]),{series:g.globals.series,seriesIndex:h,dataPointIndex:p,w:g})}},{key:"DOMHandling",value:function(a){var l=a.t,d=a.j,h=a.ttItems,p=a.values,g=a.seriesName,m=a.shared,v=a.pColor,x=this.w,E=this.ttCtx,D=p.val,A=p.goalVals,R=p.xVal,O=p.xAxisTTVal,N=p.zVal,B=null;B=h[l].children,x.config.tooltip.fillSeriesColor&&(h[l].style.backgroundColor=v,B[0].style.display="none"),E.showTooltipTitle&&(null===E.tooltipTitle&&(E.tooltipTitle=x.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),E.tooltipTitle.innerHTML=R),E.isXAxisTooltipEnabled&&(E.xaxisTooltipText.innerHTML=""!==O?O:R);var G=h[l].querySelector(".apexcharts-tooltip-text-y-label");G&&(G.innerHTML=g||"");var X=h[l].querySelector(".apexcharts-tooltip-text-y-value");X&&(X.innerHTML=void 0!==D?D:""),B[0]&&B[0].classList.contains("apexcharts-tooltip-marker")&&(x.config.tooltip.marker.fillColors&&Array.isArray(x.config.tooltip.marker.fillColors)&&(v=x.config.tooltip.marker.fillColors[l]),B[0].style.backgroundColor=v),x.config.tooltip.marker.show||(B[0].style.display="none");var b=h[l].querySelector(".apexcharts-tooltip-text-goals-label"),I=h[l].querySelector(".apexcharts-tooltip-text-goals-value");if(A.length&&x.globals.seriesGoals[l]){var P=function(){var j="<div >",Z="<div>";A.forEach(function(Y,_e){j+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Y.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Y.attrs.name,"</div>"),Z+="<div>".concat(Y.val,"</div>")}),b.innerHTML=j+"</div>",I.innerHTML=Z+"</div>"};m?x.globals.seriesGoals[l][d]&&Array.isArray(x.globals.seriesGoals[l][d])?P():(b.innerHTML="",I.innerHTML=""):P()}else b.innerHTML="",I.innerHTML="";null!==N&&(h[l].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=x.config.tooltip.z.title,h[l].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==N?N:""),m&&B[0]&&(B[0].parentNode.style.display=null==D||x.globals.ancillaryCollapsedSeriesIndices.indexOf(l)>-1||x.globals.collapsedSeriesIndices.indexOf(l)>-1?"none":x.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(a){var l=this.w;if(a)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var d=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");d&&(d.classList.add("apexcharts-active"),d.style.display=l.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(a){var l=a.i,d=a.j,h=this.w,p=this.ctx.series.filteredSeriesX(),g="",m="",v=null,x=null,E={series:h.globals.series,seriesIndex:l,dataPointIndex:d,w:h},D=h.globals.ttZFormatter;null===d?x=h.globals.series[l]:h.globals.isXNumeric&&"treemap"!==h.config.chart.type?(g=p[l][d],0===p[l].length&&(g=p[this.tooltipUtil.getFirstActiveXArray(p)][d])):g=void 0!==h.globals.labels[d]?h.globals.labels[d]:"";var A=g;return g=h.globals.isXNumeric&&"datetime"===h.config.xaxis.type?new Br(this.ctx).xLabelFormat(h.globals.ttKeyFormatter,A,A,{i:void 0,dateFormatter:new un(this.ctx).formatDate,w:this.w}):h.globals.isBarHorizontal?h.globals.yLabelFormatters[0](A,E):h.globals.xLabelFormatter(A,E),void 0!==h.config.tooltip.x.formatter&&(g=h.globals.ttKeyFormatter(A,E)),h.globals.seriesZ.length>0&&h.globals.seriesZ[l].length>0&&(v=D(h.globals.seriesZ[l][d],h)),m="function"==typeof h.config.xaxis.tooltip.formatter?h.globals.xaxisTooltipFormatter(A,E):g,{val:Array.isArray(x)?x.join(" "):x,xVal:Array.isArray(g)?g.join(" "):g,xAxisTTVal:Array.isArray(m)?m.join(" "):m,zVal:v}}},{key:"handleCustomTooltip",value:function(a){var l=a.i,d=a.j,h=a.y1,p=a.y2,g=a.w,m=this.ttCtx.getElTooltip(),v=g.config.tooltip.custom;Array.isArray(v)&&v[l]&&(v=v[l]),m.innerHTML=v({ctx:this.ctx,series:g.globals.series,seriesIndex:l,dataPointIndex:d,y1:h,y2:p,w:g})}}]),L}(),ka=function(){function L(a){He(this,L),this.ttCtx=a,this.ctx=a.ctx,this.w=a.w}return dt(L,[{key:"moveXCrosshairs",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,d=this.ttCtx,h=this.w,p=d.getElXCrosshairs(),g=a-d.xcrosshairsWidth/2,m=h.globals.labels.slice().length;if(null!==l&&(g=h.globals.gridWidth/m*l),null===p||h.globals.isBarHorizontal||(p.setAttribute("x",g),p.setAttribute("x1",g),p.setAttribute("x2",g),p.setAttribute("y2",h.globals.gridHeight),p.classList.add("apexcharts-active")),g<0&&(g=0),g>h.globals.gridWidth&&(g=h.globals.gridWidth),d.isXAxisTooltipEnabled){var v=g;"tickWidth"!==h.config.xaxis.crosshairs.width&&"barWidth"!==h.config.xaxis.crosshairs.width||(v=g+d.xcrosshairsWidth/2),this.moveXAxisTooltip(v)}}},{key:"moveYCrosshairs",value:function(a){var l=this.ttCtx;null!==l.ycrosshairs&&Me.setAttrs(l.ycrosshairs,{y1:a,y2:a}),null!==l.ycrosshairsHidden&&Me.setAttrs(l.ycrosshairsHidden,{y1:a,y2:a})}},{key:"moveXAxisTooltip",value:function(a){var l=this.w,d=this.ttCtx;if(null!==d.xaxisTooltip&&0!==d.xcrosshairsWidth){d.xaxisTooltip.classList.add("apexcharts-active");var p,h=d.xaxisOffY+l.config.xaxis.tooltip.offsetY+l.globals.translateY+1+l.config.xaxis.offsetY;a-=d.xaxisTooltip.getBoundingClientRect().width/2,isNaN(a)||(a+=l.globals.translateX,p=new Me(this.ctx).getTextRects(d.xaxisTooltipText.innerHTML),d.xaxisTooltipText.style.minWidth=p.width+"px",d.xaxisTooltip.style.left=a+"px",d.xaxisTooltip.style.top=h+"px")}}},{key:"moveYAxisTooltip",value:function(a){var l=this.w,d=this.ttCtx;null===d.yaxisTTEls&&(d.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var h=parseInt(d.ycrosshairsHidden.getAttribute("y1"),10),p=l.globals.translateY+h,g=d.yaxisTTEls[a].getBoundingClientRect().height,m=l.globals.translateYAxisX[a]-2;l.config.yaxis[a].opposite&&(m-=26),p-=g/2,-1===l.globals.ignoreYAxisIndexes.indexOf(a)?(d.yaxisTTEls[a].classList.add("apexcharts-active"),d.yaxisTTEls[a].style.top=p+"px",d.yaxisTTEls[a].style.left=m+l.config.yaxis[a].tooltip.offsetX+"px"):d.yaxisTTEls[a].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=this.w,p=this.ttCtx,g=p.getElTooltip(),m=p.tooltipRect,v=null!==d?parseFloat(d):1,x=parseFloat(a)+v+5,E=parseFloat(l)+v/2;if(x>h.globals.gridWidth/2&&(x=x-m.ttWidth-v-10),x>h.globals.gridWidth-m.ttWidth-10&&(x=h.globals.gridWidth-m.ttWidth),x<-20&&(x=-20),h.config.tooltip.followCursor){var D=p.getElGrid().getBoundingClientRect();(x=p.e.clientX-D.left)>h.globals.gridWidth/2&&(x-=p.tooltipRect.ttWidth),(E=p.e.clientY+h.globals.translateY-D.top)>h.globals.gridHeight/2&&(E-=p.tooltipRect.ttHeight)}else h.globals.isBarHorizontal||m.ttHeight/2+E>h.globals.gridHeight&&(E=h.globals.gridHeight-m.ttHeight+h.globals.translateY);isNaN(x)||(g.style.left=(x+=h.globals.translateX)+"px",g.style.top=E+"px")}},{key:"moveMarkers",value:function(a,l){var d=this.w,h=this.ttCtx;if(d.globals.markers.size[a]>0)for(var p=d.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(a,"'] .apexcharts-marker")),g=0;g<p.length;g++)parseInt(p[g].getAttribute("rel"),10)===l&&(h.marker.resetPointsSize(),h.marker.enlargeCurrentPoint(l,p[g]));else h.marker.resetPointsSize(),this.moveDynamicPointOnHover(l,a)}},{key:"moveDynamicPointOnHover",value:function(a,l){var d,h,p=this.w,g=this.ttCtx,m=p.globals.pointsArray,v=g.tooltipUtil.getHoverMarkerSize(l),x=p.config.series[l].type;if(!x||"column"!==x&&"candlestick"!==x&&"boxPlot"!==x){d=m[l][a][0],h=m[l][a][1]?m[l][a][1]:0;var E=p.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(l,"'] .apexcharts-series-markers circle"));E&&h<p.globals.gridHeight&&h>0&&(E.setAttribute("r",v),E.setAttribute("cx",d),E.setAttribute("cy",h)),this.moveXCrosshairs(d),g.fixedTooltip||this.moveTooltip(d,h,v)}}},{key:"moveDynamicPointsOnHover",value:function(a){var l,d=this.ttCtx,h=d.w,p=0,g=0,m=h.globals.pointsArray;l=new ot(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var v=d.tooltipUtil.getHoverMarkerSize(l);m[l]&&(p=m[l][a][0],g=m[l][a][1]);var x=d.tooltipUtil.getAllMarkers();if(null!==x)for(var E=0;E<h.globals.series.length;E++){var D=m[E];if(h.globals.comboCharts&&void 0===D&&x.splice(E,0,null),D&&D.length){var A=m[E][a][1];x[E].setAttribute("cx",p),"rangeArea"!==h.config.chart.type||h.globals.comboCharts||(A-=Math.abs(A-m[E][a+h.globals.series[E].length][1])/2),null!==A&&!isNaN(A)&&A<h.globals.gridHeight+v&&A+v>0?(x[E]&&x[E].setAttribute("r",v),x[E]&&x[E].setAttribute("cy",A)):x[E]&&x[E].setAttribute("r",0)}}this.moveXCrosshairs(p),d.fixedTooltip||this.moveTooltip(p,g||h.globals.gridHeight,v)}},{key:"moveStickyTooltipOverBars",value:function(a,l){var d=this.w,h=this.ttCtx,p=d.globals.columnSeries?d.globals.columnSeries.length:d.globals.series.length,g=p>=2&&p%2==0?Math.floor(p/2):Math.floor(p/2)+1;d.globals.isBarHorizontal&&(g=new ot(this.ctx).getActiveConfigSeriesIndex("desc")+1);var m=d.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(g,"'] path[j='").concat(a,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(g,"'] path[j='").concat(a,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(g,"'] path[j='").concat(a,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(g,"'] path[j='").concat(a,"']"));m||"number"!=typeof l||(m=d.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(l,"'] path[j='").concat(a,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(l,"'] path[j='").concat(a,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(l,"'] path[j='").concat(a,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(l,"'] path[j='").concat(a,"']")));var v=m?parseFloat(m.getAttribute("cx")):0,x=m?parseFloat(m.getAttribute("cy")):0,E=m?parseFloat(m.getAttribute("barWidth")):0,D=h.getElGrid().getBoundingClientRect(),A=m&&(m.classList.contains("apexcharts-candlestick-area")||m.classList.contains("apexcharts-boxPlot-area"));d.globals.isXNumeric?(m&&!A&&(v-=p%2!=0?E/2:0),m&&A&&d.globals.comboCharts&&(v-=E/2)):d.globals.isBarHorizontal||(v=h.xAxisTicksPositions[a-1]+h.dataPointsDividedWidth/2,isNaN(v)&&(v=h.xAxisTicksPositions[a]-h.dataPointsDividedWidth/2)),d.globals.isBarHorizontal?x-=h.tooltipRect.ttHeight:d.config.tooltip.followCursor?x=h.e.clientY-D.top-h.tooltipRect.ttHeight/2:x+h.tooltipRect.ttHeight+15>d.globals.gridHeight&&(x=d.globals.gridHeight),d.globals.isBarHorizontal||this.moveXCrosshairs(v),h.fixedTooltip||this.moveTooltip(v,x||d.globals.gridHeight)}}]),L}(),Ti=function(){function L(a){He(this,L),this.w=a.w,this.ttCtx=a,this.ctx=a.ctx,this.tooltipPosition=new ka(a)}return dt(L,[{key:"drawDynamicPoints",value:function(){var a=this.w,l=new Me(this.ctx),d=new Ae(this.ctx),h=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series");h=Mn(h),a.config.chart.stacked&&h.sort(function(D,A){return parseFloat(D.getAttribute("data:realIndex"))-parseFloat(A.getAttribute("data:realIndex"))});for(var p=0;p<h.length;p++){var g=h[p].querySelector(".apexcharts-series-markers-wrap");if(null!==g){var m=void 0,v="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==a.config.chart.type&&"area"!==a.config.chart.type||a.globals.comboCharts||a.config.tooltip.intersect||(v+=" no-pointer-events");var x=d.getMarkerConfig({cssClass:v,seriesIndex:Number(g.getAttribute("data:realIndex"))});(m=l.drawMarker(0,0,x)).node.setAttribute("default-marker-size",0);var E=document.createElementNS(a.globals.SVGNS,"g");E.classList.add("apexcharts-series-markers"),E.appendChild(m.node),g.appendChild(E)}}}},{key:"enlargeCurrentPoint",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=this.w;"bubble"!==p.config.chart.type&&this.newPointSize(a,l);var g=l.getAttribute("cx"),m=l.getAttribute("cy");if(null!==d&&null!==h&&(g=d,m=h),this.tooltipPosition.moveXCrosshairs(g),!this.fixedTooltip){if("radar"===p.config.chart.type){var v=this.ttCtx.getElGrid().getBoundingClientRect();g=this.ttCtx.e.clientX-v.left}this.tooltipPosition.moveTooltip(g,m,p.config.markers.hover.size)}}},{key:"enlargePoints",value:function(a){for(var l=this.w,d=this,h=this.ttCtx,p=a,g=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),m=l.config.markers.hover.size,v=0;v<g.length;v++){var x=g[v].getAttribute("rel"),E=g[v].getAttribute("index");if(void 0===m&&(m=l.globals.markers.size[E]+l.config.markers.hover.sizeOffset),p===parseInt(x,10)){d.newPointSize(p,g[v]);var D=g[v].getAttribute("cx"),A=g[v].getAttribute("cy");d.tooltipPosition.moveXCrosshairs(D),h.fixedTooltip||d.tooltipPosition.moveTooltip(D,A,m)}else d.oldPointSize(g[v])}}},{key:"newPointSize",value:function(a,l){var d=this.w,h=d.config.markers.hover.size,p=0===a?l.parentNode.firstChild:l.parentNode.lastChild;if("0"!==p.getAttribute("default-marker-size")){var g=parseInt(p.getAttribute("index"),10);void 0===h&&(h=d.globals.markers.size[g]+d.config.markers.hover.sizeOffset),h<0&&(h=0),p.setAttribute("r",h)}}},{key:"oldPointSize",value:function(a){var l=parseFloat(a.getAttribute("default-marker-size"));a.setAttribute("r",l)}},{key:"resetPointsSize",value:function(){for(var a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=0;l<a.length;l++){var d=parseFloat(a[l].getAttribute("default-marker-size"));he.isNumber(d)&&d>=0?a[l].setAttribute("r",d):a[l].setAttribute("r",0)}}}]),L}(),Ri=function(){function L(a){He(this,L),this.w=a.w;var l=this.w;this.ttCtx=a,this.isVerticalGroupedRangeBar=!l.globals.isBarHorizontal&&"rangeBar"===l.config.chart.type&&l.config.plotOptions.bar.rangeBarGroupRows}return dt(L,[{key:"getAttr",value:function(a,l){return parseFloat(a.target.getAttribute(l))}},{key:"handleHeatTreeTooltip",value:function(a){var l=a.e,d=a.opt,h=a.x,p=a.y,m=this.ttCtx,v=this.w;if(l.target.classList.contains("apexcharts-".concat(a.type,"-rect"))){var x=this.getAttr(l,"i"),E=this.getAttr(l,"j"),D=this.getAttr(l,"cx"),A=this.getAttr(l,"cy"),R=this.getAttr(l,"width"),O=this.getAttr(l,"height");if(m.tooltipLabels.drawSeriesTexts({ttItems:d.ttItems,i:x,j:E,shared:!1,e:l}),v.globals.capturedSeriesIndex=x,v.globals.capturedDataPointIndex=E,h=D+m.tooltipRect.ttWidth/2+R,p=A+m.tooltipRect.ttHeight/2-O/2,m.tooltipPosition.moveXCrosshairs(D+R/2),h>v.globals.gridWidth/2&&(h=D-m.tooltipRect.ttWidth/2+R),m.w.config.tooltip.followCursor){var N=v.globals.dom.elWrap.getBoundingClientRect();h=v.globals.clientX-N.left-(h>v.globals.gridWidth/2?m.tooltipRect.ttWidth:0),p=v.globals.clientY-N.top-(p>v.globals.gridHeight/2?m.tooltipRect.ttHeight:0)}}return{x:h,y:p}}},{key:"handleMarkerTooltip",value:function(a){var l,d,h=a.e,p=a.opt,g=a.x,m=a.y,v=this.w,x=this.ttCtx;if(h.target.classList.contains("apexcharts-marker")){var E=parseInt(p.paths.getAttribute("cx"),10),D=parseInt(p.paths.getAttribute("cy"),10),A=parseFloat(p.paths.getAttribute("val"));if(d=parseInt(p.paths.getAttribute("rel"),10),l=parseInt(p.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,x.intersect){var R=he.findAncestor(p.paths,"apexcharts-series");R&&(l=parseInt(R.getAttribute("data:realIndex"),10))}if(x.tooltipLabels.drawSeriesTexts({ttItems:p.ttItems,i:l,j:d,shared:!x.showOnIntersect&&v.config.tooltip.shared,e:h}),"mouseup"===h.type&&x.markerClick(h,l,d),v.globals.capturedSeriesIndex=l,v.globals.capturedDataPointIndex=d,g=E,m=D+v.globals.translateY-1.4*x.tooltipRect.ttHeight,x.w.config.tooltip.followCursor){var O=x.getElGrid().getBoundingClientRect();m=x.e.clientY+v.globals.translateY-O.top}A<0&&(m=D),x.marker.enlargeCurrentPoint(d,p.paths,g,m)}return{x:g,y:m}}},{key:"handleBarTooltip",value:function(a){var l,d,h=a.e,p=a.opt,g=this.w,m=this.ttCtx,v=m.getElTooltip(),x=0,E=0,D=0,A=this.getBarTooltipXY({e:h,opt:p}),R=A.barHeight,O=A.j;g.globals.capturedSeriesIndex=l=A.i,g.globals.capturedDataPointIndex=O,g.globals.isBarHorizontal&&m.tooltipUtil.hasBars()||!g.config.tooltip.shared?(E=A.x,D=A.y,d=Array.isArray(g.config.stroke.width)?g.config.stroke.width[l]:g.config.stroke.width,x=E):g.globals.comboCharts||g.config.tooltip.shared||(x/=2),isNaN(D)&&(D=g.globals.svgHeight-m.tooltipRect.ttHeight);var N=parseInt(p.paths.parentNode.getAttribute("data:realIndex"),10),B=g.globals.isMultipleYAxis?g.config.yaxis[N]&&g.config.yaxis[N].reversed:g.config.yaxis[0].reversed;if(E+m.tooltipRect.ttWidth>g.globals.gridWidth&&!B?E-=m.tooltipRect.ttWidth:E<0&&(E=0),m.w.config.tooltip.followCursor){var G=m.getElGrid().getBoundingClientRect();D=m.e.clientY-G.top}null===m.tooltip&&(m.tooltip=g.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),g.config.tooltip.shared||m.tooltipPosition.moveXCrosshairs(g.globals.comboBarCount>0?x+d/2:x),!m.fixedTooltip&&(!g.config.tooltip.shared||g.globals.isBarHorizontal&&m.tooltipUtil.hasBars())&&(B&&(E-=m.tooltipRect.ttWidth)<0&&(E=0),!B||g.globals.isBarHorizontal&&m.tooltipUtil.hasBars()||(D=D+R-2*(g.globals.series[l][O]<0?R:0)),D=D+g.globals.translateY-m.tooltipRect.ttHeight/2,v.style.left=E+g.globals.translateX+"px",v.style.top=D+"px")}},{key:"getBarTooltipXY",value:function(a){var l=this,d=a.e,h=a.opt,p=this.w,g=null,m=this.ttCtx,v=0,x=0,E=0,D=0,A=0,R=d.target.classList;if(R.contains("apexcharts-bar-area")||R.contains("apexcharts-candlestick-area")||R.contains("apexcharts-boxPlot-area")||R.contains("apexcharts-rangebar-area")){var O=d.target,N=O.getBoundingClientRect(),B=h.elGrid.getBoundingClientRect(),G=N.height;A=N.height;var X=N.width,b=parseInt(O.getAttribute("cx"),10),I=parseInt(O.getAttribute("cy"),10);D=parseFloat(O.getAttribute("barWidth"));var P="touchmove"===d.type?d.touches[0].clientX:d.clientX;g=parseInt(O.getAttribute("j"),10),v=parseInt(O.parentNode.getAttribute("rel"),10)-1;var j=O.getAttribute("data-range-y1"),Z=O.getAttribute("data-range-y2");p.globals.comboCharts&&(v=parseInt(O.parentNode.getAttribute("data:realIndex"),10));var Y=function(me){return p.globals.isXNumeric?b-X/2:l.isVerticalGroupedRangeBar?b+X/2:b-m.dataPointsDividedWidth+X/2},_e=function(){return I-m.dataPointsDividedHeight+G/2-m.tooltipRect.ttHeight/2};m.tooltipLabels.drawSeriesTexts({ttItems:h.ttItems,i:v,j:g,y1:j?parseInt(j,10):null,y2:Z?parseInt(Z,10):null,shared:!m.showOnIntersect&&p.config.tooltip.shared,e:d}),p.config.tooltip.followCursor?p.globals.isBarHorizontal?(x=P-B.left+15,E=_e()):(x=Y(),E=d.clientY-B.top-m.tooltipRect.ttHeight/2-15):p.globals.isBarHorizontal?((x=b)<m.xyRatios.baseLineInvertedY&&(x=b-m.tooltipRect.ttWidth),E=_e()):(x=Y(),E=I)}return{x,y:E,barHeight:A,barWidth:D,i:v,j:g}}}]),L}(),uo=function(){function L(a){He(this,L),this.w=a.w,this.ttCtx=a}return dt(L,[{key:"drawXaxisTooltip",value:function(){var a=this.w,l=this.ttCtx,d="bottom"===a.config.xaxis.position;l.xaxisOffY=d?a.globals.gridHeight+1:-a.globals.xAxisHeight-a.config.xaxis.axisTicks.height+3;var h=d?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",p=a.globals.dom.elWrap;l.isXAxisTooltipEnabled&&null===a.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(l.xaxisTooltip=document.createElement("div"),l.xaxisTooltip.setAttribute("class",h+" apexcharts-theme-"+a.config.tooltip.theme),p.appendChild(l.xaxisTooltip),l.xaxisTooltipText=document.createElement("div"),l.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),l.xaxisTooltipText.style.fontFamily=a.config.xaxis.tooltip.style.fontFamily||a.config.chart.fontFamily,l.xaxisTooltipText.style.fontSize=a.config.xaxis.tooltip.style.fontSize,l.xaxisTooltip.appendChild(l.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var a=this.w,l=this.ttCtx,d=function(p){var g=a.config.yaxis[p].opposite||a.config.yaxis[p].crosshairs.opposite;l.yaxisOffX=g?a.globals.gridWidth+1:1;var m="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p,g?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");a.globals.yAxisSameScaleIndices.map(function(x,E){x.map(function(D,A){A===p&&(m+=a.config.yaxis[A].show?" ":" apexcharts-yaxistooltip-hidden")})});var v=a.globals.dom.elWrap;null===a.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p))&&(l.yaxisTooltip=document.createElement("div"),l.yaxisTooltip.setAttribute("class",m+" apexcharts-theme-"+a.config.tooltip.theme),v.appendChild(l.yaxisTooltip),0===p&&(l.yaxisTooltipText=[]),l.yaxisTooltipText[p]=document.createElement("div"),l.yaxisTooltipText[p].classList.add("apexcharts-yaxistooltip-text"),l.yaxisTooltip.appendChild(l.yaxisTooltipText[p]))},h=0;h<a.config.yaxis.length;h++)d(h)}},{key:"setXCrosshairWidth",value:function(){var a=this.w,l=this.ttCtx,d=l.getElXCrosshairs();if(l.xcrosshairsWidth=parseInt(a.config.xaxis.crosshairs.width,10),a.globals.comboCharts){var h=a.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==h&&"barWidth"===a.config.xaxis.crosshairs.width){var p=parseFloat(h.getAttribute("barWidth"));l.xcrosshairsWidth=p}else"tickWidth"===a.config.xaxis.crosshairs.width&&(l.xcrosshairsWidth=a.globals.gridWidth/a.globals.labels.length)}else if("tickWidth"===a.config.xaxis.crosshairs.width)l.xcrosshairsWidth=a.globals.gridWidth/a.globals.labels.length;else if("barWidth"===a.config.xaxis.crosshairs.width){var v=a.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==v){var x=parseFloat(v.getAttribute("barWidth"));l.xcrosshairsWidth=x}else l.xcrosshairsWidth=1}a.globals.isBarHorizontal&&(l.xcrosshairsWidth=0),null!==d&&l.xcrosshairsWidth>0&&d.setAttribute("width",l.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var a=this.w,l=this.ttCtx;l.ycrosshairs=a.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),l.ycrosshairsHidden=a.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(a,l,d){var h=this.ttCtx,p=this.w,g=p.globals.yLabelFormatters[a];if(h.yaxisTooltips[a]){var m=h.getElGrid().getBoundingClientRect(),E=p.globals.minYArr[a]+(p.globals.maxYArr[a]-p.globals.minYArr[a]-(l-m.top)*d.yRatio[a]);h.tooltipPosition.moveYCrosshairs(l-m.top),h.yaxisTooltipText[a].innerHTML=g(E),h.tooltipPosition.moveYAxisTooltip(a)}}}]),L}(),bs=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w;var l=this.w;this.tConfig=l.config.tooltip,this.tooltipUtil=new Yn(this),this.tooltipLabels=new ti(this),this.tooltipPosition=new ka(this),this.marker=new Ti(this),this.intersect=new Ri(this),this.axesTooltip=new uo(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!l.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return dt(L,[{key:"getElTooltip",value:function(a){return a||(a=this),a.w.globals.dom.baseEl?a.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(a){var l=this.w;this.xyRatios=a,this.isXAxisTooltipEnabled=l.config.xaxis.tooltip.enabled&&l.globals.axisCharts,this.yaxisTooltips=l.config.yaxis.map(function(g,m){return!!(g.show&&g.tooltip.enabled&&l.globals.axisCharts)}),this.allTooltipSeriesGroups=[],l.globals.axisCharts||(this.showTooltipTitle=!1);var d=document.createElement("div");if(d.classList.add("apexcharts-tooltip"),l.config.tooltip.cssClass&&d.classList.add(l.config.tooltip.cssClass),d.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),l.globals.dom.elWrap.appendChild(d),l.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var h=new bn(this.ctx);this.xAxisTicksPositions=h.getXAxisTicksPositions()}if(!l.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==l.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==l.config.markers.size&&0!==l.globals.markers.largestSize||this.marker.drawDynamicPoints(this),l.globals.collapsedSeries.length!==l.globals.series.length){this.dataPointsDividedHeight=l.globals.gridHeight/l.globals.dataPoints,this.dataPointsDividedWidth=l.globals.gridWidth/l.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||l.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,d.appendChild(this.tooltipTitle));var p=l.globals.series.length;(l.globals.xyCharts||l.globals.comboCharts)&&this.tConfig.shared&&(p=this.showOnIntersect?1:l.globals.series.length),this.legendLabels=l.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(p),this.addSVGEvents()}}},{key:"createTTElements",value:function(a){for(var l=this,d=this.w,h=[],p=this.getElTooltip(),g=function(v){var x=document.createElement("div");x.classList.add("apexcharts-tooltip-series-group"),x.style.order=d.config.tooltip.inverseOrder?a-v:v+1,l.tConfig.shared&&l.tConfig.enabledOnSeries&&Array.isArray(l.tConfig.enabledOnSeries)&&l.tConfig.enabledOnSeries.indexOf(v)<0&&x.classList.add("apexcharts-tooltip-series-group-hidden");var E=document.createElement("span");E.classList.add("apexcharts-tooltip-marker"),E.style.backgroundColor=d.globals.colors[v],x.appendChild(E);var D=document.createElement("div");D.classList.add("apexcharts-tooltip-text"),D.style.fontFamily=l.tConfig.style.fontFamily||d.config.chart.fontFamily,D.style.fontSize=l.tConfig.style.fontSize,["y","goals","z"].forEach(function(A){var R=document.createElement("div");R.classList.add("apexcharts-tooltip-".concat(A,"-group"));var O=document.createElement("span");O.classList.add("apexcharts-tooltip-text-".concat(A,"-label")),R.appendChild(O);var N=document.createElement("span");N.classList.add("apexcharts-tooltip-text-".concat(A,"-value")),R.appendChild(N),D.appendChild(R)}),x.appendChild(D),p.appendChild(x),h.push(x)},m=0;m<a;m++)g(m);return h}},{key:"addSVGEvents",value:function(){var a=this.w,l=a.config.chart.type,d=this.getElTooltip(),h=!("bar"!==l&&"candlestick"!==l&&"boxPlot"!==l&&"rangeBar"!==l),p="area"===l||"line"===l||"scatter"===l||"bubble"===l||"radar"===l,g=a.globals.dom.Paper.node,m=this.getElGrid();m&&(this.seriesBound=m.getBoundingClientRect());var v,x=[],E=[],D={hoverArea:g,elGrid:m,tooltipEl:d,tooltipY:x,tooltipX:E,ttItems:this.ttItems};if(a.globals.axisCharts&&(p?v=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):h?v=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==l&&"treemap"!==l||(v=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),v&&v.length))for(var A=0;A<v.length;A++)x.push(v[A].getAttribute("cy")),E.push(v[A].getAttribute("cx"));if(a.globals.xyCharts&&!this.showOnIntersect||a.globals.comboCharts&&!this.showOnIntersect||h&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([g],D);else if(h&&!a.globals.comboCharts||p&&this.showOnIntersect)this.addDatapointEventsListeners(D);else if(!a.globals.axisCharts||"heatmap"===l||"treemap"===l){var R=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(R,D)}if(this.showOnIntersect){var O=a.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");O.length>0&&this.addPathsEventListeners(O,D),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(D)}}},{key:"drawFixedTooltipRect",value:function(){var a=this.w,l=this.getElTooltip(),d=l.getBoundingClientRect(),h=d.width+10,p=d.height+10,g=this.tConfig.fixed.offsetX,m=this.tConfig.fixed.offsetY,v=this.tConfig.fixed.position.toLowerCase();return v.indexOf("right")>-1&&(g=g+a.globals.svgWidth-h+10),v.indexOf("bottom")>-1&&(m=m+a.globals.svgHeight-p-10),l.style.left=g+"px",l.style.top=m+"px",{x:g,y:m,ttWidth:h,ttHeight:p}}},{key:"addDatapointEventsListeners",value:function(a){var l=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(l,a)}},{key:"addPathsEventListeners",value:function(a,l){for(var d=this,h=function(g){var m={paths:a[g],tooltipEl:l.tooltipEl,tooltipY:l.tooltipY,tooltipX:l.tooltipX,elGrid:l.elGrid,hoverArea:l.hoverArea,ttItems:l.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(v){return a[g].addEventListener(v,d.onSeriesHover.bind(d,m),{capture:!1,passive:!0})})},p=0;p<a.length;p++)h(p)}},{key:"onSeriesHover",value:function(a,l){var d=this,h=Date.now()-this.lastHoverTime;h>=100?this.seriesHover(a,l):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){d.seriesHover(a,l)},100-h))}},{key:"seriesHover",value:function(a,l){var d=this;this.lastHoverTime=Date.now();var h=[],p=this.w;p.config.chart.group&&(h=this.ctx.getGroupedCharts()),p.globals.axisCharts&&(p.globals.minX===-1/0&&p.globals.maxX===1/0||0===p.globals.dataPoints)||(h.length?h.forEach(function(g){var m=d.getElTooltip(g);g.w.globals.minX===d.w.globals.minX&&g.w.globals.maxX===d.w.globals.maxX&&g.w.globals.tooltip.seriesHoverByContext({chartCtx:g,ttCtx:g.w.globals.tooltip,opt:{paths:a.paths,tooltipEl:m,tooltipY:a.tooltipY,tooltipX:a.tooltipX,elGrid:a.elGrid,hoverArea:a.hoverArea,ttItems:g.w.globals.tooltip.ttItems},e:l})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:a,e:l}))}},{key:"seriesHoverByContext",value:function(a){var l=a.chartCtx,d=a.ttCtx,h=a.opt,p=a.e,g=l.w,m=this.getElTooltip();m&&(d.tooltipRect={x:0,y:0,ttWidth:m.getBoundingClientRect().width,ttHeight:m.getBoundingClientRect().height},d.e=p,d.tooltipUtil.hasBars()&&!g.globals.comboCharts&&!d.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new ot(l).toggleSeriesOnHover(p,p.target.parentNode),d.fixedTooltip&&d.drawFixedTooltipRect(),g.globals.axisCharts?d.axisChartsTooltips({e:p,opt:h,tooltipRect:d.tooltipRect}):d.nonAxisChartsTooltips({e:p,opt:h,tooltipRect:d.tooltipRect}))}},{key:"axisChartsTooltips",value:function(a){var l,d,h=a.e,p=a.opt,g=this.w,m=p.elGrid.getBoundingClientRect(),v="touchmove"===h.type?h.touches[0].clientX:h.clientX,x="touchmove"===h.type?h.touches[0].clientY:h.clientY;if(this.clientY=x,this.clientX=v,g.globals.capturedSeriesIndex=-1,g.globals.capturedDataPointIndex=-1,x<m.top||x>m.top+m.height)this.handleMouseOut(p);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!g.config.tooltip.shared){var E=parseInt(p.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(E)<0)return void this.handleMouseOut(p)}var D=this.getElTooltip(),A=this.getElXCrosshairs(),R=g.globals.xyCharts||"bar"===g.config.chart.type&&!g.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||g.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===h.type||"touchmove"===h.type||"mouseup"===h.type){if(g.globals.collapsedSeries.length+g.globals.ancillaryCollapsedSeries.length===g.globals.series.length)return;null!==A&&A.classList.add("apexcharts-active");var O=this.yaxisTooltips.filter(function(G){return!0===G});if(null!==this.ycrosshairs&&O.length&&this.ycrosshairs.classList.add("apexcharts-active"),R&&!this.showOnIntersect)this.handleStickyTooltip(h,v,x,p);else if("heatmap"===g.config.chart.type||"treemap"===g.config.chart.type){var N=this.intersect.handleHeatTreeTooltip({e:h,opt:p,x:l,y:d,type:g.config.chart.type});d=N.y,D.style.left=(l=N.x)+"px",D.style.top=d+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:h,opt:p}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:h,opt:p,x:l,y:d});if(this.yaxisTooltips.length)for(var B=0;B<g.config.yaxis.length;B++)this.axesTooltip.drawYaxisTooltipText(B,x,this.xyRatios);p.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==h.type&&"touchend"!==h.type||this.handleMouseOut(p)}}},{key:"nonAxisChartsTooltips",value:function(a){var l=a.e,d=a.opt,h=a.tooltipRect,p=this.w,g=d.paths.getAttribute("rel"),m=this.getElTooltip(),v=p.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===l.type||"touchmove"===l.type){m.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:d.ttItems,i:parseInt(g,10)-1,shared:!1});var E=p.globals.clientY-v.top-h.ttHeight-10;if(m.style.left=p.globals.clientX-v.left-h.ttWidth/2+"px",m.style.top=E+"px",p.config.legend.tooltipHoverFormatter){var D=g-1,A=(0,p.config.legend.tooltipHoverFormatter)(this.legendLabels[D].getAttribute("data:default-text"),{seriesIndex:D,dataPointIndex:D,w:p});this.legendLabels[D].innerHTML=A}}else"mouseout"!==l.type&&"touchend"!==l.type||(m.classList.remove("apexcharts-active"),p.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(R){var O=R.getAttribute("data:default-text");R.innerHTML=decodeURIComponent(O)}))}},{key:"handleStickyTooltip",value:function(a,l,d,h){var p=this.w,g=this.tooltipUtil.getNearestValues({context:this,hoverArea:h.hoverArea,elGrid:h.elGrid,clientX:l,clientY:d}),m=g.j,v=g.capturedSeries;p.globals.collapsedSeriesIndices.includes(v)&&(v=null);var x=h.elGrid.getBoundingClientRect();if(g.hoverX<0||g.hoverX>x.width)this.handleMouseOut(h);else if(null!==v)this.handleStickyCapturedSeries(a,v,h,m);else if(this.tooltipUtil.isXoverlap(m)||p.globals.isBarHorizontal){var E=p.globals.series.findIndex(function(D,A){return!p.globals.collapsedSeriesIndices.includes(A)});this.create(a,this,E,m,h.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(a,l,d,h){var p=this.w;if(this.tConfig.shared||null!==p.globals.series[l][h]){if(void 0!==p.globals.series[l][h])this.tConfig.shared&&this.tooltipUtil.isXoverlap(h)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(a,this,l,h,d.ttItems):this.create(a,this,l,h,d.ttItems,!1);else if(this.tooltipUtil.isXoverlap(h)){var g=p.globals.series.findIndex(function(m,v){return!p.globals.collapsedSeriesIndices.includes(v)});this.create(a,this,g,h,d.ttItems)}}else this.handleMouseOut(d)}},{key:"deactivateHoverFilter",value:function(){for(var a=this.w,l=new Me(this.ctx),d=a.globals.dom.Paper.select(".apexcharts-bar-area"),h=0;h<d.length;h++)l.pathMouseLeave(d[h])}},{key:"handleMouseOut",value:function(a){var l=this.w,d=this.getElXCrosshairs();if(a.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==l.config.chart.type&&this.marker.resetPointsSize(),null!==d&&d.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var h=0;h<this.yaxisTTEls.length;h++)this.yaxisTTEls[h].classList.remove("apexcharts-active")}l.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(p){var g=p.getAttribute("data:default-text");p.innerHTML=decodeURIComponent(g)})}},{key:"markerClick",value:function(a,l,d){var h=this.w;"function"==typeof h.config.chart.events.markerClick&&h.config.chart.events.markerClick(a,this.ctx,{seriesIndex:l,dataPointIndex:d,w:h}),this.ctx.events.fireEvent("markerClick",[a,this.ctx,{seriesIndex:l,dataPointIndex:d,w:h}])}},{key:"create",value:function(a,l,d,h,p){var g,m,v,x,E,D,A,R,O,N,B,G,X,b,I,P,j=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,Z=this.w,Y=l;"mouseup"===a.type&&this.markerClick(a,d,h),null===j&&(j=this.tConfig.shared);var _e=this.tooltipUtil.hasMarkers(d),me=this.tooltipUtil.getElBars();if(Z.config.legend.tooltipHoverFormatter){var Re=Z.config.legend.tooltipHoverFormatter,le=Array.from(this.legendLabels);le.forEach(function(ws){var Ja=ws.getAttribute("data:default-text");ws.innerHTML=decodeURIComponent(Ja)});for(var Ye=0;Ye<le.length;Ye++){var Ie=le[Ye],bt=parseInt(Ie.getAttribute("i"),10),tn=decodeURIComponent(Ie.getAttribute("data:default-text")),Sn=Re(tn,{seriesIndex:j?bt:d,dataPointIndex:h,w:Z});if(j)Ie.innerHTML=Z.globals.collapsedSeriesIndices.indexOf(bt)<0?Sn:tn;else if(Ie.innerHTML=bt===d?Sn:tn,d===bt)break}}var qn=oe(oe({ttItems:p,i:d,j:h},void 0!==(null===(g=Z.globals.seriesRange)||void 0===g||null===(m=g[d])||void 0===m||null===(v=m[h])||void 0===v||null===(x=v.y[0])||void 0===x?void 0:x.y1)&&{y1:null===(E=Z.globals.seriesRange)||void 0===E||null===(D=E[d])||void 0===D||null===(A=D[h])||void 0===A||null===(R=A.y[0])||void 0===R?void 0:R.y1}),void 0!==(null===(O=Z.globals.seriesRange)||void 0===O||null===(N=O[d])||void 0===N||null===(B=N[h])||void 0===B||null===(G=B.y[0])||void 0===G?void 0:G.y2)&&{y2:null===(X=Z.globals.seriesRange)||void 0===X||null===(b=X[d])||void 0===b||null===(I=b[h])||void 0===I||null===(P=I.y[0])||void 0===P?void 0:P.y2});if(j){if(Y.tooltipLabels.drawSeriesTexts(oe(oe({},qn),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),_e)Z.globals.markers.largestSize>0?Y.marker.enlargePoints(h):Y.tooltipPosition.moveDynamicPointsOnHover(h);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(me),this.barSeriesHeight>0)){var wi=new Me(this.ctx),ri=Z.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(h,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(h,d);for(var zi=0;zi<ri.length;zi++)wi.pathMouseEnter(ri[zi])}}else Y.tooltipLabels.drawSeriesTexts(oe({shared:!1},qn)),this.tooltipUtil.hasBars()&&Y.tooltipPosition.moveStickyTooltipOverBars(h,d),_e&&Y.tooltipPosition.moveMarkers(d,h)}}]),L}(),ho=function(){function L(a){He(this,L),this.w=a.w,this.barCtx=a,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return dt(L,[{key:"handleBarDataLabels",value:function(a){var l=a.x,d=a.y,h=a.y1,p=a.y2,g=a.i,m=a.j,v=a.realIndex,x=a.groupIndex,E=a.series,D=a.barHeight,A=a.barWidth,R=a.barXPosition,O=a.barYPosition,N=a.visibleSeries,B=a.renderedPath,G=this.w,X=new Me(this.barCtx.ctx),b=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[v]:this.barCtx.strokeWidth,I=l+parseFloat(A*N),P=d+parseFloat(D*N);G.globals.isXNumeric&&!G.globals.isBarHorizontal&&(I=l+parseFloat(A*(N+1)),P=d+parseFloat(D*(N+1))-b);var j,me,Z=null,Y=l,_e=d,Re=G.config.dataLabels,le=this.barCtx.barOptions.dataLabels,Ye=this.barCtx.barOptions.dataLabels.total;void 0!==O&&this.barCtx.isRangeBar&&(P=O,_e=O),void 0!==R&&this.barCtx.isVerticalGroupedRangeBar&&(I=R,Y=R);var Ie=Re.offsetX,bt=Re.offsetY,tn={width:0,height:0};G.config.dataLabels.enabled&&(tn=X.getTextRects(G.globals.yLabelFormatters[0](this.barCtx.series[g][m]),parseFloat(Re.style.fontSize)));var qn={x:l,y:d,i:g,j:m,realIndex:v,groupIndex:x||-1,renderedPath:B,bcx:I,bcy:P,barHeight:D,barWidth:A,textRects:tn,strokeWidth:b,dataLabelsX:Y,dataLabelsY:_e,dataLabelsConfig:Re,barDataLabelsConfig:le,barTotalDataLabelsConfig:Ye,offX:Ie,offY:bt};return me=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(qn):this.calculateColumnsDataLabelsPosition(qn),B.attr({cy:me.bcy,cx:me.bcx,j:m,val:E[g][m],barHeight:D,barWidth:A}),j=this.drawCalculatedDataLabels({x:me.dataLabelsX,y:me.dataLabelsY,val:this.barCtx.isRangeBar?[h,p]:E[g][m],i:v,j:m,barWidth:A,barHeight:D,textRects:tn,dataLabelsConfig:Re}),G.config.chart.stacked&&Ye.enabled&&(Z=this.drawTotalDataLabels({x:me.totalDataLabelsX,y:me.totalDataLabelsY,realIndex:v,textAnchor:me.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:v,j:m}),dataLabelsConfig:Re,barTotalDataLabelsConfig:Ye})),{dataLabels:j,totalDataLabels:Z}}},{key:"getStackedTotalDataLabel",value:function(a){var l=a.realIndex,d=a.j,h=this.w,p=this.barCtx.stackedSeriesTotals[d];return this.totalFormatter&&(p=this.totalFormatter(p,oe(oe({},h),{},{seriesIndex:l,dataPointIndex:d,w:h}))),p}},{key:"calculateColumnsDataLabelsPosition",value:function(a){var l,d,h=this.w,p=a.i,g=a.j,m=a.realIndex,v=a.groupIndex,x=a.y,E=a.bcx,D=a.barWidth,A=a.barHeight,R=a.textRects,O=a.dataLabelsX,N=a.dataLabelsY,B=a.dataLabelsConfig,G=a.barDataLabelsConfig,X=a.barTotalDataLabelsConfig,b=a.strokeWidth,I=a.offX,P=a.offY;A=Math.abs(A);var j="vertical"===h.config.plotOptions.bar.dataLabels.orientation,Z=this.barCtx.barHelpers.getZeroValueEncounters({i:p,j:g}).zeroEncounters;E=E-b/2+(-1!==v?v*D:0),this.barCtx.isVerticalGroupedRangeBar?O+=D/2:(O=h.globals.isXNumeric?E-D/2+I:E-h.globals.gridWidth/h.globals.dataPoints+D/2+I,Z>0&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(O-=D*Z)),j&&(O=O+R.height/2-b/2-2);var _e=this.barCtx.series[p][g]<0,me=x;switch(this.barCtx.isReversed&&(me=x-A+(_e?2*A:0),x-=A),G.position){case"center":N=j?_e?me-A/2+P:me+A/2-P:_e?me-A/2+R.height/2+P:me+A/2+R.height/2-P;break;case"bottom":N=j?_e?me-A+P:me+A-P:_e?me-A+R.height+b+P:me+A-R.height/2+b-P;break;case"top":N=j?_e?me+P:me-P:_e?me-R.height/2-P:me+R.height+P}if(this.barCtx.lastActiveBarSerieIndex===m&&X.enabled){var Re=new Me(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:m,j:g}),B.fontSize);l=_e?me-Re.height/2-P-X.offsetY+18:me+Re.height+P+X.offsetY-18,d=O+X.offsetX}return h.config.chart.stacked||(N<0?N=0+b:N+R.height/3>h.globals.gridHeight&&(N=h.globals.gridHeight-b)),{bcx:E,bcy:x,dataLabelsX:O,dataLabelsY:N,totalDataLabelsX:d,totalDataLabelsY:l,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(a){var l=this.w,d=a.x,h=a.i,p=a.j,g=a.realIndex,m=a.groupIndex,v=a.bcy,x=a.barHeight,E=a.barWidth,D=a.textRects,A=a.dataLabelsX,R=a.strokeWidth,O=a.dataLabelsConfig,N=a.barDataLabelsConfig,B=a.barTotalDataLabelsConfig,G=a.offX,X=a.offY,b=l.globals.gridHeight/l.globals.dataPoints;E=Math.abs(E);var I,P,j=(v+=-1!==m?m*x:0)-(this.barCtx.isRangeBar?0:b)+x/2+D.height/2+X-3,Z="start",Y=this.barCtx.series[h][p]<0,_e=d;switch(this.barCtx.isReversed&&(_e=d+E-(Y?2*E:0),d=l.globals.gridWidth-E),N.position){case"center":A=Y?_e+E/2-G:Math.max(D.width/2,_e-E/2)+G;break;case"bottom":A=Y?_e+E-R-Math.round(D.width/2)-G:_e-E+R+Math.round(D.width/2)+G;break;case"top":A=Y?_e-R+Math.round(D.width/2)-G:_e-R-Math.round(D.width/2)+G}if(this.barCtx.lastActiveBarSerieIndex===g&&B.enabled){var me=new Me(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:g,j:p}),O.fontSize);Y?(I=_e-R+Math.round(me.width/2)-G-B.offsetX-15,Z="end"):I=_e-R-Math.round(me.width/2)+G+B.offsetX+15,P=j+B.offsetY}return l.config.chart.stacked||(A<0?A=A+D.width+R:A+D.width/2>l.globals.gridWidth&&(A=l.globals.gridWidth-D.width-R)),{bcx:d,bcy:v,dataLabelsX:A,dataLabelsY:j,totalDataLabelsX:I,totalDataLabelsY:P,totalDataLabelsAnchor:Z}}},{key:"drawCalculatedDataLabels",value:function(a){var l=a.x,d=a.y,h=a.val,p=a.i,g=a.j,m=a.textRects,v=a.barHeight,x=a.barWidth,E=a.dataLabelsConfig,D=this.w,A="rotate(0)";"vertical"===D.config.plotOptions.bar.dataLabels.orientation&&(A="rotate(-90, ".concat(l,", ").concat(d,")"));var R=new je(this.barCtx.ctx),O=new Me(this.barCtx.ctx),N=E.formatter,B=null,G=D.globals.collapsedSeriesIndices.indexOf(p)>-1;if(E.enabled&&!G){B=O.group({class:"apexcharts-data-labels",transform:A});var X="";void 0!==h&&(X=N(h,oe(oe({},D),{},{seriesIndex:p,dataPointIndex:g,w:D}))),!h&&D.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(X="");var b=D.globals.series[p][g]<0,I=D.config.plotOptions.bar.dataLabels.position;"vertical"===D.config.plotOptions.bar.dataLabels.orientation&&("top"===I&&(E.textAnchor=b?"end":"start"),"center"===I&&(E.textAnchor="middle"),"bottom"===I&&(E.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&x<O.getTextRects(X,parseFloat(E.style.fontSize)).width&&(X=""),D.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?m.width/1.6>Math.abs(x)&&(X=""):m.height/1.6>Math.abs(v)&&(X=""));var P=oe({},E);this.barCtx.isHorizontal&&h<0&&("start"===E.textAnchor?P.textAnchor="end":"end"===E.textAnchor&&(P.textAnchor="start")),R.plotDataLabelsText({x:l,y:d,text:X,i:p,j:g,parent:B,dataLabelsConfig:P,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return B}},{key:"drawTotalDataLabels",value:function(a){var l,d=a.x,h=a.y,p=a.val,g=a.realIndex,m=a.textAnchor,v=a.barTotalDataLabelsConfig,x=new Me(this.barCtx.ctx);return v.enabled&&void 0!==d&&void 0!==h&&this.barCtx.lastActiveBarSerieIndex===g&&(l=x.drawText({x:d,y:h,foreColor:v.style.color,text:p,textAnchor:m,fontFamily:v.style.fontFamily,fontSize:v.style.fontSize,fontWeight:v.style.fontWeight})),l}}]),L}(),Er=function(){function L(a){He(this,L),this.w=a.w,this.barCtx=a}return dt(L,[{key:"initVariables",value:function(a){var l=this.w;this.barCtx.series=a,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var d=0;d<a.length;d++)if(a[d].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=a[d].length),l.globals.isXNumeric)for(var h=0;h<a[d].length;h++)l.globals.seriesX[d][h]>l.globals.minX&&l.globals.seriesX[d][h]<l.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=l.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],l.globals.comboCharts||this.checkZeroSeries({series:a})}},{key:"initialPositions",value:function(){var a,l,d,h,p,g,m,v,x=this.w,E=x.globals.dataPoints;this.barCtx.isRangeBar&&(E=x.globals.labels.length);var D=this.barCtx.seriesLen;if(x.config.plotOptions.bar.rangeBarGroupRows&&(D=1),this.barCtx.isHorizontal)p=(d=x.globals.gridHeight/E)/D,x.globals.isXNumeric&&(p=(d=x.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),p=p*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(p=parseInt(this.barCtx.barOptions.barHeight,10)),v=this.barCtx.baseLineInvertedY+x.globals.padHorizontal+(this.barCtx.isReversed?x.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(v=x.globals.gridWidth/2),l=(d-p*this.barCtx.seriesLen)/2;else{if(h=x.globals.gridWidth/this.barCtx.visibleItems,x.config.xaxis.convertedCatToNumeric&&(h=x.globals.gridWidth/x.globals.dataPoints),g=h/D*parseInt(this.barCtx.barOptions.columnWidth,10)/100,x.globals.isXNumeric){var A=this.barCtx.xRatio;x.config.xaxis.convertedCatToNumeric&&(A=this.barCtx.initialXRatio),x.globals.minXDiff&&.5!==x.globals.minXDiff&&x.globals.minXDiff/A>0&&(h=x.globals.minXDiff/A),(g=h/D*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(g=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(g=parseInt(this.barCtx.barOptions.columnWidth,10)),m=x.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?x.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),a=x.globals.padHorizontal+(h-g*this.barCtx.seriesLen)/2}return{x:a,y:l,yDivision:d,xDivision:h,barHeight:p,barWidth:g,zeroH:m,zeroW:v}}},{key:"initializeStackedPrevVars",value:function(a){var l=a.w;l.globals.hasSeriesGroups?l.globals.seriesGroups.forEach(function(d){a[d]||(a[d]={}),a[d].prevY=[],a[d].prevX=[],a[d].prevYF=[],a[d].prevXF=[],a[d].prevYVal=[],a[d].prevXVal=[]}):(a.prevY=[],a.prevX=[],a.prevYF=[],a.prevXF=[],a.prevYVal=[],a.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(a){var l=a.w;l.globals.hasSeriesGroups?l.globals.seriesGroups.forEach(function(d){a[d]||(a[d]={}),a[d].xArrj=[],a[d].xArrjF=[],a[d].xArrjVal=[],a[d].yArrj=[],a[d].yArrjF=[],a[d].yArrjVal=[]}):(a.xArrj=[],a.xArrjF=[],a.xArrjVal=[],a.yArrj=[],a.yArrjF=[],a.yArrjVal=[])}},{key:"getPathFillColor",value:function(a,l,d,h){var p,g,m,v,x=this.w,E=new fe(this.barCtx.ctx),D=null,A=this.barCtx.barOptions.distributed?d:l;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(R){a[l][d]>=R.from&&a[l][d]<=R.to&&(D=R.color)}),x.config.series[l].data[d]&&x.config.series[l].data[d].fillColor&&(D=x.config.series[l].data[d].fillColor),E.fillPath({seriesNumber:this.barCtx.barOptions.distributed?A:h,dataPointIndex:d,color:D,value:a[l][d],fillConfig:null===(p=x.config.series[l].data[d])||void 0===p?void 0:p.fill,fillType:null!==(g=x.config.series[l].data[d])&&void 0!==g&&null!==(m=g.fill)&&void 0!==m&&m.type?null===(v=x.config.series[l].data[d])||void 0===v?void 0:v.fill.type:x.config.fill.type})}},{key:"getStrokeWidth",value:function(a,l,d){var h=0,p=this.w;return this.barCtx.isNullValue=!this.barCtx.series[a][l],p.config.stroke.show&&(this.barCtx.isNullValue||(h=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[d]:this.barCtx.strokeWidth)),h}},{key:"shouldApplyRadius",value:function(a){var l=this.w,d=!1;return l.config.plotOptions.bar.borderRadius>0&&(l.config.chart.stacked&&"last"===l.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===a&&(d=!0):d=!0),d}},{key:"barBackground",value:function(a){var l=a.j,d=a.i,h=a.x1,p=a.x2,g=a.y1,m=a.y2,v=a.elSeries,x=this.w,E=new Me(this.barCtx.ctx),D=new ot(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&D===d){l>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(l%=this.barCtx.barOptions.colors.backgroundBarColors.length);var R=E.drawRect(void 0!==h?h:0,void 0!==g?g:0,void 0!==p?p:x.globals.gridWidth,void 0!==m?m:x.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[l],this.barCtx.barOptions.colors.backgroundBarOpacity);v.add(R),R.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(a){var l,d=a.barWidth,h=a.barXPosition,p=a.y1,g=a.y2,m=a.strokeWidth,v=a.seriesGroup,x=a.realIndex,E=a.i,D=a.j,A=a.w,R=new Me(this.barCtx.ctx);(m=Array.isArray(m)?m[x]:m)||(m=0);var O=d,N=h;null!==(l=A.config.series[x].data[D])&&void 0!==l&&l.columnWidthOffset&&(N=h-A.config.series[x].data[D].columnWidthOffset/2,O=d+A.config.series[x].data[D].columnWidthOffset);var B=N,G=N+O;g+=.001;var X=R.move(B,p+=.001),b=R.move(B,p),I=R.line(G-m,p);if(A.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(x,D,!1)),X=X+R.line(B,g)+R.line(G-m,g)+R.line(G-m,p)+("around"===A.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),b=b+R.line(B,p)+I+I+I+I+I+R.line(B,p)+("around"===A.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(x)&&(X=R.roundPathCorners(X,A.config.plotOptions.bar.borderRadius)),A.config.chart.stacked){var P=this.barCtx;A.globals.hasSeriesGroups&&v&&(P=this.barCtx[v]),P.yArrj.push(g),P.yArrjF.push(Math.abs(p-g)),P.yArrjVal.push(this.barCtx.series[E][D])}return{pathTo:X,pathFrom:b}}},{key:"getBarpaths",value:function(a){var l,d=a.barYPosition,h=a.barHeight,p=a.x1,g=a.x2,m=a.strokeWidth,v=a.seriesGroup,x=a.realIndex,E=a.i,D=a.j,A=a.w,R=new Me(this.barCtx.ctx);(m=Array.isArray(m)?m[x]:m)||(m=0);var O=d,N=h;null!==(l=A.config.series[x].data[D])&&void 0!==l&&l.barHeightOffset&&(O=d-A.config.series[x].data[D].barHeightOffset/2,N=h+A.config.series[x].data[D].barHeightOffset);var B=O,G=O+N;g+=.001;var X=R.move(p+=.001,B),b=R.move(p,B);A.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(x,D,!1));var I=R.line(p,G-m);if(X=X+R.line(g,B)+R.line(g,G-m)+I+("around"===A.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),b=b+R.line(p,B)+I+I+I+I+I+R.line(p,B)+("around"===A.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(x)&&(X=R.roundPathCorners(X,A.config.plotOptions.bar.borderRadius)),A.config.chart.stacked){var P=this.barCtx;A.globals.hasSeriesGroups&&v&&(P=this.barCtx[v]),P.xArrj.push(g),P.xArrjF.push(Math.abs(p-g)),P.xArrjVal.push(this.barCtx.series[E][D])}return{pathTo:X,pathFrom:b}}},{key:"checkZeroSeries",value:function(a){for(var l=a.series,d=this.w,h=0;h<l.length;h++){for(var p=0,g=0;g<l[d.globals.maxValsInArrayIndex].length;g++)p+=l[h][g];0===p&&this.barCtx.zeroSerieses.push(h)}}},{key:"getXForValue",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:l;return null!=a&&(d=l+a/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?a/this.barCtx.invertedYRatio:0)),d}},{key:"getYForValue",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:l;return null!=a&&(d=l-a/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?a/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),d}},{key:"getGoalValues",value:function(a,l,d,h,p){var g=this,m=this.w,v=[],x=function(A,R){var O;v.push((Ln(O={},a,"x"===a?g.getXForValue(A,l,!1):g.getYForValue(A,d,!1)),Ln(O,"attrs",R),O))};if(m.globals.seriesGoals[h]&&m.globals.seriesGoals[h][p]&&Array.isArray(m.globals.seriesGoals[h][p])&&m.globals.seriesGoals[h][p].forEach(function(A){x(A.value,A)}),this.barCtx.barOptions.isDumbbell&&m.globals.seriesRange.length){var E=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:m.globals.colors,D={strokeHeight:"x"===a?0:m.globals.markers.size[h],strokeWidth:"x"===a?m.globals.markers.size[h]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(E[h])?E[h][0]:E[h]};x(m.globals.seriesRangeStart[h][p],D),x(m.globals.seriesRangeEnd[h][p],oe(oe({},D),{},{strokeColor:Array.isArray(E[h])?E[h][1]:E[h]}))}return v}},{key:"drawGoalLine",value:function(a){var l=a.barXPosition,d=a.barYPosition,h=a.goalX,p=a.goalY,g=a.barWidth,m=a.barHeight,v=new Me(this.barCtx.ctx),x=v.group({className:"apexcharts-bar-goals-groups"});x.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:x.node}),x.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var E=null;return this.barCtx.isHorizontal?Array.isArray(h)&&h.forEach(function(D){var A=void 0!==D.attrs.strokeHeight?D.attrs.strokeHeight:m/2,R=d+A+m/2;E=v.drawLine(D.x,R-2*A,D.x,R,D.attrs.strokeColor?D.attrs.strokeColor:void 0,D.attrs.strokeDashArray,D.attrs.strokeWidth?D.attrs.strokeWidth:2,D.attrs.strokeLineCap),x.add(E)}):Array.isArray(p)&&p.forEach(function(D){var A=void 0!==D.attrs.strokeWidth?D.attrs.strokeWidth:g/2,R=l+A+g/2;E=v.drawLine(R-2*A,D.y,R,D.y,D.attrs.strokeColor?D.attrs.strokeColor:void 0,D.attrs.strokeDashArray,D.attrs.strokeHeight?D.attrs.strokeHeight:2,D.attrs.strokeLineCap),x.add(E)}),x}},{key:"drawBarShadow",value:function(a){var l=a.prevPaths,d=a.currPaths,h=a.color,p=this.w,g=l.x,m=l.x1,x=d.x,E=d.x1,D=d.barYPosition,A=l.barYPosition+d.barHeight,R=new Me(this.barCtx.ctx),O=new he,N=R.move(m,A)+R.line(g,A)+R.line(x,D)+R.line(E,D)+R.line(m,A)+("around"===p.config.plotOptions.bar.borderRadiusApplication?" Z":" z");return R.drawPath({d:N,fill:O.shadeColor(.5,he.rgb2hex(h)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(a){var l=a.i,d=a.j,p=0,g=0;return this.w.globals.seriesPercent.forEach(function(m,v){m[d]&&p++,v<l&&0===m[d]&&g++}),{nonZeroColumns:p,zeroEncounters:g}}}]),L}(),Oi=function(){function L(a,l){He(this,L),this.ctx=a,this.w=a.w;var d=this.w;this.barOptions=d.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=d.config.stroke.width,this.isNullValue=!1,this.isRangeBar=d.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!d.globals.isBarHorizontal&&d.globals.seriesRange.length&&d.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=l,null!==this.xyRatios&&(this.xRatio=l.xRatio,this.initialXRatio=l.initialXRatio,this.yRatio=l.yRatio,this.invertedXRatio=l.invertedXRatio,this.invertedYRatio=l.invertedYRatio,this.baseLineY=l.baseLineY,this.baseLineInvertedY=l.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var h=new ot(this.ctx);this.lastActiveBarSerieIndex=h.getActiveConfigSeriesIndex("desc",["bar","column"]);var p=h.getBarSeriesIndices(),g=new qt(this.ctx);this.stackedSeriesTotals=g.getStackedSeriesTotals(this.w.config.series.map(function(m,v){return-1===p.indexOf(v)?v:-1}).filter(function(m){return-1!==m})),this.barHelpers=new Er(this)}return dt(L,[{key:"draw",value:function(a,l){var d=this.w,h=new Me(this.ctx),p=new qt(this.ctx,d);a=p.getLogSeries(a),this.series=a,this.yRatio=p.getLogYRatios(this.yRatio),this.barHelpers.initVariables(a);var g=h.group({class:"apexcharts-bar-series apexcharts-plot-series"});d.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var m=0,v=0;m<a.length;m++,v++){var x,E,D,A,R=void 0,O=void 0,N=[],B=[],G=d.globals.comboCharts?l[m]:m,X=h.group({class:"apexcharts-series",rel:m+1,seriesName:he.escapeString(d.globals.seriesNames[G]),"data:realIndex":G});this.ctx.series.addCollapsedClassToSeries(X,G),a[m].length>0&&(this.visibleI=this.visibleI+1);var b=0,I=0;this.yRatio.length>1&&(this.yaxisIndex=G),this.isReversed=d.config.yaxis[this.yaxisIndex]&&d.config.yaxis[this.yaxisIndex].reversed;var P=this.barHelpers.initialPositions();O=P.y,b=P.barHeight,E=P.yDivision,A=P.zeroW,R=P.x,I=P.barWidth,x=P.xDivision,D=P.zeroH,this.horizontal||B.push(R+I/2);var j=h.group({class:"apexcharts-datalabels","data:realIndex":G});d.globals.delayedElements.push({el:j.node}),j.node.classList.add("apexcharts-element-hidden");var Z=h.group({class:"apexcharts-bar-goals-markers"}),Y=h.group({class:"apexcharts-bar-shadows"});d.globals.delayedElements.push({el:Y.node}),Y.node.classList.add("apexcharts-element-hidden");for(var _e=0;_e<d.globals.dataPoints;_e++){var me=this.barHelpers.getStrokeWidth(m,_e,G),Re=null,le={indexes:{i:m,j:_e,realIndex:G,bc:v},x:R,y:O,strokeWidth:me,elSeries:X};this.isHorizontal?(Re=this.drawBarPaths(oe(oe({},le),{},{barHeight:b,zeroW:A,yDivision:E})),I=this.series[m][_e]/this.invertedYRatio):(Re=this.drawColumnPaths(oe(oe({},le),{},{xDivision:x,barWidth:I,zeroH:D})),b=this.series[m][_e]/this.yRatio[this.yaxisIndex]);var Ye=this.barHelpers.getPathFillColor(a,m,_e,G);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&_e>0){var Ie=this.barHelpers.drawBarShadow({color:"string"==typeof Ye&&-1===Ye?.indexOf("url")?Ye:he.hexToRgba(d.globals.colors[m]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:Re});Ie&&Y.add(Ie)}this.pathArr.push(Re);var bt=this.barHelpers.drawGoalLine({barXPosition:Re.barXPosition,barYPosition:Re.barYPosition,goalX:Re.goalX,goalY:Re.goalY,barHeight:b,barWidth:I});bt&&Z.add(bt),O=Re.y,R=Re.x,_e>0&&B.push(R+I/2),N.push(O),this.renderSeries({realIndex:G,pathFill:Ye,j:_e,i:m,pathFrom:Re.pathFrom,pathTo:Re.pathTo,strokeWidth:me,elSeries:X,x:R,y:O,series:a,barHeight:Re.barHeight?Re.barHeight:b,barWidth:Re.barWidth?Re.barWidth:I,elDataLabelsWrap:j,elGoalsMarkers:Z,elBarShadows:Y,visibleSeries:this.visibleI,type:"bar"})}d.globals.seriesXvalues[G]=B,d.globals.seriesYvalues[G]=N,g.add(X)}return g}},{key:"renderSeries",value:function(a){var l=a.realIndex,d=a.pathFill,h=a.lineFill,p=a.j,g=a.i,m=a.groupIndex,v=a.pathFrom,x=a.pathTo,E=a.strokeWidth,D=a.elSeries,A=a.x,R=a.y,O=a.y1,N=a.y2,B=a.series,G=a.barHeight,X=a.barWidth,b=a.barXPosition,I=a.barYPosition,P=a.elDataLabelsWrap,j=a.elGoalsMarkers,Z=a.elBarShadows,Y=a.visibleSeries,_e=a.type,me=this.w,Re=new Me(this.ctx);h||(h=this.barOptions.distributed?me.globals.stroke.colors[p]:me.globals.stroke.colors[l]),me.config.series[g].data[p]&&me.config.series[g].data[p].strokeColor&&(h=me.config.series[g].data[p].strokeColor),this.isNullValue&&(d="none");var Ye=Re.renderPaths({i:g,j:p,realIndex:l,pathFrom:v,pathTo:x,stroke:h,strokeWidth:E,strokeLineCap:me.config.stroke.lineCap,fill:d,animationDelay:p/me.config.chart.animations.animateGradually.delay*(me.config.chart.animations.speed/me.globals.dataPoints)/2.4,initialSpeed:me.config.chart.animations.speed,dataChangeSpeed:me.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(_e,"-area")});Ye.attr("clip-path","url(#gridRectMask".concat(me.globals.cuid,")"));var Ie=me.config.forecastDataPoints;Ie.count>0&&p>=me.globals.dataPoints-Ie.count&&(Ye.node.setAttribute("stroke-dasharray",Ie.dashArray),Ye.node.setAttribute("stroke-width",Ie.strokeWidth),Ye.node.setAttribute("fill-opacity",Ie.fillOpacity)),void 0!==O&&void 0!==N&&(Ye.attr("data-range-y1",O),Ye.attr("data-range-y2",N)),new yn(this.ctx).setSelectionFilter(Ye,l,p),D.add(Ye);var bt=new ho(this).handleBarDataLabels({x:A,y:R,y1:O,y2:N,i:g,j:p,series:B,realIndex:l,groupIndex:m,barHeight:G,barWidth:X,barXPosition:b,barYPosition:I,renderedPath:Ye,visibleSeries:Y});return null!==bt.dataLabels&&P.add(bt.dataLabels),bt.totalDataLabels&&P.add(bt.totalDataLabels),D.add(P),j&&D.add(j),Z&&D.add(Z),D}},{key:"drawBarPaths",value:function(a){var l,m,d=a.indexes,h=a.barHeight,p=a.strokeWidth,g=a.zeroW,v=a.y,x=a.yDivision,E=a.elSeries,D=this.w,A=d.i,R=d.j;if(D.globals.isXNumeric)l=(v=(D.globals.seriesX[A][R]-D.globals.minX)/this.invertedXRatio-h)+h*this.visibleI;else if(D.config.plotOptions.bar.hideZeroBarsWhenGrouped){var O=0,N=0;D.globals.seriesPercent.forEach(function(G,X){G[R]&&O++,X<A&&0===G[R]&&N++}),O>0&&(h=this.seriesLen*h/O),l=v+h*this.visibleI,l-=h*N}else l=v+h*this.visibleI;this.isFunnel&&(g-=(this.barHelpers.getXForValue(this.series[A][R],g)-g)/2),m=this.barHelpers.getXForValue(this.series[A][R],g);var B=this.barHelpers.getBarpaths({barYPosition:l,barHeight:h,x1:g,x2:m,strokeWidth:p,series:this.series,realIndex:d.realIndex,i:A,j:R,w:D});return D.globals.isXNumeric||(v+=x),this.barHelpers.barBackground({j:R,i:A,y1:l-h*this.visibleI,y2:h*this.seriesLen,elSeries:E}),{pathTo:B.pathTo,pathFrom:B.pathFrom,x1:g,x:m,y:v,goalX:this.barHelpers.getGoalValues("x",g,null,A,R),barYPosition:l,barHeight:h}}},{key:"drawColumnPaths",value:function(a){var l,p,d=a.indexes,h=a.x,g=a.xDivision,m=a.barWidth,v=a.zeroH,x=a.strokeWidth,E=a.elSeries,D=this.w,R=d.i,O=d.j,N=d.bc;if(D.globals.isXNumeric){var B=this.getBarXForNumericXAxis({x:h,j:O,realIndex:d.realIndex,barWidth:m});h=B.x,l=B.barXPosition}else if(D.config.plotOptions.bar.hideZeroBarsWhenGrouped){var G=this.barHelpers.getZeroValueEncounters({i:R,j:O}),X=G.nonZeroColumns;X>0&&(m=this.seriesLen*m/X),l=h+m*this.visibleI,l-=m*G.zeroEncounters}else l=h+m*this.visibleI;p=this.barHelpers.getYForValue(this.series[R][O],v);var I=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:m,y1:v,y2:p,strokeWidth:x,series:this.series,realIndex:d.realIndex,i:R,j:O,w:D});return D.globals.isXNumeric||(h+=g),this.barHelpers.barBackground({bc:N,j:O,i:R,x1:l-x/2-m*this.visibleI,x2:m*this.seriesLen+x/2,elSeries:E}),{pathTo:I.pathTo,pathFrom:I.pathFrom,x:h,y:p,goalY:this.barHelpers.getGoalValues("y",null,v,R,O),barXPosition:l,barWidth:m}}},{key:"getBarXForNumericXAxis",value:function(a){var l=a.x,d=a.barWidth,h=a.realIndex,p=a.j,g=this.w,m=h;return g.globals.seriesX[h].length||(m=g.globals.maxValsInArrayIndex),g.globals.seriesX[m][p]&&(l=(g.globals.seriesX[m][p]-g.globals.minX)/this.xRatio-d*this.seriesLen/2),{barXPosition:l+d*this.visibleI,x:l}}},{key:"getPreviousPath",value:function(a,l){for(var d,h=this.w,p=0;p<h.globals.previousPaths.length;p++){var g=h.globals.previousPaths[p];g.paths&&g.paths.length>0&&parseInt(g.realIndex,10)===parseInt(a,10)&&void 0!==h.globals.previousPaths[p].paths[l]&&(d=h.globals.previousPaths[p].paths[l].d)}return d}}]),L}(),Qr=function(L){vn(l,Oi);var a=rn(l);function l(){return He(this,l),a.apply(this,arguments)}return dt(l,[{key:"draw",value:function(d,h){var p=this,g=this.w;this.graphics=new Me(this.ctx),this.bar=new Oi(this.ctx,this.xyRatios);var m=new qt(this.ctx,g);d=m.getLogSeries(d),this.yRatio=m.getLogYRatios(this.yRatio),this.barHelpers.initVariables(d),"100%"===g.config.chart.stackType&&(d=g.globals.seriesPercent.slice()),this.series=d,this.barHelpers.initializeStackedPrevVars(this);for(var v=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),x=0,E=0,D=function(O,N){var B=void 0,G=void 0,X=void 0,b=void 0,I=-1;p.groupCtx=p,g.globals.seriesGroups.forEach(function(ri,zi){ri.indexOf(g.config.series[O].name)>-1&&(I=zi)}),-1!==I&&(p.groupCtx=p[g.globals.seriesGroups[I]]);var P=[],j=[],Z=g.globals.comboCharts?h[O]:O;p.yRatio.length>1&&(p.yaxisIndex=Z),p.isReversed=g.config.yaxis[p.yaxisIndex]&&g.config.yaxis[p.yaxisIndex].reversed;var Y=p.graphics.group({class:"apexcharts-series",seriesName:he.escapeString(g.globals.seriesNames[Z]),rel:O+1,"data:realIndex":Z});p.ctx.series.addCollapsedClassToSeries(Y,Z);var _e=p.graphics.group({class:"apexcharts-datalabels","data:realIndex":Z}),me=p.graphics.group({class:"apexcharts-bar-goals-markers"}),Re=0,le=0,Ye=p.initialPositions(x,E,B,G,X,b);E=Ye.y,Re=Ye.barHeight,G=Ye.yDivision,b=Ye.zeroW,x=Ye.x,le=Ye.barWidth,B=Ye.xDivision,X=Ye.zeroH,p.barHelpers.initializeStackedXYVars(p),1===p.groupCtx.prevY.length&&p.groupCtx.prevY[0].every(function(ri){return isNaN(ri)})&&(p.groupCtx.prevY[0]=p.groupCtx.prevY[0].map(function(ri){return X}),p.groupCtx.prevYF[0]=p.groupCtx.prevYF[0].map(function(ri){return 0}));for(var Ie=0;Ie<g.globals.dataPoints;Ie++){var bt=p.barHelpers.getStrokeWidth(O,Ie,Z),tn={indexes:{i:O,j:Ie,realIndex:Z,bc:N},strokeWidth:bt,x,y:E,elSeries:Y,groupIndex:I,seriesGroup:g.globals.seriesGroups[I]},Sn=null;p.isHorizontal?(Sn=p.drawStackedBarPaths(oe(oe({},tn),{},{zeroW:b,barHeight:Re,yDivision:G})),le=p.series[O][Ie]/p.invertedYRatio):(Sn=p.drawStackedColumnPaths(oe(oe({},tn),{},{xDivision:B,barWidth:le,zeroH:X})),Re=p.series[O][Ie]/p.yRatio[p.yaxisIndex]);var qn=p.barHelpers.drawGoalLine({barXPosition:Sn.barXPosition,barYPosition:Sn.barYPosition,goalX:Sn.goalX,goalY:Sn.goalY,barHeight:Re,barWidth:le});qn&&me.add(qn),E=Sn.y,P.push(x=Sn.x),j.push(E);var wi=p.barHelpers.getPathFillColor(d,O,Ie,Z);Y=p.renderSeries({realIndex:Z,pathFill:wi,j:Ie,i:O,groupIndex:I,pathFrom:Sn.pathFrom,pathTo:Sn.pathTo,strokeWidth:bt,elSeries:Y,x,y:E,series:d,barHeight:Re,barWidth:le,elDataLabelsWrap:_e,elGoalsMarkers:me,type:"bar",visibleSeries:0})}g.globals.seriesXvalues[Z]=P,g.globals.seriesYvalues[Z]=j,p.groupCtx.prevY.push(p.groupCtx.yArrj),p.groupCtx.prevYF.push(p.groupCtx.yArrjF),p.groupCtx.prevYVal.push(p.groupCtx.yArrjVal),p.groupCtx.prevX.push(p.groupCtx.xArrj),p.groupCtx.prevXF.push(p.groupCtx.xArrjF),p.groupCtx.prevXVal.push(p.groupCtx.xArrjVal),v.add(Y)},A=0,R=0;A<d.length;A++,R++)D(A,R);return v}},{key:"initialPositions",value:function(d,h,p,g,m,v){var x,E,D,A,R=this.w;return this.isHorizontal?(D=(D=g=R.globals.gridHeight/R.globals.dataPoints)*parseInt(R.config.plotOptions.bar.barHeight,10)/100,-1===String(R.config.plotOptions.bar.barHeight).indexOf("%")&&(D=parseInt(R.config.plotOptions.bar.barHeight,10)),v=this.baseLineInvertedY+R.globals.padHorizontal+(this.isReversed?R.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),h=(g-D)/2):(A=p=R.globals.gridWidth/R.globals.dataPoints,A=R.globals.isXNumeric&&R.globals.dataPoints>1?(p=R.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:A*parseInt(R.config.plotOptions.bar.columnWidth,10)/100,-1===String(R.config.plotOptions.bar.columnWidth).indexOf("%")&&(A=parseInt(R.config.plotOptions.bar.columnWidth,10)),m=R.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?R.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),d=R.globals.padHorizontal+(p-A)/2),{x:d,y:h,yDivision:g,xDivision:p,barHeight:null!==(x=R.globals.seriesGroups)&&void 0!==x&&x.length?D/R.globals.seriesGroups.length:D,barWidth:null!==(E=R.globals.seriesGroups)&&void 0!==E&&E.length?A/R.globals.seriesGroups.length:A,zeroH:m,zeroW:v}}},{key:"drawStackedBarPaths",value:function(d){for(var h,x,p=d.indexes,g=d.barHeight,m=d.strokeWidth,v=d.zeroW,E=d.y,D=d.groupIndex,A=d.seriesGroup,R=d.yDivision,O=d.elSeries,N=this.w,B=E+(-1!==D?D*g:0),G=p.i,X=p.j,b=0,I=0;I<this.groupCtx.prevXF.length;I++)b+=this.groupCtx.prevXF[I][X];var P=G;if(A&&(P=A.indexOf(N.config.series[G].name)),P>0){var j=v;this.groupCtx.prevXVal[P-1][X]<0?j=this.series[G][X]>=0?this.groupCtx.prevX[P-1][X]+b-2*(this.isReversed?b:0):this.groupCtx.prevX[P-1][X]:this.groupCtx.prevXVal[P-1][X]>=0&&(j=this.series[G][X]>=0?this.groupCtx.prevX[P-1][X]:this.groupCtx.prevX[P-1][X]-b+2*(this.isReversed?b:0)),h=j}else h=v;var Z=this.barHelpers.getBarpaths({barYPosition:B,barHeight:g,x1:h,x2:x=null===this.series[G][X]?h:h+this.series[G][X]/this.invertedYRatio-2*(this.isReversed?this.series[G][X]/this.invertedYRatio:0),strokeWidth:m,series:this.series,realIndex:p.realIndex,seriesGroup:A,i:G,j:X,w:N});return this.barHelpers.barBackground({j:X,i:G,y1:B,y2:g,elSeries:O}),E+=R,{pathTo:Z.pathTo,pathFrom:Z.pathFrom,goalX:this.barHelpers.getGoalValues("x",v,null,G,X),barYPosition:B,x,y:E}}},{key:"drawStackedColumnPaths",value:function(d){var g,h=d.indexes,p=d.x,m=d.xDivision,v=d.barWidth,x=d.zeroH,E=d.groupIndex,D=d.seriesGroup,A=d.elSeries,R=this.w,O=h.i,N=h.j,B=h.bc;if(R.globals.isXNumeric){var G=R.globals.seriesX[O][N];G||(G=0),p=(G-R.globals.minX)/this.xRatio-v/2,R.globals.seriesGroups.length&&(p=(G-R.globals.minX)/this.xRatio-v/2*R.globals.seriesGroups.length)}for(var X,b=p+(-1!==E?E*v:0),I=0,P=0;P<this.groupCtx.prevYF.length;P++)I+=isNaN(this.groupCtx.prevYF[P][N])?0:this.groupCtx.prevYF[P][N];var j=O;if(D&&(j=D.indexOf(R.config.series[O].name)),j>0&&!R.globals.isXNumeric||j>0&&R.globals.isXNumeric&&R.globals.seriesX[O-1][N]===R.globals.seriesX[O][N]){var Z,Y,_e,me=Math.min(this.yRatio.length+1,O+1);if(void 0!==this.groupCtx.prevY[j-1]&&this.groupCtx.prevY[j-1].length)for(var Re=1;Re<me;Re++){var le;if(!isNaN(null===(le=this.groupCtx.prevY[j-Re])||void 0===le?void 0:le[N])){_e=this.groupCtx.prevY[j-Re][N];break}}for(var Ye=1;Ye<me;Ye++){var Ie,bt;if((null===(Ie=this.groupCtx.prevYVal[j-Ye])||void 0===Ie?void 0:Ie[N])<0){Y=this.series[O][N]>=0?_e-I+2*(this.isReversed?I:0):_e;break}if((null===(bt=this.groupCtx.prevYVal[j-Ye])||void 0===bt?void 0:bt[N])>=0){Y=this.series[O][N]>=0?_e:_e+I-2*(this.isReversed?I:0);break}}void 0===Y&&(Y=R.globals.gridHeight),X=null!==(Z=this.groupCtx.prevYF[0])&&void 0!==Z&&Z.every(function(Sn){return 0===Sn})&&this.groupCtx.prevYF.slice(1,j).every(function(Sn){return Sn.every(function(qn){return isNaN(qn)})})?x:Y}else X=x;var tn=this.barHelpers.getColumnPaths({barXPosition:b,barWidth:v,y1:X,y2:g=this.series[O][N]?X-this.series[O][N]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[O][N]/this.yRatio[this.yaxisIndex]:0):X,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:D,realIndex:h.realIndex,i:O,j:N,w:R});return this.barHelpers.barBackground({bc:B,j:N,i:O,x1:b,x2:v,elSeries:A}),p+=m,{pathTo:tn.pathTo,pathFrom:tn.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,x,O,N),barXPosition:b,x:R.globals.isXNumeric?p-m:p,y:g}}}]),l}(),as=function(L){vn(l,Oi);var a=rn(l);function l(){return He(this,l),a.apply(this,arguments)}return dt(l,[{key:"draw",value:function(d,h,p){var g=this,m=this.w,v=new Me(this.ctx),x=m.globals.comboCharts?h:m.config.chart.type,E=new fe(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=m.config.plotOptions.bar.horizontal;var D=new qt(this.ctx,m);d=D.getLogSeries(d),this.series=d,this.yRatio=D.getLogYRatios(this.yRatio),this.barHelpers.initVariables(d);for(var A=v.group({class:"apexcharts-".concat(x,"-series apexcharts-plot-series")}),R=function(N){g.isBoxPlot="boxPlot"===m.config.chart.type||"boxPlot"===m.config.series[N].type;var B,G,X,b,me,Re,I=void 0,P=void 0,j=[],Z=[],Y=m.globals.comboCharts?p[N]:N,_e=v.group({class:"apexcharts-series",seriesName:he.escapeString(m.globals.seriesNames[Y]),rel:N+1,"data:realIndex":Y});g.ctx.series.addCollapsedClassToSeries(_e,Y),d[N].length>0&&(g.visibleI=g.visibleI+1),g.yRatio.length>1&&(g.yaxisIndex=Y);var le=g.barHelpers.initialPositions();P=le.y,me=le.barHeight,G=le.yDivision,b=le.zeroW,B=le.xDivision,X=le.zeroH,Z.push((I=le.x)+(Re=le.barWidth)/2);for(var Ye=v.group({class:"apexcharts-datalabels","data:realIndex":Y}),Ie=function(tn){var Sn=g.barHelpers.getStrokeWidth(N,tn,Y),qn=null,wi={indexes:{i:N,j:tn,realIndex:Y},x:I,y:P,strokeWidth:Sn,elSeries:_e};qn=g.isHorizontal?g.drawHorizontalBoxPaths(oe(oe({},wi),{},{yDivision:G,barHeight:me,zeroW:b})):g.drawVerticalBoxPaths(oe(oe({},wi),{},{xDivision:B,barWidth:Re,zeroH:X})),P=qn.y,I=qn.x,tn>0&&Z.push(I+Re/2),j.push(P),qn.pathTo.forEach(function(ri,zi){var ws=!g.isBoxPlot&&g.candlestickOptions.wick.useFillColor?qn.color[zi]:m.globals.stroke.colors[N],Ja=E.fillPath({seriesNumber:Y,dataPointIndex:tn,color:qn.color[zi],value:d[N][tn]});g.renderSeries({realIndex:Y,pathFill:Ja,lineFill:ws,j:tn,i:N,pathFrom:qn.pathFrom,pathTo:ri,strokeWidth:Sn,elSeries:_e,x:I,y:P,series:d,barHeight:me,barWidth:Re,elDataLabelsWrap:Ye,visibleSeries:g.visibleI,type:m.config.chart.type})})},bt=0;bt<m.globals.dataPoints;bt++)Ie(bt);m.globals.seriesXvalues[Y]=Z,m.globals.seriesYvalues[Y]=j,A.add(_e)},O=0;O<d.length;O++)R(O);return A}},{key:"drawVerticalBoxPaths",value:function(d){var h=d.indexes,p=d.x,g=d.xDivision,m=d.barWidth,v=d.zeroH,x=d.strokeWidth,E=this.w,D=new Me(this.ctx),A=h.i,R=h.j,O=!0,N=E.config.plotOptions.candlestick.colors.upward,B=E.config.plotOptions.candlestick.colors.downward,G="";this.isBoxPlot&&(G=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var X=this.yRatio[this.yaxisIndex],b=h.realIndex,I=this.getOHLCValue(b,R),P=v,j=v;I.o>I.c&&(O=!1);var Z=Math.min(I.o,I.c),Y=Math.max(I.o,I.c),_e=I.m;E.globals.isXNumeric&&(p=(E.globals.seriesX[b][R]-E.globals.minX)/this.xRatio-m/2);var me=p+m*this.visibleI;null==this.series[A][R]?(Z=v,Y=v):(Z=v-Z/X,Y=v-Y/X,P=v-I.h/X,j=v-I.l/X,_e=v-I.m/X);var Re=D.move(me,v),le=D.move(me+m/2,Z);return E.globals.previousPaths.length>0&&(le=this.getPreviousPath(b,R,!0)),Re=this.isBoxPlot?[D.move(me,Z)+D.line(me+m/2,Z)+D.line(me+m/2,P)+D.line(me+m/4,P)+D.line(me+m-m/4,P)+D.line(me+m/2,P)+D.line(me+m/2,Z)+D.line(me+m,Z)+D.line(me+m,_e)+D.line(me,_e)+D.line(me,Z+x/2),D.move(me,_e)+D.line(me+m,_e)+D.line(me+m,Y)+D.line(me+m/2,Y)+D.line(me+m/2,j)+D.line(me+m-m/4,j)+D.line(me+m/4,j)+D.line(me+m/2,j)+D.line(me+m/2,Y)+D.line(me,Y)+D.line(me,_e)+"z"]:[D.move(me,Y)+D.line(me+m/2,Y)+D.line(me+m/2,P)+D.line(me+m/2,Y)+D.line(me+m,Y)+D.line(me+m,Z)+D.line(me+m/2,Z)+D.line(me+m/2,j)+D.line(me+m/2,Z)+D.line(me,Z)+D.line(me,Y-x/2)],le+=D.move(me,Z),E.globals.isXNumeric||(p+=g),{pathTo:Re,pathFrom:le,x:p,y:Y,barXPosition:me,color:this.isBoxPlot?G:O?[N]:[B]}}},{key:"drawHorizontalBoxPaths",value:function(d){var h=d.indexes,p=d.y,g=d.yDivision,m=d.barHeight,v=d.zeroW,x=d.strokeWidth,E=this.w,D=new Me(this.ctx),A=h.i,R=h.j,O=this.boxOptions.colors.lower;this.isBoxPlot&&(O=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var N=this.invertedYRatio,B=h.realIndex,G=this.getOHLCValue(B,R),X=v,b=v,I=Math.min(G.o,G.c),P=Math.max(G.o,G.c),j=G.m;E.globals.isXNumeric&&(p=(E.globals.seriesX[B][R]-E.globals.minX)/this.invertedXRatio-m/2);var Z=p+m*this.visibleI;null==this.series[A][R]?(I=v,P=v):(I=v+I/N,P=v+P/N,X=v+G.h/N,b=v+G.l/N,j=v+G.m/N);var Y=D.move(v,Z),_e=D.move(I,Z+m/2);return E.globals.previousPaths.length>0&&(_e=this.getPreviousPath(B,R,!0)),Y=[D.move(I,Z)+D.line(I,Z+m/2)+D.line(X,Z+m/2)+D.line(X,Z+m/2-m/4)+D.line(X,Z+m/2+m/4)+D.line(X,Z+m/2)+D.line(I,Z+m/2)+D.line(I,Z+m)+D.line(j,Z+m)+D.line(j,Z)+D.line(I+x/2,Z),D.move(j,Z)+D.line(j,Z+m)+D.line(P,Z+m)+D.line(P,Z+m/2)+D.line(b,Z+m/2)+D.line(b,Z+m-m/4)+D.line(b,Z+m/4)+D.line(b,Z+m/2)+D.line(P,Z+m/2)+D.line(P,Z)+D.line(j,Z)+"z"],_e+=D.move(I,Z),E.globals.isXNumeric||(p+=g),{pathTo:Y,pathFrom:_e,x:P,y:p,barYPosition:Z,color:O}}},{key:"getOHLCValue",value:function(d,h){var p=this.w;return{o:this.isBoxPlot?p.globals.seriesCandleH[d][h]:p.globals.seriesCandleO[d][h],h:this.isBoxPlot?p.globals.seriesCandleO[d][h]:p.globals.seriesCandleH[d][h],m:p.globals.seriesCandleM[d][h],l:this.isBoxPlot?p.globals.seriesCandleC[d][h]:p.globals.seriesCandleL[d][h],c:this.isBoxPlot?p.globals.seriesCandleL[d][h]:p.globals.seriesCandleC[d][h]}}}]),l}(),Ka=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"checkColorRange",value:function(){var a=this.w,l=!1,d=a.config.plotOptions[a.config.chart.type];return d.colorScale.ranges.length>0&&d.colorScale.ranges.map(function(h,p){h.from<=0&&(l=!0)}),l}},{key:"getShadeColor",value:function(a,l,d,h){var p=this.w,g=1,m=p.config.plotOptions[a].shadeIntensity,v=this.determineColor(a,l,d);p.globals.hasNegs||h?g=p.config.plotOptions[a].reverseNegativeShade?v.percent<0?v.percent/100*(1.25*m):1.25*m*(1-v.percent/100):v.percent<=0?1-(1+v.percent/100)*m:(1-v.percent/100)*m:(g=1-v.percent/100,"treemap"===a&&(g=1.25*m*(1-v.percent/100)));var x=v.color,E=new he;return p.config.plotOptions[a].enableShades&&(x=he.hexToRgba(E.shadeColor("dark"===this.w.config.theme.mode?-1*g:g,v.color),p.config.fill.opacity)),{color:x,colorProps:v}}},{key:"determineColor",value:function(a,l,d){var h=this.w,p=h.globals.series[l][d],g=h.config.plotOptions[a],m=g.colorScale.inverse?d:l;g.distributed&&"treemap"===h.config.chart.type&&(m=d);var v=h.globals.colors[m],x=null,E=Math.min.apply(Math,Mn(h.globals.series[l])),D=Math.max.apply(Math,Mn(h.globals.series[l]));g.distributed||"heatmap"!==a||(E=h.globals.minY,D=h.globals.maxY),void 0!==g.colorScale.min&&(E=g.colorScale.min<h.globals.minY?g.colorScale.min:h.globals.minY,D=g.colorScale.max>h.globals.maxY?g.colorScale.max:h.globals.maxY);var A=Math.abs(D)+Math.abs(E),R=100*p/(0===A?A-1e-6:A);return g.colorScale.ranges.length>0&&g.colorScale.ranges.map(function(O,N){if(p>=O.from&&p<=O.to){v=O.color,x=O.foreColor?O.foreColor:null,E=O.from,D=O.to;var B=Math.abs(D)+Math.abs(E);R=100*p/(0===B?B-1e-6:B)}}),{color:v,foreColor:x,percent:R}}},{key:"calculateDataLabels",value:function(a){var l=a.text,d=a.x,h=a.y,p=a.i,g=a.j,m=a.colorProps,v=a.fontSize,x=this.w.config.dataLabels,E=new Me(this.ctx),D=new je(this.ctx),A=null;if(x.enabled){A=E.group({class:"apexcharts-data-labels"});var O=x.offsetY,N=d+x.offsetX,B=h+parseFloat(x.style.fontSize)/3+O;D.plotDataLabelsText({x:N,y:B,text:l,i:p,j:g,color:m.foreColor,parent:A,fontSize:v,dataLabelsConfig:x})}return A}},{key:"addListeners",value:function(a){var l=new Me(this.ctx);a.node.addEventListener("mouseenter",l.pathMouseEnter.bind(this,a)),a.node.addEventListener("mouseleave",l.pathMouseLeave.bind(this,a)),a.node.addEventListener("mousedown",l.pathMouseDown.bind(this,a))}}]),L}(),Ma=function(){function L(a,l){He(this,L),this.ctx=a,this.w=a.w,this.xRatio=l.xRatio,this.yRatio=l.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Ka(a),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return dt(L,[{key:"draw",value:function(a){var l=this.w,d=new Me(this.ctx),h=d.group({class:"apexcharts-heatmap"});h.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")"));var p=l.globals.gridWidth/l.globals.dataPoints,g=l.globals.gridHeight/l.globals.series.length,m=0,v=!1;this.negRange=this.helpers.checkColorRange();var x=a.slice();l.config.yaxis[0].reversed&&(v=!0,x.reverse());for(var E=v?0:x.length-1;v?E<x.length:E>=0;v?E++:E--){var D=d.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:he.escapeString(l.globals.seriesNames[E]),rel:E+1,"data:realIndex":E});if(this.ctx.series.addCollapsedClassToSeries(D,E),l.config.chart.dropShadow.enabled){var A=l.config.chart.dropShadow;new yn(this.ctx).dropShadow(D,A,E)}for(var R=0,O=l.config.plotOptions.heatmap.shadeIntensity,N=0;N<x[E].length;N++){var B=this.helpers.getShadeColor(l.config.chart.type,E,N,this.negRange),G=B.color,X=B.colorProps;"image"===l.config.fill.type&&(G=new fe(this.ctx).fillPath({seriesNumber:E,dataPointIndex:N,opacity:l.globals.hasNegs?X.percent<0?1-(1+X.percent/100):O+X.percent/100:X.percent/100,patternID:he.randomId(),width:l.config.fill.image.width?l.config.fill.image.width:p,height:l.config.fill.image.height?l.config.fill.image.height:g}));var I=d.drawRect(R,m,p,g,this.rectRadius);if(I.attr({cx:R,cy:m}),I.node.classList.add("apexcharts-heatmap-rect"),D.add(I),I.attr({fill:G,i:E,index:E,j:N,val:x[E][N],"stroke-width":this.strokeWidth,stroke:l.config.plotOptions.heatmap.useFillColorAsStroke?G:l.globals.stroke.colors[0],color:G}),this.helpers.addListeners(I),l.config.chart.animations.enabled&&!l.globals.dataChanged){var P=1;l.globals.resized||(P=l.config.chart.animations.speed),this.animateHeatMap(I,R,m,p,g,P)}if(l.globals.dataChanged){var j=1;if(this.dynamicAnim.enabled&&l.globals.shouldAnimate){j=this.dynamicAnim.speed;var Z=l.globals.previousPaths[E]&&l.globals.previousPaths[E][N]&&l.globals.previousPaths[E][N].color;Z||(Z="rgba(255, 255, 255, 0)"),this.animateHeatColor(I,he.isColorHex(Z)?Z:he.rgb2hex(Z),he.isColorHex(G)?G:he.rgb2hex(G),j)}}var Y=(0,l.config.dataLabels.formatter)(l.globals.series[E][N],{value:l.globals.series[E][N],seriesIndex:E,dataPointIndex:N,w:l}),_e=this.helpers.calculateDataLabels({text:Y,x:R+p/2,y:m+g/2,i:E,j:N,colorProps:X,series:x});null!==_e&&D.add(_e),R+=p}m+=g,h.add(D)}var me=l.globals.yAxisScale[0].result.slice();return l.config.yaxis[0].reversed?me.unshift(""):me.push(""),l.globals.yAxisScale[0].result=me,h}},{key:"animateHeatMap",value:function(a,l,d,h,p,g){var m=new Di(this.ctx);m.animateRect(a,{x:l+h/2,y:d+p/2,width:0,height:0},{x:l,y:d,width:h,height:p},g,function(){m.animationCompleted(a)})}},{key:"animateHeatColor",value:function(a,l,d,h){a.attr({fill:l}).animate(h).attr({fill:d})}}]),L}(),Ra=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"drawYAxisTexts",value:function(a,l,d,h){var p=this.w,g=p.config.yaxis[0],m=p.globals.yLabelFormatters[0];return new Me(this.ctx).drawText({x:a+g.labels.offsetX,y:l+g.labels.offsetY,text:m(h,d),textAnchor:"middle",fontSize:g.labels.style.fontSize,fontFamily:g.labels.style.fontFamily,foreColor:Array.isArray(g.labels.style.colors)?g.labels.style.colors[d]:g.labels.style.colors})}}]),L}(),fo=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w;var l=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=Math.min(l.globals.gridWidth,l.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=l.globals.gridWidth/2,this.fullAngle="radialBar"===l.config.chart.type?360:Math.abs(l.config.plotOptions.pie.endAngle-l.config.plotOptions.pie.startAngle),this.initialAngle=l.config.plotOptions.pie.startAngle%this.fullAngle,l.globals.radialSize=this.defaultSize/2.05-l.config.stroke.width-(l.config.chart.sparkline.enabled?0:l.config.chart.dropShadow.blur),this.donutSize=l.globals.radialSize*parseInt(l.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return dt(L,[{key:"draw",value:function(a){var l=this,d=this.w,h=new Me(this.ctx);if(this.ret=h.group({class:"apexcharts-pie"}),d.globals.noData)return this.ret;for(var p=0,g=0;g<a.length;g++)p+=he.negToZero(a[g]);var m=[],v=h.group();0===p&&(p=1e-5),a.forEach(function(Z){l.maxY=Math.max(l.maxY,Z)}),d.config.yaxis[0].max&&(this.maxY=d.config.yaxis[0].max),"back"===d.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var x=0;x<a.length;x++){var E=this.fullAngle*he.negToZero(a[x])/p;m.push(E),"polarArea"===this.chartType?(m[x]=this.fullAngle/a.length,this.sliceSizes.push(d.globals.radialSize*a[x]/this.maxY)):this.sliceSizes.push(d.globals.radialSize)}if(d.globals.dataChanged){for(var D,A=0,R=0;R<d.globals.previousPaths.length;R++)A+=he.negToZero(d.globals.previousPaths[R]);for(var O=0;O<d.globals.previousPaths.length;O++)D=this.fullAngle*he.negToZero(d.globals.previousPaths[O])/A,this.prevSectorAngleArr.push(D)}this.donutSize<0&&(this.donutSize=0);var N=d.config.plotOptions.pie.customScale,X=d.globals.gridWidth/2-d.globals.gridWidth/2*N,b=d.globals.gridHeight/2-d.globals.gridHeight/2*N;if("donut"===this.chartType){var I=h.drawCircle(this.donutSize);I.attr({cx:this.centerX,cy:this.centerY,fill:d.config.plotOptions.pie.donut.background?d.config.plotOptions.pie.donut.background:"transparent"}),v.add(I)}var P=this.drawArcs(m,a);if(this.sliceLabels.forEach(function(Z){P.add(Z)}),v.attr({transform:"translate(".concat(X,", ").concat(b,") scale(").concat(N,")")}),v.add(P),this.ret.add(v),this.donutDataLabels.show){var j=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:X,translateY:b});this.ret.add(j)}return"front"===d.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(a,l){var d=this.w,h=new yn(this.ctx),p=new Me(this.ctx),g=new fe(this.ctx),m=p.group({class:"apexcharts-slices"}),v=this.initialAngle,x=this.initialAngle,E=this.initialAngle,D=this.initialAngle;this.strokeWidth=d.config.stroke.show?d.config.stroke.width:0;for(var A=0;A<a.length;A++){var R=p.group({class:"apexcharts-series apexcharts-pie-series",seriesName:he.escapeString(d.globals.seriesNames[A]),rel:A+1,"data:realIndex":A});m.add(R),E=(v=E)+a[A],D=(x=D)+this.prevSectorAngleArr[A];var O=E<v?this.fullAngle+E-v:E-v,N=g.fillPath({seriesNumber:A,size:this.sliceSizes[A],value:l[A]}),B=this.getChangedPath(x,D),G=p.drawPath({d:B,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[A]:this.lineColorArr,strokeWidth:0,fill:N,fillOpacity:d.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(A)});G.attr({index:0,j:A}),h.setSelectionFilter(G,0,A),d.config.chart.dropShadow.enabled&&h.dropShadow(G,d.config.chart.dropShadow,A),this.addListeners(G,this.donutDataLabels),Me.setAttrs(G.node,{"data:angle":O,"data:startAngle":v,"data:strokeWidth":this.strokeWidth,"data:value":l[A]});var b={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?b=he.polarToCartesian(this.centerX,this.centerY,d.globals.radialSize/1.25+d.config.plotOptions.pie.dataLabels.offset,(v+O/2)%this.fullAngle):"donut"===this.chartType&&(b=he.polarToCartesian(this.centerX,this.centerY,(d.globals.radialSize+this.donutSize)/2+d.config.plotOptions.pie.dataLabels.offset,(v+O/2)%this.fullAngle)),R.add(G);var I=0;if(!this.initialAnim||d.globals.resized||d.globals.dataChanged?this.animBeginArr.push(0):(0==(I=O/this.fullAngle*d.config.chart.animations.speed)&&(I=1),this.animDur=I+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(G,this.dynamicAnim&&d.globals.dataChanged?{size:this.sliceSizes[A],endAngle:E,startAngle:v,prevStartAngle:x,prevEndAngle:D,animateStartingPos:!0,i:A,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:d.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[A],endAngle:E,startAngle:v,i:A,totalItems:a.length-1,animBeginArr:this.animBeginArr,dur:I}),d.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&G.click(this.pieClicked.bind(this,A)),void 0!==d.globals.selectedDataPoints[0]&&d.globals.selectedDataPoints[0].indexOf(A)>-1&&this.pieClicked(A),d.config.dataLabels.enabled){var P=b.x,j=b.y,Z=100*O/this.fullAngle+"%";if(0!==O&&d.config.plotOptions.pie.dataLabels.minAngleToShowLabel<a[A]){var Y=d.config.dataLabels.formatter;void 0!==Y&&(Z=Y(d.globals.seriesPercent[A][0],{seriesIndex:A,w:d}));var _e=d.globals.dataLabels.style.colors[A],me=p.group({class:"apexcharts-datalabels"}),Re=p.drawText({x:P,y:j,text:Z,textAnchor:"middle",fontSize:d.config.dataLabels.style.fontSize,fontFamily:d.config.dataLabels.style.fontFamily,fontWeight:d.config.dataLabels.style.fontWeight,foreColor:_e});me.add(Re),d.config.dataLabels.dropShadow.enabled&&h.dropShadow(Re,d.config.dataLabels.dropShadow),Re.node.classList.add("apexcharts-pie-label"),d.config.chart.animations.animate&&!1===d.globals.resized&&(Re.node.classList.add("apexcharts-pie-label-delay"),Re.node.style.animationDelay=d.config.chart.animations.speed/940+"s"),this.sliceLabels.push(me)}}}return m}},{key:"addListeners",value:function(a,l){var d=new Me(this.ctx);a.node.addEventListener("mouseenter",d.pathMouseEnter.bind(this,a)),a.node.addEventListener("mouseleave",d.pathMouseLeave.bind(this,a)),a.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,a.node,l)),a.node.addEventListener("mousedown",d.pathMouseDown.bind(this,a)),this.donutDataLabels.total.showAlways||(a.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,a.node,l)),a.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,a.node,l)))}},{key:"animatePaths",value:function(a,l){var h=l.endAngle<l.startAngle?this.fullAngle+l.endAngle-l.startAngle:l.endAngle-l.startAngle,p=h,g=l.startAngle,m=l.startAngle;void 0!==l.prevStartAngle&&void 0!==l.prevEndAngle&&(g=l.prevEndAngle,p=l.prevEndAngle<l.prevStartAngle?this.fullAngle+l.prevEndAngle-l.prevStartAngle:l.prevEndAngle-l.prevStartAngle),l.i===this.w.config.series.length-1&&(h+m>this.fullAngle?l.endAngle=l.endAngle-(h+m):h+m<this.fullAngle&&(l.endAngle=l.endAngle+(this.fullAngle-(h+m)))),h===this.fullAngle&&(h=this.fullAngle-.01),this.animateArc(a,g,m,h,p,l)}},{key:"animateArc",value:function(a,l,d,h,p,g){var m,v=this,x=this.w,E=new Di(this.ctx),D=g.size;(isNaN(l)||isNaN(p))&&(l=d,p=h,g.dur=0);var A=h,R=d,O=l<d?this.fullAngle+l-d:l-d;x.globals.dataChanged&&g.shouldSetPrevPaths&&g.prevEndAngle&&(m=v.getPiePath({me:v,startAngle:g.prevStartAngle,angle:g.prevEndAngle<g.prevStartAngle?this.fullAngle+g.prevEndAngle-g.prevStartAngle:g.prevEndAngle-g.prevStartAngle,size:D}),a.attr({d:m})),0!==g.dur?a.animate(g.dur,x.globals.easing,g.animBeginArr[g.i]).afterAll(function(){"pie"!==v.chartType&&"donut"!==v.chartType&&"polarArea"!==v.chartType||this.animate(x.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":v.strokeWidth}),g.i===x.config.series.length-1&&E.animationCompleted(a)}).during(function(N){A=O+(h-O)*N,g.animateStartingPos&&(A=p+(h-p)*N,R=l-p+(d-(l-p))*N),m=v.getPiePath({me:v,startAngle:R,angle:A,size:D}),a.node.setAttribute("data:pathOrig",m),a.attr({d:m})}):(m=v.getPiePath({me:v,startAngle:R,angle:h,size:D}),g.isTrack||(x.globals.animationEnded=!0),a.node.setAttribute("data:pathOrig",m),a.attr({d:m,"stroke-width":v.strokeWidth}))}},{key:"pieClicked",value:function(a){var l,d=this.w,h=this,p=h.sliceSizes[a]+(d.config.plotOptions.pie.expandOnClick?4:0),g=d.globals.dom.Paper.select(".apexcharts-".concat(h.chartType.toLowerCase(),"-slice-").concat(a)).members[0];if("true"!==g.attr("data:pieClicked")){var m=d.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(m,function(D){D.setAttribute("data:pieClicked","false");var A=D.getAttribute("data:pathOrig");A&&D.setAttribute("d",A)}),g.attr("data:pieClicked","true");var v=parseInt(g.attr("data:startAngle"),10),x=parseInt(g.attr("data:angle"),10);l=h.getPiePath({me:h,startAngle:v,angle:x,size:p}),360!==x&&g.plot(l)}else{g.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(g.node,this.donutDataLabels);var E=g.attr("data:pathOrig");g.attr({d:E})}}},{key:"getChangedPath",value:function(a,l){var d="";return this.dynamicAnim&&this.w.globals.dataChanged&&(d=this.getPiePath({me:this,startAngle:a,angle:l-a,size:this.size})),d}},{key:"getPiePath",value:function(a){var l=a.me,d=a.startAngle,h=a.angle,p=a.size,g=d,m=Math.PI*(g-90)/180,v=h+d;Math.ceil(v)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(v=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(v)>this.fullAngle&&(v-=this.fullAngle);var x=Math.PI*(v-90)/180,E=l.centerX+p*Math.cos(m),D=l.centerY+p*Math.sin(m),A=l.centerX+p*Math.cos(x),R=l.centerY+p*Math.sin(x),O=he.polarToCartesian(l.centerX,l.centerY,l.donutSize,v),N=he.polarToCartesian(l.centerX,l.centerY,l.donutSize,g),B=h>180?1:0,G=["M",E,D,"A",p,p,0,B,1,A,R];return"donut"===l.chartType?[].concat(G,["L",O.x,O.y,"A",l.donutSize,l.donutSize,0,B,0,N.x,N.y,"L",E,D,"z"]).join(" "):"pie"===l.chartType||"polarArea"===l.chartType?[].concat(G,["L",l.centerX,l.centerY,"L",E,D]).join(" "):[].concat(G).join(" ")}},{key:"drawPolarElements",value:function(a){var l=this.w,d=new Bn(this.ctx),h=new Me(this.ctx),p=new Ra(this.ctx),g=h.group(),m=h.group(),v=d.niceScale(0,Math.ceil(this.maxY),l.config.yaxis[0].tickAmount,0,!0),x=v.result.reverse(),E=v.result.length;this.maxY=v.niceMax;for(var D=l.globals.radialSize,A=D/(E-1),R=0;R<E-1;R++){var O=h.drawCircle(D);if(O.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":l.config.plotOptions.polarArea.rings.strokeWidth,stroke:l.config.plotOptions.polarArea.rings.strokeColor}),l.config.yaxis[0].show){var N=p.drawYAxisTexts(this.centerX,this.centerY-D+parseInt(l.config.yaxis[0].labels.style.fontSize,10)/2,R,x[R]);m.add(N)}g.add(O),D-=A}this.drawSpokes(a),a.add(g),a.add(m)}},{key:"renderInnerDataLabels",value:function(a,l){var d=this.w,h=new Me(this.ctx),p=h.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(l.translateX?l.translateX:0,", ").concat(l.translateY?l.translateY:0,") scale(").concat(d.config.plotOptions.pie.customScale,")")}),g=a.total.show;p.node.style.opacity=l.opacity;var m,v,x=l.centerX,E=l.centerY;m=void 0===a.name.color?d.globals.colors[0]:a.name.color;var D=a.name.fontSize,A=a.name.fontFamily,R=a.name.fontWeight;v=void 0===a.value.color?d.config.chart.foreColor:a.value.color;var O=a.value.formatter,N="",B="";if(g?(m=a.total.color,D=a.total.fontSize,A=a.total.fontFamily,R=a.total.fontWeight,B=a.total.label,N=a.total.formatter(d)):1===d.globals.series.length&&(N=O(d.globals.series[0],d),B=d.globals.seriesNames[0]),B&&(B=a.name.formatter(B,a.total.show,d)),a.name.show){var G=h.drawText({x,y:E+parseFloat(a.name.offsetY),text:B,textAnchor:"middle",foreColor:m,fontSize:D,fontWeight:R,fontFamily:A});G.node.classList.add("apexcharts-datalabel-label"),p.add(G)}if(a.value.show){var X=a.name.show?parseFloat(a.value.offsetY)+16:a.value.offsetY,b=h.drawText({x,y:E+X,text:N,textAnchor:"middle",foreColor:v,fontWeight:a.value.fontWeight,fontSize:a.value.fontSize,fontFamily:a.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),p.add(b)}return p}},{key:"printInnerLabels",value:function(a,l,d,h){var p,g=this.w;h?p=void 0===a.name.color?g.globals.colors[parseInt(h.parentNode.getAttribute("rel"),10)-1]:a.name.color:g.globals.series.length>1&&a.total.show&&(p=a.total.color);var m=g.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),v=g.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");d=(0,a.value.formatter)(d,g),h||"function"!=typeof a.total.formatter||(d=a.total.formatter(g)),l=a.name.formatter(l,l===a.total.label,g),null!==m&&(m.textContent=l),null!==v&&(v.textContent=d),null!==m&&(m.style.fill=p)}},{key:"printDataLabelsInner",value:function(a,l){var d=this.w,h=a.getAttribute("data:value"),p=d.globals.seriesNames[parseInt(a.parentNode.getAttribute("rel"),10)-1];d.globals.series.length>1&&this.printInnerLabels(l,p,h,a);var g=d.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==g&&(g.style.opacity=1)}},{key:"drawSpokes",value:function(a){var l=this,d=this.w,h=new Me(this.ctx),p=d.config.plotOptions.polarArea.spokes;if(0!==p.strokeWidth){for(var g=[],m=360/d.globals.series.length,v=0;v<d.globals.series.length;v++)g.push(he.polarToCartesian(this.centerX,this.centerY,d.globals.radialSize,d.config.plotOptions.pie.startAngle+m*v));g.forEach(function(x,E){var D=h.drawLine(x.x,x.y,l.centerX,l.centerY,Array.isArray(p.connectorColors)?p.connectorColors[E]:p.connectorColors);a.add(D)})}}},{key:"revertDataLabelsInner",value:function(a,l,d){var h=this,p=this.w,g=p.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),m=!1,v=p.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),x=function(A){var R=A.makeSliceOut,O=A.printLabel;Array.prototype.forEach.call(v,function(N){"true"===N.getAttribute("data:pieClicked")&&(R&&(m=!0),O&&h.printDataLabelsInner(N,l))})};if(x({makeSliceOut:!0,printLabel:!1}),l.total.show&&p.globals.series.length>1)m&&!l.total.showAlways?x({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(l,l.total.label,l.total.formatter(p));else if(x({makeSliceOut:!1,printLabel:!0}),!m)if(p.globals.selectedDataPoints.length&&p.globals.series.length>1)if(p.globals.selectedDataPoints[0].length>0){var E=p.globals.selectedDataPoints[0],D=p.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(E));this.printDataLabelsInner(D,l)}else g&&p.globals.selectedDataPoints.length&&0===p.globals.selectedDataPoints[0].length&&(g.style.opacity=0);else g&&p.globals.series.length>1&&(g.style.opacity=0)}}]),L}(),pe=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var l=this.w;this.graphics=new Me(this.ctx),this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=l.globals.svgHeight<l.globals.svgWidth?l.globals.gridHeight+1.5*l.globals.goldenPadding:l.globals.gridWidth,this.isLog=l.config.yaxis[0].logarithmic,this.coreUtils=new qt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(l.globals.maxY,0):l.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):l.globals.minY,this.polygons=l.config.plotOptions.radar.polygons,this.strokeWidth=l.config.stroke.show?l.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-l.config.chart.dropShadow.blur,l.config.xaxis.labels.show&&(this.size=this.size-l.globals.xAxisLabelsWidth/1.75),void 0!==l.config.plotOptions.radar.size&&(this.size=l.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return dt(L,[{key:"draw",value:function(a){var l=this,d=this.w,h=new fe(this.ctx),p=[],g=new je(this.ctx);a.length&&(this.dataPointsLen=a[d.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var E=d.globals.gridHeight/2+d.config.plotOptions.radar.offsetY,D=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(d.globals.gridWidth/2+d.config.plotOptions.radar.offsetX||0,", ").concat(E||0,")")}),A=[],R=null,O=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),a.forEach(function(B,G){var X=B.length===d.globals.dataPoints,b=l.graphics.group().attr({class:"apexcharts-series","data:longestSeries":X,seriesName:he.escapeString(d.globals.seriesNames[G]),rel:G+1,"data:realIndex":G});l.dataRadiusOfPercent[G]=[],l.dataRadius[G]=[],l.angleArr[G]=[],B.forEach(function(Ye,Ie){var bt=Math.abs(l.maxValue-l.minValue);Ye+=Math.abs(l.minValue),l.isLog&&(Ye=l.coreUtils.getLogVal(Ye,0)),l.dataRadiusOfPercent[G][Ie]=Ye/bt,l.dataRadius[G][Ie]=l.dataRadiusOfPercent[G][Ie]*l.size,l.angleArr[G][Ie]=Ie*l.disAngle}),A=l.getDataPointsPos(l.dataRadius[G],l.angleArr[G]);var I=l.createPaths(A,{x:0,y:0});R=l.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),O=l.graphics.group({class:"apexcharts-datalabels","data:realIndex":G}),d.globals.delayedElements.push({el:R.node,index:G});var P={i:G,realIndex:G,animationDelay:G,initialSpeed:d.config.chart.animations.speed,dataChangeSpeed:d.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:d.globals.stroke.colors[G],strokeLineCap:d.config.stroke.lineCap},j=null;d.globals.previousPaths.length>0&&(j=l.getPreviousPath(G));for(var Z=0;Z<I.linePathsTo.length;Z++){var Y=l.graphics.renderPaths(oe(oe({},P),{},{pathFrom:null===j?I.linePathsFrom[Z]:j,pathTo:I.linePathsTo[Z],strokeWidth:Array.isArray(l.strokeWidth)?l.strokeWidth[G]:l.strokeWidth,fill:"none",drawShadow:!1}));b.add(Y);var _e=h.fillPath({seriesNumber:G}),me=l.graphics.renderPaths(oe(oe({},P),{},{pathFrom:null===j?I.areaPathsFrom[Z]:j,pathTo:I.areaPathsTo[Z],strokeWidth:0,fill:_e,drawShadow:!1}));d.config.chart.dropShadow.enabled&&new yn(l.ctx).dropShadow(me,Object.assign({},d.config.chart.dropShadow,{noUserSpaceOnUse:!0}),G),b.add(me)}B.forEach(function(Ye,Ie){var bt=new Ae(l.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:G,dataPointIndex:Ie}),tn=l.graphics.drawMarker(A[Ie].x,A[Ie].y,bt);tn.attr("rel",Ie),tn.attr("j",Ie),tn.attr("index",G),tn.node.setAttribute("default-marker-size",bt.pSize);var Sn=l.graphics.group({class:"apexcharts-series-markers"});Sn&&Sn.add(tn),R.add(Sn),b.add(R);var qn=d.config.dataLabels;if(qn.enabled){var wi=qn.formatter(d.globals.series[G][Ie],{seriesIndex:G,dataPointIndex:Ie,w:d});g.plotDataLabelsText({x:A[Ie].x,y:A[Ie].y,text:wi,textAnchor:"middle",i:G,j:G,parent:O,offsetCorrection:!1,dataLabelsConfig:oe({},qn)})}b.add(O)}),p.push(b)}),this.drawPolygons({parent:D}),d.config.xaxis.labels.show){var N=this.drawXAxisTexts();D.add(N)}return p.forEach(function(B){D.add(B)}),D.add(this.yaxisLabels),D}},{key:"drawPolygons",value:function(a){for(var l=this,d=this.w,h=a.parent,p=new Ra(this.ctx),g=d.globals.yAxisScale[0].result.reverse(),m=g.length,v=[],x=this.size/(m-1),E=0;E<m;E++)v[E]=x*E;v.reverse();var D=[],A=[];v.forEach(function(R,O){var N=he.getPolygonPos(R,l.dataPointsLen),B="";N.forEach(function(G,X){if(0===O){var b=l.graphics.drawLine(G.x,G.y,0,0,Array.isArray(l.polygons.connectorColors)?l.polygons.connectorColors[X]:l.polygons.connectorColors);A.push(b)}0===X&&l.yaxisLabelsTextsPos.push({x:G.x,y:G.y}),B+=G.x+","+G.y+" "}),D.push(B)}),D.forEach(function(R,O){var N=l.polygons.strokeColors,B=l.polygons.strokeWidth,G=l.graphics.drawPolygon(R,Array.isArray(N)?N[O]:N,Array.isArray(B)?B[O]:B,d.globals.radarPolygons.fill.colors[O]);h.add(G)}),A.forEach(function(R){h.add(R)}),d.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(R,O){var N=p.drawYAxisTexts(R.x,R.y,O,g[O]);l.yaxisLabels.add(N)})}},{key:"drawXAxisTexts",value:function(){var a=this,l=this.w,d=l.config.xaxis.labels,h=this.graphics.group({class:"apexcharts-xaxis"}),p=he.getPolygonPos(this.size,this.dataPointsLen);return l.globals.labels.forEach(function(g,m){var v=l.config.xaxis.labels.formatter,x=new je(a.ctx);if(p[m]){var E=a.getTextPos(p[m],a.size),D=v(g,{seriesIndex:-1,dataPointIndex:m,w:l});x.plotDataLabelsText({x:E.newX,y:E.newY,text:D,textAnchor:E.textAnchor,i:m,j:m,parent:h,color:Array.isArray(d.style.colors)&&d.style.colors[m]?d.style.colors[m]:"#a8a8a8",dataLabelsConfig:oe({textAnchor:E.textAnchor,dropShadow:{enabled:!1}},d),offsetCorrection:!1})}}),h}},{key:"createPaths",value:function(a,l){var d=this,h=[],p=[],g=[],m=[];if(a.length){p=[this.graphics.move(l.x,l.y)],m=[this.graphics.move(l.x,l.y)];var v=this.graphics.move(a[0].x,a[0].y),x=this.graphics.move(a[0].x,a[0].y);a.forEach(function(E,D){v+=d.graphics.line(E.x,E.y),x+=d.graphics.line(E.x,E.y),D===a.length-1&&(v+="Z",x+="Z")}),h.push(v),g.push(x)}return{linePathsFrom:p,linePathsTo:h,areaPathsFrom:m,areaPathsTo:g}}},{key:"getTextPos",value:function(a,l){var d="middle",h=a.x,p=a.y;return Math.abs(a.x)>=10?a.x>0?(d="start",h+=10):a.x<0&&(d="end",h-=10):d="middle",Math.abs(a.y)>=l-10&&(a.y<0?p-=10:a.y>0&&(p+=10)),{textAnchor:d,newX:h,newY:p}}},{key:"getPreviousPath",value:function(a){for(var l=this.w,d=null,h=0;h<l.globals.previousPaths.length;h++){var p=l.globals.previousPaths[h];p.paths.length>0&&parseInt(p.realIndex,10)===parseInt(a,10)&&void 0!==l.globals.previousPaths[h].paths[0]&&(d=l.globals.previousPaths[h].paths[0].d)}return d}},{key:"getDataPointsPos",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;a=a||[],l=l||[];for(var h=[],p=0;p<d;p++){var g={};g.x=a[p]*Math.sin(l[p]),g.y=-a[p]*Math.cos(l[p]),h.push(g)}return h}}]),L}(),ce=function(L){vn(l,fo);var a=rn(l);function l(d){var h;He(this,l),(h=a.call(this,d)).ctx=d,h.w=d.w,h.animBeginArr=[0],h.animDur=0;var p=h.w;return h.startAngle=p.config.plotOptions.radialBar.startAngle,h.endAngle=p.config.plotOptions.radialBar.endAngle,h.totalAngle=Math.abs(p.config.plotOptions.radialBar.endAngle-p.config.plotOptions.radialBar.startAngle),h.trackStartAngle=p.config.plotOptions.radialBar.track.startAngle,h.trackEndAngle=p.config.plotOptions.radialBar.track.endAngle,h.donutDataLabels=h.w.config.plotOptions.radialBar.dataLabels,h.radialDataLabels=h.donutDataLabels,h.trackStartAngle||(h.trackStartAngle=h.startAngle),h.trackEndAngle||(h.trackEndAngle=h.endAngle),360===h.endAngle&&(h.endAngle=359.99),h.margin=parseInt(p.config.plotOptions.radialBar.track.margin,10),h}return dt(l,[{key:"draw",value:function(d){var h=this.w,p=new Me(this.ctx),g=p.group({class:"apexcharts-radialbar"});if(h.globals.noData)return g;var m=p.group(),v=this.defaultSize/2,x=h.globals.gridWidth/2,E=this.defaultSize/2.05;h.config.chart.sparkline.enabled||(E=E-h.config.stroke.width-h.config.chart.dropShadow.blur);var D=h.globals.fill.colors;if(h.config.plotOptions.radialBar.track.show){var A=this.drawTracks({size:E,centerX:x,centerY:v,colorArr:D,series:d});m.add(A)}var R=this.drawArcs({size:E,centerX:x,centerY:v,colorArr:D,series:d}),O=360;h.config.plotOptions.radialBar.startAngle<0&&(O=this.totalAngle);var N=(360-O)/360;if(h.globals.radialSize=E-E*N,this.radialDataLabels.value.show){var B=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);h.globals.radialSize+=B*N}return m.add(R.g),"front"===h.config.plotOptions.radialBar.hollow.position&&(R.g.add(R.elHollow),R.dataLabels&&R.g.add(R.dataLabels)),g.add(m),g}},{key:"drawTracks",value:function(d){var h=this.w,p=new Me(this.ctx),g=p.group({class:"apexcharts-tracks"}),m=new yn(this.ctx),v=new fe(this.ctx),x=this.getStrokeWidth(d);d.size=d.size-x/2;for(var E=0;E<d.series.length;E++){var D=p.group({class:"apexcharts-radialbar-track apexcharts-track"});g.add(D),D.attr({rel:E+1}),d.size=d.size-x-this.margin;var A=h.config.plotOptions.radialBar.track,R=v.fillPath({seriesNumber:0,size:d.size,fillColors:Array.isArray(A.background)?A.background[E]:A.background,solid:!0}),O=this.trackStartAngle,N=this.trackEndAngle;Math.abs(N)+Math.abs(O)>=360&&(N=360-Math.abs(this.startAngle)-.1);var B=p.drawPath({d:"",stroke:R,strokeWidth:x*parseInt(A.strokeWidth,10)/100,fill:"none",strokeOpacity:A.opacity,classes:"apexcharts-radialbar-area"});A.dropShadow.enabled&&m.dropShadow(B,A.dropShadow),D.add(B),B.attr("id","apexcharts-radialbarTrack-"+E),this.animatePaths(B,{centerX:d.centerX,centerY:d.centerY,endAngle:N,startAngle:O,size:d.size,i:E,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:h.globals.easing})}return g}},{key:"drawArcs",value:function(d){var h=this.w,p=new Me(this.ctx),g=new fe(this.ctx),m=new yn(this.ctx),v=p.group(),x=this.getStrokeWidth(d);d.size=d.size-x/2;var E=h.config.plotOptions.radialBar.hollow.background,D=d.size-x*d.series.length-this.margin*d.series.length-x*parseInt(h.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,A=D-h.config.plotOptions.radialBar.hollow.margin;void 0!==h.config.plotOptions.radialBar.hollow.image&&(E=this.drawHollowImage(d,v,D,E));var R=this.drawHollow({size:A,centerX:d.centerX,centerY:d.centerY,fill:E||"transparent"});h.config.plotOptions.radialBar.hollow.dropShadow.enabled&&m.dropShadow(R,h.config.plotOptions.radialBar.hollow.dropShadow);var N=1;!this.radialDataLabels.total.show&&h.globals.series.length>1&&(N=0);var B=null;this.radialDataLabels.show&&(B=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:D,centerX:d.centerX,centerY:d.centerY,opacity:N})),"back"===h.config.plotOptions.radialBar.hollow.position&&(v.add(R),B&&v.add(B));var G=!1;h.config.plotOptions.radialBar.inverseOrder&&(G=!0);for(var X=G?d.series.length-1:0;G?X>=0:X<d.series.length;G?X--:X++){var b=p.group({class:"apexcharts-series apexcharts-radial-series",seriesName:he.escapeString(h.globals.seriesNames[X])});v.add(b),b.attr({rel:X+1,"data:realIndex":X}),this.ctx.series.addCollapsedClassToSeries(b,X),d.size=d.size-x-this.margin;var I=g.fillPath({seriesNumber:X,size:d.size,value:d.series[X]}),P=this.startAngle,j=void 0,Z=he.negToZero(d.series[X]>100?100:d.series[X])/100,Y=Math.round(this.totalAngle*Z)+this.startAngle,_e=void 0;h.globals.dataChanged&&(j=this.startAngle,_e=Math.round(this.totalAngle*he.negToZero(h.globals.previousPaths[X])/100)+j),Math.abs(Y)+Math.abs(P)>=360&&(Y-=.01),Math.abs(_e)+Math.abs(j)>=360&&(_e-=.01);var me=Y-P,Re=Array.isArray(h.config.stroke.dashArray)?h.config.stroke.dashArray[X]:h.config.stroke.dashArray,le=p.drawPath({d:"",stroke:I,strokeWidth:x,fill:"none",fillOpacity:h.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+X,strokeDashArray:Re});Me.setAttrs(le.node,{"data:angle":me,"data:value":d.series[X]}),h.config.chart.dropShadow.enabled&&m.dropShadow(le,h.config.chart.dropShadow,X),m.setSelectionFilter(le,0,X),this.addListeners(le,this.radialDataLabels),b.add(le),le.attr({index:0,j:X});var Ie=0;!this.initialAnim||h.globals.resized||h.globals.dataChanged||(Ie=h.config.chart.animations.speed),h.globals.dataChanged&&(Ie=h.config.chart.animations.dynamicAnimation.speed),this.animDur=Ie/(1.2*d.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(le,{centerX:d.centerX,centerY:d.centerY,endAngle:Y,startAngle:P,prevEndAngle:_e,prevStartAngle:j,size:d.size,i:X,totalItems:2,animBeginArr:this.animBeginArr,dur:Ie,shouldSetPrevPaths:!0,easing:h.globals.easing})}return{g:v,elHollow:R,dataLabels:B}}},{key:"drawHollow",value:function(d){var h=new Me(this.ctx).drawCircle(2*d.size);return h.attr({class:"apexcharts-radialbar-hollow",cx:d.centerX,cy:d.centerY,r:d.size,fill:d.fill}),h}},{key:"drawHollowImage",value:function(d,h,p,g){var m=this.w,v=new fe(this.ctx),x=he.randomId(),E=m.config.plotOptions.radialBar.hollow.image;if(m.config.plotOptions.radialBar.hollow.imageClipped)v.clippedImgArea({width:p,height:p,image:E,patternID:"pattern".concat(m.globals.cuid).concat(x)}),g="url(#pattern".concat(m.globals.cuid).concat(x,")");else{var D=m.config.plotOptions.radialBar.hollow.imageWidth,A=m.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===D&&void 0===A){var R=m.globals.dom.Paper.image(E).loaded(function(N){this.move(d.centerX-N.width/2+m.config.plotOptions.radialBar.hollow.imageOffsetX,d.centerY-N.height/2+m.config.plotOptions.radialBar.hollow.imageOffsetY)});h.add(R)}else{var O=m.globals.dom.Paper.image(E).loaded(function(N){this.move(d.centerX-D/2+m.config.plotOptions.radialBar.hollow.imageOffsetX,d.centerY-A/2+m.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(D,A)});h.add(O)}}return g}},{key:"getStrokeWidth",value:function(d){return d.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(d.series.length+1)-this.margin}}]),l}(),$=function(L){vn(l,Oi);var a=rn(l);function l(){return He(this,l),a.apply(this,arguments)}return dt(l,[{key:"draw",value:function(d,h){var p=this.w,g=new Me(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=d,this.seriesRangeStart=p.globals.seriesRangeStart,this.seriesRangeEnd=p.globals.seriesRangeEnd,this.barHelpers.initVariables(d);for(var m=g.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),v=0;v<d.length;v++){var x,E,D,A,R=void 0,O=void 0,N=p.globals.comboCharts?h[v]:v,B=g.group({class:"apexcharts-series",seriesName:he.escapeString(p.globals.seriesNames[N]),rel:v+1,"data:realIndex":N});this.ctx.series.addCollapsedClassToSeries(B,N),d[v].length>0&&(this.visibleI=this.visibleI+1);var G=0,X=0;this.yRatio.length>1&&(this.yaxisIndex=N);var b=this.barHelpers.initialPositions();O=b.y,A=b.zeroW,R=b.x,X=b.barWidth,G=b.barHeight,x=b.xDivision,E=b.yDivision,D=b.zeroH;for(var I=g.group({class:"apexcharts-datalabels","data:realIndex":N}),P=g.group({class:"apexcharts-rangebar-goals-markers"}),j=0;j<p.globals.dataPoints;j++){var Z,Y=this.barHelpers.getStrokeWidth(v,j,N),_e=this.seriesRangeStart[v][j],me=this.seriesRangeEnd[v][j],Re=null,le=null,Ye=null,Ie={x:R,y:O,strokeWidth:Y,elSeries:B},bt=this.seriesLen;if(p.config.plotOptions.bar.rangeBarGroupRows&&(bt=1),void 0===p.config.series[v].data[j])break;if(this.isHorizontal){if(Ye=O+G*this.visibleI,p.config.series[v].data[j].x){var Sn=this.detectOverlappingBars({i:v,j,barYPosition:Ye,srty:(E-G*bt)/2,barHeight:G,yDivision:E,initPositions:b});G=Sn.barHeight,Ye=Sn.barYPosition}X=(Re=this.drawRangeBarPaths(oe({indexes:{i:v,j,realIndex:N},barHeight:G,barYPosition:Ye,zeroW:A,yDivision:E,y1:_e,y2:me},Ie))).barWidth}else{if(p.globals.isXNumeric&&(R=(p.globals.seriesX[v][j]-p.globals.minX)/this.xRatio-X/2),le=R+X*this.visibleI,p.config.series[v].data[j].x){var wi=this.detectOverlappingBars({i:v,j,barXPosition:le,srtx:(x-X*bt)/2,barWidth:X,xDivision:x,initPositions:b});X=wi.barWidth,le=wi.barXPosition}G=(Re=this.drawRangeColumnPaths(oe({indexes:{i:v,j,realIndex:N},barWidth:X,barXPosition:le,zeroH:D,xDivision:x},Ie))).barHeight}var ri=this.barHelpers.drawGoalLine({barXPosition:Re.barXPosition,barYPosition:Ye,goalX:Re.goalX,goalY:Re.goalY,barHeight:G,barWidth:X});ri&&P.add(ri),O=Re.y,R=Re.x;var zi=this.barHelpers.getPathFillColor(d,v,j,N);this.renderSeries((Ln(Z={realIndex:N,pathFill:zi,lineFill:p.globals.stroke.colors[N],j,i:v,x:R,y:O,y1:_e,y2:me,pathFrom:Re.pathFrom,pathTo:Re.pathTo,strokeWidth:Y,elSeries:B,series:d,barHeight:G,barWidth:X,barXPosition:le,barYPosition:Ye},"barWidth",X),Ln(Z,"elDataLabelsWrap",I),Ln(Z,"elGoalsMarkers",P),Ln(Z,"visibleSeries",this.visibleI),Ln(Z,"type","rangebar"),Z))}m.add(B)}return m}},{key:"detectOverlappingBars",value:function(d){var h=d.i,p=d.j,g=d.barYPosition,m=d.barXPosition,v=d.srty,x=d.srtx,E=d.barHeight,D=d.barWidth,A=d.yDivision,R=d.xDivision,O=d.initPositions,N=this.w,B=[],G=N.config.series[h].data[p].rangeName,X=N.config.series[h].data[p].x,b=Array.isArray(X)?X.join(" "):X,I=N.globals.labels.map(function(j){return Array.isArray(j)?j.join(" "):j}).indexOf(b),P=N.globals.seriesRange[h].findIndex(function(j){return j.x===b&&j.overlaps.length>0});return this.isHorizontal?(g=N.config.plotOptions.bar.rangeBarGroupRows?v+A*I:v+E*this.visibleI+A*I,P>-1&&!N.config.plotOptions.bar.rangeBarOverlap&&(B=N.globals.seriesRange[h][P].overlaps).indexOf(G)>-1&&(g=(E=O.barHeight/B.length)*this.visibleI+A*(100-parseInt(this.barOptions.barHeight,10))/100/2+E*(this.visibleI+B.indexOf(G))+A*I)):(I>-1&&(m=N.config.plotOptions.bar.rangeBarGroupRows?x+R*I:x+D*this.visibleI+R*I),P>-1&&!N.config.plotOptions.bar.rangeBarOverlap&&(B=N.globals.seriesRange[h][P].overlaps).indexOf(G)>-1&&(m=(D=O.barWidth/B.length)*this.visibleI+R*(100-parseInt(this.barOptions.barWidth,10))/100/2+D*(this.visibleI+B.indexOf(G))+R*I)),{barYPosition:g,barXPosition:m,barHeight:E,barWidth:D}}},{key:"drawRangeColumnPaths",value:function(d){var h=d.indexes,p=d.x,g=d.xDivision,m=d.barWidth,v=d.barXPosition,x=d.zeroH,E=this.w,D=h.i,A=h.j,R=this.yRatio[this.yaxisIndex],O=h.realIndex,N=this.getRangeValue(O,A),B=Math.min(N.start,N.end),G=Math.max(N.start,N.end);null==this.series[D][A]?B=x:(B=x-B/R,G=x-G/R);var X=Math.abs(G-B),b=this.barHelpers.getColumnPaths({barXPosition:v,barWidth:m,y1:B,y2:G,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:h.realIndex,i:O,j:A,w:E});if(E.globals.isXNumeric){var I=this.getBarXForNumericXAxis({x:p,j:A,realIndex:O,barWidth:m});p=I.x,v=I.barXPosition}else p+=g;return{pathTo:b.pathTo,pathFrom:b.pathFrom,barHeight:X,x:p,y:G,goalY:this.barHelpers.getGoalValues("y",null,x,D,A),barXPosition:v}}},{key:"drawRangeBarPaths",value:function(d){var h=d.indexes,p=d.y,v=d.yDivision,x=d.barHeight,E=d.barYPosition,D=d.zeroW,A=this.w,R=D+d.y1/this.invertedYRatio,O=D+d.y2/this.invertedYRatio,N=Math.abs(O-R),B=this.barHelpers.getBarpaths({barYPosition:E,barHeight:x,x1:R,x2:O,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:h.realIndex,realIndex:h.realIndex,j:h.j,w:A});return A.globals.isXNumeric||(p+=v),{pathTo:B.pathTo,pathFrom:B.pathFrom,barWidth:N,x:O,goalX:this.barHelpers.getGoalValues("x",D,null,h.realIndex,h.j),y:p}}},{key:"getRangeValue",value:function(d,h){var p=this.w;return{start:p.globals.seriesRangeStart[d][h],end:p.globals.seriesRangeEnd[d][h]}}}]),l}(),K=function(){function L(a){He(this,L),this.w=a.w,this.lineCtx=a}return dt(L,[{key:"sameValueSeriesFix",value:function(a,l){var d=this.w;if(("gradient"===d.config.fill.type||"gradient"===d.config.fill.type[a])&&new qt(this.lineCtx.ctx,d).seriesHaveSameValues(a)){var h=l[a].slice();h[h.length-1]=h[h.length-1]+1e-6,l[a]=h}return l}},{key:"calculatePoints",value:function(a){var l=a.series,h=a.x,p=a.y,g=a.i,m=a.j,v=a.prevY,x=this.w,E=[],D=[];if(0===m){var A=this.lineCtx.categoryAxisCorrection+x.config.markers.offsetX;x.globals.isXNumeric&&(A=(x.globals.seriesX[a.realIndex][0]-x.globals.minX)/this.lineCtx.xRatio+x.config.markers.offsetX),E.push(A),D.push(he.isNumber(l[g][0])?v+x.config.markers.offsetY:null),E.push(h+x.config.markers.offsetX),D.push(he.isNumber(l[g][m+1])?p+x.config.markers.offsetY:null)}else E.push(h+x.config.markers.offsetX),D.push(he.isNumber(l[g][m+1])?p+x.config.markers.offsetY:null);return{x:E,y:D}}},{key:"checkPreviousPaths",value:function(a){for(var l=a.pathFromLine,d=a.pathFromArea,h=a.realIndex,p=this.w,g=0;g<p.globals.previousPaths.length;g++){var m=p.globals.previousPaths[g];("line"===m.type||"area"===m.type)&&m.paths.length>0&&parseInt(m.realIndex,10)===parseInt(h,10)&&("line"===m.type?(this.lineCtx.appendPathFrom=!1,l=p.globals.previousPaths[g].paths[0].d):"area"===m.type&&(this.lineCtx.appendPathFrom=!1,d=p.globals.previousPaths[g].paths[0].d,p.config.stroke.show&&p.globals.previousPaths[g].paths[1]&&(l=p.globals.previousPaths[g].paths[1].d)))}return{pathFromLine:l,pathFromArea:d}}},{key:"determineFirstPrevY",value:function(a){var l,d=a.i,h=a.series,p=a.prevY,g=a.lineYPosition,m=this.w;if(void 0!==(null===(l=h[d])||void 0===l?void 0:l[0]))p=(g=m.config.chart.stacked&&d>0?this.lineCtx.prevSeriesY[d-1][0]:this.lineCtx.zeroY)-h[d][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?h[d][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(m.config.chart.stacked&&d>0&&void 0===h[d][0])for(var v=d-1;v>=0;v--)if(null!=h[v][0]){p=g=this.lineCtx.prevSeriesY[v][0];break}return{prevY:p,lineYPosition:g}}}]),L}(),de=function(L){for(var a="",l=0;l<L.length;l++){var d=L[l],h=L[l-1],p=d.length,g=h?.length;l>1&&Math.abs(d[p-2]-h[g-2])<30?(a+="Q".concat(d[0],", ").concat(d[1]),a+=", ".concat(d[2],", ").concat(d[3])):p>4?(a+="C".concat(d[0],", ").concat(d[1]),a+=", ".concat(d[2],", ").concat(d[3]),a+=", ".concat(d[4],", ").concat(d[5])):p>2&&(a+="S".concat(d[0],", ").concat(d[1]),a+=", ".concat(d[2],", ").concat(d[3]))}return a},Be=function(L){var a=function(L){for(var a,l,d,h,p=function(E){for(var D=[],A=E[0],R=E[1],O=D[0]=Tt(A,R),N=1,B=E.length-1;N<B;N++)D[N]=.5*(O+(O=Tt(A=R,R=E[N+1])));return D[N]=O,D}(L),g=L.length-1,m=[],v=0;v<g;v++)d=Tt(L[v],L[v+1]),Math.abs(d)<1e-6?p[v]=p[v+1]=0:(h=(a=p[v]/d)*a+(l=p[v+1]/d)*l)>9&&(h=3*d/Math.sqrt(h),p[v]=h*a,p[v+1]=h*l);for(var x=0;x<=g;x++)h=(L[Math.min(g,x+1)][0]-L[Math.max(0,x-1)][0])/(6*(1+p[x]*p[x])),m.push([h||0,p[x]*h||0]);return m}(L),l=L[1],d=L[0],h=[],p=a[1],g=a[0];h.push(d,[d[0]+g[0],d[1]+g[1],l[0]-p[0],l[1]-p[1],l[0],l[1]]);for(var m=2,v=a.length;m<v;m++){var x=L[m],E=a[m];h.push([x[0]-E[0],x[1]-E[1],x[0],x[1]])}return h};function Tt(L,a){return(a[1]-L[1])/(a[0]-L[0])}var vt=function(){function L(a,l,d){He(this,L),this.ctx=a,this.w=a.w,this.xyRatios=l,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||d,this.scatter=new Je(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new K(this),this.markers=new Ae(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return dt(L,[{key:"draw",value:function(a,l,d,h){var p,g=this.w,m=new Me(this.ctx),v=g.globals.comboCharts?l:g.config.chart.type,x=m.group({class:"apexcharts-".concat(v,"-series apexcharts-plot-series")}),E=new qt(this.ctx,g);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,a=E.getLogSeries(a),this.yRatio=E.getLogYRatios(this.yRatio);for(var D=[],A=0;A<a.length;A++){a=this.lineHelpers.sameValueSeriesFix(A,a);var R=g.globals.comboCharts?d[A]:A;this._initSerieVariables(a,A,R);var O=[],N=[],B=[],G=g.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,R),g.globals.isXNumeric&&g.globals.seriesX.length>0&&(G=(g.globals.seriesX[R][0]-g.globals.minX)/this.xRatio),B.push(G);var X=G,b=this.zeroY,I=this.zeroY;b=this.lineHelpers.determineFirstPrevY({i:A,series:a,prevY:b,lineYPosition:0}).prevY,O.push("smooth"===g.config.stroke.curve&&null===a[A][0]?null:b),"rangeArea"===v&&(I=this.lineHelpers.determineFirstPrevY({i:A,series:h,prevY:I,lineYPosition:0}).prevY,N.push(I));var P={type:v,series:a,realIndex:R,i:A,x:G,y:1,pathsFrom:this._calculatePathsFrom({type:v,series:a,i:A,realIndex:R,prevX:X,prevY:b,prevY2:I}),linePaths:[],areaPaths:[],seriesIndex:d,lineYPosition:0,xArrj:B,yArrj:O,y2Arrj:N,seriesRangeEnd:h},j=this._iterateOverDataPoints(oe(oe({},P),{},{iterations:"rangeArea"===v?a[A].length-1:void 0,isRangeStart:!0}));if("rangeArea"===v){var Z=this._calculatePathsFrom({series:h,i:A,realIndex:R,prevX:X,prevY:I}),Y=this._iterateOverDataPoints(oe(oe({},P),{},{series:h,pathsFrom:Z,iterations:h[A].length-1,isRangeStart:!1}));j.linePaths[0]=Y.linePath+j.linePath,j.pathFromLine=Y.pathFromLine+j.pathFromLine}this._handlePaths({type:v,realIndex:R,i:A,paths:j}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),D.push(this.elSeries)}if(void 0!==(null===(p=g.config.series[0])||void 0===p?void 0:p.zIndex)&&D.sort(function(Re,le){return Number(Re.node.getAttribute("zIndex"))-Number(le.node.getAttribute("zIndex"))}),g.config.chart.stacked)for(var _e=D.length;_e>0;_e--)x.add(D[_e-1]);else for(var me=0;me<D.length;me++)x.add(D[me]);return x}},{key:"_initSerieVariables",value:function(a,l,d){var h=this.w,p=new Me(this.ctx);this.xDivision=h.globals.gridWidth/(h.globals.dataPoints-("on"===h.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(h.config.stroke.width)?h.config.stroke.width[d]:h.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=d),this.isReversed=h.config.yaxis[this.yaxisIndex]&&h.config.yaxis[this.yaxisIndex].reversed,this.zeroY=h.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?h.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>h.globals.gridHeight||"end"===h.config.plotOptions.area.fillTo)&&(this.areaBottomY=h.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=p.group({class:"apexcharts-series",zIndex:void 0!==h.config.series[d].zIndex?h.config.series[d].zIndex:d,seriesName:he.escapeString(h.globals.seriesNames[d])}),this.elPointsMain=p.group({class:"apexcharts-series-markers-wrap","data:realIndex":d}),this.elDataLabelsWrap=p.group({class:"apexcharts-datalabels","data:realIndex":d}),this.elSeries.attr({"data:longestSeries":a[l].length===h.globals.dataPoints,rel:l+1,"data:realIndex":d}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(a){var l,d,h,p,g=a.type,m=a.series,v=a.i,x=a.realIndex,E=a.prevX,D=a.prevY,A=a.prevY2,R=this.w,O=new Me(this.ctx);if(null===m[v][0]){for(var N=0;N<m[v].length;N++)if(null!==m[v][N]){l=O.move(E=this.xDivision*N,D=this.zeroY-m[v][N]/this.yRatio[this.yaxisIndex]),d=O.move(E,this.areaBottomY);break}}else l=O.move(E,D),"rangeArea"===g&&(l=O.move(E,A)+O.line(E,D)),d=O.move(E,this.areaBottomY)+O.line(E,D);if(h=O.move(-1,this.zeroY)+O.line(-1,this.zeroY),p=O.move(-1,this.zeroY)+O.line(-1,this.zeroY),R.globals.previousPaths.length>0){var B=this.lineHelpers.checkPreviousPaths({pathFromLine:h,pathFromArea:p,realIndex:x});h=B.pathFromLine,p=B.pathFromArea}return{prevX:E,prevY:D,linePath:l,areaPath:d,pathFromLine:h,pathFromArea:p}}},{key:"_handlePaths",value:function(a){var l=a.type,d=a.realIndex,h=a.i,p=a.paths,g=this.w,m=new Me(this.ctx),v=new fe(this.ctx);this.prevSeriesY.push(p.yArrj),g.globals.seriesXvalues[d]=p.xArrj,g.globals.seriesYvalues[d]=p.yArrj;var x=g.config.forecastDataPoints;if(x.count>0&&"rangeArea"!==l){var E=g.globals.seriesXvalues[d][g.globals.seriesXvalues[d].length-x.count-1],D=m.drawRect(E,0,g.globals.gridWidth,g.globals.gridHeight,0);g.globals.dom.elForecastMask.appendChild(D.node);var A=m.drawRect(0,0,E,g.globals.gridHeight,0);g.globals.dom.elNonForecastMask.appendChild(A.node)}this.pointsChart||g.globals.delayedElements.push({el:this.elPointsMain.node,index:d});var R={i:h,realIndex:d,animationDelay:h,initialSpeed:g.config.chart.animations.speed,dataChangeSpeed:g.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(l)};if("area"===l)for(var O=v.fillPath({seriesNumber:d}),N=0;N<p.areaPaths.length;N++){var B=m.renderPaths(oe(oe({},R),{},{pathFrom:p.pathFromArea,pathTo:p.areaPaths[N],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:O}));this.elSeries.add(B)}if(g.config.stroke.show&&!this.pointsChart){var G=null;if("line"===l)G=v.fillPath({seriesNumber:d,i:h});else if("solid"===g.config.stroke.fill.type)G=g.globals.stroke.colors[d];else{var X=g.config.fill;g.config.fill=g.config.stroke.fill,G=v.fillPath({seriesNumber:d,i:h}),g.config.fill=X}for(var b=0;b<p.linePaths.length;b++){var I=G;"rangeArea"===l&&(I=v.fillPath({seriesNumber:d}));var P=oe(oe({},R),{},{pathFrom:p.pathFromLine,pathTo:p.linePaths[b],stroke:G,strokeWidth:this.strokeWidth,strokeLineCap:g.config.stroke.lineCap,fill:"rangeArea"===l?I:"none"}),j=m.renderPaths(P);if(this.elSeries.add(j),j.attr("fill-rule","evenodd"),x.count>0&&"rangeArea"!==l){var Z=m.renderPaths(P);Z.node.setAttribute("stroke-dasharray",x.dashArray),x.strokeWidth&&Z.node.setAttribute("stroke-width",x.strokeWidth),this.elSeries.add(Z),Z.attr("clip-path","url(#forecastMask".concat(g.globals.cuid,")")),j.attr("clip-path","url(#nonForecastMask".concat(g.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(a){var l=this,d=a.type,h=a.series,p=a.iterations,g=a.realIndex,m=a.i,v=a.x,x=a.y,E=a.pathsFrom,D=a.linePaths,A=a.areaPaths,R=a.seriesIndex,O=a.lineYPosition,N=a.xArrj,B=a.yArrj,G=a.y2Arrj,X=a.isRangeStart,b=a.seriesRangeEnd,I=this.w,P=new Me(this.ctx),j=this.yRatio,Z=E.prevY,Y=E.linePath,_e=E.areaPath,me=E.pathFromLine,Re=E.pathFromArea,le=he.isNumber(I.globals.minYArr[g])?I.globals.minYArr[g]:I.globals.minY;p||(p=I.globals.dataPoints>1?I.globals.dataPoints-1:I.globals.dataPoints);for(var Ye=function(ri,zi){return zi-ri/j[l.yaxisIndex]+2*(l.isReversed?ri/j[l.yaxisIndex]:0)},Ie=x,bt=0;bt<p;bt++){var tn=null==h[m][bt+1];if(I.globals.isXNumeric){var Sn=I.globals.seriesX[g][bt+1];void 0===I.globals.seriesX[g][bt+1]&&(Sn=I.globals.seriesX[g][p-1]),v=(Sn-I.globals.minX)/this.xRatio}else v+=this.xDivision;O=I.config.chart.stacked&&m>0&&I.globals.collapsedSeries.length<I.config.series.length-1?this.prevSeriesY[function(ri){for(var zi=ri,ws=0;ws<I.globals.series.length;ws++)if(I.globals.collapsedSeriesIndices.indexOf(ri)>-1){zi--;break}return zi>=0?zi:0}(m-1)][bt+1]:this.zeroY,tn?x=Ye(le,O):(x=Ye(h[m][bt+1],O),"rangeArea"===d&&(Ie=Ye(b[m][bt+1],O))),N.push(v),B.push(tn&&"smooth"===I.config.stroke.curve?null:x),G.push(Ie);var qn=this.lineHelpers.calculatePoints({series:h,x:v,y:x,realIndex:g,i:m,j:bt,prevY:Z}),wi=this._createPaths({type:d,series:h,i:m,realIndex:g,j:bt,x:v,y:x,y2:Ie,xArrj:N,yArrj:B,y2Arrj:G,linePath:Y,areaPath:_e,linePaths:D,areaPaths:A,seriesIndex:R,isRangeStart:X});A=wi.areaPaths,D=wi.linePaths,_e=wi.areaPath,Y=wi.linePath,!this.appendPathFrom||"smooth"===I.config.stroke.curve&&"rangeArea"===d||(me+=P.line(v,this.zeroY),Re+=P.line(v,this.zeroY)),this.handleNullDataPoints(h,qn,m,bt,g),this._handleMarkersAndLabels({type:d,pointsPos:qn,i:m,j:bt,realIndex:g,isRangeStart:X})}return{yArrj:B,xArrj:N,pathFromArea:Re,areaPaths:A,pathFromLine:me,linePaths:D,linePath:Y,areaPath:_e}}},{key:"_handleMarkersAndLabels",value:function(a){var l=a.type,d=a.pointsPos,h=a.isRangeStart,p=a.i,g=a.j,m=a.realIndex,v=this.w,x=new je(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,g,{realIndex:m,pointsPos:d,zRatio:this.zRatio,elParent:this.elPointsMain});else{v.globals.series[p].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var E=this.markers.plotChartMarkers(d,m,g+1);null!==E&&this.elPointsMain.add(E)}var D=x.drawDataLabel({type:l,isRangeStart:h,pos:d,i:m,j:g+1});null!==D&&this.elDataLabelsWrap.add(D)}},{key:"_createPaths",value:function(a){var l=a.type,d=a.series,h=a.i,p=a.realIndex,g=a.j,m=a.x,v=a.y,x=a.xArrj,E=a.yArrj,D=a.y2,A=a.y2Arrj,R=a.linePath,O=a.areaPath,N=a.linePaths,B=a.areaPaths,G=a.seriesIndex,X=a.isRangeStart,b=this.w,I=new Me(this.ctx),P=b.config.stroke.curve,j=this.areaBottomY;if(Array.isArray(b.config.stroke.curve)&&(P=Array.isArray(G)?b.config.stroke.curve[G[h]]:b.config.stroke.curve[h]),"rangeArea"===l&&(b.globals.hasNullValues||b.config.forecastDataPoints.count>0)&&"smooth"===P&&(P="straight"),"smooth"===P){var Z="rangeArea"===l?x.length===b.globals.dataPoints:g===d[h].length-2,Y=x.map(function(bt,tn){return[x[tn],E[tn]]}).filter(function(bt){return null!==bt[1]});if(Z&&Y.length>1){var _e=Be(Y);if(R+=de(_e),null===d[h][0]?O=R:O+=de(_e),"rangeArea"===l&&X){R+=I.line(x[x.length-1],A[A.length-1]);var me=x.slice().reverse(),Re=A.slice().reverse(),le=me.map(function(bt,tn){return[me[tn],Re[tn]]}),Ye=Be(le);O=R+=de(Ye)}else O+=I.line(Y[Y.length-1][0],j)+I.line(Y[0][0],j)+I.move(Y[0][0],Y[0][1])+"z";N.push(R),B.push(O)}}else null===d[h][g+1]&&(R+=I.move(m,v),O=O+I.line(b.globals.isXNumeric?(b.globals.seriesX[p][g]-b.globals.minX)/this.xRatio:m-this.xDivision,j)+I.move(m,v)+"z"),null===d[h][g]&&(R+=I.move(m,v),O+=I.move(m,j)),"stepline"===P?(R=R+I.line(m,null,"H")+I.line(null,v,"V"),O=O+I.line(m,null,"H")+I.line(null,v,"V")):"straight"===P&&(R+=I.line(m,v),O+=I.line(m,v)),g===d[h].length-2&&(O=O+I.line(m,j)+I.move(m,v)+"z","rangeArea"===l&&X?R=R+I.line(m,D)+I.move(m,D)+"z":(N.push(R),B.push(O)));return{linePaths:N,areaPaths:B,linePath:R,areaPath:O}}},{key:"handleNullDataPoints",value:function(a,l,d,h,p){var g=this.w;if(null===a[d][h]&&g.config.markers.showNullDataPoints||1===a[d].length){var m=this.markers.plotChartMarkers(l,p,h+1,this.strokeWidth-g.config.markers.strokeWidth/2,!0);null!==m&&this.elPointsMain.add(m)}}}]),L}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function L(m,v,x,E){this.xoffset=m,this.yoffset=v,this.height=E,this.width=x,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(D){var A,R=[],O=this.xoffset,N=this.yoffset,B=p(D)/this.height,G=p(D)/this.width;if(this.width>=this.height)for(A=0;A<D.length;A++)R.push([O,N,O+B,N+D[A]/B]),N+=D[A]/B;else for(A=0;A<D.length;A++)R.push([O,N,O+D[A]/G,N+G]),O+=D[A]/G;return R},this.cutArea=function(D){var A;if(this.width>=this.height){var R=D/this.height;A=new L(this.xoffset+R,this.yoffset,this.width-R,this.height)}else{var N=D/this.width;A=new L(this.xoffset,this.yoffset+N,this.width,this.height-N)}return A}}function a(m,v,x,E,D){return E=void 0===E?0:E,D=void 0===D?0:D,function(R){var O,N,B=[];for(O=0;O<R.length;O++)for(N=0;N<R[O].length;N++)B.push(R[O][N]);return B}(l(function(R,O){var N,B=[],G=O/p(R);for(N=0;N<R.length;N++)B[N]=R[N]*G;return B}(m,v*x),[],new L(E,D,v,x),[]))}function l(m,v,x,E){var D,A,R,O,N,B,G;if(0!==m.length)return D=x.shortestEdge(),N=A=m[0],B=D,0===(O=v).length||((G=O.slice()).push(N),d(O,B)>=d(G,B))?(v.push(A),l(m.slice(1),v,x,E)):(R=x.cutArea(p(v),E),E.push(x.getCoordinates(v)),l(m,[],R,E)),E;E.push(x.getCoordinates(v))}function d(m,v){var x=Math.min.apply(Math,m),E=Math.max.apply(Math,m),D=p(m);return Math.max(Math.pow(v,2)*E/Math.pow(D,2),Math.pow(D,2)/(Math.pow(v,2)*x))}function h(m){return m&&m.constructor===Array}function p(m){var v,x=0;for(v=0;v<m.length;v++)x+=m[v];return x}function g(m){var v,x=0;if(h(m[0]))for(v=0;v<m.length;v++)x+=g(m[v]);else x=p(m);return x}return function m(v,x,E,D,A){D=void 0===D?0:D,A=void 0===A?0:A;var R,O,N=[],B=[];if(h(v[0])){for(O=0;O<v.length;O++)N[O]=g(v[O]);for(R=a(N,x,E,D,A),O=0;O<v.length;O++)B.push(m(v[O],R[O][2]-R[O][0],R[O][3]-R[O][1],R[O][0],R[O][1]))}else B=a(v,x,E,D,A);return B}}();var en,ii,Ct=function(){function L(a,l){He(this,L),this.ctx=a,this.w=a.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Ka(a),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return dt(L,[{key:"draw",value:function(a){var l=this,d=this.w,h=new Me(this.ctx),p=new fe(this.ctx),g=h.group({class:"apexcharts-treemap"});if(d.globals.noData)return g;var m=[];return a.forEach(function(v){var x=v.map(function(E){return Math.abs(E)});m.push(x)}),this.negRange=this.helpers.checkColorRange(),d.config.series.forEach(function(v,x){v.data.forEach(function(E){Array.isArray(l.labels[x])||(l.labels[x]=[]),l.labels[x].push(E.x)})}),window.TreemapSquared.generate(m,d.globals.gridWidth,d.globals.gridHeight).forEach(function(v,x){var E=h.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:he.escapeString(d.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});if(d.config.chart.dropShadow.enabled){var D=d.config.chart.dropShadow;new yn(l.ctx).dropShadow(g,D,x)}var A=h.group({class:"apexcharts-data-labels"});v.forEach(function(R,O){var N=R[0],B=R[1],G=R[2],X=R[3],b=h.drawRect(N,B,G-N,X-B,0,"#fff",1,l.strokeWidth,d.config.plotOptions.treemap.useFillColorAsStroke?P:d.globals.stroke.colors[x]);b.attr({cx:N,cy:B,index:x,i:x,j:O,width:G-N,height:X-B});var I=l.helpers.getShadeColor(d.config.chart.type,x,O,l.negRange),P=I.color;void 0!==d.config.series[x].data[O]&&d.config.series[x].data[O].fillColor&&(P=d.config.series[x].data[O].fillColor);var j=p.fillPath({color:P,seriesNumber:x,dataPointIndex:O});b.node.classList.add("apexcharts-treemap-rect"),b.attr({fill:j}),l.helpers.addListeners(b);var Z={x:N+(G-N)/2,y:B+(X-B)/2,width:0,height:0},Y={x:N,y:B,width:G-N,height:X-B};if(d.config.chart.animations.enabled&&!d.globals.dataChanged){var _e=1;d.globals.resized||(_e=d.config.chart.animations.speed),l.animateTreemap(b,Z,Y,_e)}d.globals.dataChanged&&l.dynamicAnim.enabled&&d.globals.shouldAnimate&&(d.globals.previousPaths[x]&&d.globals.previousPaths[x][O]&&d.globals.previousPaths[x][O].rect&&(Z=d.globals.previousPaths[x][O].rect),l.animateTreemap(b,Z,Y,l.dynamicAnim.speed));var Re=l.getFontSize(R),le=d.config.dataLabels.formatter(l.labels[x][O],{value:d.globals.series[x][O],seriesIndex:x,dataPointIndex:O,w:d});"truncate"===d.config.plotOptions.treemap.dataLabels.format&&(Re=parseInt(d.config.dataLabels.style.fontSize,10),le=l.truncateLabels(le,Re,N,B,G,X));var Ye=l.helpers.calculateDataLabels({text:le,x:(N+G)/2,y:(B+X)/2+l.strokeWidth/2+Re/3,i:x,j:O,colorProps:I,fontSize:Re,series:a});d.config.dataLabels.enabled&&Ye&&l.rotateToFitLabel(Ye,Re,le,N,B,G,X),E.add(b),null!==Ye&&E.add(Ye)}),E.add(A),g.add(E)}),g}},{key:"getFontSize",value:function(a){var g,l=this.w,m=function v(x){var E,D=0;if(Array.isArray(x[0]))for(E=0;E<x.length;E++)D+=v(x[E]);else for(E=0;E<x.length;E++)D+=x[E].length;return D}(this.labels)/function v(x){var E,D=0;if(Array.isArray(x[0]))for(E=0;E<x.length;E++)D+=v(x[E]);else for(E=0;E<x.length;E++)D+=1;return D}(this.labels);return g=Math.pow((a[2]-a[0])*(a[3]-a[1]),.5),Math.min(g/m,parseInt(l.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(a,l,d,h,p,g,m){var v=new Me(this.ctx),x=v.getTextRects(d,l);if(x.width+this.w.config.stroke.width+5>g-h&&x.width<=m-p){var E=v.rotateAroundCenter(a.node);a.node.setAttribute("transform","rotate(-90 ".concat(E.x," ").concat(E.y,") translate(").concat(x.height/3,")"))}}},{key:"truncateLabels",value:function(a,l,d,h,p,g){var m=new Me(this.ctx),v=m.getTextRects(a,l).width+this.w.config.stroke.width+5>p-d&&g-h>p-d?g-h:p-d,x=m.getTextBasedOnMaxWidth({text:a,maxWidth:v,fontSize:l});return a.length!==x.length&&v/l<5?"":x}},{key:"animateTreemap",value:function(a,l,d,h){var p=new Di(this.ctx);p.animateRect(a,{x:l.x,y:l.y,width:l.width,height:l.height},{x:d.x,y:d.y,width:d.width,height:d.height},h,function(){p.animationCompleted(a)})}}]),L}(),Gt=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return dt(L,[{key:"calculateTimeScaleTicks",value:function(a,l){var d=this,h=this.w;if(h.globals.allSeriesCollapsed)return h.globals.labels=[],h.globals.timescaleLabels=[],[];var p=new un(this.ctx),g=(l-a)/864e5;this.determineInterval(g),h.globals.disableZoomIn=!1,h.globals.disableZoomOut=!1,g<.00011574074074074075?h.globals.disableZoomIn=!0:g>5e4&&(h.globals.disableZoomOut=!0);var m=p.getTimeUnitsfromTimestamp(a,l,this.utc),v=h.globals.gridWidth/g,x=v/24,E=x/60,D=E/60,A=Math.floor(24*g),R=Math.floor(1440*g),O=Math.floor(86400*g),N=Math.floor(g),B=Math.floor(g/30),G=Math.floor(g/365),X={minMillisecond:m.minMillisecond,minSecond:m.minSecond,minMinute:m.minMinute,minHour:m.minHour,minDate:m.minDate,minMonth:m.minMonth,minYear:m.minYear},b={firstVal:X,currentMillisecond:X.minMillisecond,currentSecond:X.minSecond,currentMinute:X.minMinute,currentHour:X.minHour,currentMonthDate:X.minDate,currentDate:X.minDate,currentMonth:X.minMonth,currentYear:X.minYear,daysWidthOnXAxis:v,hoursWidthOnXAxis:x,minutesWidthOnXAxis:E,secondsWidthOnXAxis:D,numberOfSeconds:O,numberOfMinutes:R,numberOfHours:A,numberOfDays:N,numberOfMonths:B,numberOfYears:G};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var I=this.timeScaleArray.map(function(P){var j={position:P.position,unit:P.unit,year:P.year,day:P.day?P.day:1,hour:P.hour?P.hour:0,month:P.month+1};return"month"===P.unit?oe(oe({},j),{},{day:1,value:P.value+1}):"day"===P.unit||"hour"===P.unit?oe(oe({},j),{},{value:P.value}):"minute"===P.unit?oe(oe({},j),{},{value:P.value,minute:P.value}):"second"===P.unit?oe(oe({},j),{},{value:P.value,minute:P.minute,second:P.second}):P});return I.filter(function(P){var j=1,Z=Math.ceil(h.globals.gridWidth/120),Y=P.value;void 0!==h.config.xaxis.tickAmount&&(Z=h.config.xaxis.tickAmount),I.length>Z&&(j=Math.floor(I.length/Z));var _e=!1,me=!1;switch(d.tickInterval){case"years":"year"===P.unit&&(_e=!0);break;case"half_year":j=7,"year"===P.unit&&(_e=!0);break;case"months":j=1,"year"===P.unit&&(_e=!0);break;case"months_fortnight":j=15,"year"!==P.unit&&"month"!==P.unit||(_e=!0),30===Y&&(me=!0);break;case"months_days":j=10,"month"===P.unit&&(_e=!0),30===Y&&(me=!0);break;case"week_days":j=8,"month"===P.unit&&(_e=!0);break;case"days":j=1,"month"===P.unit&&(_e=!0);break;case"hours":"day"===P.unit&&(_e=!0);break;case"minutes_fives":case"seconds_fives":Y%5!=0&&(me=!0);break;case"seconds_tens":Y%10!=0&&(me=!0)}if("hours"===d.tickInterval||"minutes_fives"===d.tickInterval||"seconds_tens"===d.tickInterval||"seconds_fives"===d.tickInterval){if(!me)return!0}else if((Y%j==0||_e)&&!me)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(a,l){var d=this.w,h=this.formatDates(a),p=this.removeOverlappingTS(h);d.globals.timescaleLabels=p.slice(),new qi(this.ctx).plotCoords()}},{key:"determineInterval",value:function(a){var l=24*a,d=60*l;switch(!0){case a/365>5:this.tickInterval="years";break;case a>800:this.tickInterval="half_year";break;case a>180:this.tickInterval="months";break;case a>90:this.tickInterval="months_fortnight";break;case a>60:this.tickInterval="months_days";break;case a>30:this.tickInterval="week_days";break;case a>2:this.tickInterval="days";break;case l>2.4:this.tickInterval="hours";break;case d>15:this.tickInterval="minutes_fives";break;case d>5:this.tickInterval="minutes";break;case d>1:this.tickInterval="seconds_tens";break;case 60*d>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(a){var l=a.firstVal,d=a.currentMonth,h=a.currentYear,p=a.daysWidthOnXAxis,g=a.numberOfYears,m=l.minYear,v=0,x=new un(this.ctx),E="year";if(l.minDate>1||l.minMonth>0){var D=x.determineRemainingDaysOfYear(l.minYear,l.minMonth,l.minDate);v=(x.determineDaysOfYear(l.minYear)-D+1)*p,this.timeScaleArray.push({position:v,value:m=l.minYear+1,unit:E,year:m,month:he.monthMod(d+1)})}else 1===l.minDate&&0===l.minMonth&&this.timeScaleArray.push({position:v,value:m,unit:E,year:h,month:he.monthMod(d+1)});for(var A=m,R=v,O=0;O<g;O++)A++,R=x.determineDaysOfYear(A-1)*p+R,this.timeScaleArray.push({position:R,value:A,unit:E,year:A,month:1})}},{key:"generateMonthScale",value:function(a){var l=a.firstVal,d=a.currentMonthDate,h=a.currentMonth,p=a.currentYear,g=a.daysWidthOnXAxis,m=a.numberOfMonths,v=h,x=0,E=new un(this.ctx),D="month",A=0;if(l.minDate>1){x=(E.determineDaysOfMonths(h+1,l.minYear)-d+1)*g,v=he.monthMod(h+1);var R=p+A,O=he.monthMod(v),N=v;0===v&&(D="year",N=R,O=1,R+=A+=1),this.timeScaleArray.push({position:x,value:N,unit:D,year:R,month:O})}else this.timeScaleArray.push({position:x,value:v,unit:D,year:p,month:he.monthMod(h)});for(var B=v+1,G=x,X=0,b=1;X<m;X++,b++){0===(B=he.monthMod(B))?(D="year",A+=1):D="month";var I=this._getYear(p,B,A);G=E.determineDaysOfMonths(B,I)*g+G,this.timeScaleArray.push({position:G,value:0===B?I:B,unit:D,year:I,month:0===B?1:B}),B++}}},{key:"generateDayScale",value:function(a){var l=a.firstVal,d=a.currentMonth,h=a.currentYear,p=a.hoursWidthOnXAxis,g=a.numberOfDays,m=new un(this.ctx),v="day",x=l.minDate+1,E=x,D=function(b,I,P){return b>m.determineDaysOfMonths(I+1,P)&&(E=1,v="month",R=I+=1),I},A=(24-l.minHour)*p,R=x,O=D(E,d,h);0===l.minHour&&1===l.minDate?(A=0,R=he.monthMod(l.minMonth),v="month",E=l.minDate):1!==l.minDate&&0===l.minHour&&0===l.minMinute&&(A=0,R=x=l.minDate,O=D(E=x,d,h)),this.timeScaleArray.push({position:A,value:R,unit:v,year:this._getYear(h,O,0),month:he.monthMod(O),day:E});for(var N=A,B=0;B<g;B++){v="day",O=D(E+=1,O,this._getYear(h,O,0));var G=this._getYear(h,O,0);N=24*p+N;var X=1===E?he.monthMod(O):E;this.timeScaleArray.push({position:N,value:X,unit:v,year:G,month:he.monthMod(O),day:X})}}},{key:"generateHourScale",value:function(a){var l=a.firstVal,d=a.currentDate,h=a.currentMonth,p=a.currentYear,g=a.minutesWidthOnXAxis,m=a.numberOfHours,v=new un(this.ctx),x="hour",E=function(j,Z){return j>v.determineDaysOfMonths(Z+1,p)&&(B=1,Z+=1),{month:Z,date:B}},D=function(j,Z){return j>v.determineDaysOfMonths(Z+1,p)?Z+=1:Z},A=60-(l.minMinute+l.minSecond/60),R=A*g,O=l.minHour+1,N=O;60===A&&(R=0,N=(O=l.minHour)+1);var B=d;N>=24&&(N=0,B+=1,x="day");var G=E(B,h).month;G=D(B,G),this.timeScaleArray.push({position:R,value:O,unit:x,day:B,hour:N,year:p,month:he.monthMod(G)}),N++;for(var X=R,b=0;b<m;b++){x="hour",N>=24&&(N=0,x="day",G=E(B+=1,G).month,G=D(B,G));var I=this._getYear(p,G,0);this.timeScaleArray.push({position:X=60*g+X,value:0===N?B:N,unit:x,hour:N,day:B,year:I,month:he.monthMod(G)}),N++}}},{key:"generateMinuteScale",value:function(a){for(var x=a.minutesWidthOnXAxis,D=a.numberOfMinutes,A=a.currentMinute+1,R=a.currentDate,O=a.currentMonth,N=a.currentYear,B=a.currentHour,G=(60-a.currentSecond-a.currentMillisecond/1e3)*a.secondsWidthOnXAxis,X=0;X<D;X++)A>=60&&(A=0,24===(B+=1)&&(B=0)),this.timeScaleArray.push({position:G,value:A,unit:"minute",hour:B,minute:A,day:R,year:this._getYear(N,O,0),month:he.monthMod(O)}),G+=x,A++}},{key:"generateSecondScale",value:function(a){for(var x=a.secondsWidthOnXAxis,E=a.numberOfSeconds,D=a.currentSecond+1,A=a.currentMinute,R=a.currentDate,O=a.currentMonth,N=a.currentYear,B=a.currentHour,G=(1e3-a.currentMillisecond)/1e3*x,X=0;X<E;X++)D>=60&&(D=0,++A>=60&&(A=0,24==++B&&(B=0))),this.timeScaleArray.push({position:G,value:D,unit:"second",hour:B,minute:A,second:D,day:R,year:this._getYear(N,O,0),month:he.monthMod(O)}),G+=x,D++}},{key:"createRawDateString",value:function(a,l){var d=a.year;return 0===a.month&&(a.month=1),d+="-"+("0"+a.month.toString()).slice(-2),d+="day"===a.unit?"day"===a.unit?"-"+("0"+l).slice(-2):"-01":"-"+("0"+(a.day?a.day:"1")).slice(-2),d+="hour"===a.unit?"hour"===a.unit?"T"+("0"+l).slice(-2):"T00":"T"+("0"+(a.hour?a.hour:"0")).slice(-2),d+="minute"===a.unit?":"+("0"+l).slice(-2):":"+(a.minute?("0"+a.minute).slice(-2):"00"),d+="second"===a.unit?":"+("0"+l).slice(-2):":00",this.utc&&(d+=".000Z"),d}},{key:"formatDates",value:function(a){var l=this,d=this.w;return a.map(function(h){var p=h.value.toString(),g=new un(l.ctx),m=l.createRawDateString(h,p),v=g.getDate(g.parseDate(m));if(l.utc||(v=g.getDate(g.parseDateWithTimezone(m))),void 0===d.config.xaxis.labels.format){var x="dd MMM",E=d.config.xaxis.labels.datetimeFormatter;"year"===h.unit&&(x=E.year),"month"===h.unit&&(x=E.month),"day"===h.unit&&(x=E.day),"hour"===h.unit&&(x=E.hour),"minute"===h.unit&&(x=E.minute),"second"===h.unit&&(x=E.second),p=g.formatDate(v,x)}else p=g.formatDate(v,d.config.xaxis.labels.format);return{dateString:m,position:h.position,value:p,unit:h.unit,year:h.year,month:h.month}})}},{key:"removeOverlappingTS",value:function(a){var l,d=this,h=new Me(this.ctx),p=!1;a.length>0&&a[0].value&&a.every(function(v){return v.value.length===a[0].value.length})&&(p=!0,l=h.getTextRects(a[0].value).width);var g=0;return a.map(function(v,x){if(x>0&&d.w.config.xaxis.labels.hideOverlappingLabels){var E=p?l:h.getTextRects(a[g].value).width;return v.position>a[g].position+E+10?(g=x,v):null}return v}).filter(function(v){return null!==v})}},{key:"_getYear",value:function(a,l,d){return a+Math.floor(l/12)+d}}]),L}(),Dr=function(){function L(a,l){He(this,L),this.ctx=l,this.w=l.w,this.el=a}return dt(L,[{key:"setupElements",value:function(){var a=this.w.globals,l=this.w.config,d=l.chart.type;a.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(d)>-1,a.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(d)>-1,a.isBarHorizontal=("bar"===l.chart.type||"rangeBar"===l.chart.type||"boxPlot"===l.chart.type)&&l.plotOptions.bar.horizontal,a.chartClass=".apexcharts"+a.chartID,a.dom.baseEl=this.el,a.dom.elWrap=document.createElement("div"),Me.setAttrs(a.dom.elWrap,{id:a.chartClass.substring(1),class:"apexcharts-canvas "+a.chartClass.substring(1)}),this.el.appendChild(a.dom.elWrap),a.dom.Paper=new window.SVG.Doc(a.dom.elWrap),a.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(l.chart.offsetX,", ").concat(l.chart.offsetY,")")}),a.dom.Paper.node.style.background="dark"!==l.theme.mode||l.chart.background?l.chart.background:"rgba(0, 0, 0, 0.8)",this.setSVGDimensions(),a.dom.elLegendForeign=document.createElementNS(a.SVGNS,"foreignObject"),Me.setAttrs(a.dom.elLegendForeign,{x:0,y:0,width:a.svgWidth,height:a.svgHeight}),a.dom.elLegendWrap=document.createElement("div"),a.dom.elLegendWrap.classList.add("apexcharts-legend"),a.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),a.dom.elLegendForeign.appendChild(a.dom.elLegendWrap),a.dom.Paper.node.appendChild(a.dom.elLegendForeign),a.dom.elGraphical=a.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),a.dom.elDefs=a.dom.Paper.defs(),a.dom.Paper.add(a.dom.elGraphical),a.dom.elGraphical.add(a.dom.elDefs)}},{key:"plotChartType",value:function(a,l){var d=this.w,h=d.config,p=d.globals,g={series:[],i:[]},m={series:[],i:[]},v={series:[],i:[]},x={series:[],i:[]},E={series:[],i:[]},D={series:[],i:[]},A={series:[],i:[]},R={series:[],i:[]},O={series:[],seriesRangeEnd:[],i:[]};p.series.map(function(Z,Y){var _e=0;void 0!==a[Y].type?("column"===a[Y].type||"bar"===a[Y].type?(p.series.length>1&&h.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),E.series.push(Z),E.i.push(Y),_e++,d.globals.columnSeries=E.series):"area"===a[Y].type?(m.series.push(Z),m.i.push(Y),_e++):"line"===a[Y].type?(g.series.push(Z),g.i.push(Y),_e++):"scatter"===a[Y].type?(v.series.push(Z),v.i.push(Y)):"bubble"===a[Y].type?(x.series.push(Z),x.i.push(Y),_e++):"candlestick"===a[Y].type?(D.series.push(Z),D.i.push(Y),_e++):"boxPlot"===a[Y].type?(A.series.push(Z),A.i.push(Y),_e++):"rangeBar"===a[Y].type?(R.series.push(Z),R.i.push(Y),_e++):"rangeArea"===a[Y].type?(O.series.push(p.seriesRangeStart[Y]),O.seriesRangeEnd.push(p.seriesRangeEnd[Y]),O.i.push(Y),_e++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),_e>1&&(p.comboCharts=!0)):(g.series.push(Z),g.i.push(Y))});var N=new vt(this.ctx,l),B=new as(this.ctx,l);this.ctx.pie=new fo(this.ctx);var G=new ce(this.ctx);this.ctx.rangeBar=new $(this.ctx,l);var X=new pe(this.ctx),b=[];if(p.comboCharts){if(m.series.length>0&&b.push(N.draw(m.series,"area",m.i)),E.series.length>0)if(d.config.chart.stacked){var I=new Qr(this.ctx,l);b.push(I.draw(E.series,E.i))}else this.ctx.bar=new Oi(this.ctx,l),b.push(this.ctx.bar.draw(E.series,E.i));if(O.series.length>0&&b.push(N.draw(O.series,"rangeArea",O.i,O.seriesRangeEnd)),g.series.length>0&&b.push(N.draw(g.series,"line",g.i)),D.series.length>0&&b.push(B.draw(D.series,"candlestick",D.i)),A.series.length>0&&b.push(B.draw(A.series,"boxPlot",A.i)),R.series.length>0&&b.push(this.ctx.rangeBar.draw(R.series,R.i)),v.series.length>0){var P=new vt(this.ctx,l,!0);b.push(P.draw(v.series,"scatter",v.i))}if(x.series.length>0){var j=new vt(this.ctx,l,!0);b.push(j.draw(x.series,"bubble",x.i))}}else switch(h.chart.type){case"line":b=N.draw(p.series,"line");break;case"area":b=N.draw(p.series,"area");break;case"bar":h.chart.stacked?b=new Qr(this.ctx,l).draw(p.series):(this.ctx.bar=new Oi(this.ctx,l),b=this.ctx.bar.draw(p.series));break;case"candlestick":b=new as(this.ctx,l).draw(p.series,"candlestick");break;case"boxPlot":b=new as(this.ctx,l).draw(p.series,h.chart.type);break;case"rangeBar":b=this.ctx.rangeBar.draw(p.series);break;case"rangeArea":b=N.draw(p.seriesRangeStart,"rangeArea",void 0,p.seriesRangeEnd);break;case"heatmap":b=new Ma(this.ctx,l).draw(p.series);break;case"treemap":b=new Ct(this.ctx,l).draw(p.series);break;case"pie":case"donut":case"polarArea":b=this.ctx.pie.draw(p.series);break;case"radialBar":b=G.draw(p.series);break;case"radar":b=X.draw(p.series);break;default:b=N.draw(p.series)}return b}},{key:"setSVGDimensions",value:function(){var a=this.w.globals,l=this.w.config;a.svgWidth=l.chart.width,a.svgHeight=l.chart.height;var d=he.getDimensions(this.el),h=l.chart.width.toString().split(/[0-9]+/g).pop();"%"===h?he.isNumber(d[0])&&(0===d[0].width&&(d=he.getDimensions(this.el.parentNode)),a.svgWidth=d[0]*parseInt(l.chart.width,10)/100):"px"!==h&&""!==h||(a.svgWidth=parseInt(l.chart.width,10));var p=l.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==a.svgHeight&&""!==a.svgHeight)if("%"===p){var g=he.getDimensions(this.el.parentNode);a.svgHeight=g[1]*parseInt(l.chart.height,10)/100}else a.svgHeight=parseInt(l.chart.height,10);else a.svgHeight=a.axisCharts?a.svgWidth/1.61:a.svgWidth/1.2;a.svgWidth<0&&(a.svgWidth=0),a.svgHeight<0&&(a.svgHeight=0),Me.setAttrs(a.dom.Paper.node,{width:a.svgWidth,height:a.svgHeight}),"%"!==p&&(a.dom.Paper.node.parentNode.parentNode.style.minHeight=a.svgHeight+(l.chart.sparkline.enabled?0:a.axisCharts?l.chart.parentHeightOffset:0)+"px"),a.dom.elWrap.style.width=a.svgWidth+"px",a.dom.elWrap.style.height=a.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var a=this.w.globals;Me.setAttrs(a.dom.elGraphical.node,{transform:"translate("+a.translateX+", "+a.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var a=this.w,l=a.globals,d=0,h=a.config.chart.sparkline.enabled?1:15;h+=a.config.grid.padding.bottom,"top"!==a.config.legend.position&&"bottom"!==a.config.legend.position||!a.config.legend.show||a.config.legend.floating||(d=new Rr(this.ctx).legendHelpers.getLegendBBox().clwh+10);var p=a.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),g=2.05*a.globals.radialSize;if(p&&!a.config.chart.sparkline.enabled&&0!==a.config.plotOptions.radialBar.startAngle){var m=he.getBoundingClientRect(p);g=m.bottom,g=Math.max(2.05*a.globals.radialSize,m.bottom-m.top)}var x=g+l.translateY+d+h;l.dom.elLegendForeign&&l.dom.elLegendForeign.setAttribute("height",x),a.config.chart.height&&String(a.config.chart.height).indexOf("%")>0||(l.dom.elWrap.style.height=x+"px",Me.setAttrs(l.dom.Paper.node,{height:x}),l.dom.Paper.node.parentNode.parentNode.style.minHeight=x+"px")}},{key:"coreCalculations",value:function(){new pi(this.ctx).init()}},{key:"resetGlobals",value:function(){var a=this,l=function(){return a.w.config.series.map(function(p){return[]})},d=new ke,h=this.w.globals;d.initGlobalVars(h),h.seriesXvalues=l(),h.seriesYvalues=l()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var a=null,l=this.w;if(l.globals.axisCharts){if("back"===l.config.xaxis.crosshairs.position&&new Ke(this.ctx).drawXCrosshairs(),"back"===l.config.yaxis[0].crosshairs.position&&new Ke(this.ctx).drawYCrosshairs(),"datetime"===l.config.xaxis.type&&void 0===l.config.xaxis.labels.formatter){this.ctx.timeScale=new Gt(this.ctx);var d=[];isFinite(l.globals.minX)&&isFinite(l.globals.maxX)&&!l.globals.isBarHorizontal?d=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minX,l.globals.maxX):l.globals.isBarHorizontal&&(d=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minY,l.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(d)}a=new qt(this.ctx).getCalculatedRatios()}return a}},{key:"updateSourceChart",value:function(a){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:a.w.globals.minX,max:a.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var a=this,l=this.w;if(l.config.chart.brush.enabled&&"function"!=typeof l.config.chart.events.selection){var d=Array.isArray(l.config.chart.brush.targets)||[l.config.chart.brush.target];d.forEach(function(h){var p=ApexCharts.getChartByID(h);p.w.globals.brushSource=a.ctx,"function"!=typeof p.w.config.chart.events.zoomed&&(p.w.config.chart.events.zoomed=function(){a.updateSourceChart(p)}),"function"!=typeof p.w.config.chart.events.scrolled&&(p.w.config.chart.events.scrolled=function(){a.updateSourceChart(p)})}),l.config.chart.events.selection=function(h,p){d.forEach(function(g){var m=ApexCharts.getChartByID(g),v=he.clone(l.config.yaxis);if(l.config.chart.brush.autoScaleYaxis&&1===m.w.globals.series.length){var x=new Bn(m);v=x.autoScaleY(m,v,p)}var E=m.w.config.yaxis.reduce(function(D,A,R){return[].concat(Mn(D),[oe(oe({},m.w.config.yaxis[R]),{},{min:v[0].min,max:v[0].max})])},[]);m.ctx.updateHelpers._updateOptions({xaxis:{min:p.xaxis.min,max:p.xaxis.max},yaxis:E},!1,!1,!1,!1)})}}}}]),L}(),Qa=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"_updateOptions",value:function(a){var l=this,d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],g=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(m){var v=[l.ctx];p&&(v=l.ctx.getSyncedCharts()),l.ctx.w.globals.isExecCalled&&(v=[l.ctx],l.ctx.w.globals.isExecCalled=!1),v.forEach(function(x,E){var D=x.w;if(D.globals.shouldAnimate=h,d||(D.globals.resized=!0,D.globals.dataChanged=!0,h&&x.series.getPreviousPaths()),a&&"object"===yt(a)&&(x.config=new zr(a),a=qt.extendArrayProps(x.config,a,D),x.w.globals.chartID!==l.ctx.w.globals.chartID&&delete a.series,D.config=he.extend(D.config,a),g&&(D.globals.lastXAxis=a.xaxis?he.clone(a.xaxis):[],D.globals.lastYAxis=a.yaxis?he.clone(a.yaxis):[],D.globals.initialConfig=he.extend({},D.config),D.globals.initialSeries=he.clone(D.config.series),a.series))){for(var A=0;A<D.globals.collapsedSeriesIndices.length;A++){var R=D.config.series[D.globals.collapsedSeriesIndices[A]];D.globals.collapsedSeries[A].data=D.globals.axisCharts?R.data.slice():R}for(var O=0;O<D.globals.ancillaryCollapsedSeriesIndices.length;O++){var N=D.config.series[D.globals.ancillaryCollapsedSeriesIndices[O]];D.globals.ancillaryCollapsedSeries[O].data=D.globals.axisCharts?N.data.slice():N}x.series.emptyCollapsedSeries(D.config.series)}return x.update(a).then(function(){E===v.length-1&&m(x)})})})}},{key:"_updateSeries",value:function(a,l){var d=this,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(p){var g,m=d.w;return m.globals.shouldAnimate=l,m.globals.dataChanged=!0,l&&d.ctx.series.getPreviousPaths(),m.globals.axisCharts?(0===(g=a.map(function(v,x){return d._extendSeries(v,x)})).length&&(g=[{data:[]}]),m.config.series=g):m.config.series=a.slice(),h&&(m.globals.initialConfig.series=he.clone(m.config.series),m.globals.initialSeries=he.clone(m.config.series)),d.ctx.update().then(function(){p(d.ctx)})})}},{key:"_extendSeries",value:function(a,l){var d=this.w,h=d.config.series[l];return oe(oe({},d.config.series[l]),{},{name:a.name?a.name:h?.name,color:a.color?a.color:h?.color,type:a.type?a.type:h?.type,group:a.group?a.group:h?.group,data:a.data?a.data:h?.data,zIndex:void 0!==a.zIndex?a.zIndex:l})}},{key:"toggleDataPointSelection",value:function(a,l){var d=this.w,h=null,p=".apexcharts-series[data\\:realIndex='".concat(a,"']");return d.globals.axisCharts?h=d.globals.dom.Paper.select("".concat(p," path[j='").concat(l,"'], ").concat(p," circle[j='").concat(l,"'], ").concat(p," rect[j='").concat(l,"']")).members[0]:void 0===l&&(h=d.globals.dom.Paper.select("".concat(p," path[j='").concat(a,"']")).members[0],"pie"!==d.config.chart.type&&"polarArea"!==d.config.chart.type&&"donut"!==d.config.chart.type||this.ctx.pie.pieClicked(a)),h?(new Me(this.ctx).pathMouseDown(h,null),h.node?h.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(a){var l=this.w;if(["min","max"].forEach(function(h){void 0!==a.xaxis[h]&&(l.config.xaxis[h]=a.xaxis[h],l.globals.lastXAxis[h]=a.xaxis[h])}),a.xaxis.categories&&a.xaxis.categories.length&&(l.config.xaxis.categories=a.xaxis.categories),l.config.xaxis.convertedCatToNumeric){var d=new gr(a);a=d.convertCatToNumericXaxis(a,this.ctx)}return a}},{key:"forceYAxisUpdate",value:function(a){return a.chart&&a.chart.stacked&&"100%"===a.chart.stackType&&(Array.isArray(a.yaxis)?a.yaxis.forEach(function(l,d){a.yaxis[d].min=0,a.yaxis[d].max=100}):(a.yaxis.min=0,a.yaxis.max=100)),a}},{key:"revertDefaultAxisMinMax",value:function(a){var l=this,d=this.w,h=d.globals.lastXAxis,p=d.globals.lastYAxis;a&&a.xaxis&&(h=a.xaxis),a&&a.yaxis&&(p=a.yaxis),d.config.xaxis.min=h.min,d.config.xaxis.max=h.max,d.config.yaxis.map(function(m,v){d.globals.zoomed||void 0!==p[v]?function(m){void 0!==p[m]&&(d.config.yaxis[m].min=p[m].min,d.config.yaxis[m].max=p[m].max)}(v):void 0!==l.ctx.opts.yaxis[v]&&(m.min=l.ctx.opts.yaxis[v].min,m.max=l.ctx.opts.yaxis[v].max)})}}]),L}();en=typeof window<"u"?window:void 0,ii=function(L,a){var l=(void 0!==this?this:L).SVG=function(b){if(l.supported)return b=new l.Doc(b),l.parser.draw||l.prepare(),b};if(l.ns="http://www.w3.org/2000/svg",l.xmlns="http://www.w3.org/2000/xmlns/",l.xlink="http://www.w3.org/1999/xlink",l.svgjs="http://svgjs.dev",l.supported=!0,!l.supported)return!1;l.did=1e3,l.eid=function(b){return"Svgjs"+E(b)+l.did++},l.create=function(b){var I=a.createElementNS(this.ns,b);return I.setAttribute("id",this.eid(b)),I},l.extend=function(){var b,I;I=(b=[].slice.call(arguments)).pop();for(var P=b.length-1;P>=0;P--)if(b[P])for(var j in I)b[P].prototype[j]=I[j];l.Set&&l.Set.inherit&&l.Set.inherit()},l.invent=function(b){var I="function"==typeof b.create?b.create:function(){this.constructor.call(this,l.create(b.create))};return b.inherit&&(I.prototype=new b.inherit),b.extend&&l.extend(I,b.extend),b.construct&&l.extend(b.parent||l.Container,b.construct),I},l.adopt=function(b){return b?b.instance?b.instance:((I="svg"==b.nodeName?b.parentNode instanceof L.SVGElement?new l.Nested:new l.Doc:"linearGradient"==b.nodeName?new l.Gradient("linear"):"radialGradient"==b.nodeName?new l.Gradient("radial"):l[E(b.nodeName)]?new(l[E(b.nodeName)]):new l.Element(b)).type=b.nodeName,I.node=b,b.instance=I,I instanceof l.Doc&&I.namespace().defs(),I.setData(JSON.parse(b.getAttribute("svgjs:data"))||{}),I):null;var I},l.prepare=function(){var b=a.getElementsByTagName("body")[0],I=(b?new l.Doc(b):l.adopt(a.documentElement).nested()).size(2,0);l.parser={body:b||a.documentElement,draw:I.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:I.polyline().node,path:I.path().node,native:l.create("svg")}},l.parser={native:l.create("svg")},a.addEventListener("DOMContentLoaded",function(){l.parser.draw||l.prepare()},!1),l.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},l.utils={map:function(b,I){for(var P=b.length,j=[],Z=0;Z<P;Z++)j.push(I(b[Z]));return j},filter:function(b,I){for(var P=b.length,j=[],Z=0;Z<P;Z++)I(b[Z])&&j.push(b[Z]);return j},filterSVGElements:function(b){return this.filter(b,function(I){return I instanceof L.SVGElement})}},l.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},l.Color=function(b){var I,P;this.r=0,this.g=0,this.b=0,b&&("string"==typeof b?l.regex.isRgb.test(b)?(I=l.regex.rgb.exec(b.replace(l.regex.whitespace,"")),this.r=parseInt(I[1]),this.g=parseInt(I[2]),this.b=parseInt(I[3])):l.regex.isHex.test(b)&&(I=l.regex.hex.exec(4==(P=b).length?["#",P.substring(1,2),P.substring(1,2),P.substring(2,3),P.substring(2,3),P.substring(3,4),P.substring(3,4)].join(""):P),this.r=parseInt(I[1],16),this.g=parseInt(I[2],16),this.b=parseInt(I[3],16)):"object"===yt(b)&&(this.r=b.r,this.g=b.g,this.b=b.b))},l.extend(l.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+D(this.r)+D(this.g)+D(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(b){return this.destination=new l.Color(b),this},at:function(b){return this.destination?new l.Color({r:~~(this.r+(this.destination.r-this.r)*(b=b<0?0:b>1?1:b)),g:~~(this.g+(this.destination.g-this.g)*b),b:~~(this.b+(this.destination.b-this.b)*b)}):this}}),l.Color.test=function(b){return l.regex.isHex.test(b+="")||l.regex.isRgb.test(b)},l.Color.isRgb=function(b){return b&&"number"==typeof b.r&&"number"==typeof b.g&&"number"==typeof b.b},l.Color.isColor=function(b){return l.Color.isRgb(b)||l.Color.test(b)},l.Array=function(b,I){0==(b=(b||[]).valueOf()).length&&I&&(b=I.valueOf()),this.value=this.parse(b)},l.extend(l.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(b){return b=b.valueOf(),Array.isArray(b)?b:this.split(b)}}),l.PointArray=function(b,I){l.Array.call(this,b,I||[[0,0]])},l.PointArray.prototype=new l.Array,l.PointArray.prototype.constructor=l.PointArray;for(var d={M:function(b,I,P){return I.x=P.x=b[0],I.y=P.y=b[1],["M",I.x,I.y]},L:function(b,I){return I.x=b[0],I.y=b[1],["L",b[0],b[1]]},H:function(b,I){return I.x=b[0],["H",b[0]]},V:function(b,I){return I.y=b[0],["V",b[0]]},C:function(b,I){return I.x=b[4],I.y=b[5],["C",b[0],b[1],b[2],b[3],b[4],b[5]]},Q:function(b,I){return I.x=b[2],I.y=b[3],["Q",b[0],b[1],b[2],b[3]]},S:function(b,I){return I.x=b[2],I.y=b[3],["S",b[0],b[1],b[2],b[3]]},Z:function(b,I,P){return I.x=P.x,I.y=P.y,["Z"]}},h="mlhvqtcsaz".split(""),p=0,g=h.length;p<g;++p)d[h[p]]=function(b){return function(I,P,j){if("H"==b)I[0]=I[0]+P.x;else if("V"==b)I[0]=I[0]+P.y;else if("A"==b)I[5]=I[5]+P.x,I[6]=I[6]+P.y;else for(var Z=0,Y=I.length;Z<Y;++Z)I[Z]=I[Z]+(Z%2?P.y:P.x);if(d&&"function"==typeof d[b])return d[b](I,P,j)}}(h[p].toUpperCase());l.PathArray=function(b,I){l.Array.call(this,b,I||[["M",0,0]])},l.PathArray.prototype=new l.Array,l.PathArray.prototype.constructor=l.PathArray,l.extend(l.PathArray,{toString:function(){return function(b){for(var I=0,P=b.length,j="";I<P;I++)j+=b[I][0],null!=b[I][1]&&(j+=b[I][1],null!=b[I][2]&&(j+=" ",j+=b[I][2],null!=b[I][3]&&(j+=" ",j+=b[I][3],j+=" ",j+=b[I][4],null!=b[I][5]&&(j+=" ",j+=b[I][5],j+=" ",j+=b[I][6],null!=b[I][7]&&(j+=" ",j+=b[I][7])))));return j+" "}(this.value)},move:function(b,I){return this.bbox(),this},at:function(b){if(!this.destination)return this;for(var I=this.value,P=this.destination.value,j=[],Z=new l.PathArray,Y=0,_e=I.length;Y<_e;Y++){j[Y]=[I[Y][0]];for(var me=1,Re=I[Y].length;me<Re;me++)j[Y][me]=I[Y][me]+(P[Y][me]-I[Y][me])*b;"A"===j[Y][0]&&(j[Y][4]=+(0!=j[Y][4]),j[Y][5]=+(0!=j[Y][5]))}return Z.value=j,Z},parse:function(b){if(b instanceof l.PathArray)return b.valueOf();var I,P={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};b="string"==typeof b?b.replace(l.regex.numbersWithDots,v).replace(l.regex.pathLetters," $& ").replace(l.regex.hyphen,"$1 -").trim().split(l.regex.delimiter):b.reduce(function(Re,le){return[].concat.call(Re,le)},[]);var j=[],Z=new l.Point,Y=new l.Point,_e=0,me=b.length;do{l.regex.isPathLetter.test(b[_e])?(I=b[_e],++_e):"M"==I?I="L":"m"==I&&(I="l"),j.push(d[I].call(null,b.slice(_e,_e+=P[I.toUpperCase()]).map(parseFloat),Z,Y))}while(me>_e);return j},bbox:function(){return l.parser.draw||l.prepare(),l.parser.path.setAttribute("d",this.toString()),l.parser.path.getBBox()}}),l.Number=l.invent({create:function(b,I){this.value=0,this.unit=I||"","number"==typeof b?this.value=isNaN(b)?0:isFinite(b)?b:b<0?-34e37:34e37:"string"==typeof b?(I=b.match(l.regex.numberAndUnit))&&(this.value=parseFloat(I[1]),"%"==I[5]?this.value/=100:"s"==I[5]&&(this.value*=1e3),this.unit=I[5]):b instanceof l.Number&&(this.value=b.valueOf(),this.unit=b.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(b){return b=new l.Number(b),new l.Number(this+b,this.unit||b.unit)},minus:function(b){return b=new l.Number(b),new l.Number(this-b,this.unit||b.unit)},times:function(b){return b=new l.Number(b),new l.Number(this*b,this.unit||b.unit)},divide:function(b){return b=new l.Number(b),new l.Number(this/b,this.unit||b.unit)},to:function(b){var I=new l.Number(this);return"string"==typeof b&&(I.unit=b),I},morph:function(b){return this.destination=new l.Number(b),b.relative&&(this.destination.value+=this.value),this},at:function(b){return this.destination?new l.Number(this.destination).minus(this).times(b).plus(this):this}}}),l.Element=l.invent({create:function(b){this._stroke=l.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=b)&&(this.type=b.nodeName,this.node.instance=this,this._stroke=b.getAttribute("stroke")||this._stroke)},extend:{x:function(b){return this.attr("x",b)},y:function(b){return this.attr("y",b)},cx:function(b){return null==b?this.x()+this.width()/2:this.x(b-this.width()/2)},cy:function(b){return null==b?this.y()+this.height()/2:this.y(b-this.height()/2)},move:function(b,I){return this.x(b).y(I)},center:function(b,I){return this.cx(b).cy(I)},width:function(b){return this.attr("width",b)},height:function(b){return this.attr("height",b)},size:function(b,I){var P=A(this,b,I);return this.width(new l.Number(P.width)).height(new l.Number(P.height))},clone:function(b){this.writeDataToDom();var I=N(this.node.cloneNode(!0));return b?b.add(I):this.after(I),I},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(b){return this.after(b).remove(),b},addTo:function(b){return b.put(this)},putIn:function(b){return b.add(this)},id:function(b){return this.attr("id",b)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var b=this.attr("class");return null==b?[]:b.trim().split(l.regex.delimiter)},hasClass:function(b){return-1!=this.classes().indexOf(b)},addClass:function(b){if(!this.hasClass(b)){var I=this.classes();I.push(b),this.attr("class",I.join(" "))}return this},removeClass:function(b){return this.hasClass(b)&&this.attr("class",this.classes().filter(function(I){return I!=b}).join(" ")),this},toggleClass:function(b){return this.hasClass(b)?this.removeClass(b):this.addClass(b)},reference:function(b){return l.get(this.attr(b))},parent:function(b){var I=this;if(!I.node.parentNode)return null;if(I=l.adopt(I.node.parentNode),!b)return I;for(;I&&I.node instanceof L.SVGElement;){if("string"==typeof b?I.matches(b):I instanceof b)return I;if(!I.node.parentNode||"#document"==I.node.parentNode.nodeName)return null;I=l.adopt(I.node.parentNode)}},doc:function(){return this instanceof l.Doc?this:this.parent(l.Doc)},parents:function(b){var I=[],P=this;do{if(!(P=P.parent(b))||!P.node)break;I.push(P)}while(P.parent);return I},matches:function(b){return((I=this.node).matches||I.matchesSelector||I.msMatchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.oMatchesSelector).call(I,b);var I},native:function(){return this.node},svg:function(b){var I=a.createElement("svg");if(!(b&&this instanceof l.Parent))return I.appendChild(b=a.createElement("svg")),this.writeDataToDom(),b.appendChild(this.node.cloneNode(!0)),I.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");I.innerHTML="<svg>"+b.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var P=0,j=I.firstChild.childNodes.length;P<j;P++)this.node.appendChild(I.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(b){return this.dom=b,this},is:function(b){return this instanceof b}}}),l.easing={"-":function(b){return b},"<>":function(b){return-Math.cos(b*Math.PI)/2+.5},">":function(b){return Math.sin(b*Math.PI/2)},"<":function(b){return 1-Math.cos(b*Math.PI/2)}},l.morph=function(b){return function(I,P){return new l.MorphObj(I,P).at(b)}},l.Situation=l.invent({create:function(b){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new l.Number(b.duration).valueOf(),this.delay=new l.Number(b.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=b.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),l.FX=l.invent({create:function(b){this._target=b,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(b,I,P){"object"===yt(b)&&(I=b.ease,P=b.delay,b=b.duration);var j=new l.Situation({duration:b||1e3,delay:P||0,ease:l.easing[I||"-"]||I});return this.queue(j),this},target:function(b){return b&&b instanceof l.Element?(this._target=b,this):this._target},timeToAbsPos:function(b){return(b-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(b){return this.situation.duration/this._speed*b+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=L.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){L.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(b){return("function"==typeof b||b instanceof l.Situation)&&this.situations.push(b),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof l.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var b,I=this.situation;if(I.init)return this;for(var P in I.animations){b=this.target()[P](),Array.isArray(b)||(b=[b]),Array.isArray(I.animations[P])||(I.animations[P]=[I.animations[P]]);for(var j=b.length;j--;)I.animations[P][j]instanceof l.Number&&(b[j]=new l.Number(b[j])),I.animations[P][j]=b[j].morph(I.animations[P][j])}for(var P in I.attrs)I.attrs[P]=new l.MorphObj(this.target().attr(P),I.attrs[P]);for(var P in I.styles)I.styles[P]=new l.MorphObj(this.target().style(P),I.styles[P]);return I.initialTransformation=this.target().matrixify(),I.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(b,I){var P=this.active;return this.active=!1,I&&this.clearQueue(),b&&this.situation&&(!P&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(b){var I=this.last();return this.target().on("finished.fx",function P(j){j.detail.situation==I&&(b.call(this,I),this.off("finished.fx",P))}),this._callStart()},during:function(b){var I=this.last(),P=function(j){j.detail.situation==I&&b.call(this,j.detail.pos,l.morph(j.detail.pos),j.detail.eased,I)};return this.target().off("during.fx",P).on("during.fx",P),this.after(function(){this.off("during.fx",P)}),this._callStart()},afterAll:function(b){var I=function P(j){b.call(this),this.off("allfinished.fx",P)};return this.target().off("allfinished.fx",I).on("allfinished.fx",I),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(b,I,P){return this.last()[P||"animations"][b]=I,this._callStart()},step:function(b){var I,P,j;b||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(I=Math.max(this.absPos,0),P=Math.floor(I),!0===this.situation.loops||P<this.situation.loops?(this.pos=I-P,j=this.situation.loop,this.situation.loop=P):(this.absPos=this.situation.loops,this.pos=1,j=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-j)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var Z=this.situation.ease(this.pos);for(var Y in this.situation.once)Y>this.lastPos&&Y<=Z&&(this.situation.once[Y].call(this.target(),this.pos,Z),delete this.situation.once[Y]);return this.active&&this.target().fire("during",{pos:this.pos,eased:Z,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=Z,this):this},eachAt:function(){var b,I=this,P=this.target(),j=this.situation;for(var Z in j.animations)b=[].concat(j.animations[Z]).map(function(me){return"string"!=typeof me&&me.at?me.at(j.ease(I.pos),I.pos):me}),P[Z].apply(P,b);for(var Z in j.attrs)b=[Z].concat(j.attrs[Z]).map(function(Re){return"string"!=typeof Re&&Re.at?Re.at(j.ease(I.pos),I.pos):Re}),P.attr.apply(P,b);for(var Z in j.styles)b=[Z].concat(j.styles[Z]).map(function(Re){return"string"!=typeof Re&&Re.at?Re.at(j.ease(I.pos),I.pos):Re}),P.style.apply(P,b);if(j.transforms.length){b=j.initialTransformation,Z=0;for(var Y=j.transforms.length;Z<Y;Z++){var _e=j.transforms[Z];_e instanceof l.Matrix?b=_e.relative?b.multiply((new l.Matrix).morph(_e).at(j.ease(this.pos))):b.morph(_e).at(j.ease(this.pos)):(_e.relative||_e.undo(b.extract()),b=b.multiply(_e.at(j.ease(this.pos))))}P.matrix(b)}return this},once:function(b,I,P){var j=this.last();return P||(b=j.ease(b)),j.once[b]=I,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:l.Element,construct:{animate:function(b,I,P){return(this.fx||(this.fx=new l.FX(this))).animate(b,I,P)},delay:function(b){return(this.fx||(this.fx=new l.FX(this))).delay(b)},stop:function(b,I){return this.fx&&this.fx.stop(b,I),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),l.MorphObj=l.invent({create:function(b,I){return l.Color.isColor(I)?new l.Color(b).morph(I):l.regex.delimiter.test(b)?l.regex.pathLetters.test(b)?new l.PathArray(b).morph(I):new l.Array(b).morph(I):l.regex.numberAndUnit.test(I)?new l.Number(b).morph(I):(this.value=b,void(this.destination=I))},extend:{at:function(b,I){return I<1?this.value:this.destination},valueOf:function(){return this.value}}}),l.extend(l.FX,{attr:function(b,I,P){if("object"===yt(b))for(var j in b)this.attr(j,b[j]);else this.add(b,I,"attrs");return this},plot:function(b,I,P,j){return 4==arguments.length?this.plot([b,I,P,j]):this.add("plot",new(this.target().morphArray)(b))}}),l.Box=l.invent({create:function(b,I,P,j){if(!("object"!==yt(b)||b instanceof l.Element))return l.Box.call(this,null!=b.left?b.left:b.x,null!=b.top?b.top:b.y,b.width,b.height);var Z;4==arguments.length&&(this.x=b,this.y=I,this.width=P,this.height=j),null==(Z=this).x&&(Z.x=0,Z.y=0,Z.width=0,Z.height=0),Z.w=Z.width,Z.h=Z.height,Z.x2=Z.x+Z.width,Z.y2=Z.y+Z.height,Z.cx=Z.x+Z.width/2,Z.cy=Z.y+Z.height/2}}),l.BBox=l.invent({create:function(b){if(l.Box.apply(this,[].slice.call(arguments)),b instanceof l.Element){var I;try{if(!a.documentElement.contains){for(var P=b.node;P.parentNode;)P=P.parentNode;if(P!=a)throw new Error("Element not in the dom")}I=b.node.getBBox()}catch{if(b instanceof l.Shape){l.parser.draw||l.prepare();var j=b.clone(l.parser.draw.instance).show();j&&j.node&&"function"==typeof j.node.getBBox&&(I=j.node.getBBox()),j&&"function"==typeof j.remove&&j.remove()}else I={x:b.node.clientLeft,y:b.node.clientTop,width:b.node.clientWidth,height:b.node.clientHeight}}l.Box.call(this,I)}},inherit:l.Box,parent:l.Element,construct:{bbox:function(){return new l.BBox(this)}}}),l.BBox.prototype.constructor=l.BBox,l.Matrix=l.invent({create:function(b){var I=O([1,0,0,1,0,0]);b=null===b?I:b instanceof l.Element?b.matrixify():"string"==typeof b?O(b.split(l.regex.delimiter).map(parseFloat)):6==arguments.length?O([].slice.call(arguments)):Array.isArray(b)?O(b):b&&"object"===yt(b)?b:I;for(var P=G.length-1;P>=0;--P)this[G[P]]=null!=b[G[P]]?b[G[P]]:I[G[P]]},extend:{extract:function(){var b=R(this,0,1);R(this,1,0);var I=180/Math.PI*Math.atan2(b.y,b.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(I*Math.PI/180)+this.f*Math.sin(I*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(I*Math.PI/180)+this.e*Math.sin(-I*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:I,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new l.Matrix(this)}},clone:function(){return new l.Matrix(this)},morph:function(b){return this.destination=new l.Matrix(b),this},multiply:function(b){return new l.Matrix(this.native().multiply((I=b,I instanceof l.Matrix||(I=new l.Matrix(I)),I).native()));var I},inverse:function(){return new l.Matrix(this.native().inverse())},translate:function(b,I){return new l.Matrix(this.native().translate(b||0,I||0))},native:function(){for(var b=l.parser.native.createSVGMatrix(),I=G.length-1;I>=0;I--)b[G[I]]=this[G[I]];return b},toString:function(){return"matrix("+B(this.a)+","+B(this.b)+","+B(this.c)+","+B(this.d)+","+B(this.e)+","+B(this.f)+")"}},parent:l.Element,construct:{ctm:function(){return new l.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof l.Nested){var b=this.rect(1,1),I=b.node.getScreenCTM();return b.remove(),new l.Matrix(I)}return new l.Matrix(this.node.getScreenCTM())}}}),l.Point=l.invent({create:function(b,I){var P;P=Array.isArray(b)?{x:b[0],y:b[1]}:"object"===yt(b)?{x:b.x,y:b.y}:null!=b?{x:b,y:I??b}:{x:0,y:0},this.x=P.x,this.y=P.y},extend:{clone:function(){return new l.Point(this)},morph:function(b,I){return this.destination=new l.Point(b,I),this}}}),l.extend(l.Element,{point:function(b,I){return new l.Point(b,I).transform(this.screenCTM().inverse())}}),l.extend(l.Element,{attr:function(b,I,P){if(null==b){for(b={},P=(I=this.node.attributes).length-1;P>=0;P--)b[I[P].nodeName]=l.regex.isNumber.test(I[P].nodeValue)?parseFloat(I[P].nodeValue):I[P].nodeValue;return b}if("object"===yt(b))for(var j in b)this.attr(j,b[j]);else if(null===I)this.node.removeAttribute(b);else{if(null==I)return null==(I=this.node.getAttribute(b))?l.defaults.attrs[b]:l.regex.isNumber.test(I)?parseFloat(I):I;"stroke-width"==b?this.attr("stroke",parseFloat(I)>0?this._stroke:null):"stroke"==b&&(this._stroke=I),"fill"!=b&&"stroke"!=b||(l.regex.isImage.test(I)&&(I=this.doc().defs().image(I,0,0)),I instanceof l.Image&&(I=this.doc().defs().pattern(0,0,function(){this.add(I)}))),"number"==typeof I?I=new l.Number(I):l.Color.isColor(I)?I=new l.Color(I):Array.isArray(I)&&(I=new l.Array(I)),"leading"==b?this.leading&&this.leading(I):"string"==typeof P?this.node.setAttributeNS(P,b,I.toString()):this.node.setAttribute(b,I.toString()),!this.rebuild||"font-size"!=b&&"x"!=b||this.rebuild(b,I)}return this}}),l.extend(l.Element,{transform:function(b,I){var P;return"object"!==yt(b)?(P=new l.Matrix(this).extract(),"string"==typeof b?P[b]:P):(P=new l.Matrix(this),I=!!I||!!b.relative,null!=b.a&&(P=I?P.multiply(new l.Matrix(b)):new l.Matrix(b)),this.attr("transform",P))}}),l.extend(l.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(l.regex.transforms).slice(0,-1).map(function(b){var I=b.trim().split("(");return[I[0],I[1].split(l.regex.delimiter).map(function(P){return parseFloat(P)})]}).reduce(function(b,I){return"matrix"==I[0]?b.multiply(O(I[1])):b[I[0]].apply(b,I[1])},new l.Matrix)},toParent:function(b){if(this==b)return this;var I=this.screenCTM(),P=b.screenCTM().inverse();return this.addTo(b).untransform().transform(P.multiply(I)),this},toDoc:function(){return this.toParent(this.doc())}}),l.Transformation=l.invent({create:function(b,I){if(arguments.length>1&&"boolean"!=typeof I)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(b))for(var P=0,j=this.arguments.length;P<j;++P)this[this.arguments[P]]=b[P];else if(b&&"object"===yt(b))for(P=0,j=this.arguments.length;P<j;++P)this[this.arguments[P]]=b[this.arguments[P]];this.inversed=!1,!0===I&&(this.inversed=!0)}}),l.Translate=l.invent({parent:l.Matrix,inherit:l.Transformation,create:function(b,I){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),l.extend(l.Element,{style:function(b,I){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===yt(b))for(var P in b)this.style(P,b[P]);else{if(!l.regex.isCss.test(b))return this.node.style[x(b)];for(b=b.split(/\s*;\s*/).filter(function(j){return!!j}).map(function(j){return j.split(/\s*:\s*/)});I=b.pop();)this.style(I[0],I[1])}else this.node.style[x(b)]=null===I||l.regex.isBlank.test(I)?"":I;return this}}),l.Parent=l.invent({create:function(b){this.constructor.call(this,b)},inherit:l.Element,extend:{children:function(){return l.utils.map(l.utils.filterSVGElements(this.node.childNodes),function(b){return l.adopt(b)})},add:function(b,I){return null==I?this.node.appendChild(b.node):b.node!=this.node.childNodes[I]&&this.node.insertBefore(b.node,this.node.childNodes[I]),this},put:function(b,I){return this.add(b,I),b},has:function(b){return this.index(b)>=0},index:function(b){return[].slice.call(this.node.childNodes).indexOf(b.node)},get:function(b){return l.adopt(this.node.childNodes[b])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(b,I){for(var P=this.children(),j=0,Z=P.length;j<Z;j++)P[j]instanceof l.Element&&b.apply(P[j],[j,P]),I&&P[j]instanceof l.Container&&P[j].each(b,I);return this},removeElement:function(b){return this.node.removeChild(b.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),l.extend(l.Parent,{ungroup:function(b,I){return 0===I||this instanceof l.Defs||this.node==l.parser.draw||(b=b||(this instanceof l.Doc?this:this.parent(l.Parent)),I=I||1/0,this.each(function(){return this instanceof l.Defs?this:this instanceof l.Parent?this.ungroup(b,I-1):this.toParent(b)}),this.node.firstChild||this.remove()),this},flatten:function(b,I){return this.ungroup(b,I)}}),l.Container=l.invent({create:function(b){this.constructor.call(this,b)},inherit:l.Parent}),l.ViewBox=l.invent({parent:l.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(b){l.Element.prototype[b]=function(I){return l.on(this.node,b,I),this}}),l.listeners=[],l.handlerMap=[],l.listenerId=0,l.on=function(b,I,P,j,Z){var Y=P.bind(j||b.instance||b),_e=(l.handlerMap.indexOf(b)+1||l.handlerMap.push(b))-1,me=I.split(".")[0],Re=I.split(".")[1]||"*";l.listeners[_e]=l.listeners[_e]||{},l.listeners[_e][me]=l.listeners[_e][me]||{},l.listeners[_e][me][Re]=l.listeners[_e][me][Re]||{},P._svgjsListenerId||(P._svgjsListenerId=++l.listenerId),l.listeners[_e][me][Re][P._svgjsListenerId]=Y,b.addEventListener(me,Y,Z||{passive:!0})},l.off=function(b,I,P){var j=l.handlerMap.indexOf(b),Z=I&&I.split(".")[0],Y=I&&I.split(".")[1],_e="";if(-1!=j)if(P){if("function"==typeof P&&(P=P._svgjsListenerId),!P)return;l.listeners[j][Z]&&l.listeners[j][Z][Y||"*"]&&(b.removeEventListener(Z,l.listeners[j][Z][Y||"*"][P],!1),delete l.listeners[j][Z][Y||"*"][P])}else if(Y&&Z){if(l.listeners[j][Z]&&l.listeners[j][Z][Y]){for(var me in l.listeners[j][Z][Y])l.off(b,[Z,Y].join("."),me);delete l.listeners[j][Z][Y]}}else if(Y)for(var Re in l.listeners[j])for(var _e in l.listeners[j][Re])Y===_e&&l.off(b,[Re,Y].join("."));else if(Z){if(l.listeners[j][Z]){for(var _e in l.listeners[j][Z])l.off(b,[Z,_e].join("."));delete l.listeners[j][Z]}}else{for(var Re in l.listeners[j])l.off(b,Re);delete l.listeners[j],delete l.handlerMap[j]}},l.extend(l.Element,{on:function(b,I,P,j){return l.on(this.node,b,I,P,j),this},off:function(b,I){return l.off(this.node,b,I),this},fire:function(b,I){return this.node.dispatchEvent(b instanceof L.Event?b:b=new l.CustomEvent(b,{detail:I,cancelable:!0})),this._event=b,this},event:function(){return this._event}}),l.Defs=l.invent({create:"defs",inherit:l.Container}),l.G=l.invent({create:"g",inherit:l.Container,extend:{x:function(b){return null==b?this.transform("x"):this.transform({x:b-this.x()},!0)}},construct:{group:function(){return this.put(new l.G)}}}),l.Doc=l.invent({create:function(b){b&&("svg"==(b="string"==typeof b?a.getElementById(b):b).nodeName?this.constructor.call(this,b):(this.constructor.call(this,l.create("svg")),b.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:l.Container,extend:{namespace:function(){return this.attr({xmlns:l.ns,version:"1.1"}).attr("xmlns:xlink",l.xlink,l.xmlns).attr("xmlns:svgjs",l.svgjs,l.xmlns)},defs:function(){var b;return this._defs||(this._defs=(b=this.node.getElementsByTagName("defs")[0])?l.adopt(b):new l.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,l.parser.draw&&!l.parser.draw.parentNode&&this.node.appendChild(l.parser.draw),this},clone:function(b){this.writeDataToDom();var I=this.node,P=N(I.cloneNode(!0));return b?(b.node||b).appendChild(P.node):I.parentNode.insertBefore(P.node,I.nextSibling),P}}}),l.extend(l.Element,{}),l.Gradient=l.invent({create:function(b){this.constructor.call(this,l.create(b+"Gradient")),this.type=b},inherit:l.Container,extend:{at:function(b,I,P){return this.put(new l.Stop).update(b,I,P)},update:function(b){return this.clear(),"function"==typeof b&&b.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(b,I,P){return"transform"==b&&(b="gradientTransform"),l.Container.prototype.attr.call(this,b,I,P)}},construct:{gradient:function(b,I){return this.defs().gradient(b,I)}}}),l.extend(l.Gradient,l.FX,{from:function(b,I){return this.attr("radial"==(this._target||this).type?{fx:new l.Number(b),fy:new l.Number(I)}:{x1:new l.Number(b),y1:new l.Number(I)})},to:function(b,I){return this.attr("radial"==(this._target||this).type?{cx:new l.Number(b),cy:new l.Number(I)}:{x2:new l.Number(b),y2:new l.Number(I)})}}),l.extend(l.Defs,{gradient:function(b,I){return this.put(new l.Gradient(b)).update(I)}}),l.Stop=l.invent({create:"stop",inherit:l.Element,extend:{update:function(b){return("number"==typeof b||b instanceof l.Number)&&(b={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=b.opacity&&this.attr("stop-opacity",b.opacity),null!=b.color&&this.attr("stop-color",b.color),null!=b.offset&&this.attr("offset",new l.Number(b.offset)),this}}}),l.Pattern=l.invent({create:"pattern",inherit:l.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(b){return this.clear(),"function"==typeof b&&b.call(this,this),this},toString:function(){return this.fill()},attr:function(b,I,P){return"transform"==b&&(b="patternTransform"),l.Container.prototype.attr.call(this,b,I,P)}},construct:{pattern:function(b,I,P){return this.defs().pattern(b,I,P)}}}),l.extend(l.Defs,{pattern:function(b,I,P){return this.put(new l.Pattern).update(P).attr({x:0,y:0,width:b,height:I,patternUnits:"userSpaceOnUse"})}}),l.Shape=l.invent({create:function(b){this.constructor.call(this,b)},inherit:l.Element}),l.Symbol=l.invent({create:"symbol",inherit:l.Container,construct:{symbol:function(){return this.put(new l.Symbol)}}}),l.Use=l.invent({create:"use",inherit:l.Shape,extend:{element:function(b,I){return this.attr("href",(I||"")+"#"+b,l.xlink)}},construct:{use:function(b,I){return this.put(new l.Use).element(b,I)}}}),l.Rect=l.invent({create:"rect",inherit:l.Shape,construct:{rect:function(b,I){return this.put(new l.Rect).size(b,I)}}}),l.Circle=l.invent({create:"circle",inherit:l.Shape,construct:{circle:function(b){return this.put(new l.Circle).rx(new l.Number(b).divide(2)).move(0,0)}}}),l.extend(l.Circle,l.FX,{rx:function(b){return this.attr("r",b)},ry:function(b){return this.rx(b)}}),l.Ellipse=l.invent({create:"ellipse",inherit:l.Shape,construct:{ellipse:function(b,I){return this.put(new l.Ellipse).size(b,I).move(0,0)}}}),l.extend(l.Ellipse,l.Rect,l.FX,{rx:function(b){return this.attr("rx",b)},ry:function(b){return this.attr("ry",b)}}),l.extend(l.Circle,l.Ellipse,{x:function(b){return null==b?this.cx()-this.rx():this.cx(b+this.rx())},y:function(b){return null==b?this.cy()-this.ry():this.cy(b+this.ry())},cx:function(b){return null==b?this.attr("cx"):this.attr("cx",b)},cy:function(b){return null==b?this.attr("cy"):this.attr("cy",b)},width:function(b){return null==b?2*this.rx():this.rx(new l.Number(b).divide(2))},height:function(b){return null==b?2*this.ry():this.ry(new l.Number(b).divide(2))},size:function(b,I){var P=A(this,b,I);return this.rx(new l.Number(P.width).divide(2)).ry(new l.Number(P.height).divide(2))}}),l.Line=l.invent({create:"line",inherit:l.Shape,extend:{array:function(){return new l.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(b,I,P,j){return null==b?this.array():(b=void 0!==I?{x1:b,y1:I,x2:P,y2:j}:new l.PointArray(b).toLine(),this.attr(b))},move:function(b,I){return this.attr(this.array().move(b,I).toLine())},size:function(b,I){var P=A(this,b,I);return this.attr(this.array().size(P.width,P.height).toLine())}},construct:{line:function(b,I,P,j){return l.Line.prototype.plot.apply(this.put(new l.Line),null!=b?[b,I,P,j]:[0,0,0,0])}}}),l.Polyline=l.invent({create:"polyline",inherit:l.Shape,construct:{polyline:function(b){return this.put(new l.Polyline).plot(b||new l.PointArray)}}}),l.Polygon=l.invent({create:"polygon",inherit:l.Shape,construct:{polygon:function(b){return this.put(new l.Polygon).plot(b||new l.PointArray)}}}),l.extend(l.Polyline,l.Polygon,{array:function(){return this._array||(this._array=new l.PointArray(this.attr("points")))},plot:function(b){return null==b?this.array():this.clear().attr("points","string"==typeof b?b:this._array=new l.PointArray(b))},clear:function(){return delete this._array,this},move:function(b,I){return this.attr("points",this.array().move(b,I))},size:function(b,I){var P=A(this,b,I);return this.attr("points",this.array().size(P.width,P.height))}}),l.extend(l.Line,l.Polyline,l.Polygon,{morphArray:l.PointArray,x:function(b){return null==b?this.bbox().x:this.move(b,this.bbox().y)},y:function(b){return null==b?this.bbox().y:this.move(this.bbox().x,b)},width:function(b){var I=this.bbox();return null==b?I.width:this.size(b,I.height)},height:function(b){var I=this.bbox();return null==b?I.height:this.size(I.width,b)}}),l.Path=l.invent({create:"path",inherit:l.Shape,extend:{morphArray:l.PathArray,array:function(){return this._array||(this._array=new l.PathArray(this.attr("d")))},plot:function(b){return null==b?this.array():this.clear().attr("d","string"==typeof b?b:this._array=new l.PathArray(b))},clear:function(){return delete this._array,this}},construct:{path:function(b){return this.put(new l.Path).plot(b||new l.PathArray)}}}),l.Image=l.invent({create:"image",inherit:l.Shape,extend:{load:function(b){if(!b)return this;var I=this,P=new L.Image;return l.on(P,"load",function(){l.off(P);var j=I.parent(l.Pattern);null!==j&&(0==I.width()&&0==I.height()&&I.size(P.width,P.height),j&&0==j.width()&&0==j.height()&&j.size(I.width(),I.height()),"function"==typeof I._loaded&&I._loaded.call(I,{width:P.width,height:P.height,ratio:P.width/P.height,url:b}))}),l.on(P,"error",function(j){l.off(P),"function"==typeof I._error&&I._error.call(I,j)}),this.attr("href",P.src=this.src=b,l.xlink)},loaded:function(b){return this._loaded=b,this},error:function(b){return this._error=b,this}},construct:{image:function(b,I,P){return this.put(new l.Image).load(b).size(I||0,P||I||0)}}}),l.Text=l.invent({create:function(){this.constructor.call(this,l.create("text")),this.dom.leading=new l.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",l.defaults.attrs["font-family"])},inherit:l.Shape,extend:{x:function(b){return null==b?this.attr("x"):this.attr("x",b)},text:function(b){if(void 0===b){b="";for(var I=this.node.childNodes,P=0,j=I.length;P<j;++P)0!=P&&3!=I[P].nodeType&&1==l.adopt(I[P]).dom.newLined&&(b+="\n"),b+=I[P].textContent;return b}if(this.clear().build(!0),"function"==typeof b)b.call(this,this);else{P=0;for(var Z=(b=b.split("\n")).length;P<Z;P++)this.tspan(b[P]).newLine()}return this.build(!1).rebuild()},size:function(b){return this.attr("font-size",b).rebuild()},leading:function(b){return null==b?this.dom.leading:(this.dom.leading=new l.Number(b),this.rebuild())},lines:function(){var b=(this.textPath&&this.textPath()||this).node,I=l.utils.map(l.utils.filterSVGElements(b.childNodes),function(P){return l.adopt(P)});return new l.Set(I)},rebuild:function(b){if("boolean"==typeof b&&(this._rebuild=b),this._rebuild){var I=this,P=0,j=this.dom.leading*new l.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(I.textPath()||this.attr("x",I.attr("x")),"\n"==this.text()?P+=j:(this.attr("dy",j+P),P=0))}),this.fire("rebuild")}return this},build:function(b){return this._build=!!b,this},setData:function(b){return this.dom=b,this.dom.leading=new l.Number(b.leading||1.3),this}},construct:{text:function(b){return this.put(new l.Text).text(b)},plain:function(b){return this.put(new l.Text).plain(b)}}}),l.Tspan=l.invent({create:"tspan",inherit:l.Shape,extend:{text:function(b){return null==b?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof b?b.call(this,this):this.plain(b),this)},dx:function(b){return this.attr("dx",b)},dy:function(b){return this.attr("dy",b)},newLine:function(){var b=this.parent(l.Text);return this.dom.newLined=!0,this.dy(b.dom.leading*b.attr("font-size")).attr("x",b.x())}}}),l.extend(l.Text,l.Tspan,{plain:function(b){return!1===this._build&&this.clear(),this.node.appendChild(a.createTextNode(b)),this},tspan:function(b){var I=(this.textPath&&this.textPath()||this).node,P=new l.Tspan;return!1===this._build&&this.clear(),I.appendChild(P.node),P.text(b)},clear:function(){for(var b=(this.textPath&&this.textPath()||this).node;b.hasChildNodes();)b.removeChild(b.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),l.TextPath=l.invent({create:"textPath",inherit:l.Parent,parent:l.Text,construct:{morphArray:l.PathArray,array:function(){var b=this.track();return b?b.array():null},plot:function(b){var I=this.track(),P=null;return I&&(P=I.plot(b)),null==b?P:this},track:function(){var b=this.textPath();if(b)return b.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return l.adopt(this.node.firstChild)}}}),l.Nested=l.invent({create:function(){this.constructor.call(this,l.create("svg")),this.style("overflow","visible")},inherit:l.Container,construct:{nested:function(){return this.put(new l.Nested)}}});var m={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(b,I){return"color"==I?b:b+"-"+I}};function v(b,I,P,j){return P+j.replace(l.regex.dots," .")}function x(b){return b.toLowerCase().replace(/-(.)/g,function(I,P){return P.toUpperCase()})}function E(b){return b.charAt(0).toUpperCase()+b.slice(1)}function D(b){var I=b.toString(16);return 1==I.length?"0"+I:I}function A(b,I,P){if(null==I||null==P){var j=b.bbox();null==I?I=j.width/j.height*P:null==P&&(P=j.height/j.width*I)}return{width:I,height:P}}function R(b,I,P){return{x:I*b.a+P*b.c+0,y:I*b.b+P*b.d+0}}function O(b){return{a:b[0],b:b[1],c:b[2],d:b[3],e:b[4],f:b[5]}}function N(b){for(var I=b.childNodes.length-1;I>=0;I--)b.childNodes[I]instanceof L.SVGElement&&N(b.childNodes[I]);return l.adopt(b).id(l.eid(b.nodeName))}function B(b){return Math.abs(b)>1e-37?b:0}["fill","stroke"].forEach(function(b){var I={};I[b]=function(P){if(void 0===P)return this;if("string"==typeof P||l.Color.isRgb(P)||P&&"function"==typeof P.fill)this.attr(b,P);else for(var j=m[b].length-1;j>=0;j--)null!=P[m[b][j]]&&this.attr(m.prefix(b,m[b][j]),P[m[b][j]]);return this},l.extend(l.Element,l.FX,I)}),l.extend(l.Element,l.FX,{translate:function(b,I){return this.transform({x:b,y:I})},matrix:function(b){return this.attr("transform",new l.Matrix(6==arguments.length?[].slice.call(arguments):b))},opacity:function(b){return this.attr("opacity",b)},dx:function(b){return this.x(new l.Number(b).plus(this instanceof l.FX?0:this.x()),!0)},dy:function(b){return this.y(new l.Number(b).plus(this instanceof l.FX?0:this.y()),!0)}}),l.extend(l.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(b){return this.node.getPointAtLength(b)}}),l.Set=l.invent({create:function(b){Array.isArray(b)?this.members=b:this.clear()},extend:{add:function(){for(var b=[].slice.call(arguments),I=0,P=b.length;I<P;I++)this.members.push(b[I]);return this},remove:function(b){var I=this.index(b);return I>-1&&this.members.splice(I,1),this},each:function(b){for(var I=0,P=this.members.length;I<P;I++)b.apply(this.members[I],[I,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(b){return this.index(b)>=0},index:function(b){return this.members.indexOf(b)},get:function(b){return this.members[b]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(b){return new l.Set(b)}}}),l.FX.Set=l.invent({create:function(b){this.set=b}}),l.Set.inherit=function(){var b=[];for(var I in l.Shape.prototype)"function"==typeof l.Shape.prototype[I]&&"function"!=typeof l.Set.prototype[I]&&b.push(I);for(var I in b.forEach(function(j){l.Set.prototype[j]=function(){for(var Z=0,Y=this.members.length;Z<Y;Z++)this.members[Z]&&"function"==typeof this.members[Z][j]&&this.members[Z][j].apply(this.members[Z],arguments);return"animate"==j?this.fx||(this.fx=new l.FX.Set(this)):this}}),b=[],l.FX.prototype)"function"==typeof l.FX.prototype[I]&&"function"!=typeof l.FX.Set.prototype[I]&&b.push(I);b.forEach(function(P){l.FX.Set.prototype[P]=function(){for(var j=0,Z=this.set.members.length;j<Z;j++)this.set.members[j].fx[P].apply(this.set.members[j].fx,arguments);return this}})},l.extend(l.Element,{}),l.extend(l.Element,{remember:function(b,I){if("object"===yt(arguments[0]))for(var P in b)this.remember(P,b[P]);else{if(1==arguments.length)return this.memory()[b];this.memory()[b]=I}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var b=arguments.length-1;b>=0;b--)delete this.memory()[arguments[b]];return this},memory:function(){return this._memory||(this._memory={})}}),l.get=function(b){var I=a.getElementById(function(P){var j=(P||"").toString().match(l.regex.reference);if(j)return j[1]}(b)||b);return l.adopt(I)},l.select=function(b,I){return new l.Set(l.utils.map((I||a).querySelectorAll(b),function(P){return l.adopt(P)}))},l.extend(l.Parent,{select:function(b){return l.select(b,this.node)}});var G="abcdef".split("");if("function"!=typeof L.CustomEvent){var X=function(b,I){I=I||{bubbles:!1,cancelable:!1,detail:void 0};var P=a.createEvent("CustomEvent");return P.initCustomEvent(b,I.bubbles,I.cancelable,I.detail),P};X.prototype=L.Event.prototype,l.CustomEvent=X}else l.CustomEvent=L.CustomEvent;return l},void 0!==(ie=function(){return ii(en,en.document)}.call(ji,Yt,ji,Kr))&&(Kr.exports=ie),
/*! svg.filter.js - v2.0.2 - 2016-02-24
        * https://github.com/wout/svg.filter.js
        * Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(g,m){return this.add(g,m),!g.attr("in")&&this.autoSetIn&&g.attr("in",this.source),g.attr("result")||g.attr("result",g),g},blend:function(g,m,v){return this.put(new SVG.BlendEffect(g,m,v))},colorMatrix:function(g,m){return this.put(new SVG.ColorMatrixEffect(g,m))},convolveMatrix:function(g){return this.put(new SVG.ConvolveMatrixEffect(g))},componentTransfer:function(g){return this.put(new SVG.ComponentTransferEffect(g))},composite:function(g,m,v){return this.put(new SVG.CompositeEffect(g,m,v))},flood:function(g,m){return this.put(new SVG.FloodEffect(g,m))},offset:function(g,m){return this.put(new SVG.OffsetEffect(g,m))},image:function(g){return this.put(new SVG.ImageEffect(g))},merge:function(){var g=[void 0];for(var m in arguments)g.push(arguments[m]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,g)))},gaussianBlur:function(g,m){return this.put(new SVG.GaussianBlurEffect(g,m))},morphology:function(g,m){return this.put(new SVG.MorphologyEffect(g,m))},diffuseLighting:function(g,m,v){return this.put(new SVG.DiffuseLightingEffect(g,m,v))},displacementMap:function(g,m,v,x,E){return this.put(new SVG.DisplacementMapEffect(g,m,v,x,E))},specularLighting:function(g,m,v,x){return this.put(new SVG.SpecularLightingEffect(g,m,v,x))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(g,m,v,x,E){return this.put(new SVG.TurbulenceEffect(g,m,v,x,E))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(g){var m=this.put(new SVG.Filter);return"function"==typeof g&&g.call(m,m),m}}),SVG.extend(SVG.Container,{filter:function(g){return this.defs().filter(g)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(g){return this.filterer=g instanceof SVG.Element?g:this.doc().filter(g),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(g){return this.filterer&&!0===g&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",g)},result:function(g){return null==g?this.attr("result"):this.attr("result",g)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",g)},result:function(g){return null==g?this.attr("result"):this.attr("result",g)},toString:function(){return this.result()}}});var L={blend:function(g,m){return this.parent()&&this.parent().blend(this,g,m)},colorMatrix:function(g,m){return this.parent()&&this.parent().colorMatrix(g,m).in(this)},convolveMatrix:function(g){return this.parent()&&this.parent().convolveMatrix(g).in(this)},componentTransfer:function(g){return this.parent()&&this.parent().componentTransfer(g).in(this)},composite:function(g,m){return this.parent()&&this.parent().composite(this,g,m)},flood:function(g,m){return this.parent()&&this.parent().flood(g,m)},offset:function(g,m){return this.parent()&&this.parent().offset(g,m).in(this)},image:function(g){return this.parent()&&this.parent().image(g)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(g,m){return this.parent()&&this.parent().gaussianBlur(g,m).in(this)},morphology:function(g,m){return this.parent()&&this.parent().morphology(g,m).in(this)},diffuseLighting:function(g,m,v){return this.parent()&&this.parent().diffuseLighting(g,m,v).in(this)},displacementMap:function(g,m,v,x){return this.parent()&&this.parent().displacementMap(this,g,m,v,x)},specularLighting:function(g,m,v,x){return this.parent()&&this.parent().specularLighting(g,m,v,x).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(g,m,v,x,E){return this.parent()&&this.parent().turbulence(g,m,v,x,E).in(this)}};SVG.extend(SVG.Effect,L),SVG.extend(SVG.ParentEffect,L),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(g){this.attr("in",g)}}});var a={blend:function(g,m,v){this.attr({in:g,in2:m,mode:v||"normal"})},colorMatrix:function(g,m){"matrix"==g&&(m=h(m)),this.attr({type:g,values:void 0===m?null:m})},convolveMatrix:function(g){g=h(g),this.attr({order:Math.sqrt(g.split(" ").length),kernelMatrix:g})},composite:function(g,m,v){this.attr({in:g,in2:m,operator:v})},flood:function(g,m){this.attr("flood-color",g),null!=m&&this.attr("flood-opacity",m)},offset:function(g,m){this.attr({dx:g,dy:m})},image:function(g){this.attr("href",g,SVG.xlink)},displacementMap:function(g,m,v,x,E){this.attr({in:g,in2:m,scale:v,xChannelSelector:x,yChannelSelector:E})},gaussianBlur:function(g,m){this.attr("stdDeviation",null!=g||null!=m?function(v){if(!Array.isArray(v))return v;for(var x=0,E=v.length,D=[];x<E;x++)D.push(v[x]);return D.join(" ")}(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(g,m){this.attr({operator:g,radius:m})},tile:function(){},turbulence:function(g,m,v,x,E){this.attr({numOctaves:m,seed:v,stitchTiles:x,baseFrequency:g,type:E})}},l={merge:function(){var g;if(arguments[0]instanceof SVG.Set){var m=this;arguments[0].each(function(x){this instanceof SVG.MergeNode?m.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&m.put(new SVG.MergeNode(this))})}else{g=Array.isArray(arguments[0])?arguments[0]:arguments;for(var v=0;v<g.length;v++)g[v]instanceof SVG.MergeNode?this.put(g[v]):this.put(new SVG.MergeNode(g[v]))}},componentTransfer:function(g){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(v){this[v]=new(SVG["Func"+v.toUpperCase()])("identity"),this.rgb.add(this[v]),this.node.appendChild(this[v].node)}.bind(this)),g)for(var m in g.rgb&&(["r","g","b"].forEach(function(v){this[v].attr(g.rgb)}.bind(this)),delete g.rgb),g)this[m].attr(g[m])},diffuseLighting:function(g,m,v){this.attr({surfaceScale:g,diffuseConstant:m,kernelUnitLength:v})},specularLighting:function(g,m,v,x){this.attr({surfaceScale:g,diffuseConstant:m,specularExponent:v,kernelUnitLength:x})}},d={distantLight:function(g,m){this.attr({azimuth:g,elevation:m})},pointLight:function(g,m,v){this.attr({x:g,y:m,z:v})},spotLight:function(g,m,v,x,E,D){this.attr({x:g,y:m,z:v,pointsAtX:x,pointsAtY:E,pointsAtZ:D})},mergeNode:function(g){this.attr("in",g)}};function h(g){return Array.isArray(g)&&(g=new SVG.Array(g)),g.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function p(){var g=function(){};for(var m in"function"==typeof arguments[arguments.length-1]&&(g=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var v in arguments[m])g(arguments[m][v],v,arguments[m])}["r","g","b","a"].forEach(function(g){d["Func"+g.toUpperCase()]=function(m){switch(this.attr("type",m),m){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),p(a,function(g,m){var v=m.charAt(0).toUpperCase()+m.slice(1);SVG[v+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+v)),g.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),p(l,function(g,m){var v=m.charAt(0).toUpperCase()+m.slice(1);SVG[v+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+v)),g.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),p(d,function(g,m){var v=m.charAt(0).toUpperCase()+m.slice(1);SVG[v]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+v)),g.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(g){return g instanceof SVG.MergeNode?this.add(g,0):this.add(new SVG.MergeNode(g),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",g)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function L(p,g,m,v,x,E,D){for(var A=p.slice(g,m||D),R=v.slice(x,E||D),O=0,N={pos:[0,0],start:[0,0]},B={pos:[0,0],start:[0,0]};A[O]=a.call(N,A[O]),R[O]=a.call(B,R[O]),A[O][0]!=R[O][0]||"M"==A[O][0]||"A"==A[O][0]&&(A[O][4]!=R[O][4]||A[O][5]!=R[O][5])?(Array.prototype.splice.apply(A,[O,1].concat(d.call(N,A[O]))),Array.prototype.splice.apply(R,[O,1].concat(d.call(B,R[O])))):(A[O]=l.call(N,A[O]),R[O]=l.call(B,R[O])),++O!=A.length||O!=R.length;)O==A.length&&A.push(["C",N.pos[0],N.pos[1],N.pos[0],N.pos[1],N.pos[0],N.pos[1]]),O==R.length&&R.push(["C",B.pos[0],B.pos[1],B.pos[0],B.pos[1],B.pos[0],B.pos[1]]);return{start:A,dest:R}}function a(p){switch(p[0]){case"z":case"Z":p[0]="L",p[1]=this.start[0],p[2]=this.start[1];break;case"H":p[0]="L",p[2]=this.pos[1];break;case"V":p[0]="L",p[2]=p[1],p[1]=this.pos[0];break;case"T":p[0]="Q",p[3]=p[1],p[4]=p[2],p[1]=this.reflection[1],p[2]=this.reflection[0];break;case"S":p[0]="C",p[6]=p[4],p[5]=p[3],p[4]=p[2],p[3]=p[1],p[2]=this.reflection[1],p[1]=this.reflection[0]}return p}function l(p){var g=p.length;return this.pos=[p[g-2],p[g-1]],-1!="SCQT".indexOf(p[0])&&(this.reflection=[2*this.pos[0]-p[g-4],2*this.pos[1]-p[g-3]]),p}function d(p){var g=[p];switch(p[0]){case"M":return this.pos=this.start=[p[1],p[2]],g;case"L":p[5]=p[3]=p[1],p[6]=p[4]=p[2],p[1]=this.pos[0],p[2]=this.pos[1];break;case"Q":p[6]=p[4],p[5]=p[3],p[4]=1*p[4]/3+2*p[2]/3,p[3]=1*p[3]/3+2*p[1]/3,p[2]=1*this.pos[1]/3+2*p[2]/3,p[1]=1*this.pos[0]/3+2*p[1]/3;break;case"A":p=(g=function(m,v){var x,E,D,A,R,O,N,B,G,X,b,I,P,j,Z,Y,_e,me,Re,le,Ye,Ie,bt,tn,Sn,qn,wi=Math.abs(v[1]),ri=Math.abs(v[2]),zi=v[3]%360,ws=v[4],Ja=v[5],pn=v[6],Oa=v[7],Hr=new SVG.Point(m),hi=new SVG.Point(pn,Oa),Ec=[];if(0===wi||0===ri||Hr.x===hi.x&&Hr.y===hi.y)return[["C",Hr.x,Hr.y,hi.x,hi.y,hi.x,hi.y]];for((E=(x=new SVG.Point((Hr.x-hi.x)/2,(Hr.y-hi.y)/2).transform((new SVG.Matrix).rotate(zi))).x*x.x/(wi*wi)+x.y*x.y/(ri*ri))>1&&(wi*=E=Math.sqrt(E),ri*=E),D=(new SVG.Matrix).rotate(zi).scale(1/wi,1/ri).rotate(-zi),Hr=Hr.transform(D),O=(A=[(hi=hi.transform(D)).x-Hr.x,hi.y-Hr.y])[0]*A[0]+A[1]*A[1],R=Math.sqrt(O),A[0]/=R,A[1]/=R,N=O<4?Math.sqrt(1-O/4):0,ws===Ja&&(N*=-1),B=new SVG.Point((hi.x+Hr.x)/2+N*-A[1],(hi.y+Hr.y)/2+N*A[0]),G=new SVG.Point(Hr.x-B.x,Hr.y-B.y),X=new SVG.Point(hi.x-B.x,hi.y-B.y),b=Math.acos(G.x/Math.sqrt(G.x*G.x+G.y*G.y)),G.y<0&&(b*=-1),I=Math.acos(X.x/Math.sqrt(X.x*X.x+X.y*X.y)),X.y<0&&(I*=-1),Ja&&b>I&&(I+=2*Math.PI),!Ja&&b<I&&(I-=2*Math.PI),Y=[],_e=b,P=(I-b)/(j=Math.ceil(2*Math.abs(b-I)/Math.PI)),Z=4*Math.tan(P/4)/3,Ye=0;Ye<=j;Ye++)Re=Math.cos(_e),me=Math.sin(_e),le=new SVG.Point(B.x+Re,B.y+me),Y[Ye]=[new SVG.Point(le.x+Z*me,le.y-Z*Re),le,new SVG.Point(le.x-Z*me,le.y+Z*Re)],_e+=P;for(Y[0][0]=Y[0][1].clone(),Y[Y.length-1][2]=Y[Y.length-1][1].clone(),D=(new SVG.Matrix).rotate(zi).scale(wi,ri).rotate(-zi),Ye=0,Ie=Y.length;Ye<Ie;Ye++)Y[Ye][0]=Y[Ye][0].transform(D),Y[Ye][1]=Y[Ye][1].transform(D),Y[Ye][2]=Y[Ye][2].transform(D);for(Ye=1,Ie=Y.length;Ye<Ie;Ye++)bt=(le=Y[Ye-1][2]).x,tn=le.y,Sn=(le=Y[Ye][0]).x,qn=le.y,pn=(le=Y[Ye][1]).x,Ec.push(["C",bt,tn,Sn,qn,pn,Oa=le.y]);return Ec}(this.pos,p))[0]}return p[0]="C",this.pos=[p[5],p[6]],this.reflection=[2*p[5]-p[3],2*p[6]-p[4]],g}function h(p,g){if(!1===g)return!1;for(var m=g,v=p.length;m<v;++m)if("M"==p[m][0])return m;return!1}SVG.extend(SVG.PathArray,{morph:function(p){for(var g=this.value,m=this.parse(p),v=0,x=0,E=!1,D=!1;!1!==v||!1!==x;){var A;E=h(g,!1!==v&&v+1),D=h(m,!1!==x&&x+1),!1===v&&(v=0==(A=new SVG.PathArray(R.start).bbox()).height||0==A.width?g.push(g[0])-1:g.push(["M",A.x+A.width/2,A.y+A.height/2])-1),!1===x&&(x=0==(A=new SVG.PathArray(R.dest).bbox()).height||0==A.width?m.push(m[0])-1:m.push(["M",A.x+A.width/2,A.y+A.height/2])-1);var R=L(g,v,E,m,x,D);g=g.slice(0,v).concat(R.start,!1===E?[]:g.slice(E)),m=m.slice(0,x).concat(R.dest,!1===D?[]:m.slice(D)),v=!1!==E&&v+R.start.length,x=!1!==D&&x+R.dest.length}return this.value=g,this.destination=new SVG.PathArray,this.destination.value=m,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
        * https://github.com/svgdotjs/svg.draggable.js
        * Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function L(a){a.remember("_draggable",this),this.el=a}L.prototype.init=function(a,l){var d=this;this.constraint=a,this.value=l,this.el.on("mousedown.drag",function(h){d.start(h)}),this.el.on("touchstart.drag",function(h){d.start(h)})},L.prototype.transformPoint=function(a,l){var d=(a=a||window.event).changedTouches&&a.changedTouches[0]||a;return this.p.x=d.clientX-(l||0),this.p.y=d.clientY,this.p.matrixTransform(this.m)},L.prototype.getBBox=function(){var a=this.el.bbox();return this.el instanceof SVG.Nested&&(a=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(a.x=this.el.x(),a.y=this.el.y()),a},L.prototype.start=function(a){if("click"!=a.type&&"mousedown"!=a.type&&"mousemove"!=a.type||1==(a.which||a.buttons)){var l=this;if(this.el.fire("beforedrag",{event:a,handler:this}),!this.el.event().defaultPrevented){a.preventDefault(),a.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var d,h=this.getBBox();if(this.el instanceof SVG.Text)switch(d=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":d/=2;break;case"start":d=0}this.startPoints={point:this.transformPoint(a,d),box:h,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(p){l.drag(p)}),SVG.on(window,"touchmove.drag",function(p){l.drag(p)}),SVG.on(window,"mouseup.drag",function(p){l.end(p)}),SVG.on(window,"touchend.drag",function(p){l.end(p)}),this.el.fire("dragstart",{event:a,p:this.startPoints.point,m:this.m,handler:this})}}},L.prototype.drag=function(a){var l=this.getBBox(),d=this.transformPoint(a),h=this.startPoints.box.x+d.x-this.startPoints.point.x,p=this.startPoints.box.y+d.y-this.startPoints.point.y,g=this.constraint,m=d.x-this.startPoints.point.x,v=d.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:a,p:d,m:this.m,handler:this}),this.el.event().defaultPrevented)return d;if("function"==typeof g){var x=g.call(this.el,h,p,this.m);"boolean"==typeof x&&(x={x,y:x}),!0===x.x?this.el.x(h):!1!==x.x&&this.el.x(x.x),!0===x.y?this.el.y(p):!1!==x.y&&this.el.y(x.y)}else"object"==typeof g&&(null!=g.minX&&h<g.minX?m=(h=g.minX)-this.startPoints.box.x:null!=g.maxX&&h>g.maxX-l.width&&(m=(h=g.maxX-l.width)-this.startPoints.box.x),null!=g.minY&&p<g.minY?v=(p=g.minY)-this.startPoints.box.y:null!=g.maxY&&p>g.maxY-l.height&&(v=(p=g.maxY-l.height)-this.startPoints.box.y),null!=g.snapToGrid&&(h-=h%g.snapToGrid,p-=p%g.snapToGrid,m-=m%g.snapToGrid,v-=v%g.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:m,y:v},!0):this.el.move(h,p));return d},L.prototype.end=function(a){var l=this.drag(a);this.el.fire("dragend",{event:a,p:l,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(a,l){"function"!=typeof a&&"object"!=typeof a||(l=a,a=!0);var d=this.remember("_draggable")||new L(this);return(a=void 0===a||a)?d.init(l||{},a):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function L(a){this.el=a,a.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(l,d,h){var p="string"!=typeof l?l:d[l];return h?p/2:p},this.pointCoords=function(l,d){var h=this.pointsList[l];return{x:this.pointCoord(h[0],d,"t"===l||"b"===l),y:this.pointCoord(h[1],d,"r"===l||"l"===l)}}}L.prototype.init=function(a,l){var d=this.el.bbox();this.options={};var h=this.el.selectize.defaults.points;for(var p in this.el.selectize.defaults)this.options[p]=this.el.selectize.defaults[p],void 0!==l[p]&&(this.options[p]=l[p]);var g=["points","pointsExclude"];for(var p in g){var m=this.options[g[p]];"string"==typeof m?m=m.length>0?m.split(/\s*,\s*/i):[]:"boolean"==typeof m&&"points"===g[p]&&(m=m?h:[]),this.options[g[p]]=m}this.options.points=[h,this.options.points].reduce(function(v,x){return v.filter(function(E){return x.indexOf(E)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(v,x){return v.filter(function(E){return x.indexOf(E)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(d.x,d.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(a):this.selectRect(a),this.observe(),this.cleanup()},L.prototype.selectPoints=function(a){return this.pointSelection.isSelected=a,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},L.prototype.getPointArray=function(){var a=this.el.bbox();return this.el.array().valueOf().map(function(l){return[l[0]-a.x,l[1]-a.y]})},L.prototype.drawPoints=function(){for(var a=this,l=this.getPointArray(),d=0,h=l.length;d<h;++d){var p=function(m){return function(v){(v=v||window.event).preventDefault?v.preventDefault():v.returnValue=!1,v.stopPropagation(),a.el.fire("point",{x:v.pageX||v.touches[0].pageX,y:v.pageY||v.touches[0].pageY,i:m,event:v})}}(d),g=this.drawPoint(l[d][0],l[d][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",p).on("mousedown",p);this.pointSelection.set.add(g)}},L.prototype.drawPoint=function(a,l){var d=this.options.pointType;switch(d){case"circle":return this.drawCircle(a,l);case"rect":return this.drawRect(a,l);default:if("function"==typeof d)return d.call(this,a,l);throw new Error("Unknown "+d+" point type!")}},L.prototype.drawCircle=function(a,l){return this.nested.circle(this.options.pointSize).center(a,l)},L.prototype.drawRect=function(a,l){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(a,l)},L.prototype.updatePointSelection=function(){var a=this.getPointArray();this.pointSelection.set.each(function(l){this.cx()===a[l][0]&&this.cy()===a[l][1]||this.center(a[l][0],a[l][1])})},L.prototype.updateRectSelection=function(){var a=this,l=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:l.width,height:l.height}),this.options.points.length&&this.options.points.map(function(h,p){var g=a.pointCoords(h,l);a.rectSelection.set.get(p+1).center(g.x,g.y)}),this.options.rotationPoint){var d=this.rectSelection.set.length();this.rectSelection.set.get(d-1).center(l.width/2,20)}},L.prototype.selectRect=function(a){var l=this,d=this.el.bbox();function h(m){return function(v){(v=v||window.event).preventDefault?v.preventDefault():v.returnValue=!1,v.stopPropagation(),l.el.fire(m,{x:v.pageX||v.touches[0].pageX,y:v.pageY||v.touches[0].pageY,event:v})}}if(this.rectSelection.isSelected=a,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(d.width,d.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(m,v){var x=l.pointCoords(m,d),E=l.drawPoint(x.x,x.y).attr("class",l.options.classPoints+"_"+m).on("mousedown",h(m)).on("touchstart",h(m));l.rectSelection.set.add(E)}),this.rectSelection.set.each(function(){this.addClass(l.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var p=function(m){(m=m||window.event).preventDefault?m.preventDefault():m.returnValue=!1,m.stopPropagation(),l.el.fire("rot",{x:m.pageX||m.touches[0].pageX,y:m.pageY||m.touches[0].pageY,event:m})},g=this.drawPoint(d.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",p).on("mousedown",p);this.rectSelection.set.add(g)}},L.prototype.handler=function(){var a=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(a.x,a.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},L.prototype.observe=function(){var a=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){a.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){a.handler()})},L.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(a,l){return"object"==typeof a&&(l=a,a=!0),(this.remember("_selectHandler")||new L(this)).init(void 0===a||a,l||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function L(a){a.remember("_resizeHandler",this),this.el=a,this.parameters={},this.lastUpdateCall=null,this.p=a.doc().node.createSVGPoint()}L.prototype.transformPoint=function(a,l,d){return this.p.x=a-(this.offset.x-window.pageXOffset),this.p.y=l-(this.offset.y-window.pageYOffset),this.p.matrixTransform(d||this.m)},L.prototype._extractPosition=function(a){return{x:null!=a.clientX?a.clientX:a.touches[0].clientX,y:null!=a.clientY?a.clientY:a.touches[0].clientY}},L.prototype.init=function(a){var l=this;if(this.stop(),"stop"!==a){for(var d in this.options={},this.el.resize.defaults)this.options[d]=this.el.resize.defaults[d],void 0!==a[d]&&(this.options[d]=a[d]);this.el.on("lt.resize",function(h){l.resize(h||window.event)}),this.el.on("rt.resize",function(h){l.resize(h||window.event)}),this.el.on("rb.resize",function(h){l.resize(h||window.event)}),this.el.on("lb.resize",function(h){l.resize(h||window.event)}),this.el.on("t.resize",function(h){l.resize(h||window.event)}),this.el.on("r.resize",function(h){l.resize(h||window.event)}),this.el.on("b.resize",function(h){l.resize(h||window.event)}),this.el.on("l.resize",function(h){l.resize(h||window.event)}),this.el.on("rot.resize",function(h){l.resize(h||window.event)}),this.el.on("point.resize",function(h){l.resize(h||window.event)}),this.update()}},L.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},L.prototype.resize=function(a){var l=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var d=this._extractPosition(a.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(d.x,d.y),x:a.detail.x,y:a.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==a.detail.i){var h=this.el.array().valueOf();this.parameters.i=a.detail.i,this.parameters.pointCoords=[h[a.detail.i][0],h[a.detail.i][1]]}switch(a.type){case"lt":this.calc=function(p,g){var m=this.snapToGrid(p,g);if(this.parameters.box.width-m[0]>0&&this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-m[0]);m=this.checkAspectRatio(m),this.el.move(this.parameters.box.x+m[0],this.parameters.box.y+m[1]).size(this.parameters.box.width-m[0],this.parameters.box.height-m[1])}};break;case"rt":this.calc=function(p,g){var m=this.snapToGrid(p,g,2);if(this.parameters.box.width+m[0]>0&&this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+m[0]);m=this.checkAspectRatio(m,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+m[1]).size(this.parameters.box.width+m[0],this.parameters.box.height-m[1])}};break;case"rb":this.calc=function(p,g){var m=this.snapToGrid(p,g,0);if(this.parameters.box.width+m[0]>0&&this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+m[0]);m=this.checkAspectRatio(m),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+m[0],this.parameters.box.height+m[1])}};break;case"lb":this.calc=function(p,g){var m=this.snapToGrid(p,g,1);if(this.parameters.box.width-m[0]>0&&this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-m[0]);m=this.checkAspectRatio(m,!0),this.el.move(this.parameters.box.x+m[0],this.parameters.box.y).size(this.parameters.box.width-m[0],this.parameters.box.height+m[1])}};break;case"t":this.calc=function(p,g){var m=this.snapToGrid(p,g,2);if(this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+m[1]).height(this.parameters.box.height-m[1])}};break;case"r":this.calc=function(p,g){var m=this.snapToGrid(p,g,0);if(this.parameters.box.width+m[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+m[0])}};break;case"b":this.calc=function(p,g){var m=this.snapToGrid(p,g,0);if(this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+m[1])}};break;case"l":this.calc=function(p,g){var m=this.snapToGrid(p,g,1);if(this.parameters.box.width-m[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+m[0],this.parameters.box.y).width(this.parameters.box.width-m[0])}};break;case"rot":this.calc=function(p,g){var m=p+this.parameters.p.x,v=g+this.parameters.p.y,x=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),E=Math.atan2(v-this.parameters.box.y-this.parameters.box.height/2,m-this.parameters.box.x-this.parameters.box.width/2),D=this.parameters.rotation+180*(E-x)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(D-D%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(p,g){var m=this.snapToGrid(p,g,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),v=this.el.array().valueOf();v[this.parameters.i][0]=this.parameters.pointCoords[0]+m[0],v[this.parameters.i][1]=this.parameters.pointCoords[1]+m[1],this.el.plot(v)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:a}),SVG.on(window,"touchmove.resize",function(p){l.update(p||window.event)}),SVG.on(window,"touchend.resize",function(){l.done()}),SVG.on(window,"mousemove.resize",function(p){l.update(p||window.event)}),SVG.on(window,"mouseup.resize",function(){l.done()})},L.prototype.update=function(a){if(a){var l=this._extractPosition(a),d=this.transformPoint(l.x,l.y),h=d.x-this.parameters.p.x,p=d.y-this.parameters.p.y;this.lastUpdateCall=[h,p],this.calc(h,p),this.el.fire("resizing",{dx:h,dy:p,event:a})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},L.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},L.prototype.snapToGrid=function(a,l,d,h){var p;return p=void 0!==h?[(d+a)%this.options.snapToGrid,(h+l)%this.options.snapToGrid]:[(this.parameters.box.x+a+(1&(d=d??3)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+l+(2&d?0:this.parameters.box.height))%this.options.snapToGrid],a<0&&(p[0]-=this.options.snapToGrid),l<0&&(p[1]-=this.options.snapToGrid),a-=Math.abs(p[0])<this.options.snapToGrid/2?p[0]:p[0]-(a<0?-this.options.snapToGrid:this.options.snapToGrid),l-=Math.abs(p[1])<this.options.snapToGrid/2?p[1]:p[1]-(l<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(a,l,d,h)},L.prototype.constraintToBox=function(a,l,d,h){var p,g,m=this.options.constraint||{};return void 0!==h?(p=d,g=h):(p=this.parameters.box.x+(1&d?0:this.parameters.box.width),g=this.parameters.box.y+(2&d?0:this.parameters.box.height)),void 0!==m.minX&&p+a<m.minX&&(a=m.minX-p),void 0!==m.maxX&&p+a>m.maxX&&(a=m.maxX-p),void 0!==m.minY&&g+l<m.minY&&(l=m.minY-g),void 0!==m.maxY&&g+l>m.maxY&&(l=m.maxY-g),[a,l]},L.prototype.checkAspectRatio=function(a,l){if(!this.options.saveAspectRatio)return a;var d=a.slice(),h=this.parameters.box.width/this.parameters.box.height,p=this.parameters.box.width+a[0],g=this.parameters.box.height-a[1],m=p/g;return m<h?(d[1]=p/h-this.parameters.box.height,l&&(d[1]=-d[1])):m>h&&(d[0]=this.parameters.box.width-g*h,l&&(d[0]=-d[0])),d},SVG.extend(SVG.Element,{resize:function(a){return(this.remember("_resizeHandler")||new L(this)).init(a||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Ee=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Di(this.ctx),this.ctx.axes=new Oe(this.ctx),this.ctx.core=new Dr(this.ctx.el,this.ctx),this.ctx.config=new zr({}),this.ctx.data=new hn(this.ctx),this.ctx.grid=new bi(this.ctx),this.ctx.graphics=new Me(this.ctx),this.ctx.coreUtils=new qt(this.ctx),this.ctx.crosshairs=new Ke(this.ctx),this.ctx.events=new Ce(this.ctx),this.ctx.exports=new Bt(this.ctx),this.ctx.localization=new we(this.ctx),this.ctx.options=new $n,this.ctx.responsive=new mt(this.ctx),this.ctx.series=new ot(this.ctx),this.ctx.theme=new nt(this.ctx),this.ctx.formatters=new Br(this.ctx),this.ctx.titleSubtitle=new gi(this.ctx),this.ctx.legend=new Rr(this.ctx),this.ctx.toolbar=new oi(this.ctx),this.ctx.tooltip=new bs(this.ctx),this.ctx.dimensions=new qi(this.ctx),this.ctx.updateHelpers=new Qa(this.ctx),this.ctx.zoomPanSelection=new In(this.ctx),this.ctx.w.globals.tooltip=new bs(this.ctx)}}]),L}(),ve=function(){function L(a){He(this,L),this.ctx=a,this.w=a.w}return dt(L,[{key:"clear",value:function(a){var l=a.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:l})}},{key:"killSVG",value:function(a){a.each(function(l,d){this.removeClass("*"),this.off(),this.stop()},!0),a.ungroup(),a.clear()}},{key:"clearDomElements",value:function(a){var l=this,h=this.w.globals.dom.Paper.node;h.parentNode&&h.parentNode.parentNode&&!a.isUpdating&&(h.parentNode.parentNode.style.minHeight="unset");var p=this.w.globals.dom.baseEl;p&&this.ctx.eventList.forEach(function(m){p.removeEventListener(m,l.ctx.events.documentEvent)});var g=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(g.Paper),g.Paper.remove(),g.elWrap=null,g.elGraphical=null,g.elLegendWrap=null,g.elLegendForeign=null,g.baseEl=null,g.elGridRect=null,g.elGridRectMask=null,g.elGridRectMarkerMask=null,g.elForecastMask=null,g.elNonForecastMask=null,g.elDefs=null}}]),L}(),lt=new WeakMap,Wt=function(){function L(a,l){He(this,L),this.opts=l,this.ctx=this,this.w=new Ne(l).init(),this.el=a,this.w.globals.cuid=he.randomId(),this.w.globals.chartID=this.w.config.chart.id?he.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ee(this).initModules(),this.create=he.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return dt(L,[{key:"render",value:function(){var a=this;return new Promise(function(l,d){if(null!==a.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),a.w.config.chart.id&&Apex._chartInstances.push({id:a.w.globals.chartID,group:a.w.config.chart.group,chart:a}),a.setLocale(a.w.config.chart.defaultLocale);var h=a.w.config.chart.events.beforeMount;if("function"==typeof h&&h(a,a.w),a.events.fireEvent("beforeMount",[a,a.w]),window.addEventListener("resize",a.windowResizeHandler),function(E,D){var A=!1;if(E.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var R=E.getBoundingClientRect();"none"!==E.style.display&&0!==R.width||(A=!0)}var O=new ResizeObserver(function(N){A&&D.call(E,N),A=!0});E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(E.children).forEach(function(N){return O.observe(N)}):O.observe(E),lt.set(D,O)}(a.el.parentNode,a.parentResizeHandler),!a.css){var p=a.el.getRootNode&&a.el.getRootNode(),g=he.is("ShadowRoot",p),m=a.el.ownerDocument,v=m.getElementById("apexcharts-css");!g&&v||(a.css=document.createElement("style"),a.css.id="apexcharts-css",a.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n\n.apexcharts-bar-goals-markers{\n  pointer-events: none\n}\n\n.apexcharts-bar-shadows{\n  pointer-events: none\n}\n\n.apexcharts-rangebar-goals-markers{\n  pointer-events: none\n}',g?p.prepend(a.css):m.head.appendChild(a.css))}var x=a.create(a.w.config.series,{});if(!x)return l(a);a.mount(x).then(function(){"function"==typeof a.w.config.chart.events.mounted&&a.w.config.chart.events.mounted(a,a.w),a.events.fireEvent("mounted",[a,a.w]),l(x)}).catch(function(E){d(E)})}else d(new Error("Element not found"))})}},{key:"create",value:function(a,l){var d=this.w;new Ee(this).initModules();var h=this.w.globals;if(h.noData=!1,h.animationEnded=!1,this.responsive.checkResponsiveConfig(l),d.config.xaxis.convertedCatToNumeric&&new gr(d.config).convertCatToNumericXaxis(d.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===d.config.chart.type&&(d.config.grid.show=!1,d.config.yaxis[0].show=!1),0===h.svgWidth))return h.animationEnded=!0,null;var p=qt.checkComboSeries(a);h.comboCharts=p.comboCharts,h.comboBarCount=p.comboBarCount;var g=a.every(function(E){return E.data&&0===E.data.length});(0===a.length||g)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new Ae(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),h.noData&&h.collapsedSeries.length!==h.series.length&&!d.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),h.axisCharts&&(this.core.coreCalculations(),"category"!==d.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=d.globals.minX,this.ctx.toolbar.maxX=d.globals.maxX),this.formatters.heatmapLabelFormatters(),new qt(this).getLargestMarkerSize(),this.dimensions.plotCoords();var m=this.core.xySettings();this.grid.createGridMask();var v=this.core.plotChartType(a,m),x=new je(this);return x.bringForward(),d.config.dataLabels.background.enabled&&x.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:v,xyRatios:m,dimensions:{plot:{left:d.globals.translateX,top:d.globals.translateY,width:d.globals.gridWidth,height:d.globals.gridHeight}}}}},{key:"mount",value:function(){var a=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,d=this,h=d.w;return new Promise(function(p,g){if(null===d.el)return g(new Error("Not enough data to display or target element not found"));(null===l||h.globals.allSeriesCollapsed)&&d.series.handleNoData(),d.grid=new bi(d);var m,v,x=d.grid.drawGrid();if(d.annotations=new Vi(d),d.annotations.drawImageAnnos(),d.annotations.drawTextAnnos(),"back"===h.config.grid.position&&(x&&h.globals.dom.elGraphical.add(x.el),null!=x&&null!==(m=x.elGridBorders)&&void 0!==m&&m.node&&h.globals.dom.elGraphical.add(x.elGridBorders)),Array.isArray(l.elGraph))for(var E=0;E<l.elGraph.length;E++)h.globals.dom.elGraphical.add(l.elGraph[E]);else h.globals.dom.elGraphical.add(l.elGraph);"front"===h.config.grid.position&&(x&&h.globals.dom.elGraphical.add(x.el),null!=x&&null!==(v=x.elGridBorders)&&void 0!==v&&v.node&&h.globals.dom.elGraphical.add(x.elGridBorders)),"front"===h.config.xaxis.crosshairs.position&&d.crosshairs.drawXCrosshairs(),"front"===h.config.yaxis[0].crosshairs.position&&d.crosshairs.drawYCrosshairs(),"treemap"!==h.config.chart.type&&d.axes.drawAxis(h.config.chart.type,x);var D=new bn(a.ctx,x),A=new Mi(a.ctx,x);if(null!==x&&(D.xAxisLabelCorrections(x.xAxisTickWidth),A.setYAxisTextAlignments(),h.config.yaxis.map(function(O,N){-1===h.globals.ignoreYAxisIndexes.indexOf(N)&&A.yAxisTitleRotate(N,O.opposite)})),d.annotations.drawAxesAnnotations(),!h.globals.noData){if(h.config.tooltip.enabled&&!h.globals.noData&&d.w.globals.tooltip.drawTooltip(l.xyRatios),h.globals.axisCharts&&(h.globals.isXNumeric||h.config.xaxis.convertedCatToNumeric||h.globals.isRangeBar))(h.config.chart.zoom.enabled||h.config.chart.selection&&h.config.chart.selection.enabled||h.config.chart.pan&&h.config.chart.pan.enabled)&&d.zoomPanSelection.init({xyRatios:l.xyRatios});else{var R=h.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(O){R[O]=!1})}h.config.chart.toolbar.show&&!h.globals.allSeriesCollapsed&&d.toolbar.createToolbar()}h.globals.memory.methodsToExec.length>0&&h.globals.memory.methodsToExec.forEach(function(O){O.method(O.params,!1,O.context)}),h.globals.axisCharts||h.globals.noData||d.core.resizeNonAxisCharts(),p(d)})}},{key:"destroy",value:function(){var a,l;window.removeEventListener("resize",this.windowResizeHandler),(l=lt.get(a=this.parentResizeHandler))&&(l.disconnect(),lt.delete(a));var d=this.w.config.chart.id;d&&Apex._chartInstances.forEach(function(h,p){h.id===he.escapeString(d)&&Apex._chartInstances.splice(p,1)}),new ve(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(a){var l=this,d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],g=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],m=this.w;return m.globals.selection=void 0,a.series&&(this.series.resetSeries(!1,!0,!1),a.series.length&&a.series[0].data&&(a.series=a.series.map(function(v,x){return l.updateHelpers._extendSeries(v,x)})),this.updateHelpers.revertDefaultAxisMinMax()),a.xaxis&&(a=this.updateHelpers.forceXAxisUpdate(a)),a.yaxis&&(a=this.updateHelpers.forceYAxisUpdate(a)),m.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),a.theme&&(a=this.theme.updateThemeOptions(a)),this.updateHelpers._updateOptions(a,d,h,p,g)}},{key:"updateSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,l,d)}},{key:"appendSeries",value:function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],h=this.w.config.series.slice();return h.push(a),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(h,l,d)}},{key:"appendData",value:function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=this;d.w.globals.dataChanged=!0,d.series.getPreviousPaths();for(var h=d.w.config.series.slice(),p=0;p<h.length;p++)if(null!=a[p])for(var g=0;g<a[p].data.length;g++)h[p].data.push(a[p].data[g]);return d.w.config.series=h,l&&(d.w.globals.initialSeries=he.clone(d.w.config.series)),this.update()}},{key:"update",value:function(a){var l=this;return new Promise(function(d,h){new ve(l.ctx).clear({isUpdating:!0});var p=l.create(l.w.config.series,a);if(!p)return d(l);l.mount(p).then(function(){"function"==typeof l.w.config.chart.events.updated&&l.w.config.chart.events.updated(l,l.w),l.events.fireEvent("updated",[l,l.w]),l.w.globals.isDirty=!0,d(l)}).catch(function(g){h(g)})})}},{key:"getSyncedCharts",value:function(){var a=this.getGroupedCharts(),l=[this];return a.length&&(l=[],a.forEach(function(d){l.push(d)})),l}},{key:"getGroupedCharts",value:function(){var a=this;return Apex._chartInstances.filter(function(l){if(l.group)return!0}).map(function(l){return a.w.config.chart.group===l.group?l.chart:a})}},{key:"toggleSeries",value:function(a){return this.series.toggleSeries(a)}},{key:"highlightSeriesOnLegendHover",value:function(a,l){return this.series.toggleSeriesOnHover(a,l)}},{key:"showSeries",value:function(a){this.series.showSeries(a)}},{key:"hideSeries",value:function(a){this.series.hideSeries(a)}},{key:"isSeriesHidden",value:function(a){this.series.isSeriesHidden(a)}},{key:"resetSeries",value:function(){this.series.resetSeries(!(arguments.length>0&&void 0!==arguments[0])||arguments[0],!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"addEventListener",value:function(a,l){this.events.addEventListener(a,l)}},{key:"removeEventListener",value:function(a,l){this.events.removeEventListener(a,l)}},{key:"addXaxisAnnotation",value:function(a){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=this;d&&(h=d),h.annotations.addXaxisAnnotationExternal(a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h)}},{key:"addYaxisAnnotation",value:function(a){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=this;d&&(h=d),h.annotations.addYaxisAnnotationExternal(a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h)}},{key:"addPointAnnotation",value:function(a){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=this;d&&(h=d),h.annotations.addPointAnnotationExternal(a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h)}},{key:"clearAnnotations",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,l=this;a&&(l=a),l.annotations.clearAnnotations(l)}},{key:"removeAnnotation",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=this;l&&(d=l),d.annotations.removeAnnotation(d,a)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(a,l){return this.coreUtils.getSeriesTotalsXRange(a,l)}},{key:"getHighestValueInSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new pi(this.ctx).getMinYMaxY(a).highestY}},{key:"getLowestValueInSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new pi(this.ctx).getMinYMaxY(a).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(a,l){return this.updateHelpers.toggleDataPointSelection(a,l)}},{key:"zoomX",value:function(a,l){this.ctx.toolbar.zoomUpdateOptions(a,l)}},{key:"setLocale",value:function(a){this.localization.setCurrentLocaleValues(a)}},{key:"dataURI",value:function(a){return new Bt(this.ctx).dataURI(a)}},{key:"exportToCSV",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Bt(this.ctx).exportToCSV(a)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var a=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){a.w.globals.resized=!0,a.w.globals.dataChanged=!1,a.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var a=this.w.config.chart.redrawOnWindowResize;"function"==typeof a&&(a=a()),a&&this._windowResize()}}],[{key:"getChartByID",value:function(a){var l=he.escapeString(a);if(Apex._chartInstances){var d=Apex._chartInstances.filter(function(h){return h.id===l})[0];return d&&d.chart}}},{key:"initOnLoad",value:function(){for(var a=document.querySelectorAll("[data-apexcharts]"),l=0;l<a.length;l++)new L(a[l],JSON.parse(a[l].getAttribute("data-options"))).render()}},{key:"exec",value:function(a,l){var d=this.getChartByID(a);if(d){d.w.globals.isExecCalled=!0;var h=null;if(-1!==d.publicMethods.indexOf(l)){for(var p=arguments.length,g=new Array(p>2?p-2:0),m=2;m<p;m++)g[m-2]=arguments[m];h=d[l].apply(d,g)}return h}}},{key:"merge",value:function(a,l){return he.extend(a,l)}}]),L}();Kr.exports=Wt},215:(Kr,ji,Yt)=>{Yt.d(ji,{$:()=>rl,A:()=>rt,E:()=>Vn,J:()=>Re,K:()=>tn,M:()=>el,P:()=>Na,Q:()=>Be,R:()=>Ew,U:()=>We,V:()=>zT,W:()=>HT,X:()=>UT,Y:()=>tl,Z:()=>po,_:()=>ai,a:()=>Jf,a0:()=>Yf,a1:()=>aw,a2:()=>lw,a3:()=>jT,a4:()=>dw,a5:()=>Jr,a6:()=>ls,a7:()=>kc,a8:()=>uw,a9:()=>Kf,aA:()=>qt,aB:()=>st,aC:()=>hp,aD:()=>W,aE:()=>Tt,aF:()=>Ur,aG:()=>Mw,aH:()=>f2,aI:()=>E,aM:()=>ep,aP:()=>il,aa:()=>WT,ab:()=>mr,ac:()=>gn,ad:()=>Xi,ae:()=>xd,af:()=>Bl,ag:()=>dn,aj:()=>Tr,ak:()=>Cd,al:()=>Pa,ao:()=>sw,ap:()=>fw,ar:()=>GT,as:()=>t2,at:()=>$n,au:()=>ve,av:()=>Dr,aw:()=>Me,ax:()=>gp,ay:()=>Cs,az:()=>lt,b:()=>qT,c:()=>kd,d:()=>aI,e:()=>oI,f:()=>Pw,g:()=>uI,h:()=>cI,i:()=>ZT,j:()=>pt,k:()=>oh,l:()=>Tw,m:()=>$w,p:()=>Ln,r:()=>sI,s:()=>rI,u:()=>L_});var ie=Yt(861),Ve=Yt(963),oe=Yt(211),yt=Yt(383),He=Yt(582),Ei=Yt(427);const Ln={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},rt={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Vn=function Rt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Mn=function rn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dn=new Ve.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),he=new yt.Yd("@firebase/auth");function yn(S,...y){he.logLevel<=yt.in.ERROR&&he.error(`Auth (${oe.SDK_VERSION}): ${S}`,...y)}function Me(S,...y){throw ln(S,...y)}function qt(S,...y){return ln(S,...y)}function Cr(S,y,C){const k=Object.assign(Object.assign({},Mn()),{[y]:C});return new Ve.LL("auth","Firebase",k).create(y,{appName:S.name})}function Yi(S,y,C){if(!(y instanceof C))throw C.name!==y.constructor.name&&Me(S,"argument-error"),Cr(S,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ln(S,...y){if("string"!=typeof S){const C=y[0],k=[...y.slice(1)];return k[0]&&(k[0].appName=S.name),S._errorFactory.create(C,...k)}return Dn.create(S,...y)}function st(S,y,...C){if(!S)throw ln(y,...C)}function Rn(S){const y="INTERNAL ASSERTION FAILED: "+S;throw yn(y),new Error(y)}function $n(S,y){S||Rn(y)}function Vi(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function un(){return"http:"===Br()||"https:"===Br()}function Br(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class gr{constructor(y,C){this.shortDelay=y,this.longDelay=C,$n(C>y,"Short delay should be less than long delay!"),this.isMobile=(0,Ve.uI)()||(0,Ve.b$)()}get(){return function os(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(un()||(0,Ve.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zr(S,y){$n(S.emulator,"Emulator should always be set here");const{url:C}=S.emulator;return y?`${C}${y.startsWith("/")?y.slice(1):y}`:C}class ke{static initialize(y,C,k){this.fetchImpl=y,C&&(this.headersImpl=C),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fe=new gr(3e4,6e4);function Ae(S,y){return S.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:S.tenantId}):y}function Je(S,y,C,k){return je.apply(this,arguments)}function je(){return(je=(0,ie.Z)(function*(S,y,C,k,z={}){return ot(S,z,(0,ie.Z)(function*(){let q={},ye={};k&&("GET"===y?ye=k:q={body:JSON.stringify(k)});const Pe=(0,Ve.xO)(Object.assign({key:S.config.apiKey},ye)).slice(1),et=yield S._getAdditionalHeaders();return et["Content-Type"]="application/json",S.languageCode&&(et["X-Firebase-Locale"]=S.languageCode),ke.fetch()(bn(S,S.config.apiHost,C,Pe),Object.assign({method:y,headers:et,referrerPolicy:"no-referrer"},q))}))})).apply(this,arguments)}function ot(S,y,C){return hn.apply(this,arguments)}function hn(){return(hn=(0,ie.Z)(function*(S,y,C){S._canInitEmulator=!1;const k=Object.assign(Object.assign({},Ne),y);try{const z=new Bn(S),q=yield Promise.race([C(),z.promise]);z.clearNetworkTimeout();const ye=yield q.json();if("needConfirmation"in ye)throw pi(S,"account-exists-with-different-credential",ye);if(q.ok&&!("errorMessage"in ye))return ye;{const Pe=q.ok?ye.errorMessage:ye.error.message,[et,Lt]=Pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===et)throw pi(S,"credential-already-in-use",ye);if("EMAIL_EXISTS"===et)throw pi(S,"email-already-in-use",ye);if("USER_DISABLED"===et)throw pi(S,"user-disabled",ye);const Xt=k[et]||et.toLowerCase().replace(/[_\s]+/g,"-");if(Lt)throw Cr(S,Xt,Lt);Me(S,Xt)}}catch(z){if(z instanceof Ve.ZR)throw z;Me(S,"network-request-failed",{message:String(z)})}})).apply(this,arguments)}function Ge(S,y,C,k){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,ie.Z)(function*(S,y,C,k,z={}){const q=yield Je(S,y,C,k,z);return"mfaPendingCredential"in q&&Me(S,"multi-factor-auth-required",{_serverResponse:q}),q})).apply(this,arguments)}function bn(S,y,C,k){const z=`${y}${C}?${k}`;return S.config.emulator?zr(S.config,z):`${S.config.apiScheme}://${z}`}function bi(S){switch(S){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bn{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((C,k)=>{this.timer=setTimeout(()=>k(qt(this.auth,"network-request-failed")),fe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pi(S,y,C){const k={appName:S.name};C.email&&(k.email=C.email),C.phoneNumber&&(k.phoneNumber=C.phoneNumber);const z=qt(S,y,k);return z.customData._tokenResponse=C,z}function Mi(S){return void 0!==S&&void 0!==S.getResponse}function Ce(S){return void 0!==S&&void 0!==S.enterprise}class we{constructor(y){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=y.recaptchaEnforcementState}getProviderEnforcementState(y){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const C of this.recaptchaEnforcementState)if(C.provider&&C.provider===y)return bi(C.enforcementState);return null}isProviderEnabled(y){return"ENFORCE"===this.getProviderEnforcementState(y)||"AUDIT"===this.getProviderEnforcementState(y)}}function Ke(){return(Ke=(0,ie.Z)(function*(S){return(yield Je(S,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mt(S,y){return nt.apply(this,arguments)}function nt(){return(nt=(0,ie.Z)(function*(S,y){return Je(S,"GET","/v2/recaptchaConfig",Ae(S,y))})).apply(this,arguments)}function Fn(){return(Fn=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function mi(){return(mi=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function qi(){return(qi=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Mr(S){if(S)try{const y=new Date(Number(S));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function In(){return(In=(0,ie.Z)(function*(S,y=!1){const C=(0,Ve.m9)(S),k=yield C.getIdToken(y),z=ti(k);st(z&&z.exp&&z.auth_time&&z.iat,C.auth,"internal-error");const q="object"==typeof z.firebase?z.firebase:void 0,ye=q?.sign_in_provider;return{claims:z,token:k,authTime:Mr(Yn(z.auth_time)),issuedAtTime:Mr(Yn(z.iat)),expirationTime:Mr(Yn(z.exp)),signInProvider:ye||null,signInSecondFactor:q?.sign_in_second_factor||null}})).apply(this,arguments)}function Yn(S){return 1e3*Number(S)}function ti(S){const[y,C,k]=S.split(".");if(void 0===y||void 0===C||void 0===k)return yn("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,Ve.tV)(C);return z?JSON.parse(z):(yn("Failed to decode base64 JWT payload"),null)}catch(z){return yn("Caught error parsing JWT payload as JSON",z?.toString()),null}}function Ti(S,y){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,ie.Z)(function*(S,y,C=!1){if(C)return y;try{return yield y}catch(k){throw k instanceof Ve.ZR&&function uo({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}(k)&&S.auth.currentUser===S&&(yield S.auth.signOut()),k}})).apply(this,arguments)}class bs{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var C;if(y){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const z=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(y=!1){var C=this;if(!this.isRunning)return;const k=this.getInterval(y);this.timerId=setTimeout((0,ie.Z)(function*(){yield C.iteration()}),k)}iteration(){var y=this;return(0,ie.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C?.code&&y.schedule(!0))}y.schedule()})()}}class ho{constructor(y,C){this.createdAt=y,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mr(this.lastLoginAt),this.creationTime=Mr(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Er(S){return Oi.apply(this,arguments)}function Oi(){return Oi=(0,ie.Z)(function*(S){var y;const C=S.auth,k=yield S.getIdToken(),z=yield Ti(S,function Bi(S,y){return qi.apply(this,arguments)}(C,{idToken:k}));st(z?.users.length,C,"internal-error");const q=z.users[0];S._notifyReloadListener(q);const ye=null!==(y=q.providerUserInfo)&&void 0!==y&&y.length?function Ma(S){return S.map(y=>{var{providerId:C}=y,k=(0,He._T)(y,["providerId"]);return{providerId:C,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}(q.providerUserInfo):[],Pe=function Ka(S,y){return[...S.filter(k=>!y.some(z=>z.providerId===k.providerId)),...y]}(S.providerData,ye),Xt=!!S.isAnonymous&&!(S.email&&q.passwordHash||Pe?.length),jn={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:Pe,metadata:new ho(q.createdAt,q.lastLoginAt),isAnonymous:Xt};Object.assign(S,jn)}),Oi.apply(this,arguments)}function as(){return(as=(0,ie.Z)(function*(S){const y=(0,Ve.m9)(S);yield Er(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function fo(){return(fo=(0,ie.Z)(function*(S,y){const C=yield ot(S,{},(0,ie.Z)(function*(){const k=(0,Ve.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:z,apiKey:q}=S.config,ye=bn(S,z,"/v1/token",`key=${q}`),Pe=yield S._getAdditionalHeaders();return Pe["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(ye,{method:"POST",headers:Pe,body:k})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){st(y.idToken,"internal-error"),st(typeof y.idToken<"u","internal-error"),st(typeof y.refreshToken<"u","internal-error");const C="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function ka(S){const y=ti(S);return st(y,"internal-error"),st(typeof y.exp<"u","internal-error"),st(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,C)}getToken(y,C=!1){var k=this;return(0,ie.Z)(function*(){return st(!k.accessToken||k.refreshToken,y,"user-token-expired"),C||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(y,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,C){var k=this;return(0,ie.Z)(function*(){const{accessToken:z,refreshToken:q,expiresIn:ye}=yield function Ra(S,y){return fo.apply(this,arguments)}(y,C);k.updateTokensAndExpiration(z,q,Number(ye))})()}updateTokensAndExpiration(y,C,k){this.refreshToken=C||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(y,C){const{refreshToken:k,accessToken:z,expirationTime:q}=C,ye=new pe;return k&&(st("string"==typeof k,"internal-error",{appName:y}),ye.refreshToken=k),z&&(st("string"==typeof z,"internal-error",{appName:y}),ye.accessToken=z),q&&(st("number"==typeof q,"internal-error",{appName:y}),ye.expirationTime=q),ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new pe,this.toJSON())}_performRefresh(){return Rn("not implemented")}}function ce(S,y){st("string"==typeof S||typeof S>"u","internal-error",{appName:y})}class ${constructor(y){var{uid:C,auth:k,stsTokenManager:z}=y,q=(0,He._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=k,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=q.displayName||null,this.email=q.email||null,this.emailVerified=q.emailVerified||!1,this.phoneNumber=q.phoneNumber||null,this.photoURL=q.photoURL||null,this.isAnonymous=q.isAnonymous||!1,this.tenantId=q.tenantId||null,this.providerData=q.providerData?[...q.providerData]:[],this.metadata=new ho(q.createdAt||void 0,q.lastLoginAt||void 0)}getIdToken(y){var C=this;return(0,ie.Z)(function*(){const k=yield Ti(C,C.stsTokenManager.getToken(C.auth,y));return st(k,C.auth,"internal-error"),C.accessToken!==k&&(C.accessToken=k,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),k})()}getIdTokenResult(y){return function oi(S){return In.apply(this,arguments)}(this,y)}reload(){return function Qr(S){return as.apply(this,arguments)}(this)}_assign(y){this!==y&&(st(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(C=>Object.assign({},C)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const C=new $(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return C.metadata._copy(this.metadata),C}_onReload(y){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,C=!1){var k=this;return(0,ie.Z)(function*(){let z=!1;y.idToken&&y.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(y),z=!0),C&&(yield Er(k)),yield k.auth._persistUserIfCurrent(k),z&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var y=this;return(0,ie.Z)(function*(){const C=yield y.getIdToken();return yield Ti(y,function gi(S,y){return Fn.apply(this,arguments)}(y.auth,{idToken:C})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,C){var k,z,q,ye,Pe,et,Lt,Xt;const jn=null!==(k=C.displayName)&&void 0!==k?k:void 0,Vs=null!==(z=C.email)&&void 0!==z?z:void 0,oa=null!==(q=C.phoneNumber)&&void 0!==q?q:void 0,Ld=null!==(ye=C.photoURL)&&void 0!==ye?ye:void 0,qw=null!==(Pe=C.tenantId)&&void 0!==Pe?Pe:void 0,yp=null!==(et=C._redirectEventId)&&void 0!==et?et:void 0,ev=null!==(Lt=C.createdAt)&&void 0!==Lt?Lt:void 0,tv=null!==(Xt=C.lastLoginAt)&&void 0!==Xt?Xt:void 0,{uid:bp,emailVerified:Xw,isAnonymous:lh,providerData:ll,stsTokenManager:Zw}=C;st(bp&&Zw,y,"internal-error");const Kw=pe.fromJSON(this.name,Zw);st("string"==typeof bp,y,"internal-error"),ce(jn,y.name),ce(Vs,y.name),st("boolean"==typeof Xw,y,"internal-error"),st("boolean"==typeof lh,y,"internal-error"),ce(oa,y.name),ce(Ld,y.name),ce(qw,y.name),ce(yp,y.name),ce(ev,y.name),ce(tv,y.name);const wp=new $({uid:bp,auth:y,email:Vs,emailVerified:Xw,displayName:jn,isAnonymous:lh,photoURL:Ld,phoneNumber:oa,tenantId:qw,stsTokenManager:Kw,createdAt:ev,lastLoginAt:tv});return ll&&Array.isArray(ll)&&(wp.providerData=ll.map(ch=>Object.assign({},ch))),yp&&(wp._redirectEventId=yp),wp}static _fromIdTokenResponse(y,C,k=!1){return(0,ie.Z)(function*(){const z=new pe;z.updateFromServerResponse(C);const q=new $({uid:C.localId,auth:y,stsTokenManager:z,isAnonymous:k});return yield Er(q),q})()}}const K=new Map;function W(S){$n(S instanceof Function,"Expected a class definition");let y=K.get(S);return y?($n(y instanceof S,"Instance stored in cache mismatched with class"),y):(y=new S,K.set(S,y),y)}const Be=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ie.Z)(function*(){return!0})()}_set(C,k){var z=this;return(0,ie.Z)(function*(){z.storage[C]=k})()}_get(C){var k=this;return(0,ie.Z)(function*(){const z=k.storage[C];return void 0===z?null:z})()}_remove(C){var k=this;return(0,ie.Z)(function*(){delete k.storage[C]})()}_addListener(C,k){}_removeListener(C,k){}}return S.type="NONE",S})();function Tt(S,y,C){return`firebase:${S}:${y}:${C}`}class vt{constructor(y,C,k){this.persistence=y,this.auth=C,this.userKey=k;const{config:z,name:q}=this.auth;this.fullUserKey=Tt(this.userKey,z.apiKey,q),this.fullPersistenceKey=Tt("persistence",z.apiKey,q),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,ie.Z)(function*(){const C=yield y.persistence._get(y.fullUserKey);return C?$._fromJSON(y.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var C=this;return(0,ie.Z)(function*(){if(C.persistence===y)return;const k=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=y,k?C.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,C,k="authUser"){return(0,ie.Z)(function*(){if(!C.length)return new vt(W(Be),y,k);const z=(yield Promise.all(C.map(function(){var Lt=(0,ie.Z)(function*(Xt){if(yield Xt._isAvailable())return Xt});return function(Xt){return Lt.apply(this,arguments)}}()))).filter(Lt=>Lt);let q=z[0]||W(Be);const ye=Tt(k,y.config.apiKey,y.name);let Pe=null;for(const Lt of C)try{const Xt=yield Lt._get(ye);if(Xt){const jn=$._fromJSON(y,Xt);Lt!==q&&(Pe=jn),q=Lt;break}}catch{}const et=z.filter(Lt=>Lt._shouldAllowMigration);return q._shouldAllowMigration&&et.length?(q=et[0],Pe&&(yield q._set(ye,Pe.toJSON())),yield Promise.all(C.map(function(){var Lt=(0,ie.Z)(function*(Xt){if(Xt!==q)try{yield Xt._remove(ye)}catch{}});return function(Xt){return Lt.apply(this,arguments)}}())),new vt(q,y,k)):new vt(q,y,k)})()}}function en(S){const y=S.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Gt(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ii(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Qa(y))return"Blackberry";if(Ee(y))return"Webos";if(Ct(y))return"Safari";if((y.includes("chrome/")||_i(y))&&!y.includes("edge/"))return"Chrome";if(Dr(y))return"Android";{const k=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function ii(S=(0,Ve.z$)()){return/firefox\//i.test(S)}function Ct(S=(0,Ve.z$)()){const y=S.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function _i(S=(0,Ve.z$)()){return/crios\//i.test(S)}function Gt(S=(0,Ve.z$)()){return/iemobile/i.test(S)}function Dr(S=(0,Ve.z$)()){return/android/i.test(S)}function Qa(S=(0,Ve.z$)()){return/blackberry/i.test(S)}function Ee(S=(0,Ve.z$)()){return/webos/i.test(S)}function ve(S=(0,Ve.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function lt(S=(0,Ve.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(S)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(S)}function a(S=(0,Ve.z$)()){return ve(S)||Dr(S)||Ee(S)||Qa(S)||/windows phone/i.test(S)||Gt(S)}function d(S,y=[]){let C;switch(S){case"Browser":C=en((0,Ve.z$)());break;case"Worker":C=`${en((0,Ve.z$)())}-${S}`;break;default:C=S}const k=y.length?y.join(","):"FirebaseCore-web";return`${C}/JsCore/${oe.SDK_VERSION}/${k}`}class h{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,C){const k=q=>new Promise((ye,Pe)=>{try{ye(y(q))}catch(et){Pe(et)}});k.onAbort=C,this.queue.push(k);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(y){var C=this;return(0,ie.Z)(function*(){if(C.auth.currentUser===y)return;const k=[];try{for(const z of C.queue)yield z(y),z.onAbort&&k.push(z.onAbort)}catch(z){k.reverse();for(const q of k)try{q()}catch{}throw C.auth._errorFactory.create("login-blocked",{originalMessage:z?.message})}})()}}function g(){return(g=(0,ie.Z)(function*(S,y={}){return Je(S,"GET","/v2/passwordPolicy",Ae(S,y))})).apply(this,arguments)}class v{constructor(y){var C,k,z,q;const ye=y.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(C=ye.minPasswordLength)&&void 0!==C?C:6,ye.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ye.maxPasswordLength),void 0!==ye.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ye.containsLowercaseCharacter),void 0!==ye.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ye.containsUppercaseCharacter),void 0!==ye.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ye.containsNumericCharacter),void 0!==ye.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ye.containsNonAlphanumericCharacter),this.enforcementState=y.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(z=null===(k=y.allowedNonAlphanumericCharacters)||void 0===k?void 0:k.join(""))&&void 0!==z?z:"",this.forceUpgradeOnSignin=null!==(q=y.forceUpgradeOnSignin)&&void 0!==q&&q,this.schemaVersion=y.schemaVersion}validatePassword(y){var C,k,z,q,ye,Pe;const et={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(y,et),this.validatePasswordCharacterOptions(y,et),et.isValid&&(et.isValid=null===(C=et.meetsMinPasswordLength)||void 0===C||C),et.isValid&&(et.isValid=null===(k=et.meetsMaxPasswordLength)||void 0===k||k),et.isValid&&(et.isValid=null===(z=et.containsLowercaseLetter)||void 0===z||z),et.isValid&&(et.isValid=null===(q=et.containsUppercaseLetter)||void 0===q||q),et.isValid&&(et.isValid=null===(ye=et.containsNumericCharacter)||void 0===ye||ye),et.isValid&&(et.isValid=null===(Pe=et.containsNonAlphanumericCharacter)||void 0===Pe||Pe),et}validatePasswordLengthOptions(y,C){const k=this.customStrengthOptions.minPasswordLength,z=this.customStrengthOptions.maxPasswordLength;k&&(C.meetsMinPasswordLength=y.length>=k),z&&(C.meetsMaxPasswordLength=y.length<=z)}validatePasswordCharacterOptions(y,C){let k;this.updatePasswordCharacterOptionsStatuses(C,!1,!1,!1,!1);for(let z=0;z<y.length;z++)k=y.charAt(z),this.updatePasswordCharacterOptionsStatuses(C,k>="a"&&k<="z",k>="A"&&k<="Z",k>="0"&&k<="9",this.allowedNonAlphanumericCharacters.includes(k))}updatePasswordCharacterOptionsStatuses(y,C,k,z,q){this.customStrengthOptions.containsLowercaseLetter&&(y.containsLowercaseLetter||(y.containsLowercaseLetter=C)),this.customStrengthOptions.containsUppercaseLetter&&(y.containsUppercaseLetter||(y.containsUppercaseLetter=k)),this.customStrengthOptions.containsNumericCharacter&&(y.containsNumericCharacter||(y.containsNumericCharacter=z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(y.containsNonAlphanumericCharacter||(y.containsNonAlphanumericCharacter=q))}}class x{constructor(y,C,k,z){this.app=y,this.heartbeatServiceProvider=C,this.appCheckServiceProvider=k,this.config=z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D(this),this.idTokenSubscription=new D(this),this.beforeStateQueue=new h(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=z.sdkClientVersion}_initializeWithPersistence(y,C){var k=this;return C&&(this._popupRedirectResolver=W(C)),this._initializationPromise=this.queue((0,ie.Z)(function*(){var z,q;if(!k._deleted&&(k.persistenceManager=yield vt.create(k,y),!k._deleted)){if(null!==(z=k._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(C),k.lastNotifiedUid=(null===(q=k.currentUser)||void 0===q?void 0:q.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,ie.Z)(function*(){if(y._deleted)return;const C=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||C){if(y.currentUser&&C&&y.currentUser.uid===C.uid)return y._currentUser._assign(C),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(C,!0)}})()}initializeCurrentUser(y){var C=this;return(0,ie.Z)(function*(){var k;const z=yield C.assertedPersistence.getCurrentUser();let q=z,ye=!1;if(y&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const Pe=null===(k=C.redirectUser)||void 0===k?void 0:k._redirectEventId,et=q?._redirectEventId,Lt=yield C.tryRedirectSignIn(y);(!Pe||Pe===et)&&Lt?.user&&(q=Lt.user,ye=!0)}if(!q)return C.directlySetCurrentUser(null);if(!q._redirectEventId){if(ye)try{yield C.beforeStateQueue.runMiddleware(q)}catch(Pe){q=z,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(Pe))}return q?C.reloadAndSetCurrentUserOrClear(q):C.directlySetCurrentUser(null)}return st(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===q._redirectEventId?C.directlySetCurrentUser(q):C.reloadAndSetCurrentUserOrClear(q)})()}tryRedirectSignIn(y){var C=this;return(0,ie.Z)(function*(){let k=null;try{k=yield C._popupRedirectResolver._completeRedirectFn(C,y,!0)}catch{yield C._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(y){var C=this;return(0,ie.Z)(function*(){try{yield Er(y)}catch(k){if("auth/network-request-failed"!==k?.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function zt(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var y=this;return(0,ie.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var C=this;return(0,ie.Z)(function*(){const k=y?(0,Ve.m9)(y):null;return k&&st(k.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(k&&k._clone(C))})()}_updateCurrentUser(y,C=!1){var k=this;return(0,ie.Z)(function*(){if(!k._deleted)return y&&st(k.tenantId===y.tenantId,k,"tenant-id-mismatch"),C||(yield k.beforeStateQueue.runMiddleware(y)),k.queue((0,ie.Z)(function*(){yield k.directlySetCurrentUser(y),k.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,ie.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var C=this;return this.queue((0,ie.Z)(function*(){yield C.assertedPersistence.setPersistence(W(y))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(y){var C=this;return(0,ie.Z)(function*(){C._getPasswordPolicyInternal()||(yield C._updatePasswordPolicy());const k=C._getPasswordPolicyInternal();return k.schemaVersion!==C.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(C._errorFactory.create("unsupported-password-policy-schema-version",{})):k.validatePassword(y)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var y=this;return(0,ie.Z)(function*(){const C=yield function p(S){return g.apply(this,arguments)}(y),k=new v(C);null===y.tenantId?y._projectPasswordPolicy=k:y._tenantPasswordPolicies[y.tenantId]=k})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new Ve.LL("auth","Firebase",y())}onAuthStateChanged(y,C,k){return this.registerStateListener(this.authStateSubscription,y,C,k)}beforeAuthStateChanged(y,C){return this.beforeStateQueue.pushCallback(y,C)}onIdTokenChanged(y,C,k){return this.registerStateListener(this.idTokenSubscription,y,C,k)}authStateReady(){return new Promise((y,C)=>{if(this.currentUser)y();else{const k=this.onAuthStateChanged(()=>{k(),y()},C)}})}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,C){var k=this;return(0,ie.Z)(function*(){const z=yield k.getOrInitRedirectPersistenceManager(C);return null===y?z.removeCurrentUser():z.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var C=this;return(0,ie.Z)(function*(){if(!C.redirectPersistenceManager){const k=y&&W(y)||C._popupRedirectResolver;st(k,C,"argument-error"),C.redirectPersistenceManager=yield vt.create(C,[W(k._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(y){var C=this;return(0,ie.Z)(function*(){var k,z;return C._isInitialized&&(yield C.queue((0,ie.Z)(function*(){}))),(null===(k=C._currentUser)||void 0===k?void 0:k._redirectEventId)===y?C._currentUser:(null===(z=C.redirectUser)||void 0===z?void 0:z._redirectEventId)===y?C.redirectUser:null})()}_persistUserIfCurrent(y){var C=this;return(0,ie.Z)(function*(){if(y===C.currentUser)return C.queue((0,ie.Z)(function*(){return C.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(C=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,C,k,z){if(this._deleted)return()=>{};const q="function"==typeof C?C:C.next.bind(C);let ye=!1;const Pe=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(Pe,this,"internal-error"),Pe.then(()=>{ye||q(this.currentUser)}),"function"==typeof C){const et=y.addObserver(C,k,z);return()=>{ye=!0,et()}}{const et=y.addObserver(C);return()=>{ye=!0,et()}}}directlySetCurrentUser(y){var C=this;return(0,ie.Z)(function*(){C.currentUser&&C.currentUser!==y&&C._currentUser._stopProactiveRefresh(),y&&C.isProactiveRefreshEnabled&&y._startProactiveRefresh(),C.currentUser=y,y?yield C.assertedPersistence.setCurrentUser(y):yield C.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=d(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,ie.Z)(function*(){var C;const k={"X-Client-Version":y.clientVersion};y.app.options.appId&&(k["X-Firebase-gmpid"]=y.app.options.appId);const z=yield null===(C=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();z&&(k["X-Firebase-Client"]=z);const q=yield y._getAppCheckToken();return q&&(k["X-Firebase-AppCheck"]=q),k})()}_getAppCheckToken(){var y=this;return(0,ie.Z)(function*(){var C;const k=yield null===(C=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getToken();return k?.error&&function Di(S,...y){he.logLevel<=yt.in.WARN&&he.warn(`Auth (${oe.SDK_VERSION}): ${S}`,...y)}(`Error while retrieving App Check token: ${k.error}`),k?.token})()}}function E(S){return(0,Ve.m9)(S)}class D{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,Ve.ne)(C=>this.observer=C)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function R(S){return new Promise((y,C)=>{const k=document.createElement("script");k.setAttribute("src",S),k.onload=y,k.onerror=z=>{const q=qt("internal-error");q.customData=z,C(q)},k.type="text/javascript",k.charset="UTF-8",function A(){var S,y;return null!==(y=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==y?y:document}().appendChild(k)})}function O(S){return`__${S}${Math.floor(1e6*Math.random())}`}class X{constructor(y){this.type="recaptcha-enterprise",this.auth=E(y)}verify(y="verify",C=!1){var k=this;return(0,ie.Z)(function*(){function q(){return q=(0,ie.Z)(function*(Pe){if(!C){if(null==Pe.tenantId&&null!=Pe._agentRecaptchaConfig)return Pe._agentRecaptchaConfig.siteKey;if(null!=Pe.tenantId&&void 0!==Pe._tenantRecaptchaConfigs[Pe.tenantId])return Pe._tenantRecaptchaConfigs[Pe.tenantId].siteKey}return new Promise(function(){var et=(0,ie.Z)(function*(Lt,Xt){mt(Pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(jn=>{if(void 0!==jn.recaptchaKey){const Vs=new we(jn);return null==Pe.tenantId?Pe._agentRecaptchaConfig=Vs:Pe._tenantRecaptchaConfigs[Pe.tenantId]=Vs,Lt(Vs.siteKey)}Xt(new Error("recaptcha Enterprise site key undefined"))}).catch(jn=>{Xt(jn)})});return function(Lt,Xt){return et.apply(this,arguments)}}())}),q.apply(this,arguments)}function ye(Pe,et,Lt){const Xt=window.grecaptcha;Ce(Xt)?Xt.enterprise.ready(()=>{Xt.enterprise.execute(Pe,{action:y}).then(jn=>{et(jn)}).catch(()=>{et("NO_RECAPTCHA")})}):Lt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pe,et)=>{(function z(Pe){return q.apply(this,arguments)})(k.auth).then(Lt=>{if(!C&&Ce(window.grecaptcha))ye(Lt,Pe,et);else{if(typeof window>"u")return void et(new Error("RecaptchaVerifier is only supported in browser"));R("https://www.google.com/recaptcha/enterprise.js?render="+Lt).then(()=>{ye(Lt,Pe,et)}).catch(Xt=>{et(Xt)})}}).catch(Lt=>{et(Lt)})})})()}}function b(S,y,C){return I.apply(this,arguments)}function I(){return(I=(0,ie.Z)(function*(S,y,C,k=!1){const z=new X(S);let q;try{q=yield z.verify(C)}catch{q=yield z.verify(C,!0)}const ye=Object.assign({},y);return Object.assign(ye,k?{captchaResp:q}:{captchaResponse:q}),Object.assign(ye,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ye,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ye})).apply(this,arguments)}function P(S,y,C,k){return j.apply(this,arguments)}function j(){return j=(0,ie.Z)(function*(S,y,C,k){var z;if(null!==(z=S._getRecaptchaConfig())&&void 0!==z&&z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const q=yield b(S,y,C,"getOobCode"===C);return k(S,q)}return k(S,y).catch(function(){var q=(0,ie.Z)(function*(ye){if("auth/missing-recaptcha-token"===ye.code){console.log(`${C} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Pe=yield b(S,y,C,"getOobCode"===C);return k(S,Pe)}return Promise.reject(ye)});return function(ye){return q.apply(this,arguments)}}())}),j.apply(this,arguments)}function Re(S,y,C){const k=E(S);st(k._canInitEmulator,k,"emulator-config-failed"),st(/^https?:\/\//.test(y),k,"invalid-emulator-scheme");const z=!!C?.disableWarnings,q=le(y),{host:ye,port:Pe}=function Ye(S){const y=le(S),C=/(\/\/)?([^?#/]+)/.exec(S.substr(y.length));if(!C)return{host:"",port:null};const k=C[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(k);if(z){const q=z[1];return{host:q,port:Ie(k.substr(q.length+1))}}{const[q,ye]=k.split(":");return{host:q,port:Ie(ye)}}}(y);k.config.emulator={url:`${q}//${ye}${null===Pe?"":`:${Pe}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:ye,port:Pe,protocol:q.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function bt(){function S(){const y=document.createElement("p"),C=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}function le(S){const y=S.indexOf(":");return y<0?"":S.substr(0,y+1)}function Ie(S){if(!S)return null;const y=Number(S);return isNaN(y)?null:y}class tn{constructor(y,C){this.providerId=y,this.signInMethod=C}toJSON(){return Rn("not implemented")}_getIdTokenResponse(y){return Rn("not implemented")}_linkToIdToken(y,C){return Rn("not implemented")}_getReauthenticationResolver(y){return Rn("not implemented")}}function Sn(S,y){return qn.apply(this,arguments)}function qn(){return(qn=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:resetPassword",Ae(S,y))})).apply(this,arguments)}function wi(S,y){return ri.apply(this,arguments)}function ri(){return(ri=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ws(){return(ws=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:update",Ae(S,y))})).apply(this,arguments)}function Ja(S,y){return pn.apply(this,arguments)}function pn(){return(pn=(0,ie.Z)(function*(S,y){return Ge(S,"POST","/v1/accounts:signInWithPassword",Ae(S,y))})).apply(this,arguments)}function Oa(S,y){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:sendOobCode",Ae(S,y))})).apply(this,arguments)}function Ec(){return(Ec=(0,ie.Z)(function*(S,y){return Oa(S,y)})).apply(this,arguments)}function GL(S,y){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,ie.Z)(function*(S,y){return Oa(S,y)})).apply(this,arguments)}function $L(S,y){return nw.apply(this,arguments)}function nw(){return(nw=(0,ie.Z)(function*(S,y){return Oa(S,y)})).apply(this,arguments)}function Zu(){return(Zu=(0,ie.Z)(function*(S,y){return Oa(S,y)})).apply(this,arguments)}function jf(){return(jf=(0,ie.Z)(function*(S,y){return Ge(S,"POST","/v1/accounts:signInWithEmailLink",Ae(S,y))})).apply(this,arguments)}function a_(){return(a_=(0,ie.Z)(function*(S,y){return Ge(S,"POST","/v1/accounts:signInWithEmailLink",Ae(S,y))})).apply(this,arguments)}class Dc extends tn{constructor(y,C,k,z=null){super("password",k),this._email=y,this._password=C,this._tenantId=z}static _fromEmailAndPassword(y,C){return new Dc(y,C,"password")}static _fromEmailAndCode(y,C,k=null){return new Dc(y,C,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y;if(C?.email&&C?.password){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(y){var C=this;return(0,ie.Z)(function*(){switch(C.signInMethod){case"password":return P(y,{returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ja);case"emailLink":return function s_(S,y){return jf.apply(this,arguments)}(y,{email:C._email,oobCode:C._password});default:Me(y,"internal-error")}})()}_linkToIdToken(y,C){var k=this;return(0,ie.Z)(function*(){switch(k.signInMethod){case"password":return wi(y,{idToken:C,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function o_(S,y){return a_.apply(this,arguments)}(y,{idToken:C,email:k._email,oobCode:k._password});default:Me(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Nl(S,y){return iw.apply(this,arguments)}function iw(){return(iw=(0,ie.Z)(function*(S,y){return Ge(S,"POST","/v1/accounts:signInWithIdp",Ae(S,y))})).apply(this,arguments)}class el extends tn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const C=new el(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(C.idToken=y.idToken),y.accessToken&&(C.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(C.nonce=y.nonce),y.pendingToken&&(C.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(C.accessToken=y.oauthToken,C.secret=y.oauthTokenSecret):Me("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y,{providerId:k,signInMethod:z}=C,q=(0,He._T)(C,["providerId","signInMethod"]);if(!k||!z)return null;const ye=new el(k,z);return ye.idToken=q.idToken||void 0,ye.accessToken=q.accessToken||void 0,ye.secret=q.secret,ye.nonce=q.nonce,ye.pendingToken=q.pendingToken||null,ye}_getIdTokenResponse(y){return Nl(y,this.buildRequest())}_linkToIdToken(y,C){const k=this.buildRequest();return k.idToken=C,Nl(y,k)}_getReauthenticationResolver(y){const C=this.buildRequest();return C.autoCreate=!1,Nl(y,C)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),y.postBody=(0,Ve.xO)(C)}return y}}function Tc(){return(Tc=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:sendVerificationCode",Ae(S,y))})).apply(this,arguments)}function wd(){return(wd=(0,ie.Z)(function*(S,y){return Ge(S,"POST","/v1/accounts:signInWithPhoneNumber",Ae(S,y))})).apply(this,arguments)}function c_(){return(c_=(0,ie.Z)(function*(S,y){const C=yield Ge(S,"POST","/v1/accounts:signInWithPhoneNumber",Ae(S,y));if(C.temporaryProof)throw pi(S,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const LT={USER_NOT_FOUND:"user-not-found"};function Fl(){return(Fl=(0,ie.Z)(function*(S,y){return Ge(S,"POST","/v1/accounts:signInWithPhoneNumber",Ae(S,Object.assign(Object.assign({},y),{operation:"REAUTH"})),LT)})).apply(this,arguments)}class Ic extends tn{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,C){return new Ic({verificationId:y,verificationCode:C})}static _fromTokenResponse(y,C){return new Ic({phoneNumber:y,temporaryProof:C})}_getIdTokenResponse(y){return function l_(S,y){return wd.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,C){return function FT(S,y){return c_.apply(this,arguments)}(y,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function rw(S,y){return Fl.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:C,verificationId:k,verificationCode:z}=this.params;return y&&C?{temporaryProof:y,phoneNumber:C}:{sessionInfo:k,code:z}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:C,verificationCode:k,phoneNumber:z,temporaryProof:q}=y;return k||C||z||q?new Ic({verificationId:C,verificationCode:k,phoneNumber:z,temporaryProof:q}):null}}class ue{constructor(y){var C,k,z,q,ye,Pe;const et=(0,Ve.zd)((0,Ve.pd)(y)),Lt=null!==(C=et.apiKey)&&void 0!==C?C:null,Xt=null!==(k=et.oobCode)&&void 0!==k?k:null,jn=function Ll(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=et.mode)&&void 0!==z?z:null);st(Lt&&Xt&&jn,"argument-error"),this.apiKey=Lt,this.operation=jn,this.code=Xt,this.continueUrl=null!==(q=et.continueUrl)&&void 0!==q?q:null,this.languageCode=null!==(ye=et.languageCode)&&void 0!==ye?ye:null,this.tenantId=null!==(Pe=et.tenantId)&&void 0!==Pe?Pe:null}static parseLink(y){const C=function VT(S){const y=(0,Ve.zd)((0,Ve.pd)(S)).link,C=y?(0,Ve.zd)((0,Ve.pd)(y)).deep_link_id:null,k=(0,Ve.zd)((0,Ve.pd)(S)).deep_link_id;return(k?(0,Ve.zd)((0,Ve.pd)(k)).link:null)||k||C||y||S}(y);try{return new ue(C)}catch{return null}}}let We=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(C,k){return Dc._fromEmailAndPassword(C,k)}static credentialWithLink(C,k){const z=ue.parseLink(k);return st(z,"argument-error"),Dc._fromEmailAndCode(C,z.code,z.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class zo{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Vl extends zo{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class tl extends Vl{static credentialFromJSON(y){const C="string"==typeof y?JSON.parse(y):y;return st("providerId"in C&&"signInMethod"in C,"argument-error"),el._fromParams(C)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return st(y.idToken||y.accessToken,"argument-error"),el._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return tl.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return tl.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:k,oauthTokenSecret:z,pendingToken:q,nonce:ye,providerId:Pe}=y;if(!k&&!z&&!C&&!q||!Pe)return null;try{return new tl(Pe)._credential({idToken:C,accessToken:k,nonce:ye,pendingToken:q})}catch{return null}}}let zT=(()=>{class S extends Vl{constructor(){super("facebook.com")}static credential(C){return el._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return S.credential(C.oauthAccessToken)}catch{return null}}}return S.FACEBOOK_SIGN_IN_METHOD="facebook.com",S.PROVIDER_ID="facebook.com",S})(),HT=(()=>{class S extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(C,k){return el._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:k})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:k,oauthAccessToken:z}=C;if(!k&&!z)return null;try{return S.credential(k,z)}catch{return null}}}return S.GOOGLE_SIGN_IN_METHOD="google.com",S.PROVIDER_ID="google.com",S})(),UT=(()=>{class S extends Vl{constructor(){super("github.com")}static credential(C){return el._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return S.credential(C.oauthAccessToken)}catch{return null}}}return S.GITHUB_SIGN_IN_METHOD="github.com",S.PROVIDER_ID="github.com",S})();class il extends tn{constructor(y,C){super(y,y),this.pendingToken=C}_getIdTokenResponse(y){return Nl(y,this.buildRequest())}_linkToIdToken(y,C){const k=this.buildRequest();return k.idToken=C,Nl(y,k)}_getReauthenticationResolver(y){const C=this.buildRequest();return C.autoCreate=!1,Nl(y,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y,{providerId:k,signInMethod:z,pendingToken:q}=C;return k&&z&&q&&k===z?new il(k,q):null}static _create(y,C){return new il(y,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class po extends zo{constructor(y){st(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return po.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return po.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const C=il.fromJSON(y);return st(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:C,providerId:k}=y;if(!C||!k)return null;try{return il._create(k,C)}catch{return null}}}let ai=(()=>{class S extends Vl{constructor(){super("twitter.com")}static credential(C,k){return el._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:k})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:k,oauthTokenSecret:z}=C;if(!k||!z)return null;try{return S.credential(k,z)}catch{return null}}}return S.TWITTER_SIGN_IN_METHOD="twitter.com",S.PROVIDER_ID="twitter.com",S})();function Ku(S,y){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,ie.Z)(function*(S,y){return Ge(S,"POST","/v1/accounts:signUp",Ae(S,y))})).apply(this,arguments)}class Xs{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,C,k,z=!1){return(0,ie.Z)(function*(){const q=yield $._fromIdTokenResponse(y,k,z),ye=d_(k);return new Xs({user:q,providerId:ye,_tokenResponse:k,operationType:C})})()}static _forOperation(y,C,k){return(0,ie.Z)(function*(){yield y._updateTokensIfNecessary(k,!0);const z=d_(k);return new Xs({user:y,providerId:z,_tokenResponse:k,operationType:C})})()}}function d_(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}function rl(S){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,ie.Z)(function*(S){var y;const C=E(S);if(yield C._initializationPromise,null!==(y=C.currentUser)&&void 0!==y&&y.isAnonymous)return new Xs({user:C.currentUser,providerId:null,operationType:"signIn"});const k=yield Ku(C,{returnSecureToken:!0}),z=yield Xs._fromIdTokenResponse(C,"signIn",k,!0);return yield C._updateCurrentUser(z.user),z})).apply(this,arguments)}class Ju extends Ve.ZR{constructor(y,C,k,z){var q;super(C.code,C.message),this.operationType=k,this.user=z,Object.setPrototypeOf(this,Ju.prototype),this.customData={appName:y.name,tenantId:null!==(q=y.tenantId)&&void 0!==q?q:void 0,_serverResponse:C.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(y,C,k,z){return new Ju(y,C,k,z)}}function u_(S,y,C,k){return("reauthenticate"===y?C._getReauthenticationResolver(S):C._getIdTokenResponse(S)).catch(q=>{throw"auth/multi-factor-auth-required"===q.code?Ju._fromErrorAndOperation(S,q,y,k):q})}function Wf(S){return new Set(S.map(({providerId:y})=>y).filter(y=>!!y))}function sw(S,y){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,ie.Z)(function*(S,y){const C=(0,Ve.m9)(S);yield eh(!0,C,y);const{providerUserInfo:k}=yield function Tn(S,y){return mi.apply(this,arguments)}(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[y]}),z=Wf(k||[]);return C.providerData=C.providerData.filter(q=>z.has(q.providerId)),z.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C}),Gf.apply(this,arguments)}function Ac(S,y){return $f.apply(this,arguments)}function $f(){return($f=(0,ie.Z)(function*(S,y,C=!1){const k=yield Ti(S,y._linkToIdToken(S.auth,yield S.getIdToken()),C);return Xs._forOperation(S,"link",k)})).apply(this,arguments)}function eh(S,y,C){return h_.apply(this,arguments)}function h_(){return(h_=(0,ie.Z)(function*(S,y,C){yield Er(y);const z=!1===S?"provider-already-linked":"no-such-provider";st(Wf(y.providerData).has(C)===S,y.auth,z)})).apply(this,arguments)}function f_(S,y){return p_.apply(this,arguments)}function p_(){return(p_=(0,ie.Z)(function*(S,y,C=!1){const{auth:k}=S,z="reauthenticate";try{const q=yield Ti(S,u_(k,z,y,S),C);st(q.idToken,k,"internal-error");const ye=ti(q.idToken);st(ye,k,"internal-error");const{sub:Pe}=ye;return st(S.uid===Pe,k,"user-mismatch"),Xs._forOperation(S,z,q)}catch(q){throw"auth/user-not-found"===q?.code&&Me(k,"user-mismatch"),q}})).apply(this,arguments)}function ow(S,y){return go.apply(this,arguments)}function go(){return(go=(0,ie.Z)(function*(S,y,C=!1){const k="signIn",z=yield u_(S,k,y),q=yield Xs._fromIdTokenResponse(S,k,z);return C||(yield S._updateCurrentUser(q.user)),q})).apply(this,arguments)}function Yf(S,y){return qf.apply(this,arguments)}function qf(){return(qf=(0,ie.Z)(function*(S,y){return ow(E(S),y)})).apply(this,arguments)}function aw(S,y){return g_.apply(this,arguments)}function g_(){return(g_=(0,ie.Z)(function*(S,y){const C=(0,Ve.m9)(S);return yield eh(!1,C,y.providerId),Ac(C,y)})).apply(this,arguments)}function lw(S,y){return m_.apply(this,arguments)}function m_(){return(m_=(0,ie.Z)(function*(S,y){return f_((0,Ve.m9)(S),y)})).apply(this,arguments)}function __(){return(__=(0,ie.Z)(function*(S,y){return Ge(S,"POST","/v1/accounts:signInWithCustomToken",Ae(S,y))})).apply(this,arguments)}function jT(S,y){return v_.apply(this,arguments)}function v_(){return v_=(0,ie.Z)(function*(S,y){const C=E(S),k=yield function cw(S,y){return __.apply(this,arguments)}(C,{token:y,returnSecureToken:!0}),z=yield Xs._fromIdTokenResponse(C,"signIn",k);return yield C._updateCurrentUser(z.user),z}),v_.apply(this,arguments)}class Ot{constructor(y,C){this.factorId=y,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(y,C){return"phoneInfo"in C?y_._fromServerResponse(y,C):"totpInfo"in C?b_._fromServerResponse(y,C):Me(y,"internal-error")}}class y_ extends Ot{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,C){return new y_(C)}}class b_ extends Ot{constructor(y){super("totp",y)}static _fromServerResponse(y,C){return new b_(C)}}function Xf(S,y,C){var k;st((null===(k=C.url)||void 0===k?void 0:k.length)>0,S,"invalid-continue-uri"),st(typeof C.dynamicLinkDomain>"u"||C.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),y.continueUrl=C.url,y.dynamicLinkDomain=C.dynamicLinkDomain,y.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(st(C.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),y.iOSBundleId=C.iOS.bundleId),C.android&&(st(C.android.packageName.length>0,S,"missing-android-pkg-name"),y.androidInstallApp=C.android.installApp,y.androidMinimumVersionCode=C.android.minimumVersion,y.androidPackageName=C.android.packageName)}function At(S){return w_.apply(this,arguments)}function w_(){return(w_=(0,ie.Z)(function*(S){const y=E(S);y._getPasswordPolicyInternal()&&(yield y._updatePasswordPolicy())})).apply(this,arguments)}function dw(S,y,C){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,ie.Z)(function*(S,y,C){const k=E(S),z={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};C&&Xf(k,z,C),yield P(k,z,"getOobCode",GL)})).apply(this,arguments)}function Jr(S,y,C){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,ie.Z)(function*(S,y,C){yield Sn((0,Ve.m9)(S),{oobCode:y,newPassword:C}).catch(function(){var k=(0,ie.Z)(function*(z){throw"auth/password-does-not-meet-requirements"===z.code&&At(S),z});return function(z){return k.apply(this,arguments)}}())}),Xn.apply(this,arguments)}function ls(S,y){return cs.apply(this,arguments)}function cs(){return cs=(0,ie.Z)(function*(S,y){yield function zi(S,y){return ws.apply(this,arguments)}((0,Ve.m9)(S),{oobCode:y})}),cs.apply(this,arguments)}function kc(S,y){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,ie.Z)(function*(S,y){const C=(0,Ve.m9)(S),k=yield Sn(C,{oobCode:y}),z=k.requestType;switch(st(z,C,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":st(k.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":st(k.mfaInfo,C,"internal-error");default:st(k.email,C,"internal-error")}let q=null;return k.mfaInfo&&(q=Ot._fromServerResponse(E(C),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:q},operation:z}})).apply(this,arguments)}function uw(S,y){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,ie.Z)(function*(S,y){const{data:C}=yield kc((0,Ve.m9)(S),y);return C.email})).apply(this,arguments)}function Kf(S,y,C){return x_.apply(this,arguments)}function x_(){return(x_=(0,ie.Z)(function*(S,y,C){const k=E(S),ye=yield P(k,{returnSecureToken:!0,email:y,password:C,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ku).catch(et=>{throw"auth/password-does-not-meet-requirements"===et.code&&At(S),et}),Pe=yield Xs._fromIdTokenResponse(k,"signIn",ye);return yield k._updateCurrentUser(Pe.user),Pe})).apply(this,arguments)}function WT(S,y,C){return Yf((0,Ve.m9)(S),We.credential(y,C)).catch(function(){var k=(0,ie.Z)(function*(z){throw"auth/password-does-not-meet-requirements"===z.code&&At(S),z});return function(z){return k.apply(this,arguments)}}())}function mr(S,y,C){return It.apply(this,arguments)}function It(){return(It=(0,ie.Z)(function*(S,y,C){const k=E(S),z={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};(function q(ye,Pe){st(Pe.handleCodeInApp,k,"argument-error"),Pe&&Xf(k,ye,Pe)})(z,C),yield P(k,z,"getOobCode",$L)})).apply(this,arguments)}function gn(S,y){const C=ue.parseLink(y);return"EMAIL_SIGNIN"===C?.operation}function Xi(S,y,C){return mo.apply(this,arguments)}function mo(){return(mo=(0,ie.Z)(function*(S,y,C){const k=(0,Ve.m9)(S),z=We.credentialWithLink(y,C||Vi());return st(z._tenantId===(k.tenantId||null),k,"tenant-id-mismatch"),Yf(k,z)})).apply(this,arguments)}function es(){return(es=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:createAuthUri",Ae(S,y))})).apply(this,arguments)}function xd(S,y){return lr.apply(this,arguments)}function lr(){return lr=(0,ie.Z)(function*(S,y){const k={identifier:y,continueUri:un()?Vi():"http://localhost"},{signinMethods:z}=yield function th(S,y){return es.apply(this,arguments)}((0,Ve.m9)(S),k);return z||[]}),lr.apply(this,arguments)}function Bl(S,y){return zl.apply(this,arguments)}function zl(){return zl=(0,ie.Z)(function*(S,y){const C=(0,Ve.m9)(S),z={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};y&&Xf(C.auth,z,y);const{email:q}=yield function hi(S,y){return Ec.apply(this,arguments)}(C.auth,z);q!==S.email&&(yield S.reload())}),zl.apply(this,arguments)}function dn(S,y,C){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,ie.Z)(function*(S,y,C){const k=(0,Ve.m9)(S),q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield S.getIdToken(),newEmail:y};C&&Xf(k.auth,q,C);const{email:ye}=yield function ze(S,y){return Zu.apply(this,arguments)}(k.auth,q);ye!==S.email&&(yield S.reload())}),Mc.apply(this,arguments)}function Hl(){return(Hl=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Tr(S,y){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,ie.Z)(function*(S,{displayName:y,photoURL:C}){if(void 0===y&&void 0===C)return;const k=(0,Ve.m9)(S),q={idToken:yield k.getIdToken(),displayName:y,photoUrl:C,returnSecureToken:!0},ye=yield Ti(k,function hw(S,y){return Hl.apply(this,arguments)}(k.auth,q));k.displayName=ye.displayName||null,k.photoURL=ye.photoUrl||null;const Pe=k.providerData.find(({providerId:et})=>"password"===et);Pe&&(Pe.displayName=k.displayName,Pe.photoURL=k.photoURL),yield k._updateTokensIfNecessary(ye)}),Rc.apply(this,arguments)}function Cd(S,y){return Ed((0,Ve.m9)(S),y,null)}function Pa(S,y){return Ed((0,Ve.m9)(S),null,y)}function Ed(S,y,C){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,ie.Z)(function*(S,y,C){const{auth:k}=S,q={idToken:yield S.getIdToken(),returnSecureToken:!0};y&&(q.email=y),C&&(q.password=C);const ye=yield Ti(S,wi(k,q));yield S._updateTokensIfNecessary(ye,!0)})).apply(this,arguments)}class Zs{constructor(y,C,k={}){this.isNewUser=y,this.providerId=C,this.profile=k}}class Dd extends Zs{constructor(y,C,k,z){super(y,C,k),this.username=z}}class nh extends Zs{constructor(y,C){super(y,"facebook.com",C)}}class Un extends Dd{constructor(y,C){super(y,"github.com",C,"string"==typeof C?.login?C?.login:null)}}class XL extends Zs{constructor(y,C){super(y,"google.com",C)}}class C_ extends Dd{constructor(y,C,k){super(y,"twitter.com",C,k)}}function fw(S){const{user:y,_tokenResponse:C}=S;return y.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function Ul(S){var y,C;if(!S)return null;const{providerId:k}=S,z=S.rawUserInfo?JSON.parse(S.rawUserInfo):{},q=S.isNewUser||"identitytoolkit#SignupNewUserResponse"===S.kind;if(!k&&S?.idToken){const ye=null===(C=null===(y=ti(S.idToken))||void 0===y?void 0:y.firebase)||void 0===C?void 0:C.sign_in_provider;if(ye)return new Zs(q,"anonymous"!==ye&&"custom"!==ye?ye:null)}if(!k)return null;switch(k){case"facebook.com":return new nh(q,z);case"github.com":return new Un(q,z);case"google.com":return new XL(q,z);case"twitter.com":return new C_(q,z,S.screenName||null);case"custom":case"anonymous":return new Zs(q,null);default:return new Zs(q,k,z)}}(C)}class ol{constructor(y,C,k){this.type=y,this.credential=C,this.user=k}static _fromIdtoken(y,C){return new ol("enroll",y,C)}static _fromMfaPendingCredential(y){return new ol("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var C,k;if(y?.multiFactorSession){if(null!==(C=y.multiFactorSession)&&void 0!==C&&C.pendingCredential)return ol._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(k=y.multiFactorSession)&&void 0!==k&&k.idToken)return ol._fromIdtoken(y.multiFactorSession.idToken)}return null}}class T_{constructor(y,C,k){this.session=y,this.hints=C,this.signInResolver=k}static _fromError(y,C){const k=E(y),z=C.customData._serverResponse,q=(z.mfaInfo||[]).map(Pe=>Ot._fromServerResponse(k,Pe));st(z.mfaPendingCredential,k,"internal-error");const ye=ol._fromMfaPendingCredential(z.mfaPendingCredential);return new T_(ye,q,function(){var Pe=(0,ie.Z)(function*(et){const Lt=yield et._process(k,ye);delete z.mfaInfo,delete z.mfaPendingCredential;const Xt=Object.assign(Object.assign({},z),{idToken:Lt.idToken,refreshToken:Lt.refreshToken});switch(C.operationType){case"signIn":const jn=yield Xs._fromIdTokenResponse(k,C.operationType,Xt);return yield k._updateCurrentUser(jn.user),jn;case"reauthenticate":return st(C.user,k,"internal-error"),Xs._forOperation(C.user,C.operationType,Xt);default:Me(k,"internal-error")}});return function(et){return Pe.apply(this,arguments)}}())}resolveSignIn(y){var C=this;return(0,ie.Z)(function*(){return C.signInResolver(y)})()}}function GT(S,y){var C;const k=(0,Ve.m9)(S),z=y;return st(y.customData.operationType,k,"argument-error"),st(null===(C=z.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,k,"argument-error"),T_._fromError(k,z)}class gw{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(k=>Ot._fromServerResponse(y.auth,k)))})}static _fromUser(y){return new gw(y)}getSession(){var y=this;return(0,ie.Z)(function*(){return ol._fromIdtoken(yield y.user.getIdToken(),y.user)})()}enroll(y,C){var k=this;return(0,ie.Z)(function*(){const z=y,q=yield k.getSession(),ye=yield Ti(k.user,z._process(k.user.auth,q,C));return yield k.user._updateTokensIfNecessary(ye),k.user.reload()})()}unenroll(y){var C=this;return(0,ie.Z)(function*(){const k="string"==typeof y?y:y.uid,z=yield C.user.getIdToken();try{const q=yield Ti(C.user,function e2(S,y){return Je(S,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(S,y))}(C.user.auth,{idToken:z,mfaEnrollmentId:k}));C.enrolledFactors=C.enrolledFactors.filter(({uid:ye})=>ye!==k),yield C.user._updateTokensIfNecessary(q),yield C.user.reload()}catch(q){throw q}})()}}const mw=new WeakMap;function t2(S){const y=(0,Ve.m9)(S);return mw.has(y)||mw.set(y,gw._fromUser(y)),mw.get(y)}const I_="__sak";class YT{constructor(y,C){this.storageRetriever=y,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(I_,"1"),this.storage.removeItem(I_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,C){return this.storage.setItem(y,JSON.stringify(C)),Promise.resolve()}_get(y){const C=this.storage.getItem(y);return Promise.resolve(C?JSON.parse(C):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const qT=(()=>{class S extends YT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,k)=>this.onStorageEvent(C,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function n2(){const S=(0,Ve.z$)();return Ct(S)||ve(S)}()&&function l(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=a(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const k of Object.keys(this.listeners)){const z=this.storage.getItem(k),q=this.localCache[k];z!==q&&C(k,q,z)}}onStorageEvent(C,k=!1){if(!C.key)return void this.forAllChangedKeys((Pe,et,Lt)=>{this.notifyListeners(Pe,Lt)});const z=C.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pe=this.storage.getItem(z);if(C.newValue!==Pe)null!==C.newValue?this.storage.setItem(z,C.newValue):this.storage.removeItem(z);else if(this.localCache[z]===C.newValue&&!k)return}const q=()=>{const Pe=this.storage.getItem(z);!k&&this.localCache[z]===Pe||this.notifyListeners(z,Pe)},ye=this.storage.getItem(z);!function L(){return(0,Ve.w1)()&&10===document.documentMode}()||ye===C.newValue||C.newValue===C.oldValue?q():setTimeout(q,10)}notifyListeners(C,k){this.localCache[C]=k;const z=this.listeners[C];if(z)for(const q of Array.from(z))q(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,k,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:k,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(k)}_removeListener(C,k){this.listeners[C]&&(this.listeners[C].delete(k),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,k){var z=()=>super._set,q=this;return(0,ie.Z)(function*(){yield z().call(q,C,k),q.localCache[C]=JSON.stringify(k)})()}_get(C){var k=()=>super._get,z=this;return(0,ie.Z)(function*(){const q=yield k().call(z,C);return z.localCache[C]=JSON.stringify(q),q})()}_remove(C){var k=()=>super._remove,z=this;return(0,ie.Z)(function*(){yield k().call(z,C),delete z.localCache[C]})()}}return S.type="LOCAL",S})(),Jf=(()=>{class S extends YT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,k){}_removeListener(C,k){}}return S.type="SESSION",S})();let a2=(()=>{class S{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const k=this.receivers.find(q=>q.isListeningto(C));if(k)return k;const z=new S(C);return this.receivers.push(z),z}isListeningto(C){return this.eventTarget===C}handleEvent(C){var k=this;return(0,ie.Z)(function*(){const z=C,{eventId:q,eventType:ye,data:Pe}=z.data,et=k.handlersMap[ye];if(!et?.size)return;z.ports[0].postMessage({status:"ack",eventId:q,eventType:ye});const Lt=Array.from(et).map(function(){var jn=(0,ie.Z)(function*(Vs){return Vs(z.origin,Pe)});return function(Vs){return jn.apply(this,arguments)}}()),Xt=yield function o2(S){return Promise.all(S.map(function(){var y=(0,ie.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(k){return{fulfilled:!1,reason:k}}});return function(C){return y.apply(this,arguments)}}()))}(Lt);z.ports[0].postMessage({status:"done",eventId:q,eventType:ye,response:Xt})})()}_subscribe(C,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(k)}_unsubscribe(C,k){this.handlersMap[C]&&k&&this.handlersMap[C].delete(k),(!k||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function ep(S="",y=10){let C="";for(let k=0;k<y;k++)C+=Math.floor(10*Math.random());return S+C}class Pc{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,C,k=50){var z=this;return(0,ie.Z)(function*(){const q=typeof MessageChannel<"u"?new MessageChannel:null;if(!q)throw new Error("connection_unavailable");let ye,Pe;return new Promise((et,Lt)=>{const Xt=ep("",20);q.port1.start();const jn=setTimeout(()=>{Lt(new Error("unsupported_event"))},k);Pe={messageChannel:q,onMessage(Vs){const oa=Vs;if(oa.data.eventId===Xt)switch(oa.data.status){case"ack":clearTimeout(jn),ye=setTimeout(()=>{Lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ye),et(oa.data.response);break;default:clearTimeout(jn),clearTimeout(ye),Lt(new Error("invalid_response"))}}},z.handlers.add(Pe),q.port1.addEventListener("message",Pe.onMessage),z.target.postMessage({eventType:y,eventId:Xt,data:C},[q.port2])}).finally(()=>{Pe&&z.removeMessageHandler(Pe)})})()}}function Pi(){return window}function _w(){return typeof Pi().WorkerGlobalScope<"u"&&"function"==typeof Pi().importScripts}function Id(){return(Id=(0,ie.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const S_="firebaseLocalStorageDb",rh="firebaseLocalStorage",tp="fbase_key";class Sd{constructor(y){this.request=y}toPromise(){return new Promise((y,C)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function Ad(S,y){return S.transaction([rh],y?"readwrite":"readonly").objectStore(rh)}function np(){const S=indexedDB.open(S_,1);return new Promise((y,C)=>{S.addEventListener("error",()=>{C(S.error)}),S.addEventListener("upgradeneeded",()=>{const k=S.result;try{k.createObjectStore(rh,{keyPath:tp})}catch(z){C(z)}}),S.addEventListener("success",(0,ie.Z)(function*(){const k=S.result;k.objectStoreNames.contains(rh)?y(k):(k.close(),yield function A_(){const S=indexedDB.deleteDatabase(S_);return new Sd(S).toPromise()}(),y(yield np()))}))})}function k_(S,y,C){return ip.apply(this,arguments)}function ip(){return(ip=(0,ie.Z)(function*(S,y,C){const k=Ad(S,!0).put({[tp]:y,value:C});return new Sd(k).toPromise()})).apply(this,arguments)}function Nc(){return(Nc=(0,ie.Z)(function*(S,y){const C=Ad(S,!1).get(y),k=yield new Sd(C).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function Fc(S,y){const C=Ad(S,!0).delete(y);return new Sd(C).toPromise()}const ZT=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,ie.Z)(function*(){return C.db||(C.db=yield np()),C.db})()}_withRetries(C){var k=this;return(0,ie.Z)(function*(){let z=0;for(;;)try{const q=yield k._openDb();return yield C(q)}catch(q){if(z++>3)throw q;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,ie.Z)(function*(){return _w()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,ie.Z)(function*(){C.receiver=a2._getInstance(function vw(){return _w()?self:null}()),C.receiver._subscribe("keyChanged",function(){var k=(0,ie.Z)(function*(z,q){return{keyProcessed:(yield C._poll()).includes(q.key)}});return function(z,q){return k.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var k=(0,ie.Z)(function*(z,q){return["keyChanged"]});return function(z,q){return k.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,ie.Z)(function*(){var k,z;if(C.activeServiceWorker=yield function us(){return Id.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new Pc(C.activeServiceWorker);const q=yield C.sender._send("ping",{},800);q&&null!==(k=q[0])&&void 0!==k&&k.fulfilled&&null!==(z=q[0])&&void 0!==z&&z.value.includes("keyChanged")&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var k=this;return(0,ie.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function Uo(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:C},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ie.Z)(function*(){try{if(!indexedDB)return!1;const C=yield np();return yield k_(C,I_,"1"),yield Fc(C,I_),!0}catch{}return!1})()}_withPendingWrite(C){var k=this;return(0,ie.Z)(function*(){k.pendingWrites++;try{yield C()}finally{k.pendingWrites--}})()}_set(C,k){var z=this;return(0,ie.Z)(function*(){return z._withPendingWrite((0,ie.Z)(function*(){return yield z._withRetries(q=>k_(q,C,k)),z.localCache[C]=k,z.notifyServiceWorker(C)}))})()}_get(C){var k=this;return(0,ie.Z)(function*(){const z=yield k._withRetries(q=>function rp(S,y){return Nc.apply(this,arguments)}(q,C));return k.localCache[C]=z,z})()}_remove(C){var k=this;return(0,ie.Z)(function*(){return k._withPendingWrite((0,ie.Z)(function*(){return yield k._withRetries(z=>Fc(z,C)),delete k.localCache[C],k.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,ie.Z)(function*(){const k=yield C._withRetries(ye=>{const Pe=Ad(ye,!1).getAll();return new Sd(Pe).toPromise()});if(!k)return[];if(0!==C.pendingWrites)return[];const z=[],q=new Set;for(const{fbase_key:ye,value:Pe}of k)q.add(ye),JSON.stringify(C.localCache[ye])!==JSON.stringify(Pe)&&(C.notifyListeners(ye,Pe),z.push(ye));for(const ye of Object.keys(C.localCache))C.localCache[ye]&&!q.has(ye)&&(C.notifyListeners(ye,null),z.push(ye));return z})()}notifyListeners(C,k){this.localCache[C]=k;const z=this.listeners[C];if(z)for(const q of Array.from(z))q(k)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,ie.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(k)}_removeListener(C,k){this.listeners[C]&&(this.listeners[C].delete(k),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})(),sp=1e12;class R_{constructor(y){this.auth=y,this.counter=sp,this._widgets=new Map}render(y,C){const k=this.counter;return this._widgets.set(k,new u2(y,this.auth.name,C||{})),this.counter++,k}reset(y){var C;const k=y||sp;null===(C=this._widgets.get(k))||void 0===C||C.delete(),this._widgets.delete(k)}getResponse(y){var C;return(null===(C=this._widgets.get(y||sp))||void 0===C?void 0:C.getResponse())||""}execute(y){var C=this;return(0,ie.Z)(function*(){var k;return null===(k=C._widgets.get(y||sp))||void 0===k||k.execute(),""})()}}class u2{constructor(y,C,k){this.params=k,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof y?document.getElementById(y):y;st(z,"argument-error",{appName:C}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function h2(S){const y=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<S;k++)y.push(C.charAt(Math.floor(62*Math.random())));return y.join("")}(50);const{callback:y,"expired-callback":C}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const O_=O("rcb"),xw=new gr(3e4,6e4);class JT{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=Pi().grecaptcha)||void 0===y||!y.render)}load(y,C=""){return st(function eI(S){return S.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(S)}(C),y,"argument-error"),this.shouldResolveImmediately(C)&&Mi(Pi().grecaptcha)?Promise.resolve(Pi().grecaptcha):new Promise((k,z)=>{const q=Pi().setTimeout(()=>{z(qt(y,"network-request-failed"))},xw.get());Pi()[O_]=()=>{Pi().clearTimeout(q),delete Pi()[O_];const Pe=Pi().grecaptcha;if(!Pe||!Mi(Pe))return void z(qt(y,"internal-error"));const et=Pe.render;Pe.render=(Lt,Xt)=>{const jn=et(Lt,Xt);return this.counter++,jn},this.hostLanguage=C,k(Pe)},R(`https://www.google.com/recaptcha/api.js??${(0,Ve.xO)({onload:O_,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(q),z(qt(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var C;return!(null===(C=Pi().grecaptcha)||void 0===C||!C.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class tI{load(y){return(0,ie.Z)(function*(){return new R_(y)})()}clearedOneInstance(){}}const P_="recaptcha",nI={theme:"light",type:"image"};class Ew{constructor(y,C,k=Object.assign({},nI)){this.parameters=k,this.type=P_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=E(y),this.isInvisible="invisible"===this.parameters.size,st(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof C?document.getElementById(C):C;st(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new tI:new JT,this.validateStartingState()}verify(){var y=this;return(0,ie.Z)(function*(){y.assertNotDestroyed();const C=yield y.render(),k=y.getAssertedRecaptcha();return k.getResponse(C)||new Promise(q=>{const ye=Pe=>{Pe&&(y.tokenChangeListeners.delete(ye),q(Pe))};y.tokenChangeListeners.add(ye),y.isInvisible&&k.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){st(!this.parameters.sitekey,this.auth,"argument-error"),st(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),st(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return C=>{if(this.tokenChangeListeners.forEach(k=>k(C)),"function"==typeof y)y(C);else if("string"==typeof y){const k=Pi()[y];"function"==typeof k&&k(C)}}}assertNotDestroyed(){st(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,ie.Z)(function*(){if(yield y.init(),!y.widgetId){let C=y.container;if(!y.isInvisible){const k=document.createElement("div");C.appendChild(k),C=k}y.widgetId=y.getAssertedRecaptcha().render(C,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,ie.Z)(function*(){st(un()&&!_w(),y.auth,"internal-error"),yield function iI(){let S=null;return new Promise(y=>{"complete"!==document.readyState?(S=()=>y(),window.addEventListener("load",S)):y()}).catch(y=>{throw S&&window.removeEventListener("load",S),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const C=yield function Oe(S){return Ke.apply(this,arguments)}(y.auth);st(C,y.auth,"internal-error"),y.parameters.sitekey=C})()}getAssertedRecaptcha(){return st(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dw{constructor(y,C){this.verificationId=y,this.onConfirmation=C}confirm(y){const C=Ic._fromVerification(this.verificationId,y);return this.onConfirmation(C)}}function rI(S,y,C){return An.apply(this,arguments)}function An(){return(An=(0,ie.Z)(function*(S,y,C){const k=E(S),z=yield sh(k,y,(0,Ve.m9)(C));return new Dw(z,q=>Yf(k,q))})).apply(this,arguments)}function Tw(S,y,C){return N_.apply(this,arguments)}function N_(){return(N_=(0,ie.Z)(function*(S,y,C){const k=(0,Ve.m9)(S);yield eh(!1,k,"phone");const z=yield sh(k.auth,y,(0,Ve.m9)(C));return new Dw(z,q=>aw(k,q))})).apply(this,arguments)}function sI(S,y,C){return op.apply(this,arguments)}function op(){return(op=(0,ie.Z)(function*(S,y,C){const k=(0,Ve.m9)(S),z=yield sh(k.auth,y,(0,Ve.m9)(C));return new Dw(z,q=>lw(k,q))})).apply(this,arguments)}function sh(S,y,C){return F_.apply(this,arguments)}function F_(){return F_=(0,ie.Z)(function*(S,y,C){var k;const z=yield C.verify();try{let q;if(st("string"==typeof z,S,"argument-error"),st(C.type===P_,S,"argument-error"),q="string"==typeof y?{phoneNumber:y}:y,"session"in q){const ye=q.session;if("phoneNumber"in q)return st("enroll"===ye.type,S,"internal-error"),(yield function KL(S,y){return Je(S,"POST","/v2/accounts/mfaEnrollment:start",Ae(S,y))}(S,{idToken:ye.credential,phoneEnrollmentInfo:{phoneNumber:q.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{st("signin"===ye.type,S,"internal-error");const Pe=(null===(k=q.multiFactorHint)||void 0===k?void 0:k.uid)||q.multiFactorUid;return st(Pe,S,"missing-multi-factor-info"),(yield function KT(S,y){return Je(S,"POST","/v2/accounts/mfaSignIn:start",Ae(S,y))}(S,{mfaPendingCredential:ye.credential,mfaEnrollmentId:Pe,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ye}=yield function qL(S,y){return Tc.apply(this,arguments)}(S,{phoneNumber:q.phoneNumber,recaptchaToken:z});return ye}}finally{C._reset()}}),F_.apply(this,arguments)}function L_(S,y){return V_.apply(this,arguments)}function V_(){return(V_=(0,ie.Z)(function*(S,y){yield Ac((0,Ve.m9)(S),y)})).apply(this,arguments)}let Na=(()=>{class S{constructor(C){this.providerId=S.PROVIDER_ID,this.auth=E(C)}verifyPhoneNumber(C,k){return sh(this.auth,C,(0,Ve.m9)(k))}static credential(C,k){return Ic._fromVerification(C,k)}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:k,temporaryProof:z}=C;return k&&z?Ic._fromTokenResponse(k,z):null}}return S.PROVIDER_ID="phone",S.PHONE_SIGN_IN_METHOD="phone",S})();function jl(S,y){return y?W(y):(st(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}class ap extends tn{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Nl(y,this._buildIdpRequest())}_linkToIdToken(y,C){return Nl(y,this._buildIdpRequest(C))}_getReauthenticationResolver(y){return Nl(y,this._buildIdpRequest())}_buildIdpRequest(y){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(C.idToken=y),C}}function Hi(S){return ow(S.auth,new ap(S),S.bypassAuthState)}function B_(S){const{auth:y,user:C}=S;return st(C,y,"internal-error"),f_(C,new ap(S),S.bypassAuthState)}function lp(S){return xs.apply(this,arguments)}function xs(){return(xs=(0,ie.Z)(function*(S){const{auth:y,user:C}=S;return st(C,y,"internal-error"),Ac(C,new ap(S),S.bypassAuthState)})).apply(this,arguments)}class Iw{constructor(y,C,k,z,q=!1){this.auth=y,this.resolver=k,this.user=z,this.bypassAuthState=q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var y=this;return new Promise(function(){var C=(0,ie.Z)(function*(k,z){y.pendingPromise={resolve:k,reject:z};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(q){y.reject(q)}});return function(k,z){return C.apply(this,arguments)}}())}onAuthEvent(y){var C=this;return(0,ie.Z)(function*(){const{urlResponse:k,sessionId:z,postBody:q,tenantId:ye,error:Pe,type:et}=y;if(Pe)return void C.reject(Pe);const Lt={auth:C.auth,requestUri:k,sessionId:z,tenantId:ye||void 0,postBody:q||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(et)(Lt))}catch(Xt){C.reject(Xt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Hi;case"linkViaPopup":case"linkViaRedirect":return lp;case"reauthViaPopup":case"reauthViaRedirect":return B_;default:Me(this.auth,"internal-error")}}resolve(y){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sw=new gr(2e3,1e4);function kd(S,y,C){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,ie.Z)(function*(S,y,C){const k=E(S);Yi(S,y,zo);const z=jl(k,C);return new cp(k,"signInViaPopup",y,z).executeNotNull()})).apply(this,arguments)}function oI(S,y,C){return z_.apply(this,arguments)}function z_(){return(z_=(0,ie.Z)(function*(S,y,C){const k=(0,Ve.m9)(S);Yi(k.auth,y,zo);const z=jl(k.auth,C);return new cp(k.auth,"reauthViaPopup",y,z,k).executeNotNull()})).apply(this,arguments)}function aI(S,y,C){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,ie.Z)(function*(S,y,C){const k=(0,Ve.m9)(S);Yi(k.auth,y,zo);const z=jl(k.auth,C);return new cp(k.auth,"linkViaPopup",y,z,k).executeNotNull()})).apply(this,arguments)}let cp=(()=>{class S extends Iw{constructor(C,k,z,q,ye){super(C,k,q,ye),this.provider=z,this.authWindow=null,this.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=this}executeNotNull(){var C=this;return(0,ie.Z)(function*(){const k=yield C.execute();return st(k,C.auth,"internal-error"),k})()}onExecution(){var C=this;return(0,ie.Z)(function*(){$n(1===C.filter.length,"Popup operations only handle one event");const k=ep();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],k),C.authWindow.associatedEvent=k,C.resolver._originValidation(C.auth).catch(z=>{C.reject(z)}),C.resolver._isIframeWebStorageSupported(C.auth,z=>{z||C.reject(qt(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}pollUserCancellation(){const C=()=>{var k,z;this.pollId=null!==(z=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(qt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(C,Sw.get())};C()}}return S.currentPopupAction=null,S})();const lI="pendingRedirect",Md=new Map;class Aw extends Iw{constructor(y,C,k=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,k),this.eventId=null}execute(){var y=()=>super.execute,C=this;return(0,ie.Z)(function*(){let k=Md.get(C.auth._key());if(!k){try{const q=(yield function kw(S,y){return H_.apply(this,arguments)}(C.resolver,C.auth))?yield y().call(C):null;k=()=>Promise.resolve(q)}catch(z){k=()=>Promise.reject(z)}Md.set(C.auth._key(),k)}return C.bypassAuthState||Md.set(C.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(y){var C=()=>super.onAuthEvent,k=this;return(0,ie.Z)(function*(){if("signInViaRedirect"===y.type)return C().call(k,y);if("unknown"!==y.type){if(y.eventId){const z=yield k.auth._redirectUserForId(y.eventId);if(z)return k.user=z,C().call(k,y);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,ie.Z)(function*(){})()}cleanUp(){}}function H_(){return(H_=(0,ie.Z)(function*(S,y){const C=Ow(y),k=Rw(S);if(!(yield k._isAvailable()))return!1;const z="true"===(yield k._get(C));return yield k._remove(C),z})).apply(this,arguments)}function sn(S,y){return dp.apply(this,arguments)}function dp(){return(dp=(0,ie.Z)(function*(S,y){return Rw(S)._set(Ow(y),"true")})).apply(this,arguments)}function f2(){Md.clear()}function Mw(S,y){Md.set(S._key(),y)}function Rw(S){return W(S._redirectPersistence)}function Ow(S){return Tt(lI,S.config.apiKey,S.name)}function Pw(S,y,C){return function Rd(S,y,C){return U_.apply(this,arguments)}(S,y,C)}function U_(){return(U_=(0,ie.Z)(function*(S,y,C){const k=E(S);Yi(S,y,zo),yield k._initializationPromise;const z=jl(k,C);return yield sn(z,k),z._openRedirect(k,y,"signInViaRedirect")})).apply(this,arguments)}function cI(S,y,C){return function dI(S,y,C){return j_.apply(this,arguments)}(S,y,C)}function j_(){return(j_=(0,ie.Z)(function*(S,y,C){const k=(0,Ve.m9)(S);Yi(k.auth,y,zo),yield k.auth._initializationPromise;const z=jl(k.auth,C);yield sn(z,k.auth);const q=yield Od(k);return z._openRedirect(k.auth,y,"reauthViaRedirect",q)})).apply(this,arguments)}function uI(S,y,C){return function tt(S,y,C){return Zn.apply(this,arguments)}(S,y,C)}function Zn(){return(Zn=(0,ie.Z)(function*(S,y,C){const k=(0,Ve.m9)(S);Yi(k.auth,y,zo),yield k.auth._initializationPromise;const z=jl(k.auth,C);yield eh(!1,k,y.providerId),yield sn(z,k.auth);const q=yield Od(k);return z._openRedirect(k.auth,y,"linkViaRedirect",q)})).apply(this,arguments)}function pt(S,y){return ft.apply(this,arguments)}function ft(){return(ft=(0,ie.Z)(function*(S,y){return yield E(S)._initializationPromise,Ur(S,y,!1)})).apply(this,arguments)}function Ur(S,y){return up.apply(this,arguments)}function up(){return(up=(0,ie.Z)(function*(S,y,C=!1){const k=E(S),z=jl(k,y),ye=yield new Aw(k,z,C).execute();return ye&&!C&&(delete ye.user._redirectEventId,yield k._persistUserIfCurrent(ye.user),yield k._setRedirectUser(null,y)),ye})).apply(this,arguments)}function Od(S){return jo.apply(this,arguments)}function jo(){return(jo=(0,ie.Z)(function*(S){const y=ep(`${S.uid}:::`);return S._redirectEventId=y,yield S.auth._setRedirectUser(S),yield S.auth._persistUserIfCurrent(S),y})).apply(this,arguments)}class hp{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let C=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(y,k)&&(C=!0,this.sendToConsumer(y,k),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Fw(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hI(S);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=y,C=!0)),C}sendToConsumer(y,C){var k;if(y.error&&!hI(y)){const z=(null===(k=y.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";C.onError(qt(this.auth,z))}else C.onAuthEvent(y)}isEventForConsumer(y,C){const k=null===C.eventId||!!y.eventId&&y.eventId===C.eventId;return C.filter.includes(y.type)&&k}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nw(y))}saveEventToCache(y){this.cachedEventUids.add(Nw(y)),this.lastProcessedEventTime=Date.now()}}function Nw(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(y=>y).join("-")}function hI({type:S,error:y}){return"unknown"===S&&"auth/no-auth-event"===y?.code}function Cs(S){return sa.apply(this,arguments)}function sa(){return(sa=(0,ie.Z)(function*(S,y={}){return Je(S,"GET","/v1/projects",y)})).apply(this,arguments)}const Lw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pd=/^https?/;function G_(){return(G_=(0,ie.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:y}=yield Cs(S);for(const C of y)try{if(Vw(C))return}catch{}Me(S,"unauthorized-domain")})).apply(this,arguments)}function Vw(S){const y=Vi(),{protocol:C,hostname:k}=new URL(y);if(S.startsWith("chrome-extension://")){const ye=new URL(S);return""===ye.hostname&&""===k?"chrome-extension:"===C&&S.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===C&&ye.hostname===k}if(!Pd.test(C))return!1;if(Lw.test(S))return k===S;const z=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(k)}const fI=new gr(3e4,6e4);function Bw(){const S=Pi().___jsl;if(S?.H)for(const y of Object.keys(S.H))if(S.H[y].r=S.H[y].r||[],S.H[y].L=S.H[y].L||[],S.H[y].r=[...S.H[y].L],S.CP)for(let C=0;C<S.CP.length;C++)S.CP[C]=null}let Nd=null;const Y_=new gr(5e3,15e3),pI="__/auth/iframe",Hw="emulator/auth/iframe",q_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jw(S){const y=S.config;st(y.authDomain,S,"auth-domain-config-required");const C=y.emulator?zr(y,Hw):`https://${S.config.authDomain}/${pI}`,k={apiKey:y.apiKey,appName:S.name,v:oe.SDK_VERSION},z=Uw.get(S.config.apiHost);z&&(k.eid=z);const q=S._getFrameworks();return q.length&&(k.fw=q.join(",")),`${C}?${(0,Ve.xO)(k).slice(1)}`}function fp(){return fp=(0,ie.Z)(function*(S){const y=yield function zw(S){return Nd=Nd||function $_(S){return new Promise((y,C)=>{var k,z,q;function ye(){Bw(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Bw(),C(qt(S,"network-request-failed"))},timeout:fI.get()})}if(null!==(z=null===(k=Pi().gapi)||void 0===k?void 0:k.iframes)&&void 0!==z&&z.Iframe)y(gapi.iframes.getContext());else{if(null===(q=Pi().gapi)||void 0===q||!q.load){const Pe=O("iframefcb");return Pi()[Pe]=()=>{gapi.load?ye():C(qt(S,"network-request-failed"))},R(`https://apis.google.com/js/api.js?onload=${Pe}`).catch(et=>C(et))}ye()}}).catch(y=>{throw Nd=null,y})}(S),Nd}(S),C=Pi().gapi;return st(C,S,"internal-error"),y.open({where:document.body,url:jw(S),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q_,dontclear:!0},k=>new Promise(function(){var z=(0,ie.Z)(function*(q,ye){yield k.restyle({setHideOnLeave:!1});const Pe=qt(S,"network-request-failed"),et=Pi().setTimeout(()=>{ye(Pe)},Y_.get());function Lt(){Pi().clearTimeout(et),q(k)}k.ping(Lt).then(Lt,()=>{ye(Pe)})});return function(q,ye){return z.apply(this,arguments)}}()))}),fp.apply(this,arguments)}const X_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zi{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pp="__/auth/handler",vI="emulator/auth/handler",Gw=encodeURIComponent("fac");function gp(S,y,C,k,z,q){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,ie.Z)(function*(S,y,C,k,z,q){st(S.config.authDomain,S,"auth-domain-config-required"),st(S.config.apiKey,S,"invalid-api-key");const ye={apiKey:S.config.apiKey,appName:S.name,authType:C,redirectUrl:k,v:oe.SDK_VERSION,eventId:z};if(y instanceof zo){y.setDefaultLanguage(S.languageCode),ye.providerId=y.providerId||"",(0,Ve.xb)(y.getCustomParameters())||(ye.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Xt,jn]of Object.entries(q||{}))ye[Xt]=jn}if(y instanceof Vl){const Xt=y.getScopes().filter(jn=>""!==jn);Xt.length>0&&(ye.scopes=Xt.join(","))}S.tenantId&&(ye.tid=S.tenantId);const Pe=ye;for(const Xt of Object.keys(Pe))void 0===Pe[Xt]&&delete Pe[Xt];const et=yield S._getAppCheckToken(),Lt=et?`#${Gw}=${encodeURIComponent(et)}`:"";return`${function Wl({config:S}){return S.emulator?zr(S,vI):`https://${S.authDomain}/${pp}`}(S)}?${(0,Ve.xO)(Pe).slice(1)}${Lt}`})).apply(this,arguments)}const Z_="webStorageSupport",oh=class mp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jf,this._completeRedirectFn=Ur,this._overrideRedirectResult=Mw}_openPopup(y,C,k,z){var q=this;return(0,ie.Z)(function*(){var ye;$n(null===(ye=q.eventManagers[y._key()])||void 0===ye?void 0:ye.manager,"_initialize() not called before _openPopup()");const Pe=yield gp(y,C,k,Vi(),z);return function Vc(S,y,C,k=500,z=600){const q=Math.max((window.screen.availHeight-z)/2,0).toString(),ye=Math.max((window.screen.availWidth-k)/2,0).toString();let Pe="";const et=Object.assign(Object.assign({},X_),{width:k.toString(),height:z.toString(),top:q,left:ye}),Lt=(0,Ve.z$)().toLowerCase();C&&(Pe=_i(Lt)?"_blank":C),ii(Lt)&&(y=y||"http://localhost",et.scrollbars="yes");const Xt=Object.entries(et).reduce((Vs,[oa,Ld])=>`${Vs}${oa}=${Ld},`,"");if(function Wt(S=(0,Ve.z$)()){var y;return ve(S)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(Lt)&&"_self"!==Pe)return function _I(S,y){const C=document.createElement("a");C.href=S,C.target=y;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(k)}(y||"",Pe),new Zi(null);const jn=window.open(y||"",Pe,Xt);st(jn,S,"popup-blocked");try{jn.focus()}catch{}return new Zi(jn)}(y,Pe,ep())})()}_openRedirect(y,C,k,z){var q=this;return(0,ie.Z)(function*(){return yield q._originValidation(y),function l2(S){Pi().location.href=S}(yield gp(y,C,k,Vi(),z)),new Promise(()=>{})})()}_initialize(y){const C=y._key();if(this.eventManagers[C]){const{manager:z,promise:q}=this.eventManagers[C];return z?Promise.resolve(z):($n(q,"If manager is not set, promise should be"),q)}const k=this.initAndGetManager(y);return this.eventManagers[C]={promise:k},k.catch(()=>{delete this.eventManagers[C]}),k}initAndGetManager(y){var C=this;return(0,ie.Z)(function*(){const k=yield function Ww(S){return fp.apply(this,arguments)}(y),z=new hp(y);return k.register("authEvent",q=>(st(q?.authEvent,y,"invalid-auth-event"),{status:z.onEvent(q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[y._key()]={manager:z},C.iframes[y._key()]=k,z})()}_isIframeWebStorageSupported(y,C){this.iframes[y._key()].send(Z_,{type:Z_},z=>{var q;const ye=null===(q=z?.[0])||void 0===q?void 0:q[Z_];void 0!==ye&&C(!!ye),Me(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const C=y._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function al(S){return G_.apply(this,arguments)}(y)),this.originValidationPromises[C]}get _shouldInitProactively(){return a()||Ct()||ve()}};class _p{constructor(y){this.factorId=y}_process(y,C,k){switch(C.type){case"enroll":return this._finalizeEnroll(y,C.credential,k);case"signin":return this._finalizeSignIn(y,C.credential);default:return Rn("unexpected MultiFactorSessionType")}}}class ah extends _p{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new ah(y)}_finalizeEnroll(y,C,k){return function $T(S,y){return Je(S,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(S,y))}(y,{idToken:C,displayName:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,C){return function QT(S,y){return Je(S,"POST","/v2/accounts/mfaSignIn:finalize",Ae(S,y))}(y,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $w=(()=>{class S{constructor(){}static assertion(C){return ah._fromCredential(C)}}return S.FACTOR_ID="phone",S})();var Yw="@firebase/auth";class Q_{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var C=this;return(0,ie.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const C=this.auth.onIdTokenChanged(k=>{y(k?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,C),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const C=this.internalListeners.get(y);C&&(this.internalListeners.delete(y),C(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Ve.Pz)("authIdTokenMaxAge"),function wI(S){(0,oe._registerComponent)(new Ei.wA("auth",(y,{options:C})=>{const k=y.getProvider("app").getImmediate(),z=y.getProvider("heartbeat"),q=y.getProvider("app-check-internal"),{apiKey:ye,authDomain:Pe}=k.options;st(ye&&!ye.includes(":"),"invalid-api-key",{appName:k.name});const et={apiKey:ye,authDomain:Pe,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d(S)},Lt=new x(k,z,q,et);return function me(S,y){const C=y?.persistence||[],k=(Array.isArray(C)?C:[C]).map(W);y?.errorMap&&S._updateErrorMap(y.errorMap),S._initializeWithPersistence(k,y?.popupRedirectResolver)}(Lt,C),Lt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,C,k)=>{y.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new Ei.wA("auth-internal",y=>{const C=E(y.getProvider("auth").getImmediate());return new Q_(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(Yw,"1.3.2",function p2(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,oe.registerVersion)(Yw,"1.3.2","esm2017")}("Browser")},963:(Kr,ji,Yt)=>{Yt.d(ji,{BH:()=>Cr,DV:()=>we,Dv:()=>Yn,G6:()=>zr,GJ:()=>Mi,L:()=>vn,LL:()=>je,Pz:()=>qt,Sg:()=>Yi,UG:()=>Rn,UI:()=>Ke,US:()=>Ei,Wj:()=>Ti,Wl:()=>Bt,Yr:()=>gr,ZB:()=>Rt,ZR:()=>Je,aH:()=>Me,b$:()=>un,cI:()=>Ge,dS:()=>uo,eu:()=>Ne,g5:()=>oe,gK:()=>ti,gQ:()=>Bi,h$:()=>Ln,hl:()=>ke,hu:()=>Ve,jU:()=>$n,lb:()=>Ri,m9:()=>fo,ne:()=>qi,p$:()=>rt,pd:()=>mi,r3:()=>Ce,ru:()=>Vi,tV:()=>Xe,uI:()=>st,ug:()=>bs,vZ:()=>mt,w1:()=>os,w9:()=>pi,xO:()=>Fn,xb:()=>Oe,z$:()=>ln,zd:()=>Tn});const ie={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Ve=function(pe,ce){if(!pe)throw oe(ce)},oe=function(pe){return new Error("Firebase Database ("+ie.SDK_VERSION+") INTERNAL ASSERT FAILED: "+pe)},yt=function(pe){const ce=[];let $=0;for(let K=0;K<pe.length;K++){let W=pe.charCodeAt(K);W<128?ce[$++]=W:W<2048?(ce[$++]=W>>6|192,ce[$++]=63&W|128):55296==(64512&W)&&K+1<pe.length&&56320==(64512&pe.charCodeAt(K+1))?(W=65536+((1023&W)<<10)+(1023&pe.charCodeAt(++K)),ce[$++]=W>>18|240,ce[$++]=W>>12&63|128,ce[$++]=W>>6&63|128,ce[$++]=63&W|128):(ce[$++]=W>>12|224,ce[$++]=W>>6&63|128,ce[$++]=63&W|128)}return ce},Ei={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(pe,ce){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let W=0;W<pe.length;W+=3){const de=pe[W],Be=W+1<pe.length,Tt=Be?pe[W+1]:0,vt=W+2<pe.length,en=vt?pe[W+2]:0;let _i=(15&Tt)<<2|en>>6,Gt=63&en;vt||(Gt=64,Be||(_i=64)),K.push($[de>>2],$[(3&de)<<4|Tt>>4],$[_i],$[Gt])}return K.join("")},encodeString(pe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(pe):this.encodeByteArray(yt(pe),ce)},decodeString(pe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(pe):function(pe){const ce=[];let $=0,K=0;for(;$<pe.length;){const W=pe[$++];if(W<128)ce[K++]=String.fromCharCode(W);else if(W>191&&W<224){const de=pe[$++];ce[K++]=String.fromCharCode((31&W)<<6|63&de)}else if(W>239&&W<365){const vt=((7&W)<<18|(63&pe[$++])<<12|(63&pe[$++])<<6|63&pe[$++])-65536;ce[K++]=String.fromCharCode(55296+(vt>>10)),ce[K++]=String.fromCharCode(56320+(1023&vt))}else{const de=pe[$++],Be=pe[$++];ce[K++]=String.fromCharCode((15&W)<<12|(63&de)<<6|63&Be)}}return ce.join("")}(this.decodeStringToByteArray(pe,ce))},decodeStringToByteArray(pe,ce){this.init_();const $=ce?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let W=0;W<pe.length;){const de=$[pe.charAt(W++)],Tt=W<pe.length?$[pe.charAt(W)]:0;++W;const en=W<pe.length?$[pe.charAt(W)]:64;++W;const Ct=W<pe.length?$[pe.charAt(W)]:64;if(++W,null==de||null==Tt||null==en||null==Ct)throw new dt;K.push(de<<2|Tt>>4),64!==en&&(K.push(Tt<<4&240|en>>2),64!==Ct&&K.push(en<<6&192|Ct))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}};class dt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ln=function(pe){const ce=yt(pe);return Ei.encodeByteArray(ce,!0)},vn=function(pe){return Ln(pe).replace(/\./g,"")},Xe=function(pe){try{return Ei.decodeString(pe,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function rt(pe){return Rt(void 0,pe)}function Rt(pe,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===pe&&(pe={});break;case Array:pe=[];break;default:return ce}for(const $ in ce)!ce.hasOwnProperty($)||!rn($)||(pe[$]=Rt(pe[$],ce[$]));return pe}function rn(pe){return"__proto__"!==pe}const he=()=>{try{return function Vn(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const pe=process.env.__FIREBASE_DEFAULTS__;return pe?JSON.parse(pe):void 0})()||(()=>{if(typeof document>"u")return;let pe;try{pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=pe&&Xe(pe[1]);return ce&&JSON.parse(ce)})()}catch(pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${pe}`)}},Me=()=>{var pe;return null===(pe=he())||void 0===pe?void 0:pe.config},qt=pe=>{var ce;return null===(ce=he())||void 0===ce?void 0:ce[`_${pe}`]};class Cr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,$)=>{this.resolve=ce,this.reject=$})}wrapCallback(ce){return($,K)=>{$?this.reject($):this.resolve(K),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce($):ce($,K))}}}function Yi(pe,ce){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=ce||"demo-project",W=pe.iat||0,de=pe.sub||pe.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:W,exp:W+3600,auth_time:W,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[vn(JSON.stringify({alg:"none",type:"JWT"})),vn(JSON.stringify(Be)),""].join(".")}function ln(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function st(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function Rn(){var pe;const ce=null===(pe=he())||void 0===pe?void 0:pe.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $n(){return"object"==typeof self&&self.self===self}function Vi(){const pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function un(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function os(){const pe=ln();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function gr(){return!0===ie.NODE_CLIENT||!0===ie.NODE_ADMIN}function zr(){return!Rn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((pe,ce)=>{try{let $=!0;const K="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(K);W.onsuccess=()=>{W.result.close(),$||self.indexedDB.deleteDatabase(K),pe(!0)},W.onupgradeneeded=()=>{$=!1},W.onerror=()=>{var de;ce((null===(de=W.error)||void 0===de?void 0:de.message)||"")}}catch($){ce($)}})}class Je extends Error{constructor(ce,$,K){super($),this.code=ce,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,je.prototype.create)}}class je{constructor(ce,$,K){this.service=ce,this.serviceName=$,this.errors=K}create(ce,...$){const K=$[0]||{},W=`${this.service}/${ce}`,de=this.errors[ce],Be=de?function ot(pe,ce){return pe.replace(hn,($,K)=>{const W=ce[K];return null!=W?String(W):`<${K}?>`})}(de,K):"Error";return new Je(W,`${this.serviceName}: ${Be} (${W}).`,K)}}const hn=/\{\$([^}]+)}/g;function Ge(pe){return JSON.parse(pe)}function Bt(pe){return JSON.stringify(pe)}const bn=function(pe){let ce={},$={},K={},W="";try{const de=pe.split(".");ce=Ge(Xe(de[0])||""),$=Ge(Xe(de[1])||""),W=de[2],K=$.d||{},delete $.d}catch{}return{header:ce,claims:$,data:K,signature:W}},pi=function(pe){const $=bn(pe).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},Mi=function(pe){const ce=bn(pe).claims;return"object"==typeof ce&&!0===ce.admin};function Ce(pe,ce){return Object.prototype.hasOwnProperty.call(pe,ce)}function we(pe,ce){if(Object.prototype.hasOwnProperty.call(pe,ce))return pe[ce]}function Oe(pe){for(const ce in pe)if(Object.prototype.hasOwnProperty.call(pe,ce))return!1;return!0}function Ke(pe,ce,$){const K={};for(const W in pe)Object.prototype.hasOwnProperty.call(pe,W)&&(K[W]=ce.call($,pe[W],W,pe));return K}function mt(pe,ce){if(pe===ce)return!0;const $=Object.keys(pe),K=Object.keys(ce);for(const W of $){if(!K.includes(W))return!1;const de=pe[W],Be=ce[W];if(nt(de)&&nt(Be)){if(!mt(de,Be))return!1}else if(de!==Be)return!1}for(const W of K)if(!$.includes(W))return!1;return!0}function nt(pe){return null!==pe&&"object"==typeof pe}function Fn(pe){const ce=[];for(const[$,K]of Object.entries(pe))Array.isArray(K)?K.forEach(W=>{ce.push(encodeURIComponent($)+"="+encodeURIComponent(W))}):ce.push(encodeURIComponent($)+"="+encodeURIComponent(K));return ce.length?"&"+ce.join("&"):""}function Tn(pe){const ce={};return pe.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[W,de]=K.split("=");ce[decodeURIComponent(W)]=decodeURIComponent(de)}}),ce}function mi(pe){const ce=pe.indexOf("?");if(!ce)return"";const $=pe.indexOf("#",ce);return pe.substring(ce,$>0?$:void 0)}class Bi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ce=1;ce<this.blockSize;++ce)this.pad_[ce]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ce,$){$||($=0);const K=this.W_;if("string"==typeof ce)for(let Ct=0;Ct<16;Ct++)K[Ct]=ce.charCodeAt($)<<24|ce.charCodeAt($+1)<<16|ce.charCodeAt($+2)<<8|ce.charCodeAt($+3),$+=4;else for(let Ct=0;Ct<16;Ct++)K[Ct]=ce[$]<<24|ce[$+1]<<16|ce[$+2]<<8|ce[$+3],$+=4;for(let Ct=16;Ct<80;Ct++){const _i=K[Ct-3]^K[Ct-8]^K[Ct-14]^K[Ct-16];K[Ct]=4294967295&(_i<<1|_i>>>31)}let en,ii,W=this.chain_[0],de=this.chain_[1],Be=this.chain_[2],Tt=this.chain_[3],vt=this.chain_[4];for(let Ct=0;Ct<80;Ct++){Ct<40?Ct<20?(en=Tt^de&(Be^Tt),ii=1518500249):(en=de^Be^Tt,ii=1859775393):Ct<60?(en=de&Be|Tt&(de|Be),ii=2400959708):(en=de^Be^Tt,ii=3395469782);const _i=(W<<5|W>>>27)+en+vt+ii+K[Ct]&4294967295;vt=Tt,Tt=Be,Be=4294967295&(de<<30|de>>>2),de=W,W=_i}this.chain_[0]=this.chain_[0]+W&4294967295,this.chain_[1]=this.chain_[1]+de&4294967295,this.chain_[2]=this.chain_[2]+Be&4294967295,this.chain_[3]=this.chain_[3]+Tt&4294967295,this.chain_[4]=this.chain_[4]+vt&4294967295}update(ce,$){if(null==ce)return;void 0===$&&($=ce.length);const K=$-this.blockSize;let W=0;const de=this.buf_;let Be=this.inbuf_;for(;W<$;){if(0===Be)for(;W<=K;)this.compress_(ce,W),W+=this.blockSize;if("string"==typeof ce){for(;W<$;)if(de[Be]=ce.charCodeAt(W),++Be,++W,Be===this.blockSize){this.compress_(de),Be=0;break}}else for(;W<$;)if(de[Be]=ce[W],++Be,++W,Be===this.blockSize){this.compress_(de),Be=0;break}}this.inbuf_=Be,this.total_+=$}digest(){const ce=[];let $=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let W=this.blockSize-1;W>=56;W--)this.buf_[W]=255&$,$/=256;this.compress_(this.buf_);let K=0;for(let W=0;W<5;W++)for(let de=24;de>=0;de-=8)ce[K]=this.chain_[W]>>de&255,++K;return ce}}function qi(pe,ce){const $=new Mr(pe,ce);return $.subscribe.bind($)}class Mr{constructor(ce,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{ce(this)}).catch(K=>{this.error(K)})}next(ce){this.forEachObserver($=>{$.next(ce)})}error(ce){this.forEachObserver($=>{$.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,$,K){let W;if(void 0===ce&&void 0===$&&void 0===K)throw new Error("Missing Observer.");W=function oi(pe,ce){if("object"!=typeof pe||null===pe)return!1;for(const $ of ce)if($ in pe&&"function"==typeof pe[$])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:$,complete:K},void 0===W.next&&(W.next=In),void 0===W.error&&(W.error=In),void 0===W.complete&&(W.complete=In);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),de}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,ce)}sendOne(ce,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{$(this.observers[ce])}catch(K){typeof console<"u"&&console.error&&console.error(K)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function In(){}const Yn=function(pe,ce,$,K){let W;if(K<ce?W="at least "+ce:K>$&&(W=0===$?"none":"no more than "+$),W)throw new Error(pe+" failed: Was called with "+K+(1===K?" argument.":" arguments.")+" Expects "+W+".")};function ti(pe,ce){return`${pe} failed: ${ce} argument `}function Ti(pe,ce,$,K){if((!K||$)&&"function"!=typeof $)throw new Error(ti(pe,ce)+"must be a valid function.")}function Ri(pe,ce,$,K){if((!K||$)&&("object"!=typeof $||null===$))throw new Error(ti(pe,ce)+"must be a valid context object.")}const uo=function(pe){const ce=[];let $=0;for(let K=0;K<pe.length;K++){let W=pe.charCodeAt(K);if(W>=55296&&W<=56319){const de=W-55296;K++,Ve(K<pe.length,"Surrogate pair missing trail surrogate."),W=65536+(de<<10)+(pe.charCodeAt(K)-56320)}W<128?ce[$++]=W:W<2048?(ce[$++]=W>>6|192,ce[$++]=63&W|128):W<65536?(ce[$++]=W>>12|224,ce[$++]=W>>6&63|128,ce[$++]=63&W|128):(ce[$++]=W>>18|240,ce[$++]=W>>12&63|128,ce[$++]=W>>6&63|128,ce[$++]=63&W|128)}return ce},bs=function(pe){let ce=0;for(let $=0;$<pe.length;$++){const K=pe.charCodeAt($);K<128?ce++:K<2048?ce+=2:K>=55296&&K<=56319?(ce+=4,$++):ce+=3}return ce};function fo(pe){return pe&&pe._delegate?pe._delegate:pe}},614:()=>{const Kr=":";const Bn=function(Ce,...we){if(Bn.translate){const Ke=Bn.translate(Ce,we);Ce=Ke[0],we=Ke[1]}let Oe=Mi(Ce[0],Ce.raw[0]);for(let Ke=1;Ke<Ce.length;Ke++)Oe+=we[Ke-1]+Mi(Ce[Ke],Ce.raw[Ke]);return Oe},pi=":";function Mi(Ce,we){return we.charAt(0)===pi?Ce.substring(function Ne(Ce,we){for(let Oe=1,Ke=1;Oe<Ce.length;Oe++,Ke++)if("\\"===we[Ke])Ke++;else if(Ce[Oe]===Kr)return Oe;throw new Error(`Unterminated $localize metadata block in "${we}".`)}(Ce,we)+1):Ce}globalThis.$localize=Bn},743:(Kr,ji,Yt)=>{Yt.r(ji);var ie=Yt(861),Ve=Yt(168),oe=Yt(215),yt=Yt(963),dt=(Yt(211),Yt(383),Yt(427));function Ln(){return window}function rt(){return rt=(0,ie.Z)(function*($,K,W){var de;const{BuildInfo:Be}=Ln();(0,oe.at)(K.sessionId,"AuthEvent did not contain a session ID");const Tt=yield function he($){return Di.apply(this,arguments)}(K.sessionId),vt={};return(0,oe.au)()?vt.ibi=Be.packageName:(0,oe.av)()?vt.apn=Be.packageName:(0,oe.aw)($,"operation-not-supported-in-this-environment"),Be.displayName&&(vt.appDisplayName=Be.displayName),vt.sessionId=Tt,(0,oe.ax)($,W,K.type,void 0,null!==(de=K.eventId)&&void 0!==de?de:void 0,vt)}),rt.apply(this,arguments)}function rn(){return(rn=(0,ie.Z)(function*($){const{BuildInfo:K}=Ln(),W={};(0,oe.au)()?W.iosBundleId=K.packageName:(0,oe.av)()?W.androidPackageName=K.packageName:(0,oe.aw)($,"operation-not-supported-in-this-environment"),yield(0,oe.ay)($,W)})).apply(this,arguments)}function Dn(){return(Dn=(0,ie.Z)(function*($,K,W){const{cordova:de}=Ln();let Be=()=>{};try{yield new Promise((Tt,vt)=>{let en=null;function ii(){var Gt;Tt();const Dr=null===(Gt=de.plugins.browsertab)||void 0===Gt?void 0:Gt.close;"function"==typeof Dr&&Dr(),"function"==typeof W?.close&&W.close()}function Ct(){en||(en=window.setTimeout(()=>{vt((0,oe.aA)($,"redirect-cancelled-by-user"))},2e3))}function _i(){"visible"===document?.visibilityState&&Ct()}K.addPassiveListener(ii),document.addEventListener("resume",Ct,!1),(0,oe.av)()&&document.addEventListener("visibilitychange",_i,!1),Be=()=>{K.removePassiveListener(ii),document.removeEventListener("resume",Ct,!1),document.removeEventListener("visibilitychange",_i,!1),en&&window.clearTimeout(en)}})}finally{Be()}})).apply(this,arguments)}function Di(){return(Di=(0,ie.Z)(function*($){const K=function yn($){if((0,oe.at)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const K=new ArrayBuffer($.length),W=new Uint8Array(K);for(let de=0;de<$.length;de++)W[de]=$.charCodeAt(de);return W}($),W=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(W)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class qt extends oe.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(W=>W(K)),super.onEvent(K)}initialized(){var K=this;return(0,ie.Z)(function*(){yield K.initPromise})()}}function ln($){return st.apply(this,arguments)}function st(){return(st=(0,ie.Z)(function*($){const K=yield Vi()._get(un($));return K&&(yield Vi()._remove(un($))),K})).apply(this,arguments)}function $n(){const $=[];for(let W=0;W<20;W++){const de=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(de))}return $.join("")}function Vi(){return(0,oe.aD)(oe.b)}function un($){return(0,oe.aE)("authEvent",$.config.apiKey,$.name)}function zt($){if(!$?.includes("?"))return{};const[K,...W]=$.split("?");return(0,yt.zd)(W.join("?"))}const ke=class zr{constructor(){this._redirectPersistence=oe.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=oe.aF,this._overrideRedirectResult=oe.aG}_initialize(K){var W=this;return(0,ie.Z)(function*(){const de=K._key();let Be=W.eventManagers.get(de);return Be||(Be=new qt(K),W.eventManagers.set(de,Be),W.attachCallbackListeners(K,Be)),Be})()}_openPopup(K){(0,oe.aw)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,W,de,Be){var Tt=this;return(0,ie.Z)(function*(){!function nn($){var K,W,de,Be,Tt,vt,en,ii,Ct,_i;const Gt=Ln();(0,oe.aB)("function"==typeof(null===(K=Gt?.universalLinks)||void 0===K?void 0:K.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,oe.aB)(typeof(null===(W=Gt?.BuildInfo)||void 0===W?void 0:W.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,oe.aB)("function"==typeof(null===(Tt=null===(Be=null===(de=Gt?.cordova)||void 0===de?void 0:de.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===Tt?void 0:Tt.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,oe.aB)("function"==typeof(null===(ii=null===(en=null===(vt=Gt?.cordova)||void 0===vt?void 0:vt.plugins)||void 0===en?void 0:en.browsertab)||void 0===ii?void 0:ii.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,oe.aB)("function"==typeof(null===(_i=null===(Ct=Gt?.cordova)||void 0===Ct?void 0:Ct.InAppBrowser)||void 0===_i?void 0:_i.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const vt=yield Tt._initialize(K);yield vt.initialized(),vt.resetRedirect(),(0,oe.aH)(),yield Tt._originValidation(K);const en=function Cr($,K,W=null){return{type:K,eventId:W,urlResponse:null,sessionId:$n(),postBody:null,tenantId:$.tenantId,error:(0,oe.aA)($,"no-auth-event")}}(K,de,Be);yield function Yi($,K){return Vi()._set(un($),K)}(K,en);const ii=yield function Xe($,K,W){return rt.apply(this,arguments)}(K,en,W),Ct=yield function Vn($){const{cordova:K}=Ln();return new Promise(W=>{K.plugins.browsertab.isAvailable(de=>{let Be=null;de?K.plugins.browsertab.openUrl($):Be=K.InAppBrowser.open($,(0,oe.az)()?"_blank":"_system","location=yes"),W(Be)})})}(ii);return function Mn($,K,W){return Dn.apply(this,arguments)}(K,vt,Ct)})()}_isIframeWebStorageSupported(K,W){throw new Error("Method not implemented.")}_originValidation(K){const W=K._key();return this.originValidationPromises[W]||(this.originValidationPromises[W]=function Rt($){return rn.apply(this,arguments)}(K)),this.originValidationPromises[W]}attachCallbackListeners(K,W){const{universalLinks:de,handleOpenURL:Be,BuildInfo:Tt}=Ln(),vt=setTimeout((0,ie.Z)(function*(){yield ln(K),W.onEvent(Ne())}),500),en=function(){var _i=(0,ie.Z)(function*(Gt){clearTimeout(vt);const Dr=yield ln(K);let Qa=null;Dr&&Gt?.url&&(Qa=function Rn($,K){var W,de;const Be=function os($){const K=zt($),W=K.link?decodeURIComponent(K.link):void 0,de=zt(W).link,Be=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return zt(Be).link||Be||de||W||$}(K);if(Be.includes("/__/auth/callback")){const Tt=zt(Be),vt=Tt.firebaseError?function Br($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(Tt.firebaseError)):null,en=null===(de=null===(W=vt?.code)||void 0===W?void 0:W.split("auth/"))||void 0===de?void 0:de[1],ii=en?(0,oe.aA)(en):null;return ii?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:ii,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Be,postBody:null}}return null}(Dr,Gt.url)),W.onEvent(Qa||Ne())});return function(Dr){return _i.apply(this,arguments)}}();typeof de<"u"&&"function"==typeof de.subscribe&&de.subscribe(null,en);const ii=Be,Ct=`${Tt.packageName.toLowerCase()}://`;Ln().handleOpenURL=function(){var _i=(0,ie.Z)(function*(Gt){if(Gt.toLowerCase().startsWith(Ct)&&en({url:Gt}),"function"==typeof ii)try{ii(Gt)}catch(Dr){console.error(Dr)}});return function(Gt){return _i.apply(this,arguments)}}()}};function Ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,oe.aA)("no-auth-event")}}function ot(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Ge($=(0,yt.z$)()){return!("file:"!==ot()&&"ionic:"!==ot()&&"capacitor:"!==ot()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function pi(){try{const $=self.localStorage,K=oe.aM();if($)return $.setItem(K,"1"),$.removeItem(K),!function Bn($=(0,yt.z$)()){return function bn(){return(0,yt.w1)()&&11===document?.documentMode}()||function bi($=(0,yt.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,yt.hl)()}catch{return Mi()&&(0,yt.hl)()}return!1}function Mi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ce(){return(function hn(){return"http:"===ot()||"https:"===ot()}()||(0,yt.ru)()||Ge())&&!function Bt(){return(0,yt.b$)()||(0,yt.UG)()}()&&pi()&&!Mi()}function we(){return Ge()&&typeof document<"u"}function Ke(){return(Ke=(0,ie.Z)(function*(){return!!we()&&new Promise($=>{const K=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),$(!0)})})})).apply(this,arguments)}const nt={LOCAL:"local",NONE:"none",SESSION:"session"},gi=oe.aB,Fn="persistence";function mi($){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,ie.Z)(function*($){yield $._initializationPromise;const K=Mr(),W=oe.aE(Fn,$.config.apiKey,$.name);K&&K.setItem(W,$._getPersistence())})).apply(this,arguments)}function Mr(){var $;try{return(null===($=function mt(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Rr=oe.aB;class oi{constructor(){this.browserResolver=oe.aD(oe.k),this.cordovaResolver=oe.aD(ke),this.underlyingResolver=null,this._redirectPersistence=oe.a,this._completeRedirectFn=oe.aF,this._overrideRedirectResult=oe.aG}_initialize(K){var W=this;return(0,ie.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,W,de,Be){var Tt=this;return(0,ie.Z)(function*(){return yield Tt.selectUnderlyingResolver(),Tt.assertedUnderlyingResolver._openPopup(K,W,de,Be)})()}_openRedirect(K,W,de,Be){var Tt=this;return(0,ie.Z)(function*(){return yield Tt.selectUnderlyingResolver(),Tt.assertedUnderlyingResolver._openRedirect(K,W,de,Be)})()}_isIframeWebStorageSupported(K,W){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,W)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return we()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,ie.Z)(function*(){if(K.underlyingResolver)return;const W=yield function Oe(){return Ke.apply(this,arguments)}();K.underlyingResolver=W?K.cordovaResolver:K.browserResolver})()}}function In($){return $.unwrap()}function ti($){return Ti($)}function Ti($){const{_tokenResponse:K}=$ instanceof yt.ZR?$.customData:$;if(!K)return null;if(!($ instanceof yt.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return oe.P.credentialFromResult($);const W=K.providerId;if(!W||W===oe.p.PASSWORD)return null;let de;switch(W){case oe.p.GOOGLE:de=oe.W;break;case oe.p.FACEBOOK:de=oe.V;break;case oe.p.GITHUB:de=oe.X;break;case oe.p.TWITTER:de=oe._;break;default:const{oauthIdToken:Be,oauthAccessToken:Tt,oauthTokenSecret:vt,pendingToken:en,nonce:ii}=K;return Tt||vt||Be||en?en?W.startsWith("saml.")?oe.aP._create(W,en):oe.M._fromParams({providerId:W,signInMethod:W,pendingToken:en,idToken:Be,accessToken:Tt}):new oe.Y(W).credential({idToken:Be,accessToken:Tt,rawNonce:ii}):null}return $ instanceof yt.ZR?de.credentialFromError($):de.credentialFromResult($)}function Ri($,K){return K.catch(W=>{throw W instanceof yt.ZR&&function ka($,K){var W;const de=null===(W=K.customData)||void 0===W?void 0:W._tokenResponse;if("auth/multi-factor-auth-required"===K?.code)K.resolver=new ho($,oe.ar($,K));else if(de){const Be=Ti(K),Tt=K;Be&&(Tt.credential=Be,Tt.tenantId=de.tenantId||void 0,Tt.email=de.email||void 0,Tt.phoneNumber=de.phoneNumber||void 0)}}($,W),W}).then(W=>{const Be=W.user;return{operationType:W.operationType,credential:ti(W),additionalUserInfo:oe.ap(W),user:Er.getOrCreate(Be)}})}function uo($,K){return bs.apply(this,arguments)}function bs(){return(bs=(0,ie.Z)(function*($,K){const W=yield K;return{verificationId:W.verificationId,confirm:de=>Ri($,W.confirm(de))}})).apply(this,arguments)}class ho{constructor(K,W){this.resolver=W,this.auth=function Yn($){return $.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return Ri(In(this.auth),this.resolver.resolveSignIn(K))}}class Er{constructor(K){this._delegate=K,this.multiFactor=oe.as(K)}static getOrCreate(K){return Er.USER_MAP.has(K)||Er.USER_MAP.set(K,new Er(K)),Er.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var W=this;return(0,ie.Z)(function*(){return Ri(W.auth,oe.a1(W._delegate,K))})()}linkWithPhoneNumber(K,W){var de=this;return(0,ie.Z)(function*(){return uo(de.auth,oe.l(de._delegate,K,W))})()}linkWithPopup(K){var W=this;return(0,ie.Z)(function*(){return Ri(W.auth,oe.d(W._delegate,K,oi))})()}linkWithRedirect(K){var W=this;return(0,ie.Z)(function*(){return yield mi(oe.aI(W.auth)),oe.g(W._delegate,K,oi)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var W=this;return(0,ie.Z)(function*(){return Ri(W.auth,oe.a2(W._delegate,K))})()}reauthenticateWithPhoneNumber(K,W){return uo(this.auth,oe.r(this._delegate,K,W))}reauthenticateWithPopup(K){return Ri(this.auth,oe.e(this._delegate,K,oi))}reauthenticateWithRedirect(K){var W=this;return(0,ie.Z)(function*(){return yield mi(oe.aI(W.auth)),oe.h(W._delegate,K,oi)})()}sendEmailVerification(K){return oe.af(this._delegate,K)}unlink(K){var W=this;return(0,ie.Z)(function*(){return yield oe.ao(W._delegate,K),W})()}updateEmail(K){return oe.ak(this._delegate,K)}updatePassword(K){return oe.al(this._delegate,K)}updatePhoneNumber(K){return oe.u(this._delegate,K)}updateProfile(K){return oe.aj(this._delegate,K)}verifyBeforeUpdateEmail(K,W){return oe.ag(this._delegate,K,W)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Er.USER_MAP=new WeakMap;const Oi=oe.aB;let Qr=(()=>{class ${constructor(W,de){if(this.app=W,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=W.options;Oi(Be,"invalid-api-key",{appName:W.name}),Oi(Be,"invalid-api-key",{appName:W.name});const Tt=typeof window<"u"?oi:void 0;this._delegate=de.initialize({options:{persistence:Ka(Be,W.name),popupRedirectResolver:Tt}}),this._delegate._updateErrorMap(oe.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Er.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(W){this._delegate.languageCode=W}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(W){this._delegate.tenantId=W}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(W,de){oe.J(this._delegate,W,de)}applyActionCode(W){return oe.a6(this._delegate,W)}checkActionCode(W){return oe.a7(this._delegate,W)}confirmPasswordReset(W,de){return oe.a5(this._delegate,W,de)}createUserWithEmailAndPassword(W,de){var Be=this;return(0,ie.Z)(function*(){return Ri(Be._delegate,oe.a9(Be._delegate,W,de))})()}fetchProvidersForEmail(W){return this.fetchSignInMethodsForEmail(W)}fetchSignInMethodsForEmail(W){return oe.ae(this._delegate,W)}isSignInWithEmailLink(W){return oe.ac(this._delegate,W)}getRedirectResult(){var W=this;return(0,ie.Z)(function*(){Oi(Ce(),W._delegate,"operation-not-supported-in-this-environment");const de=yield oe.j(W._delegate,oi);return de?Ri(W._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging(W){!function fe($,K){(0,oe.aI)($)._logFramework(K)}(this._delegate,W)}onAuthStateChanged(W,de,Be){const{next:Tt,error:vt,complete:en}=as(W,de,Be);return this._delegate.onAuthStateChanged(Tt,vt,en)}onIdTokenChanged(W,de,Be){const{next:Tt,error:vt,complete:en}=as(W,de,Be);return this._delegate.onIdTokenChanged(Tt,vt,en)}sendSignInLinkToEmail(W,de){return oe.ab(this._delegate,W,de)}sendPasswordResetEmail(W,de){return oe.a4(this._delegate,W,de||void 0)}setPersistence(W){var de=this;return(0,ie.Z)(function*(){let Be;switch(function Tn($,K){gi(Object.values(nt).includes(K),$,"invalid-persistence-type"),(0,yt.b$)()?gi(K!==nt.SESSION,$,"unsupported-persistence-type"):(0,yt.UG)()?gi(K===nt.NONE,$,"unsupported-persistence-type"):Mi()?gi(K===nt.NONE||K===nt.LOCAL&&(0,yt.hl)(),$,"unsupported-persistence-type"):gi(K===nt.NONE||pi(),$,"unsupported-persistence-type")}(de._delegate,W),W){case nt.SESSION:Be=oe.a;break;case nt.LOCAL:Be=(yield oe.aD(oe.i)._isAvailable())?oe.i:oe.b;break;case nt.NONE:Be=oe.Q;break;default:return oe.aw("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(W){return this.signInWithCredential(W)}signInAnonymously(){return Ri(this._delegate,oe.$(this._delegate))}signInWithCredential(W){return Ri(this._delegate,oe.a0(this._delegate,W))}signInWithCustomToken(W){return Ri(this._delegate,oe.a3(this._delegate,W))}signInWithEmailAndPassword(W,de){return Ri(this._delegate,oe.aa(this._delegate,W,de))}signInWithEmailLink(W,de){return Ri(this._delegate,oe.ad(this._delegate,W,de))}signInWithPhoneNumber(W,de){return uo(this._delegate,oe.s(this._delegate,W,de))}signInWithPopup(W){var de=this;return(0,ie.Z)(function*(){return Oi(Ce(),de._delegate,"operation-not-supported-in-this-environment"),Ri(de._delegate,oe.c(de._delegate,W,oi))})()}signInWithRedirect(W){var de=this;return(0,ie.Z)(function*(){return Oi(Ce(),de._delegate,"operation-not-supported-in-this-environment"),yield mi(de._delegate),oe.f(de._delegate,W,oi)})()}updateCurrentUser(W){return this._delegate.updateCurrentUser(W)}verifyPasswordResetCode(W){return oe.a8(this._delegate,W)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=nt,$})();function as($,K,W){let de=$;"function"!=typeof $&&({next:de,error:K,complete:W}=$);const Be=de;return{next:vt=>Be(vt&&Er.getOrCreate(vt)),error:K,complete:W}}function Ka($,K){const W=function qi($,K){const W=Mr();if(!W)return[];const de=oe.aE(Fn,$,K);switch(W.getItem(de)){case nt.NONE:return[oe.Q];case nt.LOCAL:return[oe.i,oe.a];case nt.SESSION:return[oe.a];default:return[]}}($,K);if(typeof self<"u"&&!W.includes(oe.i)&&W.push(oe.i),typeof window<"u")for(const de of[oe.b,oe.a])W.includes(de)||W.push(de);return W.includes(oe.Q)||W.push(oe.Q),W}class Ma{constructor(){this.providerId="phone",this._delegate=new oe.P(In(Ve.Z.auth()))}static credential(K,W){return oe.P.credential(K,W)}verifyPhoneNumber(K,W){return this._delegate.verifyPhoneNumber(K,W)}unwrap(){return this._delegate}}Ma.PHONE_SIGN_IN_METHOD=oe.P.PHONE_SIGN_IN_METHOD,Ma.PROVIDER_ID=oe.P.PROVIDER_ID;const Ra=oe.aB;class fo{constructor(K,W,de=Ve.Z.app()){var Be;Ra(null===(Be=de.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new oe.R(de.auth(),K,W),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ce($){$.INTERNAL.registerComponent(new dt.wA("auth-compat",K=>{const W=K.getProvider("app-compat").getImmediate(),de=K.getProvider("auth");return new Qr(W,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oe.A.EMAIL_SIGNIN,PASSWORD_RESET:oe.A.PASSWORD_RESET,RECOVER_EMAIL:oe.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:oe.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:oe.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:oe.A.VERIFY_EMAIL}},EmailAuthProvider:oe.U,FacebookAuthProvider:oe.V,GithubAuthProvider:oe.X,GoogleAuthProvider:oe.W,OAuthProvider:oe.Y,SAMLAuthProvider:oe.Z,PhoneAuthProvider:Ma,PhoneMultiFactorGenerator:oe.m,RecaptchaVerifier:fo,TwitterAuthProvider:oe._,Auth:Qr,AuthCredential:oe.K,Error:yt.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.4.8")}(Ve.Z)},168:(Kr,ji,Yt)=>{Yt.d(ji,{Z:()=>Mn});var ie=Yt(963),Ve=Yt(427),oe=Yt(211),yt=Yt(383);class He{constructor(nn,he){this._delegate=nn,this.firebase=he,(0,oe._addComponent)(nn,new Ve.wA("app-compat",()=>this,"PUBLIC")),this.container=nn.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nn){this._delegate.automaticDataCollectionEnabled=nn}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nn=>{this._delegate.checkDestroyed(),nn()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,oe.deleteApp)(this._delegate)))}_getService(nn,he=oe._DEFAULT_ENTRY_NAME){var Di;this._delegate.checkDestroyed();const yn=this._delegate.container.getProvider(nn);return!yn.isInitialized()&&"EXPLICIT"===(null===(Di=yn.getComponent())||void 0===Di?void 0:Di.instantiationMode)&&yn.initialize(),yn.getImmediate({identifier:he})}_removeServiceInstance(nn,he=oe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nn).clearInstance(he)}_addComponent(nn){(0,oe._addComponent)(this._delegate,nn)}_addOrOverwriteComponent(nn){(0,oe._addOrOverwriteComponent)(this._delegate,nn)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const dt=new ie.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Xe=function vn(){const Dn=function Ln(Dn){const nn={},he={__esModule:!0,initializeApp:function Me(ln,st={}){const Rn=oe.initializeApp(ln,st);if((0,ie.r3)(nn,Rn.name))return nn[Rn.name];const $n=new Dn(Rn,he);return nn[Rn.name]=$n,$n},app:yn,registerVersion:oe.registerVersion,setLogLevel:oe.setLogLevel,onLog:oe.onLog,apps:null,SDK_VERSION:oe.SDK_VERSION,INTERNAL:{registerComponent:function Cr(ln){const st=ln.name,Rn=st.replace("-compat","");if(oe._registerComponent(ln)&&"PUBLIC"===ln.type){const $n=(Vi=yn())=>{if("function"!=typeof Vi[Rn])throw dt.create("invalid-app-argument",{appName:st});return Vi[Rn]()};void 0!==ln.serviceProps&&(0,ie.ZB)($n,ln.serviceProps),he[Rn]=$n,Dn.prototype[Rn]=function(...Vi){return this._getService.bind(this,st).apply(this,ln.multipleInstances?Vi:[])}}return"PUBLIC"===ln.type?he[Rn]:null},removeApp:function Di(ln){delete nn[ln]},useAsService:function Yi(ln,st){return"serverAuth"===st?null:st},modularAPIs:oe}};function yn(ln){if(!(0,ie.r3)(nn,ln=ln||oe._DEFAULT_ENTRY_NAME))throw dt.create("no-app",{appName:ln});return nn[ln]}return he.default=he,Object.defineProperty(he,"apps",{get:function qt(){return Object.keys(nn).map(ln=>nn[ln])}}),yn.App=Dn,he}(He);return Dn.INTERNAL=Object.assign(Object.assign({},Dn.INTERNAL),{createFirebaseNamespace:vn,extendNamespace:function nn(he){(0,ie.ZB)(Dn,he)},createSubscribe:ie.ne,ErrorFactory:ie.LL,deepExtend:ie.ZB}),Dn}(),rt=new yt.Yd("@firebase/app-compat");if((0,ie.jU)()&&void 0!==self.firebase){rt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Dn=self.firebase.SDK_VERSION;Dn&&Dn.indexOf("LITE")>=0&&rt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Mn=Xe;!function Vn(Dn){(0,oe.registerVersion)("@firebase/app-compat","0.2.22",Dn)}()},211:(Kr,ji,Yt)=>{Yt.r(ji),Yt.d(ji,{FirebaseError:()=>yt.ZR,SDK_VERSION:()=>uo,_DEFAULT_ENTRY_NAME:()=>Tn,_addComponent:()=>Mr,_addOrOverwriteComponent:()=>Rr,_apps:()=>Bi,_clearComponents:()=>ti,_components:()=>qi,_getProvider:()=>In,_registerComponent:()=>oi,_removeServiceInstance:()=>Yn,deleteApp:()=>Oi,getApp:()=>ho,getApps:()=>Er,initializeApp:()=>bs,onLog:()=>Ka,registerVersion:()=>as,setLogLevel:()=>Ma});var ie=Yt(861),Ve=Yt(427),oe=Yt(383),yt=Yt(963);const He=(Ee,ve)=>ve.some(lt=>Ee instanceof lt);let Ei,dt;const Xe=new WeakMap,rt=new WeakMap,Rt=new WeakMap,rn=new WeakMap,Vn=new WeakMap;let nn={get(Ee,ve,lt){if(Ee instanceof IDBTransaction){if("done"===ve)return rt.get(Ee);if("objectStoreNames"===ve)return Ee.objectStoreNames||Rt.get(Ee);if("store"===ve)return lt.objectStoreNames[1]?void 0:lt.objectStore(lt.objectStoreNames[0])}return Me(Ee[ve])},set:(Ee,ve,lt)=>(Ee[ve]=lt,!0),has:(Ee,ve)=>Ee instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in Ee};function yn(Ee){return"function"==typeof Ee?function Di(Ee){return Ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function vn(){return dt||(dt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ee)?function(...ve){return Ee.apply(qt(this),ve),Me(Xe.get(this))}:function(...ve){return Me(Ee.apply(qt(this),ve))}:function(ve,...lt){const Wt=Ee.call(qt(this),ve,...lt);return Rt.set(Wt,ve.sort?ve.sort():[ve]),Me(Wt)}}(Ee):(Ee instanceof IDBTransaction&&function Dn(Ee){if(rt.has(Ee))return;const ve=new Promise((lt,Wt)=>{const L=()=>{Ee.removeEventListener("complete",a),Ee.removeEventListener("error",l),Ee.removeEventListener("abort",l)},a=()=>{lt(),L()},l=()=>{Wt(Ee.error||new DOMException("AbortError","AbortError")),L()};Ee.addEventListener("complete",a),Ee.addEventListener("error",l),Ee.addEventListener("abort",l)});rt.set(Ee,ve)}(Ee),He(Ee,function Ln(){return Ei||(Ei=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ee,nn):Ee)}function Me(Ee){if(Ee instanceof IDBRequest)return function Mn(Ee){const ve=new Promise((lt,Wt)=>{const L=()=>{Ee.removeEventListener("success",a),Ee.removeEventListener("error",l)},a=()=>{lt(Me(Ee.result)),L()},l=()=>{Wt(Ee.error),L()};Ee.addEventListener("success",a),Ee.addEventListener("error",l)});return ve.then(lt=>{lt instanceof IDBCursor&&Xe.set(lt,Ee)}).catch(()=>{}),Vn.set(ve,Ee),ve}(Ee);if(rn.has(Ee))return rn.get(Ee);const ve=yn(Ee);return ve!==Ee&&(rn.set(Ee,ve),Vn.set(ve,Ee)),ve}const qt=Ee=>Vn.get(Ee),ln=["get","getKey","getAll","getAllKeys","count"],st=["put","add","delete","clear"],Rn=new Map;function $n(Ee,ve){if(!(Ee instanceof IDBDatabase)||ve in Ee||"string"!=typeof ve)return;if(Rn.get(ve))return Rn.get(ve);const lt=ve.replace(/FromIndex$/,""),Wt=ve!==lt,L=st.includes(lt);if(!(lt in(Wt?IDBIndex:IDBObjectStore).prototype)||!L&&!ln.includes(lt))return;const a=function(){var l=(0,ie.Z)(function*(d,...h){const p=this.transaction(d,L?"readwrite":"readonly");let g=p.store;return Wt&&(g=g.index(h.shift())),(yield Promise.all([g[lt](...h),L&&p.done]))[0]});return function(h){return l.apply(this,arguments)}}();return Rn.set(ve,a),a}!function he(Ee){nn=Ee(nn)}(Ee=>({...Ee,get:(ve,lt,Wt)=>$n(ve,lt)||Ee.get(ve,lt,Wt),has:(ve,lt)=>!!$n(ve,lt)||Ee.has(ve,lt)}));class Vi{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(lt=>{if(function un(Ee){const ve=Ee.getComponent();return"VERSION"===ve?.type}(lt)){const Wt=lt.getImmediate();return`${Wt.library}/${Wt.version}`}return null}).filter(lt=>lt).join(" ")}}const Br="@firebase/app",zt=new oe.Yd("@firebase/app"),Tn="[DEFAULT]",mi={[Br]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bi=new Map,qi=new Map;function Mr(Ee,ve){try{Ee.container.addComponent(ve)}catch(lt){zt.debug(`Component ${ve.name} failed to register with FirebaseApp ${Ee.name}`,lt)}}function Rr(Ee,ve){Ee.container.addOrOverwriteComponent(ve)}function oi(Ee){const ve=Ee.name;if(qi.has(ve))return zt.debug(`There were multiple attempts to register component ${ve}.`),!1;qi.set(ve,Ee);for(const lt of Bi.values())Mr(lt,Ee);return!0}function In(Ee,ve){const lt=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return lt&&lt.triggerHeartbeat(),Ee.container.getProvider(ve)}function Yn(Ee,ve,lt=Tn){In(Ee,ve).clearInstance(lt)}function ti(){qi.clear()}const Ti=new yt.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ri{constructor(ve,lt,Wt){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},lt),this._name=lt.name,this._automaticDataCollectionEnabled=lt.automaticDataCollectionEnabled,this._container=Wt,this.container.addComponent(new Ve.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}const uo="10.5.2";function bs(Ee,ve={}){let lt=Ee;"object"!=typeof ve&&(ve={name:ve});const Wt=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},ve),L=Wt.name;if("string"!=typeof L||!L)throw Ti.create("bad-app-name",{appName:String(L)});if(lt||(lt=(0,yt.aH)()),!lt)throw Ti.create("no-options");const a=Bi.get(L);if(a){if((0,yt.vZ)(lt,a.options)&&(0,yt.vZ)(Wt,a.config))return a;throw Ti.create("duplicate-app",{appName:L})}const l=new Ve.H0(L);for(const h of qi.values())l.addComponent(h);const d=new Ri(lt,Wt,l);return Bi.set(L,d),d}function ho(Ee=Tn){const ve=Bi.get(Ee);if(!ve&&Ee===Tn&&(0,yt.aH)())return bs();if(!ve)throw Ti.create("no-app",{appName:Ee});return ve}function Er(){return Array.from(Bi.values())}function Oi(Ee){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,ie.Z)(function*(Ee){const ve=Ee.name;Bi.has(ve)&&(Bi.delete(ve),yield Promise.all(Ee.container.getProviders().map(lt=>lt.delete())),Ee.isDeleted=!0)})).apply(this,arguments)}function as(Ee,ve,lt){var Wt;let L=null!==(Wt=mi[Ee])&&void 0!==Wt?Wt:Ee;lt&&(L+=`-${lt}`);const a=L.match(/\s|\//),l=ve.match(/\s|\//);if(a||l){const d=[`Unable to register library "${L}" with version "${ve}":`];return a&&d.push(`library name "${L}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void zt.warn(d.join(" "))}oi(new Ve.wA(`${L}-version`,()=>({library:L,version:ve}),"VERSION"))}function Ka(Ee,ve){if(null!==Ee&&"function"!=typeof Ee)throw Ti.create("invalid-log-argument");(0,oe.Am)(Ee,ve)}function Ma(Ee){(0,oe.Ub)(Ee)}const Ra="firebase-heartbeat-database",fo=1,pe="firebase-heartbeat-store";let ce=null;function $(){return ce||(ce=function Cr(Ee,ve,{blocked:lt,upgrade:Wt,blocking:L,terminated:a}={}){const l=indexedDB.open(Ee,ve),d=Me(l);return Wt&&l.addEventListener("upgradeneeded",h=>{Wt(Me(l.result),h.oldVersion,h.newVersion,Me(l.transaction),h)}),lt&&l.addEventListener("blocked",h=>lt(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),L&&h.addEventListener("versionchange",p=>L(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}(Ra,fo,{upgrade:(Ee,ve)=>{0===ve&&Ee.createObjectStore(pe)}}).catch(Ee=>{throw Ti.create("idb-open",{originalErrorMessage:Ee.message})})),ce}function W(){return(W=(0,ie.Z)(function*(Ee){try{return yield(yield $()).transaction(pe).objectStore(pe).get(Tt(Ee))}catch(ve){if(ve instanceof yt.ZR)zt.warn(ve.message);else{const lt=Ti.create("idb-get",{originalErrorMessage:ve?.message});zt.warn(lt.message)}}})).apply(this,arguments)}function de(Ee,ve){return Be.apply(this,arguments)}function Be(){return(Be=(0,ie.Z)(function*(Ee,ve){try{const Wt=(yield $()).transaction(pe,"readwrite");yield Wt.objectStore(pe).put(ve,Tt(Ee)),yield Wt.done}catch(lt){if(lt instanceof yt.ZR)zt.warn(lt.message);else{const Wt=Ti.create("idb-set",{originalErrorMessage:lt?.message});zt.warn(Wt.message)}}})).apply(this,arguments)}function Tt(Ee){return`${Ee.name}!${Ee.options.appId}`}class ii{constructor(ve){this.container=ve,this._heartbeatsCache=null;const lt=this.container.getProvider("app").getImmediate();this._storage=new Gt(lt),this._heartbeatsCachePromise=this._storage.read().then(Wt=>(this._heartbeatsCache=Wt,Wt))}triggerHeartbeat(){var ve=this;return(0,ie.Z)(function*(){const Wt=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),L=Ct();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==L&&!ve._heartbeatsCache.heartbeats.some(a=>a.date===L))return ve._heartbeatsCache.heartbeats.push({date:L,agent:Wt}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,ie.Z)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const lt=Ct(),{heartbeatsToSend:Wt,unsentEntries:L}=function _i(Ee,ve=1024){const lt=[];let Wt=Ee.slice();for(const L of Ee){const a=lt.find(l=>l.agent===L.agent);if(a){if(a.dates.push(L.date),Dr(lt)>ve){a.dates.pop();break}}else if(lt.push({agent:L.agent,dates:[L.date]}),Dr(lt)>ve){lt.pop();break}Wt=Wt.slice(1)}return{heartbeatsToSend:lt,unsentEntries:Wt}}(ve._heartbeatsCache.heartbeats),a=(0,yt.L)(JSON.stringify({version:2,heartbeats:Wt}));return ve._heartbeatsCache.lastSentHeartbeatDate=lt,L.length>0?(ve._heartbeatsCache.heartbeats=L,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),a})()}}function Ct(){return(new Date).toISOString().substring(0,10)}class Gt{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,ie.Z)(function*(){return!!(0,yt.hl)()&&(0,yt.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,ie.Z)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function K(Ee){return W.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var lt=this;return(0,ie.Z)(function*(){var Wt;if(yield lt._canUseIndexedDBPromise){const a=yield lt.read();return de(lt.app,{lastSentHeartbeatDate:null!==(Wt=ve.lastSentHeartbeatDate)&&void 0!==Wt?Wt:a.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var lt=this;return(0,ie.Z)(function*(){var Wt;if(yield lt._canUseIndexedDBPromise){const a=yield lt.read();return de(lt.app,{lastSentHeartbeatDate:null!==(Wt=ve.lastSentHeartbeatDate)&&void 0!==Wt?Wt:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...ve.heartbeats]})}})()}}function Dr(Ee){return(0,yt.L)(JSON.stringify({version:2,heartbeats:Ee})).length}!function Qa(Ee){oi(new Ve.wA("platform-logger",ve=>new Vi(ve),"PRIVATE")),oi(new Ve.wA("heartbeat",ve=>new ii(ve),"PRIVATE")),as(Br,"0.9.22",Ee),as(Br,"0.9.22","esm2017"),as("fire-js","")}("")},427:(Kr,ji,Yt)=>{Yt.d(ji,{H0:()=>Ln,wA:()=>oe,zt:()=>He});var ie=Yt(861),Ve=Yt(963);class oe{constructor(Xe,rt,Rt){this.name=Xe,this.instanceFactory=rt,this.type=Rt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Xe){return this.instantiationMode=Xe,this}setMultipleInstances(Xe){return this.multipleInstances=Xe,this}setServiceProps(Xe){return this.serviceProps=Xe,this}setInstanceCreatedCallback(Xe){return this.onInstanceCreated=Xe,this}}const yt="[DEFAULT]";class He{constructor(Xe,rt){this.name=Xe,this.container=rt,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Xe){const rt=this.normalizeInstanceIdentifier(Xe);if(!this.instancesDeferred.has(rt)){const Rt=new Ve.BH;if(this.instancesDeferred.set(rt,Rt),this.isInitialized(rt)||this.shouldAutoInitialize())try{const rn=this.getOrInitializeService({instanceIdentifier:rt});rn&&Rt.resolve(rn)}catch{}}return this.instancesDeferred.get(rt).promise}getImmediate(Xe){var rt;const Rt=this.normalizeInstanceIdentifier(Xe?.identifier),rn=null!==(rt=Xe?.optional)&&void 0!==rt&&rt;if(!this.isInitialized(Rt)&&!this.shouldAutoInitialize()){if(rn)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Rt})}catch(Vn){if(rn)return null;throw Vn}}getComponent(){return this.component}setComponent(Xe){if(Xe.name!==this.name)throw Error(`Mismatching Component ${Xe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Xe,this.shouldAutoInitialize()){if(function dt(vn){return"EAGER"===vn.instantiationMode}(Xe))try{this.getOrInitializeService({instanceIdentifier:yt})}catch{}for(const[rt,Rt]of this.instancesDeferred.entries()){const rn=this.normalizeInstanceIdentifier(rt);try{const Vn=this.getOrInitializeService({instanceIdentifier:rn});Rt.resolve(Vn)}catch{}}}}clearInstance(Xe=yt){this.instancesDeferred.delete(Xe),this.instancesOptions.delete(Xe),this.instances.delete(Xe)}delete(){var Xe=this;return(0,ie.Z)(function*(){const rt=Array.from(Xe.instances.values());yield Promise.all([...rt.filter(Rt=>"INTERNAL"in Rt).map(Rt=>Rt.INTERNAL.delete()),...rt.filter(Rt=>"_delete"in Rt).map(Rt=>Rt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Xe=yt){return this.instances.has(Xe)}getOptions(Xe=yt){return this.instancesOptions.get(Xe)||{}}initialize(Xe={}){const{options:rt={}}=Xe,Rt=this.normalizeInstanceIdentifier(Xe.instanceIdentifier);if(this.isInitialized(Rt))throw Error(`${this.name}(${Rt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const rn=this.getOrInitializeService({instanceIdentifier:Rt,options:rt});for(const[Vn,Mn]of this.instancesDeferred.entries())Rt===this.normalizeInstanceIdentifier(Vn)&&Mn.resolve(rn);return rn}onInit(Xe,rt){var Rt;const rn=this.normalizeInstanceIdentifier(rt),Vn=null!==(Rt=this.onInitCallbacks.get(rn))&&void 0!==Rt?Rt:new Set;Vn.add(Xe),this.onInitCallbacks.set(rn,Vn);const Mn=this.instances.get(rn);return Mn&&Xe(Mn,rn),()=>{Vn.delete(Xe)}}invokeOnInitCallbacks(Xe,rt){const Rt=this.onInitCallbacks.get(rt);if(Rt)for(const rn of Rt)try{rn(Xe,rt)}catch{}}getOrInitializeService({instanceIdentifier:Xe,options:rt={}}){let Rt=this.instances.get(Xe);if(!Rt&&this.component&&(Rt=this.component.instanceFactory(this.container,{instanceIdentifier:(vn=Xe,vn===yt?void 0:vn),options:rt}),this.instances.set(Xe,Rt),this.instancesOptions.set(Xe,rt),this.invokeOnInitCallbacks(Rt,Xe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Xe,Rt)}catch{}var vn;return Rt||null}normalizeInstanceIdentifier(Xe=yt){return this.component?this.component.multipleInstances?Xe:yt:Xe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ln{constructor(Xe){this.name=Xe,this.providers=new Map}addComponent(Xe){const rt=this.getProvider(Xe.name);if(rt.isComponentSet())throw new Error(`Component ${Xe.name} has already been registered with ${this.name}`);rt.setComponent(Xe)}addOrOverwriteComponent(Xe){this.getProvider(Xe.name).isComponentSet()&&this.providers.delete(Xe.name),this.addComponent(Xe)}getProvider(Xe){if(this.providers.has(Xe))return this.providers.get(Xe);const rt=new He(Xe,this);return this.providers.set(Xe,rt),rt}getProviders(){return Array.from(this.providers.values())}}},383:(Kr,ji,Yt)=>{Yt.d(ji,{Am:()=>vn,Ub:()=>Ln,Yd:()=>dt,in:()=>Ve});const ie=[];var Ve=function(Xe){return Xe[Xe.DEBUG=0]="DEBUG",Xe[Xe.VERBOSE=1]="VERBOSE",Xe[Xe.INFO=2]="INFO",Xe[Xe.WARN=3]="WARN",Xe[Xe.ERROR=4]="ERROR",Xe[Xe.SILENT=5]="SILENT",Xe}(Ve||{});const oe={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},yt=Ve.INFO,He={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Ei=(Xe,rt,...Rt)=>{if(rt<Xe.logLevel)return;const rn=(new Date).toISOString(),Vn=He[rt];if(!Vn)throw new Error(`Attempted to log a message with an invalid logType (value: ${rt})`);console[Vn](`[${rn}]  ${Xe.name}:`,...Rt)};class dt{constructor(rt){this.name=rt,this._logLevel=yt,this._logHandler=Ei,this._userLogHandler=null,ie.push(this)}get logLevel(){return this._logLevel}set logLevel(rt){if(!(rt in Ve))throw new TypeError(`Invalid value "${rt}" assigned to \`logLevel\``);this._logLevel=rt}setLogLevel(rt){this._logLevel="string"==typeof rt?oe[rt]:rt}get logHandler(){return this._logHandler}set logHandler(rt){if("function"!=typeof rt)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=rt}get userLogHandler(){return this._userLogHandler}set userLogHandler(rt){this._userLogHandler=rt}debug(...rt){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...rt),this._logHandler(this,Ve.DEBUG,...rt)}log(...rt){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...rt),this._logHandler(this,Ve.VERBOSE,...rt)}info(...rt){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...rt),this._logHandler(this,Ve.INFO,...rt)}warn(...rt){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...rt),this._logHandler(this,Ve.WARN,...rt)}error(...rt){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...rt),this._logHandler(this,Ve.ERROR,...rt)}}function Ln(Xe){ie.forEach(rt=>{rt.setLogLevel(Xe)})}function vn(Xe,rt){for(const Rt of ie){let rn=null;rt&&rt.level&&(rn=oe[rt.level]),Rt.userLogHandler=null===Xe?null:(Vn,Mn,...Dn)=>{const nn=Dn.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(he=>he).join(" ");Mn>=(rn??Vn.logLevel)&&Xe({level:Ve[Mn].toLowerCase(),message:nn,args:Dn,type:Vn.name})}}}},861:(Kr,ji,Yt)=>{function ie(oe,yt,He,Ei,dt,Ln,vn){try{var Xe=oe[Ln](vn),rt=Xe.value}catch(Rt){return void He(Rt)}Xe.done?yt(rt):Promise.resolve(rt).then(Ei,dt)}function Ve(oe){return function(){var yt=this,He=arguments;return new Promise(function(Ei,dt){var Ln=oe.apply(yt,He);function vn(rt){ie(Ln,Ei,dt,vn,Xe,"next",rt)}function Xe(rt){ie(Ln,Ei,dt,vn,Xe,"throw",rt)}vn(void 0)})}}Yt.d(ji,{Z:()=>Ve})},582:(Kr,ji,Yt)=>{Yt.d(ji,{FC:()=>qt,KL:()=>Yi,_T:()=>yt,mG:()=>Rt,pi:()=>oe,qq:()=>Me});var oe=function(){return oe=Object.assign||function(Ne){for(var fe,Ae=1,Je=arguments.length;Ae<Je;Ae++)for(var je in fe=arguments[Ae])Object.prototype.hasOwnProperty.call(fe,je)&&(Ne[je]=fe[je]);return Ne},oe.apply(this,arguments)};function yt(ke,Ne){var fe={};for(var Ae in ke)Object.prototype.hasOwnProperty.call(ke,Ae)&&Ne.indexOf(Ae)<0&&(fe[Ae]=ke[Ae]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(Ae=Object.getOwnPropertySymbols(ke);Je<Ae.length;Je++)Ne.indexOf(Ae[Je])<0&&Object.prototype.propertyIsEnumerable.call(ke,Ae[Je])&&(fe[Ae[Je]]=ke[Ae[Je]])}return fe}function Rt(ke,Ne,fe,Ae){return new(fe||(fe=Promise))(function(je,ot){function hn(bn){try{Bt(Ae.next(bn))}catch(bi){ot(bi)}}function Ge(bn){try{Bt(Ae.throw(bn))}catch(bi){ot(bi)}}function Bt(bn){bn.done?je(bn.value):function Je(je){return je instanceof fe?je:new fe(function(ot){ot(je)})}(bn.value).then(hn,Ge)}Bt((Ae=Ae.apply(ke,Ne||[])).next())})}function Me(ke){return this instanceof Me?(this.v=ke,this):new Me(ke)}function qt(ke,Ne,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Ae=fe.apply(ke,Ne||[]),je=[];return Je={},ot("next"),ot("throw"),ot("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function ot(Bn){Ae[Bn]&&(Je[Bn]=function(pi){return new Promise(function(Mi,Ce){je.push([Bn,pi,Mi,Ce])>1||hn(Bn,pi)})})}function hn(Bn,pi){try{!function Ge(Bn){Bn.value instanceof Me?Promise.resolve(Bn.value.v).then(Bt,bn):bi(je[0][2],Bn)}(Ae[Bn](pi))}catch(Mi){bi(je[0][3],Mi)}}function Bt(Bn){hn("next",Bn)}function bn(Bn){hn("throw",Bn)}function bi(Bn,pi){Bn(pi),je.shift(),je.length&&hn(je[0][0],je[0][1])}}function Yi(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,Ne=ke[Symbol.asyncIterator];return Ne?Ne.call(ke):(ke=function Dn(ke){var Ne="function"==typeof Symbol&&Symbol.iterator,fe=Ne&&ke[Ne],Ae=0;if(fe)return fe.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&Ae>=ke.length&&(ke=void 0),{value:ke&&ke[Ae++],done:!ke}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),fe={},Ae("next"),Ae("throw"),Ae("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function Ae(je){fe[je]=ke[je]&&function(ot){return new Promise(function(hn,Ge){!function Je(je,ot,hn,Ge){Promise.resolve(Ge).then(function(Bt){je({value:Bt,done:hn})},ot)}(hn,Ge,(ot=ke[je](ot)).done,ot.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},Kr=>{var ji=ie=>Kr(Kr.s=ie);ji(614),ji(749)}]);