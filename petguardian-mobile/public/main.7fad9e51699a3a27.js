"use strict";(self.webpackChunkpetguardian_mobile=self.webpackChunkpetguardian_mobile||[]).push([[179],{607:(ts,Yi,en)=>{function J(n){return"function"==typeof n}function Bt(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const me=Bt(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Mt(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Ue{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(J(i))try{i()}catch(s){t=s instanceof me?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{hi(s)}catch(o){t=t??[],o instanceof me?t=[...t,...o.errors]:t.push(o)}}if(t)throw new me(t)}}add(t){var e;if(t&&t!==this)if(this.closed)hi(t);else{if(t instanceof Ue){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Mt(e,t)}remove(t){const{_finalizers:e}=this;e&&Mt(e,t),t instanceof Ue&&t._removeParent(this)}}Ue.EMPTY=(()=>{const n=new Ue;return n.closed=!0,n})();const mi=Ue.EMPTY;function ot(n){return n instanceof Ue||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function hi(n){J(n)?n():n.unsubscribe()}const cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ye={setTimeout(n,t,...e){const{delegate:i}=Ye;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Ye;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function st(n){Ye.setTimeout(()=>{const{onUnhandledError:t}=cn;if(!t)throw n;t(n)})}function Tt(){}const on=Rn("C",void 0,void 0);function Rn(n,t,e){return{kind:n,value:t,error:e}}let Kt=null;function he(n){if(cn.useDeprecatedSynchronousErrorHandling){const t=!Kt;if(t&&(Kt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Kt;if(Kt=null,e)throw i}}else n()}class Tn extends Ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ot(t)&&t.add(this)):this.destination=jn}static create(t,e,i){return new Gr(t,e,i)}next(t){this.isStopped?qe(function En(n){return Rn("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?qe(function In(n){return Rn("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?qe(on,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Vt(n,t){return Le.call(n,t)}class Un{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){an(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){an(i)}else an(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){an(e)}}}class Gr extends Tn{constructor(t,e,i){let r;if(super(),J(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&cn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Vt(t.next,s),error:t.error&&Vt(t.error,s),complete:t.complete&&Vt(t.complete,s)}):r=t}this.destination=new Un(r)}}function an(n){cn.useDeprecatedSynchronousErrorHandling?function Ci(n){cn.useDeprecatedSynchronousErrorHandling&&Kt&&(Kt.errorThrown=!0,Kt.error=n)}(n):st(n)}function qe(n,t){const{onStoppedNotification:e}=cn;e&&Ye.setTimeout(()=>e(n,t))}const jn={closed:!0,next:Tt,error:function rr(n){throw n},complete:Tt},_i="function"==typeof Symbol&&Symbol.observable||"@@observable";function mn(n){return n}function ds(n){return 0===n.length?mn:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let zt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function Se(n){return n&&n instanceof Tn||function Sr(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}(n)&&ot(n)}(e)?e:new Gr(e,i,r);return he(()=>{const{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=us(i))((r,s)=>{const o=new Gr({next:c=>{try{e(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[_i](){return this}pipe(...e){return ds(e)(this)}toPromise(e){return new(e=us(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function us(n){var t;return null!==(t=n??cn.Promise)&&void 0!==t?t:Promise}const Ne=Bt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let _e=(()=>{class n extends zt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new ze(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Ne}next(e){he(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){he(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){he(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?mi:(this.currentObservers=null,s.push(e),new Ue(()=>{this.currentObservers=null,Mt(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new zt;return e.source=this,e}}return n.create=(t,e)=>new ze(t,e),n})();class ze extends _e{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:mi}}function Qe(n){return J(n?.lift)}function ke(n){return t=>{if(Qe(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function lt(n,t,e,i,r){return new _n(n,t,e,i,r)}class _n extends Tn{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(c){try{e(c)}catch(u){t.error(u)}}:super._next,this._error=r?function(c){try{r(c)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Je(n,t){return ke((e,i)=>{let r=0;e.subscribe(lt(i,s=>{i.next(n.call(t,s,r++))}))})}var At=en(582);const vn=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function vi(n){return J(n?.then)}function Pn(n){return J(n[_i])}function qi(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function Si(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ye=function xe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Re(n){return J(n?.[ye])}function Ke(n){return(0,At.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,At.qq)(e.read());if(r)return yield(0,At.qq)(void 0);yield yield(0,At.qq)(i)}}finally{e.releaseLock()}})}function gt(n){return J(n?.getReader)}function ht(n){if(n instanceof zt)return n;if(null!=n){if(Pn(n))return function Ai(n){return new zt(t=>{const e=n[_i]();if(J(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(vn(n))return function Wn(n){return new zt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(vi(n))return function yn(n){return new zt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,st)})}(n);if(qi(n))return Li(n);if(Re(n))return function Fi(n){return new zt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(gt(n))return function yr(n){return Li(Ke(n))}(n)}throw Si(n)}function Li(n){return new zt(t=>{(function Ds(n,t){var e,i,r,s;return(0,At.mG)(this,void 0,void 0,function*(){try{for(e=(0,At.KL)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Xi(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function On(n,t,e=1/0){return J(t)?On((i,r)=>Je((s,o)=>t(i,s,r,o))(ht(n(i,r))),e):("number"==typeof t&&(e=t),ke((i,r)=>function sr(n,t,e,i,r,s,o,c){const u=[];let f=0,_=0,C=!1;const S=()=>{C&&!u.length&&!f&&t.complete()},R=z=>f<i?L(z):u.push(z),L=z=>{s&&t.next(z),f++;let j=!1;ht(e(z,_++)).subscribe(lt(t,ee=>{r?.(ee),s?R(ee):t.next(ee)},()=>{j=!0},void 0,()=>{if(j)try{for(f--;u.length&&f<i;){const ee=u.shift();o?Xi(t,o,()=>L(ee)):L(ee)}S()}catch(ee){t.error(ee)}}))};return n.subscribe(lt(t,R,()=>{C=!0,S()})),()=>{c?.()}}(i,r,n,e)))}function Gn(n=1/0){return On(mn,n)}const oi=new zt(n=>n.complete());function Yr(n){return n&&J(n.schedule)}function ta(n){return n[n.length-1]}function No(n){return J(ta(n))?n.pop():void 0}function Aa(n){return Yr(ta(n))?n.pop():void 0}function Zi(n,t=0){return ke((e,i)=>{e.subscribe(lt(i,r=>Xi(i,n,()=>i.next(r),t),()=>Xi(i,n,()=>i.complete(),t),r=>Xi(i,n,()=>i.error(r),t)))})}function is(n,t=0){return ke((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function il(n,t){if(!n)throw new Error("Iterable cannot be null");return new zt(e=>{Xi(e,t,()=>{const i=n[Symbol.asyncIterator]();Xi(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function de(n,t){return t?function ae(n,t){if(null!=n){if(Pn(n))return function Fo(n,t){return ht(n).pipe(is(t),Zi(t))}(n,t);if(vn(n))return function hd(n,t){return new zt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(vi(n))return function nl(n,t){return ht(n).pipe(is(t),Zi(t))}(n,t);if(qi(n))return il(n,t);if(Re(n))return function Vl(n,t){return new zt(e=>{let i;return Xi(e,t,()=>{i=n[ye](),Xi(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>J(i?.return)&&i.return()})}(n,t);if(gt(n))return function fe(n,t){return il(Ke(n),t)}(n,t)}throw Si(n)}(n,t):ht(n)}function Fe(...n){const t=Aa(n),e=function Ll(n,t){return"number"==typeof ta(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?ht(i[0]):Gn(e)(de(i,t)):oi}class be extends _e{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function Pe(...n){return de(n,Aa(n))}function Ht(n={}){const{connector:t=(()=>new _e),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,c,u,f=0,_=!1,C=!1;const S=()=>{c?.unsubscribe(),c=void 0},R=()=>{S(),o=u=void 0,_=C=!1},L=()=>{const z=o;R(),z?.unsubscribe()};return ke((z,j)=>{f++,!C&&!_&&S();const ee=u=u??t();j.add(()=>{f--,0===f&&!C&&!_&&(c=Sn(L,r))}),ee.subscribe(j),!o&&f>0&&(o=new Gr({next:K=>ee.next(K),error:K=>{C=!0,S(),c=Sn(R,e,K),ee.error(K)},complete:()=>{_=!0,S(),c=Sn(R,i),ee.complete()}}),ht(z).subscribe(o))})(s)}}function Sn(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Gr({next:()=>{i.unsubscribe(),n()}});return ht(t(...e)).subscribe(i)}function tn(n,t){return ke((e,i)=>{let r=null,s=0,o=!1;const c=()=>o&&!r&&i.complete();e.subscribe(lt(i,u=>{r?.unsubscribe();let f=0;const _=s++;ht(n(u,_)).subscribe(r=lt(i,C=>i.next(t?t(u,C,_,f++):C),()=>{r=null,c()}))},()=>{o=!0,c()}))})}function ni(n,t=mn){return n=n??hs,ke((e,i)=>{let r,s=!0;e.subscribe(lt(i,o=>{const c=t(o);(s||!n(r,c))&&(s=!1,r=c,i.next(o))}))})}function hs(n,t){return n===t}function Nt(n){for(let t in n)if(n[t]===Nt)return t;throw Error("Could not find renamed property on target object.")}function br(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function fi(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(fi).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function na(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const rl=Nt({__forward_ref__:Nt});function we(n){return n.__forward_ref__=we,n.toString=function(){return fi(this())},n}function ve(n){return it(n)?n():n}function it(n){return"function"==typeof n&&n.hasOwnProperty(rl)&&n.__forward_ref__===we}function Lt(n){return n&&!!n.\u0275providers}const a="https://g.co/ng/security#xss";class l extends Error{constructor(t,e){super(function d(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function h(n){return"string"==typeof n?n:null==n?"":String(n)}function w(n,t){throw new l(-201,!1)}function X(n,t){null==n&&function Y(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function re(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ae(n){return{providers:n.providers||[],imports:n.imports||[]}}function mt(n){return dn(n,Qn)||dn(n,Hs)}function dn(n,t){return n.hasOwnProperty(t)?n[t]:null}function ai(n){return n&&(n.hasOwnProperty(yi)||n.hasOwnProperty(ia))?n[yi]:null}const Qn=Nt({\u0275prov:Nt}),yi=Nt({\u0275inj:Nt}),Hs=Nt({ngInjectableDef:Nt}),ia=Nt({ngInjectorDef:Nt});var bn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(bn||{});let sl;function Zn(n){const t=sl;return sl=n,t}function Xu(n,t,e){const i=mt(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&bn.Optional?null:void 0!==t?t:void w(fi(n))}const ki=globalThis;class Xe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=re({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ju={},eh="__NG_DI_FLAG__",tp="ngTempTokenPath",rT=/\n/gm,mx="__source";let fd;function Us(n){const t=fd;return fd=n,t}function sT(n,t=bn.Default){if(void 0===fd)throw new l(-203,!1);return null===fd?Xu(n,void 0,t):fd.get(n,t&bn.Optional?null:void 0,t)}function ce(n,t=bn.Default){return(function xr(){return sl}()||sT)(ve(n),t)}function Ze(n,t=bn.Default){return ce(n,gd(t))}function gd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ra(n){const t=[];for(let e=0;e<n.length;e++){const i=ve(n[e]);if(Array.isArray(i)){if(0===i.length)throw new l(900,!1);let r,s=bn.Default;for(let o=0;o<i.length;o++){const c=i[o],u=md(c);"number"==typeof u?-1===u?r=c.token:s|=u:r=c}t.push(ce(r,s))}else t.push(ce(i))}return t}function ka(n,t){return n[eh]=t,n.prototype[eh]=t,n}function md(n){return n[eh]}function Ma(n){return{toString:n}.toString()}var np=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(np||{}),rs=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(rs||{});const Ra={},Vn=[],th=Nt({\u0275cmp:Nt}),ip=Nt({\u0275dir:Nt}),nh=Nt({\u0275pipe:Nt}),lo=Nt({\u0275mod:Nt}),Pa=Nt({\u0275fac:Nt}),ih=Nt({__NG_ELEMENT_ID__:Nt}),rp=Nt({__NG_ENV_ID__:Nt});function rh(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function sp(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],c=e[i++];n.setAttribute(t,o,c,s)}else{const s=r,o=e[++i];yx(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function C_(n){return 3===n||4===n||6===n}function yx(n){return 64===n.charCodeAt(0)}function Dc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||op(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function op(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const c=n[s++];if("number"==typeof c){if(c===t){o=-1;break}if(c>t){o=s-1;break}}}for(;s<n.length;){const c=n[s];if("number"==typeof c)break;if(c===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const ap="ng-template";function lp(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==rh(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function cp(n){return 4===n.type&&n.value!==ap}function bx(n,t,e){return t===(4!==n.type||e?n.value:ap)}function E_(n,t,e){let i=4;const r=n.attrs||[],s=function xx(n){for(let t=0;t<n.length;t++)if(C_(n[t]))return t;return n.length}(r);let o=!1;for(let c=0;c<t.length;c++){const u=t[c];if("number"!=typeof u){if(!o)if(4&i){if(i=2|1&i,""!==u&&!bx(n,u,e)||""===u&&1===t.length){if(Lo(i))return!1;o=!0}}else{const f=8&i?u:t[++c];if(8&i&&null!==n.attrs){if(!lp(n.attrs,f,e)){if(Lo(i))return!1;o=!0}continue}const C=D_(8&i?"class":u,r,cp(n),e);if(-1===C){if(Lo(i))return!1;o=!0;continue}if(""!==f){let S;S=C>s?"":r[C+1].toLowerCase();const R=8&i?S:null;if(R&&-1!==rh(R,f,0)||2&i&&f!==S){if(Lo(i))return!1;o=!0}}}}else{if(!o&&!Lo(i)&&!Lo(u))return!1;if(o&&Lo(u))continue;o=!1,i=u|1&i}}return Lo(i)||o}function Lo(n){return 0==(1&n)}function D_(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let c=t[++r];for(;"string"==typeof c;)c=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function T_(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function sh(n,t,e=!1){for(let i=0;i<t.length;i++)if(E_(n,t[i],e))return!0;return!1}function wx(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function dp(n,t){return n?":not("+t.trim()+")":t}function oT(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const c=n[++e];r+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Lo(o)&&(t+=dp(s,r),r=""),i=o,s=s||!Lo(i);e++}return""!==r&&(t+=dp(s,r)),t}function Wt(n){return Ma(()=>{const t=hp(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===np.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||rs.Emulated,styles:n.styles||Vn,_:null,schemas:n.schemas||null,tView:null,id:""};Cx(e);const i=n.dependencies;return e.directiveDefs=_d(i,!1),e.pipeDefs=_d(i,!0),e.id=function R_(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function A_(n){return $n(n)||kr(n)}function k_(n){return null!==n}function Rt(n){return Ma(()=>({type:n.type,bootstrap:n.bootstrap||Vn,declarations:n.declarations||Vn,imports:n.imports||Vn,exports:n.exports||Vn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function up(n,t){if(null==n)return Ra;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function je(n){return Ma(()=>{const t=hp(n);return Cx(t),t})}function Ar(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function $n(n){return n[th]||null}function kr(n){return n[ip]||null}function Is(n){return n[nh]||null}function js(n,t){const e=n[lo]||null;if(!e&&!0===t)throw new Error(`Type ${fi(n)} does not have '\u0275mod' property.`);return e}function hp(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Ra,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Vn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:up(n.inputs,t),outputs:up(n.outputs)}}function Cx(n){n.features?.forEach(t=>t(n))}function _d(n,t){if(!n)return null;const e=t?Is:A_;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(k_)}const or=0,Et=1,un=2,Vi=3,sa=4,Ic=5,fs=6,Hl=7,hr=8,Oa=9,vd=10,rn=11,ah=12,fp=13,yd=14,Ki=15,lh=16,Ul=17,Na=18,ch=19,P_=20,Fa=21,al=22,La=23,bd=24,An=25,O_=1,Ex=2,Va=7,dh=9,Mr=11;function Ws(n){return Array.isArray(n)&&"object"==typeof n[O_]}function Gs(n){return Array.isArray(n)&&!0===n[O_]}function Dx(n){return 0!=(4&n.flags)}function xd(n){return n.componentOffset>-1}function F_(n){return 1==(1&n.flags)}function Ba(n){return!!n.template}function uh(n){return 0!=(512&n[un])}function oa(n,t){return n.hasOwnProperty(Pa)?n[Pa]:null}let Pr=null,gp=!1;function $s(n){const t=Pr;return Pr=n,t}const Sx={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function B_(n){if(!fh(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Mx(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function z_(n){n.dirty=!0,function kx(n){if(void 0===n.liveConsumerNode)return;const t=gp;gp=!0;try{for(const e of n.liveConsumerNode)e.dirty||z_(e)}finally{gp=t}}(n),n.consumerMarkedDirty?.(n)}function Ac(n){return n&&(n.nextProducerIndex=0),$s(n)}function Cd(n,t){if($s(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(fh(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Ed(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Mx(n){Wl(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(B_(e),i!==e.version))return!0}return!1}function mp(n){if(Wl(n),fh(n))for(let t=0;t<n.producerNode.length;t++)Ed(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ed(n,t){if(function U_(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Wl(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Ed(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Wl(r),r.producerIndexOfThis[i]=t}}function fh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Wl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Rx=null;function Ox(n){const t=$s(null);try{return n()}finally{$s(t)}}const Fx=()=>{},yT=(()=>({...Sx,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Fx}))();class W_{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Nn(){return vp}function vp(n){return n.type.prototype.ngOnChanges&&(n.setInput=G_),bT}function bT(){const n=yp(this),t=n?.current;if(t){const e=n.previous;if(e===Ra)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function G_(n,t,e,i){const r=this.declaredInputs[e],s=yp(n)||function bp(n,t){return n[Lx]=t}(n,{previous:Ra,current:null}),o=s.current||(s.current={}),c=s.previous,u=c[r];o[r]=new W_(u&&u.currentValue,t,c===Ra),n[i]=t}Nn.ngInherit=!0;const Lx="__ngSimpleChanges__";function yp(n){return n[Lx]||null}const Vo=function(n,t,e){},Td="svg";function bi(n){for(;Array.isArray(n);)n=n[or];return n}function xp(n,t){return bi(t[n])}function Ys(n,t){return bi(t[n.index])}function q_(n,t){return n.data[t]}function Sd(n,t){return n[t]}function co(n,t){const e=t[n];return Ws(e)?e:e[or]}function $l(n,t){return null==t?null:n[t]}function wp(n){n[Ul]=0}function K_(n){1024&n[un]||(n[un]|=1024,Ad(n,1))}function Vx(n){1024&n[un]&&(n[un]&=-1025,Ad(n,-1))}function Ad(n,t){let e=n[Vi];if(null===e)return;e[Ic]+=t;let i=e;for(e=e[Vi];null!==e&&(1===t&&1===i[Ic]||-1===t&&0===i[Ic]);)e[Ic]+=t,i=e,e=e[Vi]}const Jt={lFrame:Gx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function J_(){return Jt.bindingsEnabled}function kd(){return null!==Jt.skipHydrationRootTNode}function tt(){return Jt.lFrame.lView}function Yn(){return Jt.lFrame.tView}function bt(n){return Jt.lFrame.contextLView=n,n[hr]}function Ct(n){return Jt.lFrame.contextLView=null,n}function Or(){let n=gh();for(;null!==n&&64===n.type;)n=n.parent;return n}function gh(){return Jt.lFrame.currentTNode}function aa(n,t){const e=Jt.lFrame;e.currentTNode=n,e.isParent=t}function mh(){return Jt.lFrame.isParent}function nv(){Jt.lFrame.isParent=!1}function Ts(){const n=Jt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function za(){return Jt.lFrame.bindingIndex}function Md(){return Jt.lFrame.bindingIndex++}function ll(n){const t=Jt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function kT(n,t){const e=Jt.lFrame;e.bindingIndex=e.bindingRootIndex=n,Ip(t)}function Ip(n){Jt.lFrame.currentDirectiveIndex=n}function rv(n){const t=Jt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function _h(){return Jt.lFrame.currentQueryIndex}function sv(n){Jt.lFrame.currentQueryIndex=n}function RT(n){const t=n[Et];return 2===t.type?t.declTNode:1===t.type?n[fs]:null}function jx(n,t,e){if(e&bn.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&bn.Host||(r=RT(s),null===r||(s=s[yd],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Jt.lFrame=Wx();return i.currentTNode=t,i.lView=n,!0}function ov(n){const t=Wx(),e=n[Et];Jt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Wx(){const n=Jt.lFrame,t=null===n?null:n.child;return null===t?Gx(n):t}function Gx(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function $x(){const n=Jt.lFrame;return Jt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Yx=$x;function vh(){const n=$x();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ss(){return Jt.lFrame.selectedIndex}function Mc(n){Jt.lFrame.selectedIndex=n}function Qi(){const n=Jt.lFrame;return q_(n.tView,n.selectedIndex)}function Tp(){Jt.lFrame.currentNamespace=Td}let Zx=!0;function Rd(){return Zx}function Ha(n){Zx=n}function Pd(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:_}=s;o&&(n.contentHooks??=[]).push(-e,o),c&&((n.contentHooks??=[]).push(e,c),(n.contentCheckHooks??=[]).push(e,c)),u&&(n.viewHooks??=[]).push(-e,u),f&&((n.viewHooks??=[]).push(e,f),(n.viewCheckHooks??=[]).push(e,f)),null!=_&&(n.destroyHooks??=[]).push(e,_)}}function Sp(n,t,e){Ap(n,t,3,e)}function yh(n,t,e,i){(3&n[un])===e&&Ap(n,t,e,i)}function av(n,t){let e=n[un];(3&e)===t&&(e&=8191,e+=1,n[un]=e)}function Ap(n,t,e,i){const s=i??-1,o=t.length-1;let c=0;for(let u=void 0!==i?65535&n[Ul]:0;u<o;u++)if("number"==typeof t[u+1]){if(c=t[u],null!=i&&c>=i)break}else t[u]<0&&(n[Ul]+=65536),(c<s||-1==s)&&(k2(n,e,t,u),n[Ul]=(4294901760&n[Ul])+u+2),u++}function Kx(n,t){Vo(4,n,t);const e=$s(null);try{t.call(n)}finally{$s(e),Vo(5,n,t)}}function k2(n,t,e,i){const r=e[i]<0,s=e[i+1],c=n[r?-e[i]:e[i]];r?n[un]>>13<n[Ul]>>16&&(3&n[un])===t&&(n[un]+=8192,Kx(c,s)):Kx(c,s)}const Yl=-1;class Od{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Rp(n){return n!==Yl}function bh(n){return 32767&n}function la(n,t){let e=function O2(n){return n>>16}(n),i=t;for(;e>0;)i=i[yd],e--;return i}let lv=!0;function Pp(n){const t=lv;return lv=n,t}const Jx=255,Op=5;let HT=0;const Ua={};function Np(n,t){const e=Fp(n,t);if(-1!==e)return e;const i=t[Et];i.firstCreatePass&&(n.injectorIndex=t.length,dv(i.data,n),dv(t,null),dv(i.blueprint,null));const r=Lp(n,t),s=n.injectorIndex;if(Rp(r)){const o=bh(r),c=la(r,t),u=c[Et].data;for(let f=0;f<8;f++)t[s+f]=c[o+f]|u[o+f]}return t[s+8]=r,s}function dv(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Fp(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Lp(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=rw(r),null===i)return Yl;if(e++,r=r[yd],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Yl}function uv(n,t,e){!function cv(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ih)&&(i=e[ih]),null==i&&(i=e[ih]=HT++);const r=i&Jx;t.data[n+(r>>Op)]|=1<<r}(n,t,e)}function ew(n,t,e){if(e&bn.Optional||void 0!==n)return n;w()}function tw(n,t,e,i){if(e&bn.Optional&&void 0===i&&(i=null),!(e&(bn.Self|bn.Host))){const r=n[Oa],s=Zn(void 0);try{return r?r.get(t,i,e&bn.Optional):Xu(t,i,e&bn.Optional)}finally{Zn(s)}}return ew(i,0,e)}function hv(n,t,e,i=bn.Default,r){if(null!==n){if(2048&t[un]&&!(i&bn.Self)){const o=function $T(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[un]&&!(512&o[un]);){const c=Vp(s,o,e,i|bn.Self,Ua);if(c!==Ua)return c;let u=s.parent;if(!u){const f=o[P_];if(f){const _=f.get(e,Ua,i);if(_!==Ua)return _}u=rw(o),o=o[yd]}s=u}return r}(n,t,e,i,Ua);if(o!==Ua)return o}const s=Vp(n,t,e,i,Ua);if(s!==Ua)return s}return tw(t,e,i,r)}function Vp(n,t,e,i,r){const s=function fv(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ih)?n[ih]:void 0;return"number"==typeof t?t>=0?t&Jx:GT:t}(e);if("function"==typeof s){if(!jx(t,n,i))return i&bn.Host?ew(r,0,i):tw(t,e,i,r);try{let o;if(o=s(i),null!=o||i&bn.Optional)return o;w()}finally{Yx()}}else if("number"==typeof s){let o=null,c=Fp(n,t),u=Yl,f=i&bn.Host?t[Ki][fs]:null;for((-1===c||i&bn.SkipSelf)&&(u=-1===c?Lp(n,t):t[c+8],u!==Yl&&iw(i,!1)?(o=t[Et],c=bh(u),t=la(u,t)):c=-1);-1!==c;){const _=t[Et];if(nw(s,c,_.data)){const C=jT(c,t,e,o,i,f);if(C!==Ua)return C}u=t[c+8],u!==Yl&&iw(i,t[Et].data[c+8]===f)&&nw(s,c,t)?(o=_,c=bh(u),t=la(u,t)):c=-1}}return r}function jT(n,t,e,i,r,s){const o=t[Et],c=o.data[n+8],_=Bp(c,o,e,null==i?xd(c)&&lv:i!=o&&0!=(3&c.type),r&bn.Host&&s===c);return null!==_?cl(t,o,_,c):Ua}function Bp(n,t,e,i,r){const s=n.providerIndexes,o=t.data,c=1048575&s,u=n.directiveStart,_=s>>20,S=r?c+_:n.directiveEnd;for(let R=i?c:c+_;R<S;R++){const L=o[R];if(R<u&&e===L||R>=u&&L.type===e)return R}if(r){const R=o[u];if(R&&Ba(R)&&R.type===e)return u}return null}function cl(n,t,e,i){let r=n[e];const s=t.data;if(function kp(n){return n instanceof Od}(r)){const o=r;o.resolving&&function g(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new l(-200,`Circular dependency in DI detected for ${n}${e}`)}(function p(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():h(n)}(s[e]));const c=Pp(o.canSeeViewProviders);o.resolving=!0;const f=o.injectImpl?Zn(o.injectImpl):null;jx(n,i,bn.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function LT(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=vp(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==f&&Zn(f),Pp(c),o.resolving=!1,Yx()}}return r}function nw(n,t,e){return!!(e[t+(n>>Op)]&1<<n)}function iw(n,t){return!(n&bn.Self||n&bn.Host&&t)}class As{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return hv(this._tNode,this._lView,t,gd(i),e)}}function GT(){return new As(Or(),tt())}function Mi(n){return Ma(()=>{const t=n.prototype.constructor,e=t[Pa]||pv(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Pa]||pv(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function pv(n){return it(n)?()=>{const t=pv(ve(n));return t&&t()}:oa(n)}function rw(n){const t=n[Et],e=t.type;return 2===e?t.declTNode:1===e?n[fs]:null}function Xl(n){return function UT(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(C_(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(Or(),n)}const Nd="__parameters__";function Fd(n,t,e){return Ma(()=>{const i=function gv(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return c.annotation=o,c;function c(u,f,_){const C=u.hasOwnProperty(Nd)?u[Nd]:Object.defineProperty(u,Nd,{value:[]})[Nd];for(;C.length<=_;)C.push(null);return(C[_]=C[_]||[]).push(o),u}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Ld(n,t){n.forEach(e=>Array.isArray(e)?Ld(e,t):t(e))}function dl(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function wh(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ch(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function ks(n,t,e){let i=Vd(n,t);return i>=0?n[1|i]=e:(i=~i,function uw(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Eh(n,t){const e=Vd(n,t);if(e>=0)return n[1|e]}function Vd(n,t){return function Bd(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const v=ka(Fd("Optional"),8),T=ka(Fd("SkipSelf"),4);function ww(n){return 128==(128&n.flags)}var zd=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(zd||{});const UQ=/^>|^->|<!--|-->|--!>|<!-$/g,jQ=/(<|>)/g,WQ="\u200b$1\u200b";const nS=new Map;let GQ=0;const rS="__ngContext__";function qs(n,t){Ws(t)?(n[rS]=t[ch],function YQ(n){nS.set(n[ch],n)}(t)):n[rS]=t}let sS;function oS(n,t){return sS(n,t)}function Ev(n){const t=n[Vi];return Gs(t)?t[Vi]:t}function Q2(n){return eV(n[ah])}function J2(n){return eV(n[sa])}function eV(n){for(;null!==n&&!Gs(n);)n=n[sa];return n}function jp(n,t,e,i,r){if(null!=i){let s,o=!1;Gs(i)?s=i:Ws(i)&&(o=!0,i=i[or]);const c=bi(i);0===n&&null!==e?null==r?rV(t,e,c):Ih(t,e,c,r||null,!0):1===n&&null!==e?Ih(t,e,c,r||null,!0):2===n?function Aw(n,t,e){const i=Tw(n,t);i&&function hJ(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,c,o):3===n&&t.destroyNode(c),null!=s&&function gJ(n,t,e,i,r){const s=e[Va];s!==bi(e)&&jp(t,n,i,s,r);for(let c=Mr;c<e.length;c++){const u=e[c];Iv(u[Et],u,n,t,i,s)}}(t,n,s,e,r)}}function aS(n,t){return n.createComment(function W2(n){return n.replace(UQ,t=>t.replace(jQ,WQ))}(t))}function Dw(n,t,e){return n.createElement(t,e)}function nV(n,t){const e=n[dh],i=e.indexOf(t);Vx(t),e.splice(i,1)}function Iw(n,t){if(n.length<=Mr)return;const e=Mr+t,i=n[e];if(i){const r=i[lh];null!==r&&r!==n&&nV(r,i),t>0&&(n[e-1][sa]=i[sa]);const s=wh(n,Mr+t);!function rJ(n,t){Iv(n,t,t[rn],2,null,null),t[or]=null,t[fs]=null}(i[Et],i);const o=s[Na];null!==o&&o.detachView(s[Et]),i[Vi]=null,i[sa]=null,i[un]&=-129}return i}function lS(n,t){if(!(256&t[un])){const e=t[rn];t[La]&&mp(t[La]),t[bd]&&mp(t[bd]),e.destroyNode&&Iv(n,t,e,3,null,null),function aJ(n){let t=n[ah];if(!t)return cS(n[Et],n);for(;t;){let e=null;if(Ws(t))e=t[ah];else{const i=t[Mr];i&&(e=i)}if(!e){for(;t&&!t[sa]&&t!==n;)Ws(t)&&cS(t[Et],t),t=t[Vi];null===t&&(t=n),Ws(t)&&cS(t[Et],t),e=t&&t[sa]}t=e}}(t)}}function cS(n,t){if(!(256&t[un])){t[un]&=-129,t[un]|=256,function uJ(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Od)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const c=r[s[o]],u=s[o+1];Vo(4,c,u);try{u.call(c)}finally{Vo(5,c,u)}}else{Vo(4,r,s);try{s.call(r)}finally{Vo(5,r,s)}}}}}(n,t),function dJ(n,t){const e=n.cleanup,i=t[Hl];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[Hl]=null);const r=t[Fa];if(null!==r){t[Fa]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[Et].type&&t[rn].destroy();const e=t[lh];if(null!==e&&Gs(t[Vi])){e!==t[Vi]&&nV(e,t);const i=t[Na];null!==i&&i.detachView(n)}!function qQ(n){nS.delete(n[ch])}(t)}}function dS(n,t,e){return function iV(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[or];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===rs.None||s===rs.Emulated)return null}return Ys(i,e)}}(n,t.parent,e)}function Ih(n,t,e,i,r){n.insertBefore(t,e,i,r)}function rV(n,t,e){n.appendChild(t,e)}function sV(n,t,e,i,r){null!==i?Ih(n,t,e,i,r):rV(n,t,e)}function Tw(n,t){return n.parentNode(t)}function oV(n,t,e){return lV(n,t,e)}let uS,kw,gS,Mw,lV=function aV(n,t,e){return 40&n.type?Ys(n,e):null};function Sw(n,t,e,i){const r=dS(n,i,t),s=t[rn],c=oV(i.parent||t[fs],i,t);if(null!=r)if(Array.isArray(e))for(let u=0;u<e.length;u++)sV(s,r,e[u],c,!1);else sV(s,r,e,c,!1);void 0!==uS&&uS(s,i,t,e,r)}function Dv(n,t){if(null!==t){const e=t.type;if(3&e)return Ys(t,n);if(4&e)return hS(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Dv(n,i);{const r=n[t.index];return Gs(r)?hS(-1,r):bi(r)}}if(32&e)return oS(t,n)()||bi(n[t.index]);{const i=dV(n,t);return null!==i?Array.isArray(i)?i[0]:Dv(Ev(n[Ki]),i):Dv(n,t.next)}}return null}function dV(n,t){return null!==t?n[Ki][fs].projection[t.projection]:null}function hS(n,t){const e=Mr+n+1;if(e<t.length){const i=t[e],r=i[Et].firstChild;if(null!==r)return Dv(i,r)}return t[Va]}function fS(n,t,e,i,r,s,o){for(;null!=e;){const c=i[e.index],u=e.type;if(o&&0===t&&(c&&qs(bi(c),i),e.flags|=2),32!=(32&e.flags))if(8&u)fS(n,t,e.child,i,r,s,!1),jp(t,n,r,c,s);else if(32&u){const f=oS(e,i);let _;for(;_=f();)jp(t,n,r,_,s);jp(t,n,r,c,s)}else 16&u?hV(n,t,i,e,r,s):jp(t,n,r,c,s);e=o?e.projectionNext:e.next}}function Iv(n,t,e,i,r,s){fS(e,i,n.firstChild,t,r,s,!1)}function hV(n,t,e,i,r,s){const o=e[Ki],u=o[fs].projection[i.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)jp(t,n,r,u[f],s);else{let f=u;const _=o[Vi];ww(i)&&(f.flags|=128),fS(n,t,f,_,r,s,!0)}}function fV(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function pV(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&sp(n,t,i),null!==r&&fV(n,t,r),null!==s&&function _J(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function Wp(n){return function pS(){if(void 0===kw&&(kw=null,ki.trustedTypes))try{kw=ki.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return kw}()?.createHTML(n)||n}function Gp(){if(void 0!==gS)return gS;if(typeof document<"u")return document;throw new l(210,!1)}function mS(){if(void 0===Mw&&(Mw=null,ki.trustedTypes))try{Mw=ki.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Mw}function gV(n){return mS()?.createHTML(n)||n}function _V(n){return mS()?.createScriptURL(n)||n}class Th{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${a})`}}class wJ extends Th{getTypeName(){return"HTML"}}class CJ extends Th{getTypeName(){return"Style"}}class EJ extends Th{getTypeName(){return"Script"}}class DJ extends Th{getTypeName(){return"URL"}}class IJ extends Th{getTypeName(){return"ResourceURL"}}function da(n){return n instanceof Th?n.changingThisBreaksApplicationSecurity:n}function Kl(n,t){const e=function TJ(n){return n instanceof Th&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${a})`)}return e===t}class PJ{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Wp(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class OJ{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Wp(t),e}}const FJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rw(n){return(n=String(n)).match(FJ)?n:"unsafe:"+n}function Oc(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Tv(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const yV=Oc("area,br,col,hr,img,wbr"),bV=Oc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xV=Oc("rp,rt"),_S=Tv(yV,Tv(bV,Oc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tv(xV,Oc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tv(xV,bV)),vS=Oc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wV=Tv(vS,Oc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),LJ=Oc("script,style,template");class VJ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!_S.hasOwnProperty(e))return this.sanitizedSomething=!0,!LJ.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,c=o.toLowerCase();if(!wV.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=s.value;vS[c]&&(u=Rw(u)),this.buf.push(" ",o,'="',CV(u),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();_S.hasOwnProperty(e)&&!yV.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(CV(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const BJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zJ=/([^\#-~ |!])/g;function CV(n){return n.replace(/&/g,"&amp;").replace(BJ,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(zJ,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pw;function EV(n,t){let e=null;try{Pw=Pw||function vV(n){const t=new OJ(n);return function NJ(){try{return!!(new window.DOMParser).parseFromString(Wp(""),"text/html")}catch{return!1}}()?new PJ(t):t}(n);let i=t?String(t):"";e=Pw.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Pw.getInertBodyElement(i)}while(i!==s);return Wp((new VJ).sanitizeChildren(yS(e)||e))}finally{if(e){const i=yS(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function yS(n){return"content"in n&&function HJ(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ua=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ua||{});function $p(n){const t=Sv();return t?gV(t.sanitize(ua.HTML,n)||""):Kl(n,"HTML")?gV(da(n)):EV(Gp(),h(n))}function Yp(n){const t=Sv();return t?t.sanitize(ua.URL,n)||"":Kl(n,"URL")?da(n):Rw(h(n))}function DV(n){const t=Sv();if(t)return _V(t.sanitize(ua.RESOURCE_URL,n)||"");if(Kl(n,"ResourceURL"))return _V(da(n));throw new l(904,!1)}function Sv(){const n=tt();return n&&n[vd].sanitizer}const Av=new Xe("ENVIRONMENT_INITIALIZER"),TV=new Xe("INJECTOR",-1),SV=new Xe("INJECTOR_DEF_TYPES");class bS{get(t,e=Ju){if(e===Ju){const i=new Error(`NullInjectorError: No provider for ${fi(t)}!`);throw i.name="NullInjectorError",i}return e}}function Ow(n){return{\u0275providers:n}}function YJ(...n){return{\u0275providers:AV(0,n),\u0275fromNgModule:!0}}function AV(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return Ld(t,o=>{const c=o;Nw(c,s,[],i)&&(r||=[],r.push(c))}),void 0!==r&&kV(r,s),e}function kV(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];xS(r,s=>{t(s,i)})}}function Nw(n,t,e,i){if(!(n=ve(n)))return!1;let r=null,s=ai(n);const o=!s&&$n(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const u=n.ngModule;if(s=ai(u),!s)return!1;r=u}const c=i.has(r);if(o){if(c)return!1;if(i.add(r),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const f of u)Nw(f,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let f;i.add(r);try{Ld(s.imports,_=>{Nw(_,t,e,i)&&(f||=[],f.push(_))})}finally{}void 0!==f&&kV(f,t)}if(!c){const f=oa(r)||(()=>new r);t({provide:r,useFactory:f,deps:Vn},r),t({provide:SV,useValue:r,multi:!0},r),t({provide:Av,useValue:()=>ce(r),multi:!0},r)}const u=s.providers;if(null!=u&&!c){const f=n;xS(u,_=>{t(_,f)})}}}return r!==n&&void 0!==n.providers}function xS(n,t){for(let e of n)Lt(e)&&(e=e.\u0275providers),Array.isArray(e)?xS(e,t):t(e)}const qJ=Nt({provide:String,useValue:Nt});function wS(n){return null!==n&&"object"==typeof n&&qJ in n}function Sh(n){return"function"==typeof n}const CS=new Xe("Set Injector scope."),Fw={},ZJ={};let ES;function Lw(){return void 0===ES&&(ES=new bS),ES}class fo{}class qp extends fo{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,IS(t,o=>this.processProvider(o)),this.records.set(TV,Xp(void 0,this)),r.has("environment")&&this.records.set(fo,Xp(void 0,this));const s=this.records.get(CS);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(SV.multi,Vn,bn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Us(this),i=Zn(void 0);try{return t()}finally{Us(e),Zn(i)}}get(t,e=Ju,i=bn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(rp))return t[rp](this);i=gd(i);const s=Us(this),o=Zn(void 0);try{if(!(i&bn.SkipSelf)){let u=this.records.get(t);if(void 0===u){const f=function tee(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xe}(t)&&mt(t);u=f&&this.injectableDefInScope(f)?Xp(DS(t),Fw):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(i&bn.Self?Lw():this.parent).get(t,e=i&bn.Optional&&e===Ju?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[tp]=c[tp]||[]).unshift(fi(t)),s)throw c;return function _x(n,t,e,i){const r=n[tp];throw t[mx]&&r.unshift(t[mx]),n.message=function vx(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=fi(t);if(Array.isArray(t))r=t.map(fi).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let c=t[o];s.push(o+":"+("string"==typeof c?JSON.stringify(c):fi(c)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(rT,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[tp]=null,n}(c,t,"R3InjectorError",this.source)}throw c}finally{Zn(o),Us(s)}}resolveInjectorInitializers(){const t=Us(this),e=Zn(void 0);try{const r=this.get(Av.multi,Vn,bn.Self);for(const s of r)s()}finally{Us(t),Zn(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(fi(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new l(205,!1)}processProvider(t){let e=Sh(t=ve(t))?t:ve(t&&t.provide);const i=function QJ(n){return wS(n)?Xp(void 0,n.useValue):Xp(PV(n),Fw)}(t);if(Sh(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Xp(void 0,Fw,!0),r.factory=()=>ra(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Fw&&(e.value=ZJ,e.value=e.factory()),"object"==typeof e.value&&e.value&&function eee(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ve(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function DS(n){const t=mt(n),e=null!==t?t.factory:oa(n);if(null!==e)return e;if(n instanceof Xe)throw new l(204,!1);if(n instanceof Function)return function KJ(n){const t=n.length;if(t>0)throw Ch(t,"?"),new l(204,!1);const e=function Ln(n){return n&&(n[Qn]||n[Hs])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new l(204,!1)}function PV(n,t,e){let i;if(Sh(n)){const r=ve(n);return oa(r)||DS(r)}if(wS(n))i=()=>ve(n.useValue);else if(function RV(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...ra(n.deps||[]));else if(function MV(n){return!(!n||!n.useExisting)}(n))i=()=>ce(ve(n.useExisting));else{const r=ve(n&&(n.useClass||n.provide));if(!function JJ(n){return!!n.deps}(n))return oa(r)||DS(r);i=()=>new r(...ra(n.deps))}return i}function Xp(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function IS(n,t){for(const e of n)Array.isArray(e)?IS(e,t):e&&Lt(e)?IS(e.\u0275providers,t):t(e)}const Vw=new Xe("AppId",{providedIn:"root",factory:()=>nee}),nee="ng",OV=new Xe("Platform Initializer"),po=new Xe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hd=new Xe("AnimationModuleType"),TS=new Xe("CSP nonce",{providedIn:"root",factory:()=>Gp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let NV=(n,t,e)=>null;function NS(n,t,e=!1){return NV(n,t,e)}class hee{}class VV{}class pee{resolveComponentFactory(t){throw function fee(n){const t=Error(`No component factory found for ${fi(n)}.`);return t.ngComponent=n,t}(t)}}let Ud=(()=>{class n{static#e=this.NULL=new pee}return n})();function gee(){return Qp(Or(),tt())}function Qp(n,t){return new Gt(Ys(n,t))}let Gt=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=gee}return n})();function mee(n){return n instanceof Gt?n.nativeElement:n}class Jp{}let Xr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function _ee(){const n=tt(),e=co(Or().index,n);return(Ws(e)?e:n)[rn]}()}return n})(),vee=(()=>{class n{static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:()=>null})}return n})();class jd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const zV=new jd("16.2.12"),VS={};function WV(n,t=null,e=null,i){const r=GV(n,t,e,i);return r.resolveInjectorInitializers(),r}function GV(n,t=null,e=null,i,r=new Set){const s=[e||Vn,YJ(n)];return i=i||("object"==typeof n?void 0:fi(n)),new qp(s,t||Lw(),i||null,r)}let fr=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Ju;static#t=this.NULL=new bS;static create(e,i){if(Array.isArray(e))return WV({name:""},i,e,"");{const r=e.name??"";return WV({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=re({token:n,providedIn:"any",factory:()=>ce(TV)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function BS(n){return n.ngOriginalError}class Nc{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&BS(t);for(;e&&BS(e);)e=BS(e);return e||null}}function zS(n){return t=>{setTimeout(n,void 0,t)}}const Be=class Iee extends _e{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const u=t;r=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=zS(s),r&&(r=zS(r)),o&&(o=zS(o)));const c=super.subscribe({next:r,error:s,complete:o});return t instanceof Ue&&t.add(c),c}};function YV(...n){}class at{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Be(!1),this.onMicrotaskEmpty=new Be(!1),this.onStable=new Be(!1),this.onError=new Be(!1),typeof Zone>"u")throw new l(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Tee(){const n="function"==typeof ki.requestAnimationFrame;let t=ki[n?"requestAnimationFrame":"setTimeout"],e=ki[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function kee(n){const t=()=>{!function Aee(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ki,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,US(n),n.isCheckStableRunning=!0,HS(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),US(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,c)=>{if(function Ree(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(c))return e.invokeTask(r,s,o,c);try{return qV(n),e.invokeTask(r,s,o,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),XV(n)}},onInvoke:(e,i,r,s,o,c,u)=>{try{return qV(n),e.invoke(r,s,o,c,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),XV(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,US(n),HS(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!at.isInAngularZone())throw new l(909,!1)}static assertNotInAngularZone(){if(at.isInAngularZone())throw new l(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,See,YV,YV);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const See={};function HS(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function US(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function qV(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function XV(n){n._nesting--,HS(n)}class Mee{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Be,this.onMicrotaskEmpty=new Be,this.onStable=new Be,this.onError=new Be}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const ZV=new Xe("",{providedIn:"root",factory:KV});function KV(){const n=Ze(at);let t=!0;return Fe(new zt(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new zt(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{at.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{at.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Ht()))}function QV(n){return n.ownerDocument.defaultView}function Fc(n){return n instanceof Function?n():n}let jS=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})();function Rv(n){for(;n;){n[un]|=64;const t=Ev(n);if(uh(n)&&!t)return n;n=t}return null}const iB=new Xe("",{providedIn:"root",factory:()=>!1});let $w=null;function aB(n,t){return n[t]??dB()}function lB(n,t){const e=dB();e.producerNode?.length&&(n[t]=$w,e.lView=n,$w=cB())}const Hee={...Sx,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Rv(n.lView)},lView:null};function cB(){return Object.create(Hee)}function dB(){return $w??=cB(),$w}const pn={};function se(n){uB(Yn(),tt(),Ss()+n,!1)}function uB(n,t,e,i){if(!i)if(3==(3&t[un])){const s=n.preOrderCheckHooks;null!==s&&Sp(t,s,e)}else{const s=n.preOrderHooks;null!==s&&yh(t,s,0,e)}Mc(e)}function $(n,t=bn.Default){const e=tt();return null===e?ce(n,t):hv(Or(),e,ve(n),t)}function Yw(){throw new Error("invalid")}function qw(n,t,e,i,r,s,o,c,u,f,_){const C=t.blueprint.slice();return C[or]=r,C[un]=140|i,(null!==f||n&&2048&n[un])&&(C[un]|=2048),wp(C),C[Vi]=C[yd]=n,C[hr]=e,C[vd]=o||n&&n[vd],C[rn]=c||n&&n[rn],C[Oa]=u||n&&n[Oa]||null,C[fs]=s,C[ch]=function $Q(){return GQ++}(),C[al]=_,C[P_]=f,C[Ki]=2==t.type?n[Ki]:C,C}function ig(n,t,e,i,r){let s=n.data[t];if(null===s)s=function WS(n,t,e,i,r){const s=gh(),o=mh(),u=n.data[t]=function Xee(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,c=0;return kd()&&(c|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,t,e,i,r),function AT(){return Jt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function kc(){const n=Jt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return aa(s,!0),s}function Pv(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function hB(n,t,e,i,r){const s=aB(t,La),o=Ss(),c=2&i;try{Mc(-1),c&&t.length>An&&uB(n,t,An,!1),Vo(c?2:0,r);const f=c?s:null,_=Ac(f);try{null!==f&&(f.dirty=!1),e(i,r)}finally{Cd(f,_)}}finally{c&&null===t[La]&&lB(t,La),Mc(o),Vo(c?3:1,r)}}function GS(n,t,e){if(Dx(t)){const i=$s(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const c=n.data[o];c.contentQueries&&c.contentQueries(1,e[o],o)}}finally{$s(i)}}}function $S(n,t,e){J_()&&(function nte(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;xd(e)&&function cte(n,t,e){const i=Ys(t,n),r=fB(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const c=Xw(n,qw(n,r,null,o,i,t,null,n[vd].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=c}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Np(e,t),qs(i,t);const o=e.initialInputs;for(let c=r;c<s;c++){const u=n.data[c],f=cl(t,n,c,e);qs(f,t),null!==o&&dte(0,c-r,f,u,0,o),Ba(u)&&(co(e.index,t)[hr]=cl(t,n,c,e))}}(n,t,e,Ys(e,t)),64==(64&e.flags)&&vB(n,t,e))}function YS(n,t,e=Ys){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],c=-1===o?e(t,n):n[o];n[r++]=c}}}function fB(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=qS(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function qS(n,t,e,i,r,s,o,c,u,f,_){const C=An+i,S=C+r,R=function jee(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:pn);return e}(C,S),L="function"==typeof f?f():f;return R[Et]={type:n,blueprint:R,template:e,queries:null,viewQuery:c,declTNode:t,data:R.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:L,incompleteFirstPass:!1,ssrId:_}}let pB=n=>null;function gB(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?mB(e,t,r,s):i.hasOwnProperty(r)&&mB(e,t,i[r],s)}return e}function mB(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function ha(n,t,e,i,r,s,o,c){const u=Ys(t,e);let _,f=t.inputs;!c&&null!=f&&(_=f[i])?(JS(n,e,_,i,r),xd(t)&&function Qee(n,t){const e=co(t,n);16&e[un]||(e[un]|=64)}(e,t.index)):3&t.type&&(i=function Kee(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(u,i,r))}function XS(n,t,e,i){if(J_()){const r=null===i?null:{"":-1},s=function rte(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(sh(t,o.selectors,!1))if(i||(i=[]),Ba(o))if(null!==o.findHostDirectiveDefs){const c=[];r=r||new Map,o.findHostDirectiveDefs(o,c,r),i.unshift(...c,o),ZS(n,t,c.length)}else i.unshift(o),ZS(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,c;null===s?o=c=null:[o,c]=s,null!==o&&_B(n,t,e,o,r,c),r&&function ste(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new l(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=Dc(e.mergedAttrs,e.attrs)}function _B(n,t,e,i,r,s){for(let f=0;f<i.length;f++)uv(Np(e,t),n,i[f].type);!function ate(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let f=0;f<i.length;f++){const _=i[f];_.providersResolver&&_.providersResolver(_)}let o=!1,c=!1,u=Pv(n,t,i.length,null);for(let f=0;f<i.length;f++){const _=i[f];e.mergedAttrs=Dc(e.mergedAttrs,_.hostAttrs),lte(n,e,t,u,_),ote(u,_,r),null!==_.contentQueries&&(e.flags|=4),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(e.flags|=64);const C=_.type.prototype;!o&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!c&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),c=!0),u++}!function Zee(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,c=[];let u=null,f=null;for(let _=t.directiveStart;_<r;_++){const C=s[_],S=e?e.get(C):null,L=S?S.outputs:null;u=gB(C.inputs,_,u,S?S.inputs:null),f=gB(C.outputs,_,f,L);const z=null===u||null===o||cp(t)?null:ute(u,_,o);c.push(z)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=u,t.outputs=f}(n,e,s)}function vB(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function MT(){return Jt.lFrame.currentDirectiveIndex}();try{Mc(s);for(let c=i;c<r;c++){const u=n.data[c],f=t[c];Ip(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&ite(u,f)}}finally{Mc(-1),Ip(o)}}function ite(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function ZS(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function ote(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Ba(t)&&(e[""]=n)}}function lte(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=oa(r.type)),o=new Od(s,Ba(r),$);n.blueprint[i]=o,e[i]=o,function ete(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const c=~t.index;(function tte(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=c&&o.push(c),o.push(e,i,s)}}(n,t,i,Pv(n,e,r.hostVars,pn),r)}function Ql(n,t,e,i,r,s){const o=Ys(n,t);!function KS(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const c=null==o?h(s):o(s,i||"",r);n.setAttribute(t,r,c,e)}}(t[rn],o,s,n.value,e,i,r)}function dte(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let c=0;c<o.length;)yB(i,e,o[c++],o[c++],o[c++])}function yB(n,t,e,i,r){const s=$s(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{$s(s)}}function ute(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let c=0;c<o.length;c+=2)if(o[c]===t){i.push(s,o[c+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function bB(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function xB(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];sv(e[i]),o.contentQueries(2,t[s],s)}}}function Xw(n,t){return n[ah]?n[fp][sa]=t:n[ah]=t,n[fp]=t,t}function QS(n,t,e){sv(0);const i=$s(null);try{t(n,e)}finally{$s(i)}}function wB(n){return n[Hl]||(n[Hl]=[])}function CB(n){return n.cleanup||(n.cleanup=[])}function EB(n,t,e){return(null===n||Ba(n))&&(e=function $_(n){for(;Array.isArray(n);){if("object"==typeof n[O_])return n;n=n[or]}return null}(e[t.index])),e[rn]}function DB(n,t){const e=n[Oa],i=e?e.get(Nc,null):null;i&&i.handleError(t)}function JS(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],c=e[s++];yB(n.data[o],t[o],i,c,r)}}function Lc(n,t,e){const i=xp(t,n);!function tV(n,t,e){n.setValue(t,e)}(n[rn],i,e)}function hte(n,t){const e=co(t,n),i=e[Et];!function fte(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[or];null!==r&&null===e[al]&&(e[al]=NS(r,e[Oa])),eA(i,e,e[hr])}function eA(n,t,e){ov(t);try{const i=n.viewQuery;null!==i&&QS(1,i,e);const r=n.template;null!==r&&hB(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&xB(n,t),n.staticViewQueries&&QS(2,n.viewQuery,e);const s=n.components;null!==s&&function pte(n,t){for(let e=0;e<t.length;e++)hte(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[un]&=-5,vh()}}let IB=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function Nx(n,t,e){const i=Object.create(yT);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>z_(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Mx(i))return;i.hasRun=!0;const o=Ac(i);try{i.cleanupFn(),i.cleanupFn=Fx,i.fn(r)}finally{Cd(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,f=>{this.all.has(f)&&this.queue.set(f,s)},r);let c;this.all.add(o),o.notify();const u=()=>{o.cleanup(),c?.(),this.all.delete(o),this.queue.delete(o)};return c=i?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})();function Zw(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const c=t[o];"number"==typeof c?s=c:1==s?r=na(r,c):2==s&&(i=na(i,c+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function Ov(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(bi(s)),Gs(s)&&TB(s,i);const o=e.type;if(8&o)Ov(n,t,e.child,i);else if(32&o){const c=oS(e,t);let u;for(;u=c();)i.push(u)}else if(16&o){const c=dV(t,e);if(Array.isArray(c))i.push(...c);else{const u=Ev(t[Ki]);Ov(u[Et],u,c,i,!0)}}e=r?e.projectionNext:e.next}return i}function TB(n,t){for(let e=Mr;e<n.length;e++){const i=n[e],r=i[Et].firstChild;null!==r&&Ov(i[Et],i,r,t)}n[Va]!==n[or]&&t.push(n[Va])}function Kw(n,t,e,i=!0){const r=t[vd],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{SB(n,t,n.template,e)}catch(u){throw i&&DB(t,u),u}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function SB(n,t,e,i){const r=t[un];if(256!=(256&r)){t[vd].effectManager?.flush(),ov(t);try{wp(t),function Ep(n){return Jt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&hB(n,t,e,2,i);const o=3==(3&r);if(o){const f=n.preOrderCheckHooks;null!==f&&Sp(t,f,null)}else{const f=n.preOrderHooks;null!==f&&yh(t,f,0,null),av(t,0)}if(function _te(n){for(let t=Q2(n);null!==t;t=J2(t)){if(!t[Ex])continue;const e=t[dh];for(let i=0;i<e.length;i++){K_(e[i])}}}(t),AB(t,2),null!==n.contentQueries&&xB(n,t),o){const f=n.contentCheckHooks;null!==f&&Sp(t,f)}else{const f=n.contentHooks;null!==f&&yh(t,f,1),av(t,1)}!function Uee(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=aB(t,bd);try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)Mc(~s);else{const o=s,c=e[++r],u=e[++r];kT(c,o),i.dirty=!1;const f=Ac(i);try{u(2,t[o])}finally{Cd(i,f)}}}}finally{null===t[bd]&&lB(t,bd),Mc(-1)}}(n,t);const c=n.components;null!==c&&MB(t,c,0);const u=n.viewQuery;if(null!==u&&QS(2,u,i),o){const f=n.viewCheckHooks;null!==f&&Sp(t,f)}else{const f=n.viewHooks;null!==f&&yh(t,f,2),av(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[un]&=-73,Vx(t)}finally{vh()}}}function AB(n,t){for(let e=Q2(n);null!==e;e=J2(e))for(let i=Mr;i<e.length;i++)kB(e[i],t)}function vte(n,t,e){kB(co(t,n),e)}function kB(n,t){if(!function wT(n){return 128==(128&n[un])}(n))return;const e=n[Et],i=n[un];if(80&i&&0===t||1024&i||2===t)SB(e,n,e.template,n[hr]);else if(n[Ic]>0){AB(n,1);const r=e.components;null!==r&&MB(n,r,1)}}function MB(n,t,e){for(let i=0;i<t.length;i++)vte(n,t[i],e)}class Nv{get rootNodes(){const t=this._lView,e=t[Et];return Ov(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hr]}set context(t){this._lView[hr]=t}get destroyed(){return 256==(256&this._lView[un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Vi];if(Gs(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Iw(t,i),wh(e,i))}this._attachedToViewContainer=!1}lS(this._lView[Et],this._lView)}onDestroy(t){!function Bx(n,t){if(256==(256&n[un]))throw new l(911,!1);null===n[Fa]&&(n[Fa]=[]),n[Fa].push(t)}(this._lView,t)}markForCheck(){Rv(this._cdRefInjectingView||this._lView)}detach(){this._lView[un]&=-129}reattach(){this._lView[un]|=128}detectChanges(){Kw(this._lView[Et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new l(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oJ(n,t){Iv(n,t,t[rn],2,null,null)}(this._lView[Et],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new l(902,!1);this._appRef=t}}class yte extends Nv{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Kw(t[Et],t,t[hr],!1)}checkNoChanges(){}get context(){return null}}class RB extends Ud{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=$n(t);return new Fv(e,this.ngModule)}}function PB(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class xte{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=gd(i);const r=this.injector.get(t,VS,i);return r!==VS||e===VS?r:this.parentInjector.get(t,e,i)}}class Fv extends VV{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=PB(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return PB(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function S_(n){return n.map(oT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof fo?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new xte(t,s):t,c=o.get(Jp,null);if(null===c)throw new l(407,!1);const C={rendererFactory:c,sanitizer:o.get(vee,null),effectManager:o.get(IB,null),afterRenderEventManager:o.get(jS,null)},S=c.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",L=i?function Wee(n,t,e,i){const s=i.get(iB,!1)||e===rs.ShadowDom,o=n.selectRootElement(t,s);return function Gee(n){pB(n)}(o),o}(S,i,this.componentDef.encapsulation,o):Dw(S,R,function bte(n){const t=n.toLowerCase();return"svg"===t?Td:"math"===t?"math":null}(R)),ee=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let K=null;null!==L&&(K=NS(L,o,!0));const ie=qS(0,null,null,1,0,null,null,null,null,null,null),ue=qw(null,ie,null,ee,null,null,C,S,o,null,K);let Te,We;ov(ue);try{const dt=this.componentDef;let ct,wt=null;dt.findHostDirectiveDefs?(ct=[],wt=new Map,dt.findHostDirectiveDefs(dt,ct,wt),ct.push(dt)):ct=[dt];const St=function Cte(n,t){const e=n[Et],i=An;return n[i]=t,ig(e,i,2,"#host",null)}(ue,L),ft=function Ete(n,t,e,i,r,s,o){const c=r[Et];!function Dte(n,t,e,i){for(const r of n)t.mergedAttrs=Dc(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Zw(t,t.mergedAttrs,!0),null!==e&&pV(i,e,t))}(i,n,t,o);let u=null;null!==t&&(u=NS(t,r[Oa]));const f=s.rendererFactory.createRenderer(t,e);let _=16;e.signals?_=4096:e.onPush&&(_=64);const C=qw(r,fB(e),null,_,r[n.index],n,s,f,null,null,u);return c.firstCreatePass&&ZS(c,n,i.length-1),Xw(r,C),r[n.index]=C}(St,L,dt,ct,ue,C,S);We=q_(ie,An),L&&function Tte(n,t,e,i){if(i)sp(n,e,["ng-version",zV.full]);else{const{attrs:r,classes:s}=function aT(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Lo(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&sp(n,e,r),s&&s.length>0&&fV(n,e,s.join(" "))}}(S,dt,L,i),void 0!==e&&function Ste(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(We,this.ngContentSelectors,e),Te=function Ite(n,t,e,i,r,s){const o=Or(),c=r[Et],u=Ys(o,r);_B(c,r,o,e,null,i);for(let _=0;_<e.length;_++)qs(cl(r,c,o.directiveStart+_,o),r);vB(c,r,o),u&&qs(u,r);const f=cl(r,c,o.directiveStart+o.componentOffset,o);if(n[hr]=r[hr]=f,null!==s)for(const _ of s)_(f,t);return GS(c,o,n),f}(ft,dt,ct,wt,ue,[Ate]),eA(ie,ue,null)}finally{vh()}return new wte(this.componentType,Te,Qp(We,ue),ue,We)}}class wte extends hee{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new yte(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;JS(s[Et],s,r,t,e),this.previousInputValues.set(t,e),Rv(co(this._tNode.index,s))}}get injector(){return new As(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Ate(){const n=Or();Pd(tt()[Et],n)}function Dn(n){let t=function OB(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Ba(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new l(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=Qw(n.inputs),o.inputTransforms=Qw(n.inputTransforms),o.declaredInputs=Qw(n.declaredInputs),o.outputs=Qw(n.outputs);const c=r.hostBindings;c&&Pte(n,c);const u=r.viewQuery,f=r.contentQueries;if(u&&Mte(n,u),f&&Rte(n,f),br(n.inputs,r.inputs),br(n.declaredInputs,r.declaredInputs),br(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),br(o.inputTransforms,r.inputTransforms)),Ba(r)&&r.data.animation){const _=n.data;_.animation=(_.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const c=s[o];c&&c.ngInherit&&c(n),c===Dn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function kte(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Dc(r.hostAttrs,e=Dc(e,r.hostAttrs))}}(i)}function Qw(n){return n===Ra?{}:n===Vn?[]:n}function Mte(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function Rte(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function Pte(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function VB(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function Jw(n){return!!tA(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function tA(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Jl(n,t,e){return n[t]=e}function Vv(n,t){return n[t]}function Xs(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Ah(n,t,e,i){const r=Xs(n,t,e);return Xs(n,t+1,i)||r}function eC(n,t,e,i,r){const s=Ah(n,t,e,i);return Xs(n,t+2,r)||s}function Wa(n,t,e,i,r,s){const o=Ah(n,t,e,i);return Ah(n,t+2,r,s)||o}function Ut(n,t,e,i){const r=tt();return Xs(r,Md(),t)&&(Yn(),Ql(Qi(),r,n,t,e,i)),Ut}function sg(n,t,e,i){return Xs(n,Md(),e)?t+h(e)+i:pn}function De(n,t,e,i,r,s,o,c){const u=tt(),f=Yn(),_=n+An,C=f.firstCreatePass?function ine(n,t,e,i,r,s,o,c,u){const f=t.consts,_=ig(t,n,4,o||null,$l(f,c));XS(t,e,_,$l(f,u)),Pd(t,_);const C=_.tView=qS(2,_,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,f,null);return null!==t.queries&&(t.queries.template(t,_),C.queries=t.queries.embeddedTView(_)),_}(_,f,u,t,e,i,r,s,o):f.data[_];aa(C,!1);const S=KB(f,u,C,n);Rd()&&Sw(f,u,S,C),qs(S,u),Xw(u,u[_]=bB(S,u,S,C)),F_(C)&&$S(f,u,C),null!=o&&YS(u,C,c)}let KB=function QB(n,t,e,i){return Ha(!0),t[rn].createComment("")};function ii(n){return Sd(function Ux(){return Jt.lFrame.contextLView}(),An+n)}function oe(n,t,e){const i=tt();return Xs(i,Md(),t)&&ha(Yn(),Qi(),i,n,t,i[rn],e,!1),oe}function aA(n,t,e,i,r){const o=r?"class":"style";JS(n,e,t.inputs[o],o,i)}function te(n,t,e,i){const r=tt(),s=Yn(),o=An+n,c=r[rn],u=s.firstCreatePass?function ane(n,t,e,i,r,s){const o=t.consts,u=ig(t,n,2,i,$l(o,r));return XS(t,e,u,$l(o,s)),null!==u.attrs&&Zw(u,u.attrs,!1),null!==u.mergedAttrs&&Zw(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,s,r,t,e,i):s.data[o],f=JB(s,r,u,c,t,n);r[o]=f;const _=F_(u);return aa(u,!0),pV(c,f,u),32!=(32&u.flags)&&Rd()&&Sw(s,r,f,u),0===function ET(){return Jt.lFrame.elementDepthCount}()&&qs(f,r),function Q_(){Jt.lFrame.elementDepthCount++}(),_&&($S(s,r,u),GS(s,u,r)),null!==i&&YS(r,u),te}function ne(){let n=Or();mh()?nv():(n=n.parent,aa(n,!1));const t=n;(function DT(n){return Jt.skipHydrationRootTNode===n})(t)&&function tv(){Jt.skipHydrationRootTNode=null}(),function Hx(){Jt.lFrame.elementDepthCount--}();const e=Yn();return e.firstCreatePass&&(Pd(e,n),Dx(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function BT(n){return 0!=(8&n.flags)}(t)&&aA(e,t,tt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function zT(n){return 0!=(16&n.flags)}(t)&&aA(e,t,tt(),t.stylesWithoutHost,!1),ne}function ut(n,t,e,i){return te(n,t,e,i),ne(),ut}let JB=(n,t,e,i,r,s)=>(Ha(!0),Dw(i,r,function Xx(){return Jt.lFrame.currentNamespace}()));function Uv(n,t,e){const i=tt(),r=Yn(),s=n+An,o=r.firstCreatePass?function dne(n,t,e,i,r){const s=t.consts,o=$l(s,i),c=ig(t,n,8,"ng-container",o);return null!==o&&Zw(c,o,!0),XS(t,e,c,$l(s,r)),null!==t.queries&&t.queries.elementStart(t,c),c}(s,r,i,t,e):r.data[s];aa(o,!0);const c=ez(r,i,o,n);return i[s]=c,Rd()&&Sw(r,i,c,o),qs(c,i),F_(o)&&($S(r,i,o),GS(r,o,i)),null!=e&&YS(i,o),Uv}function jv(){let n=Or();const t=Yn();return mh()?nv():(n=n.parent,aa(n,!1)),t.firstCreatePass&&(Pd(t,n),Dx(n)&&t.queries.elementEnd(n)),jv}function rC(n,t,e){return Uv(n,t,e),jv(),rC}let ez=(n,t,e,i)=>(Ha(!0),aS(t[rn],""));function qn(){return tt()}function Wv(n){return!!n&&"function"==typeof n.then}function tz(n){return!!n&&"function"==typeof n.subscribe}function et(n,t,e,i){const r=tt(),s=Yn(),o=Or();return nz(s,r,r[rn],o,n,t,i),et}function lA(n,t){const e=Or(),i=tt(),r=Yn();return nz(r,i,EB(rv(r.data),e,i),e,n,t),lA}function nz(n,t,e,i,r,s,o){const c=F_(i),f=n.firstCreatePass&&CB(n),_=t[hr],C=wB(t);let S=!0;if(3&i.type||o){const z=Ys(i,t),j=o?o(z):z,ee=C.length,K=o?ue=>o(bi(ue[i.index])):i.index;let ie=null;if(!o&&c&&(ie=function fne(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const c=t[Hl],u=r[s+2];return c.length>u?c[u]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==ie)(ie.__ngLastListenerFn__||ie).__ngNextListenerFn__=s,ie.__ngLastListenerFn__=s,S=!1;else{s=rz(i,t,_,s,!1);const ue=e.listen(j,r,s);C.push(s,ue),f&&f.push(r,K,ee,ee+1)}}else s=rz(i,t,_,s,!1);const R=i.outputs;let L;if(S&&null!==R&&(L=R[r])){const z=L.length;if(z)for(let j=0;j<z;j+=2){const Te=t[L[j]][L[j+1]].subscribe(s),We=C.length;C.push(s,Te),f&&f.push(r,i.index,We,-(We+1))}}}function iz(n,t,e,i){try{return Vo(6,t,e),!1!==e(i)}catch(r){return DB(n,r),!1}finally{Vo(7,t,e)}}function rz(n,t,e,i,r){return function s(o){if(o===Function)return i;Rv(n.componentOffset>-1?co(n.index,t):t);let u=iz(t,e,i,o),f=s.__ngNextListenerFn__;for(;f;)u=iz(t,e,f,o)&&u,f=f.__ngNextListenerFn__;return r&&!1===u&&o.preventDefault(),u}}function Ee(n=1){return function PT(n){return(Jt.lFrame.contextLView=function OT(n,t){for(;n>0;)t=t[yd],n--;return t}(n,Jt.lFrame.contextLView))[hr]}(n)}function pne(n,t){let e=null;const i=function I_(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?sh(n,s,!0):wx(i,s))return r}else e=r}return e}function ul(n){const t=tt()[Ki][fs];if(!t.projection){const i=t.projection=Ch(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?pne(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function wr(n,t=0,e){const i=tt(),r=Yn(),s=ig(r,An+n,16,null,e||null);null===s.projection&&(s.projection=t),nv(),(!i[al]||kd())&&32!=(32&s.flags)&&function pJ(n,t,e){hV(t[rn],0,t,e,dS(n,e,t),oV(e.parent||t[fs],e,t))}(r,i,s)}function ec(n,t,e){return sC(n,"",t,"",e),ec}function sC(n,t,e,i,r){const s=tt(),o=sg(s,t,e,i);return o!==pn&&ha(Yn(),Qi(),s,n,o,s[rn],r,!1),sC}function oC(n,t){return n<<17|t<<2}function Wd(n){return n>>17&32767}function cA(n){return 2|n}function kh(n){return(131068&n)>>2}function dA(n,t){return-131069&n|t<<2}function uA(n){return 1|n}function fz(n,t,e,i,r){const s=n[e+1],o=null===t;let c=i?Wd(s):kh(s),u=!1;for(;0!==c&&(!1===u||o);){const _=n[c+1];bne(n[c],t)&&(u=!0,n[c+1]=i?uA(_):cA(_)),c=i?Wd(_):kh(_)}u&&(n[e+1]=i?cA(s):uA(s))}function bne(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Vd(n,t)>=0}const ss={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pz(n){return n.substring(ss.key,ss.keyEnd)}function gz(n,t){const e=ss.textEnd;return e===t?-1:(t=ss.keyEnd=function Ene(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,ss.key=t,e),fg(n,t,e))}function fg(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function go(n,t,e){return hl(n,t,e,!1),go}function Ft(n,t){return hl(n,t,null,!0),Ft}function mo(n){!function fl(n,t,e,i){const r=Yn(),s=ll(2);r.firstUpdatePass&&xz(r,null,s,i);const o=tt();if(e!==pn&&Xs(o,s,e)){const c=r.data[Ss()];if(Dz(c,i)&&!bz(r,s)){let u=i?c.classesWithoutHost:c.stylesWithoutHost;null!==u&&(e=na(u,e||"")),aA(r,c,o,e,i)}else!function One(n,t,e,i,r,s,o,c){r===pn&&(r=Vn);let u=0,f=0,_=0<r.length?r[0]:null,C=0<s.length?s[0]:null;for(;null!==_||null!==C;){const S=u<r.length?r[u+1]:void 0,R=f<s.length?s[f+1]:void 0;let z,L=null;_===C?(u+=2,f+=2,S!==R&&(L=C,z=R)):null===C||null!==_&&_<C?(u+=2,L=_):(f+=2,L=C,z=R),null!==L&&Cz(n,t,e,i,L,z,o,c),_=u<r.length?r[u]:null,C=f<s.length?s[f]:null}}(r,c,o,o[rn],o[s+1],o[s+1]=function Rne(n,t,e){if(null==e||""===e)return Vn;const i=[],r=da(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}(Pne,nc,n,!0)}function nc(n,t){for(let e=function wne(n){return function _z(n){ss.key=0,ss.keyEnd=0,ss.value=0,ss.valueEnd=0,ss.textEnd=n.length}(n),gz(n,fg(n,0,ss.textEnd))}(t);e>=0;e=gz(t,e))ks(n,pz(t),!0)}function hl(n,t,e,i){const r=tt(),s=Yn(),o=ll(2);s.firstUpdatePass&&xz(s,n,o,i),t!==pn&&Xs(r,o,t)&&Cz(s,s.data[Ss()],r,r[rn],n,r[o+1]=function Nne(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=fi(da(n)))),n}(t,e),i,o)}function bz(n,t){return t>=n.expandoStartIndex}function xz(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Ss()],o=bz(n,e);Dz(s,i)&&null===t&&!o&&(t=!1),t=function Sne(n,t,e,i){const r=rv(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Gv(e=hA(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=hA(r,n,t,e,i),null===s){let u=function Ane(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==kh(i))return n[Wd(i)]}(n,t,i);void 0!==u&&Array.isArray(u)&&(u=hA(null,n,t,u[1],i),u=Gv(u,t.attrs,i),function kne(n,t,e,i){n[Wd(e?t.classBindings:t.styleBindings)]=i}(n,t,i,u))}else s=function Mne(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Gv(i,n[s].hostAttrs,e);return Gv(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function vne(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,c=Wd(o),u=kh(o);n[i]=e;let _,f=!1;if(Array.isArray(e)?(_=e[1],(null===_||Vd(e,_)>0)&&(f=!0)):_=e,r)if(0!==u){const S=Wd(n[c+1]);n[i+1]=oC(S,c),0!==S&&(n[S+1]=dA(n[S+1],i)),n[c+1]=function mne(n,t){return 131071&n|t<<17}(n[c+1],i)}else n[i+1]=oC(c,0),0!==c&&(n[c+1]=dA(n[c+1],i)),c=i;else n[i+1]=oC(u,0),0===c?c=i:n[u+1]=dA(n[u+1],i),u=i;f&&(n[i+1]=cA(n[i+1])),fz(n,_,i,!0),fz(n,_,i,!1),function yne(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Vd(s,t)>=0&&(e[i+1]=uA(e[i+1]))}(t,_,n,i,s),o=oC(c,u),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function hA(n,t,e,i,r){let s=null;const o=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<o&&(s=t[c],i=Gv(i,s.hostAttrs,r),s!==n);)c++;return null!==n&&(e.directiveStylingLast=c),i}function Gv(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ks(n,o,!!e||t[++s]))}return void 0===n?null:n}function Pne(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&ks(n,i,e)}function Cz(n,t,e,i,r,s,o,c){if(!(3&t.type))return;const u=n.data,f=u[c+1],_=function _ne(n){return 1==(1&n)}(f)?Ez(u,t,e,r,kh(f),o):void 0;aC(_)||(aC(s)||function gne(n){return 2==(2&n)}(f)&&(s=Ez(u,null,e,r,c,o)),function mJ(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:zd.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=zd.Important),n.setStyle(e,i,r,s))}}(i,o,xp(Ss(),e),r,s))}function Ez(n,t,e,i,r,s){const o=null===t;let c;for(;r>0;){const u=n[r],f=Array.isArray(u),_=f?u[1]:u,C=null===_;let S=e[r+1];S===pn&&(S=C?Vn:void 0);let R=C?Eh(S,i):_===i?S:void 0;if(f&&!aC(R)&&(R=Eh(u,i)),aC(R)&&(c=R,o))return c;const L=n[r+1];r=o?Wd(L):kh(L)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(c=Eh(u,i))}return c}function aC(n){return void 0!==n}function Dz(n,t){return 0!=(n.flags&(t?8:16))}function Ve(n,t=""){const e=tt(),i=Yn(),r=n+An,s=i.firstCreatePass?ig(i,r,1,t,null):i.data[r],o=Iz(i,e,s,t,n);e[r]=o,Rd()&&Sw(i,e,o,s),aa(s,!1)}let Iz=(n,t,e,i,r)=>(Ha(!0),function Ew(n,t){return n.createText(t)}(t[rn],i));function pr(n){return li("",n,""),pr}function li(n,t,e){const i=tt(),r=sg(i,n,t,e);return r!==pn&&Lc(i,Ss(),r),li}function fA(n,t,e,i,r){const s=tt(),o=function og(n,t,e,i,r,s){const c=Ah(n,za(),e,r);return ll(2),c?t+h(e)+i+h(r)+s:pn}(s,n,t,e,i,r);return o!==pn&&Lc(s,Ss(),o),fA}function pA(n,t,e,i,r,s,o){const c=tt(),u=function ag(n,t,e,i,r,s,o,c){const f=eC(n,za(),e,r,o);return ll(3),f?t+h(e)+i+h(r)+s+h(o)+c:pn}(c,n,t,e,i,r,s,o);return u!==pn&&Lc(c,Ss(),u),pA}function _o(n,t,e){const i=tt();return Xs(i,Md(),t)&&ha(Yn(),Qi(),i,n,t,i[rn],e,!0),_o}function lC(n,t,e){const i=tt();if(Xs(i,Md(),t)){const s=Yn(),o=Qi();ha(s,o,i,n,t,EB(rv(s.data),o,i),e,!0)}return lC}const Mh=void 0;var iie=["en",[["a","p"],["AM","PM"],Mh],[["AM","PM"],Mh,Mh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mh,"{1} 'at' {0}",Mh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nie(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let pg={};function vo(n){const t=function sie(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=jz(t);if(e)return e;const i=t.split("-")[0];if(e=jz(i),e)return e;if("en"===i)return iie;throw new l(701,!1)}function jz(n){return n in pg||(pg[n]=ki.ng&&ki.ng.common&&ki.ng.common.locales&&ki.ng.common.locales[n]),pg[n]}var Bi=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Bi||{});const gg="en-US";let Wz=gg;function _A(n,t,e,i,r){if(n=ve(n),Array.isArray(n))for(let s=0;s<n.length;s++)_A(n[s],t,e,i,r);else{const s=Yn(),o=tt(),c=Or();let u=Sh(n)?n:ve(n.provide);const f=PV(n),_=1048575&c.providerIndexes,C=c.directiveStart,S=c.providerIndexes>>20;if(Sh(n)||!n.multi){const R=new Od(f,r,$),L=yA(u,t,r?_:_+S,C);-1===L?(uv(Np(c,o),s,u),vA(s,n,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(R),o.push(R)):(e[L]=R,o[L]=R)}else{const R=yA(u,t,_+S,C),L=yA(u,t,_,_+S),j=L>=0&&e[L];if(r&&!j||!r&&!(R>=0&&e[R])){uv(Np(c,o),s,u);const ee=function nre(n,t,e,i,r){const s=new Od(n,e,$);return s.multi=[],s.index=t,s.componentProviders=0,gH(s,r,i&&!e),s}(r?tre:ere,e.length,r,i,f);!r&&j&&(e[L].providerFactory=ee),vA(s,n,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(ee),o.push(ee)}else vA(s,n,R>-1?R:L,gH(e[r?L:R],f,!r&&i));!r&&i&&j&&e[L].componentProviders++}}}function vA(n,t,e,i){const r=Sh(t),s=function XJ(n){return!!n.useClass}(t);if(r||s){const u=(s?ve(t.useClass):t).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const _=f.indexOf(e);-1===_?f.push(e,[i,u]):f[_+1].push(i,u)}else f.push(e,u)}}}function gH(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function yA(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function ere(n,t,e,i){return bA(this.multi,[])}function tre(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,c=cl(e,e[Et],this.providerFactory.index,i);s=c.slice(0,o),bA(r,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],bA(r,s);return s}function bA(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ri(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Jie(n,t,e){const i=Yn();if(i.firstCreatePass){const r=Ba(n);_A(e,i.data,i.blueprint,r,!0),_A(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Rh{}class mH{}class xA extends Rh{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new RB(this);const r=js(t);this._bootstrapComponents=Fc(r.bootstrap),this._r3Injector=GV(t,e,[{provide:Rh,useValue:this},{provide:Ud,useValue:this.componentFactoryResolver},...i],fi(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wA extends mH{constructor(t){super(),this.moduleType=t}create(t){return new xA(this.moduleType,t,[])}}class _H extends Rh{constructor(t){super(),this.componentFactoryResolver=new RB(this),this.instance=null;const e=new qp([...t.providers,{provide:Rh,useValue:this},{provide:Ud,useValue:this.componentFactoryResolver}],t.parent||Lw(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function CA(n,t,e=null){return new _H({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let sre=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=AV(0,e.type),r=i.length>0?CA([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=re({token:n,providedIn:"environment",factory:()=>new n(ce(fo))})}return n})();function Ho(n){n.getStandaloneInjector=t=>t.get(sre).getOrCreateStandaloneInjector(n)}function yo(n,t,e){const i=Ts()+n,r=tt();return r[i]===pn?Jl(r,i,e?t.call(e):t()):Vv(r,i)}function pl(n,t,e,i){return TH(tt(),Ts(),n,t,e,i)}function Fr(n,t,e,i,r){return SH(tt(),Ts(),n,t,e,i,r)}function mg(n,t,e,i,r,s){return AH(tt(),Ts(),n,t,e,i,r,s)}function EH(n,t,e,i,r,s,o){return function kH(n,t,e,i,r,s,o,c,u){const f=t+e;return Wa(n,f,r,s,o,c)?Jl(n,f+4,u?i.call(u,r,s,o,c):i(r,s,o,c)):Qv(n,f+4)}(tt(),Ts(),n,t,e,i,r,s,o)}function DA(n,t,e,i,r,s,o,c){const u=Ts()+n,f=tt(),_=Wa(f,u,e,i,r,s);return Xs(f,u+4,o)||_?Jl(f,u+5,c?t.call(c,e,i,r,s,o):t(e,i,r,s,o)):Vv(f,u+5)}function IA(n,t,e,i){return function MH(n,t,e,i,r,s){let o=t+e,c=!1;for(let u=0;u<r.length;u++)Xs(n,o++,r[u])&&(c=!0);return c?Jl(n,o,i.apply(s,r)):Qv(n,o)}(tt(),Ts(),n,t,e,i)}function Qv(n,t){const e=n[t];return e===pn?void 0:e}function TH(n,t,e,i,r,s){const o=t+e;return Xs(n,o,r)?Jl(n,o+1,s?i.call(s,r):i(r)):Qv(n,o+1)}function SH(n,t,e,i,r,s,o){const c=t+e;return Ah(n,c,r,s)?Jl(n,c+2,o?i.call(o,r,s):i(r,s)):Qv(n,c+2)}function AH(n,t,e,i,r,s,o,c){const u=t+e;return eC(n,u,r,s,o)?Jl(n,u+3,c?i.call(c,r,s,o):i(r,s,o)):Qv(n,u+3)}function Pi(n,t){const e=Yn();let i;const r=n+An;e.firstCreatePass?(i=function gre(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=oa(i.type)),c=Zn($);try{const u=Pp(!1),f=s();return Pp(u),function one(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,tt(),r,f),f}finally{Zn(c)}}function TA(n,t,e){const i=n+An,r=tt(),s=Sd(r,i);return Jv(r,i)?TH(r,Ts(),t,s.transform,e,s):s.transform(e)}function bo(n,t,e,i){const r=n+An,s=tt(),o=Sd(s,r);return Jv(s,r)?SH(s,Ts(),t,o.transform,e,i,o):o.transform(e,i)}function gl(n,t,e,i,r){const s=n+An,o=tt(),c=Sd(o,s);return Jv(o,s)?AH(o,Ts(),t,c.transform,e,i,r,c):c.transform(e,i,r)}function Jv(n,t){return n[Et].data[t].pure}function vre(){return this._results[Symbol.iterator]()}class SA{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Be)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=SA.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=vre)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function uo(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function qT(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function bre(n,t,e,i=!0){const r=t[Et];if(function lJ(n,t,e,i){const r=Mr+i,s=e.length;i>0&&(e[r-1][sa]=t),i<s-Mr?(t[sa]=e[r],dl(e,Mr+i,t)):(e.push(t),t[sa]=null),t[Vi]=e;const o=t[lh];null!==o&&e!==o&&function cJ(n,t){const e=n[dh];t[Ki]!==t[Vi][Vi][Ki]&&(n[Ex]=!0),null===e?n[dh]=[t]:e.push(t)}(o,t);const c=t[Na];null!==c&&c.insertView(n),t[un]|=128}(r,t,n,e),i){const s=hS(e,n),o=t[rn],c=Tw(o,n[Va]);null!==c&&function sJ(n,t,e,i,r,s){i[or]=r,i[fs]=t,Iv(n,i,e,1,r,s)}(r,n[fs],o,t,c,s)}}let gr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Cre}return n})();const xre=gr,wre=class extends xre{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function yre(n,t,e,i){const r=t.tView,c=qw(n,r,e,4096&n[un]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);c[lh]=n[t.index];const f=n[Na];return null!==f&&(c[Na]=f.createEmbeddedView(r)),eA(r,c,e),c}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new Nv(r)}};function Cre(){return fC(Or(),tt())}function fC(n,t){return 4&n.type?new wre(t,n,Qp(n,t)):null}let Zs=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Are}return n})();function Are(){return VH(Or(),tt())}const kre=Zs,FH=class extends kre{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Qp(this._hostTNode,this._hostLView)}get injector(){return new As(this._hostTNode,this._hostLView)}get parentInjector(){const t=Lp(this._hostTNode,this._hostLView);if(Rp(t)){const e=la(t,this._hostLView),i=bh(t);return new As(e[Et].data[i+8],e)}return new As(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=LH(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Mr}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const c=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(c,r,false),c}createComponent(t,e,i,r,s){const o=t&&!function Pc(n){return"function"==typeof n}(t);let c;if(o)c=e;else{const z=e||{};c=z.index,i=z.injector,r=z.projectableNodes,s=z.environmentInjector||z.ngModuleRef}const u=o?t:new Fv($n(t)),f=i||this.parentInjector;if(!s&&null==u.ngModule){const j=(o?f:this.parentInjector).get(fo,null);j&&(s=j)}$n(u.componentType??{});const R=u.create(f,r,null,s);return this.insertImpl(R.hostView,c,false),R}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function Z_(n){return Gs(n[Vi])}(r)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const f=r[Vi],_=new FH(f,f[fs],f[Vi]);_.detach(_.indexOf(t))}}const o=this._adjustIndex(e),c=this._lContainer;return bre(c,r,o,!i),t.attachToViewContainerRef(),dl(AA(c),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=LH(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Iw(this._lContainer,e);i&&(wh(AA(this._lContainer),e),lS(i[Et],i))}detach(t){const e=this._adjustIndex(t,-1),i=Iw(this._lContainer,e);return i&&null!=wh(AA(this._lContainer),e)?new Nv(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function LH(n){return n[8]}function AA(n){return n[8]||(n[8]=[])}function VH(n,t){let e;const i=t[n.index];return Gs(i)?e=i:(e=bB(i,t,null,n),t[n.index]=e,Xw(t,e)),BH(e,t,n,i),new FH(e,n,t)}let BH=function zH(n,t,e,i){if(n[Va])return;let r;r=8&e.type?bi(i):function Mre(n,t){const e=n[rn],i=e.createComment(""),r=Ys(t,n);return Ih(e,Tw(e,r),i,function fJ(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Va]=r};class kA{constructor(t){this.queryList=t,this.matches=null}clone(){return new kA(this.queryList)}setDirty(){this.queryList.setDirty()}}class MA{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new MA(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==GH(t,e).matches&&this.queries[e].setDirty()}}class HH{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class RA{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new RA(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class PA{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new PA(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,Ore(e,s)),this.matchTNodeWithReadOption(t,e,Bp(e,t,s,!1,!1))}else i===gr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Bp(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Gt||r===Zs||r===gr&&4&e.type)this.addMatch(e.index,-2);else{const s=Bp(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ore(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Fre(n,t,e,i){return-1===e?function Nre(n,t){return 11&n.type?Qp(n,t):4&n.type?fC(n,t):null}(t,n):-2===e?function Lre(n,t,e){return e===Gt?Qp(t,n):e===gr?fC(t,n):e===Zs?VH(t,n):void 0}(n,t,i):cl(n,n[Et],e,t)}function UH(n,t,e,i){const r=t[Na].queries[i];if(null===r.matches){const s=n.data,o=e.matches,c=[];for(let u=0;u<o.length;u+=2){const f=o[u];c.push(f<0?null:Fre(t,s[f],o[u+1],e.metadata.read))}r.matches=c}return r.matches}function OA(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=UH(n,t,r,e);for(let c=0;c<s.length;c+=2){const u=s[c];if(u>0)i.push(o[c/2]);else{const f=s[c+1],_=t[-u];for(let C=Mr;C<_.length;C++){const S=_[C];S[lh]===S[Vi]&&OA(S[Et],S,f,i)}if(null!==_[dh]){const C=_[dh];for(let S=0;S<C.length;S++){const R=C[S];OA(R[Et],R,f,i)}}}}}return i}function Xt(n){const t=tt(),e=Yn(),i=_h();sv(i+1);const r=GH(e,i);if(n.dirty&&function X_(n){return 4==(4&n[un])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?OA(e,t,i,[]):UH(e,t,r,i);n.reset(s,mee),n.notifyOnChanges()}return!0}return!1}function Ji(n,t,e){const i=Yn();i.firstCreatePass&&(WH(i,new HH(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),jH(i,tt(),t)}function ci(n,t,e,i){const r=Yn();if(r.firstCreatePass){const s=Or();WH(r,new HH(t,e,i),s.index),function Bre(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}jH(r,tt(),e)}function Zt(){return function Vre(n,t){return n[Na].queries[t].queryList}(tt(),_h())}function jH(n,t,e){const i=new SA(4==(4&e));(function qee(n,t,e,i){const r=wB(t);r.push(e),n.firstCreatePass&&CB(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[Na]&&(t[Na]=new MA),t[Na].queries.push(new kA(i))}function WH(n,t,e){null===n.queries&&(n.queries=new RA),n.queries.track(new PA(t,e))}function GH(n,t){return n.queries.getByIndex(t)}function zi(n,t){return fC(n,t)}const zA=new Xe("Application Initializer");let HA=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Ze(zA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(Wv(s))e.push(s);else if(tz(s)){const o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lU=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Ks=new Xe("LocaleId",{providedIn:"root",factory:()=>Ze(Ks,bn.Optional|bn.SkipSelf)||function ose(){return typeof $localize<"u"&&$localize.locale||gg}()});let mC=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new be(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class cse{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let cU=(()=>{class n{compileModuleSync(e){return new wA(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Fc(js(e).declarations).reduce((o,c)=>{const u=$n(c);return u&&o.push(new Fv(u)),o},[]);return new cse(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const fU=new Xe(""),vC=new Xe("");let $A,WA=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$A||(function Mse(n){$A=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{at.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(ce(at),ce(GA),ce(vC))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),GA=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return $A?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Gd=null;const pU=new Xe("AllowMultipleToken"),YA=new Xe("PlatformDestroyListeners"),qA=new Xe("appBootstrapListener");class mU{constructor(t,e){this.name=t,this.token=e}}function vU(n,t,e=[]){const i=`Platform: ${t}`,r=new Xe(i);return(s=[])=>{let o=XA();if(!o||o.injector.get(pU,!1)){const c=[...e,...s,{provide:r,useValue:!0}];n?n(c):function Ose(n){if(Gd&&!Gd.get(pU,!1))throw new l(400,!1);(function gU(){!function pT(n){Rx=n}(()=>{throw new l(600,!1)})})(),Gd=n;const t=n.get(bU);(function _U(n){n.get(OV,null)?.forEach(e=>e())})(n)}(function yU(n=[],t){return fr.create({name:t,providers:[{provide:CS,useValue:"platform"},{provide:YA,useValue:new Set([()=>Gd=null])},...n]})}(c,i))}return function Fse(n){const t=XA();if(!t)throw new l(401,!1);return t}()}}function XA(){return Gd?.get(bU)??null}let bU=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function Lse(n="zone.js",t){return"noop"===n?new Mee:"zone.js"===n?new at(t):n}(i?.ngZone,function xU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function rre(n,t,e){return new xA(n,t,e)}(e.moduleType,this.injector,function IU(n){return[{provide:at,useFactory:n},{provide:Av,multi:!0,useFactory:()=>{const t=Ze(Bse,{optional:!0});return()=>t.initialize()}},{provide:DU,useFactory:Vse},{provide:ZV,useFactory:KV}]}(()=>r)),o=s.injector.get(Nc,null);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{yC(this._modules,s),c.unsubscribe()})}),function wU(n,t,e){try{const i=e();return Wv(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const c=s.injector.get(HA);return c.runInitializers(),c.donePromise.then(()=>(function Gz(n){X(n,"Expected localeId to be defined"),"string"==typeof n&&(Wz=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ks,gg)||gg),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=CU({},i);return function Rse(n,t,e){const i=new wA(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Ga);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new l(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new l(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(YA,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(ce(fr))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function CU(n,t){return Array.isArray(t)?t.reduce(CU,n):{...n,...t}}let Ga=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ze(DU),this.zoneIsStable=Ze(ZV),this.componentTypes=[],this.components=[],this.isStable=Ze(mC).hasPendingTasks.pipe(tn(e=>e?Pe(!1):this.zoneIsStable),ni(),Ht()),this._injector=Ze(fo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof VV;if(!this._injector.get(HA).done)throw!r&&function zl(n){const t=$n(n)||kr(n)||Is(n);return null!==t&&t.standalone}(e),new l(405,!1);let o;o=r?e:this._injector.get(Ud).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const c=function Pse(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Rh),f=o.create(fr.NULL,[],i||o.selector,c),_=f.location.nativeElement,C=f.injector.get(fU,null);return C?.registerApplication(_),f.onDestroy(()=>{this.detachView(f.hostView),yC(this.components,f),C?.unregisterApplication(_)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new l(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;yC(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(qA,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>yC(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new l(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const DU=new Xe("",{providedIn:"root",factory:()=>Ze(Nc).handleError.bind(void 0)});function Vse(){const n=Ze(at),t=Ze(Nc);return e=>n.runOutsideAngular(()=>t.handleError(e))}let Bse=(()=>{class n{constructor(){this.zone=Ze(at),this.applicationRef=Ze(Ga)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Lr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Hse}return n})();function Hse(n){return function Use(n,t,e){if(xd(n)&&!e){const i=co(n.index,t);return new Nv(i,i)}return 47&n.type?new Nv(t[Ki],t):null}(Or(),tt(),16==(16&n))}class MU{constructor(){}supports(t){return Jw(t)}create(t){return new qse(t)}}const Yse=(n,t)=>t;class qse{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Yse}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<PU(i,r,s)?e:i,c=PU(o,r,s),u=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const f=c-r,_=u-r;if(f!=_){for(let S=0;S<f;S++){const R=S<s.length?s[S]:s[S]=0,L=R+S;_<=L&&L<f&&(s[S]=R+1)}s[o.previousIndex]=_-f}}c!==u&&t(o,c,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Jw(t))throw new l(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)s=t[c],o=this._trackByFn(c,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,c)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,c),i=!0),e=e._next}else r=0,function Bte(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,c=>{o=this._trackByFn(r,c),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,c,o,r)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new Xse(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new RU),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RU),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Xse{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zse{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class RU{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Zse,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function PU(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class OU{constructor(){}supports(t){return t instanceof Map||tA(t)}create(){return new Kse}}class Kse{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||tA(t)))throw new l(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new Qse(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Qse{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function NU(){return new wC([new MU])}let wC=(()=>{class n{static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:NU});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||NU()),deps:[[n,new T,new v]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new l(901,!1)}}return n})();function FU(){return new ny([new OU])}let ny=(()=>{class n{static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:FU});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||FU()),deps:[[n,new T,new v]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new l(901,!1)}}return n})();const toe=vU(null,"core",[]);let noe=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Ga))};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})();function yg(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function tk(n,t){const e=$n(n),i=t.elementInjector||Lw();return new Fv(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let nk=null;function $d(){return nk}class moe{}const sn=new Xe("DocumentToken");let ik=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:function(){return Ze(voe)},providedIn:"platform"})}return n})();const _oe=new Xe("Location Initialized");let voe=(()=>{class n extends ik{constructor(){super(),this._doc=Ze(sn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $d().getBaseHref(this._doc)}onPopState(e){const i=$d().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=$d().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function rk(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function GU(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Vc(n){return n&&"?"!==n[0]?"?"+n:n}let Oh=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:function(){return Ze(YU)},providedIn:"root"})}return n})();const $U=new Xe("appBaseHref");let YU=(()=>{class n extends Oh{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ze(sn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return rk(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Vc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+Vc(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+Vc(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ik),ce($U,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yoe=(()=>{class n extends Oh{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=rk(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+Vc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+Vc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ik),ce($U,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),EC=(()=>{class n{constructor(e){this._subject=new Be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function woe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(GU(qU(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Vc(i))}normalize(e){return n.stripTrailingSlash(function xoe(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,qU(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Vc;static#t=this.joinWithSlash=rk;static#n=this.stripTrailingSlash=GU;static#i=this.\u0275fac=function(i){return new(i||n)(ce(Oh))};static#r=this.\u0275prov=re({token:n,factory:function(){return function boe(){return new EC(ce(Oh))}()},providedIn:"root"})}return n})();function qU(n){return n.replace(/\/index.html$/,"")}var bg=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}(bg||{}),ps=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(ps||{}),si=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(si||{}),fa=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(fa||{}),Vr=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Vr||{});function IC(n,t){return Ya(vo(n)[Bi.DateFormat],t)}function TC(n,t){return Ya(vo(n)[Bi.TimeFormat],t)}function SC(n,t){return Ya(vo(n)[Bi.DateTimeFormat],t)}function $a(n,t){const e=vo(n),i=e[Bi.NumberSymbols][t];if(typeof i>"u"){if(t===Vr.CurrencyDecimal)return e[Bi.NumberSymbols][Vr.Decimal];if(t===Vr.CurrencyGroup)return e[Bi.NumberSymbols][Vr.Group]}return i}const Soe=function Uz(n){return vo(n)[Bi.PluralCase]};function KU(n){if(!n[Bi.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Bi.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ya(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function ak(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Ooe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,iy={},Noe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Bc=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Bc||{}),pi=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(pi||{}),gi=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(gi||{});function Zr(n,t,e,i){let r=function Woe(n){if(ej(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(c=>+c);return AC(r,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Ooe))return function Goe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,c=Number(n[5]||0)-i,u=Number(n[6]||0),f=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,c,u,f),t}(i)}const t=new Date(n);if(!ej(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=zc(e,t)||t;let c,o=[];for(;t;){if(c=Noe.exec(t),!c){o.push(t);break}{o=o.concat(c.slice(1));const _=o.pop();if(!_)break;t=_}}let u=r.getTimezoneOffset();i&&(u=JU(i,u),r=function joe(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Uoe(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(JU(t,r)-r))}(r,i,!0));let f="";return o.forEach(_=>{const C=function Hoe(n){if(ck[n])return ck[n];let t;switch(n){case"G":case"GG":case"GGG":t=Hi(gi.Eras,si.Abbreviated);break;case"GGGG":t=Hi(gi.Eras,si.Wide);break;case"GGGGG":t=Hi(gi.Eras,si.Narrow);break;case"y":t=Kr(pi.FullYear,1,0,!1,!0);break;case"yy":t=Kr(pi.FullYear,2,0,!0,!0);break;case"yyy":t=Kr(pi.FullYear,3,0,!1,!0);break;case"yyyy":t=Kr(pi.FullYear,4,0,!1,!0);break;case"Y":t=PC(1);break;case"YY":t=PC(2,!0);break;case"YYY":t=PC(3);break;case"YYYY":t=PC(4);break;case"M":case"L":t=Kr(pi.Month,1,1);break;case"MM":case"LL":t=Kr(pi.Month,2,1);break;case"MMM":t=Hi(gi.Months,si.Abbreviated);break;case"MMMM":t=Hi(gi.Months,si.Wide);break;case"MMMMM":t=Hi(gi.Months,si.Narrow);break;case"LLL":t=Hi(gi.Months,si.Abbreviated,ps.Standalone);break;case"LLLL":t=Hi(gi.Months,si.Wide,ps.Standalone);break;case"LLLLL":t=Hi(gi.Months,si.Narrow,ps.Standalone);break;case"w":t=lk(1);break;case"ww":t=lk(2);break;case"W":t=lk(1,!0);break;case"d":t=Kr(pi.Date,1);break;case"dd":t=Kr(pi.Date,2);break;case"c":case"cc":t=Kr(pi.Day,1);break;case"ccc":t=Hi(gi.Days,si.Abbreviated,ps.Standalone);break;case"cccc":t=Hi(gi.Days,si.Wide,ps.Standalone);break;case"ccccc":t=Hi(gi.Days,si.Narrow,ps.Standalone);break;case"cccccc":t=Hi(gi.Days,si.Short,ps.Standalone);break;case"E":case"EE":case"EEE":t=Hi(gi.Days,si.Abbreviated);break;case"EEEE":t=Hi(gi.Days,si.Wide);break;case"EEEEE":t=Hi(gi.Days,si.Narrow);break;case"EEEEEE":t=Hi(gi.Days,si.Short);break;case"a":case"aa":case"aaa":t=Hi(gi.DayPeriods,si.Abbreviated);break;case"aaaa":t=Hi(gi.DayPeriods,si.Wide);break;case"aaaaa":t=Hi(gi.DayPeriods,si.Narrow);break;case"b":case"bb":case"bbb":t=Hi(gi.DayPeriods,si.Abbreviated,ps.Standalone,!0);break;case"bbbb":t=Hi(gi.DayPeriods,si.Wide,ps.Standalone,!0);break;case"bbbbb":t=Hi(gi.DayPeriods,si.Narrow,ps.Standalone,!0);break;case"B":case"BB":case"BBB":t=Hi(gi.DayPeriods,si.Abbreviated,ps.Format,!0);break;case"BBBB":t=Hi(gi.DayPeriods,si.Wide,ps.Format,!0);break;case"BBBBB":t=Hi(gi.DayPeriods,si.Narrow,ps.Format,!0);break;case"h":t=Kr(pi.Hours,1,-12);break;case"hh":t=Kr(pi.Hours,2,-12);break;case"H":t=Kr(pi.Hours,1);break;case"HH":t=Kr(pi.Hours,2);break;case"m":t=Kr(pi.Minutes,1);break;case"mm":t=Kr(pi.Minutes,2);break;case"s":t=Kr(pi.Seconds,1);break;case"ss":t=Kr(pi.Seconds,2);break;case"S":t=Kr(pi.FractionalSeconds,1);break;case"SS":t=Kr(pi.FractionalSeconds,2);break;case"SSS":t=Kr(pi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=MC(Bc.Short);break;case"ZZZZZ":t=MC(Bc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=MC(Bc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=MC(Bc.Long);break;default:return null}return ck[n]=t,t}(_);f+=C?C(r,e,u):"''"===_?"'":_.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function AC(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function zc(n,t){const e=function Eoe(n){return vo(n)[Bi.LocaleId]}(n);if(iy[e]=iy[e]||{},iy[e][t])return iy[e][t];let i="";switch(t){case"shortDate":i=IC(n,fa.Short);break;case"mediumDate":i=IC(n,fa.Medium);break;case"longDate":i=IC(n,fa.Long);break;case"fullDate":i=IC(n,fa.Full);break;case"shortTime":i=TC(n,fa.Short);break;case"mediumTime":i=TC(n,fa.Medium);break;case"longTime":i=TC(n,fa.Long);break;case"fullTime":i=TC(n,fa.Full);break;case"short":const r=zc(n,"shortTime"),s=zc(n,"shortDate");i=kC(SC(n,fa.Short),[r,s]);break;case"medium":const o=zc(n,"mediumTime"),c=zc(n,"mediumDate");i=kC(SC(n,fa.Medium),[o,c]);break;case"long":const u=zc(n,"longTime"),f=zc(n,"longDate");i=kC(SC(n,fa.Long),[u,f]);break;case"full":const _=zc(n,"fullTime"),C=zc(n,"fullDate");i=kC(SC(n,fa.Full),[_,C])}return i&&(iy[e][t]=i),i}function kC(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ml(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o}function Kr(n,t,e=0,i=!1,r=!1){return function(s,o){let c=function Loe(n,t){switch(n){case pi.FullYear:return t.getFullYear();case pi.Month:return t.getMonth();case pi.Date:return t.getDate();case pi.Hours:return t.getHours();case pi.Minutes:return t.getMinutes();case pi.Seconds:return t.getSeconds();case pi.FractionalSeconds:return t.getMilliseconds();case pi.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||c>-e)&&(c+=e),n===pi.Hours)0===c&&-12===e&&(c=12);else if(n===pi.FractionalSeconds)return function Foe(n,t){return ml(n,3).substring(0,t)}(c,t);const u=$a(o,Vr.MinusSign);return ml(c,t,u,i,r)}}function Hi(n,t,e=ps.Format,i=!1){return function(r,s){return function Voe(n,t,e,i,r,s){switch(e){case gi.Months:return function sk(n,t,e){const i=vo(n),s=Ya([i[Bi.MonthsFormat],i[Bi.MonthsStandalone]],t);return Ya(s,e)}(t,r,i)[n.getMonth()];case gi.Days:return function ZU(n,t,e){const i=vo(n),s=Ya([i[Bi.DaysFormat],i[Bi.DaysStandalone]],t);return Ya(s,e)}(t,r,i)[n.getDay()];case gi.DayPeriods:const o=n.getHours(),c=n.getMinutes();if(s){const f=function Aoe(n){const t=vo(n);return KU(t),(t[Bi.ExtraData][2]||[]).map(i=>"string"==typeof i?ak(i):[ak(i[0]),ak(i[1])])}(t),_=function koe(n,t,e){const i=vo(n);KU(i);const s=Ya([i[Bi.ExtraData][0],i[Bi.ExtraData][1]],t)||[];return Ya(s,e)||[]}(t,r,i),C=f.findIndex(S=>{if(Array.isArray(S)){const[R,L]=S,z=o>=R.hours&&c>=R.minutes,j=o<L.hours||o===L.hours&&c<L.minutes;if(R.hours<L.hours){if(z&&j)return!0}else if(z||j)return!0}else if(S.hours===o&&S.minutes===c)return!0;return!1});if(-1!==C)return _[C]}return function Doe(n,t,e){const i=vo(n),s=Ya([i[Bi.DayPeriodsFormat],i[Bi.DayPeriodsStandalone]],t);return Ya(s,e)}(t,r,i)[o<12?0:1];case gi.Eras:return function Ioe(n,t){return Ya(vo(n)[Bi.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function MC(n){return function(t,e,i){const r=-1*i,s=$a(e,Vr.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Bc.Short:return(r>=0?"+":"")+ml(o,2,s)+ml(Math.abs(r%60),2,s);case Bc.ShortGMT:return"GMT"+(r>=0?"+":"")+ml(o,1,s);case Bc.Long:return"GMT"+(r>=0?"+":"")+ml(o,2,s)+":"+ml(Math.abs(r%60),2,s);case Bc.Extended:return 0===i?"Z":(r>=0?"+":"")+ml(o,2,s)+":"+ml(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const Boe=0,RC=4;function QU(n){return AC(n.getFullYear(),n.getMonth(),n.getDate()+(RC-n.getDay()))}function lk(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{const s=QU(e),o=function zoe(n){const t=AC(n,Boe,1).getDay();return AC(n,0,1+(t<=RC?RC:RC+7)-t)}(s.getFullYear()),c=s.getTime()-o.getTime();r=1+Math.round(c/6048e5)}return ml(r,n,$a(i,Vr.MinusSign))}}function PC(n,t=!1){return function(e,i){return ml(QU(e).getFullYear(),n,$a(i,Vr.MinusSign),t)}}const ck={};function JU(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ej(n){return n instanceof Date&&!isNaN(n.valueOf())}let pk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:function(i){let r=null;return i?r=new i:(s=ce(Ks),r=new nae(s)),r;var s},providedIn:"root"})}return n})();let nae=(()=>{class n extends pk{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Soe(i||this.locale)(e)){case bg.Zero:return"zero";case bg.One:return"one";case bg.Two:return"two";case bg.Few:return"few";case bg.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Ks))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function rj(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const gk=/\s+/,sj=[];let qa=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=sj,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(gk):sj}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(gk):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(gk).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)($(wC),$(ny),$(Gt),$(Xr))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class sae{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Br=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new sae(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,o),aj(c,r)}});for(let r=0,s=i.length;r<s;r++){const c=i.get(r).context;c.index=r,c.count=s,c.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{aj(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)($(Zs),$(gr),$(wC))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function aj(n,t){n.context.$implicit=t.item}let Cr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new oae,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){lj("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){lj("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)($(Zs),$(gr))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class oae{constructor(){this.$implicit=null,this.ngIf=null}}function lj(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${fi(t)}'.`)}class mk{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let xg=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),NC=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new mk(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)($(Zs),$(gr),$(xg,9))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),sy=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:zd.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(ny),$(Xr))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),gs=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)($(Zs))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Nn]})}return n})();function _l(n,t){return new l(2100,!1)}class cae{createSubscription(t,e){return Ox(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){Ox(()=>t.unsubscribe())}}class dae{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const uae=new dae,hae=new cae;let dj=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Wv(e))return uae;if(tz(e))return hae;throw _l()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)($(Lr,16))};static#t=this.\u0275pipe=Ar({name:"async",type:n,pure:!1,standalone:!0})}return n})();const vae=new Xe("DATE_PIPE_DEFAULT_TIMEZONE"),yae=new Xe("DATE_PIPE_DEFAULT_OPTIONS");let oy=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return Zr(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw _l()}}static#e=this.\u0275fac=function(i){return new(i||n)($(Ks,16),$(vae,24),$(yae,24))};static#t=this.\u0275pipe=Ar({name:"date",type:n,pure:!0,standalone:!0})}return n})();const bae=/#/g;let _k=(()=>{class n{constructor(e){this._localization=e}transform(e,i,r){if(null==e)return"";if("object"!=typeof i||null===i)throw _l();return i[function ij(n,t,e,i){let r=`=${n}`;if(t.indexOf(r)>-1||(r=e.getPluralCategory(n,i),t.indexOf(r)>-1))return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(e,Object.keys(i),this._localization,r)].replace(bae,e.toString())}static#e=this.\u0275fac=function(i){return new(i||n)($(pk,16))};static#t=this.\u0275pipe=Ar({name:"i18nPlural",type:n,pure:!0,standalone:!0})}return n})(),hj=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw _l();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Ar({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),Yd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})();const fj="browser";function bk(n){return n===fj}function FC(n){return"server"===n}let Mae=(()=>{class n{static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:()=>new Rae(ce(sn),window)})}return n})();class Rae{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Pae(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class pj{}class nle extends moe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ck extends nle{static makeCurrent(){!function goe(n){nk||(nk=n)}(new Ck)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ile(){return ly=ly||document.querySelector("base"),ly?ly.getAttribute("href"):null}();return null==e?null:function rle(n){BC=BC||document.createElement("a"),BC.setAttribute("href",n);const t=BC.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ly=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return rj(document.cookie,t)}}let BC,ly=null,ole=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const Ek=new Xe("EventManagerPlugins");let yj=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new l(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Ek),ce(at))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();class bj{constructor(t){this._doc=t}}const Dk="ng-app-id";let xj=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=FC(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Dk}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(Dk),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Dk,this.appId),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sn),ce(Vw),ce(TS,8),ce(po))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const Ik={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Tk=/%COMP%/g,dle=new Xe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Cj(n,t){return t.map(e=>e.replace(Tk,n))}let Sk=(()=>{class n{constructor(e,i,r,s,o,c,u,f=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=FC(c),this.defaultRenderer=new Ak(e,o,u,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===rs.ShadowDom&&(i={...i,encapsulation:rs.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof Dj?r.applyToHost(e):r instanceof kk&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,c=this.ngZone,u=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestroy,C=this.platformIsServer;switch(i.encapsulation){case rs.Emulated:s=new Dj(u,f,i,this.appId,_,o,c,C);break;case rs.ShadowDom:return new ple(u,f,e,i,o,c,this.nonce,C);default:s=new kk(u,f,i,_,o,c,C)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(yj),ce(xj),ce(Vw),ce(dle),ce(sn),ce(po),ce(at),ce(TS))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();class Ak{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Ik[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Ej(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Ej(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new l(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Ik[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ik[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(zd.DashCase|zd.Important)?t.style.setProperty(e,i,r&zd.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&zd.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=$d().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Ej(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ple extends Ak{constructor(t,e,i,r,s,o,c,u){super(t,s,o,u),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=Cj(r.id,r.styles);for(const _ of f){const C=document.createElement("style");c&&C.setAttribute("nonce",c),C.textContent=_,this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kk extends Ak{constructor(t,e,i,r,s,o,c,u){super(t,s,o,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=u?Cj(u,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Dj extends kk{constructor(t,e,i,r,s,o,c,u){const f=r+"-"+i.id;super(t,e,i,s,o,c,u,f),this.contentAttr=function ule(n){return"_ngcontent-%COMP%".replace(Tk,n)}(f),this.hostAttr=function hle(n){return"_nghost-%COMP%".replace(Tk,n)}(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let gle=(()=>{class n extends bj{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sn))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const Ij=["alt","control","meta","shift"],mle={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_le={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let vle=(()=>{class n extends bj{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$d().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),Ij.forEach(f=>{const _=i.indexOf(f);_>-1&&(i.splice(_,1),o+=f+".")}),o+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=r,u.fullKey=o,u}static matchEventFullKeyCode(e,i){let r=mle[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ij.forEach(o=>{o!==r&&(0,_le[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sn))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const Sj=[{provide:po,useValue:fj},{provide:OV,useValue:function yle(){Ck.makeCurrent()},multi:!0},{provide:sn,useFactory:function xle(){return function xJ(n){gS=n}(document),document},deps:[]}],wle=vU(toe,"browser",Sj),Cle=new Xe(""),Aj=[{provide:vC,useClass:class sle{addToWindow(t){ki.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new l(5103,!1);return s},ki.getAllAngularTestabilities=()=>t.getAllTestabilities(),ki.getAllAngularRootElements=()=>t.getAllRootElements(),ki.frameworkStabilizers||(ki.frameworkStabilizers=[]),ki.frameworkStabilizers.push(i=>{const r=ki.getAllAngularTestabilities();let s=r.length,o=!1;const c=function(u){o=o||u,s--,0==s&&i(o)};r.forEach(u=>{u.whenStable(c)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?$d().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:fU,useClass:WA,deps:[at,GA,vC]},{provide:WA,useClass:WA,deps:[at,GA,vC]}],kj=[{provide:CS,useValue:"root"},{provide:Nc,useFactory:function ble(){return new Nc},deps:[]},{provide:Ek,useClass:gle,multi:!0,deps:[sn,at,po]},{provide:Ek,useClass:vle,multi:!0,deps:[sn]},Sk,xj,yj,{provide:Jp,useExisting:Sk},{provide:pj,useClass:ole,deps:[]},[]];let Mj=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Vw,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Cle,12))};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({providers:[...kj,...Aj],imports:[Yd,noe]})}return n})(),Rj=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sn))};static#t=this.\u0275prov=re({token:n,factory:function(i){let r=null;return r=i?new i:function Dle(){return new Rj(ce(sn))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Nj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:function(i){let r=null;return r=i?new(i||n):ce(Fj),r},providedIn:"root"})}return n})(),Fj=(()=>{class n extends Nj{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case ua.NONE:return i;case ua.HTML:return Kl(i,"HTML")?da(i):EV(this._doc,String(i)).toString();case ua.STYLE:return Kl(i,"Style")?da(i):i;case ua.SCRIPT:if(Kl(i,"Script"))return da(i);throw new l(5200,!1);case ua.URL:return Kl(i,"URL")?da(i):Rw(String(i));case ua.RESOURCE_URL:if(Kl(i,"ResourceURL"))return da(i);throw new l(5201,!1);default:throw new l(5202,!1)}}bypassSecurityTrustHtml(e){return function SJ(n){return new wJ(n)}(e)}bypassSecurityTrustStyle(e){return function AJ(n){return new CJ(n)}(e)}bypassSecurityTrustScript(e){return function kJ(n){return new EJ(n)}(e)}bypassSecurityTrustUrl(e){return function MJ(n){return new DJ(n)}(e)}bypassSecurityTrustResourceUrl(e){return function RJ(n){return new IJ(n)}(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sn))};static#t=this.\u0275prov=re({token:n,factory:function(i){let r=null;return r=i?new i:function Ale(n){return new Fj(n.get(sn))}(ce(fr)),r},providedIn:"root"})}return n})();var jo=en(211);(0,jo.registerVersion)("firebase","10.5.2","app");class Rle extends Ue{constructor(t,e){super()}schedule(t,e=0){return this}}const zC={setInterval(n,t,...e){const{delegate:i}=zC;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=zC;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class HC extends Rle{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return zC.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&zC.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Mt(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Rk={now:()=>(Rk.delegate||Date).now(),delegate:void 0};class cy{constructor(t,e=cy.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}cy.now=Rk.now;class UC extends cy{constructor(t,e=cy.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Nle=new class Ole extends UC{}(class Ple extends HC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Xd=new UC(HC),Fle=Xd;function Qr(n,t,e){const i=J(n)||t||e?{next:n,error:t,complete:e}:n;return i?ke((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let c=!0;r.subscribe(lt(s,u=>{var f;null===(f=i.next)||void 0===f||f.call(i,u),s.next(u)},()=>{var u;c=!1,null===(u=i.complete)||void 0===u||u.call(i),s.complete()},u=>{var f;c=!1,null===(f=i.error)||void 0===f||f.call(i,u),s.error(u)},()=>{var u,f;c&&(null===(u=i.unsubscribe)||void 0===u||u.call(i)),null===(f=i.finalize)||void 0===f||f.call(i)}))}):mn}const wg=new jd("ANGULARFIRE2_VERSION");class jC{constructor(){return((n,t)=>{const e=(0,jo.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i})(Vle)}}const Vle="app-check";function Cg(){}class Vj{zone;delegate;constructor(t,e=Nle){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class Ble{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cg,{},Cg,Cg)),e.pipe(Qr({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let WC=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Vj(Zone.current)),this.insideAngular=e.run(()=>new Vj(Zone.current,Xd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(ce(at))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Eg(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Bj(n){return n.pipe(Zi(Eg().outsideAngular))}function zr(n){return function Hle(n){return function(e){return(e=e.lift(new Ble(n.ngZone))).pipe(is(n.outsideAngular),Zi(n.insideAngular))}}(Eg())(n)}var pa=en(168);pa.Z.registerVersion("firebase","10.5.2","app-compat");const Gle=["ngOnDestroy"];class zj{constructor(t){return t}}const Dg=new Xe("angularfire2.app.options"),Ig=new Xe("angularfire2.app.name");function dy(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const o=pa.Z.apps.filter(c=>c&&c.name===r.name)[0]||t.runOutsideAngular(()=>pa.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const c=!!module.hot;qle("error",`${o.name} Firebase App already initialized with different options${c?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new zj(o)}const qle=(n,...t)=>{},Xle={provide:zj,useFactory:dy,deps:[Dg,at,[new v,Ig]]};let Zle=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:Dg,useValue:e},{provide:Ig,useValue:i}]}}constructor(e){pa.Z.registerVersion("angularfire",wg.full,"core"),pa.Z.registerVersion("angularfire",wg.full,"app-compat"),pa.Z.registerVersion("angular",zV.full,e.toString())}static \u0275fac=function(i){return new(i||n)(ce(po))};static \u0275mod=Rt({type:n});static \u0275inj=Ae({providers:[Xle]})}return n})();function GC(n,t,e,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(c=>c[0]===n)||[];if(s)return function Kle(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,o)||(Hj("error",`${t} was already initialized on the ${e} Firebase App with different settings.${Qle?" You may need to reload as Firebase is not HMR aware.":""}`),Hj("warn",{is:r,was:o})),s;{const c=i();return globalThis.\u0275AngularfireInstanceCache.push([n,c,r]),c}}const Qle=typeof module<"u"&&!!module.hot,Hj=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[],en(466);class Uj extends _e{constructor(t=1/0,e=1/0,i=Rk){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(i.push(t),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=i?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=e.now();let c=0;for(let u=1;u<i.length&&i[u]<=o;u+=2)c=u;c&&i.splice(0,c+1)}}}function Pk(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,Ht({connector:()=>new Uj(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const $C=Bt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Bn(n,t){return ke((e,i)=>{let r=0;e.subscribe(lt(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Kn(n){return n<=0?()=>oi:ke((t,e)=>{let i=0;t.subscribe(lt(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function YC(n){return ke((t,e)=>{let i=!1;t.subscribe(lt(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function jj(n=Jle){return ke((t,e)=>{let i=!1;t.subscribe(lt(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Jle(){return new $C}function Zd(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Bn((r,s)=>n(r,s,i)):mn,Kn(1),e?YC(t):jj(()=>new $C))}function Ok(n,t){return J(t)?tn(()=>n,t):tn(()=>n)}const Nk=new Xe("angularfire2.auth.use-emulator"),Fk=new Xe("angularfire2.auth.settings"),Lk=new Xe("angularfire2.auth.tenant-id"),Vk=new Xe("angularfire2.auth.langugage-code"),Bk=new Xe("angularfire2.auth.use-device-language"),zk=new Xe("angularfire.auth.persistence"),Hk=(n,t,e,i,r,s,o,c)=>GC(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const u=t.runOutsideAngular(()=>n.auth());if(e&&u.useEmulator(...e),i&&(u.tenantId=i),u.languageCode=r,s&&u.useDeviceLanguage(),o)for(const[f,_]of Object.entries(o))u.settings[f]=_;return c&&u.setPersistence(c),u},[e,i,r,s,o,c]);let Tg=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,s,o,c,u,f,_,C,S,R){const L=new _e,z=Pe(void 0).pipe(Zi(o.outsideAngular),tn(()=>s.runOutsideAngular(()=>Promise.resolve().then(en.bind(en,466)))),Je(()=>dy(e,s,i)),Je(j=>Hk(j,s,c,f,_,C,u,S)),Pk({bufferSize:1,refCount:!1}));if(FC(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Pe(null);else{z.pipe(Zd()).subscribe();const j=z.pipe(tn(ie=>ie.getRedirectResult().then(ue=>ue,()=>null)),zr,Pk({bufferSize:1,refCount:!1})),ee=z.pipe(tn(ie=>new zt(ue=>({unsubscribe:s.runOutsideAngular(()=>ie.onAuthStateChanged(Te=>ue.next(Te),Te=>ue.error(Te),()=>ue.complete()))})))),K=z.pipe(tn(ie=>new zt(ue=>({unsubscribe:s.runOutsideAngular(()=>ie.onIdTokenChanged(Te=>ue.next(Te),Te=>ue.error(Te),()=>ue.complete()))}))));this.authState=j.pipe(Ok(ee),is(o.outsideAngular),Zi(o.insideAngular)),this.user=j.pipe(Ok(K),is(o.outsideAngular),Zi(o.insideAngular)),this.idToken=this.user.pipe(tn(ie=>ie?de(ie.getIdToken()):Pe(null))),this.idTokenResult=this.user.pipe(tn(ie=>ie?de(ie.getIdTokenResult()):Pe(null))),this.credential=Fe(j,L,this.authState.pipe(Bn(ie=>!ie))).pipe(Je(ie=>ie?.user?ie:null),is(o.outsideAngular),Zi(o.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,s)=>e.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(Gle.indexOf(s)>-1)return()=>{};const o=t.toPromise().then(c=>{const u=c?.[s];return"function"==typeof u?u.bind(c):u?.then?u.then(f=>e.run(()=>f)):e.run(()=>u)});return new Proxy(()=>{},{get:(c,u)=>o[u],apply:(c,u,f)=>o.then(_=>{const C=_?.(...f);return i?.spy?.apply&&i.spy.apply(s,f,C),C})})})}))(this,z,s,{spy:{apply:(j,ee,K)=>{(j.startsWith("signIn")||j.startsWith("createUser"))&&K.then(ie=>L.next(ie))}}})}static \u0275fac=function(i){return new(i||n)(ce(Dg),ce(Ig,8),ce(po),ce(at),ce(WC),ce(Nk,8),ce(Fk,8),ce(Lk,8),ce(Vk,8),ce(Bk,8),ce(zk,8),ce(jC,8))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),tce=(()=>{class n{constructor(){pa.Z.registerVersion("angularfire",wg.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rt({type:n});static \u0275inj=Ae({providers:[Tg]})}return n})();function Wj(n,t,e,i,r){return(s,o)=>{let c=e,u=t,f=0;s.subscribe(lt(o,_=>{const C=f++;u=c?n(u,_,C):(c=!0,_),i&&o.next(u)},r&&(()=>{c&&o.next(u),o.complete()})))}}function Sg(n,t){return ke(Wj(n,t,arguments.length>=2,!0))}function qC(...n){const t=No(n);return ke((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),c=!1;for(let u=0;u<r;u++)ht(n[u]).subscribe(lt(i,f=>{s[u]=f,!c&&!o[u]&&(o[u]=!0,(c=o.every(mn))&&(o=null))},Tt));e.subscribe(lt(i,u=>{if(c){const f=[u,...s];i.next(t?t(...f):f)}}))})}var vl=en(427),$e=en(861),Q=en(963),ga=en(383);const Gj="@firebase/database";let Uk="";function jk(n){Uk=n}class ice{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,Q.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,Q.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class rce{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,Q.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Yj=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ice(t)}}catch{}return new rce},Fh=Yj("localStorage"),Wk=Yj("sessionStorage"),Ag=new ga.Yd("@firebase/database"),qj=function(){let n=1;return function(){return n++}}(),Xj=function(n){const t=(0,Q.dS)(n),e=new Q.gQ;e.update(t);const i=e.digest();return Q.US.encodeByteArray(i)},uy=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=uy.apply(null,i):t+="object"==typeof i?(0,Q.Wl)(i):i,t+=" "}return t};let Lh=null,Zj=!0;const Kj=function(n,t){(0,Q.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ag.logLevel=ga.in.VERBOSE,Lh=Ag.log.bind(Ag),t&&Wk.set("logging_enabled",!0)):"function"==typeof n?Lh=n:(Lh=null,Wk.remove("logging_enabled"))},ms=function(...n){if(!0===Zj&&(Zj=!1,null===Lh&&!0===Wk.get("logging_enabled")&&Kj(!0)),Lh){const t=uy.apply(null,n);Lh(t)}},hy=function(n){return function(...t){ms(n,...t)}},Gk=function(...n){const t="FIREBASE INTERNAL ERROR: "+uy(...n);Ag.error(t)},ic=function(...n){const t=`FIREBASE FATAL ERROR: ${uy(...n)}`;throw Ag.error(t),new Error(t)},Qs=function(...n){const t="FIREBASE WARNING: "+uy(...n);Ag.warn(t)},XC=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Kd="[MIN_NAME]",Hc="[MAX_NAME]",Vh=function(n,t){if(n===t)return 0;if(n===Kd||t===Hc)return-1;if(t===Kd||n===Hc)return 1;{const e=e3(n),i=e3(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},ace=function(n,t){return n===t?0:n<t?-1:1},fy=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,Q.Wl)(t))},$k=function(n){if("object"!=typeof n||null===n)return(0,Q.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,Q.Wl)(t[i]),e+=":",e+=$k(n[t[i]]);return e+="}",e},Qj=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function _s(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Jj=function(n){(0,Q.hu)(!XC(n),"Invalid JSON number");const i=1023;let r,s,o,c,u;0===n?(s=0,o=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=c+i,o=Math.round(n*Math.pow(2,52-c)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const f=[];for(u=52;u;u-=1)f.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(r?1:0),f.reverse();const _=f.join("");let C="";for(u=0;u<64;u+=8){let S=parseInt(_.substr(u,8),2).toString(16);1===S.length&&(S="0"+S),C+=S}return C.toLowerCase()},uce=new RegExp("^-?(0*)\\d{1,10}$"),e3=function(n){if(uce.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},kg=function(n){try{n()}catch(t){setTimeout(()=>{throw Qs("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},py=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class gce{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Qs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class mce{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ms("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qs(t)}}let gy=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const o3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,c3="websocket",d3="long_polling";class qk{constructor(t,e,i,r,s=!1,o="",c=!1,u=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fh.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Fh.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function u3(n,t,e){let i;if((0,Q.hu)("string"==typeof t,"typeof type must == string"),(0,Q.hu)("object"==typeof e,"typeof params must == object"),t===c3)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==d3)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function _ce(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return _s(e,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class vce{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,Q.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,Q.p$)(this.counters_)}}const Xk={},Zk={};function Kk(n){const t=n.toString();return Xk[t]||(Xk[t]=new vce),Xk[t]}class bce{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&kg(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Qd{constructor(t,e,i,r,s,o,c){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hy(t),this.stats_=Kk(e),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),u3(e,d3,u))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new bce(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,Q.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qk((...s)=>{const[o,c,u,f,_]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=c,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&o3.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qd.forceAllow_=!0}static forceDisallow(){Qd.forceDisallow_=!0}static isAvailable(){return!((0,Q.Yr)()||!Qd.forceAllow_&&(Qd.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,Q.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,Q.h$)(e),r=Qj(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,Q.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,Q.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Qk{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Q.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=qj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Qk.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){ms("frame writing exception"),c.stack&&ms(c.stack),ms(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ms("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,Q.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ms("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let KC=null;typeof MozWebSocket<"u"?KC=MozWebSocket:typeof WebSocket<"u"&&(KC=WebSocket);let Mg=(()=>{class n{constructor(e,i,r,s,o,c,u){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hy(this.connId),this.stats_=Kk(i),this.connURL=n.connectionURL_(i,c,u,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,o){const c={v:"5"};return!(0,Q.Yr)()&&typeof location<"u"&&location.hostname&&o3.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),o&&(c.p=o),u3(e,c3,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fh.set("previous_websocket_failure",!0);try{let r;if((0,Q.Yr)()){r={headers:{"User-Agent":`Firebase/5/${Uk}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,c=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;c&&(r.proxy={origin:c})}this.mySock=new KC(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==KC&&!n.forceDisallow_}static previouslyFailed(){return Fh.isInMemoryStorage||!0===Fh.get("previous_websocket_failure")}markConnectionHealthy(){Fh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,Q.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Q.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,Q.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Qj(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),v3=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Qd,Mg]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Mg&&Mg.isAvailable();let r=i&&!Mg.previouslyFailed();if(e.webSocketOnly&&(i||Qs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Mg];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class D3{constructor(t,e,i,r,s,o,c,u,f,_){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=u,this.onKill_=f,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hy("c:"+this.id+":"),this.transportManager_=new v3(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=py(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=fy("t",t),i=fy("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=fy("t",t),i=fy("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=fy("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Gk("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gk("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Qs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),py(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):py(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class I3{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class T3{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,Q.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,Q.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class QC extends T3{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Q.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new QC}getInitialEvent(t){return(0,Q.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class xi{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function di(){return new xi("")}function kn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Jd(n){return n.pieces_.length-n.pieceNum_}function Oi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new xi(n.pieces_,t)}function eM(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function my(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function k3(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new xi(t,0)}function ar(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof xi)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new xi(e,0)}function Mn(n){return n.pieceNum_>=n.pieces_.length}function wo(n,t){const e=kn(n),i=kn(t);if(null===e)return t;if(e===i)return wo(Oi(n),Oi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Uce(n,t){const e=my(n,0),i=my(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=Vh(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function tM(n,t){if(Jd(n)!==Jd(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Xa(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Jd(n)>Jd(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class jce{constructor(t,e){this.errorPrefix_=e,this.parts_=my(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,Q.ug)(this.parts_[i]);M3(this)}}function M3(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Bh(n))}function Bh(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class nM extends T3{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new nM}getInitialEvent(t){return(0,Q.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const _y=1e3;let eE,zh=(()=>{class n extends I3{constructor(e,i,r,s,o,c,u,f){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=u,this.authOverride_=f,this.id=n.nextPersistentConnectionId_++,this.log_=hy("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_y,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f&&!(0,Q.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nM.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&QC.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,o={r:s,a:e,b:i};this.log_((0,Q.Wl)(o)),(0,Q.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new Q.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const u=c.d;"ok"===c.s?i.resolve(u):i.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),(0,Q.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Q.hu)(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(c).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};e.tag&&(o.q=i._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,u=>{const f=u.d,_=u.s;n.warnOnListenWarnings_(f,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",u),"ok"!==_&&this.removeListen_(r,s),e.onComplete&&e.onComplete(_,f))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,Q.r3)(e,"w")){const r=(0,Q.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Qs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Q.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,Q.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,c=s.d||"error";this.authToken_===e&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,Q.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const o={p:e};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,o){this.initConnection_();const c={p:i,d:r};void 0!==o&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Q.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Gk("Unrecognized action received from server: "+(0,Q.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Q.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_y,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_y,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_y),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,$e.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),o=e.id+":"+n.nextConnectionId_++,c=e.lastSessionId;let u=!1,f=null;const _=function(){f?f.close():(u=!0,s())};e.realtime_={close:_,sendRequest:function(R){(0,Q.hu)(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(R)}};const S=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[R,L]=yield Promise.all([e.authTokenProvider_.getToken(S),e.appCheckTokenProvider_.getToken(S)]);u?ms("getToken() completed but was canceled"):(ms("getToken() completed. Creating connection."),e.authToken_=R&&R.accessToken,e.appCheckToken_=L&&L.token,f=new D3(o,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,z=>{Qs(z+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},c))}catch(R){e.log_("Failed to get token: "+R),u||(e.repoInfo_.nodeAdmin&&Qs(R),_())}}})()}interrupt(e){ms("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ms("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Q.xb)(this.interruptReasons_)&&(this.reconnectDelay_=_y,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(o=>$k(o)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new xi(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){ms("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ms("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,Q.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Uk.replace(/\./g,"-")]=1,(0,Q.uI)()?e["framework.cordova"]=1:(0,Q.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=QC.getInstance().currentlyOnline();return(0,Q.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Fn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Fn(t,e)}}class JC{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Fn(Kd,t),r=new Fn(Kd,e);return 0!==this.compare(i,r)}minPost(){return Fn.MIN}}class O3 extends JC{static get __EMPTY_NODE(){return eE}static set __EMPTY_NODE(t){eE=t}compare(t,e){return Vh(t.name,e.name)}isDefinedOn(t){throw(0,Q.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Fn.MIN}maxPost(){return new Fn(Hc,eE)}makePost(t,e){return(0,Q.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Fn(t,eE)}toString(){return".key"}}const rc=new O3;class tE{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let rM,yl=(()=>{class n{constructor(e,i,r,s,o){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??Wo.EMPTY_NODE,this.right=o??Wo.EMPTY_NODE}copy(e,i,r,s,o){return new n(e??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Wo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Wo{constructor(t,e=Wo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Wo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,yl.BLACK,null,null))}remove(t){return new Wo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,yl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new tE(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new tE(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new tE(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new tE(this.root_,null,this.comparator_,!0,t)}}function Kce(n,t){return Vh(n.name,t.name)}function iM(n,t){return Vh(n,t)}Wo.EMPTY_NODE=new class Zce{copy(t,e,i,r,s){return this}insert(t,e,i){return new yl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const N3=function(n){return"number"==typeof n?"number:"+Jj(n):"string:"+n},F3=function(n){if(n.isLeafNode()){const t=n.val();(0,Q.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Q.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Q.hu)(n===rM||n.isEmpty(),"priority of unexpected type.");(0,Q.hu)(n===rM||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let L3,V3,B3,Rg=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,Q.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),F3(this.priorityNode_)}static set __childrenNodeConstructor(e){L3=e}static get __childrenNodeConstructor(){return L3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Mn(e)?this:".priority"===kn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=kn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,Q.hu)(".priority"!==r||1===Jd(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+N3(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Jj(this.value_):this.value_,this.lazyHash_=Xj(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,Q.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),o=n.VALUE_TYPE_ORDER.indexOf(r);return(0,Q.hu)(s>=0,"Unknown leaf type: "+i),(0,Q.hu)(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ui=new class tde extends JC{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?Vh(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Fn.MIN}maxPost(){return new Fn(Hc,new Rg("[PRIORITY-POST]",B3))}makePost(t,e){const i=V3(t);return new Fn(e,new Rg("[PRIORITY-POST]",i))}toString(){return".priority"}},nde=Math.log(2);class ide{constructor(t){this.count=parseInt(Math.log(t+1)/nde,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const nE=function(n,t,e,i){n.sort(t);const r=function(u,f){const _=f-u;let C,S;if(0===_)return null;if(1===_)return C=n[u],S=e?e(C):C,new yl(S,C.node,yl.BLACK,null,null);{const R=parseInt(_/2,10)+u,L=r(u,R),z=r(R+1,f);return C=n[R],S=e?e(C):C,new yl(S,C.node,yl.BLACK,L,z)}},c=function(u){let f=null,_=null,C=n.length;const S=function(L,z){const j=C-L,ee=C;C-=L;const K=r(j+1,ee),ie=n[j],ue=e?e(ie):ie;R(new yl(ue,ie.node,z,null,K))},R=function(L){f?(f.left=L,f=L):(_=L,f=L)};for(let L=0;L<u.count;++L){const z=u.nextBitIsOne(),j=Math.pow(2,u.count-(L+1));z?S(j,yl.BLACK):(S(j,yl.BLACK),S(j,yl.RED))}return _}(new ide(n.length));return new Wo(i||t,c)};let sM;const Pg={};class Uc{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,Q.hu)(Pg&&Ui,"ChildrenNode.ts has not been loaded"),sM=sM||new Uc({".priority":Pg},{".priority":Ui}),sM}get(t){const e=(0,Q.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Wo?e:null}hasIndex(t){return(0,Q.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,Q.hu)(t!==rc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(Fn.Wrap);let c,o=s.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=s.getNext();c=r?nE(i,t.getCompare()):Pg;const u=t.toString(),f=Object.assign({},this.indexSet_);f[u]=t;const _=Object.assign({},this.indexes_);return _[u]=c,new Uc(_,f)}addToIndexes(t,e){const i=(0,Q.UI)(this.indexes_,(r,s)=>{const o=(0,Q.DV)(this.indexSet_,s);if((0,Q.hu)(o,"Missing index implementation for "+s),r===Pg){if(o.isDefinedOn(t.node)){const c=[],u=e.getIterator(Fn.Wrap);let f=u.getNext();for(;f;)f.name!==t.name&&c.push(f),f=u.getNext();return c.push(t),nE(c,o.getCompare())}return Pg}{const c=e.get(t.name);let u=r;return c&&(u=u.remove(new Fn(t.name,c))),u.insert(t,t.node)}});return new Uc(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,Q.UI)(this.indexes_,r=>{if(r===Pg)return r;{const s=e.get(t.name);return s?r.remove(new Fn(t.name,s)):r}});return new Uc(i,this.indexSet_)}}let vy,xn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&F3(this.priorityNode_),this.children_.isEmpty()&&(0,Q.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return vy||(vy=new n(new Wo(iM),null,Uc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vy}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?vy:i}}getChild(e){const i=kn(e);return null===i?this:this.getImmediateChild(i).getChild(Oi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,Q.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Fn(e,i);let s,o;i.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),o=this.indexMap_.addToIndexes(r,this.children_));const c=s.isEmpty()?vy:this.priorityNode_;return new n(s,c,o)}}updateChild(e,i){const r=kn(e);if(null===r)return i;{(0,Q.hu)(".priority"!==kn(e)||1===Jd(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Oi(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(Ui,(c,u)=>{i[c]=u.val(e),r++,o&&n.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!e&&o&&s<2*r){const c=[];for(const u in i)c[u]=i[u];return c}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+N3(this.getPriority().val())+":"),this.forEachChild(Ui,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":Xj(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new Fn(e,i));return o?o.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Fn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Fn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Fn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Fn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yy?-1:0}withIndex(e){if(e===rc||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===rc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ui),s=i.getIterator(Ui);let o=r.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=r.getNext(),c=s.getNext()}return null===o&&null===c}return!1}return!1}}resolveIndex_(e){return e===rc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const yy=new class rde extends xn{constructor(){super(new Wo(iM),xn.EMPTY_NODE,Uc.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return xn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Fn,{MIN:{value:new Fn(Kd,xn.EMPTY_NODE)},MAX:{value:new Fn(Hc,yy)}}),O3.__EMPTY_NODE=xn.EMPTY_NODE,Rg.__childrenNodeConstructor=xn,function Qce(n){rM=n}(yy),function ede(n){B3=n}(yy);const sde=!0;function mr(n,t=null){if(null===n)return xn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,Q.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Rg(n,mr(t));if(n instanceof Array||!sde){let e=xn.EMPTY_NODE;return _s(n,(i,r)=>{if((0,Q.r3)(n,i)&&"."!==i.substring(0,1)){const s=mr(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(mr(t))}{const e=[];let i=!1;if(_s(n,(o,c)=>{if("."!==o.substring(0,1)){const u=mr(c);u.isEmpty()||(i=i||!u.getPriority().isEmpty(),e.push(new Fn(o,u)))}}),0===e.length)return xn.EMPTY_NODE;const s=nE(e,Kce,o=>o.name,iM);if(i){const o=nE(e,Ui.getCompare());return new xn(s,mr(t),new Uc({".priority":o},{".priority":Ui}))}return new xn(s,mr(t),Uc.Default)}}!function Jce(n){V3=n}(mr);class oM extends JC{constructor(t){super(),this.indexPath_=t,(0,Q.hu)(!Mn(t)&&".priority"!==kn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?Vh(t.name,e.name):s}makePost(t,e){const i=mr(t),r=xn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Fn(e,r)}maxPost(){const t=xn.EMPTY_NODE.updateChild(this.indexPath_,yy);return new Fn(Hc,t)}toString(){return my(this.indexPath_,0).join("/")}}const aM=new class ode extends JC{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Vh(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Fn.MIN}maxPost(){return Fn.MAX}makePost(t,e){const i=mr(t);return new Fn(e,i)}toString(){return".value"}};function z3(n){return{type:"value",snapshotNode:n}}function Og(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function by(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function xy(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class lM{constructor(t){this.index_=t}updateChild(t,e,i,r,s,o){(0,Q.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=t.getImmediateChild(e);return c.getChild(r).equals(i.getChild(r))&&c.isEmpty()===i.isEmpty()||(null!=o&&(i.isEmpty()?t.hasChild(e)?o.trackChildChange(by(e,c)):(0,Q.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(Og(e,i)):o.trackChildChange(xy(e,i,c))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Ui,(r,s)=>{e.hasChild(r)||i.trackChildChange(by(r,s))}),e.isLeafNode()||e.forEachChild(Ui,(r,s)=>{if(t.hasChild(r)){const o=t.getImmediateChild(r);o.equals(s)||i.trackChildChange(xy(r,s,o))}else i.trackChildChange(Og(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?xn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class wy{constructor(t){this.indexedFilter_=new lM(t.getIndex()),this.index_=t.getIndex(),this.startPost_=wy.getStartPost_(t),this.endPost_=wy.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,o){return this.matches(new Fn(e,i))||(i=xn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,o)}updateFullNode(t,e,i){e.isLeafNode()&&(e=xn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(xn.EMPTY_NODE);const s=this;return e.forEachChild(Ui,(o,c)=>{s.matches(new Fn(o,c))||(r=r.updateImmediateChild(o,xn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class lde{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new wy(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,o){return this.rangedFilter_.matches(new Fn(e,i))||(i=xn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,o):this.fullLimitUpdateChild_(t,e,i,s,o)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=xn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=xn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c)){if(!this.withinDirectionalEnd(c))break;r=r.updateImmediateChild(c.name,c.node),o++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(xn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:r=r.updateImmediateChild(c.name,xn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let o;if(this.reverse_){const C=this.index_.getCompare();o=(S,R)=>C(R,S)}else o=this.index_.getCompare();const c=t;(0,Q.hu)(c.numChildren()===this.limit_,"");const u=new Fn(e,i),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),_=this.rangedFilter_.matches(u);if(c.hasChild(e)){const C=c.getImmediateChild(e);let S=r.getChildAfterChild(this.index_,f,this.reverse_);for(;null!=S&&(S.name===e||c.hasChild(S.name));)S=r.getChildAfterChild(this.index_,S,this.reverse_);const R=null==S?1:o(S,u);if(_&&!i.isEmpty()&&R>=0)return s?.trackChildChange(xy(e,i,C)),c.updateImmediateChild(e,i);{s?.trackChildChange(by(e,C));const z=c.updateImmediateChild(e,xn.EMPTY_NODE);return null!=S&&this.rangedFilter_.matches(S)?(s?.trackChildChange(Og(S.name,S.node)),z.updateImmediateChild(S.name,S.node)):z}}return i.isEmpty()?t:_&&o(f,u)>=0?(null!=s&&(s.trackChildChange(by(f.name,f.node)),s.trackChildChange(Og(e,i))),c.updateImmediateChild(e,i).updateImmediateChild(f.name,xn.EMPTY_NODE)):t}}class iE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ui}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Q.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Q.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Q.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Q.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Q.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ui}copy(){const t=new iE;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function cM(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function dM(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function rE(n,t){const e=n.copy();return e.index_=t,e}function H3(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Ui?e="$priority":n.index_===aM?e="$value":n.index_===rc?e="$key":((0,Q.hu)(n.index_ instanceof oM,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,Q.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,Q.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,Q.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,Q.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,Q.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function U3(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Ui&&(t.i=n.index_.toString()),t}class sE extends I3{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=hy("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,Q.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=sE.getListenId_(t,i),c={};this.listens_[o]=c;const u=H3(t._queryParams);this.restRequest_(s+".json",u,(f,_)=>{let C=_;if(404===f&&(C=null,f=null),null===f&&this.onDataUpdate_(s,C,!1,i),(0,Q.DV)(this.listens_,o)===c){let S;S=f?401===f?"permission_denied":"rest_error:"+f:"ok",r(S,null)}})}unlisten(t,e){const i=sE.getListenId_(t,e);delete this.listens_[i]}get(t){const e=H3(t._queryParams),i=t._path.toString(),r=new Q.BH;return this.restRequest_(i+".json",e,(s,o)=>{let c=o;404===s&&(c=null,s=null),null===s?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,Q.xO)(e);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&4===c.readyState){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=(0,Q.cI)(c.responseText)}catch{Qs("Failed to parse JSON response for "+o+": "+c.responseText)}i(null,u)}else 401!==c.status&&404!==c.status&&Qs("Got unsuccessful REST response for "+o+" Status: "+c.status),i(c.status);i=null}},c.open("GET",o,!0),c.send()})}}class pde{constructor(){this.rootNode_=xn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function oE(){return{value:null,children:new Map}}function Ng(n,t,e){if(Mn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=kn(t);n.children.has(i)||n.children.set(i,oE()),Ng(n.children.get(i),t=Oi(t),e)}}function uM(n,t){if(Mn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Ui,(i,r)=>{Ng(n,new xi(i),r)}),uM(n,t)}}if(n.children.size>0){const e=kn(t);return t=Oi(t),n.children.has(e)&&uM(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function hM(n,t,e){null!==n.value?e(t,n.value):function gde(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{hM(r,new xi(t.toString()+"/"+i),e)})}class mde{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&_s(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class yde{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new mde(t);const i=1e4+2e4*Math.random();py(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;_s(t,(r,s)=>{s>0&&(0,Q.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),py(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var sc=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(sc||{});function gM(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class aE{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=sc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Mn(this.path)){if(null!=this.affectedTree.value)return(0,Q.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new xi(t));return new aE(di(),e,this.revert)}}return(0,Q.hu)(kn(this.path)===t,"operationForChild called for unrelated child."),new aE(Oi(this.path),this.affectedTree,this.revert)}}class Cy{constructor(t,e){this.source=t,this.path=e,this.type=sc.LISTEN_COMPLETE}operationForChild(t){return Mn(this.path)?new Cy(this.source,di()):new Cy(this.source,Oi(this.path))}}class Hh{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=sc.OVERWRITE}operationForChild(t){return Mn(this.path)?new Hh(this.source,di(),this.snap.getImmediateChild(t)):new Hh(this.source,Oi(this.path),this.snap)}}class Fg{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=sc.MERGE}operationForChild(t){if(Mn(this.path)){const e=this.children.subtree(new xi(t));return e.isEmpty()?null:e.value?new Hh(this.source,di(),e.value):new Fg(this.source,di(),e)}return(0,Q.hu)(kn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Fg(this.source,Oi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class eu{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Mn(t))return this.isFullyInitialized()&&!this.filtered_;const e=kn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class bde{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Ey(n,t,e,i,r,s){const o=i.filter(c=>c.type===e);o.sort((c,u)=>function Cde(n,t,e){if(null==t.childName||null==e.childName)throw(0,Q.g5)("Should only compare child_ events.");const i=new Fn(t.childName,t.snapshotNode),r=new Fn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,c,u)),o.forEach(c=>{const u=function wde(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,c,s);r.forEach(f=>{f.respondsTo(c.type)&&t.push(f.createEvent(u,n.query_))})})}function lE(n,t){return{eventCache:n,serverCache:t}}function Dy(n,t,e,i){return lE(new eu(t,e,i),n.serverCache)}function W3(n,t,e,i){return lE(n.eventCache,new eu(t,e,i))}function cE(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Uh(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let mM;class ji{constructor(t,e=(()=>(mM||(mM=new Wo(ace)),mM))()){this.value=t,this.children=e}static fromObject(t){let e=new ji(null);return _s(t,(i,r)=>{e=e.set(new xi(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:di(),value:this.value};if(Mn(t))return null;{const i=kn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Oi(t),e);return null!=s?{path:ar(new xi(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Mn(t))return this;{const e=kn(t),i=this.children.get(e);return null!==i?i.subtree(Oi(t)):new ji(null)}}set(t,e){if(Mn(t))return new ji(e,this.children);{const i=kn(t),s=(this.children.get(i)||new ji(null)).set(Oi(t),e),o=this.children.insert(i,s);return new ji(this.value,o)}}remove(t){if(Mn(t))return this.children.isEmpty()?new ji(null):new ji(null,this.children);{const e=kn(t),i=this.children.get(e);if(i){const r=i.remove(Oi(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new ji(null):new ji(this.value,s)}return this}}get(t){if(Mn(t))return this.value;{const e=kn(t),i=this.children.get(e);return i?i.get(Oi(t)):null}}setTree(t,e){if(Mn(t))return e;{const i=kn(t),s=(this.children.get(i)||new ji(null)).setTree(Oi(t),e);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new ji(this.value,o)}}fold(t){return this.fold_(di(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(ar(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,di(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Mn(t))return null;{const s=kn(t),o=this.children.get(s);return o?o.findOnPath_(Oi(t),ar(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,di(),e)}foreachOnPath_(t,e,i){if(Mn(t))return this;{this.value&&i(e,this.value);const r=kn(t),s=this.children.get(r);return s?s.foreachOnPath_(Oi(t),ar(e,r),i):new ji(null)}}foreach(t){this.foreach_(di(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(ar(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class bl{constructor(t){this.writeTree_=t}static empty(){return new bl(new ji(null))}}function Iy(n,t,e){if(Mn(t))return new bl(new ji(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const o=wo(r,t);return s=s.updateChild(o,e),new bl(n.writeTree_.set(r,s))}{const r=new ji(e),s=n.writeTree_.setTree(t,r);return new bl(s)}}}function _M(n,t,e){let i=n;return _s(e,(r,s)=>{i=Iy(i,ar(t,r),s)}),i}function G3(n,t){if(Mn(t))return bl.empty();{const e=n.writeTree_.setTree(t,new ji(null));return new bl(e)}}function vM(n,t){return null!=jh(n,t)}function jh(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(wo(e.path,t)):null}function $3(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ui,(i,r)=>{t.push(new Fn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Fn(i,r.value))}),t}function tu(n,t){if(Mn(t))return n;{const e=jh(n,t);return new bl(null!=e?new ji(e):n.writeTree_.subtree(t))}}function yM(n){return n.writeTree_.isEmpty()}function Lg(n,t){return Y3(di(),n.writeTree_,t)}function Y3(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,Q.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=Y3(ar(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(ar(n,".priority"),i)),e}}function dE(n,t){return Q3(t,n)}function Ade(n,t){if(n.snap)return Xa(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Xa(ar(n.path,e),t))return!0;return!1}function Mde(n){return n.visible}function q3(n,t,e){let i=bl.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const o=s.path;let c;if(s.snap)Xa(e,o)?(c=wo(e,o),i=Iy(i,c,s.snap)):Xa(o,e)&&(c=wo(o,e),i=Iy(i,di(),s.snap.getChild(c)));else{if(!s.children)throw(0,Q.g5)("WriteRecord should have .snap or .children");if(Xa(e,o))c=wo(e,o),i=_M(i,c,s.children);else if(Xa(o,e))if(c=wo(o,e),Mn(c))i=_M(i,di(),s.children);else{const u=(0,Q.DV)(s.children,kn(c));if(u){const f=u.getChild(Oi(c));i=Iy(i,di(),f)}}}}}return i}function X3(n,t,e,i,r){if(i||r){const s=tu(n.visibleWrites,t);return!r&&yM(s)?e:r||null!=e||vM(s,di())?Lg(q3(n.allWrites,function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(Xa(f.path,t)||Xa(t,f.path))},t),e||xn.EMPTY_NODE):null}{const s=jh(n.visibleWrites,t);if(null!=s)return s;{const o=tu(n.visibleWrites,t);return yM(o)?e:null!=e||vM(o,di())?Lg(o,e||xn.EMPTY_NODE):null}}}function uE(n,t,e,i){return X3(n.writeTree,n.treePath,t,e,i)}function bM(n,t){return function Rde(n,t,e){let i=xn.EMPTY_NODE;const r=jh(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Ui,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(e){const s=tu(n.visibleWrites,t);return e.forEachChild(Ui,(o,c)=>{const u=Lg(tu(s,new xi(o)),c);i=i.updateImmediateChild(o,u)}),$3(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return $3(tu(n.visibleWrites,t)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(n.writeTree,n.treePath,t)}function Z3(n,t,e,i){return function Pde(n,t,e,i,r){(0,Q.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=ar(t,e);if(vM(n.visibleWrites,s))return null;{const o=tu(n.visibleWrites,s);return yM(o)?r.getChild(e):Lg(o,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function hE(n,t){return function Nde(n,t){return jh(n.visibleWrites,t)}(n.writeTree,ar(n.treePath,t))}function xM(n,t,e){return function Ode(n,t,e,i){const r=ar(t,e),s=jh(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?Lg(tu(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function K3(n,t){return Q3(ar(n.treePath,t),n.writeTree)}function Q3(n,t){return{treePath:n,writeTree:t}}class Bde{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,Q.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,Q.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,xy(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,by(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,Og(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,Q.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,xy(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const J3=new class zde{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class wM{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new eu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xM(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Uh(this.viewCache_),s=function Vde(n,t,e,i,r,s){return function Fde(n,t,e,i,r,s,o){let c;const u=tu(n.visibleWrites,t),f=jh(u,di());if(null!=f)c=f;else{if(null==e)return[];c=Lg(u,e)}if(c=c.withIndex(o),c.isEmpty()||c.isLeafNode())return[];{const _=[],C=o.getCompare(),S=s?c.getReverseIteratorFrom(i,o):c.getIteratorFrom(i,o);let R=S.getNext();for(;R&&_.length<r;)0!==C(R,i)&&_.push(R),R=S.getNext();return _}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function e4(n,t,e,i,r,s){const o=t.eventCache;if(null!=hE(i,e))return t;{let c,u;if(Mn(e))if((0,Q.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const f=Uh(t),C=bM(i,f instanceof xn?f:xn.EMPTY_NODE);c=n.filter.updateFullNode(t.eventCache.getNode(),C,s)}else{const f=uE(i,Uh(t));c=n.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const f=kn(e);if(".priority"===f){(0,Q.hu)(1===Jd(e),"Can't have a priority with additional path components");const _=o.getNode();u=t.serverCache.getNode();const C=Z3(i,e,_,u);c=null!=C?n.filter.updatePriority(_,C):o.getNode()}else{const _=Oi(e);let C;if(o.isCompleteForChild(f)){u=t.serverCache.getNode();const S=Z3(i,e,o.getNode(),u);C=null!=S?o.getNode().getImmediateChild(f).updateChild(_,S):o.getNode().getImmediateChild(f)}else C=xM(i,f,t.serverCache);c=null!=C?n.filter.updateChild(o.getNode(),f,C,_,r,s):o.getNode()}}return Dy(t,c,o.isFullyInitialized()||Mn(e),n.filter.filtersNodes())}}function fE(n,t,e,i,r,s,o,c){const u=t.serverCache;let f;const _=o?n.filter:n.filter.getIndexedFilter();if(Mn(e))f=_.updateFullNode(u.getNode(),i,null);else if(_.filtersNodes()&&!u.isFiltered()){const R=u.getNode().updateChild(e,i);f=_.updateFullNode(u.getNode(),R,null)}else{const R=kn(e);if(!u.isCompleteForPath(e)&&Jd(e)>1)return t;const L=Oi(e),j=u.getNode().getImmediateChild(R).updateChild(L,i);f=".priority"===R?_.updatePriority(u.getNode(),j):_.updateChild(u.getNode(),R,j,L,J3,null)}const C=W3(t,f,u.isFullyInitialized()||Mn(e),_.filtersNodes());return e4(n,C,e,r,new wM(r,C,s),c)}function CM(n,t,e,i,r,s,o){const c=t.eventCache;let u,f;const _=new wM(r,t,s);if(Mn(e))f=n.filter.updateFullNode(t.eventCache.getNode(),i,o),u=Dy(t,f,!0,n.filter.filtersNodes());else{const C=kn(e);if(".priority"===C)f=n.filter.updatePriority(t.eventCache.getNode(),i),u=Dy(t,f,c.isFullyInitialized(),c.isFiltered());else{const S=Oi(e),R=c.getNode().getImmediateChild(C);let L;if(Mn(S))L=i;else{const z=_.getCompleteChild(C);L=null!=z?".priority"===eM(S)&&z.getChild(k3(S)).isEmpty()?z:z.updateChild(S,i):xn.EMPTY_NODE}u=R.equals(L)?t:Dy(t,n.filter.updateChild(c.getNode(),C,L,S,_,o),c.isFullyInitialized(),n.filter.filtersNodes())}}return u}function t4(n,t){return n.eventCache.isCompleteForChild(t)}function n4(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function EM(n,t,e,i,r,s,o,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let f,u=t;f=Mn(e)?i:new ji(null).setTree(e,i);const _=t.serverCache.getNode();return f.children.inorderTraversal((C,S)=>{if(_.hasChild(C)){const L=n4(0,t.serverCache.getNode().getImmediateChild(C),S);u=fE(n,u,new xi(C),L,r,s,o,c)}}),f.children.inorderTraversal((C,S)=>{const R=!t.serverCache.isCompleteForChild(C)&&null===S.value;if(!_.hasChild(C)&&!R){const z=n4(0,t.serverCache.getNode().getImmediateChild(C),S);u=fE(n,u,new xi(C),z,r,s,o,c)}}),u}class Xde{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new lM(i.getIndex()),s=function cde(n){return n.loadsAllData()?new lM(n.getIndex()):n.hasLimit()?new lde(n):new wy(n)}(i);this.processor_=function Hde(n){return{filter:n}}(s);const o=e.serverCache,c=e.eventCache,u=r.updateFullNode(xn.EMPTY_NODE,o.getNode(),null),f=s.updateFullNode(xn.EMPTY_NODE,c.getNode(),null),_=new eu(u,o.isFullyInitialized(),r.filtersNodes()),C=new eu(f,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=lE(C,_),this.eventGenerator_=new bde(this.query_)}get query(){return this.query_}}function Qde(n,t){const e=Uh(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Mn(t)&&!e.getImmediateChild(kn(t)).isEmpty())?e.getChild(t):null}function i4(n){return 0===n.eventRegistrations_.length}function r4(n,t,e){const i=[];if(e){(0,Q.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(e,r);o&&i.push(o)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(o)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function s4(n,t,e,i){t.type===sc.MERGE&&null!==t.source.queryId&&((0,Q.hu)(Uh(n.viewCache_),"We should always have a full cache before handling merges"),(0,Q.hu)(cE(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function jde(n,t,e,i,r){const s=new Bde;let o,c;if(e.type===sc.OVERWRITE){const f=e;f.source.fromUser?o=CM(n,t,f.path,f.snap,i,r,s):((0,Q.hu)(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered()&&!Mn(f.path),o=fE(n,t,f.path,f.snap,i,r,c,s))}else if(e.type===sc.MERGE){const f=e;f.source.fromUser?o=function Gde(n,t,e,i,r,s,o){let c=t;return i.foreach((u,f)=>{const _=ar(e,u);t4(t,kn(_))&&(c=CM(n,c,_,f,r,s,o))}),i.foreach((u,f)=>{const _=ar(e,u);t4(t,kn(_))||(c=CM(n,c,_,f,r,s,o))}),c}(n,t,f.path,f.children,i,r,s):((0,Q.hu)(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered(),o=EM(n,t,f.path,f.children,i,r,c,s))}else if(e.type===sc.ACK_USER_WRITE){const f=e;o=f.revert?function qde(n,t,e,i,r,s){let o;if(null!=hE(i,e))return t;{const c=new wM(i,t,r),u=t.eventCache.getNode();let f;if(Mn(e)||".priority"===kn(e)){let _;if(t.serverCache.isFullyInitialized())_=uE(i,Uh(t));else{const C=t.serverCache.getNode();(0,Q.hu)(C instanceof xn,"serverChildren would be complete if leaf node"),_=bM(i,C)}f=n.filter.updateFullNode(u,_,s)}else{const _=kn(e);let C=xM(i,_,t.serverCache);null==C&&t.serverCache.isCompleteForChild(_)&&(C=u.getImmediateChild(_)),f=null!=C?n.filter.updateChild(u,_,C,Oi(e),c,s):t.eventCache.getNode().hasChild(_)?n.filter.updateChild(u,_,xn.EMPTY_NODE,Oi(e),c,s):u,f.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=uE(i,Uh(t)),o.isLeafNode()&&(f=n.filter.updateFullNode(f,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=hE(i,di()),Dy(t,f,o,n.filter.filtersNodes())}}(n,t,f.path,i,r,s):function $de(n,t,e,i,r,s,o){if(null!=hE(r,e))return t;const c=t.serverCache.isFiltered(),u=t.serverCache;if(null!=i.value){if(Mn(e)&&u.isFullyInitialized()||u.isCompleteForPath(e))return fE(n,t,e,u.getNode().getChild(e),r,s,c,o);if(Mn(e)){let f=new ji(null);return u.getNode().forEachChild(rc,(_,C)=>{f=f.set(new xi(_),C)}),EM(n,t,e,f,r,s,c,o)}return t}{let f=new ji(null);return i.foreach((_,C)=>{const S=ar(e,_);u.isCompleteForPath(S)&&(f=f.set(_,u.getNode().getChild(S)))}),EM(n,t,e,f,r,s,c,o)}}(n,t,f.path,f.affectedTree,i,r,s)}else{if(e.type!==sc.LISTEN_COMPLETE)throw(0,Q.g5)("Unknown operation type: "+e.type);o=function Yde(n,t,e,i,r){const s=t.serverCache;return e4(n,W3(t,s.getNode(),s.isFullyInitialized()||Mn(e),s.isFiltered()),e,i,J3,r)}(n,t,e.path,i,s)}const u=s.getChanges();return function Wde(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=cE(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(z3(cE(t)))}}(t,o,u),{viewCache:o,changes:u}}(n.processor_,r,t,e,i);return function Ude(n,t){(0,Q.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,Q.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,Q.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,o4(n,s.changes,s.viewCache.eventCache.getNode(),null)}function o4(n,t,e,i){return function xde(n,t,e,i){const r=[],s=[];return t.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function ade(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(o.childName,o.snapshotNode))}),Ey(n,r,"child_removed",t,i,e),Ey(n,r,"child_added",t,i,e),Ey(n,r,"child_moved",s,i,e),Ey(n,r,"child_changed",t,i,e),Ey(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let pE,mE;class a4{constructor(){this.views=new Map}}function DM(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,Q.hu)(null!=s,"SyncTree gave us an op for an invalid query."),s4(s,t,e,i)}{let s=[];for(const o of n.views.values())s=s.concat(s4(o,t,e,i));return s}}function l4(n,t,e,i,r){const o=n.views.get(t._queryIdentifier);if(!o){let c=uE(e,r?i:null),u=!1;c?u=!0:i instanceof xn?(c=bM(e,i),u=!1):(c=xn.EMPTY_NODE,u=!1);const f=lE(new eu(c,u,!1),new eu(i,r,!1));return new Xde(t,f)}return o}function c4(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function nu(n,t){let e=null;for(const i of n.views.values())e=e||Qde(i,t);return e}function d4(n,t){return t._queryParams.loadsAllData()?gE(n):n.views.get(t._queryIdentifier)}function u4(n,t){return null!=d4(n,t)}function iu(n){return null!=gE(n)}function gE(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let lue=1;class h4{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ji(null),this.pendingWriteTree_=function Lde(){return{visibleWrites:bl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function IM(n,t,e,i,r){return function Dde(n,t,e,i,r){(0,Q.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Iy(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Vg(n,new Hh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function ru(n,t,e=!1){const i=function Tde(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Sde(n,t){const e=n.allWrites.findIndex(c=>c.writeId===t);(0,Q.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,o=n.allWrites.length-1;for(;r&&o>=0;){const c=n.allWrites[o];c.visible&&(o>=e&&Ade(c,i.path)?r=!1:Xa(i.path,c.path)&&(s=!0)),o--}return!!r&&(s?(function kde(n){n.visibleWrites=q3(n.allWrites,Mde,di()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=G3(n.visibleWrites,i.path):_s(i.children,u=>{n.visibleWrites=G3(n.visibleWrites,ar(i.path,u))}),!0))}(n.pendingWriteTree_,t)){let s=new ji(null);return null!=i.snap?s=s.set(di(),!0):_s(i.children,o=>{s=s.set(new xi(o),!0)}),Vg(n,new aE(i.path,s,e))}return[]}function Ty(n,t,e){return Vg(n,new Hh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function _E(n,t,e,i,r=!1){const s=t._path,o=n.syncPointTree_.get(s);let c=[];if(o&&("default"===t._queryIdentifier||u4(o,t))){const u=function sue(n,t,e,i){const r=t._queryIdentifier,s=[];let o=[];const c=iu(n);if("default"===r)for(const[u,f]of n.views.entries())o=o.concat(r4(f,e,i)),i4(f)&&(n.views.delete(u),f.query._queryParams.loadsAllData()||s.push(f.query));else{const u=n.views.get(r);u&&(o=o.concat(r4(u,e,i)),i4(u)&&(n.views.delete(r),u.query._queryParams.loadsAllData()||s.push(u.query)))}return c&&!iu(n)&&s.push(new(function nue(){return(0,Q.hu)(pE,"Reference.ts has not been loaded"),pE}())(t._repo,t._path)),{removed:s,events:o}}(o,t,e,i);(function iue(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const f=u.removed;if(c=u.events,!r){const _=-1!==f.findIndex(S=>S._queryParams.loadsAllData()),C=n.syncPointTree_.findOnPath(s,(S,R)=>iu(R));if(_&&!C){const S=n.syncPointTree_.subtree(s);if(!S.isEmpty()){const R=function gue(n){return n.fold((t,e,i)=>{if(e&&iu(e))return[gE(e)];{let r=[];return e&&(r=c4(e)),_s(i,(s,o)=>{r=r.concat(o)}),r}})}(S);for(let L=0;L<R.length;++L){const z=R[L],j=z.query,ee=m4(n,z);n.listenProvider_.startListening(Ay(j),Sy(n,j),ee.hashFn,ee.onComplete)}}}!C&&f.length>0&&!i&&(_?n.listenProvider_.stopListening(Ay(t),null):f.forEach(S=>{const R=n.queryToTagMap.get(yE(S));n.listenProvider_.stopListening(Ay(S),R)}))}!function mue(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=yE(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,f)}return c}function f4(n,t,e,i){const r=SM(n,i);if(null!=r){const s=AM(r),o=s.path,c=s.queryId,u=wo(o,t);return kM(n,o,new Hh(gM(c),u,e))}return[]}function TM(n,t,e,i=!1){const r=t._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(r,(S,R)=>{const L=wo(S,r);s=s||nu(R,L),o=o||iu(R)});let u,c=n.syncPointTree_.get(r);c?(o=o||iu(c),s=s||nu(c,di())):(c=new a4,n.syncPointTree_=n.syncPointTree_.set(r,c)),null!=s?u=!0:(u=!1,s=xn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((R,L)=>{const z=nu(L,di());z&&(s=s.updateImmediateChild(R,z))}));const f=u4(c,t);if(!f&&!t._queryParams.loadsAllData()){const S=yE(t);(0,Q.hu)(!n.queryToTagMap.has(S),"View does not exist, but we have a tag");const R=function _ue(){return lue++}();n.queryToTagMap.set(S,R),n.tagToQueryMap.set(R,S)}let C=function rue(n,t,e,i,r,s){const o=l4(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,o),function Jde(n,t){n.eventRegistrations_.push(t)}(o,e),function eue(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ui,(s,o)=>{i.push(Og(s,o))}),e.isFullyInitialized()&&i.push(z3(e.getNode())),o4(n,i,e.getNode(),t)}(o,e)}(c,t,e,dE(n.pendingWriteTree_,r),s,u);if(!f&&!o&&!i){const S=d4(c,t);C=C.concat(function vue(n,t,e){const i=t._path,r=Sy(n,t),s=m4(n,e),o=n.listenProvider_.startListening(Ay(t),r,s.hashFn,s.onComplete),c=n.syncPointTree_.subtree(i);if(r)(0,Q.hu)(!iu(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((f,_,C)=>{if(!Mn(f)&&_&&iu(_))return[gE(_).query];{let S=[];return _&&(S=S.concat(c4(_).map(R=>R.query))),_s(C,(R,L)=>{S=S.concat(L)}),S}});for(let f=0;f<u.length;++f){const _=u[f];n.listenProvider_.stopListening(Ay(_),Sy(n,_))}}return o}(n,t,S))}return C}function vE(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(o,c)=>{const f=nu(c,wo(o,t));if(f)return f});return X3(r,t,s,e,!0)}function Vg(n,t){return p4(t,n.syncPointTree_,null,dE(n.pendingWriteTree_,di()))}function p4(n,t,e,i){if(Mn(n.path))return g4(n,t,e,i);{const r=t.get(di());null==e&&null!=r&&(e=nu(r,di()));let s=[];const o=kn(n.path),c=n.operationForChild(o),u=t.children.get(o);if(u&&c){const f=e?e.getImmediateChild(o):null,_=K3(i,o);s=s.concat(p4(c,u,f,_))}return r&&(s=s.concat(DM(r,n,i,e))),s}}function g4(n,t,e,i){const r=t.get(di());null==e&&null!=r&&(e=nu(r,di()));let s=[];return t.children.inorderTraversal((o,c)=>{const u=e?e.getImmediateChild(o):null,f=K3(i,o),_=n.operationForChild(o);_&&(s=s.concat(g4(_,c,u,f)))}),r&&(s=s.concat(DM(r,n,i,e))),s}function m4(n,t){const e=t.query,i=Sy(n,e);return{hashFn:()=>(function Zde(n){return n.viewCache_.serverCache.getNode()}(t)||xn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function hue(n,t,e){const i=SM(n,e);if(i){const r=AM(i),s=r.path,o=r.queryId,c=wo(s,t);return kM(n,s,new Cy(gM(o),c))}return[]}(n,e._path,i):function uue(n,t){return Vg(n,new Cy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function dce(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return _E(n,e,null,s)}}}}function Sy(n,t){const e=yE(t);return n.queryToTagMap.get(e)}function yE(n){return n._path.toString()+"$"+n._queryIdentifier}function SM(n,t){return n.tagToQueryMap.get(t)}function AM(n){const t=n.indexOf("$");return(0,Q.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new xi(n.substr(0,t))}}function kM(n,t,e){const i=n.syncPointTree_.get(t);return(0,Q.hu)(i,"Missing sync point for query tag that we're tracking"),DM(i,e,dE(n.pendingWriteTree_,t),null)}function Ay(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function aue(){return(0,Q.hu)(mE,"Reference.ts has not been loaded"),mE}())(n._repo,n._path):n}class MM{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new MM(e)}node(){return this.node_}}class RM{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ar(this.path_,t);return new RM(this.syncTree_,e)}node(){return vE(this.syncTree_,this.path_)}}const yue=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},_4=function(n,t,e){return n&&"object"==typeof n?((0,Q.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?bue(n[".sv"],t,e):"object"==typeof n[".sv"]?xue(n[".sv"],t):void(0,Q.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},bue=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,Q.hu)(!1,"Unexpected server value: "+n)},xue=function(n,t,e){n.hasOwnProperty("increment")||(0,Q.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,Q.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,Q.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},v4=function(n,t,e,i){return OM(t,new RM(e,n),i)},PM=function(n,t,e){return OM(n,new MM(t),e)};function OM(n,t,e){const i=n.getPriority().val(),r=_4(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const o=n,c=_4(o.getValue(),t,e);return c!==o.getValue()||r!==o.getPriority().val()?new Rg(c,mr(r)):n}{const o=n;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Rg(r))),o.forEachChild(Ui,(c,u)=>{const f=OM(u,t.getImmediateChild(c),e);f!==u&&(s=s.updateImmediateChild(c,f))}),s}}class NM{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function bE(n,t){let e=t instanceof xi?t:new xi(t),i=n,r=kn(e);for(;null!==r;){const s=(0,Q.DV)(i.node.children,r)||{children:{},childCount:0};i=new NM(r,i,s),e=Oi(e),r=kn(e)}return i}function Wh(n){return n.node.value}function FM(n,t){n.node.value=t,LM(n)}function y4(n){return n.node.childCount>0}function xE(n,t){_s(n.node.children,(e,i)=>{t(new NM(e,n,i))})}function b4(n,t,e,i){e&&!i&&t(n),xE(n,r=>{b4(r,t,!0,i)}),e&&i&&t(n)}function ky(n){return new xi(null===n.parent?n.name:ky(n.parent)+"/"+n.name)}function LM(n){null!==n.parent&&function Eue(n,t,e){const i=function wue(n){return void 0===Wh(n)&&!y4(n)}(e),r=(0,Q.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,LM(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,LM(n))}(n.parent,n.name,n)}const Due=/[\[\].#$\/\u0000-\u001F\u007F]/,Iue=/[\[\].#$\u0000-\u001F\u007F]/,VM=10485760,wE=function(n){return"string"==typeof n&&0!==n.length&&!Due.test(n)},x4=function(n){return"string"==typeof n&&0!==n.length&&!Iue.test(n)},My=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!XC(n)||n&&"object"==typeof n&&(0,Q.r3)(n,".sv")},oc=function(n,t,e,i){i&&void 0===t||Ry((0,Q.gK)(n,"value"),t,e)},Ry=function(n,t,e){const i=e instanceof xi?new jce(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Bh(i));if("function"==typeof t)throw new Error(n+"contains a function "+Bh(i)+" with contents = "+t.toString());if(XC(t))throw new Error(n+"contains "+t.toString()+" "+Bh(i));if("string"==typeof t&&t.length>VM/3&&(0,Q.ug)(t)>VM)throw new Error(n+"contains a string greater than "+VM+" utf8 bytes "+Bh(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(_s(t,(o,c)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!wE(o)))throw new Error(n+" contains an invalid key ("+o+") "+Bh(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Wce(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,Q.ug)(t),M3(n)})(i,o),Ry(n,c,i),function Gce(n){const t=n.parts_.pop();n.byteLength_-=(0,Q.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Bh(i)+" in addition to actual children.")}},w4=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,Q.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];_s(t,(o,c)=>{const u=new xi(o);if(Ry(r,c,ar(e,u)),".priority"===eM(u)&&!My(c))throw new Error(r+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=my(i);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!wE(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Uce);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Xa(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},BM=function(n,t,e){if(!e||void 0!==t){if(XC(t))throw new Error((0,Q.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!My(t))throw new Error((0,Q.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Py=function(n,t,e,i){if(!(i&&void 0===e||wE(e)))throw new Error((0,Q.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Oy=function(n,t,e,i){if(!(i&&void 0===e||x4(e)))throw new Error((0,Q.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Aue=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Oy(n,t,e,i)},Za=function(n,t){if(".info"===kn(t))throw new Error(n+" failed = Can't modify data under /.info/")},C4=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!wE(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),x4(n)}(e))throw new Error((0,Q.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class kue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function CE(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!tM(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function E4(n,t,e){CE(n,e),D4(n,i=>tM(i,t))}function ma(n,t,e){CE(n,e),D4(n,i=>Xa(i,t)||Xa(t,i))}function D4(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Mue(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Mue(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Lh&&ms("event: "+e.toString()),kg(i)}}}const I4="repo_interrupt",Rue=25;class Pue{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=oE(),this.transactionQueueTree_=new NM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function T4(n){const e=n.infoData_.getNode(new xi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Ny(n){return yue({timestamp:T4(n)})}function S4(n,t,e,i,r){n.dataUpdateCount++;const s=new xi(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let o=[];if(r)if(i){const u=(0,Q.UI)(e,f=>mr(f));o=function fue(n,t,e,i){const r=SM(n,i);if(r){const s=AM(r),o=s.path,c=s.queryId,u=wo(o,t),f=ji.fromObject(e);return kM(n,o,new Fg(gM(c),u,f))}return[]}(n.serverSyncTree_,s,u,r)}else{const u=mr(e);o=f4(n.serverSyncTree_,s,u,r)}else if(i){const u=(0,Q.UI)(e,f=>mr(f));o=function due(n,t,e){const i=ji.fromObject(e);return Vg(n,new Fg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,u)}else{const u=mr(e);o=Ty(n.serverSyncTree_,s,u)}let c=s;o.length>0&&(c=zg(n,s)),ma(n.eventQueue_,c,o)}function A4(n,t){zM(n,"connected",t),!1===t&&function Vue(n){Bg(n,"onDisconnectEvents");const t=Ny(n),e=oE();hM(n.onDisconnect_,di(),(r,s)=>{const o=v4(r,s,n.serverSyncTree_,t);Ng(e,r,o)});let i=[];hM(e,di(),(r,s)=>{i=i.concat(Ty(n.serverSyncTree_,r,s));const o=WM(n,r);zg(n,o)}),n.onDisconnect_=oE(),ma(n.eventQueue_,di(),i)}(n)}function zM(n,t,e){const i=new xi("/.info/"+t),r=mr(e);n.infoData_.updateSnapshot(i,r);const s=Ty(n.infoSyncTree_,i,r);ma(n.eventQueue_,i,s)}function EE(n){return n.nextWriteId_++}function HM(n,t,e,i,r){Bg(n,"set",{path:t.toString(),value:e,priority:i});const s=Ny(n),o=mr(e,i),c=vE(n.serverSyncTree_,t),u=PM(o,c,s),f=EE(n),_=IM(n.serverSyncTree_,t,u,f,!0);CE(n.eventQueue_,_),n.server_.put(t.toString(),o.val(!0),(S,R)=>{const L="ok"===S;L||Qs("set at "+t+" failed: "+S);const z=ru(n.serverSyncTree_,f,!L);ma(n.eventQueue_,t,z),su(0,r,S,R)});const C=WM(n,t);zg(n,C),ma(n.eventQueue_,C,[])}function Bue(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&uM(n.onDisconnect_,t),su(0,e,i,r)})}function k4(n,t,e,i){const r=mr(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,o)=>{"ok"===s&&Ng(n.onDisconnect_,t,r),su(0,i,s,o)})}function UM(n,t,e){let i;i=".info"===kn(t._path)?_E(n.infoSyncTree_,t,e):_E(n.serverSyncTree_,t,e),E4(n.eventQueue_,t._path,i)}function M4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(I4)}function Bg(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ms(e,...t)}function su(n,t,e,i){t&&kg(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,t(o)}})}function jM(n,t,e){return vE(n.serverSyncTree_,t,e)||xn.EMPTY_NODE}function DE(n,t=n.transactionQueueTree_){if(t||IE(n,t),Wh(t)){const e=P4(n,t);(0,Q.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Gue(n,t,e){const i=e.map(f=>f.currentWriteId),r=jM(n,t,i);let s=r;const o=r.hash();for(let f=0;f<e.length;f++){const _=e[f];(0,Q.hu)(0===_.status,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const C=wo(t,_.path);s=s.updateChild(C,_.currentOutputSnapshotRaw)}const c=s.val(!0),u=t;n.server_.put(u.toString(),c,f=>{Bg(n,"transaction put response",{path:u.toString(),status:f});let _=[];if("ok"===f){const C=[];for(let S=0;S<e.length;S++)e[S].status=2,_=_.concat(ru(n.serverSyncTree_,e[S].currentWriteId)),e[S].onComplete&&C.push(()=>e[S].onComplete(null,!0,e[S].currentOutputSnapshotResolved)),e[S].unwatcher();IE(n,bE(n.transactionQueueTree_,t)),DE(n,n.transactionQueueTree_),ma(n.eventQueue_,t,_);for(let S=0;S<C.length;S++)kg(C[S])}else{if("datastale"===f)for(let C=0;C<e.length;C++)e[C].status=3===e[C].status?4:0;else{Qs("transaction at "+u.toString()+" failed: "+f);for(let C=0;C<e.length;C++)e[C].status=4,e[C].abortReason=f}zg(n,t)}},o)}(n,ky(t),e)}else y4(t)&&xE(t,e=>{DE(n,e)})}function zg(n,t){const e=R4(n,t),i=ky(e);return function $ue(n,t,e){if(0===t.length)return;const i=[];let r=[];const o=t.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const u=t[c],f=wo(e,u.path);let C,_=!1;if((0,Q.hu)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)_=!0,C=u.abortReason,r=r.concat(ru(n.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=Rue)_=!0,C="maxretry",r=r.concat(ru(n.serverSyncTree_,u.currentWriteId,!0));else{const S=jM(n,u.path,o);u.currentInputSnapshot=S;const R=t[c].update(S.val());if(void 0!==R){Ry("transaction failed: Data returned ",R,u.path);let L=mr(R);"object"==typeof R&&null!=R&&(0,Q.r3)(R,".priority")||(L=L.updatePriority(S.getPriority()));const j=u.currentWriteId,ee=Ny(n),K=PM(L,S,ee);u.currentOutputSnapshotRaw=L,u.currentOutputSnapshotResolved=K,u.currentWriteId=EE(n),o.splice(o.indexOf(j),1),r=r.concat(IM(n.serverSyncTree_,u.path,K,u.currentWriteId,u.applyLocally)),r=r.concat(ru(n.serverSyncTree_,j,!0))}else _=!0,C="nodata",r=r.concat(ru(n.serverSyncTree_,u.currentWriteId,!0))}ma(n.eventQueue_,e,r),r=[],_&&(t[c].status=2,setTimeout(t[c].unwatcher,Math.floor(0)),t[c].onComplete&&i.push("nodata"===C?()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot):()=>t[c].onComplete(new Error(C),!1,null)))}IE(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)kg(i[c]);DE(n,n.transactionQueueTree_)}(n,P4(n,e),i),i}function R4(n,t){let e,i=n.transactionQueueTree_;for(e=kn(t);null!==e&&void 0===Wh(i);)i=bE(i,e),e=kn(t=Oi(t));return i}function P4(n,t){const e=[];return O4(n,t,e),e.sort((i,r)=>i.order-r.order),e}function O4(n,t,e){const i=Wh(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);xE(t,r=>{O4(n,r,e)})}function IE(n,t){const e=Wh(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,FM(t,e.length>0?e:void 0)}xE(t,i=>{IE(n,i)})}function WM(n,t){const e=ky(R4(n,t)),i=bE(n.transactionQueueTree_,t);return function Cue(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{GM(n,r)}),GM(n,i),b4(i,r=>{GM(n,r)}),e}function GM(n,t){const e=Wh(t);if(e){const i=[];let r=[],s=-1;for(let o=0;o<e.length;o++)3===e[o].status||(1===e[o].status?((0,Q.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,e[o].status=3,e[o].abortReason="set"):((0,Q.hu)(0===e[o].status,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(ru(n.serverSyncTree_,e[o].currentWriteId,!0)),e[o].onComplete&&i.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?FM(t,void 0):e.length=s+1,ma(n.eventQueue_,ky(t),r);for(let o=0;o<i.length;o++)kg(i[o])}}const $M=function(n,t){const e=Xue(n),i=e.namespace;return"firebase.com"===e.domain&&ic(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ic("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Qs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new qk(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new xi(e.pathString)}},Xue=function(n){let t="",e="",i="",r="",s="",o=!0,c="https",u=443;if("string"==typeof n){let f=n.indexOf("//");f>=0&&(c=n.substring(0,f-1),n=n.substring(f+2));let _=n.indexOf("/");-1===_&&(_=n.length);let C=n.indexOf("?");-1===C&&(C=n.length),t=n.substring(0,Math.min(_,C)),_<C&&(r=function Yue(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(_,C)));const S=function que(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Qs(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,C)));f=t.indexOf(":"),f>=0?(o="https"===c||"wss"===c,u=parseInt(t.substring(f+1),10)):f=t.length;const R=t.slice(0,f);if("localhost"===R.toLowerCase())e="localhost";else if(R.split(".").length<=2)e=R;else{const L=t.indexOf(".");i=t.substring(0,L).toLowerCase(),e=t.substring(L+1),s=i}"ns"in S&&(s=S.ns)}return{host:t,port:u,domain:e,subdomain:i,secure:o,scheme:c,pathString:r,namespace:s}},N4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Zue=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=N4.charAt(e%64),e=Math.floor(e/64);(0,Q.hu)(0===e,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=N4.charAt(t[r]);return(0,Q.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class F4{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Q.Wl)(this.snapshot.exportVal())}}class L4{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class YM{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,Q.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class V4{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new Q.BH;return Bue(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Za("OnDisconnect.remove",this._path);const t=new Q.BH;return k4(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Za("OnDisconnect.set",this._path),oc("OnDisconnect.set",t,this._path,!1);const e=new Q.BH;return k4(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Za("OnDisconnect.setWithPriority",this._path),oc("OnDisconnect.setWithPriority",t,this._path,!1),BM("OnDisconnect.setWithPriority",e,!1);const i=new Q.BH;return function zue(n,t,e,i,r){const s=mr(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(o,c)=>{"ok"===o&&Ng(n.onDisconnect_,t,s),su(0,r,o,c)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Za("OnDisconnect.update",this._path),w4("OnDisconnect.update",t,this._path,!1);const e=new Q.BH;return function Hue(n,t,e,i){if((0,Q.xb)(e))return ms("onDisconnect().update() called with empty data.  Don't do anything."),void su(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&_s(e,(o,c)=>{const u=mr(c);Ng(n.onDisconnect_,ar(t,o),u)}),su(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Go{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Mn(this._path)?null:eM(this._path)}get ref(){return new Ka(this._repo,this._path)}get _queryIdentifier(){const t=U3(this._queryParams),e=$k(t);return"{}"===e?"default":e}get _queryObject(){return U3(this._queryParams)}isEqual(t){if(!((t=(0,Q.m9)(t))instanceof Go))return!1;const e=this._repo===t._repo,i=tM(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Hce(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function TE(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ou(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===rc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Kd)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Hc)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Ui){if(null!=t&&!My(t)||null!=e&&!My(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Q.hu)(n.getIndex()instanceof oM||n.getIndex()===aM,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function SE(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ka extends Go{constructor(t,e){super(t,e,new iE,!1)}get parent(){const t=k3(this._path);return null===t?null:new Ka(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Gh{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new xi(t),i=$h(this.ref,t);return new Gh(this._node.getChild(e),i,Ui)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Gh(r,$h(this.ref,i),Ui)))}hasChild(t){const e=new xi(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function B4(n,t){return(n=(0,Q.m9)(n))._checkNotDeleted("ref"),void 0!==t?$h(n._root,t):n._root}function z4(n,t){(n=(0,Q.m9)(n))._checkNotDeleted("refFromURL");const e=$M(t,n._repo.repoInfo_.nodeAdmin);C4("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ic("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),B4(n,e.path.toString())}function $h(n,t){return null===kn((n=(0,Q.m9)(n))._path)?Aue("child","path",t,!1):Oy("child","path",t,!1),new Ka(n._repo,ar(n._path,t))}function qM(n,t){n=(0,Q.m9)(n),Za("set",n._path),oc("set",t,n._path,!1);const e=new Q.BH;return HM(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function the(n,t){w4("update",t,n._path,!1);const e=new Q.BH;return function Lue(n,t,e,i){Bg(n,"update",{path:t.toString(),value:e});let r=!0;const s=Ny(n),o={};if(_s(e,(c,u)=>{r=!1,o[c]=v4(ar(t,c),mr(u),n.serverSyncTree_,s)}),r)ms("update() called with empty data.  Don't do anything."),su(0,i,"ok",void 0);else{const c=EE(n),u=function cue(n,t,e,i){!function Ide(n,t,e,i){(0,Q.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=_M(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=ji.fromObject(e);return Vg(n,new Fg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,o,c);CE(n.eventQueue_,u),n.server_.merge(t.toString(),e,(f,_)=>{const C="ok"===f;C||Qs("update at "+t+" failed: "+f);const S=ru(n.serverSyncTree_,c,!C),R=S.length>0?zg(n,t):t;ma(n.eventQueue_,R,S),su(0,i,f,_)}),_s(e,f=>{const _=WM(n,ar(t,f));zg(n,_)}),ma(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function nhe(n){n=(0,Q.m9)(n);const t=new YM(()=>{}),e=new Fy(t);return function Fue(n,t,e){const i=function pue(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(f,_)=>{const C=wo(f,e);i=i||nu(_,C)});let r=n.syncPointTree_.get(e);r?i=i||nu(r,di()):(r=new a4,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,o=s?new eu(i,!0,!1):null;return function Kde(n){return cE(n.viewCache_)}(l4(r,t,dE(n.pendingWriteTree_,t._path),s?o.getNode():xn.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=mr(r).withIndex(t._queryParams.getIndex());let o;if(TM(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())o=Ty(n.serverSyncTree_,t._path,s);else{const c=Sy(n.serverSyncTree_,t);o=f4(n.serverSyncTree_,t._path,s,c)}return ma(n.eventQueue_,t._path,o),_E(n.serverSyncTree_,t,e,null,!0),s},r=>(Bg(n,"get for query "+(0,Q.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Gh(i,new Ka(n._repo,n._path),n._queryParams.getIndex()))}class Fy{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new F4("value",this,new Gh(t.snapshotNode,new Ka(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new L4(this,t,e):null}matches(t){return t instanceof Fy&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class AE{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new L4(this,t,e):null}createEvent(t,e){(0,Q.hu)(null!=t.childName,"Child events should have a childName.");const i=$h(new Ka(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new F4(t.type,this,new Gh(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof AE&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ly(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const u=e,f=(_,C)=>{UM(n._repo,n,c),u(_,C)};f.userCallback=e.userCallback,f.context=e.context,e=f}const o=new YM(e,s||void 0),c="value"===t?new Fy(o):new AE(t,o);return function Uue(n,t,e){let i;i=".info"===kn(t._path)?TM(n.infoSyncTree_,t,e):TM(n.serverSyncTree_,t,e),E4(n.eventQueue_,t._path,i)}(n._repo,n,c),()=>UM(n._repo,n,c)}function XM(n,t,e,i){return Ly(n,"value",t,e,i)}function H4(n,t,e,i){return Ly(n,"child_added",t,e,i)}function U4(n,t,e,i){return Ly(n,"child_changed",t,e,i)}function j4(n,t,e,i){return Ly(n,"child_moved",t,e,i)}function W4(n,t,e,i){return Ly(n,"child_removed",t,e,i)}function G4(n,t,e){let i=null;const r=e?new YM(e):null;"value"===t?i=new Fy(r):t&&(i=new AE(t,r)),UM(n._repo,n,i)}class xl{}class $4 extends xl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oc("endAt",this._value,t._path,!0);const e=dM(t._queryParams,this._value,this._key);if(SE(e),ou(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Go(t._repo,t._path,e,t._orderByCalled)}}class rhe extends xl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oc("endBefore",this._value,t._path,!1);const e=function fde(n,t,e){let i;return i=dM(n,t,n.index_===rc||e?e:Kd),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(SE(e),ou(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Go(t._repo,t._path,e,t._orderByCalled)}}class Y4 extends xl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oc("startAt",this._value,t._path,!0);const e=cM(t._queryParams,this._value,this._key);if(SE(e),ou(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Go(t._repo,t._path,e,t._orderByCalled)}}class ahe extends xl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oc("startAfter",this._value,t._path,!1);const e=function hde(n,t,e){let i;return i=cM(n,t,n.index_===rc||e?e:Hc),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(SE(e),ou(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Go(t._repo,t._path,e,t._orderByCalled)}}class che extends xl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Go(t._repo,t._path,function dde(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class uhe extends xl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Go(t._repo,t._path,function ude(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class fhe extends xl{constructor(t){super(),this._path=t}_apply(t){TE(t,"orderByChild");const e=new xi(this._path);if(Mn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new oM(e),r=rE(t._queryParams,i);return ou(r),new Go(t._repo,t._path,r,!0)}}class ghe extends xl{_apply(t){TE(t,"orderByKey");const e=rE(t._queryParams,rc);return ou(e),new Go(t._repo,t._path,e,!0)}}class _he extends xl{_apply(t){TE(t,"orderByPriority");const e=rE(t._queryParams,Ui);return ou(e),new Go(t._repo,t._path,e,!0)}}class yhe extends xl{_apply(t){TE(t,"orderByValue");const e=rE(t._queryParams,aM);return ou(e),new Go(t._repo,t._path,e,!0)}}class xhe extends xl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(oc("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $4(this._value,this._key)._apply(new Y4(this._value,this._key)._apply(t))}}function wl(n,...t){let e=(0,Q.m9)(n);for(const i of t)e=i._apply(e);return e}(function tue(n){(0,Q.hu)(!pE,"__referenceConstructor has already been defined"),pE=n})(Ka),function oue(n){(0,Q.hu)(!mE,"__referenceConstructor has already been defined"),mE=n}(Ka);const ZM={};function KM(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||ic("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ms("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u,f,o=$M(s,r),c=o.repoInfo;typeof process<"u"&&process.env&&(f=process.env.FIREBASE_DATABASE_EMULATOR_HOST),f?(u=!0,s=`http://${f}?ns=${c.namespace}`,o=$M(s,r),c=o.repoInfo):u=!o.repoInfo.secure;const _=r&&u?new gy(gy.OWNER):new mce(n.name,n.options,t);C4("Invalid Firebase Database URL",o),Mn(o.path)||ic("Database URL must point to the root of a Firebase Database (not including a child path).");const C=function Ihe(n,t,e,i){let r=ZM[t.name];r||(r={},ZM[t.name]=r);let s=r[n.toURLString()];return s&&ic("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Pue(n,false,e,i),r[n.toURLString()]=s,s}(c,n,_,new gce(n.name,e));return new She(C,n)}class She{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Oue(n,t,e){if(n.stats_=Kk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new sE(n.repoInfo_,(i,r,s,o)=>{S4(n,i,r,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>A4(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Q.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new zh(n.repoInfo_,t,(i,r,s,o)=>{S4(n,i,r,s,o)},i=>{A4(n,i)},i=>{!function Nue(n,t){_s(t,(e,i)=>{zM(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function yce(n,t){const e=n.toString();return Zk[e]||(Zk[e]=t()),Zk[e]}(n.repoInfo_,()=>new yde(n.stats_,n.server_)),n.infoData_=new pde,n.infoSyncTree_=new h4({startListening:(i,r,s,o)=>{let c=[];const u=n.infoData_.getNode(i._path);return u.isEmpty()||(c=Ty(n.infoSyncTree_,i._path,u),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),zM(n,"connected",!1),n.serverSyncTree_=new h4({startListening:(i,r,s,o)=>(n.server_.listen(i,s,r,(c,u)=>{const f=o(c,u);ma(n.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ka(this._repo,di())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Dhe(n,t){const e=ZM[t];(!e||e[n.key]!==n)&&ic(`Database ${t}(${n.repoInfo_}) has already been deleted.`),M4(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ic("Cannot call "+t+" on a deleted database.")}}function X4(){v3.IS_TRANSPORT_INITIALIZED&&Qs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ahe(){X4(),Qd.forceDisallow()}function khe(){X4(),Mg.forceDisallow(),Qd.forceAllow()}function Phe(n,t){Kj(n,t)}const Nhe={".sv":"timestamp"};class Vhe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}zh.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},zh.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Ohe(n){jk(jo.SDK_VERSION),(0,jo._registerComponent)(new vl.wA("database",(t,{instanceIdentifier:e})=>KM(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,jo.registerVersion)(Gj,"1.0.1",n),(0,jo.registerVersion)(Gj,"1.0.1","esm2017")}();const Uhe=new ga.Yd("@firebase/database-compat"),K4=function(n){Uhe.warn("FIREBASE WARNING: "+n)};class Ghe{constructor(t){this._delegate=t}cancel(t){(0,Q.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Q.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,Q.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Q.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,Q.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Q.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,Q.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Q.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,Q.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,K4("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Q.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class $he{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,Q.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class au{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,Q.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Q.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Q.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Q.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,Q.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Oy("DataSnapshot.child","path",t,!1),new au(this._database,this._delegate.child(t))}hasChild(t){return(0,Q.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Oy("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,Q.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,Q.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Q.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new au(this._database,e)))}hasChildren(){return(0,Q.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Q.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Q.Dv)("DataSnapshot.ref",0,0,arguments.length),new _a(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ms{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,Q.Dv)("Query.on",2,4,arguments.length),(0,Q.Wj)("Query.on","callback",e,!1);const o=Ms.getCancelAndContextArgs_("Query.on",i,r),c=(f,_)=>{e.call(o.context,new au(this.database,f),_)};c.userCallback=e,c.context=o.context;const u=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(t){case"value":return XM(this._delegate,c,u),e;case"child_added":return H4(this._delegate,c,u),e;case"child_removed":return W4(this._delegate,c,u),e;case"child_changed":return U4(this._delegate,c,u),e;case"child_moved":return j4(this._delegate,c,u),e;default:throw new Error((0,Q.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,Q.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Q.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,Q.Wj)("Query.off","callback",e,!0),(0,Q.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,G4(this._delegate,t,r)}else G4(this._delegate,t)}get(){return nhe(this._delegate).then(t=>new au(this.database,t))}once(t,e,i,r){(0,Q.Dv)("Query.once",1,4,arguments.length),(0,Q.Wj)("Query.once","callback",e,!0);const s=Ms.getCancelAndContextArgs_("Query.once",i,r),o=new Q.BH,c=(f,_)=>{const C=new au(this.database,f);e&&e.call(s.context,C,_),o.resolve(C)};c.userCallback=e,c.context=s.context;const u=f=>{s.cancel&&s.cancel.call(s.context,f),o.reject(f)};switch(t){case"value":XM(this._delegate,c,u,{onlyOnce:!0});break;case"child_added":H4(this._delegate,c,u,{onlyOnce:!0});break;case"child_removed":W4(this._delegate,c,u,{onlyOnce:!0});break;case"child_changed":U4(this._delegate,c,u,{onlyOnce:!0});break;case"child_moved":j4(this._delegate,c,u,{onlyOnce:!0});break;default:throw new Error((0,Q.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return(0,Q.Dv)("Query.limitToFirst",1,1,arguments.length),new Ms(this.database,wl(this._delegate,function dhe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new che(n)}(t)))}limitToLast(t){return(0,Q.Dv)("Query.limitToLast",1,1,arguments.length),new Ms(this.database,wl(this._delegate,function hhe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new uhe(n)}(t)))}orderByChild(t){return(0,Q.Dv)("Query.orderByChild",1,1,arguments.length),new Ms(this.database,wl(this._delegate,function phe(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Oy("orderByChild","path",n,!1),new fhe(n)}(t)))}orderByKey(){return(0,Q.Dv)("Query.orderByKey",0,0,arguments.length),new Ms(this.database,wl(this._delegate,function mhe(){return new ghe}()))}orderByPriority(){return(0,Q.Dv)("Query.orderByPriority",0,0,arguments.length),new Ms(this.database,wl(this._delegate,function vhe(){return new _he}()))}orderByValue(){return(0,Q.Dv)("Query.orderByValue",0,0,arguments.length),new Ms(this.database,wl(this._delegate,function bhe(){return new yhe}()))}startAt(t=null,e){return(0,Q.Dv)("Query.startAt",0,2,arguments.length),new Ms(this.database,wl(this._delegate,function ohe(n=null,t){return Py("startAt","key",t,!0),new Y4(n,t)}(t,e)))}startAfter(t=null,e){return(0,Q.Dv)("Query.startAfter",0,2,arguments.length),new Ms(this.database,wl(this._delegate,function lhe(n,t){return Py("startAfter","key",t,!0),new ahe(n,t)}(t,e)))}endAt(t=null,e){return(0,Q.Dv)("Query.endAt",0,2,arguments.length),new Ms(this.database,wl(this._delegate,function ihe(n,t){return Py("endAt","key",t,!0),new $4(n,t)}(t,e)))}endBefore(t=null,e){return(0,Q.Dv)("Query.endBefore",0,2,arguments.length),new Ms(this.database,wl(this._delegate,function she(n,t){return Py("endBefore","key",t,!0),new rhe(n,t)}(t,e)))}equalTo(t,e){return(0,Q.Dv)("Query.equalTo",1,2,arguments.length),new Ms(this.database,wl(this._delegate,function whe(n,t){return Py("equalTo","key",t,!0),new xhe(n,t)}(t,e)))}toString(){return(0,Q.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Q.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,Q.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Ms))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,Q.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,Q.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,Q.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new _a(this.database,new Ka(this._delegate._repo,this._delegate._path))}}class _a extends Ms{constructor(t,e){super(t,new Go(e._repo,e._path,new iE,!1)),this.database=t,this._delegate=e}getKey(){return(0,Q.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,Q.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new _a(this.database,$h(this._delegate,t))}getParent(){(0,Q.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new _a(this.database,t):null}getRoot(){return(0,Q.Dv)("Reference.root",0,0,arguments.length),new _a(this.database,this._delegate.root)}set(t,e){(0,Q.Dv)("Reference.set",1,2,arguments.length),(0,Q.Wj)("Reference.set","onComplete",e,!0);const i=qM(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,Q.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,K4("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Za("Reference.update",this._delegate._path),(0,Q.Wj)("Reference.update","onComplete",e,!0);const i=the(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,Q.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Q.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function ehe(n,t,e){if(Za("setWithPriority",n._path),oc("setWithPriority",t,n._path,!1),BM("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new Q.BH;return HM(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,Q.Dv)("Reference.remove",0,1,arguments.length),(0,Q.Wj)("Reference.remove","onComplete",t,!0);const e=function Que(n){return Za("remove",n._path),qM(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,Q.Dv)("Reference.transaction",1,3,arguments.length),(0,Q.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,Q.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,Q.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Bhe(n,t,e){var i;if(n=(0,Q.m9)(n),Za("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new Q.BH,c=XM(n,()=>{});return function Wue(n,t,e,i,r,s){Bg(n,"transaction on "+t);const o={path:t,update:e,onComplete:i,status:null,order:qj(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=jM(n,t,void 0);o.currentInputSnapshot=c;const u=o.update(c.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Ry("transaction failed: Data returned ",u,o.path),o.status=0;const f=bE(n.transactionQueueTree_,t),_=Wh(f)||[];let C;_.push(o),FM(f,_),"object"==typeof u&&null!==u&&(0,Q.r3)(u,".priority")?(C=(0,Q.DV)(u,".priority"),(0,Q.hu)(My(C),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):C=(vE(n.serverSyncTree_,t)||xn.EMPTY_NODE).getPriority().val();const S=Ny(n),R=mr(u,C),L=PM(R,c,S);o.currentOutputSnapshotRaw=R,o.currentOutputSnapshotResolved=L,o.currentWriteId=EE(n);const z=IM(n.serverSyncTree_,t,L,o.currentWriteId,o.applyLocally);ma(n.eventQueue_,t,z),DE(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(u,f,_)=>{let C=null;u?s.reject(u):(C=new Gh(_,new Ka(n._repo,n._path),Ui),s.resolve(new Vhe(f,C)))},c,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new $he(s.committed,new au(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,Q.Dv)("Reference.setPriority",1,2,arguments.length),(0,Q.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Jue(n,t){n=(0,Q.m9)(n),Za("setPriority",n._path),BM("setPriority",t,!1);const e=new Q.BH;return HM(n._repo,ar(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,Q.Dv)("Reference.push",0,2,arguments.length),(0,Q.Wj)("Reference.push","onComplete",e,!0);const i=function Kue(n,t){n=(0,Q.m9)(n),Za("push",n._path),oc("push",t,n._path,!0);const e=T4(n._repo),i=Zue(e),r=$h(n,i),s=$h(n,i);let o;return o=null!=t?qM(s,t).then(()=>s):Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}(this._delegate,t),r=i.then(o=>new _a(this.database,o));e&&r.then(()=>e(null),o=>e(o));const s=new _a(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Za("Reference.onDisconnect",this._delegate._path),new Ghe(new V4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Vy{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ahe,forceLongPolling:khe}}useEmulator(t,e,i={}){!function Z4(n,t,e,i={}){(n=(0,Q.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ic("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ic('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new gy(gy.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:(0,Q.Sg)(i.mockUserToken,n.app.options.projectId);s=new gy(o)}!function Ehe(n,t,e,i){n.repoInfo_=new qk(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,Q.Dv)("database.ref",0,1,arguments.length),t instanceof _a){const e=z4(this._delegate,t.toString());return new _a(this,e)}{const e=B4(this._delegate,t);return new _a(this,e)}}refFromURL(t){(0,Q.Dv)("database.refFromURL",1,1,arguments.length);const i=z4(this._delegate,t);return new _a(this,i)}goOffline(){return(0,Q.Dv)("database.goOffline",0,0,arguments.length),function Mhe(n){(n=(0,Q.m9)(n))._checkNotDeleted("goOffline"),M4(n._repo)}(this._delegate)}goOnline(){return(0,Q.Dv)("database.goOnline",0,0,arguments.length),function Rhe(n){(n=(0,Q.m9)(n))._checkNotDeleted("goOnline"),function jue(n){n.persistentConnection_&&n.persistentConnection_.resume(I4)}(n._repo)}(this._delegate)}}Vy.ServerValue={TIMESTAMP:function Fhe(){return Nhe}(),increment:n=>function Lhe(n){return{".sv":{increment:n}}}(n)};var qhe=Object.freeze({__proto__:null,initStandalone:function Yhe({app:n,url:t,version:e,customAuthImpl:i,customAppCheckImpl:r,namespace:s,nodeAdmin:o=!1}){jk(e);const c=new vl.H0("database-standalone"),u=new vl.zt("auth-internal",c);let f;return u.setComponent(new vl.wA("auth-internal",()=>i,"PRIVATE")),r&&(f=new vl.zt("app-check-internal",c),f.setComponent(new vl.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new Vy(KM(n,u,f,t,o),n),namespace:s}}});const Xhe=Vy.ServerValue;function By(n,t,e="on",i=Xd){return new zt(r=>{let s=null;return s=n[e](t,(o,c)=>{i.schedule(()=>{r.next({snapshot:o,prevKey:c})}),"once"===e&&i.schedule(()=>r.complete())},o=>{i.schedule(()=>r.error(o))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe(Je(r=>{const{snapshot:s,prevKey:o}=r;let c=null;return s.exists()&&(c=s.key),{type:t,payload:s,prevKey:o,key:c}}),Ht())}function Q4(n){return null==n}function J4(n){return"function"==typeof n.set}function eW(n,t){return J4(t)?t:n.ref(t)}function tW(n,t){if(function Khe(n){return"string"==typeof n}(n))return t.stringCase();if(J4(n))return t.firebaseCase();if(function Qhe(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function nW(n){return(Q4(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function iW(n,t,e){return Fe(...(t=nW(t)).map(r=>By(n,r,"on",e)))}function rW(n,t){return function(i,r){return tW(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function nfe(n){return function(e){return e?tW(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function sW(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function sfe(n,t){const{payload:e,prevKey:i,key:r}=t,s=sW(n,r),o=function rfe(n,t){if(Q4(t))return 0;{const e=sW(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload?.exists()){let c=null;t.payload.forEach(u=>{const f={payload:u,type:"value",prevKey:c,key:u.key};return c=u.key,n=[...n,f],!1})}return n;case"child_added":if(s>-1)(n[s-1]?.key||null)!==i&&(n=n.filter(u=>u.payload.key!==e.key)).splice(o,0,t);else{if(null==i)return[t,...n];(n=n.slice()).splice(o,0,t)}return n;case"child_removed":return n.filter(c=>c.payload.key!==e.key);case"child_changed":return n.map(c=>c.payload.key===r?t:c);case"child_moved":if(s>-1){const c=n.splice(s,1)[0];return(n=n.slice()).splice(o,0,c),n}return n;default:return n}}function oW(n,t,e){return function ife(n,t,e){return By(n,"value","once",e).pipe(tn(i=>{const r=[Pe(i)];return t.forEach(s=>r.push(By(n,s,"on",e))),Fe(...r).pipe(Sg(sfe,[]))}),ni())}(n,t=nW(t),e)}function aW(n,t){return function(){return By(n,"value","on",t)}}!function Zhe(n){n.INTERNAL.registerComponent(new vl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Vy(r,i)},"PUBLIC").setServiceProps({Reference:_a,Query:Ms,Database:Vy,DataSnapshot:au,enableLogging:Phe,INTERNAL:qhe,ServerValue:Xhe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.1")}(pa.Z);const lfe=new Xe("angularfire2.realtimeDatabaseURL"),cfe=new Xe("angularfire2.database.use-emulator");let dfe=(()=>{class n{schedulers;database;constructor(e,i,r,s,o,c,u,f,_,C,S,R,L,z,j){this.schedulers=c;const ee=u,K=dy(e,o,i);f&&Hk(K,o,_,S,R,L,C,z),this.database=GC(`${K.name}.database.${r}`,"AngularFireDatabase",K.name,()=>{const ie=o.runOutsideAngular(()=>K.database(r||void 0));return ee&&ie.useEmulator(...ee),ie},[ee])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>eW(this.database,e));let s=r;return i&&(s=i(r)),function ofe(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:rW(i,"update"),set:rW(i,"set"),push:r=>i.push(r),remove:nfe(i),snapshotChanges:r=>oW(n,r,e).pipe(zr),stateChanges:r=>iW(n,r,e).pipe(zr),auditTrail:r=>function Jhe(n,t,e){return function tfe(n,t,e){return function efe(n,t){return By(n,"value","on",t).pipe(Je(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(qC(t),Je(([r,s])=>{const o=r.lastKeyToLoad,c=s.map(u=>u.key);return{actions:s,lastKeyToLoad:o,loadedKeys:c}}),function nce(n){return ke((t,e)=>{let i=!1,r=0;t.subscribe(lt(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),Je(r=>r.actions))}(n,iW(n,t).pipe(Sg((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(zr),valueChanges:(r,s)=>oW(n,r,e).pipe(Je(c=>c.map(u=>s&&s.idField?{...u.payload.val(),[s.idField]:u.key}:u.payload.val())),zr)}}(s,this)}object(e){return function afe(n,t){return{query:n,snapshotChanges:()=>aW(n,t.schedulers.outsideAngular)().pipe(zr),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>aW(n,t.schedulers.outsideAngular)().pipe(zr,Je(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>eW(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(ce(Dg),ce(Ig,8),ce(lfe,8),ce(po),ce(at),ce(WC),ce(cfe,8),ce(Tg,8),ce(Nk,8),ce(Fk,8),ce(Lk,8),ce(Vk,8),ce(Bk,8),ce(zk,8),ce(jC,8))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),ufe=(()=>{class n{constructor(){pa.Z.registerVersion("angularfire",wg.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rt({type:n});static \u0275inj=Ae({providers:[dfe]})}return n})();function Hg(...n){return function hfe(){return Gn(1)}()(de(n,Aa(n)))}function Cl(...n){const t=Aa(n);return ke((e,i)=>{(t?Hg(n,e,t):Hg(n,e)).subscribe(i)})}function Ug(){return ke((n,t)=>{let e,i=!1;n.subscribe(lt(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var Dt,ffe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},El={},QM=QM||{},fn=ffe||self;function kE(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function zy(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var JM="closure_uid_"+(1e9*Math.random()>>>0),gfe=0;function mfe(n,t,e){return n.call.apply(n.bind,arguments)}function _fe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Js(n,t,e){return(Js=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mfe:_fe).apply(null,arguments)}function ME(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function vs(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),c=2;c<arguments.length;c++)o[c-2]=arguments[c];return t.prototype[r].apply(i,o)}}function lu(){this.s=this.s,this.o=this.o}lu.prototype.s=!1,lu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function pfe(n){Object.prototype.hasOwnProperty.call(n,JM)&&n[JM]||(n[JM]=++gfe)}(this)},lu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lW=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function eR(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function cW(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(kE(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function eo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}eo.prototype.h=function(){this.defaultPrevented=!0};var yfe=function(){if(!fn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{fn.addEventListener("test",()=>{},t),fn.removeEventListener("test",()=>{},t)}catch{}return n}();function Hy(n){return/^[\s\xa0]*$/.test(n)}function RE(){var n=fn.navigator;return n&&(n=n.userAgent)?n:""}function ac(n){return-1!=RE().indexOf(n)}function tR(n){return tR[" "](n),n}tR[" "]=function(){};var iR,n,xfe=ac("Opera"),jg=ac("Trident")||ac("MSIE"),dW=ac("Edge"),nR=dW||jg,uW=ac("Gecko")&&!(-1!=RE().toLowerCase().indexOf("webkit")&&!ac("Edge"))&&!(ac("Trident")||ac("MSIE"))&&!ac("Edge"),wfe=-1!=RE().toLowerCase().indexOf("webkit")&&!ac("Edge");function hW(){var n=fn.document;return n?n.documentMode:void 0}e:{var rR="",sR=(n=RE(),uW?/rv:([^\);]+)(\)|;)/.exec(n):dW?/Edge\/([\d\.]+)/.exec(n):jg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):wfe?/WebKit\/(\S+)/.exec(n):xfe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sR&&(rR=sR?sR[1]:""),jg){var oR=hW();if(null!=oR&&oR>parseFloat(rR)){iR=String(oR);break e}}iR=rR}var Cfe=fn.document&&jg&&(hW()||parseInt(iR,10))||void 0;function Uy(n,t){if(eo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(uW){e:{try{tR(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Efe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Uy.$.h.call(this)}}vs(Uy,eo);var Efe={2:"touch",3:"pen",4:"mouse"};Uy.prototype.h=function(){Uy.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var jy="closure_listenable_"+(1e6*Math.random()|0),Dfe=0;function Ife(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++Dfe,this.fa=this.ia=!1}function PE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function lR(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function pW(n){const t={};for(const e in n)t[e]=n[e];return t}const gW="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mW(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<gW.length;s++)e=gW[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function OE(n){this.src=n,this.g={},this.h=0}function cR(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=lW(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(PE(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function dR(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}OE.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=dR(n,t,i,r);return-1<o?(t=n[o],e||(t.ia=!1)):((t=new Ife(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var uR="closure_lm_"+(1e6*Math.random()|0),hR={};function _W(n,t,e,i,r){if(i&&i.once)return yW(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)_W(n,t[s],e,i,r);return null}return e=mR(e),n&&n[jy]?n.O(t,e,zy(i)?!!i.capture:!!i,r):vW(n,t,e,!1,i,r)}function vW(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=zy(r)?!!r.capture:!!r,c=pR(n);if(c||(n[uR]=c=new OE(n)),(e=c.add(t,e,i,o,s)).proxy)return e;if(i=function Sfe(){const t=Afe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)yfe||(r=o),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(xW(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function yW(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)yW(n,t[s],e,i,r);return null}return e=mR(e),n&&n[jy]?n.P(t,e,zy(i)?!!i.capture:!!i,r):vW(n,t,e,!0,i,r)}function bW(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)bW(n,t[s],e,i,r);else i=zy(i)?!!i.capture:!!i,e=mR(e),n&&n[jy]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=dR(s=n.g[t],e,i,r))&&(PE(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=pR(n))&&(t=n.g[t.toString()],n=-1,t&&(n=dR(t,e,i,r)),(e=-1<n?t[n]:null)&&fR(e))}function fR(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[jy])cR(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(xW(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=pR(t))?(cR(e,n),0==e.h&&(e.src=null,t[uR]=null)):PE(n)}}}function xW(n){return n in hR?hR[n]:hR[n]="on"+n}function Afe(n,t){if(n.fa)n=!0;else{t=new Uy(t,this);var e=n.listener,i=n.la||n.src;n.ia&&fR(n),n=e.call(i,t)}return n}function pR(n){return(n=n[uR])instanceof OE?n:null}var gR="__closure_events_fn_"+(1e9*Math.random()>>>0);function mR(n){return"function"==typeof n?n:(n[gR]||(n[gR]=function(t){return n.handleEvent(t)}),n[gR])}function ys(){lu.call(this),this.i=new OE(this),this.S=this,this.J=null}function Rs(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new eo(t,n);else if(t instanceof eo)t.target=t.target||n;else{var r=t;mW(t=new eo(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=NE(o,i,!0,t)&&r}if(r=NE(o=t.g=n,i,!0,t)&&r,r=NE(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=NE(o=t.g=e[s],i,!1,t)&&r}function NE(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==e){var c=o.listener,u=o.la||o.src;o.ia&&cR(n.i,o),r=!1!==c.call(u,i)&&r}}return r&&!i.defaultPrevented}vs(ys,lu),ys.prototype[jy]=!0,ys.prototype.removeEventListener=function(n,t,e,i){bW(this,n,t,e,i)},ys.prototype.N=function(){if(ys.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)PE(e[i]);delete n.g[t],n.h--}}this.J=null},ys.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ys.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var _R=fn.JSON.stringify;function Mfe(){var n=vR;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var wW=new class kfe{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Pfe,n=>n.reset());class Pfe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Ofe(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Nfe(n){fn.setTimeout(()=>{throw n},0)}let Wy,Gy=!1,vR=new class Rfe{constructor(){this.h=this.g=null}add(t,e){const i=wW.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},CW=()=>{const n=fn.Promise.resolve(void 0);Wy=()=>{n.then(Ffe)}};var Ffe=()=>{for(var n;n=Mfe();){try{n.h.call(n.g)}catch(e){Nfe(e)}var t=wW;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Gy=!1};function FE(n,t){ys.call(this),this.h=n||1,this.g=t||fn,this.j=Js(this.qb,this),this.l=Date.now()}function yR(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function bR(n,t,e){if("function"==typeof n)e&&(n=Js(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Js(n.handleEvent,n)}return 2147483647<Number(t)?-1:fn.setTimeout(n,t||0)}function EW(n){n.g=bR(()=>{n.g=null,n.i&&(n.i=!1,EW(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}vs(FE,ys),(Dt=FE.prototype).ga=!1,Dt.T=null,Dt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rs(this,"tick"),this.ga&&(yR(this),this.start()))}},Dt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.N=function(){FE.$.N.call(this),yR(this),delete this.g};class Lfe extends lu{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:EW(this)}N(){super.N(),this.g&&(fn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $y(n){lu.call(this),this.h=n,this.g={}}vs($y,lu);var DW=[];function IW(n,t,e,i){Array.isArray(e)||(e&&(DW[0]=e.toString()),e=DW);for(var r=0;r<e.length;r++){var s=_W(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function TW(n){lR(n.g,function(t,e){this.g.hasOwnProperty(e)&&fR(t)},n),n.g={}}function LE(){this.g=!0}function Wg(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Hfe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return _R(e)}catch{return t}}(n,e)+(i?" "+i:"")})}$y.prototype.N=function(){$y.$.N.call(this),TW(this)},$y.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},LE.prototype.Ea=function(){this.g=!1},LE.prototype.info=function(){};var Yh={},SW=null;function VE(){return SW=SW||new ys}function AW(n){eo.call(this,Yh.Ta,n)}function Yy(n){const t=VE();Rs(t,new AW(t))}function kW(n,t){eo.call(this,Yh.STAT_EVENT,n),this.stat=t}function Co(n){const t=VE();Rs(t,new kW(t,n))}function MW(n,t){eo.call(this,Yh.Ua,n),this.size=t}function qy(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return fn.setTimeout(function(){n()},t)}Yh.Ta="serverreachability",vs(AW,eo),Yh.STAT_EVENT="statevent",vs(kW,eo),Yh.Ua="timingevent",vs(MW,eo);var BE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},RW={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xR(){}function OW(){}xR.prototype.h=null;var ER,Xy={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wR(){eo.call(this,"d")}function CR(){eo.call(this,"c")}function zE(){}function Zy(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new $y(this),this.P=Ufe,this.V=new FE(n=nR?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new NW}function NW(){this.i=null,this.g="",this.h=!1}vs(wR,eo),vs(CR,eo),vs(zE,xR),zE.prototype.g=function(){return new XMLHttpRequest},zE.prototype.i=function(){return{}},ER=new zE;var Ufe=45e3,DR={},HE={};function IR(n,t,e){n.L=1,n.v=GE(jc(t)),n.s=e,n.S=!0,FW(n,null)}function FW(n,t){n.G=Date.now(),Ky(n),n.A=jc(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),$W(e.i,"t",i),n.C=0,e=n.l.J,n.h=new NW,n.g=mG(n.l,e?t:null,!n.s),0<n.O&&(n.M=new Lfe(Js(n.Pa,n,n.g),n.O)),IW(n.U,n.g,"readystatechange",n.nb),t=n.I?pW(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Yy(),function Vfe(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",c=s.split("&"),u=0;u<c.length;u++){var f=c[u].split("=");if(1<f.length){var _=f[0];f=f[1];var C=_.split("_");o=2<=C.length&&"type"==C[1]?o+(_+"=")+f+"&":o+(_+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function LW(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function VW(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=jfe(n,e),r==HE){4==t&&(n.o=4,Co(14),i=!1),Wg(n.j,n.m,null,"[Incomplete Response]");break}if(r==DR){n.o=4,Co(15),Wg(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Wg(n.j,n.m,r,null),TR(n,r)}LW(n)&&r!=HE&&r!=DR&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Co(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),OR(t),t.M=!0,Co(11))):(Wg(n.j,n.m,e,"[Invalid Chunked Response]"),qh(n),Qy(n))}function jfe(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?HE:(e=Number(t.substring(e,i)),isNaN(e)?DR:(i+=1)+e>t.length?HE:(t=t.slice(i,i+e),n.C=i+e,t))}function Ky(n){n.Y=Date.now()+n.P,BW(n,n.P)}function BW(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=qy(Js(n.lb,n),t)}function UE(n){n.B&&(fn.clearTimeout(n.B),n.B=null)}function Qy(n){0==n.l.H||n.J||hG(n.l,n)}function qh(n){UE(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,yR(n.V),TW(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function TR(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||SR(e.i,n)))if(!n.K&&SR(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;KE(e),XE(e)}PR(e),Co(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=qy(Js(e.ib,e),6e3));if(1>=XW(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Zh(e,11)}else if((n.K||e.g==n)&&KE(e),!Hy(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let f=r[t];if(e.V=f[0],f=f[1],2==e.H)if("c"==f[0]){e.K=f[1],e.pa=f[2];const _=f[3];null!=_&&(e.ra=_,e.l.info("VER="+e.ra));const C=f[4];null!=C&&(e.Ga=C,e.l.info("SVER="+e.Ga));const S=f[5];null!=S&&"number"==typeof S&&0<S&&(e.L=i=1.5*S,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const R=n.g;if(R){const L=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var s=i.i;s.g||-1==L.indexOf("spdy")&&-1==L.indexOf("quic")&&-1==L.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(AR(s,s.h),s.h=null))}if(i.F){const z=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(i.Da=z,er(i.I,i.F,z))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var o=n;if((i=e).wa=gG(i,i.J?i.pa:null,i.Y),o.K){ZW(i.i,o);var c=o,u=i.L;u&&c.setTimeout(u),c.B&&(UE(c),Ky(c)),i.g=o}else dG(i);0<e.j.length&&ZE(e)}else"stop"!=f[0]&&"close"!=f[0]||Zh(e,7);else 3==e.H&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?Zh(e,7):RR(e):"noop"!=f[0]&&e.h&&e.h.Aa(f),e.A=0)}Yy()}catch{}}function zW(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(kE(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function Gfe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(kE(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function Wfe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(kE(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(Dt=Zy.prototype).setTimeout=function(n){this.P=n},Dt.nb=function(n){n=n.target;const t=this.M;t&&3==lc(n)?t.l():this.Pa(n)},Dt.Pa=function(n){try{if(n==this.g)e:{const _=lc(this.g);var t=this.g.Ia();if(this.g.da(),!(3>_)&&(3!=_||nR||this.g&&(this.h.h||this.g.ja()||rG(this.g)))){this.J||4!=_||7==t||Yy(),UE(this);var e=this.g.da();this.ca=e;t:if(LW(this)){var i=rG(this.g);n="";var r=i.length,s=4==lc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qh(this),Qy(this);var o="";break t}this.h.i=new fn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==e,function Bfe(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,_,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hy(c)){var f=c;break t}}f=null}if(!(e=f)){this.i=!1,this.o=3,Co(12),qh(this),Qy(this);break e}Wg(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,TR(this,e)}this.S?(VW(this,_,o),nR&&this.i&&3==_&&(IW(this.U,this.V,"tick",this.mb),this.V.start())):(Wg(this.j,this.m,o,null),TR(this,o)),4==_&&qh(this),this.i&&!this.J&&(4==_?hG(this.l,this):(this.i=!1,Ky(this)))}else(function cpe(n){const t={};n=(n.g&&2<=lc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Hy(n[i]))continue;var e=Ofe(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function Tfe(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<o.indexOf("Unknown SID")?(this.o=3,Co(12)):(this.o=0,Co(13)),qh(this),Qy(this)}}}catch{}},Dt.mb=function(){if(this.g){var n=lc(this.g),t=this.g.ja();this.C<t.length&&(UE(this),VW(this,n,t),this.i&&4!=n&&Ky(this))}},Dt.cancel=function(){this.J=!0,qh(this)},Dt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function zfe(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Yy(),Co(17)),qh(this),this.o=2,Qy(this)):BW(this,this.Y-n)};var HW=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Xh){this.h=n.h,jE(this,n.j),this.s=n.s,this.g=n.g,WE(this,n.m),this.l=n.l;var t=n.i,e=new tb;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),UW(this,e),this.o=n.o}else n&&(t=String(n).match(HW))?(this.h=!1,jE(this,t[1]||"",!0),this.s=Jy(t[2]||""),this.g=Jy(t[3]||"",!0),WE(this,t[4]),this.l=Jy(t[5]||"",!0),UW(this,t[6]||"",!0),this.o=Jy(t[7]||"")):(this.h=!1,this.i=new tb(null,this.h))}function jc(n){return new Xh(n)}function jE(n,t,e){n.j=e?Jy(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function WE(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function UW(n,t,e){t instanceof tb?(n.i=t,function Qfe(n,t){t&&!n.j&&(cu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(WW(this,i),$W(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=eb(t,Zfe)),n.i=new tb(t,n.h))}function er(n,t,e){n.i.set(t,e)}function GE(n){return er(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jy(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function eb(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Yfe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Yfe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xh.prototype.toString=function(){var n=[],t=this.j;t&&n.push(eb(t,jW,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(eb(t,jW,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(eb(e,"/"==e.charAt(0)?Xfe:qfe,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",eb(e,Kfe)),n.join("")};var jW=/[#\/\?@]/g,qfe=/[#\?:]/g,Xfe=/[#\?]/g,Zfe=/[#\?@]/g,Kfe=/#/g;function tb(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function cu(n){n.g||(n.g=new Map,n.h=0,n.i&&function $fe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function WW(n,t){cu(n),t=Gg(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function GW(n,t){return cu(n),t=Gg(n,t),n.g.has(t)}function $W(n,t,e){WW(n,t),0<e.length&&(n.i=null,n.g.set(Gg(n,t),eR(e)),n.h+=e.length)}function Gg(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function YW(n){this.l=n||epe,n=fn.PerformanceNavigationTiming?0<(n=fn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(fn.g&&fn.g.Ka&&fn.g.Ka()&&fn.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=tb.prototype).add=function(n,t){cu(this),this.i=null,n=Gg(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Dt.forEach=function(n,t){cu(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Dt.ta=function(){cu(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},Dt.Z=function(n){cu(this);let t=[];if("string"==typeof n)GW(this,n)&&(t=t.concat(this.g.get(Gg(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Dt.set=function(n,t){return cu(this),this.i=null,GW(this,n=Gg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Dt.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var epe=10;function qW(n){return!!n.h||!!n.g&&n.g.size>=n.j}function XW(n){return n.h?1:n.g?n.g.size:0}function SR(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function AR(n,t){n.g?n.g.add(t):n.h=t}function ZW(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function KW(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return eR(n.i)}YW.prototype.cancel=function(){if(this.i=KW(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var tpe=class{stringify(n){return fn.JSON.stringify(n,void 0)}parse(n){return fn.JSON.parse(n,void 0)}};function npe(){this.g=new tpe}function ipe(n,t,e){const i=e||"";try{zW(n,function(r,s){let o=r;zy(r)&&(o=_R(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function $E(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function nb(n){this.l=n.ec||null,this.j=n.ob||!1}function YE(n,t){ys.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=kR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vs(nb,xR),nb.prototype.g=function(){return new YE(this.l,this.j)},nb.prototype.i=function(n){return function(){return n}}({}),vs(YE,ys);var kR=0;function QW(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ib(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rb(n)}function rb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=YE.prototype).open=function(n,t){if(this.readyState!=kR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,rb(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||fn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ib(this)),this.readyState=kR},Dt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rb(this)),this.g&&(this.readyState=3,rb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QW(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Dt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?ib(this):rb(this),3==this.readyState&&QW(this)}},Dt.Za=function(n){this.g&&(this.response=this.responseText=n,ib(this))},Dt.Ya=function(n){this.g&&(this.response=n,ib(this))},Dt.ka=function(){this.g&&ib(this)},Dt.setRequestHeader=function(n,t){this.v.append(n,t)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(YE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var spe=fn.JSON.parse;function Dr(n){ys.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JW,this.L=this.M=!1}vs(Dr,ys);var JW="",ope=/^https?$/i,ape=["POST","PUT"];function eG(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,tG(n),qE(n)}function tG(n){n.F||(n.F=!0,Rs(n,"complete"),Rs(n,"error"))}function nG(n){if(n.h&&typeof QM<"u"&&(!n.C[1]||4!=lc(n)||2!=n.da()))if(n.v&&4==lc(n))bR(n.La,0,n);else if(Rs(n,"readystatechange"),4==lc(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===o){var r=String(n.I).match(HW)[1]||null;!r&&fn.self&&fn.self.location&&(r=fn.self.location.protocol.slice(0,-1)),i=!ope.test(r?r.toLowerCase():"")}e=i}if(e)Rs(n,"complete"),Rs(n,"success");else{n.m=6;try{var s=2<lc(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",tG(n)}}finally{qE(n)}}}function qE(n,t){if(n.g){iG(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Rs(n,"ready");try{e.onreadystatechange=i}catch{}}}function iG(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(fn.clearTimeout(n.A),n.A=null)}function lc(n){return n.g?n.g.readyState:0}function rG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case JW:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function sG(n){let t="";return lR(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function MR(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=sG(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):er(n,t,e))}function sb(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function oG(n){this.Ga=0,this.j=[],this.l=new LE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sb("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sb("baseRetryDelayMs",5e3,n),this.hb=sb("retryDelaySeedMs",1e4,n),this.eb=sb("forwardChannelMaxRetries",2,n),this.xa=sb("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new YW(n&&n.concurrentRequestLimit),this.Ja=new npe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function RR(n){if(aG(n),3==n.H){var t=n.W++,e=jc(n.I);if(er(e,"SID",n.K),er(e,"RID",t),er(e,"TYPE","terminate"),ob(n,e),(t=new Zy(n,n.l,t)).L=2,t.v=GE(jc(e)),e=!1,fn.navigator&&fn.navigator.sendBeacon)try{e=fn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&fn.Image&&((new Image).src=t.v,e=!0),e||(t.g=mG(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ky(t)}pG(n)}function XE(n){n.g&&(OR(n),n.g.cancel(),n.g=null)}function aG(n){XE(n),n.u&&(fn.clearTimeout(n.u),n.u=null),KE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&fn.clearTimeout(n.m),n.m=null)}function ZE(n){if(!qW(n.i)&&!n.m){n.m=!0;var t=n.Na;Wy||CW(),Gy||(Wy(),Gy=!0),vR.add(t,n),n.C=0}}function lG(n,t){var e;e=t?t.m:n.W++;const i=jc(n.I);er(i,"SID",n.K),er(i,"RID",e),er(i,"AID",n.V),ob(n,i),n.o&&n.s&&MR(i,n.o,n.s),e=new Zy(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=cG(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),AR(n.i,e),IR(e,i,t)}function ob(n,t){n.na&&lR(n.na,function(e,i){er(t,i,e)}),n.h&&zW({},function(e,i){er(t,i,e)})}function cG(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Js(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let c=!0;for(let u=0;u<e;u++){let f=r[u].g;const _=r[u].map;if(f-=s,0>f)s=Math.max(0,r[u].g-100),c=!1;else try{ipe(_,o,"req"+f+"_")}catch{i&&i(_)}}if(c){i=o.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function dG(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Wy||CW(),Gy||(Wy(),Gy=!0),vR.add(t,n),n.A=0}}function PR(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=qy(Js(n.Ma,n),fG(n,n.A)),n.A++,0))}function OR(n){null!=n.B&&(fn.clearTimeout(n.B),n.B=null)}function uG(n){n.g=new Zy(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=jc(n.wa);er(t,"RID","rpc"),er(t,"SID",n.K),er(t,"AID",n.V),er(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&er(t,"TO",n.qa),er(t,"TYPE","xmlhttp"),ob(n,t),n.o&&n.s&&MR(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=GE(jc(t)),e.s=null,e.S=!0,FW(e,n)}function KE(n){null!=n.v&&(fn.clearTimeout(n.v),n.v=null)}function hG(n,t){var e=null;if(n.g==t){KE(n),OR(n),n.g=null;var i=2}else{if(!SR(n.i,t))return;e=t.F,ZW(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Rs(i=VE(),new MW(i,e)),ZE(n)}else dG(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function dpe(n,t){return!(XW(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=qy(Js(n.Na,n,t),fG(n,n.C)),n.C++,0)))}(n,t)||2==i&&PR(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Zh(n,5);break;case 4:Zh(n,10);break;case 3:Zh(n,6);break;default:Zh(n,2)}}function fG(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Zh(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Js(n.pb,n);e||(e=new Xh("//www.google.com/images/cleardot.gif"),fn.location&&"http"==fn.location.protocol||jE(e,"https"),GE(e)),function rpe(n,t){const e=new LE;if(fn.Image){const i=new Image;i.onload=ME($E,e,i,"TestLoadImage: loaded",!0,t),i.onerror=ME($E,e,i,"TestLoadImage: error",!1,t),i.onabort=ME($E,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=ME($E,e,i,"TestLoadImage: timeout",!1,t),fn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Co(2);n.H=0,n.h&&n.h.za(t),pG(n),aG(n)}function pG(n){if(n.H=0,n.ma=[],n.h){const t=KW(n.i);(0!=t.length||0!=n.j.length)&&(cW(n.ma,t),cW(n.ma,n.j),n.i.i.length=0,eR(n.j),n.j.length=0),n.h.ya()}}function gG(n,t,e){var i=e instanceof Xh?jc(e):new Xh(e);if(""!=i.g)t&&(i.g=t+"."+i.g),WE(i,i.m);else{var r=fn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Xh(null);i&&jE(s,i),t&&(s.g=t),r&&WE(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&er(i,e,t),er(i,"VER",n.ra),ob(n,i),i}function mG(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Dr(e&&n.Ha&&!n.va?new nb({ob:!0}):n.va)).Oa(n.J),t}function _G(){}function QE(){if(jg&&!(10<=Number(Cfe)))throw Error("Environmental error: no available transport.")}function va(n,t){ys.call(this),this.g=new oG(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Hy(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Hy(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new $g(this)}function vG(n){wR.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function yG(){CR.call(this),this.status=1}function $g(n){this.g=n}function Dl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function NR(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],o=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=e+((o=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Di(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(Dt=Dr.prototype).Oa=function(n){this.M=n},Dt.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ER.g(),this.C=function PW(n){return n.h||(n.h=n.i())}(this.u?this.u:ER),this.g.onreadystatechange=Js(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void eG(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=fn.FormData&&n instanceof fn.FormData,!(0<=lW(ape,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iG(this),0<this.B&&((this.L=function lpe(n){return jg&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Js(this.ua,this)):this.A=bR(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){eG(this,s)}},Dt.ua=function(){typeof QM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rs(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Rs(this,"complete"),Rs(this,"abort"),qE(this))},Dt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qE(this,!0)),Dr.$.N.call(this)},Dt.La=function(){this.s||(this.G||this.v||this.l?nG(this):this.kb())},Dt.kb=function(){nG(this)},Dt.isActive=function(){return!!this.g},Dt.da=function(){try{return 2<lc(this)?this.g.status:-1}catch{return-1}},Dt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Dt.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),spe(t)}},Dt.Ia=function(){return this.m},Dt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=oG.prototype).ra=8,Dt.H=1,Dt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Zy(this,this.l,n);let s=this.s;if(this.U&&(s?(s=pW(s),mW(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=cG(this,r,t),er(e=jc(this.I),"RID",n),er(e,"CVER",22),this.F&&er(e,"X-HTTP-Session-Id",this.F),ob(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(sG(s)))+"&"+t:this.o&&MR(e,this.o,s)),AR(this.i,r),this.bb&&er(e,"TYPE","init"),this.P?(er(e,"$req",t),er(e,"SID","null"),r.aa=!0,IR(r,e,null)):IR(r,e,t),this.H=2}}else 3==this.H&&(n?lG(this,n):0==this.j.length||qW(this.i)||lG(this))},Dt.Ma=function(){if(this.u=null,uG(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=qy(Js(this.jb,this),n)}},Dt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Co(10),XE(this),uG(this))},Dt.ib=function(){null!=this.v&&(this.v=null,XE(this),PR(this),Co(19))},Dt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Co(2)):(this.l.info("Failed to ping google.com"),Co(1))},Dt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Dt=_G.prototype).Ba=function(){},Dt.Aa=function(){},Dt.za=function(){},Dt.ya=function(){},Dt.isActive=function(){return!0},Dt.Va=function(){},QE.prototype.g=function(n,t){return new va(n,t)},vs(va,ys),va.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Co(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=gG(n,null,n.Y),ZE(n)},va.prototype.close=function(){RR(this.g)},va.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=_R(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&ZE(t)},va.prototype.N=function(){this.g.h=null,delete this.j,RR(this.g),delete this.g,va.$.N.call(this)},vs(vG,wR),vs(yG,CR),vs($g,_G),$g.prototype.Ba=function(){Rs(this.g,"a")},$g.prototype.Aa=function(n){Rs(this.g,new vG(n))},$g.prototype.za=function(n){Rs(this.g,new yG)},$g.prototype.ya=function(){Rs(this.g,"b")},vs(Dl,function upe(){this.blockSize=-1}),Dl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Dl.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)NR(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){NR(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){NR(this,i),r=0;break}}this.h=r,this.i+=t},Dl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var hpe={};function FR(n){return-128<=n&&128>n?function bfe(n,t){var e=hpe;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Di([0|t],0>t?-1:0)}):new Di([0|n],0>n?-1:0)}function cc(n){if(isNaN(n)||!isFinite(n))return Yg;if(0>n)return Ps(cc(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=LR;return new Di(t,0)}var LR=4294967296,Yg=FR(0),VR=FR(1),xG=FR(16777216);function Wc(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Qa(n){return-1==n.h}function Ps(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Di(e,~n.h).add(VR)}function JE(n,t){return n.add(Ps(t))}function eD(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function ab(n,t){this.g=n,this.h=t}function tD(n,t){if(Wc(t))throw Error("division by zero");if(Wc(n))return new ab(Yg,Yg);if(Qa(n))return t=tD(Ps(n),t),new ab(Ps(t.g),Ps(t.h));if(Qa(t))return t=tD(n,Ps(t)),new ab(Ps(t.g),t.h);if(30<n.g.length){if(Qa(n)||Qa(t))throw Error("slowDivide_ only works with positive integers.");for(var e=VR,i=t;0>=i.X(n);)e=wG(e),i=wG(i);var r=qg(e,1),s=qg(i,1);for(i=qg(i,2),e=qg(e,2);!Wc(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(e),s=o),i=qg(i,1),e=qg(e,1)}return t=JE(n,r.R(t)),new ab(r,t)}for(r=Yg;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),o=(s=cc(e)).R(t);Qa(o)||0<o.X(n);)o=(s=cc(e-=i)).R(t);Wc(s)&&(s=VR),r=r.add(s),n=JE(n,o)}return new ab(r,n)}function wG(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Di(e,n.h)}function qg(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Di(r,n.h)}(Dt=Di.prototype).ea=function(){if(Qa(this))return-Ps(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:LR+i)*t,t*=LR}return n},Dt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Wc(this))return"0";if(Qa(this))return"-"+Ps(this).toString(n);for(var t=cc(Math.pow(n,6)),e=this,i="";;){var r=tD(e,t).g,s=((0<(e=JE(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Wc(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},Dt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Dt.X=function(n){return Qa(n=JE(this,n))?-1:Wc(n)?0:1},Dt.abs=function(){return Qa(this)?Ps(this):this},Dt.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,e[r]=(o&=65535)<<16|(s&=65535)}return new Di(e,-2147483648&e[e.length-1]?-1:0)},Dt.R=function(n){if(Wc(this)||Wc(n))return Yg;if(Qa(this))return Qa(n)?Ps(this).R(Ps(n)):Ps(Ps(this).R(n));if(Qa(n))return Ps(this.R(Ps(n)));if(0>this.X(xG)&&0>n.X(xG))return cc(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),c=n.D(r)>>>16,u=65535&n.D(r);e[2*i+2*r]+=o*u,eD(e,2*i+2*r),e[2*i+2*r+1]+=s*u,eD(e,2*i+2*r+1),e[2*i+2*r+1]+=o*c,eD(e,2*i+2*r+1),e[2*i+2*r+2]+=s*c,eD(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Di(e,0)},Dt.gb=function(n){return tD(this,n).h},Dt.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Di(e,this.h&n.h)},Dt.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Di(e,this.h|n.h)},Dt.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Di(e,this.h^n.h)},QE.prototype.createWebChannel=QE.prototype.g,va.prototype.send=va.prototype.u,va.prototype.open=va.prototype.m,va.prototype.close=va.prototype.close,BE.NO_ERROR=0,BE.TIMEOUT=8,BE.HTTP_ERROR=6,RW.COMPLETE="complete",OW.EventType=Xy,Xy.OPEN="a",Xy.CLOSE="b",Xy.ERROR="c",Xy.MESSAGE="d",ys.prototype.listen=ys.prototype.O,Dr.prototype.listenOnce=Dr.prototype.P,Dr.prototype.getLastError=Dr.prototype.Sa,Dr.prototype.getLastErrorCode=Dr.prototype.Ia,Dr.prototype.getStatus=Dr.prototype.da,Dr.prototype.getResponseJson=Dr.prototype.Wa,Dr.prototype.getResponseText=Dr.prototype.ja,Dr.prototype.send=Dr.prototype.ha,Dr.prototype.setWithCredentials=Dr.prototype.Oa,Dl.prototype.digest=Dl.prototype.l,Dl.prototype.reset=Dl.prototype.reset,Dl.prototype.update=Dl.prototype.j,Di.prototype.add=Di.prototype.add,Di.prototype.multiply=Di.prototype.R,Di.prototype.modulo=Di.prototype.gb,Di.prototype.compare=Di.prototype.X,Di.prototype.toNumber=Di.prototype.ea,Di.prototype.toString=Di.prototype.toString,Di.prototype.getBits=Di.prototype.D,Di.fromNumber=cc,Di.fromString=function bG(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Ps(bG(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=cc(Math.pow(t,8)),i=Yg,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),t);8>s?(s=cc(Math.pow(t,s)),i=i.R(s).add(cc(o))):i=(i=i.R(e)).add(cc(o))}return i};var fpe=El.createWebChannelTransport=function(){return new QE},ppe=El.getStatEventTarget=function(){return VE()},BR=El.ErrorCode=BE,gpe=El.EventType=RW,mpe=El.Event=Yh,CG=El.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_pe=El.FetchXmlHttpFactory=nb,nD=El.WebChannel=OW,vpe=El.XhrIo=Dr,ype=El.Md5=Dl,Xg=El.Integer=Di;const EG="@firebase/firestore";class bs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}bs.UNAUTHENTICATED=new bs(null),bs.GOOGLE_CREDENTIALS=new bs("google-credentials-uid"),bs.FIRST_PARTY=new bs("first-party-uid"),bs.MOCK_USER=new bs("mock-user");let Zg="10.5.2";const du=new ga.Yd("@firebase/firestore");function Kg(){return du.logLevel}function rt(n,...t){if(du.logLevel<=ga.in.DEBUG){const e=t.map(zR);du.debug(`Firestore (${Zg}): ${n}`,...e)}}function Hr(n,...t){if(du.logLevel<=ga.in.ERROR){const e=t.map(zR);du.error(`Firestore (${Zg}): ${n}`,...e)}}function $o(n,...t){if(du.logLevel<=ga.in.WARN){const e=t.map(zR);du.warn(`Firestore (${Zg}): ${n}`,...e)}}function zR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Pt(n="Unexpected state"){const t=`FIRESTORE (${Zg}) INTERNAL ASSERTION FAILED: `+n;throw Hr(t),new Error(t)}function jt(n,t){n||Pt()}function vt(n,t){return n}const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Q.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class os{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class DG{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wpe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(bs.UNAUTHENTICATED))}shutdown(){}}class Cpe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Epe{constructor(t){this.t=t,this.currentUser=bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let o=new os;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new os,t.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const f=o;t.enqueueRetryable((0,$e.Z)(function*(){yield f.promise,yield s(i.currentUser)}))},u=f=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new os)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(jt("string"==typeof i.accessToken),new DG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return jt(null===t||"string"==typeof t),new bs(t)}}class Dpe{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=bs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ipe{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new Dpe(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(bs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tpe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=s=>{null!=s.error&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,rt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(jt("string"==typeof e.token),this.R=e.token,new IG(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Spe(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class TG{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Spe(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function hn(n,t){return n<t?-1:n>t?1:0}function Qg(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function SG(n){return n+"\0"}class lr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new nt(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new nt(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new nt(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return lr.fromMillis(Date.now())}static fromDate(t){return lr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new lr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?hn(this.nanoseconds,t.nanoseconds):hn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $t{constructor(t){this.timestamp=t}static fromTimestamp(t){return new $t(t)}static min(){return new $t(new lr(0,0))}static max(){return new $t(new lr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lb{constructor(t,e,i){void 0===e?e=0:e>t.length&&Pt(),void 0===i?i=t.length-e:i>t.length-e&&Pt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===lb.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof lb?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Jn extends lb{construct(t,e,i){return new Jn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new nt(Oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Jn(e)}static emptyPath(){return new Jn([])}}const Ape=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends lb{construct(t,e,i){return new tr(t,e,i)}static isValidIdentifier(t){return Ape.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new nt(Oe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const c=t[r];if("\\"===c){if(r+1===t.length)throw new nt(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new nt(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else"`"===c?(o=!o,r++):"."!==c||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new nt(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tr(e)}static emptyPath(){return new tr([])}}class xt{constructor(t){this.path=t}static fromPath(t){return new xt(Jn.fromString(t))}static fromName(t){return new xt(Jn.fromString(t).popFirst(5))}static empty(){return new xt(Jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Jn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Jn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xt(new Jn(t.slice()))}}class Jg{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function HR(n){return n.fields.find(t=>2===t.kind)}function Kh(n){return n.fields.filter(t=>2!==t.kind)}Jg.UNKNOWN_ID=-1;class Qh{constructor(t,e){this.fieldPath=t,this.kind=e}}class em{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new em(0,ya.min())}}function AG(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=$t.fromTimestamp(1e9===i?new lr(e+1,0):new lr(e,i));return new ya(r,xt.empty(),t)}function kG(n){return new ya(n.readTime,n.key,-1)}class ya{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ya($t.min(),xt.empty(),-1)}static max(){return new ya($t.max(),xt.empty(),-1)}}function UR(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=xt.comparator(n.documentKey,t.documentKey),0!==e?e:hn(n.largestBatchId,t.largestBatchId))}const MG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function uu(n){return jR.apply(this,arguments)}function jR(){return jR=(0,$e.Z)(function*(n){if(n.code!==Oe.FAILED_PRECONDITION||n.message!==MG)throw n;rt("LocalStore","Unexpectedly lost primary lease")}),jR.apply(this,arguments)}class Ie{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ie((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ie?e:Ie.resolve(e)}catch(e){return Ie.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ie.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ie.reject(e)}static resolve(t){return new Ie((e,i)=>{e(t)})}static reject(t){return new Ie((e,i)=>{i(t)})}static waitFor(t){return new Ie((e,i)=>{let r=0,s=0,o=!1;t.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&e()},u=>i(u))}),o=!0,s===r&&e()})}static or(t){let e=Ie.resolve(!1);for(const i of t)e=e.next(r=>r?Ie.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Ie((i,r)=>{const s=t.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const f=u;e(t[f]).next(_=>{o[f]=_,++c,c===s&&i(o)},_=>r(_))}})}static doWhile(t,e){return new Ie((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class iD{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new os,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new cb(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=WR(i.target.error);this.V.reject(new cb(t,r))}}static open(t,e,i,r){try{return new iD(e,t.transaction(r,i))}catch(s){throw new cb(e,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(rt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Ppe(e)}}class Il{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===Il.S((0,Q.z$)())&&Hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return rt("SimpleDb","Removing database:",t),Jh(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Q.hl)())return!1;if(Il.C())return!0;const t=(0,Q.z$)(),e=Il.S(t),i=0<e&&e<10,r=Il.v(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,$e.Z)(function*(){return e.db||(rt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=o=>{i(o.target.result)},s.onblocked=()=>{r(new cb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const c=o.target.error;r("VersionError"===c.name?new nt(Oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===c.name?new nt(Oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c):new cb(t,c))},s.onupgradeneeded=o=>{rt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',o.oldVersion),e.p.N(o.target.result,s.transaction,o.oldVersion,e.version).next(()=>{rt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,$e.Z)(function*(){const o="readonly"===e;let c=0;for(;;){++c;try{s.db=yield s.O(t);const u=iD.open(s.db,t,o?"readonly":"readwrite",i),f=r(u).next(_=>(u.g(),_)).catch(_=>(u.abort(_),Ie.reject(_))).toPromise();return f.catch(()=>{}),yield u.m,f}catch(u){const f=u,_="FirebaseError"!==f.name&&c<3;if(rt("SimpleDb","Transaction failed with error:",f.message,"Retrying:",_),s.close(),!_)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Rpe{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Jh(this.k.delete())}}class cb extends nt{constructor(t,e){super(Oe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function hu(n){return"IndexedDbTransactionError"===n.name}class Ppe{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(rt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(rt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Jh(i)}add(t){return rt("SimpleDb","ADD",this.store.name,t,t),Jh(this.store.add(t))}get(t){return Jh(this.store.get(t)).next(e=>(void 0===e&&(e=null),rt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return rt("SimpleDb","DELETE",this.store.name,t),Jh(this.store.delete(t))}count(){return rt("SimpleDb","COUNT",this.store.name),Jh(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(o,c)=>{s.push(c)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Ie((s,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{s(c.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ie((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}H(t,e){rt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.J=!1;const r=this.cursor(i);return this.G(r,(s,o,c)=>c.delete())}Y(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Z(t){const e=this.cursor({});return new Ie((i,r)=>{e.onerror=s=>{const o=WR(s.target.error);r(o)},e.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(c=>{c?o.continue():i()}):i()}})}G(t,e){const i=[];return new Ie((r,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const c=o.target.result;if(!c)return void r();const u=new Rpe(c),f=e(c.primaryKey,c.value,u);if(f instanceof Ie){const _=f.catch(C=>(u.done(),Ie.reject(C)));i.push(_)}u.isDone?r():null===u.$?c.continue():c.continue(u.$)}}).next(()=>Ie.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Jh(n){return new Ie((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=WR(i.target.error);e(r)}})}let PG=!1;function WR(n){const t=Il.S((0,Q.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PG||(PG=!0,setTimeout(()=>{throw i},0)),i}}return n}class Ope{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;rt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,$e.Z)(function*(){e.task=null;try{rt("IndexBackiller",`Documents written: ${yield e.X.te()}`)}catch(i){hu(i)?rt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield uu(i)}yield e.ee(6e4)}))}}class Npe{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return(0,$e.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.ne(i,t))})()}ne(t,e){const i=new Set;let r=e,s=!0;return Ie.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(null!==o&&!i.has(o))return rt("IndexBackiller",`Processing collection: ${o}`),this.re(t,o,r).next(c=>{r-=c,i.add(o)});s=!1})).next(()=>e-r)}re(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.ie(r,s)).next(c=>(rt("IndexBackiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(t,e,c))).next(()=>o.size)}))}ie(t,e){let i=t;return e.changes.forEach((r,s)=>{const o=kG(s);UR(o,i)>0&&(i=o)}),new ya(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let ba=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function db(n){return null==n}function ub(n){return 0===n&&1/n==-1/0}function OG(n){return"number"==typeof n&&Number.isInteger(n)&&!ub(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function to(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=NG(t)),t=Fpe(n.get(e),t);return NG(t)}function Fpe(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function NG(n){return n+"\x01\x01"}function dc(n){const t=n.length;if(jt(t>=2),2===t)return jt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Jn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const o=n.indexOf("\x01",s);switch((o<0||o>e)&&Pt(),n.charAt(o+1)){case"\x01":const c=n.substring(s,o);let u;0===r.length?u=c:(r+=c,u=r,r=""),i.push(u);break;case"\x10":r+=n.substring(s,o),r+="\0";break;case"\x11":r+=n.substring(s,o+1);break;default:Pt()}s=o+2}return new Jn(i)}const FG=["userId","batchId"];function rD(n,t){return[n,to(t)]}function LG(n,t,e){return[n,to(t),e]}const Lpe={},Vpe=["prefixPath","collectionGroup","readTime","documentId"],Bpe=["prefixPath","collectionGroup","documentId"],zpe=["collectionGroup","readTime","prefixPath","documentId"],Hpe=["canonicalId","targetId"],Upe=["targetId","path"],jpe=["path","targetId"],Wpe=["collectionId","parent"],Gpe=["indexId","uid"],$pe=["uid","sequenceNumber"],Ype=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qpe=["indexId","uid","orderedDocumentKey"],Xpe=["userId","collectionPath","documentId"],Zpe=["userId","collectionPath","largestBatchId"],Kpe=["userId","collectionGroup","largestBatchId"],VG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qpe=[...VG,"documentOverlays"],BG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zG=BG,Jpe=[...zG,"indexConfiguration","indexState","indexEntries"];class GR extends RG{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function xs(n,t){const e=vt(n);return Il.M(e.ae,t)}function HG(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function fu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function UG(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Wi{constructor(t,e){this.comparator=t,this.root=e||Os.EMPTY}insert(t,e){return new Wi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Os.BLACK,null,null))}remove(t){return new Wi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Os.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sD(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sD(this.root,t,this.comparator,!1)}getReverseIterator(){return new sD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sD(this.root,t,this.comparator,!0)}}class sD{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Os{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Os.RED,this.left=r??Os.EMPTY,this.right=s??Os.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Os(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Os.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Os.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Os.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Os.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const t=this.left.check();if(t!==this.right.check())throw Pt();return t+(this.isRed()?0:1)}}Os.EMPTY=null,Os.RED=!0,Os.BLACK=!1,Os.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(t,e,i,r,s){return this}insert(t,e,i){return new Os(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ri{constructor(t){this.comparator=t,this.data=new Wi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new jG(this.data.getIterator())}getIteratorFrom(t){return new jG(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ri)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ri(this.comparator);return e.data=t,e}}class jG{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function tm(n){return n.hasNext()?n.getNext():void 0}class Yo{constructor(t){this.fields=t,t.sort(tr.comparator)}static empty(){return new Yo([])}unionWith(t){let e=new Ri(tr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Yo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Qg(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class WG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class as{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new WG("Invalid base64 string: "+s):s}}(t);return new as(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new as(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return hn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}as.EMPTY_BYTE_STRING=new as("");const tge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pu(n){if(jt(!!n),"string"==typeof n){let t=0;const e=tge.exec(n);if(jt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ir(n.seconds),nanos:Ir(n.nanos)}}function Ir(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gc(n){return"string"==typeof n?as.fromBase64String(n):as.fromUint8Array(n)}function oD(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function aD(n){const t=n.mapValue.fields.__previous_value__;return oD(t)?aD(t):t}function hb(n){const t=pu(n.mapValue.fields.__local_write_time__.timestampValue);return new lr(t.seconds,t.nanos)}class nge{constructor(t,e,i,r,s,o,c,u,f){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f}}class gu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new gu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof gu&&t.projectId===this.projectId&&t.database===this.database}}const mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lD={nullValue:"NULL_VALUE"};function _u(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?oD(n)?4:qG(n)?9007199254740991:10:Pt()}function uc(n,t){if(n===t)return!0;const e=_u(n);if(e!==_u(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return hb(n).isEqual(hb(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=pu(r.timestampValue),c=pu(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,Gc(n.bytesValue).isEqual(Gc(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return Ir(r.geoPointValue.latitude)===Ir(s.geoPointValue.latitude)&&Ir(r.geoPointValue.longitude)===Ir(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ir(r.integerValue)===Ir(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Ir(r.doubleValue),c=Ir(s.doubleValue);return o===c?ub(o)===ub(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return Qg(n.arrayValue.values||[],t.arrayValue.values||[],uc);case 10:return function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(HG(o)!==HG(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===c[u]||!uc(o[u],c[u])))return!1;return!0}(n,t);default:return Pt()}var s}function fb(n,t){return void 0!==(n.values||[]).find(e=>uc(e,t))}function vu(n,t){if(n===t)return 0;const e=_u(n),i=_u(t);if(e!==i)return hn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return hn(n.booleanValue,t.booleanValue);case 2:return function(s,o){const c=Ir(s.integerValue||s.doubleValue),u=Ir(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,t);case 3:return GG(n.timestampValue,t.timestampValue);case 4:return GG(hb(n),hb(t));case 5:return hn(n.stringValue,t.stringValue);case 6:return function(s,o){const c=Gc(s),u=Gc(o);return c.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const c=s.split("/"),u=o.split("/");for(let f=0;f<c.length&&f<u.length;f++){const _=hn(c[f],u[f]);if(0!==_)return _}return hn(c.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const c=hn(Ir(s.latitude),Ir(o.latitude));return 0!==c?c:hn(Ir(s.longitude),Ir(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const c=s.values||[],u=o.values||[];for(let f=0;f<c.length&&f<u.length;++f){const _=vu(c[f],u[f]);if(_)return _}return hn(c.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===mu.mapValue&&o===mu.mapValue)return 0;if(s===mu.mapValue)return 1;if(o===mu.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),f=o.fields||{},_=Object.keys(f);u.sort(),_.sort();for(let C=0;C<u.length&&C<_.length;++C){const S=hn(u[C],_[C]);if(0!==S)return S;const R=vu(c[u[C]],f[_[C]]);if(0!==R)return R}return hn(u.length,_.length)}(n.mapValue,t.mapValue);default:throw Pt()}}function GG(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return hn(n,t);const e=pu(n),i=pu(t),r=hn(e.seconds,i.seconds);return 0!==r?r:hn(e.nanos,i.nanos)}function nm(n){return $R(n)}function $R(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=pu(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gc(n.bytesValue).toBase64():"referenceValue"in n?xt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=$R(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${$R(e.fields[o])}`;return r+"}"}(n.mapValue):Pt()}function ef(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function YR(n){return!!n&&"integerValue"in n}function pb(n){return!!n&&"arrayValue"in n}function $G(n){return!!n&&"nullValue"in n}function YG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dD(n){return!!n&&"mapValue"in n}function gb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return fu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=gb(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=gb(n.arrayValue.values[e]);return t}return Object.assign({},n)}function qG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ige(n){return"nullValue"in n?lD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ef(gu.empty(),xt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Pt()}function rge(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ef(gu.empty(),xt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?mu:Pt()}function XG(n,t){const e=vu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function ZG(n,t){const e=vu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ns{constructor(t){this.value=t}static empty(){return new Ns({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!dD(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gb(e)}setAll(t){let e=tr.emptyPath(),i={},r=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){const u=this.getFieldsMap(e);this.applyChanges(u,i,r),i={},r=[],e=c.popLast()}o?i[c.lastSegment()]=gb(o):r.push(c.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());dD(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return uc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];dD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){fu(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ns(gb(this.value))}}function KG(n){const t=[];return fu(n.fields,(e,i)=>{const r=new tr([e]);if(dD(i)){const s=KG(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new Yo(t)}class nr{constructor(t,e,i,r,s,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new nr(t,0,$t.min(),$t.min(),$t.min(),Ns.empty(),0)}static newFoundDocument(t,e,i,r){return new nr(t,1,e,$t.min(),i,r,0)}static newNoDocument(t,e){return new nr(t,2,e,$t.min(),$t.min(),Ns.empty(),0)}static newUnknownDocument(t,e){return new nr(t,3,e,$t.min(),$t.min(),Ns.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual($t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ns.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof nr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yu{constructor(t,e){this.position=t,this.inclusive=e}}function QG(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?xt.comparator(xt.fromName(o.referenceValue),e.key):vu(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function JG(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!uc(n.position[e],t.position[e]))return!1;return!0}class mb{constructor(t,e="asc"){this.field=t,this.dir=e}}function sge(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class e5{}class Xn extends e5{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new oge(t,e,i):"array-contains"===e?new cge(t,i):"in"===e?new a5(t,i):"not-in"===e?new dge(t,i):"array-contains-any"===e?new uge(t,i):new Xn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new age(t,i):new lge(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(vu(e,this.value)):null!==e&&_u(this.value)===_u(e)&&this.matchesComparison(vu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends e5{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Ii(t,e)}matches(t){return im(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function im(n){return"and"===n.op}function qR(n){return"or"===n.op}function XR(n){return t5(n)&&im(n)}function t5(n){for(const t of n.filters)if(t instanceof Ii)return!1;return!0}function ZR(n){if(n instanceof Xn)return n.field.canonicalString()+n.op.toString()+nm(n.value);if(XR(n))return n.filters.map(t=>ZR(t)).join(",");{const t=n.filters.map(e=>ZR(e)).join(",");return`${n.op}(${t})`}}function n5(n,t){return n instanceof Xn?(i=n,(r=t)instanceof Xn&&i.op===r.op&&i.field.isEqual(r.field)&&uc(i.value,r.value)):n instanceof Ii?function(i,r){return r instanceof Ii&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,c)=>s&&n5(o,r.filters[c]),!0)}(n,t):void Pt();var i,r}function r5(n,t){const e=n.filters.concat(t);return Ii.create(e,n.op)}function s5(n){return n instanceof Xn?`${(e=n).field.canonicalString()} ${e.op} ${nm(e.value)}`:n instanceof Ii?function(e){return e.op.toString()+" {"+e.getFilters().map(s5).join(" ,")+"}"}(n):"Filter";var e}class oge extends Xn{constructor(t,e,i){super(t,e,i),this.key=xt.fromName(i.referenceValue)}matches(t){const e=xt.comparator(t.key,this.key);return this.matchesComparison(e)}}class age extends Xn{constructor(t,e){super(t,"in",e),this.keys=o5(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class lge extends Xn{constructor(t,e){super(t,"not-in",e),this.keys=o5(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function o5(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>xt.fromName(i.referenceValue))}class cge extends Xn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return pb(e)&&fb(e.arrayValue,this.value)}}class a5 extends Xn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&fb(this.value.arrayValue,e)}}class dge extends Xn{constructor(t,e){super(t,"not-in",e)}matches(t){if(fb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!fb(this.value.arrayValue,e)}}class uge extends Xn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!pb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>fb(this.value.arrayValue,i))}}class hge{constructor(t,e=null,i=[],r=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.ce=null}}function KR(n,t=null,e=[],i=[],r=null,s=null,o=null){return new hge(n,t,e,i,r,s,o)}function tf(n){const t=vt(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>ZR(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),db(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>nm(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>nm(i)).join(",")),t.ce=e}return t.ce}function _b(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!sge(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!n5(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!JG(n.startAt,t.startAt)&&JG(n.endAt,t.endAt)}function uD(n){return xt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function hD(n,t){return n.filters.filter(e=>e instanceof Xn&&e.field.isEqual(t))}function l5(n,t,e){let i=lD,r=!0;for(const s of hD(n,t)){let o=lD,c=!0;switch(s.op){case"<":case"<=":o=ige(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,c=!1;break;case"!=":case"not-in":o=lD}XG({value:i,inclusive:r},{value:o,inclusive:c})<0&&(i=o,r=c)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];XG({value:i,inclusive:r},{value:o,inclusive:e.inclusive})<0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}function c5(n,t,e){let i=mu,r=!0;for(const s of hD(n,t)){let o=mu,c=!0;switch(s.op){case">=":case">":o=rge(s.value),c=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,c=!1;break;case"!=":case"not-in":o=mu}ZG({value:i,inclusive:r},{value:o,inclusive:c})>0&&(i=o,r=c)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];ZG({value:i,inclusive:r},{value:o,inclusive:e.inclusive})>0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}class $c{constructor(t,e=null,i=[],r=[],s=null,o="F",c=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function d5(n,t,e,i,r,s,o,c){return new $c(n,t,e,i,r,s,o,c)}function rm(n){return new $c(n)}function u5(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function QR(n){return null!==n.collectionGroup}function sm(n){const t=vt(n);if(null===t.le){t.le=[];const e=new Set;for(const s of t.explicitOrderBy)t.le.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ri(tr.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.le.push(new mb(s,i))}),e.has(tr.keyField().canonicalString())||t.le.push(new mb(tr.keyField(),i))}return t.le}function Eo(n){const t=vt(n);return t.he||(t.he=function h5(n,t){if("F"===n.limitType)return KR(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new mb(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new yu(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new yu(n.startAt.position,n.startAt.inclusive):null;return KR(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,sm(n))),t.he}function JR(n,t){const e=n.filters.concat([t]);return new $c(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function fD(n,t,e){return new $c(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function vb(n,t){return _b(Eo(n),Eo(t))&&n.limitType===t.limitType}function f5(n){return`${tf(Eo(n))}|lt:${n.limitType}`}function om(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>s5(r)).join(", ")}]`),db(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>nm(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>nm(r)).join(",")),`Target(${i})`}(Eo(n))}; limitType=${n.limitType})`}function yb(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):xt.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of sm(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,c,u){const f=QG(o,c,u);return o.inclusive?f<=0:f<0}(i.startAt,sm(i),r)||i.endAt&&!function(o,c,u){const f=QG(o,c,u);return o.inclusive?f>=0:f>0}(i.endAt,sm(i),r)));var i,r}function p5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function g5(n){return(t,e)=>{let i=!1;for(const r of sm(n)){const s=fge(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function fge(n,t,e){const i=n.field.isKeyField()?xt.comparator(t.key,e.key):function(s,o,c){const u=o.data.field(s),f=c.data.field(s);return null!==u&&null!==f?vu(u,f):Pt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pt()}}class Yc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){fu(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return UG(this.inner)}size(){return this.innerSize}}const pge=new Wi(xt.comparator);function qo(){return pge}const m5=new Wi(xt.comparator);function bb(...n){let t=m5;for(const e of n)t=t.insert(e.key,e);return t}function _5(n){let t=m5;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function hc(){return xb()}function v5(){return xb()}function xb(){return new Yc(n=>n.toString(),(n,t)=>n.isEqual(t))}const gge=new Wi(xt.comparator),mge=new Ri(xt.comparator);function wn(...n){let t=mge;for(const e of n)t=t.add(e);return t}const _ge=new Ri(hn);function eP(){return _ge}function y5(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ub(t)?"-0":t}}function b5(n){return{integerValue:""+n}}function x5(n,t){return OG(t)?b5(t):y5(n,t)}class pD{constructor(){this._=void 0}}function vge(n,t,e){return n instanceof am?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&oD(s)&&(s=aD(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof nf?C5(n,t):n instanceof rf?E5(n,t):function(r,s){const o=w5(r,s),c=D5(o)+D5(r.Ie);return YR(o)&&YR(r.Ie)?b5(c):y5(r.serializer,c)}(n,t)}function yge(n,t,e){return n instanceof nf?C5(n,t):n instanceof rf?E5(n,t):e}function w5(n,t){return n instanceof lm?YR(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class am extends pD{}class nf extends pD{constructor(t){super(),this.elements=t}}function C5(n,t){const e=I5(t);for(const i of n.elements)e.some(r=>uc(r,i))||e.push(i);return{arrayValue:{values:e}}}class rf extends pD{constructor(t){super(),this.elements=t}}function E5(n,t){let e=I5(t);for(const i of n.elements)e=e.filter(r=>!uc(r,i));return{arrayValue:{values:e}}}class lm extends pD{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function D5(n){return Ir(n.integerValue||n.doubleValue)}function I5(n){return pb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class wb{constructor(t,e){this.field=t,this.transform=e}}class xge{constructor(t,e){this.version=t,this.transformResults=e}}class cr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new cr}static exists(t){return new cr(void 0,t)}static updateTime(t){return new cr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gD(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class mD{}function T5(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new dm(n.key,cr.none()):new cm(n.key,n.data,cr.none());{const e=n.data,i=Ns.empty();let r=new Ri(tr.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new qc(n.key,i,new Yo(r.toArray()),cr.none())}}function wge(n,t,e){n instanceof cm?function(r,s,o){const c=r.value.clone(),u=k5(r.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof qc?function(r,s,o){if(!gD(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=k5(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(A5(r)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Cb(n,t,e,i){return n instanceof cm?function(s,o,c,u){if(!gD(s.precondition,o))return c;const f=s.value.clone(),_=M5(s.fieldTransforms,u,o);return f.setAll(_),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof qc?function(s,o,c,u){if(!gD(s.precondition,o))return c;const f=M5(s.fieldTransforms,u,o),_=o.data;return _.setAll(A5(s)),_.setAll(f),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===c?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(C=>C.field))}(n,t,e,i):(c=e,gD(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function Cge(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=w5(i.transform,r||null);null!=s&&(null===e&&(e=Ns.empty()),e.set(i.field,s))}return e||null}function S5(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Qg(i,r,(s,o)=>function bge(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof nf&&r instanceof nf||i instanceof rf&&r instanceof rf?Qg(i.elements,r.elements,uc):i instanceof lm&&r instanceof lm?uc(i.Ie,r.Ie):i instanceof am&&r instanceof am);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class cm extends mD{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qc extends mD{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function A5(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function k5(n,t,e){const i=new Map;jt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,c=t.data.field(s.field);i.set(s.field,yge(o,c,e[r]))}return i}function M5(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,vge(s,o,t))}return i}class dm extends mD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tP extends mD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nP{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&wge(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Cb(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Cb(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=v5();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=e.has(r.key)?null:c;const u=T5(o,c);null!==u&&i.set(r.key,u),o.isValidDocument()||o.convertToNoDocument($t.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),wn())}isEqual(t){return this.batchId===t.batchId&&Qg(this.mutations,t.mutations,(e,i)=>S5(e,i))&&Qg(this.baseMutations,t.baseMutations,(e,i)=>S5(e,i))}}class iP{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){jt(t.mutations.length===i.length);let r=gge;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new iP(t,e,i,r)}}class rP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dge{constructor(t,e){this.count=t,this.unchangedNames=e}}var Jr,ei;function R5(n){switch(n){default:return Pt();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0}}function P5(n){if(void 0===n)return Hr("GRPC error has no .code"),Oe.UNKNOWN;switch(n){case Jr.OK:return Oe.OK;case Jr.CANCELLED:return Oe.CANCELLED;case Jr.UNKNOWN:return Oe.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return Oe.INTERNAL;case Jr.UNAVAILABLE:return Oe.UNAVAILABLE;case Jr.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Jr.NOT_FOUND:return Oe.NOT_FOUND;case Jr.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Jr.ABORTED:return Oe.ABORTED;case Jr.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Jr.DATA_LOSS:return Oe.DATA_LOSS;default:return Pt()}}(ei=Jr||(Jr={}))[ei.OK=0]="OK",ei[ei.CANCELLED=1]="CANCELLED",ei[ei.UNKNOWN=2]="UNKNOWN",ei[ei.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ei[ei.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ei[ei.NOT_FOUND=5]="NOT_FOUND",ei[ei.ALREADY_EXISTS=6]="ALREADY_EXISTS",ei[ei.PERMISSION_DENIED=7]="PERMISSION_DENIED",ei[ei.UNAUTHENTICATED=16]="UNAUTHENTICATED",ei[ei.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ei[ei.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ei[ei.ABORTED=10]="ABORTED",ei[ei.OUT_OF_RANGE=11]="OUT_OF_RANGE",ei[ei.UNIMPLEMENTED=12]="UNIMPLEMENTED",ei[ei.INTERNAL=13]="INTERNAL",ei[ei.UNAVAILABLE=14]="UNAVAILABLE",ei[ei.DATA_LOSS=15]="DATA_LOSS";function O5(){return new TextEncoder}const Ige=new Xg([4294967295,4294967295],0);function N5(n){const t=O5().encode(n),e=new ype;return e.update(t),new Uint8Array(e.digest())}function F5(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Xg([e,i],0),new Xg([r,s],0)]}class sP{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Eb(`Invalid padding: ${e}`);if(i<0)throw new Eb(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Eb(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Eb(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=Xg.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(Xg.fromNumber(i)));return 1===r.compare(Ige)&&(r=new Xg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=N5(t),[i,r]=F5(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new sP(s,r,e);return i.forEach(c=>o.insert(c)),o}insert(t){if(0===this.Te)return;const e=N5(t),[i,r]=F5(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Eb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Db{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Ib.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Db($t.min(),r,new Wi(hn),qo(),wn())}}class Ib{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Ib(i,e,wn(),wn(),wn())}}class vD{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class L5{constructor(t,e){this.targetId=t,this.fe=e}}class V5{constructor(t,e,i=as.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class B5{constructor(){this.ge=0,this.pe=H5(),this.ye=as.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=wn(),e=wn(),i=wn();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Pt()}}),new Ib(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=H5()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Tge{constructor(t){this.Le=t,this.ke=new Map,this.qe=qo(),this.Qe=z5(),this.Ke=new Wi(hn)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:Pt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const s=r.target;if(uD(s))if(0===i){const o=new xt(s.path);this.We(e,o,nr.newNoDocument(o,$t.min()))}else jt(1===i);else{const o=this.Ze(e);if(o!==i){const c=this.Xe(t),u=c?this.et(c,t,o):1;0!==u&&(this.He(e),this.Ke=this.Ke.insert(e,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,c;try{o=Gc(i).toUint8Array()}catch(u){if(u instanceof WG)return $o("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new sP(o,r,s)}catch(u){return $o(u instanceof Eb?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===c.Te?null:c}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.nt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.We(e,s,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((s,o)=>{const c=this.Ye(o);if(c){if(s.current&&uD(c.target)){const u=new xt(c.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,nr.newNoDocument(u,t))}s.De&&(e.set(o,s.ve()),s.Fe())}});let i=wn();this.Qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{const f=this.Ye(u);return!f||"TargetPurposeLimboResolution"===f.purpose||(c=!1,!1)}),c&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new Db(t,e,this.Ke,this.qe,i);return this.qe=qo(),this.Qe=z5(),this.Ke=new Wi(hn),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new B5,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new Ri(hn),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||rt("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new B5),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function z5(){return new Wi(xt.comparator)}function H5(){return new Wi(xt.comparator)}const Sge={asc:"ASCENDING",desc:"DESCENDING"},Age={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kge={and:"AND",or:"OR"};class Mge{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function oP(n,t){return n.useProto3Json||db(t)?t:{value:t}}function um(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function U5(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Rge(n,t){return um(n,t.toTimestamp())}function Ur(n){return jt(!!n),$t.fromTimestamp(function(e){const i=pu(e);return new lr(i.seconds,i.nanos)}(n))}function aP(n,t){return(i=n,new Jn(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function j5(n){const t=Jn.fromString(n);return jt(Q5(t)),t}function Tb(n,t){return aP(n.databaseId,t.path)}function fc(n,t){const e=j5(t);if(e.get(1)!==n.databaseId.projectId)throw new nt(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new nt(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new xt(G5(e))}function lP(n,t){return aP(n.databaseId,t)}function W5(n){const t=j5(n);return 4===t.length?Jn.emptyPath():G5(t)}function Sb(n){return new Jn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function G5(n){return jt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function $5(n,t,e){return{name:Tb(n,t),fields:e.value.mapValue.fields}}function Y5(n,t,e){const i=fc(n,t.name),r=Ur(t.updateTime),s=t.createTime?Ur(t.createTime):$t.min(),o=new Ns({mapValue:{fields:t.fields}}),c=nr.newFoundDocument(i,r,s,o);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function Ab(n,t){let e;if(t instanceof cm)e={update:$5(n,t.key,t.value)};else if(t instanceof dm)e={delete:Tb(n,t.key)};else if(t instanceof qc)e={update:$5(n,t.key,t.data),updateMask:zge(t.fieldMask)};else{if(!(t instanceof tP))return Pt();e={verify:Tb(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const c=o.transform;if(c instanceof am)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof nf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof rf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof lm)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw Pt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:Rge(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Pt()),e;var s}function cP(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?cr.updateTime(Ur(s.updateTime)):void 0!==s.exists?cr.exists(s.exists):cr.none():cr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let u=null;"setToServerValue"in c?(jt("REQUEST_TIME"===c.setToServerValue),u=new am):"appendMissingElements"in c?u=new nf(c.appendMissingElements.values||[]):"removeAllFromArray"in c?u=new rf(c.removeAllFromArray.values||[]):"increment"in c?u=new lm(o,c.increment):Pt();const f=tr.fromServerFormat(c.fieldPath);return new wb(f,u)}(n,r)):[];var s;if(t.update){const r=fc(n,t.update.name),s=new Ns({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=new Yo((t.updateMask.fieldPaths||[]).map(_=>tr.fromServerFormat(_)));return new qc(r,s,o,e,i)}return new cm(r,s,e,i)}if(t.delete){const r=fc(n,t.delete);return new dm(r,e)}if(t.verify){const r=fc(n,t.verify);return new tP(r,e)}return Pt()}function q5(n,t){return{documents:[lP(n,t.path)]}}function dP(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=lP(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=lP(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(u){if(0!==u.length)return K5(Ii.create(u,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(u){if(0!==u.length)return u.map(f=>{return{field:bu((C=f).field),direction:Lge(C.dir)};var C})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=oP(n,t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),e;var u}function X5(n){let t=W5(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){jt(1===i);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let s=[];e.where&&(s=function(C){const S=Z5(C);return S instanceof Ii&&XR(S)?S.getFilters():[S]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(S=>{return new mb(hm((L=S).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction));var L}));let c=null;e.limit&&(c=function(C){let S;return S="object"==typeof C?C.value:C,db(S)?null:S}(e.limit));let u=null;var C;e.startAt&&(u=new yu((C=e.startAt).values||[],!!C.before));let f=null;return e.endAt&&(f=function(C){return new yu(C.values||[],!C.before)}(e.endAt)),d5(t,r,o,s,c,"F",u,f)}function Z5(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=hm(e.unaryFilter.field);return Xn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=hm(e.unaryFilter.field);return Xn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hm(e.unaryFilter.field);return Xn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hm(e.unaryFilter.field);return Xn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(n):void 0!==n.fieldFilter?Xn.create(hm((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ii.create(e.compositeFilter.filters.map(i=>Z5(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Pt()}}(e.compositeFilter.op))}(n):Pt();var e}function Lge(n){return Sge[n]}function Vge(n){return Age[n]}function Bge(n){return kge[n]}function bu(n){return{fieldPath:n.canonicalString()}}function hm(n){return tr.fromServerFormat(n.fieldPath)}function K5(n){return n instanceof Xn?function(e){if("=="===e.op){if(YG(e.value))return{unaryFilter:{field:bu(e.field),op:"IS_NAN"}};if($G(e.value))return{unaryFilter:{field:bu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(YG(e.value))return{unaryFilter:{field:bu(e.field),op:"IS_NOT_NAN"}};if($G(e.value))return{unaryFilter:{field:bu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bu(e.field),op:Vge(e.op),value:e.value}}}(n):n instanceof Ii?function(e){const i=e.getFilters().map(r=>K5(r));return 1===i.length?i[0]:{compositeFilter:{op:Bge(e.op),filters:i}}}(n):Pt()}function zge(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Q5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Xc{constructor(t,e,i,r,s=$t.min(),o=$t.min(),c=as.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new Xc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Xc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class J5{constructor(t){this.ut=t}}function e$(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:yD(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Tb(s=n.ut,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:um(s,o.version.toTimestamp()),createTime:um(s,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:sf(t.version)};else{if(!t.isUnknownDocument())return Pt();i.unknownDocument={path:e.path.toArray(),version:sf(t.version)}}var s,o;return i}function yD(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function sf(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function af(n){const t=new lr(n.seconds,n.nanoseconds);return $t.fromTimestamp(t)}function lf(n,t){const e=(t.baseMutations||[]).map(s=>cP(n.ut,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>cP(n.ut,s)),r=lr.fromMillis(t.localWriteTimeMs);return new nP(t.batchId,r,e,i)}function kb(n){const t=af(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?af(n.lastLimboFreeSnapshotVersion):$t.min();let i;return i=void 0!==n.query.documents?(jt(1===(s=n.query).documents.length),Eo(rm(W5(s.documents[0])))):function(s){return Eo(X5(s))}(n.query),new Xc(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,as.fromBase64String(n.resumeToken));var s}function t$(n,t){const e=sf(t.snapshotVersion),i=sf(t.lastLimboFreeSnapshotVersion);let r;r=uD(t.target)?q5(n.ut,t.target):dP(n.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:tf(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function uP(n){const t=X5({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fD(t,t.limit,"L"):t}function hP(n,t){return new rP(t.largestBatchId,cP(n.ut,t.overlayMutation))}function n$(n,t){const e=t.path.lastSegment();return[n,to(t.path.popLast()),e]}function i$(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:sf(i.readTime),documentKey:to(i.documentKey.path),largestBatchId:i.largestBatchId}}class Uge{getBundleMetadata(t,e){return r$(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:af(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return r$(t).put({bundleId:(r=e).id,createTime:sf(Ur(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return s$(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:uP(s.bundledQuery),readTime:af(s.readTime)};var s})}saveNamedQuery(t,e){return s$(t).put({name:(r=e).name,readTime:sf(Ur(r.readTime)),bundledQuery:r.bundledQuery});var r}}function r$(n){return xs(n,"bundles")}function s$(n){return xs(n,"namedQueries")}class bD{constructor(t,e){this.serializer=t,this.userId=e}static ct(t,e){return new bD(t,e.uid||"")}getOverlay(t,e){return Mb(t).get(n$(this.userId,e)).next(i=>i?hP(this.serializer,i):null)}getOverlays(t,e){const i=hc();return Ie.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,o)=>{const c=new rP(e,o);r.push(this.lt(t,c))}),Ie.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(o=>r.add(to(o.getCollectionPath())));const s=[];return r.forEach(o=>{const c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(Mb(t).H("collectionPathOverlayIndex",c))}),Ie.waitFor(s)}getOverlaysForCollection(t,e,i){const r=hc(),s=to(e),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Mb(t).W("collectionPathOverlayIndex",o).next(c=>{for(const u of c){const f=hP(this.serializer,u);r.set(f.getKey(),f)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=hc();let o;const c=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Mb(t).Y({index:"collectionGroupOverlayIndex",range:c},(u,f,_)=>{const C=hP(this.serializer,f);s.size()<r||C.largestBatchId===o?(s.set(C.getKey(),C),o=C.largestBatchId):_.done()}).next(()=>s)}lt(t,e){return Mb(t).put(function(r,s,o){const[c,u,f]=n$(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:f,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ab(r.ut,o.mutation)}}(this.serializer,this.userId,e))}}function Mb(n){return xs(n,"documentOverlays")}class cf{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(Ir(t.integerValue));else if("doubleValue"in t){const i=Ir(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),ub(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(Gc(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?qG(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):Pt()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),xt.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}function jge(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function o$(n){const t=64-function(i){let r=0;for(let s=0;s<8;++s){const o=jge(255&i[s]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(t/8)}cf.St=new cf;class Wge{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Dt(i.value),i=e.next();this.Ct()}vt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=e.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(t){const e=this.Bt(t),i=o$(e);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}kt(t){const e=this.Bt(t),i=o$(e);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(t){this.Lt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ut(){return this.buffer.slice(0,this.position)}Bt(t){const e=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Dt(t){const e=255&t;0===e?(this.Qt(0),this.Qt(255)):255===e?(this.Qt(255),this.Qt(0)):this.Qt(e)}Ft(t){const e=255&t;0===e?(this.$t(0),this.$t(255)):255===e?(this.$t(255),this.$t(0)):this.$t(t)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(t){this.Lt(1),this.buffer[this.position++]=t}$t(t){this.Lt(1),this.buffer[this.position++]=~t}Lt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Gge{constructor(t){this.Wt=t}Vt(t){this.Wt.bt(t)}dt(t){this.Wt.xt(t)}Et(t){this.Wt.Nt(t)}It(){this.Wt.qt()}}class $ge{constructor(t){this.Wt=t}Vt(t){this.Wt.vt(t)}dt(t){this.Wt.Ot(t)}Et(t){this.Wt.kt(t)}It(){this.Wt.Kt()}}class Rb{constructor(){this.Wt=new Wge,this.Gt=new Gge(this.Wt),this.zt=new $ge(this.Wt)}seed(t){this.Wt.seed(t)}jt(t){return 0===t?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class df{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ht(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new df(this.indexId,this.documentKey,this.arrayValue,i)}}function xu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=a$(n.arrayValue,t.arrayValue),0!==e?e:(e=a$(n.directionalValue,t.directionalValue),0!==e?e:xt.comparator(n.documentKey,t.documentKey)))}function a$(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class l${constructor(t){this.Jt=new Ri((e,i)=>tr.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];for(const e of t.filters){const i=e;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(t){if(jt(t.collectionGroup===this.collectionId),this.Xt)return!1;const e=HR(t);if(void 0!==e&&!this.tn(e))return!1;const i=Kh(t);let r=new Set,s=0,o=0;for(;s<i.length&&this.tn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Jt.size>0){const c=this.Jt.getIterator().getNext();if(!r.has(c.field.canonicalString())){const u=i[s];if(!this.nn(c,u)||!this.rn(this.Yt[o++],u))return!1}++s}for(;s<i.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],i[s]))return!1;return!0}sn(){if(this.Xt)return null;let t=new Ri(tr.comparator);const e=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new Qh(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Qh(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Qh(i.field,"asc"===i.dir?0:1)));return new Jg(Jg.UNKNOWN_ID,this.collectionId,e,em.empty())}tn(t){for(const e of this.Zt)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}rn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function c$(n){var t,e;if(jt(n instanceof Xn||n instanceof Ii),n instanceof Xn){if(n instanceof a5){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>Xn.create(n.field,"==",s)))||[];return Ii.create(r,"or")}return n}const i=n.filters.map(r=>c$(r));return Ii.create(i,n.op)}function Yge(n){if(0===n.getFilters().length)return[];const t=gP(c$(n));return jt(d$(t)),fP(t)||pP(t)?[t]:t.getFilters()}function fP(n){return n instanceof Xn}function pP(n){return n instanceof Ii&&XR(n)}function d$(n){return fP(n)||pP(n)||function(e){if(e instanceof Ii&&qR(e)){for(const i of e.getFilters())if(!fP(i)&&!pP(i))return!1;return!0}return!1}(n)}function gP(n){if(jt(n instanceof Xn||n instanceof Ii),n instanceof Xn)return n;if(1===n.filters.length)return gP(n.filters[0]);const t=n.filters.map(i=>gP(i));let e=Ii.create(t,n.op);return e=xD(e),d$(e)?e:(jt(e instanceof Ii),jt(im(e)),jt(e.filters.length>1),e.filters.reduce((i,r)=>mP(i,r)))}function mP(n,t){let e;return jt(n instanceof Xn||n instanceof Ii),jt(t instanceof Xn||t instanceof Ii),e=n instanceof Xn?t instanceof Xn?Ii.create([n,t],"and"):u$(n,t):t instanceof Xn?u$(t,n):function(r,s){if(jt(r.filters.length>0&&s.filters.length>0),im(r)&&im(s))return r5(r,s.getFilters());const o=qR(r)?r:s,c=qR(r)?s:r,u=o.filters.map(f=>mP(f,c));return Ii.create(u,"or")}(n,t),xD(e)}function u$(n,t){if(im(t))return r5(t,n.getFilters());{const e=t.filters.map(i=>mP(n,i));return Ii.create(e,"or")}}function xD(n){if(jt(n instanceof Xn||n instanceof Ii),n instanceof Xn)return n;const t=n.getFilters();if(1===t.length)return xD(t[0]);if(t5(n))return n;const e=t.map(r=>xD(r)),i=[];return e.forEach(r=>{r instanceof Xn?i.push(r):r instanceof Ii&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Ii.create(i,n.op)}class qge{constructor(){this.on=new _P}addToCollectionParentIndex(t,e){return this.on.add(e),Ie.resolve()}getCollectionParents(t,e){return Ie.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return Ie.resolve()}deleteFieldIndex(t,e){return Ie.resolve()}deleteAllFieldIndexes(t){return Ie.resolve()}createTargetIndexes(t,e){return Ie.resolve()}getDocumentsMatchingTarget(t,e){return Ie.resolve(null)}getIndexType(t,e){return Ie.resolve(0)}getFieldIndexes(t,e){return Ie.resolve([])}getNextCollectionGroupToUpdate(t){return Ie.resolve(null)}getMinOffset(t,e){return Ie.resolve(ya.min())}getMinOffsetFromCollectionGroup(t,e){return Ie.resolve(ya.min())}updateCollectionGroup(t,e,i){return Ie.resolve()}updateIndexEntries(t,e){return Ie.resolve()}}class _P{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ri(Jn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ri(Jn.comparator)).toArray()}}const wD=new Uint8Array(0);class Xge{constructor(t,e){this.user=t,this.databaseId=e,this._n=new _P,this.an=new Yc(i=>tf(i),(i,r)=>_b(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this._n.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this._n.add(e)});const s={collectionId:i,parent:to(r)};return h$(t).put(s)}return Ie.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[SG(e),""],!1,!0);return h$(t).W(r).next(s=>{for(const o of s){if(o.collectionId!==e)break;i.push(dc(o.parent))}return i})}addFieldIndex(t,e){const i=Pb(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var c;delete r.indexId;const s=i.add(r);if(e.indexState){const o=pm(t);return s.next(c=>{o.put(i$(c,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=Pb(t),r=pm(t),s=fm(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Pb(t),i=fm(t),r=pm(t);return e.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(t,e){return Ie.forEach(this.un(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const s=new l$(i).sn();if(null!=s)return this.addFieldIndex(t,s)}}))}getDocumentsMatchingTarget(t,e){const i=fm(t);let r=!0;const s=new Map;return Ie.forEach(this.un(e),o=>this.cn(t,o).next(c=>{r&&(r=!!c),s.set(o,c)})).next(()=>{if(r){let o=wn();const c=[];return Ie.forEach(s,(u,f)=>{var ie;rt("IndexedDbIndexManager",`Using index ${ie=u,`id=${ie.indexId}|cg=${ie.collectionGroup}|f=${ie.fields.map(ue=>`${ue.fieldPath}:${ue.kind}`).join(",")}`} to execute ${tf(e)}`);const _=function(ie,ue){const Te=HR(ue);if(void 0===Te)return null;for(const We of hD(ie,Te.fieldPath))switch(We.op){case"array-contains-any":return We.value.arrayValue.values||[];case"array-contains":return[We.value]}return null}(f,u),C=function(ie,ue){const Te=new Map;for(const We of Kh(ue))for(const dt of hD(ie,We.fieldPath))switch(dt.op){case"==":case"in":Te.set(We.fieldPath.canonicalString(),dt.value);break;case"not-in":case"!=":return Te.set(We.fieldPath.canonicalString(),dt.value),Array.from(Te.values())}return null}(f,u),S=function(ie,ue){const Te=[];let We=!0;for(const dt of Kh(ue)){const ct=0===dt.kind?l5(ie,dt.fieldPath,ie.startAt):c5(ie,dt.fieldPath,ie.startAt);Te.push(ct.value),We&&(We=ct.inclusive)}return new yu(Te,We)}(f,u),R=function(ie,ue){const Te=[];let We=!0;for(const dt of Kh(ue)){const ct=0===dt.kind?c5(ie,dt.fieldPath,ie.endAt):l5(ie,dt.fieldPath,ie.endAt);Te.push(ct.value),We&&(We=ct.inclusive)}return new yu(Te,We)}(f,u),L=this.ln(u,f,S),z=this.ln(u,f,R),j=this.hn(u,f,C),ee=this.Pn(u.indexId,_,L,S.inclusive,z,R.inclusive,j);return Ie.forEach(ee,K=>i.j(K,e.limit).next(ie=>{ie.forEach(ue=>{const Te=xt.fromSegments(ue.documentKey);o.has(Te)||(o=o.add(Te),c.push(Te))})}))}).next(()=>c)}return Ie.resolve(null)})}un(t){let e=this.an.get(t);return e||(e=0===t.filters.length?[t]:Yge(Ii.create(t.filters,"and")).map(i=>KR(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.an.set(t,e),e)}Pn(t,e,i,r,s,o,c){const u=(null!=e?e.length:1)*Math.max(i.length,s.length),f=u/(null!=e?e.length:1),_=[];for(let C=0;C<u;++C){const S=e?this.In(e[C/f]):wD,R=this.Tn(t,S,i[C%f],r),L=this.En(t,S,s[C%f],o),z=c.map(j=>this.Tn(t,S,j,!0));_.push(...this.createRange(R,L,z))}return _}Tn(t,e,i,r){const s=new df(t,xt.empty(),e,i);return r?s:s.Ht()}En(t,e,i,r){const s=new df(t,xt.empty(),e,i);return r?s.Ht():s}cn(t,e){const i=new l$(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let o=null;for(const c of s)i.en(c)&&(!o||c.fields.length>o.fields.length)&&(o=c);return o})}getIndexType(t,e){let i=2;const r=this.un(e);return Ie.forEach(r,s=>this.cn(t,s).next(o=>{o?0!==i&&o.fields.length<function(u){let f=new Ri(tr.comparator),_=!1;for(const C of u.filters)for(const S of C.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?_=!0:f=f.add(S.field));for(const C of u.orderBy)C.field.isKeyField()||(f=f.add(C.field));return f.size+(_?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}dn(t,e){const i=new Rb;for(const r of Kh(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const o=i.jt(r.kind);cf.St.ht(s,o)}return i.Ut()}In(t){const e=new Rb;return cf.St.ht(t,e.jt(0)),e.Ut()}An(t,e){const i=new Rb;return cf.St.ht(ef(this.databaseId,e),i.jt(function(s){const o=Kh(s);return 0===o.length?0:o[o.length-1].kind}(t))),i.Ut()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new Rb);let s=0;for(const o of Kh(t)){const c=i[s++];for(const u of r)if(this.Rn(e,o.fieldPath)&&pb(c))r=this.Vn(r,o,c);else{const f=u.jt(o.kind);cf.St.ht(c,f)}}return this.mn(r)}ln(t,e,i){return this.hn(t,e,i.position)}mn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ut();return e}Vn(t,e,i){const r=[...t],s=[];for(const o of i.arrayValue.values||[])for(const c of r){const u=new Rb;u.seed(c.Ut()),cf.St.ht(o,u.jt(e.kind)),s.push(u)}return s}Rn(t,e){return!!t.filters.find(i=>i instanceof Xn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Pb(t),r=pm(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const o=[];return Ie.forEach(s,c=>r.get([c.indexId,this.uid]).next(u=>{o.push(function(_,C){const S=C?new em(C.sequenceNumber,new ya(af(C.readTime),new xt(dc(C.documentKey)),C.largestBatchId)):em.empty(),R=_.fields.map(([L,z])=>new Qh(tr.fromServerFormat(L),z));return new Jg(_.indexId,_.collectionGroup,R,S)}(c,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:hn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Pb(t),s=pm(t);return this.fn(t).next(o=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(c=>Ie.forEach(c,u=>s.put(i$(u.indexId,this.user,o,i)))))}updateIndexEntries(t,e){const i=new Map;return Ie.forEach(e,(r,s)=>{const o=i.get(r.collectionGroup);return(o?Ie.resolve(o):this.getFieldIndexes(t,r.collectionGroup)).next(c=>(i.set(r.collectionGroup,c),Ie.forEach(c,u=>this.gn(t,r,u).next(f=>{const _=this.pn(s,u);return f.isEqual(_)?Ie.resolve():this.yn(t,s,u,f,_)}))))})}wn(t,e,i,r){return fm(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,e.key),documentKey:e.key.path.toArray()})}Sn(t,e,i,r){return fm(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,e.key),e.key.path.toArray()])}gn(t,e,i){const r=fm(t);let s=new Ri(xu);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,e)])},(o,c)=>{s=s.add(new df(i.indexId,e,c.arrayValue,c.directionalValue))}).next(()=>s)}pn(t,e){let i=new Ri(xu);const r=this.dn(e,t);if(null==r)return i;const s=HR(e);if(null!=s){const o=t.data.field(s.fieldPath);if(pb(o))for(const c of o.arrayValue.values||[])i=i.add(new df(e.indexId,t.key,this.In(c),r))}else i=i.add(new df(e.indexId,t.key,wD,r));return i}yn(t,e,i,r,s){rt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(u,f,_,C,S){const R=u.getIterator(),L=f.getIterator();let z=tm(R),j=tm(L);for(;z||j;){let ee=!1,K=!1;if(z&&j){const ie=_(z,j);ie<0?K=!0:ie>0&&(ee=!0)}else null!=z?K=!0:ee=!0;ee?(C(j),j=tm(L)):K?(S(z),z=tm(R)):(z=tm(R),j=tm(L))}}(r,s,xu,c=>{o.push(this.wn(t,e,i,c))},c=>{o.push(this.Sn(t,e,i,c))}),Ie.waitFor(o)}fn(t){let e=1;return pm(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((o,c)=>xu(o,c)).filter((o,c,u)=>!c||0!==xu(o,u[c-1]));const r=[];r.push(t);for(const o of i){const c=xu(o,t),u=xu(o,e);if(0===c)r[0]=t.Ht();else if(c>0&&u<0)r.push(o),r.push(o.Ht());else if(u>0)break}r.push(e);const s=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];s.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,wD,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,wD,[]]))}return s}bn(t,e){return xu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(f$)}getMinOffset(t,e){return Ie.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||Pt())).next(f$)}}function h$(n){return xs(n,"collectionParents")}function fm(n){return xs(n,"indexEntries")}function Pb(n){return xs(n,"indexConfiguration")}function pm(n){return xs(n,"indexState")}function f$(n){jt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;UR(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ya(t.readTime,t.documentKey,e)}const p$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class no{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new no(t,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function g$(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(e.batchId);let c=0;const u=i.Y({range:o},(_,C,S)=>(c++,S.delete()));s.push(u.next(()=>{jt(1===c)}));const f=[];for(const _ of e.mutations){const C=LG(t,_.key.path,e.batchId);s.push(r.delete(C)),f.push(_.key)}return Ie.waitFor(s).next(()=>f)}function CD(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Pt();t=n.noDocument}return JSON.stringify(t).length}no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(41943040,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);class ED{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(t,e,i,r){jt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new ED(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wu(t).Y({index:"userMutationsIndex",range:i},(r,s,o)=>{e=!1,o.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=gm(t),o=wu(t);return o.add({}).next(c=>{jt("number"==typeof c);const u=new nP(c,e,i,r),f=function(R,L,z){const j=z.baseMutations.map(K=>Ab(R.ut,K)),ee=z.mutations.map(K=>Ab(R.ut,K));return{userId:L,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:j,mutations:ee}}(this.serializer,this.userId,u),_=[];let C=new Ri((S,R)=>hn(S.canonicalString(),R.canonicalString()));for(const S of r){const R=LG(this.userId,S.key.path,c);C=C.add(S.key.path.popLast()),_.push(o.put(f)),_.push(s.put(R,Lpe))}return C.forEach(S=>{_.push(this.indexManager.addToCollectionParentIndex(t,S))}),t.addOnCommittedListener(()=>{this.Dn[c]=u.keys()}),Ie.waitFor(_).next(()=>u)})}lookupMutationBatch(t,e){return wu(t).get(e).next(i=>i?(jt(i.userId===this.userId),lf(this.serializer,i)):null)}Cn(t,e){return this.Dn[e]?Ie.resolve(this.Dn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Dn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return wu(t).Y({index:"userMutationsIndex",range:r},(o,c,u)=>{c.userId===this.userId&&(jt(c.batchId>=i),s=lf(this.serializer,c)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return wu(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wu(t).W("userMutationsIndex",e).next(i=>i.map(r=>lf(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=rD(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return gm(t).Y({range:r},(o,c,u)=>{const[f,_,C]=o,S=dc(_);if(f===this.userId&&e.path.isEqual(S))return wu(t).get(C).next(R=>{if(!R)throw Pt();jt(R.userId===this.userId),s.push(lf(this.serializer,R))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(hn);const r=[];return e.forEach(s=>{const o=rD(this.userId,s.path),c=IDBKeyRange.lowerBound(o),u=gm(t).Y({range:c},(f,_,C)=>{const[S,R,L]=f,z=dc(R);S===this.userId&&s.path.isEqual(z)?i=i.add(L):C.done()});r.push(u)}),Ie.waitFor(r).next(()=>this.vn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=rD(this.userId,i),o=IDBKeyRange.lowerBound(s);let c=new Ri(hn);return gm(t).Y({range:o},(u,f,_)=>{const[C,S,R]=u,L=dc(S);C===this.userId&&i.isPrefixOf(L)?L.length===r&&(c=c.add(R)):_.done()}).next(()=>this.vn(t,c))}vn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(wu(t).get(s).next(o=>{if(null===o)throw Pt();jt(o.userId===this.userId),i.push(lf(this.serializer,o))}))}),Ie.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return g$(t.ae,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Fn(e.batchId)}),Ie.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Fn(t){delete this.Dn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ie.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return gm(t).Y({range:i},(s,o,c)=>{if(s[0]===this.userId){const u=dc(s[1]);r.push(u)}else c.done()}).next(()=>{jt(0===r.length)})})}containsKey(t,e){return m$(t,this.userId,e)}Mn(t){return _$(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function m$(n,t,e){const i=rD(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return gm(n).Y({range:s,J:!0},(c,u,f)=>{const[_,C,S]=c;_===t&&C===r&&(o=!0),f.done()}).next(()=>o)}function wu(n){return xs(n,"mutations")}function gm(n){return xs(n,"documentMutations")}function _$(n){return xs(n,"mutationQueues")}class uf{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new uf(0)}static Nn(){return new uf(-1)}}class Zge{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Bn(t).next(e=>{const i=new uf(e.highestTargetId);return e.highestTargetId=i.next(),this.Ln(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(e=>$t.fromTimestamp(new lr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Ln(t,r)))}addTargetData(t,e){return this.kn(t,e).next(()=>this.Bn(t).next(i=>(i.targetCount+=1,this.qn(e,i),this.Ln(t,i))))}updateTargetData(t,e){return this.kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>mm(t).delete(e.targetId)).next(()=>this.Bn(t)).next(i=>(jt(i.targetCount>0),i.targetCount-=1,this.Ln(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return mm(t).Y((o,c)=>{const u=kb(c);u.sequenceNumber<=e&&null===i.get(u.targetId)&&(r++,s.push(this.removeTargetData(t,u)))}).next(()=>Ie.waitFor(s)).next(()=>r)}forEachTarget(t,e){return mm(t).Y((i,r)=>{const s=kb(r);e(s)})}Bn(t){return v$(t).get("targetGlobalKey").next(e=>(jt(null!==e),e))}Ln(t,e){return v$(t).put("targetGlobalKey",e)}kn(t,e){return mm(t).put(t$(this.serializer,e))}qn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=tf(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return mm(t).Y({range:r,index:"queryTargetsIndex"},(o,c,u)=>{const f=kb(c);_b(e,f.target)&&(s=f,u.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Cu(t);return e.forEach(o=>{const c=to(o.path);r.push(s.put({targetId:i,path:c})),r.push(this.referenceDelegate.addReference(t,i,o))}),Ie.waitFor(r)}removeMatchingKeys(t,e,i){const r=Cu(t);return Ie.forEach(e,s=>{const o=to(s.path);return Ie.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Cu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Cu(t);let s=wn();return r.Y({range:i,J:!0},(o,c,u)=>{const f=dc(o[1]),_=new xt(f);s=s.add(_)}).next(()=>s)}containsKey(t,e){const i=to(e.path),r=IDBKeyRange.bound([i],[SG(i)],!1,!0);let s=0;return Cu(t).Y({index:"documentTargetsIndex",J:!0,range:r},([o,c],u,f)=>{0!==o&&(s++,f.done())}).next(()=>s>0)}_t(t,e){return mm(t).get(e).next(i=>i?kb(i):null)}}function mm(n){return xs(n,"targets")}function v$(n){return xs(n,"targetGlobal")}function Cu(n){return xs(n,"targetDocuments")}function y$([n,t],[e,i]){const r=hn(n,e);return 0===r?hn(t,i):r}class Kge{constructor(t){this.Qn=t,this.buffer=new Ri(y$),this.Kn=0}$n(){return++this.Kn}Un(t){const e=[t,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();y$(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class b${constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(t){var e=this;rt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,$e.Z)(function*(){e.Wn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){hu(i)?rt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield uu(i)}yield e.Gn(3e5)}))}}class Qge{constructor(t,e){this.zn=t,this.params=e}calculateTargetCount(t,e){return this.zn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ie.resolve(ba._e);const i=new Kge(e);return this.zn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(p$)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p$):this.Jn(t,e))}getCacheSize(t){return this.zn.getCacheSize(t)}Jn(t,e){let i,r,s,o,c,u,f;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),r=this.params.maximumSequenceNumbersToCollect):r=C,o=Date.now(),this.nthSequenceNumber(t,r))).next(C=>(i=C,c=Date.now(),this.removeTargets(t,i,e))).next(C=>(s=C,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(C=>(f=Date.now(),Kg()<=ga.in.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-_}ms\n\tDetermined least recently used ${r} in `+(c-o)+`ms\n\tRemoved ${s} targets in `+(u-c)+`ms\n\tRemoved ${C} documents in `+(f-u)+`ms\nTotal Duration: ${f-_}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:C})))}}class Jge{constructor(t,e){this.db=t,this.garbageCollector=function x$(n,t){return new Qge(n,t)}(this,e)}jn(t){const e=this.Yn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Yn(t){let e=0;return this.Hn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Hn(t,e){return this.Zn(t,(i,r)=>e(r))}addReference(t,e,i){return DD(t,i)}removeReference(t,e,i){return DD(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return DD(t,e)}Xn(t,e){return function(r,s){let o=!1;return _$(r).Z(c=>m$(r,c,s).next(u=>(u&&(o=!0),Ie.resolve(!u)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Zn(t,(o,c)=>{if(c<=e){const u=this.Xn(t,o).next(f=>{if(!f)return s++,i.getEntry(t,o).next(()=>(i.removeEntry(o,$t.min()),Cu(t).delete([0,to(o.path)])))});r.push(u)}}).next(()=>Ie.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return DD(t,e)}Zn(t,e){const i=Cu(t);let r,s=ba._e;return i.Y({index:"documentTargetsIndex"},([o,c],{path:u,sequenceNumber:f})=>{0===o?(s!==ba._e&&e(new xt(dc(r)),s),s=f,r=u):s=ba._e}).next(()=>{s!==ba._e&&e(new xt(dc(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function DD(n,t){return Cu(n).put((r=n.currentSequenceNumber,{targetId:0,path:to(t.path),sequenceNumber:r}));var r}class w${constructor(){this.changes=new Yc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,nr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ie.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eme{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return hf(t).put(i)}removeEntry(t,e,i){return hf(t).delete(function(s,o){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],yD(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.er(t,i)))}getEntry(t,e){let i=nr.newInvalidDocument(e);return hf(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ob(e))},(r,s)=>{i=this.tr(e,s)}).next(()=>i)}nr(t,e){let i={size:0,document:nr.newInvalidDocument(e)};return hf(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ob(e))},(r,s)=>{i={document:this.tr(e,s),size:CD(s)}}).next(()=>i)}getEntries(t,e){let i=qo();return this.rr(t,e,(r,s)=>{const o=this.tr(r,s);i=i.insert(r,o)}).next(()=>i)}ir(t,e){let i=qo(),r=new Wi(xt.comparator);return this.rr(t,e,(s,o)=>{const c=this.tr(s,o);i=i.insert(s,c),r=r.insert(s,CD(o))}).next(()=>({documents:i,sr:r}))}rr(t,e,i){if(e.isEmpty())return Ie.resolve();let r=new Ri(I$);e.forEach(u=>r=r.add(u));const s=IDBKeyRange.bound(Ob(r.first()),Ob(r.last())),o=r.getIterator();let c=o.getNext();return hf(t).Y({index:"documentKeyIndex",range:s},(u,f,_)=>{const C=xt.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&I$(c,C)<0;)i(c,null),c=o.getNext();c&&c.isEqual(C)&&(i(c,f),c=o.hasNext()?o.getNext():null),c?_.U(Ob(c)):_.done()}).next(()=>{for(;c;)i(c,null),c=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,s){const o=e.path,c=[o.popLast().toArray(),o.lastSegment(),yD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hf(t).W(IDBKeyRange.bound(c,u,!0)).next(f=>{s?.incrementDocumentReadCount(f.length);let _=qo();for(const C of f){const S=this.tr(xt.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);S.isFoundDocument()&&(yb(e,S)||r.has(S.key))&&(_=_.insert(S.key,S))}return _})}getAllFromCollectionGroup(t,e,i,r){let s=qo();const o=D$(e,i),c=D$(e,ya.max());return hf(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,c,!0)},(u,f,_)=>{const C=this.tr(xt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(C.key,C),s.size===r&&_.done()}).next(()=>s)}newChangeBuffer(t){return new tme(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return E$(t).get("remoteDocumentGlobalKey").next(e=>(jt(!!e),e))}er(t,e){return E$(t).put("remoteDocumentGlobalKey",e)}tr(t,e){if(e){const i=function Hge(n,t){let e;if(t.document)e=Y5(n.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=xt.fromSegments(t.noDocument.path),r=af(t.noDocument.readTime);e=nr.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Pt();{const i=xt.fromSegments(t.unknownDocument.path),r=af(t.unknownDocument.version);e=nr.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const s=new lr(r[0],r[1]);return $t.fromTimestamp(s)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual($t.min()))return i}return nr.newInvalidDocument(t)}}function C$(n){return new eme(n)}class tme extends w${constructor(t,e){super(),this._r=t,this.trackRemovals=e,this.ar=new Yc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Ri((s,o)=>hn(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const c=this.ar.get(s);if(e.push(this._r.removeEntry(t,s,c.readTime)),o.isValidDocument()){const u=e$(this._r.serializer,o);r=r.add(s.path.popLast());const f=CD(u);i+=f-c.size,e.push(this._r.addEntry(t,s,u))}else if(i-=c.size,this.trackRemovals){const u=e$(this._r.serializer,o.convertToNoDocument($t.min()));e.push(this._r.addEntry(t,s,u))}}),r.forEach(s=>{e.push(this._r.indexManager.addToCollectionParentIndex(t,s))}),e.push(this._r.updateMetadata(t,i)),Ie.waitFor(e)}getFromCache(t,e){return this._r.nr(t,e).next(i=>(this.ar.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this._r.ir(t,e).next(({documents:i,sr:r})=>(r.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:i.get(s).readTime})}),i))}}function E$(n){return xs(n,"remoteDocumentGlobal")}function hf(n){return xs(n,"remoteDocumentsV14")}function Ob(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function D$(n,t){const e=t.documentKey.path.toArray();return[n,yD(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function I$(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=hn(e[s],i[s]),r)return r;return r=hn(e.length,i.length),r||(r=hn(e[e.length-2],i[i.length-2]),r||hn(e[e.length-1],i[i.length-1]))}class nme{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class T${constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Cb(i.mutation,r,Yo.empty(),lr.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,wn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=wn()){const r=hc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=bb();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=hc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,wn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,i,r){let s=qo();const o=xb(),c=xb();return e.forEach((u,f)=>{const _=i.get(f.key);r.has(f.key)&&(void 0===_||_.mutation instanceof qc)?s=s.insert(f.key,f):void 0!==_?(o.set(f.key,_.mutation.getFieldMask()),Cb(_.mutation,f,_.mutation.getFieldMask(),lr.now())):o.set(f.key,Yo.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((f,_)=>o.set(f,_)),e.forEach((f,_)=>{var C;return c.set(f,new nme(_,null!==(C=o.get(f))&&void 0!==C?C:null))}),c))}recalculateAndSaveOverlays(t,e){const i=xb();let r=new Wi((o,c)=>o-c),s=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const c of o)c.keys().forEach(u=>{const f=e.get(u);if(null===f)return;let _=i.get(u)||Yo.empty();_=c.applyToLocalView(f,_),i.set(u,_);const C=(r.get(c.batchId)||wn()).add(u);r=r.insert(c.batchId,C)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,_=u.value,C=v5();_.forEach(S=>{if(!s.has(S)){const R=T5(e.get(S),i.get(S));null!==R&&C.set(S,R),s=s.add(S)}}),o.push(this.documentOverlayCache.saveOverlays(t,f,C))}return Ie.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return xt.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):QR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Ie.resolve(hc());let c=-1,u=s;return o.next(f=>Ie.forEach(f,(_,C)=>(c<C.largestBatchId&&(c=C.largestBatchId),s.get(_)?Ie.resolve():this.remoteDocumentCache.getEntry(t,_).next(S=>{u=u.insert(_,S)}))).next(()=>this.populateOverlays(t,f,s)).next(()=>this.computeViews(t,u,f,wn())).next(_=>({batchId:c,changes:_5(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new xt(e)).next(i=>{let r=bb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=bb();return this.indexManager.getCollectionParents(t,s).next(c=>Ie.forEach(c,u=>{const f=(C=e,S=u.child(s),new $c(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,S;return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next(_=>{_.forEach((C,S)=>{o=o.insert(C,S)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((u,f)=>{const _=f.getKey();null===o.get(_)&&(o=o.insert(_,nr.newInvalidDocument(_)))});let c=bb();return o.forEach((u,f)=>{const _=s.get(u);void 0!==_&&Cb(_.mutation,f,Yo.empty(),lr.now()),yb(e,f)&&(c=c.insert(u,f))}),c})}}class ime{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return Ie.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:Ur(r.createTime)}),Ie.resolve();var r}getNamedQuery(t,e){return Ie.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:uP(r.bundledQuery),readTime:Ur(r.readTime)}),Ie.resolve();var r}}class rme{constructor(){this.overlays=new Wi(xt.comparator),this.lr=new Map}getOverlay(t,e){return Ie.resolve(this.overlays.get(e))}getOverlays(t,e){const i=hc();return Ie.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.lt(t,e,s)}),Ie.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),Ie.resolve()}getOverlaysForCollection(t,e,i){const r=hc(),s=e.length+1,o=new xt(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return Ie.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Wi((f,_)=>f-_);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let _=s.get(f.largestBatchId);null===_&&(_=hc(),s=s.insert(f.largestBatchId,_)),_.set(f.getKey(),f)}}const c=hc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,_)=>c.set(f,_)),!(c.size()>=r)););return Ie.resolve(c)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new rP(e,i));let s=this.lr.get(e);void 0===s&&(s=wn(),this.lr.set(e,s)),this.lr.set(e,s.add(i.key))}}class vP{constructor(){this.hr=new Ri(ws.Pr),this.Ir=new Ri(ws.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new ws(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new ws(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new xt(new Jn([])),i=new ws(e,t),r=new ws(e,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new xt(new Jn([])),i=new ws(e,t),r=new ws(e,t+1);let s=wn();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new ws(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class ws{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return xt.comparator(t.key,e.key)||hn(t.gr,e.gr)}static Tr(t,e){return hn(t.gr,e.gr)||xt.comparator(t.key,e.key)}}class sme{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new Ri(ws.Pr)}checkEmpty(t){return Ie.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.pr;this.pr++;const o=new nP(s,e,i,r);this.mutationQueue.push(o);for(const c of r)this.yr=this.yr.add(new ws(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return Ie.resolve(o)}lookupMutationBatch(t,e){return Ie.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),s=r<0?0:r;return Ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ws(e,0),r=new ws(e,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const c=this.wr(o.gr);s.push(c)}),Ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(hn);return e.forEach(r=>{const s=new ws(r,0),o=new ws(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],c=>{i=i.add(c.gr)})}),Ie.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;xt.isDocumentKey(s)||(s=s.child(""));const o=new ws(new xt(s),0);let c=new Ri(hn);return this.yr.forEachWhile(u=>{const f=u.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(c=c.add(u.gr)),!0)},o),Ie.resolve(this.br(c))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){jt(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return Ie.forEach(e.mutations,r=>{const s=new ws(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new ws(e,0),r=this.yr.firstAfterOrEqual(i);return Ie.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ie.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class ome{constructor(t){this.Cr=t,this.docs=new Wi(xt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ie.resolve(i?i.document.mutableCopy():nr.newInvalidDocument(e))}getEntries(t,e){let i=qo();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():nr.newInvalidDocument(r))}),Ie.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=qo();const o=e.path,c=new xt(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||UR(kG(_),i)<=0||(r.has(_.key)||yb(e,_))&&(s=s.insert(_.key,_.mutableCopy()))}return Ie.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Pt()}vr(t,e){return Ie.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new ame(this)}getSize(t){return Ie.resolve(this.size)}}class ame extends w${constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),Ie.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class lme{constructor(t){this.persistence=t,this.Fr=new Yc(e=>tf(e),_b),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.Mr=0,this.Or=new vP,this.targetCount=0,this.Nr=uf.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),Ie.resolve()}getLastRemoteSnapshotVersion(t){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ie.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),Ie.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new uf(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,Ie.resolve()}updateTargetData(t,e){return this.kn(e),Ie.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Fr.forEach((o,c)=>{c.sequenceNumber<=e&&null===i.get(c.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),Ie.waitFor(s).next(()=>r)}getTargetCount(t){return Ie.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return Ie.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),Ie.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),Ie.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),Ie.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return Ie.resolve(i)}containsKey(t,e){return Ie.resolve(this.Or.containsKey(e))}}class yP{constructor(t,e){this.Br={},this.overlays={},this.Lr=new ba(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new lme(this),this.indexManager=new qge,this.remoteDocumentCache=new ome(i=>this.referenceDelegate.Qr(i)),this.serializer=new J5(e),this.Kr=new ime(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new rme,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new sme(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){rt("MemoryPersistence","Starting transaction:",t);const r=new cme(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,e){return Ie.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class cme extends RG{constructor(t){super(),this.currentSequenceNumber=t}}class ID{constructor(t){this.persistence=t,this.Gr=new vP,this.zr=null}static jr(t){return new ID(t)}get Hr(){if(this.zr)return this.zr;throw Pt()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),Ie.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),Ie.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),Ie.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Hr,i=>{const r=xt.fromPath(i);return this.Jr(t,r).next(s=>{s||e.removeEntry(r,$t.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return Ie.or([()=>Ie.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class dme{constructor(t){this.serializer=t}N(t,e,i,r){const s=new iD("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FG,{unique:!0}),u.createObjectStore("documentMutations"),S$(t),function(u){u.createObjectStore("remoteDocuments")}(t));let o=Ie.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),S$(t)),o=o.next(()=>function(u){const f=u.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$t.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(o=o.next(()=>function(u,f){return f.store("mutations").W().next(_=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FG,{unique:!0});const C=f.store("mutations"),S=_.map(R=>C.put(R));return Ie.waitFor(S)})}(t,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(o=o.next(()=>this.Zr(s))),i<6&&r>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Xr(s)))),i<7&&r>=7&&(o=o.next(()=>this.ei(s))),i<8&&r>=8&&(o=o.next(()=>this.ti(t,s))),i<9&&r>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(o=o.next(()=>this.ni(s))),i<11&&r>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(o=o.next(()=>{!function(u){const f=u.createObjectStore("documentOverlays",{keyPath:Xpe});f.createIndex("collectionPathOverlayIndex",Zpe,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",Kpe,{unique:!1})}(t)})),i<13&&r>=13&&(o=o.next(()=>function(u){const f=u.createObjectStore("remoteDocumentsV14",{keyPath:Vpe});f.createIndex("documentKeyIndex",Bpe),f.createIndex("collectionGroupIndex",zpe)}(t)).next(()=>this.ri(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.ii(t,s))),i<15&&r>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:Gpe}).createIndex("sequenceNumberIndex",$pe,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:Ype}).createIndex("documentKeyIndex",qpe,{unique:!1})}(t))),o}Xr(t){let e=0;return t.store("remoteDocuments").Y((i,r)=>{e+=CD(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>Ie.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",o).next(c=>Ie.forEach(c,u=>{jt(u.userId===s.userId);const f=lf(this.serializer,u);return g$(t,s.userId,f).next(()=>{})}))}))}ei(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Y((o,c)=>{const u=new Jn(o),f=[0,to(u)];s.push(e.get(f).next(_=>_?Ie.resolve():e.put({targetId:0,path:to(u),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ie.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:Wpe});const i=e.store("collectionParents"),r=new _P,s=o=>{if(r.add(o)){const c=o.lastSegment(),u=o.popLast();return i.put({collectionId:c,parent:to(u)})}};return e.store("remoteDocuments").Y({J:!0},(o,c)=>{const u=new Jn(o);return s(u.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([o,c,u],f)=>{const _=dc(c);return s(_.popLast())}))}ni(t){const e=t.store("targets");return e.Y((i,r)=>{const s=kb(r),o=t$(this.serializer,s);return e.put(o)})}ri(t,e){const i=e.store("remoteDocuments"),r=[];return i.Y((s,o)=>{const c=e.store("remoteDocumentsV14"),u=(C=o,C.document?new xt(Jn.fromString(C.document.name).popFirst(5)):C.noDocument?xt.fromSegments(C.noDocument.path):C.unknownDocument?xt.fromSegments(C.unknownDocument.path):Pt()).path.toArray(),f={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var C;r.push(c.put(f))}).next(()=>Ie.waitFor(r))}ii(t,e){const i=e.store("mutations"),r=C$(this.serializer),s=new yP(ID.jr,this.serializer.ut);return i.W().next(o=>{const c=new Map;return o.forEach(u=>{var f;let _=null!==(f=c.get(u.userId))&&void 0!==f?f:wn();lf(this.serializer,u).keys().forEach(C=>_=_.add(C)),c.set(u.userId,_)}),Ie.forEach(c,(u,f)=>{const _=new bs(f),C=bD.ct(this.serializer,_),S=s.getIndexManager(_),R=ED.ct(_,this.serializer,S,s.referenceDelegate);return new T$(r,R,C,S).recalculateAndSaveOverlaysForDocumentKeys(new GR(e,ba._e),u).next()})})}}function S$(n){n.createObjectStore("targetDocuments",{keyPath:Upe}).createIndex("documentTargetsIndex",jpe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Hpe,{unique:!0}),n.createObjectStore("targetGlobal")}const bP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xP{constructor(t,e,i,r,s,o,c,u,f,_,C=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=s,this.window=o,this.document=c,this.oi=f,this._i=_,this.ai=C,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=S=>Promise.resolve(),!xP.D())throw new nt(Oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jge(this,r),this.Ii=e+"main",this.serializer=new J5(u),this.Ti=new Il(this.Ii,this.ai,new dme(this.serializer)),this.qr=new Zge(this.referenceDelegate,this.serializer),this.remoteDocumentCache=C$(this.serializer),this.Kr=new Uge,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===_&&Hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new nt(Oe.FAILED_PRECONDITION,bP);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.qr.getHighestSequenceNumber(t))}).then(t=>{this.Lr=new ba(t,this.oi)}).then(()=>{this.kr=!0}).catch(t=>(this.Ti&&this.Ti.close(),Promise.reject(t)))}mi(t){var e=this;return this.Pi=function(){var i=(0,$e.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ti.L(function(){var e=(0,$e.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,$e.Z)(function*(){e.started&&(yield e.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>SD(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(t)).next(e=>this.isPrimary&&!e?this.pi(t).next(()=>!1):!!e&&this.yi(t).next(()=>!0))).catch(t=>{if(hu(t))return rt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return rt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.Pi(t)),this.isPrimary=t})}fi(t){return Nb(t).get("owner").next(e=>Ie.resolve(this.wi(e)))}Si(t){return SD(t).delete(this.clientId)}bi(){var t=this;return(0,$e.Z)(function*(){if(t.isPrimary&&!t.Di(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=xs(i,"clientMetadata");return r.W().next(s=>{const o=t.Ci(s,18e5),c=s.filter(u=>-1===o.indexOf(u));return Ie.forEach(c,u=>r.delete(u.clientId)).next(()=>c)})}).catch(()=>[]);if(t.Ei)for(const i of e)t.Ei.removeItem(t.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(t){return!!t&&t.ownerId===this.clientId}gi(t){return this._i?Ie.resolve(!0):Nb(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)){if(this.wi(e)&&this.networkEnabled)return!0;if(!this.wi(e)){if(!e.allowTabSynchronization)throw new nt(Oe.FAILED_PRECONDITION,bP);return!1}}return!(!this.networkEnabled||!this.inForeground)||SD(t).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&rt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,$e.Z)(function*(){t.kr=!1,t.Mi(),t.li&&(t.li.cancel(),t.li=null),t.xi(),t.Oi(),yield t.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new GR(e,ba._e);return t.pi(i).next(()=>t.Si(i))}),t.Ti.close(),t.Ni()})()}Ci(t,e){return t.filter(i=>this.Di(i.updateTimeMs,e)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>SD(t).W().next(e=>this.Ci(e,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(t,e){return ED.ct(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Xge(t,this.serializer.ut.databaseId)}getDocumentOverlayCache(t){return bD.ct(this.serializer,t)}getBundleCache(){return this.Kr}runTransaction(t,e,i){rt("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(u=this.ai)?Jpe:14===u?zG:13===u?BG:12===u?Qpe:11===u?VG:void Pt();var u;let o;return this.Ti.runTransaction(t,r,s,c=>(o=new GR(c,this.Lr?this.Lr.next():ba._e),"readwrite-primary"===e?this.fi(o).next(u=>!!u||this.gi(o)).next(u=>{if(!u)throw Hr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new nt(Oe.FAILED_PRECONDITION,MG);return i(o)}).next(u=>this.yi(o).next(()=>u)):this.Li(o).next(()=>i(o)))).then(c=>(o.raiseOnCommittedEvent(),c))}Li(t){return Nb(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new nt(Oe.FAILED_PRECONDITION,bP)})}yi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nb(t).put("owner",e)}static D(){return Il.D()}pi(t){const e=Nb(t);return e.get("owner").next(i=>this.wi(i)?(rt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ie.resolve())}Di(t,e){const i=Date.now();return!(t<i-e||t>i&&(Hr(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;(0,Q.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(t){var e;try{const i=null!==(null===(e=this.Ei)||void 0===e?void 0:e.getItem(this.vi(t)));return rt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Hr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(t){Hr("Failed to set zombie client id.",t)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Nb(n){return xs(n,"owner")}function SD(n){return xs(n,"clientMetadata")}function wP(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class CP{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=wn(),r=wn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new CP(t,e.fromCache,i,r)}}class ume{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class A${constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.zi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ume;return this.Hi(t,e,o).next(c=>{if(s.result=c,this.$i)return this.Ji(t,e,o,c.size)})}).next(()=>s.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(Kg()<=ga.in.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",om(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ie.resolve()):(Kg()<=ga.in.DEBUG&&rt("QueryEngine","Query:",om(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Kg()<=ga.in.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",om(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Eo(e))):Ie.resolve())}zi(t,e){if(u5(e))return Ie.resolve(null);let i=Eo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=fD(e,null,"F"),i=Eo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=wn(...s);return this.Gi.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,i).next(u=>{const f=this.Yi(e,c);return this.Zi(e,f,o,u.readTime)?this.zi(t,fD(e,null,"F")):this.Xi(t,f,e,u)}))})))}ji(t,e,i,r){return u5(e)||r.isEqual($t.min())?Ie.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(e,s);return this.Zi(e,o,i,r)?Ie.resolve(null):(Kg()<=ga.in.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),om(e)),this.Xi(t,o,e,AG(r,-1)).next(c=>c))})}Yi(t,e){let i=new Ri(g5(t));return e.forEach((r,s)=>{yb(t,s)&&(i=i.add(s))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,e,i){return Kg()<=ga.in.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",om(e)),this.Gi.getDocumentsMatchingQuery(t,e,ya.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class hme{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new Wi(hn),this.ns=new Yc(s=>tf(s),_b),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new T$(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function k$(n,t,e,i){return new hme(n,t,e,i)}function M$(n,t){return EP.apply(this,arguments)}function EP(){return EP=(0,$e.Z)(function*(n,t){const e=vt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],c=[];let u=wn();for(const f of r){o.push(f.batchId);for(const _ of f.mutations)u=u.add(_.key)}for(const f of s){c.push(f.batchId);for(const _ of f.mutations)u=u.add(_.key)}return e.localDocuments.getDocuments(i,u).next(f=>({_s:f,removedBatchIds:o,addedBatchIds:c}))})})}),EP.apply(this,arguments)}function R$(n){const t=vt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function P$(n,t,e){let i=wn(),r=wn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=qo();return e.forEach((c,u)=>{const f=s.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual($t.min())?(t.removeEntry(c,u.readTime),o=o.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||0===u.version.compareTo(f.version)&&f.hasPendingWrites?(t.addEntry(u),o=o.insert(c,u)):rt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)}),{us:o,cs:r}})}function gme(n,t){const e=vt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function _m(n,t){const e=vt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(s=>s?(r=s,Ie.resolve(r)):e.qr.allocateTargetId(i).next(o=>(r=new Xc(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}function vm(n,t,e){return DP.apply(this,arguments)}function DP(){return DP=(0,$e.Z)(function*(n,t,e){const i=vt(n),r=i.ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!hu(o))throw o;rt("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),DP.apply(this,arguments)}function AD(n,t,e){const i=vt(n);let r=$t.min(),s=wn();return i.persistence.runTransaction("Execute query","readwrite",o=>function(u,f,_){const C=vt(u),S=C.ns.get(_);return void 0!==S?Ie.resolve(C.ts.get(S)):C.qr.getTargetData(f,_)}(i,o,Eo(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,e?r:$t.min(),e?s:wn())).next(c=>(F$(i,p5(t),c),{documents:c,ls:s})))}function O$(n,t){const e=vt(n),i=vt(e.qr),r=e.ts.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i._t(s,t).next(o=>o?o.target:null))}function N$(n,t){const e=vt(n),i=e.rs.get(t)||$t.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ss.getAllFromCollectionGroup(r,t,AG(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(F$(e,t,r),r))}function F$(n,t,e){let i=n.rs.get(t)||$t.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(t,i)}function IP(){return IP=(0,$e.Z)(function*(n,t,e,i){const r=vt(n);let s=wn(),o=qo();for(const f of e){const _=t.hs(f.metadata.name);f.document&&(s=s.add(_));const C=t.Ps(f);C.setReadTime(t.Is(f.metadata.readTime)),o=o.insert(_,C)}const c=r.ss.newChangeBuffer({trackRemovals:!0}),u=yield _m(r,(_=i,Eo(rm(Jn.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",f=>P$(f,c,o).next(_=>(c.apply(f),_)).next(_=>r.qr.removeMatchingKeysForTargetId(f,u.targetId).next(()=>r.qr.addMatchingKeys(f,s,u.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,_.us,_.cs)).next(()=>_.us)))}),IP.apply(this,arguments)}function _me(n,t){return TP.apply(this,arguments)}function TP(){return TP=(0,$e.Z)(function*(n,t,e=wn()){const i=yield _m(n,Eo(uP(t.bundledQuery))),r=vt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=Ur(t.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Kr.saveNamedQuery(s,t);const c=i.withResumeToken(as.EMPTY_BYTE_STRING,o);return r.ts=r.ts.insert(c.targetId,c),r.qr.updateTargetData(s,c).next(()=>r.qr.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.qr.addMatchingKeys(s,e,i.targetId)).next(()=>r.Kr.saveNamedQuery(s,t))})}),TP.apply(this,arguments)}function L$(n,t){return`firestore_clients_${n}_${t}`}function V$(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function SP(n,t){return`firestore_targets_${n}_${t}`}class kD{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ts(t,e,i){const r=JSON.parse(i);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new nt(r.error.code,r.error.message))),o?new kD(t,e,r.state,s):(Hr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Fb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ts(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new nt(i.error.code,i.error.message))),s?new Fb(t,i.state,r):(Hr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class MD{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ts(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=eP();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=OG(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new MD(t,s):(Hr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class AP{constructor(t,e){this.clientId=t,this.onlineState=e}static Ts(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new AP(e.clientId,e.onlineState):(Hr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class kP{constructor(){this.activeTargetIds=eP()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MP{constructor(t,e,i,r,s){this.window=t,this.si=e,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Wi(hn),this.started=!1,this.ps=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=L$(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new kP),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,$e.Z)(function*(){const e=yield t.syncEngine.Bi();for(const r of e){if(r===t.Rs)continue;const s=t.getItem(L$(t.persistenceKey,r));if(s){const o=MD.Ts(r,s);o&&(t.gs=t.gs.insert(o.clientId,o))}}t.Fs();const i=t.storage.getItem(t.Cs);if(i){const r=t.Ms(i);r&&t.xs(r)}for(const r of t.ps)t.fs(r);t.ps=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(t){let e=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ns(t,"pending")}updateMutationState(t,e,i){this.Ns(t,e,i),this.Bs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(SP(this.persistenceKey,t));if(i){const r=Fb.Ts(t,i);r&&(e=r.state)}}return this.Ls.ds(t),this.Fs(),e}removeLocalQueryTarget(t){this.Ls.As(t),this.Fs()}isLocalQueryTarget(t){return this.Ls.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(SP(this.persistenceKey,t))}updateQueryState(t,e,i){this.ks(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Bs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.qs(t)}notifyBundleLoaded(t){this.Qs(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return rt("SharedClientState","READ",t,e),e}setItem(t,e){rt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){rt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}fs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(rt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,$e.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ss.test(i.key)){if(null==i.newValue){const r=e.Ks(i.key);return e.$s(r,null)}{const r=e.Us(i.key,i.newValue);if(r)return e.$s(r.clientId,r)}}else if(e.bs.test(i.key)){if(null!==i.newValue){const r=e.Ws(i.key,i.newValue);if(r)return e.Gs(r)}}else if(e.Ds.test(i.key)){if(null!==i.newValue){const r=e.zs(i.key,i.newValue);if(r)return e.js(r)}}else if(i.key===e.Cs){if(null!==i.newValue){const r=e.Ms(i.newValue);if(r)return e.xs(r)}}else if(i.key===e.ws){const r=function(o){let c=ba._e;if(null!=o)try{const u=JSON.parse(o);jt("number"==typeof u),c=u}catch(u){Hr("SharedClientState","Failed to read sequence number from WebStorage",u)}return c}(i.newValue);r!==ba._e&&e.sequenceNumberHandler(r)}else if(i.key===e.vs){const r=e.Hs(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Js(s)))}}else e.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(t,e,i){const r=new kD(this.currentUser,t,e,i),s=V$(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Es())}Bs(t){const e=V$(this.persistenceKey,this.currentUser,t);this.removeItem(e)}qs(t){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:t}))}ks(t,e,i){const r=SP(this.persistenceKey,t),s=new Fb(t,e,i);this.setItem(r,s.Es())}Qs(t){const e=JSON.stringify(Array.from(t));this.setItem(this.vs,e)}Ks(t){const e=this.Ss.exec(t);return e?e[1]:null}Us(t,e){const i=this.Ks(t);return MD.Ts(i,e)}Ws(t,e){const i=this.bs.exec(t),r=Number(i[1]);return kD.Ts(new bs(void 0!==i[2]?i[2]:null),r,e)}zs(t,e){const i=this.Ds.exec(t),r=Number(i[1]);return Fb.Ts(r,e)}Ms(t){return AP.Ts(t)}Hs(t){return JSON.parse(t)}Gs(t){var e=this;return(0,$e.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Ys(t.batchId,t.state,t.error);rt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}js(t){return this.syncEngine.Zs(t.targetId,t.state,t.error)}$s(t,e){const i=e?this.gs.insert(t,e):this.gs.remove(t),r=this.Os(this.gs),s=this.Os(i),o=[],c=[];return s.forEach(u=>{r.has(u)||o.push(u)}),r.forEach(u=>{s.has(u)||c.push(u)}),this.syncEngine.Xs(o,c).then(()=>{this.gs=i})}xs(t){this.gs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Os(t){let e=eP();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class B${constructor(){this.eo=new kP,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new kP,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vme{ro(t){}shutdown(){}}class z${constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let RD=null;function RP(){return null===RD?RD=268435456+Math.round(2147483648*Math.random()):RD++,"0x"+RD.toString(16)}const yme={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bme{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const io="WebChannelConnection";class xme extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(e,i,r,s,o){const c=RP(),u=this.So(e,i);rt("RestConnection",`Sending RPC '${e}' ${c}:`,u,r);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,s,o),this.Do(e,u,f,r).then(_=>(rt("RestConnection",`Received RPC '${e}' ${c}: `,_),_),_=>{throw $o("RestConnection",`RPC '${e}' ${c} failed with error: `,_,"url: ",u,"request:",r),_})}Co(e,i,r,s,o,c){return this.wo(e,i,r,s,o)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,i){return`${this.mo}/v1/${i}:${yme[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const s=RP();return new Promise((o,c)=>{const u=new vpe;u.setWithCredentials(!0),u.listenOnce(gpe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case BR.NO_ERROR:const _=u.getResponseJson();rt(io,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(_)),o(_);break;case BR.TIMEOUT:rt(io,`RPC '${t}' ${s} timed out`),c(new nt(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case BR.HTTP_ERROR:const C=u.getStatus();if(rt(io,`RPC '${t}' ${s} failed with status:`,C,"response text:",u.getResponseText()),C>0){let S=u.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S?.error;if(R&&R.status&&R.message){const L=function(j){const ee=j.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(ee)>=0?ee:Oe.UNKNOWN}(R.status);c(new nt(L,R.message))}else c(new nt(Oe.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new nt(Oe.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{rt(io,`RPC '${t}' ${s} completed.`)}});const f=JSON.stringify(r);rt(io,`RPC '${t}' ${s} sending request:`,r),u.send(e,"POST",f,i,15)})}vo(t,e,i){const r=RP(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=fpe(),c=ppe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;void 0!==f&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.xmlHttpFactory=new _pe({})),this.bo(u.initMessageHeaders,e,i),u.encodeInitMessageHeaders=!0;const _=s.join("");rt(io,`Creating RPC '${t}' stream ${r}: ${_}`,u);const C=o.createWebChannel(_,u);let S=!1,R=!1;const L=new bme({co:j=>{R?rt(io,`Not sending because RPC '${t}' stream ${r} is closed:`,j):(S||(rt(io,`Opening RPC '${t}' stream ${r} transport.`),C.open(),S=!0),rt(io,`RPC '${t}' stream ${r} sending:`,j),C.send(j))},lo:()=>C.close()}),z=(j,ee,K)=>{j.listen(ee,ie=>{try{K(ie)}catch(ue){setTimeout(()=>{throw ue},0)}})};return z(C,nD.EventType.OPEN,()=>{R||rt(io,`RPC '${t}' stream ${r} transport opened.`)}),z(C,nD.EventType.CLOSE,()=>{R||(R=!0,rt(io,`RPC '${t}' stream ${r} transport closed`),L.Ro())}),z(C,nD.EventType.ERROR,j=>{R||(R=!0,$o(io,`RPC '${t}' stream ${r} transport errored:`,j),L.Ro(new nt(Oe.UNAVAILABLE,"The operation could not be completed")))}),z(C,nD.EventType.MESSAGE,j=>{var ee;if(!R){const K=j.data[0];jt(!!K);const ue=K.error||(null===(ee=K[0])||void 0===ee?void 0:ee.error);if(ue){rt(io,`RPC '${t}' stream ${r} received error:`,ue);const Te=ue.status;let We=function(wt){const St=Jr[wt];if(void 0!==St)return P5(St)}(Te),dt=ue.message;void 0===We&&(We=Oe.INTERNAL,dt="Unknown error status: "+Te+" with message "+ue.message),R=!0,L.Ro(new nt(We,dt)),C.close()}else rt(io,`RPC '${t}' stream ${r} received:`,K),L.Vo(K)}}),z(c,mpe.STAT_EVENT,j=>{j.stat===CG.PROXY?rt(io,`RPC '${t}' stream ${r} detected buffering proxy`):j.stat===CG.NOPROXY&&rt(io,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{L.Ao()},0),L}}function H$(){return typeof window<"u"?window:null}function PD(){return typeof document<"u"?document:null}function Lb(n){return new Mge(n,!0)}class PP{constructor(t,e,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&rt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class U${constructor(t,e,i,r,s,o,c,u){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new PP(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return(0,$e.Z)(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return(0,$e.Z)(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return(0,$e.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===Oe.RESOURCE_EXHAUSTED?(Hr(e.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===Oe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new nt(Oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko((0,$e.Z)(function*(){t.state=0,t.start()}))}o_(t){return rt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wme extends U${constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function Oge(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:Pt(),r=t.targetChange.targetIds||[],s=function(f,_){return f.useProto3Json?(jt(void 0===_||"string"==typeof _),as.fromBase64String(_||"")):(jt(void 0===_||_ instanceof Uint8Array),as.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(f){const _=void 0===f.code?Oe.UNKNOWN:P5(f.code);return new nt(_,f.message||"")}(o);e=new V5(i,r,s,c||null)}else if("documentChange"in t){const i=t.documentChange,r=fc(n,i.document.name),s=Ur(i.document.updateTime),o=i.document.createTime?Ur(i.document.createTime):$t.min(),c=new Ns({mapValue:{fields:i.document.fields}}),u=nr.newFoundDocument(r,s,o,c);e=new vD(i.targetIds||[],i.removedTargetIds||[],u.key,u)}else if("documentDelete"in t){const i=t.documentDelete,r=fc(n,i.document),s=i.readTime?Ur(i.readTime):$t.min(),o=nr.newNoDocument(r,s);e=new vD([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=fc(n,i.document);e=new vD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Pt();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new Dge(r,s);e=new L5(i.targetId,o)}}var f;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return $t.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?$t.min():o.readTime?Ur(o.readTime):$t.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=Sb(this.serializer),e.addTarget=function(s,o){let c;const u=o.target;if(c=uD(u)?{documents:q5(s,u)}:{query:dP(s,u)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=U5(s,o.resumeToken);const f=oP(s,o.expectedCount);null!==f&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo($t.min())>0){c.readTime=um(s,o.snapshotVersion.toTimestamp());const f=oP(s,o.expectedCount);null!==f&&(c.expectedCount=f)}return c}(this.serializer,t);const i=function Fge(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=Sb(this.serializer),e.removeTarget=t,this.e_(e)}}class Cme extends U${constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(jt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function Nge(n,t){return n&&n.length>0?(jt(void 0!==t),n.map(e=>function(r,s){let o=Ur(r.updateTime?r.updateTime:s);return o.isEqual($t.min())&&(o=Ur(s)),new xge(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Ur(t.commitTime);return this.listener.I_(i,e)}return jt(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Sb(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Ab(this.serializer,i))};this.e_(e)}}class Eme extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new nt(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new nt(Oe.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,e,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new nt(Oe.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Ime{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Hr(e),this.f_=!1):rt("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Tme{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(c=>{i.enqueueAndForget((0,$e.Z)(function*(){var u;Eu(o)&&(rt("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,$e.Z)(function*(_){const C=vt(_);C.C_.add(4),yield ym(C),C.M_.set("Unknown"),C.C_.delete(4),yield Vb(C)}),function f(_){return u.apply(this,arguments)})(o))}))}),this.M_=new Ime(i,r)}}function Vb(n){return NP.apply(this,arguments)}function NP(){return NP=(0,$e.Z)(function*(n){if(Eu(n))for(const t of n.v_)yield t(!0)}),NP.apply(this,arguments)}function ym(n){return FP.apply(this,arguments)}function FP(){return FP=(0,$e.Z)(function*(n){for(const t of n.v_)yield t(!1)}),FP.apply(this,arguments)}function OD(n,t){const e=vt(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),BP(e)?VP(e):xm(e).Ho()&&LP(e,t))}function Bb(n,t){const e=vt(n),i=xm(e);e.D_.delete(t),i.Ho()&&j$(e,t),0===e.D_.size&&(i.Ho()?i.Zo():Eu(e)&&e.M_.set("Unknown"))}function LP(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($t.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}xm(n).u_(t)}function j$(n,t){n.x_.Oe(t),xm(n).c_(t)}function VP(n){n.x_=new Tge({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),xm(n).start(),n.M_.g_()}function BP(n){return Eu(n)&&!xm(n).jo()&&n.D_.size>0}function Eu(n){return 0===vt(n).C_.size}function W$(n){n.x_=void 0}function Sme(n){return zP.apply(this,arguments)}function zP(){return zP=(0,$e.Z)(function*(n){n.D_.forEach((t,e)=>{LP(n,t)})}),zP.apply(this,arguments)}function Ame(n,t){return HP.apply(this,arguments)}function HP(){return HP=(0,$e.Z)(function*(n,t){W$(n),BP(n)?(n.M_.w_(t),VP(n)):n.M_.set("Unknown")}),HP.apply(this,arguments)}function kme(n,t,e){return UP.apply(this,arguments)}function UP(){return UP=(0,$e.Z)(function*(n,t,e){if(n.M_.set("Online"),t instanceof V5&&2===t.state&&t.cause)try{yield(i=(0,$e.Z)(function*(s,o){const c=o.cause;for(const u of o.targetIds)s.D_.has(u)&&(yield s.remoteSyncer.rejectListen(u,c),s.D_.delete(u),s.x_.removeTarget(u))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){rt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield ND(n,i)}else if(t instanceof vD?n.x_.$e(t):t instanceof L5?n.x_.Je(t):n.x_.Ge(t),!e.isEqual($t.min()))try{const i=yield R$(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const c=s.x_.it(o);return c.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const _=s.D_.get(f);_&&s.D_.set(f,_.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,f)=>{const _=s.D_.get(u);if(!_)return;s.D_.set(u,_.withResumeToken(as.EMPTY_BYTE_STRING,_.snapshotVersion)),j$(s,u);const C=new Xc(_.target,u,f,_.sequenceNumber);LP(s,C)}),s.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){rt("RemoteStore","Failed to raise snapshot:",i),yield ND(n,i)}var i}),UP.apply(this,arguments)}function ND(n,t,e){return jP.apply(this,arguments)}function jP(){return jP=(0,$e.Z)(function*(n,t,e){if(!hu(t))throw t;n.C_.add(1),yield ym(n),n.M_.set("Offline"),e||(e=()=>R$(n.localStore)),n.asyncQueue.enqueueRetryable((0,$e.Z)(function*(){rt("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield Vb(n)}))}),jP.apply(this,arguments)}function G$(n,t){return t().catch(e=>ND(n,e,t))}function bm(n){return WP.apply(this,arguments)}function WP(){return WP=(0,$e.Z)(function*(n){const t=vt(n),e=Du(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Mme(t);)try{const r=yield gme(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,Rme(t,r)}catch(r){yield ND(t,r)}$$(t)&&Y$(t)}),WP.apply(this,arguments)}function Mme(n){return Eu(n)&&n.b_.length<10}function Rme(n,t){n.b_.push(t);const e=Du(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function $$(n){return Eu(n)&&!Du(n).jo()&&n.b_.length>0}function Y$(n){Du(n).start()}function Pme(n){return GP.apply(this,arguments)}function GP(){return GP=(0,$e.Z)(function*(n){Du(n).E_()}),GP.apply(this,arguments)}function Ome(n){return $P.apply(this,arguments)}function $P(){return $P=(0,$e.Z)(function*(n){const t=Du(n);for(const e of n.b_)t.P_(e.mutations)}),$P.apply(this,arguments)}function Nme(n,t,e){return YP.apply(this,arguments)}function YP(){return YP=(0,$e.Z)(function*(n,t,e){const i=n.b_.shift(),r=iP.from(i,t,e);yield G$(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield bm(n)}),YP.apply(this,arguments)}function Fme(n,t){return qP.apply(this,arguments)}function qP(){return qP=(0,$e.Z)(function*(n,t){var e;t&&Du(n).h_&&(yield(e=(0,$e.Z)(function*(r,s){if(R5(c=s.code)&&c!==Oe.ABORTED){const o=r.b_.shift();Du(r).Yo(),yield G$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield bm(r)}var c}),function i(r,s){return e.apply(this,arguments)})(n,t)),$$(n)&&Y$(n)}),qP.apply(this,arguments)}function q$(n,t){return XP.apply(this,arguments)}function XP(){return XP=(0,$e.Z)(function*(n,t){const e=vt(n);e.asyncQueue.verifyOperationInProgress(),rt("RemoteStore","RemoteStore received new credentials");const i=Eu(e);e.C_.add(3),yield ym(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield Vb(e)}),XP.apply(this,arguments)}function ZP(n,t){return KP.apply(this,arguments)}function KP(){return KP=(0,$e.Z)(function*(n,t){const e=vt(n);t?(e.C_.delete(2),yield Vb(e)):t||(e.C_.add(2),yield ym(e),e.M_.set("Unknown"))}),KP.apply(this,arguments)}function xm(n){return n.O_||(n.O_=function(e,i,r){const s=vt(e);return s.A_(),new wme(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Sme.bind(null,n),Io:Ame.bind(null,n),a_:kme.bind(null,n)}),n.v_.push(function(){var t=(0,$e.Z)(function*(e){e?(n.O_.Yo(),BP(n)?VP(n):n.M_.set("Unknown")):(yield n.O_.stop(),W$(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function Du(n){return n.N_||(n.N_=function(e,i,r){const s=vt(e);return s.A_(),new Cme(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Pme.bind(null,n),Io:Fme.bind(null,n),T_:Ome.bind(null,n),I_:Nme.bind(null,n)}),n.v_.push(function(){var t=(0,$e.Z)(function*(e){e?(n.N_.Yo(),yield bm(n)):(yield n.N_.stop(),n.b_.length>0&&(rt("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class QP{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,c=new QP(t,e,o,r,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nt(Oe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wm(n,t){if(Hr("AsyncQueue",`${t}: ${n}`),hu(n))return new nt(Oe.UNAVAILABLE,`${t}: ${n}`);throw n}class Cm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||xt.comparator(e.key,i.key):(e,i)=>xt.comparator(e.key,i.key),this.keyedMap=bb(),this.sortedSet=new Wi(this.comparator)}static emptySet(t){return new Cm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Cm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Cm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class X${constructor(){this.B_=new Wi(xt.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):Pt():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Em{constructor(t,e,i,r,s,o,c,u,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new Em(t,e,Cm.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Lme{constructor(){this.k_=void 0,this.listeners=[]}}class Vme{constructor(){this.queries=new Yc(t=>f5(t),vb),this.onlineState="Unknown",this.q_=new Set}}function JP(n,t){return eO.apply(this,arguments)}function eO(){return eO=(0,$e.Z)(function*(n,t){const e=vt(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new Lme),r)try{s.k_=yield e.onListen(i)}catch(o){const c=wm(o,`Initialization of query '${om(t.query)}' failed`);return void t.onError(c)}e.queries.set(i,s),s.listeners.push(t),t.Q_(e.onlineState),s.k_&&t.K_(s.k_)&&iO(e)}),eO.apply(this,arguments)}function tO(n,t){return nO.apply(this,arguments)}function nO(){return nO=(0,$e.Z)(function*(n,t){const e=vt(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),nO.apply(this,arguments)}function Bme(n,t){const e=vt(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const c of o.listeners)c.K_(r)&&(i=!0);o.k_=r}}i&&iO(e)}function zme(n,t,e){const i=vt(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function iO(n){n.q_.forEach(t=>{t.next()})}class rO{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Em(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=Em.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class Hme{constructor(t,e){this.Y_=t,this.byteLength=e}Z_(){return"metadata"in this.Y_}}class Z${constructor(t){this.serializer=t}hs(t){return fc(this.serializer,t)}Ps(t){return t.metadata.exists?Y5(this.serializer,t.document,!1):nr.newNoDocument(this.hs(t.metadata.name),this.Is(t.metadata.readTime))}Is(t){return Ur(t)}}class Ume{constructor(t,e,i){this.X_=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=K$(t)}ea(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Y_.namedQuery)this.queries.push(t.Y_.namedQuery);else if(t.Y_.documentMetadata){this.documents.push({metadata:t.Y_.documentMetadata}),t.Y_.documentMetadata.exists||++e;const i=Jn.fromString(t.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Y_.document&&(this.documents[this.documents.length-1].document=t.Y_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ta(t){const e=new Map,i=new Z$(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.hs(r.metadata.name);for(const o of r.metadata.queries){const c=(e.get(o)||wn()).add(s);e.set(o,c)}}return e}complete(){var t=this;return(0,$e.Z)(function*(){const e=yield function mme(n,t,e,i){return IP.apply(this,arguments)}(t.localStore,new Z$(t.serializer),t.documents,t.X_.id),i=t.ta(t.documents);for(const r of t.queries)yield _me(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,na:t.collectionGroups,ra:e}})()}}function K$(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Q${constructor(t){this.key=t}}class J${constructor(t){this.key=t}}class eY{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=wn(),this.mutatedKeys=wn(),this._a=g5(t),this.aa=new Cm(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new X$,r=e?e.aa:this.aa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,c=!1;const u="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,f="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,C)=>{const S=r.get(_),R=yb(this.query,C)?C:null,L=!!S&&this.mutatedKeys.has(S.key),z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let j=!1;S&&R?S.data.isEqual(R.data)?L!==z&&(i.track({type:3,doc:R}),j=!0):this.ha(S,R)||(i.track({type:2,doc:R}),j=!0,(u&&this._a(R,u)>0||f&&this._a(R,f)<0)&&(c=!0)):!S&&R?(i.track({type:0,doc:R}),j=!0):S&&!R&&(i.track({type:1,doc:S}),j=!0,(u||f)&&(c=!0)),j&&(R?(o=o.add(R),s=z?s.add(_):s.delete(_)):(o=o.delete(_),s=s.delete(_)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const _="F"===this.query.limitType?o.last():o.first();o=o.delete(_.key),s=s.delete(_.key),i.track({type:1,doc:_})}return{aa:o,la:i,Zi:c,mutatedKeys:s}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((f,_)=>function(S,R){const L=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return L(S)-L(R)}(f.type,_.type)||this._a(f.doc,_.doc)),this.Pa(i);const o=e?this.Ia():[],c=0===this.oa.size&&this.current?1:0,u=c!==this.sa;return this.sa=c,0!==s.length||u?{snapshot:new Em(this.query,t.aa,r,s,t.mutatedKeys,0===c,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new X$,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=wn(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new J$(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new Q$(i))}),e}da(t){this.ia=t.ls,this.oa=wn();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return Em.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class jme{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Wme{constructor(t){this.key=t,this.Ra=!1}}class Gme{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Yc(c=>f5(c),vb),this.fa=new Map,this.ga=new Set,this.pa=new Wi(xt.comparator),this.ya=new Map,this.wa=new vP,this.Sa={},this.ba=new Map,this.Da=uf.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function $me(n,t){return sO.apply(this,arguments)}function sO(){return sO=(0,$e.Z)(function*(n,t){const e=SO(n);let i,r;const s=e.ma.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=yield _m(e.localStore,Eo(t)),c=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield oO(e,t,i,"current"===c,o.resumeToken),e.isPrimaryClient&&OD(e.remoteStore,o)}return r}),sO.apply(this,arguments)}function oO(n,t,e,i,r){return aO.apply(this,arguments)}function aO(){return aO=(0,$e.Z)(function*(n,t,e,i,r){n.va=(C,S,R)=>{return(L=(0,$e.Z)(function*(j,ee,K,ie){let ue=ee.view.ca(K);ue.Zi&&(ue=yield AD(j.localStore,ee.query,!1).then(({documents:dt})=>ee.view.ca(dt,ue)));const Te=ie&&ie.targetChanges.get(ee.targetId),We=ee.view.applyChanges(ue,j.isPrimaryClient,Te);return _O(j,ee.targetId,We.Ta),We.snapshot}),function z(j,ee,K,ie){return L.apply(this,arguments)})(n,C,S,R);var L};const s=yield AD(n.localStore,t,!0),o=new eY(t,s.ls),c=o.ca(s.documents),u=Ib.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),f=o.applyChanges(c,n.isPrimaryClient,u);_O(n,e,f.Ta);const _=new jme(t,e,o);return n.ma.set(t,_),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),f.snapshot}),aO.apply(this,arguments)}function Yme(n,t){return lO.apply(this,arguments)}function lO(){return lO=(0,$e.Z)(function*(n,t){const e=vt(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(s=>!vb(s,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield vm(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Bb(e.remoteStore,i.targetId),Dm(e,i.targetId)}).catch(uu))):(Dm(e,i.targetId),yield vm(e.localStore,i.targetId,!0))}),lO.apply(this,arguments)}function cO(){return cO=(0,$e.Z)(function*(n,t,e){const i=AO(n);try{const r=yield function(o,c){const u=vt(o),f=lr.now(),_=c.reduce((R,L)=>R.add(L.key),wn());let C,S;return u.persistence.runTransaction("Locally write mutations","readwrite",R=>{let L=qo(),z=wn();return u.ss.getEntries(R,_).next(j=>{L=j,L.forEach((ee,K)=>{K.isValidDocument()||(z=z.add(ee))})}).next(()=>u.localDocuments.getOverlayedDocuments(R,L)).next(j=>{C=j;const ee=[];for(const K of c){const ie=Cge(K,C.get(K.key).overlayedDocument);null!=ie&&ee.push(new qc(K.key,ie,KG(ie.value.mapValue),cr.exists(!0)))}return u.mutationQueue.addMutationBatch(R,f,ee,c)}).next(j=>{S=j;const ee=j.applyToLocalDocumentSet(C,z);return u.documentOverlayCache.saveOverlays(R,j.batchId,ee)})}).then(()=>({batchId:S.batchId,changes:_5(C)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,u){let f=o.Sa[o.currentUser.toKey()];f||(f=new Wi(hn)),f=f.insert(c,u),o.Sa[o.currentUser.toKey()]=f}(i,r.batchId,e),yield Zc(i,r.changes),yield bm(i.remoteStore)}catch(r){const s=wm(r,"Failed to persist write");e.reject(s)}}),cO.apply(this,arguments)}function tY(n,t){return dO.apply(this,arguments)}function dO(){return dO=(0,$e.Z)(function*(n,t){const e=vt(n);try{const i=yield function pme(n,t){const e=vt(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const c=[];t.targetChanges.forEach((_,C)=>{const S=r.get(C);if(!S)return;c.push(e.qr.removeMatchingKeys(s,_.removedDocuments,C).next(()=>e.qr.addMatchingKeys(s,_.addedDocuments,C)));let R=S.withSequenceNumber(s.currentSequenceNumber);var z,j,ee;null!==t.targetMismatches.get(C)?R=R.withResumeToken(as.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),r=r.insert(C,R),j=R,ee=_,(0===(z=S).resumeToken.approximateByteSize()||j.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&c.push(e.qr.updateTargetData(s,R))});let u=qo(),f=wn();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,_))}),c.push(P$(s,o,t.documentUpdates).next(_=>{u=_.us,f=_.cs})),!i.isEqual($t.min())){const _=e.qr.getLastRemoteSnapshotVersion(s).next(C=>e.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(_)}return Ie.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,u,f)).next(()=>u)}).then(s=>(e.ts=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.ya.get(s);o&&(jt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?jt(o.Ra):r.removedDocuments.size>0&&(jt(o.Ra),o.Ra=!1))}),yield Zc(e,i,t)}catch(i){yield uu(i)}}),dO.apply(this,arguments)}function nY(n,t,e){const i=vt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((s,o)=>{const c=o.view.Q_(t);c.snapshot&&r.push(c.snapshot)}),function(o,c){const u=vt(o);u.onlineState=c;let f=!1;u.queries.forEach((_,C)=>{for(const S of C.listeners)S.Q_(c)&&(f=!0)}),f&&iO(u)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Xme(n,t,e){return uO.apply(this,arguments)}function uO(){return uO=(0,$e.Z)(function*(n,t,e){const i=vt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new Wi(xt.comparator);o=o.insert(s,nr.newNoDocument(s,$t.min()));const c=wn().add(s),u=new Db($t.min(),new Map,new Wi(hn),o,c);yield tY(i,u),i.pa=i.pa.remove(s),i.ya.delete(t),vO(i)}else yield vm(i.localStore,t,!1).then(()=>Dm(i,t,e)).catch(uu)}),uO.apply(this,arguments)}function Zme(n,t){return hO.apply(this,arguments)}function hO(){return hO=(0,$e.Z)(function*(n,t){const e=vt(n),i=t.batch.batchId;try{const r=yield function fme(n,t){const e=vt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ss.newChangeBuffer({trackRemovals:!0});return function(c,u,f,_){const C=f.batch,S=C.keys();let R=Ie.resolve();return S.forEach(L=>{R=R.next(()=>_.getEntry(u,L)).next(z=>{const j=f.docVersions.get(L);jt(null!==j),z.version.compareTo(j)<0&&(C.applyToRemoteDocument(z,f),z.isValidDocument()&&(z.setReadTime(f.commitVersion),_.addEntry(z)))})}),R.next(()=>c.mutationQueue.removeMutationBatch(u,C))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=wn();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(u=u.add(c.batch.mutations[f].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);mO(e,i,null),gO(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Zc(e,r)}catch(r){yield uu(r)}}),hO.apply(this,arguments)}function Kme(n,t,e){return fO.apply(this,arguments)}function fO(){return fO=(0,$e.Z)(function*(n,t,e){const i=vt(n);try{const r=yield function(o,c){const u=vt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let _;return u.mutationQueue.lookupMutationBatch(f,c).next(C=>(jt(null!==C),_=C.keys(),u.mutationQueue.removeMutationBatch(f,C))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,_,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,_)).next(()=>u.localDocuments.getDocuments(f,_))})}(i.localStore,t);mO(i,t,e),gO(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Zc(i,r)}catch(r){yield uu(r)}}),fO.apply(this,arguments)}function pO(){return pO=(0,$e.Z)(function*(n,t){const e=vt(n);Eu(e.remoteStore)||rt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=vt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>c.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ba.get(i)||[];r.push(t),e.ba.set(i,r)}catch(i){const r=wm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),pO.apply(this,arguments)}function gO(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function mO(n,t,e){const i=vt(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function Dm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||iY(n,i)})}function iY(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(Bb(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),vO(n))}function _O(n,t,e){for(const i of e)i instanceof Q$?(n.wa.addReference(i.key,t),Jme(n,i)):i instanceof J$?(rt("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||iY(n,i.key)):Pt()}function Jme(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(rt("SyncEngine","New document in limbo: "+e),n.ga.add(i),vO(n))}function vO(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new xt(Jn.fromString(t)),i=n.Da.next();n.ya.set(i,new Wme(e)),n.pa=n.pa.insert(e,i),OD(n.remoteStore,new Xc(Eo(rm(e.path)),i,"TargetPurposeLimboResolution",ba._e))}}function Zc(n,t,e){return yO.apply(this,arguments)}function yO(){return yO=(0,$e.Z)(function*(n,t,e){const i=vt(n),r=[],s=[],o=[];var c;i.ma.isEmpty()||(i.ma.forEach((c,u)=>{o.push(i.va(u,t,e).then(f=>{if((f||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(u.targetId,f?.fromCache?"not-current":"current"),f){r.push(f);const _=CP.Qi(u.targetId,f);s.push(_)}}))}),yield Promise.all(o),i.Va.a_(r),yield(c=(0,$e.Z)(function*(f,_){const C=vt(f);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Ie.forEach(_,R=>Ie.forEach(R.ki,L=>C.persistence.referenceDelegate.addReference(S,R.targetId,L)).next(()=>Ie.forEach(R.qi,L=>C.persistence.referenceDelegate.removeReference(S,R.targetId,L)))))}catch(S){if(!hu(S))throw S;rt("LocalStore","Failed to update sequence numbers: "+S)}for(const S of _){const R=S.targetId;if(!S.fromCache){const L=C.ts.get(R),j=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);C.ts=C.ts.insert(R,j)}}}),function u(f,_){return c.apply(this,arguments)})(i.localStore,s))}),yO.apply(this,arguments)}function e_e(n,t){return bO.apply(this,arguments)}function bO(){return bO=(0,$e.Z)(function*(n,t){const e=vt(n);if(!e.currentUser.isEqual(t)){rt("SyncEngine","User change. New user:",t.toKey());const i=yield M$(e.localStore,t);e.currentUser=t,(s=e).ba.forEach(c=>{c.forEach(u=>{u.reject(new nt(Oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Zc(e,i._s)}var s}),bO.apply(this,arguments)}function t_e(n,t){const e=vt(n),i=e.ya.get(t);if(i&&i.Ra)return wn().add(i.key);{let r=wn();const s=e.fa.get(t);if(!s)return r;for(const o of s){const c=e.ma.get(o);r=r.unionWith(c.view.ua)}return r}}function n_e(n,t){return xO.apply(this,arguments)}function xO(){return xO=(0,$e.Z)(function*(n,t){const e=vt(n),i=yield AD(e.localStore,t.query,!0),r=t.view.da(i);return e.isPrimaryClient&&_O(e,t.targetId,r.Ta),r}),xO.apply(this,arguments)}function i_e(n,t){return wO.apply(this,arguments)}function wO(){return wO=(0,$e.Z)(function*(n,t){const e=vt(n);return N$(e.localStore,t).then(i=>Zc(e,i))}),wO.apply(this,arguments)}function r_e(n,t,e,i){return CO.apply(this,arguments)}function CO(){return CO=(0,$e.Z)(function*(n,t,e,i){const r=vt(n),s=yield function(c,u){const f=vt(c),_=vt(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",C=>_.Cn(C,u).next(S=>S?f.localDocuments.getDocuments(C,S):Ie.resolve(null)))}(r.localStore,t);var u;null!==s?("pending"===e?yield bm(r.remoteStore):"acknowledged"===e||"rejected"===e?(mO(r,t,i||null),gO(r,t),u=t,vt(vt(r.localStore).mutationQueue).Fn(u)):Pt(),yield Zc(r,s)):rt("SyncEngine","Cannot apply mutation batch with id: "+t)}),CO.apply(this,arguments)}function EO(){return EO=(0,$e.Z)(function*(n,t){const e=vt(n);if(SO(e),AO(e),!0===t&&!0!==e.Ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield rY(e,i.toArray());e.Ca=!0,yield ZP(e.remoteStore,!0);for(const s of r)OD(e.remoteStore,s)}else if(!1===t&&!1!==e.Ca){const i=[];let r=Promise.resolve();e.fa.forEach((s,o)=>{e.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(Dm(e,o),vm(e.localStore,o,!0))),Bb(e.remoteStore,o)}),yield r,yield rY(e,i),function(o){const c=vt(o);c.ya.forEach((u,f)=>{Bb(c.remoteStore,f)}),c.wa.Vr(),c.ya=new Map,c.pa=new Wi(xt.comparator)}(e),e.Ca=!1,yield ZP(e.remoteStore,!1)}}),EO.apply(this,arguments)}function rY(n,t,e){return DO.apply(this,arguments)}function DO(){return DO=(0,$e.Z)(function*(n,t,e){const i=vt(n),r=[],s=[];for(const o of t){let c;const u=i.fa.get(o);if(u&&0!==u.length){c=yield _m(i.localStore,Eo(u[0]));for(const f of u){const _=i.ma.get(f),C=yield n_e(i,_);C.snapshot&&s.push(C.snapshot)}}else{const f=yield O$(i.localStore,o);c=yield _m(i.localStore,f),yield oO(i,sY(f),o,!1,c.resumeToken)}r.push(c)}return i.Va.a_(s),r}),DO.apply(this,arguments)}function sY(n){return d5(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function o_e(n){return e=vt(n).localStore,vt(vt(e).persistence).Bi();var e}function a_e(n,t,e,i){return IO.apply(this,arguments)}function IO(){return IO=(0,$e.Z)(function*(n,t,e,i){const r=vt(n);if(r.Ca)return void rt("SyncEngine","Ignoring unexpected query state notification.");const s=r.fa.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const o=yield N$(r.localStore,p5(s[0])),c=Db.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,as.EMPTY_BYTE_STRING);yield Zc(r,o,c);break}case"rejected":yield vm(r.localStore,t,!0),Dm(r,t,i);break;default:Pt()}}),IO.apply(this,arguments)}function l_e(n,t,e){return TO.apply(this,arguments)}function TO(){return TO=(0,$e.Z)(function*(n,t,e){const i=SO(n);if(i.Ca){for(const r of t){if(i.fa.has(r)){rt("SyncEngine","Adding an already active target "+r);continue}const s=yield O$(i.localStore,r),o=yield _m(i.localStore,s);yield oO(i,sY(s),o.targetId,!1,o.resumeToken),OD(i.remoteStore,o)}for(const r of e)i.fa.has(r)&&(yield vm(i.localStore,r,!1).then(()=>{Bb(i.remoteStore,r),Dm(i,r)}).catch(uu))}}),TO.apply(this,arguments)}function SO(n){const t=vt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=tY.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=t_e.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xme.bind(null,t),t.Va.a_=Bme.bind(null,t.eventManager),t.Va.Fa=zme.bind(null,t.eventManager),t}function AO(n){const t=vt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zme.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Kme.bind(null,t),t}class zb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,$e.Z)(function*(){e.serializer=Lb(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return k$(this.persistence,new A$,t.initialUser,this.serializer)}createPersistence(t){return new yP(ID.jr,this.serializer)}createSharedClientState(t){return new B$}terminate(){var t=this;return(0,$e.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class kO extends zb{constructor(t,e,i){super(),this.xa=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,$e.Z)(function*(){yield e().call(i,t),yield i.xa.initialize(i,t),yield AO(i.xa.syncEngine),yield bm(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return k$(this.persistence,new A$,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new b$(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new Npe(e,this.persistence);return new Ope(t.asyncQueue,i)}createPersistence(t){const e=wP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?no.withCacheSize(this.cacheSizeBytes):no.DEFAULT;return new xP(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,H$(),PD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new B$}}class oY extends kO{constructor(t,e){super(t,e,!1),this.xa=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,$e.Z)(function*(){yield e().call(i,t);const r=i.xa.syncEngine;i.sharedClientState instanceof MP&&(i.sharedClientState.syncEngine={Ys:r_e.bind(null,r),Zs:a_e.bind(null,r),Xs:l_e.bind(null,r),Bi:o_e.bind(null,r),Js:i_e.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var s=(0,$e.Z)(function*(o){yield function s_e(n,t){return EO.apply(this,arguments)}(i.xa.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=H$();if(!MP.D(e))throw new nt(Oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=wP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new MP(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Im{initialize(t,e){var i=this;return(0,$e.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>nY(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=e_e.bind(null,i.syncEngine),yield ZP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Vme}createDatastore(t){const e=Lb(t.databaseInfo.databaseId),i=new xme(t.databaseInfo);return new Eme(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,o=e=>nY(this.syncEngine,e,0),c=z$.D()?new z$:new vme,new Tme(i,r,s,o,c);var i,r,s,o,c}createSyncEngine(t,e){return function(r,s,o,c,u,f,_){const C=new Gme(r,s,o,c,u,f);return _&&(C.Ca=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,$e.Z)(function*(i){const r=vt(i);rt("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield ym(r),r.F_.shutdown(),r.M_.set("Unknown")}),function e(i){return t.apply(this,arguments)})(this.remoteStore);var t}}function aY(n,t=10240){let e=0;return{read:()=>(0,$e.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,$e.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class FD{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Hr("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class u_e{constructor(t,e){this.Ba=t,this.serializer=e,this.metadata=new os,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var t=this;return(0,$e.Z)(function*(){return t.metadata.promise})()}Ma(){var t=this;return(0,$e.Z)(function*(){return yield t.getMetadata(),t.ka()})()}ka(){var t=this;return(0,$e.Z)(function*(){const e=yield t.qa();if(null===e)return null;const i=t.La.decode(e),r=Number(i);isNaN(r)&&t.Qa(`length string (${i}) is not valid number`);const s=yield t.Ka(r);return new Hme(JSON.parse(s),e.length+r)})()}$a(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}qa(){var t=this;return(0,$e.Z)(function*(){for(;t.$a()<0&&!(yield t.Ua()););if(0===t.buffer.length)return null;const e=t.$a();e<0&&t.Qa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Ka(t){var e=this;return(0,$e.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ua())&&e.Qa("Reached the end of bundle when more is expected.");const i=e.La.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Qa(t){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${t}`)}Ua(){var t=this;return(0,$e.Z)(function*(){const e=yield t.Ba.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class h_e{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,$e.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new nt(Oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,$e.Z)(function*(o,c){const u=vt(o),f=Sb(u.serializer)+"/documents",_={documents:c.map(L=>Tb(u.serializer,L))},C=yield u.Co("BatchGetDocuments",f,_,c.length),S=new Map;C.forEach(L=>{const z=function Pge(n,t){return"found"in t?function(i,r){jt(!!r.found);const s=fc(i,r.found.name),o=Ur(r.found.updateTime),c=r.found.createTime?Ur(r.found.createTime):$t.min(),u=new Ns({mapValue:{fields:r.found.fields}});return nr.newFoundDocument(s,o,c,u)}(n,t):"missing"in t?function(i,r){jt(!!r.missing),jt(!!r.readTime);const s=fc(i,r.missing),o=Ur(r.readTime);return nr.newNoDocument(s,o)}(n,t):Pt()}(u.serializer,L);S.set(z.key.toString(),z)});const R=[];return c.forEach(L=>{const z=S.get(L.toString());jt(!!z),R.push(z)}),R}),function s(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new dm(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,$e.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=xt.fromPath(r);t.mutations.push(new tP(s,t.precondition(s)))}),yield(i=(0,$e.Z)(function*(s,o){const c=vt(s),u=Sb(c.serializer)+"/documents",f={writes:o.map(_=>Ab(c.serializer,_))};yield c.wo("Commit",u,f)}),function r(s,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Pt();e=$t.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new nt(Oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual($t.min())?cr.exists(!1):cr.updateTime(e):cr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual($t.min()))throw new nt(Oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cr.updateTime(e)}return cr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class f_e{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Wa=i.maxAttempts,this.zo=new PP(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var t=this;this.zo.ko((0,$e.Z)(function*(){const e=new h_e(t.datastore),i=t.za(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.ja(s)}))}).catch(r=>{t.ja(r)})}))}za(t){try{const e=this.updateFunction(t);return!db(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(t){this.Wa>0&&this.Ha(t)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(t)}Ha(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!R5(e)}return!1}}class p_e{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=bs.UNAUTHENTICATED,this.clientId=TG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=(0,$e.Z)(function*(c){rt("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(rt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return(0,$e.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new nt(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=wm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function LD(n,t){return MO.apply(this,arguments)}function MO(){return MO=(0,$e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),rt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,$e.Z)(function*(s){i.isEqual(s)||(yield M$(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),MO.apply(this,arguments)}function RO(n,t){return PO.apply(this,arguments)}function PO(){return PO=(0,$e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield OO(n);rt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>q$(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>q$(t.remoteStore,s)),n._onlineComponents=t}),PO.apply(this,arguments)}function lY(n){return"FirebaseError"===n.name?n.code===Oe.FAILED_PRECONDITION||n.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function OO(n){return NO.apply(this,arguments)}function NO(){return NO=(0,$e.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){rt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield LD(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!lY(e))throw e;$o("Error using user provided cache. Falling back to memory cache: "+e),yield LD(n,new zb)}}else rt("FirestoreClient","Using default OfflineComponentProvider"),yield LD(n,new zb);return n._offlineComponents}),NO.apply(this,arguments)}function VD(n){return FO.apply(this,arguments)}function FO(){return FO=(0,$e.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(rt("FirestoreClient","Using user provided OnlineComponentProvider"),yield RO(n,n._uninitializedComponentsProvider._online)):(rt("FirestoreClient","Using default OnlineComponentProvider"),yield RO(n,new Im))),n._onlineComponents}),FO.apply(this,arguments)}function cY(n){return OO(n).then(t=>t.persistence)}function Tm(n){return OO(n).then(t=>t.localStore)}function dY(n){return VD(n).then(t=>t.remoteStore)}function LO(n){return VD(n).then(t=>t.syncEngine)}function Sm(n){return VO.apply(this,arguments)}function VO(){return VO=(0,$e.Z)(function*(n){const t=yield VD(n),e=t.eventManager;return e.onListen=$me.bind(null,t.syncEngine),e.onUnlisten=Yme.bind(null,t.syncEngine),e}),VO.apply(this,arguments)}function hY(n,t,e={}){const i=new os;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(s,o,c,u,f){const _=new FD({next:S=>{o.enqueueAndForget(()=>tO(s,C));const R=S.docs.has(c);!R&&S.fromCache?f.reject(new nt(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&u&&"server"===u.source?f.reject(new nt(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(S)},error:S=>f.reject(S)}),C=new rO(rm(c.path),_,{includeMetadataChanges:!0,J_:!0});return JP(s,C)}(yield Sm(n),n.asyncQueue,t,e,i)})),i.promise}function fY(n,t,e={}){const i=new os;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(s,o,c,u,f){const _=new FD({next:S=>{o.enqueueAndForget(()=>tO(s,C)),S.fromCache&&"server"===u.source?f.reject(new nt(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(S)},error:S=>f.reject(S)}),C=new rO(c,_,{includeMetadataChanges:!0,J_:!0});return JP(s,C)}(yield Sm(n),n.asyncQueue,t,e,i)})),i.promise}function pY(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const gY=new Map;function BO(n,t,e){if(!e)throw new nt(Oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function mY(n,t,e,i){if(!0===t&&!0===i)throw new nt(Oe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function _Y(n){if(!xt.isDocumentKey(n))throw new nt(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vY(n){if(xt.isDocumentKey(n))throw new nt(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function BD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":Pt()}function zn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new nt(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=BD(n);throw new nt(Oe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function yY(n,t){if(t<=0)throw new nt(Oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class bY{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new nt(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new nt(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}mY("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=pY(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new nt(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new nt(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new nt(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hb{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bY({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new nt(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new nt(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bY(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new wpe;switch(i.type){case"firstParty":return new Ipe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new nt(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=gY.get(e);i&&(rt("ComponentProvider","Removing Datastore"),gY.delete(e),i.terminate())}(this),Promise.resolve()}}class Fs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Fs(this.firestore,t,this._query)}}class ir{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ir(this.firestore,t,this._key)}}class pc extends Fs{constructor(t,e,i){super(t,e,rm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ir(this.firestore,null,new xt(t))}withConverter(t){return new pc(this.firestore,t,this._path)}}function wY(n,t,...e){if(n=(0,Q.m9)(n),BO("collection","path",t),n instanceof Hb){const i=Jn.fromString(t,...e);return vY(i),new pc(n,null,i)}{if(!(n instanceof ir||n instanceof pc))throw new nt(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jn.fromString(t,...e));return vY(i),new pc(n.firestore,null,i)}}function zD(n,t,...e){if(n=(0,Q.m9)(n),1===arguments.length&&(t=TG.newId()),BO("doc","path",t),n instanceof Hb){const i=Jn.fromString(t,...e);return _Y(i),new ir(n,null,new xt(i))}{if(!(n instanceof ir||n instanceof pc))throw new nt(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jn.fromString(t,...e));return _Y(i),new ir(n.firestore,n instanceof pc?n.converter:null,new xt(i))}}function CY(n,t){return n=(0,Q.m9)(n),t=(0,Q.m9)(t),(n instanceof ir||n instanceof pc)&&(t instanceof ir||t instanceof pc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function zO(n,t){return n=(0,Q.m9)(n),t=(0,Q.m9)(t),n instanceof Fs&&t instanceof Fs&&n.firestore===t.firestore&&vb(n._query,t._query)&&n.converter===t.converter}class I_e{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new PP(this,"async_queue_retry"),this.iu=()=>{const e=PD();e&&rt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=PD();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=PD();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new os;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return(0,$e.Z)(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!hu(e))throw e;rt("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,Hr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=QP.createAndSchedule(this,t,e,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&Pt()}verifyOperationInProgress(){}uu(){var t=this;return(0,$e.Z)(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}function HO(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class T_e{constructor(){this._progressObserver={},this._taskCompletionResolver=new os,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Gi extends Hb{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new I_e,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||EY(this),this._firestoreClient.terminate()}}function Tr(n){return n._firestoreClient||EY(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function EY(n){var t,e,i;const r=n._freezeSettings(),s=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new nge(n._databaseId,u,n._persistenceKey,(_=r).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,pY(_.experimentalLongPollingOptions),_.useFetchStreams));var u,_;n._firestoreClient=new p_e(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function DY(n,t,e){const i=new os;return n.asyncQueue.enqueue((0,$e.Z)(function*(){try{yield LD(n,e),yield RO(n,t),i.resolve()}catch(r){const s=r;if(!lY(s))throw s;$o("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function IY(n){if(n._initialized||n._terminated)throw new nt(Oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gc(as.fromBase64String(t))}catch(e){throw new nt(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new gc(as.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Kc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new nt(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ff{constructor(t){this._methodName=t}}class HD{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new nt(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new nt(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return hn(this._lat,t._lat)||hn(this._long,t._long)}}const V_e=/^__.*__$/;class B_e{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new qc(t,this.data,this.fieldMask,e,this.fieldTransforms):new cm(t,this.data,e,this.fieldTransforms)}}class TY{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new qc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function SY(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class UD{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new UD(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return GD(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(SY(this.Iu)&&V_e.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class z_e{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Lb(t)}pu(t,e,i,r=!1){return new UD({Iu:t,methodName:e,gu:i,path:tr.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pf(n){const t=n._freezeSettings(),e=Lb(n._databaseId);return new z_e(n._databaseId,!!t.ignoreUndefinedProperties,e)}function jD(n,t,e,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,t,e,r);GO("Data must be an object, but it was:",o,i);const c=MY(i,o);let u,f;if(s.merge)u=new Yo(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const _=[];for(const C of s.mergeFields){const S=Wb(t,C,e);if(!o.contains(S))throw new nt(Oe.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);PY(_,S)||_.push(S)}u=new Yo(_),f=o.fieldTransforms.filter(C=>u.covers(C.field))}else u=null,f=o.fieldTransforms;return new B_e(new Ns(c),u,f)}class jb extends ff{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jb}}function AY(n,t,e){return new UD({Iu:3,gu:t.settings.gu,methodName:n._methodName,du:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class UO extends ff{_toFieldTransform(t){return new wb(t.path,new am)}isEqual(t){return t instanceof UO}}class H_e extends ff{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=AY(this,t,!0),i=this.yu.map(s=>gf(s,e)),r=new nf(i);return new wb(t.path,r)}isEqual(t){return this===t}}class U_e extends ff{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=AY(this,t,!0),i=this.yu.map(s=>gf(s,e)),r=new rf(i);return new wb(t.path,r)}isEqual(t){return this===t}}class j_e extends ff{constructor(t,e){super(t),this.wu=e}_toFieldTransform(t){const e=new lm(t.serializer,x5(t.serializer,this.wu));return new wb(t.path,e)}isEqual(t){return this===t}}function jO(n,t,e,i){const r=n.pu(1,t,e);GO("Data must be an object, but it was:",r,i);const s=[],o=Ns.empty();fu(i,(u,f)=>{const _=WD(t,u,e);f=(0,Q.m9)(f);const C=r.Ru(_);if(f instanceof jb)s.push(_);else{const S=gf(f,C);null!=S&&(s.push(_),o.set(_,S))}});const c=new Yo(s);return new TY(o,c,r.fieldTransforms)}function WO(n,t,e,i,r,s){const o=n.pu(1,t,e),c=[Wb(t,i,e)],u=[r];if(s.length%2!=0)throw new nt(Oe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<s.length;S+=2)c.push(Wb(t,s[S])),u.push(s[S+1]);const f=[],_=Ns.empty();for(let S=c.length-1;S>=0;--S)if(!PY(f,c[S])){const R=c[S];let L=u[S];L=(0,Q.m9)(L);const z=o.Ru(R);if(L instanceof jb)f.push(R);else{const j=gf(L,z);null!=j&&(f.push(R),_.set(R,j))}}const C=new Yo(f);return new TY(_,C,o.fieldTransforms)}function kY(n,t,e,i=!1){return gf(e,n.pu(i?4:3,t))}function gf(n,t){if(RY(n=(0,Q.m9)(n)))return GO("Unsupported field value:",t,n),MY(n,t);if(n instanceof ff)return function(i,r){if(!SY(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const c of i){let u=gf(c,r.Vu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=(0,Q.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return x5(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=lr.fromDate(i);return{timestampValue:um(r.serializer,s)}}if(i instanceof lr){const s=new lr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:um(r.serializer,s)}}if(i instanceof HD)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gc)return{bytesValue:U5(r.serializer,i._byteString)};if(i instanceof ir){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:aP(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${BD(i)}`)}(n,t)}function MY(n,t){const e={};return UG(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fu(n,(i,r)=>{const s=gf(r,t.Eu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function RY(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof lr||n instanceof HD||n instanceof gc||n instanceof ir||n instanceof ff)}function GO(n,t,e){if(!RY(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=BD(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Wb(n,t,e){if((t=(0,Q.m9)(t))instanceof Kc)return t._internalPath;if("string"==typeof t)return WD(n,t);throw GD("Field path arguments must be of type string or ",n,!1,void 0,e)}const W_e=new RegExp("[~\\*/\\[\\]]");function WD(n,t,e){if(t.search(W_e)>=0)throw GD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Kc(...t.split("."))._internalPath}catch{throw GD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function GD(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${i}`),o&&(u+=` in document ${r}`),u+=")"),new nt(Oe.INVALID_ARGUMENT,c+n+u)}function PY(n,t){return n.some(e=>e.isEqual(t))}class Gb{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new G_e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field($D("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class G_e extends Gb{data(){return super.data()}}function $D(n,t){return"string"==typeof t?WD(n,t):t instanceof Kc?t._internalPath:t._delegate._internalPath}function OY(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new nt(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $O{}class $b extends $O{}function Iu(n,t,...e){let i=[];t instanceof $O&&i.push(t),i=i.concat(e),function(s){const o=s.filter(u=>u instanceof Am).length,c=s.filter(u=>u instanceof Yb).length;if(o>1||o>0&&c>0)throw new nt(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Yb extends $b{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Yb(t,e,i)}_apply(t){const e=this._parse(t);return VY(t._query,e),new Fs(t.firestore,t.converter,JR(t._query,e))}_parse(t){const e=pf(t.firestore);return function(s,o,c,u,f,_,C){let S;if(f.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new nt(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){LY(C,_);const R=[];for(const L of C)R.push(FY(u,s,L));S={arrayValue:{values:R}}}else S=FY(u,s,C)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||LY(C,_),S=kY(c,"where",C,"in"===_||"not-in"===_);return Xn.create(f,_,S)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Am extends $O{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Am(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Ii.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,s){let o=r;const c=s.getFlattenedFilters();for(const u of c)VY(o,u),o=JR(o,u)}(t._query,e),new Fs(t.firestore,t.converter,JR(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class YO extends $b{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new YO(t,e)}_apply(t){const e=function(r,s,o){if(null!==r.startAt)throw new nt(Oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new nt(Oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mb(s,o)}(t._query,this._field,this._direction);return new Fs(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new $c(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class YD extends $b{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new YD(t,e,i)}_apply(t){return new Fs(t.firestore,t.converter,fD(t._query,this._limit,this._limitType))}}class qD extends $b{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new qD(t,e,i)}_apply(t){const e=NY(t,this.type,this._docOrFields,this._inclusive);return new Fs(t.firestore,t.converter,(s=e,new $c((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class XD extends $b{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new XD(t,e,i)}_apply(t){const e=NY(t,this.type,this._docOrFields,this._inclusive);return new Fs(t.firestore,t.converter,(s=e,new $c((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function NY(n,t,e,i){if(e[0]=(0,Q.m9)(e[0]),e[0]instanceof Gb)return function(s,o,c,u,f){if(!u)throw new nt(Oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const C of sm(s))if(C.field.isKeyField())_.push(ef(o,u.key));else{const S=u.data.field(C.field);if(oD(S))throw new nt(Oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const R=C.field.canonicalString();throw new nt(Oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}_.push(S)}return new yu(_,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=pf(n.firestore);return function(o,c,u,f,_,C){const S=o.explicitOrderBy;if(_.length>S.length)throw new nt(Oe.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let L=0;L<_.length;L++){const z=_[L];if(S[L].field.isKeyField()){if("string"!=typeof z)throw new nt(Oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof z}`);if(!QR(o)&&-1!==z.indexOf("/"))throw new nt(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${z}' contains a slash.`);const j=o.path.child(Jn.fromString(z));if(!xt.isDocumentKey(j))throw new nt(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const ee=new xt(j);R.push(ef(c,ee))}else{const j=kY(u,f,z);R.push(j)}}return new yu(R,C)}(n._query,n.firestore._databaseId,r,t,e,i)}}function FY(n,t,e){if("string"==typeof(e=(0,Q.m9)(e))){if(""===e)throw new nt(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QR(t)&&-1!==e.indexOf("/"))throw new nt(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Jn.fromString(e));if(!xt.isDocumentKey(i))throw new nt(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ef(n,new xt(i))}if(e instanceof ir)return ef(n,e._key);throw new nt(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${BD(e)}.`)}function LY(n,t){if(!Array.isArray(n)||0===n.length)throw new nt(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VY(n,t){const e=function(r,s){for(const o of r)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new nt(Oe.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class qO{convertValue(t,e="none"){switch(_u(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ir(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Gc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Pt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return fu(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new HD(Ir(t.latitude),Ir(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=aD(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(hb(t));default:return null}}convertTimestamp(t){const e=pu(t);return new lr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Jn.fromString(t);jt(Q5(i));const r=new gu(i.get(1),i.get(3)),s=new xt(i.popFirst(5));return r.isEqual(e)||Hr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function ZD(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class eve extends qO{constructor(t){super(),this.firestore=t}convertBytes(t){return new gc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ir(this.firestore,null,e)}}class mf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qc extends Gb{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field($D("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class qb extends Qc{data(t={}){return super.data(t)}}class Tu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new mf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new qb(this._firestore,this._userDataWriter,i.key,i,new mf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new nt(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new qb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new mf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const u=new qb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new mf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,_=-1;return 0!==c.type&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),_=o.indexOf(c.doc.key)),{type:nve(c.type),doc:u,oldIndex:f,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function nve(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}function zY(n,t){return n instanceof Qc&&t instanceof Qc?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Tu&&t instanceof Tu&&n._firestore===t._firestore&&zO(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Su extends qO{constructor(t){super(),this.firestore=t}convertBytes(t){return new gc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ir(this.firestore,null,e)}}function HY(n,t,e){n=zn(n,ir);const i=zn(n.firestore,Gi),r=ZD(n.converter,t,e);return km(i,[jD(pf(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,cr.none())])}function UY(n,t,e,...i){n=zn(n,ir);const r=zn(n.firestore,Gi),s=pf(r);let o;return o="string"==typeof(t=(0,Q.m9)(t))||t instanceof Kc?WO(s,"updateDoc",n._key,t,e,i):jO(s,"updateDoc",n._key,t),km(r,[o.toMutation(n._key,cr.exists(!0))])}function jY(n,...t){var e,i,r;n=(0,Q.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||HO(t[o])||(s=t[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges};if(HO(t[o])){const C=t[o];t[o]=null===(e=C.next)||void 0===e?void 0:e.bind(C),t[o+1]=null===(i=C.error)||void 0===i?void 0:i.bind(C),t[o+2]=null===(r=C.complete)||void 0===r?void 0:r.bind(C)}let u,f,_;if(n instanceof ir)f=zn(n.firestore,Gi),_=rm(n._key.path),u={next:C=>{t[o]&&t[o](XO(f,n,C))},error:t[o+1],complete:t[o+2]};else{const C=zn(n,Fs);f=zn(C.firestore,Gi),_=C._query;const S=new Su(f);u={next:R=>{t[o]&&t[o](new Tu(f,S,C,R))},error:t[o+1],complete:t[o+2]},OY(n._query)}return function(S,R,L,z){const j=new FD(z),ee=new rO(R,j,L);return S.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return JP(yield Sm(S),ee)})),()=>{j.Na(),S.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return tO(yield Sm(S),ee)}))}}(Tr(f),_,c,u)}function km(n,t){return function(i,r){const s=new os;return i.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function qme(n,t,e){return cO.apply(this,arguments)}(yield LO(i),r,s)})),s.promise}(Tr(n),t)}function XO(n,t,e){const i=e.docs.get(t._key),r=new Su(n);return new Qc(n,r,t._key,i,new mf(e.hasPendingWrites,e.fromCache),t.converter)}const bve={maxAttempts:5};class WY{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=pf(t)}set(t,e,i){this._verifyNotCommitted();const r=Au(t,this._firestore),s=ZD(r.converter,e,i),o=jD(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(o.toMutation(r._key,cr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Au(t,this._firestore);let o;return o="string"==typeof(e=(0,Q.m9)(e))||e instanceof Kc?WO(this._dataReader,"WriteBatch.update",s._key,e,i,r):jO(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,cr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Au(t,this._firestore);return this._mutations=this._mutations.concat(new dm(e._key,cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nt(Oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Au(n,t){if((n=(0,Q.m9)(n)).firestore!==t)throw new nt(Oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class xve extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=pf(e)}get(e){const i=Au(e,this._firestore),r=new eve(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||1!==s.length)return Pt();const o=s[0];if(o.isFoundDocument())return new Gb(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new Gb(this._firestore,r,i._key,null,i.converter);throw Pt()})}set(e,i,r){const s=Au(e,this._firestore),o=ZD(s.converter,i,r),c=jD(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,r);return this._transaction.set(s._key,c),this}update(e,i,r,...s){const o=Au(e,this._firestore);let c;return c="string"==typeof(i=(0,Q.m9)(i))||i instanceof Kc?WO(this._dataReader,"Transaction.update",o._key,i,r,s):jO(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,c),this}delete(e){const i=Au(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Au(t,this._firestore),i=new Su(this._firestore);return super.get(t).then(r=>new Qc(this._firestore,i,e._key,r._document,new mf(!1,!1),e.converter))}}function KO(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new nt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function qY(){if(typeof Uint8Array>"u")throw new nt("unimplemented","Uint8Arrays are not available in this environment.")}function XY(){if(!function ege(){return typeof atob<"u"}())throw new nt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Zg=jo.SDK_VERSION,(0,jo._registerComponent)(new vl.wA("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),c=new Gi(new Epe(i.getProvider("auth-internal")),new Tpe(i.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new nt(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(f.options.projectId,_)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),(0,jo.registerVersion)(EG,"4.3.2",t),(0,jo.registerVersion)(EG,"4.3.2","esm2017")}();class Xb{constructor(t){this._delegate=t}static fromBase64String(t){return XY(),new Xb(gc.fromBase64String(t))}static fromUint8Array(t){return qY(),new Xb(gc.fromUint8Array(t))}toBase64(){return XY(),this._delegate.toBase64()}toUint8Array(){return qY(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function QO(n){return function Mve(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class Rve{enableIndexedDbPersistence(t,e){return function A_e(n,t){IY(n=zn(n,Gi));const e=Tr(n);if(e._uninitializedComponentsProvider)throw new nt(Oe.FAILED_PRECONDITION,"SDK cache is already specified.");$o("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Im;return DY(e,r,new kO(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function k_e(n){IY(n=zn(n,Gi));const t=Tr(n);if(t._uninitializedComponentsProvider)throw new nt(Oe.FAILED_PRECONDITION,"SDK cache is already specified.");$o("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Im;return DY(t,i,new oY(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function M_e(n){if(n._initialized&&!n._terminated)throw new nt(Oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new os;return n._queue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{yield(e=(0,$e.Z)(function*(r){if(!Il.D())return Promise.resolve();const s=r+"main";yield Il.delete(s)}),function i(r){return e.apply(this,arguments)})(wP(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class ZY{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof gu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&$o("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function xY(n,t,e,i={}){var r;const s=(n=zn(n,Hb))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let c,u;if("string"==typeof i.mockUserToken)c=i.mockUserToken,u=bs.MOCK_USER;else{c=(0,Q.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new nt(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new bs(f)}n._authCredentials=new Cpe(new DG(c,u))}}(this._delegate,t,e,i)}enableNetwork(){return function P_e(n){return function g_e(n){return n.asyncQueue.enqueue((0,$e.Z)(function*(){const t=yield cY(n),e=yield dY(n);return t.setNetworkEnabled(!0),function(r){const s=vt(r);return s.C_.delete(0),Vb(s)}(e)}))}(Tr(n=zn(n,Gi)))}(this._delegate)}disableNetwork(){return function O_e(n){return function m_e(n){return n.asyncQueue.enqueue((0,$e.Z)(function*(){const t=yield cY(n),e=yield dY(n);return t.setNetworkEnabled(!1),(i=(0,$e.Z)(function*(s){const o=vt(s);o.C_.add(0),yield ym(o),o.M_.set("Offline")}),function r(s){return i.apply(this,arguments)})(e);var i}))}(Tr(n=zn(n,Gi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,mY("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function R_e(n){return function(e){const i=new os;return e.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function Qme(n,t){return pO.apply(this,arguments)}(yield LO(e),i)})),i.promise}(Tr(n=zn(n,Gi)))}(this._delegate)}onSnapshotsInSync(t){return function uve(n,t){return function y_e(n,t){const e=new FD(t);return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return r=yield Sm(n),s=e,vt(r).q_.add(s),void s.next();var r,s})),()=>{e.Na(),n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return r=yield Sm(n),s=e,void vt(r).q_.delete(s);var r,s}))}}(Tr(n=zn(n,Gi)),HO(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new nt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Mm(this,wY(this._delegate,t))}catch(e){throw Do(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ja(this,zD(this._delegate,t))}catch(e){throw Do(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Io(this,function D_e(n,t){if(n=zn(n,Hb),BO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new nt(Oe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fs(n,null,(i=t,new $c(Jn.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw Do(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function wve(n,t,e){n=zn(n,Gi);const i=Object.assign(Object.assign({},bve),e);return function(s){if(s.maxAttempts<1)throw new nt(Oe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,c){const u=new os;return s.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){const f=yield function uY(n){return VD(n).then(t=>t.datastore)}(s);new f_e(s.asyncQueue,f,c,o,u).run()})),u.promise}(Tr(n),r=>t(new xve(n,r)),i)}(this._delegate,e=>t(new KY(this,e)))}batch(){return Tr(this._delegate),new QY(new WY(this._delegate,t=>km(this._delegate,t)))}loadBundle(t){return function N_e(n,t){const e=Tr(n=zn(n,Gi)),i=new T_e;return function b_e(n,t,e,i){const r=function(o,c){let u;return u="string"==typeof o?O5().encode(o):o,_=function(_,C){if(_ instanceof Uint8Array)return aY(_,C);if(_ instanceof ArrayBuffer)return aY(new Uint8Array(_),C);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new u_e(_,c);var _}(e,Lb(t));n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){!function c_e(n,t,e){const i=vt(n);var r;(r=(0,$e.Z)(function*(o,c,u){try{const f=yield c.getMetadata();if(yield function(L,z){const j=vt(L),ee=Ur(z.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",K=>j.Kr.getBundleMetadata(K,z.id)).then(K=>!!K&&K.createTime.compareTo(ee)>=0)}(o.localStore,f))return yield c.close(),u._completeWith({taskState:"Success",documentsLoaded:(L=f).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);u._updateProgress(K$(f));const _=new Ume(f,o.localStore,c.serializer);let C=yield c.Ma();for(;C;){const R=yield _.ea(C);R&&u._updateProgress(R),C=yield c.Ma()}const S=yield _.complete();return yield Zc(o,S.ra,void 0),yield function(L,z){const j=vt(L);return j.persistence.runTransaction("Save bundle","readwrite",ee=>j.Kr.saveBundleMetadata(ee,z))}(o.localStore,f),u._completeWith(S.progress),Promise.resolve(S.na)}catch(f){return $o("SyncEngine",`Loading bundle failed with ${f}`),u._failWith(f),Promise.resolve(new Set)}var L}),function s(o,c,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield LO(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function F_e(n,t){return function x_e(n,t){return n.asyncQueue.enqueue((0,$e.Z)(function*(){return function(i,r){const s=vt(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,r))}(yield Tm(n),t)}))}(Tr(n=zn(n,Gi)),t).then(e=>e?new Fs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Io(this,e):null)}}class QD extends qO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xb(new gc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ja.forKey(e,this.firestore,null)}}class KY{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new QD(t)}get(t){const e=vf(t);return this._delegate.get(e).then(i=>new Zb(this._firestore,new Qc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=vf(t);return i?(KO("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=vf(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=vf(t);return this._delegate.delete(e),this}}class QY{constructor(t){this._delegate=t}set(t,e,i){const r=vf(t);return i?(KO("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=vf(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=vf(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class _f{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new qb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Kb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=_f.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new _f(t,new QD(t),e),r.set(e,s)),s}}_f.INSTANCES=new WeakMap;class Ja{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new QD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new nt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ja(e,new ir(e._delegate,i,new xt(t)))}static forKey(t,e,i){return new Ja(e,new ir(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Mm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Mm(this.firestore,wY(this._delegate,t))}catch(e){throw Do(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Q.m9)(t))instanceof ir&&CY(this._delegate,t)}set(t,e){e=KO("DocumentReference.set",e);try{return e?HY(this._delegate,t,e):HY(this._delegate,t)}catch(i){throw Do(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?UY(this._delegate,t):UY(this._delegate,t,e,...i)}catch(r){throw Do(r,"updateDoc()","DocumentReference.update()")}}delete(){return function cve(n){return km(zn(n.firestore,Gi),[new dm(n._key,cr.none())])}(this._delegate)}onSnapshot(...t){const e=JY(t),i=e8(t,r=>new Zb(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return jY(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function rve(n){n=zn(n,ir);const t=zn(n.firestore,Gi),e=Tr(t),i=new Su(t);return function __e(n,t){const e=new os;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(i=(0,$e.Z)(function*(s,o,c){try{const u=yield function(_,C){const S=vt(_);return S.persistence.runTransaction("read document","readonly",R=>S.localDocuments.getDocument(R,C))}(s,o);u.isFoundDocument()?c.resolve(u):u.isNoDocument()?c.resolve(null):c.reject(new nt(Oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const f=wm(u,`Failed to get document '${o} from cache`);c.reject(f)}}),function r(s,o,c){return i.apply(this,arguments)})(yield Tm(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Qc(t,i,n._key,r,new mf(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function sve(n){n=zn(n,ir);const t=zn(n.firestore,Gi);return hY(Tr(t),n._key,{source:"server"}).then(e=>XO(t,n,e))}(this._delegate):function ive(n){n=zn(n,ir);const t=zn(n.firestore,Gi);return hY(Tr(t),n._key).then(e=>XO(t,n,e))}(this._delegate),e.then(i=>new Zb(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ja(this.firestore,this._delegate.withConverter(t?_f.getInstance(this.firestore,t):null))}}function Do(n,t,e){return n.message=n.message.replace(t,e),n}function JY(n){for(const t of n)if("object"==typeof t&&!QO(t))return t;return{}}function e8(n,t){var e,i;let r;return r=QO(n[0])?n[0]:QO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Zb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ja(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return zY(this._delegate,t._delegate)}}class Kb extends Zb{data(t){const e=this._delegate.data(t);return function xpe(n,t){n||Pt()}(void 0!==e),e}}class Io{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new QD(t)}where(t,e,i){try{return new Io(this.firestore,Iu(this._delegate,function $_e(n,t,e){const i=t,r=$D("where",n);return Yb._create(r,i,e)}(t,e,i)))}catch(r){throw Do(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Io(this.firestore,Iu(this._delegate,function Y_e(n,t="asc"){const e=t,i=$D("orderBy",n);return YO._create(i,e)}(t,e)))}catch(i){throw Do(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Io(this.firestore,Iu(this._delegate,function q_e(n){return yY("limit",n),YD._create("limit",n,"F")}(t)))}catch(e){throw Do(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Io(this.firestore,Iu(this._delegate,function X_e(n){return yY("limitToLast",n),YD._create("limitToLast",n,"L")}(t)))}catch(e){throw Do(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Io(this.firestore,Iu(this._delegate,function Z_e(...n){return qD._create("startAt",n,!0)}(...t)))}catch(e){throw Do(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Io(this.firestore,Iu(this._delegate,function K_e(...n){return qD._create("startAfter",n,!1)}(...t)))}catch(e){throw Do(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Io(this.firestore,Iu(this._delegate,function Q_e(...n){return XD._create("endBefore",n,!1)}(...t)))}catch(e){throw Do(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Io(this.firestore,Iu(this._delegate,function J_e(...n){return XD._create("endAt",n,!0)}(...t)))}catch(e){throw Do(e,"endAt()","Query.endAt()")}}isEqual(t){return zO(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function ave(n){n=zn(n,Fs);const t=zn(n.firestore,Gi),e=Tr(t),i=new Su(t);return function v_e(n,t){const e=new os;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(i=(0,$e.Z)(function*(s,o,c){try{const u=yield AD(s,o,!0),f=new eY(o,u.ls),_=f.ca(u.documents),C=f.applyChanges(_,!1);c.resolve(C.snapshot)}catch(u){const f=wm(u,`Failed to execute query '${o} against cache`);c.reject(f)}}),function r(s,o,c){return i.apply(this,arguments)})(yield Tm(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Tu(t,i,n,r))}(this._delegate):"server"===t?.source?function lve(n){n=zn(n,Fs);const t=zn(n.firestore,Gi),e=Tr(t),i=new Su(t);return fY(e,n._query,{source:"server"}).then(r=>new Tu(t,i,n,r))}(this._delegate):function ove(n){n=zn(n,Fs);const t=zn(n.firestore,Gi),e=Tr(t),i=new Su(t);return OY(n._query),fY(e,n._query).then(r=>new Tu(t,i,n,r))}(this._delegate),e.then(i=>new JO(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=JY(t),i=e8(t,r=>new JO(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return jY(this._delegate,e,i)}withConverter(t){return new Io(this.firestore,this._delegate.withConverter(t?_f.getInstance(this.firestore,t):null))}}class Ove{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Kb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class JO{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Io(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Kb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Ove(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Kb(this._firestore,i))})}isEqual(t){return zY(this._delegate,t._delegate)}}class Mm extends Io{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ja(this.firestore,t):null}doc(t){try{return new Ja(this.firestore,void 0===t?zD(this._delegate):zD(this._delegate,t))}catch(e){throw Do(e,"doc()","CollectionReference.doc()")}}add(t){return function dve(n,t){const e=zn(n.firestore,Gi),i=zD(n),r=ZD(n.converter,t);return km(e,[jD(pf(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,cr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ja(this.firestore,e))}isEqual(t){return CY(this._delegate,t._delegate)}withConverter(t){return new Mm(this.firestore,this._delegate.withConverter(t?_f.getInstance(this.firestore,t):null))}}function vf(n){return zn(n,ir)}class eN{constructor(...t){this._delegate=new Kc(...t)}static documentId(){return new eN(tr.keyField().canonicalString())}isEqual(t){return(t=(0,Q.m9)(t))instanceof Kc&&this._delegate._internalPath.isEqual(t._internalPath)}}class yf{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Eve(){return new UO("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new yf(t)}static delete(){const t=function Cve(){return new jb("deleteField")}();return t._methodName="FieldValue.delete",new yf(t)}static arrayUnion(...t){const e=function Dve(...n){return new H_e("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new yf(e)}static arrayRemove(...t){const e=function Ive(...n){return new U_e("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new yf(e)}static increment(t){const e=function Tve(n){return new j_e("increment",n)}(t);return e._methodName="FieldValue.increment",new yf(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Nve={Firestore:ZY,GeoPoint:HD,Timestamp:lr,Blob:Xb,Transaction:KY,WriteBatch:QY,DocumentReference:Ja,DocumentSnapshot:Zb,Query:Io,QueryDocumentSnapshot:Kb,QuerySnapshot:JO,CollectionReference:Mm,FieldPath:eN,FieldValue:yf,setLogLevel:function Pve(n){!function bpe(n){du.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function t8(n,t){return function Vve(n,t=Xd){return new zt(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function tN(n,t){return t8(n,t).pipe(Je(e=>({payload:e,type:"query"})))}!function Lve(n){(function Fve(n,t){n.INTERNAL.registerComponent(new vl.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Nve)))})(n,(t,e)=>new ZY(t,e,new Rve)),n.registerVersion("@firebase/firestore-compat","0.3.21")}(pa.Z);class n8{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=l8(i,e);return new s8(r,s,this.afs)}snapshotChanges(){return function Bve(n,t){return t8(n,t).pipe(Cl(void 0),Ug(),Je(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zr)}valueChanges(t={}){return this.snapshotChanges().pipe(Je(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return de(this.ref.get(t)).pipe(zr)}}function JD(n,t){return tN(n,t).pipe(Cl(void 0),Ug(),Je(e=>{const[i,r]=e,s=r.payload.docChanges(),o=s.map(c=>({type:c.type,payload:c}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,u)=>{const f=s.find(C=>C.doc.ref.isEqual(c.ref)),_=i?.payload.docs.find(C=>C.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:c}})}),o}))}function i8(n,t,e){return JD(n,e).pipe(Sg((i,r)=>function zve(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function Hve(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return nN(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return nN(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return nN(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),ni(),Je(i=>i.map(r=>({type:r.type,payload:r}))))}function nN(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function r8(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class s8{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=JD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Je(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Cl(void 0),Ug(),Bn(([i,r])=>r.length>0||!i),Je(([,i])=>i),zr)}auditTrail(t){return this.stateChanges(t).pipe(Sg((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=r8(t);return i8(this.query,e,this.afs.schedulers.outsideAngular).pipe(zr)}valueChanges(t={}){return tN(this.query,this.afs.schedulers.outsideAngular).pipe(Je(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),zr)}get(t){return de(this.query.get(t)).pipe(zr)}add(t){return this.ref.add(t)}doc(t){return new n8(this.ref.doc(t),this.afs)}}class Uve{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?JD(this.query,this.afs.schedulers.outsideAngular).pipe(Je(e=>e.filter(i=>t.indexOf(i.type)>-1)),Bn(e=>e.length>0),zr):JD(this.query,this.afs.schedulers.outsideAngular).pipe(zr)}auditTrail(t){return this.stateChanges(t).pipe(Sg((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=r8(t);return i8(this.query,e,this.afs.schedulers.outsideAngular).pipe(zr)}valueChanges(t={}){return tN(this.query,this.afs.schedulers.outsideAngular).pipe(Je(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),zr)}get(t){return de(this.query.get(t)).pipe(zr)}}const o8=new Xe("angularfire2.enableFirestorePersistence"),a8=new Xe("angularfire2.firestore.persistenceSettings"),jve=new Xe("angularfire2.firestore.settings"),Wve=new Xe("angularfire2.firestore.use-emulator");function l8(n,t=(e=>e)){return{query:t(n),ref:n}}let Gve=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,s,o,c,u,f,_,C,S,R,L,z,j,ee,K){this.schedulers=u;const ie=dy(e,c,i),ue=_;C&&Hk(ie,c,S,L,z,j,R,ee),[this.firestore,this.persistenceEnabled$]=GC(`${ie.name}.firestore`,"AngularFirestore",ie.name,()=>{const Te=c.runOutsideAngular(()=>ie.firestore());if(s&&Te.settings(s),ue&&Te.useEmulator(...ue),r&&!FC(o)){const We=()=>{try{return de(Te.enablePersistence(f||void 0).then(()=>!0,()=>!1))}catch(dt){return typeof console<"u"&&console.warn(dt),Pe(!1)}};return[Te,c.runOutsideAngular(We)]}return[Te,Pe(!1)]},[s,ue,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:o}=l8(r,i),c=this.schedulers.ngZone.run(()=>s);return new s8(c,o,this)}collectionGroup(e,i){const r=i||(o=>o),s=this.firestore.collectionGroup(e);return new Uve(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new n8(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(ce(Dg),ce(Ig,8),ce(o8,8),ce(jve,8),ce(po),ce(at),ce(WC),ce(a8,8),ce(Wve,8),ce(Tg,8),ce(Nk,8),ce(Fk,8),ce(Lk,8),ce(Vk,8),ce(Bk,8),ce(zk,8),ce(jC,8))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),$ve=(()=>{class n{constructor(){pa.Z.registerVersion("angularfire",wg.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:o8,useValue:!0},{provide:a8,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rt({type:n});static \u0275inj=Ae({providers:[Gve]})}return n})();function c8(n,t=Xd){return ke((e,i)=>{let r=null,s=null,o=null;const c=()=>{if(r){r.unsubscribe(),r=null;const f=s;s=null,i.next(f)}};function u(){const f=o+n,_=t.now();if(_<f)return r=this.schedule(void 0,f-_),void i.add(r);c()}e.subscribe(lt(i,f=>{s=f,o=t.now(),r||(r=t.schedule(u,n),i.add(r))},()=>{c(),i.complete()},void 0,()=>{s=r=null}))})}const d8="firebasestorage.googleapis.com",u8="storageBucket";class _r extends Q.ZR{constructor(t,e,i=0){super(iN(t),`Firebase Storage: ${e} (${iN(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_r.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return iN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var dr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(dr||{});function iN(n){return"storage/"+n}function rN(){return new _r(dr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function h8(){return new _r(dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f8(){return new _r(dr.CANCELED,"User canceled the upload/download.")}function p8(){return new _r(dr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Rm(n){return new _r(dr.INVALID_ARGUMENT,n)}function g8(){return new _r(dr.APP_DELETED,"The Firebase app was deleted.")}function m8(n){return new _r(dr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qb(n,t){return new _r(dr.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Jb(n){throw new _r(dr.INTERNAL_ERROR,"Internal error: "+n)}class ro{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=ro.makeFromUrl(t,e)}catch{return new ro(t,"")}if(""===i.path)return i;throw function nye(n){return new _r(dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+r+"(/(.*))?$","i");function f(ue){ue.path_=decodeURIComponent(ue.path)}const C=e.replace(/[.]/g,"\\."),ie=[{regex:c,indices:{bucket:1,path:3},postModify:function s(ue){"/"===ue.path.charAt(ue.path.length-1)&&(ue.path_=ue.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${C}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:f},{regex:new RegExp(`^https?://${e===d8?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:f}];for(let ue=0;ue<ie.length;ue++){const Te=ie[ue],We=Te.regex.exec(t);if(We){let ct=We[Te.indices.path];ct||(ct=""),i=new ro(We[Te.indices.bucket],ct),Te.postModify(i);break}}if(null==i)throw function tye(n){return new _r(dr.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class aye{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function e1(n){return"string"==typeof n||n instanceof String}function _8(n){return sN()&&n instanceof Blob}function sN(){return typeof Blob<"u"&&!(0,Q.UG)()}function oN(n,t,e,i){if(i<t)throw Rm(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Rm(`Invalid value for '${n}'. Expected ${e} or less.`)}function Jc(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function v8(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Pm=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Pm||{});function y8(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class fye{constructor(t,e,i,r,s,o,c,u,f,_,C,S=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=_,this.connectionFactory_=C,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,L)=>{this.resolve_=R,this.reject_=L,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());!function dye(n){return void 0!==n}(u)?s():s(u)}catch(u){o(u)}else if(null!==c){const u=rN();u.serverResponse=c.getErrorText(),o(this.errorCallback_?this.errorCallback_(c,u):u)}else o(r.canceled?this.appDelete_?g8():f8():h8())};this.canceled_?e(0,new t1(!1,null,!0)):this.backoffId_=function lye(n,t,e){let i=1,r=null,s=null,o=!1,c=0;function u(){return 2===c}let f=!1;function _(...j){f||(f=!0,t.apply(null,j))}function C(j){r=setTimeout(()=>{r=null,n(R,u())},j)}function S(){s&&clearTimeout(s)}function R(j,...ee){if(f)return void S();if(j)return S(),void _.call(null,j,...ee);if(u()||o)return S(),void _.call(null,j,...ee);let ie;i<64&&(i*=2),1===c?(c=2,ie=0):ie=1e3*(i+Math.random()),C(ie)}let L=!1;function z(j){L||(L=!0,S(),!f&&(null!==r?(j||(c=2),clearTimeout(r),C(0)):j||(c=1)))}return C(0),s=setTimeout(()=>{o=!0,z(!0)},e),z}((i,r)=>{if(r)return void i(!1,new t1(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===Pm.NO_ERROR,u=s.getStatus();if(!c||y8(u,this.additionalRetryCodes_)&&this.retry){const _=s.getErrorCode()===Pm.ABORT;return void i(!1,new t1(!1,null,_))}const f=-1!==this.successCodes_.indexOf(u);i(!0,new t1(f,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function cye(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class t1{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function bye(...n){const t=function yye(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(sN())return new Blob(n);throw new _r(dr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const xa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class aN{constructor(t,e){this.data=t,this.contentType=e||null}}function lN(n,t){switch(n){case xa.RAW:return new aN(b8(t));case xa.BASE64:case xa.BASE64URL:return new aN(x8(n,t));case xa.DATA_URL:return new aN(function Eye(n){const t=new w8(n);return t.base64?x8(xa.BASE64,t.rest):function Cye(n){let t;try{t=decodeURIComponent(n)}catch{throw Qb(xa.DATA_URL,"Malformed data URL.")}return b8(t)}(t.rest)}(t),function Dye(n){return new w8(n).contentType}(t))}throw rN()}function b8(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function x8(n,t){switch(n){case xa.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw Qb(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case xa.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw Qb(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function wye(n){if(typeof atob>"u")throw function oye(n){return new _r(dr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:Qb(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class w8{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Qb(xa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Iye(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class mc{constructor(t,e){let i=0,r="";_8(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(_8(this.data_)){const r=function xye(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new mc(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new mc(i,!0)}}static getBlob(...t){if(sN()){const e=t.map(i=>i instanceof mc?i.data_:i);return new mc(bye.apply(null,e))}{const e=t.map(o=>e1(o)?lN(xa.RAW,o).data:o.data_);let i=0;e.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(o=>{for(let c=0;c<o.length;c++)r[s++]=o[c]}),new mc(r,!0)}}uploadData(){return this.data_}}function cN(n){let t;try{t=JSON.parse(n)}catch{return null}return function hye(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function C8(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Aye(n,t){return t}class To{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Aye}}let n1=null;function e0(){if(n1)return n1;const n=[];n.push(new To("bucket")),n.push(new To("generation")),n.push(new To("metageneration")),n.push(new To("name","fullPath",!0));const e=new To("name");e.xform=function t(s,o){return function kye(n){return!e1(n)||n.length<2?n:C8(n)}(o)},n.push(e);const r=new To("size");return r.xform=function i(s,o){return void 0!==o?Number(o):o},n.push(r),n.push(new To("timeCreated")),n.push(new To("updated")),n.push(new To("md5Hash",null,!0)),n.push(new To("cacheControl",null,!0)),n.push(new To("contentDisposition",null,!0)),n.push(new To("contentEncoding",null,!0)),n.push(new To("contentLanguage",null,!0)),n.push(new To("contentType",null,!0)),n.push(new To("metadata","customMetadata",!0)),n1=n,n1}function E8(n,t,e){const i=cN(t);return null===i?null:function Rye(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const o=e[s];i[o.local]=o.xform(i,t[o.server])}return function Mye(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new ro(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function dN(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const D8="prefixes",I8="items";class _c{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vc(n){if(!n)throw rN()}function r1(n,t){return function e(i,r){const s=E8(n,r,t);return vc(null!==s),s}}function Om(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Jve(){return new _r(dr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Qve(){return new _r(dr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Kve(n){return new _r(dr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function eye(n){return new _r(dr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function t0(n){const t=Om(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function Zve(n){return new _r(dr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function T8(n,t,e){const r=Jc(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new _c(r,"GET",r1(n,e),o);return c.errorHandler=t0(t),c}function Vye(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const c=Jc(t.bucketOnlyServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,_=new _c(c,"GET",function Fye(n,t){return function e(i,r){const s=function Nye(n,t,e){const i=cN(e);return null===i?null:function Oye(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[D8])for(const r of e[D8]){const s=r.replace(/\/$/,""),o=n._makeStorageReference(new ro(t,s));i.prefixes.push(o)}if(e[I8])for(const r of e[I8]){const s=n._makeStorageReference(new ro(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return vc(null!==s),s}}(n,t.bucket),f);return _.urlParams=s,_.errorHandler=Om(t),_}function A8(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function Uye(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class s1{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function uN(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{vc(!1)}return vc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const $ye={STATE_CHANGED:"state_changed"},So={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hN(n){switch(n){case"running":case"pausing":case"canceling":return So.RUNNING;case"paused":return So.PAUSED;case"success":return So.SUCCESS;case"canceled":return So.CANCELED;default:return So.ERROR}}class Yye{constructor(t,e,i){if(function uye(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Nm(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let R8=null;class qye{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pm.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pm.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pm.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Jb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class Xye extends qye{initXhr(){this.xhr_.responseType="text"}}function Tl(){return R8?R8():new Xye}class P8{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=e0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(dr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(y8(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=h8()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(dr.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function jye(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o=A8(t,i,r),c={name:o.fullPath},u=Jc(s,n.host,n._protocol),_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},C=dN(o,e),L=new _c(u,"POST",function R(z){let j;uN(z);try{j=z.getResponseHeader("X-Goog-Upload-URL")}catch{vc(!1)}return vc(e1(j)),j},n.maxUploadRetryTime);return L.urlParams=c,L.headers=_,L.body=C,L.errorHandler=Om(t),L}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Tl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function Wye(n,t,e,i){const u=new _c(e,"POST",function s(f){const _=uN(f,["active","final"]);let C=null;try{C=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vc(!1)}C||vc(!1);const S=Number(C);return vc(!isNaN(S)),new s1(S,i.size(),"final"===_)},n.maxUploadRetryTime);return u.headers={"X-Goog-Upload-Command":"query"},u.errorHandler=Om(t),u}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Tl,e,i);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new s1(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=function Gye(n,t,e,i,r,s,o,c){const u=new s1(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=i.size()),i.size()!==u.total)throw function rye(){return new _r(dr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const f=u.total-u.current;let _=f;r>0&&(_=Math.min(_,r));const C=u.current;let R="";R=0===_?"finalize":f===_?"upload, finalize":"upload";const L={"X-Goog-Upload-Command":R,"X-Goog-Upload-Offset":`${u.current}`},z=i.slice(C,C+_);if(null===z)throw p8();const ie=new _c(e,"POST",function j(ue,Te){const We=uN(ue,["active","final"]),dt=u.current+_,ct=i.size();let wt;return wt="final"===We?r1(t,s)(ue,Te):null,new s1(dt,ct,"final"===We,wt)},t.maxUploadRetryTime);return ie.headers=L,ie.body=z.uploadData(),ie.progressCallback=c||null,ie.errorHandler=Om(n),ie}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(u){return this._error=u,void this._transition("error")}const c=this._ref.storage._makeRequest(o,Tl,r,s,!1);this._request=c,c.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=T8(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Tl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function k8(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},u=function c(){let ie="";for(let ue=0;ue<2;ue++)ie+=Math.random().toString().slice(2);return ie}();o["Content-Type"]="multipart/related; boundary="+u;const f=A8(t,i,r),_=dN(f,e),R=mc.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_+"\r\n--"+u+"\r\nContent-Type: "+f.contentType+"\r\n\r\n",i,"\r\n--"+u+"--");if(null===R)throw p8();const L={name:f.fullPath},z=Jc(s,n.host,n._protocol),ee=n.maxUploadRetryTime,K=new _c(z,"POST",r1(n,e),ee);return K.urlParams=L,K.headers=o,K.body=R.uploadData(),K.errorHandler=Om(t),K}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Tl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=f8(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=hN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new Yye(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(hN(this._state)){case So.SUCCESS:Nm(this._resolve.bind(null,this.snapshot))();break;case So.CANCELED:case So.ERROR:Nm(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(hN(this._state)){case So.RUNNING:case So.PAUSED:t.next&&Nm(t.next.bind(t,this.snapshot))();break;case So.SUCCESS:t.complete&&Nm(t.complete.bind(t))();break;default:t.error&&Nm(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class bf{constructor(t,e){this._service=t,this._location=e instanceof ro?e:ro.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new bf(t,e)}get root(){const t=new ro(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return C8(this._location.path)}get storage(){return this._service}get parent(){const t=function Tye(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new ro(this._location.bucket,t);return new bf(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw m8(t)}}function N8(n,t,e){return fN.apply(this,arguments)}function fN(){return fN=(0,$e.Z)(function*(n,t,e){const r=yield F8(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield N8(n,t,r.nextPageToken))}),fN.apply(this,arguments)}function F8(n,t){null!=t&&"number"==typeof t.maxResults&&oN("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Vye(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Tl)}function abe(n){n._throwIfRoot("getDownloadURL");const t=function Bye(n,t,e){const r=Jc(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new _c(r,"GET",function Lye(n,t){return function e(i,r){const s=E8(n,r,t);return vc(null!==s),function Pye(n,t,e,i){const r=cN(t);if(null===r||!e1(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(f=>{const C=n.fullPath;return Jc("/b/"+o(n.bucket)+"/o/"+o(C),e,i)+v8({alt:"media",token:f})})[0]}(s,r,n.host,n._protocol)}}(n,e),o);return c.errorHandler=t0(t),c}(n.storage,n._location,e0());return n.storage.makeRequestWithTokens(t,Tl).then(e=>{if(null===e)throw function sye(){return new _r(dr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function L8(n,t){const e=function Sye(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new ro(n._location.bucket,e);return new bf(n.storage,i)}function V8(n,t){if(n instanceof pN){const e=n;if(null==e._bucket)throw function iye(){return new _r(dr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+u8+"' property when initializing the app?")}();const i=new bf(e,e._bucket);return null!=t?V8(i,t):i}return void 0!==t?L8(n,t):n}function ube(n,t){if(t&&function cbe(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof pN)return function dbe(n,t){return new bf(n,t)}(n,t);throw Rm("To use ref(service, url), the first argument must be a Storage instance.")}return V8(n,t)}function B8(n,t){const e=t?.[u8];return null==e?null:ro.makeFromBucketSpec(e,n)}class pN{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=d8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ro.makeFromBucketSpec(r,this._host):B8(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?ro.makeFromBucketSpec(this._url,t):B8(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){oN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){oN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,$e.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,$e.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new bf(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new aye(g8());{const o=function vye(n,t,e,i,r,s,o=!0){const c=v8(n.urlParams),u=n.url+c,f=Object.assign({},n.headers);return function mye(n,t){t&&(n["X-Firebase-GMPID"]=t)}(f,t),function pye(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(f,e),function gye(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(f,s),function _ye(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(f,i),new fye(u,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,$e.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const z8="@firebase/storage";function j8(n,t){return ube(n=(0,Q.m9)(n),t)}function xbe(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new pN(e,i,r,t,jo.SDK_VERSION)}!function wbe(){(0,jo._registerComponent)(new vl.wA("storage",xbe,"PUBLIC").setMultipleInstances(!0)),(0,jo.registerVersion)(z8,"0.11.2",""),(0,jo.registerVersion)(z8,"0.11.2","esm2017")}();class o1{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class G8{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new o1(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new o1(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?o=>e(new o1(o,this,this._ref)):{next:e.next?o=>e.next(new o1(o,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class $8{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new ed(t,this._service))}get items(){return this._delegate.items.map(t=>new ed(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ed{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function bbe(n,t){return L8(n,t)}(this._delegate,t);return new ed(e,this.storage)}get root(){return new ed(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new ed(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new G8(function fbe(n,t,e){return function nbe(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new P8(n,new mc(t),e)}(n=(0,Q.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=xa.RAW,i){this._throwIfRoot("putString");const r=lN(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new G8(new P8(this._delegate,new mc(r.data,!0),s),this)}listAll(){return function _be(n){return function rbe(n){const t={prefixes:[],items:[]};return N8(n,t).then(()=>t)}(n=(0,Q.m9)(n))}(this._delegate).then(t=>new $8(t,this.storage))}list(t){return function mbe(n,t){return F8(n=(0,Q.m9)(n),t)}(this._delegate,t||void 0).then(e=>new $8(e,this.storage))}getMetadata(){return function pbe(n){return function sbe(n){n._throwIfRoot("getMetadata");const t=T8(n.storage,n._location,e0());return n.storage.makeRequestWithTokens(t,Tl)}(n=(0,Q.m9)(n))}(this._delegate)}updateMetadata(t){return function gbe(n,t){return function obe(n,t){n._throwIfRoot("updateMetadata");const e=function zye(n,t,e,i){const s=Jc(t.fullServerUrl(),n.host,n._protocol),c=dN(e,i),f=n.maxOperationRetryTime,_=new _c(s,"PATCH",r1(n,i),f);return _.headers={"Content-Type":"application/json; charset=utf-8"},_.body=c,_.errorHandler=t0(t),_}(n.storage,n._location,t,e0());return n.storage.makeRequestWithTokens(e,Tl)}(n=(0,Q.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function vbe(n){return abe(n=(0,Q.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ybe(n){return function lbe(n){n._throwIfRoot("deleteObject");const t=function Hye(n,t){const i=Jc(t.fullServerUrl(),n.host,n._protocol),c=new _c(i,"DELETE",function o(u,f){},n.maxOperationRetryTime);return c.successCodes=[200,204],c.errorHandler=t0(t),c}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Tl)}(n=(0,Q.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw m8(t)}}class Y8{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(q8(t))throw Rm("ref() expected a child path but got a URL, use refFromURL instead.");return new ed(j8(this._delegate,t),this)}refFromURL(t){if(!q8(t))throw Rm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ro.makeFromUrl(t,this._delegate.host)}catch{throw Rm("refFromUrl() expected a valid full URL but got an invalid one.")}return new ed(j8(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function W8(n,t,e,i={}){!function hbe(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Q.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function q8(n){return/^[A-Za-z]+:\/\//.test(n)}function Ibe(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new Y8(e,i)}function X8(n){const t=function Sbe(n){return new zt(t=>{const e=o=>t.next(o);e(n.snapshot);const s=n.on("state_changed",e);return n.then(o=>{e(o),t.complete()},o=>{e(n.snapshot),(o=>{t.error(o)})(o)}),function(){s()}}).pipe(c8(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(Je(e=>e.bytesTransferred/e.totalBytes*100))}}function a1(n){return{getDownloadURL:()=>Pe(void 0).pipe(Bj,tn(()=>n.getDownloadURL()),zr),getMetadata:()=>Pe(void 0).pipe(Bj,tn(()=>n.getMetadata()),zr),delete:()=>de(n.delete()),child:t=>a1(n.child(t)),updateMetadata:t=>de(n.updateMetadata(t)),put:(t,e)=>X8(n.put(t,e)),putString:(t,e,i)=>X8(n.putString(t,e,i)),list:t=>de(n.list(t)),listAll:()=>de(n.listAll())}}!function Tbe(n){const t={TaskState:So,TaskEvent:$ye,StringFormat:xa,Storage:Y8,Reference:ed};n.INTERNAL.registerComponent(new vl.wA("storage-compat",Ibe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(pa.Z);const Abe=new Xe("angularfire2.storageBucket"),kbe=new Xe("angularfire2.storage.maxUploadRetryTime"),Mbe=new Xe("angularfire2.storage.maxOperationRetryTime"),Rbe=new Xe("angularfire2.storage.use-emulator");let Pbe=(()=>{class n{storage;constructor(e,i,r,s,o,c,u,f,_,C){const S=dy(e,o,i);this.storage=GC(`${S.name}.storage.${r}`,"AngularFireStorage",S.name,()=>{const R=o.runOutsideAngular(()=>S.storage(r||void 0)),L=_;return L&&R.useEmulator(...L),u&&R.setMaxUploadRetryTime(u),f&&R.setMaxOperationRetryTime(f),R},[u,f])}ref(e){return a1(this.storage.ref(e))}refFromURL(e){return a1(this.storage.refFromURL(e))}upload(e,i,r){return a1(this.storage.ref(e)).put(i,r)}static \u0275fac=function(i){return new(i||n)(ce(Dg),ce(Ig,8),ce(Abe,8),ce(po),ce(at),ce(WC),ce(kbe,8),ce(Mbe,8),ce(Rbe,8),ce(jC,8))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Obe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rt({type:n});static \u0275inj=Ae({})}return n})(),Nbe=(()=>{class n{constructor(){pa.Z.registerVersion("angularfire",wg.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rt({type:n});static \u0275inj=Ae({providers:[Pbe],imports:[Obe]})}return n})();const Fbe_firebase={apiKey:"AIzaSyDZMfeKR9MBcMxMHIf9uJ79ypwh1PdLqnc",authDomain:"petguardian-mobile.firebaseapp.com",projectId:"petguardian-mobile",storageBucket:"petguardian-mobile.appspot.com",messagingSenderId:"804674385941",appId:"1:804674385941:web:09008f5ce221d66a34761c",measurementId:"G-GL45SM7ZE6"};let gN,Lbe=1;const l1={};function Z8(n){return n in l1&&(delete l1[n],!0)}const Vbe={setImmediate(n){const t=Lbe++;return l1[t]=!0,gN||(gN=Promise.resolve()),gN.then(()=>Z8(t)&&n()),t},clearImmediate(n){Z8(n)}},{setImmediate:Bbe,clearImmediate:zbe}=Vbe,c1={setImmediate(...n){const{delegate:t}=c1;return(t?.setImmediate||Bbe)(...n)},clearImmediate(n){const{delegate:t}=c1;return(t?.clearImmediate||zbe)(n)},delegate:void 0},K8=new class Ube extends UC{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Hbe extends HC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=c1.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(c1.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var Q8=en(54);const jbe=["chart"];let J8=(()=>{class n{constructor(e){this.ngZone=e,this.autoUpdateSeries=!0}ngOnChanges(e){K8.schedule(()=>{this.autoUpdateSeries&&0===Object.keys(e).filter(i=>"series"!==i).length?this.updateSeries(this.series,!0):this.createElement()})}ngOnDestroy(){this.chartObj&&this.chartObj.destroy()}createElement(){const e={};this.annotations&&(e.annotations=this.annotations),this.chart&&(e.chart=this.chart),this.colors&&(e.colors=this.colors),this.dataLabels&&(e.dataLabels=this.dataLabels),this.series&&(e.series=this.series),this.stroke&&(e.stroke=this.stroke),this.labels&&(e.labels=this.labels),this.legend&&(e.legend=this.legend),this.fill&&(e.fill=this.fill),this.tooltip&&(e.tooltip=this.tooltip),this.plotOptions&&(e.plotOptions=this.plotOptions),this.responsive&&(e.responsive=this.responsive),this.markers&&(e.markers=this.markers),this.noData&&(e.noData=this.noData),this.xaxis&&(e.xaxis=this.xaxis),this.yaxis&&(e.yaxis=this.yaxis),this.forecastDataPoints&&(e.forecastDataPoints=this.forecastDataPoints),this.grid&&(e.grid=this.grid),this.states&&(e.states=this.states),this.title&&(e.title=this.title),this.subtitle&&(e.subtitle=this.subtitle),this.theme&&(e.theme=this.theme),this.chartObj&&this.chartObj.destroy(),this.ngZone.runOutsideAngular(()=>{this.chartObj=new Q8(this.chartElement.nativeElement,e)}),this.render()}render(){return this.ngZone.runOutsideAngular(()=>this.chartObj.render())}updateOptions(e,i,r,s){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateOptions(e,i,r,s))}updateSeries(e,i){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateSeries(e,i))}appendSeries(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.appendSeries(e,i))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartObj.appendData(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartObj.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartObj.resetSeries())}zoomX(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.zoomX(e,i))}toggleDataPointSelection(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.toggleDataPointSelection(e,i))}destroy(){this.chartObj.destroy()}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartObj.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartObj.paper())}addXaxisAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addXaxisAnnotation(e,i,r))}addYaxisAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addYaxisAnnotation(e,i,r))}addPointAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addPointAnnotation(e,i,r))}removeAnnotation(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.removeAnnotation(e,i))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartObj.clearAnnotations(e))}dataURI(e){return this.chartObj.dataURI(e)}}return n.\u0275fac=function(e){return new(e||n)($(at))},n.\u0275cmp=Wt({type:n,selectors:[["apx-chart"]],viewQuery:function(e,i){if(1&e&&Ji(jbe,7),2&e){let r;Xt(r=Zt())&&(i.chartElement=r.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",forecastDataPoints:"forecastDataPoints",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},features:[Nn],decls:2,vars:0,consts:[["chart",""]],template:function(e,i){1&e&&ut(0,"div",null,0)},encapsulation:2,changeDetection:0}),n})();window.ApexCharts=Q8;let Wbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=Ae({}),n})();const{isArray:$be}=Array,{getPrototypeOf:Ybe,prototype:qbe,keys:Xbe}=Object;function e6(n){if(1===n.length){const t=n[0];if($be(t))return{args:t,keys:null};if(function Zbe(n){return n&&"object"==typeof n&&Ybe(n)===qbe}(t)){const e=Xbe(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Kbe}=Array;function mN(n){return Je(t=>function Qbe(n,t){return Kbe(t)?n(...t):n(t)}(n,t))}function t6(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Sl(...n){const t=Aa(n),e=No(n),{args:i,keys:r}=e6(n);if(0===i.length)return de([],t);const s=new zt(function Jbe(n,t,e=mn){return i=>{n6(t,()=>{const{length:r}=n,s=new Array(r);let o=r,c=r;for(let u=0;u<r;u++)n6(t,()=>{const f=de(n[u],t);let _=!1;f.subscribe(lt(i,C=>{s[u]=C,_||(_=!0,c--),c||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>t6(r,o):mn));return e?s.pipe(mN(e)):s}function n6(n,t,e){n?Xi(e,n,t):t()}function i6(n){return new zt(t=>{ht(n()).subscribe(t)})}function n0(n,t){const e=J(n)?n:()=>n,i=r=>r.error(e());return new zt(t?r=>t.schedule(i,0,r):i)}function _N(){return ke((n,t)=>{let e=null;n._refCount++;const i=lt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class r6 extends zt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Qe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ue;const e=this.getSubject();t.add(this.source.subscribe(lt(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ue.EMPTY)}return t}refCount(){return _N()(this)}}function Fm(n,t){return J(t)?On(n,t,1):On(n,1)}function xf(n){return ke((t,e)=>{let s,i=null,r=!1;i=t.subscribe(lt(e,void 0,void 0,o=>{s=ht(n(o,xf(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function d1(n){return n<=0?()=>oi:ke((t,e)=>{let i=[];t.subscribe(lt(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function r0(n){return ke((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Qt(n){return ke((t,e)=>{ht(n).subscribe(lt(e,()=>e.complete(),Tt)),!e.closed&&t.subscribe(e)})}const Cn="primary",s0=Symbol("RouteTitle");class t0e{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Lm(n){return new t0e(n)}function n0e(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],c=n[s];if(o.startsWith(":"))r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function yc(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!o6(n[r],t[r]))return!1;return!0}function o6(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function a6(n){return n.length>0?n[n.length-1]:null}function ku(n){return function Gbe(n){return!!n&&(n instanceof zt||J(n.lift)&&J(n.subscribe))}(n)?n:Wv(n)?de(Promise.resolve(n)):Pe(n)}const r0e={exact:function d6(n,t,e){if(!wf(n.segments,t.segments)||!u1(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!d6(n.children[i],t.children[i],e))return!1;return!0},subset:u6},l6={exact:function s0e(n,t){return yc(n,t)},subset:function o0e(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>o6(n[e],t[e]))},ignored:()=>!0};function c6(n,t,e){return r0e[e.paths](n.root,t.root,e.matrixParams)&&l6[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function u6(n,t,e){return h6(n,t,t.segments,e)}function h6(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!wf(r,e)||t.hasChildren()||!u1(r,e,i))}if(n.segments.length===e.length){if(!wf(n.segments,e)||!u1(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!u6(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(wf(n.segments,r)&&u1(n.segments,r,i)&&n.children[Cn])&&h6(n.children[Cn],t,s,i)}}function u1(n,t,e){return t.every((i,r)=>l6[e](n[r].parameters,i.parameters))}class Vm{constructor(t=new Ti([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lm(this.queryParams)),this._queryParamMap}toString(){return c0e.serialize(this)}}class Ti{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return h1(this)}}class o0{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Lm(this.parameters)),this._parameterMap}toString(){return g6(this)}}function wf(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let a0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:function(){return new vN},providedIn:"root"})}return n})();class vN{parse(t){const e=new b0e(t);return new Vm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${l0(t.root,!0)}`,i=function h0e(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${f1(e)}=${f1(r)}`).join("&"):`${f1(e)}=${f1(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function d0e(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const c0e=new vN;function h1(n){return n.segments.map(t=>g6(t)).join("/")}function l0(n,t){if(!n.hasChildren())return h1(n);if(t){const e=n.children[Cn]?l0(n.children[Cn],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Cn&&i.push(`${r}:${l0(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function l0e(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Cn&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Cn&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Cn?[l0(n.children[Cn],!1)]:[`${r}:${l0(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Cn]?`${h1(n)}/${e[0]}`:`${h1(n)}/(${e.join("//")})`}}function f6(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function f1(n){return f6(n).replace(/%3B/gi,";")}function yN(n){return f6(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function p1(n){return decodeURIComponent(n)}function p6(n){return p1(n.replace(/\+/g,"%20"))}function g6(n){return`${yN(n.path)}${function u0e(n){return Object.keys(n).map(t=>`;${yN(t)}=${yN(n[t])}`).join("")}(n.parameters)}`}const f0e=/^[^\/()?;#]+/;function bN(n){const t=n.match(f0e);return t?t[0]:""}const p0e=/^[^\/()?;=#]+/,m0e=/^[^=?&#]+/,v0e=/^[^&#]+/;class b0e{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ti([],{}):new Ti([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Cn]=new Ti(t,e)),i}parseSegment(){const t=bN(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l(4009,!1);return this.capture(t),new o0(p1(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function g0e(n){const t=n.match(p0e);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=bN(this.remaining);r&&(i=r,this.capture(i))}t[p1(e)]=p1(i)}parseQueryParam(t){const e=function _0e(n){const t=n.match(m0e);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function y0e(n){const t=n.match(v0e);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=p6(e),s=p6(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=bN(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Cn);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Cn]:new Ti([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l(4011,!1)}}function m6(n){return n.segments.length>0?new Ti([],{[Cn]:n}):n}function _6(n){const t={};for(const i of Object.keys(n.children)){const s=_6(n.children[i]);if(i===Cn&&0===s.segments.length&&s.hasChildren())for(const[o,c]of Object.entries(s.children))t[o]=c;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function x0e(n){if(1===n.numberOfChildren&&n.children[Cn]){const t=n.children[Cn];return new Ti(n.segments.concat(t.segments),t.children)}return n}(new Ti(n.segments,t))}function Cf(n){return n instanceof Vm}function v6(n){let t;const r=m6(function e(s){const o={};for(const u of s.children){const f=e(u);o[u.outlet]=f}const c=new Ti(s.url,o);return s===n&&(t=c),c}(n.root));return t??r}function y6(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return xN(r,r,r,e,i);const s=function C0e(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new x6(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Object.entries(s.outlets).forEach(([u,f])=>{c[u]="string"==typeof f?f.split("/"):f}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?e=!0:".."===c?t++:""!=c&&r.push(c))}),r):[...r,s]},[]);return new x6(e,t,i)}(t);if(s.toRoot())return xN(r,r,new Ti([],{}),e,i);const o=function E0e(n,t,e){if(n.isAbsolute)return new m1(t,!0,0);if(!e)return new m1(t,!1,NaN);if(null===e.parent)return new m1(e,!0,0);const i=g1(n.commands[0])?0:1;return function D0e(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l(4005,!1);r=i.segments.length}return new m1(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),c=o.processChildren?d0(o.segmentGroup,o.index,s.commands):w6(o.segmentGroup,o.index,s.commands);return xN(r,o.segmentGroup,c,e,i)}function g1(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function c0(n){return"object"==typeof n&&null!=n&&n.outlets}function xN(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([u,f])=>{s[u]=Array.isArray(f)?f.map(_=>`${_}`):`${f}`}),o=n===t?e:b6(n,t,e);const c=m6(_6(o));return new Vm(c,s,r)}function b6(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:b6(s,t,e)}),new Ti(n.segments,i)}class x6{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&g1(i[0]))throw new l(4003,!1);const r=i.find(c0);if(r&&r!==a6(i))throw new l(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class m1{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function w6(n,t,e){if(n||(n=new Ti([],{})),0===n.segments.length&&n.hasChildren())return d0(n,t,e);const i=function T0e(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],c=e[i];if(c0(c))break;const u=`${c}`,f=i<e.length-1?e[i+1]:null;if(r>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!E6(u,f,o))return s;i+=2}else{if(!E6(u,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Ti(n.segments.slice(0,i.pathIndex),{});return s.children[Cn]=new Ti(n.segments.slice(i.pathIndex),n.children),d0(s,0,r)}return i.match&&0===r.length?new Ti(n.segments,{}):i.match&&!n.hasChildren()?wN(n,t,e):i.match?d0(n,0,r):wN(n,t,e)}function d0(n,t,e){if(0===e.length)return new Ti(n.segments,{});{const i=function I0e(n){return c0(n[0])?n[0].outlets:{[Cn]:n}}(e),r={};if(Object.keys(i).some(s=>s!==Cn)&&n.children[Cn]&&1===n.numberOfChildren&&0===n.children[Cn].segments.length){const s=d0(n.children[Cn],t,e);return new Ti(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=w6(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Ti(n.segments,r)}}function wN(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(c0(s)){const u=S0e(s.outlets);return new Ti(i,u)}if(0===r&&g1(e[0])){i.push(new o0(n.segments[t].path,C6(e[0]))),r++;continue}const o=c0(s)?s.outlets[Cn]:`${s}`,c=r<e.length-1?e[r+1]:null;o&&c&&g1(c)?(i.push(new o0(o,C6(c))),r+=2):(i.push(new o0(o,{})),r++)}return new Ti(i,{})}function S0e(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=wN(new Ti([],{}),0,i))}),t}function C6(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function E6(n,t,e){return n==e.path&&yc(t,e.parameters)}const u0="imperative";class bc{constructor(t,e){this.id=t,this.url=e}}class _1 extends bc{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mu extends bc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class h0 extends bc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bm extends bc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class v1 extends bc{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class D6 extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class A0e extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k0e extends bc{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class M0e extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R0e extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P0e{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class O0e{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class N0e{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F0e{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L0e{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V0e{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I6{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class CN{}class EN{constructor(t){this.url=t}}class B0e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new f0,this.attachRef=null}}let f0=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new B0e,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class T6{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=DN(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=DN(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=IN(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return IN(t,this._root).map(e=>e.value)}}function DN(n,t){if(n===t.value)return t;for(const e of t.children){const i=DN(n,e);if(i)return i}return null}function IN(n,t){if(n===t.value)return[t];for(const e of t.children){const i=IN(n,e);if(i.length)return i.unshift(t),i}return[]}class td{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function zm(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class S6 extends T6{constructor(t,e){super(t),this.snapshot=e,TN(this,t)}toString(){return this.snapshot.toString()}}function A6(n,t){const e=function z0e(n,t){const o=new y1([],{},{},"",{},Cn,t,null,{});return new M6("",new td(o,[]))}(0,t),i=new be([new o0("",{})]),r=new be({}),s=new be({}),o=new be({}),c=new be(""),u=new Hm(i,r,o,c,s,Cn,t,e.root);return u.snapshot=e.root,new S6(new td(u,[]),e)}class Hm{constructor(t,e,i,r,s,o,c,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Je(f=>f[s0]))??Pe(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Je(t=>Lm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Je(t=>Lm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function k6(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function H0e(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class y1{get title(){return this.data?.[s0]}constructor(t,e,i,r,s,o,c,u,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class M6 extends T6{constructor(t,e){super(e),this.url=t,TN(this,e)}toString(){return R6(this._root)}}function TN(n,t){t.value._routerState=n,t.children.forEach(e=>TN(n,e))}function R6(n){const t=n.children.length>0?` { ${n.children.map(R6).join(", ")} } `:"";return`${n.value}${t}`}function SN(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,yc(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),yc(t.params,e.params)||n.paramsSubject.next(e.params),function i0e(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!yc(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),yc(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function AN(n,t){const e=yc(n.params,t.params)&&function a0e(n,t){return wf(n,t)&&n.every((e,i)=>yc(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||AN(n.parent,t.parent))}let kN=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Cn,this.activateEvents=new Be,this.deactivateEvents=new Be,this.attachEvents=new Be,this.detachEvents=new Be,this.parentContexts=Ze(f0),this.location=Ze(Zs),this.changeDetector=Ze(Lr),this.environmentInjector=Ze(fo),this.inputBinder=Ze(b1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new U0e(e,c,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nn]})}return n})();class U0e{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Hm?this.route:t===f0?this.childContexts:this.parent.get(t,e)}}const b1=new Xe("");let P6=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Sl([i.queryParams,i.params,i.data]).pipe(tn(([s,o,c],u)=>(c={...s,...o,...c},0===u?Pe(c):Promise.resolve(c)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function poe(n){const t=$n(n);if(!t)return null;const e=new Fv(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:c}of o.inputs)e.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function p0(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function W0e(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return p0(n,i,r);return p0(n,i)})}(n,t,e);return new td(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(c=>p0(n,c)),o}}const i=function G0e(n){return new Hm(new be(n.url),new be(n.params),new be(n.queryParams),new be(n.fragment),new be(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>p0(n,s));return new td(i,r)}}const MN="ngNavigationCancelingError";function O6(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Cf(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=N6(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function N6(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[MN]=!0,i.cancellationCode=t,e&&(i.url=e),i}function F6(n){return n&&n[MN]}let L6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Wt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ho],decls:1,vars:0,template:function(i,r){1&i&&ut(0,"router-outlet")},dependencies:[kN],encapsulation:2})}return n})();function RN(n){const t=n.children&&n.children.map(RN),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Cn&&(e.component=L6),e}function Al(n){return n.outlet||Cn}function g0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class J0e{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),SN(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=zm(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=zm(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=zm(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=zm(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new V0e(s.value.snapshot))}),t.children.length&&this.forwardEvent(new F0e(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(SN(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),SN(c.route.value),this.activateChildRoutes(t,null,o.children)}else{const c=g0(r.snapshot);o.attachRef=null,o.route=r,o.injector=c,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class V6{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class x1{constructor(t,e){this.component=t,this.route=e}}function exe(n,t,e){const i=n._root;return m0(i,t?t._root:null,e,[i.value])}function Um(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function nn(n){return null!==mt(n)}(n)?t.get(n):n:i}function m0(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=zm(t);return n.children.forEach(o=>{(function nxe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function ixe(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!wf(n.url,t.url);case"pathParamsOrQueryParamsChange":return!wf(n.url,t.url)||!yc(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!AN(n,t)||!yc(n.queryParams,t.queryParams);default:return!AN(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new V6(i)):(s.data=o.data,s._resolvedData=o._resolvedData),m0(n,t,s.component?c?c.children:null:e,i,r),u&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new x1(c.outlet.component,o))}else o&&_0(t,c,r),r.canActivateChecks.push(new V6(i)),m0(n,null,s.component?c?c.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>_0(c,e.getContext(o),r)),r}function _0(n,t,e){const i=zm(n),r=n.value;Object.entries(i).forEach(([s,o])=>{_0(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new x1(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function v0(n){return"function"==typeof n}function B6(n){return n instanceof $C||"EmptyError"===n?.name}const w1=Symbol("INITIAL_VALUE");function jm(){return tn(n=>Sl(n.map(t=>t.pipe(Kn(1),Cl(w1)))).pipe(Je(t=>{for(const e of t)if(!0!==e){if(e===w1)return w1;if(!1===e||e instanceof Vm)return e}return!0}),Bn(t=>t!==w1),Kn(1)))}function z6(n){return function $r(...n){return ds(n)}(Qr(t=>{if(Cf(t))throw O6(0,t)}),Je(t=>!0===t))}class C1{constructor(t){this.segmentGroup=t||null}}class H6{constructor(t){this.urlTree=t}}function Wm(n){return n0(new C1(n))}function U6(n){return n0(new H6(n))}class Cxe{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new l(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Pe(i);if(r.numberOfChildren>1||!r.children[Cn])return n0(new l(4e3,!1));r=r.children[Cn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Vm(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const c=s.substring(1);i[r]=e[c]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(t,u,i,r)}),new Ti(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new l(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const PN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Exe(n,t,e,i,r){const s=ON(n,t,e);return s.matched?(i=function Y0e(n,t){return n.providers&&!n._injector&&(n._injector=CA(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function bxe(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Pe(r.map(o=>{const c=Um(o,n);return ku(function cxe(n){return n&&v0(n.canMatch)}(c)?c.canMatch(t,e):n.runInContext(()=>c(t,e)))})).pipe(jm(),z6()):Pe(!0)}(i,t,e).pipe(Je(o=>!0===o?s:{...PN}))):Pe(s)}function ON(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...PN}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||n0e)(e,n,t);if(!r)return{...PN};const s={};Object.entries(r.posParams??{}).forEach(([c,u])=>{s[c]=u.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function j6(n,t,e,i){return e.length>0&&function Txe(n,t,e){return e.some(i=>E1(n,t,i)&&Al(i)!==Cn)}(n,e,i)?{segmentGroup:new Ti(t,Ixe(i,new Ti(e,n.children))),slicedSegments:[]}:0===e.length&&function Sxe(n,t,e){return e.some(i=>E1(n,t,i))}(n,e,i)?{segmentGroup:new Ti(n.segments,Dxe(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Ti(n.segments,n.children),slicedSegments:e}}function Dxe(n,t,e,i,r){const s={};for(const o of i)if(E1(n,e,o)&&!r[Al(o)]){const c=new Ti([],{});s[Al(o)]=c}return{...r,...s}}function Ixe(n,t){const e={};e[Cn]=t;for(const i of n)if(""===i.path&&Al(i)!==Cn){const r=new Ti([],{});e[Al(i)]=r}return e}function E1(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Rxe{constructor(t,e,i,r,s,o,c){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new Cxe(this.urlSerializer,this.urlTree)}noMatchError(t){return new l(4002,!1)}recognize(){const t=j6(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Cn).pipe(xf(e=>{if(e instanceof H6)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof C1?this.noMatchError(e):e}),Je(e=>{const i=new y1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Cn,this.rootComponentType,null,{}),r=new td(i,e),s=new M6("",r),o=function w0e(n,t,e=null,i=null){return y6(v6(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Cn).pipe(xf(i=>{throw i instanceof C1?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=k6(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return de(r).pipe(Fm(s=>{const o=i.children[s],c=function K0e(n,t){const e=n.filter(i=>Al(i)===t);return e.push(...n.filter(i=>Al(i)!==t)),e}(e,s);return this.processSegmentGroup(t,c,o,s)}),Sg((s,o)=>(s.push(...o),s)),YC(null),function e0e(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Bn((r,s)=>n(r,s,i)):mn,d1(1),e?YC(t):jj(()=>new $C))}(),On(s=>{if(null===s)return Wm(i);const o=W6(s);return function Pxe(n){n.sort((t,e)=>t.value.outlet===Cn?-1:e.value.outlet===Cn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),Pe(o)}))}processSegment(t,e,i,r,s,o){return de(e).pipe(Fm(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,i,r,s,o).pipe(xf(u=>{if(u instanceof C1)return Pe(null);throw u}))),Zd(c=>!!c),xf(c=>{if(B6(c))return function kxe(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?Pe([]):Wm(i);throw c}))}processSegmentAgainstRoute(t,e,i,r,s,o,c){return function Axe(n,t,e,i){return!!(Al(n)===i||i!==Cn&&E1(t,e,n))&&("**"===n.path||ON(t,n,e).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):Wm(r):Wm(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?U6(s):this.applyRedirects.lineralizeSegments(i,s).pipe(On(o=>{const c=new Ti(o,{});return this.processSegment(t,e,c,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:c,consumedSegments:u,remainingSegments:f,positionalParamSegments:_}=ON(e,r,s);if(!c)return Wm(e);const C=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,_);return r.redirectTo.startsWith("/")?U6(C):this.applyRedirects.lineralizeSegments(r,C).pipe(On(S=>this.processSegment(t,i,e,S.concat(f),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let c;if("**"===i.path){const u=r.length>0?a6(r).parameters:{};c=Pe({snapshot:new y1(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G6(i),Al(i),i.component??i._loadedComponent??null,i,$6(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else c=Exe(e,i,r,t).pipe(Je(({matched:u,consumedSegments:f,remainingSegments:_,parameters:C})=>u?{snapshot:new y1(f,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G6(i),Al(i),i.component??i._loadedComponent??null,i,$6(i)),consumedSegments:f,remainingSegments:_}:null));return c.pipe(tn(u=>null===u?Wm(e):this.getChildConfig(t=i._injector??t,i,r).pipe(tn(({routes:f})=>{const _=i._loadedInjector??t,{snapshot:C,consumedSegments:S,remainingSegments:R}=u,{segmentGroup:L,slicedSegments:z}=j6(e,S,R,f);if(0===z.length&&L.hasChildren())return this.processChildren(_,f,L).pipe(Je(ee=>null===ee?null:[new td(C,ee)]));if(0===f.length&&0===z.length)return Pe([new td(C,[])]);const j=Al(i)===s;return this.processSegment(_,f,L,z,j?Cn:s,!0).pipe(Je(ee=>[new td(C,ee)]))}))))}getChildConfig(t,e,i){return e.children?Pe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Pe({routes:e._loadedRoutes,injector:e._loadedInjector}):function yxe(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Pe(!0):Pe(r.map(o=>{const c=Um(o,n);return ku(function sxe(n){return n&&v0(n.canLoad)}(c)?c.canLoad(t,e):n.runInContext(()=>c(t,e)))})).pipe(jm(),z6())}(t,e,i).pipe(On(r=>r?this.configLoader.loadChildren(t,e).pipe(Qr(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function wxe(n){return n0(N6(!1,3))}())):Pe({routes:[],injector:t})}}function Oxe(n){const t=n.value.routeConfig;return t&&""===t.path}function W6(n){const t=[],e=new Set;for(const i of n){if(!Oxe(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=W6(i.children);t.push(new td(i.value,r))}return t.filter(i=>!e.has(i))}function G6(n){return n.data||{}}function $6(n){return n.resolve||{}}function Fxe(n,t){return On(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Pe(e);let s=0;return de(r).pipe(Fm(o=>function Lxe(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!Y6(r)&&(s[s0]=r.title),function Vxe(n,t,e,i){const r=function Bxe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Pe({});const s={};return de(r).pipe(On(o=>function zxe(n,t,e,i){const r=g0(t)??i,s=Um(n,r);return ku(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(Zd(),Qr(c=>{s[o]=c}))),d1(1),function s6(n){return Je(()=>n)}(s),xf(o=>B6(o)?oi:n0(o)))}(s,n,t,i).pipe(Je(o=>(n._resolvedData=o,n.data=k6(n,e).resolve,r&&Y6(r)&&(n.data[s0]=r.title),null)))}(o.route,i,n,t)),Qr(()=>s++),d1(1),On(o=>s===r.length?Pe(e):oi))})}function Y6(n){return"string"==typeof n.title||null===n.title}function NN(n){return tn(t=>{const e=n(t);return e?de(e).pipe(Je(()=>t)):Pe(t)})}const Gm=new Xe("ROUTES");let FN=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ze(cU)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Pe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ku(e.loadComponent()).pipe(Je(q6),Qr(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),r0(()=>{this.componentLoaders.delete(e)})),r=new r6(i,()=>new _e).pipe(_N());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Pe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Hxe(n,t,e,i){return ku(n.loadChildren()).pipe(Je(q6),On(r=>r instanceof mH||Array.isArray(r)?Pe(r):de(t.compileModuleAsync(r))),Je(r=>{i&&i(n);let s,o,c=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(Gm,[],{optional:!0,self:!0}).flat()),{routes:o.map(RN),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(r0(()=>{this.childrenLoaders.delete(i)})),o=new r6(s,()=>new _e).pipe(_N());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function q6(n){return function Uxe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let D1=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _e,this.transitionAbortSubject=new _e,this.configLoader=Ze(FN),this.environmentInjector=Ze(fo),this.urlSerializer=Ze(a0),this.rootContexts=Ze(f0),this.inputBindingEnabled=null!==Ze(b1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Pe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new O0e(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new P0e(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new be({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:u0,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bn(s=>0!==s.id),Je(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),tn(s=>{this.currentTransition=s;let o=!1,c=!1;return Pe(s).pipe(Qr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),tn(u=>{const f=u.currentBrowserUrl.toString(),_=!e.navigated||u.extractedUrl.toString()!==f||f!==u.currentUrlTree.toString();if(!_&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const S="";return this.events.next(new Bm(u.id,this.urlSerializer.serialize(u.rawUrl),S,0)),u.resolve(null),oi}if(e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Pe(u).pipe(tn(S=>{const R=this.transitions?.getValue();return this.events.next(new _1(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),R!==this.transitions?.getValue()?oi:Promise.resolve(S)}),function Nxe(n,t,e,i,r,s){return On(o=>function Mxe(n,t,e,i,r,s,o="emptyOnly"){return new Rxe(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe(Je(({state:c,tree:u})=>({...o,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Qr(S=>{s.targetSnapshot=S.targetSnapshot,s.urlAfterRedirects=S.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects};const R=new D6(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(R)}));if(_&&e.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:S,extractedUrl:R,source:L,restoredState:z,extras:j}=u,ee=new _1(S,this.urlSerializer.serialize(R),L,z);this.events.next(ee);const K=A6(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:K,urlAfterRedirects:R,extras:{...j,skipLocationChange:!1,replaceUrl:!1}},Pe(s)}{const S="";return this.events.next(new Bm(u.id,this.urlSerializer.serialize(u.extractedUrl),S,1)),u.resolve(null),oi}}),Qr(u=>{const f=new A0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),Je(u=>(this.currentTransition=s={...u,guards:exe(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function uxe(n,t){return On(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?Pe({...e,guardsResult:!0}):function hxe(n,t,e,i){return de(n).pipe(On(r=>function vxe(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Pe(s.map(c=>{const u=g0(t)??r,f=Um(c,u);return ku(function lxe(n){return n&&v0(n.canDeactivate)}(f)?f.canDeactivate(n,t,e,i):u.runInContext(()=>f(n,t,e,i))).pipe(Zd())})).pipe(jm()):Pe(!0)}(r.component,r.route,e,t,i)),Zd(r=>!0!==r,!0))}(o,i,r,n).pipe(On(c=>c&&function rxe(n){return"boolean"==typeof n}(c)?function fxe(n,t,e,i){return de(t).pipe(Fm(r=>Hg(function gxe(n,t){return null!==n&&t&&t(new N0e(n)),Pe(!0)}(r.route.parent,i),function pxe(n,t){return null!==n&&t&&t(new L0e(n)),Pe(!0)}(r.route,i),function _xe(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function txe(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>i6(()=>Pe(o.guards.map(u=>{const f=g0(o.node)??e,_=Um(u,f);return ku(function axe(n){return n&&v0(n.canActivateChild)}(_)?_.canActivateChild(i,n):f.runInContext(()=>_(i,n))).pipe(Zd())})).pipe(jm())));return Pe(s).pipe(jm())}(n,r.path,e),function mxe(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Pe(!0);const r=i.map(s=>i6(()=>{const o=g0(t)??e,c=Um(s,o);return ku(function oxe(n){return n&&v0(n.canActivate)}(c)?c.canActivate(t,n):o.runInContext(()=>c(t,n))).pipe(Zd())}));return Pe(r).pipe(jm())}(n,r.route,e))),Zd(r=>!0!==r,!0))}(i,s,n,t):Pe(c)),Je(c=>({...e,guardsResult:c})))})}(this.environmentInjector,u=>this.events.next(u)),Qr(u=>{if(s.guardsResult=u.guardsResult,Cf(u.guardsResult))throw O6(0,u.guardsResult);const f=new k0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),Bn(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),NN(u=>{if(u.guards.canActivateChecks.length)return Pe(u).pipe(Qr(f=>{const _=new M0e(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),tn(f=>{let _=!1;return Pe(f).pipe(Fxe(e.paramsInheritanceStrategy,this.environmentInjector),Qr({next:()=>_=!0,complete:()=>{_||this.cancelNavigationTransition(f,"",2)}}))}),Qr(f=>{const _=new R0e(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),NN(u=>{const f=_=>{const C=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(_.routeConfig).pipe(Qr(S=>{_.component=S}),Je(()=>{})));for(const S of _.children)C.push(...f(S));return C};return Sl(f(u.targetSnapshot.root)).pipe(YC(),Kn(1))}),NN(()=>this.afterPreactivation()),Je(u=>{const f=function j0e(n,t,e){const i=p0(n,t._root,e?e._root:void 0);return new S6(i,t)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:f},s}),Qr(()=>{this.events.next(new CN)}),((n,t,e,i)=>Je(r=>(new J0e(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Kn(1),Qr({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Qt(this.transitionAbortSubject.pipe(Qr(u=>{throw u}))),r0(()=>{o||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),xf(u=>{if(c=!0,F6(u))this.events.next(new h0(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function $0e(n){return F6(n)&&Cf(n.url)}(u)?this.events.next(new EN(u.url)):s.resolve(!1);else{this.events.next(new v1(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(u))}catch(f){s.reject(f)}}return oi}))}))}cancelNavigationTransition(e,i,r){const s=new h0(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function X6(n){return n!==u0}let Z6=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Cn);return i}getResolvedTitleForRoute(e){return e.data[s0]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:function(){return Ze(jxe)},providedIn:"root"})}return n})(),jxe=(()=>{class n extends Z6{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Rj))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wxe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:function(){return Ze($xe)},providedIn:"root"})}return n})();class Gxe{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let $xe=(()=>{class n extends Gxe{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mi(n)))(r||n)}}();static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const I1=new Xe("",{providedIn:"root",factory:()=>({})});let Yxe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:function(){return Ze(qxe)},providedIn:"root"})}return n})(),qxe=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var y0=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(y0||{});function K6(n,t){n.events.pipe(Bn(e=>e instanceof Mu||e instanceof h0||e instanceof v1||e instanceof Bm),Je(e=>e instanceof Mu||e instanceof Bm?y0.COMPLETE:e instanceof h0&&(0===e.code||1===e.code)?y0.REDIRECTING:y0.FAILED),Bn(e=>e!==y0.REDIRECTING),Kn(1)).subscribe(()=>{t()})}function Xxe(n){throw n}function Zxe(n,t,e){return t.parse("/")}const Kxe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qxe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ze(lU),this.isNgZoneEnabled=!1,this._events=new _e,this.options=Ze(I1,{optional:!0})||{},this.pendingTasks=Ze(mC),this.errorHandler=this.options.errorHandler||Xxe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Zxe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ze(Yxe),this.routeReuseStrategy=Ze(Wxe),this.titleStrategy=Ze(Z6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ze(Gm,{optional:!0})?.flat()??[],this.navigationTransitions=Ze(D1),this.urlSerializer=Ze(a0),this.location=Ze(EC),this.componentInputBindingEnabled=!!Ze(b1,{optional:!0}),this.eventsSubscription=new Ue,this.isNgZoneEnabled=Ze(at)instanceof at&&at.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Vm,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=A6(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(Q6(i)&&this._events.next(i));if(i instanceof _1)X6(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Bm)this.rawUrlTree=r.rawUrl;else if(i instanceof D6){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof CN)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof h0)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof EN){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||X6(r.source)};this.scheduleNavigation(s,u0,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof v1&&this.restoreHistory(r,!0),i instanceof Mu&&(this.navigated=!0),Q6(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),u0,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const u={...r};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const c=this.parseUrl(e);this.scheduleNavigation(c,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(RN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=i,f=u?this.currentUrlTree.fragment:o;let C,_=null;switch(c){case"merge":_={...this.currentUrlTree.queryParams,...s};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=s||null}null!==_&&(_=this.removeEmptyProps(_));try{C=v6(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),C=this.currentUrlTree.root}return y6(C,e,_,f??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Cf(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,u0,null,i)}navigate(e,i={skipLocationChange:!1}){return function Jxe(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new l(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Kxe}:!1===i?{...Qxe}:i,Cf(e))return c6(this.currentUrlTree,e,r);const s=this.parseUrl(e);return c6(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,f;o?(c=o.resolve,u=o.reject,f=o.promise):f=new Promise((C,S)=>{c=C,u=S});const _=this.pendingTasks.add();return K6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:c,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(C=>Promise.reject(C))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Q6(n){return!(n instanceof CN||n instanceof EN)}let b0=(()=>{class n{constructor(e,i,r,s,o,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new _e,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=e.events.subscribe(f=>{f instanceof Mu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function IV(n,t,e){return function $J(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?DV:Yp}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)($(Cs),$(Hm),Xl("tabindex"),$(Xr),$(Gt),$(Oh))};static#t=this.\u0275dir=je({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&et("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&Ut("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",yg],skipLocationChange:["skipLocationChange","skipLocationChange",yg],replaceUrl:["replaceUrl","replaceUrl",yg],routerLink:"routerLink"},standalone:!0,features:[VB,Nn]})}return n})(),J6=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,s,o){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Be,this.routerEventsSubscription=e.events.subscribe(c=>{c instanceof Mu&&this.update()})}ngAfterContentInit(){Pe(this.links.changes,Pe(null)).pipe(Gn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=de(e).pipe(Gn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function ewe(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)($(Cs),$(Gt),$(Xr),$(Lr),$(b0,8))};static#t=this.\u0275dir=je({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(1&i&&ci(s,b0,5),2&i){let o;Xt(o=Zt())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Nn]})}return n})();class eq{}let twe=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Bn(e=>e instanceof Mu),Fm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=CA(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(c,s.children??s._loadedRoutes))}return de(r).pipe(Gn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Pe(null);const s=r.pipe(On(o=>null===o?Pe(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?de([s,this.loader.loadComponent(i)]).pipe(Gn()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Cs),ce(cU),ce(fo),ce(eq),ce(FN))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const LN=new Xe("");let tq=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Mu?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Bm&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof I6&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new I6(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){Yw()};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function nd(n,t){return{\u0275kind:n,\u0275providers:t}}function iq(){const n=Ze(fr);return t=>{const e=n.get(Ga);if(t!==e.components[0])return;const i=n.get(Cs),r=n.get(rq);1===n.get(VN)&&i.initialNavigation(),n.get(sq,null,bn.Optional)?.setUpPreloading(),n.get(LN,null,bn.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const rq=new Xe("",{factory:()=>new _e}),VN=new Xe("",{providedIn:"root",factory:()=>1}),sq=new Xe("");function swe(n){return nd(0,[{provide:sq,useExisting:twe},{provide:eq,useExisting:n}])}const oq=new Xe("ROUTER_FORROOT_GUARD"),awe=[EC,{provide:a0,useClass:vN},Cs,f0,{provide:Hm,useFactory:function nq(n){return n.routerState.root},deps:[Cs]},FN,[]];function lwe(){return new mU("Router",Cs)}let aq=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[awe,[],{provide:Gm,multi:!0,useValue:e},{provide:oq,useFactory:hwe,deps:[[Cs,new v,new T]]},{provide:I1,useValue:i||{}},i?.useHash?{provide:Oh,useClass:yoe}:{provide:Oh,useClass:YU},{provide:LN,useFactory:()=>{const n=Ze(Mae),t=Ze(at),e=Ze(I1),i=Ze(D1),r=Ze(a0);return e.scrollOffset&&n.setOffset(e.scrollOffset),new tq(r,i,n,t,e)}},i?.preloadingStrategy?swe(i.preloadingStrategy).\u0275providers:[],{provide:mU,multi:!0,useFactory:lwe},i?.initialNavigation?fwe(i):[],i?.bindToComponentInputs?nd(8,[P6,{provide:b1,useExisting:P6}]).\u0275providers:[],[{provide:lq,useFactory:iq},{provide:qA,multi:!0,useExisting:lq}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Gm,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(ce(oq,8))};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})();function hwe(n){return"guarded"}function fwe(n){return["disabled"===n.initialNavigation?nd(3,[{provide:zA,multi:!0,useFactory:()=>{const t=Ze(Cs);return()=>{t.setUpLocationChangeListener()}}},{provide:VN,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?nd(2,[{provide:VN,useValue:0},{provide:zA,multi:!0,deps:[fr],useFactory:t=>{const e=t.get(_oe,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Cs),s=t.get(rq);K6(r,()=>{i(!0)}),t.get(D1).afterPreactivation=()=>(i(!0),s.closed?Pe(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const lq=new Xe("");class BN{}class T1{}class S1{}class xc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof xc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new xc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof xc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(c=>-1===s.indexOf(c)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class gwe{encodeKey(t){return cq(t)}encodeValue(t){return cq(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const _we=/%(\d[a-f0-9])/gi,vwe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cq(n){return encodeURIComponent(n).replace(_we,(t,e)=>vwe[e]??t)}function A1(n){return`${n}`}class Ru{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new gwe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mwe(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,c]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],u=e.get(o)||[];u.push(c),e.set(o,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(A1):[A1(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ru({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(A1(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(A1(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class ywe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function dq(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function uq(n){return typeof Blob<"u"&&n instanceof Blob}function hq(n){return typeof FormData<"u"&&n instanceof FormData}class x0{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function bwe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new xc),this.context||(this.context=new ywe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+o}}else this.params=new Ru,this.urlWithParams=e}serializeBody(){return null===this.body?null:dq(this.body)||uq(this.body)||hq(this.body)||function xwe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ru?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hq(this.body)?null:uq(this.body)?this.body.type||null:dq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ru?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,f=t.params||this.params;const _=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((C,S)=>C.set(S,t.setHeaders[S]),u)),t.setParams&&(f=Object.keys(t.setParams).reduce((C,S)=>C.set(S,t.setParams[S]),f)),new x0(e,i,s,{params:f,headers:u,context:_,reportProgress:c,responseType:r,withCredentials:o})}}var $m=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}($m||{});class zN{constructor(t,e=200,i="OK"){this.headers=t.headers||new xc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class HN extends zN{constructor(t={}){super(t),this.type=$m.ResponseHeader}clone(t={}){return new HN({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ym extends zN{constructor(t={}){super(t),this.type=$m.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ym({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class fq extends zN{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function UN(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let pq=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof x0)s=e;else{let u,f;u=r.headers instanceof xc?r.headers:new xc(r.headers),r.params&&(f=r.params instanceof Ru?r.params:new Ru({fromObject:r.params})),s=new x0(e,i,void 0!==r.body?r.body:null,{headers:u,context:r.context,params:f,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Pe(s).pipe(Fm(u=>this.handler.handle(u)));if(e instanceof x0||"events"===r.observe)return o;const c=o.pipe(Bn(u=>u instanceof Ym));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Je(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(Je(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(Je(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return c.pipe(Je(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ru).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,UN(r,i))}post(e,i,r={}){return this.request("POST",e,UN(r,i))}put(e,i,r={}){return this.request("PUT",e,UN(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(ce(T1))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function _q(n,t){return t(n)}function Cwe(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const Dwe=new Xe(""),w0=new Xe(""),vq=new Xe("");function Iwe(){let n=null;return(t,e)=>{null===n&&(n=(Ze(Dwe,{optional:!0})??[]).reduceRight(Cwe,_q));const i=Ze(mC),r=i.add();return n(t,e).pipe(r0(()=>i.remove(r)))}}let yq=(()=>{class n extends T1{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Ze(mC)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(w0),...this.injector.get(vq,[])]));this.chain=r.reduceRight((s,o)=>function Ewe(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,o,this.injector),_q)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(r0(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(ce(S1),ce(fo))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const kwe=/^\)\]\}',?\n/;let xq=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new l(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?de(i.\u0275loadImpl()):Pe(null)).pipe(tn(()=>new zt(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((z,j)=>o.setRequestHeader(z,j.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const z=e.detectContentTypeHeader();null!==z&&o.setRequestHeader("Content-Type",z)}if(e.responseType){const z=e.responseType.toLowerCase();o.responseType="json"!==z?z:"text"}const c=e.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const z=o.statusText||"OK",j=new xc(o.getAllResponseHeaders()),ee=function Mwe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return u=new HN({headers:j,status:o.status,statusText:z,url:ee}),u},_=()=>{let{headers:z,status:j,statusText:ee,url:K}=f(),ie=null;204!==j&&(ie=typeof o.response>"u"?o.responseText:o.response),0===j&&(j=ie?200:0);let ue=j>=200&&j<300;if("json"===e.responseType&&"string"==typeof ie){const Te=ie;ie=ie.replace(kwe,"");try{ie=""!==ie?JSON.parse(ie):null}catch(We){ie=Te,ue&&(ue=!1,ie={error:We,text:ie})}}ue?(s.next(new Ym({body:ie,headers:z,status:j,statusText:ee,url:K||void 0})),s.complete()):s.error(new fq({error:ie,headers:z,status:j,statusText:ee,url:K||void 0}))},C=z=>{const{url:j}=f(),ee=new fq({error:z,status:o.status||0,statusText:o.statusText||"Unknown Error",url:j||void 0});s.error(ee)};let S=!1;const R=z=>{S||(s.next(f()),S=!0);let j={type:$m.DownloadProgress,loaded:z.loaded};z.lengthComputable&&(j.total=z.total),"text"===e.responseType&&o.responseText&&(j.partialText=o.responseText),s.next(j)},L=z=>{let j={type:$m.UploadProgress,loaded:z.loaded};z.lengthComputable&&(j.total=z.total),s.next(j)};return o.addEventListener("load",_),o.addEventListener("error",C),o.addEventListener("timeout",C),o.addEventListener("abort",C),e.reportProgress&&(o.addEventListener("progress",R),null!==c&&o.upload&&o.upload.addEventListener("progress",L)),o.send(c),s.next({type:$m.Sent}),()=>{o.removeEventListener("error",C),o.removeEventListener("abort",C),o.removeEventListener("load",_),o.removeEventListener("timeout",C),e.reportProgress&&(o.removeEventListener("progress",R),null!==c&&o.upload&&o.upload.removeEventListener("progress",L)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(ce(pj))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const jN=new Xe("XSRF_ENABLED"),wq=new Xe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Cq=new Xe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Eq{}let Owe=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=rj(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sn),ce(po),ce(wq))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function Nwe(n,t){const e=n.url.toLowerCase();if(!Ze(jN)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=Ze(Eq).getToken(),r=Ze(Cq);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Pu=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Pu||{});function Fwe(...n){const t=[pq,xq,yq,{provide:T1,useExisting:yq},{provide:S1,useExisting:xq},{provide:w0,useValue:Nwe,multi:!0},{provide:jN,useValue:!0},{provide:Eq,useClass:Owe}];for(const e of n)t.push(...e.\u0275providers);return Ow(t)}const Dq=new Xe("LEGACY_INTERCEPTOR_FN");function Lwe(){return function Ef(n,t){return{\u0275kind:n,\u0275providers:t}}(Pu.LegacyInterceptors,[{provide:Dq,useFactory:Iwe},{provide:w0,useExisting:Dq,multi:!0}])}let Vwe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({providers:[Fwe(Lwe())]})}return n})(),Df=(()=>{class n{constructor(){this.loggedIn=new be(!1)}get isLoggedIn(){return this.loggedIn.asObservable()}isLoggedNext(e){return this.loggedIn.next(e)}SessionAddStorage(e,i){sessionStorage.setItem(e,JSON.stringify(i))}SessionGetStorage(e){const i=sessionStorage.getItem(e);return JSON.parse(i)}SessionRemove(e){sessionStorage.removeItem(e),sessionStorage.clear()}SessionClear(){sessionStorage.clear()}LocalAddStorage(e,i){localStorage.setItem(e,JSON.stringify(i))}LocalGetStorage(e){const i=localStorage.getItem(e);return JSON.parse(i)}LocalRemove(e){localStorage.removeItem(e)}LocalClear(){localStorage.clear()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ou=(()=>{class n{constructor(e,i){this.http=e,this.storageService=i,this.apiUrl="https://petguardian-api.uc.r.appspot.com/",this.petsArray=[]}getAppointments(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"client/findAppointments/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClientAppointments(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"client/findAppointments/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClients(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"vet/findClients/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getSingleClient(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/client/find/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClientPets(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/client/findPets/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}postClientPets(e){const i={birth:"",breed:"",weight:{},health_info:{cardiac_freq:{},vaccines:[],observations:"",steps:{}},height:0,name:"",type:"",vet_id:"",client_id:"",profile_image:"",id:"",...e};return console.log(i),new Promise((r,s)=>{this.http.post(this.apiUrl+"pet/create",i,{responseType:"text"}).subscribe({next:o=>{this.petsArray.push(e)},error:o=>{console.error("There was an error!",o)}})})}getPet(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/pet/find/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}addUser(e){const i={"content-type":"application/json"};return new Promise((r,s)=>{this.http.post(this.apiUrl+"client/create/"+e.id,JSON.stringify(e),{headers:i}).subscribe({next:o=>{},error:o=>{console.log("Result",o)}})})}getAllPets(){return new Promise((e,i)=>{this.http.get(this.apiUrl+"/pet/all").subscribe(r=>{e(r)},r=>{i(r)})})}static#e=this.\u0275fac=function(i){return new(i||n)(ce(pq),ce(Df))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Iq=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)($(Xr),$(Gt))};static#t=this.\u0275dir=je({type:n})}return n})(),If=(()=>{class n extends Iq{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mi(n)))(r||n)}}();static#t=this.\u0275dir=je({type:n,features:[Dn]})}return n})();const wa=new Xe("NgValueAccessor"),$we={provide:wa,useExisting:we(()=>qm),multi:!0},qwe=new Xe("CompositionEventMode");let qm=(()=>{class n extends Iq{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ywe(){const n=$d()?$d().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)($(Xr),$(Gt),$(qwe,8))};static#t=this.\u0275dir=je({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&et("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[ri([$we]),Dn]})}return n})();function Nu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Sq(n){return null!=n&&"number"==typeof n.length}const Es=new Xe("NgValidators"),Fu=new Xe("NgAsyncValidators"),Xwe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ao{static min(t){return function Aq(n){return t=>{if(Nu(t.value)||Nu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function kq(n){return t=>{if(Nu(t.value)||Nu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Mq(t)}static requiredTrue(t){return function Rq(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Pq(n){return Nu(n.value)||Xwe.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Oq(n){return t=>Nu(t.value)||!Sq(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Nq(n){return t=>Sq(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Fq(n){if(!n)return M1;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Nu(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Uq(t)}static composeAsync(t){return jq(t)}}function Mq(n){return Nu(n.value)?{required:!0}:null}function M1(n){return null}function Lq(n){return null!=n}function Vq(n){return Wv(n)?de(n):n}function Bq(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function zq(n,t){return t.map(e=>e(n))}function Hq(n){return n.map(t=>function Zwe(n){return!n.validate}(t)?t:e=>t.validate(e))}function Uq(n){if(!n)return null;const t=n.filter(Lq);return 0==t.length?null:function(e){return Bq(zq(e,t))}}function WN(n){return null!=n?Uq(Hq(n)):null}function jq(n){if(!n)return null;const t=n.filter(Lq);return 0==t.length?null:function(e){return function Wwe(...n){const t=No(n),{args:e,keys:i}=e6(n),r=new zt(s=>{const{length:o}=e;if(!o)return void s.complete();const c=new Array(o);let u=o,f=o;for(let _=0;_<o;_++){let C=!1;ht(e[_]).subscribe(lt(s,S=>{C||(C=!0,f--),c[_]=S},()=>u--,void 0,()=>{(!u||!C)&&(f||s.next(i?t6(i,c):c),s.complete())}))}});return t?r.pipe(mN(t)):r}(zq(e,t).map(Vq)).pipe(Je(Bq))}}function GN(n){return null!=n?jq(Hq(n)):null}function Wq(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Gq(n){return n._rawValidators}function $q(n){return n._rawAsyncValidators}function $N(n){return n?Array.isArray(n)?n:[n]:[]}function R1(n,t){return Array.isArray(n)?n.includes(t):n===t}function Yq(n,t){const e=$N(t);return $N(n).forEach(r=>{R1(e,r)||e.push(r)}),e}function qq(n,t){return $N(t).filter(e=>!R1(n,e))}class Xq{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=WN(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=GN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ko extends Xq{get formDirective(){return null}get path(){return null}}class id extends Xq{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zq{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let P1=(()=>{class n extends Zq{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)($(id,2))};static#t=this.\u0275dir=je({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Ft("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Dn]})}return n})(),O1=(()=>{class n extends Zq{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)($(ko,10))};static#t=this.\u0275dir=je({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Ft("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Dn]})}return n})();const C0="VALID",F1="INVALID",Xm="PENDING",E0="DISABLED";function XN(n){return(L1(n)?n.validators:n)||null}function ZN(n,t){return(L1(t)?t.asyncValidators:n)||null}function L1(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Qq(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new l(1e3,"");if(!i[e])throw new l(1001,"")}function Jq(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new l(1002,"")})}class V1{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===C0}get invalid(){return this.status===F1}get pending(){return this.status==Xm}get disabled(){return this.status===E0}get enabled(){return this.status!==E0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Yq(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Yq(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(qq(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(qq(t,this._rawAsyncValidators))}hasValidator(t){return R1(this._rawValidators,t)}hasAsyncValidator(t){return R1(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=E0,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=C0,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===C0||this.status===Xm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?E0:C0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xm,this._hasOwnPendingAsyncValidator=!0;const e=Vq(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?E0:this.errors?F1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xm)?Xm:this._anyControlsHaveStatus(F1)?F1:C0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){L1(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function eCe(n){return Array.isArray(n)?WN(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function tCe(n){return Array.isArray(n)?GN(n):n||null}(this._rawAsyncValidators)}}class D0 extends V1{constructor(t,e,i){super(XN(e),ZN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Jq(this,0,t),Object.keys(t).forEach(i=>{Qq(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class e9 extends D0{}const Tf=new Xe("CallSetDisabledState",{providedIn:"root",factory:()=>I0}),I0="always";function B1(n,t){return[...t.path,n]}function T0(n,t,e=I0){KN(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function iCe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&t9(n,t)})}(n,t),function sCe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function rCe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&t9(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function nCe(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function z1(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),U1(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function H1(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function KN(n,t){const e=Gq(n);null!==t.validator?n.setValidators(Wq(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=$q(n);null!==t.asyncValidator?n.setAsyncValidators(Wq(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();H1(t._rawValidators,r),H1(t._rawAsyncValidators,r)}function U1(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Gq(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=$q(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return H1(t._rawValidators,i),H1(t._rawAsyncValidators,i),e}function t9(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function n9(n,t){KN(n,t)}function JN(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function i9(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function eF(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===qm?e=s:function lCe(n){return Object.getPrototypeOf(n.constructor)===If}(s)?i=s:r=s}),r||i||e||null}const dCe={provide:ko,useExisting:we(()=>A0)},S0=(()=>Promise.resolve())();let A0=(()=>{class n extends ko{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Be,this.form=new D0({},WN(e),GN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){S0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),T0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){S0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){S0.then(()=>{const i=this._findContainer(e.path),r=new D0({});n9(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){S0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){S0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,i9(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)($(Es,10),$(Fu,10),$(Tf,8))};static#t=this.\u0275dir=je({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&et("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ri([dCe]),Dn]})}return n})();function r9(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function s9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const k0=class extends V1{constructor(t=null,e,i){super(XN(e),ZN(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),L1(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=s9(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){r9(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){r9(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){s9(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},fCe={provide:id,useExisting:we(()=>tF)},l9=(()=>Promise.resolve())();let tF=(()=>{class n extends id{constructor(e,i,r,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new k0,this._registered=!1,this.name="",this.update=new Be,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=eF(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),JN(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){T0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){l9.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&yg(i);l9.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?B1(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)($(ko,9),$(Es,10),$(Fu,10),$(wa,10),$(Lr,8),$(Tf,8))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ri([fCe]),Dn,Nn]})}return n})(),j1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const pCe={provide:wa,useExisting:we(()=>nF),multi:!0};let nF=(()=>{class n extends If{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mi(n)))(r||n)}}();static#t=this.\u0275dir=je({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&et("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[ri([pCe]),Dn]})}return n})(),c9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})();const iF=new Xe("NgModelWithFormControlWarning"),yCe={provide:ko,useExisting:we(()=>Zm)};let Zm=(()=>{class n extends ko{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Be,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(U1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return T0(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){z1(e.control||null,e,!1),function cCe(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,i9(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(z1(i||null,e),(n=>n instanceof k0)(r)&&(T0(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);n9(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function oCe(n,t){return U1(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){KN(this.form,this),this._oldForm&&U1(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)($(Es,10),$(Fu,10),$(Tf,8))};static#t=this.\u0275dir=je({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&et("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ri([yCe]),Dn,Nn]})}return n})();const wCe={provide:id,useExisting:we(()=>W1)};let W1=(()=>{class n extends id{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Be,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=eF(0,s)}ngOnChanges(e){this._added||this._setUpControl(),JN(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return B1(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)($(ko,13),$(Es,10),$(Fu,10),$(wa,10),$(iF,8))};static#n=this.\u0275dir=je({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ri([wCe]),Dn,Nn]})}return n})(),Sf=(()=>{class n{constructor(){this._validator=M1}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):M1,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,features:[Nn]})}return n})();const MCe={provide:Es,useExisting:we(()=>G1),multi:!0};let G1=(()=>{class n extends Sf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=yg,this.createValidator=e=>Mq}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mi(n)))(r||n)}}();static#t=this.\u0275dir=je({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Ut("required",r._enabled?"":null)},inputs:{required:"required"},features:[ri([MCe]),Dn]})}return n})(),D9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({imports:[c9]})}return n})();class I9 extends V1{constructor(t,e,i){super(XN(e),ZN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Jq(this,0,t),t.forEach((i,r)=>{Qq(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function T9(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let lF,S9=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return T9(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new D0(r,s)}record(e,i=null){const r=this._reduceControls(e);return new e9(r,i)}control(e,i,r){let s={};return this.useNonNullable?(T9(i)?s=i:(s.validators=i,s.asyncValidators=r),new k0(e,{...s,nonNullable:!0})):new k0(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new I9(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof k0||e instanceof V1?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LCe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Tf,useValue:e.callSetDisabledState??I0}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({imports:[D9]})}return n})(),VCe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:iF,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Tf,useValue:e.callSetDisabledState??I0}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({imports:[D9]})}return n})();try{lF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{lF=!1}let Km,ls=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?bk(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(ce(po))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const A9=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function k9(){if(Km)return Km;if("object"!=typeof document||!document)return Km=new Set(A9),Km;let n=document.createElement("input");return Km=new Set(A9.filter(t=>(n.setAttribute("type",t),n.type===t))),Km}let M0,Af,cF;function Lu(n){return function BCe(){if(null==M0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>M0=!0}))}finally{M0=M0||!1}return M0}()?n:!!n.capture}function zCe(){if(null==Af){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Af=!1,Af;if("scrollBehavior"in document.documentElement.style)Af=!0;else{const n=Element.prototype.scrollTo;Af=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Af}function M9(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Vu(n){return n.composedPath?n.composedPath()[0]:n.target}function dF(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function e_(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function fF(n){return Bn((t,e)=>n<=e)}function so(n){return null!=n&&"false"!=`${n}`}function K1(n){return Array.isArray(n)?n:[n]}function es(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Bu(n){return n instanceof Gt?n.nativeElement:n}let ZCe=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),P9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({providers:[ZCe]})}return n})();const O9=new Set;let kf,KCe=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):JCe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function QCe(n,t){if(!O9.has(n))try{kf||(kf=document.createElement("style"),t&&(kf.nonce=t),kf.setAttribute("type","text/css"),document.head.appendChild(kf)),kf.sheet&&(kf.sheet.insertRule(`@media ${n} {body{ }}`,0),O9.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ls),ce(TS,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JCe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let eEe=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new _e}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return N9(K1(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Sl(N9(K1(e)).map(o=>this._registerQuery(o).observable));return s=Hg(s.pipe(Kn(1)),s.pipe(fF(1),c8(0))),s.pipe(Je(o=>{const c={matches:!1,breakpoints:{}};return o.forEach(({matches:u,query:f})=>{c.matches=c.matches||u,c.breakpoints[f]=u}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new zt(o=>{const c=u=>this._zone.run(()=>o.next(u));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Cl(i),Je(({matches:o})=>({query:e,matches:o})),Qt(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(ce(KCe),ce(at))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function N9(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let iEe=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function sEe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function rEe(n){try{return n.frameElement}catch{return null}}(function fEe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===B9(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=B9(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function uEe(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function hEe(n){return!function aEe(n){return function cEe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function oEe(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function lEe(n){return function dEe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||V9(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ls))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function V9(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function B9(n){if(!V9(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class pEe{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Kn(1)).subscribe(t)}}let gEe=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new pEe(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(iEe),ce(at),ce(sn))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mEe=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=so(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=so(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=M9(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(gEe),$(sn))};static#t=this.\u0275dir=je({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Nn]})}return n})();function z9(n){return 0===n.buttons||0===n.detail}function H9(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const _Ee=new Xe("cdk-input-modality-detector-options"),vEe={ignoreKeys:[18,17,224,91,16]},t_=Lu({passive:!0,capture:!0});let yEe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new be(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(c=>c===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vu(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(z9(o)?"keyboard":"mouse"),this._mostRecentTarget=Vu(o))},this._onTouchstart=o=>{H9(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vu(o))},this._options={...vEe,...s},this.modalityDetected=this._modality.pipe(fF(1)),this.modalityChanged=this.modalityDetected.pipe(ni()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,t_),r.addEventListener("mousedown",this._onMousedown,t_),r.addEventListener("touchstart",this._onTouchstart,t_)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,t_),document.removeEventListener("mousedown",this._onMousedown,t_),document.removeEventListener("touchstart",this._onTouchstart,t_))}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ls),ce(at),ce(sn),ce(_Ee,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const xEe=new Xe("cdk-focus-monitor-default-options"),Q1=Lu({passive:!0,capture:!0});let j9=(()=>{class n{constructor(e,i,r,s,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _e,this._rootNodeFocusAndBlurListener=c=>{for(let f=Vu(c);f;f=f.parentElement)"focus"===c.type?this._onFocus(c,f):this._onBlur(c,f)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(e,i=!1){const r=Bu(e);if(!this._platform.isBrowser||1!==r.nodeType)return Pe();const s=function UCe(n){if(function HCe(){if(null==cF){const n=typeof document<"u"?document.head:null;cF=!(!n||!n.createShadowRoot&&!n.attachShadow)}return cF}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const c={checkChildren:i,subject:new _e,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const i=Bu(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Bu(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([c,u])=>this._originChanged(c,i,u)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Vu(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Q1),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Q1)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Q1),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Q1),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(ce(at),ce(ls),ce(yEe),ce(sn,8),ce(xEe,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wEe=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Be}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(j9))};static#t=this.\u0275dir=je({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();const W9="cdk-high-contrast-black-on-white",G9="cdk-high-contrast-white-on-black",pF="cdk-high-contrast-active";let $9=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Ze(eEe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(pF,W9,G9),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(pF,W9):2===i&&e.add(pF,G9)}}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ls),ce(sn))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CEe=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(ce($9))};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({imports:[P9]})}return n})();const EEe=["addListener","removeListener"],DEe=["addEventListener","removeEventListener"],IEe=["on","off"];function jr(n,t,e,i){if(J(e)&&(i=e,e=void 0),i)return jr(n,t,e).pipe(mN(i));const[r,s]=function AEe(n){return J(n.addEventListener)&&J(n.removeEventListener)}(n)?DEe.map(o=>c=>n[o](t,c,e)):function TEe(n){return J(n.addListener)&&J(n.removeListener)}(n)?EEe.map(Y9(n,t)):function SEe(n){return J(n.on)&&J(n.off)}(n)?IEe.map(Y9(n,t)):[];if(!r&&vn(n))return On(o=>jr(o,t,e))(ht(n));if(!r)throw new TypeError("Invalid event target");return new zt(o=>{const c=(...u)=>o.next(1<u.length?u:u[0]);return r(c),()=>s(c)})}function Y9(n,t){return e=>i=>n[e](t,i)}const O0={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=O0;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Ue(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=O0;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=O0;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class MEe extends UC{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class kEe extends HC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=O0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(O0.cancelAnimationFrame(e),t._scheduled=void 0)}});function N0(n=0,t,e=Fle){let i=-1;return null!=t&&(Yr(t)?e=t:i=t),new zt(r=>{let s=function OEe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function q9(n,t=Xd){return function PEe(n){return ke((t,e)=>{let i=!1,r=null,s=null,o=!1;const c=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const f=r;r=null,e.next(f)}o&&e.complete()},u=()=>{s=null,o&&e.complete()};t.subscribe(lt(e,f=>{i=!0,r=f,s||ht(n(f)).subscribe(s=lt(e,c,u))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>N0(n,t))}const NEe=new Xe("cdk-dir-doc",{providedIn:"root",factory:function FEe(){return Ze(sn)}}),LEe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let n_=(()=>{class n{constructor(e){this.value="ltr",this.change=new Be,e&&(this.value=function VEe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?LEe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(NEe,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),F0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),zEe=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new _e,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new zt(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(q9(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Pe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Bn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Bu(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>jr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(at),ce(ls),ce(sn,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),X9=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new _e,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(q9(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ls),ce(at),ce(sn,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),Z9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({imports:[F0,gF,F0,gF]})}return n})();class mF{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class _F extends mF{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class UEe extends mF{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class jEe extends mF{constructor(t){super(),this.element=t instanceof Gt?t.nativeElement:t}}class K9{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof _F?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof UEe?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof jEe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class WEe extends K9{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const c=o.element,u=this._document.createComment("dom-portal");c.parentNode.insertBefore(u,c),this.outletElement.appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||fr.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Q9=(()=>{class n extends K9{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Be,this.attachDomPortal=s=>{const o=s.element,c=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(c,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(o,c)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)($(Ud),$(Zs),$(sn))};static#t=this.\u0275dir=je({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Dn]})}return n})(),J9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})();const eX=zCe();class GEe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=es(-this._previousScrollPosition.left),t.style.top=es(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),eX&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),eX&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class $Ee{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Bn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class tX{enable(){}disable(){}attach(){}}function vF(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function nX(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class YEe{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();vF(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let qEe=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new tX,this.close=o=>new $Ee(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new GEe(this._viewportRuler,this._document),this.reposition=o=>new YEe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(i){return new(i||n)(ce(zEe),ce(X9),ce(at),ce(sn))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class iX{constructor(t){if(this.scrollStrategy=new tX,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class XEe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let rX=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sn))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZEe=(()=>{class n extends rX{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const c=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sn),ce(at,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KEe=(()=>{class n extends rX{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Vu(s)},this._clickListener=s=>{const o=Vu(s),c="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let f=u.length-1;f>-1;f--){const _=u[f];if(_._outsidePointerEvents.observers.length<1||!_.hasAttached())continue;if(_.overlayElement.contains(o)||_.overlayElement.contains(c))break;const C=_._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>C.next(s)):C.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sn),ce(ls),ce(at,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sX=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||dF()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),dF()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sn),ce(ls))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class QEe{constructor(t,e,i,r,s,o,c,u,f,_=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=c,this._location=u,this._outsideClickDispatcher=f,this._animationsDisabled=_,this._backdropElement=null,this._backdropClick=new _e,this._attachments=new _e,this._detachments=new _e,this._locationChanges=Ue.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new _e,this._outsidePointerEvents=new _e,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=es(this._config.width),t.height=es(this._config.height),t.minWidth=es(this._config.minWidth),t.minHeight=es(this._config.minHeight),t.maxWidth=es(this._config.maxWidth),t.maxHeight=es(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=K1(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Qt(Fe(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const oX="cdk-overlay-connected-position-bounding-box",JEe=/([A-Za-z%]+)$/;class aX{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _e,this._resizeSubscription=Ue.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(oX),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let c of this._preferredPositions){let u=this._getOriginPoint(t,r,c),f=this._getOverlayPoint(u,e,c),_=this._getOverlayFit(f,e,i,c);if(_.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,u);this._canFitWithFlexibleDimensions(_,f,i)?s.push({position:c,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,c)}):(!o||o.overlayFit.visibleArea<_.visibleArea)&&(o={overlayFit:_,overlayPoint:f,originPoint:u,position:c,overlayRect:e})}if(s.length){let c=null,u=-1;for(const f of s){const _=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);_>u&&(u=_,c=f)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Mf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(oX),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;r="start"==i.originX?o:c}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=cX(e);let{x:o,y:c}=t,u=this._getOffset(r,"x"),f=this._getOffset(r,"y");u&&(o+=u),f&&(c+=f);let S=0-c,R=c+s.height-i.height,L=this._subtractOverflows(s.width,0-o,o+s.width-i.width),z=this._subtractOverflows(s.height,S,R),j=L*z;return{visibleArea:j,isCompletelyWithinViewport:s.width*s.height===j,fitsInViewportVertically:z===s.height,fitsInViewportHorizontally:L==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,o=lX(this._overlayRef.getConfig().minHeight),c=lX(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=c&&c<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=cX(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),c=Math.max(t.y+r.height-s.height,0),u=Math.max(s.top-i.top-t.y,0),f=Math.max(s.left-i.left-t.x,0);let _=0,C=0;return _=r.width<=s.width?f||-o:t.x<this._viewportMargin?s.left-i.left-t.x:0,C=r.height<=s.height?u||-c:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:_,y:C},{x:t.x+_,y:t.y+C}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new XEe(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,o,c,_,C,S;if("top"===e.overlayY)o=t.y,s=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)c=i.height-t.y+2*this._viewportMargin,s=i.height-c+this._viewportMargin;else{const R=Math.min(i.bottom-t.y+i.top,t.y),L=this._lastBoundingBoxSize.height;s=2*R,o=t.y-R,s>L&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-L/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)S=i.width-t.x+this._viewportMargin,_=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)C=t.x,_=i.right-t.x;else{const R=Math.min(i.right-t.x+i.left,t.x),L=this._lastBoundingBoxSize.width;_=2*R,C=t.x-R,_>L&&!this._isInitialRender&&!this._growAfterOpen&&(C=t.x-L/2)}return{top:o,left:C,bottom:c,right:S,width:_,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=es(i.height),r.top=es(i.top),r.bottom=es(i.bottom),r.width=es(i.width),r.left=es(i.left),r.right=es(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=es(s)),o&&(r.maxWidth=es(o))}this._lastBoundingBoxSize=i,Mf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Mf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Mf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const _=this._viewportRuler.getViewportScrollPosition();Mf(i,this._getExactOverlayY(e,t,_)),Mf(i,this._getExactOverlayX(e,t,_))}else i.position="static";let c="",u=this._getOffset(e,"x"),f=this._getOffset(e,"y");u&&(c+=`translateX(${u}px) `),f&&(c+=`translateY(${f}px)`),i.transform=c.trim(),o.maxHeight&&(r?i.maxHeight=es(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=es(o.maxWidth):s&&(i.maxWidth="")),Mf(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=es(s.y),r}_getExactOverlayX(t,e,i){let o,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=es(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:nX(t,i),isOriginOutsideView:vF(t,i),isOverlayClipped:nX(e,i),isOverlayOutsideView:vF(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&K1(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Gt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Mf(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function lX(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(JEe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function cX(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const dX="cdk-global-overlay-wrapper";class eDe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(dX),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:c}=i,u=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),f=!("100%"!==s&&"100vh"!==s||c&&"100%"!==c&&"100vh"!==c),_=this._xPosition,C=this._xOffset,S="rtl"===this._overlayRef.getConfig().direction;let R="",L="",z="";u?z="flex-start":"center"===_?(z="center",S?L=C:R=C):S?"left"===_||"end"===_?(z="flex-end",R=C):("right"===_||"start"===_)&&(z="flex-start",L=C):"left"===_||"start"===_?(z="flex-start",R=C):("right"===_||"end"===_)&&(z="flex-end",L=C),t.position=this._cssPosition,t.marginLeft=u?"0":R,t.marginTop=f?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=u?"0":L,e.justifyContent=z,e.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(dX),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let tDe=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new eDe}flexibleConnectedTo(e){return new aX(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(X9),ce(sn),ce(ls),ce(sX))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nDe=0,J1=(()=>{class n{constructor(e,i,r,s,o,c,u,f,_,C,S,R){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=c,this._ngZone=u,this._document=f,this._directionality=_,this._location=C,this._outsideClickDispatcher=S,this._animationsModuleType=R}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new iX(e);return o.direction=o.direction||this._directionality.value,new QEe(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+nDe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ga)),new WEe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(qEe),ce(sX),ce(Ud),ce(tDe),ce(ZEe),ce(fr),ce(at),ce(sn),ce(n_),ce(EC),ce(KEe),ce(Hd,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const sDe={provide:new Xe("cdk-connected-overlay-scroll-strategy"),deps:[J1],useFactory:function rDe(n){return()=>n.scrollStrategies.reposition()}};let oDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({providers:[J1,sDe],imports:[F0,J9,Z9,Z9]})}return n})();const lDe=new Xe("mat-sanity-checks",{providedIn:"root",factory:function aDe(){return!0}});let rd=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!dF()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(ce($9),ce(lDe,8),ce(sn))};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({imports:[F0,F0]})}return n})();function cDe(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=so(t)}constructor(...t){super(...t),this._disabled=!1}}}function fX(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function dDe(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=so(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function uDe(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}const hDe=new Xe("MAT_DATE_LOCALE",{providedIn:"root",factory:function fDe(){return Ze(Ks)}});class Ls{constructor(){this._localeChanges=new _e,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Rf=new Xe("mat-date-formats"),pDe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function yF(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let gDe=(()=>{class n extends Ls{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return yF(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return yF(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return yF(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(pDe.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(hDe,8),ce(ls))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const mDe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let _De=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({providers:[{provide:Ls,useClass:gDe}]})}return n})(),vDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({providers:[{provide:Rf,useValue:mDe}],imports:[_De]})}return n})(),yDe=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class bDe{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const pX=Lu({passive:!0,capture:!0});class xDe{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Vu(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,pX)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,pX)))}}const gX={enterDuration:225,exitDuration:150},mX=Lu({passive:!0,capture:!0}),_X=["mousedown","touchstart"],vX=["mouseup","mouseleave","touchend","touchcancel"];class eI{static#e=this._eventManager=new xDe;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Bu(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...gX,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=i.radius||function CDe(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),c=t-r.left,u=e-r.top,f=s.enterDuration,_=document.createElement("div");_.classList.add("mat-ripple-element"),_.style.left=c-o+"px",_.style.top=u-o+"px",_.style.height=2*o+"px",_.style.width=2*o+"px",null!=i.color&&(_.style.backgroundColor=i.color),_.style.transitionDuration=`${f}ms`,this._containerElement.appendChild(_);const C=window.getComputedStyle(_),R=C.transitionDuration,L="none"===C.transitionProperty||"0s"===R||"0s, 0s"===R||0===r.width&&0===r.height,z=new bDe(this,_,i,L);_.style.transform="scale3d(1, 1, 1)",z.state=0,i.persistent||(this._mostRecentTransientRipple=z);let j=null;return!L&&(f||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ee=()=>this._finishRippleTransition(z),K=()=>this._destroyRipple(z);_.addEventListener("transitionend",ee),_.addEventListener("transitioncancel",K),j={onTransitionEnd:ee,onTransitionCancel:K}}),this._activeRipples.set(z,j),(L||!f)&&this._finishRippleTransition(z),z}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...gX,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Bu(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,_X.forEach(i=>{eI._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{vX.forEach(e=>{this._triggerElement.addEventListener(e,this,mX)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=z9(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!H9(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(_X.forEach(e=>eI._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&vX.forEach(e=>t.removeEventListener(e,this,mX)))}}const yX=new Xe("mat-ripple-global-options");let EDe=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new eI(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(at),$(ls),$(yX,8),$(Hd,8))};static#t=this.\u0275dir=je({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Ft("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),DDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({imports:[rd,rd]})}return n})();const bX={capture:!0},xX=["focus","click","mouseenter","touchstart"],bF="mat-ripple-loader-uninitialized",xF="mat-ripple-loader-class-name",wX="mat-ripple-loader-centered",tI="mat-ripple-loader-disabled";let IDe=(()=>{class n{constructor(){this._document=Ze(sn,{optional:!0}),this._animationMode=Ze(Hd,{optional:!0}),this._globalRippleOptions=Ze(yX,{optional:!0}),this._platform=Ze(ls),this._ngZone=Ze(at),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${bF}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of xX)this._document?.addEventListener(e,this._onInteraction,bX)})}ngOnDestroy(){for(const e of xX)this._document?.removeEventListener(e,this._onInteraction,bX)}configureRipple(e,i){e.setAttribute(bF,""),(i.className||!e.hasAttribute(xF))&&e.setAttribute(xF,i.className||""),i.centered&&e.setAttribute(wX,""),i.disabled&&e.setAttribute(tI,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(tI,""):e.removeAttribute(tI)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(xF)),e.append(i);const r=new EDe(new Gt(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(wX),r.disabled=e.hasAttribute(tI),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(bF),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const TDe=["mat-button",""],SDe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],ADe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],MDe=["mat-icon-button",""],RDe=["*"],PDe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],ODe=fX(cDe(dDe(class{constructor(n){this._elementRef=n}})));let CX=(()=>{class n extends ODe{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=so(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=so(e),this._updateRippleDisabled()}constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=Ze(j9),this._rippleLoader=Ze(IDe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const o=e.nativeElement.classList;for(const c of PDe)this._hasHostAttributes(c.selector)&&c.mdcClasses.forEach(u=>{o.add(u)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){Yw()};static#t=this.\u0275dir=je({type:n,features:[Dn]})}return n})(),EX=(()=>{class n extends CX{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(ls),$(at),$(Hd,8))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Ut("disabled",r.disabled||null),Ft("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Dn],attrs:TDe,ngContentSelectors:ADe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(ul(SDe),ut(0,"span",0),wr(1),te(2,"span",1),wr(3,1),ne(),wr(4,2),ut(5,"span",2)(6,"span",3)),2&i&&Ft("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),DX=(()=>{class n extends CX{constructor(e,i,r,s){super(e,i,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(ls),$(at),$(Hd,8))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Ut("disabled",r.disabled||null),Ft("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Dn],attrs:MDe,ngContentSelectors:RDe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(ul(),ut(0,"span",0),wr(1),ut(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),LDe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({imports:[rd,DDe,rd]})}return n})();class IX{}class VDe{}const sd="*";function V0(n,t){return{type:7,name:n,definitions:t,options:{}}}function od(n,t=null){return{type:4,styles:t,timings:n}}function TX(n,t=null){return{type:2,steps:n,options:t}}function oo(n){return{type:6,styles:n,offset:null}}function zu(n,t,e){return{type:0,name:n,styles:t,options:e}}function SX(n){return{type:5,steps:n}}function ad(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class B0{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class AX{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,c)=>Math.max(o,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class BDe{constructor(t){this._box=t,this._destroyed=new _e,this._resizeSubject=new _e,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new zt(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Bn(e=>e.some(i=>i.target===t)),Pk({bufferSize:1,refCount:!0}),Qt(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let zDe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=Ze(at)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new BDe(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const HDe=["notch"],UDe=["matFormFieldNotchedOutline",""],jDe=["*"],WDe=["textField"],GDe=["iconPrefixContainer"],$De=["textPrefixContainer"];function YDe(n,t){1&n&&ut(0,"span",19)}function qDe(n,t){if(1&n&&(te(0,"label",17),wr(1,1),De(2,YDe,1,0,"span",18),ne()),2&n){const e=Ee(2);oe("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Ut("for",e._control.id),se(2),oe("ngIf",!e.hideRequiredMarker&&e._control.required)}}function XDe(n,t){1&n&&De(0,qDe,3,5,"label",16),2&n&&oe("ngIf",Ee()._hasFloatingLabel())}function ZDe(n,t){1&n&&ut(0,"div",20)}function KDe(n,t){}function QDe(n,t){1&n&&De(0,KDe,0,0,"ng-template",22),2&n&&(Ee(2),oe("ngTemplateOutlet",ii(1)))}function JDe(n,t){if(1&n&&(te(0,"div",21),De(1,QDe,1,1,"ng-template",9),ne()),2&n){const e=Ee();oe("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),se(1),oe("ngIf",!e._forceDisplayInfixLabel())}}function e1e(n,t){1&n&&(te(0,"div",23,24),wr(2,2),ne())}function t1e(n,t){1&n&&(te(0,"div",25,26),wr(2,3),ne())}function n1e(n,t){}function i1e(n,t){1&n&&De(0,n1e,0,0,"ng-template",22),2&n&&(Ee(),oe("ngTemplateOutlet",ii(1)))}function r1e(n,t){1&n&&(te(0,"div",27),wr(1,4),ne())}function s1e(n,t){1&n&&(te(0,"div",28),wr(1,5),ne())}function o1e(n,t){1&n&&ut(0,"div",29)}function a1e(n,t){1&n&&(te(0,"div",30),wr(1,6),ne()),2&n&&oe("@transitionMessages",Ee()._subscriptAnimationState)}function l1e(n,t){if(1&n&&(te(0,"mat-hint",34),Ve(1),ne()),2&n){const e=Ee(2);oe("id",e._hintLabelId),se(1),pr(e.hintLabel)}}function c1e(n,t){if(1&n&&(te(0,"div",31),De(1,l1e,2,2,"mat-hint",32),wr(2,7),ut(3,"div",33),wr(4,8),ne()),2&n){const e=Ee();oe("@transitionMessages",e._subscriptAnimationState),se(1),oe("ngIf",e.hintLabel)}}const d1e=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],u1e=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let CF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["mat-label"]]})}return n})();const h1e=new Xe("MatError");let f1e=0,kX=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+f1e++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(_o("id",r.id),Ut("align",null),Ft("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const p1e=new Xe("MatPrefix"),MX=new Xe("MatSuffix");let g1e=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[ri([{provide:MX,useExisting:n}])]})}return n})();const RX=new Xe("FloatingLabelParent");let PX=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Ze(zDe),this._ngZone=Ze(at),this._parent=Ze(RX),this._resizeSubscription=new Ue}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function m1e(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt))};static#t=this.\u0275dir=je({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Ft("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const OX="mdc-line-ripple--active",nI="mdc-line-ripple--deactivating";let NX=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(nI);"opacity"===r.propertyName&&o&&s.remove(OX,nI)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(nI),e.add(OX)}deactivate(){this._elementRef.nativeElement.classList.add(nI)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(at))};static#t=this.\u0275dir=je({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),FX=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(at))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&Ji(HDe,5),2&i){let s;Xt(s=Zt())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Ft("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:UDe,ngContentSelectors:jDe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(ul(),ut(0,"div",0),te(1,"div",1,2),wr(3),ne(),ut(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const _1e={transitionMessages:V0("transitionMessages",[zu("enter",oo({opacity:1,transform:"translateY(0%)"})),ad("void => enter",[oo({opacity:0,transform:"translateY(-5px)"}),od("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let LX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n})}return n})();const EF=new Xe("MatFormField"),v1e=new Xe("MAT_FORM_FIELD_DEFAULT_OPTIONS");let VX=0,x1e=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=so(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,o,c,u,f){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=c,this._animationMode=u,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+VX++,this._hintLabelId="mat-mdc-hint-"+VX++,this._subscriptAnimationState="",this._destroyed=new _e,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Qt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Fe(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Qt(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Qt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(Lr),$(at),$(n_),$(ls),$(v1e,8),$(Hd,8),$(sn))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(ci(s,CF,5),ci(s,CF,7),ci(s,LX,5),ci(s,p1e,5),ci(s,MX,5),ci(s,h1e,5),ci(s,kX,5)),2&i){let o;Xt(o=Zt())&&(r._labelChildNonStatic=o.first),Xt(o=Zt())&&(r._labelChildStatic=o.first),Xt(o=Zt())&&(r._formFieldControl=o.first),Xt(o=Zt())&&(r._prefixChildren=o),Xt(o=Zt())&&(r._suffixChildren=o),Xt(o=Zt())&&(r._errorChildren=o),Xt(o=Zt())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(1&i&&(Ji(WDe,5),Ji(GDe,5),Ji($De,5),Ji(PX,5),Ji(FX,5),Ji(NX,5)),2&i){let s;Xt(s=Zt())&&(r._textField=s.first),Xt(s=Zt())&&(r._iconPrefixContainer=s.first),Xt(s=Zt())&&(r._textPrefixContainer=s.first),Xt(s=Zt())&&(r._floatingLabel=s.first),Xt(s=Zt())&&(r._notchedOutline=s.first),Xt(s=Zt())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Ft("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ri([{provide:EF,useExisting:n},{provide:RX,useExisting:n}])],ngContentSelectors:u1e,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(ul(d1e),De(0,XDe,1,1,"ng-template",null,0,zi),te(2,"div",1,2),et("click",function(o){return r._control.onContainerClick(o)}),De(4,ZDe,1,0,"div",3),te(5,"div",4),De(6,JDe,2,2,"div",5),De(7,e1e,3,0,"div",6),De(8,t1e,3,0,"div",7),te(9,"div",8),De(10,i1e,1,1,"ng-template",9),wr(11),ne(),De(12,r1e,2,0,"div",10),De(13,s1e,2,0,"div",11),ne(),De(14,o1e,1,0,"div",12),ne(),te(15,"div",13),De(16,a1e,2,1,"div",14),De(17,c1e,5,2,"div",15),ne()),2&i&&(se(2),Ft("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),se(2),oe("ngIf",!r._hasOutline()&&!r._control.disabled),se(2),oe("ngIf",r._hasOutline()),se(1),oe("ngIf",r._hasIconPrefix),se(1),oe("ngIf",r._hasTextPrefix),se(2),oe("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),se(2),oe("ngIf",r._hasTextSuffix),se(1),oe("ngIf",r._hasIconSuffix),se(1),oe("ngIf",!r._hasOutline()),se(1),Ft("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),oe("ngSwitch",r._getDisplayedMessages()),se(1),oe("ngSwitchCase","error"),se(1),oe("ngSwitchCase","hint"))},dependencies:[Cr,gs,xg,NC,kX,PX,FX,NX],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[_1e.transitionMessages]},changeDetection:0})}return n})(),HX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({imports:[rd,Yd,P9,rd]})}return n})();const UX=Lu({passive:!0});let w1e=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return oi;const i=Bu(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new _e,o="cdk-text-field-autofilled",c=u=>{"cdk-text-field-autofill-start"!==u.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===u.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:u.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:u.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",c,UX),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",c,UX)}}),s}stopMonitoring(e){const i=Bu(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ls),ce(at))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),C1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})();const jX=new Xe("MAT_INPUT_VALUE_ACCESSOR"),E1e=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let D1e=0;const I1e=uDe(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new _e}});let T1e=(()=>{class n extends I1e{get disabled(){return this._disabled}set disabled(e){this._disabled=so(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ao.required)??!1}set required(e){this._required=so(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&k9().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=so(e)}constructor(e,i,r,s,o,c,u,f,_,C){super(c,s,o,r),this._elementRef=e,this._platform=i,this._autofillMonitor=f,this._formField=C,this._uid="mat-input-"+D1e++,this.focused=!1,this.stateChanges=new _e,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(L=>k9().has(L)),this._iOSKeyupListener=L=>{const z=L.target;!z.value&&0===z.selectionStart&&0===z.selectionEnd&&(z.setSelectionRange(1,1),z.setSelectionRange(0,0))};const S=this._elementRef.nativeElement,R=S.nodeName.toLowerCase();this._inputValueAccessor=u||S,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&_.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===R,this._isTextarea="textarea"===R,this._isInFormField=!!C,this._isNativeSelect&&(this.controlType=S.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){E1e.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(ls),$(id,10),$(A0,8),$(Zm,8),$(yDe),$(jX,10),$(w1e),$(at),$(EF,8))};static#t=this.\u0275dir=je({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&et("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(_o("id",r.id)("disabled",r.disabled)("required",r.required),Ut("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Ft("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[ri([{provide:LX,useExisting:n}]),Dn,Nn]})}return n})(),S1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({imports:[rd,HX,HX,C1e,rd]})}return n})();const A1e=["mat-calendar-body",""];function k1e(n,t){if(1&n&&(te(0,"tr",3)(1,"td",4),Ve(2),ne()()),2&n){const e=Ee();se(1),go("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Ut("colspan",e.numCols),se(1),li(" ",e.label," ")}}function M1e(n,t){if(1&n&&(te(0,"td",4),Ve(1),ne()),2&n){const e=Ee(2);go("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Ut("colspan",e._firstRowOffset),se(1),li(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function R1e(n,t){if(1&n){const e=qn();te(0,"td",8)(1,"button",9),et("click",function(r){const o=bt(e).$implicit;return Ct(Ee(2)._cellClicked(o,r))})("focus",function(r){const o=bt(e).$implicit;return Ct(Ee(2)._emitActiveDateChange(o,r))}),te(2,"span",10),Ve(3),ne(),ut(4,"span",11),ne()()}if(2&n){const e=t.$implicit,i=t.index,r=Ee().index,s=Ee();go("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),Ut("data-mat-row",r)("data-mat-col",i),se(1),Ft("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),oe("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),Ut("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null)("aria-describedby",s._getDescribedby(e.compareValue)),se(1),Ft("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),se(1),li(" ",e.displayValue," ")}}function P1e(n,t){if(1&n&&(te(0,"tr",5),De(1,M1e,2,6,"td",6),De(2,R1e,5,48,"td",7),ne()),2&n){const e=t.$implicit,i=t.index,r=Ee();se(1),oe("ngIf",0===i&&r._firstRowOffset),se(1),oe("ngForOf",e)}}function O1e(n,t){if(1&n&&(te(0,"th",5)(1,"span",6),Ve(2),ne(),te(3,"span",7),Ve(4),ne()()),2&n){const e=t.$implicit;se(2),pr(e.long),se(2),pr(e.narrow)}}const N1e=["*"];function F1e(n,t){}function L1e(n,t){if(1&n){const e=qn();te(0,"mat-month-view",5),et("activeDateChange",function(r){return bt(e),Ct(Ee().activeDate=r)})("_userSelection",function(r){return bt(e),Ct(Ee()._dateSelected(r))})("dragStarted",function(r){return bt(e),Ct(Ee()._dragStarted(r))})("dragEnded",function(r){return bt(e),Ct(Ee()._dragEnded(r))}),ne()}if(2&n){const e=Ee();oe("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function V1e(n,t){if(1&n){const e=qn();te(0,"mat-year-view",6),et("activeDateChange",function(r){return bt(e),Ct(Ee().activeDate=r)})("monthSelected",function(r){return bt(e),Ct(Ee()._monthSelectedInYearView(r))})("selectedChange",function(r){return bt(e),Ct(Ee()._goToDateInView(r,"month"))}),ne()}if(2&n){const e=Ee();oe("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function B1e(n,t){if(1&n){const e=qn();te(0,"mat-multi-year-view",7),et("activeDateChange",function(r){return bt(e),Ct(Ee().activeDate=r)})("yearSelected",function(r){return bt(e),Ct(Ee()._yearSelectedInMultiYearView(r))})("selectedChange",function(r){return bt(e),Ct(Ee()._goToDateInView(r,"year"))}),ne()}if(2&n){const e=Ee();oe("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function z1e(n,t){}const H1e=["button"];function U1e(n,t){1&n&&(Tp(),te(0,"svg",3),ut(1,"path",4),ne())}const j1e=[[["","matDatepickerToggleIcon",""]]],W1e=["[matDatepickerToggleIcon]"];let z0=(()=>{class n{constructor(){this.changes=new _e,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class DF{constructor(t,e,i,r,s={},o=t,c){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=o,this.rawValue=c}}let G1e=1;const WX=Lu({passive:!1,capture:!0}),Hu=Lu({passive:!0,capture:!0}),iI=Lu({passive:!0});let i_=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=Ze(ls),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Be,this.previewChange=new Be,this.activeDateChange=new Be,this.dragStarted=new Be,this.dragEnded=new Be,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const s=GX(r),o=s?this._getCellFromElement(s):null;s!==r.target&&(this._didDragSinceMouseDown=!0),TF(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=r.target&&this._getCellFromElement(r.target);!s||!this._isInRange(s.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const s=TF(r.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const o=this._getCellFromElement(s);this.dragEnded.emit({value:o?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const s=GX(r);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+G1e++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,WX),r.addEventListener("mouseenter",this._enterHandler,Hu),r.addEventListener("focus",this._enterHandler,Hu),r.addEventListener("mouseleave",this._leaveHandler,Hu),r.addEventListener("blur",this._leaveHandler,Hu),r.addEventListener("mousedown",this._mousedownHandler,iI),r.addEventListener("touchstart",this._mousedownHandler,iI),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,WX),e.removeEventListener("mouseenter",this._enterHandler,Hu),e.removeEventListener("focus",this._enterHandler,Hu),e.removeEventListener("mouseleave",this._leaveHandler,Hu),e.removeEventListener("blur",this._leaveHandler,Hu),e.removeEventListener("mousedown",this._mousedownHandler,iI),e.removeEventListener("touchstart",this._mousedownHandler,iI),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return SF(e,this.startValue,this.endValue)}_isRangeEnd(e){return AF(e,this.startValue,this.endValue)}_isInRange(e){return kF(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return SF(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const o=this.rows[i-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const o=this.rows[i+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return AF(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return kF(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return SF(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return AF(e,this.previewStart,this.previewEnd)}_isInPreview(e){return kF(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const i=TF(e);if(i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(at))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Nn],attrs:A1e,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,r){1&i&&(De(0,k1e,3,6,"tr",0),De(1,P1e,3,2,"tr",1),te(2,"label",2),Ve(3),ne(),te(4,"label",2),Ve(5),ne()),2&i&&(oe("ngIf",r._firstRowOffset<r.labelMinRequiredCells),se(1),oe("ngForOf",r.rows),se(1),oe("id",r._startDateLabelId),se(1),li(" ",r.startDateAccessibleName,"\n"),se(1),oe("id",r._endDateLabelId),se(1),li(" ",r.endDateAccessibleName,"\n"))},dependencies:[qa,Br,Cr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return n})();function IF(n){return"TD"===n?.nodeName}function TF(n){let t;return IF(n)?t=n:IF(n.parentNode)?t=n.parentNode:IF(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function SF(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function AF(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function kF(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}function GX(n){const t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class Mo{constructor(t,e){this.start=t,this.end=e}}let Uu=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new _e,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static#e=this.\u0275fac=function(i){Yw()};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),$1e=(()=>{class n extends Uu{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Ls))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const $X={provide:Uu,deps:[[new v,new T,Uu],Ls],useFactory:function q1e(n,t){return n||new $1e(t)}},rI=new Xe("MAT_DATE_RANGE_SELECTION_STRATEGY");let YX=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Mo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=o,this._rerenderSubscription=Ue.EMPTY,this.activeDrag=null,this.selectedChange=new Be,this._userSelection=new Be,this.dragStarted=new Be,this.dragEnded=new Be,this.activeDateChange=new Be,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Cl(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,o;this._selected instanceof Mo?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),(s!==i||o!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!e_(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const r=i?i.rawValue:null,s=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&r){const o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((o,c)=>({long:o,narrow:i[c]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),c=this._shouldEnableDate(o),u=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),f=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new DF(r+1,i[r],u,c,f,this._getCellCompareValue(o),o))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Mo?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(i){return new(i||n)($(Lr),$(Rf,8),$(Ls,8),$(n_,8),$(rI,8))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,r){if(1&i&&Ji(i_,5),2&i){let s;Xt(s=Zt())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Nn],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(i,r){1&i&&(te(0,"table",0)(1,"thead",1)(2,"tr"),De(3,O1e,5,2,"th",2),ne(),te(4,"tr"),ut(5,"th",3),ne()(),te(6,"tbody",4),et("selectedValueChange",function(o){return r._dateSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("previewChange",function(o){return r._previewChanged(o)})("dragStarted",function(o){return r.dragStarted.emit(o)})("dragEnded",function(o){return r._dragEnded(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),ne()()),2&i&&(se(3),oe("ngForOf",r._weekdays),se(3),oe("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Br,i_],encapsulation:2,changeDetection:0})}return n})();const Ca=24;let qX=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),XX(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Mo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Ue.EMPTY,this.selectedChange=new Be,this.yearSelected=new Be,this.activeDateChange=new Be,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Cl(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-H0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<Ca;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-H0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ca-H0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-Ca:-Ca);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*Ca:Ca);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return H0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new DF(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Mo){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static#e=this.\u0275fac=function(i){return new(i||n)($(Lr),$(Ls,8),$(n_,8))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,r){if(1&i&&Ji(i_,5),2&i){let s;Xt(s=Zt())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,r){1&i&&(te(0,"table",0)(1,"thead",1)(2,"tr"),ut(3,"th",2),ne()(),te(4,"tbody",3),et("selectedValueChange",function(o){return r._yearSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),ne()()),2&i&&(se(4),oe("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[i_],encapsulation:2,changeDetection:0})}return n})();function XX(n,t,e,i,r){const s=n.getYear(t),o=n.getYear(e),c=ZX(n,i,r);return Math.floor((s-c)/Ca)===Math.floor((o-c)/Ca)}function H0(n,t,e,i){return function Q1e(n,t){return(n%t+t)%t}(n.getYear(t)-ZX(n,e,i),Ca)}function ZX(n,t,e){let i=0;return e?i=n.getYear(e)-Ca+1:t&&(i=n.getYear(t)),i}let KX=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Mo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Ue.EMPTY,this.selectedChange=new Be,this.monthSelected=new Be,this.activeDateChange=new Be,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Cl(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(r,"year"):void 0;return new DF(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),o)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Mo?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}static#e=this.\u0275fac=function(i){return new(i||n)($(Lr),$(Rf,8),$(Ls,8),$(n_,8))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,r){if(1&i&&Ji(i_,5),2&i){let s;Xt(s=Zt())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,r){1&i&&(te(0,"table",0)(1,"thead",1)(2,"tr"),ut(3,"th",2),ne()(),te(4,"tbody",3),et("selectedValueChange",function(o){return r._monthSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),ne()()),2&i&&(se(4),oe("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[i_],encapsulation:2,changeDetection:0})}return n})(),J1e=1,eIe=(()=>{class n{constructor(e,i,r,s,o){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._id="mat-calendar-header-"+J1e++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Ca)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Ca)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):XX(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-H0(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+Ca-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}static#e=this.\u0275fac=function(i){return new(i||n)($(z0),$(we(()=>PF)),$(Ls,8),$(Rf,8),$(Lr))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:N1e,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(i,r){1&i&&(ul(),te(0,"div",0)(1,"div",1)(2,"button",2),et("click",function(){return r.currentPeriodClicked()}),te(3,"span",3),Ve(4),ne(),Tp(),te(5,"svg",4),ut(6,"polygon",5),ne()(),function qx(){!function FT(){Jt.lFrame.currentNamespace=null}()}(),ut(7,"div",6),wr(8),te(9,"button",7),et("click",function(){return r.previousClicked()}),ne(),te(10,"button",8),et("click",function(){return r.nextClicked()}),ne()()(),te(11,"label",9),Ve(12),ne()),2&i&&(se(2),Ut("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),se(2),pr(r.periodButtonText),se(1),Ft("mat-calendar-invert","month"!==r.calendar.currentView),se(4),oe("disabled",!r.previousEnabled()),Ut("aria-label",r.prevButtonLabel),se(1),oe("disabled",!r.nextEnabled()),Ut("aria-label",r.nextButtonLabel),se(1),oe("id",r._periodButtonLabelId),se(1),pr(r.periodButtonDescription))},dependencies:[EX,DX],encapsulation:2,changeDetection:0})}return n})(),PF=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Mo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Be,this.yearSelected=new Be,this.monthSelected=new Be,this.viewChanged=new Be(!0),this._userSelection=new Be,this._userDragDrop=new Be,this._activeDrag=null,this.stateChanges=new _e,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new _F(this.headerComponent||eIe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Mo||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(i){return new(i||n)($(z0),$(Ls,8),$(Rf,8),$(Lr))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,r){if(1&i&&(Ji(YX,5),Ji(KX,5),Ji(qX,5)),2&i){let s;Xt(s=Zt())&&(r.monthView=s.first),Xt(s=Zt())&&(r.yearView=s.first),Xt(s=Zt())&&(r.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[ri([$X]),Nn],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(i,r){1&i&&(De(0,F1e,0,0,"ng-template",0),te(1,"div",1),De(2,L1e,1,11,"mat-month-view",2),De(3,V1e,1,6,"mat-year-view",3),De(4,B1e,1,6,"mat-multi-year-view",4),ne()),2&i&&(oe("cdkPortalOutlet",r._calendarHeaderPortal),se(1),oe("ngSwitch",r.currentView),se(1),oe("ngSwitchCase","month"),se(1),oe("ngSwitchCase","year"),se(1),oe("ngSwitchCase","multi-year"))},dependencies:[xg,NC,wEe,Q9,YX,KX,qX],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button,.mat-datepicker-content .mat-calendar-next-button{color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return n})();const QX={transformPanel:V0("transformPanel",[ad("void => enter-dropdown",od("120ms cubic-bezier(0, 0, 0.2, 1)",SX([oo({opacity:0,transform:"scale(1, 0.8)"}),oo({opacity:1,transform:"scale(1, 1)"})]))),ad("void => enter-dialog",od("150ms cubic-bezier(0, 0, 0.2, 1)",SX([oo({opacity:0,transform:"scale(0.7)"}),oo({transform:"none",opacity:1})]))),ad("* => void",od("100ms linear",oo({opacity:0})))]),fadeInCalendar:V0("fadeInCalendar",[zu("void",oo({opacity:0})),zu("enter",oo({opacity:1})),ad("void => *",od("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let tIe=0;const JX=new Xe("mat-datepicker-scroll-strategy"),iIe={provide:JX,deps:[J1],useFactory:function nIe(n){return()=>n.scrollStrategies.reposition()}},rIe=fX(class{constructor(n){this._elementRef=n}});let sIe=(()=>{class n extends rIe{constructor(e,i,r,s,o,c){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=o,this._subscriptions=new Ue,this._animationDone=new _e,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=c.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof Mo;if(s&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(o,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(Lr),$(Uu),$(Ls),$(rI,8),$(z0))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,r){if(1&i&&Ji(PF,5),2&i){let s;Xt(s=Zt())&&(r._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(i,r){1&i&&lA("@transformPanel.start",function(o){return r._handleAnimationEvent(o)})("@transformPanel.done",function(o){return r._handleAnimationEvent(o)}),2&i&&(lC("@transformPanel",r._animationState),Ft("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[Dn],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(i,r){if(1&i&&(te(0,"div",0)(1,"mat-calendar",1),et("yearSelected",function(o){return r.datepicker._selectYear(o)})("monthSelected",function(o){return r.datepicker._selectMonth(o)})("viewChanged",function(o){return r.datepicker._viewChanged(o)})("_userSelection",function(o){return r._handleUserSelection(o)})("_userDragDrop",function(o){return r._handleUserDragDrop(o)}),ne(),De(2,z1e,0,0,"ng-template",2),te(3,"button",3),et("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),Ve(4),ne()()),2&i){let s;Ft("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Ut("aria-modal",!0)("aria-labelledby",null!==(s=r._dialogLabelId)&&void 0!==s?s:void 0),se(1),oe("id",r.datepicker.id)("ngClass",r.datepicker.panelClass)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),se(1),oe("cdkPortalOutlet",r._actionsPortal),se(1),Ft("cdk-visually-hidden",!r._closeButtonFocused),oe("color",r.color||"primary"),se(1),pr(r._closeButtonText)}},dependencies:[qa,EX,mEe,Q9,PF],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[QX.transformPanel,QX.fadeInCalendar]},changeDetection:0})}return n})(),e7=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=so(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=so(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=so(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function XCe(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){so(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,r,s,o,c,u){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=o,this._dir=c,this._model=u,this._inputStateChanges=Ue.EMPTY,this._document=Ze(sn),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new Be,this.monthSelected=new Be,this.viewChanged=new Be(!0),this.openedStream=new Be,this.closedStream=new Be,this._opened=!1,this.id="mat-datepicker-"+tIe++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new _e,this._scrollStrategy=s}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof aX&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=M9(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(Kn(1)).subscribe(()=>{const o=this._document.activeElement;e&&(!o||o===this._document.activeElement||s.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new _F(sIe,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new iX({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const o=s.keyCode;(38===o||40===o||37===o||39===o||33===o||34===o)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",o="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:o,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o}])}_getCloseStream(e){const i=["ctrlKey","shiftKey","metaKey"];return Fe(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Bn(r=>27===r.keyCode&&!e_(r)||this.datepickerInput&&e_(r,"altKey")&&38===r.keyCode&&i.every(s=>!e_(r,s)))))}static#e=this.\u0275fac=function(i){return new(i||n)($(J1),$(at),$(Zs),$(JX),$(Ls,8),$(n_,8),$(Uu))};static#t=this.\u0275dir=je({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Nn]})}return n})(),oIe=(()=>{class n extends e7{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mi(n)))(r||n)}}();static#t=this.\u0275cmp=Wt({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[ri([$X,{provide:e7,useExisting:n}]),Dn],decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}return n})();class sI{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let aIe=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=so(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new sI(this,this._elementRef.nativeElement)),this.dateChange.emit(new sI(this,this._elementRef.nativeElement))}})}constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new Be,this.dateInput=new Be,this.stateChanges=new _e,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ue.EMPTY,this._localeSubscription=Ue.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),c=this._getMinDate();return!c||!o||this._dateAdapter.compareDate(c,o)<=0?null:{matDatepickerMin:{min:c,actual:o}}},this._maxValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),c=this._getMaxDate();return!c||!o||this._dateAdapter.compareDate(c,o)>=0?null:{matDatepickerMax:{max:c,actual:o}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function lIe(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e_(e,"altKey")&&40===e.keyCode&&["ctrlKey","shiftKey","metaKey"].every(s=>!e_(e,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new sI(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new sI(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(Ls,8),$(Rf,8))};static#t=this.\u0275dir=je({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Nn]})}return n})();const cIe={provide:wa,useExisting:we(()=>OF),multi:!0},dIe={provide:Es,useExisting:we(()=>OF),multi:!0};let OF=(()=>{class n extends aIe{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Ue.EMPTY,this._validator=Ao.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(Ls,8),$(Rf,8),$(EF,8))};static#t=this.\u0275dir=je({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,r){1&i&&et("input",function(o){return r._onInput(o.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(o){return r._onKeydown(o)}),2&i&&(_o("disabled",r.disabled),Ut("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",(null==r._datepicker?null:r._datepicker.opened)&&r._datepicker.id||null)("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[ri([cIe,dIe,{provide:jX,useExisting:n}]),Dn]})}return n})(),uIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["","matDatepickerToggleIcon",""]]})}return n})(),hIe=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=so(e)}constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Ue.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Pe(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Pe(),r=this.datepicker?Fe(this.datepicker.openedStream,this.datepicker.closedStream):Pe();this._stateChanges.unsubscribe(),this._stateChanges=Fe(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)($(z0),$(Lr),Xl("tabindex"))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,r,s){if(1&i&&ci(s,uIe,5),2&i){let o;Xt(o=Zt())&&(r._customIcon=o.first)}},viewQuery:function(i,r){if(1&i&&Ji(H1e,5),2&i){let s;Xt(s=Zt())&&(r._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,r){1&i&&et("click",function(o){return r._open(o)}),2&i&&(Ut("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),Ft("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&"accent"===r.datepicker.color)("mat-warn",r.datepicker&&"warn"===r.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Nn],ngContentSelectors:W1e,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,r){1&i&&(ul(j1e),te(0,"button",0,1),De(2,U1e,2,0,"svg",2),wr(3),ne()),2&i&&(oe("disabled",r.disabled)("disableRipple",r.disableRipple),Ut("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),se(2),oe("ngIf",!r._customIcon))},dependencies:[Cr,DX],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return n})(),gIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({providers:[z0,iIe],imports:[Yd,LDe,oDe,CEe,J9,rd,gF]})}return n})();function mIe(n,t){if(1&n){const e=qn();te(0,"div",12)(1,"div",13),et("click",function(){const s=bt(e).$implicit;return Ct(Ee().redirectPetPage(s.id||""))}),ut(2,"img",14),te(3,"div",15)(4,"p"),Ve(5),ne()()()()}if(2&n){const e=t.$implicit;se(1),ec("id",e.id),se(1),ec("src",e.profile_image,Yp),se(3),pr(e.name)}}let _Ie=(()=>{class n{constructor(e,i,r){this.apiService=e,this.router=i,this.datePipe=r,this.savedPets=[],this.petModel=new BN,this.showData()}openForm(){const e=document.getElementById("myForm");e&&(e.style.display="block")}closeForm(){const e=document.getElementById("myForm");e&&(e.style.display="none")}redirectPetPage(e){this.router.navigate(["pet-profile"],{queryParams:{petId:e}})}registerPet(){this.petModel.client_id="VPUnbME8Kt27zmF7q7ne",this.apiService.postClientPets(this.petModel),location.reload(),this.closeForm()}showData(){this.apiService.getClientPets("VPUnbME8Kt27zmF7q7ne").then(e=>{this.apiService.petsArray=e;for(const i of this.apiService.petsArray)""==i.profile_image?i.profile_image="Toby"==i.name?"/assets/img/dogImage1.jpg":"Dobby"==i.name?"/assets/img/dogImage2.jpg":"Darwin"==i.name?"/assets/img/catImage.avif":"/assets/img/logo_default.svg":"Toby"==i.name?i.profile_image="/assets/img/dogImage1.jpg":"Dobby"==i.name?i.profile_image="/assets/img/dogImage2.jpg":"Darwin"==i.name&&(i.profile_image="/assets/img/catImage.avif");console.log(e)})}onDateInput(e){this.petModel.birth=this.datePipe.transform(e.value,"ddMMyyyy")+"_00:00"}static#e=this.\u0275fac=function(i){return new(i||n)($(Ou),$(Cs),$(oy))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["app-pets-list"]],decls:23,vars:6,consts:[[1,"open-button",3,"click"],["id","myForm",1,"form-popup"],[1,"form-container"],["type","text","placeholder","Enter Pet name","name","pet-name","required","",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter pet type","name","pet-type","required","",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Pet breed","name","pet-breed","required","",3,"ngModel","ngModelChange"],["matInput","",3,"matDatepicker","dateInput"],["matSuffix","",3,"for"],["picker",""],["type","button",1,"btn",3,"click"],["type","button",1,"btn","cancel",3,"click"],["class","module","style","text-align: center;",4,"ngFor","ngForOf"],[1,"module",2,"text-align","center"],[1,"image-container",3,"id","click"],["width","50px","alt","Pet",3,"src"],[1,"overlay"]],template:function(i,r){if(1&i&&(te(0,"button",0),et("click",function(){return r.openForm()}),Ve(1,"+"),ne(),te(2,"div",1)(3,"form",2)(4,"h1"),Ve(5,"Register a new pet"),ne(),te(6,"input",3),et("ngModelChange",function(o){return r.petModel.name=o}),ne(),te(7,"input",4),et("ngModelChange",function(o){return r.petModel.type=o}),ne(),te(8,"input",5),et("ngModelChange",function(o){return r.petModel.breed=o}),ne(),te(9,"mat-form-field")(10,"mat-label"),Ve(11,"Enter pet birth"),ne(),te(12,"input",6),et("dateInput",function(o){return r.onDateInput(o)}),ne(),ut(13,"mat-datepicker-toggle",7)(14,"mat-datepicker",null,8),ne(),te(16,"button",9),et("click",function(){return r.registerPet()}),Ve(17,"Register"),ne(),te(18,"button",10),et("click",function(){return r.closeForm()}),Ve(19,"Close"),ne()()(),te(20,"h1"),Ve(21," Your pets\n"),ne(),De(22,mIe,6,3,"div",11)),2&i){const s=ii(15);se(6),oe("ngModel",r.petModel.name),se(1),oe("ngModel",r.petModel.type),se(1),oe("ngModel",r.petModel.breed),se(4),oe("matDatepicker",s),se(1),oe("for",s),se(9),oe("ngForOf",r.apiService.petsArray)}},dependencies:[Br,j1,qm,P1,O1,G1,tF,A0,oIe,OF,hIe,T1e,x1e,CF,g1e],styles:[".whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:10px;border-radius:20px;width:350px;margin-right:40px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}*[_ngcontent-%COMP%]{box-sizing:border-box}.open-button[_ngcontent-%COMP%]{background-color:#555;color:#fff;padding:16px 20px;border:none;cursor:pointer;opacity:.8;position:fixed;bottom:80px;right:10px}.form-popup[_ngcontent-%COMP%]{display:none;position:fixed;bottom:80px;right:15px;border:3px solid #f1f1f1;z-index:9}.form-container[_ngcontent-%COMP%]{max-width:300px;padding:10px;background-color:#fff}.form-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:15px;margin:5px 0 22px;border:none;background:#f1f1f1}.form-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{background-color:#ddd;outline:none}.form-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff;padding:16px 20px;border:none;cursor:pointer;width:50%;margin-bottom:10px;opacity:.8}.form-container[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:red}.form-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .open-button[_ngcontent-%COMP%]:hover{opacity:1}"]})}return n})();var Pf=function(n){return n.UserNotFound="auth/user-not-found",n.WrongPassword="auth/wrong-password",n.EmailInUse="auth/email-already-in-use",n.WeakPassword="auth/weak-password",n.BadEmail="auth/invalid-email",n.InvalidLogin="auth/invalid-login-credentials",n}(Pf||{});let n7=(()=>{class n{constructor(){}firebaseError(e){switch(e){case Pf.UserNotFound:return"User does not exist";case Pf.WrongPassword:return"Wrong password";case Pf.EmailInUse:return"Email already in use";case Pf.WeakPassword:return"Weak password, use 6 characters at least";case Pf.BadEmail:return"Invalid Email";case Pf.InvalidLogin:return"Credentials not accepted";default:return"Unknown error"}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const i7=["toast-component",""];function vIe(n,t){if(1&n){const e=qn();te(0,"button",5),et("click",function(){return bt(e),Ct(Ee().remove())}),te(1,"span",6),Ve(2,"\xd7"),ne()()}}function yIe(n,t){if(1&n&&(Uv(0),Ve(1),jv()),2&n){const e=Ee(2);se(1),li("[",e.duplicatesCount+1,"]")}}function bIe(n,t){if(1&n&&(te(0,"div"),Ve(1),De(2,yIe,2,1,"ng-container",4),ne()),2&n){const e=Ee();mo(e.options.titleClass),Ut("aria-label",e.title),se(1),li(" ",e.title," "),se(1),oe("ngIf",e.duplicatesCount)}}function xIe(n,t){if(1&n&&ut(0,"div",7),2&n){const e=Ee();mo(e.options.messageClass),oe("innerHTML",e.message,$p)}}function wIe(n,t){if(1&n&&(te(0,"div",8),Ve(1),ne()),2&n){const e=Ee();mo(e.options.messageClass),Ut("aria-label",e.message),se(1),li(" ",e.message," ")}}function CIe(n,t){if(1&n&&(te(0,"div"),ut(1,"div",9),ne()),2&n){const e=Ee();se(1),go("width",e.width+"%")}}class kIe{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class MIe{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class RIe{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new _e;_activate=new _e;_manualClose=new _e;_resetTimeout=new _e;_countDuplicate=new _e;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class oI{toastId;config;message;title;toastType;toastRef;_onTap=new _e;_onAction=new _e;constructor(t,e,i,r,s,o){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const s7=new Xe("ToastConfig");class PIe extends MIe{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){const i=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let OIe=(()=>{class n{_document=Ze(sn);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class NIe{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let FIe=(()=>{class n{_overlayContainer=Ze(OIe);_componentFactoryResolver=Ze(Ud);_appRef=Ze(Ga);_document=Ze(sn);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new PIe(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new NIe(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aI=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,i,r={},s=""){return this._preBuildNotification(s,e,i,this.applyConfig(r))}success(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(r))}error(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(r))}info(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(r))}warning(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(r))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const c of this.toasts)if((!o||o&&c.title===e)&&c.message===i)return c.toastRef.onDuplicate(r,s),c;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,s)):this._buildNotification(e,i,r,s)}_buildNotification(e,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=i;let c=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(c=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let f=i;i&&s.enableHtml&&(f=this.sanitizer.sanitize(ua.HTML,i));const _=new RIe(u),C=new oI(this.index,s,f,r,e,_),R=fr.create({providers:[{provide:oI,useValue:C}],parent:this._injector}),L=new kIe(s.toastComponent,R),z=u.attach(L,s.newestOnTop);_.componentInstance=z.instance;const j={toastId:this.index,title:r||"",message:i||"",toastRef:_,onShown:_.afterActivate(),onHidden:_.afterClosed(),onTap:C.onTap(),onAction:C.onAction(),portal:z};return c||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{j.toastRef.activate()})),this.toasts.push(j),j}static \u0275fac=function(i){return new(i||n)(ce(s7),ce(FIe),ce(fr),ce(Nj),ce(at))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const LIe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||n)($(aI),$(oI),$(at))};static \u0275cmp=Wt({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){1&i&&et("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&i&&(lC("@flyInOut",r.state),mo(r.toastClasses),go("display",r.displayStyle))},standalone:!0,features:[Ho],attrs:i7,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){1&i&&(De(0,vIe,3,0,"button",0),De(1,bIe,3,5,"div",1),De(2,xIe,1,3,"div",2),De(3,wIe,2,4,"div",3),De(4,CIe,2,2,"div",4)),2&i&&(oe("ngIf",r.options.closeButton),se(1),oe("ngIf",r.title),se(1),oe("ngIf",r.message&&r.options.enableHtml),se(1),oe("ngIf",r.message&&!r.options.enableHtml),se(1),oe("ngIf",r.options.progressBar))},dependencies:[Cr],encapsulation:2,data:{animation:[V0("flyInOut",[zu("inactive",oo({opacity:0})),zu("active",oo({opacity:1})),zu("removed",oo({opacity:0})),ad("inactive => active",od("{{ easeTime }}ms {{ easing }}")),ad("active => removed",od("{{ easeTime }}ms {{ easing }}"))])]}})}return n})()},VIe=(n={})=>Ow([{provide:s7,useValue:{default:LIe,config:n}}]);let o7=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[VIe(e)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rt({type:n});static \u0275inj=Ae({})}return n})();function BIe(n,t){1&n&&(te(0,"span",10)(1,"strong"),Ve(2,"Mail"),ne(),Ve(3," is required "),ne())}function zIe(n,t){1&n&&(te(0,"span",10),Ve(1," Mail must be "),te(2,"strong"),Ve(3,"valid"),ne()())}function HIe(n,t){1&n&&(te(0,"span",10)(1,"strong"),Ve(2,"Password"),ne(),Ve(3," is required "),ne())}let UIe=(()=>{class n{constructor(e,i,r,s,o,c,u){this.fb=e,this.afAuth=i,this.router=r,this.fireBaseErrorService=s,this.toastr=o,this.storageService=c,this.apiService=u,this.loginUser=this.fb.group({email:["",[Ao.required,Ao.email]],password:["",Ao.required]}),this.subscription=this.storageService.isLoggedIn.subscribe(f=>{1==f&&this.router.navigate(["dashboard"])})}login(){this.afAuth.signInWithEmailAndPassword(this.loginUser.value.email,this.loginUser.value.password).then(r=>{this.storageService.isLoggedNext(!0),this.storageService.SessionAddStorage("uid",r.user?.uid),this.router.navigate(["appointments"])}).catch(r=>{this.toastr.error(this.fireBaseErrorService.firebaseError(r.code),"Error")})}static#e=this.\u0275fac=function(i){return new(i||n)($(S9),$(Tg),$(Cs),$(n7),$(aI),$(Df),$(Ou))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["app-login"]],decls:20,vars:5,consts:[[1,"wrapper"],[1,"body"],["src","../../../assets/img/login-person.png","alt","Login",1,"logo"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["class","text-danger errorLabel",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"text-danger","errorLabel"]],template:function(i,r){if(1&i&&(te(0,"div",0)(1,"div",1),ut(2,"img",2),te(3,"h1"),Ve(4,"Login"),ne(),te(5,"form",3),et("ngSubmit",function(){return r.login()}),te(6,"div",4),ut(7,"input",5),te(8,"label"),Ve(9,"Email"),ne(),De(10,BIe,4,0,"span",6),De(11,zIe,4,0,"span",6),ne(),te(12,"div",4),ut(13,"input",7),te(14,"label"),Ve(15,"Password"),ne(),De(16,HIe,4,0,"span",6),ne(),te(17,"div",8)(18,"button",9),Ve(19,"Login"),ne()()()()()),2&i){let s,o,c;se(5),oe("formGroup",r.loginUser),se(5),oe("ngIf",(null==(s=r.loginUser.get("email"))?null:s.hasError("required"))&&(null==(s=r.loginUser.get("email"))?null:s.touched)),se(1),oe("ngIf",(null==(o=r.loginUser.get("email"))?null:o.hasError("email"))&&(null==(o=r.loginUser.get("email"))?null:o.touched)),se(5),oe("ngIf",(null==(c=r.loginUser.get("password"))?null:c.hasError("required"))&&(null==(c=r.loginUser.get("password"))?null:c.touched)),se(2),oe("disabled",r.loginUser.invalid)}},dependencies:[Cr,j1,qm,P1,O1,Zm,W1],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:10px}.body[_ngcontent-%COMP%]{width:100%;max-width:330px;margin:auto;padding:30px;text-align:center}"]})}return n})();function jIe(n,t){1&n&&(te(0,"span",14)(1,"strong"),Ve(2,"Mail"),ne(),Ve(3," is required "),ne())}function WIe(n,t){1&n&&(te(0,"span",14),Ve(1," Mail must be "),te(2,"strong"),Ve(3,"valid"),ne()())}function GIe(n,t){1&n&&(te(0,"span",14)(1,"strong"),Ve(2,"Password"),ne(),Ve(3," is required "),ne())}function $Ie(n,t){1&n&&(te(0,"span",14)(1,"strong"),Ve(2,"Password"),ne(),Ve(3," is different "),ne())}function YIe(n,t){1&n&&(te(0,"span",14)(1,"strong"),Ve(2,"Name"),ne(),Ve(3," is required "),ne())}function qIe(n,t){1&n&&(te(0,"span",14),Ve(1," Provide at least "),te(2,"strong"),Ve(3,"one surname"),ne()())}function XIe(n,t){1&n&&(te(0,"span",14)(1,"strong"),Ve(2,"Phone number"),ne(),Ve(3," is required "),ne())}function ZIe(n,t){1&n&&(te(0,"span",14),Ve(1," Phone number "),te(2,"strong"),Ve(3,"must be valid "),ne()())}function KIe(n,t){1&n&&(te(0,"span",14)(1,"strong"),Ve(2,"Address"),ne(),Ve(3," is required "),ne())}let QIe=(()=>{class n{constructor(e,i,r,s,o,c,u){this.fb=e,this.afAuth=i,this.router=r,this.fireBaseErrorService=s,this.toastr=o,this.storageService=c,this.apiService=u,this.registerUser=this.fb.group({email:["",[Ao.required,Ao.email]],password:["",Ao.required],password_rep:["",[Ao.required]],name:["",Ao.required],surnames:["",[Ao.required]],phone:[" ",[Ao.required,Ao.min(1e8),Ao.max(999999999)]],address:["",Ao.required]}),this.subscription=this.storageService.isLoggedIn.subscribe(f=>{1==f&&this.router.navigate(["dashboard"])})}register(){const e=this.registerUser.value.email,i=this.registerUser.value.password;this.registerUser.value.password_rep!=this.registerUser.value.password&&this.toastr.error("Passwords do not match","Password error"),this.afAuth.createUserWithEmailAndPassword(e,i).then(r=>{this.apiService.addUser({id:r.user?.uid,name:this.registerUser.value.name,address:{latitude:"0.0",longitude:"0.0"},email:this.registerUser.value.email,phone:this.registerUser.value.phone,surnames:this.registerUser.value.surnames}),this.toastr.success("Register completed","Congratulations!"),this.router.navigate([""])}).catch(r=>{this.toastr.error(this.fireBaseErrorService.firebaseError(r.code),"Error")})}static#e=this.\u0275fac=function(i){return new(i||n)($(S9),$(Tg),$(Cs),$(n7),$(aI),$(Df),$(Ou))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["app-register"]],decls:45,vars:11,consts:[[1,"wrapper"],[1,"body"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["class","text-danger errorLabel",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["type","password","formControlName","password_rep","placeholder","Password Repeat",1,"form-control"],["type","text","formControlName","name","placeholder","Name",1,"form-control"],["type","text","formControlName","surnames","placeholder","Surnames",1,"form-control"],["type","number","formControlName","phone","placeholder","Phone",1,"form-control"],["type","text","formControlName","address","placeholder","Address",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"text-danger","errorLabel"]],template:function(i,r){if(1&i&&(te(0,"div",0)(1,"div",1)(2,"h1"),Ve(3,"Register"),ne(),te(4,"form",2),et("ngSubmit",function(){return r.register()}),te(5,"div",3),ut(6,"input",4),te(7,"label"),Ve(8,"Email"),ne(),De(9,jIe,4,0,"span",5),De(10,WIe,4,0,"span",5),ne(),te(11,"div",3),ut(12,"input",6),te(13,"label"),Ve(14,"Password"),ne(),De(15,GIe,4,0,"span",5),ne(),te(16,"div",3),ut(17,"input",7),te(18,"label"),Ve(19,"Repeat Password"),ne(),De(20,$Ie,4,0,"span",5),ne(),te(21,"div",3),ut(22,"input",8),te(23,"label"),Ve(24,"Name"),ne(),De(25,YIe,4,0,"span",5),ne(),te(26,"div",3),ut(27,"input",9),te(28,"label"),Ve(29,"Surnames"),ne(),De(30,qIe,4,0,"span",5),ne(),te(31,"div",3),ut(32,"input",10),te(33,"label"),Ve(34,"Phone number"),ne(),De(35,XIe,4,0,"span",5),De(36,ZIe,4,0,"span",5),ne(),te(37,"div",3),ut(38,"input",11),te(39,"label"),Ve(40,"Address"),ne(),De(41,KIe,4,0,"span",5),ne(),te(42,"div",12)(43,"button",13),Ve(44,"Register"),ne()()()()()),2&i){let s,o,c,u,f,_,C,S,R;se(4),oe("formGroup",r.registerUser),se(5),oe("ngIf",(null==(s=r.registerUser.get("email"))?null:s.hasError("required"))&&(null==(s=r.registerUser.get("email"))?null:s.touched)),se(1),oe("ngIf",(null==(o=r.registerUser.get("email"))?null:o.hasError("email"))&&(null==(o=r.registerUser.get("email"))?null:o.touched)),se(5),oe("ngIf",(null==(c=r.registerUser.get("password"))?null:c.hasError("required"))&&(null==(c=r.registerUser.get("password"))?null:c.touched)),se(5),oe("ngIf",(null==(u=r.registerUser.get("password_rep"))?null:u.hasError("checkPasswords"))&&(null==(u=r.registerUser.get("passwor_rep"))?null:u.touched)),se(5),oe("ngIf",(null==(f=r.registerUser.get("name"))?null:f.hasError("required"))&&(null==(f=r.registerUser.get("name"))?null:f.touched)),se(5),oe("ngIf",(null==(_=r.registerUser.get("surnames"))?null:_.hasError("required"))&&(null==(_=r.registerUser.get("surnames"))?null:_.touched)),se(5),oe("ngIf",(null==(C=r.registerUser.get("phone"))?null:C.hasError("required"))&&(null==(C=r.registerUser.get("phone"))?null:C.touched)),se(1),oe("ngIf",((null==(S=r.registerUser.get("phone"))?null:S.hasError("min"))||(null==(S=r.registerUser.get("phone"))?null:S.hasError("max")))&&(null==(S=r.registerUser.get("phone"))?null:S.touched)),se(5),oe("ngIf",(null==(R=r.registerUser.get("address"))?null:R.hasError("address"))&&(null==(R=r.registerUser.get("address"))?null:R.touched)),se(2),oe("disabled",r.registerUser.invalid)}},dependencies:[Cr,j1,qm,nF,P1,O1,Zm,W1],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:10px}.body[_ngcontent-%COMP%]{width:100%;max-width:330px;margin:auto;padding:30px;text-align:center}"]})}return n})();const a7=["*"];class kl{_clearListeners(){for(const t of this._listeners)t.remove();this._listeners=[]}constructor(t){this._ngZone=t,this._pending=[],this._listeners=[],this._targetStream=new be(void 0)}getLazyEmitter(t){return this._targetStream.pipe(tn(e=>{const i=new zt(r=>{if(!e)return void this._pending.push({observable:i,observer:r});const s=e.addListener(t,o=>{this._ngZone.run(()=>r.next(o))});if(s)return this._listeners.push(s),()=>s.remove();r.complete()});return i}))}setTarget(t){const e=this._targetStream.value;t!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(t),this._pending.forEach(i=>i.observable.subscribe(i.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const U0={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"};let Ro=(()=>{class n{set center(e){this._center=e}set zoom(e){this._zoom=e}set options(e){this._options=e||U0}constructor(e,i,r){if(this._elementRef=e,this._ngZone=i,this._eventManager=new kl(Ze(at)),this.height="500px",this.width="500px",this._options=U0,this.mapInitialized=new Be,this.authFailure=new Be,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=bk(r),this._isBrowser){const s=window;this._existingAuthFailureCallback=s.gm_authFailure,s.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(e){(e.height||e.width)&&this._setSize();const i=this.googleMap;i&&(e.options&&i.setOptions(this._combineOptions()),e.center&&this._center&&i.setCenter(this._center),e.zoom&&null!=this._zoom&&i.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&i.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._ngZone.runOutsideAngular(()=>{this.googleMap=new google.maps.Map(this._mapEl,this._combineOptions())}),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap))}ngOnDestroy(){this._eventManager.destroy(),this._isBrowser&&(window.gm_authFailure=this._existingAuthFailureCallback)}fitBounds(e,i){this._assertInitialized(),this.googleMap.fitBounds(e,i)}panBy(e,i){this._assertInitialized(),this.googleMap.panBy(e,i)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,i){this._assertInitialized(),this.googleMap.panToBounds(e,i)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const e=this._mapEl.style;e.height=null===this.height?"":d7(this.height)||"500px",e.width=null===this.width?"":d7(this.width)||"500px"}}_combineOptions(){const e=this._options||{};return{...e,center:this._center||e.center||U0.center,zoom:this._zoom??e.zoom??U0.zoom,mapTypeId:this.mapTypeId||e.mapTypeId||U0.mapTypeId}}_assertInitialized(){}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(at),$(po))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[Nn],ngContentSelectors:a7,decls:2,vars:0,consts:[[1,"map-container"]],template:function(i,r){1&i&&(ul(),ut(0,"div",0),wr(1))},encapsulation:2,changeDetection:0})}return n})();const JIe=/([A-Za-z%]+)$/;function d7(n){return null==n?"":JIe.test(n)?n:`${n}px`}const oTe={position:{lat:37.421995,lng:-122.084092}};let LF=(()=>{class n{set title(e){this._title=e}set position(e){this._position=e}set label(e){this._label=e}set clickable(e){this._clickable=e}set options(e){this._options=e}set icon(e){this._icon=e}set visible(e){this._visible=e}constructor(e,i){this._googleMap=e,this._ngZone=i,this._eventManager=new kl(Ze(at)),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this.marker=new google.maps.Marker(this._combineOptions())}),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker))}ngOnChanges(e){const{marker:i,_title:r,_position:s,_label:o,_clickable:c,_icon:u,_visible:f}=this;i&&(e.options&&i.setOptions(this._combineOptions()),e.title&&void 0!==r&&i.setTitle(r),e.position&&s&&i.setPosition(s),e.label&&void 0!==o&&i.setLabel(o),e.clickable&&void 0!==c&&i.setClickable(c),e.icon&&u&&i.setIcon(u),e.visible&&void 0!==f&&i.setVisible(f))}ngOnDestroy(){this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){const e=this._options||oTe;return{...e,title:this._title||e.title,position:this._position||e.position,label:this._label||e.label,clickable:this._clickable??e.clickable,map:this._googleMap.googleMap,icon:this._icon||e.icon,visible:this._visible??e.visible}}_assertInitialized(){}static#e=this.\u0275fac=function(i){return new(i||n)($(Ro),$(at))};static#t=this.\u0275dir=je({type:n,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"],features:[Nn]})}return n})(),mTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),u7=(()=>{class n{constructor(){this.zoom=15,this.options={mapTypeId:"hybrid",zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0,maxZoom:15,minZoom:8,disableDefaultUI:!0},this.markerOptions={draggable:!1,icon:{url:"../assets/mapIcons/user_position.svg",scaledSize:new google.maps.Size(50,50)}},this.parkMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_park.svg",scaledSize:new google.maps.Size(50,50)}},this.cofeeMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_cofee.svg",scaledSize:new google.maps.Size(50,50)}},this.hairMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_hair.svg",scaledSize:new google.maps.Size(50,50)}},this.hotelMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_hotel.svg",scaledSize:new google.maps.Size(50,50)}},this.storeMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_store.svg",scaledSize:new google.maps.Size(50,50)}},this.toystoreMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_toystore.svg",scaledSize:new google.maps.Size(50,50)}},this.markers=[],this.userMarker=new google.maps.Marker,this.marker1=new google.maps.Marker,this.marker2=new google.maps.Marker,this.marker3=new google.maps.Marker,this.marker4=new google.maps.Marker,this.marker5=new google.maps.Marker,this.marker6=new google.maps.Marker,this.apiKey="AIzaSyAouWao_x1bulJ9RkrfYpYP49u2a9RzSXw"}ngOnInit(){this.getPosition().then(e=>{e&&(this.center=e,this.userMarker.setPosition(e))}),this.generateMockMarkers()}generateMockMarkers(){this.marker1.setPosition({lat:41.616858,lng:.644994}),this.marker2.setPosition({lat:41.602403,lng:.646611}),this.marker3.setPosition({lat:41.593508,lng:.629787}),this.marker4.setPosition({lat:41.63944,lng:.627794}),this.marker5.setPosition({lat:41.627029,lng:.617831}),this.marker6.setPosition({lat:41.623057,lng:.601558}),this.marker1.setIcon()}getNearbyRestaurants(e){return fetch(`https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${e.lat},${e.lng}&radius=500&type=restaurant&key=${this.apiKey}`).then(s=>s.json()).then(s=>s.results).catch(s=>(console.error("Error al obtener restaurantes cercanos:",s),[]))}getPosition(){return new Promise((e,i)=>{navigator.geolocation.getCurrentPosition(r=>{e({lng:r.coords.longitude,lat:r.coords.latitude})},r=>{i(r)})})}toggleButtonClass(e){var i=document.getElementById(e);i instanceof HTMLButtonElement&&(i.classList.contains("button-on")?(i.classList.remove("button-on"),i.classList.add("button-off")):(i.classList.add("button-on"),i.classList.remove("button-off")))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Wt({type:n,selectors:[["app-map-page"]],decls:25,vars:16,consts:[["type","text","placeholder","Av/ John Doe num 18, Lleida",1,"input"],["height","500px","width","100%",3,"zoom","center"],[3,"options","position"],[1,"button-container"],["id","cafeBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/cafe_ico.svg","alt",""],["id","hairBtn",1,"button-on",3,"click"],["id","petstoreBtn",1,"button-on",3,"click"],["id","homeBtn",1,"button-off",3,"click"],["id","storeBtn",1,"button-on",3,"click"],["id","parkBtn",1,"button-on",3,"click"]],template:function(i,r){1&i&&(te(0,"h1"),Ve(1,"Interactive Map"),ne(),ut(2,"input",0),te(3,"google-map",1),ut(4,"map-marker",2)(5,"map-marker",2)(6,"map-marker",2)(7,"map-marker",2)(8,"map-marker",2)(9,"map-marker",2)(10,"map-marker",2),ne(),te(11,"div",3)(12,"button",4),et("click",function(){return r.toggleButtonClass("cafeBtn")}),ut(13,"img",5),ne(),te(14,"button",6),et("click",function(){return r.toggleButtonClass("hairBtn")}),ut(15,"img",5),ne(),te(16,"button",7),et("click",function(){return r.toggleButtonClass("petstoreBtn")}),ut(17,"img",5),ne()(),te(18,"div",3)(19,"button",8),et("click",function(){return r.toggleButtonClass("homeBtn")}),ut(20,"img",5),ne(),te(21,"button",9),et("click",function(){return r.toggleButtonClass("storeBtn")}),ut(22,"img",5),ne(),te(23,"button",10),et("click",function(){return r.toggleButtonClass("parkBtn")}),ut(24,"img",5),ne()()),2&i&&(se(3),oe("zoom",12)("center",r.center),se(1),oe("options",r.markerOptions)("position",r.userMarker.getPosition()),se(1),oe("options",r.parkMarkerOptions)("position",r.marker1.getPosition()),se(1),oe("options",r.cofeeMarkerOptions)("position",r.marker2.getPosition()),se(1),oe("options",r.hairMarkerOptions)("position",r.marker3.getPosition()),se(1),oe("options",r.hotelMarkerOptions)("position",r.marker4.getPosition()),se(1),oe("options",r.storeMarkerOptions)("position",r.marker5.getPosition()),se(1),oe("options",r.toystoreMarkerOptions)("position",r.marker6.getPosition()))},dependencies:[Ro,LF],styles:[".input[_ngcontent-%COMP%]{width:100%;margin:25px 0;border-radius:10px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:25px 50px}.button-on[_ngcontent-%COMP%]{margin:10px 0;padding:30px;background-color:#fff;border-radius:10px;box-shadow:#00000059 0 5px 15px;border:none;transition:background-color .3s ease}.button-off[_ngcontent-%COMP%]{margin:10px 0;padding:30px;background-color:#a9dfaa;border-radius:10px;box-shadow:inset 0 0 10px #00000080;border:none;transition:background-color .3s ease}"]})}return n})();function lI(n){return(lI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function gn(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function ui(n){gn(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||"object"===lI(n)&&"[object Date]"===t?new Date(n.getTime()):"number"==typeof n||"[object Number]"===t?new Date(n):(("string"==typeof n||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function h7(n,t){gn(2,arguments);var e=ui(n),i=ui(t);return e.getFullYear()===i.getFullYear()&&e.getMonth()===i.getMonth()}function j0(n){gn(1,arguments);var t=ui(n);return t.setHours(0,0,0,0),t}function f7(n,t){gn(2,arguments);var e=j0(n),i=j0(t);return e.getTime()===i.getTime()}var vTe=function(){function n(){}return n.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},n.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},n.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},n.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},n.prototype.position=function(t,e){void 0===e&&(e=!0);var i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i={top:(i=t.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},n.prototype.offset=function(t,e){void 0===e&&(e=!0);var i=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s},n.prototype.positionElements=function(t,e,i,r){var s=i.split("-"),o=s[0],c=void 0===o?"top":o,u=s[1],f=void 0===u?"center":u,_=r?this.offset(t,!1):this.position(t,!1),C=this.getAllStyles(e),S=parseFloat(C.marginTop),R=parseFloat(C.marginBottom),L=parseFloat(C.marginLeft),z=parseFloat(C.marginRight),j=0,ee=0;switch(c){case"top":j=_.top-(e.offsetHeight+S+R);break;case"bottom":j=_.top+_.height;break;case"left":ee=_.left-(e.offsetWidth+L+z);break;case"right":ee=_.left+_.width}switch(f){case"top":j=_.top;break;case"bottom":j=_.top+_.height-e.offsetHeight;break;case"left":ee=_.left;break;case"right":ee=_.left+_.width-e.offsetWidth;break;case"center":"top"===c||"bottom"===c?ee=_.left+_.width/2-e.offsetWidth/2:j=_.top+_.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(ee)+"px, "+Math.round(j)+"px)";var K=e.getBoundingClientRect(),ie=document.documentElement,ue=window.innerHeight||ie.clientHeight,Te=window.innerWidth||ie.clientWidth;return K.left>=0&&K.top>=0&&K.right<=Te&&K.bottom<=ue},n}(),yTe=/\s+/,p7=new vTe,Ml=function(){return Ml=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Ml.apply(this,arguments)},VF=function(n,t,e){if(e||2===arguments.length)for(var s,i=0,r=t.length;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return n.concat(s||Array.prototype.slice.call(t))},BF=function(n){return n[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",n}(BF||{}),xTe=[BF.SUNDAY,BF.SATURDAY],zF=7,ju=86400;function g7(n,t){var e=t.startDate,r=t.excluded,s=t.precision;if(r.length<1)return 0;for(var c=n.getDay,u=n.addDays,f=(0,n.addSeconds)(e,t.seconds-1),_=c(e),C=c(f),S=0,R=e,L=function(){var z=c(R);r.some(function(j){return j===z})&&(S+=function wTe(n,t){var i=t.day,s=t.dayEnd,o=t.startDate,c=t.endDate,u=n.differenceInSeconds,_=n.startOfDay;if("minutes"===t.precision){if(i===t.dayStart)return u((0,n.endOfDay)(o),o)+1;if(i===s)return u(c,_(c))+1}return ju}(n,{dayStart:_,dayEnd:C,day:z,precision:s,startDate:e,endDate:f})),R=u(R,1)};R<f;)L();return S}function W0(n,t){var i=t.periodStart,r=t.periodEnd;return t.events.filter(function(s){return function DTe(n,t){var e=t.event,i=t.periodStart,r=t.periodEnd,s=n.isSameSecond,o=e.start,c=e.end||e.start;return!!(o>i&&o<r||c>i&&c<r||o<i&&c>r||s(o,i)||s(o,r)||s(c,i)||s(c,r))}(n,{event:s,periodStart:i,periodEnd:r})})}function m7(n,t){var e=t.date,i=t.weekendDays,r=void 0===i?xTe:i,o=n.isSameDay,c=n.getDay,u=(0,n.startOfDay)(new Date),f=c(e);return{date:e,day:f,isPast:e<u,isToday:o(e,u),isFuture:e>u,isWeekend:r.indexOf(f)>-1}}function UF(n,t){for(var r=t.excluded,s=void 0===r?[]:r,o=t.weekendDays,c=t.viewStart,u=void 0===c?n.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):c,f=t.viewEnd,_=void 0===f?n.addDays(u,zF):f,C=n.addDays,S=n.getDay,R=[],L=u;L<_;)s.some(function(z){return S(L)===z})||R.push(m7(n,{date:L,weekendDays:o})),L=C(L,1);return R}function TTe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.excluded,s=void 0===r?[]:r,o=t.precision,c=void 0===o?"days":o,u=t.absolutePositionedEvents,f=void 0!==u&&u,_=t.viewStart,C=t.viewEnd;_=n.startOfDay(_),C=n.endOfDay(C);var S=n.differenceInSeconds,R=n.differenceInDays,L=function ITe(n,t){for(var i=t.date2,r=t.excluded,s=t.date1,o=0;s<i;)-1===r.indexOf(n.getDay(s))&&o++,s=n.addDays(s,1);return o}(n,{date1:_,date2:C,excluded:s}),z=R(C,_)+1,j=i.filter(function(ie){return ie.allDay}).map(function(ie){var ue=function ETe(n,t){var e=t.event,i=t.startOfWeek,r=t.excluded,s=t.precision,o=n.differenceInDays,c=n.startOfDay,u=n.differenceInSeconds;if(e.start<i)return 0;var f=0;switch(s){case"days":f=o(c(e.start),i)*ju;break;case"minutes":f=u(e.start,i)}return f-=g7(n,{startDate:i,seconds:f,excluded:r,precision:s}),Math.abs(f/ju)}(n,{event:ie,startOfWeek:_,excluded:s,precision:c}),Te=function CTe(n,t){var e=t.event,i=t.offset,s=t.excluded,o=t.precision,c=t.totalDaysInView,f=n.differenceInSeconds,_=n.addDays,C=n.endOfDay,S=n.differenceInDays,R=ju,L=(0,n.max)([e.start,t.startOfWeekDate]);e.end&&(R="minutes"===o?f(e.end,L):S(_(C(e.end),1),L)*ju);var z=i*ju,ee=c*ju;return z+R>ee&&(R=ee-z),(R-=g7(n,{startDate:L,seconds:R,excluded:s,precision:o}))/ju}(n,{event:ie,offset:ue,startOfWeekDate:_,excluded:s,precision:c,totalDaysInView:z});return{event:ie,offset:ue,span:Te}}).filter(function(ie){return ie.offset<L}).filter(function(ie){return ie.span>0}).map(function(ie){return{event:ie.event,offset:ie.offset,span:ie.span,startsBeforeWeek:ie.event.start<_,endsAfterWeek:(ie.event.end||ie.event.start)>C}}).sort(function(ie,ue){var Te=S(ie.event.start,ue.event.start);return 0===Te?S(ue.event.end||ue.event.start,ie.event.end||ie.event.start):Te}),ee=[],K=[];return j.forEach(function(ie,ue){if(-1===K.indexOf(ie)){K.push(ie);var Te=ie.span+ie.offset,We=j.slice(ue+1).filter(function(wt){if(wt.offset>=Te&&Te+wt.span<=z&&-1===K.indexOf(wt)){var St=wt.offset-Te;return f||(wt.offset=St),Te+=wt.span+St,K.push(wt),!0}}),dt=VF([ie],We,!0),ct=dt.filter(function(wt){return wt.event.id}).map(function(wt){return wt.event.id}).join("-");ee.push(Ml({row:dt},ct?{id:ct}:{}))}}),ee}function STe(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.hourDuration,o=t.dayStart,c=t.dayEnd,u=t.weekStartsOn,f=t.excluded,_=t.weekendDays,C=t.segmentHeight,S=t.viewStart,R=t.viewEnd,L=t.minimumEventHeight,z=function RTe(n,t){var e=t.viewDate,i=t.hourSegments,r=t.hourDuration,s=t.dayStart,o=t.dayEnd,c=n.setMinutes,u=n.setHours,f=n.startOfDay,_=n.startOfMinute,C=n.endOfDay,S=n.addMinutes,R=n.addDays,L=[],z=c(u(f(e),uI(s.hour)),hI(s.minute)),j=c(u(_(C(e)),uI(o.hour)),hI(o.minute)),ee=(r||60)/i,K=f(e),ie=C(e),ue=function(St){return St};n.getTimezoneOffset(K)!==n.getTimezoneOffset(ie)&&(K=R(K,1),z=R(z,1),j=R(j,1),ue=function(St){return R(St,-1)});for(var Te=r?1440/r:60,We=0;We<Te;We++){for(var dt=[],ct=0;ct<i;ct++){var wt=S(S(z,We*(r||60)),ct*ee);wt>=z&&wt<j&&dt.push({date:ue(wt),displayDate:wt,isStart:0===ct})}dt.length>0&&L.push({segments:dt})}return L}(n,{viewDate:i,hourSegments:r,hourDuration:s,dayStart:o,dayEnd:c}),j=UF(n,{viewDate:i,weekStartsOn:u,excluded:f,weekendDays:_,viewStart:S,viewEnd:R}),ee=n.setHours,K=n.setMinutes,ie=n.getHours,ue=n.getMinutes;return j.map(function(Te){var We=function MTe(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.dayStart,o=t.dayEnd,c=t.eventWidth,u=t.segmentHeight,f=t.hourDuration,_=t.minimumEventHeight,C=n.setMinutes,S=n.setHours,R=n.startOfDay,L=n.startOfMinute,z=n.endOfDay,j=n.differenceInMinutes,ee=C(S(R(i),uI(s.hour)),hI(s.minute)),K=C(S(L(z(i)),uI(o.hour)),hI(o.minute));K.setSeconds(59,999);var ie=[],ue=W0(n,{events:e.filter(function(ct){return!ct.allDay}),periodStart:ee,periodEnd:K}),Te=ue.sort(function(ct,wt){return ct.start.valueOf()-wt.start.valueOf()}).map(function(ct){var wt=ct.start,St=ct.end||wt,ft=wt<ee,pt=St>K,ln=r*u/(f||60),Hn=0;if(wt>ee){var Qo=n.getTimezoneOffset(wt),kt=n.getTimezoneOffset(ee)-Qo;Hn+=j(wt,ee)+kt}Hn*=ln,Hn=Math.floor(Hn);var Yt=ft?ee:wt,qt=pt?K:St,wi=n.getTimezoneOffset(Yt)-n.getTimezoneOffset(qt),$i=j(qt,Yt)+wi;ct.end?$i*=ln:$i=u,_&&$i<_&&($i=_),$i=Math.floor($i);for(var Po=dI(ie,Hn,Hn+$i),ti=0;Po.some(function(ud){return ud.left===ti});)ti+=c;var Jo={event:ct,height:$i,width:c,top:Hn,left:ti,startsBeforeDay:ft,endsAfterDay:pt};return ie.push(Jo),Jo}),We=Math.max.apply(Math,Te.map(function(ct){return ct.left+ct.width})),dt=W0(n,{events:e.filter(function(ct){return ct.allDay}),periodStart:R(ee),periodEnd:z(K)});return{events:Te,width:We,allDayEvents:dt,period:{events:ue,start:ee,end:K}}}(n,{events:e,viewDate:Te.date,hourSegments:r,dayStart:o,dayEnd:c,segmentHeight:C,eventWidth:1,hourDuration:s,minimumEventHeight:L}),dt=z.map(function(St){var ft=St.segments.map(function(pt){var ln=K(ee(Te.date,ie(pt.date)),ue(pt.date));return Ml(Ml({},pt),{date:ln})});return Ml(Ml({},St),{segments:ft})});function ct(St,ft){var pt=Math.max.apply(Math,ft.map(function(Hn){return Hn.left+1})),ln=St.filter(function(Hn){return Hn.left>=pt}).filter(function(Hn){return dI(ft,Hn.top,Hn.top+Hn.height).length>0});return ln.length>0?ct(St,ln):pt}var wt=We.events.map(function(St){var pt=100/ct(We.events,dI(We.events,St.top,St.top+St.height));return Ml(Ml({},St),{left:St.left*pt,width:pt})});return{hours:dt,date:Te.date,events:wt.map(function(St){var ft=dI(wt.filter(function(pt){return pt.left>St.left}),St.top,St.top+St.height);return ft.length>0?Ml(Ml({},St),{width:Math.min.apply(Math,ft.map(function(pt){return pt.left}))-St.left}):St})}})}function dI(n,t,e){return n.filter(function(i){var r=i.top,s=i.top+i.height;return t<s&&s<e||t<r&&r<e||r<=t&&e<=s})}function uI(n){return Math.max(Math.min(23,n),0)}function hI(n){return Math.max(Math.min(59,n),0)}var r_=function(n){return n.NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",n}(r_||{});function jF(n,t){return n=function FTe(n,t){return typeof n>"u"?typeof t>"u"?n:t:n}(n,t),"function"==typeof n?function(){for(var i=arguments,r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=i[o];return!!n.apply(this,s)}:n?function(){return!0}:function(){return!1}}var WF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},_7=function(n){return null!=n&&"object"===(typeof n>"u"?"undefined":WF(n))&&1===n.nodeType&&"object"===WF(n.style)&&"object"===WF(n.ownerDocument)};function v7(n,t){if(t=$F(t,!0),!_7(t))return-1;for(var e=0;e<n.length;e++)if(n[e]===t)return e;return-1}function GF(n,t){return-1!==v7(n,t)}function VTe(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return function LTe(n,t){for(var e=0;e<t.length;e++)GF(n,t[e])||n.push(t[e]);return t}(n,e=e.map($F))}function BTe(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return e.map($F).reduce(function(r,s){var o=v7(n,s);return-1!==o?r.concat(n.splice(o,1)):r},[])}function $F(n,t){if("string"==typeof n)try{return document.querySelector(n)}catch(e){throw e}if(!_7(n)&&!t)throw new TypeError(n+" is not a DOM element.");return n}function y7(n){if(n===window)return function HTe(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var t={};return Object.defineProperties(t,n),t}();try{var t=n.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}var t,YF=void 0;"function"!=typeof Object.create?(t=function(){},YF=function(e,i){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");t.prototype=e||{};var r=new t;return t.prototype=null,void 0!==i&&Object.defineProperties(r,i),null===e&&(r.__proto__=null),r}):YF=Object.create;var jTe=YF,Of=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function qF(n,t){t=t||{};for(var e=jTe(n),i=0;i<Of.length;i++)void 0!==t[Of[i]]&&(e[Of[i]]=t[Of[i]]);return e}function XF(n,t){console.log("data ",t),n.data=t||{},n.dispatched="mousemove"}var G0=["webkit","moz","ms","o"],$0=function(){if(typeof window>"u")return function(){};for(var n=0,t=G0.length;n<t&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[G0[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(i){var r=(new Date).getTime(),s=Math.max(0,16-r-e),o=window.setTimeout(function(){return i(r+s)},s);return e=r+s,o}}return window.requestAnimationFrame.bind(window)}(),s_=function(){if(typeof window>"u")return function(){};for(var n=0,t=G0.length;n<t&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[G0[n]+"CancelAnimationFrame"]||window[G0[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function GTe(n,t){void 0===t&&(t={});var e=this,i=4,r=!1;if("object"!=typeof t.margin){var s=t.margin||-1;this.margin={left:s,right:s,top:s,bottom:s}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var o={},c=function zTe(n,t){var e=jF((t=t||{}).allowUpdate,!0);return function(r){if(r=r||window.event,n.target=r.target||r.srcElement||r.originalTarget,n.element=this,n.type=r.type,e(r)){if(r.targetTouches)n.x=r.targetTouches[0].clientX,n.y=r.targetTouches[0].clientY,n.pageX=r.targetTouches[0].pageX,n.pageY=r.targetTouches[0].pageY,n.screenX=r.targetTouches[0].screenX,n.screenY=r.targetTouches[0].screenY;else{if(null===r.pageX&&null!==r.clientX){var s=r.target&&r.target.ownerDocument||document,o=s.documentElement,c=s.body;n.pageX=r.clientX+(o&&o.scrollLeft||c&&c.scrollLeft||0)-(o&&o.clientLeft||c&&c.clientLeft||0),n.pageY=r.clientY+(o&&o.scrollTop||c&&c.scrollTop||0)-(o&&o.clientTop||c&&c.clientTop||0)}else n.pageX=r.pageX,n.pageY=r.pageY;n.x=r.clientX,n.y=r.clientY,n.screenX=r.screenX,n.screenY=r.screenY}n.clientX=n.x,n.clientY=n.y}}}(o),u=function WTe(n){var t={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function e(s){for(var o=0;o<Of.length;o++)t[Of[o]]=s[Of[o]]}return void 0!==n&&n.addEventListener("mousemove",e),{destroy:function r(){n&&n.removeEventListener("mousemove",e,!1),t=null},dispatch:MouseEvent?function(o,c,u){var f=new MouseEvent("mousemove",qF(t,c));return XF(f,u),o.dispatchEvent(f)}:"function"==typeof document.createEvent?function(o,c,u){var f=qF(t,c),_=document.createEvent("MouseEvents");return _.initMouseEvent("mousemove",!0,!0,window,0,f.screenX,f.screenY,f.clientX,f.clientY,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget),XF(_,u),o.dispatchEvent(_)}:"function"==typeof document.createEventObject?function(o,c,u){var f=document.createEventObject(),_=qF(t,c);for(var C in _)f[C]=_[C];return XF(f,u),o.dispatchEvent(f)}:void 0}}(),f=!1;window.addEventListener("mousemove",c,!1),window.addEventListener("touchmove",c,!1),isNaN(t.maxSpeed)||(i=t.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=jF(t.autoScroll),this.syncMove=jF(t.syncMove,!1),this.destroy=function(ft){window.removeEventListener("mousemove",c,!1),window.removeEventListener("touchmove",c,!1),window.removeEventListener("mousedown",z,!1),window.removeEventListener("touchstart",z,!1),window.removeEventListener("mouseup",j,!1),window.removeEventListener("touchend",j,!1),window.removeEventListener("pointerup",j,!1),window.removeEventListener("mouseleave",K,!1),window.removeEventListener("mousemove",Te,!1),window.removeEventListener("touchmove",Te,!1),window.removeEventListener("scroll",L,!0),n=[],ft&&ee()},this.add=function(){for(var ft=[],pt=arguments.length;pt--;)ft[pt]=arguments[pt];return VTe.apply(void 0,[n].concat(ft)),this},this.remove=function(){for(var ft=[],pt=arguments.length;pt--;)ft[pt]=arguments[pt];return BTe.apply(void 0,[n].concat(ft))};var C,ft,_=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),ft=n,n=[],ft.forEach(function(pt){pt===window?_=window:e.add(pt)}),Object.defineProperties(this,{down:{get:function(){return f}},maxSpeed:{get:function(){return i}},point:{get:function(){return o}},scrolling:{get:function(){return r}}});var R,S=null;function L(ft){for(var pt=0;pt<n.length;pt++)if(n[pt]===ft.target){r=!0;break}r&&$0(function(){return r=!1})}function z(){f=!0}function j(){f=!1,ee()}function ee(){s_(R),s_(C)}function K(){f=!1}function ue(){for(var ft=null,pt=0;pt<n.length;pt++)b7(o,n[pt])&&(ft=n[pt]);return ft}function Te(ft){if(e.autoScroll()&&!ft.dispatched){var pt=ft.target,ln=document.body;S&&!b7(o,S)&&(e.scrollWhenOutside||(S=null)),pt&&pt.parentNode===ln?pt=ue():(pt=function ie(ft){if(!ft)return null;if(S===ft||GF(n,ft))return ft;for(;ft=ft.parentNode;)if(GF(n,ft))return ft;return null}(pt),pt||(pt=ue())),pt&&pt!==S&&(S=pt),_&&(s_(C),C=$0(We)),S&&(s_(R),R=$0(dt))}}function We(){ct(_),s_(C),C=$0(We)}function dt(){S&&(ct(S),s_(R),R=$0(dt))}function ct(ft){var ln,Hn,pt=y7(ft);ln=o.x<pt.left+e.margin.left?Math.floor(Math.max(-1,(o.x-pt.left)/e.margin.left-1)*e.maxSpeed.left):o.x>pt.right-e.margin.right?Math.ceil(Math.min(1,(o.x-pt.right)/e.margin.right+1)*e.maxSpeed.right):0,Hn=o.y<pt.top+e.margin.top?Math.floor(Math.max(-1,(o.y-pt.top)/e.margin.top-1)*e.maxSpeed.top):o.y>pt.bottom-e.margin.bottom?Math.ceil(Math.min(1,(o.y-pt.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):0,e.syncMove()&&u.dispatch(ft,{pageX:o.pageX+ln,pageY:o.pageY+Hn,clientX:o.x+ln,clientY:o.y+Hn}),setTimeout(function(){Hn&&function wt(ft,pt){ft===window?window.scrollTo(ft.pageXOffset,ft.pageYOffset+pt):ft.scrollTop+=pt}(ft,Hn),ln&&function St(ft,pt){ft===window?window.scrollTo(ft.pageXOffset+pt,ft.pageYOffset):ft.scrollLeft+=pt}(ft,ln)})}window.addEventListener("mousedown",z,!1),window.addEventListener("touchstart",z,!1),window.addEventListener("mouseup",j,!1),window.addEventListener("touchend",j,!1),window.addEventListener("pointerup",j,!1),window.addEventListener("mousemove",Te,!1),window.addEventListener("touchmove",Te,!1),window.addEventListener("mouseleave",K,!1),window.addEventListener("scroll",L,!0)}function b7(n,t,e){return e?n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right:function UTe(n,t){var e=y7(t);return n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right}(n,t)}function ZF(n,t,e){e&&e.split(" ").forEach(i=>n.addClass(t.nativeElement,i))}function fI(n,t,e){e&&e.split(" ").forEach(i=>n.removeClass(t.nativeElement,i))}let x7=(()=>{class n{constructor(){this.currentDrag=new _e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w7=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)($(Gt))},n.\u0275dir=je({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),KF=(()=>{class n{constructor(e,i,r,s,o,c,u){this.element=e,this.renderer=i,this.draggableHelper=r,this.zone=s,this.vcr=o,this.scrollContainer=c,this.document=u,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new Be,this.dragStart=new Be,this.ghostElementCreated=new Be,this.dragging=new Be,this.dragEnd=new Be,this.pointerDown$=new _e,this.pointerMove$=new _e,this.pointerUp$=new _e,this.eventListenerSubscriptions={},this.destroy$=new _e,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(Bn(()=>this.canDrag()),On(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();const r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(r)});const s=this.getScrollPosition(),o=new zt(R=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",z=>R.next(z))).pipe(Cl(s),Je(()=>this.getScrollPosition())),c=new _e,u=new Uj;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const f=Fe(this.pointerUp$,this.pointerDown$,u,this.destroy$).pipe(Ht()),_=Sl([this.pointerMove$,o]).pipe(Je(([R,L])=>({currentDrag$:c,transformX:R.clientX-i.clientX,transformY:R.clientY-i.clientY,clientX:R.clientX,clientY:R.clientY,scrollLeft:L.left,scrollTop:L.top,target:R.event.target})),Je(R=>(this.dragSnapGrid.x&&(R.transformX=Math.round(R.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(R.transformY=Math.round(R.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),R)),Je(R=>(this.dragAxis.x||(R.transformX=0),this.dragAxis.y||(R.transformY=0),R)),Je(R=>{const L=R.scrollLeft-s.left,z=R.scrollTop-s.top;return{...R,x:R.transformX+L,y:R.transformY+z}}),Bn(({x:R,y:L,transformX:z,transformY:j})=>!this.validateDrag||this.validateDrag({x:R,y:L,transform:{x:z,y:j}})),Qt(f),Ht()),C=_.pipe(Kn(1),Ht()),S=_.pipe(d1(1),Ht());return C.subscribe(({clientX:R,clientY:L,x:z,y:j})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:u})}),this.scroller=function $Te(n,t){return new GTe(n,t)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],{...this.autoScroll,autoScroll:()=>!0}),ZF(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const ee=this.element.nativeElement.getBoundingClientRect(),K=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(K):this.element.nativeElement.parentNode.insertBefore(K,this.element.nativeElement.nextSibling),this.ghostElement=K,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(K,{position:"fixed",top:`${ee.top}px`,left:`${ee.left}px`,width:`${ee.width}px`,height:`${ee.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const ie=this.vcr.createEmbeddedView(this.ghostElementTemplate);K.innerHTML="",ie.rootNodes.filter(ue=>ue instanceof Node).forEach(ue=>{K.appendChild(ue)}),S.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(ie))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:R-z,clientY:L-j,element:K})}),S.subscribe(()=>{K.parentElement.removeChild(K),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(c)}),S.pipe(On(R=>{const L=u.pipe(function NTe(n){return function OTe(n,t){return ke(Wj(n,t,arguments.length>=2,!1,!0))}((t,e,i)=>!n||n(e,i)?t+1:t,0)}(),Kn(1),Je(z=>({...R,dragCancelled:z>0})));return u.complete(),L})).subscribe(({x:R,y:L,dragCancelled:z})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:R,y:L,dragCancelled:z})}),fI(this.renderer,this.element,this.dragActiveClass),c.complete()}),Fe(f,S).pipe(Kn(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),_}),Ht());Fe(e.pipe(Kn(1),Je(i=>[,i])),e.pipe(Ug())).pipe(Bn(([i,r])=>!i||i.x!==r.x||i.y!==r.y),Je(([i,r])=>r)).subscribe(({x:i,y:r,currentDrag$:s,clientX:o,clientY:c,transformX:u,transformY:f,target:_})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:i,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){const C=`translate3d(${u}px, ${f}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:C,"-webkit-transform":C,"-ms-transform":C,"-moz-transform":C,"-o-transform":C})}}),s.next({clientX:o,clientY:c,dropData:this.dropData,target:_})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;e&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&i&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let i,r,s;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,s=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const o=jr(this.document,"contextmenu").subscribe(u=>{u.preventDefault()}),c=jr(this.document,"touchmove",{passive:!1}).subscribe(u=>{this.touchStartLongPress&&!r&&s&&(r=this.shouldBeginDrag(e,u,i)),(!this.touchStartLongPress||!s||r)&&(u.preventDefault(),this.pointerMove$.next({event:u,clientX:u.targetTouches[0].clientX,clientY:u.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{o.unsubscribe(),c.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,i){Object.keys(i).forEach(r=>{this.renderer.setStyle(e,r,i[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,i,r){const s=this.getScrollPosition(),o_top=Math.abs(s.top-r.top),o_left=Math.abs(s.left-r.left),c=Math.abs(i.targetTouches[0].clientX-e.touches[0].clientX)-o_left,u=Math.abs(i.targetTouches[0].clientY-e.touches[0].clientY)-o_top,_=this.touchStartLongPress;return(c+u>_.delta||o_top>0||o_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=_.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return n.\u0275fac=function(e){return new(e||n)($(Gt),$(Xr),$(x7),$(at),$(Zs),$(w7,8),$(sn))},n.\u0275dir=je({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[Nn]}),n})();function C7(n,t,e){return n>=e.left&&n<=e.right&&t>=e.top&&t<=e.bottom}let QF=(()=>{class n{constructor(e,i,r,s,o){this.element=e,this.draggableHelper=i,this.zone=r,this.renderer=s,this.scrollContainer=o,this.dragEnter=new Be,this.dragLeave=new Be,this.dragOver=new Be,this.drop=new Be}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{ZF(this.renderer,this.element,this.dragActiveClass);const i={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0});let s;const o=e.pipe(Je(({clientX:f,clientY:_,dropData:C,target:S})=>{s={clientX:f,clientY:_,dropData:C,target:S},i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);const R=C7(f,_,i.rect),L=!this.validateDrop||this.validateDrop({clientX:f,clientY:_,target:S,dropData:C});return i.scrollContainerRect?R&&L&&C7(f,_,i.scrollContainerRect):R&&L})),c=o.pipe(ni());let u;c.pipe(Bn(f=>f)).subscribe(()=>{u=!0,ZF(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(s)})}),o.pipe(Bn(f=>f)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(s)})}),c.pipe(Ug(),Bn(([f,_])=>f&&!_)).subscribe(()=>{u=!1,fI(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(s)})}),e.subscribe({complete:()=>{r(),fI(this.renderer,this.element,this.dragActiveClass),u&&(fI(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(s)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)($(Gt),$(x7),$(at),$(Xr),$(w7,8))},n.\u0275dir=je({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),pI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=Ae({}),n})();const Nf=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function E7(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let o=0;o<r.length;o++)i(r[o],s[o])}}let XTe=0;function D7(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${XTe++}`)}function I7(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function T7(n,t,e,i){const r={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return t.top&&(r.top+=i),t.bottom&&(r.bottom+=i),t.left&&(r.left+=e),t.right&&(r.right+=e),r.height=r.bottom-r.top,r.width=r.right-r.left,r}const S7=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function A7(n,t){return n.left&&n.top?t.topLeft:n.right&&n.top?t.topRight:n.left&&n.bottom?t.bottomLeft:n.right&&n.bottom?t.bottomRight:n.left||n.right?t.leftOrRight:n.top||n.bottom?t.topOrBottom:""}function gI({edges:n,initialRectangle:t,newRectangle:e}){const i={};return Object.keys(n).forEach(r=>{i[r]=(e[r]||0)-(t[r]||0)}),i}const k7="resize-active";let M7=(()=>{class n{constructor(e,i,r,s){this.platformId=e,this.renderer=i,this.elm=r,this.zone=s,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=S7,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new Be,this.resizing=new Be,this.resizeEnd=new Be,this.mouseup=new _e,this.mousedown=new _e,this.mousemove=new _e,this.destroy$=new _e,this.pointerEventListeners=o_.getInstance(i,s)}ngOnInit(){const e=Fe(this.pointerEventListeners.pointerDown,this.mousedown),i=Fe(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Qr(({event:f})=>{s&&f.cancelable&&f.preventDefault()}),Ht()),r=Fe(this.pointerEventListeners.pointerUp,this.mouseup);let s;const o=()=>{s&&s.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},c=()=>({...S7,...this.resizeCursors});e.pipe(On(f=>{function _(R){return{clientX:R.clientX-f.clientX,clientY:R.clientY-f.clientY}}const C=()=>{const R={x:1,y:1};return s&&(this.resizeSnapGrid.left&&s.edges.left?R.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&s.edges.right&&(R.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&s.edges.top?R.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&s.edges.bottom&&(R.y=+this.resizeSnapGrid.bottom)),R};function S(R,L){return{x:Math.ceil(R.clientX/L.x),y:Math.ceil(R.clientY/L.y)}}return Fe(i.pipe(Kn(1)).pipe(Je(R=>[,R])),i.pipe(Ug())).pipe(Je(([R,L])=>[R&&_(R),_(L)])).pipe(Bn(([R,L])=>{if(!R)return!0;const z=C(),j=S(R,z),ee=S(L,z);return j.x!==ee.x||j.y!==ee.y})).pipe(Je(([,R])=>{const L=C();return{clientX:Math.round(R.clientX/L.x)*L.x,clientY:Math.round(R.clientY/L.y)*L.y}})).pipe(Qt(Fe(r,e)))})).pipe(Bn(()=>!!s)).pipe(Je(({clientX:f,clientY:_})=>T7(s.startingRect,s.edges,f,_))).pipe(Bn(f=>this.allowNegativeResizes||!!(f.height&&f.width&&f.height>0&&f.width>0))).pipe(Bn(f=>!this.validateResize||this.validateResize({rectangle:f,edges:gI({edges:s.edges,initialRectangle:s.startingRect,newRectangle:f})})),Qt(this.destroy$)).subscribe(f=>{s&&s.clonedNode&&(this.renderer.setStyle(s.clonedNode,"height",`${f.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${f.width}px`),this.renderer.setStyle(s.clonedNode,"top",`${f.top}px`),this.renderer.setStyle(s.clonedNode,"left",`${f.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:gI({edges:s.edges,initialRectangle:s.startingRect,newRectangle:f}),rectangle:f})}),s.currentRect=f}),e.pipe(Je(({edges:f})=>f||{}),Bn(f=>Object.keys(f).length>0),Qt(this.destroy$)).subscribe(f=>{s&&o();const _=function ZTe(n,t){let e=0,i=0;const r=n.nativeElement.style,o=["transform","-ms-transform","-moz-transform","-o-transform"].map(c=>r[c]).find(c=>!!c);if(o&&o.includes("translate")&&(e=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-i,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-i,left:n.nativeElement.offsetLeft-e,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-e};{const c=n.nativeElement.getBoundingClientRect();return{height:c.height,width:c.width,top:c.top-i,bottom:c.bottom-i,left:c.left-e,right:c.right-e,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);s={edges:f,startingRect:_,currentRect:_};const C=c(),S=A7(s.edges,C);this.renderer.setStyle(document.body,"cursor",S),this.setElementClass(this.elm,k7,!0),this.enableGhostResize&&(s.clonedNode=function qTe(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();return t.removeAttribute("id"),e.forEach(r=>{r.removeAttribute("id")}),"canvas"===i?I7(n,t):("input"===i||"select"===i||"textarea"===i)&&D7(n,t),E7("canvas",n,t,I7),E7("input, textarea, select",n,t,D7),t}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(s.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(s.clonedNode,"left",`${s.startingRect.left}px`),this.renderer.setStyle(s.clonedNode,"top",`${s.startingRect.top}px`),this.renderer.setStyle(s.clonedNode,"height",`${s.startingRect.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${s.startingRect.width}px`),this.renderer.setStyle(s.clonedNode,"cursor",A7(s.edges,C)),this.renderer.addClass(s.clonedNode,"resize-ghost-element"),s.clonedNode.scrollTop=s.startingRect.scrollTop,s.clonedNode.scrollLeft=s.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:gI({edges:f,initialRectangle:_,newRectangle:_}),rectangle:T7(_,{},0,0)})})}),r.pipe(Qt(this.destroy$)).subscribe(()=>{s&&(this.renderer.removeClass(this.elm.nativeElement,k7),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:gI({edges:s.edges,initialRectangle:s.startingRect,newRectangle:s.currentRect}),rectangle:s.currentRect})}),o(),s=null)})}ngOnDestroy(){bk(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,i,r){r?this.renderer.addClass(e.nativeElement,i):this.renderer.removeClass(e.nativeElement,i)}}return n.\u0275fac=function(e){return new(e||n)($(po),$(Xr),$(Gt),$(at))},n.\u0275dir=je({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class o_{constructor(t,e){this.pointerDown=new zt(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousedown",o=>{i.next({clientX:o.clientX,clientY:o.clientY,event:o})}),Nf&&(s=t.listen("document","touchstart",o=>{i.next({clientX:o.touches[0].clientX,clientY:o.touches[0].clientY,event:o})}))}),()=>{r(),Nf&&s()}}).pipe(Ht()),this.pointerMove=new zt(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousemove",o=>{i.next({clientX:o.clientX,clientY:o.clientY,event:o})}),Nf&&(s=t.listen("document","touchmove",o=>{i.next({clientX:o.targetTouches[0].clientX,clientY:o.targetTouches[0].clientY,event:o})}))}),()=>{r(),Nf&&s()}}).pipe(Ht()),this.pointerUp=new zt(i=>{let r,s,o;return e.runOutsideAngular(()=>{r=t.listen("document","mouseup",c=>{i.next({clientX:c.clientX,clientY:c.clientY,event:c})}),Nf&&(s=t.listen("document","touchend",c=>{i.next({clientX:c.changedTouches[0].clientX,clientY:c.changedTouches[0].clientY,event:c})}),o=t.listen("document","touchcancel",c=>{i.next({clientX:c.changedTouches[0].clientX,clientY:c.changedTouches[0].clientY,event:c})}))}),()=>{r(),Nf&&(s(),o())}}).pipe(Ht())}static getInstance(t,e){return o_.instance||(o_.instance=new o_(t,e)),o_.instance}}let JTe=(()=>{class n{constructor(e,i,r,s){this.renderer=e,this.element=i,this.zone=r,this.resizableDirective=s,this.resizeEdges={},this.eventListeners={},this.destroy$=new _e}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),Nf&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),Fe(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,i,r){e.cancelable&&e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",s=>{this.onMousemove(s,s.targetTouches[0].clientX,s.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",s=>{this.onMousemove(s,s.clientX,s.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:r,edges:this.resizeEdges})}onMouseup(e,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,i,r){this.resizable.mousemove.next({clientX:i,clientY:r,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return jr(this.element.nativeElement,e).pipe(Qt(this.destroy$))}}return n.\u0275fac=function(e){return new(e||n)($(Xr),$(Gt),$(at),$(M7,8))},n.\u0275dir=je({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),R7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=Ae({}),n})();const eSe=function(n){return{action:n}};function tSe(n,t){if(1&n){const e=qn();te(0,"a",5),et("mwlClick",function(r){const o=bt(e).$implicit,c=Ee(2).event;return Ct(o.onClick({event:c,sourceEvent:r}))})("mwlKeydownEnter",function(r){const o=bt(e).$implicit,c=Ee(2).event;return Ct(o.onClick({event:c,sourceEvent:r}))}),Pi(1,"calendarA11y"),ne()}if(2&n){const e=t.$implicit;oe("ngClass",e.cssClass)("innerHtml",e.label,$p),Ut("aria-label",bo(1,3,pl(6,eSe,e),"actionButtonLabel"))}}function nSe(n,t){if(1&n&&(te(0,"span",3),De(1,tSe,2,8,"a",4),ne()),2&n){const e=Ee(),i=e.event,r=e.trackByActionId;se(1),oe("ngForOf",i.actions)("ngForTrackBy",r)}}function iSe(n,t){1&n&&De(0,nSe,2,2,"span",2),2&n&&oe("ngIf",t.event.actions)}function rSe(n,t){}const sSe=function(n,t){return{event:n,trackByActionId:t}},a_=function(){return{}};function oSe(n,t){if(1&n&&(ut(0,"span",2),Pi(1,"calendarEventTitle"),Pi(2,"calendarA11y")),2&n){const e=t.event;oe("innerHTML",gl(1,2,e.title,t.view,e),$p),Ut("aria-hidden",bo(2,6,yo(9,a_),"hideEventTitle"))}}function aSe(n,t){}const lSe=function(n,t){return{event:n,view:t}};function cSe(n,t){if(1&n&&(te(0,"div",2),ut(1,"div",3)(2,"div",4),ne()),2&n){const e=t.contents;oe("ngClass","cal-tooltip-"+t.placement),se(2),oe("innerHtml",e,$p)}}function dSe(n,t){}const uSe=function(n,t,e){return{contents:n,placement:t,event:e}};function hSe(n,t){if(1&n&&(te(0,"span",7),Ve(1),ne()),2&n){const e=Ee().day;se(1),pr(e.badgeTotal)}}const JF=function(n){return{backgroundColor:n}},fSe=function(n,t){return{event:n,draggedFrom:t}},Y0=function(n,t){return{x:n,y:t}},mI=function(){return{delay:300,delta:30}};function pSe(n,t){if(1&n){const e=qn();te(0,"div",10),et("mouseenter",function(){const s=bt(e).$implicit;return Ct(Ee(2).highlightDay.emit({event:s}))})("mouseleave",function(){const s=bt(e).$implicit;return Ct(Ee(2).unhighlightDay.emit({event:s}))})("mwlClick",function(r){const o=bt(e).$implicit;return Ct(Ee(2).eventClicked.emit({event:o,sourceEvent:r}))}),Pi(1,"calendarEventTitle"),Pi(2,"calendarA11y"),ne()}if(2&n){const e=t.$implicit,i=Ee(2),r=i.tooltipPlacement,s=i.tooltipTemplate,o=i.tooltipAppendToBody,c=i.tooltipDelay,u=i.day,f=i.validateDrag;Ft("cal-draggable",e.draggable),oe("ngStyle",pl(22,JF,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",gl(1,15,e.title,"monthTooltip",e))("tooltipPlacement",r)("tooltipEvent",e)("tooltipTemplate",s)("tooltipAppendToBody",o)("tooltipDelay",c)("dropData",Fr(24,fSe,e,u))("dragAxis",Fr(27,Y0,e.draggable,e.draggable))("validateDrag",f)("touchStartLongPress",yo(30,mI)),Ut("aria-hidden",bo(2,19,yo(31,a_),"hideMonthCellEvents"))}}function gSe(n,t){if(1&n&&(te(0,"div",8),De(1,pSe,3,32,"div",9),ne()),2&n){const e=Ee(),i=e.day,r=e.trackByEventId;se(1),oe("ngForOf",i.events)("ngForTrackBy",r)}}const mSe=function(n,t){return{day:n,locale:t}};function _Se(n,t){if(1&n&&(te(0,"div",2),Pi(1,"calendarA11y"),te(2,"span",3),De(3,hSe,2,1,"span",4),te(4,"span",5),Ve(5),Pi(6,"calendarDate"),ne()()(),De(7,gSe,2,2,"div",6)),2&n){const e=t.day,i=t.locale;Ut("aria-label",bo(1,4,Fr(11,mSe,e,i),"monthCell")),se(3),oe("ngIf",e.badgeTotal>0),se(2),pr(gl(6,7,e.date,"monthViewDayNumber",i)),se(2),oe("ngIf",e.events.length>0)}}function vSe(n,t){}const ySe=function(n,t,e,i,r,s,o,c,u,f,_,C){return{day:n,openDay:t,locale:e,tooltipPlacement:i,highlightDay:r,unhighlightDay:s,eventClicked:o,tooltipTemplate:c,tooltipAppendToBody:u,tooltipDelay:f,trackByEventId:_,validateDrag:C}},bSe=function(n){return{event:n}},P7=function(n,t){return{event:n,locale:t}};function xSe(n,t){if(1&n){const e=qn();te(0,"div",7),ut(1,"span",8),Ve(2," "),te(3,"mwl-calendar-event-title",9),et("mwlClick",function(r){const o=bt(e).$implicit;return Ct(Ee(2).eventClicked.emit({event:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){const o=bt(e).$implicit;return Ct(Ee(2).eventClicked.emit({event:o,sourceEvent:r}))}),Pi(4,"calendarA11y"),ne(),Ve(5," "),ut(6,"mwl-calendar-event-actions",10),ne()}if(2&n){const e=t.$implicit,i=Ee(2).validateDrag,r=Ee();Ft("cal-draggable",e.draggable),oe("ngClass",null==e?null:e.cssClass)("dropData",pl(16,bSe,e))("dragAxis",Fr(18,Y0,e.draggable,e.draggable))("validateDrag",i)("touchStartLongPress",yo(21,mI)),se(1),oe("ngStyle",pl(22,JF,null==e.color?null:e.color.primary)),se(2),oe("event",e)("customTemplate",r.eventTitleTemplate),Ut("aria-label",bo(4,13,Fr(24,P7,e,r.locale),"eventDescription")),se(3),oe("event",e)("customTemplate",r.eventActionsTemplate)}}const O7=function(n,t){return{date:n,locale:t}};function wSe(n,t){if(1&n&&(te(0,"div",3),ut(1,"span",4),Pi(2,"calendarA11y"),ut(3,"span",5),Pi(4,"calendarA11y"),De(5,xSe,7,27,"div",6),ne()),2&n){const e=Ee(),i=e.events,r=e.trackByEventId,s=Ee();oe("@collapse",void 0),se(1),Ut("aria-label",bo(2,5,Fr(11,O7,s.date,s.locale),"openDayEventsAlert")),se(2),Ut("aria-label",bo(4,8,Fr(14,O7,s.date,s.locale),"openDayEventsLandmark")),se(2),oe("ngForOf",i)("ngForTrackBy",r)}}function CSe(n,t){1&n&&De(0,wSe,6,17,"div",2),2&n&&oe("ngIf",t.isOpen)}function ESe(n,t){}const DSe=function(n,t,e,i,r){return{events:n,eventClicked:t,isOpen:e,trackByEventId:i,validateDrag:r}};function ISe(n,t){if(1&n){const e=qn();te(0,"div",4),et("click",function(r){const o=bt(e).$implicit;return Ct(Ee(2).columnHeaderClicked.emit({isoDayNumber:o.day,sourceEvent:r}))}),Ve(1),Pi(2,"calendarDate"),ne()}if(2&n){const e=t.$implicit,i=Ee().locale;Ft("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),oe("ngClass",e.cssClass),se(1),li(" ",gl(2,10,e.date,"monthViewColumnHeader",i)," ")}}function TSe(n,t){if(1&n&&(te(0,"div",2),De(1,ISe,3,14,"div",3),ne()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;se(1),oe("ngForOf",e)("ngForTrackBy",i)}}function SSe(n,t){}const ASe=function(n,t,e){return{days:n,locale:t,trackByWeekDayHeaderDate:e}};function kSe(n,t){if(1&n){const e=qn();te(0,"mwl-calendar-month-cell",7),et("mwlClick",function(r){const o=bt(e).$implicit;return Ct(Ee(2).dayClicked.emit({day:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){const o=bt(e).$implicit;return Ct(Ee(2).dayClicked.emit({day:o,sourceEvent:r}))})("highlightDay",function(r){return bt(e),Ct(Ee(2).toggleDayHighlight(r.event,!0))})("unhighlightDay",function(r){return bt(e),Ct(Ee(2).toggleDayHighlight(r.event,!1))})("drop",function(r){const o=bt(e).$implicit;return Ct(Ee(2).eventDropped(o,r.dropData.event,r.dropData.draggedFrom))})("eventClicked",function(r){return bt(e),Ct(Ee(2).eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))}),Pi(1,"calendarA11y"),ne()}if(2&n){const e=t.$implicit,i=Ee(2);oe("ngClass",null==e?null:e.cssClass)("day",e)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",pl(15,JF,e.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),Ut("tabindex",bo(1,12,yo(17,a_),"monthCellTabIndex"))}}function MSe(n,t){if(1&n){const e=qn();te(0,"div")(1,"div",4),De(2,kSe,2,18,"mwl-calendar-month-cell",5),Pi(3,"slice"),ne(),te(4,"mwl-calendar-open-day-events",6),et("eventClicked",function(r){return bt(e),Ct(Ee().eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))})("drop",function(r){bt(e);const s=Ee();return Ct(s.eventDropped(s.openDay,r.dropData.event,r.dropData.draggedFrom))}),ne()()}if(2&n){const e=t.$implicit,i=Ee();se(2),oe("ngForOf",gl(3,9,i.view.days,e,e+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),se(2),oe("locale",i.locale)("isOpen",i.openRowIndex===e)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function RSe(n,t){if(1&n){const e=qn();te(0,"div",4),et("mwlClick",function(r){const o=bt(e).$implicit;return Ct(Ee().dayHeaderClicked.emit({day:o,sourceEvent:r}))})("drop",function(r){const o=bt(e).$implicit;return Ct(Ee().eventDropped.emit({event:r.dropData.event,newStart:o.date}))})("dragEnter",function(){const s=bt(e).$implicit;return Ct(Ee().dragEnter.emit({date:s.date}))}),te(1,"b"),Ve(2),Pi(3,"calendarDate"),ne(),ut(4,"br"),te(5,"span"),Ve(6),Pi(7,"calendarDate"),ne()()}if(2&n){const e=t.$implicit,i=Ee().locale;Ft("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),oe("ngClass",e.cssClass),se(2),pr(gl(3,11,e.date,"weekViewColumnHeader",i)),se(4),pr(gl(7,15,e.date,"weekViewColumnSubHeader",i))}}function PSe(n,t){if(1&n&&(te(0,"div",2),De(1,RSe,8,19,"div",3),ne()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;se(1),oe("ngForOf",e)("ngForTrackBy",i)}}function OSe(n,t){}const NSe=function(n,t,e,i,r,s){return{days:n,locale:t,dayHeaderClicked:e,eventDropped:i,dragEnter:r,trackByWeekDayHeaderDate:s}},FSe=function(n,t,e){return{color:n,backgroundColor:t,borderColor:e}};function LSe(n,t){if(1&n){const e=qn();te(0,"div",2),et("mwlClick",function(r){return Ct(bt(e).eventClicked.emit({sourceEvent:r}))})("mwlKeydownEnter",function(r){return Ct(bt(e).eventClicked.emit({sourceEvent:r}))}),Pi(1,"calendarEventTitle"),Pi(2,"calendarA11y"),ut(3,"mwl-calendar-event-actions",3),Ve(4," "),ut(5,"mwl-calendar-event-title",4),ne()}if(2&n){const e=t.weekEvent,i=t.tooltipPlacement,r=t.tooltipTemplate,s=t.tooltipAppendToBody,o=t.tooltipDisabled,c=t.tooltipDelay,u=t.daysInWeek,f=Ee();oe("ngStyle",mg(20,FSe,null==e.event.color?null:e.event.color.secondaryText,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",o?"":gl(1,13,e.event.title,1===u?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",i)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",r)("tooltipAppendToBody",s)("tooltipDelay",c),Ut("aria-label",bo(2,17,Fr(24,P7,e.tempEvent||e.event,f.locale),"eventDescription")),se(3),oe("event",e.tempEvent||e.event)("customTemplate",f.eventActionsTemplate),se(2),oe("event",e.tempEvent||e.event)("customTemplate",f.eventTitleTemplate)("view",1===u?"day":"week")}}function VSe(n,t){}const BSe=function(n,t,e,i,r,s,o,c,u){return{weekEvent:n,tooltipPlacement:t,eventClicked:e,tooltipTemplate:i,tooltipAppendToBody:r,tooltipDisabled:s,tooltipDelay:o,column:c,daysInWeek:u}};function zSe(n,t){if(1&n&&(te(0,"div",4),Ve(1),Pi(2,"calendarDate"),ne()),2&n){const e=Ee(),i=e.segment,r=e.daysInWeek,s=e.locale;se(1),li(" ",gl(2,1,i.displayDate,1===r?"dayViewHour":"weekViewHour",s)," ")}}function HSe(n,t){if(1&n&&(te(0,"div",2),Pi(1,"calendarA11y"),De(2,zSe,3,5,"div",3),ne()),2&n){const e=t.segment,r=t.isTimeLabel,s=t.daysInWeek;go("height",t.segmentHeight,"px"),Ft("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),oe("ngClass",e.cssClass),Ut("aria-hidden",bo(1,9,yo(12,a_),1===s?"hideDayHourSegment":"hideWeekHourSegment")),se(2),oe("ngIf",r)}}function USe(n,t){}const jSe=function(n,t,e,i,r){return{segment:n,locale:t,segmentHeight:e,isTimeLabel:i,daysInWeek:r}};function WSe(n,t){1&n&&ut(0,"div",3),2&n&&go("top",Ee().topPx,"px")}function GSe(n,t){1&n&&De(0,WSe,1,2,"div",2),2&n&&oe("ngIf",t.isVisible)}function $Se(n,t){}const YSe=function(n,t,e,i,r,s,o){return{columnDate:n,dayStartHour:t,dayStartMinute:e,dayEndHour:i,dayEndMinute:r,isVisible:s,topPx:o}};function qSe(n,t){if(1&n){const e=qn();te(0,"div",13),et("drop",function(r){const o=bt(e).$implicit;return Ct(Ee(2).eventDropped(r,o.date,!0))})("dragEnter",function(){const s=bt(e).$implicit;return Ct(Ee(2).dateDragEnter(s.date))}),ne()}}const XSe=function(){return{left:!0}};function ZSe(n,t){1&n&&ut(0,"div",22),2&n&&oe("resizeEdges",yo(1,XSe))}const KSe=function(){return{right:!0}};function QSe(n,t){1&n&&ut(0,"div",23),2&n&&oe("resizeEdges",yo(1,KSe))}const JSe=function(n,t){return{left:n,right:t}},N7=function(n,t){return{event:n,calendarId:t}},eAe=function(n){return{x:n}};function tAe(n,t){if(1&n){const e=qn();te(0,"div",17,18),et("resizeStart",function(r){const o=bt(e).$implicit;Ee();const c=ii(1);return Ct(Ee(2).allDayEventResizeStarted(c,o,r))})("resizing",function(r){const o=bt(e).$implicit,c=Ee(3);return Ct(c.allDayEventResizing(o,r,c.dayColumnWidth))})("resizeEnd",function(){const s=bt(e).$implicit;return Ct(Ee(3).allDayEventResizeEnded(s))})("dragStart",function(){const s=bt(e).$implicit,o=ii(1);Ee();const c=ii(1);return Ct(Ee(2).dragStarted(c,o,s,!1))})("dragging",function(){return bt(e),Ct(Ee(3).allDayEventDragMove())})("dragEnd",function(r){const o=bt(e).$implicit,c=Ee(3);return Ct(c.dragEnded(o,r,c.dayColumnWidth))}),De(2,ZSe,1,2,"div",19),te(3,"mwl-calendar-week-view-event",20),et("eventClicked",function(r){const o=bt(e).$implicit;return Ct(Ee(3).eventClicked.emit({event:o.event,sourceEvent:r.sourceEvent}))}),ne(),De(4,QSe,1,2,"div",21),ne()}if(2&n){const e=t.$implicit,i=Ee(3);go("width",100/i.days.length*e.span,"%")("margin-left",i.rtl?null:100/i.days.length*e.offset,"%")("margin-right",i.rtl?100/i.days.length*e.offset:null,"%"),Ft("cal-draggable",e.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),oe("ngClass",null==e.event?null:e.event.cssClass)("resizeCursors",i.resizeCursors)("resizeSnapGrid",Fr(33,JSe,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",Fr(36,N7,e.event,i.calendarId))("dragAxis",Fr(39,Y0,e.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&e.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?pl(42,eAe,i.dayColumnWidth):yo(44,a_))("validateDrag",i.validateDrag)("touchStartLongPress",yo(45,mI)),se(2),oe("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),se(1),oe("locale",i.locale)("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),se(1),oe("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function nAe(n,t){if(1&n&&(te(0,"div",14,15),De(2,tAe,5,46,"div",16),ne()),2&n){const e=t.$implicit,i=Ee(2);se(2),oe("ngForOf",e.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function iAe(n,t){if(1&n){const e=qn();te(0,"div",8,9),et("dragEnter",function(){return bt(e),Ct(Ee().dragEnter("allDay"))})("dragLeave",function(){return bt(e),Ct(Ee().dragLeave("allDay"))}),te(2,"div",5),ut(3,"div",10),De(4,qSe,1,0,"div",11),ne(),De(5,nAe,3,2,"div",12),ne()}if(2&n){const e=Ee();se(3),oe("ngTemplateOutlet",e.allDayEventsLabelTemplate),se(1),oe("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),se(1),oe("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function rAe(n,t){if(1&n&&ut(0,"mwl-calendar-week-view-hour-segment",28),2&n){const e=t.$implicit,i=Ee(3);go("height",i.hourSegmentHeight,"px"),oe("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function sAe(n,t){if(1&n&&(te(0,"div",26),De(1,rAe,1,8,"mwl-calendar-week-view-hour-segment",27),ne()),2&n){const e=t.$implicit,i=t.odd,r=Ee(2);Ft("cal-hour-odd",i),se(1),oe("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function oAe(n,t){if(1&n&&(te(0,"div",24),De(1,sAe,2,4,"div",25),ne()),2&n){const e=Ee();se(1),oe("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const aAe=function(){return{left:!0,top:!0}};function lAe(n,t){1&n&&ut(0,"div",22),2&n&&oe("resizeEdges",yo(1,aAe))}function cAe(n,t){}function dAe(n,t){if(1&n){const e=qn();te(0,"mwl-calendar-week-view-event",36),et("eventClicked",function(r){bt(e);const s=Ee().$implicit;return Ct(Ee(2).eventClicked.emit({event:s.event,sourceEvent:r.sourceEvent}))}),ne()}if(2&n){const e=Ee().$implicit,i=Ee().$implicit,r=Ee();oe("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",i)("daysInWeek",r.daysInWeek)}}const uAe=function(){return{right:!0,bottom:!0}};function hAe(n,t){1&n&&ut(0,"div",23),2&n&&oe("resizeEdges",yo(1,uAe))}const fAe=function(n,t,e,i){return{left:n,right:t,top:e,bottom:i}};function pAe(n,t){if(1&n){const e=qn();te(0,"div",33,18),et("resizeStart",function(r){const o=bt(e).$implicit,c=Ee(2),u=ii(6);return Ct(c.timeEventResizeStarted(u,o,r))})("resizing",function(r){const o=bt(e).$implicit;return Ct(Ee(2).timeEventResizing(o,r))})("resizeEnd",function(){const s=bt(e).$implicit;return Ct(Ee(2).timeEventResizeEnded(s))})("dragStart",function(){const s=bt(e).$implicit,o=ii(1),c=Ee(2),u=ii(6);return Ct(c.dragStarted(u,o,s,!0))})("dragging",function(r){const o=bt(e).$implicit;return Ct(Ee(2).dragMove(o,r))})("dragEnd",function(r){const o=bt(e).$implicit,c=Ee(2);return Ct(c.dragEnded(o,r,c.dayColumnWidth,!0))}),De(2,lAe,1,2,"div",19),De(3,cAe,0,0,"ng-template",34),De(4,dAe,1,12,"ng-template",null,35,zi),De(6,hAe,1,2,"div",21),ne()}if(2&n){const e=t.$implicit,i=ii(5),r=Ee(2);go("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),Ft("cal-draggable",e.event.draggable&&0===r.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),oe("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeCursors",r.resizeCursors)("resizeSnapGrid",EH(30,fAe,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",Fr(35,N7,e.event,r.calendarId))("dragAxis",Fr(38,Y0,e.event.draggable&&0===r.timeEventResizes.size,e.event.draggable&&0===r.timeEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?Fr(41,Y0,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):yo(44,a_))("touchStartLongPress",yo(45,mI))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",r.validateDrag),se(2),oe("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),se(1),oe("ngTemplateOutlet",i),se(3),oe("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function gAe(n,t){if(1&n){const e=qn();te(0,"mwl-calendar-week-view-hour-segment",38),et("mwlClick",function(r){const o=bt(e).$implicit;return Ct(Ee(3).hourSegmentClicked.emit({date:o.date,sourceEvent:r}))})("drop",function(r){const o=bt(e).$implicit;return Ct(Ee(3).eventDropped(r,o.date,!1))})("dragEnter",function(){const s=bt(e).$implicit;return Ct(Ee(3).dateDragEnter(s.date))}),ne()}if(2&n){const e=t.$implicit,i=Ee(3);go("height",i.hourSegmentHeight,"px"),oe("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function mAe(n,t){if(1&n&&(te(0,"div",26),De(1,gAe,1,10,"mwl-calendar-week-view-hour-segment",37),ne()),2&n){const e=t.$implicit,i=t.odd,r=Ee(2);Ft("cal-hour-odd",i),se(1),oe("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function _Ae(n,t){if(1&n&&(te(0,"div",29),ut(1,"mwl-calendar-week-view-current-time-marker",30),te(2,"div",31),De(3,pAe,7,46,"div",32),ne(),De(4,mAe,2,4,"div",25),ne()),2&n){const e=t.$implicit,i=Ee();se(1),oe("columnDate",e.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),se(2),oe("ngForOf",e.events)("ngForTrackBy",i.trackByWeekTimeEvent),se(1),oe("ngForOf",e.hours)("ngForTrackBy",i.trackByHour)}}let Ff=(()=>{class n{constructor(e,i,r){this.renderer=e,this.elm=i,this.document=r,this.clickListenerDisabled=!1,this.click=new Be,this.destroy$=new _e}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(Qt(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new zt(e=>this.renderer.listen(this.elm.nativeElement,"click",i=>{e.next(i)}))}}return n.\u0275fac=function(e){return new(e||n)($(Xr),$(Gt),$(sn))},n.\u0275dir=je({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),_I=(()=>{class n{constructor(e,i,r){this.host=e,this.ngZone=i,this.renderer=r,this.keydown=new Be,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(13===e.keyCode||13===e.which||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(e){return new(e||n)($(Gt),$(at),$(Xr))},n.\u0275dir=je({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),vI=(()=>{class n{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:i}){return e.badgeTotal>0?`\n        ${Zr(e.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${Zr(e.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:e,locale:i}){return`\n      Beginning of expanded view for ${Zr(e,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:e,locale:i}){return`${Zr(e,"EEEE MMMM dd",i)} expanded`}eventDescription({event:e,locale:i}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:i});const r=`\n      ${Zr(e.start,"EEEE MMMM dd",i)},\n      ${e.title}, from ${Zr(e.start,"hh:mm a",i)}\n    `;return e.end?r+` to ${Zr(e.end,"hh:mm a",i)}`:r}allDayEventDescription({event:e,locale:i}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${Zr(e.start,"MMMM dd hh:mm a",i)}\n    `;return e.end?r+`, stop time ${Zr(e.end,"MMMM d hh:mm a",i)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(e){return new(e||n)(ce(_k))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})(),Lf=(()=>{class n{constructor(e,i){this.calendarA11y=e,this.locale=i}transform(e,i){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[i]>"u"){const r=Object.getOwnPropertyNames(Object.getPrototypeOf(vI.prototype)).filter(s=>"constructor"!==s);throw new Error(`${i} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[i](e)}}return n.\u0275fac=function(e){return new(e||n)($(vI,16),$(Ks,16))},n.\u0275pipe=Ar({name:"calendarA11y",type:n,pure:!0}),n})(),F7=(()=>{class n{constructor(){this.trackByActionId=(e,i)=>i.id?i.id:i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wt({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,i){if(1&e&&(De(0,iSe,1,1,"ng-template",null,0,zi),De(2,rSe,0,0,"ng-template",1)),2&e){const r=ii(1);se(2),oe("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",Fr(2,sSe,i.event,i.trackByActionId))}},dependencies:[qa,Br,Cr,gs,Ff,_I,Lf],encapsulation:2}),n})();class eL{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}let tL=(()=>{class n{constructor(e){this.calendarEventTitle=e}transform(e,i,r){return this.calendarEventTitle[i](r,e)}}return n.\u0275fac=function(e){return new(e||n)($(eL,16))},n.\u0275pipe=Ar({name:"calendarEventTitle",type:n,pure:!0}),n})(),L7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wt({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,i){if(1&e&&(De(0,oSe,3,10,"ng-template",null,0,zi),De(2,aSe,0,0,"ng-template",1)),2&e){const r=ii(1);se(2),oe("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",Fr(2,lSe,i.event,i.view))}},dependencies:[gs,tL,Lf],encapsulation:2}),n})(),vAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wt({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,i){if(1&e&&(De(0,cSe,3,2,"ng-template",null,0,zi),De(2,dSe,0,0,"ng-template",1)),2&e){const r=ii(1);se(2),oe("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",mg(2,uSe,i.contents,i.placement,i.event))}},dependencies:[qa,gs],encapsulation:2}),n})(),V7=(()=>{class n{constructor(e,i,r,s,o,c){this.elementRef=e,this.injector=i,this.renderer=r,this.viewContainerRef=o,this.document=c,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new _e,this.tooltipFactory=s.resolveComponentFactory(vAe)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?Pe("now"):N0(this.delay)).pipe(Qt(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function bTe(n,t,e,i,r){var s=Array.isArray(e)?e:e.split(yTe),o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],c=t.classList,u=function(j){var ee=j.split("-"),K=ee[0],ie=ee[1],ue=[];return r&&(ue.push(r+"-"+K),ie&&ue.push(r+"-"+K+"-"+ie),ue.forEach(function(Te){c.add(Te)})),ue};r&&o.forEach(function(j){c.remove(r+"-"+j)});var f=s.findIndex(function(j){return"auto"===j});f>=0&&o.forEach(function(j){null==s.find(function(ee){return-1!==ee.search("^"+j)})&&s.splice(f++,1,j)});var _=t.style;_.position="absolute",_.top="0",_.left="0",_["will-change"]="transform";for(var C,S=!1,R=0,L=s;R<L.length;R++){var z=u(C=L[R]);if(p7.positionElements(n,t,C,i)){S=!0;break}r&&z.forEach(function(j){c.remove(j)})}return S||(u(C=s[0]),p7.positionElements(n,t,C,i)),C}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(e){return new(e||n)($(Gt),$(fr),$(Xr),$(Ud),$(Zs),$(sn))},n.\u0275dir=je({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,i){1&e&&et("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[Nn]}),n})();var Vf=function(n){return n.Month="month",n.Week="week",n.Day="day",n}(Vf||{});const B7=n=>function PTe(n,t){var e=!0;function i(r,s){t(r,s),e=!1}return Array.isArray(n)?(n.forEach(function(r){r.start?r.start instanceof Date||i(r_.StartPropertyNotDate,r):i(r_.StartPropertyMissing,r),r.end&&(r.end instanceof Date||i(r_.EndPropertyNotDate,r),r.start>r.end&&i(r_.EndsBeforeStart,r))}),e):(t(r_.NotArray,n),!1)}(n,(...e)=>console.warn("angular-calendar",...e));function z7(n,t){return Math.floor(n.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(n.right)}function H7(n,t){return Math.round(n/t)*t}const U7=(n,t)=>t.id?t.id:t,nL=(n,t)=>t.date.toISOString(),xAe=(n,t)=>t.date.toISOString(),wAe=(n,t)=>t.segments[0].date.toISOString(),CAe=(n,t)=>t.event.id?t.event.id:t.event,EAe=(n,t)=>t.event.id?t.event.id:t.event;function iL(n,t,e,i,r){const s=H7(n,i||e),o=function IAe(n,t,e){return(e||60)/(n*t)}(t,e,r);return s*o}function j7(n,t,e){return t.end?t.end:n.addMinutes(t.start,e)}function Rl(n,t,e,i){let r=0,s=0;const o=e<0?n.subDays:n.addDays;let c=t;for(;s<=Math.abs(e);){c=o(t,r);const u=n.getDay(c);-1===i.indexOf(u)&&s++,r++}return c}function rL(n,t,e,i=[],r){let s=r?n.startOfDay(t):n.startOfWeek(t,{weekStartsOn:e});const o=n.endOfWeek(t,{weekStartsOn:e});for(;i.indexOf(n.getDay(s))>-1&&s<o;)s=n.addDays(s,1);if(r)return{viewStart:s,viewEnd:n.endOfDay(Rl(n,s,r-1,i))};{let c=o;for(;i.indexOf(n.getDay(c))>-1&&c>s;)c=n.subDays(c,1);return{viewStart:s,viewEnd:c}}}function sL({x:n,y:t}){return Math.abs(n)>1||Math.abs(t)>1}class ld{}let AAe=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new Be}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===Vf.Day?Rl(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===Vf.Week&&this.daysInWeek?Rl(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)($(ld))},n.\u0275dir=je({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,i){1&e&&et("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),kAe=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new Be}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===Vf.Day?Rl(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===Vf.Week&&this.daysInWeek?Rl(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)($(ld))},n.\u0275dir=je({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,i){1&e&&et("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),MAe=(()=>{class n{constructor(e){this.dateAdapter=e,this.viewDateChange=new Be}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return n.\u0275fac=function(e){return new(e||n)($(ld))},n.\u0275dir=je({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,i){1&e&&et("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),n})(),RAe=(()=>{class n{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return Zr(e,"EEEE",i)}monthViewDayNumber({date:e,locale:i}){return Zr(e,"d",i)}monthViewTitle({date:e,locale:i}){return Zr(e,"LLLL y",i)}weekViewColumnHeader({date:e,locale:i}){return Zr(e,"EEEE",i)}weekViewColumnSubHeader({date:e,locale:i}){return Zr(e,"MMM d",i)}weekViewTitle({date:e,locale:i,weekStartsOn:r,excludeDays:s,daysInWeek:o}){const{viewStart:c,viewEnd:u}=rL(this.dateAdapter,e,r,s,o),f=(_,C)=>Zr(_,"MMM d"+(C?", yyyy":""),i);return`${f(c,c.getUTCFullYear()!==u.getUTCFullYear())} - ${f(u,!0)}`}weekViewHour({date:e,locale:i}){return Zr(e,"h a",i)}dayViewHour({date:e,locale:i}){return Zr(e,"h a",i)}dayViewTitle({date:e,locale:i}){return Zr(e,"EEEE, MMMM d, y",i)}}return n.\u0275fac=function(e){return new(e||n)(ce(ld))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})(),yI=(()=>{class n extends RAe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mi(n)))(i||n)}}(),n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})(),q0=(()=>{class n{constructor(e,i){this.dateFormatter=e,this.locale=i}transform(e,i,r=this.locale,s=0,o=[],c){if(typeof this.dateFormatter[i]>"u"){const u=Object.getOwnPropertyNames(Object.getPrototypeOf(yI.prototype)).filter(f=>"constructor"!==f);throw new Error(`${i} is not a valid date formatter. Can only be one of ${u.join(", ")}`)}return this.dateFormatter[i]({date:e,locale:r,weekStartsOn:s,excludeDays:o,daysInWeek:c})}}return n.\u0275fac=function(e){return new(e||n)($(yI,16),$(Ks,16))},n.\u0275pipe=Ar({name:"calendarDate",type:n,pure:!0}),n})(),bI=(()=>{class n{constructor(e){this.dateAdapter=e}getMonthView(e){return function kTe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,o=t.excluded,c=void 0===o?[]:o,u=t.viewStart,f=void 0===u?n.startOfMonth(r):u,_=t.viewEnd,C=void 0===_?n.endOfMonth(r):_,S=t.weekendDays;i||(i=[]);for(var wt,L=n.endOfWeek,z=n.differenceInDays,j=n.startOfDay,ee=n.addHours,K=n.endOfDay,ie=n.isSameMonth,ue=n.getDay,Te=(0,n.startOfWeek)(f,{weekStartsOn:s}),We=L(C,{weekStartsOn:s}),dt=W0(n,{events:i,periodStart:Te,periodEnd:We}),ct=[],St=function(Yt){var qt;if(wt?(qt=j(ee(wt,24)),wt.getTime()===qt.getTime()&&(qt=j(ee(wt,25))),wt=qt):qt=wt=Te,!c.some(function(vr){return ue(qt)===vr})){var wi=m7(n,{date:qt,weekendDays:S}),$i=W0(n,{events:dt,periodStart:j(qt),periodEnd:K(qt)});wi.inMonth=ie(qt,r),wi.events=$i,wi.badgeTotal=$i.length,ct.push(wi)}},ft=0;ft<z(We,Te)+1;ft++)St();var pt=[],ln=zF-c.length;if(ln<zF)for(ft=0;ft<ct.length;ft+=ln){var Hn=ct.slice(ft,ft+ln);Hn.some(function(qt){return f<=qt.date&&qt.date<C})&&(pt=VF(VF([],pt,!0),Hn,!0))}else pt=ct;var yt=Math.floor(pt.length/ln),kt=[];for(ft=0;ft<yt;ft++)kt.push(ft*ln);return{rowOffsets:kt,totalDaysVisibleInWeek:ln,days:pt,period:{start:pt[0].date,end:K(pt[pt.length-1].date),events:dt}}}(this.dateAdapter,e)}getWeekViewHeader(e){return UF(this.dateAdapter,e)}getWeekView(e){return function ATe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,o=t.excluded,c=void 0===o?[]:o,u=t.precision,f=void 0===u?"days":u,_=t.absolutePositionedEvents,C=void 0!==_&&_,S=t.hourSegments,R=t.hourDuration,L=t.dayStart,z=t.dayEnd,j=t.weekendDays,ee=t.segmentHeight,K=t.minimumEventHeight,ie=t.viewStart,ue=void 0===ie?n.startOfWeek(r,{weekStartsOn:s}):ie,Te=t.viewEnd,We=void 0===Te?n.endOfWeek(r,{weekStartsOn:s}):Te;i||(i=[]);var ct=n.endOfDay,wt=W0(n,{events:i,periodStart:ue=(0,n.startOfDay)(ue),periodEnd:We=ct(We)}),St=UF(n,{viewDate:r,weekStartsOn:s,excluded:c,weekendDays:j,viewStart:ue,viewEnd:We});return{allDayEventRows:TTe(n,{events:wt,excluded:c,precision:f,absolutePositionedEvents:C,viewStart:ue,viewEnd:We}),period:{events:wt,start:St[0].date,end:ct(St[St.length-1].date)},hourColumns:STe(n,{events:i,viewDate:r,hourSegments:S,hourDuration:R,dayStart:L,dayEnd:z,weekStartsOn:s,excluded:c,weekendDays:j,segmentHeight:ee,viewStart:ue,viewEnd:We,minimumEventHeight:K})}}(this.dateAdapter,e)}}return n.\u0275fac=function(e){return new(e||n)(ce(ld))},n.\u0275prov=re({token:n,factory:n.\u0275fac}),n})();new Xe("Moment");var Wu=function(n){return n.Drag="drag",n.Drop="drop",n.Resize="resize",n}(Wu||{});let X0=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||eL,i.dateFormatter||yI,i.utils||bI,i.a11y||vI]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=Ae({providers:[_k],imports:[Yd]}),n})(),PAe=(()=>{class n{constructor(){this.highlightDay=new Be,this.unhighlightDay=new Be,this.eventClicked=new Be,this.trackByEventId=U7,this.validateDrag=sL}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wt({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,i){2&e&&Ft("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,i){if(1&e&&(De(0,_Se,8,14,"ng-template",null,0,zi),De(2,vSe,0,0,"ng-template",1)),2&e){const r=ii(1);se(2),oe("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",IA(2,ySe,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},dependencies:[qa,Br,Cr,gs,sy,KF,V7,Ff,q0,tL,Lf],encapsulation:2}),n})();const OAe=V0("collapse",[zu("void",oo({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),zu("*",oo({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),ad("* => void",od("150ms ease-out")),ad("void => *",od("150ms ease-in"))]);let NAe=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new Be,this.trackByEventId=U7,this.validateDrag=sL}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wt({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,i){if(1&e&&(De(0,CSe,1,1,"ng-template",null,0,zi),De(2,ESe,0,0,"ng-template",1)),2&e){const r=ii(1);se(2),oe("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",DA(2,DSe,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},dependencies:[qa,Br,Cr,gs,sy,KF,F7,L7,Ff,_I,Lf],encapsulation:2,data:{animation:[OAe]}}),n})(),FAe=(()=>{class n{constructor(){this.columnHeaderClicked=new Be,this.trackByWeekDayHeaderDate=nL}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wt({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,i){if(1&e&&(De(0,TSe,2,2,"ng-template",null,0,zi),De(2,SSe,0,0,"ng-template",1)),2&e){const r=ii(1);se(2),oe("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",mg(2,ASe,i.days,i.locale,i.trackByWeekDayHeaderDate))}},dependencies:[qa,Br,gs,q0],encapsulation:2}),n})(),LAe=(()=>{class n{constructor(e,i,r,s){this.cdr=e,this.utils=i,this.dateAdapter=s,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new Be,this.dayClicked=new Be,this.eventClicked=new Be,this.columnHeaderClicked=new Be,this.eventTimesChanged=new Be,this.trackByRowOffset=(o,c)=>this.view.days.slice(c,this.view.totalDaysVisibleInWeek).map(u=>u.date.toISOString()).join("-"),this.trackByDate=(o,c)=>c.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays,r=e.viewDate||e.events||e.excludeDays||e.weekendDays;i&&this.refreshHeader(),e.events&&B7(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,i){this.view.days.forEach(r=>{i&&r.events.indexOf(e)>-1?r.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(e,i,r){if(e!==r){const s=this.dateAdapter.getYear(e.date),o=this.dateAdapter.getMonth(e.date),c=this.dateAdapter.getDate(e.date),u=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,s),o),c);let f;if(i.end){const _=this.dateAdapter.differenceInSeconds(u,i.start);f=this.dateAdapter.addSeconds(i.end,_)}this.eventTimesChanged.emit({event:i,newStart:u,newEnd:f,day:e,type:Wu.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,e));const i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(e){return new(e||n)($(Lr),$(bI),$(Ks),$(ld))},n.\u0275cmp=Wt({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[Nn],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,i){1&e&&(te(0,"div",0)(1,"mwl-calendar-month-view-header",1),et("columnHeaderClicked",function(s){return i.columnHeaderClicked.emit(s)}),ne(),te(2,"div",2),De(3,MSe,5,13,"div",3),ne()()),2&e&&(se(1),oe("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),se(2),oe("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},dependencies:[qa,Br,sy,QF,Ff,_I,PAe,NAe,FAe,hj,Lf],encapsulation:2}),n})(),W7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=Ae({imports:[Yd,pI,X0,pI]}),n})();class VAe{constructor(t,e){this.dragContainerElement=t,this.startPosition=e.getBoundingClientRect()}validateDrag({x:t,y:e,snapDraggedEvents:i,dragAlreadyMoved:r,transform:s}){const o=sL({x:t,y:e})||r;if(i){const c=Object.assign({},this.startPosition,{left:this.startPosition.left+s.x,right:this.startPosition.right+s.x,top:this.startPosition.top+s.y,bottom:this.startPosition.bottom+s.y});if(o){const u=this.dragContainerElement.getBoundingClientRect(),f=u.top<c.top&&c.top<u.bottom,_=u.top<c.bottom&&c.bottom<u.bottom;return z7(u,c)&&(f||_)}return!1}return o}}class BAe{constructor(t,e,i){this.resizeContainerElement=t,this.minWidth=e,this.rtl=i}validateResize({rectangle:t,edges:e}){return this.rtl&&(typeof e.left<"u"?(t.left-=e.left,t.right+=e.left):typeof e.right<"u"&&(t.left+=e.right,t.right-=e.right),t.width=t.right-t.left),!(this.minWidth&&Math.ceil(t.width)<Math.ceil(this.minWidth))&&function bAe(n,t){return z7(n,t)&&function yAe(n,t){return Math.floor(n.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(n.bottom)}(n,t)}(this.resizeContainerElement.getBoundingClientRect(),t)}}let zAe=(()=>{class n{constructor(){this.dayHeaderClicked=new Be,this.eventDropped=new Be,this.dragEnter=new Be,this.trackByWeekDayHeaderDate=nL}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wt({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,i){if(1&e&&(De(0,PSe,2,2,"ng-template",null,0,zi),De(2,OSe,0,0,"ng-template",1)),2&e){const r=ii(1);se(2),oe("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function DH(n,t,e,i,r,s,o,c,u){const f=Ts()+n,_=tt(),C=Wa(_,f,e,i,r,s);return Ah(_,f+4,o,c)||C?Jl(_,f+6,u?t.call(u,e,i,r,s,o,c):t(e,i,r,s,o,c)):Vv(_,f+6)}(2,NSe,i.days,i.locale,i.dayHeaderClicked,i.eventDropped,i.dragEnter,i.trackByWeekDayHeaderDate))}},dependencies:[qa,Br,gs,QF,Ff,q0],encapsulation:2}),n})(),HAe=(()=>{class n{constructor(){this.eventClicked=new Be}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wt({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,i){if(1&e&&(De(0,LSe,6,27,"ng-template",null,0,zi),De(2,VSe,0,0,"ng-template",1)),2&e){const r=ii(1);se(2),oe("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",IA(2,BSe,[i.weekEvent,i.tooltipPlacement,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDisabled,i.tooltipDelay,i.column,i.daysInWeek]))}},dependencies:[gs,sy,F7,L7,V7,Ff,_I,tL,Lf],encapsulation:2}),n})(),UAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wt({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,i){if(1&e&&(De(0,HSe,3,13,"ng-template",null,0,zi),De(2,USe,0,0,"ng-template",1)),2&e){const r=ii(1);se(2),oe("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",DA(2,jSe,i.segment,i.locale,i.segmentHeight,i.isTimeLabel,i.daysInWeek))}},dependencies:[qa,Cr,gs,q0,Lf],encapsulation:2}),n})(),jAe=(()=>{class n{constructor(e,i){this.dateAdapter=e,this.zone=i,this.columnDate$=new be(void 0),this.marker$=this.zone.onStable.pipe(tn(()=>function _Te(n=0,t=Xd){return n<0&&(n=0),N0(n,n,t)}(6e4)),Cl(0),Ok(this.columnDate$),Je(r=>{const s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),c=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),u=new Date;return{isVisible:this.dateAdapter.isSameDay(r,u)&&u>=s&&u<=o,top:this.dateAdapter.differenceInMinutes(u,s)*c}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return n.\u0275fac=function(e){return new(e||n)($(ld),$(at))},n.\u0275cmp=Wt({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[Nn],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,i){if(1&e&&(De(0,GSe,1,1,"ng-template",null,0,zi),De(2,$Se,0,0,"ng-template",1),Pi(3,"async"),Pi(4,"async")),2&e){const r=ii(1);let s;se(2),oe("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function IH(n,t,e,i,r,s,o,c,u,f){const _=Ts()+n,C=tt();let S=Wa(C,_,e,i,r,s);return eC(C,_+4,o,c,u)||S?Jl(C,_+7,f?t.call(f,e,i,r,s,o,c,u):t(e,i,r,s,o,c,u)):Vv(C,_+7)}(6,YSe,i.columnDate,i.dayStartHour,i.dayStartMinute,i.dayEndHour,i.dayEndMinute,null==(s=TA(3,2,i.marker$))?null:s.isVisible,null==(s=TA(4,4,i.marker$))?null:s.top))}},dependencies:[Cr,gs,dj],encapsulation:2}),n})(),G7=(()=>{class n{constructor(e,i,r,s,o){this.cdr=e,this.utils=i,this.dateAdapter=s,this.element=o,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new Be,this.eventClicked=new Be,this.eventTimesChanged=new Be,this.beforeViewRender=new Be,this.hourSegmentClicked=new Be,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=nL,this.trackByHourSegment=xAe,this.trackByHour=wAe,this.trackByWeekAllDayEvent=CAe,this.trackByWeekTimeEvent=EAe,this.trackByHourColumn=(c,u)=>u.hours[0]?u.hours[0].segments[0].date.toISOString():u,this.trackById=(c,u)=>u.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,r=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;i&&this.refreshHeader(),e.events&&B7(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(e,i,r){this.timeEventResizes.set(i.event,r),this.resizeStarted(e,i)}timeEventResizing(e,i){this.timeEventResizes.set(e.event,i);const r=new Map,s=[...this.events];this.timeEventResizes.forEach((o,c)=>{const u=this.getTimeEventResizedDates(c,o),f={...c,...u};r.set(f,c);const _=s.indexOf(c);s[_]=f}),this.restoreOriginalEvents(s,r,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const i=this.timeEventResizes.get(e.event);if(i){this.timeEventResizes.delete(e.event);const r=this.getTimeEventResizedDates(e.event,i);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:e.event,type:Wu.Resize})}}allDayEventResizeStarted(e,i,r){this.allDayEventResizes.set(i,{originalOffset:i.offset,originalSpan:i.span,edge:typeof r.edges.left<"u"?"left":"right"}),this.resizeStarted(e,i,this.getDayColumnWidth(e))}allDayEventResizing(e,i,r){const s=this.allDayEventResizes.get(e),o=this.rtl?-1:1;if(typeof i.edges.left<"u"){const c=Math.round(+i.edges.left/r)*o;e.offset=s.originalOffset+c,e.span=s.originalSpan-c}else if(typeof i.edges.right<"u"){const c=Math.round(+i.edges.right/r)*o;e.span=s.originalSpan+c}}allDayEventResizeEnded(e){const i=this.allDayEventResizes.get(e);if(i){const r="left"===i.edge;let s;s=r?e.offset-i.originalOffset:e.span-i.originalSpan,e.offset=i.originalOffset,e.span=i.originalSpan;const o=this.getAllDayEventResizedDates(e.event,s,r);this.eventTimesChanged.emit({newStart:o.start,newEnd:o.end,event:e.event,type:Wu.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,i,r){(function SAe(n,t,e,i){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==i||n.dropData.event.allDay&&!e||!n.dropData.event.allDay&&e)})(e,0,r,this.calendarId)&&this.lastDragEnterDate.getTime()===i.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:Wu.Drop,event:e.dropData.event,newStart:i,allDay:r}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,i,r,s){this.dayColumnWidth=this.getDayColumnWidth(e);const o=new VAe(e,i);this.validateDrag=({x:c,y:u,transform:f})=>{const _=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&o.validateDrag({x:c,y:u,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:f});if(_&&this.validateEventTimesChanged){const C=this.getDragMovedEventTimes(r,{x:c,y:u},this.dayColumnWidth,s);return this.validateEventTimesChanged({type:Wu.Drag,event:r.event,newStart:C.start,newEnd:C.end})}return _},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&s&&this.view.hourColumns.forEach(c=>{const u=c.events.find(f=>f.event===r.event&&f!==r);u&&(u.width=0,u.height=0)}),this.cdr.markForCheck()}dragMove(e,i){const r=this.getDragMovedEventTimes(e,i,this.dayColumnWidth,!0),s=e.event,o={...s,...r},c=this.events.map(u=>u===s?o:u);this.restoreOriginalEvents(c,new Map([[o,s]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,i,r,s=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:o,end:c}=this.getDragMovedEventTimes(e,i,r,s);(this.snapDraggedEvents||this.eventDragEnterByType[s?"time":"allDay"]>0)&&function TAe(n,t,e){const i=t||n;return e.start<=n&&n<=e.end||e.start<=i&&i<=e.end}(o,c,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:o,newEnd:c,event:e.event,type:Wu.Drag,allDay:!s}))}refreshHeader(){this.days=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays,...rL(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit({header:this.days,...this.view})}getWeekView(e){return this.utils.getWeekView({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight,...rL(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}getDragMovedEventTimes(e,i,r,s){const o=H7(i.x,r)/r*(this.rtl?-1:1),c=s?iL(i.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,u=this.dateAdapter.addMinutes(Rl(this.dateAdapter,e.event.start,o,this.excludeDays),c);let f;return e.event.end&&(f=this.dateAdapter.addMinutes(Rl(this.dateAdapter,e.event.end,o,this.excludeDays),c)),{start:u,end:f}}restoreOriginalEvents(e,i,r=!0){const s=this.view;r&&(this.view=this.getWeekView(e));const o=e.filter(c=>i.has(c));this.view.hourColumns.forEach((c,u)=>{s.hourColumns[u].hours.forEach((f,_)=>{f.segments.forEach((C,S)=>{c.hours[_].segments[S].cssClass=C.cssClass})}),o.forEach(f=>{const _=i.get(f),C=c.events.find(S=>S.event===(r?f:_));C?(C.event=_,C.tempEvent=f,r||(C.height=0,C.width=0)):c.events.push({event:_,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:f})})}),i.clear()}getTimeEventResizedDates(e,i){const r={start:e.start,end:j7(this.dateAdapter,e,this.minimumEventHeight)},{end:s,...o}=e,c={start:this.dateAdapter.addMinutes(r.end,-1*this.minimumEventHeight),end:j7(this.dateAdapter,o,this.minimumEventHeight)},u=this.rtl?-1:1;if(typeof i.edges.left<"u"){const f=Math.round(+i.edges.left/this.dayColumnWidth)*u,_=Rl(this.dateAdapter,r.start,f,this.excludeDays);r.start=_<c.start?_:c.start}else if(typeof i.edges.right<"u"){const f=Math.round(+i.edges.right/this.dayColumnWidth)*u,_=Rl(this.dateAdapter,r.end,f,this.excludeDays);r.end=_>c.end?_:c.end}if(typeof i.edges.top<"u"){const f=iL(i.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),_=this.dateAdapter.addMinutes(r.start,f);r.start=_<c.start?_:c.start}else if(typeof i.edges.bottom<"u"){const f=iL(i.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),_=this.dateAdapter.addMinutes(r.end,f);r.end=_>c.end?_:c.end}return r}resizeStarted(e,i,r){this.dayColumnWidth=this.getDayColumnWidth(e);const s=new BAe(e,r,this.rtl);this.validateResize=({rectangle:o,edges:c})=>{const u=s.validateResize({rectangle:{...o},edges:c});if(u&&this.validateEventTimesChanged){let f;if(r){const _=this.rtl?-1:1;if(typeof c.left<"u"){const C=Math.round(+c.left/r)*_;f=this.getAllDayEventResizedDates(i.event,C,!this.rtl)}else{const C=Math.round(+c.right/r)*_;f=this.getAllDayEventResizedDates(i.event,C,this.rtl)}}else f=this.getTimeEventResizedDates(i.event,{rectangle:o,edges:c});return this.validateEventTimesChanged({type:Wu.Resize,event:i.event,newStart:f.start,newEnd:f.end})}return u},this.cdr.markForCheck()}getAllDayEventResizedDates(e,i,r){let s=e.start,o=e.end||e.start;return r?s=Rl(this.dateAdapter,s,i,this.excludeDays):o=Rl(this.dateAdapter,o,i,this.excludeDays),{start:s,end:o}}}return n.\u0275fac=function(e){return new(e||n)($(Lr),$(bI),$(Ks),$(ld),$(Gt))},n.\u0275cmp=Wt({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[Nn],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,i){1&e&&(te(0,"div",0)(1,"mwl-calendar-week-view-header",1),et("dayHeaderClicked",function(s){return i.dayHeaderClicked.emit(s)})("eventDropped",function(s){return i.eventDropped({dropData:s},s.newStart,!0)})("dragEnter",function(s){return i.dateDragEnter(s.date)}),ne(),De(2,iAe,6,5,"div",2),te(3,"div",3),et("dragEnter",function(){return i.dragEnter("time")})("dragLeave",function(){return i.dragLeave("time")}),De(4,oAe,2,2,"div",4),te(5,"div",5,6),De(7,_Ae,5,13,"div",7),ne()()()),2&e&&(se(1),oe("days",i.days)("locale",i.locale)("customTemplate",i.headerTemplate),se(1),oe("ngIf",i.view.allDayEventRows.length>0),se(2),oe("ngIf",i.view.hourColumns.length>0&&1!==i.daysInWeek),se(1),Ft("cal-resize-active",i.timeEventResizes.size>0),se(2),oe("ngForOf",i.view.hourColumns)("ngForTrackBy",i.trackByHourColumn))},dependencies:[qa,Br,Cr,gs,M7,JTe,KF,QF,Ff,zAe,HAe,UAe,jAe],encapsulation:2}),n})(),oL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=Ae({imports:[Yd,R7,pI,X0,R7,pI]}),n})(),WAe=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new Be,this.hourSegmentClicked=new Be,this.eventTimesChanged=new Be,this.beforeViewRender=new Be}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wt({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:27,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,i){1&e&&(te(0,"mwl-calendar-week-view",0),et("eventClicked",function(s){return i.eventClicked.emit(s)})("hourSegmentClicked",function(s){return i.hourSegmentClicked.emit(s)})("eventTimesChanged",function(s){return i.eventTimesChanged.emit(s)})("beforeViewRender",function(s){return i.beforeViewRender.emit(s)}),ne()),2&e&&oe("daysInWeek",1)("viewDate",i.viewDate)("events",i.events)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("minimumEventHeight",i.minimumEventHeight)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("refresh",i.refresh)("locale",i.locale)("eventSnapSize",i.eventSnapSize)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("resizeCursors",i.resizeCursors)("hourSegmentTemplate",i.hourSegmentTemplate)("eventTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("snapDraggedEvents",i.snapDraggedEvents)("allDayEventsLabelTemplate",i.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",i.currentTimeMarkerTemplate)("validateEventTimesChanged",i.validateEventTimesChanged)},dependencies:[G7],encapsulation:2}),n})(),$7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=Ae({imports:[Yd,X0,oL]}),n})(),GAe=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||eL,i.dateFormatter||yI,i.utils||bI,i.a11y||vI]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=Ae({imports:[X0,W7,oL,$7,X0,W7,oL,$7]}),n})();const Bf=void 0,YAe=["en",[["a","p"],["AM","PM"],Bf],[["AM","PM"],Bf,Bf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bf,"{1} 'at' {0}",Bf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $Ae(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],{isArray:qAe}=Array;function Y7(n){return 1===n.length&&qAe(n[0])?n[0]:n}function aL(...n){const t=No(n),e=Y7(n);return e.length?new zt(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)ht(e[o]).subscribe(lt(i,c=>{if(r[o].push(c),r.every(u=>u.length)){const u=r.map(f=>f.shift());i.next(t?t(...u):u),r.some((f,_)=>!f.length&&s[_])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):oi}Math,Math,Math;const DMe=["*"],tRe=["dialog"];function Uf(n){return"string"==typeof n}function jf(n){return null!=n}function f_(n){return(n||document.body).getBoundingClientRect()}const IZ={animation:!0,transitionTimerDelayMs:5},YRe=()=>{},{transitionTimerDelayMs:qRe}=IZ,ix=new Map,Ko=(n,t,e,i)=>{let r=i.context||{};const s=ix.get(t);if(s)switch(i.runningTransition){case"continue":return oi;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),ix.delete(t)}const o=e(t,i.animation,r)||YRe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),Pe(void 0).pipe(function GRe(n){return t=>new zt(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const c=new _e,u=new _e,f=c.pipe(function ZAe(...n){return t=>Hg(t,Pe(...n))}(!0));ix.set(t,{transition$:c,complete:()=>{u.next(),u.complete()},context:r});const _=function $Re(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const C=jr(t,"transitionend").pipe(Qt(f),Bn(({target:R})=>R===t));(function q7(...n){return 1===(n=Y7(n)).length?ht(n[0]):new zt(function XAe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(ht(n[i]).subscribe(lt(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(N0(_+qRe).pipe(Qt(f)),C,u).pipe(Qt(f)).subscribe(()=>{ix.delete(t),n.run(()=>{o(),c.next(),c.complete()})})}),c.asObservable()};let SI=(()=>{class n{constructor(){this.animation=IZ.animation}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),FZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),BZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),zZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})();var Ni=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Ni||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const YZ=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function qZ(n){const t=Array.from(n.querySelectorAll(YZ)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let aK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),dK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})();class qf{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let YPe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Kn(1)).subscribe(()=>{Ko(this._zone,this._el.nativeElement,(e,i)=>{i&&f_(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ko(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||n)($(Gt),$(at))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(mo("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Ft("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ho],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();class uK{update(t){}close(t){}dismiss(t){}}const qPe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],XPe=["animation","backdropClass"];class ZPe{_applyWindowOptions(t,e){qPe.forEach(i=>{jf(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){XPe.forEach(i=>{jf(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Qt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Qt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new _e,this._dismissed=new _e,this._hidden=new _e,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function CZ(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Pe(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),aL(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var NL=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(NL||{});let KPe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new _e,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Be,this.shown=new _e,this.hidden=new _e}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Uf(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Kn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=aL(Ko(this._zone,e,()=>e.classList.remove("show"),i),Ko(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};aL(Ko(this._zone,this._elRef.nativeElement,(s,o)=>{o&&f_(s),s.classList.add("show")},e),Ko(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{jr(e,"keydown").pipe(Qt(this._closed$),Bn(r=>r.which===Ni.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(NL.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;jr(this._dialogEl.nativeElement,"mousedown").pipe(Qt(this._closed$),Qr(()=>i=!1),tn(()=>jr(e,"mouseup").pipe(Qt(this._closed$),Kn(1))),Bn(({target:r})=>e===r)).subscribe(()=>{i=!0}),jr(e,"click").pipe(Qt(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(NL.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=qZ(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ko(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||n)($(sn),$(Gt),$(at))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&Ji(tRe,7),2&i){let s;Xt(s=Zt())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Ut("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),mo("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Ft("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ho],ngContentSelectors:DMe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(ul(),te(0,"div",0,1)(2,"div",2),wr(3),ne()()),2&i&&mo("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),QPe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(e>0){const c=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${c+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=o),r.overflow=s}}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sn))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JPe=(()=>{class n{constructor(e,i,r,s,o,c,u){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=s,this._scrollBar=o,this._rendererFactory=c,this._ngZone=u,this._activeWindowCmptHasChanged=new _e,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Be,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const f=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=jr(t,"focusin").pipe(Qt(e),Je(s=>s.target));jr(t,"keydown").pipe(Qt(e),Bn(s=>s.which===Ni.Tab),qC(r)).subscribe(([s,o])=>{const[c,u]=qZ(t);(o===c||o===t)&&s.shiftKey&&(u.focus(),s.preventDefault()),o===u&&!s.shiftKey&&(c.focus(),s.preventDefault())}),i&&jr(t,"click").pipe(Qt(e),qC(r),Je(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const s=r.container instanceof HTMLElement?r.container:jf(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const c=new uK,u=(e=r.injector||e).get(fo,null)||this._environmentInjector,f=this._getContentRef(e,u,i,c,r);let _=!1!==r.backdrop?this._attachBackdrop(s):void 0,C=this._attachWindowComponent(s,f.nodes),S=new ZPe(C,f,_,r.beforeDismiss);return this._registerModalRef(S),this._registerWindowCmpt(C),S.hidden.pipe(Kn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),c.close=R=>{S.close(R)},c.dismiss=R=>{S.dismiss(R)},c.update=R=>{S.update(R)},S.update(r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),_&&_.instance&&_.changeDetectorRef.detectChanges(),C.changeDetectorRef.detectChanges(),S}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=tk(YPe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=tk(KPe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,s,o){return r?r instanceof gr?this._createFromTemplateRef(r,s):Uf(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new qf([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new qf([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new qf([[i]])}_createFromComponent(e,i,r,s,o){const u=tk(r,{environmentInjector:i,elementInjector:fr.create({providers:[{provide:uK,useValue:s}],parent:e})}),f=u.location.nativeElement;return o.scrollable&&f.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new qf([[f]],u.hostView,u)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Ga),ce(fr),ce(fo),ce(sn),ce(QPe),ce(Jp),ce(at))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eOe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(ce(SI))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hK=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(fr),ce(JPe),ce(eOe))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({providers:[hK]})}return n})(),mK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),EK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),DK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),IK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),TK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),SK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),AK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),kK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),MK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})();new Xe("live announcer delay",{providedIn:"root",factory:function gOe(){return 100}});let RK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})(),PK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({})}return n})();const _Oe=[NZ,FZ,BZ,zZ,aK,dK,fK,mK,PK,EK,DK,IK,TK,SK,AK,kK,MK,RK];let OK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({imports:[_Oe,NZ,FZ,BZ,zZ,aK,dK,fK,mK,PK,EK,DK,IK,TK,SK,AK,kK,MK,RK]})}return n})(),vOe=(()=>{class n{constructor(e,i){this.apiService=e,this.storageService=i,this.pet_list=[],e.getAllPets().then(r=>{this.pet_list=r,i.SessionAddStorage("pets",this.pet_list)})}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Ou),ce(Df))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yOe={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"},black:{primary:"#000000",secondary:"#000000"},green:{primary:"#2D6F28",secondary:"#2D6F28"}};let bOe=(()=>{class n{constructor(e,i,r){this.storageService=e,this.apiservice=i,this.petService=r,this.uid="",this.eventListSubject=new _e,this.eventList=[],this.EventList=this.eventListSubject.asObservable();var s=e.SessionGetStorage("uid");console.log(s),this.apiservice.getAppointments(s).then(o=>{o.forEach(c=>{console.log("a"),console.log(c);var u,f="";u=this.parseDateFromString(c.start_date)<new Date?"black":"green",console.log("asdasd"+r.pet_list),r.pet_list.forEach(_=>{"CL7E6IRjyJgOzaLxCV8O"==c.pet_id?f="Tobby":"HtvrlxCnJsSXVkUcgkFG"==c.pet_id?f="Dobby":(f="Bobby",console.log(""))}),this.addEvent({start:this.parseDateFromString(c.start_date),end:this.parseDateFromString(c.end_date),title:f,pet_id:c.pet_id,matter:c.matter,color:{...yOe[u]}})})})}getVetfromPet(e){var i=this.storageService.SessionGetStorage("pets");return i.find(r=>r.id==e)?.vet_id}parseDateFromString(e){const r=e.match(/^(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})$/);if(r){const s=parseInt(r[1]),o=parseInt(r[2])-1,c=parseInt(r[3]),u=parseInt(r[4]),f=parseInt(r[5]),_=new Date(c,o,s,u,f);if(!isNaN(_.getTime()))return _}return null}addEvent(e){this.eventList.push(e),this.eventListSubject.next(this.eventList)}deleteEvent(e){this.eventList=this.eventList.filter(i=>i!==e),this.eventListSubject.next(this.eventList)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Df),ce(Ou),ce(vOe))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const xOe=["modalContent"];function wOe(n,t){if(1&n){const e=qn();te(0,"mwl-calendar-month-view",16),et("dayClicked",function(r){return bt(e),Ct(Ee().dayClicked(r.day))})("eventClicked",function(r){return bt(e),Ct(Ee().eventClicked(r))})("beforeViewRender",function(r){return bt(e),Ct(Ee().beforeMonthViewRender(r))}),ne()}if(2&n){const e=Ee();oe("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)("activeDayIsOpen",e.activeDayIsOpen)}}function COe(n,t){if(1&n){const e=qn();te(0,"mwl-calendar-week-view",17),et("beforeViewRender",function(r){return bt(e),Ct(Ee().beforeWeekViewRender(r))}),ne()}if(2&n){const e=Ee();oe("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)}}function EOe(n,t){if(1&n){const e=qn();te(0,"mwl-calendar-day-view",17),et("beforeViewRender",function(r){return bt(e),Ct(Ee().beforeDayViewRender(r))}),ne()}if(2&n){const e=Ee();oe("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)}}function DOe(n,t){if(1&n&&(te(0,"div",18)(1,"div",12),ut(2,"img",19),te(3,"div",20)(4,"b",21),Ve(5),Pi(6,"date"),ne(),te(7,"p",22),Ve(8),ne(),te(9,"p",22),Ve(10,"Vet: Ramon"),ne(),te(11,"p",22),Ve(12),ne()(),ut(13,"img",23)(14,"img",24),ne()()),2&n){const e=t.$implicit;se(5),pr(bo(6,3,e.start,"MMM dd 'at' hh:mm a")),se(3),li("Pet: ",e.title,""),se(4),li("Matter: ",e.matter,"")}}!function iae(n,t,e){(function rie(n,t,e){"string"!=typeof t&&(e=t,t=n[Bi.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),pg[t]=n,e&&(pg[t][Bi.ExtraData]=e)})(n,t,e)}(YAe);let IOe=(()=>{class n{constructor(e,i,r,s,o){this.modal=e,this.storageService=i,this.apiService=r,this.appointmentService=s,this.router=o,this.locale="en",this.view=Vf.Month,this.CalendarView=Vf,this.viewDate=new Date,this.refresh=new _e,this.events=[],this.displayed_events=[],this.activeDayIsOpen=!0,this.storageService.SessionGetStorage("uid")}ngOnInit(){this.appointmentService.EventList.subscribe(e=>{this.events=e,console.log(this.events);var i=new Date;this.events.forEach(r=>{r.start>i&&this.displayed_events.push(r)})})}eventClicked({event:e}){this.router.navigate(["clients/pet"],{queryParams:{petId:e.pet_id}})}dayClicked({date:e,events:i}){h7(e,this.viewDate)&&(this.activeDayIsOpen=!(f7(this.viewDate,e)&&!0===this.activeDayIsOpen||0===i.length),this.viewDate=e)}beforeMonthViewRender(e){e.body.forEach(i=>{i.isPast&&(i.cssClass="bg-pink")})}beforeWeekViewRender(e){e.hourColumns.forEach(i=>{i.hours.forEach(r=>{r.segments.forEach(s=>{})})})}beforeDayViewRender(e){e.hourColumns.forEach(i=>{i.hours.forEach(r=>{r.segments.forEach(s=>{})})})}setView(e){this.view=e}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}static#e=this.\u0275fac=function(i){return new(i||n)($(hK),$(Df),$(Ou),$(bOe),$(Cs))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["app-appointments"]],viewQuery:function(i,r){if(1&i&&Ji(xOe,7),2&i){let s;Xt(s=Zt())&&(r.modalContent=s.first)}},decls:40,vars:21,consts:[[1,"row","text-center"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-dark",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-dark",3,"view","viewDate","viewDateChange"],[1,"btn","btn-dark",3,"click"],[1,"calendar-size",3,"ngSwitch"],[3,"locale","viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","beforeViewRender",4,"ngSwitchCase"],[3,"locale","viewDate","events","refresh","beforeViewRender",4,"ngSwitchCase"],[2,"width","100%","align-self","center"],[2,"justify-content","center","height","80px"],[1,"appointment-container",2,"display","flex","text-align","center"],["src","../../../assets/imgs/Add.svg",2,"height","70%","padding-left","5%","padding-top","5%"],[2,"align-items","center","text-align","center"],["style","justify-content: center; height: 100px;",4,"ngFor","ngForOf"],[3,"locale","viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","beforeViewRender"],[3,"locale","viewDate","events","refresh","beforeViewRender"],[2,"justify-content","center","height","100px"],["src","../../../assets/imgs/vet_img.svg",2,"height","70%","padding-left","5%","padding-top","5%"],[2,"align-items","center","text-align","left","max-width","200px","padding-left","10px"],[2,"word-wrap","break-word","margin","0","color","#286024"],[2,"word-wrap","break-word","margin","0"],["src","../../../assets/imgs/edit_icon.svg",2,"height","70%","padding-left","5%","padding-top","5%"],["src","../../../assets/imgs/delete_icon.svg",2,"height","70%","padding-left","5%","padding-top","5%"]],template:function(i,r){1&i&&(te(0,"h1"),Ve(1,"Appointments"),ne(),ut(2,"br"),te(3,"div",0)(4,"div",1)(5,"div",2)(6,"div",3),et("viewDateChange",function(o){return r.viewDate=o})("viewDateChange",function(){return r.closeOpenMonthViewDay()}),Ve(7," Previous "),ne(),te(8,"div",4),et("viewDateChange",function(o){return r.viewDate=o}),Ve(9," Today "),ne(),te(10,"div",5),et("viewDateChange",function(o){return r.viewDate=o})("viewDateChange",function(){return r.closeOpenMonthViewDay()}),Ve(11," Next "),ne()()(),te(12,"div",1)(13,"h3"),Ve(14),Pi(15,"calendarDate"),ne()(),te(16,"div",1)(17,"div",2)(18,"div",6),et("click",function(){return r.setView(r.CalendarView.Month)}),Ve(19," Month "),ne(),te(20,"div",6),et("click",function(){return r.setView(r.CalendarView.Week)}),Ve(21," Week "),ne(),te(22,"div",6),et("click",function(){return r.setView(r.CalendarView.Day)}),Ve(23," Day "),ne()()()(),ut(24,"br"),te(25,"div",7),De(26,wOe,1,5,"mwl-calendar-month-view",8),De(27,COe,1,4,"mwl-calendar-week-view",9),De(28,EOe,1,4,"mwl-calendar-day-view",9),ne(),ut(29,"br"),te(30,"h3",10),Ve(31,"Upcommig Appointments"),ne(),te(32,"div",11)(33,"div",12),ut(34,"img",13),te(35,"div",14)(36,"p"),Ve(37,"Add new Appointment"),ne()()()(),ut(38,"br"),De(39,DOe,15,6,"div",15)),2&i&&(se(6),oe("view",r.view)("viewDate",r.viewDate),se(2),oe("viewDate",r.viewDate),se(2),oe("view",r.view)("viewDate",r.viewDate),se(4),pr(gl(15,17,r.viewDate,r.view+"ViewTitle","en")),se(4),Ft("active",r.view===r.CalendarView.Month),se(2),Ft("active",r.view===r.CalendarView.Week),se(2),Ft("active",r.view===r.CalendarView.Day),se(3),oe("ngSwitch",r.view),se(1),oe("ngSwitchCase",r.CalendarView.Month),se(1),oe("ngSwitchCase",r.CalendarView.Week),se(1),oe("ngSwitchCase",r.CalendarView.Day),se(11),oe("ngForOf",r.displayed_events))},dependencies:[Br,xg,NC,AAe,kAe,MAe,LAe,G7,WAe,oy,q0],styles:[".calendar-size[_ngcontent-%COMP%]{font-size:11px!important}.appointment-container[_ngcontent-%COMP%]{width:100%;height:100%;top:405px;left:1488px;border-radius:8px;background-color:#fff;text-align:center;margin-bottom:25px}"]})}return n})();class TOe{}function SOe(n,t){1&n&&rC(0)}function AOe(n,t){1&n&&rC(0)}function kOe(n,t){if(1&n){const e=qn();te(0,"button",6),et("click",function(){bt(e);const r=Ee().$implicit;return Ct(Ee(2).redirectVisitPage(r.id||""))}),te(1,"div",7)(2,"div"),ut(3,"img",8),ne(),te(4,"div",9)(5,"ul")(6,"li")(7,"b"),Ve(8,"Pet: "),ne(),Ve(9),ne(),te(10,"li")(11,"b"),Ve(12,"Start:"),ne(),Ve(13),ne(),te(14,"li")(15,"b"),Ve(16,"End:"),ne(),Ve(17),ne()()()()()}if(2&n){const e=Ee().$implicit,i=Ee(2);ec("id",e.id),se(3),ec("src",i.VisitPet.profile_image,Yp),se(6),li(" ",i.VisitPet.name,""),se(4),li(" ",i.formatStartDate(e.start_date||""),""),se(4),li(" ",i.formatStartDate(e.end_date||""),"")}}function MOe(n,t){if(1&n&&(te(0,"div"),De(1,AOe,1,0,"ng-container",5),De(2,kOe,18,5,"ng-template",null,1,zi),ne()),2&n){const e=t.$implicit,i=ii(3),r=Ee(2);se(1),oe("ngIf",r.isTodayVisit(e.end_date||""))("ngIfThen",i)}}function ROe(n,t){1&n&&De(0,MOe,4,2,"div",4),2&n&&oe("ngForOf",Ee().clientAppointments)}function POe(n,t){1&n&&(te(0,"div")(1,"p"),Ve(2,"No tens visites per avui"),ne()())}function OOe(n,t){if(1&n){const e=qn();te(0,"div",10)(1,"div",11),et("click",function(){const s=bt(e).$implicit;return Ct(Ee().redirectPetPage(s.id||""))}),ut(2,"img",12),te(3,"div",13)(4,"p"),Ve(5),ne()()()()}if(2&n){const e=t.$implicit;se(1),ec("id",e.id),se(1),ec("src",e.profile_image,Yp),se(3),pr(e.name)}}let NOe=(()=>{class n{constructor(e,i,r){this.router=e,this.apiService=i,this.storageService=r,this.currentDate=new Date,this.showData(),this.client=new TOe,this.petsArray=[],this.clientAppointments=[],this.ifvisit=!1,this.isTodayVisits=[],this.VisitPet=new BN}ngOnInit(){}formatStartDate(e){const r=e.match(/(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})/);return r?`${r[4]}:${r[5]}`:""}formatDate(e){const r=e.match(/(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})/);return r?`${r[1]}${r[2]}${r[3]}`:""}isTodayVisit(e){const o=`${this.currentDate.getDate().toString().padStart(2,"0")}${(this.currentDate.getMonth()+1).toString().padStart(2,"0")}${this.currentDate.getFullYear().toString()}`;return this.formatDate(e)==o}redirectPetPage(e){this.router.navigate(["pet-profile"],{queryParams:{petId:e}})}redirectVisitPage(e){this.router.navigate(["appointment"],{queryParams:{appointmentId:e}})}showData(){this.apiService.getSingleClient("VPUnbME8Kt27zmF7q7ne").then(e=>{this.client=e,console.log(e)}),this.apiService.getClientPets("VPUnbME8Kt27zmF7q7ne").then(e=>{this.petsArray=e;for(let i=0;i<e.length;i++)e[i].profile_image="Toby"==e[i].name?"/assets/img/dogImage1.jpg":"Dobby"==e[i].name?"/assets/img/dogImage2.jpg":"Darwin"==e[i].name?"/assets/img/catImage.avif":"/assets/img/logo_default.svg";console.log(e)}),this.apiService.getClientAppointments("VPUnbME8Kt27zmF7q7ne").then(e=>{this.clientAppointments=e;let i=!1;for(const r of this.clientAppointments)this.apiService.getPet(r.pet_id||"").then(s=>{this.VisitPet=s,""==this.VisitPet.profile_image?this.VisitPet.profile_image="/assets/img/logo_default.svg":"Toby"==this.VisitPet.name?this.VisitPet.profile_image="/assets/img/dogImage1.jpg":"Dobby"==this.VisitPet.name?this.VisitPet.profile_image="/assets/img/dogImage2.jpg":"Darwin"==this.VisitPet.name&&(this.VisitPet.profile_image="/assets/img/catImage.avif")}),(i=this.isTodayVisit(r.end_date||""))&&this.isTodayVisits.push(r.end_date||"")})}static#e=this.\u0275fac=function(i){return new(i||n)($(Cs),$(Ou),$(Df))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["app-home"]],decls:17,vars:17,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""],["class","module","style","text-align: center;",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen"],[1,"whiteButton",3,"id","click"],[2,"column-count","2"],[2,"width","70%",3,"src"],[2,"text-align","left"],[1,"module",2,"text-align","center"],[1,"image-container",3,"id","click"],["width","50px","alt","Pet",3,"src"],[1,"overlay"]],template:function(i,r){if(1&i&&(te(0,"h1"),Ve(1),ne(),te(2,"h2"),Ve(3),Pi(4,"date"),Pi(5,"date"),Pi(6,"date"),ne(),te(7,"h1"),Ve(8," Visites per avui!\n"),ne(),De(9,SOe,1,0,"ng-container",0),De(10,ROe,1,1,"ng-template",null,1,zi),De(12,POe,3,0,"ng-template",null,2,zi),te(14,"h1"),Ve(15," Les teves mascotes\n"),ne(),De(16,OOe,6,3,"div",3)),2&i){const s=ii(11),o=ii(13);se(1),li(" Benvingut ",r.client.name,"\n"),se(2),pA(" ",bo(4,8,r.currentDate,"EEEE"),", ",bo(5,11,r.currentDate,"d")," ",bo(6,14,r.currentDate,"MMMM"),""),se(6),oe("ngIf",r.isTodayVisits.length>0)("ngIfThen",s)("ngIfElse",o),se(7),oe("ngForOf",r.petsArray)}},dependencies:[Br,Cr,oy],styles:[".whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:10px;border-radius:20px;width:100%;margin-right:20px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}"]})}return n})();const FOe=["chart_div"];function LOe(n,t){if(1&n&&(te(0,"ul")(1,"li"),Ve(2),ne()()),2&n){const e=t.$implicit;se(2),li("",e," \u2713")}}const VOe=[{path:"",component:UIe},{path:"register",component:QIe},{path:"map",component:u7},{path:"appointments",component:IOe},{path:"map",component:u7},{path:"home",component:NOe},{path:"pet-profile",component:(()=>{class n{constructor(e){this.apiService=e,this.chartOptions={series:[{name:"Cardiac Frequency",data:[70,75,80,74,84,90,75,70,80,91,92,93,64,75,86,77,98,109,60]},{name:"Steps",data:[300,200,100,290,500,400,211,314,194,211,112,323,414,125,376,517,238,419,310]}],chart:{type:"bar",height:350},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(r){return"$ "+r+" thousands"}}}},this.chartOptions2={series:[{name:"Weight",data:[90,91,90,93,94,90,95,98,100,98,97]},{name:"Height",data:[100,100,100,105,105,105,105,105,110,110,110]}],chart:{type:"line",height:350},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(r){return"$ "+r+" thousands"}}}};const i=new URLSearchParams(window.location.search);this.showPetData(i.get("petId")),this.petInfo=new BN,this.petImage=new String}showPetData(e){null!=e&&this.apiService.getPet(e).then(i=>{this.petInfo=i,i.profile_image="Toby"==i.name?"/assets/img/dogImage1.jpg":"Dobby"==i.name?"/assets/img/dogImage2.jpg":"Darwin"==i.name?"/assets/img/catImage.avif":"/assets/img/logo_default.svg"})}getLatestWeight(){if(null!=this.petInfo.weight){const e=Object.keys(this.petInfo.weight);return this.petInfo.weight[e[e.length-1]]}return null}getBirth(e){if(null!=e){const i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=e.split("_")[0],o=parseInt(s.substring(0,2),10),c=parseInt(s.substring(2,4),10)-1,u=parseInt(s.substring(4,8),10);return`${o} of ${i[c]}, ${u}`}return null}static#e=this.\u0275fac=function(i){return new(i||n)($(Ou))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["app-pet-profile-page"]],viewQuery:function(i,r){if(1&i&&Ji(FOe,5),2&i){let s;Xt(s=Zt())&&(r.chart=s.first)}},decls:60,vars:14,consts:[[2,"text-align","center"],["id","petsIcon","src","/assets/menuIcons/edit.svg","alt","pets"],["id","petsIcon","src","/assets/menuIcons/delete.svg","alt","pets"],[2,"width","300px",3,"src"],[1,"module",2,"column-count","2"],[1,"info-container"],["for","petTypeBreed"],["id","petTypeBreed"],["for","petWeight"],["id","petWeight"],["for","petHeight"],["id","petHeight"],[1,"module",2,"padding-right","5px"],[4,"ngFor","ngForOf"],[1,"module","info-container",2,"padding-right","5px"],[2,"text-align","justify"],[1,"module"],[1,"image-container"],["id","chart_div"],[3,"series","chart"]],template:function(i,r){1&i&&(te(0,"div")(1,"h1",0),Ve(2),ut(3,"img",1)(4,"img",2),ne()(),te(5,"div",0),ut(6,"img",3),ne(),te(7,"div",4)(8,"h1"),Ve(9,"Personal information"),ne(),te(10,"div",5)(11,"div")(12,"div")(13,"label")(14,"b"),Ve(15,"Name:"),ne()(),te(16,"span"),Ve(17),ne(),ut(18,"br"),te(19,"label")(20,"b"),Ve(21,"Birth date:"),ne()(),te(22,"span"),Ve(23),ne(),ut(24,"br"),te(25,"label",6)(26,"b"),Ve(27,"Type:"),ne()(),te(28,"span",7),Ve(29),ne(),ut(30,"br"),ne(),te(31,"div")(32,"label",8)(33,"b"),Ve(34,"Weight:"),ne()(),te(35,"span",9),Ve(36),ne(),ut(37,"br"),te(38,"label",10)(39,"b"),Ve(40,"Height:"),ne()(),te(41,"span",11),Ve(42),ne(),ut(43,"br"),ne()(),te(44,"div",12)(45,"h1"),Ve(46,"Mandatory Vaccines"),ne(),De(47,LOe,3,1,"ul",13),ne()()(),te(48,"div",14)(49,"h1"),Ve(50,"Pet resume"),ne(),te(51,"p",15),Ve(52),ne()(),te(53,"div",16)(54,"h1"),Ve(55,"Statistics"),ne(),ut(56,"div",17),te(57,"div",18),ut(58,"apx-chart",19)(59,"apx-chart",19),ne()()),2&i&&(se(2),li("",r.petInfo.name," "),se(4),ec("src",r.petInfo.profile_image,Yp),se(11),li(" ",r.petInfo.name,""),se(6),li(" ",r.getBirth(r.petInfo.birth),""),se(6),fA(" ",r.petInfo.type,", ",r.petInfo.breed,""),se(7),li(" ",r.getLatestWeight(),"g"),se(6),li(" ",r.petInfo.height,"cm"),se(5),oe("ngForOf",null==r.petInfo.health_info?null:r.petInfo.health_info.vaccines),se(5),li("",null==r.petInfo.health_info?null:r.petInfo.health_info.observations," "),se(6),oe("series",r.chartOptions.series)("chart",r.chartOptions.chart),se(1),oe("series",r.chartOptions2.series)("chart",r.chartOptions2.chart))},dependencies:[Br,J8],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-right:50px}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:278px;height:178px}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}"]})}return n})()},{path:"menu-pet-appointment",component:(()=>{class n{constructor(e){this.router=e}redirectPetsPage(){this.router.navigate(["petsList"])}redirectVisitPage(){this.router.navigate(["appointment"])}static#e=this.\u0275fac=function(i){return new(i||n)($(Cs))};static#t=this.\u0275cmp=Wt({type:n,selectors:[["app-menu-pet-appointment"]],decls:10,vars:0,consts:[[1,"whiteButton"],["src","/assets/menuIcons/calendar-clock 1.svg ","alt","petajda",3,"click"],["src","/assets/menuIcons/petjada.svg ","alt","petajda",3,"click"]],template:function(i,r){1&i&&(te(0,"h1"),Ve(1," Pet-vet menu\n"),ne(),te(2,"button",0)(3,"img",1),et("click",function(){return r.redirectVisitPage()}),ne(),te(4,"h2"),Ve(5,"Appointments"),ne()(),te(6,"button",0)(7,"img",2),et("click",function(){return r.redirectPetsPage()}),ne(),te(8,"h2"),Ve(9,"Pet space"),ne()())},styles:[".whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:50px;border-radius:20px;width:100%;margin-top:100px;margin-right:20px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px;margin-bottom:20px}"]})}return n})()},{path:"petsList",component:_Ie}];let BOe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({imports:[aq.forRoot(VOe),aq]})}return n})();const zOe=[[["","icon",""]],"*"],HOe=["[icon]","*"];let UOe=(()=>{class n{constructor(){this.routerLinkActiveOptions={exact:!1}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Wt({type:n,selectors:[["app-sidenav-link"]],inputs:{routerLink:"routerLink",routerLinkActiveOptions:"routerLinkActiveOptions"},ngContentSelectors:HOe,decls:5,vars:2,consts:[["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],[1,"text-container"]],template:function(i,r){1&i&&(ul(zOe),te(0,"a",0)(1,"span"),wr(2),ne(),te(3,"span",1),wr(4,1),ne()()),2&i&&oe("routerLink",r.routerLink)("routerLinkActiveOptions",r.routerLinkActiveOptions)},dependencies:[b0,J6],styles:["a[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:8px;min-width:80px;padding:16px;background-color:#2d6f28;font-weight:700;color:#afeebb;box-sizing:border-box;text-decoration:none;border-radius:0;transition:background-color 275ms ease-out}a[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]})}return n})(),jOe=(()=>{class n{changeIcon(e){switch(e){case"dashboardIcon":document.getElementById(e).src="/assets/menuIcons/homeOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("mapIcon","map"),this.disableIcon("chatIcon","chat"),this.disableIcon("qrIcon","qr");break;case"petsIcon":document.getElementById(e).src="/assets/menuIcons/dogOn.svg",this.disableIcon("dashboardIcon","home"),this.disableIcon("mapIcon","map"),this.disableIcon("chatIcon","chat"),this.disableIcon("qrIcon","qr");break;case"mapIcon":document.getElementById(e).src="/assets/menuIcons/mapOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("dashboardIcon","home"),this.disableIcon("chatIcon","chat"),this.disableIcon("qrIcon","qr");break;case"chatIcon":document.getElementById(e).src="/assets/menuIcons/chatOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("mapIcon","map"),this.disableIcon("dashboardIcon","home"),this.disableIcon("qrIcon","qr");break;case"qrIcon":document.getElementById(e).src="/assets/menuIcons/qrOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("mapIcon","map"),this.disableIcon("chatIcon","chat"),this.disableIcon("dashboardIcon","home")}}disableIcon(e,i){document.getElementById(e).src="/assets/menuIcons/"+i+"Off.svg"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Wt({type:n,selectors:[["app-side-nav"]],decls:11,vars:0,consts:[[1,"mainSidenav"],["routerLink","home",3,"click"],["id","dashboardIcon","src","/assets/menuIcons/homeOn.svg","alt","dashboard"],["routerLink","menu-pet-appointment",3,"click"],["id","petsIcon","src","/assets/menuIcons/dogOff.svg","alt","pets"],["routerLink","map",3,"click"],["id","mapIcon","src","/assets/menuIcons/mapOff.svg","alt","map"],["routerLink","client",3,"click"],["id","chatIcon","src","/assets/menuIcons/chatOff.svg","alt","chat"],["id","qrIcon","src","/assets/menuIcons/qrOff.svg","alt","qr"]],template:function(i,r){1&i&&(te(0,"div",0)(1,"app-sidenav-link",1),et("click",function(){return r.changeIcon("dashboardIcon")}),ut(2,"img",2),ne(),te(3,"app-sidenav-link",3),et("click",function(){return r.changeIcon("petsIcon")}),ut(4,"img",4),ne(),te(5,"app-sidenav-link",5),et("click",function(){return r.changeIcon("mapIcon")}),ut(6,"img",6),ne(),te(7,"app-sidenav-link",7),et("click",function(){return r.changeIcon("chatIcon")}),ut(8,"img",8),ne(),te(9,"app-sidenav-link",7),et("click",function(){return r.changeIcon("qrIcon")}),ut(10,"img",9),ne()())},dependencies:[b0,UOe],styles:["[_nghost-%COMP%]{height:60px;width:100%;box-sizing:border-box;position:fixed;bottom:0;background-color:#2d6f28}.mainSidenav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mainSidenav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}"]})}return n})();function WOe(n,t){1&n&&(te(0,"div",3)(1,"a",4),Ve(2,"User profile"),ne(),te(3,"a",4),Ve(4,"Logout"),ne()())}let GOe=(()=>{class n{constructor(){this.prevScrollPos=window.pageYOffset,this.showPopup=!1}togglePopup(){this.showPopup=!this.showPopup}onWindowScroll(){const e=window.pageYOffset;this.prevScrollPos>e?document.getElementById("barra").style.top="0":(document.getElementById("barra").style.top="-60px",this.showPopup=!1),this.prevScrollPos=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Wt({type:n,selectors:[["app-top-bar"]],hostBindings:function(i,r){1&i&&et("scroll",function(o){return r.onWindowScroll(o)},0,QV)},decls:5,vars:1,consts:[["id","barra",1,"barra"],["src","/assets/menuIcons/userOff.svg","alt","User profile",3,"click"],["class","popup",4,"ngIf"],[1,"popup"],["href","#"]],template:function(i,r){1&i&&(te(0,"div",0)(1,"p"),Ve(2,"PetGuardian App"),ne(),te(3,"img",1),et("click",function(){return r.togglePopup()}),ne(),De(4,WOe,5,0,"div",2),ne()),2&i&&(se(4),oe("ngIf",r.showPopup))},dependencies:[Cr],styles:[".barra[_ngcontent-%COMP%]{background-color:#2d6f28;color:#fff;text-align:center;padding:10px;position:fixed;top:0;width:100%;display:flex;justify-content:space-between;transition:top .3s;z-index:1000}.barra[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.perfil[_ngcontent-%COMP%]{position:relative}.perfil[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:auto;cursor:pointer}.popup[_ngcontent-%COMP%]{position:absolute;right:0;top:60px;background-color:#fff;box-shadow:0 8px 16px #0003;z-index:1001}.popup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:10px;display:block;text-decoration:none}.popup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.popup.show[_ngcontent-%COMP%]{display:block}"]})}return n})(),$Oe=(()=>{class n{constructor(){this.title="petguardian-mobile"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Wt({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"content"]],template:function(i,r){1&i&&(ut(0,"app-top-bar"),te(1,"div",0),ut(2,"router-outlet"),ne(),ut(3,"app-side-nav"))},dependencies:[kN,jOe,GOe],styles:["[_ngcontent-%COMP%]:root{--sidenav-width: 300px}[_nghost-%COMP%]{min-height:100vh;display:flex;flex-direction:row}.content[_ngcontent-%COMP%]{flex-grow:1;padding:75px 20px 85px;background-color:#ededed}"]})}return n})();function zs(n){if(null===n||!0===n||!1===n)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function LL(n,t){gn(2,arguments);var e=ui(n),i=zs(t);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function VL(n,t){gn(2,arguments);var e=ui(n).getTime(),i=zs(t);return new Date(e+i)}var YOe=36e5;function qOe(n,t){return gn(2,arguments),VL(n,zs(t)*YOe)}var XOe=6e4;function ZOe(n,t){return gn(2,arguments),VL(n,zs(t)*XOe)}function KOe(n,t){return gn(2,arguments),VL(n,1e3*zs(t))}function NK(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}var QOe=864e5;function FK(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function eNe(n,t){gn(2,arguments);var e=ui(n),i=ui(t),r=FK(e,i),s=Math.abs(function JOe(n,t){gn(2,arguments);var e=j0(n),i=j0(t),r=e.getTime()-NK(e),s=i.getTime()-NK(i);return Math.round((r-s)/QOe)}(e,i));e.setDate(e.getDate()-r*s);var c=r*(s-+(FK(e,i)===-r));return 0===c?0:c}Math.pow(10,8);var iNe=6e4;function VK(n,t){return gn(2,arguments),ui(n).getTime()-ui(t).getTime()}var BK={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},aNe="trunc";function zK(n){return n?BK[n]:BK[aNe]}function lNe(n,t,e){gn(2,arguments);var i=VK(n,t)/iNe;return zK(e?.roundingMethod)(i)}function cNe(n,t,e){gn(2,arguments);var i=VK(n,t)/1e3;return zK(e?.roundingMethod)(i)}function dNe(n){gn(1,arguments);var t=ui(n);return t.setHours(23,59,59,999),t}function uNe(n){gn(1,arguments);var t=ui(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}var HK={};function UK(){return HK}function hNe(n,t){var e,i,r,s,o,c,u,f;gn(1,arguments);var _=UK(),C=zs(null!==(e=null!==(i=null!==(r=null!==(s=t?.weekStartsOn)&&void 0!==s?s:null==t||null===(o=t.locale)||void 0===o||null===(c=o.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:_.weekStartsOn)&&void 0!==i?i:null===(u=_.locale)||void 0===u||null===(f=u.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==e?e:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=ui(n),R=S.getDay(),L=6+(R<C?-7:0)-(R-C);return S.setDate(S.getDate()+L),S.setHours(23,59,59,999),S}function fNe(n){return gn(1,arguments),ui(n).getDay()}function pNe(n){return gn(1,arguments),ui(n).getMonth()}function jK(n){gn(1,arguments);var t=ui(n);return t.setMilliseconds(0),t}function gNe(n,t){gn(2,arguments);var e=jK(n),i=jK(t);return e.getTime()===i.getTime()}function mNe(n){var t,e;if(gn(1,arguments),n&&"function"==typeof n.forEach)t=n;else{if("object"!==lI(n)||null===n)return new Date(NaN);t=Array.prototype.slice.call(n)}return t.forEach(function(i){var r=ui(i);(void 0===e||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function _Ne(n,t){gn(2,arguments);var e=ui(n),i=zs(t);return e.setHours(i),e}function vNe(n,t){gn(2,arguments);var e=ui(n),i=zs(t);return e.setMinutes(i),e}function yNe(n){gn(1,arguments);var t=ui(n);return t.setSeconds(0,0),t}function bNe(n){gn(1,arguments);var t=ui(n);return t.setDate(1),t.setHours(0,0,0,0),t}function WK(n,t){var e,i,r,s,o,c,u,f;gn(1,arguments);var _=UK(),C=zs(null!==(e=null!==(i=null!==(r=null!==(s=t?.weekStartsOn)&&void 0!==s?s:null==t||null===(o=t.locale)||void 0===o||null===(c=o.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:_.weekStartsOn)&&void 0!==i?i:null===(u=_.locale)||void 0===u||null===(f=u.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==e?e:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=ui(n),R=S.getDay(),L=(R<C?7:0)+R-C;return S.setDate(S.getDate()-L),S.setHours(0,0,0,0),S}function xNe(n){return gn(1,arguments),ui(n).getHours()}function wNe(n){return gn(1,arguments),ui(n).getMinutes()}function CNe(n){return new Date(n).getTimezoneOffset()}function GK(n,t){return gn(2,arguments),LL(n,7*zs(t))}function $K(n,t){gn(2,arguments);var e=ui(n),i=zs(t);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());return s.setMonth(e.getMonth()+i+1,0),r>=s.getDate()?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function DNe(n,t){return gn(2,arguments),LL(n,-zs(t))}function INe(n,t){return gn(2,arguments),GK(n,-zs(t))}function TNe(n,t){return gn(2,arguments),$K(n,-zs(t))}function HI(n){return gn(1,arguments),WK(n,{weekStartsOn:1})}var kNe=6048e5;function MNe(n){gn(1,arguments);var t=ui(n),e=HI(t).getTime()-function ANe(n){gn(1,arguments);var t=function SNe(n){gn(1,arguments);var t=ui(n),e=t.getFullYear(),i=new Date(0);i.setFullYear(e+1,0,4),i.setHours(0,0,0,0);var r=HI(i),s=new Date(0);s.setFullYear(e,0,4),s.setHours(0,0,0,0);var o=HI(s);return t.getTime()>=r.getTime()?e+1:t.getTime()>=o.getTime()?e:e-1}(n),e=new Date(0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),HI(e)}(t).getTime();return Math.round(e/kNe)+1}function RNe(n,t){gn(2,arguments);var e=ui(n),i=zs(t);return e.setDate(i),e}function ONe(n,t){gn(2,arguments);var e=ui(n),i=zs(t),r=e.getFullYear(),s=e.getDate(),o=new Date(0);o.setFullYear(r,i,15),o.setHours(0,0,0,0);var c=function PNe(n){gn(1,arguments);var t=ui(n),e=t.getFullYear(),i=t.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}(o);return e.setMonth(i,Math.min(s,c)),e}function NNe(n,t){gn(2,arguments);var e=ui(n),i=zs(t);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(i),e)}function FNe(n){return gn(1,arguments),ui(n).getDate()}function LNe(n){return gn(1,arguments),ui(n).getFullYear()}function VNe(){return(0,At.pi)((0,At.pi)({},function ENe(){return{addDays:LL,addHours:qOe,addMinutes:ZOe,addSeconds:KOe,differenceInDays:eNe,differenceInMinutes:lNe,differenceInSeconds:cNe,endOfDay:dNe,endOfMonth:uNe,endOfWeek:hNe,getDay:fNe,getMonth:pNe,isSameDay:f7,isSameMonth:h7,isSameSecond:gNe,max:mNe,setHours:_Ne,setMinutes:vNe,startOfDay:j0,startOfMinute:yNe,startOfMonth:bNe,startOfWeek:WK,getHours:xNe,getMinutes:wNe,getTimezoneOffset:CNe}}()),{addWeeks:GK,addMonths:$K,subDays:DNe,subWeeks:INe,subMonths:TNe,getISOWeek:MNe,setDate:RNe,setMonth:ONe,setYear:NNe,getDate:FNe,getYear:LNe})}function YK(n){return new l(3e3,!1)}function Yu(n){switch(n.length){case 0:return new B0;case 1:return n[0];default:return new AX(n)}}function qK(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,c=null;if(t.forEach(u=>{const f=u.get("offset"),_=f==o,C=_&&c||new Map;u.forEach((S,R)=>{let L=R,z=S;if("offset"!==R)switch(L=n.normalizePropertyName(L,r),z){case"!":z=e.get(R);break;case sd:z=i.get(R);break;default:z=n.normalizeStyleValue(R,L,z,r)}C.set(L,z)}),_||s.push(C),c=C,o=f}),r.length)throw function aFe(n){return new l(3502,!1)}();return s}function BL(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&zL(e,"start",n)));break;case"done":n.onDone(()=>i(e&&zL(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&zL(e,"destroy",n)))}}function zL(n,t,e){const s=HL(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function HL(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Ta(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function XK(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const yFe=(()=>typeof document>"u"?null:document.documentElement)();function UL(n){const t=n.parentNode||n.host||null;return t===yFe?null:t}let Xf=null,ZK=!1;function KK(n,t){for(;t;){if(t===n)return!0;t=UL(t)}return!1}function QK(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let JK=(()=>{class n{validateStyleProperty(e){return function xFe(n){Xf||(Xf=function wFe(){return typeof document<"u"?document.body:null}()||{},ZK=!!Xf.style&&"WebkitAppearance"in Xf.style);let t=!0;return Xf.style&&!function bFe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Xf.style,!t&&ZK&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Xf.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return KK(e,i)}getParentElement(e){return UL(e)}query(e,i,r){return QK(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,c=[],u){return new B0(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),jL=(()=>{class n{static#e=this.NOOP=new JK}return n})();const CFe=1e3,WL="ng-enter",UI="ng-leave",jI="ng-trigger",WI=".ng-trigger",tQ="ng-animating",GL=".ng-animating";function dd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:$L(parseFloat(t[1]),t[2])}function $L(n,t){return"s"===t?n*CFe:n}function GI(n,t,e){return n.hasOwnProperty("duration")?n:function DFe(n,t,e){let r,s=0,o="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(YK()),{duration:0,delay:0,easing:""};r=$L(parseFloat(c[1]),c[2]);const u=c[3];null!=u&&(s=$L(parseFloat(u),c[4]));const f=c[5];f&&(o=f)}else r=n;if(!e){let c=!1,u=t.length;r<0&&(t.push(function BNe(){return new l(3100,!1)}()),c=!0),s<0&&(t.push(function zNe(){return new l(3101,!1)}()),c=!0),c&&t.splice(u,0,YK())}return{duration:r,delay:s,easing:o}}(n,t,e)}function lx(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function nQ(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function qu(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Ec(n,t,e){t.forEach((i,r)=>{const s=qL(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function Zf(n,t){t.forEach((e,i)=>{const r=qL(i);n.style[r]=""})}function cx(n){return Array.isArray(n)?1==n.length?n[0]:TX(n):n}const YL=new RegExp("{{\\s*(.+?)\\s*}}","g");function rQ(n){let t=[];if("string"==typeof n){let e;for(;e=YL.exec(n);)t.push(e[1]);YL.lastIndex=0}return t}function dx(n,t,e){const i=n.toString(),r=i.replace(YL,(s,o)=>{let c=t[o];return null==c&&(e.push(function UNe(n){return new l(3003,!1)}()),c=""),c.toString()});return r==i?n:r}function $I(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const SFe=/-+([a-z0-9])/g;function qL(n){return n.replace(SFe,(...t)=>t[1].toUpperCase())}function Sa(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function jNe(n){return new l(3004,!1)}()}}function sQ(n,t){return window.getComputedStyle(n)[t]}const YI="*";function MFe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function RFe(n,t,e){if(":"==n[0]){const u=function PFe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function iFe(n){return new l(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof u)return void t.push(u);n=u}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function nFe(n){return new l(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(oQ(r,o));"<"==s[0]&&!(r==YI&&o==YI)&&t.push(oQ(o,r))}(i,e,t)):e.push(n),e}const qI=new Set(["true","1"]),XI=new Set(["false","0"]);function oQ(n,t){const e=qI.has(n)||XI.has(n),i=qI.has(t)||XI.has(t);return(r,s)=>{let o=n==YI||n==r,c=t==YI||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?qI.has(n):XI.has(n)),!c&&i&&"boolean"==typeof s&&(c=s?qI.has(t):XI.has(t)),o&&c}}const OFe=new RegExp("s*:selfs*,?","g");function XL(n,t,e,i){return new NFe(n).build(t,e,i)}class NFe{constructor(t){this._driver=t}build(t,e,i){const r=new VFe(e);return this._resetContextStyleTimingState(r),Sa(this,cx(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function GNe(){return new l(3006,!1)}()),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const u=c,f=u.name;f.toString().split(/\s*,\s*/).forEach(_=>{u.name=_,s.push(this.visitState(u,e))}),u.name=f}else if(1==c.type){const u=this.visitTransition(c,e);i+=u.queryCount,r+=u.depCount,o.push(u)}else e.errors.push(function $Ne(){return new l(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{rQ(u).forEach(f=>{o.hasOwnProperty(f)||s.add(f)})})}),s.size&&($I(s.values()),e.errors.push(function YNe(n,t){return new l(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Sa(this,cx(t.animation),e);return{type:1,matchers:MFe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Kf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Sa(this,i,e)),options:Kf(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const c=Sa(this,o,e);return r=Math.max(r,e.currentTime),c});return e.currentTime=r,{type:3,steps:s,options:Kf(t.options)}}visitAnimate(t,e){const i=function zFe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ZL(GI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=ZL(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=GI(e,t);return ZL(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:oo({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,c=!1;if(!o){c=!0;const f={};i.easing&&(f.easing=i.easing),o=oo(f)}e.currentTime+=i.duration+i.delay;const u=this.visitStyle(o,e);u.isEmptyStep=c,r=u}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let c of r)"string"==typeof c?c===sd?i.push(c):e.errors.push(new l(3002,!1)):i.push(nQ(c));let s=!1,o=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(o=c.get("easing"),c.delete("easing")),!s))for(let u of c.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,u)=>{const f=e.collectedStyles.get(e.currentQuerySelector),_=f.get(u);let C=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(e.errors.push(function XNe(n,t,e,i,r){return new l(3010,!1)}()),C=!1),s=_.startTime),C&&f.set(u,{startTime:s,endTime:r}),e.options&&function TFe(n,t,e){const i=t.params||{},r=rQ(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function HNe(n){return new l(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function ZNe(){return new l(3011,!1)}()),i;let s=0;const o=[];let c=!1,u=!1,f=0;const _=t.steps.map(ee=>{const K=this._makeStyleAst(ee,e);let ie=null!=K.offset?K.offset:function BFe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(K.styles),ue=0;return null!=ie&&(s++,ue=K.offset=ie),u=u||ue<0||ue>1,c=c||ue<f,f=ue,o.push(ue),K});u&&e.errors.push(function KNe(){return new l(3012,!1)}()),c&&e.errors.push(function QNe(){return new l(3200,!1)}());const C=t.steps.length;let S=0;s>0&&s<C?e.errors.push(function JNe(){return new l(3202,!1)}()):0==s&&(S=1/(C-1));const R=C-1,L=e.currentTime,z=e.currentAnimateTimings,j=z.duration;return _.forEach((ee,K)=>{const ie=S>0?K==R?1:S*K:o[K],ue=ie*j;e.currentTime=L+z.delay+ue,z.duration=ue,this._validateStyleAst(ee,e),ee.offset=ie,i.styles.push(ee)}),i}visitReference(t,e){return{type:8,animation:Sa(this,cx(t.animation),e),options:Kf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Kf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Kf(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function FFe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(OFe,"")),n=n.replace(/@\*/g,WI).replace(/@\w+/g,e=>WI+"-"+e.slice(1)).replace(/:animating/g,GL),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Ta(e.collectedStyles,e.currentQuerySelector,new Map);const c=Sa(this,cx(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:c,originalSelector:t.selector,options:Kf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function eFe(){return new l(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:GI(t.timings,e.errors,!0);return{type:12,animation:Sa(this,cx(t.animation),e),timings:i,options:null}}}class VFe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Kf(n){return n?(n=lx(n)).params&&(n.params=function LFe(n){return n?lx(n):null}(n.params)):n={},n}function ZL(n,t,e){return{duration:n,delay:t,easing:e}}function KL(n,t,e,i,r,s,o=null,c=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:c}}class ZI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const jFe=new RegExp(":enter","g"),GFe=new RegExp(":leave","g");function QL(n,t,e,i,r,s=new Map,o=new Map,c,u,f=[]){return(new $Fe).buildKeyframes(n,t,e,i,r,s,o,c,u,f)}class $Fe{buildKeyframes(t,e,i,r,s,o,c,u,f,_=[]){f=f||new ZI;const C=new JL(t,e,f,r,s,_,[]);C.options=u;const S=u.delay?dd(u.delay):0;C.currentTimeline.delayNextStep(S),C.currentTimeline.setStyles([o],null,C.errors,u),Sa(this,i,C);const R=C.timelines.filter(L=>L.containsAnimation());if(R.length&&c.size){let L;for(let z=R.length-1;z>=0;z--){const j=R[z];if(j.element===e){L=j;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([c],null,C.errors,u)}return R.length?R.map(L=>L.buildKeyframes()):[KL(e,[],[],[],0,S,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:dd(dx(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?dd(i.duration):null,c=null!=i.delay?dd(i.delay):null;return 0!==o&&t.forEach(u=>{const f=e.appendInstructionToTimeline(u,o,c);s=Math.max(s,f.duration+f.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Sa(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=KI);const o=dd(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Sa(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?dd(t.options.delay):0;t.steps.forEach(o=>{const c=e.createSubContext(t.options);s&&c.delayNextStep(s),Sa(this,o,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return GI(e.params?dx(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,c=e.createSubContext().currentTimeline;c.easing=i.easing,t.styles.forEach(u=>{c.forwardTime((u.offset||0)*s),c.setStyles(u.styles,u.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?dd(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=KI);let o=i;const c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=c.length;let u=null;c.forEach((f,_)=>{e.currentQueryIndex=_;const C=e.createSubContext(t.options,f);s&&C.delayNextStep(s),f===e.element&&(u=C.currentTimeline),Sa(this,t.animation,C),C.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,C.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),c=o*(e.currentQueryTotal-1);let u=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=c-u;break;case"full":u=i.currentStaggerTime}const _=e.currentTimeline;u&&_.delayNextStep(u);const C=_.currentTime;Sa(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-C+(r.startTime-i.currentTimeline.startTime)}}const KI={};class JL{constructor(t,e,i,r,s,o,c,u){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=KI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new QI(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=dd(i.duration)),null!=i.delay&&(r.delay=dd(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(c=>{(!e||!o.hasOwnProperty(c))&&(o[c]=dx(s[c],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new JL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=KI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new YFe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let c=[];if(r&&c.push(this.element),t.length>0){t=(t=t.replace(jFe,"."+this._enterClassName)).replace(GFe,"."+this._leaveClassName);let f=this._driver.query(this.element,t,1!=i);0!==i&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),c.push(...f)}return!s&&0==c.length&&o.push(function tFe(n){return new l(3014,!1)}()),c}}class QI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new QI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||sd),this._currentKeyframe.set(e,sd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function qFe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,sd)}else qu(r,e)}),e}(t,this._globalTimelineStyles);for(let[c,u]of o){const f=dx(u,s,i);this._pendingStyles.set(c,f),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??sd),this._updateStyle(c,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,u)=>{const f=qu(c,new Map,this._backFill);f.forEach((_,C)=>{"!"===_?t.add(C):_===sd&&e.add(C)}),i||f.set("offset",u/this.duration),r.push(f)});const s=t.size?$I(t.values()):[],o=e.size?$I(e.values()):[];if(i){const c=r[0],u=new Map(c);c.set("offset",0),u.set("offset",1),r=[c,u]}return KL(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class YFe extends QI{constructor(t,e,i,r,s,o,c=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,c=e/o,u=qu(t[0]);u.set("offset",0),s.push(u);const f=qu(t[0]);f.set("offset",cQ(c)),s.push(f);const _=t.length-1;for(let C=1;C<=_;C++){let S=qu(t[C]);const R=S.get("offset");S.set("offset",cQ((e+R*i)/o)),s.push(S)}i=o,e=0,r="",t=s}return KL(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function cQ(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class e2{}const XFe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ZFe extends e2{normalizePropertyName(t,e){return qL(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(XFe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function WNe(n,t){return new l(3005,!1)}())}return o+s}}function dQ(n,t,e,i,r,s,o,c,u,f,_,C,S){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:c,queriedElements:u,preStyleProps:f,postStyleProps:_,totalTime:C,errors:S}}const t2={};class uQ{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function KFe(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,c,u,f,_){const C=[],S=this.ast.options&&this.ast.options.params||t2,L=this.buildStyles(i,c&&c.params||t2,C),z=u&&u.params||t2,j=this.buildStyles(r,z,C),ee=new Set,K=new Map,ie=new Map,ue="void"===r,Te={params:QFe(z,S),delay:this.ast.options?.delay},We=_?[]:QL(t,e,this.ast.animation,s,o,L,j,Te,f,C);let dt=0;if(We.forEach(wt=>{dt=Math.max(wt.duration+wt.delay,dt)}),C.length)return dQ(e,this._triggerName,i,r,ue,L,j,[],[],K,ie,dt,C);We.forEach(wt=>{const St=wt.element,ft=Ta(K,St,new Set);wt.preStyleProps.forEach(ln=>ft.add(ln));const pt=Ta(ie,St,new Set);wt.postStyleProps.forEach(ln=>pt.add(ln)),St!==e&&ee.add(St)});const ct=$I(ee.values());return dQ(e,this._triggerName,i,r,ue,L,j,We,ct,K,ie,dt)}}function QFe(n,t){const e=lx(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class JFe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=lx(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,c)=>{o&&(o=dx(o,r,e));const u=this.normalizer.normalizePropertyName(c,e);o=this.normalizer.normalizeStyleValue(c,u,o,e),i.set(c,o)})}),i}}class tLe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new JFe(r.style,r.options&&r.options.params||{},i))}),hQ(this.states,"true","1"),hQ(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new uQ(t,r,this.states))}),this.fallbackTransition=function nLe(n,t,e){return new uQ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function hQ(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const iLe=new ZI;class rLe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=XL(this._driver,e,i,[]);if(i.length)throw function lFe(n){return new l(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=qK(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const c=new Map;if(s?(o=QL(this._driver,e,s,WL,UI,new Map,new Map,i,iLe,r),o.forEach(_=>{const C=Ta(c,_.element,new Map);_.postStyleProps.forEach(S=>C.set(S,null))})):(r.push(function cFe(){return new l(3300,!1)}()),o=[]),r.length)throw function dFe(n){return new l(3504,!1)}();c.forEach((_,C)=>{_.forEach((S,R)=>{_.set(R,this._driver.computeStyle(C,R,sd))})});const f=Yu(o.map(_=>{const C=c.get(_.element);return this._buildPlayer(_,new Map,C)}));return this._playersById.set(t,f),f.onDestroy(()=>this.destroy(t)),this.players.push(f),f}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function uFe(n){return new l(3301,!1)}();return e}listen(t,e,i,r){const s=HL(e,"","","");return BL(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const fQ="ng-animate-queued",n2="ng-animate-disabled",cLe=[],pQ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dLe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fl="__ng_removed";class r2{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function pLe(n){return n??null}(i?t.value:t),i){const s=lx(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const ux="void",s2=new r2(ux);class uLe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,tl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function hFe(n,t){return new l(3302,!1)}();if(null==i||0==i.length)throw function fFe(n){return new l(3303,!1)}();if(!function gLe(n){return"start"==n||"done"==n}(i))throw function pFe(n,t){return new l(3400,!1)}();const s=Ta(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const c=Ta(this._engine.statesByElement,t,new Map);return c.has(e)||(tl(t,jI),tl(t,jI+"-"+e),c.set(e,s2)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(e)||c.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function gFe(n){return new l(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new o2(this.id,e,t);let c=this._engine.statesByElement.get(t);c||(tl(t,jI),tl(t,jI+"-"+e),this._engine.statesByElement.set(t,c=new Map));let u=c.get(e);const f=new r2(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&f.absorbOptions(u.options),c.set(e,f),u||(u=s2),f.value!==ux&&u.value===f.value){if(!function vLe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(u.params,f.params)){const z=[],j=s.matchStyles(u.value,u.params,z),ee=s.matchStyles(f.value,f.params,z);z.length?this._engine.reportError(z):this._engine.afterFlush(()=>{Zf(t,j),Ec(t,ee)})}return}const S=Ta(this._engine.playersByElement,t,[]);S.forEach(z=>{z.namespaceId==this.id&&z.triggerName==e&&z.queued&&z.destroy()});let R=s.matchTransition(u.value,f.value,t,f.params),L=!1;if(!R){if(!r)return;R=s.fallbackTransition,L=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:R,fromState:u,toState:f,player:o,isFallbackTransition:L}),L||(tl(t,fQ),o.onStart(()=>{__(t,fQ)})),o.onDone(()=>{let z=this.players.indexOf(o);z>=0&&this.players.splice(z,1);const j=this._engine.playersByElement.get(t);if(j){let ee=j.indexOf(o);ee>=0&&j.splice(ee,1)}}),this.players.push(o),S.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,WI,!0);i.forEach(r=>{if(r[Fl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const c=[];if(s.forEach((u,f)=>{if(o.set(f,u.value),this._triggers.has(f)){const _=this.trigger(t,f,ux,r);_&&c.push(_)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&Yu(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const u=this._triggers.get(o).fallbackTransition,f=i.get(o)||s2,_=new r2(ux),C=new o2(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:u,fromState:f,toState:_,player:C,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Fl];(!s||s===pQ)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){tl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(c=>{if(c.name==i.triggerName){const u=HL(s,i.triggerName,i.fromState.value,i.toState.value);u._data=t,BL(i.player,c.phase,u,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class hLe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new uLe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,c=this.driver.getParentElement(e);for(;c;){const u=r.get(c);if(u){const f=i.indexOf(u);i.splice(f+1,0,t),o=!0;break}c=this.driver.getParentElement(c)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(JI(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!JI(e))return;const s=e[Fl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),tl(t,n2)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),__(t,n2))}removeNode(t,e,i){if(JI(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Fl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return JI(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,WI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,GL,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Yu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Fl];if(e&&e.setForRemoval){if(t[Fl]=pQ,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(n2)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)tl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Yu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function mFe(n){return new l(3402,!1)}()}_flushAnimations(t,e){const i=new ZI,r=[],s=new Map,o=[],c=new Map,u=new Map,f=new Map,_=new Set;this.disabledNodes.forEach(yt=>{_.add(yt);const kt=this.driver.query(yt,".ng-animate-queued",!0);for(let Yt=0;Yt<kt.length;Yt++)_.add(kt[Yt])});const C=this.bodyNode,S=Array.from(this.statesByElement.keys()),R=_Q(S,this.collectedEnterElements),L=new Map;let z=0;R.forEach((yt,kt)=>{const Yt=WL+z++;L.set(kt,Yt),yt.forEach(qt=>tl(qt,Yt))});const j=[],ee=new Set,K=new Set;for(let yt=0;yt<this.collectedLeaveElements.length;yt++){const kt=this.collectedLeaveElements[yt],Yt=kt[Fl];Yt&&Yt.setForRemoval&&(j.push(kt),ee.add(kt),Yt.hasAnimation?this.driver.query(kt,".ng-star-inserted",!0).forEach(qt=>ee.add(qt)):K.add(kt))}const ie=new Map,ue=_Q(S,Array.from(ee));ue.forEach((yt,kt)=>{const Yt=UI+z++;ie.set(kt,Yt),yt.forEach(qt=>tl(qt,Yt))}),t.push(()=>{R.forEach((yt,kt)=>{const Yt=L.get(kt);yt.forEach(qt=>__(qt,Yt))}),ue.forEach((yt,kt)=>{const Yt=ie.get(kt);yt.forEach(qt=>__(qt,Yt))}),j.forEach(yt=>{this.processLeaveNode(yt)})});const Te=[],We=[];for(let yt=this._namespaceList.length-1;yt>=0;yt--)this._namespaceList[yt].drainQueuedTransitions(e).forEach(Yt=>{const qt=Yt.player,wi=Yt.element;if(Te.push(qt),this.collectedEnterElements.length){const Wr=wi[Fl];if(Wr&&Wr.setForMove){if(Wr.previousTriggersValues&&Wr.previousTriggersValues.has(Yt.triggerName)){const Oo=Wr.previousTriggersValues.get(Yt.triggerName),ao=this.statesByElement.get(Yt.element);if(ao&&ao.has(Yt.triggerName)){const v_=ao.get(Yt.triggerName);v_.value=Oo,ao.set(Yt.triggerName,v_)}}return void qt.destroy()}}const $i=!C||!this.driver.containsElement(C,wi),vr=ie.get(wi),Po=L.get(wi),ti=this._buildInstruction(Yt,i,Po,vr,$i);if(ti.errors&&ti.errors.length)return void We.push(ti);if($i)return qt.onStart(()=>Zf(wi,ti.fromStyles)),qt.onDestroy(()=>Ec(wi,ti.toStyles)),void r.push(qt);if(Yt.isFallbackTransition)return qt.onStart(()=>Zf(wi,ti.fromStyles)),qt.onDestroy(()=>Ec(wi,ti.toStyles)),void r.push(qt);const Jo=[];ti.timelines.forEach(Wr=>{Wr.stretchStartingKeyframe=!0,this.disabledNodes.has(Wr.element)||Jo.push(Wr)}),ti.timelines=Jo,i.append(wi,ti.timelines),o.push({instruction:ti,player:qt,element:wi}),ti.queriedElements.forEach(Wr=>Ta(c,Wr,[]).push(qt)),ti.preStyleProps.forEach((Wr,Oo)=>{if(Wr.size){let ao=u.get(Oo);ao||u.set(Oo,ao=new Set),Wr.forEach((v_,Qf)=>ao.add(Qf))}}),ti.postStyleProps.forEach((Wr,Oo)=>{let ao=f.get(Oo);ao||f.set(Oo,ao=new Set),Wr.forEach((v_,Qf)=>ao.add(Qf))})});if(We.length){const yt=[];We.forEach(kt=>{yt.push(function _Fe(n,t){return new l(3505,!1)}())}),Te.forEach(kt=>kt.destroy()),this.reportError(yt)}const dt=new Map,ct=new Map;o.forEach(yt=>{const kt=yt.element;i.has(kt)&&(ct.set(kt,kt),this._beforeAnimationBuild(yt.player.namespaceId,yt.instruction,dt))}),r.forEach(yt=>{const kt=yt.element;this._getPreviousPlayers(kt,!1,yt.namespaceId,yt.triggerName,null).forEach(qt=>{Ta(dt,kt,[]).push(qt),qt.destroy()})});const wt=j.filter(yt=>yQ(yt,u,f)),St=new Map;mQ(St,this.driver,K,f,sd).forEach(yt=>{yQ(yt,u,f)&&wt.push(yt)});const pt=new Map;R.forEach((yt,kt)=>{mQ(pt,this.driver,new Set(yt),u,"!")}),wt.forEach(yt=>{const kt=St.get(yt),Yt=pt.get(yt);St.set(yt,new Map([...kt?.entries()??[],...Yt?.entries()??[]]))});const ln=[],Hn=[],Qo={};o.forEach(yt=>{const{element:kt,player:Yt,instruction:qt}=yt;if(i.has(kt)){if(_.has(kt))return Yt.onDestroy(()=>Ec(kt,qt.toStyles)),Yt.disabled=!0,Yt.overrideTotalTime(qt.totalTime),void r.push(Yt);let wi=Qo;if(ct.size>1){let vr=kt;const Po=[];for(;vr=vr.parentNode;){const ti=ct.get(vr);if(ti){wi=ti;break}Po.push(vr)}Po.forEach(ti=>ct.set(ti,wi))}const $i=this._buildAnimation(Yt.namespaceId,qt,dt,s,pt,St);if(Yt.setRealPlayer($i),wi===Qo)ln.push(Yt);else{const vr=this.playersByElement.get(wi);vr&&vr.length&&(Yt.parentPlayer=Yu(vr)),r.push(Yt)}}else Zf(kt,qt.fromStyles),Yt.onDestroy(()=>Ec(kt,qt.toStyles)),Hn.push(Yt),_.has(kt)&&r.push(Yt)}),Hn.forEach(yt=>{const kt=s.get(yt.element);if(kt&&kt.length){const Yt=Yu(kt);yt.setRealPlayer(Yt)}}),r.forEach(yt=>{yt.parentPlayer?yt.syncPlayerEvents(yt.parentPlayer):yt.destroy()});for(let yt=0;yt<j.length;yt++){const kt=j[yt],Yt=kt[Fl];if(__(kt,UI),Yt&&Yt.hasAnimation)continue;let qt=[];if(c.size){let $i=c.get(kt);$i&&$i.length&&qt.push(...$i);let vr=this.driver.query(kt,GL,!0);for(let Po=0;Po<vr.length;Po++){let ti=c.get(vr[Po]);ti&&ti.length&&qt.push(...ti)}}const wi=qt.filter($i=>!$i.destroyed);wi.length?mLe(this,kt,wi):this.processLeaveNode(kt)}return j.length=0,ln.forEach(yt=>{this.players.push(yt),yt.onDone(()=>{yt.destroy();const kt=this.players.indexOf(yt);this.players.splice(kt,1)}),yt.play()}),ln}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const c=this.playersByQueriedElement.get(t);c&&(o=c)}else{const c=this.playersByElement.get(t);if(c){const u=!s||s==ux;c.forEach(f=>{f.queued||!u&&f.triggerName!=r||o.push(f)})}}return(i||r)&&(o=o.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const f=u.element,_=f!==s,C=Ta(i,f,[]);this._getPreviousPlayers(f,_,o,c,e.toState).forEach(R=>{const L=R.getRealPlayer();L.beforeDestroy&&L.beforeDestroy(),R.destroy(),C.push(R)})}Zf(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const c=e.triggerName,u=e.element,f=[],_=new Set,C=new Set,S=e.timelines.map(L=>{const z=L.element;_.add(z);const j=z[Fl];if(j&&j.removedBeforeQueried)return new B0(L.duration,L.delay);const ee=z!==u,K=function _Le(n){const t=[];return vQ(n,t),t}((i.get(z)||cLe).map(dt=>dt.getRealPlayer())).filter(dt=>!!dt.element&&dt.element===z),ie=s.get(z),ue=o.get(z),Te=qK(this._normalizer,L.keyframes,ie,ue),We=this._buildPlayer(L,Te,K);if(L.subTimeline&&r&&C.add(z),ee){const dt=new o2(t,c,z);dt.setRealPlayer(We),f.push(dt)}return We});f.forEach(L=>{Ta(this.playersByQueriedElement,L.element,[]).push(L),L.onDone(()=>function fLe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,L.element,L))}),_.forEach(L=>tl(L,tQ));const R=Yu(S);return R.onDestroy(()=>{_.forEach(L=>__(L,tQ)),Ec(u,e.toStyles)}),C.forEach(L=>{Ta(r,L,[]).push(R)}),R}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new B0(t.duration,t.delay)}}class o2{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new B0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>BL(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ta(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function JI(n){return n&&1===n.nodeType}function gQ(n,t){const e=n.style.display;return n.style.display=t??"none",e}function mQ(n,t,e,i,r){const s=[];e.forEach(u=>s.push(gQ(u)));const o=[];i.forEach((u,f)=>{const _=new Map;u.forEach(C=>{const S=t.computeStyle(f,C,r);_.set(C,S),(!S||0==S.length)&&(f[Fl]=dLe,o.push(f))}),n.set(f,_)});let c=0;return e.forEach(u=>gQ(u,s[c++])),o}function _Q(n,t){const e=new Map;if(n.forEach(c=>e.set(c,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(c){if(!c)return 1;let u=s.get(c);if(u)return u;const f=c.parentNode;return u=e.has(f)?f:r.has(f)?1:o(f),s.set(c,u),u}return t.forEach(c=>{const u=o(c);1!==u&&e.get(u).push(c)}),e}function tl(n,t){n.classList?.add(t)}function __(n,t){n.classList?.remove(t)}function mLe(n,t,e){Yu(e).onDone(()=>n.processLeaveNode(t))}function vQ(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof AX?vQ(i.players,t):t.push(i)}}function yQ(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class eT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new hLe(t,e,i),this._timelineEngine=new rLe(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let c=this._triggerCache[o];if(!c){const u=[],_=XL(this._driver,s,u,[]);if(u.length)throw function oFe(n,t){return new l(3404,!1)}();c=function eLe(n,t,e){return new tLe(n,t,e)}(r,_,this._normalizer),this._triggerCache[o]=c}this._transitionEngine.registerTrigger(e,r,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=XK(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,c]=XK(i);return this._timelineEngine.listen(o,e,c,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let bLe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ec(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ec(this._element,this._initialStyles),this._endStyles&&(Ec(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Zf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zf(this._element,this._endStyles),this._endStyles=null),Ec(this._element,this._initialStyles),this._state=3)}}return n})();function a2(n){let t=null;return n.forEach((e,i)=>{(function xLe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class bQ{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:sQ(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class wLe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return KK(t,e)}getParentElement(t){return UL(t)}query(t,e,i){return QK(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const u={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(u.easing=s);const f=new Map,_=o.filter(R=>R instanceof bQ);(function AFe(n,t){return 0===n||0===t})(i,r)&&_.forEach(R=>{R.currentSnapshot.forEach((L,z)=>f.set(z,L))});let C=function IFe(n){return n.length?n[0]instanceof Map?n:n.map(t=>nQ(t)):[]}(e).map(R=>qu(R));C=function kFe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(c=>o.set(c,sQ(n,c)))}}return t}(t,C,f);const S=function yLe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=a2(t[0]),t.length>1&&(i=a2(t[t.length-1]))):t instanceof Map&&(e=a2(t)),e||i?new bLe(n,e,i):null}(t,C);return new bQ(t,C,u,S)}}let CLe=(()=>{class n extends IX{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:rs.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?TX(e):e;return xQ(this._renderer,null,i,"register",[r]),new ELe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Jp),ce(sn))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();class ELe extends VDe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new DLe(this._id,t,e||{},this._renderer)}}class DLe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return xQ(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xQ(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const wQ="@.disabled";let ILe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const c=o?.parentNode(s);c&&o.removeChild(c,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let _=this._rendererCache.get(s);return _||(_=new CQ("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,_)),_}const o=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const u=_=>{Array.isArray(_)?_.forEach(u):this.engine.registerTrigger(o,c,e,_.name,_)};return i.data.animation.forEach(u),new TLe(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,c]=s;o(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Jp),ce(eT),ce(at))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();class CQ{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==wQ?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class TLe extends CQ{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==wQ?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function SLe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function ALe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(t,e,i)}}let kLe=(()=>{class n extends eT{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sn),ce(jL),ce(e2),ce(Ga))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const EQ=[{provide:IX,useClass:CLe},{provide:e2,useFactory:function MLe(){return new ZFe}},{provide:eT,useClass:kLe},{provide:Jp,useFactory:function RLe(n,t,e){return new ILe(n,t,e)},deps:[Sk,eT,at]}],l2=[{provide:jL,useFactory:()=>new wLe},{provide:Hd,useValue:"BrowserAnimations"},...EQ],DQ=[{provide:jL,useClass:JK},{provide:Hd,useValue:"NoopAnimations"},...EQ];let IQ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?DQ:l2}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=Ae({providers:l2,imports:[Mj]})}return n})(),PLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n,bootstrap:[$Oe]});static#n=this.\u0275inj=Ae({providers:[oy],imports:[Zle.initializeApp(Fbe_firebase),tce,Vwe,Yd,o7.forRoot(),LCe,VCe,$ve,Nbe,ufe,Mj,IQ,BOe,o7,OK,GAe.forRoot({provide:ld,useFactory:VNe}),mTe,OK,Wbe,IQ,gIe,S1e,vDe]})}return n})();wle().bootstrapModule(PLe).catch(n=>console.error(n))},54:(ts,Yi,en)=>{var J;function Bt(B,a){var l=Object.keys(B);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(B);a&&(d=d.filter(function(h){return Object.getOwnPropertyDescriptor(B,h).enumerable})),l.push.apply(l,d)}return l}function me(B){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?arguments[a]:{};a%2?Bt(Object(l),!0).forEach(function(d){hi(B,d,l[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(l)):Bt(Object(l)).forEach(function(d){Object.defineProperty(B,d,Object.getOwnPropertyDescriptor(l,d))})}return B}function Mt(B){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(B)}function Ue(B,a){if(!(B instanceof a))throw new TypeError("Cannot call a class as a function")}function mi(B,a){for(var l=0;l<a.length;l++){var d=a[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(B,d.key,d)}}function ot(B,a,l){return a&&mi(B.prototype,a),l&&mi(B,l),B}function hi(B,a,l){return a in B?Object.defineProperty(B,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):B[a]=l,B}function cn(B,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(a&&a.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),a&&st(B,a)}function Ye(B){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(B)}function st(B,a){return(st=Object.setPrototypeOf||function(l,d){return l.__proto__=d,l})(B,a)}function on(B){var a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,d=Ye(B);if(a){var h=Ye(this).constructor;l=Reflect.construct(d,arguments,h)}else l=d.apply(this,arguments);return function Tt(B,a){if(a&&("object"==typeof a||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(B)}(this,l)}}function In(B,a){return function(l){if(Array.isArray(l))return l}(B)||function(l,d){var h=null==l?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(null!=h){var p,g,m=[],b=!0,w=!1;try{for(h=h.call(l);!(b=(p=h.next()).done)&&(m.push(p.value),!d||m.length!==d);b=!0);}catch(D){w=!0,g=D}finally{try{b||null==h.return||h.return()}finally{if(w)throw g}}return m}}(B,a)||Rn(B,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(B){return function(a){if(Array.isArray(a))return Kt(a)}(B)||function(a){if(typeof Symbol<"u"&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(B)||Rn(B)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(B,a){if(B){if("string"==typeof B)return Kt(B,a);var l=Object.prototype.toString.call(B).slice(8,-1);return"Object"===l&&B.constructor&&(l=B.constructor.name),"Map"===l||"Set"===l?Array.from(B):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Kt(B,a):void 0}}function Kt(B,a){(null==a||a>B.length)&&(a=B.length);for(var l=0,d=new Array(a);l<a;l++)d[l]=B[l];return d}var he=function(){function B(){Ue(this,B)}return ot(B,[{key:"shadeRGBColor",value:function(a,l){var d=l.split(","),h=a<0?0:255,p=a<0?-1*a:a,g=parseInt(d[0].slice(4),10),m=parseInt(d[1],10),b=parseInt(d[2],10);return"rgb("+(Math.round((h-g)*p)+g)+","+(Math.round((h-m)*p)+m)+","+(Math.round((h-b)*p)+b)+")"}},{key:"shadeHexColor",value:function(a,l){var d=parseInt(l.slice(1),16),h=a<0?0:255,p=a<0?-1*a:a,g=d>>16,m=d>>8&255,b=255&d;return"#"+(16777216+65536*(Math.round((h-g)*p)+g)+256*(Math.round((h-m)*p)+m)+(Math.round((h-b)*p)+b)).toString(16).slice(1)}},{key:"shadeColor",value:function(a,l){return B.isColorHex(l)?this.shadeHexColor(a,l):this.shadeRGBColor(a,l)}}],[{key:"bind",value:function(a,l){return function(){return a.apply(l,arguments)}}},{key:"isObject",value:function(a){return a&&"object"===Mt(a)&&!Array.isArray(a)&&null!=a}},{key:"is",value:function(a,l){return Object.prototype.toString.call(l)==="[object "+a+"]"}},{key:"listToArray",value:function(a){var l,d=[];for(l=0;l<a.length;l++)d[l]=a[l];return d}},{key:"extend",value:function(a,l){var d=this;"function"!=typeof Object.assign&&(Object.assign=function(p){if(null==p)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(p),m=1;m<arguments.length;m++){var b=arguments[m];if(null!=b)for(var w in b)b.hasOwnProperty(w)&&(g[w]=b[w])}return g});var h=Object.assign({},a);return this.isObject(a)&&this.isObject(l)&&Object.keys(l).forEach(function(p){d.isObject(l[p])&&p in a?h[p]=d.extend(a[p],l[p]):Object.assign(h,hi({},p,l[p]))}),h}},{key:"extendArray",value:function(a,l){var d=[];return a.map(function(h){d.push(B.extend(l,h))}),d}},{key:"monthMod",value:function(a){return a%12}},{key:"clone",value:function(a){if(B.is("Array",a)){for(var l=[],d=0;d<a.length;d++)l[d]=this.clone(a[d]);return l}if(B.is("Null",a))return null;if(B.is("Date",a))return a;if("object"===Mt(a)){var h={};for(var p in a)a.hasOwnProperty(p)&&(h[p]=this.clone(a[p]));return h}return a}},{key:"log10",value:function(a){return Math.log(a)/Math.LN10}},{key:"roundToBase10",value:function(a){return Math.pow(10,Math.floor(Math.log10(a)))}},{key:"roundToBase",value:function(a,l){return Math.pow(l,Math.floor(Math.log(a)/Math.log(l)))}},{key:"parseNumber",value:function(a){return null===a?a:parseFloat(a)}},{key:"stripNumber",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isInteger(a)?a:parseFloat(a.toPrecision(l))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(a){var l=String(a).split(/[eE]/);if(1===l.length)return l[0];var d="",h=a<0?"-":"",p=l[0].replace(".",""),g=Number(l[1])+1;if(g<0){for(d=h+"0.";g++;)d+="0";return d+p.replace(/^-/,"")}for(g-=p.length;g--;)d+="0";return p+d}},{key:"getDimensions",value:function(a){var l=getComputedStyle(a,null),d=a.clientHeight,h=a.clientWidth;return d-=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),[h-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),d]}},{key:"getBoundingClientRect",value:function(a){var l=a.getBoundingClientRect();return{top:l.top,right:l.right,bottom:l.bottom,left:l.left,width:a.clientWidth,height:a.clientHeight,x:l.left,y:l.top}}},{key:"getLargestStringFromArr",value:function(a){return a.reduce(function(l,d){return Array.isArray(d)&&(d=d.reduce(function(h,p){return h.length>p.length?h:p})),l.length>d.length?l:d},0)}},{key:"hexToRgba",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==a.substring(0,1)&&(a="#999999");var d=a.replace("#","");d=d.match(new RegExp("(.{"+d.length/3+"})","g"));for(var h=0;h<d.length;h++)d[h]=parseInt(1===d[h].length?d[h]+d[h]:d[h],16);return void 0!==l&&d.push(l),"rgba("+d.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(a){return parseFloat(a.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(a)}},{key:"getPolygonPos",value:function(a,l){for(var d=[],h=2*Math.PI/l,p=0;p<l;p++){var g={};g.x=a*Math.sin(p*h),g.y=-a*Math.cos(p*h),d.push(g)}return d}},{key:"polarToCartesian",value:function(a,l,d,h){var p=(h-90)*Math.PI/180;return{x:a+d*Math.cos(p),y:l+d*Math.sin(p)}}},{key:"escapeString",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";return a.toString().slice().replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,l)}},{key:"negToZero",value:function(a){return a<0?0:a}},{key:"moveIndexInArray",value:function(a,l,d){if(d>=a.length)for(var h=d-a.length+1;h--;)a.push(void 0);return a.splice(d,0,a.splice(l,1)[0]),a}},{key:"extractNumber",value:function(a){return parseFloat(a.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(a,l){for(;(a=a.parentElement)&&!a.classList.contains(l););return a}},{key:"setELstyles",value:function(a,l){for(var d in l)l.hasOwnProperty(d)&&(a.style.key=l[d])}},{key:"isNumber",value:function(a){return!isNaN(a)&&parseFloat(Number(a))===a&&!isNaN(parseInt(a,10))}},{key:"isFloat",value:function(a){return Number(a)===a&&a%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var a=window.navigator.userAgent,l=a.indexOf("MSIE ");if(l>0)return parseInt(a.substring(l+5,a.indexOf(".",l)),10);if(a.indexOf("Trident/")>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}var h=a.indexOf("Edge/");return h>0&&parseInt(a.substring(h+5,a.indexOf(".",h)),10)}}]),B}(),Ci=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.setEasingFunctions()}return ot(B,[{key:"setEasingFunctions",value:function(){var a;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":a="-";break;case"easein":a="<";break;case"easeout":a=">";break;case"easeinout":default:a="<>";break;case"swing":a=function(l){var d=1.70158;return(l-=1)*l*((d+1)*l+d)+1};break;case"bounce":a=function(l){return l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375};break;case"elastic":a=function(l){return l===!!l?l:Math.pow(2,-10*l)*Math.sin((l-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=a}}},{key:"animateLine",value:function(a,l,d,h){a.attr(l).animate(h).attr(d)}},{key:"animateMarker",value:function(a,l,d,h,p,g){l||(l=0),a.attr({r:l,width:l,height:l}).animate(h,p).attr({r:d,width:d.width,height:d.height}).afterAll(function(){g()})}},{key:"animateCircle",value:function(a,l,d,h,p){a.attr({r:l.r,cx:l.cx,cy:l.cy}).animate(h,p).attr({r:d.r,cx:d.cx,cy:d.cy})}},{key:"animateRect",value:function(a,l,d,h,p){a.attr(l).animate(h).attr(d).afterAll(function(){return p()})}},{key:"animatePathsGradually",value:function(a){var D=this.w,I=0;D.config.chart.animations.animateGradually.enabled&&(I=D.config.chart.animations.animateGradually.delay),D.config.chart.animations.dynamicAnimation.enabled&&D.globals.dataChanged&&"bar"!==D.config.chart.type&&(I=0),this.morphSVG(a.el,a.realIndex,a.j,"line"!==D.config.chart.type||D.globals.comboCharts?a.fill:"stroke",a.pathFrom,a.pathTo,a.speed,a.delay*I)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(a){var l=a.el;l.classList.remove("apexcharts-element-hidden"),l.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(a){var l=this.w;l.globals.animationEnded||(l.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof l.config.chart.events.animationEnd&&l.config.chart.events.animationEnd(this.ctx,{el:a,w:l}))}},{key:"morphSVG",value:function(a,l,d,h,p,g,m,b){var w=this,D=this.w;p||(p=a.attr("pathFrom")),g||(g=a.attr("pathTo"));var I=function(M){return"radar"===D.config.chart.type&&(m=1),"M 0 ".concat(D.globals.gridHeight)};(!p||p.indexOf("undefined")>-1||p.indexOf("NaN")>-1)&&(p=I()),(!g||g.indexOf("undefined")>-1||g.indexOf("NaN")>-1)&&(g=I()),D.globals.shouldAnimate||(m=1),a.plot(p).animate(1,D.globals.easing,b).plot(p).animate(m,D.globals.easing,b).plot(g).afterAll(function(){he.isNumber(d)?d===D.globals.series[D.globals.maxValsInArrayIndex].length-2&&D.globals.shouldAnimate&&w.animationCompleted(a):"none"!==h&&D.globals.shouldAnimate&&(!D.globals.comboCharts&&l===D.globals.series.length-1||D.globals.comboCharts)&&w.animationCompleted(a),w.showDelayedElements()})}}]),B}(),Tn=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"getDefaultFilter",value:function(a,l){var d=this.w;a.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==d.config.states.normal.filter?this.applyFilter(a,l,d.config.states.normal.filter.type,d.config.states.normal.filter.value):d.config.chart.dropShadow.enabled&&this.dropShadow(a,d.config.chart.dropShadow,l)}},{key:"addNormalFilter",value:function(a,l){var d=this.w;d.config.chart.dropShadow.enabled&&!a.node.classList.contains("apexcharts-marker")&&this.dropShadow(a,d.config.chart.dropShadow,l)}},{key:"addLightenFilter",value:function(a,l,d){var h=this,p=this.w,g=d.intensity;a.unfilter(!0),new window.SVG.Filter,a.filter(function(m){var b=p.config.chart.dropShadow;(b.enabled?h.addShadow(m,l,b):m).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:g}})}),a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)}},{key:"addDarkenFilter",value:function(a,l,d){var h=this,p=this.w,g=d.intensity;a.unfilter(!0),new window.SVG.Filter,a.filter(function(m){var b=p.config.chart.dropShadow;(b.enabled?h.addShadow(m,l,b):m).componentTransfer({rgb:{type:"linear",slope:g}})}),a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)}},{key:"applyFilter",value:function(a,l,d){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(d){case"none":this.addNormalFilter(a,l);break;case"lighten":this.addLightenFilter(a,l,{intensity:h});break;case"darken":this.addDarkenFilter(a,l,{intensity:h})}}},{key:"addShadow",value:function(a,l,d){var h=d.blur,p=d.top,g=d.left,m=d.color,b=d.opacity,w=a.flood(Array.isArray(m)?m[l]:m,b).composite(a.sourceAlpha,"in").offset(g,p).gaussianBlur(h).merge(a.source);return a.blend(a.source,w)}},{key:"dropShadow",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,h=l.top,p=l.left,g=l.blur,m=l.color,b=l.opacity,w=l.noUserSpaceOnUse,D=this.w;return a.unfilter(!0),he.isIE()&&"radialBar"===D.config.chart.type||(m=Array.isArray(m)?m[d]:m,a.filter(function(I){var M;M=he.isSafari()||he.isFirefox()||he.isIE()?I.flood(m,b).composite(I.sourceAlpha,"in").offset(p,h).gaussianBlur(g):I.flood(m,b).composite(I.sourceAlpha,"in").offset(p,h).gaussianBlur(g).merge(I.source),I.blend(I.source,M)}),w||a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)),a}},{key:"setSelectionFilter",value:function(a,l,d){var h=this.w;if(void 0!==h.globals.selectedDataPoints[l]&&h.globals.selectedDataPoints[l].indexOf(d)>-1){a.node.setAttribute("selected",!0);var p=h.config.states.active.filter;"none"!==p&&this.applyFilter(a,l,p.type,p.value)}}},{key:"_scaleFilterSize",value:function(a){!function(l){for(var d in l)l.hasOwnProperty(d)&&a.setAttribute(d,l[d])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),B}(),Le=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"roundPathCorners",value:function(a,l){function d(Y,pe,ge){var Me=pe.x-Y.x,re=pe.y-Y.y,He=Math.sqrt(Me*Me+re*re);return h(Y,pe,Math.min(1,ge/He))}function h(Y,pe,ge){return{x:Y.x+(pe.x-Y.x)*ge,y:Y.y+(pe.y-Y.y)*ge}}function p(Y,pe){Y.length>2&&(Y[Y.length-2]=pe.x,Y[Y.length-1]=pe.y)}function g(Y){return{x:parseFloat(Y[Y.length-2]),y:parseFloat(Y[Y.length-1])}}a.indexOf("NaN")>-1&&(a="");var m=a.split(/[,\s]/).reduce(function(Y,pe){var ge=pe.match("([a-zA-Z])(.+)");return ge?(Y.push(ge[1]),Y.push(ge[2])):Y.push(pe),Y},[]).reduce(function(Y,pe){return parseFloat(pe)==pe&&Y.length?Y[Y.length-1].push(pe):Y.push([pe]),Y},[]),b=[];if(m.length>1){var w=g(m[0]),D=null;"Z"==m[m.length-1][0]&&m[0].length>2&&(m[m.length-1]=D=["L",w.x,w.y]),b.push(m[0]);for(var I=1;I<m.length;I++){var M=b[b.length-1],P=m[I],O=P==D?m[1]:m[I+1];if(O&&M&&M.length>2&&"L"==P[0]&&O.length>2&&"L"==O[0]){var F,H,W=g(M),q=g(P),x=g(O);F=d(q,W,l),H=d(q,x,l),p(P,F),P.origPoint=q,b.push(P);var k=h(F,q,.5),N=h(q,H,.5),U=["C",k.x,k.y,N.x,N.y,H.x,H.y];U.origPoint=q,b.push(U)}else b.push(P)}if(D){var X=g(b[b.length-1]);b.push(["Z"]),p(b[0],X)}}else b=m;return b.reduce(function(Y,pe){return Y+pe.join(" ")+" "},"")}},{key:"drawLine",value:function(a,l,d,h){var p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,b=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:a,y1:l,x2:d,y2:h,stroke:p,"stroke-dasharray":g,"stroke-width":m,"stroke-linecap":b})}},{key:"drawRect",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,b=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,w=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,D=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,I=this.w.globals.dom.Paper.rect();return I.attr({x:a,y:l,width:d>0?d:0,height:h>0?h:0,rx:p,ry:p,opacity:m,"stroke-width":null!==b?b:0,stroke:null!==w?w:"none","stroke-dasharray":D}),I.node.setAttribute("fill",g),I}},{key:"drawPolygon",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(a).attr({fill:h,stroke:l,"stroke-width":d})}},{key:"drawCircle",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a<0&&(a=0);var d=this.w.globals.dom.Paper.circle(2*a);return null!==l&&d.attr(l),d}},{key:"drawPath",value:function(a){var l=a.d,d=void 0===l?"":l,h=a.stroke,p=void 0===h?"#a8a8a8":h,g=a.strokeWidth,m=void 0===g?1:g,b=a.fill,w=a.fillOpacity,D=void 0===w?1:w,I=a.strokeOpacity,M=void 0===I?1:I,P=a.classes,O=a.strokeLinecap,F=void 0===O?null:O,H=a.strokeDashArray,W=void 0===H?0:H,q=this.w;return null===F&&(F=q.config.stroke.lineCap),(d.indexOf("undefined")>-1||d.indexOf("NaN")>-1)&&(d="M 0 ".concat(q.globals.gridHeight)),q.globals.dom.Paper.path(d).attr({fill:b,"fill-opacity":D,stroke:p,"stroke-opacity":M,"stroke-linecap":F,"stroke-width":m,"stroke-dasharray":W,class:P})}},{key:"group",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w.globals.dom.Paper.group();return null!==a&&l.attr(a),l}},{key:"move",value:function(a,l){return["M",a,l].join(" ")}},{key:"line",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=null;return null===d?h=[" L",a,l].join(" "):"H"===d?h=[" H",a].join(" "):"V"===d&&(h=[" V",l].join(" ")),h}},{key:"curve",value:function(a,l,d,h,p,g){return["C",a,l,d,h,p,g].join(" ")}},{key:"quadraticCurve",value:function(a,l,d,h){return["Q",a,l,d,h].join(" ")}},{key:"arc",value:function(a,l,d,h,p,g,m){var b="A";return arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(b="a"),[b,a,l,d,h,p,g,m].join(" ")}},{key:"renderPaths",value:function(a){var l,d=a.j,h=a.realIndex,p=a.pathFrom,g=a.pathTo,m=a.stroke,b=a.strokeWidth,w=a.strokeLinecap,D=a.fill,I=a.animationDelay,M=a.initialSpeed,P=a.dataChangeSpeed,O=a.className,F=a.shouldClipToGrid,H=void 0===F||F,W=a.bindEventsOnPaths,q=void 0===W||W,x=a.drawShadow,k=void 0===x||x,N=this.w,U=new Tn(this.ctx),X=new Ci(this.ctx),Y=this.w.config.chart.animations.enabled,pe=Y&&this.w.config.chart.animations.dynamicAnimation.enabled,ge=!!(Y&&!N.globals.resized||pe&&N.globals.dataChanged&&N.globals.shouldAnimate);ge?l=p:(l=g,N.globals.animationEnded=!0);var re,Me=N.config.stroke.dashArray;re=Array.isArray(Me)?Me[h]:N.config.stroke.dashArray;var He=this.drawPath({d:l,stroke:m,strokeWidth:b,fill:D,fillOpacity:1,classes:O,strokeLinecap:w,strokeDashArray:re});He.attr("index",h),H&&He.attr({"clip-path":"url(#gridRectMask".concat(N.globals.cuid,")")}),"none"!==N.config.states.normal.filter.type?U.getDefaultFilter(He,h):N.config.chart.dropShadow.enabled&&k&&(!N.config.chart.dropShadow.enabledOnSeries||N.config.chart.dropShadow.enabledOnSeries&&-1!==N.config.chart.dropShadow.enabledOnSeries.indexOf(h))&&U.dropShadow(He,N.config.chart.dropShadow,h),q&&(He.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,He)),He.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,He)),He.node.addEventListener("mousedown",this.pathMouseDown.bind(this,He))),He.attr({pathTo:g,pathFrom:p});var mt={el:He,j:d,realIndex:h,pathFrom:p,pathTo:g,fill:D,strokeWidth:b,delay:I};return!Y||N.globals.resized||N.globals.dataChanged?!N.globals.resized&&N.globals.dataChanged||X.showDelayedElements():X.animatePathsGradually(me(me({},mt),{},{speed:M})),N.globals.dataChanged&&pe&&ge&&X.animatePathsGradually(me(me({},mt),{},{speed:P})),He}},{key:"drawPattern",value:function(a,l,d){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(l,d,function(g){"horizontalLines"===a?g.line(0,0,d,0).stroke({color:h,width:p+1}):"verticalLines"===a?g.line(0,0,0,l).stroke({color:h,width:p+1}):"slantedLines"===a?g.line(0,0,l,d).stroke({color:h,width:p}):"squares"===a?g.rect(l,d).fill("none").stroke({color:h,width:p}):"circles"===a&&g.circle(l).fill("none").stroke({color:h,width:p})})}},{key:"drawGradient",value:function(a,l,d,h,p){var g,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,b=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,D=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,I=this.w;l.length<9&&0===l.indexOf("#")&&(l=he.hexToRgba(l,h)),d.length<9&&0===d.indexOf("#")&&(d=he.hexToRgba(d,p));var M=0,P=1,O=1,F=null;null!==b&&(M=void 0!==b[0]?b[0]/100:0,P=void 0!==b[1]?b[1]/100:1,O=void 0!==b[2]?b[2]/100:1,F=void 0!==b[3]?b[3]/100:null);var H=!("donut"!==I.config.chart.type&&"pie"!==I.config.chart.type&&"polarArea"!==I.config.chart.type&&"bubble"!==I.config.chart.type);return g=I.globals.dom.Paper.gradient(H?"radial":"linear",null===w||0===w.length?function(x){x.at(M,l,h),x.at(P,d,p),x.at(O,d,p),null!==F&&x.at(F,l,h)}:function(x){(Array.isArray(w[D])?w[D]:w).forEach(function(k){x.at(k.offset/100,k.color,k.opacity)})}),H?g.attr("bubble"!==I.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:I.globals.gridWidth/2,cy:I.globals.gridHeight/2,r:m}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2}):"vertical"===a?g.from(0,0).to(0,1):"diagonal"===a?g.from(0,0).to(1,1):"horizontal"===a?g.from(0,1).to(1,1):"diagonal2"===a&&g.from(1,0).to(0,1),g}},{key:"getTextBasedOnMaxWidth",value:function(a){var l=a.text,d=a.maxWidth,g=this.getTextRects(l,a.fontSize,a.fontFamily),b=Math.floor(d/(g.width/l.length));return d<g.width?l.slice(0,b-3)+"...":l}},{key:"drawText",value:function(a){var l=this,d=a.x,h=a.y,p=a.text,g=a.textAnchor,m=a.fontSize,b=a.fontFamily,w=a.fontWeight,D=a.foreColor,I=a.opacity,M=a.maxWidth,P=a.cssClass,O=void 0===P?"":P,F=a.isPlainText,H=void 0===F||F,W=this.w;void 0===p&&(p="");var q=p;g||(g="start"),D&&D.length||(D=W.config.chart.foreColor),w=w||"regular";var x,k={maxWidth:M,fontSize:m=m||"11px",fontFamily:b=b||W.config.chart.fontFamily};return Array.isArray(p)?x=W.globals.dom.Paper.text(function(N){for(var U=0;U<p.length;U++)q=p[U],M&&(q=l.getTextBasedOnMaxWidth(me({text:p[U]},k))),0===U?N.tspan(q):N.tspan(q).newLine()}):(M&&(q=this.getTextBasedOnMaxWidth(me({text:p},k))),x=H?W.globals.dom.Paper.plain(p):W.globals.dom.Paper.text(function(N){return N.tspan(q)})),x.attr({x:d,y:h,"text-anchor":g,"dominant-baseline":"auto","font-size":m,"font-family":b,"font-weight":w,fill:D,class:"apexcharts-text "+O}),x.node.style.fontFamily=b,x.node.style.opacity=I,x}},{key:"drawMarker",value:function(a,l,d){a=a||0;var h=d.pSize||0,p=null;if("square"===d.shape||"rect"===d.shape){var g=void 0===d.pRadius?h/2:d.pRadius;null!==l&&h||(h=0,g=0);var m=1.2*h+g,b=this.drawRect(m,m,m,m,g);b.attr({x:a-m/2,y:l-m/2,cx:a,cy:l,class:d.class?d.class:"",fill:d.pointFillColor,"fill-opacity":d.pointFillOpacity?d.pointFillOpacity:1,stroke:d.pointStrokeColor,"stroke-width":d.pointStrokeWidth?d.pointStrokeWidth:0,"stroke-opacity":d.pointStrokeOpacity?d.pointStrokeOpacity:1}),p=b}else"circle"!==d.shape&&d.shape||(he.isNumber(l)||(h=0,l=0),p=this.drawCircle(h,{cx:a,cy:l,class:d.class?d.class:"",stroke:d.pointStrokeColor,fill:d.pointFillColor,"fill-opacity":d.pointFillOpacity?d.pointFillOpacity:1,"stroke-width":d.pointStrokeWidth?d.pointStrokeWidth:0,"stroke-opacity":d.pointStrokeOpacity?d.pointStrokeOpacity:1}));return p}},{key:"pathMouseEnter",value:function(a,l){var d=this.w,h=new Tn(this.ctx),p=parseInt(a.node.getAttribute("index"),10),g=parseInt(a.node.getAttribute("j"),10);if("function"==typeof d.config.chart.events.dataPointMouseEnter&&d.config.chart.events.dataPointMouseEnter(l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:d}),this.ctx.events.fireEvent("dataPointMouseEnter",[l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:d}]),("none"===d.config.states.active.filter.type||"true"!==a.node.getAttribute("selected"))&&"none"!==d.config.states.hover.filter.type&&!d.globals.isTouchDevice){var m=d.config.states.hover.filter;h.applyFilter(a,p,m.type,m.value)}}},{key:"pathMouseLeave",value:function(a,l){var d=this.w,h=new Tn(this.ctx),p=parseInt(a.node.getAttribute("index"),10),g=parseInt(a.node.getAttribute("j"),10);"function"==typeof d.config.chart.events.dataPointMouseLeave&&d.config.chart.events.dataPointMouseLeave(l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:d}),this.ctx.events.fireEvent("dataPointMouseLeave",[l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:d}]),"none"!==d.config.states.active.filter.type&&"true"===a.node.getAttribute("selected")||"none"!==d.config.states.hover.filter.type&&h.getDefaultFilter(a,p)}},{key:"pathMouseDown",value:function(a,l){var d=this.w,h=new Tn(this.ctx),p=parseInt(a.node.getAttribute("index"),10),g=parseInt(a.node.getAttribute("j"),10),m="false";if("true"===a.node.getAttribute("selected")){if(a.node.setAttribute("selected","false"),d.globals.selectedDataPoints[p].indexOf(g)>-1){var b=d.globals.selectedDataPoints[p].indexOf(g);d.globals.selectedDataPoints[p].splice(b,1)}}else{if(!d.config.states.active.allowMultipleDataPointsSelection&&d.globals.selectedDataPoints.length>0){d.globals.selectedDataPoints=[];var w=d.globals.dom.Paper.select(".apexcharts-series path").members,D=d.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,I=function(O){Array.prototype.forEach.call(O,function(F){F.node.setAttribute("selected","false"),h.getDefaultFilter(F,p)})};I(w),I(D)}a.node.setAttribute("selected","true"),m="true",void 0===d.globals.selectedDataPoints[p]&&(d.globals.selectedDataPoints[p]=[]),d.globals.selectedDataPoints[p].push(g)}if("true"===m){var M=d.config.states.active.filter;if("none"!==M)h.applyFilter(a,p,M.type,M.value);else if("none"!==d.config.states.hover.filter&&!d.globals.isTouchDevice){var P=d.config.states.hover.filter;h.applyFilter(a,p,P.type,P.value)}}else"none"!==d.config.states.active.filter.type&&("none"===d.config.states.hover.filter.type||d.globals.isTouchDevice?h.getDefaultFilter(a,p):h.applyFilter(a,p,(P=d.config.states.hover.filter).type,P.value));"function"==typeof d.config.chart.events.dataPointSelection&&d.config.chart.events.dataPointSelection(l,this.ctx,{selectedDataPoints:d.globals.selectedDataPoints,seriesIndex:p,dataPointIndex:g,w:d}),l&&this.ctx.events.fireEvent("dataPointSelection",[l,this.ctx,{selectedDataPoints:d.globals.selectedDataPoints,seriesIndex:p,dataPointIndex:g,w:d}])}},{key:"rotateAroundCenter",value:function(a){var l={};return a&&"function"==typeof a.getBBox&&(l=a.getBBox()),{x:l.x+l.width/2,y:l.y+l.height/2}}},{key:"getTextRects",value:function(a,l,d,h){var p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=this.w,m=this.drawText({x:-200,y:-200,text:a,textAnchor:"start",fontSize:l,fontFamily:d,foreColor:"#fff",opacity:0});h&&m.attr("transform",h),g.globals.dom.Paper.add(m);var b=m.bbox();return p||(b=m.node.getBoundingClientRect()),m.remove(),{width:b.width,height:b.height}}},{key:"placeTextWithEllipsis",value:function(a,l,d){if("function"==typeof a.getComputedTextLength&&(a.textContent=l,l.length>0&&a.getComputedTextLength()>=d/1.1)){for(var h=l.length-3;h>0;h-=3)if(a.getSubStringLength(0,h)<=d/1.1)return void(a.textContent=l.substring(0,h)+"...");a.textContent="."}}}],[{key:"setAttrs",value:function(a,l){for(var d in l)l.hasOwnProperty(d)&&a.setAttribute(d,l[d])}}]),B}(),Vt=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"getStackedSeriesTotals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=this.w,d=[];if(0===l.globals.series.length)return d;for(var h=0;h<l.globals.series[l.globals.maxValsInArrayIndex].length;h++){for(var p=0,g=0;g<l.globals.series.length;g++)void 0!==l.globals.series[g][h]&&-1===a.indexOf(g)&&(p+=l.globals.series[g][h]);d.push(p)}return d}},{key:"getSeriesTotalByIndex",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===a?this.w.config.series.reduce(function(l,d){return l+d},0):this.w.globals.series[a].reduce(function(l,d){return l+d},0)}},{key:"isSeriesNull",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===a?this.w.config.series.filter(function(l){return null!==l}):this.w.config.series[a].data.filter(function(l){return null!==l})).length}},{key:"seriesHaveSameValues",value:function(a){return this.w.globals.series[a].every(function(l,d,h){return l===h[0]})}},{key:"getCategoryLabels",value:function(a){var l=this.w,d=a.slice();return l.config.xaxis.convertedCatToNumeric&&(d=a.map(function(h,p){return l.config.xaxis.labels.formatter(h-l.globals.minX+1)})),d}},{key:"getLargestSeries",value:function(){var a=this.w;a.globals.maxValsInArrayIndex=a.globals.series.map(function(l){return l.length}).indexOf(Math.max.apply(Math,a.globals.series.map(function(l){return l.length})))}},{key:"getLargestMarkerSize",value:function(){var a=this.w,l=0;return a.globals.markers.size.forEach(function(d){l=Math.max(l,d)}),a.config.markers.discrete&&a.config.markers.discrete.length&&a.config.markers.discrete.forEach(function(d){l=Math.max(l,d.size)}),l>0&&(l+=a.config.markers.hover.sizeOffset+1),a.globals.markers.largestSize=l,l}},{key:"getSeriesTotals",value:function(){var a=this.w;a.globals.seriesTotals=a.globals.series.map(function(l,d){var h=0;if(Array.isArray(l))for(var p=0;p<l.length;p++)h+=l[p];else h+=l;return h})}},{key:"getSeriesTotalsXRange",value:function(a,l){var d=this.w;return d.globals.series.map(function(h,p){for(var g=0,m=0;m<h.length;m++)d.globals.seriesX[p][m]>a&&d.globals.seriesX[p][m]<l&&(g+=h[m]);return g})}},{key:"getPercentSeries",value:function(){var a=this.w;a.globals.seriesPercent=a.globals.series.map(function(l,d){var h=[];if(Array.isArray(l))for(var p=0;p<l.length;p++){var g=a.globals.stackedSeriesTotals[p],m=0;g&&(m=100*l[p]/g),h.push(m)}else{var b=100*l/a.globals.seriesTotals.reduce(function(w,D){return w+D},0);h.push(b)}return h})}},{key:"getCalculatedRatios",value:function(){var a,l,d,h,p=this.w.globals,g=[],m=0,b=[],w=.1,D=0;if(p.yRange=[],p.isMultipleYAxis)for(var I=0;I<p.minYArr.length;I++)p.yRange.push(Math.abs(p.minYArr[I]-p.maxYArr[I])),b.push(0);else p.yRange.push(Math.abs(p.minY-p.maxY));p.xRange=Math.abs(p.maxX-p.minX),p.zRange=Math.abs(p.maxZ-p.minZ);for(var M=0;M<p.yRange.length;M++)g.push(p.yRange[M]/p.gridHeight);if(l=p.xRange/p.gridWidth,d=Math.abs(p.initialMaxX-p.initialMinX)/p.gridWidth,a=p.yRange/p.gridWidth,h=p.xRange/p.gridHeight,(m=p.zRange/p.gridHeight*16)||(m=1),p.minY!==Number.MIN_VALUE&&0!==Math.abs(p.minY)&&(p.hasNegs=!0),p.isMultipleYAxis){b=[];for(var P=0;P<g.length;P++)b.push(-p.minYArr[P]/g[P])}else b.push(-p.minY/g[0]),p.minY!==Number.MIN_VALUE&&0!==Math.abs(p.minY)&&(w=-p.minY/a,D=p.minX/l);return{yRatio:g,invertedYRatio:a,zRatio:m,xRatio:l,initialXRatio:d,invertedXRatio:h,baseLineInvertedY:w,baseLineY:b,baseLineX:D}}},{key:"getLogSeries",value:function(a){var l=this,d=this.w;return d.globals.seriesLog=a.map(function(h,p){return d.config.yaxis[p]&&d.config.yaxis[p].logarithmic?h.map(function(g){return null===g?null:l.getLogVal(d.config.yaxis[p].logBase,g,p)}):h}),d.globals.invalidLogScale?a:d.globals.seriesLog}},{key:"getBaseLog",value:function(a,l){return Math.log(l)/Math.log(a)}},{key:"getLogVal",value:function(a,l,d){if(0===l)return 0;var h=this.w,p=0===h.globals.minYArr[d]?-1:this.getBaseLog(a,h.globals.minYArr[d]),g=(0===h.globals.maxYArr[d]?0:this.getBaseLog(a,h.globals.maxYArr[d]))-p;return l<1?l/g:(this.getBaseLog(a,l)-p)/g}},{key:"getLogYRatios",value:function(a){var l=this,d=this.w,h=this.w.globals;return h.yLogRatio=a.slice(),h.logYRange=h.yRange.map(function(p,g){if(d.config.yaxis[g]&&l.w.config.yaxis[g].logarithmic){var m,b=-Number.MAX_VALUE,w=Number.MIN_VALUE;return h.seriesLog.forEach(function(D,I){D.forEach(function(M){d.config.yaxis[I]&&d.config.yaxis[I].logarithmic&&(b=Math.max(M,b),w=Math.min(M,w))})}),m=Math.pow(h.yRange[g],Math.abs(w-b)/h.yRange[g]),h.yLogRatio[g]=m/h.gridHeight,m}}),h.invalidLogScale?a.slice():h.yLogRatio}}],[{key:"checkComboSeries",value:function(a){var l=!1,d=0,h=0;return a.length&&void 0!==a[0].type&&a.forEach(function(p){"bar"!==p.type&&"column"!==p.type&&"candlestick"!==p.type&&"boxPlot"!==p.type||d++,void 0!==p.type&&h++}),h>0&&(l=!0),{comboBarCount:d,comboCharts:l}}},{key:"extendArrayProps",value:function(a,l,d){return l.yaxis&&(l=a.extendYAxis(l,d)),l.annotations&&(l.annotations.yaxis&&(l=a.extendYAxisAnnotations(l)),l.annotations.xaxis&&(l=a.extendXAxisAnnotations(l)),l.annotations.points&&(l=a.extendPointAnnotations(l))),l}}]),B}(),Un=function(){function B(a){Ue(this,B),this.w=a.w,this.annoCtx=a}return ot(B,[{key:"setOrientations",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("vertical"===a.label.orientation){var p=this.w.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(null!==l?l:0,"']"));if(null!==p){var g=p.getBoundingClientRect();p.setAttribute("x",parseFloat(p.getAttribute("x"))-g.height+4),p.setAttribute("y","top"===a.label.position?parseFloat(p.getAttribute("y"))+g.width:parseFloat(p.getAttribute("y"))-g.width);var m=this.annoCtx.graphics.rotateAroundCenter(p),w=m.y;p.setAttribute("transform","rotate(-90 ".concat(m.x," ").concat(w,")"))}}}},{key:"addBackgroundToAnno",value:function(a,l){var d=this.w;if(!a||void 0===l.label.text||void 0!==l.label.text&&!String(l.label.text).trim())return null;var h=d.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),p=a.getBoundingClientRect(),g=l.label.style.padding.left,m=l.label.style.padding.right,b=l.label.style.padding.top,w=l.label.style.padding.bottom;"vertical"===l.label.orientation&&(b=l.label.style.padding.left,w=l.label.style.padding.right,g=l.label.style.padding.top,m=l.label.style.padding.bottom);var M=this.annoCtx.graphics.drawRect(p.left-h.left-g-d.globals.barPadForNumericAxis,p.top-h.top-b,p.width+g+m,p.height+b+w,l.label.borderRadius,l.label.style.background,1,l.label.borderWidth,l.label.borderColor,0);return l.id&&M.node.classList.add(l.id),M}},{key:"annotationsBackground",value:function(){var a=this,l=this.w,d=function(h,p,g){var m=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(g,"-annotations .apexcharts-").concat(g,"-annotation-label[rel='").concat(p,"']"));if(m){var b=m.parentNode,w=a.addBackgroundToAnno(m,h);w&&(b.insertBefore(w.node,m),h.label.mouseEnter&&w.node.addEventListener("mouseenter",h.label.mouseEnter.bind(a,h)),h.label.mouseLeave&&w.node.addEventListener("mouseleave",h.label.mouseLeave.bind(a,h)),h.label.click&&w.node.addEventListener("click",h.label.click.bind(a,h)))}};l.config.annotations.xaxis.map(function(h,p){d(h,p,"xaxis")}),l.config.annotations.yaxis.map(function(h,p){d(h,p,"yaxis")}),l.config.annotations.points.map(function(h,p){d(h,p,"point")})}},{key:"getY1Y2",value:function(a,l){var d,h="y1"===a?l.y:l.y2,p=this.w;if(this.annoCtx.invertAxis){var g=p.globals.labels.indexOf(h);p.config.xaxis.convertedCatToNumeric&&(g=p.globals.categoryLabels.indexOf(h));var m=p.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(g+1)+")");m&&(d=parseFloat(m.getAttribute("y")))}else{var b;b=p.config.yaxis[l.yAxisIndex].logarithmic?(h=new Vt(this.annoCtx.ctx).getLogVal(h,l.yAxisIndex))/p.globals.yLogRatio[l.yAxisIndex]:(h-p.globals.minYArr[l.yAxisIndex])/(p.globals.yRange[l.yAxisIndex]/p.globals.gridHeight),d=p.globals.gridHeight-b,!l.marker||null!=l.y||(d=0),p.config.yaxis[l.yAxisIndex]&&p.config.yaxis[l.yAxisIndex].reversed&&(d=b)}return"string"==typeof h&&h.indexOf("px")>-1&&(d=parseFloat(h)),d}},{key:"getX1X2",value:function(a,l){var d=this.w,h=this.annoCtx.invertAxis?d.globals.minY:d.globals.minX,p=this.annoCtx.invertAxis?d.globals.maxY:d.globals.maxX,g=this.annoCtx.invertAxis?d.globals.yRange[0]:d.globals.xRange,m=(l.x-h)/(g/d.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(m=(p-l.x)/(g/d.globals.gridWidth)),"category"!==d.config.xaxis.type&&!d.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||d.globals.dataFormatXNumeric||(m=this.getStringX(l.x));var b=(l.x2-h)/(g/d.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(b=(p-l.x2)/(g/d.globals.gridWidth)),"category"!==d.config.xaxis.type&&!d.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||d.globals.dataFormatXNumeric||(b=this.getStringX(l.x2)),null!=l.x||!l.marker||(m=d.globals.gridWidth),"x1"===a&&"string"==typeof l.x&&l.x.indexOf("px")>-1&&(m=parseFloat(l.x)),"x2"===a&&"string"==typeof l.x2&&l.x2.indexOf("px")>-1&&(b=parseFloat(l.x2)),"x1"===a?m:b}},{key:"getStringX",value:function(a){var l=this.w,d=a;l.config.xaxis.convertedCatToNumeric&&l.globals.categoryLabels.length&&(a=l.globals.categoryLabels.indexOf(a)+1);var h=l.globals.labels.indexOf(a),p=l.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(h+1)+")");return p&&(d=parseFloat(p.getAttribute("x"))),d}}]),B}(),Gr=function(){function B(a){Ue(this,B),this.w=a.w,this.annoCtx=a,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Un(this.annoCtx)}return ot(B,[{key:"addXaxisAnnotation",value:function(a,l,d){var h,p=this.w,g=this.helpers.getX1X2("x1",a),m=a.label.text,b=a.strokeDashArray;if(he.isNumber(g)){if(null==a.x2){var w=this.annoCtx.graphics.drawLine(g+a.offsetX,0+a.offsetY,g+a.offsetX,p.globals.gridHeight+a.offsetY,a.borderColor,b,a.borderWidth);l.appendChild(w.node),a.id&&w.node.classList.add(a.id)}else{if((h=this.helpers.getX1X2("x2",a))<g){var D=g;g=h,h=D}var I=this.annoCtx.graphics.drawRect(g+a.offsetX,0+a.offsetY,h-g,p.globals.gridHeight+a.offsetY,0,a.fillColor,a.opacity,1,a.borderColor,b);I.node.classList.add("apexcharts-annotation-rect"),I.attr("clip-path","url(#gridRectMask".concat(p.globals.cuid,")")),l.appendChild(I.node),a.id&&I.node.classList.add(a.id)}var M=this.annoCtx.graphics.getTextRects(m,parseFloat(a.label.style.fontSize)),O=this.annoCtx.graphics.drawText({x:g+a.label.offsetX,y:("top"===a.label.position?4:"center"===a.label.position?p.globals.gridHeight/2+("vertical"===a.label.orientation?M.width/2:0):p.globals.gridHeight)+a.label.offsetY-("vertical"===a.label.orientation?"top"===a.label.position?M.width/2-12:-M.width/2:0),text:m,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});O.attr({rel:d}),l.appendChild(O.node),this.annoCtx.helpers.setOrientations(a,d)}}},{key:"drawXAxisAnnotations",value:function(){var a=this,l=this.w,d=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return l.config.annotations.xaxis.map(function(h,p){a.addXaxisAnnotation(h,d.node,p)}),d}}]),B}(),an=function(){function B(a){Ue(this,B),this.w=a.w,this.annoCtx=a,this.helpers=new Un(this.annoCtx)}return ot(B,[{key:"addYaxisAnnotation",value:function(a,l,d){var h,p=this.w,g=a.strokeDashArray,m=this.helpers.getY1Y2("y1",a),b=a.label.text;if(null==a.y2){var w=this.annoCtx.graphics.drawLine(0+a.offsetX,m+a.offsetY,this._getYAxisAnnotationWidth(a),m+a.offsetY,a.borderColor,g,a.borderWidth);l.appendChild(w.node),a.id&&w.node.classList.add(a.id)}else{if((h=this.helpers.getY1Y2("y2",a))>m){var D=m;m=h,h=D}var I=this.annoCtx.graphics.drawRect(0+a.offsetX,h+a.offsetY,this._getYAxisAnnotationWidth(a),m-h,0,a.fillColor,a.opacity,1,a.borderColor,g);I.node.classList.add("apexcharts-annotation-rect"),I.attr("clip-path","url(#gridRectMask".concat(p.globals.cuid,")")),l.appendChild(I.node),a.id&&I.node.classList.add(a.id)}var P=this.annoCtx.graphics.drawText({x:("right"===a.label.position?p.globals.gridWidth:"center"===a.label.position?p.globals.gridWidth/2:0)+a.label.offsetX,y:(h??m)+a.label.offsetY-3,text:b,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});P.attr({rel:d}),l.appendChild(P.node)}},{key:"_getYAxisAnnotationWidth",value:function(a){var l=this.w;return(a.width.indexOf("%")>-1?l.globals.gridWidth*parseInt(a.width,10)/100:parseInt(a.width,10))+a.offsetX}},{key:"drawYAxisAnnotations",value:function(){var a=this,l=this.w,d=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return l.config.annotations.yaxis.map(function(h,p){a.addYaxisAnnotation(h,d.node,p)}),d}}]),B}(),rr=function(){function B(a){Ue(this,B),this.w=a.w,this.annoCtx=a,this.helpers=new Un(this.annoCtx)}return ot(B,[{key:"addPointAnnotation",value:function(a,l,d){var h=this.helpers.getX1X2("x1",a),p=this.helpers.getY1Y2("y1",a);if(he.isNumber(h)){var g={pSize:a.marker.size,pointStrokeWidth:a.marker.strokeWidth,pointFillColor:a.marker.fillColor,pointStrokeColor:a.marker.strokeColor,shape:a.marker.shape,pRadius:a.marker.radius,class:"apexcharts-point-annotation-marker ".concat(a.marker.cssClass," ").concat(a.id?a.id:"")},m=this.annoCtx.graphics.drawMarker(h+a.marker.offsetX,p+a.marker.offsetY,g);l.appendChild(m.node);var b=a.label.text?a.label.text:"",w=this.annoCtx.graphics.drawText({x:h+a.label.offsetX,y:p+a.label.offsetY-a.marker.size-parseFloat(a.label.style.fontSize)/1.6,text:b,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});if(w.attr({rel:d}),l.appendChild(w.node),a.customSVG.SVG){var D=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+a.customSVG.cssClass});D.attr({transform:"translate(".concat(h+a.customSVG.offsetX,", ").concat(p+a.customSVG.offsetY,")")}),D.node.innerHTML=a.customSVG.SVG,l.appendChild(D.node)}if(a.image.path){var I=a.image.width?a.image.width:20,M=a.image.height?a.image.height:20;m=this.annoCtx.addImage({x:h+a.image.offsetX-I/2,y:p+a.image.offsetY-M/2,width:I,height:M,path:a.image.path,appendTo:".apexcharts-point-annotations"})}a.mouseEnter&&m.node.addEventListener("mouseenter",a.mouseEnter.bind(this,a)),a.mouseLeave&&m.node.addEventListener("mouseleave",a.mouseLeave.bind(this,a)),a.click&&m.node.addEventListener("click",a.click.bind(this,a))}}},{key:"drawPointAnnotations",value:function(){var a=this,l=this.w,d=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return l.config.annotations.points.map(function(h,p){a.addPointAnnotation(h,d.node,p)}),d}}]),B}(),qe={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},jn=function(){function B(){Ue(this,B),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return ot(B,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[qe],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(a){return new Date(a).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(a){return a}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(a){return a+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(a){return a.globals.seriesTotals.reduce(function(l,d){return l+d},0)/a.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(a){return a}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(a){return a}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(a){return a.globals.seriesTotals.reduce(function(l,d){return l+d},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(a){return null!==a?a:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(a){return a?a+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),B}(),_i=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.graphics=new Le(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Un(this),this.xAxisAnnotations=new Gr(this),this.yAxisAnnotations=new an(this),this.pointsAnnotations=new rr(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return ot(B,[{key:"drawAxesAnnotations",value:function(){var a=this.w;if(a.globals.axisCharts){for(var l=this.yAxisAnnotations.drawYAxisAnnotations(),d=this.xAxisAnnotations.drawXAxisAnnotations(),h=this.pointsAnnotations.drawPointAnnotations(),p=a.config.chart.animations.enabled,g=[l,d,h],m=[d.node,l.node,h.node],b=0;b<3;b++)a.globals.dom.elGraphical.add(g[b]),!p||a.globals.resized||a.globals.dataChanged||"scatter"!==a.config.chart.type&&"bubble"!==a.config.chart.type&&a.globals.dataPoints>1&&m[b].classList.add("apexcharts-element-hidden"),a.globals.delayedElements.push({el:m[b],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var a=this;this.w.config.annotations.images.map(function(l,d){a.addImage(l,d)})}},{key:"drawTextAnnos",value:function(){var a=this;this.w.config.annotations.texts.map(function(l,d){a.addText(l,d)})}},{key:"addXaxisAnnotation",value:function(a,l,d){this.xAxisAnnotations.addXaxisAnnotation(a,l,d)}},{key:"addYaxisAnnotation",value:function(a,l,d){this.yAxisAnnotations.addYaxisAnnotation(a,l,d)}},{key:"addPointAnnotation",value:function(a,l,d){this.pointsAnnotations.addPointAnnotation(a,l,d)}},{key:"addText",value:function(a,l){var p=a.text,M=a.backgroundColor,P=a.borderWidth,O=a.strokeDashArray,F=a.borderRadius,H=a.borderColor,W=a.appendTo,q=void 0===W?".apexcharts-annotations":W,x=a.paddingLeft,k=void 0===x?4:x,N=a.paddingRight,U=void 0===N?4:N,X=a.paddingBottom,Y=void 0===X?2:X,pe=a.paddingTop,ge=void 0===pe?2:pe,Me=this.w,re=this.graphics.drawText({x:a.x,y:a.y,text:p,textAnchor:a.textAnchor||"start",fontSize:a.fontSize||"12px",fontWeight:a.fontWeight||"regular",fontFamily:a.fontFamily||Me.config.chart.fontFamily,foreColor:a.foreColor||Me.config.chart.foreColor,cssClass:a.cssClass}),He=Me.globals.dom.baseEl.querySelector(q);He&&He.appendChild(re.node);var Ae=re.bbox();if(p){var mt=this.graphics.drawRect(Ae.x-k,Ae.y-ge,Ae.width+k+U,Ae.height+Y+ge,F,M||"transparent",1,P,H,O);He.insertBefore(mt.node,re.node)}}},{key:"addImage",value:function(a,l){var d=this.w,p=a.x,g=void 0===p?0:p,m=a.y,b=void 0===m?0:m,w=a.width,D=void 0===w?20:w,I=a.height,M=void 0===I?20:I,P=a.appendTo,O=void 0===P?".apexcharts-annotations":P,F=d.globals.dom.Paper.image(a.path);F.size(D,M).move(g,b);var H=d.globals.dom.baseEl.querySelector(O);return H&&H.appendChild(F.node),F}},{key:"addXaxisAnnotationExternal",value:function(a,l,d){return this.addAnnotationExternal({params:a,pushToMemory:l,context:d,type:"xaxis",contextMethod:d.addXaxisAnnotation}),d}},{key:"addYaxisAnnotationExternal",value:function(a,l,d){return this.addAnnotationExternal({params:a,pushToMemory:l,context:d,type:"yaxis",contextMethod:d.addYaxisAnnotation}),d}},{key:"addPointAnnotationExternal",value:function(a,l,d){return void 0===this.invertAxis&&(this.invertAxis=d.w.globals.isBarHorizontal),this.addAnnotationExternal({params:a,pushToMemory:l,context:d,type:"point",contextMethod:d.addPointAnnotation}),d}},{key:"addAnnotationExternal",value:function(a){var l=a.params,d=a.pushToMemory,h=a.context,p=a.type,g=a.contextMethod,m=h,b=m.w,w=b.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-annotations")),D=w.childNodes.length+1,I=new jn,M=Object.assign({},"xaxis"===p?I.xAxisAnnotation:"yaxis"===p?I.yAxisAnnotation:I.pointAnnotation),P=he.extend(M,l);switch(p){case"xaxis":this.addXaxisAnnotation(P,w,D);break;case"yaxis":this.addYaxisAnnotation(P,w,D);break;case"point":this.addPointAnnotation(P,w,D)}var O=b.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-annotations .apexcharts-").concat(p,"-annotation-label[rel='").concat(D,"']")),F=this.helpers.addBackgroundToAnno(O,P);return F&&w.insertBefore(F.node,O),d&&b.globals.memory.methodsToExec.push({context:m,id:P.id?P.id:he.randomId(),method:g,label:"addAnnotation",params:l}),h}},{key:"clearAnnotations",value:function(a){var l=a.w,d=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");l.globals.memory.methodsToExec.map(function(h,p){"addText"!==h.label&&"addAnnotation"!==h.label||l.globals.memory.methodsToExec.splice(p,1)}),d=he.listToArray(d),Array.prototype.forEach.call(d,function(h){for(;h.firstChild;)h.removeChild(h.firstChild)})}},{key:"removeAnnotation",value:function(a,l){var d=a.w,h=d.globals.dom.baseEl.querySelectorAll(".".concat(l));h&&(d.globals.memory.methodsToExec.map(function(p,g){p.id===l&&d.globals.memory.methodsToExec.splice(g,1)}),Array.prototype.forEach.call(h,function(p){p.parentElement.removeChild(p)}))}}]),B}(),mn=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return ot(B,[{key:"isValidDate",value:function(a){return!isNaN(this.parseDate(a))}},{key:"getTimeStamp",value:function(a){return Date.parse(a)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(a).toISOString().substr(0,25)).getTime():new Date(a).getTime():a}},{key:"getDate",value:function(a){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(a).toUTCString()):new Date(a)}},{key:"parseDate",value:function(a){var l=Date.parse(a);if(!isNaN(l))return this.getTimeStamp(a);var d=Date.parse(a.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(d)}},{key:"parseDateWithTimezone",value:function(a){return Date.parse(a.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(a,l){var d=this.w.globals.locale,h=this.w.config.xaxis.labels.datetimeUTC,p=["\0"].concat(En(d.months)),g=["\x01"].concat(En(d.shortMonths)),m=["\x02"].concat(En(d.days)),b=["\x03"].concat(En(d.shortDays));function w(Y,pe){var ge=Y+"";for(pe=pe||2;ge.length<pe;)ge="0"+ge;return ge}var D=h?a.getUTCFullYear():a.getFullYear();l=(l=(l=l.replace(/(^|[^\\])yyyy+/g,"$1"+D)).replace(/(^|[^\\])yy/g,"$1"+D.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+D);var I=(h?a.getUTCMonth():a.getMonth())+1;l=(l=(l=(l=l.replace(/(^|[^\\])MMMM+/g,"$1"+p[0])).replace(/(^|[^\\])MMM/g,"$1"+g[0])).replace(/(^|[^\\])MM/g,"$1"+w(I))).replace(/(^|[^\\])M/g,"$1"+I);var M=h?a.getUTCDate():a.getDate();l=(l=(l=(l=l.replace(/(^|[^\\])dddd+/g,"$1"+m[0])).replace(/(^|[^\\])ddd/g,"$1"+b[0])).replace(/(^|[^\\])dd/g,"$1"+w(M))).replace(/(^|[^\\])d/g,"$1"+M);var P=h?a.getUTCHours():a.getHours(),O=P>12?P-12:0===P?12:P;l=(l=(l=(l=l.replace(/(^|[^\\])HH+/g,"$1"+w(P))).replace(/(^|[^\\])H/g,"$1"+P)).replace(/(^|[^\\])hh+/g,"$1"+w(O))).replace(/(^|[^\\])h/g,"$1"+O);var F=h?a.getUTCMinutes():a.getMinutes();l=(l=l.replace(/(^|[^\\])mm+/g,"$1"+w(F))).replace(/(^|[^\\])m/g,"$1"+F);var H=h?a.getUTCSeconds():a.getSeconds();l=(l=l.replace(/(^|[^\\])ss+/g,"$1"+w(H))).replace(/(^|[^\\])s/g,"$1"+H);var W=h?a.getUTCMilliseconds():a.getMilliseconds();l=l.replace(/(^|[^\\])fff+/g,"$1"+w(W,3)),W=Math.round(W/10),l=l.replace(/(^|[^\\])ff/g,"$1"+w(W)),W=Math.round(W/10);var q=P<12?"AM":"PM";l=(l=(l=l.replace(/(^|[^\\])f/g,"$1"+W)).replace(/(^|[^\\])TT+/g,"$1"+q)).replace(/(^|[^\\])T/g,"$1"+q.charAt(0));var x=q.toLowerCase();l=(l=l.replace(/(^|[^\\])tt+/g,"$1"+x)).replace(/(^|[^\\])t/g,"$1"+x.charAt(0));var k=-a.getTimezoneOffset(),N=h||!k?"Z":k>0?"+":"-";if(!h){var U=(k=Math.abs(k))%60;N+=w(Math.floor(k/60))+":"+w(U)}l=l.replace(/(^|[^\\])K/g,"$1"+N);var X=(h?a.getUTCDay():a.getDay())+1;return(l=(l=(l=(l=l.replace(new RegExp(m[0],"g"),m[X])).replace(new RegExp(b[0],"g"),b[X])).replace(new RegExp(p[0],"g"),p[I])).replace(new RegExp(g[0],"g"),g[I])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(a,l,d){var h=this.w;void 0!==h.config.xaxis.min&&(a=h.config.xaxis.min),void 0!==h.config.xaxis.max&&(l=h.config.xaxis.max);var p=this.getDate(a),g=this.getDate(l),m=this.formatDate(p,"yyyy MM dd HH mm ss fff").split(" "),b=this.formatDate(g,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(m[6],10),maxMillisecond:parseInt(b[6],10),minSecond:parseInt(m[5],10),maxSecond:parseInt(b[5],10),minMinute:parseInt(m[4],10),maxMinute:parseInt(b[4],10),minHour:parseInt(m[3],10),maxHour:parseInt(b[3],10),minDate:parseInt(m[2],10),maxDate:parseInt(b[2],10),minMonth:parseInt(m[1],10)-1,maxMonth:parseInt(b[1],10)-1,minYear:parseInt(m[0],10),maxYear:parseInt(b[0],10)}}},{key:"isLeapYear",value:function(a){return a%4==0&&a%100!=0||a%400==0}},{key:"calculcateLastDaysOfMonth",value:function(a,l,d){return this.determineDaysOfMonths(a,l)-d}},{key:"determineDaysOfYear",value:function(a){var l=365;return this.isLeapYear(a)&&(l=366),l}},{key:"determineRemainingDaysOfYear",value:function(a,l,d){var h=this.daysCntOfYear[l]+d;return l>1&&this.isLeapYear()&&h++,h}},{key:"determineDaysOfMonths",value:function(a,l){var d=30;switch(a=he.monthMod(a),!0){case this.months30.indexOf(a)>-1:2===a&&(d=this.isLeapYear(l)?29:28);break;case this.months31.indexOf(a)>-1:default:d=31}return d}}]),B}(),$r=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.tooltipKeyFormat="dd MMM"}return ot(B,[{key:"xLabelFormat",value:function(a,l,d,h){var p=this.w;if("datetime"===p.config.xaxis.type&&void 0===p.config.xaxis.labels.formatter&&void 0===p.config.tooltip.x.formatter){var g=new mn(this.ctx);return g.formatDate(g.getDate(l),p.config.tooltip.x.format)}return a(l,d,h)}},{key:"defaultGeneralFormatter",value:function(a){return Array.isArray(a)?a.map(function(l){return l}):a}},{key:"defaultYFormatter",value:function(a,l,d){var h=this.w;return he.isNumber(a)&&(a=a.toFixed(0!==h.globals.yValueDecimal?void 0!==l.decimalsInFloat?l.decimalsInFloat:h.globals.yValueDecimal:h.globals.maxYArr[d]-h.globals.minYArr[d]<5?1:0)),a}},{key:"setLabelFormatters",value:function(){var a=this,l=this.w;return l.globals.xaxisTooltipFormatter=function(d){return a.defaultGeneralFormatter(d)},l.globals.ttKeyFormatter=function(d){return a.defaultGeneralFormatter(d)},l.globals.ttZFormatter=function(d){return d},l.globals.legendFormatter=function(d){return a.defaultGeneralFormatter(d)},l.globals.xLabelFormatter=void 0!==l.config.xaxis.labels.formatter?l.config.xaxis.labels.formatter:function(d){if(he.isNumber(d)){if(!l.config.xaxis.convertedCatToNumeric&&"numeric"===l.config.xaxis.type){if(he.isNumber(l.config.xaxis.decimalsInFloat))return d.toFixed(l.config.xaxis.decimalsInFloat);var h=l.globals.maxX-l.globals.minX;return d.toFixed(h>0&&h<100?1:0)}return d.toFixed(l.globals.isBarHorizontal&&l.globals.maxY-l.globals.minYArr<4?1:0)}return d},l.globals.ttKeyFormatter="function"==typeof l.config.tooltip.x.formatter?l.config.tooltip.x.formatter:l.globals.xLabelFormatter,"function"==typeof l.config.xaxis.tooltip.formatter&&(l.globals.xaxisTooltipFormatter=l.config.xaxis.tooltip.formatter),(Array.isArray(l.config.tooltip.y)||void 0!==l.config.tooltip.y.formatter)&&(l.globals.ttVal=l.config.tooltip.y),void 0!==l.config.tooltip.z.formatter&&(l.globals.ttZFormatter=l.config.tooltip.z.formatter),void 0!==l.config.legend.formatter&&(l.globals.legendFormatter=l.config.legend.formatter),l.config.yaxis.forEach(function(d,h){l.globals.yLabelFormatters[h]=void 0!==d.labels.formatter?d.labels.formatter:function(p){return l.globals.xyCharts?Array.isArray(p)?p.map(function(g){return a.defaultYFormatter(g,d,h)}):a.defaultYFormatter(p,d,h):p}}),l.globals}},{key:"heatmapLabelFormatters",value:function(){var a=this.w;if("heatmap"===a.config.chart.type){a.globals.yAxisScale[0].result=a.globals.seriesNames.slice();var l=a.globals.seriesNames.reduce(function(d,h){return d.length>h.length?d:h},0);a.globals.yAxisScale[0].niceMax=l,a.globals.yAxisScale[0].niceMin=l}}}]),B}(),ds=function(B){var a,l=B.isTimeline,d=B.ctx,h=B.seriesIndex,p=B.dataPointIndex,g=B.y1,m=B.y2,b=B.w,w=b.globals.seriesRangeStart[h][p],D=b.globals.seriesRangeEnd[h][p],I=b.globals.labels[p],M=b.config.series[h].name?b.config.series[h].name:"",P=b.globals.ttKeyFormatter,O=b.config.tooltip.y.title.formatter,F={w:b,seriesIndex:h,dataPointIndex:p,start:w,end:D};"function"==typeof O&&(M=O(M,F)),null!==(a=b.config.series[h].data[p])&&void 0!==a&&a.x&&(I=b.config.series[h].data[p].x),l||"datetime"===b.config.xaxis.type&&(I=new $r(d).xLabelFormat(b.globals.ttKeyFormatter,I,I,{i:void 0,dateFormatter:new mn(d).formatDate,w:b})),"function"==typeof P&&(I=P(I,F)),Number.isFinite(g)&&Number.isFinite(m)&&(w=g,D=m);var H="",W="",q=b.globals.colors[h];if(void 0===b.config.tooltip.x.formatter)if("datetime"===b.config.xaxis.type){var x=new mn(d);H=x.formatDate(x.getDate(w),b.config.tooltip.x.format),W=x.formatDate(x.getDate(D),b.config.tooltip.x.format)}else H=w,W=D;else H=b.config.tooltip.x.formatter(w),W=b.config.tooltip.x.formatter(D);return{start:w,end:D,startVal:H,endVal:W,ylabel:I,color:q,seriesName:M}},zt=function(B){var a=B.color,l=B.seriesName,d=B.ylabel,h=B.start,p=B.end,g=B.seriesIndex,m=B.dataPointIndex,b=B.ctx.tooltip.tooltipLabels.getFormatters(g);h=b.yLbFormatter(h),p=b.yLbFormatter(p);var w=b.yLbFormatter(B.w.globals.series[g][m]),D='<span class="value start-value">\n  '.concat(h,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(p,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+a+'">'+(l||"")+'</span></div><div> <span class="category">'+d+": </span> "+(B.w.globals.comboCharts?"rangeArea"===B.w.config.series[g].type||"rangeBar"===B.w.config.series[g].type?D:"<span>".concat(w,"</span>"):D)+" </div></div>"},us=function(){function B(a){Ue(this,B),this.opts=a}return ot(B,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(a){return this.hideYAxis(),he.extend(a,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),me(me({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var a=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return a._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var a=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return a._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(a,l){var d=l.seriesIndex,h=l.dataPointIndex,p=l.w,g=function(){return p.globals.seriesRangeEnd[d][h]-p.globals.seriesRangeStart[d][h]};return p.globals.comboCharts?"rangeBar"===p.config.series[d].type||"rangeArea"===p.config.series[d].type?g():a:g()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(a){return a.w.config.plotOptions&&a.w.config.plotOptions.bar&&a.w.config.plotOptions.bar.horizontal?(h=(d=ds(me(me({},l=a),{},{isTimeline:!0}))).color,p=d.seriesName,g=d.ylabel,m=d.startVal,b=d.endVal,zt(me(me({},l),{},{color:h,seriesName:p,ylabel:g,start:m,end:b}))):function(l){var d=ds(l),h=d.color,p=d.seriesName,g=d.ylabel,m=d.start,b=d.end;return zt(me(me({},l),{},{color:h,seriesName:p,ylabel:g,start:m,end:b}))}(a);var l,d,h,p,g,m,b}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(a){var l,d;return null!==(l=a.plotOptions.bar)&&void 0!==l&&l.barHeight||(a.plotOptions.bar.barHeight=2),null!==(d=a.plotOptions.bar)&&void 0!==d&&d.columnWidth||(a.plotOptions.bar.columnWidth=2),a}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(a){return h=(d=ds(l=a)).color,p=d.seriesName,g=d.ylabel,m=d.start,b=d.end,zt(me(me({},l),{},{color:h,seriesName:p,ylabel:g,start:m,end:b}));var l,d,h,p,g,m,b}}}}},{key:"brush",value:function(a){return he.extend(a,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(a){a.dataLabels=a.dataLabels||{},a.dataLabels.formatter=a.dataLabels.formatter||void 0;var l=a.dataLabels.formatter;return a.yaxis.forEach(function(d,h){a.yaxis[h].min=0,a.yaxis[h].max=100}),"bar"===a.chart.type&&(a.dataLabels.formatter=l||function(d){return"number"==typeof d&&d?d.toFixed(0)+"%":d}),a}},{key:"stackedBars",value:function(){var a=this.bar();return me(me({},a),{},{plotOptions:me(me({},a.plotOptions),{},{bar:me(me({},a.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(a){return a.xaxis.convertedCatToNumeric=!0,a}},{key:"convertCatToNumericXaxis",value:function(a,l,d){a.xaxis.type="numeric",a.xaxis.labels=a.xaxis.labels||{},a.xaxis.labels.formatter=a.xaxis.labels.formatter||function(g){return he.isNumber(g)?Math.floor(g):g};var h=a.xaxis.labels.formatter,p=a.xaxis.categories&&a.xaxis.categories.length?a.xaxis.categories:a.labels;return d&&d.length&&(p=d.map(function(g){return Array.isArray(g)?g:String(g)})),p&&p.length&&(a.xaxis.labels.formatter=function(g){return he.isNumber(g)?h(p[Math.floor(g)-1]):h(g)}),a.xaxis.categories=[],a.labels=[],a.xaxis.tickAmount=a.xaxis.tickAmount||"dataPoints",a}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(a){return a},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(a,l,d,h,p){var g=a.globals.seriesCandleO[l][d],m=a.globals.seriesCandleH[l][d],b=a.globals.seriesCandleM[l][d],w=a.globals.seriesCandleL[l][d],D=a.globals.seriesCandleC[l][d];return a.config.series[l].type&&a.config.series[l].type!==p?'<div class="apexcharts-custom-tooltip">\n          '.concat(a.config.series[l].name?a.config.series[l].name:"series-"+(l+1),": <strong>").concat(a.globals.series[l][d],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(a.config.chart.type,'">')+"<div>".concat(h[0],': <span class="value">')+g+"</span></div>"+"<div>".concat(h[1],': <span class="value">')+m+"</span></div>"+(b?"<div>".concat(h[2],': <span class="value">')+b+"</span></div>":"")+"<div>".concat(h[3],': <span class="value">')+w+"</span></div>"+"<div>".concat(h[4],': <span class="value">')+D+"</span></div></div>"}}]),B}(),Sr=function(){function B(a){Ue(this,B),this.opts=a}return ot(B,[{key:"init",value:function(a){var l=a.responsiveOverride,d=this.opts,h=new jn,p=new us(d);this.chartType=d.chart.type,d=this.extendYAxis(d),d=this.extendAnnotations(d);var g=h.init(),m={};if(d&&"object"===Mt(d)){var b,w,D,I,M,P,O,F,H,W,q={};q=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(d.chart.type)?p[d.chart.type]():p.line(),null!==(b=d.plotOptions)&&void 0!==b&&null!==(w=b.bar)&&void 0!==w&&w.isFunnel&&(q=p.funnel()),d.chart.stacked&&"bar"===d.chart.type&&(q=p.stackedBars()),null!==(D=d.chart.brush)&&void 0!==D&&D.enabled&&(q=p.brush(q)),d.chart.stacked&&"100%"===d.chart.stackType&&(d=p.stacked100(d)),null!==(I=d.plotOptions)&&void 0!==I&&null!==(M=I.bar)&&void 0!==M&&M.isDumbbell&&(d=p.dumbbell(d)),"monotoneCubic"===(null===(P=d)||void 0===P||null===(O=P.stroke)||void 0===O?void 0:O.curve)&&(d.stroke.curve="smooth"),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(d),d.xaxis=d.xaxis||window.Apex.xaxis||{},l||(d.xaxis.convertedCatToNumeric=!1),(null!==(F=(d=this.checkForCatToNumericXAxis(this.chartType,q,d)).chart.sparkline)&&void 0!==F&&F.enabled||null!==(H=window.Apex.chart)&&void 0!==H&&null!==(W=H.sparkline)&&void 0!==W&&W.enabled)&&(q=p.sparkline(q)),m=he.extend(g,q)}var x=he.extend(m,window.Apex);return g=he.extend(x,d),this.handleUserInputErrors(g)}},{key:"checkForCatToNumericXAxis",value:function(a,l,d){var h,p,g=new us(d);return("bar"===a||"boxPlot"===a)&&(null===(h=d.plotOptions)||void 0===h||null===(p=h.bar)||void 0===p?void 0:p.horizontal)||"pie"===a||"polarArea"===a||"donut"===a||"radar"===a||"radialBar"===a||"heatmap"===a||!("datetime"!==d.xaxis.type&&"numeric"!==d.xaxis.type)||"between"===(d.xaxis.tickPlacement?d.xaxis.tickPlacement:l.xaxis&&l.xaxis.tickPlacement)||(d=g.convertCatToNumeric(d)),d}},{key:"extendYAxis",value:function(a,l){var d=new jn;(void 0===a.yaxis||!a.yaxis||Array.isArray(a.yaxis)&&0===a.yaxis.length)&&(a.yaxis={}),a.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(a.yaxis=he.extend(a.yaxis,window.Apex.yaxis)),a.yaxis=a.yaxis.constructor!==Array?[he.extend(d.yAxis,a.yaxis)]:he.extendArray(a.yaxis,d.yAxis);var h=!1;a.yaxis.forEach(function(g){g.logarithmic&&(h=!0)});var p=a.series;return l&&!p&&(p=l.config.series),h&&p.length!==a.yaxis.length&&p.length&&(a.yaxis=p.map(function(g,m){if(g.name||(p[m].name="series-".concat(m+1)),a.yaxis[m])return a.yaxis[m].seriesName=p[m].name,a.yaxis[m];var b=he.extend(d.yAxis,a.yaxis[0]);return b.show=!1,b})),h&&p.length>1&&p.length!==a.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),a}},{key:"extendAnnotations",value:function(a){return void 0===a.annotations&&(a.annotations={},a.annotations.yaxis=[],a.annotations.xaxis=[],a.annotations.points=[]),a=this.extendYAxisAnnotations(a),a=this.extendXAxisAnnotations(a),this.extendPointAnnotations(a)}},{key:"extendYAxisAnnotations",value:function(a){var l=new jn;return a.annotations.yaxis=he.extendArray(void 0!==a.annotations.yaxis?a.annotations.yaxis:[],l.yAxisAnnotation),a}},{key:"extendXAxisAnnotations",value:function(a){var l=new jn;return a.annotations.xaxis=he.extendArray(void 0!==a.annotations.xaxis?a.annotations.xaxis:[],l.xAxisAnnotation),a}},{key:"extendPointAnnotations",value:function(a){var l=new jn;return a.annotations.points=he.extendArray(void 0!==a.annotations.points?a.annotations.points:[],l.pointAnnotation),a}},{key:"checkForDarkTheme",value:function(a){a.theme&&"dark"===a.theme.mode&&(a.tooltip||(a.tooltip={}),"light"!==a.tooltip.theme&&(a.tooltip.theme="dark"),a.chart.foreColor||(a.chart.foreColor="#f6f7f8"),a.chart.background||(a.chart.background="#424242"),a.theme.palette||(a.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(a){var l=a;if(l.tooltip.shared&&l.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===l.chart.type&&l.plotOptions.bar.horizontal){if(l.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");l.yaxis[0].reversed&&(l.yaxis[0].opposite=!0),l.xaxis.tooltip.enabled=!1,l.yaxis[0].tooltip.enabled=!1,l.chart.zoom.enabled=!1}return"bar"!==l.chart.type&&"rangeBar"!==l.chart.type||l.tooltip.shared&&"barWidth"===l.xaxis.crosshairs.width&&l.series.length>1&&(l.xaxis.crosshairs.width="tickWidth"),"candlestick"!==l.chart.type&&"boxPlot"!==l.chart.type||l.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(l.chart.type," chart is not supported.")),l.yaxis[0].reversed=!1),l}}]),B}(),Se=function(){function B(){Ue(this,B)}return ot(B,[{key:"initGlobalVars",value:function(a){a.series=[],a.seriesCandleO=[],a.seriesCandleH=[],a.seriesCandleM=[],a.seriesCandleL=[],a.seriesCandleC=[],a.seriesRangeStart=[],a.seriesRangeEnd=[],a.seriesRange=[],a.seriesPercent=[],a.seriesGoals=[],a.seriesX=[],a.seriesZ=[],a.seriesNames=[],a.seriesTotals=[],a.seriesLog=[],a.seriesColors=[],a.stackedSeriesTotals=[],a.seriesXvalues=[],a.seriesYvalues=[],a.labels=[],a.hasXaxisGroups=!1,a.groups=[],a.hasSeriesGroups=!1,a.seriesGroups=[],a.categoryLabels=[],a.timescaleLabels=[],a.noLabelsProvided=!1,a.resizeTimer=null,a.selectionResizeTimer=null,a.delayedElements=[],a.pointsArray=[],a.dataLabelsRects=[],a.isXNumeric=!1,a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1,a.isDataXYZ=!1,a.isMultiLineX=!1,a.isMultipleYAxis=!1,a.maxY=-Number.MAX_VALUE,a.minY=Number.MIN_VALUE,a.minYArr=[],a.maxYArr=[],a.maxX=-Number.MAX_VALUE,a.minX=Number.MAX_VALUE,a.initialMaxX=-Number.MAX_VALUE,a.initialMinX=Number.MAX_VALUE,a.maxDate=0,a.minDate=Number.MAX_VALUE,a.minZ=Number.MAX_VALUE,a.maxZ=-Number.MAX_VALUE,a.minXDiff=Number.MAX_VALUE,a.yAxisScale=[],a.xAxisScale=null,a.xAxisTicksPositions=[],a.yLabelsCoords=[],a.yTitleCoords=[],a.barPadForNumericAxis=0,a.padHorizontal=0,a.xRange=0,a.yRange=[],a.zRange=0,a.dataPoints=0,a.xTickAmount=0}},{key:"globalVars",value:function(a){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:a.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.zoom&&a.chart.zoom.enabled,panEnabled:"pan"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.pan,selectionEnabled:"selection"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(a){var l=this.globalVars(a);return this.initGlobalVars(l),l.initialConfig=he.extend({},a),l.initialSeries=he.clone(a.series),l.lastXAxis=he.clone(l.initialConfig.xaxis),l.lastYAxis=he.clone(l.initialConfig.yaxis),l}}]),B}(),Ne=function(){function B(a){Ue(this,B),this.opts=a}return ot(B,[{key:"init",value:function(){var a=new Sr(this.opts).init({responsiveOverride:!1});return{config:a,globals:(new Se).init(a)}}}]),B}(),_e=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.opts=null,this.seriesIndex=0}return ot(B,[{key:"clippedImgArea",value:function(a){var l=this.w,d=l.config,h=parseInt(l.globals.gridWidth,10),p=parseInt(l.globals.gridHeight,10),g=h>p?h:p,m=a.image,b=0,w=0;void 0===a.width&&void 0===a.height?void 0!==d.fill.image.width&&void 0!==d.fill.image.height?(b=d.fill.image.width+1,w=d.fill.image.height):(b=g+1,w=g):(b=a.width,w=a.height);var D=document.createElementNS(l.globals.SVGNS,"pattern");Le.setAttrs(D,{id:a.patternID,patternUnits:a.patternUnits?a.patternUnits:"userSpaceOnUse",width:b+"px",height:w+"px"});var I=document.createElementNS(l.globals.SVGNS,"image");D.appendChild(I),I.setAttributeNS(window.SVG.xlink,"href",m),Le.setAttrs(I,{x:0,y:0,preserveAspectRatio:"none",width:b+"px",height:w+"px"}),I.style.opacity=a.opacity,l.globals.dom.elDefs.node.appendChild(D)}},{key:"getSeriesIndex",value:function(a){var l=this.w,d=l.config.chart.type;return this.seriesIndex=("bar"===d||"rangeBar"===d)&&l.config.plotOptions.bar.distributed||"heatmap"===d||"treemap"===d?a.seriesNumber:a.seriesNumber%l.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(a){var l=this.w;this.opts=a;var d,h,p,g=this.w.config;this.seriesIndex=this.getSeriesIndex(a);var m=this.getFillColors()[this.seriesIndex];void 0!==l.globals.seriesColors[this.seriesIndex]&&(m=l.globals.seriesColors[this.seriesIndex]),"function"==typeof m&&(m=m({seriesIndex:this.seriesIndex,dataPointIndex:a.dataPointIndex,value:a.value,w:l}));var b=a.fillType?a.fillType:this.getFillType(this.seriesIndex),w=Array.isArray(g.fill.opacity)?g.fill.opacity[this.seriesIndex]:g.fill.opacity;a.color&&(m=a.color),m||(m="#fff",console.warn("undefined color - ApexCharts"));var D=m;if(-1===m.indexOf("rgb")?m.length<9&&(D=he.hexToRgba(m,w)):m.indexOf("rgba")>-1&&(w=he.getOpacityFromRGBA(m)),a.opacity&&(w=a.opacity),"pattern"===b&&(h=this.handlePatternFill({fillConfig:a.fillConfig,patternFill:h,fillColor:m,fillOpacity:w,defaultColor:D})),"gradient"===b&&(p=this.handleGradientFill({fillConfig:a.fillConfig,fillColor:m,fillOpacity:w,i:this.seriesIndex})),"image"===b){var I=g.fill.image.src,M=a.patternID?a.patternID:"";this.clippedImgArea({opacity:w,image:Array.isArray(I)?a.seriesNumber<I.length?I[a.seriesNumber]:I[0]:I,width:a.width?a.width:void 0,height:a.height?a.height:void 0,patternUnits:a.patternUnits,patternID:"pattern".concat(l.globals.cuid).concat(a.seriesNumber+1).concat(M)}),d="url(#pattern".concat(l.globals.cuid).concat(a.seriesNumber+1).concat(M,")")}else d="gradient"===b?p:"pattern"===b?h:D;return a.solid&&(d=D),d}},{key:"getFillType",value:function(a){var l=this.w;return Array.isArray(l.config.fill.type)?l.config.fill.type[a]:l.config.fill.type}},{key:"getFillColors",value:function(){var a=this.w,l=a.config,d=this.opts,h=[];return a.globals.comboCharts?"line"===a.config.series[this.seriesIndex].type?Array.isArray(a.globals.stroke.colors)?h=a.globals.stroke.colors:h.push(a.globals.stroke.colors):Array.isArray(a.globals.fill.colors)?h=a.globals.fill.colors:h.push(a.globals.fill.colors):"line"===l.chart.type?Array.isArray(a.globals.stroke.colors)?h=a.globals.stroke.colors:h.push(a.globals.stroke.colors):Array.isArray(a.globals.fill.colors)?h=a.globals.fill.colors:h.push(a.globals.fill.colors),void 0!==d.fillColors&&(h=[],Array.isArray(d.fillColors)?h=d.fillColors.slice():h.push(d.fillColors)),h}},{key:"handlePatternFill",value:function(a){var l=a.fillConfig,h=a.fillColor,p=a.fillOpacity,g=a.defaultColor,m=this.w.config.fill;l&&(m=l);var b=this.opts,w=new Le(this.ctx),D=Array.isArray(m.pattern.strokeWidth)?m.pattern.strokeWidth[this.seriesIndex]:m.pattern.strokeWidth,I=h;return Array.isArray(m.pattern.style)?void 0!==m.pattern.style[b.seriesNumber]?w.drawPattern(m.pattern.style[b.seriesNumber],m.pattern.width,m.pattern.height,I,D,p):g:w.drawPattern(m.pattern.style,m.pattern.width,m.pattern.height,I,D,p)}},{key:"handleGradientFill",value:function(a){var l=a.fillColor,d=a.fillOpacity,h=a.fillConfig,p=a.i,g=this.w.config.fill;h&&(g=me(me({},g),h));var m,b=this.opts,w=new Le(this.ctx),D=new he,I=g.gradient.type,M=l,P=void 0===g.gradient.opacityFrom?d:Array.isArray(g.gradient.opacityFrom)?g.gradient.opacityFrom[p]:g.gradient.opacityFrom;M.indexOf("rgba")>-1&&(P=he.getOpacityFromRGBA(M));var O=void 0===g.gradient.opacityTo?d:Array.isArray(g.gradient.opacityTo)?g.gradient.opacityTo[p]:g.gradient.opacityTo;if(void 0===g.gradient.gradientToColors||0===g.gradient.gradientToColors.length)m=D.shadeColor("dark"===g.gradient.shade?-1*parseFloat(g.gradient.shadeIntensity):parseFloat(g.gradient.shadeIntensity),l.indexOf("rgb")>-1?he.rgb2hex(l):l);else if(g.gradient.gradientToColors[b.seriesNumber]){var F=g.gradient.gradientToColors[b.seriesNumber];m=F,F.indexOf("rgba")>-1&&(O=he.getOpacityFromRGBA(F))}else m=l;if(g.gradient.gradientFrom&&(M=g.gradient.gradientFrom),g.gradient.gradientTo&&(m=g.gradient.gradientTo),g.gradient.inverseColors){var H=M;M=m,m=H}return M.indexOf("rgb")>-1&&(M=he.rgb2hex(M)),m.indexOf("rgb")>-1&&(m=he.rgb2hex(m)),w.drawGradient(I,M,m,P,O,b.size,g.gradient.stops,g.gradient.colorStops,p)}}]),B}(),ze=function(){function B(a,l){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"setGlobalMarkerSize",value:function(){var a=this.w;if(a.globals.markers.size=Array.isArray(a.config.markers.size)?a.config.markers.size:[a.config.markers.size],a.globals.markers.size.length>0){if(a.globals.markers.size.length<a.globals.series.length+1)for(var l=0;l<=a.globals.series.length;l++)void 0===a.globals.markers.size[l]&&a.globals.markers.size.push(a.globals.markers.size[0])}else a.globals.markers.size=a.config.series.map(function(d){return a.config.markers.size})}},{key:"plotChartMarkers",value:function(a,l,d,h){var p,g=arguments.length>4&&void 0!==arguments[4]&&arguments[4],m=this.w,b=l,w=a,D=null,I=new Le(this.ctx),M=m.config.markers.discrete&&m.config.markers.discrete.length;if((m.globals.markers.size[l]>0||g||M)&&(D=I.group({class:g||M?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(m.globals.cuid,")")),Array.isArray(w.x))for(var P=0;P<w.x.length;P++){var O=d;1===d&&0===P&&(O=0),1===d&&1===P&&(O=1);var F="apexcharts-marker";if("line"!==m.config.chart.type&&"area"!==m.config.chart.type||m.globals.comboCharts||m.config.tooltip.intersect||(F+=" no-pointer-events"),(Array.isArray(m.config.markers.size)?m.globals.markers.size[l]>0:m.config.markers.size>0)||g||M){he.isNumber(w.y[P])?F+=" w".concat(he.randomId()):F="apexcharts-nullpoint";var H=this.getMarkerConfig({cssClass:F,seriesIndex:l,dataPointIndex:O});m.config.series[b].data[O]&&(m.config.series[b].data[O].fillColor&&(H.pointFillColor=m.config.series[b].data[O].fillColor),m.config.series[b].data[O].strokeColor&&(H.pointStrokeColor=m.config.series[b].data[O].strokeColor)),h&&(H.pSize=h),(w.x[P]<0||w.x[P]>m.globals.gridWidth||w.y[P]<-m.globals.markers.largestSize||w.y[P]>m.globals.gridHeight+m.globals.markers.largestSize)&&(H.pSize=0),(p=I.drawMarker(w.x[P],w.y[P],H)).attr("rel",O),p.attr("j",O),p.attr("index",l),p.node.setAttribute("default-marker-size",H.pSize),new Tn(this.ctx).setSelectionFilter(p,l,O),this.addEvents(p),D&&D.add(p)}else void 0===m.globals.pointsArray[l]&&(m.globals.pointsArray[l]=[]),m.globals.pointsArray[l].push([w.x[P],w.y[P]])}return D}},{key:"getMarkerConfig",value:function(a){var l=a.cssClass,d=a.seriesIndex,h=a.dataPointIndex,p=void 0===h?null:h,g=a.finishRadius,m=void 0===g?null:g,b=this.w,w=this.getMarkerStyle(d),D=b.globals.markers.size[d],I=b.config.markers;return null!==p&&I.discrete.length&&I.discrete.map(function(M){M.seriesIndex===d&&M.dataPointIndex===p&&(w.pointStrokeColor=M.strokeColor,w.pointFillColor=M.fillColor,D=M.size,w.pointShape=M.shape)}),{pSize:null===m?D:m,pRadius:I.radius,width:Array.isArray(I.width)?I.width[d]:I.width,height:Array.isArray(I.height)?I.height[d]:I.height,pointStrokeWidth:Array.isArray(I.strokeWidth)?I.strokeWidth[d]:I.strokeWidth,pointStrokeColor:w.pointStrokeColor,pointFillColor:w.pointFillColor,shape:w.pointShape||(Array.isArray(I.shape)?I.shape[d]:I.shape),class:l,pointStrokeOpacity:Array.isArray(I.strokeOpacity)?I.strokeOpacity[d]:I.strokeOpacity,pointStrokeDashArray:Array.isArray(I.strokeDashArray)?I.strokeDashArray[d]:I.strokeDashArray,pointFillOpacity:Array.isArray(I.fillOpacity)?I.fillOpacity[d]:I.fillOpacity,seriesIndex:d}}},{key:"addEvents",value:function(a){var l=this.w,d=new Le(this.ctx);a.node.addEventListener("mouseenter",d.pathMouseEnter.bind(this.ctx,a)),a.node.addEventListener("mouseleave",d.pathMouseLeave.bind(this.ctx,a)),a.node.addEventListener("mousedown",d.pathMouseDown.bind(this.ctx,a)),a.node.addEventListener("click",l.config.markers.onClick),a.node.addEventListener("dblclick",l.config.markers.onDblClick),a.node.addEventListener("touchstart",d.pathMouseDown.bind(this.ctx,a),{passive:!0})}},{key:"getMarkerStyle",value:function(a){var l=this.w,d=l.globals.markers.colors,h=l.config.markers.strokeColor||l.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(h)?h[a]:h,pointFillColor:Array.isArray(d)?d[a]:d}}}]),B}(),Qe=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return ot(B,[{key:"draw",value:function(a,l,d){var h=this.w,p=new Le(this.ctx),g=d.realIndex,m=d.pointsPos,b=d.zRatio,w=d.elParent,D=p.group({class:"apexcharts-series-markers apexcharts-series-".concat(h.config.chart.type)});if(D.attr("clip-path","url(#gridRectMarkerMask".concat(h.globals.cuid,")")),Array.isArray(m.x))for(var I=0;I<m.x.length;I++){var M=l+1,P=!0;0===l&&0===I&&(M=0),0===l&&1===I&&(M=1);var O=0,F=h.globals.markers.size[g];if(b!==1/0){var H=h.config.plotOptions.bubble;F=h.globals.seriesZ[g][M],H.zScaling&&(F/=b),H.minBubbleRadius&&F<H.minBubbleRadius&&(F=H.minBubbleRadius),H.maxBubbleRadius&&F>H.maxBubbleRadius&&(F=H.maxBubbleRadius)}h.config.chart.animations.enabled||(O=F);var q=m.y[I];if(O=O||0,null!==q&&void 0!==h.globals.series[g][M]||(P=!1),P){var x=this.drawPoint(m.x[I],q,O,F,g,M,l);D.add(x)}w.add(D)}}},{key:"drawPoint",value:function(a,l,d,h,p,g,m){var b=this.w,w=p,D=new Ci(this.ctx),I=new Tn(this.ctx),M=new _e(this.ctx),P=new ze(this.ctx),O=new Le(this.ctx),F=P.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:w,dataPointIndex:g,finishRadius:"bubble"===b.config.chart.type||b.globals.comboCharts&&b.config.series[p]&&"bubble"===b.config.series[p].type?h:null});h=F.pSize;var H,W=M.fillPath({seriesNumber:p,dataPointIndex:g,color:F.pointFillColor,patternUnits:"objectBoundingBox",value:b.globals.series[p][m]});if("circle"===F.shape?H=O.drawCircle(d):"square"!==F.shape&&"rect"!==F.shape||(H=O.drawRect(0,0,F.width-F.pointStrokeWidth/2,F.height-F.pointStrokeWidth/2,F.pRadius)),b.config.series[w].data[g]&&b.config.series[w].data[g].fillColor&&(W=b.config.series[w].data[g].fillColor),H.attr({x:a-F.width/2-F.pointStrokeWidth/2,y:l-F.height/2-F.pointStrokeWidth/2,cx:a,cy:l,fill:W,"fill-opacity":F.pointFillOpacity,stroke:F.pointStrokeColor,r:h,"stroke-width":F.pointStrokeWidth,"stroke-dasharray":F.pointStrokeDashArray,"stroke-opacity":F.pointStrokeOpacity}),b.config.chart.dropShadow.enabled&&I.dropShadow(H,b.config.chart.dropShadow,p),!this.initialAnim||b.globals.dataChanged||b.globals.resized?b.globals.animationEnded=!0:D.animateMarker(H,0,"circle"===F.shape?h:{width:F.width,height:F.height},b.config.chart.animations.speed,b.globals.easing,function(){window.setTimeout(function(){D.animationCompleted(H)},100)}),b.globals.dataChanged&&"circle"===F.shape)if(this.dynamicAnim){var k,N,U,X,Y=b.config.chart.animations.dynamicAnimation.speed;null!=(X=b.globals.previousPaths[p]&&b.globals.previousPaths[p][m])&&(k=X.x,N=X.y,U=void 0!==X.r?X.r:h);for(var pe=0;pe<b.globals.collapsedSeries.length;pe++)b.globals.collapsedSeries[pe].index===p&&(Y=1,h=0);0===a&&0===l&&(h=0),D.animateCircle(H,{cx:k,cy:N,r:U},{cx:a,cy:l,r:h},Y,b.globals.easing)}else H.attr({r:h});return H.attr({rel:g,j:g,index:p,"default-marker-size":h}),I.setSelectionFilter(H,p,g),P.addEvents(H),H.node.classList.add("apexcharts-marker"),H}},{key:"centerTextInBubble",value:function(a){return{y:a+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),B}(),ke=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"dataLabelsCorrection",value:function(a,l,d,h,p,g,m){var b=this.w,w=!1,D=new Le(this.ctx).getTextRects(d,m),I=D.width,M=D.height;if(l<0&&(l=0),l>b.globals.gridHeight+M&&(l=b.globals.gridHeight+M/2),void 0===b.globals.dataLabelsRects[h]&&(b.globals.dataLabelsRects[h]=[]),b.globals.dataLabelsRects[h].push({x:a,y:l,width:I,height:M}),void 0!==b.globals.dataLabelsRects[h][b.globals.dataLabelsRects[h].length-2]){var F=b.globals.dataLabelsRects[h][void 0!==b.globals.lastDrawnDataLabelsIndexes[h]?b.globals.lastDrawnDataLabelsIndexes[h][b.globals.lastDrawnDataLabelsIndexes[h].length-1]:0];(a>F.x+F.width||l>F.y+F.height||l+M<F.y||a+I<F.x)&&(w=!0)}return(0===p||g)&&(w=!0),{x:a,y:l,textRects:D,drawnextLabel:w}}},{key:"drawDataLabel",value:function(a){var l=this,d=a.type,h=a.pos,p=a.i,g=a.j,m=a.isRangeStart,b=a.strokeWidth,w=void 0===b?2:b,D=this.w,I=new Le(this.ctx),M=D.config.dataLabels,P=0,O=0,F=g,H=null;if(!M.enabled||!Array.isArray(h.x))return H;H=I.group({class:"apexcharts-data-labels"});for(var W=0;W<h.x.length;W++)if(P=h.x[W]+M.offsetX,O=h.y[W]+M.offsetY+w,!isNaN(P)){1===g&&0===W&&(F=0),1===g&&1===W&&(F=1);var q=D.globals.series[p][F];"rangeArea"===d&&(q=m?D.globals.seriesRangeStart[p][F]:D.globals.seriesRangeEnd[p][F]);var x="",k=function(N){return D.config.dataLabels.formatter(N,{ctx:l.ctx,seriesIndex:p,dataPointIndex:F,w:D})};"bubble"===D.config.chart.type?(x=k(q=D.globals.seriesZ[p][F]),O=h.y[W],O=new Qe(this.ctx).centerTextInBubble(O,p,F).y):void 0!==q&&(x=k(q)),this.plotDataLabelsText({x:P,y:O,text:x,i:p,j:F,parent:H,offsetCorrection:!0,dataLabelsConfig:D.config.dataLabels})}return H}},{key:"plotDataLabelsText",value:function(a){var l=this.w,d=new Le(this.ctx),h=a.x,p=a.y,g=a.i,m=a.j,b=a.text,w=a.textAnchor,D=a.fontSize,I=a.parent,M=a.dataLabelsConfig,P=a.color,O=a.alwaysDrawDataLabel,F=a.offsetCorrection;if(!(Array.isArray(l.config.dataLabels.enabledOnSeries)&&l.config.dataLabels.enabledOnSeries.indexOf(g)<0)){var H={x:h,y:p,drawnextLabel:!0,textRects:null};F&&(H=this.dataLabelsCorrection(h,p,b,g,m,O,parseInt(M.style.fontSize,10))),l.globals.zoomed||(h=H.x,p=H.y),H.textRects&&(h<-10-H.textRects.width||h>l.globals.gridWidth+H.textRects.width+10)&&(b="");var W=l.globals.dataLabels.style.colors[g];(("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)&&l.config.plotOptions.bar.distributed||l.config.dataLabels.distributed)&&(W=l.globals.dataLabels.style.colors[m]),"function"==typeof W&&(W=W({series:l.globals.series,seriesIndex:g,dataPointIndex:m,w:l})),P&&(W=P);var q=M.offsetX,x=M.offsetY;if("bar"!==l.config.chart.type&&"rangeBar"!==l.config.chart.type||(q=0,x=0),H.drawnextLabel){var k=d.drawText({width:100,height:parseInt(M.style.fontSize,10),x:h+q,y:p+x,foreColor:W,textAnchor:w||M.textAnchor,text:b,fontSize:D||M.style.fontSize,fontFamily:M.style.fontFamily,fontWeight:M.style.fontWeight||"normal"});if(k.attr({class:"apexcharts-datalabel",cx:h,cy:p}),M.dropShadow.enabled){var N=M.dropShadow;new Tn(this.ctx).dropShadow(k,N)}I.add(k),void 0===l.globals.lastDrawnDataLabelsIndexes[g]&&(l.globals.lastDrawnDataLabelsIndexes[g]=[]),l.globals.lastDrawnDataLabelsIndexes[g].push(m)}}}},{key:"addBackgroundToDataLabel",value:function(a,l){var d=this.w,h=d.config.dataLabels.background,p=h.padding,g=h.padding/2,m=l.width,b=l.height,w=new Le(this.ctx).drawRect(l.x-p,l.y-g/2,m+2*p,b+g,h.borderRadius,"transparent"===d.config.chart.background?"#fff":d.config.chart.background,h.opacity,h.borderWidth,h.borderColor);return h.dropShadow.enabled&&new Tn(this.ctx).dropShadow(w,h.dropShadow),w}},{key:"dataLabelsBackground",value:function(){var a=this.w;if("bubble"!==a.config.chart.type)for(var l=a.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),d=0;d<l.length;d++){var h=l[d],p=h.getBBox(),g=null;if(p.width&&p.height&&(g=this.addBackgroundToDataLabel(h,p)),g){h.parentNode.insertBefore(g.node,h);var m=h.getAttribute("fill");!a.config.chart.animations.enabled||a.globals.resized||a.globals.dataChanged?g.attr({fill:m}):g.animate().attr({fill:m}),h.setAttribute("fill",a.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var a=this.w,l=a.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),d=a.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),h=0;h<l.length;h++)d&&d.insertBefore(l[h],d.nextSibling)}}]),B}(),lt=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.legendInactiveClass="legend-mouseover-inactive"}return ot(B,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(a){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(he.escapeString(a),"']"))}},{key:"isSeriesHidden",value:function(a){var l=this.getSeriesByName(a),d=parseInt(l.getAttribute("data:realIndex"),10);return{isHidden:l.classList.contains("apexcharts-series-collapsed"),realIndex:d}}},{key:"addCollapsedClassToSeries",value:function(a,l){var d=this.w;function h(p){for(var g=0;g<p.length;g++)p[g].index===l&&a.node.classList.add("apexcharts-series-collapsed")}h(d.globals.collapsedSeries),h(d.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(a){var l=this.isSeriesHidden(a);return this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,l.isHidden),l.isHidden}},{key:"showSeries",value:function(a){var l=this.isSeriesHidden(a);l.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!0)}},{key:"hideSeries",value:function(a){var l=this.isSeriesHidden(a);l.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!1)}},{key:"resetSeries",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],h=this.w,p=he.clone(h.globals.initialSeries);h.globals.previousPaths=[],d?(h.globals.collapsedSeries=[],h.globals.ancillaryCollapsedSeries=[],h.globals.collapsedSeriesIndices=[],h.globals.ancillaryCollapsedSeriesIndices=[]):p=this.emptyCollapsedSeries(p),h.config.series=p,a&&(l&&(h.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(p,h.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(a){for(var l=this.w,d=0;d<a.length;d++)l.globals.collapsedSeriesIndices.indexOf(d)>-1&&(a[d].data=[]);return a}},{key:"toggleSeriesOnHover",value:function(a,l){var d=this.w;l||(l=a.target);var h=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===a.type){var p=parseInt(l.getAttribute("rel"),10)-1,g=null,m=null;d.globals.axisCharts||"radialBar"===d.config.chart.type?d.globals.axisCharts?(g=d.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(p,"']")),m=d.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(p,"']"))):g=d.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"']")):g=d.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"'] path"));for(var b=0;b<h.length;b++)h[b].classList.add(this.legendInactiveClass);null!==g&&(d.globals.axisCharts||g.parentNode.classList.remove(this.legendInactiveClass),g.classList.remove(this.legendInactiveClass),null!==m&&m.classList.remove(this.legendInactiveClass))}else if("mouseout"===a.type)for(var w=0;w<h.length;w++)h[w].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(a,l){var d=this,h=this.w,p=h.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),g=function(b){for(var w=0;w<p.length;w++)p[w].classList[b](d.legendInactiveClass)};if("mousemove"===a.type){var m=parseInt(l.getAttribute("rel"),10)-1;g("add"),function(b){for(var w=0;w<p.length;w++){var D=parseInt(p[w].getAttribute("val"),10);D>=b.from&&D<=b.to&&p[w].classList.remove(d.legendInactiveClass)}}(h.config.plotOptions.heatmap.colorScale.ranges[m])}else"mouseout"===a.type&&g("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=this.w,h=0;if(d.config.series.length>1)for(var p=d.config.series.map(function(m,b){return m.data&&m.data.length>0&&-1===d.globals.collapsedSeriesIndices.indexOf(b)&&(!d.globals.comboCharts||0===l.length||l.length&&l.indexOf(d.config.series[b].type)>-1)?b:-1}),g="asc"===a?0:p.length-1;"asc"===a?g<p.length:g>=0;"asc"===a?g++:g--)if(-1!==p[g]){h=p[g];break}return h}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(a,l){return"bar"===a.type||"column"===a.type?l:-1}).filter(function(a){return-1!==a}):this.w.config.series.map(function(a,l){return l})}},{key:"getPreviousPaths",value:function(){var a=this.w;function l(g,m,b){for(var w=g[m].childNodes,D={type:b,paths:[],realIndex:g[m].getAttribute("data:realIndex")},I=0;I<w.length;I++)if(w[I].hasAttribute("pathTo")){var M=w[I].getAttribute("pathTo");D.paths.push({d:M})}a.globals.previousPaths.push(D)}a.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(g){for(var b=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(g,"-series .apexcharts-series")),w=0;w<b.length;w++)l(b,w,g)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var d=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a.config.chart.type," .apexcharts-series"));if(d.length>0)for(var h=function(g){for(var m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(g,"'] rect")),b=[],w=function(I){var M=function(O){return m[I].getAttribute(O)},P={x:parseFloat(M("x")),y:parseFloat(M("y")),width:parseFloat(M("width")),height:parseFloat(M("height"))};b.push({rect:P,color:m[I].getAttribute("color")})},D=0;D<m.length;D++)w(D);a.globals.previousPaths.push(b)},p=0;p<d.length;p++)h(p);a.globals.axisCharts||(a.globals.previousPaths=a.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(a){var l=this.w,d=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series"));if(d.length>0)for(var h=0;h<d.length;h++){for(var p=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series[data\\:realIndex='").concat(h,"'] circle")),g=[],m=0;m<p.length;m++)g.push({x:p[m].getAttribute("cx"),y:p[m].getAttribute("cy"),r:p[m].getAttribute("r")});l.globals.previousPaths.push(g)}}},{key:"clearPreviousPaths",value:function(){var a=this.w;a.globals.previousPaths=[],a.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var a=this.w,l=a.config.noData,d=new Le(this.ctx),h=a.globals.svgWidth/2,p=a.globals.svgHeight/2,g="middle";if(a.globals.noData=!0,a.globals.animationEnded=!0,"left"===l.align?(h=10,g="start"):"right"===l.align&&(h=a.globals.svgWidth-10,g="end"),"top"===l.verticalAlign?p=50:"bottom"===l.verticalAlign&&(p=a.globals.svgHeight-50),h+=l.offsetX,p=p+parseInt(l.style.fontSize,10)+2+l.offsetY,void 0!==l.text&&""!==l.text){var m=d.drawText({x:h,y:p,text:l.text,textAnchor:g,fontSize:l.style.fontSize,fontFamily:l.style.fontFamily,foreColor:l.style.color,opacity:1,class:"apexcharts-text-nodata"});a.globals.dom.Paper.add(m)}}},{key:"setNullSeriesToZeroValues",value:function(a){for(var l=this.w,d=0;d<a.length;d++)if(0===a[d].length)for(var h=0;h<a[l.globals.maxValsInArrayIndex].length;h++)a[d].push(0);return a}},{key:"hasAllSeriesEqualX",value:function(){for(var a=!0,l=this.w,d=this.filteredSeriesX(),h=0;h<d.length-1;h++)if(d[h][0]!==d[h+1][0]){a=!1;break}return l.globals.allSeriesHasEqualX=a,a}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(l){return l.length>0?l:[]})}}]),B}(),_n=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Vt(this.ctx)}return ot(B,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var a=this.w.config.series.slice(),l=new lt(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==a[this.activeSeriesIndex].data&&a[this.activeSeriesIndex].data.length>0&&null!==a[this.activeSeriesIndex].data[0]&&void 0!==a[this.activeSeriesIndex].data[0].x&&null!==a[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var a=this.w.config.series.slice(),l=new lt(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==a[this.activeSeriesIndex].data&&a[this.activeSeriesIndex].data.length>0&&null!=a[this.activeSeriesIndex].data[0]&&a[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(a,l){for(var d=this.w.config,h=this.w.globals,p="boxPlot"===d.chart.type||"boxPlot"===d.series[l].type,g=0;g<a[l].data.length;g++)if(void 0!==a[l].data[g][1]&&(Array.isArray(a[l].data[g][1])&&4===a[l].data[g][1].length&&!p?this.twoDSeries.push(he.parseNumber(a[l].data[g][1][3])):this.twoDSeries.push(he.parseNumber(a[l].data[g].length>=5?a[l].data[g][4]:a[l].data[g][1])),h.dataFormatXNumeric=!0),"datetime"===d.xaxis.type){var m=new Date(a[l].data[g][0]);m=new Date(m).getTime(),this.twoDSeriesX.push(m)}else this.twoDSeriesX.push(a[l].data[g][0]);for(var b=0;b<a[l].data.length;b++)void 0!==a[l].data[b][2]&&(this.threeDSeries.push(a[l].data[b][2]),h.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(a,l){var d=this.w.config,h=this.w.globals,p=new mn(this.ctx),g=l;h.collapsedSeriesIndices.indexOf(l)>-1&&(g=this.activeSeriesIndex);for(var m=0;m<a[l].data.length;m++)void 0!==a[l].data[m].y&&(Array.isArray(a[l].data[m].y)?this.twoDSeries.push(he.parseNumber(a[l].data[m].y[a[l].data[m].y.length-1])):this.twoDSeries.push(he.parseNumber(a[l].data[m].y))),void 0!==a[l].data[m].goals&&Array.isArray(a[l].data[m].goals)?(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(a[l].data[m].goals)):(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(null));for(var b=0;b<a[g].data.length;b++){var w="string"==typeof a[g].data[b].x,D=Array.isArray(a[g].data[b].x),I=!D&&!!p.isValidDate(a[g].data[b].x.toString());w||I?w||d.xaxis.convertedCatToNumeric?"datetime"!==d.xaxis.type||h.isBarHorizontal&&h.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(a[g].data[b].x),isNaN(a[g].data[b].x)||"category"===this.w.config.xaxis.type||"string"==typeof a[g].data[b].x||(h.isXNumeric=!0)):this.twoDSeriesX.push(p.parseDate(a[g].data[b].x)):"datetime"===d.xaxis.type?this.twoDSeriesX.push(p.parseDate(a[g].data[b].x.toString())):(h.dataFormatXNumeric=!0,h.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(a[g].data[b].x))):D?(this.fallbackToCategory=!0,this.twoDSeriesX.push(a[g].data[b].x)):(h.isXNumeric=!0,h.dataFormatXNumeric=!0,this.twoDSeriesX.push(a[g].data[b].x))}if(a[l].data[0]&&void 0!==a[l].data[0].z){for(var P=0;P<a[l].data.length;P++)this.threeDSeries.push(a[l].data[P].z);h.isDataXYZ=!0}}},{key:"handleRangeData",value:function(a,l){var d=this.w.globals,h={};return this.isFormat2DArray()?h=this.handleRangeDataFormat("array",a,l):this.isFormatXY()&&(h=this.handleRangeDataFormat("xy",a,l)),d.seriesRangeStart.push(h.start),d.seriesRangeEnd.push(h.end),d.seriesRange.push(h.rangeUniques),d.seriesRange.forEach(function(p,g){p&&p.forEach(function(m,b){m.y.forEach(function(w,D){for(var I=0;I<m.y.length;I++)D!==I&&w.y1<=m.y[I].y2&&m.y[I].y1<=w.y2&&(m.overlaps.indexOf(w.rangeName)<0&&m.overlaps.push(w.rangeName),m.overlaps.indexOf(m.y[I].rangeName)<0&&m.overlaps.push(m.y[I].rangeName))})})}),h}},{key:"handleCandleStickBoxData",value:function(a,l){var d=this.w.globals,h={};return this.isFormat2DArray()?h=this.handleCandleStickBoxDataFormat("array",a,l):this.isFormatXY()&&(h=this.handleCandleStickBoxDataFormat("xy",a,l)),d.seriesCandleO[l]=h.o,d.seriesCandleH[l]=h.h,d.seriesCandleM[l]=h.m,d.seriesCandleL[l]=h.l,d.seriesCandleC[l]=h.c,h}},{key:"handleRangeDataFormat",value:function(a,l,d){var h=[],p=[],g=l[d].data.filter(function(D,I,M){return I===M.findIndex(function(P){return P.x===D.x})}).map(function(D,I){return{x:D.x,overlaps:[],y:[]}});if("array"===a)for(var m=0;m<l[d].data.length;m++)Array.isArray(l[d].data[m])?(h.push(l[d].data[m][1][0]),p.push(l[d].data[m][1][1])):(h.push(l[d].data[m]),p.push(l[d].data[m]));else if("xy"===a)for(var b=function(D){var I=Array.isArray(l[d].data[D].y),M=he.randomId(),P=l[d].data[D].x,O={y1:I?l[d].data[D].y[0]:l[d].data[D].y,y2:I?l[d].data[D].y[1]:l[d].data[D].y,rangeName:M};l[d].data[D].rangeName=M;var F=g.findIndex(function(H){return H.x===P});g[F].y.push(O),h.push(O.y1),p.push(O.y2)},w=0;w<l[d].data.length;w++)b(w);return{start:h,end:p,rangeUniques:g}}},{key:"handleCandleStickBoxDataFormat",value:function(a,l,d){var h=this.w,p="boxPlot"===h.config.chart.type||"boxPlot"===h.config.series[d].type,g=[],m=[],b=[],w=[],D=[];if("array"===a)if(p&&6===l[d].data[0].length||!p&&5===l[d].data[0].length)for(var I=0;I<l[d].data.length;I++)g.push(l[d].data[I][1]),m.push(l[d].data[I][2]),p?(b.push(l[d].data[I][3]),w.push(l[d].data[I][4]),D.push(l[d].data[I][5])):(w.push(l[d].data[I][3]),D.push(l[d].data[I][4]));else for(var M=0;M<l[d].data.length;M++)Array.isArray(l[d].data[M][1])&&(g.push(l[d].data[M][1][0]),m.push(l[d].data[M][1][1]),p?(b.push(l[d].data[M][1][2]),w.push(l[d].data[M][1][3]),D.push(l[d].data[M][1][4])):(w.push(l[d].data[M][1][2]),D.push(l[d].data[M][1][3])));else if("xy"===a)for(var P=0;P<l[d].data.length;P++)Array.isArray(l[d].data[P].y)&&(g.push(l[d].data[P].y[0]),m.push(l[d].data[P].y[1]),p?(b.push(l[d].data[P].y[2]),w.push(l[d].data[P].y[3]),D.push(l[d].data[P].y[4])):(w.push(l[d].data[P].y[2]),D.push(l[d].data[P].y[3])));return{o:g,h:m,m:b,l:w,c:D}}},{key:"parseDataAxisCharts",value:function(a){var l,d=this,p=this.w.config,g=this.w.globals,m=new mn(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx),b=p.labels.length>0?p.labels.slice():p.xaxis.categories.slice();if(g.isRangeBar="rangeBar"===p.chart.type&&g.isBarHorizontal,g.hasXaxisGroups="category"===p.xaxis.type&&p.xaxis.group.groups.length>0,g.hasXaxisGroups&&(g.groups=p.xaxis.group.groups),g.hasSeriesGroups=null===(l=a[0])||void 0===l?void 0:l.group,g.hasSeriesGroups){var w=[],D=En(new Set(a.map(function(O){return O.group})));a.forEach(function(O,F){var H=D.indexOf(O.group);w[H]||(w[H]=[]),w[H].push(O.name)}),g.seriesGroups=w}for(var I=function(){for(var O=0;O<b.length;O++)if("string"==typeof b[O]){if(!m.isValidDate(b[O]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");d.twoDSeriesX.push(m.parseDate(b[O]))}else d.twoDSeriesX.push(b[O])},M=0;M<a.length;M++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===a[M].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==p.chart.type&&"rangeArea"!==p.chart.type&&"rangeBar"!==a[M].type&&"rangeArea"!==a[M].type||(g.isRangeData=!0,g.isComboCharts?"rangeBar"!==a[M].type&&"rangeArea"!==a[M].type||this.handleRangeData(a,M):"rangeBar"!==p.chart.type&&"rangeArea"!==p.chart.type||this.handleRangeData(a,M)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(a,M):this.isFormatXY()&&this.handleFormatXY(a,M),"candlestick"!==p.chart.type&&"candlestick"!==a[M].type&&"boxPlot"!==p.chart.type&&"boxPlot"!==a[M].type||this.handleCandleStickBoxData(a,M),g.series.push(this.twoDSeries),g.labels.push(this.twoDSeriesX),g.seriesX.push(this.twoDSeriesX),g.seriesGoals=this.seriesGoals,M!==this.activeSeriesIndex||this.fallbackToCategory||(g.isXNumeric=!0);else{"datetime"===p.xaxis.type?(g.isXNumeric=!0,I(),g.seriesX.push(this.twoDSeriesX)):"numeric"===p.xaxis.type&&(g.isXNumeric=!0,b.length>0&&(this.twoDSeriesX=b,g.seriesX.push(this.twoDSeriesX))),g.labels.push(this.twoDSeriesX);var P=a[M].data.map(function(O){return he.parseNumber(O)});g.series.push(P)}g.seriesZ.push(this.threeDSeries),g.seriesNames.push(void 0!==a[M].name?a[M].name:"series-"+parseInt(M+1,10)),g.seriesColors.push(void 0!==a[M].color?a[M].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(a){var l=this.w.globals,d=this.w.config;l.series=a.slice(),l.seriesNames=d.labels.slice();for(var h=0;h<l.series.length;h++)void 0===l.seriesNames[h]&&l.seriesNames.push("series-"+(h+1));return this.w}},{key:"handleExternalLabelsData",value:function(a){var l=this.w.config,d=this.w.globals;l.xaxis.categories.length>0?d.labels=l.xaxis.categories:l.labels.length>0?d.labels=l.labels.slice():this.fallbackToCategory?(d.labels=d.labels[0],d.seriesRange.length&&(d.seriesRange.map(function(h){h.forEach(function(p){d.labels.indexOf(p.x)<0&&p.x&&d.labels.push(p.x)})}),d.labels=Array.from(new Set(d.labels.map(JSON.stringify)),JSON.parse)),l.xaxis.convertedCatToNumeric&&(new us(l).convertCatToNumericXaxis(l,this.ctx,d.seriesX[0]),this._generateExternalLabels(a))):this._generateExternalLabels(a)}},{key:"_generateExternalLabels",value:function(a){var l=this.w.globals,d=this.w.config,h=[];if(l.axisCharts){if(l.series.length>0)if(this.isFormatXY())for(var p=d.series.map(function(I,M){return I.data.filter(function(P,O,F){return F.findIndex(function(H){return H.x===P.x})===O})}),g=p.reduce(function(I,M,P,O){return O[I].length>M.length?I:P},0),m=0;m<p[g].length;m++)h.push(m+1);else for(var b=0;b<l.series[l.maxValsInArrayIndex].length;b++)h.push(b+1);l.seriesX=[];for(var w=0;w<a.length;w++)l.seriesX.push(h);this.w.globals.isBarHorizontal||(l.isXNumeric=!0)}if(0===h.length){h=l.axisCharts?[]:l.series.map(function(I,M){return M+1});for(var D=0;D<a.length;D++)l.seriesX.push(h)}l.labels=h,d.xaxis.convertedCatToNumeric&&(l.categoryLabels=h.map(function(I){return d.xaxis.labels.formatter(I)})),l.noLabelsProvided=!0}},{key:"parseData",value:function(a){var l=this.w,d=l.config,h=l.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),h.axisCharts?(this.parseDataAxisCharts(a),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(a),d.chart.stacked){var p=new lt(this.ctx);h.series=p.setNullSeriesToZeroValues(h.series)}this.coreUtils.getSeriesTotals(),h.axisCharts&&(h.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),h.dataFormatXNumeric||h.isXNumeric&&("numeric"!==d.xaxis.type||0!==d.labels.length||0!==d.xaxis.categories.length)||this.handleExternalLabelsData(a);for(var g=this.coreUtils.getCategoryLabels(h.labels),m=0;m<g.length;m++)if(Array.isArray(g[m])){h.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var a=this,l=this.w;l.globals.ignoreYAxisIndexes=l.globals.collapsedSeries.map(function(d,h){if(a.w.globals.isMultipleYAxis&&!l.config.chart.stacked)return d.index})}}]),B}(),Je=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"getLabel",value:function(a,l,d,h){var H,W,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",m=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],b=this.w,w=void 0===a[h]?"":a[h],D=w,I=b.globals.xLabelFormatter,M=b.config.xaxis.labels.formatter,P=!1,O=new $r(this.ctx);m&&(D=O.xLabelFormat(I,w,w,{i:h,dateFormatter:new mn(this.ctx).formatDate,w:b}),void 0!==M&&(D=M(w,a[h],{i:h,dateFormatter:new mn(this.ctx).formatDate,w:b}))),l.length>0?(H=l[h].unit,W=null,l.forEach(function(N){"month"===N.unit?W="year":"day"===N.unit?W="month":"hour"===N.unit?W="day":"minute"===N.unit&&(W="hour")}),P=W===H,d=l[h].position,D=l[h].value):"datetime"===b.config.xaxis.type&&void 0===M&&(D=""),void 0===D&&(D=""),D=Array.isArray(D)?D:D.toString();var x,q=new Le(this.ctx);x=b.globals.rotateXLabels&&m?q.getTextRects(D,parseInt(g,10),null,"rotate(".concat(b.config.xaxis.labels.rotate," 0 0)"),!1):q.getTextRects(D,parseInt(g,10));var k=!b.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(D)&&(0===D.indexOf("NaN")||0===D.toLowerCase().indexOf("invalid")||D.toLowerCase().indexOf("infinity")>=0||p.indexOf(D)>=0&&k)&&(D=""),{x:d,text:D,textRect:x,isBold:P}}},{key:"checkLabelBasedOnTickamount",value:function(a,l,d){var h=this.w,p=h.config.xaxis.tickAmount;return"dataPoints"===p&&(p=Math.round(h.globals.gridWidth/120)),p>d||a%Math.round(d/(p+1))==0||(l.text=""),l}},{key:"checkForOverflowingLabels",value:function(a,l,d,h,p){var g=this.w;if(0===a&&g.globals.skipFirstTimelinelabel&&(l.text=""),a===d-1&&g.globals.skipLastTimelinelabel&&(l.text=""),g.config.xaxis.labels.hideOverlappingLabels&&h.length>0){var m=p[p.length-1];l.x<m.textRect.width/(g.globals.rotateXLabels?Math.abs(g.config.xaxis.labels.rotate)/12:1.01)+m.x&&(l.text="")}return l}},{key:"checkForReversedLabels",value:function(a,l){var d=this.w;return d.config.yaxis[a]&&d.config.yaxis[a].reversed&&l.reverse(),l}},{key:"isYAxisHidden",value:function(a){var l=this.w,d=new Vt(this.ctx);return!l.config.yaxis[a].show||!l.config.yaxis[a].showForNullSeries&&d.isSeriesNull(a)&&-1===l.globals.collapsedSeriesIndices.indexOf(a)}},{key:"getYAxisForeColor",value:function(a,l){var d=this.w;return Array.isArray(a)&&d.globals.yAxisScale[l]&&this.ctx.theme.pushExtraColors(a,d.globals.yAxisScale[l].result.length,!1),a}},{key:"drawYAxisTicks",value:function(a,l,d,h,p,g,m){var b=this.w,w=new Le(this.ctx),D=b.globals.translateY;if(h.show&&l>0){!0===b.config.yaxis[p].opposite&&(a+=h.width);for(var I=l;I>=0;I--){var M=D+l/10+b.config.yaxis[p].labels.offsetY-1;b.globals.isBarHorizontal&&(M=g*I),"heatmap"===b.config.chart.type&&(M+=g/2);var P=w.drawLine(a+d.offsetX-h.width+h.offsetX,M+h.offsetY,a+d.offsetX+h.offsetX,M+h.offsetY,h.color);m.add(P),D+=g}}}}]),B}(),At=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"scaleSvgNode",value:function(a,l){var d=parseFloat(a.getAttributeNS(null,"width")),h=parseFloat(a.getAttributeNS(null,"height"));a.setAttributeNS(null,"width",d*l),a.setAttributeNS(null,"height",h*l),a.setAttributeNS(null,"viewBox","0 0 "+d+" "+h)}},{key:"fixSvgStringForIe11",value:function(a){if(!he.isIE11())return a.replace(/&nbsp;/g,"&#160;");var l=0,d=a.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(h){return 2==++l?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':h});return(d=d.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(a){null==a&&(a=1);var l=this.w.globals.dom.Paper.svg();if(1!==a){var d=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(d,a),l=(new XMLSerializer).serializeToString(d)}return this.fixSvgStringForIe11(l)}},{key:"cleanup",value:function(){var a=this.w,l=a.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),d=a.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),h=a.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(h,function(p){p.setAttribute("width",0)}),l&&l[0]&&(l[0].setAttribute("x",-500),l[0].setAttribute("x1",-500),l[0].setAttribute("x2",-500)),d&&d[0]&&(d[0].setAttribute("y",-100),d[0].setAttribute("y1",-100),d[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var a=this.getSvgString(),l=new Blob([a],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(l)}},{key:"dataURI",value:function(a){var l=this;return new Promise(function(d){var h=l.w,p=a?a.scale||a.width/h.globals.svgWidth:1;l.cleanup();var g=document.createElement("canvas");g.width=h.globals.svgWidth*p,g.height=parseInt(h.globals.dom.elWrap.style.height,10)*p;var m="transparent"===h.config.chart.background?"#fff":h.config.chart.background,b=g.getContext("2d");b.fillStyle=m,b.fillRect(0,0,g.width*p,g.height*p);var w=l.getSvgString(p);if(window.canvg&&he.isIE11()){var D=window.canvg.Canvg.fromString(b,w,{ignoreClear:!0,ignoreDimensions:!0});D.start();var I=g.msToBlob();D.stop(),d({blob:I})}else{var M="data:image/svg+xml,"+encodeURIComponent(w),P=new Image;P.crossOrigin="anonymous",P.onload=function(){if(b.drawImage(P,0,0),g.msToBlob){var O=g.msToBlob();d({blob:O})}else{var F=g.toDataURL("image/png");d({imgURI:F})}},P.src=M}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var a=this;this.dataURI().then(function(l){var d=l.imgURI,h=l.blob;h?navigator.msSaveOrOpenBlob(h,a.w.globals.chartID+".png"):a.triggerDownload(d,a.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(a){var l=this,d=a.series,h=a.fileName,p=a.columnDelimiter,g=void 0===p?",":p,m=a.lineDelimiter,b=void 0===m?"\n":m,w=this.w;d||(d=w.config.series);var D=[],I=[],M="",P=w.globals.series.map(function(x,k){return-1===w.globals.collapsedSeriesIndices.indexOf(k)?x:[]}),O=Math.max.apply(Math,En(d.map(function(x){return x.data?x.data.length:0}))),F=new _n(this.ctx),H=new Je(this.ctx),W=function(x){var k="";if(w.globals.axisCharts){if("category"===w.config.xaxis.type||w.config.xaxis.convertedCatToNumeric)if(w.globals.isBarHorizontal){var N=w.globals.yLabelFormatters[0],U=new lt(l.ctx).getActiveConfigSeriesIndex();k=N(w.globals.labels[x],{seriesIndex:U,dataPointIndex:x,w})}else k=H.getLabel(w.globals.labels,w.globals.timescaleLabels,0,x).text;"datetime"===w.config.xaxis.type&&(w.config.xaxis.categories.length?k=w.config.xaxis.categories[x]:w.config.labels.length&&(k=w.config.labels[x]))}else k=w.config.labels[x];return Array.isArray(k)&&(k=k.join(" ")),he.isNumber(k)?k:k.split(g).join("")};D.push(w.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===w.config.chart.type?(D.push("minimum"),D.push("q1"),D.push("median"),D.push("q3"),D.push("maximum")):"candlestick"===w.config.chart.type?(D.push("open"),D.push("high"),D.push("low"),D.push("close")):"rangeBar"===w.config.chart.type?(D.push("minimum"),D.push("maximum")):d.map(function(x,k){var N=(x.name?x.name:"series-".concat(k))+"";w.globals.axisCharts&&D.push(N.split(g).join("")?N.split(g).join(""):"series-".concat(k))}),w.globals.axisCharts||(D.push(w.config.chart.toolbar.export.csv.headerValue),I.push(D.join(g))),d.map(function(x,k){w.globals.axisCharts?function(x,k){if(D.length&&0===k&&I.push(D.join(g)),x.data){x.data=x.data.length&&x.data||En(Array(O)).map(function(){return""});for(var N=0;N<x.data.length;N++){D=[];var U=W(N);if(U||(F.isFormatXY()?U=d[k].data[N].x:F.isFormat2DArray()&&(U=d[k].data[N]?d[k].data[N][0]:"")),0===k){D.push("datetime"===w.config.xaxis.type&&String(U).length>=10?w.config.chart.toolbar.export.csv.dateFormatter(U):he.isNumber(U)?U:U.split(g).join(""));for(var X=0;X<w.globals.series.length;X++){var Y;F.isFormatXY()?D.push(null===(Y=d[X].data[N])||void 0===Y?void 0:Y.y):D.push(P[X][N])}}("candlestick"===w.config.chart.type||x.type&&"candlestick"===x.type)&&(D.pop(),D.push(w.globals.seriesCandleO[k][N]),D.push(w.globals.seriesCandleH[k][N]),D.push(w.globals.seriesCandleL[k][N]),D.push(w.globals.seriesCandleC[k][N])),("boxPlot"===w.config.chart.type||x.type&&"boxPlot"===x.type)&&(D.pop(),D.push(w.globals.seriesCandleO[k][N]),D.push(w.globals.seriesCandleH[k][N]),D.push(w.globals.seriesCandleM[k][N]),D.push(w.globals.seriesCandleL[k][N]),D.push(w.globals.seriesCandleC[k][N])),"rangeBar"===w.config.chart.type&&(D.pop(),D.push(w.globals.seriesRangeStart[k][N]),D.push(w.globals.seriesRangeEnd[k][N])),D.length&&I.push(D.join(g))}}}(x,k):((D=[]).push(w.globals.labels[k].split(g).join("")),D.push(P[k]),I.push(D.join(g)))}),M+=I.join(b),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+M),h||w.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(a,l,d){var h=document.createElement("a");h.href=a,h.download=(l||this.w.globals.chartID)+d,document.body.appendChild(h),h.click(),document.body.removeChild(h)}}]),B}(),vn=function(){function B(a,l){Ue(this,B),this.ctx=a,this.elgrid=l,this.w=a.w;var d=this.w;this.axesUtils=new Je(a),this.xaxisLabels=d.globals.labels.slice(),d.globals.timescaleLabels.length>0&&!d.globals.isBarHorizontal&&(this.xaxisLabels=d.globals.timescaleLabels.slice()),d.config.xaxis.overwriteCategories&&(this.xaxisLabels=d.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===d.config.xaxis.position?0:d.globals.gridHeight+1,this.offY=this.offY+d.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===d.config.chart.type&&d.config.plotOptions.bar.horizontal,this.xaxisFontSize=d.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=d.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=d.config.xaxis.labels.style.colors,this.xaxisBorderWidth=d.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=d.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?d.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=d.config.xaxis.axisBorder.height,this.yaxis=d.config.yaxis[0]}return ot(B,[{key:"drawXaxis",value:function(){var a=this.w,l=new Le(this.ctx),d=l.group({class:"apexcharts-xaxis",transform:"translate(".concat(a.config.xaxis.offsetX,", ").concat(a.config.xaxis.offsetY,")")}),h=l.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(a.globals.translateXAxisX,", ").concat(a.globals.translateXAxisY,")")});d.add(h);for(var p=[],g=0;g<this.xaxisLabels.length;g++)p.push(this.xaxisLabels[g]);if(this.drawXAxisLabelAndGroup(!0,l,h,p,a.globals.isXNumeric,function(O,F){return F}),a.globals.hasXaxisGroups){var m=a.globals.groups;p=[];for(var b=0;b<m.length;b++)p.push(m[b].title);var w={};a.config.xaxis.group.style&&(w.xaxisFontSize=a.config.xaxis.group.style.fontSize,w.xaxisFontFamily=a.config.xaxis.group.style.fontFamily,w.xaxisForeColors=a.config.xaxis.group.style.colors,w.fontWeight=a.config.xaxis.group.style.fontWeight,w.cssClass=a.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,l,h,p,!1,function(O,F){return m[O].cols*F},w)}if(void 0!==a.config.xaxis.title.text){var D=l.group({class:"apexcharts-xaxis-title"}),I=l.drawText({x:a.globals.gridWidth/2+a.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===a.config.xaxis.position?a.globals.xAxisLabelsHeight:-a.globals.xAxisLabelsHeight-10)+a.config.xaxis.title.offsetY,text:a.config.xaxis.title.text,textAnchor:"middle",fontSize:a.config.xaxis.title.style.fontSize,fontFamily:a.config.xaxis.title.style.fontFamily,fontWeight:a.config.xaxis.title.style.fontWeight,foreColor:a.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+a.config.xaxis.title.style.cssClass});D.add(I),d.add(D)}if(a.config.xaxis.axisBorder.show){var M=a.globals.barPadForNumericAxis,P=l.drawLine(a.globals.padHorizontal+a.config.xaxis.axisBorder.offsetX-M,this.offY,this.xaxisBorderWidth+M,this.offY,a.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&a.config.grid.show?this.elgrid.elGridBorders.add(P):d.add(P)}return d}},{key:"drawXAxisLabelAndGroup",value:function(a,l,d,h,p,g){var m,b=this,w=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},D=[],I=[],M=this.w,P=w.xaxisFontSize||this.xaxisFontSize,O=w.xaxisFontFamily||this.xaxisFontFamily,F=w.xaxisForeColors||this.xaxisForeColors,H=w.fontWeight||M.config.xaxis.labels.style.fontWeight,W=w.cssClass||M.config.xaxis.labels.style.cssClass,q=M.globals.padHorizontal,x=h.length,k="category"===M.config.xaxis.type?M.globals.dataPoints:x;0===k&&x>k&&(k=x),p?(m=M.globals.gridWidth/Math.min(k>1?k-1:k,x-1),q=q+g(0,m)/2+M.config.xaxis.labels.offsetX):q=q+g(0,m=M.globals.gridWidth/k)+M.config.xaxis.labels.offsetX;for(var U=function(Y){var pe=q-g(Y,m)/2+M.config.xaxis.labels.offsetX;0===Y&&1===x&&m/2===q&&1===k&&(pe=M.globals.gridWidth/2);var ge=b.axesUtils.getLabel(h,M.globals.timescaleLabels,pe,Y,D,P,a),Me=28;if(M.globals.rotateXLabels&&a&&(Me=22),M.config.xaxis.title.text&&"top"===M.config.xaxis.position&&(Me+=parseFloat(M.config.xaxis.title.style.fontSize)+2),a||(Me=Me+parseFloat(P)+(M.globals.xAxisLabelsHeight-M.globals.xAxisGroupLabelsHeight)+(M.globals.rotateXLabels?10:0)),ge=void 0!==M.config.xaxis.tickAmount&&"dataPoints"!==M.config.xaxis.tickAmount&&"datetime"!==M.config.xaxis.type?b.axesUtils.checkLabelBasedOnTickamount(Y,ge,x):b.axesUtils.checkForOverflowingLabels(Y,ge,x,D,I),M.config.xaxis.labels.show){var re=l.drawText({x:ge.x,y:b.offY+M.config.xaxis.labels.offsetY+Me-("top"===M.config.xaxis.position?M.globals.xAxisHeight+M.config.xaxis.axisTicks.height-2:0),text:ge.text,textAnchor:"middle",fontWeight:ge.isBold?600:H,fontSize:P,fontFamily:O,foreColor:Array.isArray(F)?a&&M.config.xaxis.convertedCatToNumeric?F[M.globals.minX+Y-1]:F[Y]:F,isPlainText:!1,cssClass:(a?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+W});if(d.add(re),re.on("click",function(Ae){if("function"==typeof M.config.chart.events.xAxisLabelClick){var mt=Object.assign({},M,{labelIndex:Y});M.config.chart.events.xAxisLabelClick(Ae,b.ctx,mt)}}),a){var He=document.createElementNS(M.globals.SVGNS,"title");He.textContent=Array.isArray(ge.text)?ge.text.join(" "):ge.text,re.node.appendChild(He),""!==ge.text&&(D.push(ge.text),I.push(ge))}}Y<x-1&&(q+=g(Y+1,m))},X=0;X<=x-1;X++)U(X)}},{key:"drawXaxisInversed",value:function(a){var l,d,h=this,p=this.w,g=new Le(this.ctx),m=p.config.yaxis[0].opposite?p.globals.translateYAxisX[a]:0,b=g.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:a}),w=g.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+m+", 0)"});b.add(w);var D=[];if(p.config.yaxis[a].show)for(var I=0;I<this.xaxisLabels.length;I++)D.push(this.xaxisLabels[I]);d=-(l=p.globals.gridHeight/D.length)/2.2;var M=p.globals.yLabelFormatters[0],P=p.config.yaxis[0].labels;if(P.show)for(var O=function(N){var U=void 0===D[N]?"":D[N];U=M(U,{seriesIndex:a,dataPointIndex:N,w:p});var X=h.axesUtils.getYAxisForeColor(P.style.colors,a),Y=0;Array.isArray(U)&&(Y=U.length/2*parseInt(P.style.fontSize,10));var pe=P.offsetX-15,ge="end";h.yaxis.opposite&&(ge="start"),"left"===p.config.yaxis[0].labels.align?(pe=P.offsetX,ge="start"):"center"===p.config.yaxis[0].labels.align?(pe=P.offsetX,ge="middle"):"right"===p.config.yaxis[0].labels.align&&(ge="end");var Me=g.drawText({x:pe,y:d+l+P.offsetY-Y,text:U,textAnchor:ge,foreColor:Array.isArray(X)?X[N]:X,fontSize:P.style.fontSize,fontFamily:P.style.fontFamily,fontWeight:P.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+P.style.cssClass,maxWidth:P.maxWidth});w.add(Me),Me.on("click",function(Ae){if("function"==typeof p.config.chart.events.xAxisLabelClick){var mt=Object.assign({},p,{labelIndex:N});p.config.chart.events.xAxisLabelClick(Ae,h.ctx,mt)}});var re=document.createElementNS(p.globals.SVGNS,"title");if(re.textContent=Array.isArray(U)?U.join(" "):U,Me.node.appendChild(re),0!==p.config.yaxis[a].labels.rotate){var He=g.rotateAroundCenter(Me.node);Me.node.setAttribute("transform","rotate(".concat(p.config.yaxis[a].labels.rotate," 0 ").concat(He.y,")"))}d+=l},F=0;F<=D.length-1;F++)O(F);if(void 0!==p.config.yaxis[0].title.text){var H=g.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+m+", 0)"}),W=g.drawText({x:p.config.yaxis[0].title.offsetX,y:p.globals.gridHeight/2+p.config.yaxis[0].title.offsetY,text:p.config.yaxis[0].title.text,textAnchor:"middle",foreColor:p.config.yaxis[0].title.style.color,fontSize:p.config.yaxis[0].title.style.fontSize,fontWeight:p.config.yaxis[0].title.style.fontWeight,fontFamily:p.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+p.config.yaxis[0].title.style.cssClass});H.add(W),b.add(H)}var q=0;this.isCategoryBarHorizontal&&p.config.yaxis[0].opposite&&(q=p.globals.gridWidth);var x=p.config.xaxis.axisBorder;if(x.show){var k=g.drawLine(p.globals.padHorizontal+x.offsetX+q,1+x.offsetY,p.globals.padHorizontal+x.offsetX+q,p.globals.gridHeight+x.offsetY,x.color,0);this.elgrid&&this.elgrid.elGridBorders&&p.config.grid.show?this.elgrid.elGridBorders.add(k):b.add(k)}return p.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(q,D.length,p.config.yaxis[0].axisBorder,p.config.yaxis[0].axisTicks,0,l,b),b}},{key:"drawXaxisTicks",value:function(a,l,d){var h=this.w,p=a;if(!(a<0||a-2>h.globals.gridWidth)){var g=this.offY+h.config.xaxis.axisTicks.offsetY;if(l=l+g+h.config.xaxis.axisTicks.height,"top"===h.config.xaxis.position&&(l=g-h.config.xaxis.axisTicks.height),h.config.xaxis.axisTicks.show){var m=new Le(this.ctx).drawLine(a+h.config.xaxis.axisTicks.offsetX,g+h.config.xaxis.offsetY,p+h.config.xaxis.axisTicks.offsetX,l+h.config.xaxis.offsetY,h.config.xaxis.axisTicks.color);d.add(m),m.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var a=this.w,l=[],d=this.xaxisLabels.length,h=a.globals.padHorizontal;if(a.globals.timescaleLabels.length>0)for(var p=0;p<d;p++)l.push(h=this.xaxisLabels[p].position);else for(var g=d,m=0;m<g;m++){var b=g;a.globals.isXNumeric&&"bar"!==a.config.chart.type&&(b-=1),l.push(h+=a.globals.gridWidth/b)}return l}},{key:"xAxisLabelCorrections",value:function(){var a=this.w,l=new Le(this.ctx),d=a.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),h=a.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),p=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),g=a.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(a.globals.rotateXLabels||a.config.xaxis.labels.rotateAlways)for(var m=0;m<h.length;m++){var b=l.rotateAroundCenter(h[m]);b.y=b.y-1,b.x=b.x+1,h[m].setAttribute("transform","rotate(".concat(a.config.xaxis.labels.rotate," ").concat(b.x," ").concat(b.y,")")),h[m].setAttribute("text-anchor","end"),d.setAttribute("transform","translate(0, ".concat(-10,")")),a.config.xaxis.labels.trim&&Array.prototype.forEach.call(h[m].childNodes,function(P){l.placeTextWithEllipsis(P,P.textContent,a.globals.xAxisLabelsHeight-("bottom"===a.config.legend.position?20:10))})}else!function(){for(var P=a.globals.gridWidth/(a.globals.labels.length+1),O=0;O<h.length;O++)a.config.xaxis.labels.trim&&"datetime"!==a.config.xaxis.type&&Array.prototype.forEach.call(h[O].childNodes,function(H){l.placeTextWithEllipsis(H,H.textContent,P)})}();if(p.length>0){var D=p[p.length-1].getBBox(),I=p[0].getBBox();D.x<-20&&p[p.length-1].parentNode.removeChild(p[p.length-1]),I.x+I.width>a.globals.gridWidth&&!a.globals.isBarHorizontal&&p[0].parentNode.removeChild(p[0]);for(var M=0;M<g.length;M++)l.placeTextWithEllipsis(g[M],g[M].textContent,a.config.yaxis[0].labels.maxWidth-(a.config.yaxis[0].title.text?2*parseFloat(a.config.yaxis[0].title.style.fontSize):0)-15)}}}]),B}(),vi=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w;var l=this.w;this.xaxisLabels=l.globals.labels.slice(),this.axesUtils=new Je(a),this.isRangeBar=l.globals.seriesRange.length&&l.globals.isBarHorizontal,l.globals.timescaleLabels.length>0&&(this.xaxisLabels=l.globals.timescaleLabels.slice())}return ot(B,[{key:"drawGridArea",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w,d=new Le(this.ctx);null===a&&(a=d.group({class:"apexcharts-grid"}));var h=d.drawLine(l.globals.padHorizontal,1,l.globals.padHorizontal,l.globals.gridHeight,"transparent"),p=d.drawLine(l.globals.padHorizontal,l.globals.gridHeight,l.globals.gridWidth,l.globals.gridHeight,"transparent");return a.add(p),a.add(h),a}},{key:"drawGrid",value:function(){var a=null;return this.w.globals.axisCharts&&(a=this.renderGrid(),this.drawGridArea(a.el)),a}},{key:"createGridMask",value:function(){var a=this.w,l=a.globals,d=new Le(this.ctx),h=Array.isArray(a.config.stroke.width)?0:a.config.stroke.width;if(Array.isArray(a.config.stroke.width)){var p=0;a.config.stroke.width.forEach(function(I){p=Math.max(p,I)}),h=p}l.dom.elGridRectMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(l.cuid)),l.dom.elGridRectMarkerMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(l.cuid)),l.dom.elForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elForecastMask.setAttribute("id","forecastMask".concat(l.cuid)),l.dom.elNonForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(l.cuid));var g=a.config.chart.type,m=0,b=0;("bar"===g||"rangeBar"===g||"candlestick"===g||"boxPlot"===g||a.globals.comboBarCount>0)&&a.globals.isXNumeric&&!a.globals.isBarHorizontal&&(b=a.config.grid.padding.right,l.barPadForNumericAxis>(m=a.config.grid.padding.left)&&(m=l.barPadForNumericAxis,b=l.barPadForNumericAxis)),l.dom.elGridRect=d.drawRect(-h-m-2,2*-h-2,l.gridWidth+h+b+m+4,l.gridHeight+4*h+4,0,"#fff");var w=a.globals.markers.largestSize+1;l.dom.elGridRectMarker=d.drawRect(2*-w,2*-w,l.gridWidth+4*w,l.gridHeight+4*w,0,"#fff"),l.dom.elGridRectMask.appendChild(l.dom.elGridRect.node),l.dom.elGridRectMarkerMask.appendChild(l.dom.elGridRectMarker.node);var D=l.dom.baseEl.querySelector("defs");D.appendChild(l.dom.elGridRectMask),D.appendChild(l.dom.elForecastMask),D.appendChild(l.dom.elNonForecastMask),D.appendChild(l.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(a){var l=a.i,d=a.x1,m=a.xCount,w=this.w;if(!(0===l&&w.globals.skipFirstTimelinelabel||l===m-1&&w.globals.skipLastTimelinelabel&&!w.config.xaxis.labels.formatter||"radar"===w.config.chart.type)){w.config.grid.xaxis.lines.show&&this._drawGridLine({i:l,x1:d,y1:a.y1,x2:a.x2,y2:a.y2,xCount:m,parent:a.parent});var D=0;if(w.globals.hasXaxisGroups&&"between"===w.config.xaxis.tickPlacement){var I=w.globals.groups;if(I){for(var M=0,P=0;M<l&&P<I.length;P++)M+=I[P].cols;M===l&&(D=.6*w.globals.xAxisLabelsHeight)}}new vn(this.ctx).drawXaxisTicks(d,D,w.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(a){var l=a.i,d=a.x1,h=a.y1,p=a.x2,g=a.y2,m=a.xCount,b=a.parent,w=this.w,D=!1,I=b.node.classList.contains("apexcharts-gridlines-horizontal"),M=w.config.grid.strokeDashArray,P=w.globals.barPadForNumericAxis;(0===h&&0===g||0===d&&0===p)&&(D=!0),h===w.globals.gridHeight&&g===w.globals.gridHeight&&(D=!0),!w.globals.isBarHorizontal||0!==l&&l!==m-1||(D=!0);var O=new Le(this).drawLine(d-(I?P:0),h,p+(I?P:0),g,w.config.grid.borderColor,M);O.node.classList.add("apexcharts-gridline"),D&&w.config.grid.show?this.elGridBorders.add(O):b.add(O)}},{key:"_drawGridBandRect",value:function(a){var l=a.c,d=a.x1,h=a.y1,p=a.x2,g=a.y2,m=a.type,b=this.w,w=new Le(this.ctx),D=b.globals.barPadForNumericAxis;if("column"!==m||"datetime"!==b.config.xaxis.type){var M=w.drawRect(d-("row"===m?D:0),h,p+("row"===m?2*D:0),g,0,b.config.grid[m].colors[l],b.config.grid[m].opacity);this.elg.add(M),M.attr("clip-path","url(#gridRectMask".concat(b.globals.cuid,")")),M.node.classList.add("apexcharts-grid-".concat(m))}}},{key:"_drawXYLines",value:function(a){var l=this,d=a.xCount,h=a.tickAmount,p=this.w;if(p.config.grid.xaxis.lines.show||p.config.xaxis.axisTicks.show){var g,m=p.globals.padHorizontal,b=p.globals.gridHeight;p.globals.timescaleLabels.length?function(O){for(var F=O.xC,W=O.y1,x=O.y2,k=0;k<F;k++)l._drawGridLines({i:k,x1:l.xaxisLabels[k].position,y1:W,x2:l.xaxisLabels[k].position,y2:x,xCount:d,parent:l.elgridLinesV})}({xC:d,x1:m,y1:0,x2:g,y2:b}):(p.globals.isXNumeric&&(d=p.globals.xAxisScale.result.length),function(O){for(var F=O.xC,H=O.x1,W=O.y1,q=O.x2,x=O.y2,k=0;k<F+(p.globals.isXNumeric?0:1);k++)0===k&&1===F&&1===p.globals.dataPoints&&(q=H=p.globals.gridWidth/2),l._drawGridLines({i:k,x1:H,y1:W,x2:q,y2:x,xCount:d,parent:l.elgridLinesV}),q=H+=p.globals.gridWidth/(p.globals.isXNumeric?F-1:F)}({xC:d,x1:m,y1:0,x2:g,y2:b}))}if(p.config.grid.yaxis.lines.show){var w=0,D=0,I=p.globals.gridWidth,M=h+1;this.isRangeBar&&(M=p.globals.labels.length);for(var P=0;P<M+(this.isRangeBar?1:0);P++)this._drawGridLine({i:P,xCount:M+(this.isRangeBar?1:0),x1:0,y1:w,x2:I,y2:D,parent:this.elgridLinesH}),D=w+=p.globals.gridHeight/(this.isRangeBar?M:h)}}},{key:"_drawInvertedXYLines",value:function(a){var l=a.xCount,d=this.w;if(d.config.grid.xaxis.lines.show||d.config.xaxis.axisTicks.show)for(var h,p=d.globals.padHorizontal,g=d.globals.gridHeight,m=0;m<l+1;m++)d.config.grid.xaxis.lines.show&&this._drawGridLine({i:m,xCount:l+1,x1:p,y1:0,x2:h,y2:g,parent:this.elgridLinesV}),new vn(this.ctx).drawXaxisTicks(p,0,d.globals.dom.elGraphical),h=p=p+d.globals.gridWidth/l+.3;if(d.config.grid.yaxis.lines.show)for(var b=0,w=0,D=d.globals.gridWidth,I=0;I<d.globals.dataPoints+1;I++)this._drawGridLine({i:I,xCount:d.globals.dataPoints+1,x1:0,y1:b,x2:D,y2:w,parent:this.elgridLinesH}),w=b+=d.globals.gridHeight/d.globals.dataPoints}},{key:"renderGrid",value:function(){var a=this.w,l=new Le(this.ctx);this.elg=l.group({class:"apexcharts-grid"}),this.elgridLinesH=l.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=l.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=l.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),a.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var d,h=a.globals.yAxisScale.length?a.globals.yAxisScale[0].result.length-1:5,p=0;p<a.globals.series.length&&(void 0!==a.globals.yAxisScale[p]&&(h=a.globals.yAxisScale[p].result.length-1),!(h>2));p++);return!a.globals.isBarHorizontal||this.isRangeBar?(d=this.xaxisLabels.length,this.isRangeBar&&(d--,h=a.globals.labels.length,a.config.xaxis.tickAmount&&a.config.xaxis.labels.formatter&&(d=a.config.xaxis.tickAmount)),this._drawXYLines({xCount:d,tickAmount:h})):this._drawInvertedXYLines({xCount:d=h,tickAmount:h=a.globals.xTickAmount}),this.drawGridBands(d,h),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:a.globals.gridWidth/d}}},{key:"drawGridBands",value:function(a,l){var d=this.w;if(void 0!==d.config.grid.row.colors&&d.config.grid.row.colors.length>0)for(var h=0,p=d.globals.gridHeight/l,g=d.globals.gridWidth,m=0,b=0;m<l;m++,b++)b>=d.config.grid.row.colors.length&&(b=0),this._drawGridBandRect({c:b,x1:0,y1:h,x2:g,y2:p,type:"row"}),h+=d.globals.gridHeight/l;if(void 0!==d.config.grid.column.colors&&d.config.grid.column.colors.length>0)for(var w=d.globals.isBarHorizontal||"on"!==d.config.xaxis.tickPlacement||"category"!==d.config.xaxis.type&&!d.config.xaxis.convertedCatToNumeric?a:a-1,D=d.globals.padHorizontal,I=d.globals.padHorizontal+d.globals.gridWidth/w,M=d.globals.gridHeight,P=0,O=0;P<a;P++,O++)O>=d.config.grid.column.colors.length&&(O=0),this._drawGridBandRect({c:O,x1:D,y1:0,x2:I,y2:M,type:"column"}),D+=d.globals.gridWidth/w}}]),B}(),Pn=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"niceScale",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,p=arguments.length>4?arguments[4]:void 0,g=this.w,m=Math.abs(l-a);if("dataPoints"===(d=this._adjustTicksForSmallRange(d,h,m))&&(d=g.globals.dataPoints-1),a===Number.MIN_VALUE&&0===l||!he.isNumber(a)&&!he.isNumber(l)||a===Number.MIN_VALUE&&l===-Number.MAX_VALUE)return this.linearScale(a=0,l=d,d);a>l?(console.warn("axis.min cannot be greater than axis.max"),l=a+.1):a===l&&(a=0===a?0:a-.5,l=0===l?2:l+.5);var b=[];m<1&&p&&("candlestick"===g.config.chart.type||"candlestick"===g.config.series[h].type||"boxPlot"===g.config.chart.type||"boxPlot"===g.config.series[h].type||g.globals.isRangeData)&&(l*=1.01);var w=d+1;w<2?w=2:w>2&&(w-=2);var D=m/w,I=Math.floor(he.log10(D)),M=Math.pow(10,I),P=Math.round(D/M);P<1&&(P=1);var O=P*M,F=O*Math.floor(a/O),H=O*Math.ceil(l/O),W=F;if(p&&m>2){for(;b.push(he.stripNumber(W,7)),!((W+=O)>H););return{result:b,niceMin:b[0],niceMax:b[b.length-1]}}var q=a;(b=[]).push(he.stripNumber(q,7));for(var x=Math.abs(l-a)/d,k=0;k<=d;k++)b.push(q+=x);return b[b.length-2]>=l&&b.pop(),{result:b,niceMin:b[0],niceMax:b[b.length-1]}}},{key:"linearScale",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,h=arguments.length>3?arguments[3]:void 0,p=Math.abs(l-a);"dataPoints"===(d=this._adjustTicksForSmallRange(d,h,p))&&(d=this.w.globals.dataPoints-1);var g=p/d;d===Number.MAX_VALUE&&(d=10,g=1);for(var m=[],b=a;d>=0;)m.push(b),b+=g,d-=1;return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"logarithmicScaleNice",value:function(a,l,d){l<=0&&(l=Math.max(a,d)),a<=0&&(a=Math.min(l,d));for(var h=[],p=Math.ceil(Math.log(l)/Math.log(d)+1),g=Math.floor(Math.log(a)/Math.log(d));g<p;g++)h.push(Math.pow(d,g));return{result:h,niceMin:h[0],niceMax:h[h.length-1]}}},{key:"logarithmicScale",value:function(a,l,d){l<=0&&(l=Math.max(a,d)),a<=0&&(a=Math.min(l,d));for(var h=[],p=Math.log(l)/Math.log(d),g=Math.log(a)/Math.log(d),m=p-g,b=Math.round(m),w=m/b,D=0,I=g;D<b;D++,I+=w)h.push(Math.pow(d,I));return h.push(Math.pow(d,p)),{result:h,niceMin:a,niceMax:l}}},{key:"_adjustTicksForSmallRange",value:function(a,l,d){var h=a;if(void 0!==l&&this.w.config.yaxis[l].labels.formatter&&void 0===this.w.config.yaxis[l].tickAmount){var p=Number(this.w.config.yaxis[l].labels.formatter(1));he.isNumber(p)&&0===this.w.globals.yValueDecimal&&(h=Math.ceil(d))}return h<a?h:a}},{key:"setYScaleForIndex",value:function(a,l,d){var h=this.w.globals,p=this.w.config,g=h.isBarHorizontal?p.xaxis:p.yaxis[a];void 0===h.yAxisScale[a]&&(h.yAxisScale[a]=[]);var m=Math.abs(d-l);g.logarithmic&&m<=5&&(h.invalidLogScale=!0),g.logarithmic&&m>5?(h.allSeriesCollapsed=!1,h.yAxisScale[a]=this.logarithmicScale(l,d,g.logBase),h.yAxisScale[a]=g.forceNiceScale?this.logarithmicScaleNice(l,d,g.logBase):this.logarithmicScale(l,d,g.logBase)):d!==-Number.MAX_VALUE&&he.isNumber(d)?(h.allSeriesCollapsed=!1,h.yAxisScale[a]=void 0===g.min&&void 0===g.max||g.forceNiceScale?this.niceScale(l,d,g.tickAmount?g.tickAmount:m<5&&m>1?m+1:5,a,void 0===p.yaxis[a].max&&void 0===p.yaxis[a].min||p.yaxis[a].forceNiceScale):this.linearScale(l,d,g.tickAmount,a)):h.yAxisScale[a]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(a,l){var d=this.w,h=d.globals,p=d.config.xaxis,g=Math.abs(l-a);return h.xAxisScale=l!==-Number.MAX_VALUE&&he.isNumber(l)?this.linearScale(a,l,p.tickAmount?p.tickAmount:g<5&&g>1?g+1:5,0):this.linearScale(0,5,5),h.xAxisScale}},{key:"setMultipleYScales",value:function(){var a=this,l=this.w.globals,d=this.w.config,h=l.minYArr.concat([]),p=l.maxYArr.concat([]),g=[];d.yaxis.forEach(function(m,b){var w=b;d.series.forEach(function(M,P){M.name===m.seriesName&&(w=P,g.push(b!==P?{index:P,similarIndex:b,alreadyExists:!0}:{index:P}))}),a.setYScaleForIndex(b,h[w],p[w])}),this.sameScaleInMultipleAxes(h,p,g)}},{key:"sameScaleInMultipleAxes",value:function(a,l,d){var h=this,p=this.w.config,g=this.w.globals,m=[];d.forEach(function(F){F.alreadyExists&&(void 0===m[F.index]&&(m[F.index]=[]),m[F.index].push(F.index),m[F.index].push(F.similarIndex))}),g.yAxisSameScaleIndices=m,m.forEach(function(F,H){m.forEach(function(W,q){var x,k;H!==q&&(x=F,k=W,x.filter(function(N){return-1!==k.indexOf(N)})).length>0&&(m[H]=m[H].concat(m[q]))})});var b=m.map(function(F){return F.filter(function(H,W){return F.indexOf(H)===W})}).map(function(F){return F.sort()});m=m.filter(function(F){return!!F});var w=b.slice(),D=w.map(function(F){return JSON.stringify(F)});w=w.filter(function(F,H){return D.indexOf(JSON.stringify(F))===H});var I=[],M=[];a.forEach(function(F,H){w.forEach(function(W,q){W.indexOf(H)>-1&&(void 0===I[q]&&(I[q]=[],M[q]=[]),I[q].push({key:H,value:F}),M[q].push({key:H,value:l[H]}))})});var P=Array.apply(null,Array(w.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),O=Array.apply(null,Array(w.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);I.forEach(function(F,H){F.forEach(function(W,q){P[H]=Math.min(W.value,P[H])})}),M.forEach(function(F,H){F.forEach(function(W,q){O[H]=Math.max(W.value,O[H])})}),a.forEach(function(F,H){M.forEach(function(W,q){var x=P[q],k=O[q];p.chart.stacked&&(k=0,W.forEach(function(N,U){N.value!==-Number.MAX_VALUE&&(k+=N.value),x!==Number.MIN_VALUE&&(x+=I[q][U].value)})),W.forEach(function(N,U){W[U].key===H&&(void 0!==p.yaxis[H].min&&(x="function"==typeof p.yaxis[H].min?p.yaxis[H].min(g.minY):p.yaxis[H].min),void 0!==p.yaxis[H].max&&(k="function"==typeof p.yaxis[H].max?p.yaxis[H].max(g.maxY):p.yaxis[H].max),h.setYScaleForIndex(H,x,k))})})})}},{key:"autoScaleY",value:function(a,l,d){a||(a=this);var h=a.w;if(h.globals.isMultipleYAxis||h.globals.collapsedSeries.length)return console.warn("autoScaleYaxis not supported in a multi-yaxis chart."),l;var p=h.globals.seriesX[0],g=h.config.chart.stacked;return l.forEach(function(m,b){for(var w=0,D=0;D<p.length;D++)if(p[D]>=d.xaxis.min){w=D;break}var I,M,P=h.globals.minYArr[b],O=h.globals.maxYArr[b],F=h.globals.stackedSeriesTotals;h.globals.series.forEach(function(H,W){var q=H[w];g?(I=M=q=F[w],F.forEach(function(x,k){p[k]<=d.xaxis.max&&p[k]>=d.xaxis.min&&(x>M&&null!==x&&(M=x),H[k]<I&&null!==H[k]&&(I=H[k]))})):(I=M=q,H.forEach(function(x,k){if(p[k]<=d.xaxis.max&&p[k]>=d.xaxis.min){var N=x,U=x;h.globals.series.forEach(function(X,Y){null!==x&&(N=Math.min(X[k],N),U=Math.max(X[k],U))}),U>M&&null!==U&&(M=U),N<I&&null!==N&&(I=N)}})),void 0===I&&void 0===M&&(I=P,M=O),M*=M<0?.9:1.1,0==(I*=I<0?1.1:.9)&&0===M&&(I=-1,M=1),M<0&&M<O&&(M=O),I<0&&I>P&&(I=P),l.length>1?(l[W].min=void 0===m.min?I:m.min,l[W].max=void 0===m.max?M:m.max):(l[0].min=void 0===m.min?I:m.min,l[0].max=void 0===m.max?M:m.max)})}),l}}]),B}(),qi=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.scales=new Pn(a)}return ot(B,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=this.w.config,g=this.w.globals,m=-Number.MAX_VALUE,b=Number.MIN_VALUE;null===h&&(h=a+1);var w=g.series,D=w,I=w;"candlestick"===p.chart.type?(D=g.seriesCandleL,I=g.seriesCandleH):"boxPlot"===p.chart.type?(D=g.seriesCandleO,I=g.seriesCandleC):g.isRangeData&&(D=g.seriesRangeStart,I=g.seriesRangeEnd);for(var M=a;M<h;M++){g.dataPoints=Math.max(g.dataPoints,w[M].length),g.categoryLabels.length&&(g.dataPoints=g.categoryLabels.filter(function(F){return void 0!==F}).length),g.labels.length&&"datetime"!==p.xaxis.type&&0!==g.series.reduce(function(F,H){return F+H.length},0)&&(g.dataPoints=Math.max(g.dataPoints,g.labels.length));for(var P=0;P<g.series[M].length;P++){var O=w[M][P];null!==O&&he.isNumber(O)?(void 0!==I[M][P]&&(m=Math.max(m,I[M][P]),l=Math.min(l,I[M][P])),void 0!==D[M][P]&&(l=Math.min(l,D[M][P]),d=Math.max(d,D[M][P])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==g.seriesCandleC[M][P]&&(m=Math.max(m,g.seriesCandleO[M][P]),m=Math.max(m,g.seriesCandleH[M][P]),m=Math.max(m,g.seriesCandleL[M][P]),m=Math.max(m,g.seriesCandleC[M][P]),"boxPlot"===this.w.config.chart.type&&(m=Math.max(m,g.seriesCandleM[M][P]))),!p.series[M].type||"candlestick"===p.series[M].type&&"boxPlot"===p.series[M].type&&"rangeArea"===p.series[M].type&&"rangeBar"===p.series[M].type||(m=Math.max(m,g.series[M][P]),l=Math.min(l,g.series[M][P])),d=m),g.seriesGoals[M]&&g.seriesGoals[M][P]&&Array.isArray(g.seriesGoals[M][P])&&g.seriesGoals[M][P].forEach(function(F){b!==Number.MIN_VALUE&&(b=Math.min(b,F.value),l=b),m=Math.max(m,F.value),d=m}),he.isFloat(O)&&(O=he.noExponents(O),g.yValueDecimal=Math.max(g.yValueDecimal,O.toString().split(".")[1].length)),b>D[M][P]&&D[M][P]<0&&(b=D[M][P])):g.hasNullValues=!0}}return"rangeBar"===p.chart.type&&g.seriesRangeStart.length&&g.isBarHorizontal&&(b=l),"bar"===p.chart.type&&(b<0&&m<0&&(m=0),b===Number.MIN_VALUE&&(b=0)),{minY:b,maxY:m,lowestY:l,highestY:d}}},{key:"setYRange",value:function(){var a=this.w.globals,l=this.w.config;a.maxY=-Number.MAX_VALUE,a.minY=Number.MIN_VALUE;var d=Number.MAX_VALUE;if(a.isMultipleYAxis)for(var h=0;h<a.series.length;h++){var p=this.getMinYMaxY(h,d,null,h+1);a.minYArr.push(p.minY),a.maxYArr.push(p.maxY),d=p.lowestY}var g=this.getMinYMaxY(0,d,null,a.series.length);if(a.minY=g.minY,a.maxY=g.maxY,d=g.lowestY,l.chart.stacked&&this._setStackedMinMax(),("line"===l.chart.type||"area"===l.chart.type||"candlestick"===l.chart.type||"boxPlot"===l.chart.type||"rangeBar"===l.chart.type&&!a.isBarHorizontal)&&a.minY===Number.MIN_VALUE&&d!==-Number.MAX_VALUE&&d!==a.maxY){var m=a.maxY-d;(d>=0&&d<=10||void 0!==l.yaxis[0].min||void 0!==l.yaxis[0].max)&&(m=0),a.minY=d-5*m/100,d>0&&a.minY<0&&(a.minY=0),a.maxY=a.maxY+5*m/100}return l.yaxis.forEach(function(b,w){void 0!==b.max&&("number"==typeof b.max?a.maxYArr[w]=b.max:"function"==typeof b.max&&(a.maxYArr[w]=b.max(a.isMultipleYAxis?a.maxYArr[w]:a.maxY)),a.maxY=a.maxYArr[w]),void 0!==b.min&&("number"==typeof b.min?a.minYArr[w]=b.min:"function"==typeof b.min&&(a.minYArr[w]=b.min(a.isMultipleYAxis?a.minYArr[w]===Number.MIN_VALUE?0:a.minYArr[w]:a.minY)),a.minY=a.minYArr[w])}),a.isBarHorizontal&&["min","max"].forEach(function(b){void 0!==l.xaxis[b]&&"number"==typeof l.xaxis[b]&&("min"===b?a.minY=l.xaxis[b]:a.maxY=l.xaxis[b])}),a.isMultipleYAxis?(this.scales.setMultipleYScales(),a.minY=d,a.yAxisScale.forEach(function(b,w){a.minYArr[w]=b.niceMin,a.maxYArr[w]=b.niceMax})):(this.scales.setYScaleForIndex(0,a.minY,a.maxY),a.minY=a.yAxisScale[0].niceMin,a.maxY=a.yAxisScale[0].niceMax,a.minYArr[0]=a.yAxisScale[0].niceMin,a.maxYArr[0]=a.yAxisScale[0].niceMax),{minY:a.minY,maxY:a.maxY,minYArr:a.minYArr,maxYArr:a.maxYArr,yAxisScale:a.yAxisScale}}},{key:"setXRange",value:function(){var a=this.w.globals,l=this.w.config,d="numeric"===l.xaxis.type||"datetime"===l.xaxis.type||"category"===l.xaxis.type&&!a.noLabelsProvided||a.noLabelsProvided||a.isXNumeric;if(a.isXNumeric&&function(){for(var m=0;m<a.series.length;m++)if(a.labels[m])for(var b=0;b<a.labels[m].length;b++)null!==a.labels[m][b]&&he.isNumber(a.labels[m][b])&&(a.maxX=Math.max(a.maxX,a.labels[m][b]),a.initialMaxX=Math.max(a.maxX,a.labels[m][b]),a.minX=Math.min(a.minX,a.labels[m][b]),a.initialMinX=Math.min(a.minX,a.labels[m][b]))}(),a.noLabelsProvided&&0===l.xaxis.categories.length&&(a.maxX=a.labels[a.labels.length-1],a.initialMaxX=a.labels[a.labels.length-1],a.minX=1,a.initialMinX=1),a.isXNumeric||a.noLabelsProvided||a.dataFormatXNumeric){var h;if(void 0===l.xaxis.tickAmount?(h=Math.round(a.svgWidth/150),"numeric"===l.xaxis.type&&a.dataPoints<30&&(h=a.dataPoints-1),h>a.dataPoints&&0!==a.dataPoints&&(h=a.dataPoints-1)):"dataPoints"===l.xaxis.tickAmount?(a.series.length>1&&(h=a.series[a.maxValsInArrayIndex].length-1),a.isXNumeric&&(h=a.maxX-a.minX-1)):h=l.xaxis.tickAmount,a.xTickAmount=h,void 0!==l.xaxis.max&&"number"==typeof l.xaxis.max&&(a.maxX=l.xaxis.max),void 0!==l.xaxis.min&&"number"==typeof l.xaxis.min&&(a.minX=l.xaxis.min),void 0!==l.xaxis.range&&(a.minX=a.maxX-l.xaxis.range),a.minX!==Number.MAX_VALUE&&a.maxX!==-Number.MAX_VALUE)if(l.xaxis.convertedCatToNumeric&&!a.dataFormatXNumeric){for(var p=[],g=a.minX-1;g<a.maxX;g++)p.push(g+1);a.xAxisScale={result:p,niceMin:p[0],niceMax:p[p.length-1]}}else a.xAxisScale=this.scales.setXScale(a.minX,a.maxX);else a.xAxisScale=this.scales.linearScale(0,h,h),a.noLabelsProvided&&a.labels.length>0&&(a.xAxisScale=this.scales.linearScale(1,a.labels.length,h-1),a.seriesX=a.labels.slice());d&&(a.labels=a.xAxisScale.result.slice())}return a.isBarHorizontal&&a.labels.length&&(a.xTickAmount=a.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:a.minX,maxX:a.maxX}}},{key:"setZRange",value:function(){var a=this.w.globals;if(a.isDataXYZ)for(var l=0;l<a.series.length;l++)if(void 0!==a.seriesZ[l])for(var d=0;d<a.seriesZ[l].length;d++)null!==a.seriesZ[l][d]&&he.isNumber(a.seriesZ[l][d])&&(a.maxZ=Math.max(a.maxZ,a.seriesZ[l][d]),a.minZ=Math.min(a.minZ,a.seriesZ[l][d]))}},{key:"_handleSingleDataPoint",value:function(){var a=this.w.globals,l=this.w.config;if(a.minX===a.maxX){var d=new mn(this.ctx);if("datetime"===l.xaxis.type){var h=d.getDate(a.minX);l.xaxis.labels.datetimeUTC?h.setUTCDate(h.getUTCDate()-2):h.setDate(h.getDate()-2),a.minX=new Date(h).getTime();var p=d.getDate(a.maxX);l.xaxis.labels.datetimeUTC?p.setUTCDate(p.getUTCDate()+2):p.setDate(p.getDate()+2),a.maxX=new Date(p).getTime()}else("numeric"===l.xaxis.type||"category"===l.xaxis.type&&!a.noLabelsProvided)&&(a.minX=a.minX-2,a.initialMinX=a.minX,a.maxX=a.maxX+2,a.initialMaxX=a.maxX)}}},{key:"_getMinXDiff",value:function(){var a=this.w.globals;a.isXNumeric&&a.seriesX.forEach(function(l,d){1===l.length&&l.push(a.seriesX[a.maxValsInArrayIndex][a.seriesX[a.maxValsInArrayIndex].length-1]);var h=l.slice();h.sort(function(p,g){return p-g}),h.forEach(function(p,g){if(g>0){var m=p-h[g-1];m>0&&(a.minXDiff=Math.min(m,a.minXDiff))}}),1!==a.dataPoints&&a.minXDiff!==Number.MAX_VALUE||(a.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var a=this,l=this.w.globals;if(l.series.length){var d=l.seriesGroups;d.length||(d=[this.w.config.series.map(function(g){return g.name})]);var h={},p={};d.forEach(function(g){h[g]=[],p[g]=[],a.w.config.series.map(function(m,b){return g.indexOf(m.name)>-1?b:null}).filter(function(m){return null!==m}).forEach(function(m){for(var b=0;b<l.series[l.maxValsInArrayIndex].length;b++)void 0===h[g][b]&&(h[g][b]=0,p[g][b]=0),null!==l.series[m][b]&&he.isNumber(l.series[m][b])&&(l.series[m][b]>0?h[g][b]+=parseFloat(l.series[m][b])+1e-4:p[g][b]+=parseFloat(l.series[m][b]))})}),Object.entries(h).forEach(function(g){var m=In(g,1)[0];h[m].forEach(function(b,w){l.maxY=Math.max(l.maxY,h[m][w]),l.minY=Math.min(l.minY,p[m][w])})})}}}]),B}(),Si=function(){function B(a,l){Ue(this,B),this.ctx=a,this.elgrid=l,this.w=a.w;var d=this.w;this.xaxisFontSize=d.config.xaxis.labels.style.fontSize,this.axisFontFamily=d.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=d.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===d.config.chart.type&&d.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===d.config.xaxis.position&&(this.xAxisoffX=d.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Je(a)}return ot(B,[{key:"drawYaxis",value:function(a){var l=this,d=this.w,h=new Le(this.ctx),p=d.config.yaxis[a].labels.style,g=p.fontSize,m=p.fontFamily,b=p.fontWeight,w=h.group({class:"apexcharts-yaxis",rel:a,transform:"translate("+d.globals.translateYAxisX[a]+", 0)"});if(this.axesUtils.isYAxisHidden(a))return w;var D=h.group({class:"apexcharts-yaxis-texts-g"});w.add(D);var I=d.globals.yAxisScale[a].result.length-1,M=d.globals.gridHeight/I,P=d.globals.translateY,O=d.globals.yLabelFormatters[a],F=d.globals.yAxisScale[a].result.slice();F=this.axesUtils.checkForReversedLabels(a,F);var H="";if(d.config.yaxis[a].labels.show)for(var W=function(pe){var ge=F[pe];ge=O(ge,pe,d);var Me=d.config.yaxis[a].labels.padding;d.config.yaxis[a].opposite&&0!==d.config.yaxis.length&&(Me*=-1);var re="end";d.config.yaxis[a].opposite&&(re="start"),"left"===d.config.yaxis[a].labels.align?re="start":"center"===d.config.yaxis[a].labels.align?re="middle":"right"===d.config.yaxis[a].labels.align&&(re="end");var He=l.axesUtils.getYAxisForeColor(p.colors,a),Ae=d.config.yaxis[a].labels.offsetY;"heatmap"===d.config.chart.type&&(Ae-=(d.globals.gridHeight/d.globals.series.length-1)/2);var mt=h.drawText({x:Me,y:P+I/10+Ae+1,text:ge,textAnchor:re,fontSize:g,fontFamily:m,fontWeight:b,maxWidth:d.config.yaxis[a].labels.maxWidth,foreColor:Array.isArray(He)?He[pe]:He,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+p.cssClass});pe===I&&(H=mt),D.add(mt);var nn=document.createElementNS(d.globals.SVGNS,"title");if(nn.textContent=Array.isArray(ge)?ge.join(" "):ge,mt.node.appendChild(nn),0!==d.config.yaxis[a].labels.rotate){var dn=h.rotateAroundCenter(H.node),Ln=h.rotateAroundCenter(mt.node);mt.node.setAttribute("transform","rotate(".concat(d.config.yaxis[a].labels.rotate," ").concat(dn.x," ").concat(Ln.y,")"))}P+=M},q=I;q>=0;q--)W(q);if(void 0!==d.config.yaxis[a].title.text){var x=h.group({class:"apexcharts-yaxis-title"}),k=0;d.config.yaxis[a].opposite&&(k=d.globals.translateYAxisX[a]);var N=h.drawText({x:k,y:d.globals.gridHeight/2+d.globals.translateY+d.config.yaxis[a].title.offsetY,text:d.config.yaxis[a].title.text,textAnchor:"end",foreColor:d.config.yaxis[a].title.style.color,fontSize:d.config.yaxis[a].title.style.fontSize,fontWeight:d.config.yaxis[a].title.style.fontWeight,fontFamily:d.config.yaxis[a].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+d.config.yaxis[a].title.style.cssClass});x.add(N),w.add(x)}var U=d.config.yaxis[a].axisBorder,X=31+U.offsetX;if(d.config.yaxis[a].opposite&&(X=-31-U.offsetX),U.show){var Y=h.drawLine(X,d.globals.translateY+U.offsetY-2,X,d.globals.gridHeight+d.globals.translateY+U.offsetY+2,U.color,0,U.width);w.add(Y)}return d.config.yaxis[a].axisTicks.show&&this.axesUtils.drawYAxisTicks(X,I,U,d.config.yaxis[a].axisTicks,a,M,w),w}},{key:"drawYaxisInversed",value:function(a){var l=this.w,d=new Le(this.ctx),h=d.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),p=d.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(l.globals.translateXAxisX,", ").concat(l.globals.translateXAxisY,")")});h.add(p);var g=l.globals.yAxisScale[a].result.length-1,m=l.globals.gridWidth/g+.1,b=m+l.config.xaxis.labels.offsetX,w=l.globals.xLabelFormatter,D=l.globals.yAxisScale[a].result.slice(),I=l.globals.timescaleLabels;I.length>0&&(this.xaxisLabels=I.slice(),g=(D=I.slice()).length),D=this.axesUtils.checkForReversedLabels(a,D);var M=I.length;if(l.config.xaxis.labels.show)for(var P=M?0:g;M?P<M:P>=0;M?P++:P--){var O=D[P];O=w(O,P,l);var F=l.globals.gridWidth+l.globals.padHorizontal-(b-m+l.config.xaxis.labels.offsetX);if(I.length){var H=this.axesUtils.getLabel(D,I,F,P,this.drawnLabels,this.xaxisFontSize);F=H.x,O=H.text,this.drawnLabels.push(H.text),0===P&&l.globals.skipFirstTimelinelabel&&(O=""),P===D.length-1&&l.globals.skipLastTimelinelabel&&(O="")}var W=d.drawText({x:F,y:this.xAxisoffX+l.config.xaxis.labels.offsetY+30-("top"===l.config.xaxis.position?l.globals.xAxisHeight+l.config.xaxis.axisTicks.height-2:0),text:O,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[a]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:l.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+l.config.xaxis.labels.style.cssClass});p.add(W),W.tspan(O);var q=document.createElementNS(l.globals.SVGNS,"title");q.textContent=O,W.node.appendChild(q),b+=m}return this.inversedYAxisTitleText(h),this.inversedYAxisBorder(h),h}},{key:"inversedYAxisBorder",value:function(a){var l=this.w,d=new Le(this.ctx),h=l.config.xaxis.axisBorder;if(h.show){var p=0;"bar"===l.config.chart.type&&l.globals.isXNumeric&&(p-=15);var g=d.drawLine(l.globals.padHorizontal+p+h.offsetX,this.xAxisoffX,l.globals.gridWidth,this.xAxisoffX,h.color,0,h.height);this.elgrid&&this.elgrid.elGridBorders&&l.config.grid.show?this.elgrid.elGridBorders.add(g):a.add(g)}}},{key:"inversedYAxisTitleText",value:function(a){var l=this.w,d=new Le(this.ctx);if(void 0!==l.config.xaxis.title.text){var h=d.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),p=d.drawText({x:l.globals.gridWidth/2+l.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(l.config.xaxis.title.style.fontSize)+l.config.xaxis.title.offsetY+20,text:l.config.xaxis.title.text,textAnchor:"middle",fontSize:l.config.xaxis.title.style.fontSize,fontFamily:l.config.xaxis.title.style.fontFamily,fontWeight:l.config.xaxis.title.style.fontWeight,foreColor:l.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+l.config.xaxis.title.style.cssClass});h.add(p),a.add(h)}}},{key:"yAxisTitleRotate",value:function(a,l){var d=this.w,h=new Le(this.ctx),p={width:0,height:0},g={width:0,height:0},m=d.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-texts-g"));null!==m&&(p=m.getBoundingClientRect());var b=d.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-title text"));if(null!==b&&(g=b.getBoundingClientRect()),null!==b){var w=this.xPaddingForYAxisTitle(a,p,g,l);b.setAttribute("x",w.xPos-(l?10:0))}if(null!==b){var D=h.rotateAroundCenter(b);b.setAttribute("transform","rotate(".concat(l?-1*d.config.yaxis[a].title.rotate:d.config.yaxis[a].title.rotate," ").concat(D.x," ").concat(D.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(a,l,d,h){var p=this.w,g=0,m=0,b=10;return void 0===p.config.yaxis[a].title.text||a<0?{xPos:m,padd:0}:(h?(m=l.width+p.config.yaxis[a].title.offsetX+d.width/2+b/2,0===(g+=1)&&(m-=b/2)):(m=-1*l.width+p.config.yaxis[a].title.offsetX+b/2+d.width/2,p.globals.isBarHorizontal&&(m=-1*l.width-p.config.yaxis[a].title.offsetX-(b=25))),{xPos:m,padd:b})}},{key:"setYAxisXPosition",value:function(a,l){var d=this.w,h=0,p=0,g=18,m=1;d.config.yaxis.length>1&&(this.multipleYs=!0),d.config.yaxis.map(function(b,w){var D=d.globals.ignoreYAxisIndexes.indexOf(w)>-1||!b.show||b.floating||0===a[w].width,I=a[w].width+l[w].width;b.opposite?d.globals.isBarHorizontal?d.globals.translateYAxisX[w]=(p=d.globals.gridWidth+d.globals.translateX-1)-b.labels.offsetX:(p=d.globals.gridWidth+d.globals.translateX+m,D||(m=m+I+20),d.globals.translateYAxisX[w]=p-b.labels.offsetX+20):(h=d.globals.translateX-g,D||(g=g+I+20),d.globals.translateYAxisX[w]=h+b.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var a=this.w,l=a.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(l=he.listToArray(l)).forEach(function(d,h){var p=a.config.yaxis[h];if(p&&!p.floating&&void 0!==p.labels.align){var g=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-texts-g")),m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-label"));m=he.listToArray(m);var b=g.getBoundingClientRect();"left"===p.labels.align?(m.forEach(function(w,D){w.setAttribute("text-anchor","start")}),p.opposite||g.setAttribute("transform","translate(-".concat(b.width,", 0)"))):"center"===p.labels.align?(m.forEach(function(w,D){w.setAttribute("text-anchor","middle")}),g.setAttribute("transform","translate(".concat(b.width/2*(p.opposite?1:-1),", 0)"))):"right"===p.labels.align&&(m.forEach(function(w,D){w.setAttribute("text-anchor","end")}),p.opposite&&g.setAttribute("transform","translate(".concat(b.width,", 0)")))}})}}]),B}(),xe=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.documentEvent=he.bind(this.documentEvent,this)}return ot(B,[{key:"addEventListener",value:function(a,l){var d=this.w;d.globals.events.hasOwnProperty(a)?d.globals.events[a].push(l):d.globals.events[a]=[l]}},{key:"removeEventListener",value:function(a,l){var d=this.w;if(d.globals.events.hasOwnProperty(a)){var h=d.globals.events[a].indexOf(l);-1!==h&&d.globals.events[a].splice(h,1)}}},{key:"fireEvent",value:function(a,l){var d=this.w;if(d.globals.events.hasOwnProperty(a)){l&&l.length||(l=[]);for(var h=d.globals.events[a],p=h.length,g=0;g<p;g++)h[g].apply(null,l)}}},{key:"setupEventHandlers",value:function(){var a=this,l=this.w,d=this.ctx,h=l.globals.dom.baseEl.querySelector(l.globals.chartClass);this.ctx.eventList.forEach(function(p){h.addEventListener(p,function(g){var m=Object.assign({},l,{seriesIndex:l.globals.capturedSeriesIndex,dataPointIndex:l.globals.capturedDataPointIndex});"mousemove"===g.type||"touchmove"===g.type?"function"==typeof l.config.chart.events.mouseMove&&l.config.chart.events.mouseMove(g,d,m):"mouseleave"===g.type||"touchleave"===g.type?"function"==typeof l.config.chart.events.mouseLeave&&l.config.chart.events.mouseLeave(g,d,m):("mouseup"===g.type&&1===g.which||"touchend"===g.type)&&("function"==typeof l.config.chart.events.click&&l.config.chart.events.click(g,d,m),d.ctx.events.fireEvent("click",[g,d,m]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(p){l.globals.dom.baseEl.addEventListener(p,a.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(a){var l=this.w,d=a.target.className;if("click"===a.type){var h=l.globals.dom.baseEl.querySelector(".apexcharts-menu");h&&h.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==d&&h.classList.remove("apexcharts-menu-open")}l.globals.clientX="touchmove"===a.type?a.touches[0].clientX:a.clientX,l.globals.clientY="touchmove"===a.type?a.touches[0].clientY:a.clientY}}]),B}(),ye=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"setCurrentLocaleValues",value:function(a){var l=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(l=this.w.config.chart.locales.concat(window.Apex.chart.locales));var d=l.filter(function(p){return p.name===a})[0];if(!d)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var h=he.extend(qe,d);this.w.globals.locale=h.options}}]),B}(),Re=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"drawAxis",value:function(a,l){var d,h,p=this,g=this.w.globals,m=this.w.config,b=new vn(this.ctx,l),w=new Si(this.ctx,l);g.axisCharts&&"radar"!==a&&(g.isBarHorizontal?(h=w.drawYaxisInversed(0),d=b.drawXaxisInversed(0),g.dom.elGraphical.add(d),g.dom.elGraphical.add(h)):(d=b.drawXaxis(),g.dom.elGraphical.add(d),m.yaxis.map(function(D,I){if(-1===g.ignoreYAxisIndexes.indexOf(I)&&(h=w.drawYaxis(I),g.dom.Paper.add(h),"back"===p.w.config.grid.position)){var M=g.dom.Paper.children()[1];M.remove(),g.dom.Paper.add(M)}})))}}]),B}(),Ke=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"drawXCrosshairs",value:function(){var a=this.w,l=new Le(this.ctx),d=new Tn(this.ctx),h=a.config.xaxis.crosshairs.fill.gradient,p=a.config.xaxis.crosshairs.dropShadow,M=p.enabled,P=p.left,O=p.top,F=p.blur,H=p.color,W=p.opacity,q=a.config.xaxis.crosshairs.fill.color;if(a.config.xaxis.crosshairs.show){"gradient"===a.config.xaxis.crosshairs.fill.type&&(q=l.drawGradient("vertical",h.colorFrom,h.colorTo,h.opacityFrom,h.opacityTo,null,h.stops,null));var x=l.drawRect();1===a.config.xaxis.crosshairs.width&&(x=l.drawLine());var k=a.globals.gridHeight;(!he.isNumber(k)||k<0)&&(k=0);var N=a.config.xaxis.crosshairs.width;(!he.isNumber(N)||N<0)&&(N=0),x.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:k,width:N,height:k,fill:q,filter:"none","fill-opacity":a.config.xaxis.crosshairs.opacity,stroke:a.config.xaxis.crosshairs.stroke.color,"stroke-width":a.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":a.config.xaxis.crosshairs.stroke.dashArray}),M&&(x=d.dropShadow(x,{left:P,top:O,blur:F,color:H,opacity:W})),a.globals.dom.elGraphical.add(x)}}},{key:"drawYCrosshairs",value:function(){var a=this.w,l=new Le(this.ctx),d=a.config.yaxis[0].crosshairs,h=a.globals.barPadForNumericAxis;if(a.config.yaxis[0].crosshairs.show){var p=l.drawLine(-h,0,a.globals.gridWidth+h,0,d.stroke.color,d.stroke.dashArray,d.stroke.width);p.attr({class:"apexcharts-ycrosshairs"}),a.globals.dom.elGraphical.add(p)}var g=l.drawLine(-h,0,a.globals.gridWidth+h,0,d.stroke.color,0,0);g.attr({class:"apexcharts-ycrosshairs-hidden"}),a.globals.dom.elGraphical.add(g)}}]),B}(),gt=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"checkResponsiveConfig",value:function(a){var l=this,d=this.w,h=d.config;if(0!==h.responsive.length){var p=h.responsive.slice();p.sort(function(w,D){return w.breakpoint>D.breakpoint?1:D.breakpoint>w.breakpoint?-1:0}).reverse();var g=new Sr({}),m=function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},I=window.innerWidth>0?window.innerWidth:screen.width;if(I>p[0].breakpoint){var M=Vt.extendArrayProps(g,d.globals.initialConfig,d);w=he.extend(M,w),w=he.extend(d.config,w),l.overrideResponsiveOptions(w)}else for(var P=0;P<p.length;P++)I<p[P].breakpoint&&(w=Vt.extendArrayProps(g,p[P].options,d),w=he.extend(d.config,w),l.overrideResponsiveOptions(w))};if(a){var b=Vt.extendArrayProps(g,a,d);b=he.extend(d.config,b),m(b=he.extend(b,a))}else m({})}}},{key:"overrideResponsiveOptions",value:function(a){var l=new Sr(a).init({responsiveOverride:!0});this.w.config=l}}]),B}(),ht=function(){function B(a){Ue(this,B),this.ctx=a,this.colors=[],this.w=a.w;var l=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===l.config.chart.type&&l.config.plotOptions.treemap.distributed||"heatmap"===l.config.chart.type&&l.config.plotOptions.heatmap.distributed,this.isBarDistributed=l.config.plotOptions.bar.distributed&&("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)}return ot(B,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var a,l=this,d=this.w,h=new he;if(d.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(d.config.theme.mode)),void 0===d.config.colors||0===(null===(a=d.config.colors)||void 0===a?void 0:a.length)?d.globals.colors=this.predefined():(d.globals.colors=d.config.colors,Array.isArray(d.config.colors)&&d.config.colors.length>0&&"function"==typeof d.config.colors[0]&&(d.globals.colors=d.config.series.map(function(O,F){var H=d.config.colors[F];return H||(H=d.config.colors[0]),"function"==typeof H?(l.isColorFn=!0,H({value:d.globals.axisCharts?d.globals.series[F][0]?d.globals.series[F][0]:0:d.globals.series[F],seriesIndex:F,dataPointIndex:F,w:d})):H}))),d.globals.seriesColors.map(function(O,F){O&&(d.globals.colors[F]=O)}),d.config.theme.monochrome.enabled){var p=[],g=d.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(g=d.globals.series[0].length*d.globals.series.length);for(var m=d.config.theme.monochrome.color,b=1/(g/d.config.theme.monochrome.shadeIntensity),w=d.config.theme.monochrome.shadeTo,D=0,I=0;I<g;I++){var M=void 0;"dark"===w?(M=h.shadeColor(-1*D,m),D+=b):(M=h.shadeColor(D,m),D+=b),p.push(M)}d.globals.colors=p.slice()}var P=d.globals.colors.slice();this.pushExtraColors(d.globals.colors),["fill","stroke"].forEach(function(O){d.globals[O].colors=void 0===d.config[O].colors?l.isColorFn?d.config.colors:P:d.config[O].colors.slice(),l.pushExtraColors(d.globals[O].colors)}),d.globals.dataLabels.style.colors=void 0===d.config.dataLabels.style.colors?P:d.config.dataLabels.style.colors.slice(),this.pushExtraColors(d.globals.dataLabels.style.colors,50),d.globals.radarPolygons.fill.colors=void 0===d.config.plotOptions.radar.polygons.fill.colors?["dark"===d.config.theme.mode?"#424242":"none"]:d.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(d.globals.radarPolygons.fill.colors,20),d.globals.markers.colors=void 0===d.config.markers.colors?P:d.config.markers.colors.slice(),this.pushExtraColors(d.globals.markers.colors)}},{key:"pushExtraColors",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=this.w,p=l||h.globals.series.length;if(null===d&&(d=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===h.config.chart.type&&h.config.plotOptions.heatmap.colorScale.inverse),d&&h.globals.series.length&&(p=h.globals.series[h.globals.maxValsInArrayIndex].length*h.globals.series.length),a.length<p)for(var g=p-a.length,m=0;m<g;m++)a.push(a[m])}},{key:"updateThemeOptions",value:function(a){a.chart=a.chart||{},a.tooltip=a.tooltip||{};var l=a.theme.mode||"light",d=a.theme.palette?a.theme.palette:"dark"===l?"palette4":"palette1",h=a.chart.foreColor?a.chart.foreColor:"dark"===l?"#f6f7f8":"#373d3f";return a.tooltip.theme=l,a.chart.foreColor=h,a.theme.palette=d,a}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),B}(),Ai=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(a){var l=this.w,d="title"===a?l.config.title:l.config.subtitle,h=l.globals.svgWidth/2,p=d.offsetY,g="middle";if("left"===d.align?(h=10,g="start"):"right"===d.align&&(h=l.globals.svgWidth-10,g="end"),h+=d.offsetX,p=p+parseInt(d.style.fontSize,10)+d.margin/2,void 0!==d.text){var m=new Le(this.ctx).drawText({x:h,y:p,text:d.text,textAnchor:g,fontSize:d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight,foreColor:d.style.color,opacity:1});m.node.setAttribute("class","apexcharts-".concat(a,"-text")),l.globals.dom.Paper.add(m)}}}]),B}(),Wn=function(){function B(a){Ue(this,B),this.w=a.w,this.dCtx=a}return ot(B,[{key:"getTitleSubtitleCoords",value:function(a){var l=this.w,d=0,h=0,p="title"===a?l.config.title.floating:l.config.subtitle.floating,g=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-text"));if(null!==g&&!p){var m=g.getBoundingClientRect();d=m.width,h=l.globals.axisCharts?m.height+5:m.height}return{width:d,height:h}}},{key:"getLegendsRect",value:function(){var a=this.w,l=a.globals.dom.elLegendWrap;a.config.legend.height||"top"!==a.config.legend.position&&"bottom"!==a.config.legend.position||(l.style.maxHeight=a.globals.svgHeight/2+"px");var d=Object.assign({},he.getBoundingClientRect(l));return this.dCtx.lgRect=null!==l&&!a.config.legend.floating&&a.config.legend.show?{x:d.x,y:d.y,height:d.height,width:0===d.height?0:d.width}:{x:0,y:0,height:0,width:0},"left"!==a.config.legend.position&&"right"!==a.config.legend.position||1.5*this.dCtx.lgRect.width>a.globals.svgWidth&&(this.dCtx.lgRect.width=a.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(a,l){var d=a;if(this.w.globals.isMultiLineX){var h=l.map(function(g,m){return Array.isArray(g)?g.length:1}),p=Math.max.apply(Math,En(h));d=l[h.indexOf(p)]}return d}}]),B}(),yn=function(){function B(a){Ue(this,B),this.w=a.w,this.dCtx=a}return ot(B,[{key:"getxAxisLabelsCoords",value:function(){var a,l=this.w,d=l.globals.labels.slice();if(l.config.xaxis.convertedCatToNumeric&&0===d.length&&(d=l.globals.categoryLabels),l.globals.timescaleLabels.length>0){var h=this.getxAxisTimeScaleLabelsCoords();a={width:h.width,height:h.height},l.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==l.config.legend.position&&"right"!==l.config.legend.position||l.config.legend.floating?0:this.dCtx.lgRect.width;var p=l.globals.xLabelFormatter,g=he.getLargestStringFromArr(d),m=this.dCtx.dimHelpers.getLargestStringFromMultiArr(g,d);l.globals.isBarHorizontal&&(m=g=l.globals.yAxisScale[0].result.reduce(function(O,F){return O.length>F.length?O:F},0));var b=new $r(this.dCtx.ctx),w=g;g=b.xLabelFormat(p,g,w,{i:void 0,dateFormatter:new mn(this.dCtx.ctx).formatDate,w:l}),m=b.xLabelFormat(p,m,w,{i:void 0,dateFormatter:new mn(this.dCtx.ctx).formatDate,w:l}),(l.config.xaxis.convertedCatToNumeric&&void 0===g||""===String(g).trim())&&(m=g="1");var D=new Le(this.dCtx.ctx),I=D.getTextRects(g,l.config.xaxis.labels.style.fontSize),M=I;if(g!==m&&(M=D.getTextRects(m,l.config.xaxis.labels.style.fontSize)),(a={width:I.width>=M.width?I.width:M.width,height:I.height>=M.height?I.height:M.height}).width*d.length>l.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==l.config.xaxis.labels.rotate||l.config.xaxis.labels.rotateAlways){if(!l.globals.isBarHorizontal){l.globals.rotateXLabels=!0;var P=function(O){return D.getTextRects(O,l.config.xaxis.labels.style.fontSize,l.config.xaxis.labels.style.fontFamily,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1)};I=P(g),g!==m&&(M=P(m)),a.height=(I.height>M.height?I.height:M.height)/1.5,a.width=I.width>M.width?I.width:M.width}}else l.globals.rotateXLabels=!1}return l.config.xaxis.labels.show||(a={width:0,height:0}),{width:a.width,height:a.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var a,l=this.w;if(!l.globals.hasXaxisGroups)return{width:0,height:0};var d,h=(null===(a=l.config.xaxis.group.style)||void 0===a?void 0:a.fontSize)||l.config.xaxis.labels.style.fontSize,p=l.globals.groups.map(function(I){return I.title}),g=he.getLargestStringFromArr(p),m=this.dCtx.dimHelpers.getLargestStringFromMultiArr(g,p),b=new Le(this.dCtx.ctx),w=b.getTextRects(g,h),D=w;return g!==m&&(D=b.getTextRects(m,h)),d={width:w.width>=D.width?w.width:D.width,height:w.height>=D.height?w.height:D.height},l.config.xaxis.labels.show||(d={width:0,height:0}),{width:d.width,height:d.height}}},{key:"getxAxisTitleCoords",value:function(){var a=this.w,l=0,d=0;if(void 0!==a.config.xaxis.title.text){var h=new Le(this.dCtx.ctx).getTextRects(a.config.xaxis.title.text,a.config.xaxis.title.style.fontSize);l=h.width,d=h.height}return{width:l,height:d}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var a,l=this.w;this.dCtx.timescaleLabels=l.globals.timescaleLabels.slice();var d=this.dCtx.timescaleLabels.map(function(p){return p.value}),h=d.reduce(function(p,g){return void 0===p?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):p.length>g.length?p:g},0);return 1.05*(a=new Le(this.dCtx.ctx).getTextRects(h,l.config.xaxis.labels.style.fontSize)).width*d.length>l.globals.gridWidth&&0!==l.config.xaxis.labels.rotate&&(l.globals.overlappingXLabels=!0),a}},{key:"additionalPaddingXLabels",value:function(a){var l=this,d=this.w,h=d.globals,p=d.config,g=p.xaxis.type,m=a.width;h.skipLastTimelinelabel=!1,h.skipFirstTimelinelabel=!1;var b=d.config.yaxis[0].opposite&&d.globals.isBarHorizontal;p.yaxis.forEach(function(D,I){b?(l.dCtx.gridPad.left<m&&(l.dCtx.xPadLeft=m/2+1),l.dCtx.xPadRight=m/2+1):function(D,I){p.yaxis.length>1&&-1!==h.collapsedSeriesIndices.indexOf(I)||function(M){if(l.dCtx.timescaleLabels&&l.dCtx.timescaleLabels.length){var F=l.dCtx.timescaleLabels[0].position-m/1.75+l.dCtx.yAxisWidthLeft;l.dCtx.timescaleLabels[l.dCtx.timescaleLabels.length-1].position+m/1.75-l.dCtx.yAxisWidthRight>h.svgWidth-h.translateX-("right"===d.config.legend.position&&l.dCtx.lgRect.width>0?l.dCtx.lgRect.width:0)&&(h.skipLastTimelinelabel=!0),F<-(M.show&&!M.floating||"bar"!==p.chart.type&&"candlestick"!==p.chart.type&&"rangeBar"!==p.chart.type&&"boxPlot"!==p.chart.type?10:m/1.75)&&(h.skipFirstTimelinelabel=!0)}else"datetime"===g?l.dCtx.gridPad.right<m&&!h.rotateXLabels&&(h.skipLastTimelinelabel=!0):"datetime"!==g&&l.dCtx.gridPad.right<m/2-l.dCtx.yAxisWidthRight&&!h.rotateXLabels&&!d.config.xaxis.labels.trim&&("between"!==d.config.xaxis.tickPlacement||d.globals.isBarHorizontal)&&(l.dCtx.xPadRight=m/2+1)}(D)}(D,I)})}}]),B}(),Fi=function(){function B(a){Ue(this,B),this.w=a.w,this.dCtx=a}return ot(B,[{key:"getyAxisLabelsCoords",value:function(){var a=this,l=this.w,d=[],h=10,p=new Je(this.dCtx.ctx);return l.config.yaxis.map(function(g,m){var b={seriesIndex:m,dataPointIndex:-1,w:l},w=l.globals.yAxisScale[m],D=0;if(!p.isYAxisHidden(m)&&g.labels.show&&void 0!==g.labels.minWidth&&(D=g.labels.minWidth),!p.isYAxisHidden(m)&&g.labels.show&&w.result.length){var I=l.globals.yLabelFormatters[m],P=w.result.reduce(function(k,N){var U,X;return(null===(U=String(I(k,b)))||void 0===U?void 0:U.length)>(null===(X=String(I(N,b)))||void 0===X?void 0:X.length)?k:N},w.niceMin===Number.MIN_VALUE?0:w.niceMin),O=P=I(P,b);if(void 0!==P&&0!==P.length||(P=w.niceMax),l.globals.isBarHorizontal){h=0;var F=l.globals.labels.slice();P=he.getLargestStringFromArr(F),P=I(P,{seriesIndex:m,dataPointIndex:-1,w:l}),O=a.dCtx.dimHelpers.getLargestStringFromMultiArr(P,F)}var H=new Le(a.dCtx.ctx),W="rotate(".concat(g.labels.rotate," 0 0)"),q=H.getTextRects(P,g.labels.style.fontSize,g.labels.style.fontFamily,W,!1),x=q;P!==O&&(x=H.getTextRects(O,g.labels.style.fontSize,g.labels.style.fontFamily,W,!1)),d.push({width:(D>x.width||D>q.width?D:x.width>q.width?x.width:q.width)+h,height:x.height>q.height?x.height:q.height})}else d.push({width:0,height:0})}),d}},{key:"getyAxisTitleCoords",value:function(){var a=this,d=[];return this.w.config.yaxis.map(function(h,p){if(h.show&&void 0!==h.title.text){var g=new Le(a.dCtx.ctx),m="rotate(".concat(h.title.rotate," 0 0)"),b=g.getTextRects(h.title.text,h.title.style.fontSize,h.title.style.fontFamily,m,!1);d.push({width:b.width,height:b.height})}else d.push({width:0,height:0})}),d}},{key:"getTotalYAxisWidth",value:function(){var a=this.w,l=0,d=0,h=0,p=a.globals.yAxisScale.length>1?10:0,g=new Je(this.dCtx.ctx),m=function(b,w){var D=a.config.yaxis[w].floating,I=0;b.width>0&&!D?(I=b.width+p,a.globals.ignoreYAxisIndexes.indexOf(w)>-1&&(I=I-b.width-p)):I=D||g.isYAxisHidden(w)?0:5,a.config.yaxis[w].opposite?h+=I:d+=I,l+=I};return a.globals.yLabelsCoords.map(function(b,w){m(b,w)}),a.globals.yTitleCoords.map(function(b,w){m(b,w)}),a.globals.isBarHorizontal&&!a.config.yaxis[0].floating&&(l=a.globals.yLabelsCoords[0].width+a.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=d,this.dCtx.yAxisWidthRight=h,l}}]),B}(),Li=function(){function B(a){Ue(this,B),this.w=a.w,this.dCtx=a}return ot(B,[{key:"gridPadForColumnsInNumericAxis",value:function(a){var l=this.w;if(l.globals.noData||l.globals.allSeriesCollapsed)return 0;var d=function(D){return"bar"===D||"rangeBar"===D||"candlestick"===D||"boxPlot"===D},h=l.config.chart.type,p=0,g=d(h)?l.config.series.length:1;if(l.globals.comboBarCount>0&&(g=l.globals.comboBarCount),l.globals.collapsedSeries.forEach(function(D){d(D.type)&&(g-=1)}),l.config.chart.stacked&&(g=1),(d(h)||l.globals.comboBarCount>0)&&l.globals.isXNumeric&&!l.globals.isBarHorizontal&&g>0){var m,b,w=Math.abs(l.globals.initialMaxX-l.globals.initialMinX);w<=3&&(w=l.globals.dataPoints),m=w/a,l.globals.minXDiff&&l.globals.minXDiff/m>0&&(b=l.globals.minXDiff/m),b>a/2&&(b/=2),(p=b/g*parseInt(l.config.plotOptions.bar.columnWidth,10)/100)<1&&(p=1),l.globals.barPadForNumericAxis=p=p/(g>1?1:1.5)+5}return p}},{key:"gridPadFortitleSubtitle",value:function(){var a=this,l=this.w,d=l.globals,h=this.dCtx.isSparkline||!l.globals.axisCharts?0:10;["title","subtitle"].forEach(function(m){h+=void 0!==l.config[m].text?l.config[m].margin:a.dCtx.isSparkline||!l.globals.axisCharts?0:5}),!l.config.legend.show||"bottom"!==l.config.legend.position||l.config.legend.floating||l.globals.axisCharts||(h+=10);var p=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),g=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");d.gridHeight=d.gridHeight-p.height-g.height-h,d.translateY=d.translateY+p.height+g.height+h}},{key:"setGridXPosForDualYAxis",value:function(a,l){var d=this.w,h=new Je(this.dCtx.ctx);d.config.yaxis.map(function(p,g){-1!==d.globals.ignoreYAxisIndexes.indexOf(g)||p.floating||h.isYAxisHidden(g)||(p.opposite&&(d.globals.translateX=d.globals.translateX-(l[g].width+a[g].width)-parseInt(d.config.yaxis[g].labels.style.fontSize,10)/1.2-12),d.globals.translateX<2&&(d.globals.translateX=2))})}}]),B}(),yr=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Wn(this),this.dimYAxis=new Fi(this),this.dimXAxis=new yn(this),this.dimGrid=new Li(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return ot(B,[{key:"plotCoords",value:function(){var a=this,l=this.w,d=l.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&((l.config.markers.discrete.length>0||l.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(p){var g=In(p,2);a.gridPad[g[0]]=Math.max(g[1],a.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(l.config.stroke.width/2,this.gridPad.top),this.gridPad.bottom=Math.max(l.config.stroke.width/2,this.gridPad.bottom)),d.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),d.gridHeight=d.gridHeight-this.gridPad.top-this.gridPad.bottom,d.gridWidth=d.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var h=this.dimGrid.gridPadForColumnsInNumericAxis(d.gridWidth);d.gridWidth=d.gridWidth-2*h,d.translateX=d.translateX+this.gridPad.left+this.xPadLeft+(h>0?h+4:0),d.translateY=d.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var a=this,l=this.w,d=l.globals,h=this.dimYAxis.getyAxisLabelsCoords(),p=this.dimYAxis.getyAxisTitleCoords();l.globals.yLabelsCoords=[],l.globals.yTitleCoords=[],l.config.yaxis.map(function(P,O){l.globals.yLabelsCoords.push({width:h[O].width,index:O}),l.globals.yTitleCoords.push({width:p[O].width,index:O})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var g=this.dimXAxis.getxAxisLabelsCoords(),m=this.dimXAxis.getxAxisGroupLabelsCoords(),b=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(g,b,m),d.translateXAxisY=l.globals.rotateXLabels?this.xAxisHeight/8:-4,d.translateXAxisX=l.globals.rotateXLabels&&l.globals.isXNumeric&&l.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,l.globals.isBarHorizontal&&(d.rotateXLabels=!1,d.translateXAxisY=parseInt(l.config.xaxis.labels.style.fontSize,10)/1.5*-1),d.translateXAxisY=d.translateXAxisY+l.config.xaxis.labels.offsetY,d.translateXAxisX=d.translateXAxisX+l.config.xaxis.labels.offsetX;var w=this.yAxisWidth,D=this.xAxisHeight;d.xAxisLabelsHeight=this.xAxisHeight-b.height,d.xAxisGroupLabelsHeight=d.xAxisLabelsHeight-g.height,d.xAxisLabelsWidth=this.xAxisWidth,d.xAxisHeight=this.xAxisHeight;var I=10;("radar"===l.config.chart.type||this.isSparkline)&&(w=0,D=d.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===l.config.chart.type)&&(w=0,D=0,I=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(g);var M=function(){d.translateX=w,d.gridHeight=d.svgHeight-a.lgRect.height-D-(a.isSparkline||"treemap"===l.config.chart.type?0:l.globals.rotateXLabels?10:15),d.gridWidth=d.svgWidth-w};switch("top"===l.config.xaxis.position&&(I=d.xAxisHeight-l.config.xaxis.axisTicks.height-5),l.config.legend.position){case"bottom":d.translateY=I,M();break;case"top":d.translateY=this.lgRect.height+I,M();break;case"left":d.translateY=I,d.translateX=this.lgRect.width+w,d.gridHeight=d.svgHeight-D-12,d.gridWidth=d.svgWidth-this.lgRect.width-w;break;case"right":d.translateY=I,d.translateX=w,d.gridHeight=d.svgHeight-D-12,d.gridWidth=d.svgWidth-this.lgRect.width-w-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(p,h),new Si(this.ctx).setYAxisXPosition(h,p)}},{key:"setDimensionsForNonAxisCharts",value:function(){var a=this.w,l=a.globals,d=a.config,h=0;a.config.legend.show&&!a.config.legend.floating&&(h=20);var p="pie"===d.chart.type||"polarArea"===d.chart.type||"donut"===d.chart.type?"pie":"radialBar",g=d.plotOptions[p].offsetY,m=d.plotOptions[p].offsetX;if(!d.legend.show||d.legend.floating)return l.gridHeight=l.svgHeight-d.grid.padding.left+d.grid.padding.right,l.gridWidth=l.gridHeight,l.translateY=g,void(l.translateX=m+(l.svgWidth-l.gridWidth)/2);switch(d.legend.position){case"bottom":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=g-10,l.translateX=m+(l.svgWidth-l.gridWidth)/2;break;case"top":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=this.lgRect.height+g+10,l.translateX=m+(l.svgWidth-l.gridWidth)/2;break;case"left":l.gridWidth=l.svgWidth-this.lgRect.width-h,l.gridHeight="auto"!==d.chart.height?l.svgHeight:l.gridWidth,l.translateY=g,l.translateX=m+this.lgRect.width+h;break;case"right":l.gridWidth=l.svgWidth-this.lgRect.width-h-5,l.gridHeight="auto"!==d.chart.height?l.svgHeight:l.gridWidth,l.translateY=g,l.translateX=m+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(a,l,d){var h=this.w;this.xAxisHeight=(d.height+a.height+l.height)*(h.globals.isMultiLineX?1.2:h.globals.LINE_HEIGHT_RATIO)+(h.globals.hasXaxisGroups?2:1)*(h.globals.rotateXLabels?22:10)+(h.globals.rotateXLabels&&"bottom"===h.config.legend.position?10:0),this.xAxisWidth=a.width,this.xAxisHeight-l.height>h.config.xaxis.labels.maxHeight&&(this.xAxisHeight=h.config.xaxis.labels.maxHeight),h.config.xaxis.labels.minHeight&&this.xAxisHeight<h.config.xaxis.labels.minHeight&&(this.xAxisHeight=h.config.xaxis.labels.minHeight),h.config.xaxis.floating&&(this.xAxisHeight=0);var D=0,I=0;h.config.yaxis.forEach(function(M){D+=M.labels.minWidth,I+=M.labels.maxWidth}),this.yAxisWidth<D&&(this.yAxisWidth=D),this.yAxisWidth>I&&(this.yAxisWidth=I)}}]),B}(),Ds=function(){function B(a){Ue(this,B),this.w=a.w,this.lgCtx=a}return ot(B,[{key:"getLegendStyles",value:function(){var a=document.createElement("style");a.setAttribute("type","text/css");var l=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return a.appendChild(l),a}},{key:"getLegendBBox",value:function(){var a=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:a.height,clww:a.width}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(a,l){var d=this,h=this.w;if(h.globals.axisCharts||"radialBar"===h.config.chart.type){h.globals.resized=!0;var p=null,g=null;h.globals.risingSeries=[],h.globals.axisCharts?(p=h.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),g=parseInt(p.getAttribute("data:realIndex"),10)):(p=h.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")),g=parseInt(p.getAttribute("rel"),10)-1),l?[{cs:h.globals.collapsedSeries,csi:h.globals.collapsedSeriesIndices},{cs:h.globals.ancillaryCollapsedSeries,csi:h.globals.ancillaryCollapsedSeriesIndices}].forEach(function(D){d.riseCollapsedSeries(D.cs,D.csi,g)}):this.hideSeries({seriesEl:p,realIndex:g})}else{var m=h.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(a+1,"'] path")),b=h.config.chart.type;if("pie"===b||"polarArea"===b||"donut"===b){var w=h.config.plotOptions.pie.donut.labels;new Le(this.lgCtx.ctx).pathMouseDown(m.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(m.members[0].node,w)}m.fire("click")}}},{key:"hideSeries",value:function(a){var l=a.seriesEl,d=a.realIndex,h=this.w,p=he.clone(h.config.series);if(h.globals.axisCharts){var g=!1;if(h.config.yaxis[d]&&h.config.yaxis[d].show&&h.config.yaxis[d].showAlways&&(g=!0,h.globals.ancillaryCollapsedSeriesIndices.indexOf(d)<0&&(h.globals.ancillaryCollapsedSeries.push({index:d,data:p[d].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),h.globals.ancillaryCollapsedSeriesIndices.push(d))),!g){h.globals.collapsedSeries.push({index:d,data:p[d].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),h.globals.collapsedSeriesIndices.push(d);var m=h.globals.risingSeries.indexOf(d);h.globals.risingSeries.splice(m,1)}}else h.globals.collapsedSeries.push({index:d,data:p[d]}),h.globals.collapsedSeriesIndices.push(d);for(var b=l.childNodes,w=0;w<b.length;w++)b[w].classList.contains("apexcharts-series-markers-wrap")&&(b[w].classList.contains("apexcharts-hide")?b[w].classList.remove("apexcharts-hide"):b[w].classList.add("apexcharts-hide"));h.globals.allSeriesCollapsed=h.globals.collapsedSeries.length===h.config.series.length,p=this._getSeriesBasedOnCollapsedState(p),this.lgCtx.ctx.updateHelpers._updateSeries(p,h.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(a,l,d){var h=this.w,p=he.clone(h.config.series);if(a.length>0){for(var g=0;g<a.length;g++)a[g].index===d&&(h.globals.axisCharts?(p[d].data=a[g].data.slice(),a.splice(g,1),l.splice(g,1),h.globals.risingSeries.push(d)):(p[d]=a[g].data,a.splice(g,1),l.splice(g,1),h.globals.risingSeries.push(d)));p=this._getSeriesBasedOnCollapsedState(p),this.lgCtx.ctx.updateHelpers._updateSeries(p,h.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(a){var l=this.w;return a.forEach(l.globals.axisCharts?function(d,h){l.globals.collapsedSeriesIndices.indexOf(h)>-1&&(a[h].data=[])}:function(d,h){l.globals.collapsedSeriesIndices.indexOf(h)>-1&&(a[h]=0)}),a}}]),B}(),Xi=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new Ds(this)}return ot(B,[{key:"init",value:function(){var a=this.w,l=a.globals,d=a.config;if((d.legend.showForSingleSeries&&1===l.series.length||this.isBarsDistributed||l.series.length>1||!l.axisCharts)&&d.legend.show){for(;l.dom.elLegendWrap.firstChild;)l.dom.elLegendWrap.removeChild(l.dom.elLegendWrap.firstChild);this.drawLegends(),he.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===d.legend.position||"top"===d.legend.position?this.legendAlignHorizontal():"right"!==d.legend.position&&"left"!==d.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var a=this,l=this.w,d=l.config.legend.fontFamily,h=l.globals.seriesNames,p=l.globals.colors.slice();if("heatmap"===l.config.chart.type){var g=l.config.plotOptions.heatmap.colorScale.ranges;h=g.map(function(He){return He.name?He.name:He.from+" - "+He.to}),p=g.map(function(He){return He.color})}else this.isBarsDistributed&&(h=l.globals.labels.slice());l.config.legend.customLegendItems.length&&(h=l.config.legend.customLegendItems);for(var m=l.globals.legendFormatter,b=l.config.legend.inverseOrder,w=b?h.length-1:0;b?w>=0:w<=h.length-1;b?w--:w++){var D,I=m(h[w],{seriesIndex:w,w:l}),M=!1,P=!1;if(l.globals.collapsedSeries.length>0)for(var O=0;O<l.globals.collapsedSeries.length;O++)l.globals.collapsedSeries[O].index===w&&(M=!0);if(l.globals.ancillaryCollapsedSeriesIndices.length>0)for(var F=0;F<l.globals.ancillaryCollapsedSeriesIndices.length;F++)l.globals.ancillaryCollapsedSeriesIndices[F]===w&&(P=!0);var H=document.createElement("span");H.classList.add("apexcharts-legend-marker");var W=l.config.legend.markers.offsetX,q=l.config.legend.markers.offsetY,x=l.config.legend.markers.height,k=l.config.legend.markers.width,N=l.config.legend.markers.strokeWidth,U=l.config.legend.markers.strokeColor,X=l.config.legend.markers.radius,Y=H.style;Y.background=p[w],Y.color=p[w],Y.setProperty("background",p[w],"important"),l.config.legend.markers.fillColors&&l.config.legend.markers.fillColors[w]&&(Y.background=l.config.legend.markers.fillColors[w]),void 0!==l.globals.seriesColors[w]&&(Y.background=l.globals.seriesColors[w],Y.color=l.globals.seriesColors[w]),Y.height=Array.isArray(x)?parseFloat(x[w])+"px":parseFloat(x)+"px",Y.width=Array.isArray(k)?parseFloat(k[w])+"px":parseFloat(k)+"px",Y.left=(Array.isArray(W)?parseFloat(W[w]):parseFloat(W))+"px",Y.top=(Array.isArray(q)?parseFloat(q[w]):parseFloat(q))+"px",Y.borderWidth=Array.isArray(N)?N[w]:N,Y.borderColor=Array.isArray(U)?U[w]:U,Y.borderRadius=Array.isArray(X)?parseFloat(X[w])+"px":parseFloat(X)+"px",l.config.legend.markers.customHTML&&(Array.isArray(l.config.legend.markers.customHTML)?l.config.legend.markers.customHTML[w]&&(H.innerHTML=l.config.legend.markers.customHTML[w]()):H.innerHTML=l.config.legend.markers.customHTML()),Le.setAttrs(H,{rel:w+1,"data:collapsed":M||P}),(M||P)&&H.classList.add("apexcharts-inactive-legend");var pe=document.createElement("div"),ge=document.createElement("span");ge.classList.add("apexcharts-legend-text"),ge.innerHTML=Array.isArray(I)?I.join(" "):I;var Me=l.config.legend.labels.useSeriesColors?l.globals.colors[w]:Array.isArray(l.config.legend.labels.colors)?null===(D=l.config.legend.labels.colors)||void 0===D?void 0:D[w]:l.config.legend.labels.colors;Me||(Me=l.config.chart.foreColor),ge.style.color=Me,ge.style.fontSize=parseFloat(l.config.legend.fontSize)+"px",ge.style.fontWeight=l.config.legend.fontWeight,ge.style.fontFamily=d||l.config.chart.fontFamily,Le.setAttrs(ge,{rel:w+1,i:w,"data:default-text":encodeURIComponent(I),"data:collapsed":M||P}),pe.appendChild(H),pe.appendChild(ge);var re=new Vt(this.ctx);l.config.legend.showForZeroSeries||0===re.getSeriesTotalByIndex(w)&&re.seriesHaveSameValues(w)&&!re.isSeriesNull(w)&&-1===l.globals.collapsedSeriesIndices.indexOf(w)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(w)&&pe.classList.add("apexcharts-hidden-zero-series"),l.config.legend.showForNullSeries||re.isSeriesNull(w)&&-1===l.globals.collapsedSeriesIndices.indexOf(w)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(w)&&pe.classList.add("apexcharts-hidden-null-series"),l.globals.dom.elLegendWrap.appendChild(pe),l.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(l.config.legend.horizontalAlign)),l.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+l.config.legend.position),pe.classList.add("apexcharts-legend-series"),pe.style.margin="".concat(l.config.legend.itemMargin.vertical,"px ").concat(l.config.legend.itemMargin.horizontal,"px"),l.globals.dom.elLegendWrap.style.width=l.config.legend.width?l.config.legend.width+"px":"",l.globals.dom.elLegendWrap.style.height=l.config.legend.height?l.config.legend.height+"px":"",Le.setAttrs(pe,{rel:w+1,seriesName:he.escapeString(h[w]),"data:collapsed":M||P}),(M||P)&&pe.classList.add("apexcharts-inactive-legend"),l.config.legend.onItemClick.toggleDataSeries||pe.classList.add("apexcharts-no-click")}l.globals.dom.elWrap.addEventListener("click",a.onLegendClick,!0),l.config.legend.onItemHover.highlightDataSeries&&0===l.config.legend.customLegendItems.length&&(l.globals.dom.elWrap.addEventListener("mousemove",a.onLegendHovered,!0),l.globals.dom.elWrap.addEventListener("mouseout",a.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(a,l){var d=this.w,h=d.globals.dom.elLegendWrap,p=h.getBoundingClientRect(),g=0,m=0;if("bottom"===d.config.legend.position)m+=d.globals.svgHeight-p.height/2;else if("top"===d.config.legend.position){var b=new yr(this.ctx),w=b.dimHelpers.getTitleSubtitleCoords("title").height,D=b.dimHelpers.getTitleSubtitleCoords("subtitle").height;m=m+(w>0?w-10:0)+(D>0?D-10:0)}h.style.position="absolute",m=m+l+d.config.legend.offsetY,h.style.left=(g=g+a+d.config.legend.offsetX)+"px",h.style.top=m+"px","bottom"===d.config.legend.position?(h.style.top="auto",h.style.bottom=5-d.config.legend.offsetY+"px"):"right"===d.config.legend.position&&(h.style.left="auto",h.style.right=25+d.config.legend.offsetX+"px"),["width","height"].forEach(function(I){h.style[I]&&(h.style[I]=parseInt(d.config.legend[I],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var a=this.w;a.globals.dom.elLegendWrap.style.right=0;var l=this.legendHelpers.getLegendBBox(),d=new yr(this.ctx),h=d.dimHelpers.getTitleSubtitleCoords("title"),p=d.dimHelpers.getTitleSubtitleCoords("subtitle"),g=0;"bottom"===a.config.legend.position?g=-l.clwh/1.8:"top"===a.config.legend.position&&(g=h.height+p.height+a.config.title.margin+a.config.subtitle.margin-10),this.setLegendWrapXY(20,g)}},{key:"legendAlignVertical",value:function(){var a=this.w,l=this.legendHelpers.getLegendBBox(),d=0;"left"===a.config.legend.position&&(d=20),"right"===a.config.legend.position&&(d=a.globals.svgWidth-l.clww-10),this.setLegendWrapXY(d,20)}},{key:"onLegendHovered",value:function(a){var l=this.w,d=a.target.classList.contains("apexcharts-legend-series")||a.target.classList.contains("apexcharts-legend-text")||a.target.classList.contains("apexcharts-legend-marker");if("heatmap"===l.config.chart.type||this.isBarsDistributed){if(d){var h=parseInt(a.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,h,this.w]),new lt(this.ctx).highlightRangeInSeries(a,a.target)}}else!a.target.classList.contains("apexcharts-inactive-legend")&&d&&new lt(this.ctx).toggleSeriesOnHover(a,a.target)}},{key:"onLegendClick",value:function(a){var l=this.w;if(!l.config.legend.customLegendItems.length&&(a.target.classList.contains("apexcharts-legend-series")||a.target.classList.contains("apexcharts-legend-text")||a.target.classList.contains("apexcharts-legend-marker"))){var d=parseInt(a.target.getAttribute("rel"),10)-1,h="true"===a.target.getAttribute("data:collapsed"),p=this.w.config.chart.events.legendClick;"function"==typeof p&&p(this.ctx,d,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,d,this.w]);var g=this.w.config.legend.markers.onClick;"function"==typeof g&&a.target.classList.contains("apexcharts-legend-marker")&&(g(this.ctx,d,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,d,this.w])),"treemap"!==l.config.chart.type&&"heatmap"!==l.config.chart.type&&!this.isBarsDistributed&&l.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(d,h)}}}]),B}(),sr=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w;var l=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=l.globals.minX,this.maxX=l.globals.maxX}return ot(B,[{key:"createToolbar",value:function(){var a=this,l=this.w,d=function(){return document.createElement("div")},h=d();if(h.setAttribute("class","apexcharts-toolbar"),h.style.top=l.config.chart.toolbar.offsetY+"px",h.style.right=3-l.config.chart.toolbar.offsetX+"px",l.globals.dom.elWrap.appendChild(h),this.elZoom=d(),this.elZoomIn=d(),this.elZoomOut=d(),this.elPan=d(),this.elSelection=d(),this.elZoomReset=d(),this.elMenuIcon=d(),this.elMenu=d(),this.elCustomIcons=[],this.t=l.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var p=0;p<this.t.customIcons.length;p++)this.elCustomIcons.push(d());var g=[],m=function(I,M,P){var O=I.toLowerCase();a.t[O]&&l.config.chart.zoom.enabled&&g.push({el:M,icon:"string"==typeof a.t[O]?a.t[O]:P,title:a.localeValues[I],class:"apexcharts-".concat(O,"-icon")})};m("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),m("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var b=function(I){a.t[I]&&l.config.chart[I].enabled&&g.push({el:"zoom"===I?a.elZoom:a.elSelection,icon:"string"==typeof a.t[I]?a.t[I]:"zoom"===I?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:a.localeValues["zoom"===I?"selectionZoom":"selection"],class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(I,"-icon")})};b("zoom"),b("selection"),this.t.pan&&l.config.chart.zoom.enabled&&g.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),m("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&g.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var w=0;w<this.elCustomIcons.length;w++)g.push({el:this.elCustomIcons[w],icon:this.t.customIcons[w].icon,title:this.t.customIcons[w].title,index:this.t.customIcons[w].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[w].class});g.forEach(function(I,M){I.index&&he.moveIndexInArray(g,M,I.index)});for(var D=0;D<g.length;D++)Le.setAttrs(g[D].el,{class:g[D].class,title:g[D].title}),g[D].el.innerHTML=g[D].icon,h.appendChild(g[D].el);this._createHamburgerMenu(h),l.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):l.globals.panEnabled?this.elPan.classList.add(this.selectedClass):l.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(a){this.elMenuItems=[],a.appendChild(this.elMenu),Le.setAttrs(this.elMenu,{class:"apexcharts-menu"});var l=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||l.splice(2,1);for(var d=0;d<l.length;d++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[d].innerHTML=l[d].title,Le.setAttrs(this.elMenuItems[d],{class:"apexcharts-menu-item ".concat(l[d].name),title:l[d].title}),this.elMenu.appendChild(this.elMenuItems[d])}},{key:"addToolbarEventListeners",value:function(){var a=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(d){d.classList.contains("exportSVG")?d.addEventListener("click",a.handleDownload.bind(a,"svg")):d.classList.contains("exportPNG")?d.addEventListener("click",a.handleDownload.bind(a,"png")):d.classList.contains("exportCSV")&&d.addEventListener("click",a.handleDownload.bind(a,"csv"))});for(var l=0;l<this.t.customIcons.length;l++)this.elCustomIcons[l].addEventListener("click",this.t.customIcons[l].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(a){this.ctx.getSyncedCharts().forEach(function(l){l.ctx.toolbar.toggleOtherControls();var d="selection"===a?l.ctx.toolbar.elSelection:l.ctx.toolbar.elZoom,h="selection"===a?"selectionEnabled":"zoomEnabled";l.w.globals[h]=!l.w.globals[h],d.classList.contains(l.ctx.toolbar.selectedClass)?d.classList.remove(l.ctx.toolbar.selectedClass):d.classList.add(l.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var a=this.w;this.elZoom||(this.elZoom=a.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=a.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=a.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(a){this.toggleOtherControls(),"pan"===a?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var l="pan"===a?this.elPan:this.elZoom,d="pan"===a?this.elZoom:this.elPan;l&&l.classList.add(this.selectedClass),d&&d.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(a){a.ctx.toolbar.toggleOtherControls(),a.w.globals.panEnabled=!a.w.globals.panEnabled,a.ctx.toolbar.elPan.classList.contains(a.ctx.toolbar.selectedClass)?a.ctx.toolbar.elPan.classList.remove(a.ctx.toolbar.selectedClass):a.ctx.toolbar.elPan.classList.add(a.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var a=this,l=this.w;l.globals.panEnabled=!1,l.globals.zoomEnabled=!1,l.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(d){d&&d.classList.remove(a.selectedClass)})}},{key:"handleZoomIn",value:function(){var a=this.w;a.globals.isRangeBar&&(this.minX=a.globals.minY,this.maxX=a.globals.maxY);var l=(this.minX+this.maxX)/2,p=this._getNewMinXMaxX((this.minX+l)/2,(this.maxX+l)/2);a.globals.disableZoomIn||this.zoomUpdateOptions(p.minX,p.maxX)}},{key:"handleZoomOut",value:function(){var a=this.w;if(a.globals.isRangeBar&&(this.minX=a.globals.minY,this.maxX=a.globals.maxY),!("datetime"===a.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var l=(this.minX+this.maxX)/2,p=this._getNewMinXMaxX(this.minX-(l-this.minX),this.maxX-(l-this.maxX));a.globals.disableZoomOut||this.zoomUpdateOptions(p.minX,p.maxX)}}},{key:"_getNewMinXMaxX",value:function(a,l){var d=this.w.config.xaxis.convertedCatToNumeric;return{minX:d?Math.floor(a):a,maxX:d?Math.floor(l):l}}},{key:"zoomUpdateOptions",value:function(a,l){var d=this.w;if(void 0!==a||void 0!==l){if(!(d.config.xaxis.convertedCatToNumeric&&(a<1&&(a=1,l=d.globals.dataPoints),l-a<2))){var h={min:a,max:l},p=this.getBeforeZoomRange(h);p&&(h=p.xaxis);var g={xaxis:h},m=he.clone(d.globals.initialConfig.yaxis);d.config.chart.zoom.autoScaleYaxis&&(m=new Pn(this.ctx).autoScaleY(this.ctx,m,{xaxis:h})),d.config.chart.group||(g.yaxis=m),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(g,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(h,m)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(a,l){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:a,yaxis:l})}},{key:"getBeforeZoomRange",value:function(a,l){var d=null;return"function"==typeof this.ev.beforeZoom&&(d=this.ev.beforeZoom(this,{xaxis:a,yaxis:l})),d}},{key:"toggleMenu",value:function(){var a=this;window.setTimeout(function(){a.elMenu.classList.contains("apexcharts-menu-open")?a.elMenu.classList.remove("apexcharts-menu-open"):a.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(a){var l=this.w,d=new At(this.ctx);switch(a){case"svg":d.exportToSVG(this.ctx);break;case"png":d.exportToPng(this.ctx);break;case"csv":d.exportToCSV({series:l.config.series,columnDelimiter:l.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(a){this.ctx.getSyncedCharts().forEach(function(l){var d=l.w;if(d.globals.lastXAxis.min=d.globals.initialConfig.xaxis.min,d.globals.lastXAxis.max=d.globals.initialConfig.xaxis.max,l.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof d.config.chart.events.beforeResetZoom){var h=d.config.chart.events.beforeResetZoom(l,d);h&&l.updateHelpers.revertDefaultAxisMinMax(h)}"function"==typeof d.config.chart.events.zoomed&&l.ctx.toolbar.zoomCallback({min:d.config.xaxis.min,max:d.config.xaxis.max}),d.globals.zoomed=!1;var p=l.ctx.series.emptyCollapsedSeries(he.clone(d.globals.initialSeries));l.updateHelpers._updateSeries(p,d.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),B}(),On=function(B){cn(l,sr);var a=on(l);function l(d){var h;return Ue(this,l),(h=a.call(this,d)).ctx=d,h.w=d.w,h.dragged=!1,h.graphics=new Le(h.ctx),h.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],h.clientX=0,h.clientY=0,h.startX=0,h.endX=0,h.dragX=0,h.startY=0,h.endY=0,h.dragY=0,h.moveDirection="none",h}return ot(l,[{key:"init",value:function(d){var h=this,p=d.xyRatios,g=this.w,m=this;this.xyRatios=p,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=g.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),g.globals.dom.elGraphical.add(this.zoomRect),g.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===g.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:g.globals.gridWidth,maxY:g.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===g.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:g.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=g.globals.dom.baseEl.querySelector("".concat(g.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(b){h.hoverArea.addEventListener(b,m.svgMouseEvents.bind(m,p),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(d,h){var p=this.w,g=this,m=this.ctx.toolbar,b=p.globals.zoomEnabled?p.config.chart.zoom.type:p.config.chart.selection.type,w=p.config.chart.toolbar.autoSelected;if(h.shiftKey?(this.shiftWasPressed=!0,m.enableZoomPanFromToolbar("pan"===w?"zoom":"pan")):this.shiftWasPressed&&(m.enableZoomPanFromToolbar(w),this.shiftWasPressed=!1),h.target){var D,I=h.target.classList;if(h.target.parentNode&&null!==h.target.parentNode&&(D=h.target.parentNode.classList),!(I.contains("apexcharts-selection-rect")||I.contains("apexcharts-legend-marker")||I.contains("apexcharts-legend-text")||D&&D.contains("apexcharts-toolbar"))){if(g.clientX="touchmove"===h.type||"touchstart"===h.type?h.touches[0].clientX:"touchend"===h.type?h.changedTouches[0].clientX:h.clientX,g.clientY="touchmove"===h.type||"touchstart"===h.type?h.touches[0].clientY:"touchend"===h.type?h.changedTouches[0].clientY:h.clientY,"mousedown"===h.type&&1===h.which){var M=g.gridRect.getBoundingClientRect();g.startX=g.clientX-M.left,g.startY=g.clientY-M.top,g.dragged=!1,g.w.globals.mousedown=!0}if(("mousemove"===h.type&&1===h.which||"touchmove"===h.type)&&(g.dragged=!0,p.globals.panEnabled?(p.globals.selection=null,g.w.globals.mousedown&&g.panDragging({context:g,zoomtype:b,xyRatios:d})):(g.w.globals.mousedown&&p.globals.zoomEnabled||g.w.globals.mousedown&&p.globals.selectionEnabled)&&(g.selection=g.selectionDrawing({context:g,zoomtype:b}))),"mouseup"===h.type||"touchend"===h.type||"mouseleave"===h.type){var P=g.gridRect.getBoundingClientRect();g.w.globals.mousedown&&(g.endX=g.clientX-P.left,g.endY=g.clientY-P.top,g.dragX=Math.abs(g.endX-g.startX),g.dragY=Math.abs(g.endY-g.startY),(p.globals.zoomEnabled||p.globals.selectionEnabled)&&g.selectionDrawn({context:g,zoomtype:b}),p.globals.panEnabled&&p.config.xaxis.convertedCatToNumeric&&g.delayedPanScrolled()),p.globals.zoomEnabled&&g.hideSelectionRect(this.selectionRect),g.dragged=!1,g.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var d=this.w;if(this.selectionRect){var h=this.selectionRect.node.getBoundingClientRect();h.width>0&&h.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:d.globals.gridWidth,maxY:d.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var d=this.w,h=this.xyRatios;if(!d.globals.zoomEnabled)if(null!=d.globals.selection)this.drawSelectionRect(d.globals.selection);else if(void 0!==d.config.chart.selection.xaxis.min&&void 0!==d.config.chart.selection.xaxis.max){var p=(d.config.chart.selection.xaxis.min-d.globals.minX)/h.xRatio;this.drawSelectionRect({x:p,y:0,width:d.globals.gridWidth-(d.globals.maxX-d.config.chart.selection.xaxis.max)/h.xRatio-p,height:d.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof d.config.chart.events.selection&&d.config.chart.events.selection(this.ctx,{xaxis:{min:d.config.chart.selection.xaxis.min,max:d.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(d){var h=d.x,p=d.y,g=d.width,m=d.height,b=d.translateX,D=d.translateY,M=this.w,P=this.zoomRect,O=this.selectionRect;if(this.dragged||null!==M.globals.selection){var F={transform:"translate("+(void 0===b?0:b)+", "+(void 0===D?0:D)+")"};M.globals.zoomEnabled&&this.dragged&&(g<0&&(g=1),P.attr({x:h,y:p,width:g,height:m,fill:M.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":M.config.chart.zoom.zoomedArea.fill.opacity,stroke:M.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":M.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":M.config.chart.zoom.zoomedArea.stroke.opacity}),Le.setAttrs(P.node,F)),M.globals.selectionEnabled&&(O.attr({x:h,y:p,width:g>0?g:0,height:m>0?m:0,fill:M.config.chart.selection.fill.color,"fill-opacity":M.config.chart.selection.fill.opacity,stroke:M.config.chart.selection.stroke.color,"stroke-width":M.config.chart.selection.stroke.width,"stroke-dasharray":M.config.chart.selection.stroke.dashArray,"stroke-opacity":M.config.chart.selection.stroke.opacity}),Le.setAttrs(O.node,F))}}},{key:"hideSelectionRect",value:function(d){d&&d.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(d){var F,p=d.zoomtype,g=this.w,m=d.context,b=this.gridRect.getBoundingClientRect(),w=m.startX-1,D=m.startY,I=!1,M=!1,P=m.clientX-b.left-w,O=m.clientY-b.top-D;return Math.abs(P+w)>g.globals.gridWidth?P=g.globals.gridWidth-w:m.clientX-b.left<0&&(P=w),w>m.clientX-b.left&&(I=!0,P=Math.abs(P)),D>m.clientY-b.top&&(M=!0,O=Math.abs(O)),m.drawSelectionRect(F="x"===p?{x:I?w-P:w,y:0,width:P,height:g.globals.gridHeight}:"y"===p?{x:0,y:M?D-O:D,width:g.globals.gridWidth,height:O}:{x:I?w-P:w,y:M?D-O:D,width:P,height:O}),m.selectionDragging("resizing"),F}},{key:"selectionDragging",value:function(d,h){var p=this,g=this.w,m=this.xyRatios,b=this.selectionRect,w=0;"resizing"===d&&(w=30);var D=function(M){return parseFloat(b.node.getAttribute(M))},I={x:D("x"),y:D("y"),width:D("width"),height:D("height")};g.globals.selection=I,"function"==typeof g.config.chart.events.selection&&g.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var M=p.gridRect.getBoundingClientRect(),P=b.node.getBoundingClientRect(),O={xaxis:{min:g.globals.xAxisScale.niceMin+(P.left-M.left)*m.xRatio,max:g.globals.xAxisScale.niceMin+(P.right-M.left)*m.xRatio},yaxis:{min:g.globals.yAxisScale[0].niceMin+(M.bottom-P.bottom)*m.yRatio[0],max:g.globals.yAxisScale[0].niceMax-(P.top-M.top)*m.yRatio[0]}};g.config.chart.events.selection(p.ctx,O),g.config.chart.brush.enabled&&void 0!==g.config.chart.events.brushScrolled&&g.config.chart.events.brushScrolled(p.ctx,O)},w))}},{key:"selectionDrawn",value:function(d){var p=d.zoomtype,g=this.w,m=d.context,b=this.xyRatios,w=this.ctx.toolbar;if(m.startX>m.endX){var D=m.startX;m.startX=m.endX,m.endX=D}if(m.startY>m.endY){var I=m.startY;m.startY=m.endY,m.endY=I}var M=void 0,P=void 0;g.globals.isRangeBar?(M=g.globals.yAxisScale[0].niceMin+m.startX*b.invertedYRatio,P=g.globals.yAxisScale[0].niceMin+m.endX*b.invertedYRatio):(M=g.globals.xAxisScale.niceMin+m.startX*b.xRatio,P=g.globals.xAxisScale.niceMin+m.endX*b.xRatio);var O=[],F=[];if(g.config.yaxis.forEach(function(X,Y){O.push(g.globals.yAxisScale[Y].niceMax-b.yRatio[Y]*m.startY),F.push(g.globals.yAxisScale[Y].niceMax-b.yRatio[Y]*m.endY)}),m.dragged&&(m.dragX>10||m.dragY>10)&&M!==P)if(g.globals.zoomEnabled){var H=he.clone(g.globals.initialConfig.yaxis),W=he.clone(g.globals.initialConfig.xaxis);if(g.globals.zoomed=!0,g.config.xaxis.convertedCatToNumeric&&(M=Math.floor(M),P=Math.floor(P),M<1&&(M=1,P=g.globals.dataPoints),P-M<2&&(P=M+1)),"xy"!==p&&"x"!==p||(W={min:M,max:P}),"xy"!==p&&"y"!==p||H.forEach(function(X,Y){H[Y].min=F[Y],H[Y].max=O[Y]}),g.config.chart.zoom.autoScaleYaxis){var q=new Pn(m.ctx);H=q.autoScaleY(m.ctx,H,{xaxis:W})}if(w){var x=w.getBeforeZoomRange(W,H);x&&(W=x.xaxis?x.xaxis:W,H=x.yaxis?x.yaxis:H)}var k={xaxis:W};g.config.chart.group||(k.yaxis=H),m.ctx.updateHelpers._updateOptions(k,!1,m.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof g.config.chart.events.zoomed&&w.zoomCallback(W,H)}else if(g.globals.selectionEnabled){var N,U=null;N={min:M,max:P},"xy"!==p&&"y"!==p||(U=he.clone(g.config.yaxis)).forEach(function(X,Y){U[Y].min=F[Y],U[Y].max=O[Y]}),g.globals.selection=m.selection,"function"==typeof g.config.chart.events.selection&&g.config.chart.events.selection(m.ctx,{xaxis:N,yaxis:U})}}},{key:"panDragging",value:function(d){var p=this.w,g=d.context;if(void 0!==p.globals.lastClientPosition.x){var m=p.globals.lastClientPosition.x-g.clientX,b=p.globals.lastClientPosition.y-g.clientY;Math.abs(m)>Math.abs(b)&&m>0?this.moveDirection="left":Math.abs(m)>Math.abs(b)&&m<0?this.moveDirection="right":Math.abs(b)>Math.abs(m)&&b>0?this.moveDirection="up":Math.abs(b)>Math.abs(m)&&b<0&&(this.moveDirection="down")}p.globals.lastClientPosition={x:g.clientX,y:g.clientY},p.config.xaxis.convertedCatToNumeric||g.panScrolled(p.globals.isRangeBar?p.globals.minY:p.globals.minX,p.globals.isRangeBar?p.globals.maxY:p.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var d=this.w,h=d.globals.minX,p=d.globals.maxX,g=(d.globals.maxX-d.globals.minX)/2;"left"===this.moveDirection?(h=d.globals.minX+g,p=d.globals.maxX+g):"right"===this.moveDirection&&(h=d.globals.minX-g,p=d.globals.maxX-g),h=Math.floor(h),p=Math.floor(p),this.updateScrolledChart({xaxis:{min:h,max:p}},h,p)}},{key:"panScrolled",value:function(d,h){var p=this.w,g=this.xyRatios,m=he.clone(p.globals.initialConfig.yaxis),b=g.xRatio,w=p.globals.minX,D=p.globals.maxX;p.globals.isRangeBar&&(b=g.invertedYRatio,w=p.globals.minY,D=p.globals.maxY),"left"===this.moveDirection?(d=w+p.globals.gridWidth/15*b,h=D+p.globals.gridWidth/15*b):"right"===this.moveDirection&&(d=w-p.globals.gridWidth/15*b,h=D-p.globals.gridWidth/15*b),p.globals.isRangeBar||(d<p.globals.initialMinX||h>p.globals.initialMaxX)&&(d=w,h=D);var I={min:d,max:h};p.config.chart.zoom.autoScaleYaxis&&(m=new Pn(this.ctx).autoScaleY(this.ctx,m,{xaxis:I}));var M={xaxis:{min:d,max:h}};p.config.chart.group||(M.yaxis=m),this.updateScrolledChart(M,d,h)}},{key:"updateScrolledChart",value:function(d,h,p){var g=this.w;this.ctx.updateHelpers._updateOptions(d,!1,!1),"function"==typeof g.config.chart.events.scrolled&&g.config.chart.events.scrolled(this.ctx,{xaxis:{min:h,max:p}})}}]),l}(),Gn=function(){function B(a){Ue(this,B),this.w=a.w,this.ttCtx=a,this.ctx=a.ctx}return ot(B,[{key:"getNearestValues",value:function(a){var l=a.hoverArea,h=a.clientX,p=a.clientY,g=this.w,m=a.elGrid.getBoundingClientRect(),b=m.width,w=m.height,D=b/(g.globals.dataPoints-1),I=w/g.globals.dataPoints,M=this.hasBars();!g.globals.comboCharts&&!M||g.config.xaxis.convertedCatToNumeric||(D=b/g.globals.dataPoints);var P=h-m.left-g.globals.barPadForNumericAxis,O=p-m.top;P<0||O<0||P>b||O>w?(l.classList.remove("hovering-zoom"),l.classList.remove("hovering-pan")):g.globals.zoomEnabled?(l.classList.remove("hovering-pan"),l.classList.add("hovering-zoom")):g.globals.panEnabled&&(l.classList.remove("hovering-zoom"),l.classList.add("hovering-pan"));var F=Math.round(P/D),H=Math.floor(O/I);M&&!g.config.xaxis.convertedCatToNumeric&&(F=Math.ceil(P/D),F-=1);var W=null,q=null,x=g.globals.seriesXvalues.map(function(Y){return Y.filter(function(pe){return he.isNumber(pe)})}),k=g.globals.seriesYvalues.map(function(Y){return Y.filter(function(pe){return he.isNumber(pe)})});if(g.globals.isXNumeric){var N=this.ttCtx.getElGrid().getBoundingClientRect(),U=P*(N.width/b);W=(q=this.closestInMultiArray(U,O*(N.height/w),x,k)).index,F=q.j,null!==W&&(F=(q=this.closestInArray(U,x=g.globals.seriesXvalues[W])).index)}return g.globals.capturedSeriesIndex=null===W?-1:W,(!F||F<1)&&(F=0),g.globals.capturedDataPointIndex=g.globals.isBarHorizontal?H:F,{capturedSeries:W,j:g.globals.isBarHorizontal?H:F,hoverX:P,hoverY:O}}},{key:"closestInMultiArray",value:function(a,l,d,h){var g=0,m=null,b=-1;this.w.globals.series.length>1?g=this.getFirstActiveXArray(d):m=0;var D=Math.abs(a-d[g][0]);if(d.forEach(function(P){P.forEach(function(O,F){var H=Math.abs(a-O);H<=D&&(D=H,b=F)})}),-1!==b){var M=Math.abs(l-h[g][b]);m=g,h.forEach(function(P,O){var F=Math.abs(l-P[b]);F<=M&&(M=F,m=O)})}return{index:m,j:b}}},{key:"getFirstActiveXArray",value:function(a){for(var l=this.w,d=0,h=a.map(function(g,m){return g.length>0?m:-1}),p=0;p<h.length;p++)if(-1!==h[p]&&-1===l.globals.collapsedSeriesIndices.indexOf(p)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(p)){d=h[p];break}return d}},{key:"closestInArray",value:function(a,l){for(var h=null,p=Math.abs(a-l[0]),g=0;g<l.length;g++){var m=Math.abs(a-l[g]);m<p&&(p=m,h=g)}return{index:h}}},{key:"isXoverlap",value:function(a){var l=[],d=this.w.globals.seriesX.filter(function(p){return void 0!==p[0]});if(d.length>0)for(var h=0;h<d.length-1;h++)void 0!==d[h][a]&&void 0!==d[h+1][a]&&d[h][a]!==d[h+1][a]&&l.push("unEqual");return 0===l.length}},{key:"isInitialSeriesSameLen",value:function(){for(var a=!0,l=this.w.globals.initialSeries,d=0;d<l.length-1;d++)if(l[d].data.length!==l[d+1].data.length){a=!1;break}return a}},{key:"getBarsHeight",value:function(a){return En(a).reduce(function(l,d){return l+d.getBBox().height},0)}},{key:"getElMarkers",value:function(a){return this.w.globals.dom.baseEl.querySelectorAll("number"==typeof a?".apexcharts-series[data\\:realIndex='".concat(a,"'] .apexcharts-series-markers-wrap > *"):".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(a=En(a)).sort(function(d,h){var p=Number(d.getAttribute("data:realIndex")),g=Number(h.getAttribute("data:realIndex"));return g<p?1:g>p?-1:0});var l=[];return a.forEach(function(d){l.push(d.querySelector(".apexcharts-marker"))}),l}},{key:"hasMarkers",value:function(a){return this.getElMarkers(a).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(a){var l=this.w,d=l.config.markers.hover.size;return void 0===d&&(d=l.globals.markers.size[a]+l.config.markers.hover.sizeOffset),d}},{key:"toggleAllTooltipSeriesGroups",value:function(a){var l=this.w,d=this.ttCtx;0===d.allTooltipSeriesGroups.length&&(d.allTooltipSeriesGroups=l.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var h=d.allTooltipSeriesGroups,p=0;p<h.length;p++)"enable"===a?(h[p].classList.add("apexcharts-active"),h[p].style.display=l.config.tooltip.items.display):(h[p].classList.remove("apexcharts-active"),h[p].style.display="none")}}]),B}(),oi=function(){function B(a){Ue(this,B),this.w=a.w,this.ctx=a.ctx,this.ttCtx=a,this.tooltipUtil=new Gn(a)}return ot(B,[{key:"drawSeriesTexts",value:function(a){var l=a.shared,d=void 0===l||l,h=a.ttItems,p=a.i,g=void 0===p?0:p,m=a.j,b=void 0===m?null:m,I=a.e,M=this.w;void 0!==M.config.tooltip.custom?this.handleCustomTooltip({i:g,j:b,y1:a.y1,y2:a.y2,w:M}):this.toggleActiveInactiveSeries(d);var P=this.getValuesToPrint({i:g,j:b});this.printLabels({i:g,j:b,values:P,ttItems:h,shared:d,e:I});var O=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=O.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=O.getBoundingClientRect().height}},{key:"printLabels",value:function(a){var l,d=this,h=a.i,p=a.j,g=a.values,m=a.ttItems,b=a.shared,w=a.e,D=this.w,I=[],M=function(N){return D.globals.seriesGoals[N]&&D.globals.seriesGoals[N][p]&&Array.isArray(D.globals.seriesGoals[N][p])},P=g.xVal,O=g.zVal,F=g.xAxisTTVal,H="",W=D.globals.colors[h];null!==p&&D.config.plotOptions.bar.distributed&&(W=D.globals.colors[p]);for(var q=function(N,U){var X=d.getFormatters(h);H=d.getSeriesName({fn:X.yLbTitleFormatter,index:h,seriesIndex:h,j:p}),"treemap"===D.config.chart.type&&(H=X.yLbTitleFormatter(String(D.config.series[h].data[p].x),{series:D.globals.series,seriesIndex:h,dataPointIndex:p,w:D}));var Y=D.config.tooltip.inverseOrder?U:N;if(D.globals.axisCharts){var pe=function(re){var He,Ae,mt,nn;return D.globals.isRangeData?X.yLbFormatter(null===(He=D.globals.seriesRangeStart)||void 0===He||null===(Ae=He[re])||void 0===Ae?void 0:Ae[p],{series:D.globals.seriesRangeStart,seriesIndex:re,dataPointIndex:p,w:D})+" - "+X.yLbFormatter(null===(mt=D.globals.seriesRangeEnd)||void 0===mt||null===(nn=mt[re])||void 0===nn?void 0:nn[p],{series:D.globals.seriesRangeEnd,seriesIndex:re,dataPointIndex:p,w:D}):X.yLbFormatter(D.globals.series[re][p],{series:D.globals.series,seriesIndex:re,dataPointIndex:p,w:D})};if(b)X=d.getFormatters(Y),H=d.getSeriesName({fn:X.yLbTitleFormatter,index:Y,seriesIndex:h,j:p}),W=D.globals.colors[Y],l=pe(Y),M(Y)&&(I=D.globals.seriesGoals[Y][p].map(function(re){return{attrs:re,val:X.yLbFormatter(re.value,{seriesIndex:Y,dataPointIndex:p,w:D})}}));else{var ge,Me=null==w||null===(ge=w.target)||void 0===ge?void 0:ge.getAttribute("fill");Me&&(W=-1!==Me.indexOf("url")?document.querySelector(Me.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):Me),l=pe(h),M(h)&&Array.isArray(D.globals.seriesGoals[h][p])&&(I=D.globals.seriesGoals[h][p].map(function(re){return{attrs:re,val:X.yLbFormatter(re.value,{seriesIndex:h,dataPointIndex:p,w:D})}}))}}null===p&&(l=X.yLbFormatter(D.globals.series[h],me(me({},D),{},{seriesIndex:h,dataPointIndex:h}))),d.DOMHandling({i:h,t:Y,j:p,ttItems:m,values:{val:l,goalVals:I,xVal:P,xAxisTTVal:F,zVal:O},seriesName:H,shared:b,pColor:W})},x=0,k=D.globals.series.length-1;x<D.globals.series.length;x++,k--)q(x,k)}},{key:"getFormatters",value:function(a){var l,d=this.w,h=d.globals.yLabelFormatters[a];return void 0!==d.globals.ttVal?Array.isArray(d.globals.ttVal)?(h=d.globals.ttVal[a]&&d.globals.ttVal[a].formatter,l=d.globals.ttVal[a]&&d.globals.ttVal[a].title&&d.globals.ttVal[a].title.formatter):(h=d.globals.ttVal.formatter,"function"==typeof d.globals.ttVal.title.formatter&&(l=d.globals.ttVal.title.formatter)):l=d.config.tooltip.y.title.formatter,"function"!=typeof h&&(h=d.globals.yLabelFormatters[0]?d.globals.yLabelFormatters[0]:function(p){return p}),"function"!=typeof l&&(l=function(p){return p}),{yLbFormatter:h,yLbTitleFormatter:l}}},{key:"getSeriesName",value:function(a){var h=a.seriesIndex,p=a.j,g=this.w;return(0,a.fn)(String(g.globals.seriesNames[a.index]),{series:g.globals.series,seriesIndex:h,dataPointIndex:p,w:g})}},{key:"DOMHandling",value:function(a){var l=a.t,d=a.j,h=a.ttItems,p=a.values,g=a.seriesName,m=a.shared,b=a.pColor,w=this.w,D=this.ttCtx,I=p.val,M=p.goalVals,P=p.xVal,O=p.xAxisTTVal,F=p.zVal,H=null;H=h[l].children,w.config.tooltip.fillSeriesColor&&(h[l].style.backgroundColor=b,H[0].style.display="none"),D.showTooltipTitle&&(null===D.tooltipTitle&&(D.tooltipTitle=w.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),D.tooltipTitle.innerHTML=P),D.isXAxisTooltipEnabled&&(D.xaxisTooltipText.innerHTML=""!==O?O:P);var W=h[l].querySelector(".apexcharts-tooltip-text-y-label");W&&(W.innerHTML=g||"");var q=h[l].querySelector(".apexcharts-tooltip-text-y-value");q&&(q.innerHTML=void 0!==I?I:""),H[0]&&H[0].classList.contains("apexcharts-tooltip-marker")&&(w.config.tooltip.marker.fillColors&&Array.isArray(w.config.tooltip.marker.fillColors)&&(b=w.config.tooltip.marker.fillColors[l]),H[0].style.backgroundColor=b),w.config.tooltip.marker.show||(H[0].style.display="none");var x=h[l].querySelector(".apexcharts-tooltip-text-goals-label"),k=h[l].querySelector(".apexcharts-tooltip-text-goals-value");if(M.length&&w.globals.seriesGoals[l]){var N=function(){var U="<div >",X="<div>";M.forEach(function(Y,pe){U+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Y.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Y.attrs.name,"</div>"),X+="<div>".concat(Y.val,"</div>")}),x.innerHTML=U+"</div>",k.innerHTML=X+"</div>"};m?w.globals.seriesGoals[l][d]&&Array.isArray(w.globals.seriesGoals[l][d])?N():(x.innerHTML="",k.innerHTML=""):N()}else x.innerHTML="",k.innerHTML="";null!==F&&(h[l].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=w.config.tooltip.z.title,h[l].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==F?F:""),m&&H[0]&&(H[0].parentNode.style.display=null==I||w.globals.ancillaryCollapsedSeriesIndices.indexOf(l)>-1||w.globals.collapsedSeriesIndices.indexOf(l)>-1?"none":w.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(a){var l=this.w;if(a)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var d=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");d&&(d.classList.add("apexcharts-active"),d.style.display=l.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(a){var l=a.i,d=a.j,h=this.w,p=this.ctx.series.filteredSeriesX(),g="",m="",b=null,w=null,D={series:h.globals.series,seriesIndex:l,dataPointIndex:d,w:h},I=h.globals.ttZFormatter;null===d?w=h.globals.series[l]:h.globals.isXNumeric&&"treemap"!==h.config.chart.type?(g=p[l][d],0===p[l].length&&(g=p[this.tooltipUtil.getFirstActiveXArray(p)][d])):g=void 0!==h.globals.labels[d]?h.globals.labels[d]:"";var M=g;return g=h.globals.isXNumeric&&"datetime"===h.config.xaxis.type?new $r(this.ctx).xLabelFormat(h.globals.ttKeyFormatter,M,M,{i:void 0,dateFormatter:new mn(this.ctx).formatDate,w:this.w}):h.globals.isBarHorizontal?h.globals.yLabelFormatters[0](M,D):h.globals.xLabelFormatter(M,D),void 0!==h.config.tooltip.x.formatter&&(g=h.globals.ttKeyFormatter(M,D)),h.globals.seriesZ.length>0&&h.globals.seriesZ[l].length>0&&(b=I(h.globals.seriesZ[l][d],h)),m="function"==typeof h.config.xaxis.tooltip.formatter?h.globals.xaxisTooltipFormatter(M,D):g,{val:Array.isArray(w)?w.join(" "):w,xVal:Array.isArray(g)?g.join(" "):g,xAxisTTVal:Array.isArray(m)?m.join(" "):m,zVal:b}}},{key:"handleCustomTooltip",value:function(a){var l=a.i,d=a.j,h=a.y1,p=a.y2,g=a.w,m=this.ttCtx.getElTooltip(),b=g.config.tooltip.custom;Array.isArray(b)&&b[l]&&(b=b[l]),m.innerHTML=b({ctx:this.ctx,series:g.globals.series,seriesIndex:l,dataPointIndex:d,y1:h,y2:p,w:g})}}]),B}(),ea=function(){function B(a){Ue(this,B),this.ttCtx=a,this.ctx=a.ctx,this.w=a.w}return ot(B,[{key:"moveXCrosshairs",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,d=this.ttCtx,h=this.w,p=d.getElXCrosshairs(),g=a-d.xcrosshairsWidth/2,m=h.globals.labels.slice().length;if(null!==l&&(g=h.globals.gridWidth/m*l),null===p||h.globals.isBarHorizontal||(p.setAttribute("x",g),p.setAttribute("x1",g),p.setAttribute("x2",g),p.setAttribute("y2",h.globals.gridHeight),p.classList.add("apexcharts-active")),g<0&&(g=0),g>h.globals.gridWidth&&(g=h.globals.gridWidth),d.isXAxisTooltipEnabled){var b=g;"tickWidth"!==h.config.xaxis.crosshairs.width&&"barWidth"!==h.config.xaxis.crosshairs.width||(b=g+d.xcrosshairsWidth/2),this.moveXAxisTooltip(b)}}},{key:"moveYCrosshairs",value:function(a){var l=this.ttCtx;null!==l.ycrosshairs&&Le.setAttrs(l.ycrosshairs,{y1:a,y2:a}),null!==l.ycrosshairsHidden&&Le.setAttrs(l.ycrosshairsHidden,{y1:a,y2:a})}},{key:"moveXAxisTooltip",value:function(a){var l=this.w,d=this.ttCtx;if(null!==d.xaxisTooltip&&0!==d.xcrosshairsWidth){d.xaxisTooltip.classList.add("apexcharts-active");var p,h=d.xaxisOffY+l.config.xaxis.tooltip.offsetY+l.globals.translateY+1+l.config.xaxis.offsetY;a-=d.xaxisTooltip.getBoundingClientRect().width/2,isNaN(a)||(a+=l.globals.translateX,p=new Le(this.ctx).getTextRects(d.xaxisTooltipText.innerHTML),d.xaxisTooltipText.style.minWidth=p.width+"px",d.xaxisTooltip.style.left=a+"px",d.xaxisTooltip.style.top=h+"px")}}},{key:"moveYAxisTooltip",value:function(a){var l=this.w,d=this.ttCtx;null===d.yaxisTTEls&&(d.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var h=parseInt(d.ycrosshairsHidden.getAttribute("y1"),10),p=l.globals.translateY+h,g=d.yaxisTTEls[a].getBoundingClientRect().height,m=l.globals.translateYAxisX[a]-2;l.config.yaxis[a].opposite&&(m-=26),p-=g/2,-1===l.globals.ignoreYAxisIndexes.indexOf(a)?(d.yaxisTTEls[a].classList.add("apexcharts-active"),d.yaxisTTEls[a].style.top=p+"px",d.yaxisTTEls[a].style.left=m+l.config.yaxis[a].tooltip.offsetX+"px"):d.yaxisTTEls[a].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=this.w,p=this.ttCtx,g=p.getElTooltip(),m=p.tooltipRect,b=null!==d?parseFloat(d):1,w=parseFloat(a)+b+5,D=parseFloat(l)+b/2;if(w>h.globals.gridWidth/2&&(w=w-m.ttWidth-b-10),w>h.globals.gridWidth-m.ttWidth-10&&(w=h.globals.gridWidth-m.ttWidth),w<-20&&(w=-20),h.config.tooltip.followCursor){var I=p.getElGrid().getBoundingClientRect();(w=p.e.clientX-I.left)>h.globals.gridWidth/2&&(w-=p.tooltipRect.ttWidth),(D=p.e.clientY+h.globals.translateY-I.top)>h.globals.gridHeight/2&&(D-=p.tooltipRect.ttHeight)}else h.globals.isBarHorizontal||m.ttHeight/2+D>h.globals.gridHeight&&(D=h.globals.gridHeight-m.ttHeight+h.globals.translateY);isNaN(w)||(g.style.left=(w+=h.globals.translateX)+"px",g.style.top=D+"px")}},{key:"moveMarkers",value:function(a,l){var d=this.w,h=this.ttCtx;if(d.globals.markers.size[a]>0)for(var p=d.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(a,"'] .apexcharts-marker")),g=0;g<p.length;g++)parseInt(p[g].getAttribute("rel"),10)===l&&(h.marker.resetPointsSize(),h.marker.enlargeCurrentPoint(l,p[g]));else h.marker.resetPointsSize(),this.moveDynamicPointOnHover(l,a)}},{key:"moveDynamicPointOnHover",value:function(a,l){var d,h,p=this.w,g=this.ttCtx,m=p.globals.pointsArray,b=g.tooltipUtil.getHoverMarkerSize(l),w=p.config.series[l].type;if(!w||"column"!==w&&"candlestick"!==w&&"boxPlot"!==w){d=m[l][a][0],h=m[l][a][1]?m[l][a][1]:0;var D=p.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(l,"'] .apexcharts-series-markers circle"));D&&h<p.globals.gridHeight&&h>0&&(D.setAttribute("r",b),D.setAttribute("cx",d),D.setAttribute("cy",h)),this.moveXCrosshairs(d),g.fixedTooltip||this.moveTooltip(d,h,b)}}},{key:"moveDynamicPointsOnHover",value:function(a){var l,d=this.ttCtx,h=d.w,p=0,g=0,m=h.globals.pointsArray;l=new lt(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var b=d.tooltipUtil.getHoverMarkerSize(l);m[l]&&(p=m[l][a][0],g=m[l][a][1]);var w=d.tooltipUtil.getAllMarkers();if(null!==w)for(var D=0;D<h.globals.series.length;D++){var I=m[D];if(h.globals.comboCharts&&void 0===I&&w.splice(D,0,null),I&&I.length){var M=m[D][a][1];w[D].setAttribute("cx",p),"rangeArea"!==h.config.chart.type||h.globals.comboCharts||(M-=Math.abs(M-m[D][a+h.globals.series[D].length][1])/2),null!==M&&!isNaN(M)&&M<h.globals.gridHeight+b&&M+b>0?(w[D]&&w[D].setAttribute("r",b),w[D]&&w[D].setAttribute("cy",M)):w[D]&&w[D].setAttribute("r",0)}}this.moveXCrosshairs(p),d.fixedTooltip||this.moveTooltip(p,g||h.globals.gridHeight,b)}},{key:"moveStickyTooltipOverBars",value:function(a,l){var d=this.w,h=this.ttCtx,p=d.globals.columnSeries?d.globals.columnSeries.length:d.globals.series.length,g=p>=2&&p%2==0?Math.floor(p/2):Math.floor(p/2)+1;d.globals.isBarHorizontal&&(g=new lt(this.ctx).getActiveConfigSeriesIndex("desc")+1);var m=d.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(g,"'] path[j='").concat(a,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(g,"'] path[j='").concat(a,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(g,"'] path[j='").concat(a,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(g,"'] path[j='").concat(a,"']"));m||"number"!=typeof l||(m=d.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(l,"'] path[j='").concat(a,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(l,"'] path[j='").concat(a,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(l,"'] path[j='").concat(a,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(l,"'] path[j='").concat(a,"']")));var b=m?parseFloat(m.getAttribute("cx")):0,w=m?parseFloat(m.getAttribute("cy")):0,D=m?parseFloat(m.getAttribute("barWidth")):0,I=h.getElGrid().getBoundingClientRect(),M=m&&(m.classList.contains("apexcharts-candlestick-area")||m.classList.contains("apexcharts-boxPlot-area"));d.globals.isXNumeric?(m&&!M&&(b-=p%2!=0?D/2:0),m&&M&&d.globals.comboCharts&&(b-=D/2)):d.globals.isBarHorizontal||(b=h.xAxisTicksPositions[a-1]+h.dataPointsDividedWidth/2,isNaN(b)&&(b=h.xAxisTicksPositions[a]-h.dataPointsDividedWidth/2)),d.globals.isBarHorizontal?w-=h.tooltipRect.ttHeight:d.config.tooltip.followCursor?w=h.e.clientY-I.top-h.tooltipRect.ttHeight/2:w+h.tooltipRect.ttHeight+15>d.globals.gridHeight&&(w=d.globals.gridHeight),d.globals.isBarHorizontal||this.moveXCrosshairs(b),h.fixedTooltip||this.moveTooltip(b,w||d.globals.gridHeight)}}]),B}(),ns=function(){function B(a){Ue(this,B),this.w=a.w,this.ttCtx=a,this.ctx=a.ctx,this.tooltipPosition=new ea(a)}return ot(B,[{key:"drawDynamicPoints",value:function(){var a=this.w,l=new Le(this.ctx),d=new ze(this.ctx),h=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series");h=En(h),a.config.chart.stacked&&h.sort(function(I,M){return parseFloat(I.getAttribute("data:realIndex"))-parseFloat(M.getAttribute("data:realIndex"))});for(var p=0;p<h.length;p++){var g=h[p].querySelector(".apexcharts-series-markers-wrap");if(null!==g){var m=void 0,b="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==a.config.chart.type&&"area"!==a.config.chart.type||a.globals.comboCharts||a.config.tooltip.intersect||(b+=" no-pointer-events");var w=d.getMarkerConfig({cssClass:b,seriesIndex:Number(g.getAttribute("data:realIndex"))});(m=l.drawMarker(0,0,w)).node.setAttribute("default-marker-size",0);var D=document.createElementNS(a.globals.SVGNS,"g");D.classList.add("apexcharts-series-markers"),D.appendChild(m.node),g.appendChild(D)}}}},{key:"enlargeCurrentPoint",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=this.w;"bubble"!==p.config.chart.type&&this.newPointSize(a,l);var g=l.getAttribute("cx"),m=l.getAttribute("cy");if(null!==d&&null!==h&&(g=d,m=h),this.tooltipPosition.moveXCrosshairs(g),!this.fixedTooltip){if("radar"===p.config.chart.type){var b=this.ttCtx.getElGrid().getBoundingClientRect();g=this.ttCtx.e.clientX-b.left}this.tooltipPosition.moveTooltip(g,m,p.config.markers.hover.size)}}},{key:"enlargePoints",value:function(a){for(var l=this.w,d=this,h=this.ttCtx,p=a,g=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),m=l.config.markers.hover.size,b=0;b<g.length;b++){var w=g[b].getAttribute("rel"),D=g[b].getAttribute("index");if(void 0===m&&(m=l.globals.markers.size[D]+l.config.markers.hover.sizeOffset),p===parseInt(w,10)){d.newPointSize(p,g[b]);var I=g[b].getAttribute("cx"),M=g[b].getAttribute("cy");d.tooltipPosition.moveXCrosshairs(I),h.fixedTooltip||d.tooltipPosition.moveTooltip(I,M,m)}else d.oldPointSize(g[b])}}},{key:"newPointSize",value:function(a,l){var d=this.w,h=d.config.markers.hover.size,p=0===a?l.parentNode.firstChild:l.parentNode.lastChild;if("0"!==p.getAttribute("default-marker-size")){var g=parseInt(p.getAttribute("index"),10);void 0===h&&(h=d.globals.markers.size[g]+d.config.markers.hover.sizeOffset),h<0&&(h=0),p.setAttribute("r",h)}}},{key:"oldPointSize",value:function(a){var l=parseFloat(a.getAttribute("default-marker-size"));a.setAttribute("r",l)}},{key:"resetPointsSize",value:function(){for(var a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=0;l<a.length;l++){var d=parseFloat(a[l].getAttribute("default-marker-size"));he.isNumber(d)&&d>=0?a[l].setAttribute("r",d):a[l].setAttribute("r",0)}}}]),B}(),Yr=function(){function B(a){Ue(this,B),this.w=a.w;var l=this.w;this.ttCtx=a,this.isVerticalGroupedRangeBar=!l.globals.isBarHorizontal&&"rangeBar"===l.config.chart.type&&l.config.plotOptions.bar.rangeBarGroupRows}return ot(B,[{key:"getAttr",value:function(a,l){return parseFloat(a.target.getAttribute(l))}},{key:"handleHeatTreeTooltip",value:function(a){var l=a.e,d=a.opt,h=a.x,p=a.y,m=this.ttCtx,b=this.w;if(l.target.classList.contains("apexcharts-".concat(a.type,"-rect"))){var w=this.getAttr(l,"i"),D=this.getAttr(l,"j"),I=this.getAttr(l,"cx"),M=this.getAttr(l,"cy"),P=this.getAttr(l,"width"),O=this.getAttr(l,"height");if(m.tooltipLabels.drawSeriesTexts({ttItems:d.ttItems,i:w,j:D,shared:!1,e:l}),b.globals.capturedSeriesIndex=w,b.globals.capturedDataPointIndex=D,h=I+m.tooltipRect.ttWidth/2+P,p=M+m.tooltipRect.ttHeight/2-O/2,m.tooltipPosition.moveXCrosshairs(I+P/2),h>b.globals.gridWidth/2&&(h=I-m.tooltipRect.ttWidth/2+P),m.w.config.tooltip.followCursor){var F=b.globals.dom.elWrap.getBoundingClientRect();h=b.globals.clientX-F.left-(h>b.globals.gridWidth/2?m.tooltipRect.ttWidth:0),p=b.globals.clientY-F.top-(p>b.globals.gridHeight/2?m.tooltipRect.ttHeight:0)}}return{x:h,y:p}}},{key:"handleMarkerTooltip",value:function(a){var l,d,h=a.e,p=a.opt,g=a.x,m=a.y,b=this.w,w=this.ttCtx;if(h.target.classList.contains("apexcharts-marker")){var D=parseInt(p.paths.getAttribute("cx"),10),I=parseInt(p.paths.getAttribute("cy"),10),M=parseFloat(p.paths.getAttribute("val"));if(d=parseInt(p.paths.getAttribute("rel"),10),l=parseInt(p.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,w.intersect){var P=he.findAncestor(p.paths,"apexcharts-series");P&&(l=parseInt(P.getAttribute("data:realIndex"),10))}if(w.tooltipLabels.drawSeriesTexts({ttItems:p.ttItems,i:l,j:d,shared:!w.showOnIntersect&&b.config.tooltip.shared,e:h}),"mouseup"===h.type&&w.markerClick(h,l,d),b.globals.capturedSeriesIndex=l,b.globals.capturedDataPointIndex=d,g=D,m=I+b.globals.translateY-1.4*w.tooltipRect.ttHeight,w.w.config.tooltip.followCursor){var O=w.getElGrid().getBoundingClientRect();m=w.e.clientY+b.globals.translateY-O.top}M<0&&(m=I),w.marker.enlargeCurrentPoint(d,p.paths,g,m)}return{x:g,y:m}}},{key:"handleBarTooltip",value:function(a){var l,d,h=a.e,p=a.opt,g=this.w,m=this.ttCtx,b=m.getElTooltip(),w=0,D=0,I=0,M=this.getBarTooltipXY({e:h,opt:p}),P=M.barHeight,O=M.j;g.globals.capturedSeriesIndex=l=M.i,g.globals.capturedDataPointIndex=O,g.globals.isBarHorizontal&&m.tooltipUtil.hasBars()||!g.config.tooltip.shared?(D=M.x,I=M.y,d=Array.isArray(g.config.stroke.width)?g.config.stroke.width[l]:g.config.stroke.width,w=D):g.globals.comboCharts||g.config.tooltip.shared||(w/=2),isNaN(I)&&(I=g.globals.svgHeight-m.tooltipRect.ttHeight);var F=parseInt(p.paths.parentNode.getAttribute("data:realIndex"),10),H=g.globals.isMultipleYAxis?g.config.yaxis[F]&&g.config.yaxis[F].reversed:g.config.yaxis[0].reversed;if(D+m.tooltipRect.ttWidth>g.globals.gridWidth&&!H?D-=m.tooltipRect.ttWidth:D<0&&(D=0),m.w.config.tooltip.followCursor){var W=m.getElGrid().getBoundingClientRect();I=m.e.clientY-W.top}null===m.tooltip&&(m.tooltip=g.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),g.config.tooltip.shared||m.tooltipPosition.moveXCrosshairs(g.globals.comboBarCount>0?w+d/2:w),!m.fixedTooltip&&(!g.config.tooltip.shared||g.globals.isBarHorizontal&&m.tooltipUtil.hasBars())&&(H&&(D-=m.tooltipRect.ttWidth)<0&&(D=0),!H||g.globals.isBarHorizontal&&m.tooltipUtil.hasBars()||(I=I+P-2*(g.globals.series[l][O]<0?P:0)),I=I+g.globals.translateY-m.tooltipRect.ttHeight/2,b.style.left=D+g.globals.translateX+"px",b.style.top=I+"px")}},{key:"getBarTooltipXY",value:function(a){var l=this,d=a.e,h=a.opt,p=this.w,g=null,m=this.ttCtx,b=0,w=0,D=0,I=0,M=0,P=d.target.classList;if(P.contains("apexcharts-bar-area")||P.contains("apexcharts-candlestick-area")||P.contains("apexcharts-boxPlot-area")||P.contains("apexcharts-rangebar-area")){var O=d.target,F=O.getBoundingClientRect(),H=h.elGrid.getBoundingClientRect(),W=F.height;M=F.height;var q=F.width,x=parseInt(O.getAttribute("cx"),10),k=parseInt(O.getAttribute("cy"),10);I=parseFloat(O.getAttribute("barWidth"));var N="touchmove"===d.type?d.touches[0].clientX:d.clientX;g=parseInt(O.getAttribute("j"),10),b=parseInt(O.parentNode.getAttribute("rel"),10)-1;var U=O.getAttribute("data-range-y1"),X=O.getAttribute("data-range-y2");p.globals.comboCharts&&(b=parseInt(O.parentNode.getAttribute("data:realIndex"),10));var Y=function(ge){return p.globals.isXNumeric?x-q/2:l.isVerticalGroupedRangeBar?x+q/2:x-m.dataPointsDividedWidth+q/2},pe=function(){return k-m.dataPointsDividedHeight+W/2-m.tooltipRect.ttHeight/2};m.tooltipLabels.drawSeriesTexts({ttItems:h.ttItems,i:b,j:g,y1:U?parseInt(U,10):null,y2:X?parseInt(X,10):null,shared:!m.showOnIntersect&&p.config.tooltip.shared,e:d}),p.config.tooltip.followCursor?p.globals.isBarHorizontal?(w=N-H.left+15,D=pe()):(w=Y(),D=d.clientY-H.top-m.tooltipRect.ttHeight/2-15):p.globals.isBarHorizontal?((w=x)<m.xyRatios.baseLineInvertedY&&(w=x-m.tooltipRect.ttWidth),D=pe()):(w=Y(),D=k)}return{x:w,y:D,barHeight:M,barWidth:I,i:b,j:g}}}]),B}(),ta=function(){function B(a){Ue(this,B),this.w=a.w,this.ttCtx=a}return ot(B,[{key:"drawXaxisTooltip",value:function(){var a=this.w,l=this.ttCtx,d="bottom"===a.config.xaxis.position;l.xaxisOffY=d?a.globals.gridHeight+1:-a.globals.xAxisHeight-a.config.xaxis.axisTicks.height+3;var h=d?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",p=a.globals.dom.elWrap;l.isXAxisTooltipEnabled&&null===a.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(l.xaxisTooltip=document.createElement("div"),l.xaxisTooltip.setAttribute("class",h+" apexcharts-theme-"+a.config.tooltip.theme),p.appendChild(l.xaxisTooltip),l.xaxisTooltipText=document.createElement("div"),l.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),l.xaxisTooltipText.style.fontFamily=a.config.xaxis.tooltip.style.fontFamily||a.config.chart.fontFamily,l.xaxisTooltipText.style.fontSize=a.config.xaxis.tooltip.style.fontSize,l.xaxisTooltip.appendChild(l.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var a=this.w,l=this.ttCtx,d=function(p){var g=a.config.yaxis[p].opposite||a.config.yaxis[p].crosshairs.opposite;l.yaxisOffX=g?a.globals.gridWidth+1:1;var m="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p,g?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");a.globals.yAxisSameScaleIndices.map(function(w,D){w.map(function(I,M){M===p&&(m+=a.config.yaxis[M].show?" ":" apexcharts-yaxistooltip-hidden")})});var b=a.globals.dom.elWrap;null===a.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p))&&(l.yaxisTooltip=document.createElement("div"),l.yaxisTooltip.setAttribute("class",m+" apexcharts-theme-"+a.config.tooltip.theme),b.appendChild(l.yaxisTooltip),0===p&&(l.yaxisTooltipText=[]),l.yaxisTooltipText[p]=document.createElement("div"),l.yaxisTooltipText[p].classList.add("apexcharts-yaxistooltip-text"),l.yaxisTooltip.appendChild(l.yaxisTooltipText[p]))},h=0;h<a.config.yaxis.length;h++)d(h)}},{key:"setXCrosshairWidth",value:function(){var a=this.w,l=this.ttCtx,d=l.getElXCrosshairs();if(l.xcrosshairsWidth=parseInt(a.config.xaxis.crosshairs.width,10),a.globals.comboCharts){var h=a.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==h&&"barWidth"===a.config.xaxis.crosshairs.width){var p=parseFloat(h.getAttribute("barWidth"));l.xcrosshairsWidth=p}else"tickWidth"===a.config.xaxis.crosshairs.width&&(l.xcrosshairsWidth=a.globals.gridWidth/a.globals.labels.length)}else if("tickWidth"===a.config.xaxis.crosshairs.width)l.xcrosshairsWidth=a.globals.gridWidth/a.globals.labels.length;else if("barWidth"===a.config.xaxis.crosshairs.width){var b=a.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==b){var w=parseFloat(b.getAttribute("barWidth"));l.xcrosshairsWidth=w}else l.xcrosshairsWidth=1}a.globals.isBarHorizontal&&(l.xcrosshairsWidth=0),null!==d&&l.xcrosshairsWidth>0&&d.setAttribute("width",l.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var a=this.w,l=this.ttCtx;l.ycrosshairs=a.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),l.ycrosshairsHidden=a.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(a,l,d){var h=this.ttCtx,p=this.w,g=p.globals.yLabelFormatters[a];if(h.yaxisTooltips[a]){var m=h.getElGrid().getBoundingClientRect(),D=p.globals.minYArr[a]+(p.globals.maxYArr[a]-p.globals.minYArr[a]-(l-m.top)*d.yRatio[a]);h.tooltipPosition.moveYCrosshairs(l-m.top),h.yaxisTooltipText[a].innerHTML=g(D),h.tooltipPosition.moveYAxisTooltip(a)}}}]),B}(),No=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w;var l=this.w;this.tConfig=l.config.tooltip,this.tooltipUtil=new Gn(this),this.tooltipLabels=new oi(this),this.tooltipPosition=new ea(this),this.marker=new ns(this),this.intersect=new Yr(this),this.axesTooltip=new ta(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!l.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return ot(B,[{key:"getElTooltip",value:function(a){return a||(a=this),a.w.globals.dom.baseEl?a.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(a){var l=this.w;this.xyRatios=a,this.isXAxisTooltipEnabled=l.config.xaxis.tooltip.enabled&&l.globals.axisCharts,this.yaxisTooltips=l.config.yaxis.map(function(g,m){return!!(g.show&&g.tooltip.enabled&&l.globals.axisCharts)}),this.allTooltipSeriesGroups=[],l.globals.axisCharts||(this.showTooltipTitle=!1);var d=document.createElement("div");if(d.classList.add("apexcharts-tooltip"),l.config.tooltip.cssClass&&d.classList.add(l.config.tooltip.cssClass),d.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),l.globals.dom.elWrap.appendChild(d),l.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var h=new vn(this.ctx);this.xAxisTicksPositions=h.getXAxisTicksPositions()}if(!l.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==l.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==l.config.markers.size&&0!==l.globals.markers.largestSize||this.marker.drawDynamicPoints(this),l.globals.collapsedSeries.length!==l.globals.series.length){this.dataPointsDividedHeight=l.globals.gridHeight/l.globals.dataPoints,this.dataPointsDividedWidth=l.globals.gridWidth/l.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||l.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,d.appendChild(this.tooltipTitle));var p=l.globals.series.length;(l.globals.xyCharts||l.globals.comboCharts)&&this.tConfig.shared&&(p=this.showOnIntersect?1:l.globals.series.length),this.legendLabels=l.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(p),this.addSVGEvents()}}},{key:"createTTElements",value:function(a){for(var l=this,d=this.w,h=[],p=this.getElTooltip(),g=function(b){var w=document.createElement("div");w.classList.add("apexcharts-tooltip-series-group"),w.style.order=d.config.tooltip.inverseOrder?a-b:b+1,l.tConfig.shared&&l.tConfig.enabledOnSeries&&Array.isArray(l.tConfig.enabledOnSeries)&&l.tConfig.enabledOnSeries.indexOf(b)<0&&w.classList.add("apexcharts-tooltip-series-group-hidden");var D=document.createElement("span");D.classList.add("apexcharts-tooltip-marker"),D.style.backgroundColor=d.globals.colors[b],w.appendChild(D);var I=document.createElement("div");I.classList.add("apexcharts-tooltip-text"),I.style.fontFamily=l.tConfig.style.fontFamily||d.config.chart.fontFamily,I.style.fontSize=l.tConfig.style.fontSize,["y","goals","z"].forEach(function(M){var P=document.createElement("div");P.classList.add("apexcharts-tooltip-".concat(M,"-group"));var O=document.createElement("span");O.classList.add("apexcharts-tooltip-text-".concat(M,"-label")),P.appendChild(O);var F=document.createElement("span");F.classList.add("apexcharts-tooltip-text-".concat(M,"-value")),P.appendChild(F),I.appendChild(P)}),w.appendChild(I),p.appendChild(w),h.push(w)},m=0;m<a;m++)g(m);return h}},{key:"addSVGEvents",value:function(){var a=this.w,l=a.config.chart.type,d=this.getElTooltip(),h=!("bar"!==l&&"candlestick"!==l&&"boxPlot"!==l&&"rangeBar"!==l),p="area"===l||"line"===l||"scatter"===l||"bubble"===l||"radar"===l,g=a.globals.dom.Paper.node,m=this.getElGrid();m&&(this.seriesBound=m.getBoundingClientRect());var b,w=[],D=[],I={hoverArea:g,elGrid:m,tooltipEl:d,tooltipY:w,tooltipX:D,ttItems:this.ttItems};if(a.globals.axisCharts&&(p?b=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):h?b=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==l&&"treemap"!==l||(b=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),b&&b.length))for(var M=0;M<b.length;M++)w.push(b[M].getAttribute("cy")),D.push(b[M].getAttribute("cx"));if(a.globals.xyCharts&&!this.showOnIntersect||a.globals.comboCharts&&!this.showOnIntersect||h&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([g],I);else if(h&&!a.globals.comboCharts||p&&this.showOnIntersect)this.addDatapointEventsListeners(I);else if(!a.globals.axisCharts||"heatmap"===l||"treemap"===l){var P=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(P,I)}if(this.showOnIntersect){var O=a.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");O.length>0&&this.addPathsEventListeners(O,I),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(I)}}},{key:"drawFixedTooltipRect",value:function(){var a=this.w,l=this.getElTooltip(),d=l.getBoundingClientRect(),h=d.width+10,p=d.height+10,g=this.tConfig.fixed.offsetX,m=this.tConfig.fixed.offsetY,b=this.tConfig.fixed.position.toLowerCase();return b.indexOf("right")>-1&&(g=g+a.globals.svgWidth-h+10),b.indexOf("bottom")>-1&&(m=m+a.globals.svgHeight-p-10),l.style.left=g+"px",l.style.top=m+"px",{x:g,y:m,ttWidth:h,ttHeight:p}}},{key:"addDatapointEventsListeners",value:function(a){var l=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(l,a)}},{key:"addPathsEventListeners",value:function(a,l){for(var d=this,h=function(g){var m={paths:a[g],tooltipEl:l.tooltipEl,tooltipY:l.tooltipY,tooltipX:l.tooltipX,elGrid:l.elGrid,hoverArea:l.hoverArea,ttItems:l.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(b){return a[g].addEventListener(b,d.onSeriesHover.bind(d,m),{capture:!1,passive:!0})})},p=0;p<a.length;p++)h(p)}},{key:"onSeriesHover",value:function(a,l){var d=this,h=Date.now()-this.lastHoverTime;h>=100?this.seriesHover(a,l):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){d.seriesHover(a,l)},100-h))}},{key:"seriesHover",value:function(a,l){var d=this;this.lastHoverTime=Date.now();var h=[],p=this.w;p.config.chart.group&&(h=this.ctx.getGroupedCharts()),p.globals.axisCharts&&(p.globals.minX===-1/0&&p.globals.maxX===1/0||0===p.globals.dataPoints)||(h.length?h.forEach(function(g){var m=d.getElTooltip(g);g.w.globals.minX===d.w.globals.minX&&g.w.globals.maxX===d.w.globals.maxX&&g.w.globals.tooltip.seriesHoverByContext({chartCtx:g,ttCtx:g.w.globals.tooltip,opt:{paths:a.paths,tooltipEl:m,tooltipY:a.tooltipY,tooltipX:a.tooltipX,elGrid:a.elGrid,hoverArea:a.hoverArea,ttItems:g.w.globals.tooltip.ttItems},e:l})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:a,e:l}))}},{key:"seriesHoverByContext",value:function(a){var l=a.chartCtx,d=a.ttCtx,h=a.opt,p=a.e,g=l.w,m=this.getElTooltip();m&&(d.tooltipRect={x:0,y:0,ttWidth:m.getBoundingClientRect().width,ttHeight:m.getBoundingClientRect().height},d.e=p,d.tooltipUtil.hasBars()&&!g.globals.comboCharts&&!d.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new lt(l).toggleSeriesOnHover(p,p.target.parentNode),d.fixedTooltip&&d.drawFixedTooltipRect(),g.globals.axisCharts?d.axisChartsTooltips({e:p,opt:h,tooltipRect:d.tooltipRect}):d.nonAxisChartsTooltips({e:p,opt:h,tooltipRect:d.tooltipRect}))}},{key:"axisChartsTooltips",value:function(a){var l,d,h=a.e,p=a.opt,g=this.w,m=p.elGrid.getBoundingClientRect(),b="touchmove"===h.type?h.touches[0].clientX:h.clientX,w="touchmove"===h.type?h.touches[0].clientY:h.clientY;if(this.clientY=w,this.clientX=b,g.globals.capturedSeriesIndex=-1,g.globals.capturedDataPointIndex=-1,w<m.top||w>m.top+m.height)this.handleMouseOut(p);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!g.config.tooltip.shared){var D=parseInt(p.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(D)<0)return void this.handleMouseOut(p)}var I=this.getElTooltip(),M=this.getElXCrosshairs(),P=g.globals.xyCharts||"bar"===g.config.chart.type&&!g.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||g.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===h.type||"touchmove"===h.type||"mouseup"===h.type){if(g.globals.collapsedSeries.length+g.globals.ancillaryCollapsedSeries.length===g.globals.series.length)return;null!==M&&M.classList.add("apexcharts-active");var O=this.yaxisTooltips.filter(function(W){return!0===W});if(null!==this.ycrosshairs&&O.length&&this.ycrosshairs.classList.add("apexcharts-active"),P&&!this.showOnIntersect)this.handleStickyTooltip(h,b,w,p);else if("heatmap"===g.config.chart.type||"treemap"===g.config.chart.type){var F=this.intersect.handleHeatTreeTooltip({e:h,opt:p,x:l,y:d,type:g.config.chart.type});d=F.y,I.style.left=(l=F.x)+"px",I.style.top=d+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:h,opt:p}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:h,opt:p,x:l,y:d});if(this.yaxisTooltips.length)for(var H=0;H<g.config.yaxis.length;H++)this.axesTooltip.drawYaxisTooltipText(H,w,this.xyRatios);p.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==h.type&&"touchend"!==h.type||this.handleMouseOut(p)}}},{key:"nonAxisChartsTooltips",value:function(a){var l=a.e,d=a.opt,h=a.tooltipRect,p=this.w,g=d.paths.getAttribute("rel"),m=this.getElTooltip(),b=p.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===l.type||"touchmove"===l.type){m.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:d.ttItems,i:parseInt(g,10)-1,shared:!1});var D=p.globals.clientY-b.top-h.ttHeight-10;if(m.style.left=p.globals.clientX-b.left-h.ttWidth/2+"px",m.style.top=D+"px",p.config.legend.tooltipHoverFormatter){var I=g-1,M=(0,p.config.legend.tooltipHoverFormatter)(this.legendLabels[I].getAttribute("data:default-text"),{seriesIndex:I,dataPointIndex:I,w:p});this.legendLabels[I].innerHTML=M}}else"mouseout"!==l.type&&"touchend"!==l.type||(m.classList.remove("apexcharts-active"),p.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(P){var O=P.getAttribute("data:default-text");P.innerHTML=decodeURIComponent(O)}))}},{key:"handleStickyTooltip",value:function(a,l,d,h){var p=this.w,g=this.tooltipUtil.getNearestValues({context:this,hoverArea:h.hoverArea,elGrid:h.elGrid,clientX:l,clientY:d}),m=g.j,b=g.capturedSeries;p.globals.collapsedSeriesIndices.includes(b)&&(b=null);var w=h.elGrid.getBoundingClientRect();if(g.hoverX<0||g.hoverX>w.width)this.handleMouseOut(h);else if(null!==b)this.handleStickyCapturedSeries(a,b,h,m);else if(this.tooltipUtil.isXoverlap(m)||p.globals.isBarHorizontal){var D=p.globals.series.findIndex(function(I,M){return!p.globals.collapsedSeriesIndices.includes(M)});this.create(a,this,D,m,h.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(a,l,d,h){var p=this.w;if(this.tConfig.shared||null!==p.globals.series[l][h]){if(void 0!==p.globals.series[l][h])this.tConfig.shared&&this.tooltipUtil.isXoverlap(h)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(a,this,l,h,d.ttItems):this.create(a,this,l,h,d.ttItems,!1);else if(this.tooltipUtil.isXoverlap(h)){var g=p.globals.series.findIndex(function(m,b){return!p.globals.collapsedSeriesIndices.includes(b)});this.create(a,this,g,h,d.ttItems)}}else this.handleMouseOut(d)}},{key:"deactivateHoverFilter",value:function(){for(var a=this.w,l=new Le(this.ctx),d=a.globals.dom.Paper.select(".apexcharts-bar-area"),h=0;h<d.length;h++)l.pathMouseLeave(d[h])}},{key:"handleMouseOut",value:function(a){var l=this.w,d=this.getElXCrosshairs();if(a.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==l.config.chart.type&&this.marker.resetPointsSize(),null!==d&&d.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var h=0;h<this.yaxisTTEls.length;h++)this.yaxisTTEls[h].classList.remove("apexcharts-active")}l.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(p){var g=p.getAttribute("data:default-text");p.innerHTML=decodeURIComponent(g)})}},{key:"markerClick",value:function(a,l,d){var h=this.w;"function"==typeof h.config.chart.events.markerClick&&h.config.chart.events.markerClick(a,this.ctx,{seriesIndex:l,dataPointIndex:d,w:h}),this.ctx.events.fireEvent("markerClick",[a,this.ctx,{seriesIndex:l,dataPointIndex:d,w:h}])}},{key:"create",value:function(a,l,d,h,p){var g,m,b,w,D,I,M,P,O,F,H,W,q,x,k,N,U=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,X=this.w,Y=l;"mouseup"===a.type&&this.markerClick(a,d,h),null===U&&(U=this.tConfig.shared);var pe=this.tooltipUtil.hasMarkers(d),ge=this.tooltipUtil.getElBars();if(X.config.legend.tooltipHoverFormatter){var Me=X.config.legend.tooltipHoverFormatter,re=Array.from(this.legendLabels);re.forEach(function(Hs){var ia=Hs.getAttribute("data:default-text");Hs.innerHTML=decodeURIComponent(ia)});for(var He=0;He<re.length;He++){var Ae=re[He],mt=parseInt(Ae.getAttribute("i"),10),nn=decodeURIComponent(Ae.getAttribute("data:default-text")),dn=Me(nn,{seriesIndex:U?mt:d,dataPointIndex:h,w:X});if(U)Ae.innerHTML=X.globals.collapsedSeriesIndices.indexOf(mt)<0?dn:nn;else if(Ae.innerHTML=mt===d?dn:nn,d===mt)break}}var Ln=me(me({ttItems:p,i:d,j:h},void 0!==(null===(g=X.globals.seriesRange)||void 0===g||null===(m=g[d])||void 0===m||null===(b=m[h])||void 0===b||null===(w=b.y[0])||void 0===w?void 0:w.y1)&&{y1:null===(D=X.globals.seriesRange)||void 0===D||null===(I=D[d])||void 0===I||null===(M=I[h])||void 0===M||null===(P=M.y[0])||void 0===P?void 0:P.y1}),void 0!==(null===(O=X.globals.seriesRange)||void 0===O||null===(F=O[d])||void 0===F||null===(H=F[h])||void 0===H||null===(W=H.y[0])||void 0===W?void 0:W.y2)&&{y2:null===(q=X.globals.seriesRange)||void 0===q||null===(x=q[d])||void 0===x||null===(k=x[h])||void 0===k||null===(N=k.y[0])||void 0===N?void 0:N.y2});if(U){if(Y.tooltipLabels.drawSeriesTexts(me(me({},Ln),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),pe)X.globals.markers.largestSize>0?Y.marker.enlargePoints(h):Y.tooltipPosition.moveDynamicPointsOnHover(h);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(ge),this.barSeriesHeight>0)){var ai=new Le(this.ctx),Qn=X.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(h,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(h,d);for(var yi=0;yi<Qn.length;yi++)ai.pathMouseEnter(Qn[yi])}}else Y.tooltipLabels.drawSeriesTexts(me({shared:!1},Ln)),this.tooltipUtil.hasBars()&&Y.tooltipPosition.moveStickyTooltipOverBars(h,d),pe&&Y.tooltipPosition.moveMarkers(d,h)}}]),B}(),Aa=function(){function B(a){Ue(this,B),this.w=a.w,this.barCtx=a,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return ot(B,[{key:"handleBarDataLabels",value:function(a){var l=a.x,d=a.y,h=a.y1,p=a.y2,g=a.i,m=a.j,b=a.realIndex,w=a.groupIndex,D=a.series,I=a.barHeight,M=a.barWidth,P=a.barXPosition,O=a.barYPosition,F=a.visibleSeries,H=a.renderedPath,W=this.w,q=new Le(this.barCtx.ctx),x=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[b]:this.barCtx.strokeWidth,k=l+parseFloat(M*F),N=d+parseFloat(I*F);W.globals.isXNumeric&&!W.globals.isBarHorizontal&&(k=l+parseFloat(M*(F+1)),N=d+parseFloat(I*(F+1))-x);var U,ge,X=null,Y=l,pe=d,Me=W.config.dataLabels,re=this.barCtx.barOptions.dataLabels,He=this.barCtx.barOptions.dataLabels.total;void 0!==O&&this.barCtx.isRangeBar&&(N=O,pe=O),void 0!==P&&this.barCtx.isVerticalGroupedRangeBar&&(k=P,Y=P);var Ae=Me.offsetX,mt=Me.offsetY,nn={width:0,height:0};W.config.dataLabels.enabled&&(nn=q.getTextRects(W.globals.yLabelFormatters[0](this.barCtx.series[g][m]),parseFloat(Me.style.fontSize)));var Ln={x:l,y:d,i:g,j:m,realIndex:b,groupIndex:w||-1,renderedPath:H,bcx:k,bcy:N,barHeight:I,barWidth:M,textRects:nn,strokeWidth:x,dataLabelsX:Y,dataLabelsY:pe,dataLabelsConfig:Me,barDataLabelsConfig:re,barTotalDataLabelsConfig:He,offX:Ae,offY:mt};return ge=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Ln):this.calculateColumnsDataLabelsPosition(Ln),H.attr({cy:ge.bcy,cx:ge.bcx,j:m,val:D[g][m],barHeight:I,barWidth:M}),U=this.drawCalculatedDataLabels({x:ge.dataLabelsX,y:ge.dataLabelsY,val:this.barCtx.isRangeBar?[h,p]:D[g][m],i:b,j:m,barWidth:M,barHeight:I,textRects:nn,dataLabelsConfig:Me}),W.config.chart.stacked&&He.enabled&&(X=this.drawTotalDataLabels({x:ge.totalDataLabelsX,y:ge.totalDataLabelsY,realIndex:b,textAnchor:ge.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:b,j:m}),dataLabelsConfig:Me,barTotalDataLabelsConfig:He})),{dataLabels:U,totalDataLabels:X}}},{key:"getStackedTotalDataLabel",value:function(a){var l=a.realIndex,d=a.j,h=this.w,p=this.barCtx.stackedSeriesTotals[d];return this.totalFormatter&&(p=this.totalFormatter(p,me(me({},h),{},{seriesIndex:l,dataPointIndex:d,w:h}))),p}},{key:"calculateColumnsDataLabelsPosition",value:function(a){var l,d,h=this.w,p=a.i,g=a.j,m=a.realIndex,b=a.groupIndex,w=a.y,D=a.bcx,I=a.barWidth,M=a.barHeight,P=a.textRects,O=a.dataLabelsX,F=a.dataLabelsY,H=a.dataLabelsConfig,W=a.barDataLabelsConfig,q=a.barTotalDataLabelsConfig,x=a.strokeWidth,k=a.offX,N=a.offY;M=Math.abs(M);var U="vertical"===h.config.plotOptions.bar.dataLabels.orientation,X=this.barCtx.barHelpers.getZeroValueEncounters({i:p,j:g}).zeroEncounters;D=D-x/2+(-1!==b?b*I:0),this.barCtx.isVerticalGroupedRangeBar?O+=I/2:(O=h.globals.isXNumeric?D-I/2+k:D-h.globals.gridWidth/h.globals.dataPoints+I/2+k,X>0&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(O-=I*X)),U&&(O=O+P.height/2-x/2-2);var pe=this.barCtx.series[p][g]<0,ge=w;switch(this.barCtx.isReversed&&(ge=w-M+(pe?2*M:0),w-=M),W.position){case"center":F=U?pe?ge-M/2+N:ge+M/2-N:pe?ge-M/2+P.height/2+N:ge+M/2+P.height/2-N;break;case"bottom":F=U?pe?ge-M+N:ge+M-N:pe?ge-M+P.height+x+N:ge+M-P.height/2+x-N;break;case"top":F=U?pe?ge+N:ge-N:pe?ge-P.height/2-N:ge+P.height+N}if(this.barCtx.lastActiveBarSerieIndex===m&&q.enabled){var Me=new Le(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:m,j:g}),H.fontSize);l=pe?ge-Me.height/2-N-q.offsetY+18:ge+Me.height+N+q.offsetY-18,d=O+q.offsetX}return h.config.chart.stacked||(F<0?F=0+x:F+P.height/3>h.globals.gridHeight&&(F=h.globals.gridHeight-x)),{bcx:D,bcy:w,dataLabelsX:O,dataLabelsY:F,totalDataLabelsX:d,totalDataLabelsY:l,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(a){var l=this.w,d=a.x,h=a.i,p=a.j,g=a.realIndex,m=a.groupIndex,b=a.bcy,w=a.barHeight,D=a.barWidth,I=a.textRects,M=a.dataLabelsX,P=a.strokeWidth,O=a.dataLabelsConfig,F=a.barDataLabelsConfig,H=a.barTotalDataLabelsConfig,W=a.offX,q=a.offY,x=l.globals.gridHeight/l.globals.dataPoints;D=Math.abs(D);var k,N,U=(b+=-1!==m?m*w:0)-(this.barCtx.isRangeBar?0:x)+w/2+I.height/2+q-3,X="start",Y=this.barCtx.series[h][p]<0,pe=d;switch(this.barCtx.isReversed&&(pe=d+D-(Y?2*D:0),d=l.globals.gridWidth-D),F.position){case"center":M=Y?pe+D/2-W:Math.max(I.width/2,pe-D/2)+W;break;case"bottom":M=Y?pe+D-P-Math.round(I.width/2)-W:pe-D+P+Math.round(I.width/2)+W;break;case"top":M=Y?pe-P+Math.round(I.width/2)-W:pe-P-Math.round(I.width/2)+W}if(this.barCtx.lastActiveBarSerieIndex===g&&H.enabled){var ge=new Le(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:g,j:p}),O.fontSize);Y?(k=pe-P+Math.round(ge.width/2)-W-H.offsetX-15,X="end"):k=pe-P-Math.round(ge.width/2)+W+H.offsetX+15,N=U+H.offsetY}return l.config.chart.stacked||(M<0?M=M+I.width+P:M+I.width/2>l.globals.gridWidth&&(M=l.globals.gridWidth-I.width-P)),{bcx:d,bcy:b,dataLabelsX:M,dataLabelsY:U,totalDataLabelsX:k,totalDataLabelsY:N,totalDataLabelsAnchor:X}}},{key:"drawCalculatedDataLabels",value:function(a){var l=a.x,d=a.y,h=a.val,p=a.i,g=a.j,m=a.textRects,b=a.barHeight,w=a.barWidth,D=a.dataLabelsConfig,I=this.w,M="rotate(0)";"vertical"===I.config.plotOptions.bar.dataLabels.orientation&&(M="rotate(-90, ".concat(l,", ").concat(d,")"));var P=new ke(this.barCtx.ctx),O=new Le(this.barCtx.ctx),F=D.formatter,H=null,W=I.globals.collapsedSeriesIndices.indexOf(p)>-1;if(D.enabled&&!W){H=O.group({class:"apexcharts-data-labels",transform:M});var q="";void 0!==h&&(q=F(h,me(me({},I),{},{seriesIndex:p,dataPointIndex:g,w:I}))),!h&&I.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(q="");var x=I.globals.series[p][g]<0,k=I.config.plotOptions.bar.dataLabels.position;"vertical"===I.config.plotOptions.bar.dataLabels.orientation&&("top"===k&&(D.textAnchor=x?"end":"start"),"center"===k&&(D.textAnchor="middle"),"bottom"===k&&(D.textAnchor=x?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&w<O.getTextRects(q,parseFloat(D.style.fontSize)).width&&(q=""),I.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?m.width/1.6>Math.abs(w)&&(q=""):m.height/1.6>Math.abs(b)&&(q=""));var N=me({},D);this.barCtx.isHorizontal&&h<0&&("start"===D.textAnchor?N.textAnchor="end":"end"===D.textAnchor&&(N.textAnchor="start")),P.plotDataLabelsText({x:l,y:d,text:q,i:p,j:g,parent:H,dataLabelsConfig:N,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return H}},{key:"drawTotalDataLabels",value:function(a){var l,d=a.x,h=a.y,p=a.val,g=a.realIndex,m=a.textAnchor,b=a.barTotalDataLabelsConfig,w=new Le(this.barCtx.ctx);return b.enabled&&void 0!==d&&void 0!==h&&this.barCtx.lastActiveBarSerieIndex===g&&(l=w.drawText({x:d,y:h,foreColor:b.style.color,text:p,textAnchor:m,fontFamily:b.style.fontFamily,fontSize:b.style.fontSize,fontWeight:b.style.fontWeight})),l}}]),B}(),Ll=function(){function B(a){Ue(this,B),this.w=a.w,this.barCtx=a}return ot(B,[{key:"initVariables",value:function(a){var l=this.w;this.barCtx.series=a,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var d=0;d<a.length;d++)if(a[d].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=a[d].length),l.globals.isXNumeric)for(var h=0;h<a[d].length;h++)l.globals.seriesX[d][h]>l.globals.minX&&l.globals.seriesX[d][h]<l.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=l.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],l.globals.comboCharts||this.checkZeroSeries({series:a})}},{key:"initialPositions",value:function(){var a,l,d,h,p,g,m,b,w=this.w,D=w.globals.dataPoints;this.barCtx.isRangeBar&&(D=w.globals.labels.length);var I=this.barCtx.seriesLen;if(w.config.plotOptions.bar.rangeBarGroupRows&&(I=1),this.barCtx.isHorizontal)p=(d=w.globals.gridHeight/D)/I,w.globals.isXNumeric&&(p=(d=w.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),p=p*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(p=parseInt(this.barCtx.barOptions.barHeight,10)),b=this.barCtx.baseLineInvertedY+w.globals.padHorizontal+(this.barCtx.isReversed?w.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(b=w.globals.gridWidth/2),l=(d-p*this.barCtx.seriesLen)/2;else{if(h=w.globals.gridWidth/this.barCtx.visibleItems,w.config.xaxis.convertedCatToNumeric&&(h=w.globals.gridWidth/w.globals.dataPoints),g=h/I*parseInt(this.barCtx.barOptions.columnWidth,10)/100,w.globals.isXNumeric){var M=this.barCtx.xRatio;w.config.xaxis.convertedCatToNumeric&&(M=this.barCtx.initialXRatio),w.globals.minXDiff&&.5!==w.globals.minXDiff&&w.globals.minXDiff/M>0&&(h=w.globals.minXDiff/M),(g=h/I*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(g=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(g=parseInt(this.barCtx.barOptions.columnWidth,10)),m=w.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?w.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),a=w.globals.padHorizontal+(h-g*this.barCtx.seriesLen)/2}return{x:a,y:l,yDivision:d,xDivision:h,barHeight:p,barWidth:g,zeroH:m,zeroW:b}}},{key:"initializeStackedPrevVars",value:function(a){var l=a.w;l.globals.hasSeriesGroups?l.globals.seriesGroups.forEach(function(d){a[d]||(a[d]={}),a[d].prevY=[],a[d].prevX=[],a[d].prevYF=[],a[d].prevXF=[],a[d].prevYVal=[],a[d].prevXVal=[]}):(a.prevY=[],a.prevX=[],a.prevYF=[],a.prevXF=[],a.prevYVal=[],a.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(a){var l=a.w;l.globals.hasSeriesGroups?l.globals.seriesGroups.forEach(function(d){a[d]||(a[d]={}),a[d].xArrj=[],a[d].xArrjF=[],a[d].xArrjVal=[],a[d].yArrj=[],a[d].yArrjF=[],a[d].yArrjVal=[]}):(a.xArrj=[],a.xArrjF=[],a.xArrjVal=[],a.yArrj=[],a.yArrjF=[],a.yArrjVal=[])}},{key:"getPathFillColor",value:function(a,l,d,h){var p,g,m,b,w=this.w,D=new _e(this.barCtx.ctx),I=null,M=this.barCtx.barOptions.distributed?d:l;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(P){a[l][d]>=P.from&&a[l][d]<=P.to&&(I=P.color)}),w.config.series[l].data[d]&&w.config.series[l].data[d].fillColor&&(I=w.config.series[l].data[d].fillColor),D.fillPath({seriesNumber:this.barCtx.barOptions.distributed?M:h,dataPointIndex:d,color:I,value:a[l][d],fillConfig:null===(p=w.config.series[l].data[d])||void 0===p?void 0:p.fill,fillType:null!==(g=w.config.series[l].data[d])&&void 0!==g&&null!==(m=g.fill)&&void 0!==m&&m.type?null===(b=w.config.series[l].data[d])||void 0===b?void 0:b.fill.type:w.config.fill.type})}},{key:"getStrokeWidth",value:function(a,l,d){var h=0,p=this.w;return this.barCtx.isNullValue=!this.barCtx.series[a][l],p.config.stroke.show&&(this.barCtx.isNullValue||(h=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[d]:this.barCtx.strokeWidth)),h}},{key:"shouldApplyRadius",value:function(a){var l=this.w,d=!1;return l.config.plotOptions.bar.borderRadius>0&&(l.config.chart.stacked&&"last"===l.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===a&&(d=!0):d=!0),d}},{key:"barBackground",value:function(a){var l=a.j,d=a.i,h=a.x1,p=a.x2,g=a.y1,m=a.y2,b=a.elSeries,w=this.w,D=new Le(this.barCtx.ctx),I=new lt(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&I===d){l>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(l%=this.barCtx.barOptions.colors.backgroundBarColors.length);var P=D.drawRect(void 0!==h?h:0,void 0!==g?g:0,void 0!==p?p:w.globals.gridWidth,void 0!==m?m:w.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[l],this.barCtx.barOptions.colors.backgroundBarOpacity);b.add(P),P.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(a){var l,d=a.barWidth,h=a.barXPosition,p=a.y1,g=a.y2,m=a.strokeWidth,b=a.seriesGroup,w=a.realIndex,D=a.i,I=a.j,M=a.w,P=new Le(this.barCtx.ctx);(m=Array.isArray(m)?m[w]:m)||(m=0);var O=d,F=h;null!==(l=M.config.series[w].data[I])&&void 0!==l&&l.columnWidthOffset&&(F=h-M.config.series[w].data[I].columnWidthOffset/2,O=d+M.config.series[w].data[I].columnWidthOffset);var H=F,W=F+O;g+=.001;var q=P.move(H,p+=.001),x=P.move(H,p),k=P.line(W-m,p);if(M.globals.previousPaths.length>0&&(x=this.barCtx.getPreviousPath(w,I,!1)),q=q+P.line(H,g)+P.line(W-m,g)+P.line(W-m,p)+("around"===M.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),x=x+P.line(H,p)+k+k+k+k+k+P.line(H,p)+("around"===M.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(w)&&(q=P.roundPathCorners(q,M.config.plotOptions.bar.borderRadius)),M.config.chart.stacked){var N=this.barCtx;M.globals.hasSeriesGroups&&b&&(N=this.barCtx[b]),N.yArrj.push(g),N.yArrjF.push(Math.abs(p-g)),N.yArrjVal.push(this.barCtx.series[D][I])}return{pathTo:q,pathFrom:x}}},{key:"getBarpaths",value:function(a){var l,d=a.barYPosition,h=a.barHeight,p=a.x1,g=a.x2,m=a.strokeWidth,b=a.seriesGroup,w=a.realIndex,D=a.i,I=a.j,M=a.w,P=new Le(this.barCtx.ctx);(m=Array.isArray(m)?m[w]:m)||(m=0);var O=d,F=h;null!==(l=M.config.series[w].data[I])&&void 0!==l&&l.barHeightOffset&&(O=d-M.config.series[w].data[I].barHeightOffset/2,F=h+M.config.series[w].data[I].barHeightOffset);var H=O,W=O+F;g+=.001;var q=P.move(p+=.001,H),x=P.move(p,H);M.globals.previousPaths.length>0&&(x=this.barCtx.getPreviousPath(w,I,!1));var k=P.line(p,W-m);if(q=q+P.line(g,H)+P.line(g,W-m)+k+("around"===M.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),x=x+P.line(p,H)+k+k+k+k+k+P.line(p,H)+("around"===M.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(w)&&(q=P.roundPathCorners(q,M.config.plotOptions.bar.borderRadius)),M.config.chart.stacked){var N=this.barCtx;M.globals.hasSeriesGroups&&b&&(N=this.barCtx[b]),N.xArrj.push(g),N.xArrjF.push(Math.abs(p-g)),N.xArrjVal.push(this.barCtx.series[D][I])}return{pathTo:q,pathFrom:x}}},{key:"checkZeroSeries",value:function(a){for(var l=a.series,d=this.w,h=0;h<l.length;h++){for(var p=0,g=0;g<l[d.globals.maxValsInArrayIndex].length;g++)p+=l[h][g];0===p&&this.barCtx.zeroSerieses.push(h)}}},{key:"getXForValue",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:l;return null!=a&&(d=l+a/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?a/this.barCtx.invertedYRatio:0)),d}},{key:"getYForValue",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:l;return null!=a&&(d=l-a/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?a/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),d}},{key:"getGoalValues",value:function(a,l,d,h,p){var g=this,m=this.w,b=[],w=function(M,P){var O;b.push((hi(O={},a,"x"===a?g.getXForValue(M,l,!1):g.getYForValue(M,d,!1)),hi(O,"attrs",P),O))};if(m.globals.seriesGoals[h]&&m.globals.seriesGoals[h][p]&&Array.isArray(m.globals.seriesGoals[h][p])&&m.globals.seriesGoals[h][p].forEach(function(M){w(M.value,M)}),this.barCtx.barOptions.isDumbbell&&m.globals.seriesRange.length){var D=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:m.globals.colors,I={strokeHeight:"x"===a?0:m.globals.markers.size[h],strokeWidth:"x"===a?m.globals.markers.size[h]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(D[h])?D[h][0]:D[h]};w(m.globals.seriesRangeStart[h][p],I),w(m.globals.seriesRangeEnd[h][p],me(me({},I),{},{strokeColor:Array.isArray(D[h])?D[h][1]:D[h]}))}return b}},{key:"drawGoalLine",value:function(a){var l=a.barXPosition,d=a.barYPosition,h=a.goalX,p=a.goalY,g=a.barWidth,m=a.barHeight,b=new Le(this.barCtx.ctx),w=b.group({className:"apexcharts-bar-goals-groups"});w.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:w.node}),w.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var D=null;return this.barCtx.isHorizontal?Array.isArray(h)&&h.forEach(function(I){var M=void 0!==I.attrs.strokeHeight?I.attrs.strokeHeight:m/2,P=d+M+m/2;D=b.drawLine(I.x,P-2*M,I.x,P,I.attrs.strokeColor?I.attrs.strokeColor:void 0,I.attrs.strokeDashArray,I.attrs.strokeWidth?I.attrs.strokeWidth:2,I.attrs.strokeLineCap),w.add(D)}):Array.isArray(p)&&p.forEach(function(I){var M=void 0!==I.attrs.strokeWidth?I.attrs.strokeWidth:g/2,P=l+M+g/2;D=b.drawLine(P-2*M,I.y,P,I.y,I.attrs.strokeColor?I.attrs.strokeColor:void 0,I.attrs.strokeDashArray,I.attrs.strokeHeight?I.attrs.strokeHeight:2,I.attrs.strokeLineCap),w.add(D)}),w}},{key:"drawBarShadow",value:function(a){var l=a.prevPaths,d=a.currPaths,h=a.color,p=this.w,g=l.x,m=l.x1,w=d.x,D=d.x1,I=d.barYPosition,M=l.barYPosition+d.barHeight,P=new Le(this.barCtx.ctx),O=new he,F=P.move(m,M)+P.line(g,M)+P.line(w,I)+P.line(D,I)+P.line(m,M)+("around"===p.config.plotOptions.bar.borderRadiusApplication?" Z":" z");return P.drawPath({d:F,fill:O.shadeColor(.5,he.rgb2hex(h)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(a){var l=a.i,d=a.j,p=0,g=0;return this.w.globals.seriesPercent.forEach(function(m,b){m[d]&&p++,b<l&&0===m[d]&&g++}),{nonZeroColumns:p,zeroEncounters:g}}}]),B}(),Zi=function(){function B(a,l){Ue(this,B),this.ctx=a,this.w=a.w;var d=this.w;this.barOptions=d.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=d.config.stroke.width,this.isNullValue=!1,this.isRangeBar=d.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!d.globals.isBarHorizontal&&d.globals.seriesRange.length&&d.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=l,null!==this.xyRatios&&(this.xRatio=l.xRatio,this.initialXRatio=l.initialXRatio,this.yRatio=l.yRatio,this.invertedXRatio=l.invertedXRatio,this.invertedYRatio=l.invertedYRatio,this.baseLineY=l.baseLineY,this.baseLineInvertedY=l.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var h=new lt(this.ctx);this.lastActiveBarSerieIndex=h.getActiveConfigSeriesIndex("desc",["bar","column"]);var p=h.getBarSeriesIndices(),g=new Vt(this.ctx);this.stackedSeriesTotals=g.getStackedSeriesTotals(this.w.config.series.map(function(m,b){return-1===p.indexOf(b)?b:-1}).filter(function(m){return-1!==m})),this.barHelpers=new Ll(this)}return ot(B,[{key:"draw",value:function(a,l){var d=this.w,h=new Le(this.ctx),p=new Vt(this.ctx,d);a=p.getLogSeries(a),this.series=a,this.yRatio=p.getLogYRatios(this.yRatio),this.barHelpers.initVariables(a);var g=h.group({class:"apexcharts-bar-series apexcharts-plot-series"});d.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var m=0,b=0;m<a.length;m++,b++){var w,D,I,M,P=void 0,O=void 0,F=[],H=[],W=d.globals.comboCharts?l[m]:m,q=h.group({class:"apexcharts-series",rel:m+1,seriesName:he.escapeString(d.globals.seriesNames[W]),"data:realIndex":W});this.ctx.series.addCollapsedClassToSeries(q,W),a[m].length>0&&(this.visibleI=this.visibleI+1);var x=0,k=0;this.yRatio.length>1&&(this.yaxisIndex=W),this.isReversed=d.config.yaxis[this.yaxisIndex]&&d.config.yaxis[this.yaxisIndex].reversed;var N=this.barHelpers.initialPositions();O=N.y,x=N.barHeight,D=N.yDivision,M=N.zeroW,P=N.x,k=N.barWidth,w=N.xDivision,I=N.zeroH,this.horizontal||H.push(P+k/2);var U=h.group({class:"apexcharts-datalabels","data:realIndex":W});d.globals.delayedElements.push({el:U.node}),U.node.classList.add("apexcharts-element-hidden");var X=h.group({class:"apexcharts-bar-goals-markers"}),Y=h.group({class:"apexcharts-bar-shadows"});d.globals.delayedElements.push({el:Y.node}),Y.node.classList.add("apexcharts-element-hidden");for(var pe=0;pe<d.globals.dataPoints;pe++){var ge=this.barHelpers.getStrokeWidth(m,pe,W),Me=null,re={indexes:{i:m,j:pe,realIndex:W,bc:b},x:P,y:O,strokeWidth:ge,elSeries:q};this.isHorizontal?(Me=this.drawBarPaths(me(me({},re),{},{barHeight:x,zeroW:M,yDivision:D})),k=this.series[m][pe]/this.invertedYRatio):(Me=this.drawColumnPaths(me(me({},re),{},{xDivision:w,barWidth:k,zeroH:I})),x=this.series[m][pe]/this.yRatio[this.yaxisIndex]);var He=this.barHelpers.getPathFillColor(a,m,pe,W);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&pe>0){var Ae=this.barHelpers.drawBarShadow({color:"string"==typeof He&&-1===He?.indexOf("url")?He:he.hexToRgba(d.globals.colors[m]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:Me});Ae&&Y.add(Ae)}this.pathArr.push(Me);var mt=this.barHelpers.drawGoalLine({barXPosition:Me.barXPosition,barYPosition:Me.barYPosition,goalX:Me.goalX,goalY:Me.goalY,barHeight:x,barWidth:k});mt&&X.add(mt),O=Me.y,P=Me.x,pe>0&&H.push(P+k/2),F.push(O),this.renderSeries({realIndex:W,pathFill:He,j:pe,i:m,pathFrom:Me.pathFrom,pathTo:Me.pathTo,strokeWidth:ge,elSeries:q,x:P,y:O,series:a,barHeight:Me.barHeight?Me.barHeight:x,barWidth:Me.barWidth?Me.barWidth:k,elDataLabelsWrap:U,elGoalsMarkers:X,elBarShadows:Y,visibleSeries:this.visibleI,type:"bar"})}d.globals.seriesXvalues[W]=H,d.globals.seriesYvalues[W]=F,g.add(q)}return g}},{key:"renderSeries",value:function(a){var l=a.realIndex,d=a.pathFill,h=a.lineFill,p=a.j,g=a.i,m=a.groupIndex,b=a.pathFrom,w=a.pathTo,D=a.strokeWidth,I=a.elSeries,M=a.x,P=a.y,O=a.y1,F=a.y2,H=a.series,W=a.barHeight,q=a.barWidth,x=a.barXPosition,k=a.barYPosition,N=a.elDataLabelsWrap,U=a.elGoalsMarkers,X=a.elBarShadows,Y=a.visibleSeries,pe=a.type,ge=this.w,Me=new Le(this.ctx);h||(h=this.barOptions.distributed?ge.globals.stroke.colors[p]:ge.globals.stroke.colors[l]),ge.config.series[g].data[p]&&ge.config.series[g].data[p].strokeColor&&(h=ge.config.series[g].data[p].strokeColor),this.isNullValue&&(d="none");var He=Me.renderPaths({i:g,j:p,realIndex:l,pathFrom:b,pathTo:w,stroke:h,strokeWidth:D,strokeLineCap:ge.config.stroke.lineCap,fill:d,animationDelay:p/ge.config.chart.animations.animateGradually.delay*(ge.config.chart.animations.speed/ge.globals.dataPoints)/2.4,initialSpeed:ge.config.chart.animations.speed,dataChangeSpeed:ge.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(pe,"-area")});He.attr("clip-path","url(#gridRectMask".concat(ge.globals.cuid,")"));var Ae=ge.config.forecastDataPoints;Ae.count>0&&p>=ge.globals.dataPoints-Ae.count&&(He.node.setAttribute("stroke-dasharray",Ae.dashArray),He.node.setAttribute("stroke-width",Ae.strokeWidth),He.node.setAttribute("fill-opacity",Ae.fillOpacity)),void 0!==O&&void 0!==F&&(He.attr("data-range-y1",O),He.attr("data-range-y2",F)),new Tn(this.ctx).setSelectionFilter(He,l,p),I.add(He);var mt=new Aa(this).handleBarDataLabels({x:M,y:P,y1:O,y2:F,i:g,j:p,series:H,realIndex:l,groupIndex:m,barHeight:W,barWidth:q,barXPosition:x,barYPosition:k,renderedPath:He,visibleSeries:Y});return null!==mt.dataLabels&&N.add(mt.dataLabels),mt.totalDataLabels&&N.add(mt.totalDataLabels),I.add(N),U&&I.add(U),X&&I.add(X),I}},{key:"drawBarPaths",value:function(a){var l,m,d=a.indexes,h=a.barHeight,p=a.strokeWidth,g=a.zeroW,b=a.y,w=a.yDivision,D=a.elSeries,I=this.w,M=d.i,P=d.j;if(I.globals.isXNumeric)l=(b=(I.globals.seriesX[M][P]-I.globals.minX)/this.invertedXRatio-h)+h*this.visibleI;else if(I.config.plotOptions.bar.hideZeroBarsWhenGrouped){var O=0,F=0;I.globals.seriesPercent.forEach(function(W,q){W[P]&&O++,q<M&&0===W[P]&&F++}),O>0&&(h=this.seriesLen*h/O),l=b+h*this.visibleI,l-=h*F}else l=b+h*this.visibleI;this.isFunnel&&(g-=(this.barHelpers.getXForValue(this.series[M][P],g)-g)/2),m=this.barHelpers.getXForValue(this.series[M][P],g);var H=this.barHelpers.getBarpaths({barYPosition:l,barHeight:h,x1:g,x2:m,strokeWidth:p,series:this.series,realIndex:d.realIndex,i:M,j:P,w:I});return I.globals.isXNumeric||(b+=w),this.barHelpers.barBackground({j:P,i:M,y1:l-h*this.visibleI,y2:h*this.seriesLen,elSeries:D}),{pathTo:H.pathTo,pathFrom:H.pathFrom,x1:g,x:m,y:b,goalX:this.barHelpers.getGoalValues("x",g,null,M,P),barYPosition:l,barHeight:h}}},{key:"drawColumnPaths",value:function(a){var l,p,d=a.indexes,h=a.x,g=a.xDivision,m=a.barWidth,b=a.zeroH,w=a.strokeWidth,D=a.elSeries,I=this.w,P=d.i,O=d.j,F=d.bc;if(I.globals.isXNumeric){var H=this.getBarXForNumericXAxis({x:h,j:O,realIndex:d.realIndex,barWidth:m});h=H.x,l=H.barXPosition}else if(I.config.plotOptions.bar.hideZeroBarsWhenGrouped){var W=this.barHelpers.getZeroValueEncounters({i:P,j:O}),q=W.nonZeroColumns;q>0&&(m=this.seriesLen*m/q),l=h+m*this.visibleI,l-=m*W.zeroEncounters}else l=h+m*this.visibleI;p=this.barHelpers.getYForValue(this.series[P][O],b);var k=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:m,y1:b,y2:p,strokeWidth:w,series:this.series,realIndex:d.realIndex,i:P,j:O,w:I});return I.globals.isXNumeric||(h+=g),this.barHelpers.barBackground({bc:F,j:O,i:P,x1:l-w/2-m*this.visibleI,x2:m*this.seriesLen+w/2,elSeries:D}),{pathTo:k.pathTo,pathFrom:k.pathFrom,x:h,y:p,goalY:this.barHelpers.getGoalValues("y",null,b,P,O),barXPosition:l,barWidth:m}}},{key:"getBarXForNumericXAxis",value:function(a){var l=a.x,d=a.barWidth,h=a.realIndex,p=a.j,g=this.w,m=h;return g.globals.seriesX[h].length||(m=g.globals.maxValsInArrayIndex),g.globals.seriesX[m][p]&&(l=(g.globals.seriesX[m][p]-g.globals.minX)/this.xRatio-d*this.seriesLen/2),{barXPosition:l+d*this.visibleI,x:l}}},{key:"getPreviousPath",value:function(a,l){for(var d,h=this.w,p=0;p<h.globals.previousPaths.length;p++){var g=h.globals.previousPaths[p];g.paths&&g.paths.length>0&&parseInt(g.realIndex,10)===parseInt(a,10)&&void 0!==h.globals.previousPaths[p].paths[l]&&(d=h.globals.previousPaths[p].paths[l].d)}return d}}]),B}(),is=function(B){cn(l,Zi);var a=on(l);function l(){return Ue(this,l),a.apply(this,arguments)}return ot(l,[{key:"draw",value:function(d,h){var p=this,g=this.w;this.graphics=new Le(this.ctx),this.bar=new Zi(this.ctx,this.xyRatios);var m=new Vt(this.ctx,g);d=m.getLogSeries(d),this.yRatio=m.getLogYRatios(this.yRatio),this.barHelpers.initVariables(d),"100%"===g.config.chart.stackType&&(d=g.globals.seriesPercent.slice()),this.series=d,this.barHelpers.initializeStackedPrevVars(this);for(var b=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),w=0,D=0,I=function(O,F){var H=void 0,W=void 0,q=void 0,x=void 0,k=-1;p.groupCtx=p,g.globals.seriesGroups.forEach(function(Qn,yi){Qn.indexOf(g.config.series[O].name)>-1&&(k=yi)}),-1!==k&&(p.groupCtx=p[g.globals.seriesGroups[k]]);var N=[],U=[],X=g.globals.comboCharts?h[O]:O;p.yRatio.length>1&&(p.yaxisIndex=X),p.isReversed=g.config.yaxis[p.yaxisIndex]&&g.config.yaxis[p.yaxisIndex].reversed;var Y=p.graphics.group({class:"apexcharts-series",seriesName:he.escapeString(g.globals.seriesNames[X]),rel:O+1,"data:realIndex":X});p.ctx.series.addCollapsedClassToSeries(Y,X);var pe=p.graphics.group({class:"apexcharts-datalabels","data:realIndex":X}),ge=p.graphics.group({class:"apexcharts-bar-goals-markers"}),Me=0,re=0,He=p.initialPositions(w,D,H,W,q,x);D=He.y,Me=He.barHeight,W=He.yDivision,x=He.zeroW,w=He.x,re=He.barWidth,H=He.xDivision,q=He.zeroH,p.barHelpers.initializeStackedXYVars(p),1===p.groupCtx.prevY.length&&p.groupCtx.prevY[0].every(function(Qn){return isNaN(Qn)})&&(p.groupCtx.prevY[0]=p.groupCtx.prevY[0].map(function(Qn){return q}),p.groupCtx.prevYF[0]=p.groupCtx.prevYF[0].map(function(Qn){return 0}));for(var Ae=0;Ae<g.globals.dataPoints;Ae++){var mt=p.barHelpers.getStrokeWidth(O,Ae,X),nn={indexes:{i:O,j:Ae,realIndex:X,bc:F},strokeWidth:mt,x:w,y:D,elSeries:Y,groupIndex:k,seriesGroup:g.globals.seriesGroups[k]},dn=null;p.isHorizontal?(dn=p.drawStackedBarPaths(me(me({},nn),{},{zeroW:x,barHeight:Me,yDivision:W})),re=p.series[O][Ae]/p.invertedYRatio):(dn=p.drawStackedColumnPaths(me(me({},nn),{},{xDivision:H,barWidth:re,zeroH:q})),Me=p.series[O][Ae]/p.yRatio[p.yaxisIndex]);var Ln=p.barHelpers.drawGoalLine({barXPosition:dn.barXPosition,barYPosition:dn.barYPosition,goalX:dn.goalX,goalY:dn.goalY,barHeight:Me,barWidth:re});Ln&&ge.add(Ln),D=dn.y,N.push(w=dn.x),U.push(D);var ai=p.barHelpers.getPathFillColor(d,O,Ae,X);Y=p.renderSeries({realIndex:X,pathFill:ai,j:Ae,i:O,groupIndex:k,pathFrom:dn.pathFrom,pathTo:dn.pathTo,strokeWidth:mt,elSeries:Y,x:w,y:D,series:d,barHeight:Me,barWidth:re,elDataLabelsWrap:pe,elGoalsMarkers:ge,type:"bar",visibleSeries:0})}g.globals.seriesXvalues[X]=N,g.globals.seriesYvalues[X]=U,p.groupCtx.prevY.push(p.groupCtx.yArrj),p.groupCtx.prevYF.push(p.groupCtx.yArrjF),p.groupCtx.prevYVal.push(p.groupCtx.yArrjVal),p.groupCtx.prevX.push(p.groupCtx.xArrj),p.groupCtx.prevXF.push(p.groupCtx.xArrjF),p.groupCtx.prevXVal.push(p.groupCtx.xArrjVal),b.add(Y)},M=0,P=0;M<d.length;M++,P++)I(M,P);return b}},{key:"initialPositions",value:function(d,h,p,g,m,b){var w,D,I,M,P=this.w;return this.isHorizontal?(I=(I=g=P.globals.gridHeight/P.globals.dataPoints)*parseInt(P.config.plotOptions.bar.barHeight,10)/100,-1===String(P.config.plotOptions.bar.barHeight).indexOf("%")&&(I=parseInt(P.config.plotOptions.bar.barHeight,10)),b=this.baseLineInvertedY+P.globals.padHorizontal+(this.isReversed?P.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),h=(g-I)/2):(M=p=P.globals.gridWidth/P.globals.dataPoints,M=P.globals.isXNumeric&&P.globals.dataPoints>1?(p=P.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:M*parseInt(P.config.plotOptions.bar.columnWidth,10)/100,-1===String(P.config.plotOptions.bar.columnWidth).indexOf("%")&&(M=parseInt(P.config.plotOptions.bar.columnWidth,10)),m=P.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?P.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),d=P.globals.padHorizontal+(p-M)/2),{x:d,y:h,yDivision:g,xDivision:p,barHeight:null!==(w=P.globals.seriesGroups)&&void 0!==w&&w.length?I/P.globals.seriesGroups.length:I,barWidth:null!==(D=P.globals.seriesGroups)&&void 0!==D&&D.length?M/P.globals.seriesGroups.length:M,zeroH:m,zeroW:b}}},{key:"drawStackedBarPaths",value:function(d){for(var h,w,p=d.indexes,g=d.barHeight,m=d.strokeWidth,b=d.zeroW,D=d.y,I=d.groupIndex,M=d.seriesGroup,P=d.yDivision,O=d.elSeries,F=this.w,H=D+(-1!==I?I*g:0),W=p.i,q=p.j,x=0,k=0;k<this.groupCtx.prevXF.length;k++)x+=this.groupCtx.prevXF[k][q];var N=W;if(M&&(N=M.indexOf(F.config.series[W].name)),N>0){var U=b;this.groupCtx.prevXVal[N-1][q]<0?U=this.series[W][q]>=0?this.groupCtx.prevX[N-1][q]+x-2*(this.isReversed?x:0):this.groupCtx.prevX[N-1][q]:this.groupCtx.prevXVal[N-1][q]>=0&&(U=this.series[W][q]>=0?this.groupCtx.prevX[N-1][q]:this.groupCtx.prevX[N-1][q]-x+2*(this.isReversed?x:0)),h=U}else h=b;var X=this.barHelpers.getBarpaths({barYPosition:H,barHeight:g,x1:h,x2:w=null===this.series[W][q]?h:h+this.series[W][q]/this.invertedYRatio-2*(this.isReversed?this.series[W][q]/this.invertedYRatio:0),strokeWidth:m,series:this.series,realIndex:p.realIndex,seriesGroup:M,i:W,j:q,w:F});return this.barHelpers.barBackground({j:q,i:W,y1:H,y2:g,elSeries:O}),D+=P,{pathTo:X.pathTo,pathFrom:X.pathFrom,goalX:this.barHelpers.getGoalValues("x",b,null,W,q),barYPosition:H,x:w,y:D}}},{key:"drawStackedColumnPaths",value:function(d){var g,h=d.indexes,p=d.x,m=d.xDivision,b=d.barWidth,w=d.zeroH,D=d.groupIndex,I=d.seriesGroup,M=d.elSeries,P=this.w,O=h.i,F=h.j,H=h.bc;if(P.globals.isXNumeric){var W=P.globals.seriesX[O][F];W||(W=0),p=(W-P.globals.minX)/this.xRatio-b/2,P.globals.seriesGroups.length&&(p=(W-P.globals.minX)/this.xRatio-b/2*P.globals.seriesGroups.length)}for(var q,x=p+(-1!==D?D*b:0),k=0,N=0;N<this.groupCtx.prevYF.length;N++)k+=isNaN(this.groupCtx.prevYF[N][F])?0:this.groupCtx.prevYF[N][F];var U=O;if(I&&(U=I.indexOf(P.config.series[O].name)),U>0&&!P.globals.isXNumeric||U>0&&P.globals.isXNumeric&&P.globals.seriesX[O-1][F]===P.globals.seriesX[O][F]){var X,Y,pe,ge=Math.min(this.yRatio.length+1,O+1);if(void 0!==this.groupCtx.prevY[U-1]&&this.groupCtx.prevY[U-1].length)for(var Me=1;Me<ge;Me++){var re;if(!isNaN(null===(re=this.groupCtx.prevY[U-Me])||void 0===re?void 0:re[F])){pe=this.groupCtx.prevY[U-Me][F];break}}for(var He=1;He<ge;He++){var Ae,mt;if((null===(Ae=this.groupCtx.prevYVal[U-He])||void 0===Ae?void 0:Ae[F])<0){Y=this.series[O][F]>=0?pe-k+2*(this.isReversed?k:0):pe;break}if((null===(mt=this.groupCtx.prevYVal[U-He])||void 0===mt?void 0:mt[F])>=0){Y=this.series[O][F]>=0?pe:pe+k-2*(this.isReversed?k:0);break}}void 0===Y&&(Y=P.globals.gridHeight),q=null!==(X=this.groupCtx.prevYF[0])&&void 0!==X&&X.every(function(dn){return 0===dn})&&this.groupCtx.prevYF.slice(1,U).every(function(dn){return dn.every(function(Ln){return isNaN(Ln)})})?w:Y}else q=w;var nn=this.barHelpers.getColumnPaths({barXPosition:x,barWidth:b,y1:q,y2:g=this.series[O][F]?q-this.series[O][F]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[O][F]/this.yRatio[this.yaxisIndex]:0):q,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:I,realIndex:h.realIndex,i:O,j:F,w:P});return this.barHelpers.barBackground({bc:H,j:F,i:O,x1:x,x2:b,elSeries:M}),p+=m,{pathTo:nn.pathTo,pathFrom:nn.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,w,O,F),barXPosition:x,x:P.globals.isXNumeric?p-m:p,y:g}}}]),l}(),Fo=function(B){cn(l,Zi);var a=on(l);function l(){return Ue(this,l),a.apply(this,arguments)}return ot(l,[{key:"draw",value:function(d,h,p){var g=this,m=this.w,b=new Le(this.ctx),w=m.globals.comboCharts?h:m.config.chart.type,D=new _e(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=m.config.plotOptions.bar.horizontal;var I=new Vt(this.ctx,m);d=I.getLogSeries(d),this.series=d,this.yRatio=I.getLogYRatios(this.yRatio),this.barHelpers.initVariables(d);for(var M=b.group({class:"apexcharts-".concat(w,"-series apexcharts-plot-series")}),P=function(F){g.isBoxPlot="boxPlot"===m.config.chart.type||"boxPlot"===m.config.series[F].type;var H,W,q,x,ge,Me,k=void 0,N=void 0,U=[],X=[],Y=m.globals.comboCharts?p[F]:F,pe=b.group({class:"apexcharts-series",seriesName:he.escapeString(m.globals.seriesNames[Y]),rel:F+1,"data:realIndex":Y});g.ctx.series.addCollapsedClassToSeries(pe,Y),d[F].length>0&&(g.visibleI=g.visibleI+1),g.yRatio.length>1&&(g.yaxisIndex=Y);var re=g.barHelpers.initialPositions();N=re.y,ge=re.barHeight,W=re.yDivision,x=re.zeroW,H=re.xDivision,q=re.zeroH,X.push((k=re.x)+(Me=re.barWidth)/2);for(var He=b.group({class:"apexcharts-datalabels","data:realIndex":Y}),Ae=function(nn){var dn=g.barHelpers.getStrokeWidth(F,nn,Y),Ln=null,ai={indexes:{i:F,j:nn,realIndex:Y},x:k,y:N,strokeWidth:dn,elSeries:pe};Ln=g.isHorizontal?g.drawHorizontalBoxPaths(me(me({},ai),{},{yDivision:W,barHeight:ge,zeroW:x})):g.drawVerticalBoxPaths(me(me({},ai),{},{xDivision:H,barWidth:Me,zeroH:q})),N=Ln.y,k=Ln.x,nn>0&&X.push(k+Me/2),U.push(N),Ln.pathTo.forEach(function(Qn,yi){var Hs=!g.isBoxPlot&&g.candlestickOptions.wick.useFillColor?Ln.color[yi]:m.globals.stroke.colors[F],ia=D.fillPath({seriesNumber:Y,dataPointIndex:nn,color:Ln.color[yi],value:d[F][nn]});g.renderSeries({realIndex:Y,pathFill:ia,lineFill:Hs,j:nn,i:F,pathFrom:Ln.pathFrom,pathTo:Qn,strokeWidth:dn,elSeries:pe,x:k,y:N,series:d,barHeight:ge,barWidth:Me,elDataLabelsWrap:He,visibleSeries:g.visibleI,type:m.config.chart.type})})},mt=0;mt<m.globals.dataPoints;mt++)Ae(mt);m.globals.seriesXvalues[Y]=X,m.globals.seriesYvalues[Y]=U,M.add(pe)},O=0;O<d.length;O++)P(O);return M}},{key:"drawVerticalBoxPaths",value:function(d){var h=d.indexes,p=d.x,g=d.xDivision,m=d.barWidth,b=d.zeroH,w=d.strokeWidth,D=this.w,I=new Le(this.ctx),M=h.i,P=h.j,O=!0,F=D.config.plotOptions.candlestick.colors.upward,H=D.config.plotOptions.candlestick.colors.downward,W="";this.isBoxPlot&&(W=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var q=this.yRatio[this.yaxisIndex],x=h.realIndex,k=this.getOHLCValue(x,P),N=b,U=b;k.o>k.c&&(O=!1);var X=Math.min(k.o,k.c),Y=Math.max(k.o,k.c),pe=k.m;D.globals.isXNumeric&&(p=(D.globals.seriesX[x][P]-D.globals.minX)/this.xRatio-m/2);var ge=p+m*this.visibleI;null==this.series[M][P]?(X=b,Y=b):(X=b-X/q,Y=b-Y/q,N=b-k.h/q,U=b-k.l/q,pe=b-k.m/q);var Me=I.move(ge,b),re=I.move(ge+m/2,X);return D.globals.previousPaths.length>0&&(re=this.getPreviousPath(x,P,!0)),Me=this.isBoxPlot?[I.move(ge,X)+I.line(ge+m/2,X)+I.line(ge+m/2,N)+I.line(ge+m/4,N)+I.line(ge+m-m/4,N)+I.line(ge+m/2,N)+I.line(ge+m/2,X)+I.line(ge+m,X)+I.line(ge+m,pe)+I.line(ge,pe)+I.line(ge,X+w/2),I.move(ge,pe)+I.line(ge+m,pe)+I.line(ge+m,Y)+I.line(ge+m/2,Y)+I.line(ge+m/2,U)+I.line(ge+m-m/4,U)+I.line(ge+m/4,U)+I.line(ge+m/2,U)+I.line(ge+m/2,Y)+I.line(ge,Y)+I.line(ge,pe)+"z"]:[I.move(ge,Y)+I.line(ge+m/2,Y)+I.line(ge+m/2,N)+I.line(ge+m/2,Y)+I.line(ge+m,Y)+I.line(ge+m,X)+I.line(ge+m/2,X)+I.line(ge+m/2,U)+I.line(ge+m/2,X)+I.line(ge,X)+I.line(ge,Y-w/2)],re+=I.move(ge,X),D.globals.isXNumeric||(p+=g),{pathTo:Me,pathFrom:re,x:p,y:Y,barXPosition:ge,color:this.isBoxPlot?W:O?[F]:[H]}}},{key:"drawHorizontalBoxPaths",value:function(d){var h=d.indexes,p=d.y,g=d.yDivision,m=d.barHeight,b=d.zeroW,w=d.strokeWidth,D=this.w,I=new Le(this.ctx),M=h.i,P=h.j,O=this.boxOptions.colors.lower;this.isBoxPlot&&(O=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var F=this.invertedYRatio,H=h.realIndex,W=this.getOHLCValue(H,P),q=b,x=b,k=Math.min(W.o,W.c),N=Math.max(W.o,W.c),U=W.m;D.globals.isXNumeric&&(p=(D.globals.seriesX[H][P]-D.globals.minX)/this.invertedXRatio-m/2);var X=p+m*this.visibleI;null==this.series[M][P]?(k=b,N=b):(k=b+k/F,N=b+N/F,q=b+W.h/F,x=b+W.l/F,U=b+W.m/F);var Y=I.move(b,X),pe=I.move(k,X+m/2);return D.globals.previousPaths.length>0&&(pe=this.getPreviousPath(H,P,!0)),Y=[I.move(k,X)+I.line(k,X+m/2)+I.line(q,X+m/2)+I.line(q,X+m/2-m/4)+I.line(q,X+m/2+m/4)+I.line(q,X+m/2)+I.line(k,X+m/2)+I.line(k,X+m)+I.line(U,X+m)+I.line(U,X)+I.line(k+w/2,X),I.move(U,X)+I.line(U,X+m)+I.line(N,X+m)+I.line(N,X+m/2)+I.line(x,X+m/2)+I.line(x,X+m-m/4)+I.line(x,X+m/4)+I.line(x,X+m/2)+I.line(N,X+m/2)+I.line(N,X)+I.line(U,X)+"z"],pe+=I.move(k,X),D.globals.isXNumeric||(p+=g),{pathTo:Y,pathFrom:pe,x:N,y:p,barYPosition:X,color:O}}},{key:"getOHLCValue",value:function(d,h){var p=this.w;return{o:this.isBoxPlot?p.globals.seriesCandleH[d][h]:p.globals.seriesCandleO[d][h],h:this.isBoxPlot?p.globals.seriesCandleO[d][h]:p.globals.seriesCandleH[d][h],m:p.globals.seriesCandleM[d][h],l:this.isBoxPlot?p.globals.seriesCandleC[d][h]:p.globals.seriesCandleL[d][h],c:this.isBoxPlot?p.globals.seriesCandleL[d][h]:p.globals.seriesCandleC[d][h]}}}]),l}(),nl=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"checkColorRange",value:function(){var a=this.w,l=!1,d=a.config.plotOptions[a.config.chart.type];return d.colorScale.ranges.length>0&&d.colorScale.ranges.map(function(h,p){h.from<=0&&(l=!0)}),l}},{key:"getShadeColor",value:function(a,l,d,h){var p=this.w,g=1,m=p.config.plotOptions[a].shadeIntensity,b=this.determineColor(a,l,d);p.globals.hasNegs||h?g=p.config.plotOptions[a].reverseNegativeShade?b.percent<0?b.percent/100*(1.25*m):1.25*m*(1-b.percent/100):b.percent<=0?1-(1+b.percent/100)*m:(1-b.percent/100)*m:(g=1-b.percent/100,"treemap"===a&&(g=1.25*m*(1-b.percent/100)));var w=b.color,D=new he;return p.config.plotOptions[a].enableShades&&(w=he.hexToRgba(D.shadeColor("dark"===this.w.config.theme.mode?-1*g:g,b.color),p.config.fill.opacity)),{color:w,colorProps:b}}},{key:"determineColor",value:function(a,l,d){var h=this.w,p=h.globals.series[l][d],g=h.config.plotOptions[a],m=g.colorScale.inverse?d:l;g.distributed&&"treemap"===h.config.chart.type&&(m=d);var b=h.globals.colors[m],w=null,D=Math.min.apply(Math,En(h.globals.series[l])),I=Math.max.apply(Math,En(h.globals.series[l]));g.distributed||"heatmap"!==a||(D=h.globals.minY,I=h.globals.maxY),void 0!==g.colorScale.min&&(D=g.colorScale.min<h.globals.minY?g.colorScale.min:h.globals.minY,I=g.colorScale.max>h.globals.maxY?g.colorScale.max:h.globals.maxY);var M=Math.abs(I)+Math.abs(D),P=100*p/(0===M?M-1e-6:M);return g.colorScale.ranges.length>0&&g.colorScale.ranges.map(function(O,F){if(p>=O.from&&p<=O.to){b=O.color,w=O.foreColor?O.foreColor:null,D=O.from,I=O.to;var H=Math.abs(I)+Math.abs(D);P=100*p/(0===H?H-1e-6:H)}}),{color:b,foreColor:w,percent:P}}},{key:"calculateDataLabels",value:function(a){var l=a.text,d=a.x,h=a.y,p=a.i,g=a.j,m=a.colorProps,b=a.fontSize,w=this.w.config.dataLabels,D=new Le(this.ctx),I=new ke(this.ctx),M=null;if(w.enabled){M=D.group({class:"apexcharts-data-labels"});var O=w.offsetY,F=d+w.offsetX,H=h+parseFloat(w.style.fontSize)/3+O;I.plotDataLabelsText({x:F,y:H,text:l,i:p,j:g,color:m.foreColor,parent:M,fontSize:b,dataLabelsConfig:w})}return M}},{key:"addListeners",value:function(a){var l=new Le(this.ctx);a.node.addEventListener("mouseenter",l.pathMouseEnter.bind(this,a)),a.node.addEventListener("mouseleave",l.pathMouseLeave.bind(this,a)),a.node.addEventListener("mousedown",l.pathMouseDown.bind(this,a))}}]),B}(),hd=function(){function B(a,l){Ue(this,B),this.ctx=a,this.w=a.w,this.xRatio=l.xRatio,this.yRatio=l.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new nl(a),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return ot(B,[{key:"draw",value:function(a){var l=this.w,d=new Le(this.ctx),h=d.group({class:"apexcharts-heatmap"});h.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")"));var p=l.globals.gridWidth/l.globals.dataPoints,g=l.globals.gridHeight/l.globals.series.length,m=0,b=!1;this.negRange=this.helpers.checkColorRange();var w=a.slice();l.config.yaxis[0].reversed&&(b=!0,w.reverse());for(var D=b?0:w.length-1;b?D<w.length:D>=0;b?D++:D--){var I=d.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:he.escapeString(l.globals.seriesNames[D]),rel:D+1,"data:realIndex":D});if(this.ctx.series.addCollapsedClassToSeries(I,D),l.config.chart.dropShadow.enabled){var M=l.config.chart.dropShadow;new Tn(this.ctx).dropShadow(I,M,D)}for(var P=0,O=l.config.plotOptions.heatmap.shadeIntensity,F=0;F<w[D].length;F++){var H=this.helpers.getShadeColor(l.config.chart.type,D,F,this.negRange),W=H.color,q=H.colorProps;"image"===l.config.fill.type&&(W=new _e(this.ctx).fillPath({seriesNumber:D,dataPointIndex:F,opacity:l.globals.hasNegs?q.percent<0?1-(1+q.percent/100):O+q.percent/100:q.percent/100,patternID:he.randomId(),width:l.config.fill.image.width?l.config.fill.image.width:p,height:l.config.fill.image.height?l.config.fill.image.height:g}));var k=d.drawRect(P,m,p,g,this.rectRadius);if(k.attr({cx:P,cy:m}),k.node.classList.add("apexcharts-heatmap-rect"),I.add(k),k.attr({fill:W,i:D,index:D,j:F,val:w[D][F],"stroke-width":this.strokeWidth,stroke:l.config.plotOptions.heatmap.useFillColorAsStroke?W:l.globals.stroke.colors[0],color:W}),this.helpers.addListeners(k),l.config.chart.animations.enabled&&!l.globals.dataChanged){var N=1;l.globals.resized||(N=l.config.chart.animations.speed),this.animateHeatMap(k,P,m,p,g,N)}if(l.globals.dataChanged){var U=1;if(this.dynamicAnim.enabled&&l.globals.shouldAnimate){U=this.dynamicAnim.speed;var X=l.globals.previousPaths[D]&&l.globals.previousPaths[D][F]&&l.globals.previousPaths[D][F].color;X||(X="rgba(255, 255, 255, 0)"),this.animateHeatColor(k,he.isColorHex(X)?X:he.rgb2hex(X),he.isColorHex(W)?W:he.rgb2hex(W),U)}}var Y=(0,l.config.dataLabels.formatter)(l.globals.series[D][F],{value:l.globals.series[D][F],seriesIndex:D,dataPointIndex:F,w:l}),pe=this.helpers.calculateDataLabels({text:Y,x:P+p/2,y:m+g/2,i:D,j:F,colorProps:q,series:w});null!==pe&&I.add(pe),P+=p}m+=g,h.add(I)}var ge=l.globals.yAxisScale[0].result.slice();return l.config.yaxis[0].reversed?ge.unshift(""):ge.push(""),l.globals.yAxisScale[0].result=ge,h}},{key:"animateHeatMap",value:function(a,l,d,h,p,g){var m=new Ci(this.ctx);m.animateRect(a,{x:l+h/2,y:d+p/2,width:0,height:0},{x:l,y:d,width:h,height:p},g,function(){m.animationCompleted(a)})}},{key:"animateHeatColor",value:function(a,l,d,h){a.attr({fill:l}).animate(h).attr({fill:d})}}]),B}(),Vl=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"drawYAxisTexts",value:function(a,l,d,h){var p=this.w,g=p.config.yaxis[0],m=p.globals.yLabelFormatters[0];return new Le(this.ctx).drawText({x:a+g.labels.offsetX,y:l+g.labels.offsetY,text:m(h,d),textAnchor:"middle",fontSize:g.labels.style.fontSize,fontFamily:g.labels.style.fontFamily,foreColor:Array.isArray(g.labels.style.colors)?g.labels.style.colors[d]:g.labels.style.colors})}}]),B}(),il=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w;var l=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=Math.min(l.globals.gridWidth,l.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=l.globals.gridWidth/2,this.fullAngle="radialBar"===l.config.chart.type?360:Math.abs(l.config.plotOptions.pie.endAngle-l.config.plotOptions.pie.startAngle),this.initialAngle=l.config.plotOptions.pie.startAngle%this.fullAngle,l.globals.radialSize=this.defaultSize/2.05-l.config.stroke.width-(l.config.chart.sparkline.enabled?0:l.config.chart.dropShadow.blur),this.donutSize=l.globals.radialSize*parseInt(l.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return ot(B,[{key:"draw",value:function(a){var l=this,d=this.w,h=new Le(this.ctx);if(this.ret=h.group({class:"apexcharts-pie"}),d.globals.noData)return this.ret;for(var p=0,g=0;g<a.length;g++)p+=he.negToZero(a[g]);var m=[],b=h.group();0===p&&(p=1e-5),a.forEach(function(X){l.maxY=Math.max(l.maxY,X)}),d.config.yaxis[0].max&&(this.maxY=d.config.yaxis[0].max),"back"===d.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var w=0;w<a.length;w++){var D=this.fullAngle*he.negToZero(a[w])/p;m.push(D),"polarArea"===this.chartType?(m[w]=this.fullAngle/a.length,this.sliceSizes.push(d.globals.radialSize*a[w]/this.maxY)):this.sliceSizes.push(d.globals.radialSize)}if(d.globals.dataChanged){for(var I,M=0,P=0;P<d.globals.previousPaths.length;P++)M+=he.negToZero(d.globals.previousPaths[P]);for(var O=0;O<d.globals.previousPaths.length;O++)I=this.fullAngle*he.negToZero(d.globals.previousPaths[O])/M,this.prevSectorAngleArr.push(I)}this.donutSize<0&&(this.donutSize=0);var F=d.config.plotOptions.pie.customScale,q=d.globals.gridWidth/2-d.globals.gridWidth/2*F,x=d.globals.gridHeight/2-d.globals.gridHeight/2*F;if("donut"===this.chartType){var k=h.drawCircle(this.donutSize);k.attr({cx:this.centerX,cy:this.centerY,fill:d.config.plotOptions.pie.donut.background?d.config.plotOptions.pie.donut.background:"transparent"}),b.add(k)}var N=this.drawArcs(m,a);if(this.sliceLabels.forEach(function(X){N.add(X)}),b.attr({transform:"translate(".concat(q,", ").concat(x,") scale(").concat(F,")")}),b.add(N),this.ret.add(b),this.donutDataLabels.show){var U=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:q,translateY:x});this.ret.add(U)}return"front"===d.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(a,l){var d=this.w,h=new Tn(this.ctx),p=new Le(this.ctx),g=new _e(this.ctx),m=p.group({class:"apexcharts-slices"}),b=this.initialAngle,w=this.initialAngle,D=this.initialAngle,I=this.initialAngle;this.strokeWidth=d.config.stroke.show?d.config.stroke.width:0;for(var M=0;M<a.length;M++){var P=p.group({class:"apexcharts-series apexcharts-pie-series",seriesName:he.escapeString(d.globals.seriesNames[M]),rel:M+1,"data:realIndex":M});m.add(P),D=(b=D)+a[M],I=(w=I)+this.prevSectorAngleArr[M];var O=D<b?this.fullAngle+D-b:D-b,F=g.fillPath({seriesNumber:M,size:this.sliceSizes[M],value:l[M]}),H=this.getChangedPath(w,I),W=p.drawPath({d:H,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[M]:this.lineColorArr,strokeWidth:0,fill:F,fillOpacity:d.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(M)});W.attr({index:0,j:M}),h.setSelectionFilter(W,0,M),d.config.chart.dropShadow.enabled&&h.dropShadow(W,d.config.chart.dropShadow,M),this.addListeners(W,this.donutDataLabels),Le.setAttrs(W.node,{"data:angle":O,"data:startAngle":b,"data:strokeWidth":this.strokeWidth,"data:value":l[M]});var x={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?x=he.polarToCartesian(this.centerX,this.centerY,d.globals.radialSize/1.25+d.config.plotOptions.pie.dataLabels.offset,(b+O/2)%this.fullAngle):"donut"===this.chartType&&(x=he.polarToCartesian(this.centerX,this.centerY,(d.globals.radialSize+this.donutSize)/2+d.config.plotOptions.pie.dataLabels.offset,(b+O/2)%this.fullAngle)),P.add(W);var k=0;if(!this.initialAnim||d.globals.resized||d.globals.dataChanged?this.animBeginArr.push(0):(0==(k=O/this.fullAngle*d.config.chart.animations.speed)&&(k=1),this.animDur=k+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(W,this.dynamicAnim&&d.globals.dataChanged?{size:this.sliceSizes[M],endAngle:D,startAngle:b,prevStartAngle:w,prevEndAngle:I,animateStartingPos:!0,i:M,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:d.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[M],endAngle:D,startAngle:b,i:M,totalItems:a.length-1,animBeginArr:this.animBeginArr,dur:k}),d.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&W.click(this.pieClicked.bind(this,M)),void 0!==d.globals.selectedDataPoints[0]&&d.globals.selectedDataPoints[0].indexOf(M)>-1&&this.pieClicked(M),d.config.dataLabels.enabled){var N=x.x,U=x.y,X=100*O/this.fullAngle+"%";if(0!==O&&d.config.plotOptions.pie.dataLabels.minAngleToShowLabel<a[M]){var Y=d.config.dataLabels.formatter;void 0!==Y&&(X=Y(d.globals.seriesPercent[M][0],{seriesIndex:M,w:d}));var pe=d.globals.dataLabels.style.colors[M],ge=p.group({class:"apexcharts-datalabels"}),Me=p.drawText({x:N,y:U,text:X,textAnchor:"middle",fontSize:d.config.dataLabels.style.fontSize,fontFamily:d.config.dataLabels.style.fontFamily,fontWeight:d.config.dataLabels.style.fontWeight,foreColor:pe});ge.add(Me),d.config.dataLabels.dropShadow.enabled&&h.dropShadow(Me,d.config.dataLabels.dropShadow),Me.node.classList.add("apexcharts-pie-label"),d.config.chart.animations.animate&&!1===d.globals.resized&&(Me.node.classList.add("apexcharts-pie-label-delay"),Me.node.style.animationDelay=d.config.chart.animations.speed/940+"s"),this.sliceLabels.push(ge)}}}return m}},{key:"addListeners",value:function(a,l){var d=new Le(this.ctx);a.node.addEventListener("mouseenter",d.pathMouseEnter.bind(this,a)),a.node.addEventListener("mouseleave",d.pathMouseLeave.bind(this,a)),a.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,a.node,l)),a.node.addEventListener("mousedown",d.pathMouseDown.bind(this,a)),this.donutDataLabels.total.showAlways||(a.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,a.node,l)),a.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,a.node,l)))}},{key:"animatePaths",value:function(a,l){var h=l.endAngle<l.startAngle?this.fullAngle+l.endAngle-l.startAngle:l.endAngle-l.startAngle,p=h,g=l.startAngle,m=l.startAngle;void 0!==l.prevStartAngle&&void 0!==l.prevEndAngle&&(g=l.prevEndAngle,p=l.prevEndAngle<l.prevStartAngle?this.fullAngle+l.prevEndAngle-l.prevStartAngle:l.prevEndAngle-l.prevStartAngle),l.i===this.w.config.series.length-1&&(h+m>this.fullAngle?l.endAngle=l.endAngle-(h+m):h+m<this.fullAngle&&(l.endAngle=l.endAngle+(this.fullAngle-(h+m)))),h===this.fullAngle&&(h=this.fullAngle-.01),this.animateArc(a,g,m,h,p,l)}},{key:"animateArc",value:function(a,l,d,h,p,g){var m,b=this,w=this.w,D=new Ci(this.ctx),I=g.size;(isNaN(l)||isNaN(p))&&(l=d,p=h,g.dur=0);var M=h,P=d,O=l<d?this.fullAngle+l-d:l-d;w.globals.dataChanged&&g.shouldSetPrevPaths&&g.prevEndAngle&&(m=b.getPiePath({me:b,startAngle:g.prevStartAngle,angle:g.prevEndAngle<g.prevStartAngle?this.fullAngle+g.prevEndAngle-g.prevStartAngle:g.prevEndAngle-g.prevStartAngle,size:I}),a.attr({d:m})),0!==g.dur?a.animate(g.dur,w.globals.easing,g.animBeginArr[g.i]).afterAll(function(){"pie"!==b.chartType&&"donut"!==b.chartType&&"polarArea"!==b.chartType||this.animate(w.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":b.strokeWidth}),g.i===w.config.series.length-1&&D.animationCompleted(a)}).during(function(F){M=O+(h-O)*F,g.animateStartingPos&&(M=p+(h-p)*F,P=l-p+(d-(l-p))*F),m=b.getPiePath({me:b,startAngle:P,angle:M,size:I}),a.node.setAttribute("data:pathOrig",m),a.attr({d:m})}):(m=b.getPiePath({me:b,startAngle:P,angle:h,size:I}),g.isTrack||(w.globals.animationEnded=!0),a.node.setAttribute("data:pathOrig",m),a.attr({d:m,"stroke-width":b.strokeWidth}))}},{key:"pieClicked",value:function(a){var l,d=this.w,h=this,p=h.sliceSizes[a]+(d.config.plotOptions.pie.expandOnClick?4:0),g=d.globals.dom.Paper.select(".apexcharts-".concat(h.chartType.toLowerCase(),"-slice-").concat(a)).members[0];if("true"!==g.attr("data:pieClicked")){var m=d.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(m,function(I){I.setAttribute("data:pieClicked","false");var M=I.getAttribute("data:pathOrig");M&&I.setAttribute("d",M)}),g.attr("data:pieClicked","true");var b=parseInt(g.attr("data:startAngle"),10),w=parseInt(g.attr("data:angle"),10);l=h.getPiePath({me:h,startAngle:b,angle:w,size:p}),360!==w&&g.plot(l)}else{g.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(g.node,this.donutDataLabels);var D=g.attr("data:pathOrig");g.attr({d:D})}}},{key:"getChangedPath",value:function(a,l){var d="";return this.dynamicAnim&&this.w.globals.dataChanged&&(d=this.getPiePath({me:this,startAngle:a,angle:l-a,size:this.size})),d}},{key:"getPiePath",value:function(a){var l=a.me,d=a.startAngle,h=a.angle,p=a.size,g=d,m=Math.PI*(g-90)/180,b=h+d;Math.ceil(b)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(b=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(b)>this.fullAngle&&(b-=this.fullAngle);var w=Math.PI*(b-90)/180,D=l.centerX+p*Math.cos(m),I=l.centerY+p*Math.sin(m),M=l.centerX+p*Math.cos(w),P=l.centerY+p*Math.sin(w),O=he.polarToCartesian(l.centerX,l.centerY,l.donutSize,b),F=he.polarToCartesian(l.centerX,l.centerY,l.donutSize,g),H=h>180?1:0,W=["M",D,I,"A",p,p,0,H,1,M,P];return"donut"===l.chartType?[].concat(W,["L",O.x,O.y,"A",l.donutSize,l.donutSize,0,H,0,F.x,F.y,"L",D,I,"z"]).join(" "):"pie"===l.chartType||"polarArea"===l.chartType?[].concat(W,["L",l.centerX,l.centerY,"L",D,I]).join(" "):[].concat(W).join(" ")}},{key:"drawPolarElements",value:function(a){var l=this.w,d=new Pn(this.ctx),h=new Le(this.ctx),p=new Vl(this.ctx),g=h.group(),m=h.group(),b=d.niceScale(0,Math.ceil(this.maxY),l.config.yaxis[0].tickAmount,0,!0),w=b.result.reverse(),D=b.result.length;this.maxY=b.niceMax;for(var I=l.globals.radialSize,M=I/(D-1),P=0;P<D-1;P++){var O=h.drawCircle(I);if(O.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":l.config.plotOptions.polarArea.rings.strokeWidth,stroke:l.config.plotOptions.polarArea.rings.strokeColor}),l.config.yaxis[0].show){var F=p.drawYAxisTexts(this.centerX,this.centerY-I+parseInt(l.config.yaxis[0].labels.style.fontSize,10)/2,P,w[P]);m.add(F)}g.add(O),I-=M}this.drawSpokes(a),a.add(g),a.add(m)}},{key:"renderInnerDataLabels",value:function(a,l){var d=this.w,h=new Le(this.ctx),p=h.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(l.translateX?l.translateX:0,", ").concat(l.translateY?l.translateY:0,") scale(").concat(d.config.plotOptions.pie.customScale,")")}),g=a.total.show;p.node.style.opacity=l.opacity;var m,b,w=l.centerX,D=l.centerY;m=void 0===a.name.color?d.globals.colors[0]:a.name.color;var I=a.name.fontSize,M=a.name.fontFamily,P=a.name.fontWeight;b=void 0===a.value.color?d.config.chart.foreColor:a.value.color;var O=a.value.formatter,F="",H="";if(g?(m=a.total.color,I=a.total.fontSize,M=a.total.fontFamily,P=a.total.fontWeight,H=a.total.label,F=a.total.formatter(d)):1===d.globals.series.length&&(F=O(d.globals.series[0],d),H=d.globals.seriesNames[0]),H&&(H=a.name.formatter(H,a.total.show,d)),a.name.show){var W=h.drawText({x:w,y:D+parseFloat(a.name.offsetY),text:H,textAnchor:"middle",foreColor:m,fontSize:I,fontWeight:P,fontFamily:M});W.node.classList.add("apexcharts-datalabel-label"),p.add(W)}if(a.value.show){var q=a.name.show?parseFloat(a.value.offsetY)+16:a.value.offsetY,x=h.drawText({x:w,y:D+q,text:F,textAnchor:"middle",foreColor:b,fontWeight:a.value.fontWeight,fontSize:a.value.fontSize,fontFamily:a.value.fontFamily});x.node.classList.add("apexcharts-datalabel-value"),p.add(x)}return p}},{key:"printInnerLabels",value:function(a,l,d,h){var p,g=this.w;h?p=void 0===a.name.color?g.globals.colors[parseInt(h.parentNode.getAttribute("rel"),10)-1]:a.name.color:g.globals.series.length>1&&a.total.show&&(p=a.total.color);var m=g.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),b=g.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");d=(0,a.value.formatter)(d,g),h||"function"!=typeof a.total.formatter||(d=a.total.formatter(g)),l=a.name.formatter(l,l===a.total.label,g),null!==m&&(m.textContent=l),null!==b&&(b.textContent=d),null!==m&&(m.style.fill=p)}},{key:"printDataLabelsInner",value:function(a,l){var d=this.w,h=a.getAttribute("data:value"),p=d.globals.seriesNames[parseInt(a.parentNode.getAttribute("rel"),10)-1];d.globals.series.length>1&&this.printInnerLabels(l,p,h,a);var g=d.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==g&&(g.style.opacity=1)}},{key:"drawSpokes",value:function(a){var l=this,d=this.w,h=new Le(this.ctx),p=d.config.plotOptions.polarArea.spokes;if(0!==p.strokeWidth){for(var g=[],m=360/d.globals.series.length,b=0;b<d.globals.series.length;b++)g.push(he.polarToCartesian(this.centerX,this.centerY,d.globals.radialSize,d.config.plotOptions.pie.startAngle+m*b));g.forEach(function(w,D){var I=h.drawLine(w.x,w.y,l.centerX,l.centerY,Array.isArray(p.connectorColors)?p.connectorColors[D]:p.connectorColors);a.add(I)})}}},{key:"revertDataLabelsInner",value:function(a,l,d){var h=this,p=this.w,g=p.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),m=!1,b=p.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),w=function(M){var P=M.makeSliceOut,O=M.printLabel;Array.prototype.forEach.call(b,function(F){"true"===F.getAttribute("data:pieClicked")&&(P&&(m=!0),O&&h.printDataLabelsInner(F,l))})};if(w({makeSliceOut:!0,printLabel:!1}),l.total.show&&p.globals.series.length>1)m&&!l.total.showAlways?w({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(l,l.total.label,l.total.formatter(p));else if(w({makeSliceOut:!1,printLabel:!0}),!m)if(p.globals.selectedDataPoints.length&&p.globals.series.length>1)if(p.globals.selectedDataPoints[0].length>0){var D=p.globals.selectedDataPoints[0],I=p.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(D));this.printDataLabelsInner(I,l)}else g&&p.globals.selectedDataPoints.length&&0===p.globals.selectedDataPoints[0].length&&(g.style.opacity=0);else g&&p.globals.series.length>1&&(g.style.opacity=0)}}]),B}(),fe=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var l=this.w;this.graphics=new Le(this.ctx),this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=l.globals.svgHeight<l.globals.svgWidth?l.globals.gridHeight+1.5*l.globals.goldenPadding:l.globals.gridWidth,this.isLog=l.config.yaxis[0].logarithmic,this.coreUtils=new Vt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(l.globals.maxY,0):l.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):l.globals.minY,this.polygons=l.config.plotOptions.radar.polygons,this.strokeWidth=l.config.stroke.show?l.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-l.config.chart.dropShadow.blur,l.config.xaxis.labels.show&&(this.size=this.size-l.globals.xAxisLabelsWidth/1.75),void 0!==l.config.plotOptions.radar.size&&(this.size=l.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return ot(B,[{key:"draw",value:function(a){var l=this,d=this.w,h=new _e(this.ctx),p=[],g=new ke(this.ctx);a.length&&(this.dataPointsLen=a[d.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var D=d.globals.gridHeight/2+d.config.plotOptions.radar.offsetY,I=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(d.globals.gridWidth/2+d.config.plotOptions.radar.offsetX||0,", ").concat(D||0,")")}),M=[],P=null,O=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),a.forEach(function(H,W){var q=H.length===d.globals.dataPoints,x=l.graphics.group().attr({class:"apexcharts-series","data:longestSeries":q,seriesName:he.escapeString(d.globals.seriesNames[W]),rel:W+1,"data:realIndex":W});l.dataRadiusOfPercent[W]=[],l.dataRadius[W]=[],l.angleArr[W]=[],H.forEach(function(He,Ae){var mt=Math.abs(l.maxValue-l.minValue);He+=Math.abs(l.minValue),l.isLog&&(He=l.coreUtils.getLogVal(He,0)),l.dataRadiusOfPercent[W][Ae]=He/mt,l.dataRadius[W][Ae]=l.dataRadiusOfPercent[W][Ae]*l.size,l.angleArr[W][Ae]=Ae*l.disAngle}),M=l.getDataPointsPos(l.dataRadius[W],l.angleArr[W]);var k=l.createPaths(M,{x:0,y:0});P=l.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),O=l.graphics.group({class:"apexcharts-datalabels","data:realIndex":W}),d.globals.delayedElements.push({el:P.node,index:W});var N={i:W,realIndex:W,animationDelay:W,initialSpeed:d.config.chart.animations.speed,dataChangeSpeed:d.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:d.globals.stroke.colors[W],strokeLineCap:d.config.stroke.lineCap},U=null;d.globals.previousPaths.length>0&&(U=l.getPreviousPath(W));for(var X=0;X<k.linePathsTo.length;X++){var Y=l.graphics.renderPaths(me(me({},N),{},{pathFrom:null===U?k.linePathsFrom[X]:U,pathTo:k.linePathsTo[X],strokeWidth:Array.isArray(l.strokeWidth)?l.strokeWidth[W]:l.strokeWidth,fill:"none",drawShadow:!1}));x.add(Y);var pe=h.fillPath({seriesNumber:W}),ge=l.graphics.renderPaths(me(me({},N),{},{pathFrom:null===U?k.areaPathsFrom[X]:U,pathTo:k.areaPathsTo[X],strokeWidth:0,fill:pe,drawShadow:!1}));d.config.chart.dropShadow.enabled&&new Tn(l.ctx).dropShadow(ge,Object.assign({},d.config.chart.dropShadow,{noUserSpaceOnUse:!0}),W),x.add(ge)}H.forEach(function(He,Ae){var mt=new ze(l.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:W,dataPointIndex:Ae}),nn=l.graphics.drawMarker(M[Ae].x,M[Ae].y,mt);nn.attr("rel",Ae),nn.attr("j",Ae),nn.attr("index",W),nn.node.setAttribute("default-marker-size",mt.pSize);var dn=l.graphics.group({class:"apexcharts-series-markers"});dn&&dn.add(nn),P.add(dn),x.add(P);var Ln=d.config.dataLabels;if(Ln.enabled){var ai=Ln.formatter(d.globals.series[W][Ae],{seriesIndex:W,dataPointIndex:Ae,w:d});g.plotDataLabelsText({x:M[Ae].x,y:M[Ae].y,text:ai,textAnchor:"middle",i:W,j:W,parent:O,offsetCorrection:!1,dataLabelsConfig:me({},Ln)})}x.add(O)}),p.push(x)}),this.drawPolygons({parent:I}),d.config.xaxis.labels.show){var F=this.drawXAxisTexts();I.add(F)}return p.forEach(function(H){I.add(H)}),I.add(this.yaxisLabels),I}},{key:"drawPolygons",value:function(a){for(var l=this,d=this.w,h=a.parent,p=new Vl(this.ctx),g=d.globals.yAxisScale[0].result.reverse(),m=g.length,b=[],w=this.size/(m-1),D=0;D<m;D++)b[D]=w*D;b.reverse();var I=[],M=[];b.forEach(function(P,O){var F=he.getPolygonPos(P,l.dataPointsLen),H="";F.forEach(function(W,q){if(0===O){var x=l.graphics.drawLine(W.x,W.y,0,0,Array.isArray(l.polygons.connectorColors)?l.polygons.connectorColors[q]:l.polygons.connectorColors);M.push(x)}0===q&&l.yaxisLabelsTextsPos.push({x:W.x,y:W.y}),H+=W.x+","+W.y+" "}),I.push(H)}),I.forEach(function(P,O){var F=l.polygons.strokeColors,H=l.polygons.strokeWidth,W=l.graphics.drawPolygon(P,Array.isArray(F)?F[O]:F,Array.isArray(H)?H[O]:H,d.globals.radarPolygons.fill.colors[O]);h.add(W)}),M.forEach(function(P){h.add(P)}),d.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(P,O){var F=p.drawYAxisTexts(P.x,P.y,O,g[O]);l.yaxisLabels.add(F)})}},{key:"drawXAxisTexts",value:function(){var a=this,l=this.w,d=l.config.xaxis.labels,h=this.graphics.group({class:"apexcharts-xaxis"}),p=he.getPolygonPos(this.size,this.dataPointsLen);return l.globals.labels.forEach(function(g,m){var b=l.config.xaxis.labels.formatter,w=new ke(a.ctx);if(p[m]){var D=a.getTextPos(p[m],a.size),I=b(g,{seriesIndex:-1,dataPointIndex:m,w:l});w.plotDataLabelsText({x:D.newX,y:D.newY,text:I,textAnchor:D.textAnchor,i:m,j:m,parent:h,color:Array.isArray(d.style.colors)&&d.style.colors[m]?d.style.colors[m]:"#a8a8a8",dataLabelsConfig:me({textAnchor:D.textAnchor,dropShadow:{enabled:!1}},d),offsetCorrection:!1})}}),h}},{key:"createPaths",value:function(a,l){var d=this,h=[],p=[],g=[],m=[];if(a.length){p=[this.graphics.move(l.x,l.y)],m=[this.graphics.move(l.x,l.y)];var b=this.graphics.move(a[0].x,a[0].y),w=this.graphics.move(a[0].x,a[0].y);a.forEach(function(D,I){b+=d.graphics.line(D.x,D.y),w+=d.graphics.line(D.x,D.y),I===a.length-1&&(b+="Z",w+="Z")}),h.push(b),g.push(w)}return{linePathsFrom:p,linePathsTo:h,areaPathsFrom:m,areaPathsTo:g}}},{key:"getTextPos",value:function(a,l){var d="middle",h=a.x,p=a.y;return Math.abs(a.x)>=10?a.x>0?(d="start",h+=10):a.x<0&&(d="end",h-=10):d="middle",Math.abs(a.y)>=l-10&&(a.y<0?p-=10:a.y>0&&(p+=10)),{textAnchor:d,newX:h,newY:p}}},{key:"getPreviousPath",value:function(a){for(var l=this.w,d=null,h=0;h<l.globals.previousPaths.length;h++){var p=l.globals.previousPaths[h];p.paths.length>0&&parseInt(p.realIndex,10)===parseInt(a,10)&&void 0!==l.globals.previousPaths[h].paths[0]&&(d=l.globals.previousPaths[h].paths[0].d)}return d}},{key:"getDataPointsPos",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;a=a||[],l=l||[];for(var h=[],p=0;p<d;p++){var g={};g.x=a[p]*Math.sin(l[p]),g.y=-a[p]*Math.cos(l[p]),h.push(g)}return h}}]),B}(),ae=function(B){cn(l,il);var a=on(l);function l(d){var h;Ue(this,l),(h=a.call(this,d)).ctx=d,h.w=d.w,h.animBeginArr=[0],h.animDur=0;var p=h.w;return h.startAngle=p.config.plotOptions.radialBar.startAngle,h.endAngle=p.config.plotOptions.radialBar.endAngle,h.totalAngle=Math.abs(p.config.plotOptions.radialBar.endAngle-p.config.plotOptions.radialBar.startAngle),h.trackStartAngle=p.config.plotOptions.radialBar.track.startAngle,h.trackEndAngle=p.config.plotOptions.radialBar.track.endAngle,h.donutDataLabels=h.w.config.plotOptions.radialBar.dataLabels,h.radialDataLabels=h.donutDataLabels,h.trackStartAngle||(h.trackStartAngle=h.startAngle),h.trackEndAngle||(h.trackEndAngle=h.endAngle),360===h.endAngle&&(h.endAngle=359.99),h.margin=parseInt(p.config.plotOptions.radialBar.track.margin,10),h}return ot(l,[{key:"draw",value:function(d){var h=this.w,p=new Le(this.ctx),g=p.group({class:"apexcharts-radialbar"});if(h.globals.noData)return g;var m=p.group(),b=this.defaultSize/2,w=h.globals.gridWidth/2,D=this.defaultSize/2.05;h.config.chart.sparkline.enabled||(D=D-h.config.stroke.width-h.config.chart.dropShadow.blur);var I=h.globals.fill.colors;if(h.config.plotOptions.radialBar.track.show){var M=this.drawTracks({size:D,centerX:w,centerY:b,colorArr:I,series:d});m.add(M)}var P=this.drawArcs({size:D,centerX:w,centerY:b,colorArr:I,series:d}),O=360;h.config.plotOptions.radialBar.startAngle<0&&(O=this.totalAngle);var F=(360-O)/360;if(h.globals.radialSize=D-D*F,this.radialDataLabels.value.show){var H=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);h.globals.radialSize+=H*F}return m.add(P.g),"front"===h.config.plotOptions.radialBar.hollow.position&&(P.g.add(P.elHollow),P.dataLabels&&P.g.add(P.dataLabels)),g.add(m),g}},{key:"drawTracks",value:function(d){var h=this.w,p=new Le(this.ctx),g=p.group({class:"apexcharts-tracks"}),m=new Tn(this.ctx),b=new _e(this.ctx),w=this.getStrokeWidth(d);d.size=d.size-w/2;for(var D=0;D<d.series.length;D++){var I=p.group({class:"apexcharts-radialbar-track apexcharts-track"});g.add(I),I.attr({rel:D+1}),d.size=d.size-w-this.margin;var M=h.config.plotOptions.radialBar.track,P=b.fillPath({seriesNumber:0,size:d.size,fillColors:Array.isArray(M.background)?M.background[D]:M.background,solid:!0}),O=this.trackStartAngle,F=this.trackEndAngle;Math.abs(F)+Math.abs(O)>=360&&(F=360-Math.abs(this.startAngle)-.1);var H=p.drawPath({d:"",stroke:P,strokeWidth:w*parseInt(M.strokeWidth,10)/100,fill:"none",strokeOpacity:M.opacity,classes:"apexcharts-radialbar-area"});M.dropShadow.enabled&&m.dropShadow(H,M.dropShadow),I.add(H),H.attr("id","apexcharts-radialbarTrack-"+D),this.animatePaths(H,{centerX:d.centerX,centerY:d.centerY,endAngle:F,startAngle:O,size:d.size,i:D,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:h.globals.easing})}return g}},{key:"drawArcs",value:function(d){var h=this.w,p=new Le(this.ctx),g=new _e(this.ctx),m=new Tn(this.ctx),b=p.group(),w=this.getStrokeWidth(d);d.size=d.size-w/2;var D=h.config.plotOptions.radialBar.hollow.background,I=d.size-w*d.series.length-this.margin*d.series.length-w*parseInt(h.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,M=I-h.config.plotOptions.radialBar.hollow.margin;void 0!==h.config.plotOptions.radialBar.hollow.image&&(D=this.drawHollowImage(d,b,I,D));var P=this.drawHollow({size:M,centerX:d.centerX,centerY:d.centerY,fill:D||"transparent"});h.config.plotOptions.radialBar.hollow.dropShadow.enabled&&m.dropShadow(P,h.config.plotOptions.radialBar.hollow.dropShadow);var F=1;!this.radialDataLabels.total.show&&h.globals.series.length>1&&(F=0);var H=null;this.radialDataLabels.show&&(H=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:I,centerX:d.centerX,centerY:d.centerY,opacity:F})),"back"===h.config.plotOptions.radialBar.hollow.position&&(b.add(P),H&&b.add(H));var W=!1;h.config.plotOptions.radialBar.inverseOrder&&(W=!0);for(var q=W?d.series.length-1:0;W?q>=0:q<d.series.length;W?q--:q++){var x=p.group({class:"apexcharts-series apexcharts-radial-series",seriesName:he.escapeString(h.globals.seriesNames[q])});b.add(x),x.attr({rel:q+1,"data:realIndex":q}),this.ctx.series.addCollapsedClassToSeries(x,q),d.size=d.size-w-this.margin;var k=g.fillPath({seriesNumber:q,size:d.size,value:d.series[q]}),N=this.startAngle,U=void 0,X=he.negToZero(d.series[q]>100?100:d.series[q])/100,Y=Math.round(this.totalAngle*X)+this.startAngle,pe=void 0;h.globals.dataChanged&&(U=this.startAngle,pe=Math.round(this.totalAngle*he.negToZero(h.globals.previousPaths[q])/100)+U),Math.abs(Y)+Math.abs(N)>=360&&(Y-=.01),Math.abs(pe)+Math.abs(U)>=360&&(pe-=.01);var ge=Y-N,Me=Array.isArray(h.config.stroke.dashArray)?h.config.stroke.dashArray[q]:h.config.stroke.dashArray,re=p.drawPath({d:"",stroke:k,strokeWidth:w,fill:"none",fillOpacity:h.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+q,strokeDashArray:Me});Le.setAttrs(re.node,{"data:angle":ge,"data:value":d.series[q]}),h.config.chart.dropShadow.enabled&&m.dropShadow(re,h.config.chart.dropShadow,q),m.setSelectionFilter(re,0,q),this.addListeners(re,this.radialDataLabels),x.add(re),re.attr({index:0,j:q});var Ae=0;!this.initialAnim||h.globals.resized||h.globals.dataChanged||(Ae=h.config.chart.animations.speed),h.globals.dataChanged&&(Ae=h.config.chart.animations.dynamicAnimation.speed),this.animDur=Ae/(1.2*d.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(re,{centerX:d.centerX,centerY:d.centerY,endAngle:Y,startAngle:N,prevEndAngle:pe,prevStartAngle:U,size:d.size,i:q,totalItems:2,animBeginArr:this.animBeginArr,dur:Ae,shouldSetPrevPaths:!0,easing:h.globals.easing})}return{g:b,elHollow:P,dataLabels:H}}},{key:"drawHollow",value:function(d){var h=new Le(this.ctx).drawCircle(2*d.size);return h.attr({class:"apexcharts-radialbar-hollow",cx:d.centerX,cy:d.centerY,r:d.size,fill:d.fill}),h}},{key:"drawHollowImage",value:function(d,h,p,g){var m=this.w,b=new _e(this.ctx),w=he.randomId(),D=m.config.plotOptions.radialBar.hollow.image;if(m.config.plotOptions.radialBar.hollow.imageClipped)b.clippedImgArea({width:p,height:p,image:D,patternID:"pattern".concat(m.globals.cuid).concat(w)}),g="url(#pattern".concat(m.globals.cuid).concat(w,")");else{var I=m.config.plotOptions.radialBar.hollow.imageWidth,M=m.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===I&&void 0===M){var P=m.globals.dom.Paper.image(D).loaded(function(F){this.move(d.centerX-F.width/2+m.config.plotOptions.radialBar.hollow.imageOffsetX,d.centerY-F.height/2+m.config.plotOptions.radialBar.hollow.imageOffsetY)});h.add(P)}else{var O=m.globals.dom.Paper.image(D).loaded(function(F){this.move(d.centerX-I/2+m.config.plotOptions.radialBar.hollow.imageOffsetX,d.centerY-M/2+m.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(I,M)});h.add(O)}}return g}},{key:"getStrokeWidth",value:function(d){return d.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(d.series.length+1)-this.margin}}]),l}(),de=function(B){cn(l,Zi);var a=on(l);function l(){return Ue(this,l),a.apply(this,arguments)}return ot(l,[{key:"draw",value:function(d,h){var p=this.w,g=new Le(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=d,this.seriesRangeStart=p.globals.seriesRangeStart,this.seriesRangeEnd=p.globals.seriesRangeEnd,this.barHelpers.initVariables(d);for(var m=g.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),b=0;b<d.length;b++){var w,D,I,M,P=void 0,O=void 0,F=p.globals.comboCharts?h[b]:b,H=g.group({class:"apexcharts-series",seriesName:he.escapeString(p.globals.seriesNames[F]),rel:b+1,"data:realIndex":F});this.ctx.series.addCollapsedClassToSeries(H,F),d[b].length>0&&(this.visibleI=this.visibleI+1);var W=0,q=0;this.yRatio.length>1&&(this.yaxisIndex=F);var x=this.barHelpers.initialPositions();O=x.y,M=x.zeroW,P=x.x,q=x.barWidth,W=x.barHeight,w=x.xDivision,D=x.yDivision,I=x.zeroH;for(var k=g.group({class:"apexcharts-datalabels","data:realIndex":F}),N=g.group({class:"apexcharts-rangebar-goals-markers"}),U=0;U<p.globals.dataPoints;U++){var X,Y=this.barHelpers.getStrokeWidth(b,U,F),pe=this.seriesRangeStart[b][U],ge=this.seriesRangeEnd[b][U],Me=null,re=null,He=null,Ae={x:P,y:O,strokeWidth:Y,elSeries:H},mt=this.seriesLen;if(p.config.plotOptions.bar.rangeBarGroupRows&&(mt=1),void 0===p.config.series[b].data[U])break;if(this.isHorizontal){if(He=O+W*this.visibleI,p.config.series[b].data[U].x){var dn=this.detectOverlappingBars({i:b,j:U,barYPosition:He,srty:(D-W*mt)/2,barHeight:W,yDivision:D,initPositions:x});W=dn.barHeight,He=dn.barYPosition}q=(Me=this.drawRangeBarPaths(me({indexes:{i:b,j:U,realIndex:F},barHeight:W,barYPosition:He,zeroW:M,yDivision:D,y1:pe,y2:ge},Ae))).barWidth}else{if(p.globals.isXNumeric&&(P=(p.globals.seriesX[b][U]-p.globals.minX)/this.xRatio-q/2),re=P+q*this.visibleI,p.config.series[b].data[U].x){var ai=this.detectOverlappingBars({i:b,j:U,barXPosition:re,srtx:(w-q*mt)/2,barWidth:q,xDivision:w,initPositions:x});q=ai.barWidth,re=ai.barXPosition}W=(Me=this.drawRangeColumnPaths(me({indexes:{i:b,j:U,realIndex:F},barWidth:q,barXPosition:re,zeroH:I,xDivision:w},Ae))).barHeight}var Qn=this.barHelpers.drawGoalLine({barXPosition:Me.barXPosition,barYPosition:He,goalX:Me.goalX,goalY:Me.goalY,barHeight:W,barWidth:q});Qn&&N.add(Qn),O=Me.y,P=Me.x;var yi=this.barHelpers.getPathFillColor(d,b,U,F);this.renderSeries((hi(X={realIndex:F,pathFill:yi,lineFill:p.globals.stroke.colors[F],j:U,i:b,x:P,y:O,y1:pe,y2:ge,pathFrom:Me.pathFrom,pathTo:Me.pathTo,strokeWidth:Y,elSeries:H,series:d,barHeight:W,barWidth:q,barXPosition:re,barYPosition:He},"barWidth",q),hi(X,"elDataLabelsWrap",k),hi(X,"elGoalsMarkers",N),hi(X,"visibleSeries",this.visibleI),hi(X,"type","rangebar"),X))}m.add(H)}return m}},{key:"detectOverlappingBars",value:function(d){var h=d.i,p=d.j,g=d.barYPosition,m=d.barXPosition,b=d.srty,w=d.srtx,D=d.barHeight,I=d.barWidth,M=d.yDivision,P=d.xDivision,O=d.initPositions,F=this.w,H=[],W=F.config.series[h].data[p].rangeName,q=F.config.series[h].data[p].x,x=Array.isArray(q)?q.join(" "):q,k=F.globals.labels.map(function(U){return Array.isArray(U)?U.join(" "):U}).indexOf(x),N=F.globals.seriesRange[h].findIndex(function(U){return U.x===x&&U.overlaps.length>0});return this.isHorizontal?(g=F.config.plotOptions.bar.rangeBarGroupRows?b+M*k:b+D*this.visibleI+M*k,N>-1&&!F.config.plotOptions.bar.rangeBarOverlap&&(H=F.globals.seriesRange[h][N].overlaps).indexOf(W)>-1&&(g=(D=O.barHeight/H.length)*this.visibleI+M*(100-parseInt(this.barOptions.barHeight,10))/100/2+D*(this.visibleI+H.indexOf(W))+M*k)):(k>-1&&(m=F.config.plotOptions.bar.rangeBarGroupRows?w+P*k:w+I*this.visibleI+P*k),N>-1&&!F.config.plotOptions.bar.rangeBarOverlap&&(H=F.globals.seriesRange[h][N].overlaps).indexOf(W)>-1&&(m=(I=O.barWidth/H.length)*this.visibleI+P*(100-parseInt(this.barOptions.barWidth,10))/100/2+I*(this.visibleI+H.indexOf(W))+P*k)),{barYPosition:g,barXPosition:m,barHeight:D,barWidth:I}}},{key:"drawRangeColumnPaths",value:function(d){var h=d.indexes,p=d.x,g=d.xDivision,m=d.barWidth,b=d.barXPosition,w=d.zeroH,D=this.w,I=h.i,M=h.j,P=this.yRatio[this.yaxisIndex],O=h.realIndex,F=this.getRangeValue(O,M),H=Math.min(F.start,F.end),W=Math.max(F.start,F.end);null==this.series[I][M]?H=w:(H=w-H/P,W=w-W/P);var q=Math.abs(W-H),x=this.barHelpers.getColumnPaths({barXPosition:b,barWidth:m,y1:H,y2:W,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:h.realIndex,i:O,j:M,w:D});if(D.globals.isXNumeric){var k=this.getBarXForNumericXAxis({x:p,j:M,realIndex:O,barWidth:m});p=k.x,b=k.barXPosition}else p+=g;return{pathTo:x.pathTo,pathFrom:x.pathFrom,barHeight:q,x:p,y:W,goalY:this.barHelpers.getGoalValues("y",null,w,I,M),barXPosition:b}}},{key:"drawRangeBarPaths",value:function(d){var h=d.indexes,p=d.y,b=d.yDivision,w=d.barHeight,D=d.barYPosition,I=d.zeroW,M=this.w,P=I+d.y1/this.invertedYRatio,O=I+d.y2/this.invertedYRatio,F=Math.abs(O-P),H=this.barHelpers.getBarpaths({barYPosition:D,barHeight:w,x1:P,x2:O,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:h.realIndex,realIndex:h.realIndex,j:h.j,w:M});return M.globals.isXNumeric||(p+=b),{pathTo:H.pathTo,pathFrom:H.pathFrom,barWidth:F,x:O,goalX:this.barHelpers.getGoalValues("x",I,null,h.realIndex,h.j),y:p}}},{key:"getRangeValue",value:function(d,h){var p=this.w;return{start:p.globals.seriesRangeStart[d][h],end:p.globals.seriesRangeEnd[d][h]}}}]),l}(),Fe=function(){function B(a){Ue(this,B),this.w=a.w,this.lineCtx=a}return ot(B,[{key:"sameValueSeriesFix",value:function(a,l){var d=this.w;if(("gradient"===d.config.fill.type||"gradient"===d.config.fill.type[a])&&new Vt(this.lineCtx.ctx,d).seriesHaveSameValues(a)){var h=l[a].slice();h[h.length-1]=h[h.length-1]+1e-6,l[a]=h}return l}},{key:"calculatePoints",value:function(a){var l=a.series,h=a.x,p=a.y,g=a.i,m=a.j,b=a.prevY,w=this.w,D=[],I=[];if(0===m){var M=this.lineCtx.categoryAxisCorrection+w.config.markers.offsetX;w.globals.isXNumeric&&(M=(w.globals.seriesX[a.realIndex][0]-w.globals.minX)/this.lineCtx.xRatio+w.config.markers.offsetX),D.push(M),I.push(he.isNumber(l[g][0])?b+w.config.markers.offsetY:null),D.push(h+w.config.markers.offsetX),I.push(he.isNumber(l[g][m+1])?p+w.config.markers.offsetY:null)}else D.push(h+w.config.markers.offsetX),I.push(he.isNumber(l[g][m+1])?p+w.config.markers.offsetY:null);return{x:D,y:I}}},{key:"checkPreviousPaths",value:function(a){for(var l=a.pathFromLine,d=a.pathFromArea,h=a.realIndex,p=this.w,g=0;g<p.globals.previousPaths.length;g++){var m=p.globals.previousPaths[g];("line"===m.type||"area"===m.type)&&m.paths.length>0&&parseInt(m.realIndex,10)===parseInt(h,10)&&("line"===m.type?(this.lineCtx.appendPathFrom=!1,l=p.globals.previousPaths[g].paths[0].d):"area"===m.type&&(this.lineCtx.appendPathFrom=!1,d=p.globals.previousPaths[g].paths[0].d,p.config.stroke.show&&p.globals.previousPaths[g].paths[1]&&(l=p.globals.previousPaths[g].paths[1].d)))}return{pathFromLine:l,pathFromArea:d}}},{key:"determineFirstPrevY",value:function(a){var l,d=a.i,h=a.series,p=a.prevY,g=a.lineYPosition,m=this.w;if(void 0!==(null===(l=h[d])||void 0===l?void 0:l[0]))p=(g=m.config.chart.stacked&&d>0?this.lineCtx.prevSeriesY[d-1][0]:this.lineCtx.zeroY)-h[d][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?h[d][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(m.config.chart.stacked&&d>0&&void 0===h[d][0])for(var b=d-1;b>=0;b--)if(null!=h[b][0]){p=g=this.lineCtx.prevSeriesY[b][0];break}return{prevY:p,lineYPosition:g}}}]),B}(),Pe=function(B){for(var a="",l=0;l<B.length;l++){var d=B[l],h=B[l-1],p=d.length,g=h?.length;l>1&&Math.abs(d[p-2]-h[g-2])<30?(a+="Q".concat(d[0],", ").concat(d[1]),a+=", ".concat(d[2],", ").concat(d[3])):p>4?(a+="C".concat(d[0],", ").concat(d[1]),a+=", ".concat(d[2],", ").concat(d[3]),a+=", ".concat(d[4],", ").concat(d[5])):p>2&&(a+="S".concat(d[0],", ").concat(d[1]),a+=", ".concat(d[2],", ").concat(d[3]))}return a},Ht=function(B){var a=function(B){for(var a,l,d,h,p=function(D){for(var I=[],M=D[0],P=D[1],O=I[0]=Sn(M,P),F=1,H=D.length-1;F<H;F++)I[F]=.5*(O+(O=Sn(M=P,P=D[F+1])));return I[F]=O,I}(B),g=B.length-1,m=[],b=0;b<g;b++)d=Sn(B[b],B[b+1]),Math.abs(d)<1e-6?p[b]=p[b+1]=0:(h=(a=p[b]/d)*a+(l=p[b+1]/d)*l)>9&&(h=3*d/Math.sqrt(h),p[b]=h*a,p[b+1]=h*l);for(var w=0;w<=g;w++)h=(B[Math.min(g,w+1)][0]-B[Math.max(0,w-1)][0])/(6*(1+p[w]*p[w])),m.push([h||0,p[w]*h||0]);return m}(B),l=B[1],d=B[0],h=[],p=a[1],g=a[0];h.push(d,[d[0]+g[0],d[1]+g[1],l[0]-p[0],l[1]-p[1],l[0],l[1]]);for(var m=2,b=a.length;m<b;m++){var w=B[m],D=a[m];h.push([w[0]-D[0],w[1]-D[1],w[0],w[1]])}return h};function Sn(B,a){return(a[1]-B[1])/(a[0]-B[0])}var tn=function(){function B(a,l,d){Ue(this,B),this.ctx=a,this.w=a.w,this.xyRatios=l,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||d,this.scatter=new Qe(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Fe(this),this.markers=new ze(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return ot(B,[{key:"draw",value:function(a,l,d,h){var p,g=this.w,m=new Le(this.ctx),b=g.globals.comboCharts?l:g.config.chart.type,w=m.group({class:"apexcharts-".concat(b,"-series apexcharts-plot-series")}),D=new Vt(this.ctx,g);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,a=D.getLogSeries(a),this.yRatio=D.getLogYRatios(this.yRatio);for(var I=[],M=0;M<a.length;M++){a=this.lineHelpers.sameValueSeriesFix(M,a);var P=g.globals.comboCharts?d[M]:M;this._initSerieVariables(a,M,P);var O=[],F=[],H=[],W=g.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,P),g.globals.isXNumeric&&g.globals.seriesX.length>0&&(W=(g.globals.seriesX[P][0]-g.globals.minX)/this.xRatio),H.push(W);var q=W,x=this.zeroY,k=this.zeroY;x=this.lineHelpers.determineFirstPrevY({i:M,series:a,prevY:x,lineYPosition:0}).prevY,O.push("smooth"===g.config.stroke.curve&&null===a[M][0]?null:x),"rangeArea"===b&&(k=this.lineHelpers.determineFirstPrevY({i:M,series:h,prevY:k,lineYPosition:0}).prevY,F.push(k));var N={type:b,series:a,realIndex:P,i:M,x:W,y:1,pathsFrom:this._calculatePathsFrom({type:b,series:a,i:M,realIndex:P,prevX:q,prevY:x,prevY2:k}),linePaths:[],areaPaths:[],seriesIndex:d,lineYPosition:0,xArrj:H,yArrj:O,y2Arrj:F,seriesRangeEnd:h},U=this._iterateOverDataPoints(me(me({},N),{},{iterations:"rangeArea"===b?a[M].length-1:void 0,isRangeStart:!0}));if("rangeArea"===b){var X=this._calculatePathsFrom({series:h,i:M,realIndex:P,prevX:q,prevY:k}),Y=this._iterateOverDataPoints(me(me({},N),{},{series:h,pathsFrom:X,iterations:h[M].length-1,isRangeStart:!1}));U.linePaths[0]=Y.linePath+U.linePath,U.pathFromLine=Y.pathFromLine+U.pathFromLine}this._handlePaths({type:b,realIndex:P,i:M,paths:U}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),I.push(this.elSeries)}if(void 0!==(null===(p=g.config.series[0])||void 0===p?void 0:p.zIndex)&&I.sort(function(Me,re){return Number(Me.node.getAttribute("zIndex"))-Number(re.node.getAttribute("zIndex"))}),g.config.chart.stacked)for(var pe=I.length;pe>0;pe--)w.add(I[pe-1]);else for(var ge=0;ge<I.length;ge++)w.add(I[ge]);return w}},{key:"_initSerieVariables",value:function(a,l,d){var h=this.w,p=new Le(this.ctx);this.xDivision=h.globals.gridWidth/(h.globals.dataPoints-("on"===h.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(h.config.stroke.width)?h.config.stroke.width[d]:h.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=d),this.isReversed=h.config.yaxis[this.yaxisIndex]&&h.config.yaxis[this.yaxisIndex].reversed,this.zeroY=h.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?h.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>h.globals.gridHeight||"end"===h.config.plotOptions.area.fillTo)&&(this.areaBottomY=h.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=p.group({class:"apexcharts-series",zIndex:void 0!==h.config.series[d].zIndex?h.config.series[d].zIndex:d,seriesName:he.escapeString(h.globals.seriesNames[d])}),this.elPointsMain=p.group({class:"apexcharts-series-markers-wrap","data:realIndex":d}),this.elDataLabelsWrap=p.group({class:"apexcharts-datalabels","data:realIndex":d}),this.elSeries.attr({"data:longestSeries":a[l].length===h.globals.dataPoints,rel:l+1,"data:realIndex":d}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(a){var l,d,h,p,g=a.type,m=a.series,b=a.i,w=a.realIndex,D=a.prevX,I=a.prevY,M=a.prevY2,P=this.w,O=new Le(this.ctx);if(null===m[b][0]){for(var F=0;F<m[b].length;F++)if(null!==m[b][F]){l=O.move(D=this.xDivision*F,I=this.zeroY-m[b][F]/this.yRatio[this.yaxisIndex]),d=O.move(D,this.areaBottomY);break}}else l=O.move(D,I),"rangeArea"===g&&(l=O.move(D,M)+O.line(D,I)),d=O.move(D,this.areaBottomY)+O.line(D,I);if(h=O.move(-1,this.zeroY)+O.line(-1,this.zeroY),p=O.move(-1,this.zeroY)+O.line(-1,this.zeroY),P.globals.previousPaths.length>0){var H=this.lineHelpers.checkPreviousPaths({pathFromLine:h,pathFromArea:p,realIndex:w});h=H.pathFromLine,p=H.pathFromArea}return{prevX:D,prevY:I,linePath:l,areaPath:d,pathFromLine:h,pathFromArea:p}}},{key:"_handlePaths",value:function(a){var l=a.type,d=a.realIndex,h=a.i,p=a.paths,g=this.w,m=new Le(this.ctx),b=new _e(this.ctx);this.prevSeriesY.push(p.yArrj),g.globals.seriesXvalues[d]=p.xArrj,g.globals.seriesYvalues[d]=p.yArrj;var w=g.config.forecastDataPoints;if(w.count>0&&"rangeArea"!==l){var D=g.globals.seriesXvalues[d][g.globals.seriesXvalues[d].length-w.count-1],I=m.drawRect(D,0,g.globals.gridWidth,g.globals.gridHeight,0);g.globals.dom.elForecastMask.appendChild(I.node);var M=m.drawRect(0,0,D,g.globals.gridHeight,0);g.globals.dom.elNonForecastMask.appendChild(M.node)}this.pointsChart||g.globals.delayedElements.push({el:this.elPointsMain.node,index:d});var P={i:h,realIndex:d,animationDelay:h,initialSpeed:g.config.chart.animations.speed,dataChangeSpeed:g.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(l)};if("area"===l)for(var O=b.fillPath({seriesNumber:d}),F=0;F<p.areaPaths.length;F++){var H=m.renderPaths(me(me({},P),{},{pathFrom:p.pathFromArea,pathTo:p.areaPaths[F],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:O}));this.elSeries.add(H)}if(g.config.stroke.show&&!this.pointsChart){var W=null;if("line"===l)W=b.fillPath({seriesNumber:d,i:h});else if("solid"===g.config.stroke.fill.type)W=g.globals.stroke.colors[d];else{var q=g.config.fill;g.config.fill=g.config.stroke.fill,W=b.fillPath({seriesNumber:d,i:h}),g.config.fill=q}for(var x=0;x<p.linePaths.length;x++){var k=W;"rangeArea"===l&&(k=b.fillPath({seriesNumber:d}));var N=me(me({},P),{},{pathFrom:p.pathFromLine,pathTo:p.linePaths[x],stroke:W,strokeWidth:this.strokeWidth,strokeLineCap:g.config.stroke.lineCap,fill:"rangeArea"===l?k:"none"}),U=m.renderPaths(N);if(this.elSeries.add(U),U.attr("fill-rule","evenodd"),w.count>0&&"rangeArea"!==l){var X=m.renderPaths(N);X.node.setAttribute("stroke-dasharray",w.dashArray),w.strokeWidth&&X.node.setAttribute("stroke-width",w.strokeWidth),this.elSeries.add(X),X.attr("clip-path","url(#forecastMask".concat(g.globals.cuid,")")),U.attr("clip-path","url(#nonForecastMask".concat(g.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(a){var l=this,d=a.type,h=a.series,p=a.iterations,g=a.realIndex,m=a.i,b=a.x,w=a.y,D=a.pathsFrom,I=a.linePaths,M=a.areaPaths,P=a.seriesIndex,O=a.lineYPosition,F=a.xArrj,H=a.yArrj,W=a.y2Arrj,q=a.isRangeStart,x=a.seriesRangeEnd,k=this.w,N=new Le(this.ctx),U=this.yRatio,X=D.prevY,Y=D.linePath,pe=D.areaPath,ge=D.pathFromLine,Me=D.pathFromArea,re=he.isNumber(k.globals.minYArr[g])?k.globals.minYArr[g]:k.globals.minY;p||(p=k.globals.dataPoints>1?k.globals.dataPoints-1:k.globals.dataPoints);for(var He=function(Qn,yi){return yi-Qn/U[l.yaxisIndex]+2*(l.isReversed?Qn/U[l.yaxisIndex]:0)},Ae=w,mt=0;mt<p;mt++){var nn=null==h[m][mt+1];if(k.globals.isXNumeric){var dn=k.globals.seriesX[g][mt+1];void 0===k.globals.seriesX[g][mt+1]&&(dn=k.globals.seriesX[g][p-1]),b=(dn-k.globals.minX)/this.xRatio}else b+=this.xDivision;O=k.config.chart.stacked&&m>0&&k.globals.collapsedSeries.length<k.config.series.length-1?this.prevSeriesY[function(Qn){for(var yi=Qn,Hs=0;Hs<k.globals.series.length;Hs++)if(k.globals.collapsedSeriesIndices.indexOf(Qn)>-1){yi--;break}return yi>=0?yi:0}(m-1)][mt+1]:this.zeroY,nn?w=He(re,O):(w=He(h[m][mt+1],O),"rangeArea"===d&&(Ae=He(x[m][mt+1],O))),F.push(b),H.push(nn&&"smooth"===k.config.stroke.curve?null:w),W.push(Ae);var Ln=this.lineHelpers.calculatePoints({series:h,x:b,y:w,realIndex:g,i:m,j:mt,prevY:X}),ai=this._createPaths({type:d,series:h,i:m,realIndex:g,j:mt,x:b,y:w,y2:Ae,xArrj:F,yArrj:H,y2Arrj:W,linePath:Y,areaPath:pe,linePaths:I,areaPaths:M,seriesIndex:P,isRangeStart:q});M=ai.areaPaths,I=ai.linePaths,pe=ai.areaPath,Y=ai.linePath,!this.appendPathFrom||"smooth"===k.config.stroke.curve&&"rangeArea"===d||(ge+=N.line(b,this.zeroY),Me+=N.line(b,this.zeroY)),this.handleNullDataPoints(h,Ln,m,mt,g),this._handleMarkersAndLabels({type:d,pointsPos:Ln,i:m,j:mt,realIndex:g,isRangeStart:q})}return{yArrj:H,xArrj:F,pathFromArea:Me,areaPaths:M,pathFromLine:ge,linePaths:I,linePath:Y,areaPath:pe}}},{key:"_handleMarkersAndLabels",value:function(a){var l=a.type,d=a.pointsPos,h=a.isRangeStart,p=a.i,g=a.j,m=a.realIndex,b=this.w,w=new ke(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,g,{realIndex:m,pointsPos:d,zRatio:this.zRatio,elParent:this.elPointsMain});else{b.globals.series[p].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var D=this.markers.plotChartMarkers(d,m,g+1);null!==D&&this.elPointsMain.add(D)}var I=w.drawDataLabel({type:l,isRangeStart:h,pos:d,i:m,j:g+1});null!==I&&this.elDataLabelsWrap.add(I)}},{key:"_createPaths",value:function(a){var l=a.type,d=a.series,h=a.i,p=a.realIndex,g=a.j,m=a.x,b=a.y,w=a.xArrj,D=a.yArrj,I=a.y2,M=a.y2Arrj,P=a.linePath,O=a.areaPath,F=a.linePaths,H=a.areaPaths,W=a.seriesIndex,q=a.isRangeStart,x=this.w,k=new Le(this.ctx),N=x.config.stroke.curve,U=this.areaBottomY;if(Array.isArray(x.config.stroke.curve)&&(N=Array.isArray(W)?x.config.stroke.curve[W[h]]:x.config.stroke.curve[h]),"rangeArea"===l&&(x.globals.hasNullValues||x.config.forecastDataPoints.count>0)&&"smooth"===N&&(N="straight"),"smooth"===N){var X="rangeArea"===l?w.length===x.globals.dataPoints:g===d[h].length-2,Y=w.map(function(mt,nn){return[w[nn],D[nn]]}).filter(function(mt){return null!==mt[1]});if(X&&Y.length>1){var pe=Ht(Y);if(P+=Pe(pe),null===d[h][0]?O=P:O+=Pe(pe),"rangeArea"===l&&q){P+=k.line(w[w.length-1],M[M.length-1]);var ge=w.slice().reverse(),Me=M.slice().reverse(),re=ge.map(function(mt,nn){return[ge[nn],Me[nn]]}),He=Ht(re);O=P+=Pe(He)}else O+=k.line(Y[Y.length-1][0],U)+k.line(Y[0][0],U)+k.move(Y[0][0],Y[0][1])+"z";F.push(P),H.push(O)}}else null===d[h][g+1]&&(P+=k.move(m,b),O=O+k.line(x.globals.isXNumeric?(x.globals.seriesX[p][g]-x.globals.minX)/this.xRatio:m-this.xDivision,U)+k.move(m,b)+"z"),null===d[h][g]&&(P+=k.move(m,b),O+=k.move(m,U)),"stepline"===N?(P=P+k.line(m,null,"H")+k.line(null,b,"V"),O=O+k.line(m,null,"H")+k.line(null,b,"V")):"straight"===N&&(P+=k.line(m,b),O+=k.line(m,b)),g===d[h].length-2&&(O=O+k.line(m,U)+k.move(m,b)+"z","rangeArea"===l&&q?P=P+k.line(m,I)+k.move(m,I)+"z":(F.push(P),H.push(O)));return{linePaths:F,areaPaths:H,linePath:P,areaPath:O}}},{key:"handleNullDataPoints",value:function(a,l,d,h,p){var g=this.w;if(null===a[d][h]&&g.config.markers.showNullDataPoints||1===a[d].length){var m=this.markers.plotChartMarkers(l,p,h+1,this.strokeWidth-g.config.markers.strokeWidth/2,!0);null!==m&&this.elPointsMain.add(m)}}}]),B}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function B(m,b,w,D){this.xoffset=m,this.yoffset=b,this.height=D,this.width=w,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(I){var M,P=[],O=this.xoffset,F=this.yoffset,H=p(I)/this.height,W=p(I)/this.width;if(this.width>=this.height)for(M=0;M<I.length;M++)P.push([O,F,O+H,F+I[M]/H]),F+=I[M]/H;else for(M=0;M<I.length;M++)P.push([O,F,O+I[M]/W,F+W]),O+=I[M]/W;return P},this.cutArea=function(I){var M;if(this.width>=this.height){var P=I/this.height;M=new B(this.xoffset+P,this.yoffset,this.width-P,this.height)}else{var F=I/this.width;M=new B(this.xoffset,this.yoffset+F,this.width,this.height-F)}return M}}function a(m,b,w,D,I){return D=void 0===D?0:D,I=void 0===I?0:I,function(P){var O,F,H=[];for(O=0;O<P.length;O++)for(F=0;F<P[O].length;F++)H.push(P[O][F]);return H}(l(function(P,O){var F,H=[],W=O/p(P);for(F=0;F<P.length;F++)H[F]=P[F]*W;return H}(m,b*w),[],new B(D,I,b,w),[]))}function l(m,b,w,D){var I,M,P,O,F,H,W;if(0!==m.length)return I=w.shortestEdge(),F=M=m[0],H=I,0===(O=b).length||((W=O.slice()).push(F),d(O,H)>=d(W,H))?(b.push(M),l(m.slice(1),b,w,D)):(P=w.cutArea(p(b),D),D.push(w.getCoordinates(b)),l(m,[],P,D)),D;D.push(w.getCoordinates(b))}function d(m,b){var w=Math.min.apply(Math,m),D=Math.max.apply(Math,m),I=p(m);return Math.max(Math.pow(b,2)*D/Math.pow(I,2),Math.pow(I,2)/(Math.pow(b,2)*w))}function h(m){return m&&m.constructor===Array}function p(m){var b,w=0;for(b=0;b<m.length;b++)w+=m[b];return w}function g(m){var b,w=0;if(h(m[0]))for(b=0;b<m.length;b++)w+=g(m[b]);else w=p(m);return w}return function m(b,w,D,I,M){I=void 0===I?0:I,M=void 0===M?0:M;var P,O,F=[],H=[];if(h(b[0])){for(O=0;O<b.length;O++)F[O]=g(b[O]);for(P=a(F,w,D,I,M),O=0;O<b.length;O++)H.push(m(b[O],P[O][2]-P[O][0],P[O][3]-P[O][1],P[O][0],P[O][1]))}else H=a(b,w,D,I,M);return H}}();var ni,hs,Nt=function(){function B(a,l){Ue(this,B),this.ctx=a,this.w=a.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new nl(a),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return ot(B,[{key:"draw",value:function(a){var l=this,d=this.w,h=new Le(this.ctx),p=new _e(this.ctx),g=h.group({class:"apexcharts-treemap"});if(d.globals.noData)return g;var m=[];return a.forEach(function(b){var w=b.map(function(D){return Math.abs(D)});m.push(w)}),this.negRange=this.helpers.checkColorRange(),d.config.series.forEach(function(b,w){b.data.forEach(function(D){Array.isArray(l.labels[w])||(l.labels[w]=[]),l.labels[w].push(D.x)})}),window.TreemapSquared.generate(m,d.globals.gridWidth,d.globals.gridHeight).forEach(function(b,w){var D=h.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:he.escapeString(d.globals.seriesNames[w]),rel:w+1,"data:realIndex":w});if(d.config.chart.dropShadow.enabled){var I=d.config.chart.dropShadow;new Tn(l.ctx).dropShadow(g,I,w)}var M=h.group({class:"apexcharts-data-labels"});b.forEach(function(P,O){var F=P[0],H=P[1],W=P[2],q=P[3],x=h.drawRect(F,H,W-F,q-H,0,"#fff",1,l.strokeWidth,d.config.plotOptions.treemap.useFillColorAsStroke?N:d.globals.stroke.colors[w]);x.attr({cx:F,cy:H,index:w,i:w,j:O,width:W-F,height:q-H});var k=l.helpers.getShadeColor(d.config.chart.type,w,O,l.negRange),N=k.color;void 0!==d.config.series[w].data[O]&&d.config.series[w].data[O].fillColor&&(N=d.config.series[w].data[O].fillColor);var U=p.fillPath({color:N,seriesNumber:w,dataPointIndex:O});x.node.classList.add("apexcharts-treemap-rect"),x.attr({fill:U}),l.helpers.addListeners(x);var X={x:F+(W-F)/2,y:H+(q-H)/2,width:0,height:0},Y={x:F,y:H,width:W-F,height:q-H};if(d.config.chart.animations.enabled&&!d.globals.dataChanged){var pe=1;d.globals.resized||(pe=d.config.chart.animations.speed),l.animateTreemap(x,X,Y,pe)}d.globals.dataChanged&&l.dynamicAnim.enabled&&d.globals.shouldAnimate&&(d.globals.previousPaths[w]&&d.globals.previousPaths[w][O]&&d.globals.previousPaths[w][O].rect&&(X=d.globals.previousPaths[w][O].rect),l.animateTreemap(x,X,Y,l.dynamicAnim.speed));var Me=l.getFontSize(P),re=d.config.dataLabels.formatter(l.labels[w][O],{value:d.globals.series[w][O],seriesIndex:w,dataPointIndex:O,w:d});"truncate"===d.config.plotOptions.treemap.dataLabels.format&&(Me=parseInt(d.config.dataLabels.style.fontSize,10),re=l.truncateLabels(re,Me,F,H,W,q));var He=l.helpers.calculateDataLabels({text:re,x:(F+W)/2,y:(H+q)/2+l.strokeWidth/2+Me/3,i:w,j:O,colorProps:k,fontSize:Me,series:a});d.config.dataLabels.enabled&&He&&l.rotateToFitLabel(He,Me,re,F,H,W,q),D.add(x),null!==He&&D.add(He)}),D.add(M),g.add(D)}),g}},{key:"getFontSize",value:function(a){var g,l=this.w,m=function b(w){var D,I=0;if(Array.isArray(w[0]))for(D=0;D<w.length;D++)I+=b(w[D]);else for(D=0;D<w.length;D++)I+=w[D].length;return I}(this.labels)/function b(w){var D,I=0;if(Array.isArray(w[0]))for(D=0;D<w.length;D++)I+=b(w[D]);else for(D=0;D<w.length;D++)I+=1;return I}(this.labels);return g=Math.pow((a[2]-a[0])*(a[3]-a[1]),.5),Math.min(g/m,parseInt(l.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(a,l,d,h,p,g,m){var b=new Le(this.ctx),w=b.getTextRects(d,l);if(w.width+this.w.config.stroke.width+5>g-h&&w.width<=m-p){var D=b.rotateAroundCenter(a.node);a.node.setAttribute("transform","rotate(-90 ".concat(D.x," ").concat(D.y,") translate(").concat(w.height/3,")"))}}},{key:"truncateLabels",value:function(a,l,d,h,p,g){var m=new Le(this.ctx),b=m.getTextRects(a,l).width+this.w.config.stroke.width+5>p-d&&g-h>p-d?g-h:p-d,w=m.getTextBasedOnMaxWidth({text:a,maxWidth:b,fontSize:l});return a.length!==w.length&&b/l<5?"":w}},{key:"animateTreemap",value:function(a,l,d,h){var p=new Ci(this.ctx);p.animateRect(a,{x:l.x,y:l.y,width:l.width,height:l.height},{x:d.x,y:d.y,width:d.width,height:d.height},h,function(){p.animationCompleted(a)})}}]),B}(),fi=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return ot(B,[{key:"calculateTimeScaleTicks",value:function(a,l){var d=this,h=this.w;if(h.globals.allSeriesCollapsed)return h.globals.labels=[],h.globals.timescaleLabels=[],[];var p=new mn(this.ctx),g=(l-a)/864e5;this.determineInterval(g),h.globals.disableZoomIn=!1,h.globals.disableZoomOut=!1,g<.00011574074074074075?h.globals.disableZoomIn=!0:g>5e4&&(h.globals.disableZoomOut=!0);var m=p.getTimeUnitsfromTimestamp(a,l,this.utc),b=h.globals.gridWidth/g,w=b/24,D=w/60,I=D/60,M=Math.floor(24*g),P=Math.floor(1440*g),O=Math.floor(86400*g),F=Math.floor(g),H=Math.floor(g/30),W=Math.floor(g/365),q={minMillisecond:m.minMillisecond,minSecond:m.minSecond,minMinute:m.minMinute,minHour:m.minHour,minDate:m.minDate,minMonth:m.minMonth,minYear:m.minYear},x={firstVal:q,currentMillisecond:q.minMillisecond,currentSecond:q.minSecond,currentMinute:q.minMinute,currentHour:q.minHour,currentMonthDate:q.minDate,currentDate:q.minDate,currentMonth:q.minMonth,currentYear:q.minYear,daysWidthOnXAxis:b,hoursWidthOnXAxis:w,minutesWidthOnXAxis:D,secondsWidthOnXAxis:I,numberOfSeconds:O,numberOfMinutes:P,numberOfHours:M,numberOfDays:F,numberOfMonths:H,numberOfYears:W};switch(this.tickInterval){case"years":this.generateYearScale(x);break;case"months":case"half_year":this.generateMonthScale(x);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(x);break;case"hours":this.generateHourScale(x);break;case"minutes_fives":case"minutes":this.generateMinuteScale(x);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(x)}var k=this.timeScaleArray.map(function(N){var U={position:N.position,unit:N.unit,year:N.year,day:N.day?N.day:1,hour:N.hour?N.hour:0,month:N.month+1};return"month"===N.unit?me(me({},U),{},{day:1,value:N.value+1}):"day"===N.unit||"hour"===N.unit?me(me({},U),{},{value:N.value}):"minute"===N.unit?me(me({},U),{},{value:N.value,minute:N.value}):"second"===N.unit?me(me({},U),{},{value:N.value,minute:N.minute,second:N.second}):N});return k.filter(function(N){var U=1,X=Math.ceil(h.globals.gridWidth/120),Y=N.value;void 0!==h.config.xaxis.tickAmount&&(X=h.config.xaxis.tickAmount),k.length>X&&(U=Math.floor(k.length/X));var pe=!1,ge=!1;switch(d.tickInterval){case"years":"year"===N.unit&&(pe=!0);break;case"half_year":U=7,"year"===N.unit&&(pe=!0);break;case"months":U=1,"year"===N.unit&&(pe=!0);break;case"months_fortnight":U=15,"year"!==N.unit&&"month"!==N.unit||(pe=!0),30===Y&&(ge=!0);break;case"months_days":U=10,"month"===N.unit&&(pe=!0),30===Y&&(ge=!0);break;case"week_days":U=8,"month"===N.unit&&(pe=!0);break;case"days":U=1,"month"===N.unit&&(pe=!0);break;case"hours":"day"===N.unit&&(pe=!0);break;case"minutes_fives":case"seconds_fives":Y%5!=0&&(ge=!0);break;case"seconds_tens":Y%10!=0&&(ge=!0)}if("hours"===d.tickInterval||"minutes_fives"===d.tickInterval||"seconds_tens"===d.tickInterval||"seconds_fives"===d.tickInterval){if(!ge)return!0}else if((Y%U==0||pe)&&!ge)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(a,l){var d=this.w,h=this.formatDates(a),p=this.removeOverlappingTS(h);d.globals.timescaleLabels=p.slice(),new yr(this.ctx).plotCoords()}},{key:"determineInterval",value:function(a){var l=24*a,d=60*l;switch(!0){case a/365>5:this.tickInterval="years";break;case a>800:this.tickInterval="half_year";break;case a>180:this.tickInterval="months";break;case a>90:this.tickInterval="months_fortnight";break;case a>60:this.tickInterval="months_days";break;case a>30:this.tickInterval="week_days";break;case a>2:this.tickInterval="days";break;case l>2.4:this.tickInterval="hours";break;case d>15:this.tickInterval="minutes_fives";break;case d>5:this.tickInterval="minutes";break;case d>1:this.tickInterval="seconds_tens";break;case 60*d>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(a){var l=a.firstVal,d=a.currentMonth,h=a.currentYear,p=a.daysWidthOnXAxis,g=a.numberOfYears,m=l.minYear,b=0,w=new mn(this.ctx),D="year";if(l.minDate>1||l.minMonth>0){var I=w.determineRemainingDaysOfYear(l.minYear,l.minMonth,l.minDate);b=(w.determineDaysOfYear(l.minYear)-I+1)*p,this.timeScaleArray.push({position:b,value:m=l.minYear+1,unit:D,year:m,month:he.monthMod(d+1)})}else 1===l.minDate&&0===l.minMonth&&this.timeScaleArray.push({position:b,value:m,unit:D,year:h,month:he.monthMod(d+1)});for(var M=m,P=b,O=0;O<g;O++)M++,P=w.determineDaysOfYear(M-1)*p+P,this.timeScaleArray.push({position:P,value:M,unit:D,year:M,month:1})}},{key:"generateMonthScale",value:function(a){var l=a.firstVal,d=a.currentMonthDate,h=a.currentMonth,p=a.currentYear,g=a.daysWidthOnXAxis,m=a.numberOfMonths,b=h,w=0,D=new mn(this.ctx),I="month",M=0;if(l.minDate>1){w=(D.determineDaysOfMonths(h+1,l.minYear)-d+1)*g,b=he.monthMod(h+1);var P=p+M,O=he.monthMod(b),F=b;0===b&&(I="year",F=P,O=1,P+=M+=1),this.timeScaleArray.push({position:w,value:F,unit:I,year:P,month:O})}else this.timeScaleArray.push({position:w,value:b,unit:I,year:p,month:he.monthMod(h)});for(var H=b+1,W=w,q=0,x=1;q<m;q++,x++){0===(H=he.monthMod(H))?(I="year",M+=1):I="month";var k=this._getYear(p,H,M);W=D.determineDaysOfMonths(H,k)*g+W,this.timeScaleArray.push({position:W,value:0===H?k:H,unit:I,year:k,month:0===H?1:H}),H++}}},{key:"generateDayScale",value:function(a){var l=a.firstVal,d=a.currentMonth,h=a.currentYear,p=a.hoursWidthOnXAxis,g=a.numberOfDays,m=new mn(this.ctx),b="day",w=l.minDate+1,D=w,I=function(x,k,N){return x>m.determineDaysOfMonths(k+1,N)&&(D=1,b="month",P=k+=1),k},M=(24-l.minHour)*p,P=w,O=I(D,d,h);0===l.minHour&&1===l.minDate?(M=0,P=he.monthMod(l.minMonth),b="month",D=l.minDate):1!==l.minDate&&0===l.minHour&&0===l.minMinute&&(M=0,P=w=l.minDate,O=I(D=w,d,h)),this.timeScaleArray.push({position:M,value:P,unit:b,year:this._getYear(h,O,0),month:he.monthMod(O),day:D});for(var F=M,H=0;H<g;H++){b="day",O=I(D+=1,O,this._getYear(h,O,0));var W=this._getYear(h,O,0);F=24*p+F;var q=1===D?he.monthMod(O):D;this.timeScaleArray.push({position:F,value:q,unit:b,year:W,month:he.monthMod(O),day:q})}}},{key:"generateHourScale",value:function(a){var l=a.firstVal,d=a.currentDate,h=a.currentMonth,p=a.currentYear,g=a.minutesWidthOnXAxis,m=a.numberOfHours,b=new mn(this.ctx),w="hour",D=function(U,X){return U>b.determineDaysOfMonths(X+1,p)&&(H=1,X+=1),{month:X,date:H}},I=function(U,X){return U>b.determineDaysOfMonths(X+1,p)?X+=1:X},M=60-(l.minMinute+l.minSecond/60),P=M*g,O=l.minHour+1,F=O;60===M&&(P=0,F=(O=l.minHour)+1);var H=d;F>=24&&(F=0,H+=1,w="day");var W=D(H,h).month;W=I(H,W),this.timeScaleArray.push({position:P,value:O,unit:w,day:H,hour:F,year:p,month:he.monthMod(W)}),F++;for(var q=P,x=0;x<m;x++){w="hour",F>=24&&(F=0,w="day",W=D(H+=1,W).month,W=I(H,W));var k=this._getYear(p,W,0);this.timeScaleArray.push({position:q=60*g+q,value:0===F?H:F,unit:w,hour:F,day:H,year:k,month:he.monthMod(W)}),F++}}},{key:"generateMinuteScale",value:function(a){for(var w=a.minutesWidthOnXAxis,I=a.numberOfMinutes,M=a.currentMinute+1,P=a.currentDate,O=a.currentMonth,F=a.currentYear,H=a.currentHour,W=(60-a.currentSecond-a.currentMillisecond/1e3)*a.secondsWidthOnXAxis,q=0;q<I;q++)M>=60&&(M=0,24===(H+=1)&&(H=0)),this.timeScaleArray.push({position:W,value:M,unit:"minute",hour:H,minute:M,day:P,year:this._getYear(F,O,0),month:he.monthMod(O)}),W+=w,M++}},{key:"generateSecondScale",value:function(a){for(var w=a.secondsWidthOnXAxis,D=a.numberOfSeconds,I=a.currentSecond+1,M=a.currentMinute,P=a.currentDate,O=a.currentMonth,F=a.currentYear,H=a.currentHour,W=(1e3-a.currentMillisecond)/1e3*w,q=0;q<D;q++)I>=60&&(I=0,++M>=60&&(M=0,24==++H&&(H=0))),this.timeScaleArray.push({position:W,value:I,unit:"second",hour:H,minute:M,second:I,day:P,year:this._getYear(F,O,0),month:he.monthMod(O)}),W+=w,I++}},{key:"createRawDateString",value:function(a,l){var d=a.year;return 0===a.month&&(a.month=1),d+="-"+("0"+a.month.toString()).slice(-2),d+="day"===a.unit?"day"===a.unit?"-"+("0"+l).slice(-2):"-01":"-"+("0"+(a.day?a.day:"1")).slice(-2),d+="hour"===a.unit?"hour"===a.unit?"T"+("0"+l).slice(-2):"T00":"T"+("0"+(a.hour?a.hour:"0")).slice(-2),d+="minute"===a.unit?":"+("0"+l).slice(-2):":"+(a.minute?("0"+a.minute).slice(-2):"00"),d+="second"===a.unit?":"+("0"+l).slice(-2):":00",this.utc&&(d+=".000Z"),d}},{key:"formatDates",value:function(a){var l=this,d=this.w;return a.map(function(h){var p=h.value.toString(),g=new mn(l.ctx),m=l.createRawDateString(h,p),b=g.getDate(g.parseDate(m));if(l.utc||(b=g.getDate(g.parseDateWithTimezone(m))),void 0===d.config.xaxis.labels.format){var w="dd MMM",D=d.config.xaxis.labels.datetimeFormatter;"year"===h.unit&&(w=D.year),"month"===h.unit&&(w=D.month),"day"===h.unit&&(w=D.day),"hour"===h.unit&&(w=D.hour),"minute"===h.unit&&(w=D.minute),"second"===h.unit&&(w=D.second),p=g.formatDate(b,w)}else p=g.formatDate(b,d.config.xaxis.labels.format);return{dateString:m,position:h.position,value:p,unit:h.unit,year:h.year,month:h.month}})}},{key:"removeOverlappingTS",value:function(a){var l,d=this,h=new Le(this.ctx),p=!1;a.length>0&&a[0].value&&a.every(function(b){return b.value.length===a[0].value.length})&&(p=!0,l=h.getTextRects(a[0].value).width);var g=0;return a.map(function(b,w){if(w>0&&d.w.config.xaxis.labels.hideOverlappingLabels){var D=p?l:h.getTextRects(a[g].value).width;return b.position>a[g].position+D+10?(g=w,b):null}return b}).filter(function(b){return null!==b})}},{key:"_getYear",value:function(a,l,d){return a+Math.floor(l/12)+d}}]),B}(),na=function(){function B(a,l){Ue(this,B),this.ctx=l,this.w=l.w,this.el=a}return ot(B,[{key:"setupElements",value:function(){var a=this.w.globals,l=this.w.config,d=l.chart.type;a.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(d)>-1,a.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(d)>-1,a.isBarHorizontal=("bar"===l.chart.type||"rangeBar"===l.chart.type||"boxPlot"===l.chart.type)&&l.plotOptions.bar.horizontal,a.chartClass=".apexcharts"+a.chartID,a.dom.baseEl=this.el,a.dom.elWrap=document.createElement("div"),Le.setAttrs(a.dom.elWrap,{id:a.chartClass.substring(1),class:"apexcharts-canvas "+a.chartClass.substring(1)}),this.el.appendChild(a.dom.elWrap),a.dom.Paper=new window.SVG.Doc(a.dom.elWrap),a.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(l.chart.offsetX,", ").concat(l.chart.offsetY,")")}),a.dom.Paper.node.style.background="dark"!==l.theme.mode||l.chart.background?l.chart.background:"rgba(0, 0, 0, 0.8)",this.setSVGDimensions(),a.dom.elLegendForeign=document.createElementNS(a.SVGNS,"foreignObject"),Le.setAttrs(a.dom.elLegendForeign,{x:0,y:0,width:a.svgWidth,height:a.svgHeight}),a.dom.elLegendWrap=document.createElement("div"),a.dom.elLegendWrap.classList.add("apexcharts-legend"),a.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),a.dom.elLegendForeign.appendChild(a.dom.elLegendWrap),a.dom.Paper.node.appendChild(a.dom.elLegendForeign),a.dom.elGraphical=a.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),a.dom.elDefs=a.dom.Paper.defs(),a.dom.Paper.add(a.dom.elGraphical),a.dom.elGraphical.add(a.dom.elDefs)}},{key:"plotChartType",value:function(a,l){var d=this.w,h=d.config,p=d.globals,g={series:[],i:[]},m={series:[],i:[]},b={series:[],i:[]},w={series:[],i:[]},D={series:[],i:[]},I={series:[],i:[]},M={series:[],i:[]},P={series:[],i:[]},O={series:[],seriesRangeEnd:[],i:[]};p.series.map(function(X,Y){var pe=0;void 0!==a[Y].type?("column"===a[Y].type||"bar"===a[Y].type?(p.series.length>1&&h.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),D.series.push(X),D.i.push(Y),pe++,d.globals.columnSeries=D.series):"area"===a[Y].type?(m.series.push(X),m.i.push(Y),pe++):"line"===a[Y].type?(g.series.push(X),g.i.push(Y),pe++):"scatter"===a[Y].type?(b.series.push(X),b.i.push(Y)):"bubble"===a[Y].type?(w.series.push(X),w.i.push(Y),pe++):"candlestick"===a[Y].type?(I.series.push(X),I.i.push(Y),pe++):"boxPlot"===a[Y].type?(M.series.push(X),M.i.push(Y),pe++):"rangeBar"===a[Y].type?(P.series.push(X),P.i.push(Y),pe++):"rangeArea"===a[Y].type?(O.series.push(p.seriesRangeStart[Y]),O.seriesRangeEnd.push(p.seriesRangeEnd[Y]),O.i.push(Y),pe++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),pe>1&&(p.comboCharts=!0)):(g.series.push(X),g.i.push(Y))});var F=new tn(this.ctx,l),H=new Fo(this.ctx,l);this.ctx.pie=new il(this.ctx);var W=new ae(this.ctx);this.ctx.rangeBar=new de(this.ctx,l);var q=new fe(this.ctx),x=[];if(p.comboCharts){if(m.series.length>0&&x.push(F.draw(m.series,"area",m.i)),D.series.length>0)if(d.config.chart.stacked){var k=new is(this.ctx,l);x.push(k.draw(D.series,D.i))}else this.ctx.bar=new Zi(this.ctx,l),x.push(this.ctx.bar.draw(D.series,D.i));if(O.series.length>0&&x.push(F.draw(O.series,"rangeArea",O.i,O.seriesRangeEnd)),g.series.length>0&&x.push(F.draw(g.series,"line",g.i)),I.series.length>0&&x.push(H.draw(I.series,"candlestick",I.i)),M.series.length>0&&x.push(H.draw(M.series,"boxPlot",M.i)),P.series.length>0&&x.push(this.ctx.rangeBar.draw(P.series,P.i)),b.series.length>0){var N=new tn(this.ctx,l,!0);x.push(N.draw(b.series,"scatter",b.i))}if(w.series.length>0){var U=new tn(this.ctx,l,!0);x.push(U.draw(w.series,"bubble",w.i))}}else switch(h.chart.type){case"line":x=F.draw(p.series,"line");break;case"area":x=F.draw(p.series,"area");break;case"bar":h.chart.stacked?x=new is(this.ctx,l).draw(p.series):(this.ctx.bar=new Zi(this.ctx,l),x=this.ctx.bar.draw(p.series));break;case"candlestick":x=new Fo(this.ctx,l).draw(p.series,"candlestick");break;case"boxPlot":x=new Fo(this.ctx,l).draw(p.series,h.chart.type);break;case"rangeBar":x=this.ctx.rangeBar.draw(p.series);break;case"rangeArea":x=F.draw(p.seriesRangeStart,"rangeArea",void 0,p.seriesRangeEnd);break;case"heatmap":x=new hd(this.ctx,l).draw(p.series);break;case"treemap":x=new Nt(this.ctx,l).draw(p.series);break;case"pie":case"donut":case"polarArea":x=this.ctx.pie.draw(p.series);break;case"radialBar":x=W.draw(p.series);break;case"radar":x=q.draw(p.series);break;default:x=F.draw(p.series)}return x}},{key:"setSVGDimensions",value:function(){var a=this.w.globals,l=this.w.config;a.svgWidth=l.chart.width,a.svgHeight=l.chart.height;var d=he.getDimensions(this.el),h=l.chart.width.toString().split(/[0-9]+/g).pop();"%"===h?he.isNumber(d[0])&&(0===d[0].width&&(d=he.getDimensions(this.el.parentNode)),a.svgWidth=d[0]*parseInt(l.chart.width,10)/100):"px"!==h&&""!==h||(a.svgWidth=parseInt(l.chart.width,10));var p=l.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==a.svgHeight&&""!==a.svgHeight)if("%"===p){var g=he.getDimensions(this.el.parentNode);a.svgHeight=g[1]*parseInt(l.chart.height,10)/100}else a.svgHeight=parseInt(l.chart.height,10);else a.svgHeight=a.axisCharts?a.svgWidth/1.61:a.svgWidth/1.2;a.svgWidth<0&&(a.svgWidth=0),a.svgHeight<0&&(a.svgHeight=0),Le.setAttrs(a.dom.Paper.node,{width:a.svgWidth,height:a.svgHeight}),"%"!==p&&(a.dom.Paper.node.parentNode.parentNode.style.minHeight=a.svgHeight+(l.chart.sparkline.enabled?0:a.axisCharts?l.chart.parentHeightOffset:0)+"px"),a.dom.elWrap.style.width=a.svgWidth+"px",a.dom.elWrap.style.height=a.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var a=this.w.globals;Le.setAttrs(a.dom.elGraphical.node,{transform:"translate("+a.translateX+", "+a.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var a=this.w,l=a.globals,d=0,h=a.config.chart.sparkline.enabled?1:15;h+=a.config.grid.padding.bottom,"top"!==a.config.legend.position&&"bottom"!==a.config.legend.position||!a.config.legend.show||a.config.legend.floating||(d=new Xi(this.ctx).legendHelpers.getLegendBBox().clwh+10);var p=a.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),g=2.05*a.globals.radialSize;if(p&&!a.config.chart.sparkline.enabled&&0!==a.config.plotOptions.radialBar.startAngle){var m=he.getBoundingClientRect(p);g=m.bottom,g=Math.max(2.05*a.globals.radialSize,m.bottom-m.top)}var w=g+l.translateY+d+h;l.dom.elLegendForeign&&l.dom.elLegendForeign.setAttribute("height",w),a.config.chart.height&&String(a.config.chart.height).indexOf("%")>0||(l.dom.elWrap.style.height=w+"px",Le.setAttrs(l.dom.Paper.node,{height:w}),l.dom.Paper.node.parentNode.parentNode.style.minHeight=w+"px")}},{key:"coreCalculations",value:function(){new qi(this.ctx).init()}},{key:"resetGlobals",value:function(){var a=this,l=function(){return a.w.config.series.map(function(p){return[]})},d=new Se,h=this.w.globals;d.initGlobalVars(h),h.seriesXvalues=l(),h.seriesYvalues=l()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var a=null,l=this.w;if(l.globals.axisCharts){if("back"===l.config.xaxis.crosshairs.position&&new Ke(this.ctx).drawXCrosshairs(),"back"===l.config.yaxis[0].crosshairs.position&&new Ke(this.ctx).drawYCrosshairs(),"datetime"===l.config.xaxis.type&&void 0===l.config.xaxis.labels.formatter){this.ctx.timeScale=new fi(this.ctx);var d=[];isFinite(l.globals.minX)&&isFinite(l.globals.maxX)&&!l.globals.isBarHorizontal?d=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minX,l.globals.maxX):l.globals.isBarHorizontal&&(d=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minY,l.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(d)}a=new Vt(this.ctx).getCalculatedRatios()}return a}},{key:"updateSourceChart",value:function(a){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:a.w.globals.minX,max:a.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var a=this,l=this.w;if(l.config.chart.brush.enabled&&"function"!=typeof l.config.chart.events.selection){var d=Array.isArray(l.config.chart.brush.targets)||[l.config.chart.brush.target];d.forEach(function(h){var p=ApexCharts.getChartByID(h);p.w.globals.brushSource=a.ctx,"function"!=typeof p.w.config.chart.events.zoomed&&(p.w.config.chart.events.zoomed=function(){a.updateSourceChart(p)}),"function"!=typeof p.w.config.chart.events.scrolled&&(p.w.config.chart.events.scrolled=function(){a.updateSourceChart(p)})}),l.config.chart.events.selection=function(h,p){d.forEach(function(g){var m=ApexCharts.getChartByID(g),b=he.clone(l.config.yaxis);if(l.config.chart.brush.autoScaleYaxis&&1===m.w.globals.series.length){var w=new Pn(m);b=w.autoScaleY(m,b,p)}var D=m.w.config.yaxis.reduce(function(I,M,P){return[].concat(En(I),[me(me({},m.w.config.yaxis[P]),{},{min:b[0].min,max:b[0].max})])},[]);m.ctx.updateHelpers._updateOptions({xaxis:{min:p.xaxis.min,max:p.xaxis.max},yaxis:D},!1,!1,!1,!1)})}}}}]),B}(),rl=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"_updateOptions",value:function(a){var l=this,d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],g=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(m){var b=[l.ctx];p&&(b=l.ctx.getSyncedCharts()),l.ctx.w.globals.isExecCalled&&(b=[l.ctx],l.ctx.w.globals.isExecCalled=!1),b.forEach(function(w,D){var I=w.w;if(I.globals.shouldAnimate=h,d||(I.globals.resized=!0,I.globals.dataChanged=!0,h&&w.series.getPreviousPaths()),a&&"object"===Mt(a)&&(w.config=new Sr(a),a=Vt.extendArrayProps(w.config,a,I),w.w.globals.chartID!==l.ctx.w.globals.chartID&&delete a.series,I.config=he.extend(I.config,a),g&&(I.globals.lastXAxis=a.xaxis?he.clone(a.xaxis):[],I.globals.lastYAxis=a.yaxis?he.clone(a.yaxis):[],I.globals.initialConfig=he.extend({},I.config),I.globals.initialSeries=he.clone(I.config.series),a.series))){for(var M=0;M<I.globals.collapsedSeriesIndices.length;M++){var P=I.config.series[I.globals.collapsedSeriesIndices[M]];I.globals.collapsedSeries[M].data=I.globals.axisCharts?P.data.slice():P}for(var O=0;O<I.globals.ancillaryCollapsedSeriesIndices.length;O++){var F=I.config.series[I.globals.ancillaryCollapsedSeriesIndices[O]];I.globals.ancillaryCollapsedSeries[O].data=I.globals.axisCharts?F.data.slice():F}w.series.emptyCollapsedSeries(I.config.series)}return w.update(a).then(function(){D===b.length-1&&m(w)})})})}},{key:"_updateSeries",value:function(a,l){var d=this,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(p){var g,m=d.w;return m.globals.shouldAnimate=l,m.globals.dataChanged=!0,l&&d.ctx.series.getPreviousPaths(),m.globals.axisCharts?(0===(g=a.map(function(b,w){return d._extendSeries(b,w)})).length&&(g=[{data:[]}]),m.config.series=g):m.config.series=a.slice(),h&&(m.globals.initialConfig.series=he.clone(m.config.series),m.globals.initialSeries=he.clone(m.config.series)),d.ctx.update().then(function(){p(d.ctx)})})}},{key:"_extendSeries",value:function(a,l){var d=this.w,h=d.config.series[l];return me(me({},d.config.series[l]),{},{name:a.name?a.name:h?.name,color:a.color?a.color:h?.color,type:a.type?a.type:h?.type,group:a.group?a.group:h?.group,data:a.data?a.data:h?.data,zIndex:void 0!==a.zIndex?a.zIndex:l})}},{key:"toggleDataPointSelection",value:function(a,l){var d=this.w,h=null,p=".apexcharts-series[data\\:realIndex='".concat(a,"']");return d.globals.axisCharts?h=d.globals.dom.Paper.select("".concat(p," path[j='").concat(l,"'], ").concat(p," circle[j='").concat(l,"'], ").concat(p," rect[j='").concat(l,"']")).members[0]:void 0===l&&(h=d.globals.dom.Paper.select("".concat(p," path[j='").concat(a,"']")).members[0],"pie"!==d.config.chart.type&&"polarArea"!==d.config.chart.type&&"donut"!==d.config.chart.type||this.ctx.pie.pieClicked(a)),h?(new Le(this.ctx).pathMouseDown(h,null),h.node?h.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(a){var l=this.w;if(["min","max"].forEach(function(h){void 0!==a.xaxis[h]&&(l.config.xaxis[h]=a.xaxis[h],l.globals.lastXAxis[h]=a.xaxis[h])}),a.xaxis.categories&&a.xaxis.categories.length&&(l.config.xaxis.categories=a.xaxis.categories),l.config.xaxis.convertedCatToNumeric){var d=new us(a);a=d.convertCatToNumericXaxis(a,this.ctx)}return a}},{key:"forceYAxisUpdate",value:function(a){return a.chart&&a.chart.stacked&&"100%"===a.chart.stackType&&(Array.isArray(a.yaxis)?a.yaxis.forEach(function(l,d){a.yaxis[d].min=0,a.yaxis[d].max=100}):(a.yaxis.min=0,a.yaxis.max=100)),a}},{key:"revertDefaultAxisMinMax",value:function(a){var l=this,d=this.w,h=d.globals.lastXAxis,p=d.globals.lastYAxis;a&&a.xaxis&&(h=a.xaxis),a&&a.yaxis&&(p=a.yaxis),d.config.xaxis.min=h.min,d.config.xaxis.max=h.max,d.config.yaxis.map(function(m,b){d.globals.zoomed||void 0!==p[b]?function(m){void 0!==p[m]&&(d.config.yaxis[m].min=p[m].min,d.config.yaxis[m].max=p[m].max)}(b):void 0!==l.ctx.opts.yaxis[b]&&(m.min=l.ctx.opts.yaxis[b].min,m.max=l.ctx.opts.yaxis[b].max)})}}]),B}();ni=typeof window<"u"?window:void 0,hs=function(B,a){var l=(void 0!==this?this:B).SVG=function(x){if(l.supported)return x=new l.Doc(x),l.parser.draw||l.prepare(),x};if(l.ns="http://www.w3.org/2000/svg",l.xmlns="http://www.w3.org/2000/xmlns/",l.xlink="http://www.w3.org/1999/xlink",l.svgjs="http://svgjs.dev",l.supported=!0,!l.supported)return!1;l.did=1e3,l.eid=function(x){return"Svgjs"+D(x)+l.did++},l.create=function(x){var k=a.createElementNS(this.ns,x);return k.setAttribute("id",this.eid(x)),k},l.extend=function(){var x,k;k=(x=[].slice.call(arguments)).pop();for(var N=x.length-1;N>=0;N--)if(x[N])for(var U in k)x[N].prototype[U]=k[U];l.Set&&l.Set.inherit&&l.Set.inherit()},l.invent=function(x){var k="function"==typeof x.create?x.create:function(){this.constructor.call(this,l.create(x.create))};return x.inherit&&(k.prototype=new x.inherit),x.extend&&l.extend(k,x.extend),x.construct&&l.extend(x.parent||l.Container,x.construct),k},l.adopt=function(x){return x?x.instance?x.instance:((k="svg"==x.nodeName?x.parentNode instanceof B.SVGElement?new l.Nested:new l.Doc:"linearGradient"==x.nodeName?new l.Gradient("linear"):"radialGradient"==x.nodeName?new l.Gradient("radial"):l[D(x.nodeName)]?new(l[D(x.nodeName)]):new l.Element(x)).type=x.nodeName,k.node=x,x.instance=k,k instanceof l.Doc&&k.namespace().defs(),k.setData(JSON.parse(x.getAttribute("svgjs:data"))||{}),k):null;var k},l.prepare=function(){var x=a.getElementsByTagName("body")[0],k=(x?new l.Doc(x):l.adopt(a.documentElement).nested()).size(2,0);l.parser={body:x||a.documentElement,draw:k.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:k.polyline().node,path:k.path().node,native:l.create("svg")}},l.parser={native:l.create("svg")},a.addEventListener("DOMContentLoaded",function(){l.parser.draw||l.prepare()},!1),l.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},l.utils={map:function(x,k){for(var N=x.length,U=[],X=0;X<N;X++)U.push(k(x[X]));return U},filter:function(x,k){for(var N=x.length,U=[],X=0;X<N;X++)k(x[X])&&U.push(x[X]);return U},filterSVGElements:function(x){return this.filter(x,function(k){return k instanceof B.SVGElement})}},l.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},l.Color=function(x){var k,N;this.r=0,this.g=0,this.b=0,x&&("string"==typeof x?l.regex.isRgb.test(x)?(k=l.regex.rgb.exec(x.replace(l.regex.whitespace,"")),this.r=parseInt(k[1]),this.g=parseInt(k[2]),this.b=parseInt(k[3])):l.regex.isHex.test(x)&&(k=l.regex.hex.exec(4==(N=x).length?["#",N.substring(1,2),N.substring(1,2),N.substring(2,3),N.substring(2,3),N.substring(3,4),N.substring(3,4)].join(""):N),this.r=parseInt(k[1],16),this.g=parseInt(k[2],16),this.b=parseInt(k[3],16)):"object"===Mt(x)&&(this.r=x.r,this.g=x.g,this.b=x.b))},l.extend(l.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+I(this.r)+I(this.g)+I(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(x){return this.destination=new l.Color(x),this},at:function(x){return this.destination?new l.Color({r:~~(this.r+(this.destination.r-this.r)*(x=x<0?0:x>1?1:x)),g:~~(this.g+(this.destination.g-this.g)*x),b:~~(this.b+(this.destination.b-this.b)*x)}):this}}),l.Color.test=function(x){return l.regex.isHex.test(x+="")||l.regex.isRgb.test(x)},l.Color.isRgb=function(x){return x&&"number"==typeof x.r&&"number"==typeof x.g&&"number"==typeof x.b},l.Color.isColor=function(x){return l.Color.isRgb(x)||l.Color.test(x)},l.Array=function(x,k){0==(x=(x||[]).valueOf()).length&&k&&(x=k.valueOf()),this.value=this.parse(x)},l.extend(l.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(x){return x=x.valueOf(),Array.isArray(x)?x:this.split(x)}}),l.PointArray=function(x,k){l.Array.call(this,x,k||[[0,0]])},l.PointArray.prototype=new l.Array,l.PointArray.prototype.constructor=l.PointArray;for(var d={M:function(x,k,N){return k.x=N.x=x[0],k.y=N.y=x[1],["M",k.x,k.y]},L:function(x,k){return k.x=x[0],k.y=x[1],["L",x[0],x[1]]},H:function(x,k){return k.x=x[0],["H",x[0]]},V:function(x,k){return k.y=x[0],["V",x[0]]},C:function(x,k){return k.x=x[4],k.y=x[5],["C",x[0],x[1],x[2],x[3],x[4],x[5]]},Q:function(x,k){return k.x=x[2],k.y=x[3],["Q",x[0],x[1],x[2],x[3]]},S:function(x,k){return k.x=x[2],k.y=x[3],["S",x[0],x[1],x[2],x[3]]},Z:function(x,k,N){return k.x=N.x,k.y=N.y,["Z"]}},h="mlhvqtcsaz".split(""),p=0,g=h.length;p<g;++p)d[h[p]]=function(x){return function(k,N,U){if("H"==x)k[0]=k[0]+N.x;else if("V"==x)k[0]=k[0]+N.y;else if("A"==x)k[5]=k[5]+N.x,k[6]=k[6]+N.y;else for(var X=0,Y=k.length;X<Y;++X)k[X]=k[X]+(X%2?N.y:N.x);if(d&&"function"==typeof d[x])return d[x](k,N,U)}}(h[p].toUpperCase());l.PathArray=function(x,k){l.Array.call(this,x,k||[["M",0,0]])},l.PathArray.prototype=new l.Array,l.PathArray.prototype.constructor=l.PathArray,l.extend(l.PathArray,{toString:function(){return function(x){for(var k=0,N=x.length,U="";k<N;k++)U+=x[k][0],null!=x[k][1]&&(U+=x[k][1],null!=x[k][2]&&(U+=" ",U+=x[k][2],null!=x[k][3]&&(U+=" ",U+=x[k][3],U+=" ",U+=x[k][4],null!=x[k][5]&&(U+=" ",U+=x[k][5],U+=" ",U+=x[k][6],null!=x[k][7]&&(U+=" ",U+=x[k][7])))));return U+" "}(this.value)},move:function(x,k){return this.bbox(),this},at:function(x){if(!this.destination)return this;for(var k=this.value,N=this.destination.value,U=[],X=new l.PathArray,Y=0,pe=k.length;Y<pe;Y++){U[Y]=[k[Y][0]];for(var ge=1,Me=k[Y].length;ge<Me;ge++)U[Y][ge]=k[Y][ge]+(N[Y][ge]-k[Y][ge])*x;"A"===U[Y][0]&&(U[Y][4]=+(0!=U[Y][4]),U[Y][5]=+(0!=U[Y][5]))}return X.value=U,X},parse:function(x){if(x instanceof l.PathArray)return x.valueOf();var k,N={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};x="string"==typeof x?x.replace(l.regex.numbersWithDots,b).replace(l.regex.pathLetters," $& ").replace(l.regex.hyphen,"$1 -").trim().split(l.regex.delimiter):x.reduce(function(Me,re){return[].concat.call(Me,re)},[]);var U=[],X=new l.Point,Y=new l.Point,pe=0,ge=x.length;do{l.regex.isPathLetter.test(x[pe])?(k=x[pe],++pe):"M"==k?k="L":"m"==k&&(k="l"),U.push(d[k].call(null,x.slice(pe,pe+=N[k.toUpperCase()]).map(parseFloat),X,Y))}while(ge>pe);return U},bbox:function(){return l.parser.draw||l.prepare(),l.parser.path.setAttribute("d",this.toString()),l.parser.path.getBBox()}}),l.Number=l.invent({create:function(x,k){this.value=0,this.unit=k||"","number"==typeof x?this.value=isNaN(x)?0:isFinite(x)?x:x<0?-34e37:34e37:"string"==typeof x?(k=x.match(l.regex.numberAndUnit))&&(this.value=parseFloat(k[1]),"%"==k[5]?this.value/=100:"s"==k[5]&&(this.value*=1e3),this.unit=k[5]):x instanceof l.Number&&(this.value=x.valueOf(),this.unit=x.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(x){return x=new l.Number(x),new l.Number(this+x,this.unit||x.unit)},minus:function(x){return x=new l.Number(x),new l.Number(this-x,this.unit||x.unit)},times:function(x){return x=new l.Number(x),new l.Number(this*x,this.unit||x.unit)},divide:function(x){return x=new l.Number(x),new l.Number(this/x,this.unit||x.unit)},to:function(x){var k=new l.Number(this);return"string"==typeof x&&(k.unit=x),k},morph:function(x){return this.destination=new l.Number(x),x.relative&&(this.destination.value+=this.value),this},at:function(x){return this.destination?new l.Number(this.destination).minus(this).times(x).plus(this):this}}}),l.Element=l.invent({create:function(x){this._stroke=l.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=x)&&(this.type=x.nodeName,this.node.instance=this,this._stroke=x.getAttribute("stroke")||this._stroke)},extend:{x:function(x){return this.attr("x",x)},y:function(x){return this.attr("y",x)},cx:function(x){return null==x?this.x()+this.width()/2:this.x(x-this.width()/2)},cy:function(x){return null==x?this.y()+this.height()/2:this.y(x-this.height()/2)},move:function(x,k){return this.x(x).y(k)},center:function(x,k){return this.cx(x).cy(k)},width:function(x){return this.attr("width",x)},height:function(x){return this.attr("height",x)},size:function(x,k){var N=M(this,x,k);return this.width(new l.Number(N.width)).height(new l.Number(N.height))},clone:function(x){this.writeDataToDom();var k=F(this.node.cloneNode(!0));return x?x.add(k):this.after(k),k},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(x){return this.after(x).remove(),x},addTo:function(x){return x.put(this)},putIn:function(x){return x.add(this)},id:function(x){return this.attr("id",x)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var x=this.attr("class");return null==x?[]:x.trim().split(l.regex.delimiter)},hasClass:function(x){return-1!=this.classes().indexOf(x)},addClass:function(x){if(!this.hasClass(x)){var k=this.classes();k.push(x),this.attr("class",k.join(" "))}return this},removeClass:function(x){return this.hasClass(x)&&this.attr("class",this.classes().filter(function(k){return k!=x}).join(" ")),this},toggleClass:function(x){return this.hasClass(x)?this.removeClass(x):this.addClass(x)},reference:function(x){return l.get(this.attr(x))},parent:function(x){var k=this;if(!k.node.parentNode)return null;if(k=l.adopt(k.node.parentNode),!x)return k;for(;k&&k.node instanceof B.SVGElement;){if("string"==typeof x?k.matches(x):k instanceof x)return k;if(!k.node.parentNode||"#document"==k.node.parentNode.nodeName)return null;k=l.adopt(k.node.parentNode)}},doc:function(){return this instanceof l.Doc?this:this.parent(l.Doc)},parents:function(x){var k=[],N=this;do{if(!(N=N.parent(x))||!N.node)break;k.push(N)}while(N.parent);return k},matches:function(x){return((k=this.node).matches||k.matchesSelector||k.msMatchesSelector||k.mozMatchesSelector||k.webkitMatchesSelector||k.oMatchesSelector).call(k,x);var k},native:function(){return this.node},svg:function(x){var k=a.createElement("svg");if(!(x&&this instanceof l.Parent))return k.appendChild(x=a.createElement("svg")),this.writeDataToDom(),x.appendChild(this.node.cloneNode(!0)),k.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");k.innerHTML="<svg>"+x.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var N=0,U=k.firstChild.childNodes.length;N<U;N++)this.node.appendChild(k.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(x){return this.dom=x,this},is:function(x){return this instanceof x}}}),l.easing={"-":function(x){return x},"<>":function(x){return-Math.cos(x*Math.PI)/2+.5},">":function(x){return Math.sin(x*Math.PI/2)},"<":function(x){return 1-Math.cos(x*Math.PI/2)}},l.morph=function(x){return function(k,N){return new l.MorphObj(k,N).at(x)}},l.Situation=l.invent({create:function(x){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new l.Number(x.duration).valueOf(),this.delay=new l.Number(x.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=x.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),l.FX=l.invent({create:function(x){this._target=x,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(x,k,N){"object"===Mt(x)&&(k=x.ease,N=x.delay,x=x.duration);var U=new l.Situation({duration:x||1e3,delay:N||0,ease:l.easing[k||"-"]||k});return this.queue(U),this},target:function(x){return x&&x instanceof l.Element?(this._target=x,this):this._target},timeToAbsPos:function(x){return(x-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(x){return this.situation.duration/this._speed*x+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=B.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){B.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(x){return("function"==typeof x||x instanceof l.Situation)&&this.situations.push(x),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof l.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var x,k=this.situation;if(k.init)return this;for(var N in k.animations){x=this.target()[N](),Array.isArray(x)||(x=[x]),Array.isArray(k.animations[N])||(k.animations[N]=[k.animations[N]]);for(var U=x.length;U--;)k.animations[N][U]instanceof l.Number&&(x[U]=new l.Number(x[U])),k.animations[N][U]=x[U].morph(k.animations[N][U])}for(var N in k.attrs)k.attrs[N]=new l.MorphObj(this.target().attr(N),k.attrs[N]);for(var N in k.styles)k.styles[N]=new l.MorphObj(this.target().style(N),k.styles[N]);return k.initialTransformation=this.target().matrixify(),k.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(x,k){var N=this.active;return this.active=!1,k&&this.clearQueue(),x&&this.situation&&(!N&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(x){var k=this.last();return this.target().on("finished.fx",function N(U){U.detail.situation==k&&(x.call(this,k),this.off("finished.fx",N))}),this._callStart()},during:function(x){var k=this.last(),N=function(U){U.detail.situation==k&&x.call(this,U.detail.pos,l.morph(U.detail.pos),U.detail.eased,k)};return this.target().off("during.fx",N).on("during.fx",N),this.after(function(){this.off("during.fx",N)}),this._callStart()},afterAll:function(x){var k=function N(U){x.call(this),this.off("allfinished.fx",N)};return this.target().off("allfinished.fx",k).on("allfinished.fx",k),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(x,k,N){return this.last()[N||"animations"][x]=k,this._callStart()},step:function(x){var k,N,U;x||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(k=Math.max(this.absPos,0),N=Math.floor(k),!0===this.situation.loops||N<this.situation.loops?(this.pos=k-N,U=this.situation.loop,this.situation.loop=N):(this.absPos=this.situation.loops,this.pos=1,U=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-U)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var X=this.situation.ease(this.pos);for(var Y in this.situation.once)Y>this.lastPos&&Y<=X&&(this.situation.once[Y].call(this.target(),this.pos,X),delete this.situation.once[Y]);return this.active&&this.target().fire("during",{pos:this.pos,eased:X,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=X,this):this},eachAt:function(){var x,k=this,N=this.target(),U=this.situation;for(var X in U.animations)x=[].concat(U.animations[X]).map(function(ge){return"string"!=typeof ge&&ge.at?ge.at(U.ease(k.pos),k.pos):ge}),N[X].apply(N,x);for(var X in U.attrs)x=[X].concat(U.attrs[X]).map(function(Me){return"string"!=typeof Me&&Me.at?Me.at(U.ease(k.pos),k.pos):Me}),N.attr.apply(N,x);for(var X in U.styles)x=[X].concat(U.styles[X]).map(function(Me){return"string"!=typeof Me&&Me.at?Me.at(U.ease(k.pos),k.pos):Me}),N.style.apply(N,x);if(U.transforms.length){x=U.initialTransformation,X=0;for(var Y=U.transforms.length;X<Y;X++){var pe=U.transforms[X];pe instanceof l.Matrix?x=pe.relative?x.multiply((new l.Matrix).morph(pe).at(U.ease(this.pos))):x.morph(pe).at(U.ease(this.pos)):(pe.relative||pe.undo(x.extract()),x=x.multiply(pe.at(U.ease(this.pos))))}N.matrix(x)}return this},once:function(x,k,N){var U=this.last();return N||(x=U.ease(x)),U.once[x]=k,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:l.Element,construct:{animate:function(x,k,N){return(this.fx||(this.fx=new l.FX(this))).animate(x,k,N)},delay:function(x){return(this.fx||(this.fx=new l.FX(this))).delay(x)},stop:function(x,k){return this.fx&&this.fx.stop(x,k),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),l.MorphObj=l.invent({create:function(x,k){return l.Color.isColor(k)?new l.Color(x).morph(k):l.regex.delimiter.test(x)?l.regex.pathLetters.test(x)?new l.PathArray(x).morph(k):new l.Array(x).morph(k):l.regex.numberAndUnit.test(k)?new l.Number(x).morph(k):(this.value=x,void(this.destination=k))},extend:{at:function(x,k){return k<1?this.value:this.destination},valueOf:function(){return this.value}}}),l.extend(l.FX,{attr:function(x,k,N){if("object"===Mt(x))for(var U in x)this.attr(U,x[U]);else this.add(x,k,"attrs");return this},plot:function(x,k,N,U){return 4==arguments.length?this.plot([x,k,N,U]):this.add("plot",new(this.target().morphArray)(x))}}),l.Box=l.invent({create:function(x,k,N,U){if(!("object"!==Mt(x)||x instanceof l.Element))return l.Box.call(this,null!=x.left?x.left:x.x,null!=x.top?x.top:x.y,x.width,x.height);var X;4==arguments.length&&(this.x=x,this.y=k,this.width=N,this.height=U),null==(X=this).x&&(X.x=0,X.y=0,X.width=0,X.height=0),X.w=X.width,X.h=X.height,X.x2=X.x+X.width,X.y2=X.y+X.height,X.cx=X.x+X.width/2,X.cy=X.y+X.height/2}}),l.BBox=l.invent({create:function(x){if(l.Box.apply(this,[].slice.call(arguments)),x instanceof l.Element){var k;try{if(!a.documentElement.contains){for(var N=x.node;N.parentNode;)N=N.parentNode;if(N!=a)throw new Error("Element not in the dom")}k=x.node.getBBox()}catch{if(x instanceof l.Shape){l.parser.draw||l.prepare();var U=x.clone(l.parser.draw.instance).show();U&&U.node&&"function"==typeof U.node.getBBox&&(k=U.node.getBBox()),U&&"function"==typeof U.remove&&U.remove()}else k={x:x.node.clientLeft,y:x.node.clientTop,width:x.node.clientWidth,height:x.node.clientHeight}}l.Box.call(this,k)}},inherit:l.Box,parent:l.Element,construct:{bbox:function(){return new l.BBox(this)}}}),l.BBox.prototype.constructor=l.BBox,l.Matrix=l.invent({create:function(x){var k=O([1,0,0,1,0,0]);x=null===x?k:x instanceof l.Element?x.matrixify():"string"==typeof x?O(x.split(l.regex.delimiter).map(parseFloat)):6==arguments.length?O([].slice.call(arguments)):Array.isArray(x)?O(x):x&&"object"===Mt(x)?x:k;for(var N=W.length-1;N>=0;--N)this[W[N]]=null!=x[W[N]]?x[W[N]]:k[W[N]]},extend:{extract:function(){var x=P(this,0,1);P(this,1,0);var k=180/Math.PI*Math.atan2(x.y,x.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(k*Math.PI/180)+this.f*Math.sin(k*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(k*Math.PI/180)+this.e*Math.sin(-k*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:k,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new l.Matrix(this)}},clone:function(){return new l.Matrix(this)},morph:function(x){return this.destination=new l.Matrix(x),this},multiply:function(x){return new l.Matrix(this.native().multiply((k=x,k instanceof l.Matrix||(k=new l.Matrix(k)),k).native()));var k},inverse:function(){return new l.Matrix(this.native().inverse())},translate:function(x,k){return new l.Matrix(this.native().translate(x||0,k||0))},native:function(){for(var x=l.parser.native.createSVGMatrix(),k=W.length-1;k>=0;k--)x[W[k]]=this[W[k]];return x},toString:function(){return"matrix("+H(this.a)+","+H(this.b)+","+H(this.c)+","+H(this.d)+","+H(this.e)+","+H(this.f)+")"}},parent:l.Element,construct:{ctm:function(){return new l.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof l.Nested){var x=this.rect(1,1),k=x.node.getScreenCTM();return x.remove(),new l.Matrix(k)}return new l.Matrix(this.node.getScreenCTM())}}}),l.Point=l.invent({create:function(x,k){var N;N=Array.isArray(x)?{x:x[0],y:x[1]}:"object"===Mt(x)?{x:x.x,y:x.y}:null!=x?{x,y:k??x}:{x:0,y:0},this.x=N.x,this.y=N.y},extend:{clone:function(){return new l.Point(this)},morph:function(x,k){return this.destination=new l.Point(x,k),this}}}),l.extend(l.Element,{point:function(x,k){return new l.Point(x,k).transform(this.screenCTM().inverse())}}),l.extend(l.Element,{attr:function(x,k,N){if(null==x){for(x={},N=(k=this.node.attributes).length-1;N>=0;N--)x[k[N].nodeName]=l.regex.isNumber.test(k[N].nodeValue)?parseFloat(k[N].nodeValue):k[N].nodeValue;return x}if("object"===Mt(x))for(var U in x)this.attr(U,x[U]);else if(null===k)this.node.removeAttribute(x);else{if(null==k)return null==(k=this.node.getAttribute(x))?l.defaults.attrs[x]:l.regex.isNumber.test(k)?parseFloat(k):k;"stroke-width"==x?this.attr("stroke",parseFloat(k)>0?this._stroke:null):"stroke"==x&&(this._stroke=k),"fill"!=x&&"stroke"!=x||(l.regex.isImage.test(k)&&(k=this.doc().defs().image(k,0,0)),k instanceof l.Image&&(k=this.doc().defs().pattern(0,0,function(){this.add(k)}))),"number"==typeof k?k=new l.Number(k):l.Color.isColor(k)?k=new l.Color(k):Array.isArray(k)&&(k=new l.Array(k)),"leading"==x?this.leading&&this.leading(k):"string"==typeof N?this.node.setAttributeNS(N,x,k.toString()):this.node.setAttribute(x,k.toString()),!this.rebuild||"font-size"!=x&&"x"!=x||this.rebuild(x,k)}return this}}),l.extend(l.Element,{transform:function(x,k){var N;return"object"!==Mt(x)?(N=new l.Matrix(this).extract(),"string"==typeof x?N[x]:N):(N=new l.Matrix(this),k=!!k||!!x.relative,null!=x.a&&(N=k?N.multiply(new l.Matrix(x)):new l.Matrix(x)),this.attr("transform",N))}}),l.extend(l.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(l.regex.transforms).slice(0,-1).map(function(x){var k=x.trim().split("(");return[k[0],k[1].split(l.regex.delimiter).map(function(N){return parseFloat(N)})]}).reduce(function(x,k){return"matrix"==k[0]?x.multiply(O(k[1])):x[k[0]].apply(x,k[1])},new l.Matrix)},toParent:function(x){if(this==x)return this;var k=this.screenCTM(),N=x.screenCTM().inverse();return this.addTo(x).untransform().transform(N.multiply(k)),this},toDoc:function(){return this.toParent(this.doc())}}),l.Transformation=l.invent({create:function(x,k){if(arguments.length>1&&"boolean"!=typeof k)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(x))for(var N=0,U=this.arguments.length;N<U;++N)this[this.arguments[N]]=x[N];else if(x&&"object"===Mt(x))for(N=0,U=this.arguments.length;N<U;++N)this[this.arguments[N]]=x[this.arguments[N]];this.inversed=!1,!0===k&&(this.inversed=!0)}}),l.Translate=l.invent({parent:l.Matrix,inherit:l.Transformation,create:function(x,k){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),l.extend(l.Element,{style:function(x,k){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===Mt(x))for(var N in x)this.style(N,x[N]);else{if(!l.regex.isCss.test(x))return this.node.style[w(x)];for(x=x.split(/\s*;\s*/).filter(function(U){return!!U}).map(function(U){return U.split(/\s*:\s*/)});k=x.pop();)this.style(k[0],k[1])}else this.node.style[w(x)]=null===k||l.regex.isBlank.test(k)?"":k;return this}}),l.Parent=l.invent({create:function(x){this.constructor.call(this,x)},inherit:l.Element,extend:{children:function(){return l.utils.map(l.utils.filterSVGElements(this.node.childNodes),function(x){return l.adopt(x)})},add:function(x,k){return null==k?this.node.appendChild(x.node):x.node!=this.node.childNodes[k]&&this.node.insertBefore(x.node,this.node.childNodes[k]),this},put:function(x,k){return this.add(x,k),x},has:function(x){return this.index(x)>=0},index:function(x){return[].slice.call(this.node.childNodes).indexOf(x.node)},get:function(x){return l.adopt(this.node.childNodes[x])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(x,k){for(var N=this.children(),U=0,X=N.length;U<X;U++)N[U]instanceof l.Element&&x.apply(N[U],[U,N]),k&&N[U]instanceof l.Container&&N[U].each(x,k);return this},removeElement:function(x){return this.node.removeChild(x.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),l.extend(l.Parent,{ungroup:function(x,k){return 0===k||this instanceof l.Defs||this.node==l.parser.draw||(x=x||(this instanceof l.Doc?this:this.parent(l.Parent)),k=k||1/0,this.each(function(){return this instanceof l.Defs?this:this instanceof l.Parent?this.ungroup(x,k-1):this.toParent(x)}),this.node.firstChild||this.remove()),this},flatten:function(x,k){return this.ungroup(x,k)}}),l.Container=l.invent({create:function(x){this.constructor.call(this,x)},inherit:l.Parent}),l.ViewBox=l.invent({parent:l.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(x){l.Element.prototype[x]=function(k){return l.on(this.node,x,k),this}}),l.listeners=[],l.handlerMap=[],l.listenerId=0,l.on=function(x,k,N,U,X){var Y=N.bind(U||x.instance||x),pe=(l.handlerMap.indexOf(x)+1||l.handlerMap.push(x))-1,ge=k.split(".")[0],Me=k.split(".")[1]||"*";l.listeners[pe]=l.listeners[pe]||{},l.listeners[pe][ge]=l.listeners[pe][ge]||{},l.listeners[pe][ge][Me]=l.listeners[pe][ge][Me]||{},N._svgjsListenerId||(N._svgjsListenerId=++l.listenerId),l.listeners[pe][ge][Me][N._svgjsListenerId]=Y,x.addEventListener(ge,Y,X||{passive:!0})},l.off=function(x,k,N){var U=l.handlerMap.indexOf(x),X=k&&k.split(".")[0],Y=k&&k.split(".")[1],pe="";if(-1!=U)if(N){if("function"==typeof N&&(N=N._svgjsListenerId),!N)return;l.listeners[U][X]&&l.listeners[U][X][Y||"*"]&&(x.removeEventListener(X,l.listeners[U][X][Y||"*"][N],!1),delete l.listeners[U][X][Y||"*"][N])}else if(Y&&X){if(l.listeners[U][X]&&l.listeners[U][X][Y]){for(var ge in l.listeners[U][X][Y])l.off(x,[X,Y].join("."),ge);delete l.listeners[U][X][Y]}}else if(Y)for(var Me in l.listeners[U])for(var pe in l.listeners[U][Me])Y===pe&&l.off(x,[Me,Y].join("."));else if(X){if(l.listeners[U][X]){for(var pe in l.listeners[U][X])l.off(x,[X,pe].join("."));delete l.listeners[U][X]}}else{for(var Me in l.listeners[U])l.off(x,Me);delete l.listeners[U],delete l.handlerMap[U]}},l.extend(l.Element,{on:function(x,k,N,U){return l.on(this.node,x,k,N,U),this},off:function(x,k){return l.off(this.node,x,k),this},fire:function(x,k){return this.node.dispatchEvent(x instanceof B.Event?x:x=new l.CustomEvent(x,{detail:k,cancelable:!0})),this._event=x,this},event:function(){return this._event}}),l.Defs=l.invent({create:"defs",inherit:l.Container}),l.G=l.invent({create:"g",inherit:l.Container,extend:{x:function(x){return null==x?this.transform("x"):this.transform({x:x-this.x()},!0)}},construct:{group:function(){return this.put(new l.G)}}}),l.Doc=l.invent({create:function(x){x&&("svg"==(x="string"==typeof x?a.getElementById(x):x).nodeName?this.constructor.call(this,x):(this.constructor.call(this,l.create("svg")),x.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:l.Container,extend:{namespace:function(){return this.attr({xmlns:l.ns,version:"1.1"}).attr("xmlns:xlink",l.xlink,l.xmlns).attr("xmlns:svgjs",l.svgjs,l.xmlns)},defs:function(){var x;return this._defs||(this._defs=(x=this.node.getElementsByTagName("defs")[0])?l.adopt(x):new l.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,l.parser.draw&&!l.parser.draw.parentNode&&this.node.appendChild(l.parser.draw),this},clone:function(x){this.writeDataToDom();var k=this.node,N=F(k.cloneNode(!0));return x?(x.node||x).appendChild(N.node):k.parentNode.insertBefore(N.node,k.nextSibling),N}}}),l.extend(l.Element,{}),l.Gradient=l.invent({create:function(x){this.constructor.call(this,l.create(x+"Gradient")),this.type=x},inherit:l.Container,extend:{at:function(x,k,N){return this.put(new l.Stop).update(x,k,N)},update:function(x){return this.clear(),"function"==typeof x&&x.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(x,k,N){return"transform"==x&&(x="gradientTransform"),l.Container.prototype.attr.call(this,x,k,N)}},construct:{gradient:function(x,k){return this.defs().gradient(x,k)}}}),l.extend(l.Gradient,l.FX,{from:function(x,k){return this.attr("radial"==(this._target||this).type?{fx:new l.Number(x),fy:new l.Number(k)}:{x1:new l.Number(x),y1:new l.Number(k)})},to:function(x,k){return this.attr("radial"==(this._target||this).type?{cx:new l.Number(x),cy:new l.Number(k)}:{x2:new l.Number(x),y2:new l.Number(k)})}}),l.extend(l.Defs,{gradient:function(x,k){return this.put(new l.Gradient(x)).update(k)}}),l.Stop=l.invent({create:"stop",inherit:l.Element,extend:{update:function(x){return("number"==typeof x||x instanceof l.Number)&&(x={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=x.opacity&&this.attr("stop-opacity",x.opacity),null!=x.color&&this.attr("stop-color",x.color),null!=x.offset&&this.attr("offset",new l.Number(x.offset)),this}}}),l.Pattern=l.invent({create:"pattern",inherit:l.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(x){return this.clear(),"function"==typeof x&&x.call(this,this),this},toString:function(){return this.fill()},attr:function(x,k,N){return"transform"==x&&(x="patternTransform"),l.Container.prototype.attr.call(this,x,k,N)}},construct:{pattern:function(x,k,N){return this.defs().pattern(x,k,N)}}}),l.extend(l.Defs,{pattern:function(x,k,N){return this.put(new l.Pattern).update(N).attr({x:0,y:0,width:x,height:k,patternUnits:"userSpaceOnUse"})}}),l.Shape=l.invent({create:function(x){this.constructor.call(this,x)},inherit:l.Element}),l.Symbol=l.invent({create:"symbol",inherit:l.Container,construct:{symbol:function(){return this.put(new l.Symbol)}}}),l.Use=l.invent({create:"use",inherit:l.Shape,extend:{element:function(x,k){return this.attr("href",(k||"")+"#"+x,l.xlink)}},construct:{use:function(x,k){return this.put(new l.Use).element(x,k)}}}),l.Rect=l.invent({create:"rect",inherit:l.Shape,construct:{rect:function(x,k){return this.put(new l.Rect).size(x,k)}}}),l.Circle=l.invent({create:"circle",inherit:l.Shape,construct:{circle:function(x){return this.put(new l.Circle).rx(new l.Number(x).divide(2)).move(0,0)}}}),l.extend(l.Circle,l.FX,{rx:function(x){return this.attr("r",x)},ry:function(x){return this.rx(x)}}),l.Ellipse=l.invent({create:"ellipse",inherit:l.Shape,construct:{ellipse:function(x,k){return this.put(new l.Ellipse).size(x,k).move(0,0)}}}),l.extend(l.Ellipse,l.Rect,l.FX,{rx:function(x){return this.attr("rx",x)},ry:function(x){return this.attr("ry",x)}}),l.extend(l.Circle,l.Ellipse,{x:function(x){return null==x?this.cx()-this.rx():this.cx(x+this.rx())},y:function(x){return null==x?this.cy()-this.ry():this.cy(x+this.ry())},cx:function(x){return null==x?this.attr("cx"):this.attr("cx",x)},cy:function(x){return null==x?this.attr("cy"):this.attr("cy",x)},width:function(x){return null==x?2*this.rx():this.rx(new l.Number(x).divide(2))},height:function(x){return null==x?2*this.ry():this.ry(new l.Number(x).divide(2))},size:function(x,k){var N=M(this,x,k);return this.rx(new l.Number(N.width).divide(2)).ry(new l.Number(N.height).divide(2))}}),l.Line=l.invent({create:"line",inherit:l.Shape,extend:{array:function(){return new l.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(x,k,N,U){return null==x?this.array():(x=void 0!==k?{x1:x,y1:k,x2:N,y2:U}:new l.PointArray(x).toLine(),this.attr(x))},move:function(x,k){return this.attr(this.array().move(x,k).toLine())},size:function(x,k){var N=M(this,x,k);return this.attr(this.array().size(N.width,N.height).toLine())}},construct:{line:function(x,k,N,U){return l.Line.prototype.plot.apply(this.put(new l.Line),null!=x?[x,k,N,U]:[0,0,0,0])}}}),l.Polyline=l.invent({create:"polyline",inherit:l.Shape,construct:{polyline:function(x){return this.put(new l.Polyline).plot(x||new l.PointArray)}}}),l.Polygon=l.invent({create:"polygon",inherit:l.Shape,construct:{polygon:function(x){return this.put(new l.Polygon).plot(x||new l.PointArray)}}}),l.extend(l.Polyline,l.Polygon,{array:function(){return this._array||(this._array=new l.PointArray(this.attr("points")))},plot:function(x){return null==x?this.array():this.clear().attr("points","string"==typeof x?x:this._array=new l.PointArray(x))},clear:function(){return delete this._array,this},move:function(x,k){return this.attr("points",this.array().move(x,k))},size:function(x,k){var N=M(this,x,k);return this.attr("points",this.array().size(N.width,N.height))}}),l.extend(l.Line,l.Polyline,l.Polygon,{morphArray:l.PointArray,x:function(x){return null==x?this.bbox().x:this.move(x,this.bbox().y)},y:function(x){return null==x?this.bbox().y:this.move(this.bbox().x,x)},width:function(x){var k=this.bbox();return null==x?k.width:this.size(x,k.height)},height:function(x){var k=this.bbox();return null==x?k.height:this.size(k.width,x)}}),l.Path=l.invent({create:"path",inherit:l.Shape,extend:{morphArray:l.PathArray,array:function(){return this._array||(this._array=new l.PathArray(this.attr("d")))},plot:function(x){return null==x?this.array():this.clear().attr("d","string"==typeof x?x:this._array=new l.PathArray(x))},clear:function(){return delete this._array,this}},construct:{path:function(x){return this.put(new l.Path).plot(x||new l.PathArray)}}}),l.Image=l.invent({create:"image",inherit:l.Shape,extend:{load:function(x){if(!x)return this;var k=this,N=new B.Image;return l.on(N,"load",function(){l.off(N);var U=k.parent(l.Pattern);null!==U&&(0==k.width()&&0==k.height()&&k.size(N.width,N.height),U&&0==U.width()&&0==U.height()&&U.size(k.width(),k.height()),"function"==typeof k._loaded&&k._loaded.call(k,{width:N.width,height:N.height,ratio:N.width/N.height,url:x}))}),l.on(N,"error",function(U){l.off(N),"function"==typeof k._error&&k._error.call(k,U)}),this.attr("href",N.src=this.src=x,l.xlink)},loaded:function(x){return this._loaded=x,this},error:function(x){return this._error=x,this}},construct:{image:function(x,k,N){return this.put(new l.Image).load(x).size(k||0,N||k||0)}}}),l.Text=l.invent({create:function(){this.constructor.call(this,l.create("text")),this.dom.leading=new l.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",l.defaults.attrs["font-family"])},inherit:l.Shape,extend:{x:function(x){return null==x?this.attr("x"):this.attr("x",x)},text:function(x){if(void 0===x){x="";for(var k=this.node.childNodes,N=0,U=k.length;N<U;++N)0!=N&&3!=k[N].nodeType&&1==l.adopt(k[N]).dom.newLined&&(x+="\n"),x+=k[N].textContent;return x}if(this.clear().build(!0),"function"==typeof x)x.call(this,this);else{N=0;for(var X=(x=x.split("\n")).length;N<X;N++)this.tspan(x[N]).newLine()}return this.build(!1).rebuild()},size:function(x){return this.attr("font-size",x).rebuild()},leading:function(x){return null==x?this.dom.leading:(this.dom.leading=new l.Number(x),this.rebuild())},lines:function(){var x=(this.textPath&&this.textPath()||this).node,k=l.utils.map(l.utils.filterSVGElements(x.childNodes),function(N){return l.adopt(N)});return new l.Set(k)},rebuild:function(x){if("boolean"==typeof x&&(this._rebuild=x),this._rebuild){var k=this,N=0,U=this.dom.leading*new l.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(k.textPath()||this.attr("x",k.attr("x")),"\n"==this.text()?N+=U:(this.attr("dy",U+N),N=0))}),this.fire("rebuild")}return this},build:function(x){return this._build=!!x,this},setData:function(x){return this.dom=x,this.dom.leading=new l.Number(x.leading||1.3),this}},construct:{text:function(x){return this.put(new l.Text).text(x)},plain:function(x){return this.put(new l.Text).plain(x)}}}),l.Tspan=l.invent({create:"tspan",inherit:l.Shape,extend:{text:function(x){return null==x?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof x?x.call(this,this):this.plain(x),this)},dx:function(x){return this.attr("dx",x)},dy:function(x){return this.attr("dy",x)},newLine:function(){var x=this.parent(l.Text);return this.dom.newLined=!0,this.dy(x.dom.leading*x.attr("font-size")).attr("x",x.x())}}}),l.extend(l.Text,l.Tspan,{plain:function(x){return!1===this._build&&this.clear(),this.node.appendChild(a.createTextNode(x)),this},tspan:function(x){var k=(this.textPath&&this.textPath()||this).node,N=new l.Tspan;return!1===this._build&&this.clear(),k.appendChild(N.node),N.text(x)},clear:function(){for(var x=(this.textPath&&this.textPath()||this).node;x.hasChildNodes();)x.removeChild(x.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),l.TextPath=l.invent({create:"textPath",inherit:l.Parent,parent:l.Text,construct:{morphArray:l.PathArray,array:function(){var x=this.track();return x?x.array():null},plot:function(x){var k=this.track(),N=null;return k&&(N=k.plot(x)),null==x?N:this},track:function(){var x=this.textPath();if(x)return x.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return l.adopt(this.node.firstChild)}}}),l.Nested=l.invent({create:function(){this.constructor.call(this,l.create("svg")),this.style("overflow","visible")},inherit:l.Container,construct:{nested:function(){return this.put(new l.Nested)}}});var m={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(x,k){return"color"==k?x:x+"-"+k}};function b(x,k,N,U){return N+U.replace(l.regex.dots," .")}function w(x){return x.toLowerCase().replace(/-(.)/g,function(k,N){return N.toUpperCase()})}function D(x){return x.charAt(0).toUpperCase()+x.slice(1)}function I(x){var k=x.toString(16);return 1==k.length?"0"+k:k}function M(x,k,N){if(null==k||null==N){var U=x.bbox();null==k?k=U.width/U.height*N:null==N&&(N=U.height/U.width*k)}return{width:k,height:N}}function P(x,k,N){return{x:k*x.a+N*x.c+0,y:k*x.b+N*x.d+0}}function O(x){return{a:x[0],b:x[1],c:x[2],d:x[3],e:x[4],f:x[5]}}function F(x){for(var k=x.childNodes.length-1;k>=0;k--)x.childNodes[k]instanceof B.SVGElement&&F(x.childNodes[k]);return l.adopt(x).id(l.eid(x.nodeName))}function H(x){return Math.abs(x)>1e-37?x:0}["fill","stroke"].forEach(function(x){var k={};k[x]=function(N){if(void 0===N)return this;if("string"==typeof N||l.Color.isRgb(N)||N&&"function"==typeof N.fill)this.attr(x,N);else for(var U=m[x].length-1;U>=0;U--)null!=N[m[x][U]]&&this.attr(m.prefix(x,m[x][U]),N[m[x][U]]);return this},l.extend(l.Element,l.FX,k)}),l.extend(l.Element,l.FX,{translate:function(x,k){return this.transform({x,y:k})},matrix:function(x){return this.attr("transform",new l.Matrix(6==arguments.length?[].slice.call(arguments):x))},opacity:function(x){return this.attr("opacity",x)},dx:function(x){return this.x(new l.Number(x).plus(this instanceof l.FX?0:this.x()),!0)},dy:function(x){return this.y(new l.Number(x).plus(this instanceof l.FX?0:this.y()),!0)}}),l.extend(l.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(x){return this.node.getPointAtLength(x)}}),l.Set=l.invent({create:function(x){Array.isArray(x)?this.members=x:this.clear()},extend:{add:function(){for(var x=[].slice.call(arguments),k=0,N=x.length;k<N;k++)this.members.push(x[k]);return this},remove:function(x){var k=this.index(x);return k>-1&&this.members.splice(k,1),this},each:function(x){for(var k=0,N=this.members.length;k<N;k++)x.apply(this.members[k],[k,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(x){return this.index(x)>=0},index:function(x){return this.members.indexOf(x)},get:function(x){return this.members[x]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(x){return new l.Set(x)}}}),l.FX.Set=l.invent({create:function(x){this.set=x}}),l.Set.inherit=function(){var x=[];for(var k in l.Shape.prototype)"function"==typeof l.Shape.prototype[k]&&"function"!=typeof l.Set.prototype[k]&&x.push(k);for(var k in x.forEach(function(U){l.Set.prototype[U]=function(){for(var X=0,Y=this.members.length;X<Y;X++)this.members[X]&&"function"==typeof this.members[X][U]&&this.members[X][U].apply(this.members[X],arguments);return"animate"==U?this.fx||(this.fx=new l.FX.Set(this)):this}}),x=[],l.FX.prototype)"function"==typeof l.FX.prototype[k]&&"function"!=typeof l.FX.Set.prototype[k]&&x.push(k);x.forEach(function(N){l.FX.Set.prototype[N]=function(){for(var U=0,X=this.set.members.length;U<X;U++)this.set.members[U].fx[N].apply(this.set.members[U].fx,arguments);return this}})},l.extend(l.Element,{}),l.extend(l.Element,{remember:function(x,k){if("object"===Mt(arguments[0]))for(var N in x)this.remember(N,x[N]);else{if(1==arguments.length)return this.memory()[x];this.memory()[x]=k}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var x=arguments.length-1;x>=0;x--)delete this.memory()[arguments[x]];return this},memory:function(){return this._memory||(this._memory={})}}),l.get=function(x){var k=a.getElementById(function(N){var U=(N||"").toString().match(l.regex.reference);if(U)return U[1]}(x)||x);return l.adopt(k)},l.select=function(x,k){return new l.Set(l.utils.map((k||a).querySelectorAll(x),function(N){return l.adopt(N)}))},l.extend(l.Parent,{select:function(x){return l.select(x,this.node)}});var W="abcdef".split("");if("function"!=typeof B.CustomEvent){var q=function(x,k){k=k||{bubbles:!1,cancelable:!1,detail:void 0};var N=a.createEvent("CustomEvent");return N.initCustomEvent(x,k.bubbles,k.cancelable,k.detail),N};q.prototype=B.Event.prototype,l.CustomEvent=q}else l.CustomEvent=B.CustomEvent;return l},void 0!==(J=function(){return hs(ni,ni.document)}.call(Yi,en,Yi,ts))&&(ts.exports=J),
/*! svg.filter.js - v2.0.2 - 2016-02-24
        * https://github.com/wout/svg.filter.js
        * Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(g,m){return this.add(g,m),!g.attr("in")&&this.autoSetIn&&g.attr("in",this.source),g.attr("result")||g.attr("result",g),g},blend:function(g,m,b){return this.put(new SVG.BlendEffect(g,m,b))},colorMatrix:function(g,m){return this.put(new SVG.ColorMatrixEffect(g,m))},convolveMatrix:function(g){return this.put(new SVG.ConvolveMatrixEffect(g))},componentTransfer:function(g){return this.put(new SVG.ComponentTransferEffect(g))},composite:function(g,m,b){return this.put(new SVG.CompositeEffect(g,m,b))},flood:function(g,m){return this.put(new SVG.FloodEffect(g,m))},offset:function(g,m){return this.put(new SVG.OffsetEffect(g,m))},image:function(g){return this.put(new SVG.ImageEffect(g))},merge:function(){var g=[void 0];for(var m in arguments)g.push(arguments[m]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,g)))},gaussianBlur:function(g,m){return this.put(new SVG.GaussianBlurEffect(g,m))},morphology:function(g,m){return this.put(new SVG.MorphologyEffect(g,m))},diffuseLighting:function(g,m,b){return this.put(new SVG.DiffuseLightingEffect(g,m,b))},displacementMap:function(g,m,b,w,D){return this.put(new SVG.DisplacementMapEffect(g,m,b,w,D))},specularLighting:function(g,m,b,w){return this.put(new SVG.SpecularLightingEffect(g,m,b,w))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(g,m,b,w,D){return this.put(new SVG.TurbulenceEffect(g,m,b,w,D))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(g){var m=this.put(new SVG.Filter);return"function"==typeof g&&g.call(m,m),m}}),SVG.extend(SVG.Container,{filter:function(g){return this.defs().filter(g)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(g){return this.filterer=g instanceof SVG.Element?g:this.doc().filter(g),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(g){return this.filterer&&!0===g&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",g)},result:function(g){return null==g?this.attr("result"):this.attr("result",g)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",g)},result:function(g){return null==g?this.attr("result"):this.attr("result",g)},toString:function(){return this.result()}}});var B={blend:function(g,m){return this.parent()&&this.parent().blend(this,g,m)},colorMatrix:function(g,m){return this.parent()&&this.parent().colorMatrix(g,m).in(this)},convolveMatrix:function(g){return this.parent()&&this.parent().convolveMatrix(g).in(this)},componentTransfer:function(g){return this.parent()&&this.parent().componentTransfer(g).in(this)},composite:function(g,m){return this.parent()&&this.parent().composite(this,g,m)},flood:function(g,m){return this.parent()&&this.parent().flood(g,m)},offset:function(g,m){return this.parent()&&this.parent().offset(g,m).in(this)},image:function(g){return this.parent()&&this.parent().image(g)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(g,m){return this.parent()&&this.parent().gaussianBlur(g,m).in(this)},morphology:function(g,m){return this.parent()&&this.parent().morphology(g,m).in(this)},diffuseLighting:function(g,m,b){return this.parent()&&this.parent().diffuseLighting(g,m,b).in(this)},displacementMap:function(g,m,b,w){return this.parent()&&this.parent().displacementMap(this,g,m,b,w)},specularLighting:function(g,m,b,w){return this.parent()&&this.parent().specularLighting(g,m,b,w).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(g,m,b,w,D){return this.parent()&&this.parent().turbulence(g,m,b,w,D).in(this)}};SVG.extend(SVG.Effect,B),SVG.extend(SVG.ParentEffect,B),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(g){this.attr("in",g)}}});var a={blend:function(g,m,b){this.attr({in:g,in2:m,mode:b||"normal"})},colorMatrix:function(g,m){"matrix"==g&&(m=h(m)),this.attr({type:g,values:void 0===m?null:m})},convolveMatrix:function(g){g=h(g),this.attr({order:Math.sqrt(g.split(" ").length),kernelMatrix:g})},composite:function(g,m,b){this.attr({in:g,in2:m,operator:b})},flood:function(g,m){this.attr("flood-color",g),null!=m&&this.attr("flood-opacity",m)},offset:function(g,m){this.attr({dx:g,dy:m})},image:function(g){this.attr("href",g,SVG.xlink)},displacementMap:function(g,m,b,w,D){this.attr({in:g,in2:m,scale:b,xChannelSelector:w,yChannelSelector:D})},gaussianBlur:function(g,m){this.attr("stdDeviation",null!=g||null!=m?function(b){if(!Array.isArray(b))return b;for(var w=0,D=b.length,I=[];w<D;w++)I.push(b[w]);return I.join(" ")}(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(g,m){this.attr({operator:g,radius:m})},tile:function(){},turbulence:function(g,m,b,w,D){this.attr({numOctaves:m,seed:b,stitchTiles:w,baseFrequency:g,type:D})}},l={merge:function(){var g;if(arguments[0]instanceof SVG.Set){var m=this;arguments[0].each(function(w){this instanceof SVG.MergeNode?m.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&m.put(new SVG.MergeNode(this))})}else{g=Array.isArray(arguments[0])?arguments[0]:arguments;for(var b=0;b<g.length;b++)g[b]instanceof SVG.MergeNode?this.put(g[b]):this.put(new SVG.MergeNode(g[b]))}},componentTransfer:function(g){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(b){this[b]=new(SVG["Func"+b.toUpperCase()])("identity"),this.rgb.add(this[b]),this.node.appendChild(this[b].node)}.bind(this)),g)for(var m in g.rgb&&(["r","g","b"].forEach(function(b){this[b].attr(g.rgb)}.bind(this)),delete g.rgb),g)this[m].attr(g[m])},diffuseLighting:function(g,m,b){this.attr({surfaceScale:g,diffuseConstant:m,kernelUnitLength:b})},specularLighting:function(g,m,b,w){this.attr({surfaceScale:g,diffuseConstant:m,specularExponent:b,kernelUnitLength:w})}},d={distantLight:function(g,m){this.attr({azimuth:g,elevation:m})},pointLight:function(g,m,b){this.attr({x:g,y:m,z:b})},spotLight:function(g,m,b,w,D,I){this.attr({x:g,y:m,z:b,pointsAtX:w,pointsAtY:D,pointsAtZ:I})},mergeNode:function(g){this.attr("in",g)}};function h(g){return Array.isArray(g)&&(g=new SVG.Array(g)),g.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function p(){var g=function(){};for(var m in"function"==typeof arguments[arguments.length-1]&&(g=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var b in arguments[m])g(arguments[m][b],b,arguments[m])}["r","g","b","a"].forEach(function(g){d["Func"+g.toUpperCase()]=function(m){switch(this.attr("type",m),m){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),p(a,function(g,m){var b=m.charAt(0).toUpperCase()+m.slice(1);SVG[b+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+b)),g.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),p(l,function(g,m){var b=m.charAt(0).toUpperCase()+m.slice(1);SVG[b+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+b)),g.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),p(d,function(g,m){var b=m.charAt(0).toUpperCase()+m.slice(1);SVG[b]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+b)),g.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(g){return g instanceof SVG.MergeNode?this.add(g,0):this.add(new SVG.MergeNode(g),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",g)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function B(p,g,m,b,w,D,I){for(var M=p.slice(g,m||I),P=b.slice(w,D||I),O=0,F={pos:[0,0],start:[0,0]},H={pos:[0,0],start:[0,0]};M[O]=a.call(F,M[O]),P[O]=a.call(H,P[O]),M[O][0]!=P[O][0]||"M"==M[O][0]||"A"==M[O][0]&&(M[O][4]!=P[O][4]||M[O][5]!=P[O][5])?(Array.prototype.splice.apply(M,[O,1].concat(d.call(F,M[O]))),Array.prototype.splice.apply(P,[O,1].concat(d.call(H,P[O])))):(M[O]=l.call(F,M[O]),P[O]=l.call(H,P[O])),++O!=M.length||O!=P.length;)O==M.length&&M.push(["C",F.pos[0],F.pos[1],F.pos[0],F.pos[1],F.pos[0],F.pos[1]]),O==P.length&&P.push(["C",H.pos[0],H.pos[1],H.pos[0],H.pos[1],H.pos[0],H.pos[1]]);return{start:M,dest:P}}function a(p){switch(p[0]){case"z":case"Z":p[0]="L",p[1]=this.start[0],p[2]=this.start[1];break;case"H":p[0]="L",p[2]=this.pos[1];break;case"V":p[0]="L",p[2]=p[1],p[1]=this.pos[0];break;case"T":p[0]="Q",p[3]=p[1],p[4]=p[2],p[1]=this.reflection[1],p[2]=this.reflection[0];break;case"S":p[0]="C",p[6]=p[4],p[5]=p[3],p[4]=p[2],p[3]=p[1],p[2]=this.reflection[1],p[1]=this.reflection[0]}return p}function l(p){var g=p.length;return this.pos=[p[g-2],p[g-1]],-1!="SCQT".indexOf(p[0])&&(this.reflection=[2*this.pos[0]-p[g-4],2*this.pos[1]-p[g-3]]),p}function d(p){var g=[p];switch(p[0]){case"M":return this.pos=this.start=[p[1],p[2]],g;case"L":p[5]=p[3]=p[1],p[6]=p[4]=p[2],p[1]=this.pos[0],p[2]=this.pos[1];break;case"Q":p[6]=p[4],p[5]=p[3],p[4]=1*p[4]/3+2*p[2]/3,p[3]=1*p[3]/3+2*p[1]/3,p[2]=1*this.pos[1]/3+2*p[2]/3,p[1]=1*this.pos[0]/3+2*p[1]/3;break;case"A":p=(g=function(m,b){var w,D,I,M,P,O,F,H,W,q,x,k,N,U,X,Y,pe,ge,Me,re,He,Ae,mt,nn,dn,Ln,ai=Math.abs(b[1]),Qn=Math.abs(b[2]),yi=b[3]%360,Hs=b[4],ia=b[5],bn=b[6],sl=b[7],xr=new SVG.Point(m),Zn=new SVG.Point(bn,sl),Xu=[];if(0===ai||0===Qn||xr.x===Zn.x&&xr.y===Zn.y)return[["C",xr.x,xr.y,Zn.x,Zn.y,Zn.x,Zn.y]];for((D=(w=new SVG.Point((xr.x-Zn.x)/2,(xr.y-Zn.y)/2).transform((new SVG.Matrix).rotate(yi))).x*w.x/(ai*ai)+w.y*w.y/(Qn*Qn))>1&&(ai*=D=Math.sqrt(D),Qn*=D),I=(new SVG.Matrix).rotate(yi).scale(1/ai,1/Qn).rotate(-yi),xr=xr.transform(I),O=(M=[(Zn=Zn.transform(I)).x-xr.x,Zn.y-xr.y])[0]*M[0]+M[1]*M[1],P=Math.sqrt(O),M[0]/=P,M[1]/=P,F=O<4?Math.sqrt(1-O/4):0,Hs===ia&&(F*=-1),H=new SVG.Point((Zn.x+xr.x)/2+F*-M[1],(Zn.y+xr.y)/2+F*M[0]),W=new SVG.Point(xr.x-H.x,xr.y-H.y),q=new SVG.Point(Zn.x-H.x,Zn.y-H.y),x=Math.acos(W.x/Math.sqrt(W.x*W.x+W.y*W.y)),W.y<0&&(x*=-1),k=Math.acos(q.x/Math.sqrt(q.x*q.x+q.y*q.y)),q.y<0&&(k*=-1),ia&&x>k&&(k+=2*Math.PI),!ia&&x<k&&(k-=2*Math.PI),Y=[],pe=x,N=(k-x)/(U=Math.ceil(2*Math.abs(x-k)/Math.PI)),X=4*Math.tan(N/4)/3,He=0;He<=U;He++)Me=Math.cos(pe),ge=Math.sin(pe),re=new SVG.Point(H.x+Me,H.y+ge),Y[He]=[new SVG.Point(re.x+X*ge,re.y-X*Me),re,new SVG.Point(re.x-X*ge,re.y+X*Me)],pe+=N;for(Y[0][0]=Y[0][1].clone(),Y[Y.length-1][2]=Y[Y.length-1][1].clone(),I=(new SVG.Matrix).rotate(yi).scale(ai,Qn).rotate(-yi),He=0,Ae=Y.length;He<Ae;He++)Y[He][0]=Y[He][0].transform(I),Y[He][1]=Y[He][1].transform(I),Y[He][2]=Y[He][2].transform(I);for(He=1,Ae=Y.length;He<Ae;He++)mt=(re=Y[He-1][2]).x,nn=re.y,dn=(re=Y[He][0]).x,Ln=re.y,bn=(re=Y[He][1]).x,Xu.push(["C",mt,nn,dn,Ln,bn,sl=re.y]);return Xu}(this.pos,p))[0]}return p[0]="C",this.pos=[p[5],p[6]],this.reflection=[2*p[5]-p[3],2*p[6]-p[4]],g}function h(p,g){if(!1===g)return!1;for(var m=g,b=p.length;m<b;++m)if("M"==p[m][0])return m;return!1}SVG.extend(SVG.PathArray,{morph:function(p){for(var g=this.value,m=this.parse(p),b=0,w=0,D=!1,I=!1;!1!==b||!1!==w;){var M;D=h(g,!1!==b&&b+1),I=h(m,!1!==w&&w+1),!1===b&&(b=0==(M=new SVG.PathArray(P.start).bbox()).height||0==M.width?g.push(g[0])-1:g.push(["M",M.x+M.width/2,M.y+M.height/2])-1),!1===w&&(w=0==(M=new SVG.PathArray(P.dest).bbox()).height||0==M.width?m.push(m[0])-1:m.push(["M",M.x+M.width/2,M.y+M.height/2])-1);var P=B(g,b,D,m,w,I);g=g.slice(0,b).concat(P.start,!1===D?[]:g.slice(D)),m=m.slice(0,w).concat(P.dest,!1===I?[]:m.slice(I)),b=!1!==D&&b+P.start.length,w=!1!==I&&w+P.dest.length}return this.value=g,this.destination=new SVG.PathArray,this.destination.value=m,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
        * https://github.com/svgdotjs/svg.draggable.js
        * Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function B(a){a.remember("_draggable",this),this.el=a}B.prototype.init=function(a,l){var d=this;this.constraint=a,this.value=l,this.el.on("mousedown.drag",function(h){d.start(h)}),this.el.on("touchstart.drag",function(h){d.start(h)})},B.prototype.transformPoint=function(a,l){var d=(a=a||window.event).changedTouches&&a.changedTouches[0]||a;return this.p.x=d.clientX-(l||0),this.p.y=d.clientY,this.p.matrixTransform(this.m)},B.prototype.getBBox=function(){var a=this.el.bbox();return this.el instanceof SVG.Nested&&(a=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(a.x=this.el.x(),a.y=this.el.y()),a},B.prototype.start=function(a){if("click"!=a.type&&"mousedown"!=a.type&&"mousemove"!=a.type||1==(a.which||a.buttons)){var l=this;if(this.el.fire("beforedrag",{event:a,handler:this}),!this.el.event().defaultPrevented){a.preventDefault(),a.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var d,h=this.getBBox();if(this.el instanceof SVG.Text)switch(d=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":d/=2;break;case"start":d=0}this.startPoints={point:this.transformPoint(a,d),box:h,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(p){l.drag(p)}),SVG.on(window,"touchmove.drag",function(p){l.drag(p)}),SVG.on(window,"mouseup.drag",function(p){l.end(p)}),SVG.on(window,"touchend.drag",function(p){l.end(p)}),this.el.fire("dragstart",{event:a,p:this.startPoints.point,m:this.m,handler:this})}}},B.prototype.drag=function(a){var l=this.getBBox(),d=this.transformPoint(a),h=this.startPoints.box.x+d.x-this.startPoints.point.x,p=this.startPoints.box.y+d.y-this.startPoints.point.y,g=this.constraint,m=d.x-this.startPoints.point.x,b=d.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:a,p:d,m:this.m,handler:this}),this.el.event().defaultPrevented)return d;if("function"==typeof g){var w=g.call(this.el,h,p,this.m);"boolean"==typeof w&&(w={x:w,y:w}),!0===w.x?this.el.x(h):!1!==w.x&&this.el.x(w.x),!0===w.y?this.el.y(p):!1!==w.y&&this.el.y(w.y)}else"object"==typeof g&&(null!=g.minX&&h<g.minX?m=(h=g.minX)-this.startPoints.box.x:null!=g.maxX&&h>g.maxX-l.width&&(m=(h=g.maxX-l.width)-this.startPoints.box.x),null!=g.minY&&p<g.minY?b=(p=g.minY)-this.startPoints.box.y:null!=g.maxY&&p>g.maxY-l.height&&(b=(p=g.maxY-l.height)-this.startPoints.box.y),null!=g.snapToGrid&&(h-=h%g.snapToGrid,p-=p%g.snapToGrid,m-=m%g.snapToGrid,b-=b%g.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:m,y:b},!0):this.el.move(h,p));return d},B.prototype.end=function(a){var l=this.drag(a);this.el.fire("dragend",{event:a,p:l,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(a,l){"function"!=typeof a&&"object"!=typeof a||(l=a,a=!0);var d=this.remember("_draggable")||new B(this);return(a=void 0===a||a)?d.init(l||{},a):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function B(a){this.el=a,a.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(l,d,h){var p="string"!=typeof l?l:d[l];return h?p/2:p},this.pointCoords=function(l,d){var h=this.pointsList[l];return{x:this.pointCoord(h[0],d,"t"===l||"b"===l),y:this.pointCoord(h[1],d,"r"===l||"l"===l)}}}B.prototype.init=function(a,l){var d=this.el.bbox();this.options={};var h=this.el.selectize.defaults.points;for(var p in this.el.selectize.defaults)this.options[p]=this.el.selectize.defaults[p],void 0!==l[p]&&(this.options[p]=l[p]);var g=["points","pointsExclude"];for(var p in g){var m=this.options[g[p]];"string"==typeof m?m=m.length>0?m.split(/\s*,\s*/i):[]:"boolean"==typeof m&&"points"===g[p]&&(m=m?h:[]),this.options[g[p]]=m}this.options.points=[h,this.options.points].reduce(function(b,w){return b.filter(function(D){return w.indexOf(D)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(b,w){return b.filter(function(D){return w.indexOf(D)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(d.x,d.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(a):this.selectRect(a),this.observe(),this.cleanup()},B.prototype.selectPoints=function(a){return this.pointSelection.isSelected=a,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},B.prototype.getPointArray=function(){var a=this.el.bbox();return this.el.array().valueOf().map(function(l){return[l[0]-a.x,l[1]-a.y]})},B.prototype.drawPoints=function(){for(var a=this,l=this.getPointArray(),d=0,h=l.length;d<h;++d){var p=function(m){return function(b){(b=b||window.event).preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation(),a.el.fire("point",{x:b.pageX||b.touches[0].pageX,y:b.pageY||b.touches[0].pageY,i:m,event:b})}}(d),g=this.drawPoint(l[d][0],l[d][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",p).on("mousedown",p);this.pointSelection.set.add(g)}},B.prototype.drawPoint=function(a,l){var d=this.options.pointType;switch(d){case"circle":return this.drawCircle(a,l);case"rect":return this.drawRect(a,l);default:if("function"==typeof d)return d.call(this,a,l);throw new Error("Unknown "+d+" point type!")}},B.prototype.drawCircle=function(a,l){return this.nested.circle(this.options.pointSize).center(a,l)},B.prototype.drawRect=function(a,l){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(a,l)},B.prototype.updatePointSelection=function(){var a=this.getPointArray();this.pointSelection.set.each(function(l){this.cx()===a[l][0]&&this.cy()===a[l][1]||this.center(a[l][0],a[l][1])})},B.prototype.updateRectSelection=function(){var a=this,l=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:l.width,height:l.height}),this.options.points.length&&this.options.points.map(function(h,p){var g=a.pointCoords(h,l);a.rectSelection.set.get(p+1).center(g.x,g.y)}),this.options.rotationPoint){var d=this.rectSelection.set.length();this.rectSelection.set.get(d-1).center(l.width/2,20)}},B.prototype.selectRect=function(a){var l=this,d=this.el.bbox();function h(m){return function(b){(b=b||window.event).preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation(),l.el.fire(m,{x:b.pageX||b.touches[0].pageX,y:b.pageY||b.touches[0].pageY,event:b})}}if(this.rectSelection.isSelected=a,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(d.width,d.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(m,b){var w=l.pointCoords(m,d),D=l.drawPoint(w.x,w.y).attr("class",l.options.classPoints+"_"+m).on("mousedown",h(m)).on("touchstart",h(m));l.rectSelection.set.add(D)}),this.rectSelection.set.each(function(){this.addClass(l.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var p=function(m){(m=m||window.event).preventDefault?m.preventDefault():m.returnValue=!1,m.stopPropagation(),l.el.fire("rot",{x:m.pageX||m.touches[0].pageX,y:m.pageY||m.touches[0].pageY,event:m})},g=this.drawPoint(d.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",p).on("mousedown",p);this.rectSelection.set.add(g)}},B.prototype.handler=function(){var a=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(a.x,a.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},B.prototype.observe=function(){var a=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){a.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){a.handler()})},B.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(a,l){return"object"==typeof a&&(l=a,a=!0),(this.remember("_selectHandler")||new B(this)).init(void 0===a||a,l||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function B(a){a.remember("_resizeHandler",this),this.el=a,this.parameters={},this.lastUpdateCall=null,this.p=a.doc().node.createSVGPoint()}B.prototype.transformPoint=function(a,l,d){return this.p.x=a-(this.offset.x-window.pageXOffset),this.p.y=l-(this.offset.y-window.pageYOffset),this.p.matrixTransform(d||this.m)},B.prototype._extractPosition=function(a){return{x:null!=a.clientX?a.clientX:a.touches[0].clientX,y:null!=a.clientY?a.clientY:a.touches[0].clientY}},B.prototype.init=function(a){var l=this;if(this.stop(),"stop"!==a){for(var d in this.options={},this.el.resize.defaults)this.options[d]=this.el.resize.defaults[d],void 0!==a[d]&&(this.options[d]=a[d]);this.el.on("lt.resize",function(h){l.resize(h||window.event)}),this.el.on("rt.resize",function(h){l.resize(h||window.event)}),this.el.on("rb.resize",function(h){l.resize(h||window.event)}),this.el.on("lb.resize",function(h){l.resize(h||window.event)}),this.el.on("t.resize",function(h){l.resize(h||window.event)}),this.el.on("r.resize",function(h){l.resize(h||window.event)}),this.el.on("b.resize",function(h){l.resize(h||window.event)}),this.el.on("l.resize",function(h){l.resize(h||window.event)}),this.el.on("rot.resize",function(h){l.resize(h||window.event)}),this.el.on("point.resize",function(h){l.resize(h||window.event)}),this.update()}},B.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},B.prototype.resize=function(a){var l=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var d=this._extractPosition(a.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(d.x,d.y),x:a.detail.x,y:a.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==a.detail.i){var h=this.el.array().valueOf();this.parameters.i=a.detail.i,this.parameters.pointCoords=[h[a.detail.i][0],h[a.detail.i][1]]}switch(a.type){case"lt":this.calc=function(p,g){var m=this.snapToGrid(p,g);if(this.parameters.box.width-m[0]>0&&this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-m[0]);m=this.checkAspectRatio(m),this.el.move(this.parameters.box.x+m[0],this.parameters.box.y+m[1]).size(this.parameters.box.width-m[0],this.parameters.box.height-m[1])}};break;case"rt":this.calc=function(p,g){var m=this.snapToGrid(p,g,2);if(this.parameters.box.width+m[0]>0&&this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+m[0]);m=this.checkAspectRatio(m,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+m[1]).size(this.parameters.box.width+m[0],this.parameters.box.height-m[1])}};break;case"rb":this.calc=function(p,g){var m=this.snapToGrid(p,g,0);if(this.parameters.box.width+m[0]>0&&this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+m[0]);m=this.checkAspectRatio(m),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+m[0],this.parameters.box.height+m[1])}};break;case"lb":this.calc=function(p,g){var m=this.snapToGrid(p,g,1);if(this.parameters.box.width-m[0]>0&&this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-m[0]);m=this.checkAspectRatio(m,!0),this.el.move(this.parameters.box.x+m[0],this.parameters.box.y).size(this.parameters.box.width-m[0],this.parameters.box.height+m[1])}};break;case"t":this.calc=function(p,g){var m=this.snapToGrid(p,g,2);if(this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+m[1]).height(this.parameters.box.height-m[1])}};break;case"r":this.calc=function(p,g){var m=this.snapToGrid(p,g,0);if(this.parameters.box.width+m[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+m[0])}};break;case"b":this.calc=function(p,g){var m=this.snapToGrid(p,g,0);if(this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+m[1])}};break;case"l":this.calc=function(p,g){var m=this.snapToGrid(p,g,1);if(this.parameters.box.width-m[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+m[0],this.parameters.box.y).width(this.parameters.box.width-m[0])}};break;case"rot":this.calc=function(p,g){var m=p+this.parameters.p.x,b=g+this.parameters.p.y,w=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),D=Math.atan2(b-this.parameters.box.y-this.parameters.box.height/2,m-this.parameters.box.x-this.parameters.box.width/2),I=this.parameters.rotation+180*(D-w)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(I-I%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(p,g){var m=this.snapToGrid(p,g,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),b=this.el.array().valueOf();b[this.parameters.i][0]=this.parameters.pointCoords[0]+m[0],b[this.parameters.i][1]=this.parameters.pointCoords[1]+m[1],this.el.plot(b)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:a}),SVG.on(window,"touchmove.resize",function(p){l.update(p||window.event)}),SVG.on(window,"touchend.resize",function(){l.done()}),SVG.on(window,"mousemove.resize",function(p){l.update(p||window.event)}),SVG.on(window,"mouseup.resize",function(){l.done()})},B.prototype.update=function(a){if(a){var l=this._extractPosition(a),d=this.transformPoint(l.x,l.y),h=d.x-this.parameters.p.x,p=d.y-this.parameters.p.y;this.lastUpdateCall=[h,p],this.calc(h,p),this.el.fire("resizing",{dx:h,dy:p,event:a})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},B.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},B.prototype.snapToGrid=function(a,l,d,h){var p;return p=void 0!==h?[(d+a)%this.options.snapToGrid,(h+l)%this.options.snapToGrid]:[(this.parameters.box.x+a+(1&(d=d??3)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+l+(2&d?0:this.parameters.box.height))%this.options.snapToGrid],a<0&&(p[0]-=this.options.snapToGrid),l<0&&(p[1]-=this.options.snapToGrid),a-=Math.abs(p[0])<this.options.snapToGrid/2?p[0]:p[0]-(a<0?-this.options.snapToGrid:this.options.snapToGrid),l-=Math.abs(p[1])<this.options.snapToGrid/2?p[1]:p[1]-(l<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(a,l,d,h)},B.prototype.constraintToBox=function(a,l,d,h){var p,g,m=this.options.constraint||{};return void 0!==h?(p=d,g=h):(p=this.parameters.box.x+(1&d?0:this.parameters.box.width),g=this.parameters.box.y+(2&d?0:this.parameters.box.height)),void 0!==m.minX&&p+a<m.minX&&(a=m.minX-p),void 0!==m.maxX&&p+a>m.maxX&&(a=m.maxX-p),void 0!==m.minY&&g+l<m.minY&&(l=m.minY-g),void 0!==m.maxY&&g+l>m.maxY&&(l=m.maxY-g),[a,l]},B.prototype.checkAspectRatio=function(a,l){if(!this.options.saveAspectRatio)return a;var d=a.slice(),h=this.parameters.box.width/this.parameters.box.height,p=this.parameters.box.width+a[0],g=this.parameters.box.height-a[1],m=p/g;return m<h?(d[1]=p/h-this.parameters.box.height,l&&(d[1]=-d[1])):m>h&&(d[0]=this.parameters.box.width-g*h,l&&(d[0]=-d[0])),d},SVG.extend(SVG.Element,{resize:function(a){return(this.remember("_resizeHandler")||new B(this)).init(a||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var we=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Ci(this.ctx),this.ctx.axes=new Re(this.ctx),this.ctx.core=new na(this.ctx.el,this.ctx),this.ctx.config=new Sr({}),this.ctx.data=new _n(this.ctx),this.ctx.grid=new vi(this.ctx),this.ctx.graphics=new Le(this.ctx),this.ctx.coreUtils=new Vt(this.ctx),this.ctx.crosshairs=new Ke(this.ctx),this.ctx.events=new xe(this.ctx),this.ctx.exports=new At(this.ctx),this.ctx.localization=new ye(this.ctx),this.ctx.options=new jn,this.ctx.responsive=new gt(this.ctx),this.ctx.series=new lt(this.ctx),this.ctx.theme=new ht(this.ctx),this.ctx.formatters=new $r(this.ctx),this.ctx.titleSubtitle=new Ai(this.ctx),this.ctx.legend=new Xi(this.ctx),this.ctx.toolbar=new sr(this.ctx),this.ctx.tooltip=new No(this.ctx),this.ctx.dimensions=new yr(this.ctx),this.ctx.updateHelpers=new rl(this.ctx),this.ctx.zoomPanSelection=new On(this.ctx),this.ctx.w.globals.tooltip=new No(this.ctx)}}]),B}(),ve=function(){function B(a){Ue(this,B),this.ctx=a,this.w=a.w}return ot(B,[{key:"clear",value:function(a){var l=a.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:l})}},{key:"killSVG",value:function(a){a.each(function(l,d){this.removeClass("*"),this.off(),this.stop()},!0),a.ungroup(),a.clear()}},{key:"clearDomElements",value:function(a){var l=this,h=this.w.globals.dom.Paper.node;h.parentNode&&h.parentNode.parentNode&&!a.isUpdating&&(h.parentNode.parentNode.style.minHeight="unset");var p=this.w.globals.dom.baseEl;p&&this.ctx.eventList.forEach(function(m){p.removeEventListener(m,l.ctx.events.documentEvent)});var g=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(g.Paper),g.Paper.remove(),g.elWrap=null,g.elGraphical=null,g.elLegendWrap=null,g.elLegendForeign=null,g.baseEl=null,g.elGridRect=null,g.elGridRectMask=null,g.elGridRectMarkerMask=null,g.elForecastMask=null,g.elNonForecastMask=null,g.elDefs=null}}]),B}(),it=new WeakMap,Lt=function(){function B(a,l){Ue(this,B),this.opts=l,this.ctx=this,this.w=new Ne(l).init(),this.el=a,this.w.globals.cuid=he.randomId(),this.w.globals.chartID=this.w.config.chart.id?he.escapeString(this.w.config.chart.id):this.w.globals.cuid,new we(this).initModules(),this.create=he.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return ot(B,[{key:"render",value:function(){var a=this;return new Promise(function(l,d){if(null!==a.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),a.w.config.chart.id&&Apex._chartInstances.push({id:a.w.globals.chartID,group:a.w.config.chart.group,chart:a}),a.setLocale(a.w.config.chart.defaultLocale);var h=a.w.config.chart.events.beforeMount;if("function"==typeof h&&h(a,a.w),a.events.fireEvent("beforeMount",[a,a.w]),window.addEventListener("resize",a.windowResizeHandler),function(D,I){var M=!1;if(D.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var P=D.getBoundingClientRect();"none"!==D.style.display&&0!==P.width||(M=!0)}var O=new ResizeObserver(function(F){M&&I.call(D,F),M=!0});D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(D.children).forEach(function(F){return O.observe(F)}):O.observe(D),it.set(I,O)}(a.el.parentNode,a.parentResizeHandler),!a.css){var p=a.el.getRootNode&&a.el.getRootNode(),g=he.is("ShadowRoot",p),m=a.el.ownerDocument,b=m.getElementById("apexcharts-css");!g&&b||(a.css=document.createElement("style"),a.css.id="apexcharts-css",a.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n\n.apexcharts-bar-goals-markers{\n  pointer-events: none\n}\n\n.apexcharts-bar-shadows{\n  pointer-events: none\n}\n\n.apexcharts-rangebar-goals-markers{\n  pointer-events: none\n}',g?p.prepend(a.css):m.head.appendChild(a.css))}var w=a.create(a.w.config.series,{});if(!w)return l(a);a.mount(w).then(function(){"function"==typeof a.w.config.chart.events.mounted&&a.w.config.chart.events.mounted(a,a.w),a.events.fireEvent("mounted",[a,a.w]),l(w)}).catch(function(D){d(D)})}else d(new Error("Element not found"))})}},{key:"create",value:function(a,l){var d=this.w;new we(this).initModules();var h=this.w.globals;if(h.noData=!1,h.animationEnded=!1,this.responsive.checkResponsiveConfig(l),d.config.xaxis.convertedCatToNumeric&&new us(d.config).convertCatToNumericXaxis(d.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===d.config.chart.type&&(d.config.grid.show=!1,d.config.yaxis[0].show=!1),0===h.svgWidth))return h.animationEnded=!0,null;var p=Vt.checkComboSeries(a);h.comboCharts=p.comboCharts,h.comboBarCount=p.comboBarCount;var g=a.every(function(D){return D.data&&0===D.data.length});(0===a.length||g)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new ze(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),h.noData&&h.collapsedSeries.length!==h.series.length&&!d.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),h.axisCharts&&(this.core.coreCalculations(),"category"!==d.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=d.globals.minX,this.ctx.toolbar.maxX=d.globals.maxX),this.formatters.heatmapLabelFormatters(),new Vt(this).getLargestMarkerSize(),this.dimensions.plotCoords();var m=this.core.xySettings();this.grid.createGridMask();var b=this.core.plotChartType(a,m),w=new ke(this);return w.bringForward(),d.config.dataLabels.background.enabled&&w.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:b,xyRatios:m,dimensions:{plot:{left:d.globals.translateX,top:d.globals.translateY,width:d.globals.gridWidth,height:d.globals.gridHeight}}}}},{key:"mount",value:function(){var a=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,d=this,h=d.w;return new Promise(function(p,g){if(null===d.el)return g(new Error("Not enough data to display or target element not found"));(null===l||h.globals.allSeriesCollapsed)&&d.series.handleNoData(),d.grid=new vi(d);var m,b,w=d.grid.drawGrid();if(d.annotations=new _i(d),d.annotations.drawImageAnnos(),d.annotations.drawTextAnnos(),"back"===h.config.grid.position&&(w&&h.globals.dom.elGraphical.add(w.el),null!=w&&null!==(m=w.elGridBorders)&&void 0!==m&&m.node&&h.globals.dom.elGraphical.add(w.elGridBorders)),Array.isArray(l.elGraph))for(var D=0;D<l.elGraph.length;D++)h.globals.dom.elGraphical.add(l.elGraph[D]);else h.globals.dom.elGraphical.add(l.elGraph);"front"===h.config.grid.position&&(w&&h.globals.dom.elGraphical.add(w.el),null!=w&&null!==(b=w.elGridBorders)&&void 0!==b&&b.node&&h.globals.dom.elGraphical.add(w.elGridBorders)),"front"===h.config.xaxis.crosshairs.position&&d.crosshairs.drawXCrosshairs(),"front"===h.config.yaxis[0].crosshairs.position&&d.crosshairs.drawYCrosshairs(),"treemap"!==h.config.chart.type&&d.axes.drawAxis(h.config.chart.type,w);var I=new vn(a.ctx,w),M=new Si(a.ctx,w);if(null!==w&&(I.xAxisLabelCorrections(w.xAxisTickWidth),M.setYAxisTextAlignments(),h.config.yaxis.map(function(O,F){-1===h.globals.ignoreYAxisIndexes.indexOf(F)&&M.yAxisTitleRotate(F,O.opposite)})),d.annotations.drawAxesAnnotations(),!h.globals.noData){if(h.config.tooltip.enabled&&!h.globals.noData&&d.w.globals.tooltip.drawTooltip(l.xyRatios),h.globals.axisCharts&&(h.globals.isXNumeric||h.config.xaxis.convertedCatToNumeric||h.globals.isRangeBar))(h.config.chart.zoom.enabled||h.config.chart.selection&&h.config.chart.selection.enabled||h.config.chart.pan&&h.config.chart.pan.enabled)&&d.zoomPanSelection.init({xyRatios:l.xyRatios});else{var P=h.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(O){P[O]=!1})}h.config.chart.toolbar.show&&!h.globals.allSeriesCollapsed&&d.toolbar.createToolbar()}h.globals.memory.methodsToExec.length>0&&h.globals.memory.methodsToExec.forEach(function(O){O.method(O.params,!1,O.context)}),h.globals.axisCharts||h.globals.noData||d.core.resizeNonAxisCharts(),p(d)})}},{key:"destroy",value:function(){var a,l;window.removeEventListener("resize",this.windowResizeHandler),(l=it.get(a=this.parentResizeHandler))&&(l.disconnect(),it.delete(a));var d=this.w.config.chart.id;d&&Apex._chartInstances.forEach(function(h,p){h.id===he.escapeString(d)&&Apex._chartInstances.splice(p,1)}),new ve(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(a){var l=this,d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],g=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],m=this.w;return m.globals.selection=void 0,a.series&&(this.series.resetSeries(!1,!0,!1),a.series.length&&a.series[0].data&&(a.series=a.series.map(function(b,w){return l.updateHelpers._extendSeries(b,w)})),this.updateHelpers.revertDefaultAxisMinMax()),a.xaxis&&(a=this.updateHelpers.forceXAxisUpdate(a)),a.yaxis&&(a=this.updateHelpers.forceYAxisUpdate(a)),m.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),a.theme&&(a=this.theme.updateThemeOptions(a)),this.updateHelpers._updateOptions(a,d,h,p,g)}},{key:"updateSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,l,d)}},{key:"appendSeries",value:function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],h=this.w.config.series.slice();return h.push(a),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(h,l,d)}},{key:"appendData",value:function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=this;d.w.globals.dataChanged=!0,d.series.getPreviousPaths();for(var h=d.w.config.series.slice(),p=0;p<h.length;p++)if(null!=a[p])for(var g=0;g<a[p].data.length;g++)h[p].data.push(a[p].data[g]);return d.w.config.series=h,l&&(d.w.globals.initialSeries=he.clone(d.w.config.series)),this.update()}},{key:"update",value:function(a){var l=this;return new Promise(function(d,h){new ve(l.ctx).clear({isUpdating:!0});var p=l.create(l.w.config.series,a);if(!p)return d(l);l.mount(p).then(function(){"function"==typeof l.w.config.chart.events.updated&&l.w.config.chart.events.updated(l,l.w),l.events.fireEvent("updated",[l,l.w]),l.w.globals.isDirty=!0,d(l)}).catch(function(g){h(g)})})}},{key:"getSyncedCharts",value:function(){var a=this.getGroupedCharts(),l=[this];return a.length&&(l=[],a.forEach(function(d){l.push(d)})),l}},{key:"getGroupedCharts",value:function(){var a=this;return Apex._chartInstances.filter(function(l){if(l.group)return!0}).map(function(l){return a.w.config.chart.group===l.group?l.chart:a})}},{key:"toggleSeries",value:function(a){return this.series.toggleSeries(a)}},{key:"highlightSeriesOnLegendHover",value:function(a,l){return this.series.toggleSeriesOnHover(a,l)}},{key:"showSeries",value:function(a){this.series.showSeries(a)}},{key:"hideSeries",value:function(a){this.series.hideSeries(a)}},{key:"isSeriesHidden",value:function(a){this.series.isSeriesHidden(a)}},{key:"resetSeries",value:function(){this.series.resetSeries(!(arguments.length>0&&void 0!==arguments[0])||arguments[0],!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"addEventListener",value:function(a,l){this.events.addEventListener(a,l)}},{key:"removeEventListener",value:function(a,l){this.events.removeEventListener(a,l)}},{key:"addXaxisAnnotation",value:function(a){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=this;d&&(h=d),h.annotations.addXaxisAnnotationExternal(a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h)}},{key:"addYaxisAnnotation",value:function(a){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=this;d&&(h=d),h.annotations.addYaxisAnnotationExternal(a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h)}},{key:"addPointAnnotation",value:function(a){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=this;d&&(h=d),h.annotations.addPointAnnotationExternal(a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h)}},{key:"clearAnnotations",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,l=this;a&&(l=a),l.annotations.clearAnnotations(l)}},{key:"removeAnnotation",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=this;l&&(d=l),d.annotations.removeAnnotation(d,a)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(a,l){return this.coreUtils.getSeriesTotalsXRange(a,l)}},{key:"getHighestValueInSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new qi(this.ctx).getMinYMaxY(a).highestY}},{key:"getLowestValueInSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new qi(this.ctx).getMinYMaxY(a).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(a,l){return this.updateHelpers.toggleDataPointSelection(a,l)}},{key:"zoomX",value:function(a,l){this.ctx.toolbar.zoomUpdateOptions(a,l)}},{key:"setLocale",value:function(a){this.localization.setCurrentLocaleValues(a)}},{key:"dataURI",value:function(a){return new At(this.ctx).dataURI(a)}},{key:"exportToCSV",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new At(this.ctx).exportToCSV(a)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var a=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){a.w.globals.resized=!0,a.w.globals.dataChanged=!1,a.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var a=this.w.config.chart.redrawOnWindowResize;"function"==typeof a&&(a=a()),a&&this._windowResize()}}],[{key:"getChartByID",value:function(a){var l=he.escapeString(a);if(Apex._chartInstances){var d=Apex._chartInstances.filter(function(h){return h.id===l})[0];return d&&d.chart}}},{key:"initOnLoad",value:function(){for(var a=document.querySelectorAll("[data-apexcharts]"),l=0;l<a.length;l++)new B(a[l],JSON.parse(a[l].getAttribute("data-options"))).render()}},{key:"exec",value:function(a,l){var d=this.getChartByID(a);if(d){d.w.globals.isExecCalled=!0;var h=null;if(-1!==d.publicMethods.indexOf(l)){for(var p=arguments.length,g=new Array(p>2?p-2:0),m=2;m<p;m++)g[m-2]=arguments[m];h=d[l].apply(d,g)}return h}}},{key:"merge",value:function(a,l){return he.extend(a,l)}}]),B}();ts.exports=Lt},963:(ts,Yi,en)=>{en.d(Yi,{BH:()=>Un,DV:()=>ye,Dv:()=>Gn,G6:()=>Sr,GJ:()=>Si,L:()=>cn,LL:()=>ke,Pz:()=>Vt,Sg:()=>Gr,UG:()=>qe,UI:()=>Ke,US:()=>mi,Wj:()=>ns,Wl:()=>At,Yr:()=>us,ZB:()=>Tt,ZR:()=>Qe,aH:()=>Le,b$:()=>mn,cI:()=>Je,dS:()=>ta,eu:()=>Ne,g5:()=>me,gK:()=>oi,gQ:()=>Li,h$:()=>hi,hl:()=>Se,hu:()=>Bt,jU:()=>jn,lb:()=>Yr,m9:()=>il,ne:()=>yr,p$:()=>st,pd:()=>Fi,r3:()=>xe,ru:()=>_i,tV:()=>Ye,uI:()=>rr,ug:()=>No,vZ:()=>gt,w1:()=>ds,w9:()=>qi,xO:()=>Wn,xb:()=>Re,z$:()=>an,zd:()=>yn});const J={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Bt=function(fe,ae){if(!fe)throw me(ae)},me=function(fe){return new Error("Firebase Database ("+J.SDK_VERSION+") INTERNAL ASSERT FAILED: "+fe)},Mt=function(fe){const ae=[];let de=0;for(let Fe=0;Fe<fe.length;Fe++){let be=fe.charCodeAt(Fe);be<128?ae[de++]=be:be<2048?(ae[de++]=be>>6|192,ae[de++]=63&be|128):55296==(64512&be)&&Fe+1<fe.length&&56320==(64512&fe.charCodeAt(Fe+1))?(be=65536+((1023&be)<<10)+(1023&fe.charCodeAt(++Fe)),ae[de++]=be>>18|240,ae[de++]=be>>12&63|128,ae[de++]=be>>6&63|128,ae[de++]=63&be|128):(ae[de++]=be>>12|224,ae[de++]=be>>6&63|128,ae[de++]=63&be|128)}return ae},mi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,ae){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const de=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,Fe=[];for(let be=0;be<fe.length;be+=3){const Pe=fe[be],Ht=be+1<fe.length,Sn=Ht?fe[be+1]:0,tn=be+2<fe.length,ni=tn?fe[be+2]:0;let br=(15&Sn)<<2|ni>>6,fi=63&ni;tn||(fi=64,Ht||(br=64)),Fe.push(de[Pe>>2],de[(3&Pe)<<4|Sn>>4],de[br],de[fi])}return Fe.join("")},encodeString(fe,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(fe):this.encodeByteArray(Mt(fe),ae)},decodeString(fe,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(fe):function(fe){const ae=[];let de=0,Fe=0;for(;de<fe.length;){const be=fe[de++];if(be<128)ae[Fe++]=String.fromCharCode(be);else if(be>191&&be<224){const Pe=fe[de++];ae[Fe++]=String.fromCharCode((31&be)<<6|63&Pe)}else if(be>239&&be<365){const tn=((7&be)<<18|(63&fe[de++])<<12|(63&fe[de++])<<6|63&fe[de++])-65536;ae[Fe++]=String.fromCharCode(55296+(tn>>10)),ae[Fe++]=String.fromCharCode(56320+(1023&tn))}else{const Pe=fe[de++],Ht=fe[de++];ae[Fe++]=String.fromCharCode((15&be)<<12|(63&Pe)<<6|63&Ht)}}return ae.join("")}(this.decodeStringToByteArray(fe,ae))},decodeStringToByteArray(fe,ae){this.init_();const de=ae?this.charToByteMapWebSafe_:this.charToByteMap_,Fe=[];for(let be=0;be<fe.length;){const Pe=de[fe.charAt(be++)],Sn=be<fe.length?de[fe.charAt(be)]:0;++be;const ni=be<fe.length?de[fe.charAt(be)]:64;++be;const Nt=be<fe.length?de[fe.charAt(be)]:64;if(++be,null==Pe||null==Sn||null==ni||null==Nt)throw new ot;Fe.push(Pe<<2|Sn>>4),64!==ni&&(Fe.push(Sn<<4&240|ni>>2),64!==Nt&&Fe.push(ni<<6&192|Nt))}return Fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class ot extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hi=function(fe){const ae=Mt(fe);return mi.encodeByteArray(ae,!0)},cn=function(fe){return hi(fe).replace(/\./g,"")},Ye=function(fe){try{return mi.decodeString(fe,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function st(fe){return Tt(void 0,fe)}function Tt(fe,ae){if(!(ae instanceof Object))return ae;switch(ae.constructor){case Date:return new Date(ae.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return ae}for(const de in ae)!ae.hasOwnProperty(de)||!on(de)||(fe[de]=Tt(fe[de],ae[de]));return fe}function on(fe){return"__proto__"!==fe}const he=()=>{try{return function In(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ae=fe&&Ye(fe[1]);return ae&&JSON.parse(ae)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},Le=()=>{var fe;return null===(fe=he())||void 0===fe?void 0:fe.config},Vt=fe=>{var ae;return null===(ae=he())||void 0===ae?void 0:ae[`_${fe}`]};class Un{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,de)=>{this.resolve=ae,this.reject=de})}wrapCallback(ae){return(de,Fe)=>{de?this.reject(de):this.resolve(Fe),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(de):ae(de,Fe))}}}function Gr(fe,ae){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Fe=ae||"demo-project",be=fe.iat||0,Pe=fe.sub||fe.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ht=Object.assign({iss:`https://securetoken.google.com/${Fe}`,aud:Fe,iat:be,exp:be+3600,auth_time:be,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[cn(JSON.stringify({alg:"none",type:"JWT"})),cn(JSON.stringify(Ht)),""].join(".")}function an(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rr(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function qe(){var fe;const ae=null===(fe=he())||void 0===fe?void 0:fe.forceEnvironment;if("node"===ae)return!0;if("browser"===ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function jn(){return"object"==typeof self&&self.self===self}function _i(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function mn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ds(){const fe=an();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function us(){return!0===J.NODE_CLIENT||!0===J.NODE_ADMIN}function Sr(){return!qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((fe,ae)=>{try{let de=!0;const Fe="validate-browser-context-for-indexeddb-analytics-module",be=self.indexedDB.open(Fe);be.onsuccess=()=>{be.result.close(),de||self.indexedDB.deleteDatabase(Fe),fe(!0)},be.onupgradeneeded=()=>{de=!1},be.onerror=()=>{var Pe;ae((null===(Pe=be.error)||void 0===Pe?void 0:Pe.message)||"")}}catch(de){ae(de)}})}class Qe extends Error{constructor(ae,de,Fe){super(de),this.code=ae,this.customData=Fe,this.name="FirebaseError",Object.setPrototypeOf(this,Qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(ae,de,Fe){this.service=ae,this.serviceName=de,this.errors=Fe}create(ae,...de){const Fe=de[0]||{},be=`${this.service}/${ae}`,Pe=this.errors[ae],Ht=Pe?function lt(fe,ae){return fe.replace(_n,(de,Fe)=>{const be=ae[Fe];return null!=be?String(be):`<${Fe}?>`})}(Pe,Fe):"Error";return new Qe(be,`${this.serviceName}: ${Ht} (${be}).`,Fe)}}const _n=/\{\$([^}]+)}/g;function Je(fe){return JSON.parse(fe)}function At(fe){return JSON.stringify(fe)}const vn=function(fe){let ae={},de={},Fe={},be="";try{const Pe=fe.split(".");ae=Je(Ye(Pe[0])||""),de=Je(Ye(Pe[1])||""),be=Pe[2],Fe=de.d||{},delete de.d}catch{}return{header:ae,claims:de,data:Fe,signature:be}},qi=function(fe){const de=vn(fe).claims;return!!de&&"object"==typeof de&&de.hasOwnProperty("iat")},Si=function(fe){const ae=vn(fe).claims;return"object"==typeof ae&&!0===ae.admin};function xe(fe,ae){return Object.prototype.hasOwnProperty.call(fe,ae)}function ye(fe,ae){if(Object.prototype.hasOwnProperty.call(fe,ae))return fe[ae]}function Re(fe){for(const ae in fe)if(Object.prototype.hasOwnProperty.call(fe,ae))return!1;return!0}function Ke(fe,ae,de){const Fe={};for(const be in fe)Object.prototype.hasOwnProperty.call(fe,be)&&(Fe[be]=ae.call(de,fe[be],be,fe));return Fe}function gt(fe,ae){if(fe===ae)return!0;const de=Object.keys(fe),Fe=Object.keys(ae);for(const be of de){if(!Fe.includes(be))return!1;const Pe=fe[be],Ht=ae[be];if(ht(Pe)&&ht(Ht)){if(!gt(Pe,Ht))return!1}else if(Pe!==Ht)return!1}for(const be of Fe)if(!de.includes(be))return!1;return!0}function ht(fe){return null!==fe&&"object"==typeof fe}function Wn(fe){const ae=[];for(const[de,Fe]of Object.entries(fe))Array.isArray(Fe)?Fe.forEach(be=>{ae.push(encodeURIComponent(de)+"="+encodeURIComponent(be))}):ae.push(encodeURIComponent(de)+"="+encodeURIComponent(Fe));return ae.length?"&"+ae.join("&"):""}function yn(fe){const ae={};return fe.replace(/^\?/,"").split("&").forEach(Fe=>{if(Fe){const[be,Pe]=Fe.split("=");ae[decodeURIComponent(be)]=decodeURIComponent(Pe)}}),ae}function Fi(fe){const ae=fe.indexOf("?");if(!ae)return"";const de=fe.indexOf("#",ae);return fe.substring(ae,de>0?de:void 0)}class Li{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ae=1;ae<this.blockSize;++ae)this.pad_[ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ae,de){de||(de=0);const Fe=this.W_;if("string"==typeof ae)for(let Nt=0;Nt<16;Nt++)Fe[Nt]=ae.charCodeAt(de)<<24|ae.charCodeAt(de+1)<<16|ae.charCodeAt(de+2)<<8|ae.charCodeAt(de+3),de+=4;else for(let Nt=0;Nt<16;Nt++)Fe[Nt]=ae[de]<<24|ae[de+1]<<16|ae[de+2]<<8|ae[de+3],de+=4;for(let Nt=16;Nt<80;Nt++){const br=Fe[Nt-3]^Fe[Nt-8]^Fe[Nt-14]^Fe[Nt-16];Fe[Nt]=4294967295&(br<<1|br>>>31)}let ni,hs,be=this.chain_[0],Pe=this.chain_[1],Ht=this.chain_[2],Sn=this.chain_[3],tn=this.chain_[4];for(let Nt=0;Nt<80;Nt++){Nt<40?Nt<20?(ni=Sn^Pe&(Ht^Sn),hs=1518500249):(ni=Pe^Ht^Sn,hs=1859775393):Nt<60?(ni=Pe&Ht|Sn&(Pe|Ht),hs=2400959708):(ni=Pe^Ht^Sn,hs=3395469782);const br=(be<<5|be>>>27)+ni+tn+hs+Fe[Nt]&4294967295;tn=Sn,Sn=Ht,Ht=4294967295&(Pe<<30|Pe>>>2),Pe=be,be=br}this.chain_[0]=this.chain_[0]+be&4294967295,this.chain_[1]=this.chain_[1]+Pe&4294967295,this.chain_[2]=this.chain_[2]+Ht&4294967295,this.chain_[3]=this.chain_[3]+Sn&4294967295,this.chain_[4]=this.chain_[4]+tn&4294967295}update(ae,de){if(null==ae)return;void 0===de&&(de=ae.length);const Fe=de-this.blockSize;let be=0;const Pe=this.buf_;let Ht=this.inbuf_;for(;be<de;){if(0===Ht)for(;be<=Fe;)this.compress_(ae,be),be+=this.blockSize;if("string"==typeof ae){for(;be<de;)if(Pe[Ht]=ae.charCodeAt(be),++Ht,++be,Ht===this.blockSize){this.compress_(Pe),Ht=0;break}}else for(;be<de;)if(Pe[Ht]=ae[be],++Ht,++be,Ht===this.blockSize){this.compress_(Pe),Ht=0;break}}this.inbuf_=Ht,this.total_+=de}digest(){const ae=[];let de=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let be=this.blockSize-1;be>=56;be--)this.buf_[be]=255&de,de/=256;this.compress_(this.buf_);let Fe=0;for(let be=0;be<5;be++)for(let Pe=24;Pe>=0;Pe-=8)ae[Fe]=this.chain_[be]>>Pe&255,++Fe;return ae}}function yr(fe,ae){const de=new Ds(fe,ae);return de.subscribe.bind(de)}class Ds{constructor(ae,de){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=de,this.task.then(()=>{ae(this)}).catch(Fe=>{this.error(Fe)})}next(ae){this.forEachObserver(de=>{de.next(ae)})}error(ae){this.forEachObserver(de=>{de.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,de,Fe){let be;if(void 0===ae&&void 0===de&&void 0===Fe)throw new Error("Missing Observer.");be=function sr(fe,ae){if("object"!=typeof fe||null===fe)return!1;for(const de of ae)if(de in fe&&"function"==typeof fe[de])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:de,complete:Fe},void 0===be.next&&(be.next=On),void 0===be.error&&(be.error=On),void 0===be.complete&&(be.complete=On);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?be.error(this.finalError):be.complete()}catch{}}),this.observers.push(be),Pe}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let de=0;de<this.observers.length;de++)this.sendOne(de,ae)}sendOne(ae,de){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{de(this.observers[ae])}catch(Fe){typeof console<"u"&&console.error&&console.error(Fe)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}const Gn=function(fe,ae,de,Fe){let be;if(Fe<ae?be="at least "+ae:Fe>de&&(be=0===de?"none":"no more than "+de),be)throw new Error(fe+" failed: Was called with "+Fe+(1===Fe?" argument.":" arguments.")+" Expects "+be+".")};function oi(fe,ae){return`${fe} failed: ${ae} argument `}function ns(fe,ae,de,Fe){if((!Fe||de)&&"function"!=typeof de)throw new Error(oi(fe,ae)+"must be a valid function.")}function Yr(fe,ae,de,Fe){if((!Fe||de)&&("object"!=typeof de||null===de))throw new Error(oi(fe,ae)+"must be a valid context object.")}const ta=function(fe){const ae=[];let de=0;for(let Fe=0;Fe<fe.length;Fe++){let be=fe.charCodeAt(Fe);if(be>=55296&&be<=56319){const Pe=be-55296;Fe++,Bt(Fe<fe.length,"Surrogate pair missing trail surrogate."),be=65536+(Pe<<10)+(fe.charCodeAt(Fe)-56320)}be<128?ae[de++]=be:be<2048?(ae[de++]=be>>6|192,ae[de++]=63&be|128):be<65536?(ae[de++]=be>>12|224,ae[de++]=be>>6&63|128,ae[de++]=63&be|128):(ae[de++]=be>>18|240,ae[de++]=be>>12&63|128,ae[de++]=be>>6&63|128,ae[de++]=63&be|128)}return ae},No=function(fe){let ae=0;for(let de=0;de<fe.length;de++){const Fe=fe.charCodeAt(de);Fe<128?ae++:Fe<2048?ae+=2:Fe>=55296&&Fe<=56319?(ae+=4,de++):ae+=3}return ae};function il(fe){return fe&&fe._delegate?fe._delegate:fe}},614:()=>{const ts=":";const Pn=function(xe,...ye){if(Pn.translate){const Ke=Pn.translate(xe,ye);xe=Ke[0],ye=Ke[1]}let Re=Si(xe[0],xe.raw[0]);for(let Ke=1;Ke<xe.length;Ke++)Re+=ye[Ke-1]+Si(xe[Ke],xe.raw[Ke]);return Re},qi=":";function Si(xe,ye){return ye.charAt(0)===qi?xe.substring(function Ne(xe,ye){for(let Re=1,Ke=1;Re<xe.length;Re++,Ke++)if("\\"===ye[Ke])Ke++;else if(xe[Re]===ts)return Re;throw new Error(`Unterminated $localize metadata block in "${ye}".`)}(xe,ye)+1):xe}globalThis.$localize=Pn},466:(ts,Yi,en)=>{en.r(Yi);var J=en(861),Bt=en(168),me=en(963),Mt=en(211),Ue=en(383),mi=en(582),ot=en(427);const cn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const En=function on(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Rn=function In(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Kt=new me.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ci=new Ue.Yd("@firebase/auth");function Le(E,...v){Ci.logLevel<=Ue.in.ERROR&&Ci.error(`Auth (${Mt.SDK_VERSION}): ${E}`,...v)}function Vt(E,...v){throw rr(E,...v)}function Un(E,...v){return rr(E,...v)}function Gr(E,v,y){const T=Object.assign(Object.assign({},Rn()),{[v]:y});return new me.LL("auth","Firebase",T).create(v,{appName:E.name})}function an(E,v,y){if(!(v instanceof y))throw y.name!==v.constructor.name&&Vt(E,"argument-error"),Gr(E,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rr(E,...v){if("string"!=typeof E){const y=v[0],T=[...v.slice(1)];return T[0]&&(T[0].appName=E.name),E._errorFactory.create(y,...T)}return Kt.create(E,...v)}function qe(E,v,...y){if(!E)throw rr(v,...y)}function jn(E){const v="INTERNAL ASSERTION FAILED: "+E;throw Le(v),new Error(v)}function _i(E,v){E||jn(v)}function mn(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function $r(){return"http:"===ds()||"https:"===ds()}function ds(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Sr{constructor(v,y){this.shortDelay=v,this.longDelay=y,_i(y>v,"Short delay should be less than long delay!"),this.isMobile=(0,me.uI)()||(0,me.b$)()}get(){return function zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($r()||(0,me.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Se(E,v){_i(E.emulator,"Emulator should always be set here");const{url:y}=E.emulator;return v?`${y}${v.startsWith("/")?v.slice(1):v}`:y}class Ne{static initialize(v,y,T){this.fetchImpl=v,y&&(this.headersImpl=y),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ze=new Sr(3e4,6e4);function Qe(E,v){return E.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:E.tenantId}):v}function ke(E,v,y,T){return lt.apply(this,arguments)}function lt(){return(lt=(0,J.Z)(function*(E,v,y,T,V={}){return _n(E,V,(0,J.Z)(function*(){let G={},le={};T&&("GET"===v?le=T:G={body:JSON.stringify(T)});const Ce=(0,me.xO)(Object.assign({key:E.config.apiKey},le)).slice(1),Ge=yield E._getAdditionalHeaders();return Ge["Content-Type"]="application/json",E.languageCode&&(Ge["X-Firebase-Locale"]=E.languageCode),Ne.fetch()(vi(E,E.config.apiHost,y,Ce),Object.assign({method:v,headers:Ge,referrerPolicy:"no-referrer"},G))}))})).apply(this,arguments)}function _n(E,v,y){return Je.apply(this,arguments)}function Je(){return(Je=(0,J.Z)(function*(E,v,y){E._canInitEmulator=!1;const T=Object.assign(Object.assign({},_e),v);try{const V=new qi(E),G=yield Promise.race([y(),V.promise]);V.clearNetworkTimeout();const le=yield G.json();if("needConfirmation"in le)throw Si(E,"account-exists-with-different-credential",le);if(G.ok&&!("errorMessage"in le))return le;{const Ce=G.ok?le.errorMessage:le.error.message,[Ge,_t]=Ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw Si(E,"credential-already-in-use",le);if("EMAIL_EXISTS"===Ge)throw Si(E,"email-already-in-use",le);if("USER_DISABLED"===Ge)throw Si(E,"user-disabled",le);const Ot=T[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(_t)throw Gr(E,Ot,_t);Vt(E,Ot)}}catch(V){if(V instanceof me.ZR)throw V;Vt(E,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function At(E,v,y,T){return vn.apply(this,arguments)}function vn(){return(vn=(0,J.Z)(function*(E,v,y,T,V={}){const G=yield ke(E,v,y,T,V);return"mfaPendingCredential"in G&&Vt(E,"multi-factor-auth-required",{_serverResponse:G}),G})).apply(this,arguments)}function vi(E,v,y,T){const V=`${v}${y}?${T}`;return E.config.emulator?Se(E.config,V):`${E.config.apiScheme}://${V}`}function Pn(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qi{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((y,T)=>{this.timer=setTimeout(()=>T(Un(this.auth,"network-request-failed")),ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Si(E,v,y){const T={appName:E.name};y.email&&(T.email=y.email),y.phoneNumber&&(T.phoneNumber=y.phoneNumber);const V=Un(E,v,T);return V.customData._tokenResponse=y,V}function xe(E){return void 0!==E&&void 0!==E.getResponse}function ye(E){return void 0!==E&&void 0!==E.enterprise}class Re{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const y of this.recaptchaEnforcementState)if(y.provider&&y.provider===v)return Pn(y.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}}function gt(){return(gt=(0,J.Z)(function*(E){return(yield ke(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ht(E,v){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,J.Z)(function*(E,v){return ke(E,"GET","/v2/recaptchaConfig",Qe(E,v))})).apply(this,arguments)}function yn(){return(yn=(0,J.Z)(function*(E,v){return ke(E,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Li(){return(Li=(0,J.Z)(function*(E,v){return ke(E,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Ds(){return(Ds=(0,J.Z)(function*(E,v){return ke(E,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Xi(E){if(E)try{const v=new Date(Number(E));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function Gn(){return(Gn=(0,J.Z)(function*(E,v=!1){const y=(0,me.m9)(E),T=yield y.getIdToken(v),V=ea(T);qe(V&&V.exp&&V.auth_time&&V.iat,y.auth,"internal-error");const G="object"==typeof V.firebase?V.firebase:void 0,le=G?.sign_in_provider;return{claims:V,token:T,authTime:Xi(oi(V.auth_time)),issuedAtTime:Xi(oi(V.iat)),expirationTime:Xi(oi(V.exp)),signInProvider:le||null,signInSecondFactor:G?.sign_in_second_factor||null}})).apply(this,arguments)}function oi(E){return 1e3*Number(E)}function ea(E){const[v,y,T]=E.split(".");if(void 0===v||void 0===y||void 0===T)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,me.tV)(y);return V?JSON.parse(V):(Le("Failed to decode base64 JWT payload"),null)}catch(V){return Le("Caught error parsing JWT payload as JSON",V?.toString()),null}}function Yr(E,v){return ta.apply(this,arguments)}function ta(){return(ta=(0,J.Z)(function*(E,v,y=!1){if(y)return v;try{return yield v}catch(T){throw T instanceof me.ZR&&function No({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(T)&&E.auth.currentUser===E&&(yield E.auth.signOut()),T}})).apply(this,arguments)}class Aa{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var y;if(v){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const V=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(v=!1){var y=this;if(!this.isRunning)return;const T=this.getInterval(v);this.timerId=setTimeout((0,J.Z)(function*(){yield y.iteration()}),T)}iteration(){var v=this;return(0,J.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&v.schedule(!0))}v.schedule()})()}}class Ll{constructor(v,y){this.createdAt=v,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xi(this.lastLoginAt),this.creationTime=Xi(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zi(E){return is.apply(this,arguments)}function is(){return is=(0,J.Z)(function*(E){var v;const y=E.auth,T=yield E.getIdToken(),V=yield Yr(E,function yr(E,v){return Ds.apply(this,arguments)}(y,{idToken:T}));qe(V?.users.length,y,"internal-error");const G=V.users[0];E._notifyReloadListener(G);const le=null!==(v=G.providerUserInfo)&&void 0!==v&&v.length?function Vl(E){return E.map(v=>{var{providerId:y}=v,T=(0,mi._T)(v,["providerId"]);return{providerId:y,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(G.providerUserInfo):[],Ce=function hd(E,v){return[...E.filter(T=>!v.some(V=>V.providerId===T.providerId)),...v]}(E.providerData,le),Ot=!!E.isAnonymous&&!(E.email&&G.passwordHash||Ce?.length),It={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:Ce,metadata:new Ll(G.createdAt,G.lastLoginAt),isAnonymous:Ot};Object.assign(E,It)}),is.apply(this,arguments)}function nl(){return(nl=(0,J.Z)(function*(E){const v=(0,me.m9)(E);yield Zi(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function fe(){return(fe=(0,J.Z)(function*(E,v){const y=yield _n(E,{},(0,J.Z)(function*(){const T=(0,me.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:V,apiKey:G}=E.config,le=vi(E,V,"/v1/token",`key=${G}`),Ce=yield E._getAdditionalHeaders();return Ce["Content-Type"]="application/x-www-form-urlencoded",Ne.fetch()(le,{method:"POST",headers:Ce,body:T})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class ae{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){qe(v.idToken,"internal-error"),qe(typeof v.idToken<"u","internal-error"),qe(typeof v.refreshToken<"u","internal-error");const y="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function ns(E){const v=ea(E);return qe(v,"internal-error"),qe(typeof v.exp<"u","internal-error"),qe(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,y)}getToken(v,y=!1){var T=this;return(0,J.Z)(function*(){return qe(!T.accessToken||T.refreshToken,v,"user-token-expired"),y||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(v,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,y){var T=this;return(0,J.Z)(function*(){const{accessToken:V,refreshToken:G,expiresIn:le}=yield function il(E,v){return fe.apply(this,arguments)}(v,y);T.updateTokensAndExpiration(V,G,Number(le))})()}updateTokensAndExpiration(v,y,T){this.refreshToken=y||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(v,y){const{refreshToken:T,accessToken:V,expirationTime:G}=y,le=new ae;return T&&(qe("string"==typeof T,"internal-error",{appName:v}),le.refreshToken=T),V&&(qe("string"==typeof V,"internal-error",{appName:v}),le.accessToken=V),G&&(qe("number"==typeof G,"internal-error",{appName:v}),le.expirationTime=G),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new ae,this.toJSON())}_performRefresh(){return jn("not implemented")}}function de(E,v){qe("string"==typeof E||typeof E>"u","internal-error",{appName:v})}class Fe{constructor(v){var{uid:y,auth:T,stsTokenManager:V}=v,G=(0,mi._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Aa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=T,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=G.displayName||null,this.email=G.email||null,this.emailVerified=G.emailVerified||!1,this.phoneNumber=G.phoneNumber||null,this.photoURL=G.photoURL||null,this.isAnonymous=G.isAnonymous||!1,this.tenantId=G.tenantId||null,this.providerData=G.providerData?[...G.providerData]:[],this.metadata=new Ll(G.createdAt||void 0,G.lastLoginAt||void 0)}getIdToken(v){var y=this;return(0,J.Z)(function*(){const T=yield Yr(y,y.stsTokenManager.getToken(y.auth,v));return qe(T,y.auth,"internal-error"),y.accessToken!==T&&(y.accessToken=T,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),T})()}getIdTokenResult(v){return function On(E){return Gn.apply(this,arguments)}(this,v)}reload(){return function Fo(E){return nl.apply(this,arguments)}(this)}_assign(v){this!==v&&(qe(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(y=>Object.assign({},y)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const y=new Fe(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(v){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,y=!1){var T=this;return(0,J.Z)(function*(){let V=!1;v.idToken&&v.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(v),V=!0),y&&(yield Zi(T)),yield T.auth._persistUserIfCurrent(T),V&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var v=this;return(0,J.Z)(function*(){const y=yield v.getIdToken();return yield Yr(v,function Wn(E,v){return yn.apply(this,arguments)}(v.auth,{idToken:y})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,y){var T,V,G,le,Ce,Ge,_t,Ot;const It=null!==(T=y.displayName)&&void 0!==T?T:void 0,Ei=null!==(V=y.email)&&void 0!==V?V:void 0,ca=null!==(G=y.phoneNumber)&&void 0!==G?G:void 0,yv=null!==(le=y.photoURL)&&void 0!==le?le:void 0,bv=null!==(Ce=y.tenantId)&&void 0!==Ce?Ce:void 0,xv=null!==(Ge=y._redirectEventId)&&void 0!==Ge?Ge:void 0,JT=null!==(_t=y.createdAt)&&void 0!==_t?_t:void 0,pw=null!==(Ot=y.lastLoginAt)&&void 0!==Ot?Ot:void 0,{uid:wv,emailVerified:gw,isAnonymous:Dh,providerData:Hp,stsTokenManager:mw}=y;qe(wv&&mw,v,"internal-error");const _w=ae.fromJSON(this.name,mw);qe("string"==typeof wv,v,"internal-error"),de(It,v.name),de(Ei,v.name),qe("boolean"==typeof gw,v,"internal-error"),qe("boolean"==typeof Dh,v,"internal-error"),de(ca,v.name),de(yv,v.name),de(bv,v.name),de(xv,v.name),de(JT,v.name),de(pw,v.name);const vw=new Fe({uid:wv,auth:v,email:Ei,emailVerified:gw,displayName:It,isAnonymous:Dh,photoURL:yv,phoneNumber:ca,tenantId:bv,stsTokenManager:_w,createdAt:JT,lastLoginAt:pw});return Hp&&Array.isArray(Hp)&&(vw.providerData=Hp.map(yw=>Object.assign({},yw))),xv&&(vw._redirectEventId=xv),vw}static _fromIdTokenResponse(v,y,T=!1){return(0,J.Z)(function*(){const V=new ae;V.updateFromServerResponse(y);const G=new Fe({uid:y.localId,auth:v,stsTokenManager:V,isAnonymous:T});return yield Zi(G),G})()}}const be=new Map;function Pe(E){_i(E instanceof Function,"Expected a class definition");let v=be.get(E);return v?(_i(v instanceof E,"Instance stored in cache mismatched with class"),v):(v=new E,be.set(E,v),v)}const Sn=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,J.Z)(function*(){return!0})()}_set(y,T){var V=this;return(0,J.Z)(function*(){V.storage[y]=T})()}_get(y){var T=this;return(0,J.Z)(function*(){const V=T.storage[y];return void 0===V?null:V})()}_remove(y){var T=this;return(0,J.Z)(function*(){delete T.storage[y]})()}_addListener(y,T){}_removeListener(y,T){}}return E.type="NONE",E})();function tn(E,v,y){return`firebase:${E}:${v}:${y}`}class ni{constructor(v,y,T){this.persistence=v,this.auth=y,this.userKey=T;const{config:V,name:G}=this.auth;this.fullUserKey=tn(this.userKey,V.apiKey,G),this.fullPersistenceKey=tn("persistence",V.apiKey,G),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,J.Z)(function*(){const y=yield v.persistence._get(v.fullUserKey);return y?Fe._fromJSON(v.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var y=this;return(0,J.Z)(function*(){if(y.persistence===v)return;const T=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=v,T?y.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,y,T="authUser"){return(0,J.Z)(function*(){if(!y.length)return new ni(Pe(Sn),v,T);const V=(yield Promise.all(y.map(function(){var _t=(0,J.Z)(function*(Ot){if(yield Ot._isAvailable())return Ot});return function(Ot){return _t.apply(this,arguments)}}()))).filter(_t=>_t);let G=V[0]||Pe(Sn);const le=tn(T,v.config.apiKey,v.name);let Ce=null;for(const _t of y)try{const Ot=yield _t._get(le);if(Ot){const It=Fe._fromJSON(v,Ot);_t!==G&&(Ce=It),G=_t;break}}catch{}const Ge=V.filter(_t=>_t._shouldAllowMigration);return G._shouldAllowMigration&&Ge.length?(G=Ge[0],Ce&&(yield G._set(le,Ce.toJSON())),yield Promise.all(y.map(function(){var _t=(0,J.Z)(function*(Ot){if(Ot!==G)try{yield Ot._remove(le)}catch{}});return function(Ot){return _t.apply(this,arguments)}}())),new ni(G,v,T)):new ni(G,v,T)})()}}function hs(E){const v=E.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(na(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Nt(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(we(v))return"Blackberry";if(ve(v))return"Webos";if(br(v))return"Safari";if((v.includes("chrome/")||fi(v))&&!v.includes("edge/"))return"Chrome";if(rl(v))return"Android";{const T=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function Nt(E=(0,me.z$)()){return/firefox\//i.test(E)}function br(E=(0,me.z$)()){const v=E.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function fi(E=(0,me.z$)()){return/crios\//i.test(E)}function na(E=(0,me.z$)()){return/iemobile/i.test(E)}function rl(E=(0,me.z$)()){return/android/i.test(E)}function we(E=(0,me.z$)()){return/blackberry/i.test(E)}function ve(E=(0,me.z$)()){return/webos/i.test(E)}function it(E=(0,me.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function l(E=(0,me.z$)()){return it(E)||rl(E)||ve(E)||we(E)||/windows phone/i.test(E)||na(E)}function h(E,v=[]){let y;switch(E){case"Browser":y=hs((0,me.z$)());break;case"Worker":y=`${hs((0,me.z$)())}-${E}`;break;default:y=E}const T=v.length?v.join(","):"FirebaseCore-web";return`${y}/JsCore/${Mt.SDK_VERSION}/${T}`}class p{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,y){const T=G=>new Promise((le,Ce)=>{try{le(v(G))}catch(Ge){Ce(Ge)}});T.onAbort=y,this.queue.push(T);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(v){var y=this;return(0,J.Z)(function*(){if(y.auth.currentUser===v)return;const T=[];try{for(const V of y.queue)yield V(v),V.onAbort&&T.push(V.onAbort)}catch(V){T.reverse();for(const G of T)try{G()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:V?.message})}})()}}function m(){return(m=(0,J.Z)(function*(E,v={}){return ke(E,"GET","/v2/passwordPolicy",Qe(E,v))})).apply(this,arguments)}class w{constructor(v){var y,T,V,G;const le=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=le.minPasswordLength)&&void 0!==y?y:6,le.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=le.maxPasswordLength),void 0!==le.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=le.containsLowercaseCharacter),void 0!==le.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=le.containsUppercaseCharacter),void 0!==le.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=le.containsNumericCharacter),void 0!==le.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=le.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(V=null===(T=v.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==V?V:"",this.forceUpgradeOnSignin=null!==(G=v.forceUpgradeOnSignin)&&void 0!==G&&G,this.schemaVersion=v.schemaVersion}validatePassword(v){var y,T,V,G,le,Ce;const Ge={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,Ge),this.validatePasswordCharacterOptions(v,Ge),Ge.isValid&&(Ge.isValid=null===(y=Ge.meetsMinPasswordLength)||void 0===y||y),Ge.isValid&&(Ge.isValid=null===(T=Ge.meetsMaxPasswordLength)||void 0===T||T),Ge.isValid&&(Ge.isValid=null===(V=Ge.containsLowercaseLetter)||void 0===V||V),Ge.isValid&&(Ge.isValid=null===(G=Ge.containsUppercaseLetter)||void 0===G||G),Ge.isValid&&(Ge.isValid=null===(le=Ge.containsNumericCharacter)||void 0===le||le),Ge.isValid&&(Ge.isValid=null===(Ce=Ge.containsNonAlphanumericCharacter)||void 0===Ce||Ce),Ge}validatePasswordLengthOptions(v,y){const T=this.customStrengthOptions.minPasswordLength,V=this.customStrengthOptions.maxPasswordLength;T&&(y.meetsMinPasswordLength=v.length>=T),V&&(y.meetsMaxPasswordLength=v.length<=V)}validatePasswordCharacterOptions(v,y){let T;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let V=0;V<v.length;V++)T=v.charAt(V),this.updatePasswordCharacterOptionsStatuses(y,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(v,y,T,V,G){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=V)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=G))}}class D{constructor(v,y,T,V){this.app=v,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=T,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M(this),this.idTokenSubscription=new M(this),this.beforeStateQueue=new p(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=V.sdkClientVersion}_initializeWithPersistence(v,y){var T=this;return y&&(this._popupRedirectResolver=Pe(y)),this._initializationPromise=this.queue((0,J.Z)(function*(){var V,G;if(!T._deleted&&(T.persistenceManager=yield ni.create(T,v),!T._deleted)){if(null!==(V=T._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(y),T.lastNotifiedUid=(null===(G=T.currentUser)||void 0===G?void 0:G.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,J.Z)(function*(){if(v._deleted)return;const y=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||y){if(v.currentUser&&y&&v.currentUser.uid===y.uid)return v._currentUser._assign(y),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(y,!0)}})()}initializeCurrentUser(v){var y=this;return(0,J.Z)(function*(){var T;const V=yield y.assertedPersistence.getCurrentUser();let G=V,le=!1;if(v&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Ce=null===(T=y.redirectUser)||void 0===T?void 0:T._redirectEventId,Ge=G?._redirectEventId,_t=yield y.tryRedirectSignIn(v);(!Ce||Ce===Ge)&&_t?.user&&(G=_t.user,le=!0)}if(!G)return y.directlySetCurrentUser(null);if(!G._redirectEventId){if(le)try{yield y.beforeStateQueue.runMiddleware(G)}catch(Ce){G=V,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Ce))}return G?y.reloadAndSetCurrentUserOrClear(G):y.directlySetCurrentUser(null)}return qe(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===G._redirectEventId?y.directlySetCurrentUser(G):y.reloadAndSetCurrentUserOrClear(G)})()}tryRedirectSignIn(v){var y=this;return(0,J.Z)(function*(){let T=null;try{T=yield y._popupRedirectResolver._completeRedirectFn(y,v,!0)}catch{yield y._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(v){var y=this;return(0,J.Z)(function*(){try{yield Zi(v)}catch(T){if("auth/network-request-failed"!==T?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function us(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var v=this;return(0,J.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var y=this;return(0,J.Z)(function*(){const T=v?(0,me.m9)(v):null;return T&&qe(T.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(T&&T._clone(y))})()}_updateCurrentUser(v,y=!1){var T=this;return(0,J.Z)(function*(){if(!T._deleted)return v&&qe(T.tenantId===v.tenantId,T,"tenant-id-mismatch"),y||(yield T.beforeStateQueue.runMiddleware(v)),T.queue((0,J.Z)(function*(){yield T.directlySetCurrentUser(v),T.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,J.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var y=this;return this.queue((0,J.Z)(function*(){yield y.assertedPersistence.setPersistence(Pe(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var y=this;return(0,J.Z)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const T=y._getPasswordPolicyInternal();return T.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,J.Z)(function*(){const y=yield function g(E){return m.apply(this,arguments)}(v),T=new w(y);null===v.tenantId?v._projectPasswordPolicy=T:v._tenantPasswordPolicies[v.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new me.LL("auth","Firebase",v())}onAuthStateChanged(v,y,T){return this.registerStateListener(this.authStateSubscription,v,y,T)}beforeAuthStateChanged(v,y){return this.beforeStateQueue.pushCallback(v,y)}onIdTokenChanged(v,y,T){return this.registerStateListener(this.idTokenSubscription,v,y,T)}authStateReady(){return new Promise((v,y)=>{if(this.currentUser)v();else{const T=this.onAuthStateChanged(()=>{T(),v()},y)}})}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,y){var T=this;return(0,J.Z)(function*(){const V=yield T.getOrInitRedirectPersistenceManager(y);return null===v?V.removeCurrentUser():V.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var y=this;return(0,J.Z)(function*(){if(!y.redirectPersistenceManager){const T=v&&Pe(v)||y._popupRedirectResolver;qe(T,y,"argument-error"),y.redirectPersistenceManager=yield ni.create(y,[Pe(T._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(v){var y=this;return(0,J.Z)(function*(){var T,V;return y._isInitialized&&(yield y.queue((0,J.Z)(function*(){}))),(null===(T=y._currentUser)||void 0===T?void 0:T._redirectEventId)===v?y._currentUser:(null===(V=y.redirectUser)||void 0===V?void 0:V._redirectEventId)===v?y.redirectUser:null})()}_persistUserIfCurrent(v){var y=this;return(0,J.Z)(function*(){if(v===y.currentUser)return y.queue((0,J.Z)(function*(){return y.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(y=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,y,T,V){if(this._deleted)return()=>{};const G="function"==typeof y?y:y.next.bind(y);let le=!1;const Ce=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(Ce,this,"internal-error"),Ce.then(()=>{le||G(this.currentUser)}),"function"==typeof y){const Ge=v.addObserver(y,T,V);return()=>{le=!0,Ge()}}{const Ge=v.addObserver(y);return()=>{le=!0,Ge()}}}directlySetCurrentUser(v){var y=this;return(0,J.Z)(function*(){y.currentUser&&y.currentUser!==v&&y._currentUser._stopProactiveRefresh(),v&&y.isProactiveRefreshEnabled&&v._startProactiveRefresh(),y.currentUser=v,v?yield y.assertedPersistence.setCurrentUser(v):yield y.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=h(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,J.Z)(function*(){var y;const T={"X-Client-Version":v.clientVersion};v.app.options.appId&&(T["X-Firebase-gmpid"]=v.app.options.appId);const V=yield null===(y=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();V&&(T["X-Firebase-Client"]=V);const G=yield v._getAppCheckToken();return G&&(T["X-Firebase-AppCheck"]=G),T})()}_getAppCheckToken(){var v=this;return(0,J.Z)(function*(){var y;const T=yield null===(y=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return T?.error&&function Tn(E,...v){Ci.logLevel<=Ue.in.WARN&&Ci.warn(`Auth (${Mt.SDK_VERSION}): ${E}`,...v)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function I(E){return(0,me.m9)(E)}class M{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,me.ne)(y=>this.observer=y)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function O(E){return new Promise((v,y)=>{const T=document.createElement("script");T.setAttribute("src",E),T.onload=v,T.onerror=V=>{const G=Un("internal-error");G.customData=V,y(G)},T.type="text/javascript",T.charset="UTF-8",function P(){var E,v;return null!==(v=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==v?v:document}().appendChild(T)})}function F(E){return`__${E}${Math.floor(1e6*Math.random())}`}class x{constructor(v){this.type="recaptcha-enterprise",this.auth=I(v)}verify(v="verify",y=!1){var T=this;return(0,J.Z)(function*(){function G(){return G=(0,J.Z)(function*(Ce){if(!y){if(null==Ce.tenantId&&null!=Ce._agentRecaptchaConfig)return Ce._agentRecaptchaConfig.siteKey;if(null!=Ce.tenantId&&void 0!==Ce._tenantRecaptchaConfigs[Ce.tenantId])return Ce._tenantRecaptchaConfigs[Ce.tenantId].siteKey}return new Promise(function(){var Ge=(0,J.Z)(function*(_t,Ot){ht(Ce,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(It=>{if(void 0!==It.recaptchaKey){const Ei=new Re(It);return null==Ce.tenantId?Ce._agentRecaptchaConfig=Ei:Ce._tenantRecaptchaConfigs[Ce.tenantId]=Ei,_t(Ei.siteKey)}Ot(new Error("recaptcha Enterprise site key undefined"))}).catch(It=>{Ot(It)})});return function(_t,Ot){return Ge.apply(this,arguments)}}())}),G.apply(this,arguments)}function le(Ce,Ge,_t){const Ot=window.grecaptcha;ye(Ot)?Ot.enterprise.ready(()=>{Ot.enterprise.execute(Ce,{action:v}).then(It=>{Ge(It)}).catch(()=>{Ge("NO_RECAPTCHA")})}):_t(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ce,Ge)=>{(function V(Ce){return G.apply(this,arguments)})(T.auth).then(_t=>{if(!y&&ye(window.grecaptcha))le(_t,Ce,Ge);else{if(typeof window>"u")return void Ge(new Error("RecaptchaVerifier is only supported in browser"));O("https://www.google.com/recaptcha/enterprise.js?render="+_t).then(()=>{le(_t,Ce,Ge)}).catch(Ot=>{Ge(Ot)})}}).catch(_t=>{Ge(_t)})})})()}}function k(E,v,y){return N.apply(this,arguments)}function N(){return(N=(0,J.Z)(function*(E,v,y,T=!1){const V=new x(E);let G;try{G=yield V.verify(y)}catch{G=yield V.verify(y,!0)}const le=Object.assign({},v);return Object.assign(le,T?{captchaResp:G}:{captchaResponse:G}),Object.assign(le,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(le,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),le})).apply(this,arguments)}function U(E,v,y,T){return X.apply(this,arguments)}function X(){return X=(0,J.Z)(function*(E,v,y,T){var V;if(null!==(V=E._getRecaptchaConfig())&&void 0!==V&&V.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const G=yield k(E,v,y,"getOobCode"===y);return T(E,G)}return T(E,v).catch(function(){var G=(0,J.Z)(function*(le){if("auth/missing-recaptcha-token"===le.code){console.log(`${y} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ce=yield k(E,v,y,"getOobCode"===y);return T(E,Ce)}return Promise.reject(le)});return function(le){return G.apply(this,arguments)}}())}),X.apply(this,arguments)}function He(E){const v=E.indexOf(":");return v<0?"":E.substr(0,v+1)}function mt(E){if(!E)return null;const v=Number(E);return isNaN(v)?null:v}class dn{constructor(v,y){this.providerId=v,this.signInMethod=y}toJSON(){return jn("not implemented")}_getIdTokenResponse(v){return jn("not implemented")}_linkToIdToken(v,y){return jn("not implemented")}_getReauthenticationResolver(v){return jn("not implemented")}}function Ln(E,v){return ai.apply(this,arguments)}function ai(){return(ai=(0,J.Z)(function*(E,v){return ke(E,"POST","/v1/accounts:resetPassword",Qe(E,v))})).apply(this,arguments)}function Qn(E,v){return yi.apply(this,arguments)}function yi(){return(yi=(0,J.Z)(function*(E,v){return ke(E,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function ia(){return(ia=(0,J.Z)(function*(E,v){return ke(E,"POST","/v1/accounts:update",Qe(E,v))})).apply(this,arguments)}function bn(E,v){return sl.apply(this,arguments)}function sl(){return(sl=(0,J.Z)(function*(E,v){return At(E,"POST","/v1/accounts:signInWithPassword",Qe(E,v))})).apply(this,arguments)}function xr(E,v){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,J.Z)(function*(E,v){return ke(E,"POST","/v1/accounts:sendOobCode",Qe(E,v))})).apply(this,arguments)}function hx(){return(hx=(0,J.Z)(function*(E,v){return xr(E,v)})).apply(this,arguments)}function ki(E,v){return fx.apply(this,arguments)}function fx(){return(fx=(0,J.Z)(function*(E,v){return xr(E,v)})).apply(this,arguments)}function d2(E,v){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,J.Z)(function*(E,v){return xr(E,v)})).apply(this,arguments)}function Zu(){return(Zu=(0,J.Z)(function*(E,v){return xr(E,v)})).apply(this,arguments)}function Ku(){return(Ku=(0,J.Z)(function*(E,v){return At(E,"POST","/v1/accounts:signInWithEmailLink",Qe(E,v))})).apply(this,arguments)}function Qu(){return(Qu=(0,J.Z)(function*(E,v){return At(E,"POST","/v1/accounts:signInWithEmailLink",Qe(E,v))})).apply(this,arguments)}class ep extends dn{constructor(v,y,T,V=null){super("password",T),this._email=v,this._password=y,this._tenantId=V}static _fromEmailAndPassword(v,y){return new ep(v,y,"password")}static _fromEmailAndCode(v,y,T=null){return new ep(v,y,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const y="string"==typeof v?JSON.parse(v):v;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(v){var y=this;return(0,J.Z)(function*(){switch(y.signInMethod){case"password":return U(v,{returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",bn);case"emailLink":return function px(E,v){return Ku.apply(this,arguments)}(v,{email:y._email,oobCode:y._password});default:Vt(v,"internal-error")}})()}_linkToIdToken(v,y){var T=this;return(0,J.Z)(function*(){switch(T.signInMethod){case"password":return Qn(v,{idToken:y,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function iT(E,v){return Qu.apply(this,arguments)}(v,{idToken:y,email:T._email,oobCode:T._password});default:Vt(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function Bl(E,v){return gx.apply(this,arguments)}function gx(){return(gx=(0,J.Z)(function*(E,v){return At(E,"POST","/v1/accounts:signInWithIdp",Qe(E,v))})).apply(this,arguments)}class ol extends dn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const y=new ol(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(y.idToken=v.idToken),v.accessToken&&(y.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(y.nonce=v.nonce),v.pendingToken&&(y.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(y.accessToken=v.oauthToken,y.secret=v.oauthTokenSecret):Vt("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const y="string"==typeof v?JSON.parse(v):v,{providerId:T,signInMethod:V}=y,G=(0,mi._T)(y,["providerId","signInMethod"]);if(!T||!V)return null;const le=new ol(T,V);return le.idToken=G.idToken||void 0,le.accessToken=G.accessToken||void 0,le.secret=G.secret,le.nonce=G.nonce,le.pendingToken=G.pendingToken||null,le}_getIdTokenResponse(v){return Bl(v,this.buildRequest())}_linkToIdToken(v,y){const T=this.buildRequest();return T.idToken=y,Bl(v,T)}_getReauthenticationResolver(v){const y=this.buildRequest();return y.autoCreate=!1,Bl(v,y)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),v.postBody=(0,me.xO)(y)}return v}}function eh(){return(eh=(0,J.Z)(function*(E,v){return ke(E,"POST","/v1/accounts:sendVerificationCode",Qe(E,v))})).apply(this,arguments)}function b_(){return(b_=(0,J.Z)(function*(E,v){return At(E,"POST","/v1/accounts:signInWithPhoneNumber",Qe(E,v))})).apply(this,arguments)}function x_(){return(x_=(0,J.Z)(function*(E,v){const y=yield At(E,"POST","/v1/accounts:signInWithPhoneNumber",Qe(E,v));if(y.temporaryProof)throw Si(E,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const mx={USER_NOT_FOUND:"user-not-found"};function w_(){return(w_=(0,J.Z)(function*(E,v){return At(E,"POST","/v1/accounts:signInWithPhoneNumber",Qe(E,Object.assign(Object.assign({},v),{operation:"REAUTH"})),mx)})).apply(this,arguments)}class Us extends dn{constructor(v){super("phone","phone"),this.params=v}static _fromVerification(v,y){return new Us({verificationId:v,verificationCode:y})}static _fromTokenResponse(v,y){return new Us({phoneNumber:v,temporaryProof:y})}_getIdTokenResponse(v){return function tp(E,v){return b_.apply(this,arguments)}(v,this._makeVerificationRequest())}_linkToIdToken(v,y){return function rT(E,v){return x_.apply(this,arguments)}(v,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(v){return function fd(E,v){return w_.apply(this,arguments)}(v,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:v,phoneNumber:y,verificationId:T,verificationCode:V}=this.params;return v&&y?{temporaryProof:v,phoneNumber:y}:{sessionInfo:T,code:V}}toJSON(){const v={providerId:this.providerId};return this.params.phoneNumber&&(v.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(v.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(v.verificationCode=this.params.verificationCode),this.params.verificationId&&(v.verificationId=this.params.verificationId),v}static fromJSON(v){"string"==typeof v&&(v=JSON.parse(v));const{verificationId:y,verificationCode:T,phoneNumber:V,temporaryProof:G}=v;return T||y||V||G?new Us({verificationId:y,verificationCode:T,phoneNumber:V,temporaryProof:G}):null}}class pd{constructor(v){var y,T,V,G,le,Ce;const Ge=(0,me.zd)((0,me.pd)(v)),_t=null!==(y=Ge.apiKey)&&void 0!==y?y:null,Ot=null!==(T=Ge.oobCode)&&void 0!==T?T:null,It=function sT(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=Ge.mode)&&void 0!==V?V:null);qe(_t&&Ot&&It,"argument-error"),this.apiKey=_t,this.operation=It,this.code=Ot,this.continueUrl=null!==(G=Ge.continueUrl)&&void 0!==G?G:null,this.languageCode=null!==(le=Ge.languageCode)&&void 0!==le?le:null,this.tenantId=null!==(Ce=Ge.tenantId)&&void 0!==Ce?Ce:null}static parseLink(v){const y=function ce(E){const v=(0,me.zd)((0,me.pd)(E)).link,y=v?(0,me.zd)((0,me.pd)(v)).deep_link_id:null,T=(0,me.zd)((0,me.pd)(E)).deep_link_id;return(T?(0,me.zd)((0,me.pd)(T)).link:null)||T||y||v||E}(v);try{return new pd(y)}catch{return null}}}let gd=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(y,T){return ep._fromEmailAndPassword(y,T)}static credentialWithLink(y,T){const V=pd.parseLink(T);return qe(V,"argument-error"),ep._fromEmailAndCode(y,V.code,V.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ra{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class ka extends ra{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}class md extends ka{static credentialFromJSON(v){const y="string"==typeof v?JSON.parse(v):v;return qe("providerId"in y&&"signInMethod"in y,"argument-error"),ol._fromParams(y)}credential(v){return this._credential(Object.assign(Object.assign({},v),{nonce:v.rawNonce}))}_credential(v){return qe(v.idToken||v.accessToken,"argument-error"),ol._fromParams(Object.assign(Object.assign({},v),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(v){return md.oauthCredentialFromTaggedObject(v)}static credentialFromError(v){return md.oauthCredentialFromTaggedObject(v.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:y,oauthAccessToken:T,oauthTokenSecret:V,pendingToken:G,nonce:le,providerId:Ce}=v;if(!T&&!V&&!y&&!G||!Ce)return null;try{return new md(Ce)._credential({idToken:y,accessToken:T,nonce:le,pendingToken:G})}catch{return null}}}let _x=(()=>{class E extends ka{constructor(){super("facebook.com")}static credential(y){return ol._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),vx=(()=>{class E extends ka{constructor(){super("google.com"),this.addScope("profile")}static credential(y,T){return ol._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:T})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:T,oauthAccessToken:V}=y;if(!T&&!V)return null;try{return E.credential(T,V)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Ma=(()=>{class E extends ka{constructor(){super("github.com")}static credential(y){return ol._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class rs extends dn{constructor(v,y){super(v,v),this.pendingToken=y}_getIdTokenResponse(v){return Bl(v,this.buildRequest())}_linkToIdToken(v,y){const T=this.buildRequest();return T.idToken=y,Bl(v,T)}_getReauthenticationResolver(v){const y=this.buildRequest();return y.autoCreate=!1,Bl(v,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(v){const y="string"==typeof v?JSON.parse(v):v,{providerId:T,signInMethod:V,pendingToken:G}=y;return T&&V&&G&&T===V?new rs(T,G):null}static _create(v,y){return new rs(v,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vn extends ra{constructor(v){qe(v.startsWith("saml."),"argument-error"),super(v)}static credentialFromResult(v){return Vn.samlCredentialFromTaggedObject(v)}static credentialFromError(v){return Vn.samlCredentialFromTaggedObject(v.customData||{})}static credentialFromJSON(v){const y=rs.fromJSON(v);return qe(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{pendingToken:y,providerId:T}=v;if(!y||!T)return null;try{return rs._create(T,y)}catch{return null}}}let th=(()=>{class E extends ka{constructor(){super("twitter.com")}static credential(y,T){return ol._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:T})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:T,oauthTokenSecret:V}=y;if(!T||!V)return null;try{return E.credential(T,V)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function ip(E,v){return nh.apply(this,arguments)}function nh(){return(nh=(0,J.Z)(function*(E,v){return At(E,"POST","/v1/accounts:signUp",Qe(E,v))})).apply(this,arguments)}class lo{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,y,T,V=!1){return(0,J.Z)(function*(){const G=yield Fe._fromIdTokenResponse(v,T,V),le=Pa(T);return new lo({user:G,providerId:le,_tokenResponse:T,operationType:y})})()}static _forOperation(v,y,T){return(0,J.Z)(function*(){yield v._updateTokensIfNecessary(T,!0);const V=Pa(T);return new lo({user:v,providerId:V,_tokenResponse:T,operationType:y})})()}}function Pa(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function rp(){return(rp=(0,J.Z)(function*(E){var v;const y=I(E);if(yield y._initializationPromise,null!==(v=y.currentUser)&&void 0!==v&&v.isAnonymous)return new lo({user:y.currentUser,providerId:null,operationType:"signIn"});const T=yield ip(y,{returnSecureToken:!0}),V=yield lo._fromIdTokenResponse(y,"signIn",T,!0);return yield y._updateCurrentUser(V.user),V})).apply(this,arguments)}class rh extends me.ZR{constructor(v,y,T,V){var G;super(y.code,y.message),this.operationType=T,this.user=V,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:v.name,tenantId:null!==(G=v.tenantId)&&void 0!==G?G:void 0,_serverResponse:y.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(v,y,T,V){return new rh(v,y,T,V)}}function sp(E,v,y,T){return("reauthenticate"===v?y._getReauthenticationResolver(E):y._getIdTokenResponse(E)).catch(G=>{throw"auth/multi-factor-auth-required"===G.code?rh._fromErrorAndOperation(E,G,v,T):G})}function C_(E){return new Set(E.map(({providerId:v})=>v).filter(v=>!!v))}function Dc(){return Dc=(0,J.Z)(function*(E,v){const y=(0,me.m9)(E);yield lp(!0,y,v);const{providerUserInfo:T}=yield function Fi(E,v){return Li.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[v]}),V=C_(T||[]);return y.providerData=y.providerData.filter(G=>V.has(G.providerId)),V.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),Dc.apply(this,arguments)}function op(E,v){return ap.apply(this,arguments)}function ap(){return(ap=(0,J.Z)(function*(E,v,y=!1){const T=yield Yr(E,v._linkToIdToken(E.auth,yield E.getIdToken()),y);return lo._forOperation(E,"link",T)})).apply(this,arguments)}function lp(E,v,y){return cp.apply(this,arguments)}function cp(){return(cp=(0,J.Z)(function*(E,v,y){yield Zi(v);const V=!1===E?"provider-already-linked":"no-such-provider";qe(C_(v.providerData).has(y)===E,v.auth,V)})).apply(this,arguments)}function bx(E,v){return E_.apply(this,arguments)}function E_(){return(E_=(0,J.Z)(function*(E,v,y=!1){const{auth:T}=E,V="reauthenticate";try{const G=yield Yr(E,sp(T,V,v,E),y);qe(G.idToken,T,"internal-error");const le=ea(G.idToken);qe(le,T,"internal-error");const{sub:Ce}=le;return qe(E.uid===Ce,T,"user-mismatch"),lo._forOperation(E,V,G)}catch(G){throw"auth/user-not-found"===G?.code&&Vt(T,"user-mismatch"),G}})).apply(this,arguments)}function Lo(E,v){return D_.apply(this,arguments)}function D_(){return(D_=(0,J.Z)(function*(E,v,y=!1){const T="signIn",V=yield sp(E,T,v),G=yield lo._fromIdTokenResponse(E,T,V);return y||(yield E._updateCurrentUser(G.user)),G})).apply(this,arguments)}function sh(E,v){return I_.apply(this,arguments)}function I_(){return(I_=(0,J.Z)(function*(E,v){return Lo(I(E),v)})).apply(this,arguments)}function xx(E,v){return T_.apply(this,arguments)}function T_(){return(T_=(0,J.Z)(function*(E,v){const y=(0,me.m9)(E);return yield lp(!1,y,v.providerId),op(y,v)})).apply(this,arguments)}function wx(E,v){return dp.apply(this,arguments)}function dp(){return(dp=(0,J.Z)(function*(E,v){return bx((0,me.m9)(E),v)})).apply(this,arguments)}function S_(){return(S_=(0,J.Z)(function*(E,v){return At(E,"POST","/v1/accounts:signInWithCustomToken",Qe(E,v))})).apply(this,arguments)}function Wt(){return Wt=(0,J.Z)(function*(E,v){const y=I(E),T=yield function oT(E,v){return S_.apply(this,arguments)}(y,{token:v,returnSecureToken:!0}),V=yield lo._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(V.user),V}),Wt.apply(this,arguments)}class oh{constructor(v,y){this.factorId=v,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(v,y){return"phoneInfo"in y?A_._fromServerResponse(v,y):"totpInfo"in y?k_._fromServerResponse(v,y):Vt(v,"internal-error")}}class A_ extends oh{constructor(v){super("phone",v),this.phoneNumber=v.phoneInfo}static _fromServerResponse(v,y){return new A_(y)}}class k_ extends oh{constructor(v){super("totp",v)}static _fromServerResponse(v,y){return new k_(y)}}function Rt(E,v,y){var T;qe((null===(T=y.url)||void 0===T?void 0:T.length)>0,E,"invalid-continue-uri"),qe(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),v.continueUrl=y.url,v.dynamicLinkDomain=y.dynamicLinkDomain,v.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(qe(y.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),v.iOSBundleId=y.iOS.bundleId),y.android&&(qe(y.android.packageName.length>0,E,"missing-android-pkg-name"),v.androidInstallApp=y.android.installApp,v.androidMinimumVersionCode=y.android.minimumVersion,v.androidPackageName=y.android.packageName)}function M_(E){return up.apply(this,arguments)}function up(){return(up=(0,J.Z)(function*(E){const v=I(E);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function Ar(){return(Ar=(0,J.Z)(function*(E,v,y){const T=I(E),V={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};y&&Rt(T,V,y),yield U(T,V,"getOobCode",ki)})).apply(this,arguments)}function kr(){return kr=(0,J.Z)(function*(E,v,y){yield Ln((0,me.m9)(E),{oobCode:v,newPassword:y}).catch(function(){var T=(0,J.Z)(function*(V){throw"auth/password-does-not-meet-requirements"===V.code&&M_(E),V});return function(V){return T.apply(this,arguments)}}())}),kr.apply(this,arguments)}function zl(){return zl=(0,J.Z)(function*(E,v){yield function Hs(E,v){return ia.apply(this,arguments)}((0,me.m9)(E),{oobCode:v})}),zl.apply(this,arguments)}function js(E,v){return hp.apply(this,arguments)}function hp(){return(hp=(0,J.Z)(function*(E,v){const y=(0,me.m9)(E),T=yield Ln(y,{oobCode:v}),V=T.requestType;switch(qe(V,y,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":qe(T.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":qe(T.mfaInfo,y,"internal-error");default:qe(T.email,y,"internal-error")}let G=null;return T.mfaInfo&&(G=oh._fromServerResponse(I(y),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:G},operation:V}})).apply(this,arguments)}function _d(){return(_d=(0,J.Z)(function*(E,v){const{data:y}=yield js((0,me.m9)(E),v);return y.email})).apply(this,arguments)}function R_(){return(R_=(0,J.Z)(function*(E,v,y){const T=I(E),le=yield U(T,{returnSecureToken:!0,email:v,password:y,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ip).catch(Ge=>{throw"auth/password-does-not-meet-requirements"===Ge.code&&M_(E),Ge}),Ce=yield lo._fromIdTokenResponse(T,"signIn",le);return yield T._updateCurrentUser(Ce.user),Ce})).apply(this,arguments)}function un(){return(un=(0,J.Z)(function*(E,v,y){const T=I(E),V={requestType:"EMAIL_SIGNIN",email:v,clientType:"CLIENT_TYPE_WEB"};(function G(le,Ce){qe(Ce.handleCodeInApp,T,"argument-error"),Ce&&Rt(T,le,Ce)})(V,y),yield U(T,V,"getOobCode",d2)})).apply(this,arguments)}function Ic(){return(Ic=(0,J.Z)(function*(E,v,y){const T=(0,me.m9)(E),V=gd.credentialWithLink(v,y||mn());return qe(V._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),sh(T,V)})).apply(this,arguments)}function Hl(){return(Hl=(0,J.Z)(function*(E,v){return ke(E,"POST","/v1/accounts:createAuthUri",Qe(E,v))})).apply(this,arguments)}function Oa(){return Oa=(0,J.Z)(function*(E,v){const T={identifier:v,continueUri:$r()?mn():"http://localhost"},{signinMethods:V}=yield function fs(E,v){return Hl.apply(this,arguments)}((0,me.m9)(E),T);return V||[]}),Oa.apply(this,arguments)}function rn(){return rn=(0,J.Z)(function*(E,v){const y=(0,me.m9)(E),V={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};v&&Rt(y.auth,V,v);const{email:G}=yield function Xu(E,v){return hx.apply(this,arguments)}(y.auth,V);G!==E.email&&(yield E.reload())}),rn.apply(this,arguments)}function fp(){return fp=(0,J.Z)(function*(E,v,y){const T=(0,me.m9)(E),G={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:v};y&&Rt(T.auth,G,y);const{email:le}=yield function y_(E,v){return Zu.apply(this,arguments)}(T.auth,G);le!==E.email&&(yield E.reload())}),fp.apply(this,arguments)}function Ki(){return(Ki=(0,J.Z)(function*(E,v){return ke(E,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Ul(){return Ul=(0,J.Z)(function*(E,{displayName:v,photoURL:y}){if(void 0===v&&void 0===y)return;const T=(0,me.m9)(E),G={idToken:yield T.getIdToken(),displayName:v,photoUrl:y,returnSecureToken:!0},le=yield Yr(T,function yd(E,v){return Ki.apply(this,arguments)}(T.auth,G));T.displayName=le.displayName||null,T.photoURL=le.photoUrl||null;const Ce=T.providerData.find(({providerId:Ge})=>"password"===Ge);Ce&&(Ce.displayName=T.displayName,Ce.photoURL=T.photoURL),yield T._updateTokensIfNecessary(le)}),Ul.apply(this,arguments)}function P_(E,v,y){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,J.Z)(function*(E,v,y){const{auth:T}=E,G={idToken:yield E.getIdToken(),returnSecureToken:!0};v&&(G.email=v),y&&(G.password=y);const le=yield Yr(E,Qn(T,G));yield E._updateTokensIfNecessary(le,!0)})).apply(this,arguments)}class La{constructor(v,y,T={}){this.isNewUser=v,this.providerId=y,this.profile=T}}class bd extends La{constructor(v,y,T,V){super(v,y,T),this.username=V}}class An extends La{constructor(v,y){super(v,"facebook.com",y)}}class h2 extends bd{constructor(v,y){super(v,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class O_ extends La{constructor(v,y){super(v,"google.com",y)}}class Ex extends bd{constructor(v,y,T){super(v,"twitter.com",y,T)}}function Va(E){const{user:v,_tokenResponse:y}=E;return v.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function al(E){var v,y;if(!E)return null;const{providerId:T}=E,V=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},G=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!T&&E?.idToken){const le=null===(y=null===(v=ea(E.idToken))||void 0===v?void 0:v.firebase)||void 0===y?void 0:y.sign_in_provider;if(le)return new La(G,"anonymous"!==le&&"custom"!==le?le:null)}if(!T)return null;switch(T){case"facebook.com":return new An(G,V);case"github.com":return new h2(G,V);case"google.com":return new O_(G,V);case"twitter.com":return new Ex(G,V,E.screenName||null);case"custom":case"anonymous":return new La(G,null);default:return new La(G,T,V)}}(y)}class Tc{constructor(v,y,T){this.type=v,this.credential=y,this.user=T}static _fromIdtoken(v,y){return new Tc("enroll",v,y)}static _fromMfaPendingCredential(v){return new Tc("signin",v)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(v){var y,T;if(v?.multiFactorSession){if(null!==(y=v.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Tc._fromMfaPendingCredential(v.multiFactorSession.pendingCredential);if(null!==(T=v.multiFactorSession)&&void 0!==T&&T.idToken)return Tc._fromIdtoken(v.multiFactorSession.idToken)}return null}}class L_{constructor(v,y,T){this.session=v,this.hints=y,this.signInResolver=T}static _fromError(v,y){const T=I(v),V=y.customData._serverResponse,G=(V.mfaInfo||[]).map(Ce=>oh._fromServerResponse(T,Ce));qe(V.mfaPendingCredential,T,"internal-error");const le=Tc._fromMfaPendingCredential(V.mfaPendingCredential);return new L_(le,G,function(){var Ce=(0,J.Z)(function*(Ge){const _t=yield Ge._process(T,le);delete V.mfaInfo,delete V.mfaPendingCredential;const Ot=Object.assign(Object.assign({},V),{idToken:_t.idToken,refreshToken:_t.refreshToken});switch(y.operationType){case"signIn":const It=yield lo._fromIdTokenResponse(T,y.operationType,Ot);return yield T._updateCurrentUser(It.user),It;case"reauthenticate":return qe(y.user,T,"internal-error"),lo._forOperation(y.user,y.operationType,Ot);default:Vt(T,"internal-error")}});return function(Ge){return Ce.apply(this,arguments)}}())}resolveSignIn(v){var y=this;return(0,J.Z)(function*(){return y.signInResolver(v)})()}}class Ix{constructor(v){this.user=v,this.enrolledFactors=[],v._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(T=>oh._fromServerResponse(v.auth,T)))})}static _fromUser(v){return new Ix(v)}getSession(){var v=this;return(0,J.Z)(function*(){return Tc._fromIdtoken(yield v.user.getIdToken(),v.user)})()}enroll(v,y){var T=this;return(0,J.Z)(function*(){const V=v,G=yield T.getSession(),le=yield Yr(T.user,V._process(T.user.auth,G,y));return yield T.user._updateTokensIfNecessary(le),T.user.reload()})()}unenroll(v){var y=this;return(0,J.Z)(function*(){const T="string"==typeof v?v:v.uid,V=yield y.user.getIdToken();try{const G=yield Yr(y.user,function m2(E,v){return ke(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Qe(E,v))}(y.user.auth,{idToken:V,mfaEnrollmentId:T}));y.enrolledFactors=y.enrolledFactors.filter(({uid:le})=>le!==T),yield y.user._updateTokensIfNecessary(G),yield y.user.reload()}catch(G){throw G}})()}}const Tx=new WeakMap,V_="__sak";class uT{constructor(v,y){this.storageRetriever=v,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(V_,"1"),this.storage.removeItem(V_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,y){return this.storage.setItem(v,JSON.stringify(y)),Promise.resolve()}_get(v){const y=this.storage.getItem(v);return Promise.resolve(y?JSON.parse(y):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const hh=(()=>{class E extends uT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,T)=>this.onStorageEvent(y,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function v2(){const E=(0,me.z$)();return br(E)||it(E)}()&&function d(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=l(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const T of Object.keys(this.listeners)){const V=this.storage.getItem(T),G=this.localCache[T];V!==G&&y(T,G,V)}}onStorageEvent(y,T=!1){if(!y.key)return void this.forAllChangedKeys((Ce,Ge,_t)=>{this.notifyListeners(Ce,_t)});const V=y.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ce=this.storage.getItem(V);if(y.newValue!==Ce)null!==y.newValue?this.storage.setItem(V,y.newValue):this.storage.removeItem(V);else if(this.localCache[V]===y.newValue&&!T)return}const G=()=>{const Ce=this.storage.getItem(V);!T&&this.localCache[V]===Ce||this.notifyListeners(V,Ce)},le=this.storage.getItem(V);!function a(){return(0,me.w1)()&&10===document.documentMode}()||le===y.newValue||y.newValue===y.oldValue?G():setTimeout(G,10)}notifyListeners(y,T){this.localCache[y]=T;const V=this.listeners[y];if(V)for(const G of Array.from(V))G(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,T,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:T,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,T){var V=()=>super._set,G=this;return(0,J.Z)(function*(){yield V().call(G,y,T),G.localCache[y]=JSON.stringify(T)})()}_get(y){var T=()=>super._get,V=this;return(0,J.Z)(function*(){const G=yield T().call(V,y);return V.localCache[y]=JSON.stringify(G),G})()}_remove(y){var T=()=>super._remove,V=this;return(0,J.Z)(function*(){yield T().call(V,y),delete V.localCache[y]})()}}return E.type="LOCAL",E})(),Sc=(()=>{class E extends uT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,T){}_removeListener(y,T){}}return E.type="SESSION",E})();let w2=(()=>{class E{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const T=this.receivers.find(G=>G.isListeningto(y));if(T)return T;const V=new E(y);return this.receivers.push(V),V}isListeningto(y){return this.eventTarget===y}handleEvent(y){var T=this;return(0,J.Z)(function*(){const V=y,{eventId:G,eventType:le,data:Ce}=V.data,Ge=T.handlersMap[le];if(!Ge?.size)return;V.ports[0].postMessage({status:"ack",eventId:G,eventType:le});const _t=Array.from(Ge).map(function(){var It=(0,J.Z)(function*(Ei){return Ei(V.origin,Ce)});return function(Ei){return It.apply(this,arguments)}}()),Ot=yield function x2(E){return Promise.all(E.map(function(){var v=(0,J.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(T){return{fulfilled:!1,reason:T}}});return function(y){return v.apply(this,arguments)}}()))}(_t);V.ports[0].postMessage({status:"done",eventId:G,eventType:le,response:Ot})})()}_subscribe(y,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(T)}_unsubscribe(y,T){this.handlersMap[y]&&T&&this.handlersMap[y].delete(T),(!T||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function oa(E="",v=10){let y="";for(let T=0;T<v;T++)y+=Math.floor(10*Math.random());return E+y}class jl{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,y,T=50){var V=this;return(0,J.Z)(function*(){const G=typeof MessageChannel<"u"?new MessageChannel:null;if(!G)throw new Error("connection_unavailable");let le,Ce;return new Promise((Ge,_t)=>{const Ot=oa("",20);G.port1.start();const It=setTimeout(()=>{_t(new Error("unsupported_event"))},T);Ce={messageChannel:G,onMessage(Ei){const ca=Ei;if(ca.data.eventId===Ot)switch(ca.data.status){case"ack":clearTimeout(It),le=setTimeout(()=>{_t(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),Ge(ca.data.response);break;default:clearTimeout(It),clearTimeout(le),_t(new Error("invalid_response"))}}},V.handlers.add(Ce),G.port1.addEventListener("message",Ce.onMessage),V.target.postMessage({eventType:v,eventId:Ot,data:y},[G.port2])}).finally(()=>{Ce&&V.removeMessageHandler(Ce)})})()}}function Rr(){return window}function Pr(){return typeof Rr().WorkerGlobalScope<"u"&&"function"==typeof Rr().importScripts}function $s(){return($s=(0,J.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const B_="firebaseLocalStorageDb",wd="firebaseLocalStorage",z_="fbase_key";class Ac{constructor(v){this.request=v}toPromise(){return new Promise((v,y)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Cd(E,v){return E.transaction([wd],v?"readwrite":"readonly").objectStore(wd)}function mp(){const E=indexedDB.open(B_,1);return new Promise((v,y)=>{E.addEventListener("error",()=>{y(E.error)}),E.addEventListener("upgradeneeded",()=>{const T=E.result;try{T.createObjectStore(wd,{keyPath:z_})}catch(V){y(V)}}),E.addEventListener("success",(0,J.Z)(function*(){const T=E.result;T.objectStoreNames.contains(wd)?v(T):(T.close(),yield function Mx(){const E=indexedDB.deleteDatabase(B_);return new Ac(E).toPromise()}(),v(yield mp()))}))})}function H_(E,v,y){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,J.Z)(function*(E,v,y){const T=Cd(E,!0).put({[z_]:v,value:y});return new Ac(T).toPromise()})).apply(this,arguments)}function Wl(){return(Wl=(0,J.Z)(function*(E,v){const y=Cd(E,!1).get(v),T=yield new Ac(y).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function U_(E,v){const y=Cd(E,!0).delete(v);return new Ac(y).toPromise()}const Dd=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,J.Z)(function*(){return y.db||(y.db=yield mp()),y.db})()}_withRetries(y){var T=this;return(0,J.Z)(function*(){let V=0;for(;;)try{const G=yield T._openDb();return yield y(G)}catch(G){if(V++>3)throw G;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,J.Z)(function*(){return Pr()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,J.Z)(function*(){y.receiver=w2._getInstance(function Ax(){return Pr()?self:null}()),y.receiver._subscribe("keyChanged",function(){var T=(0,J.Z)(function*(V,G){return{keyProcessed:(yield y._poll()).includes(G.key)}});return function(V,G){return T.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var T=(0,J.Z)(function*(V,G){return["keyChanged"]});return function(V,G){return T.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,J.Z)(function*(){var T,V;if(y.activeServiceWorker=yield function gp(){return $s.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new jl(y.activeServiceWorker);const G=yield y.sender._send("ping",{},800);G&&null!==(T=G[0])&&void 0!==T&&T.fulfilled&&null!==(V=G[0])&&void 0!==V&&V.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var T=this;return(0,J.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Sx(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:y},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,J.Z)(function*(){try{if(!indexedDB)return!1;const y=yield mp();return yield H_(y,V_,"1"),yield U_(y,V_),!0}catch{}return!1})()}_withPendingWrite(y){var T=this;return(0,J.Z)(function*(){T.pendingWrites++;try{yield y()}finally{T.pendingWrites--}})()}_set(y,T){var V=this;return(0,J.Z)(function*(){return V._withPendingWrite((0,J.Z)(function*(){return yield V._withRetries(G=>H_(G,y,T)),V.localCache[y]=T,V.notifyServiceWorker(y)}))})()}_get(y){var T=this;return(0,J.Z)(function*(){const V=yield T._withRetries(G=>function fh(E,v){return Wl.apply(this,arguments)}(G,y));return T.localCache[y]=V,V})()}_remove(y){var T=this;return(0,J.Z)(function*(){return T._withPendingWrite((0,J.Z)(function*(){return yield T._withRetries(V=>U_(V,y)),delete T.localCache[y],T.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,J.Z)(function*(){const T=yield y._withRetries(le=>{const Ce=Cd(le,!1).getAll();return new Ac(Ce).toPromise()});if(!T)return[];if(0!==y.pendingWrites)return[];const V=[],G=new Set;for(const{fbase_key:le,value:Ce}of T)G.add(le),JSON.stringify(y.localCache[le])!==JSON.stringify(Ce)&&(y.notifyListeners(le,Ce),V.push(le));for(const le of Object.keys(y.localCache))y.localCache[le]&&!G.has(le)&&(y.notifyListeners(le,null),V.push(le));return V})()}notifyListeners(y,T){this.localCache[y]=T;const V=this.listeners[y];if(V)for(const G of Array.from(V))G(T)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,J.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),Id=1e12;class T2{constructor(v){this.auth=v,this.counter=Id,this._widgets=new Map}render(v,y){const T=this.counter;return this._widgets.set(T,new S2(v,this.auth.name,y||{})),this.counter++,T}reset(v){var y;const T=v||Id;null===(y=this._widgets.get(T))||void 0===y||y.delete(),this._widgets.delete(T)}getResponse(v){var y;return(null===(y=this._widgets.get(v||Id))||void 0===y?void 0:y.getResponse())||""}execute(v){var y=this;return(0,J.Z)(function*(){var T;return null===(T=y._widgets.get(v||Id))||void 0===T||T.execute(),""})()}}class S2{constructor(v,y,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof v?document.getElementById(v):v;qe(V,"argument-error",{appName:y}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function gT(E){const v=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<E;T++)v.push(y.charAt(Math.floor(62*Math.random())));return v.join("")}(50);const{callback:v,"expired-callback":y}=this.params;if(v)try{v(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _p=F("rcb"),Px=new Sr(3e4,6e4);class _T{constructor(){var v;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(v=Rr().grecaptcha)||void 0===v||!v.render)}load(v,y=""){return qe(function vT(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(y),v,"argument-error"),this.shouldResolveImmediately(y)&&xe(Rr().grecaptcha)?Promise.resolve(Rr().grecaptcha):new Promise((T,V)=>{const G=Rr().setTimeout(()=>{V(Un(v,"network-request-failed"))},Px.get());Rr()[_p]=()=>{Rr().clearTimeout(G),delete Rr()[_p];const Ce=Rr().grecaptcha;if(!Ce||!xe(Ce))return void V(Un(v,"internal-error"));const Ge=Ce.render;Ce.render=(_t,Ot)=>{const It=Ge(_t,Ot);return this.counter++,It},this.hostLanguage=y,T(Ce)},O(`https://www.google.com/recaptcha/api.js??${(0,me.xO)({onload:_p,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(G),V(Un(v,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(v){var y;return!(null===(y=Rr().grecaptcha)||void 0===y||!y.render)&&(v===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ox{load(v){return(0,J.Z)(function*(){return new T2(v)})()}clearedOneInstance(){}}const Nx="recaptcha",Fx={theme:"light",type:"image"};class yT{constructor(v,y,T=Object.assign({},Fx)){this.parameters=T,this.type=Nx,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=I(v),this.isInvisible="invisible"===this.parameters.size,qe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof y?document.getElementById(y):y;qe(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ox:new _T,this.validateStartingState()}verify(){var v=this;return(0,J.Z)(function*(){v.assertNotDestroyed();const y=yield v.render(),T=v.getAssertedRecaptcha();return T.getResponse(y)||new Promise(G=>{const le=Ce=>{Ce&&(v.tokenChangeListeners.delete(le),G(Ce))};v.tokenChangeListeners.add(le),v.isInvisible&&T.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(v){return Promise.reject(v)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(v=>{throw this.renderPromise=null,v})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(v=>{this.container.removeChild(v)})}validateStartingState(){qe(!this.parameters.sitekey,this.auth,"argument-error"),qe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),qe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(v){return y=>{if(this.tokenChangeListeners.forEach(T=>T(y)),"function"==typeof v)v(y);else if("string"==typeof v){const T=Rr()[v];"function"==typeof T&&T(y)}}}assertNotDestroyed(){qe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var v=this;return(0,J.Z)(function*(){if(yield v.init(),!v.widgetId){let y=v.container;if(!v.isInvisible){const T=document.createElement("div");y.appendChild(T),y=T}v.widgetId=v.getAssertedRecaptcha().render(y,v.parameters)}return v.widgetId})()}init(){var v=this;return(0,J.Z)(function*(){qe($r()&&!Pr(),v.auth,"internal-error"),yield function A2(){let E=null;return new Promise(v=>{"complete"!==document.readyState?(E=()=>v(),window.addEventListener("load",E)):v()}).catch(v=>{throw E&&window.removeEventListener("load",E),v})}(),v.recaptcha=yield v._recaptchaLoader.load(v.auth,v.auth.languageCode||void 0);const y=yield function Ke(E){return gt.apply(this,arguments)}(v.auth);qe(y,v.auth,"internal-error"),v.parameters.sitekey=y})()}getAssertedRecaptcha(){return qe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class W_{constructor(v,y){this.verificationId=v,this.onConfirmation=y}confirm(v){const y=Us._fromVerification(this.verificationId,v);return this.onConfirmation(y)}}function vp(){return(vp=(0,J.Z)(function*(E,v,y){const T=I(E),V=yield bp(T,v,(0,me.m9)(y));return new W_(V,G=>sh(T,G))})).apply(this,arguments)}function G_(){return(G_=(0,J.Z)(function*(E,v,y){const T=(0,me.m9)(E);yield lp(!1,T,"phone");const V=yield bp(T.auth,v,(0,me.m9)(y));return new W_(V,G=>xx(T,G))})).apply(this,arguments)}function yp(){return(yp=(0,J.Z)(function*(E,v,y){const T=(0,me.m9)(E),V=yield bp(T.auth,v,(0,me.m9)(y));return new W_(V,G=>wx(T,G))})).apply(this,arguments)}function bp(E,v,y){return ph.apply(this,arguments)}function ph(){return ph=(0,J.Z)(function*(E,v,y){var T;const V=yield y.verify();try{let G;if(qe("string"==typeof V,E,"argument-error"),qe(y.type===Nx,E,"argument-error"),G="string"==typeof v?{phoneNumber:v}:v,"session"in G){const le=G.session;if("phoneNumber"in G)return qe("enroll"===le.type,E,"internal-error"),(yield function cT(E,v){return ke(E,"POST","/v2/accounts/mfaEnrollment:start",Qe(E,v))}(E,{idToken:le.credential,phoneEnrollmentInfo:{phoneNumber:G.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{qe("signin"===le.type,E,"internal-error");const Ce=(null===(T=G.multiFactorHint)||void 0===T?void 0:T.uid)||G.multiFactorUid;return qe(Ce,E,"missing-multi-factor-info"),(yield function fT(E,v){return ke(E,"POST","/v2/accounts/mfaSignIn:start",Qe(E,v))}(E,{mfaPendingCredential:le.credential,mfaEnrollmentId:Ce,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:le}=yield function Ju(E,v){return eh.apply(this,arguments)}(E,{phoneNumber:G.phoneNumber,recaptchaToken:V});return le}}finally{y._reset()}}),ph.apply(this,arguments)}function Vo(){return(Vo=(0,J.Z)(function*(E,v){yield op((0,me.m9)(E),v)})).apply(this,arguments)}let Td=(()=>{class E{constructor(y){this.providerId=E.PROVIDER_ID,this.auth=I(y)}verifyPhoneNumber(y,T){return bp(this.auth,y,(0,me.m9)(T))}static credential(y,T){return Us._fromVerification(y,T)}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:T,temporaryProof:V}=y;return T&&V?Us._fromTokenResponse(T,V):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Gl(E,v){return v?Pe(v):(qe(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class bi extends dn{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return Bl(v,this._buildIdpRequest())}_linkToIdToken(v,y){return Bl(v,this._buildIdpRequest(y))}_getReauthenticationResolver(v){return Bl(v,this._buildIdpRequest())}_buildIdpRequest(v){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(y.idToken=v),y}}function $_(E){return Lo(E.auth,new bi(E),E.bypassAuthState)}function xp(E){const{auth:v,user:y}=E;return qe(y,v,"internal-error"),bx(y,new bi(E),E.bypassAuthState)}function Ys(E){return Y_.apply(this,arguments)}function Y_(){return(Y_=(0,J.Z)(function*(E){const{auth:v,user:y}=E;return qe(y,v,"internal-error"),op(y,new bi(E),E.bypassAuthState)})).apply(this,arguments)}class q_{constructor(v,y,T,V,G=!1){this.auth=v,this.resolver=T,this.user=V,this.bypassAuthState=G,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var v=this;return new Promise(function(){var y=(0,J.Z)(function*(T,V){v.pendingPromise={resolve:T,reject:V};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(G){v.reject(G)}});return function(T,V){return y.apply(this,arguments)}}())}onAuthEvent(v){var y=this;return(0,J.Z)(function*(){const{urlResponse:T,sessionId:V,postBody:G,tenantId:le,error:Ce,type:Ge}=v;if(Ce)return void y.reject(Ce);const _t={auth:y.auth,requestUri:T,sessionId:V,tenantId:le||void 0,postBody:G||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Ge)(_t))}catch(Ot){y.reject(Ot)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return $_;case"linkViaPopup":case"linkViaRedirect":return Ys;case"reauthViaPopup":case"reauthViaRedirect":return xp;default:Vt(this.auth,"internal-error")}}resolve(v){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sd=new Sr(2e3,1e4);function X_(){return(X_=(0,J.Z)(function*(E,v,y){const T=I(E);an(E,v,ra);const V=Gl(T,y);return new K_(T,"signInViaPopup",v,V).executeNotNull()})).apply(this,arguments)}function Z_(){return(Z_=(0,J.Z)(function*(E,v,y){const T=(0,me.m9)(E);an(T.auth,v,ra);const V=Gl(T.auth,y);return new K_(T.auth,"reauthViaPopup",v,V,T).executeNotNull()})).apply(this,arguments)}function wp(){return(wp=(0,J.Z)(function*(E,v,y){const T=(0,me.m9)(E);an(T.auth,v,ra);const V=Gl(T.auth,y);return new K_(T.auth,"linkViaPopup",v,V,T).executeNotNull()})).apply(this,arguments)}let K_=(()=>{class E extends q_{constructor(y,T,V,G,le){super(y,T,G,le),this.provider=V,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var y=this;return(0,J.Z)(function*(){const T=yield y.execute();return qe(T,y.auth,"internal-error"),T})()}onExecution(){var y=this;return(0,J.Z)(function*(){_i(1===y.filter.length,"Popup operations only handle one event");const T=oa();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],T),y.authWindow.associatedEvent=T,y.resolver._originValidation(y.auth).catch(V=>{y.reject(V)}),y.resolver._isIframeWebStorageSupported(y.auth,V=>{V||y.reject(Un(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const y=()=>{var T,V;this.pollId=null!==(V=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==V&&V.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,Sd.get())};y()}}return E.currentPopupAction=null,E})();const Vx="pendingRedirect",Ad=new Map;class Bx extends q_{constructor(v,y,T=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,T),this.eventId=null}execute(){var v=()=>super.execute,y=this;return(0,J.Z)(function*(){let T=Ad.get(y.auth._key());if(!T){try{const G=(yield function CT(E,v){return Jt.apply(this,arguments)}(y.resolver,y.auth))?yield v().call(y):null;T=()=>Promise.resolve(G)}catch(V){T=()=>Promise.reject(V)}Ad.set(y.auth._key(),T)}return y.bypassAuthState||Ad.set(y.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(v){var y=()=>super.onAuthEvent,T=this;return(0,J.Z)(function*(){if("signInViaRedirect"===v.type)return y().call(T,v);if("unknown"!==v.type){if(v.eventId){const V=yield T.auth._redirectUserForId(v.eventId);if(V)return T.user=V,y().call(T,v);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,J.Z)(function*(){})()}cleanUp(){}}function Jt(){return(Jt=(0,J.Z)(function*(E,v){const y=J_(v),T=Hx(E);if(!(yield T._isAvailable()))return!1;const V="true"===(yield T._get(y));return yield T._remove(y),V})).apply(this,arguments)}function Cp(E,v){return zx.apply(this,arguments)}function zx(){return(zx=(0,J.Z)(function*(E,v){return Hx(E)._set(J_(v),"true")})).apply(this,arguments)}function Q_(E,v){Ad.set(E._key(),v)}function Hx(E){return Pe(E._redirectPersistence)}function J_(E){return tn(Vx,E.config.apiKey,E.name)}function kd(E,v,y){return function DT(E,v,y){return ev.apply(this,arguments)}(E,v,y)}function ev(){return(ev=(0,J.Z)(function*(E,v,y){const T=I(E);an(E,v,ra),yield T._initializationPromise;const V=Gl(T,y);return yield Cp(V,T),V._openRedirect(T,v,"signInViaRedirect")})).apply(this,arguments)}function IT(E,v,y){return function TT(E,v,y){return tv.apply(this,arguments)}(E,v,y)}function tv(){return(tv=(0,J.Z)(function*(E,v,y){const T=(0,me.m9)(E);an(T.auth,v,ra),yield T.auth._initializationPromise;const V=Gl(T.auth,y);yield Cp(V,T.auth);const G=yield aa(T);return V._openRedirect(T.auth,v,"reauthViaRedirect",G)})).apply(this,arguments)}function tt(E,v,y){return function Yn(E,v,y){return bt.apply(this,arguments)}(E,v,y)}function bt(){return(bt=(0,J.Z)(function*(E,v,y){const T=(0,me.m9)(E);an(T.auth,v,ra),yield T.auth._initializationPromise;const V=Gl(T.auth,y);yield lp(!1,T,v.providerId),yield Cp(V,T.auth);const G=yield aa(T);return V._openRedirect(T.auth,v,"linkViaRedirect",G)})).apply(this,arguments)}function Or(){return(Or=(0,J.Z)(function*(E,v){return yield I(E)._initializationPromise,gh(E,v,!1)})).apply(this,arguments)}function gh(E,v){return kc.apply(this,arguments)}function kc(){return(kc=(0,J.Z)(function*(E,v,y=!1){const T=I(E),V=Gl(T,v),le=yield new Bx(T,V,y).execute();return le&&!y&&(delete le.user._redirectEventId,yield T._persistUserIfCurrent(le.user),yield T._setRedirectUser(null,v)),le})).apply(this,arguments)}function aa(E){return mh.apply(this,arguments)}function mh(){return(mh=(0,J.Z)(function*(E){const v=oa(`${E.uid}:::`);return E._redirectEventId=v,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),v})).apply(this,arguments)}class Ux{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let y=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(v,T)&&(y=!0,this.sendToConsumer(v,T),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Ts(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iv(E);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=v,y=!0)),y}sendToConsumer(v,y){var T;if(v.error&&!iv(v)){const V=(null===(T=v.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";y.onError(Un(this.auth,V))}else y.onAuthEvent(v)}isEventForConsumer(v,y){const T=null===y.eventId||!!v.eventId&&v.eventId===y.eventId;return y.filter.includes(v.type)&&T}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ST(v))}saveEventToCache(v){this.cachedEventUids.add(ST(v)),this.lastProcessedEventTime=Date.now()}}function ST(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(v=>v).join("-")}function iv({type:E,error:v}){return"unknown"===E&&"auth/no-auth-event"===v?.code}function za(E){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,J.Z)(function*(E,v={}){return ke(E,"GET","/v1/projects",v)})).apply(this,arguments)}const Md=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ll=/^https?/;function Dp(){return(Dp=(0,J.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:v}=yield za(E);for(const y of v)try{if(kT(y))return}catch{}Vt(E,"unauthorized-domain")})).apply(this,arguments)}function kT(E){const v=mn(),{protocol:y,hostname:T}=new URL(v);if(E.startsWith("chrome-extension://")){const le=new URL(E);return""===le.hostname&&""===T?"chrome-extension:"===y&&E.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===y&&le.hostname===T}if(!ll.test(y))return!1;if(Md.test(E))return T===E;const V=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(T)}const MT=new Sr(3e4,6e4);function Ip(){const E=Rr().___jsl;if(E?.H)for(const v of Object.keys(E.H))if(E.H[v].r=E.H[v].r||[],E.H[v].L=E.H[v].L||[],E.H[v].r=[...E.H[v].L],E.CP)for(let y=0;y<E.CP.length;y++)E.CP[y]=null}let _h=null;const RT=new Sr(5e3,15e3),jx="__/auth/iframe",ov="emulator/auth/iframe",Wx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $x(E){const v=E.config;qe(v.authDomain,E,"auth-domain-config-required");const y=v.emulator?Se(v,ov):`https://${E.config.authDomain}/${jx}`,T={apiKey:v.apiKey,appName:E.name,v:Mt.SDK_VERSION},V=Gx.get(E.config.apiHost);V&&(T.eid=V);const G=E._getFrameworks();return G.length&&(T.fw=G.join(",")),`${y}?${(0,me.xO)(T).slice(1)}`}function vh(){return vh=(0,J.Z)(function*(E){const v=yield function sv(E){return _h=_h||function rv(E){return new Promise((v,y)=>{var T,V,G;function le(){Ip(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Ip(),y(Un(E,"network-request-failed"))},timeout:MT.get()})}if(null!==(V=null===(T=Rr().gapi)||void 0===T?void 0:T.iframes)&&void 0!==V&&V.Iframe)v(gapi.iframes.getContext());else{if(null===(G=Rr().gapi)||void 0===G||!G.load){const Ce=F("iframefcb");return Rr()[Ce]=()=>{gapi.load?le():y(Un(E,"network-request-failed"))},O(`https://apis.google.com/js/api.js?onload=${Ce}`).catch(Ge=>y(Ge))}le()}}).catch(v=>{throw _h=null,v})}(E),_h}(E),y=Rr().gapi;return qe(y,E,"internal-error"),v.open({where:document.body,url:$x(E),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wx,dontclear:!0},T=>new Promise(function(){var V=(0,J.Z)(function*(G,le){yield T.restyle({setHideOnLeave:!1});const Ce=Un(E,"network-request-failed"),Ge=Rr().setTimeout(()=>{le(Ce)},RT.get());function _t(){Rr().clearTimeout(Ge),G(T)}T.ping(_t).then(_t,()=>{le(Ce)})});return function(G,le){return V.apply(this,arguments)}}()))}),vh.apply(this,arguments)}const PT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tp{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const FT="__/auth/handler",Xx="emulator/auth/handler",Zx=encodeURIComponent("fac");function Rd(E,v,y,T,V,G){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,J.Z)(function*(E,v,y,T,V,G){qe(E.config.authDomain,E,"auth-domain-config-required"),qe(E.config.apiKey,E,"invalid-api-key");const le={apiKey:E.config.apiKey,appName:E.name,authType:y,redirectUrl:T,v:Mt.SDK_VERSION,eventId:V};if(v instanceof ra){v.setDefaultLanguage(E.languageCode),le.providerId=v.providerId||"",(0,me.xb)(v.getCustomParameters())||(le.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Ot,It]of Object.entries(G||{}))le[Ot]=It}if(v instanceof ka){const Ot=v.getScopes().filter(It=>""!==It);Ot.length>0&&(le.scopes=Ot.join(","))}E.tenantId&&(le.tid=E.tenantId);const Ce=le;for(const Ot of Object.keys(Ce))void 0===Ce[Ot]&&delete Ce[Ot];const Ge=yield E._getAppCheckToken(),_t=Ge?`#${Zx}=${encodeURIComponent(Ge)}`:"";return`${function LT({config:E}){return E.emulator?Se(E,Xx):`https://${E.authDomain}/${FT}`}(E)}?${(0,me.xO)(Ce).slice(1)}${_t}`})).apply(this,arguments)}const Pd="webStorageSupport",yh=class Sp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sc,this._completeRedirectFn=gh,this._overrideRedirectResult=Q_}_openPopup(v,y,T,V){var G=this;return(0,J.Z)(function*(){var le;_i(null===(le=G.eventManagers[v._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const Ce=yield Rd(v,y,T,mn(),V);return function NT(E,v,y,T=500,V=600){const G=Math.max((window.screen.availHeight-V)/2,0).toString(),le=Math.max((window.screen.availWidth-T)/2,0).toString();let Ce="";const Ge=Object.assign(Object.assign({},PT),{width:T.toString(),height:V.toString(),top:G,left:le}),_t=(0,me.z$)().toLowerCase();y&&(Ce=fi(_t)?"_blank":y),Nt(_t)&&(v=v||"http://localhost",Ge.scrollbars="yes");const Ot=Object.entries(Ge).reduce((Ei,[ca,yv])=>`${Ei}${ca}=${yv},`,"");if(function B(E=(0,me.z$)()){var v;return it(E)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(_t)&&"_self"!==Ce)return function qx(E,v){const y=document.createElement("a");y.href=E,y.target=v;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(T)}(v||"",Ce),new Tp(null);const It=window.open(v||"",Ce,Ot);qe(It,E,"popup-blocked");try{It.focus()}catch{}return new Tp(It)}(v,Ce,oa())})()}_openRedirect(v,y,T,V){var G=this;return(0,J.Z)(function*(){return yield G._originValidation(v),function C2(E){Rr().location.href=E}(yield Rd(v,y,T,mn(),V)),new Promise(()=>{})})()}_initialize(v){const y=v._key();if(this.eventManagers[y]){const{manager:V,promise:G}=this.eventManagers[y];return V?Promise.resolve(V):(_i(G,"If manager is not set, promise should be"),G)}const T=this.initAndGetManager(v);return this.eventManagers[y]={promise:T},T.catch(()=>{delete this.eventManagers[y]}),T}initAndGetManager(v){var y=this;return(0,J.Z)(function*(){const T=yield function Yx(E){return vh.apply(this,arguments)}(v),V=new Ux(v);return T.register("authEvent",G=>(qe(G?.authEvent,v,"invalid-auth-event"),{status:V.onEvent(G.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[v._key()]={manager:V},y.iframes[v._key()]=T,V})()}_isIframeWebStorageSupported(v,y){this.iframes[v._key()].send(Pd,{type:Pd},V=>{var G;const le=null===(G=V?.[0])||void 0===G?void 0:G[Pd];void 0!==le&&y(!!le),Vt(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const y=v._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function AT(E){return Dp.apply(this,arguments)}(v)),this.originValidationPromises[y]}get _shouldInitProactively(){return l()||br()||it()}};class av{constructor(v){this.factorId=v}_process(v,y,T){switch(y.type){case"enroll":return this._finalizeEnroll(v,y.credential,T);case"signin":return this._finalizeSignIn(v,y.credential);default:return jn("unexpected MultiFactorSessionType")}}}class Ap extends av{constructor(v){super("phone"),this.credential=v}static _fromCredential(v){return new Ap(v)}_finalizeEnroll(v,y,T){return function dT(E,v){return ke(E,"POST","/v2/accounts/mfaEnrollment:finalize",Qe(E,v))}(v,{idToken:y,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(v,y){return function I2(E,v){return ke(E,"POST","/v2/accounts/mfaSignIn:finalize",Qe(E,v))}(v,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kx=(()=>{class E{constructor(){}static assertion(y){return Ap._fromCredential(y)}}return E.FACTOR_ID="phone",E})();var VT="@firebase/auth";class M2{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var y=this;return(0,J.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const y=this.auth.onIdTokenChanged(T=>{v(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,y),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const y=this.internalListeners.get(v);y&&(this.internalListeners.delete(v),y(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function la(){return window}(0,me.Pz)("authIdTokenMaxAge"),function zT(E){(0,Mt._registerComponent)(new ot.wA("auth",(v,{options:y})=>{const T=v.getProvider("app").getImmediate(),V=v.getProvider("heartbeat"),G=v.getProvider("app-check-internal"),{apiKey:le,authDomain:Ce}=T.options;qe(le&&!le.includes(":"),"invalid-api-key",{appName:T.name});const Ge={apiKey:le,authDomain:Ce,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h(E)},_t=new D(T,V,G,Ge);return function Me(E,v){const y=v?.persistence||[],T=(Array.isArray(y)?y:[y]).map(Pe);v?.errorMap&&E._updateErrorMap(v.errorMap),E._initializeWithPersistence(T,v?.popupRedirectResolver)}(_t,y),_t},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,y,T)=>{v.getProvider("auth-internal").initialize()})),(0,Mt._registerComponent)(new ot.wA("auth-internal",v=>{const y=I(v.getProvider("auth").getImmediate());return new M2(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Mt.registerVersion)(VT,"1.3.2",function BT(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,Mt.registerVersion)(VT,"1.3.2","esm2017")}("Browser");function Qx(){return Qx=(0,J.Z)(function*(E,v,y){var T;const{BuildInfo:V}=la();_i(v.sessionId,"AuthEvent did not contain a session ID");const G=yield function dv(E){return Fp.apply(this,arguments)}(v.sessionId),le={};return it()?le.ibi=V.packageName:rl()?le.apn=V.packageName:Vt(E,"operation-not-supported-in-this-environment"),V.displayName&&(le.appDisplayName=V.displayName),le.sessionId=G,Rd(E,y,v.type,void 0,null!==(T=v.eventId)&&void 0!==T?T:void 0,le)}),Qx.apply(this,arguments)}function Op(){return(Op=(0,J.Z)(function*(E){const{BuildInfo:v}=la(),y={};it()?y.iosBundleId=v.packageName:rl()?y.androidPackageName=v.packageName:Vt(E,"operation-not-supported-in-this-environment"),yield za(E,y)})).apply(this,arguments)}function cv(){return(cv=(0,J.Z)(function*(E,v,y){const{cordova:T}=la();let V=()=>{};try{yield new Promise((G,le)=>{let Ce=null;function Ge(){var It;G();const Ei=null===(It=T.plugins.browsertab)||void 0===It?void 0:It.close;"function"==typeof Ei&&Ei(),"function"==typeof y?.close&&y.close()}function _t(){Ce||(Ce=window.setTimeout(()=>{le(Un(E,"redirect-cancelled-by-user"))},2e3))}function Ot(){"visible"===document?.visibilityState&&_t()}v.addPassiveListener(Ge),document.addEventListener("resume",_t,!1),rl()&&document.addEventListener("visibilitychange",Ot,!1),V=()=>{v.removePassiveListener(Ge),document.removeEventListener("resume",_t,!1),document.removeEventListener("visibilitychange",Ot,!1),Ce&&window.clearTimeout(Ce)}})}finally{V()}})).apply(this,arguments)}function Fp(){return(Fp=(0,J.Z)(function*(E){const v=function Lp(E){if(_i(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const v=new ArrayBuffer(E.length),y=new Uint8Array(v);for(let T=0;T<E.length;T++)y[T]=E.charCodeAt(T);return y}(E),y=yield crypto.subtle.digest("SHA-256",v);return Array.from(new Uint8Array(y)).map(V=>V.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class UT extends Ux{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(v=>{this.resolveInialized=v})}addPassiveListener(v){this.passiveListeners.add(v)}removePassiveListener(v){this.passiveListeners.delete(v)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(v){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(v)),super.onEvent(v)}initialized(){var v=this;return(0,J.Z)(function*(){yield v.initPromise})()}}function hv(E){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,J.Z)(function*(E){const v=yield cl()._get(fv(E));return v&&(yield cl()._remove(fv(E))),v})).apply(this,arguments)}function Bp(){const E=[];for(let y=0;y<20;y++){const T=Math.floor(62*Math.random());E.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(T))}return E.join("")}function cl(){return Pe(hh)}function fv(E){return tn("authEvent",E.config.apiKey,E.name)}function ql(E){if(!E?.includes("?"))return{};const[v,...y]=E.split("?");return(0,me.zd)(y.join("?"))}const GT=class As{constructor(){this._redirectPersistence=Sc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gh,this._overrideRedirectResult=Q_}_initialize(v){var y=this;return(0,J.Z)(function*(){const T=v._key();let V=y.eventManagers.get(T);return V||(V=new UT(v),y.eventManagers.set(T,V),y.attachCallbackListeners(v,V)),V})()}_openPopup(v){Vt(v,"operation-not-supported-in-this-environment")}_openRedirect(v,y,T,V){var G=this;return(0,J.Z)(function*(){!function Np(E){var v,y,T,V,G,le,Ce,Ge,_t,Ot;const It=la();qe("function"==typeof(null===(v=It?.universalLinks)||void 0===v?void 0:v.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),qe(typeof(null===(y=It?.BuildInfo)||void 0===y?void 0:y.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),qe("function"==typeof(null===(G=null===(V=null===(T=It?.cordova)||void 0===T?void 0:T.plugins)||void 0===V?void 0:V.browsertab)||void 0===G?void 0:G.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qe("function"==typeof(null===(Ge=null===(Ce=null===(le=It?.cordova)||void 0===le?void 0:le.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===Ge?void 0:Ge.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),qe("function"==typeof(null===(Ot=null===(_t=It?.cordova)||void 0===_t?void 0:_t.InAppBrowser)||void 0===Ot?void 0:Ot.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(v);const le=yield G._initialize(v);yield le.initialized(),le.resetRedirect(),function ET(){Ad.clear()}(),yield G._originValidation(v);const Ce=function ew(E,v,y=null){return{type:v,eventId:y,urlResponse:null,sessionId:Bp(),postBody:null,tenantId:E.tenantId,error:Un(E,"no-auth-event")}}(v,T,V);yield function tw(E,v){return cl()._set(fv(E),v)}(v,Ce);const Ge=yield function Pp(E,v,y){return Qx.apply(this,arguments)}(v,Ce,y),_t=yield function HT(E){const{cordova:v}=la();return new Promise(y=>{v.plugins.browsertab.isAvailable(T=>{let V=null;T?v.plugins.browsertab.openUrl(E):V=v.InAppBrowser.open(E,function Lt(E=(0,me.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),y(V)})})}(Ge);return function Ua(E,v,y){return cv.apply(this,arguments)}(v,le,_t)})()}_isIframeWebStorageSupported(v,y){throw new Error("Method not implemented.")}_originValidation(v){const y=v._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Jx(E){return Op.apply(this,arguments)}(v)),this.originValidationPromises[y]}attachCallbackListeners(v,y){const{universalLinks:T,handleOpenURL:V,BuildInfo:G}=la(),le=setTimeout((0,J.Z)(function*(){yield hv(v),y.onEvent(Mi())}),500),Ce=function(){var Ot=(0,J.Z)(function*(It){clearTimeout(le);const Ei=yield hv(v);let ca=null;Ei&&It?.url&&(ca=function jT(E,v){var y,T;const V=function iw(E){const v=ql(E),y=v.link?decodeURIComponent(v.link):void 0,T=ql(y).link,V=v.deep_link_id?decodeURIComponent(v.deep_link_id):void 0;return ql(V).link||V||T||y||E}(v);if(V.includes("/__/auth/callback")){const G=ql(V),le=G.firebaseError?function nw(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(G.firebaseError)):null,Ce=null===(T=null===(y=le?.code)||void 0===y?void 0:y.split("auth/"))||void 0===T?void 0:T[1],Ge=Ce?Un(Ce):null;return Ge?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:Ge,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:V,postBody:null}}return null}(Ei,It.url)),y.onEvent(ca||Mi())});return function(Ei){return Ot.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,Ce);const Ge=V,_t=`${G.packageName.toLowerCase()}://`;la().handleOpenURL=function(){var Ot=(0,J.Z)(function*(It){if(It.toLowerCase().startsWith(_t)&&Ce({url:It}),"function"==typeof Ge)try{Ge(It)}catch(Ei){console.error(Ei)}});return function(It){return Ot.apply(this,arguments)}}()}};function Mi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Un("no-auth-event")}}function ja(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function Rc(E=(0,me.z$)()){return!("file:"!==ja()&&"ionic:"!==ja()&&"capacitor:"!==ja()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function ow(){try{const E=self.localStorage,v=oa();if(E)return E.setItem(v,"1"),E.removeItem(v),!function N2(E=(0,me.z$)()){return function gv(){return(0,me.w1)()&&11===document?.documentMode}()||function Fd(E=(0,me.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,me.hl)()}catch{return aw()&&(0,me.hl)()}return!1}function aw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function lw(){return(function Nd(){return"http:"===ja()||"https:"===ja()}()||(0,me.ru)()||Rc())&&!function sw(){return(0,me.b$)()||(0,me.UG)()}()&&ow()&&!aw()}function YT(){return Rc()&&typeof document<"u"}function cw(){return(cw=(0,J.Z)(function*(){return!!YT()&&new Promise(E=>{const v=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(v),E(!0)})})})).apply(this,arguments)}const qr={LOCAL:"local",NONE:"none",SESSION:"session"},xh=qe,dw="persistence";function mv(E){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,J.Z)(function*(E){yield E._initializationPromise;const v=uo(),y=tn(dw,E.config.apiKey,E.name);v&&v.setItem(y,E._getPersistence())})).apply(this,arguments)}function uo(){var E;try{return(null===(E=function L2(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const Ld=qe;class dl{constructor(){this.browserResolver=Pe(yh),this.cordovaResolver=Pe(GT),this.underlyingResolver=null,this._redirectPersistence=Sc,this._completeRedirectFn=gh,this._overrideRedirectResult=Q_}_initialize(v){var y=this;return(0,J.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(v)})()}_openPopup(v,y,T,V){var G=this;return(0,J.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._openPopup(v,y,T,V)})()}_openRedirect(v,y,T,V){var G=this;return(0,J.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._openRedirect(v,y,T,V)})()}_isIframeWebStorageSupported(v,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(v,y)}_originValidation(v){return this.assertedUnderlyingResolver._originValidation(v)}get _shouldInitProactively(){return YT()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ld(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var v=this;return(0,J.Z)(function*(){if(v.underlyingResolver)return;const y=yield function F2(){return cw.apply(this,arguments)}();v.underlyingResolver=y?v.cordovaResolver:v.browserResolver})()}}function wh(E){return E.unwrap()}function XT(E){return uw(E)}function uw(E){const{_tokenResponse:v}=E instanceof me.ZR?E.customData:E;if(!v)return null;if(!(E instanceof me.ZR)&&"temporaryProof"in v&&"phoneNumber"in v)return Td.credentialFromResult(E);const y=v.providerId;if(!y||y===cn.PASSWORD)return null;let T;switch(y){case cn.GOOGLE:T=vx;break;case cn.FACEBOOK:T=_x;break;case cn.GITHUB:T=Ma;break;case cn.TWITTER:T=th;break;default:const{oauthIdToken:V,oauthAccessToken:G,oauthTokenSecret:le,pendingToken:Ce,nonce:Ge}=v;return G||le||V||Ce?Ce?y.startsWith("saml.")?rs._create(y,Ce):ol._fromParams({providerId:y,signInMethod:y,pendingToken:Ce,idToken:V,accessToken:G}):new md(y).credential({idToken:V,accessToken:G,rawNonce:Ge}):null}return E instanceof me.ZR?T.credentialFromError(E):T.credentialFromResult(E)}function ho(E,v){return v.catch(y=>{throw y instanceof me.ZR&&function V2(E,v){var y;const T=null===(y=v.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===v?.code)v.resolver=new Vd(E,function p2(E,v){var y;const T=(0,me.m9)(E),V=v;return qe(v.customData.operationType,T,"argument-error"),qe(null===(y=V.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,T,"argument-error"),L_._fromError(T,V)}(E,v));else if(T){const V=uw(v),G=v;V&&(G.credential=V,G.tenantId=T.tenantId||void 0,G.email=T.email||void 0,G.phoneNumber=T.phoneNumber||void 0)}}(E,y),y}).then(y=>{const V=y.user;return{operationType:y.operationType,credential:XT(y),additionalUserInfo:Va(y),user:Zl.getOrCreate(V)}})}function ks(E,v){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,J.Z)(function*(E,v){const y=yield v;return{verificationId:y.verificationId,confirm:T=>ho(E,y.confirm(T))}})).apply(this,arguments)}class Vd{constructor(v,y){this.resolver=y,this.auth=function Ch(E){return E.wrapped()}(v)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(v){return ho(wh(this.auth),this.resolver.resolveSignIn(v))}}class Zl{constructor(v){this._delegate=v,this.multiFactor=function _2(E){const v=(0,me.m9)(E);return Tx.has(v)||Tx.set(v,Ix._fromUser(v)),Tx.get(v)}(v)}static getOrCreate(v){return Zl.USER_MAP.has(v)||Zl.USER_MAP.set(v,new Zl(v)),Zl.USER_MAP.get(v)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(v){return this._delegate.getIdTokenResult(v)}getIdToken(v){return this._delegate.getIdToken(v)}linkAndRetrieveDataWithCredential(v){return this.linkWithCredential(v)}linkWithCredential(v){var y=this;return(0,J.Z)(function*(){return ho(y.auth,xx(y._delegate,v))})()}linkWithPhoneNumber(v,y){var T=this;return(0,J.Z)(function*(){return ks(T.auth,function bT(E,v,y){return G_.apply(this,arguments)}(T._delegate,v,y))})()}linkWithPopup(v){var y=this;return(0,J.Z)(function*(){return ho(y.auth,function $l(E,v,y){return wp.apply(this,arguments)}(y._delegate,v,dl))})()}linkWithRedirect(v){var y=this;return(0,J.Z)(function*(){return yield mv(I(y.auth)),tt(y._delegate,v,dl)})()}reauthenticateAndRetrieveDataWithCredential(v){return this.reauthenticateWithCredential(v)}reauthenticateWithCredential(v){var y=this;return(0,J.Z)(function*(){return ho(y.auth,wx(y._delegate,v))})()}reauthenticateWithPhoneNumber(v,y){return ks(this.auth,function Lx(E,v,y){return yp.apply(this,arguments)}(this._delegate,v,y))}reauthenticateWithPopup(v){return ho(this.auth,function wT(E,v,y){return Z_.apply(this,arguments)}(this._delegate,v,dl))}reauthenticateWithRedirect(v){var y=this;return(0,J.Z)(function*(){return yield mv(I(y.auth)),IT(y._delegate,v,dl)})()}sendEmailVerification(v){return function vd(E,v){return rn.apply(this,arguments)}(this._delegate,v)}unlink(v){var y=this;return(0,J.Z)(function*(){return yield function yx(E,v){return Dc.apply(this,arguments)}(y._delegate,v),y})()}updateEmail(v){return function Na(E,v){return P_((0,me.m9)(E),v,null)}(this._delegate,v)}updatePassword(v){return function ch(E,v){return P_((0,me.m9)(E),null,v)}(this._delegate,v)}updatePhoneNumber(v){return function xT(E,v){return Vo.apply(this,arguments)}(this._delegate,v)}updateProfile(v){return function lh(E,v){return Ul.apply(this,arguments)}(this._delegate,v)}verifyBeforeUpdateEmail(v,y){return function ah(E,v,y){return fp.apply(this,arguments)}(this._delegate,v,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zl.USER_MAP=new WeakMap;const Bd=qe;let hw=(()=>{class E{constructor(y,T){if(this.app=y,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:V}=y.options;Bd(V,"invalid-api-key",{appName:y.name}),Bd(V,"invalid-api-key",{appName:y.name});const G=typeof window<"u"?dl:void 0;this._delegate=T.initialize({options:{persistence:ZT(V,y.name),popupRedirectResolver:G}}),this._delegate._updateErrorMap(En),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,T){!function re(E,v,y){const T=I(E);qe(T._canInitEmulator,T,"emulator-config-failed"),qe(/^https?:\/\//.test(v),T,"invalid-emulator-scheme");const V=!!y?.disableWarnings,G=He(v),{host:le,port:Ce}=function Ae(E){const v=He(E),y=/(\/\/)?([^?#/]+)/.exec(E.substr(v.length));if(!y)return{host:"",port:null};const T=y[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(T);if(V){const G=V[1];return{host:G,port:mt(T.substr(G.length+1))}}{const[G,le]=T.split(":");return{host:G,port:mt(le)}}}(v);T.config.emulator={url:`${G}//${le}${null===Ce?"":`:${Ce}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:le,port:Ce,protocol:G.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function nn(){function E(){const v=document.createElement("p"),y=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,y,T)}applyActionCode(y){return function Is(E,v){return zl.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return js(this._delegate,y)}confirmPasswordReset(y,T){return function $n(E,v,y){return kr.apply(this,arguments)}(this._delegate,y,T)}createUserWithEmailAndPassword(y,T){var V=this;return(0,J.Z)(function*(){return ho(V._delegate,function lT(E,v,y){return R_.apply(this,arguments)}(V._delegate,y,T))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function hr(E,v){return Oa.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function Vi(E,v){const y=pd.parseLink(v);return"EMAIL_SIGNIN"===y?.operation}(0,y)}getRedirectResult(){var y=this;return(0,J.Z)(function*(){Bd(lw(),y._delegate,"operation-not-supported-in-this-environment");const T=yield function Ct(E,v){return Or.apply(this,arguments)}(y._delegate,dl);return T?ho(y._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function pv(E,v){I(E)._logFramework(v)}(this._delegate,y)}onAuthStateChanged(y,T,V){const{next:G,error:le,complete:Ce}=fw(y,T,V);return this._delegate.onAuthStateChanged(G,le,Ce)}onIdTokenChanged(y,T,V){const{next:G,error:le,complete:Ce}=fw(y,T,V);return this._delegate.onIdTokenChanged(G,le,Ce)}sendSignInLinkToEmail(y,T){return function Et(E,v,y){return un.apply(this,arguments)}(this._delegate,y,T)}sendPasswordResetEmail(y,T){return function je(E,v,y){return Ar.apply(this,arguments)}(this._delegate,y,T||void 0)}setPersistence(y){var T=this;return(0,J.Z)(function*(){let V;switch(function Nr(E,v){xh(Object.values(qr).includes(v),E,"invalid-persistence-type"),(0,me.b$)()?xh(v!==qr.SESSION,E,"unsupported-persistence-type"):(0,me.UG)()?xh(v===qr.NONE,E,"unsupported-persistence-type"):aw()?xh(v===qr.NONE||v===qr.LOCAL&&(0,me.hl)(),E,"unsupported-persistence-type"):xh(v===qr.NONE||ow(),E,"unsupported-persistence-type")}(T._delegate,y),y){case qr.SESSION:V=Sc;break;case qr.LOCAL:V=(yield Pe(Dd)._isAvailable())?Dd:hh;break;case qr.NONE:V=Sn;break;default:return Vt("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(V)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return ho(this._delegate,function ih(E){return rp.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return ho(this._delegate,sh(this._delegate,y))}signInWithCustomToken(y){return ho(this._delegate,function aT(E,v){return Wt.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,T){return ho(this._delegate,function or(E,v,y){return sh((0,me.m9)(E),gd.credential(v,y)).catch(function(){var T=(0,J.Z)(function*(V){throw"auth/password-does-not-meet-requirements"===V.code&&M_(E),V});return function(V){return T.apply(this,arguments)}}())}(this._delegate,y,T))}signInWithEmailLink(y,T){return ho(this._delegate,function sa(E,v,y){return Ic.apply(this,arguments)}(this._delegate,y,T))}signInWithPhoneNumber(y,T){return ks(this._delegate,function Nn(E,v,y){return vp.apply(this,arguments)}(this._delegate,y,T))}signInWithPopup(y){var T=this;return(0,J.Z)(function*(){return Bd(lw(),T._delegate,"operation-not-supported-in-this-environment"),ho(T._delegate,function co(E,v,y){return X_.apply(this,arguments)}(T._delegate,y,dl))})()}signInWithRedirect(y){var T=this;return(0,J.Z)(function*(){return Bd(lw(),T._delegate,"operation-not-supported-in-this-environment"),yield mv(T._delegate),kd(T._delegate,y,dl)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function Cx(E,v){return _d.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=qr,E})();function fw(E,v,y){let T=E;"function"!=typeof E&&({next:T,error:v,complete:y}=E);const V=T;return{next:le=>V(le&&Zl.getOrCreate(le)),error:v,complete:y}}function ZT(E,v){const y=function qT(E,v){const y=uo();if(!y)return[];const T=tn(dw,E,v);switch(y.getItem(T)){case qr.NONE:return[Sn];case qr.LOCAL:return[Dd,Sc];case qr.SESSION:return[Sc];default:return[]}}(E,v);if(typeof self<"u"&&!y.includes(Dd)&&y.push(Dd),typeof window<"u")for(const T of[hh,Sc])y.includes(T)||y.push(T);return y.includes(Sn)||y.push(Sn),y}class _v{constructor(){this.providerId="phone",this._delegate=new Td(wh(Bt.Z.auth()))}static credential(v,y){return Td.credential(v,y)}verifyPhoneNumber(v,y){return this._delegate.verifyPhoneNumber(v,y)}unwrap(){return this._delegate}}_v.PHONE_SIGN_IN_METHOD=Td.PHONE_SIGN_IN_METHOD,_v.PROVIDER_ID=Td.PROVIDER_ID;const KT=qe;class QT{constructor(v,y,T=Bt.Z.app()){var V;KT(null===(V=T.options)||void 0===V?void 0:V.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new yT(T.auth(),v,y),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function zp(E){E.INTERNAL.registerComponent(new ot.wA("auth-compat",v=>{const y=v.getProvider("app-compat").getImmediate(),T=v.getProvider("auth");return new hw(y,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:gd,FacebookAuthProvider:_x,GithubAuthProvider:Ma,GoogleAuthProvider:vx,OAuthProvider:md,SAMLAuthProvider:Vn,PhoneAuthProvider:_v,PhoneMultiFactorGenerator:Kx,RecaptchaVerifier:QT,TwitterAuthProvider:th,Auth:hw,AuthCredential:dn,Error:me.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.4.8")}(Bt.Z)},168:(ts,Yi,en)=>{en.d(Yi,{Z:()=>En});var J=en(963),Bt=en(427),me=en(211),Mt=en(383);class Ue{constructor(Kt,he){this._delegate=Kt,this.firebase=he,(0,me._addComponent)(Kt,new Bt.wA("app-compat",()=>this,"PUBLIC")),this.container=Kt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Kt){this._delegate.automaticDataCollectionEnabled=Kt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Kt=>{this._delegate.checkDestroyed(),Kt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,me.deleteApp)(this._delegate)))}_getService(Kt,he=me._DEFAULT_ENTRY_NAME){var Ci;this._delegate.checkDestroyed();const Tn=this._delegate.container.getProvider(Kt);return!Tn.isInitialized()&&"EXPLICIT"===(null===(Ci=Tn.getComponent())||void 0===Ci?void 0:Ci.instantiationMode)&&Tn.initialize(),Tn.getImmediate({identifier:he})}_removeServiceInstance(Kt,he=me._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Kt).clearInstance(he)}_addComponent(Kt){(0,me._addComponent)(this._delegate,Kt)}_addOrOverwriteComponent(Kt){(0,me._addOrOverwriteComponent)(this._delegate,Kt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ot=new J.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ye=function cn(){const Rn=function hi(Rn){const Kt={},he={__esModule:!0,initializeApp:function Le(an,rr={}){const qe=me.initializeApp(an,rr);if((0,J.r3)(Kt,qe.name))return Kt[qe.name];const jn=new Rn(qe,he);return Kt[qe.name]=jn,jn},app:Tn,registerVersion:me.registerVersion,setLogLevel:me.setLogLevel,onLog:me.onLog,apps:null,SDK_VERSION:me.SDK_VERSION,INTERNAL:{registerComponent:function Un(an){const rr=an.name,qe=rr.replace("-compat","");if(me._registerComponent(an)&&"PUBLIC"===an.type){const jn=(_i=Tn())=>{if("function"!=typeof _i[qe])throw ot.create("invalid-app-argument",{appName:rr});return _i[qe]()};void 0!==an.serviceProps&&(0,J.ZB)(jn,an.serviceProps),he[qe]=jn,Rn.prototype[qe]=function(..._i){return this._getService.bind(this,rr).apply(this,an.multipleInstances?_i:[])}}return"PUBLIC"===an.type?he[qe]:null},removeApp:function Ci(an){delete Kt[an]},useAsService:function Gr(an,rr){return"serverAuth"===rr?null:rr},modularAPIs:me}};function Tn(an){if(!(0,J.r3)(Kt,an=an||me._DEFAULT_ENTRY_NAME))throw ot.create("no-app",{appName:an});return Kt[an]}return he.default=he,Object.defineProperty(he,"apps",{get:function Vt(){return Object.keys(Kt).map(an=>Kt[an])}}),Tn.App=Rn,he}(Ue);return Rn.INTERNAL=Object.assign(Object.assign({},Rn.INTERNAL),{createFirebaseNamespace:cn,extendNamespace:function Kt(he){(0,J.ZB)(Rn,he)},createSubscribe:J.ne,ErrorFactory:J.LL,deepExtend:J.ZB}),Rn}(),st=new Mt.Yd("@firebase/app-compat");if((0,J.jU)()&&void 0!==self.firebase){st.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Rn=self.firebase.SDK_VERSION;Rn&&Rn.indexOf("LITE")>=0&&st.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const En=Ye;!function In(Rn){(0,me.registerVersion)("@firebase/app-compat","0.2.22",Rn)}()},211:(ts,Yi,en)=>{en.r(Yi),en.d(Yi,{FirebaseError:()=>Mt.ZR,SDK_VERSION:()=>ta,_DEFAULT_ENTRY_NAME:()=>yn,_addComponent:()=>Ds,_addOrOverwriteComponent:()=>Xi,_apps:()=>Li,_clearComponents:()=>oi,_components:()=>yr,_getProvider:()=>On,_registerComponent:()=>sr,_removeServiceInstance:()=>Gn,deleteApp:()=>Zi,getApp:()=>Aa,getApps:()=>Ll,initializeApp:()=>No,onLog:()=>nl,registerVersion:()=>Fo,setLogLevel:()=>hd});var J=en(861),Bt=en(427),me=en(383),Mt=en(963);const Ue=(we,ve)=>ve.some(it=>we instanceof it);let mi,ot;const Ye=new WeakMap,st=new WeakMap,Tt=new WeakMap,on=new WeakMap,In=new WeakMap;let Kt={get(we,ve,it){if(we instanceof IDBTransaction){if("done"===ve)return st.get(we);if("objectStoreNames"===ve)return we.objectStoreNames||Tt.get(we);if("store"===ve)return it.objectStoreNames[1]?void 0:it.objectStore(it.objectStoreNames[0])}return Le(we[ve])},set:(we,ve,it)=>(we[ve]=it,!0),has:(we,ve)=>we instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in we};function Tn(we){return"function"==typeof we?function Ci(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cn(){return ot||(ot=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...ve){return we.apply(Vt(this),ve),Le(Ye.get(this))}:function(...ve){return Le(we.apply(Vt(this),ve))}:function(ve,...it){const Lt=we.call(Vt(this),ve,...it);return Tt.set(Lt,ve.sort?ve.sort():[ve]),Le(Lt)}}(we):(we instanceof IDBTransaction&&function Rn(we){if(st.has(we))return;const ve=new Promise((it,Lt)=>{const B=()=>{we.removeEventListener("complete",a),we.removeEventListener("error",l),we.removeEventListener("abort",l)},a=()=>{it(),B()},l=()=>{Lt(we.error||new DOMException("AbortError","AbortError")),B()};we.addEventListener("complete",a),we.addEventListener("error",l),we.addEventListener("abort",l)});st.set(we,ve)}(we),Ue(we,function hi(){return mi||(mi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,Kt):we)}function Le(we){if(we instanceof IDBRequest)return function En(we){const ve=new Promise((it,Lt)=>{const B=()=>{we.removeEventListener("success",a),we.removeEventListener("error",l)},a=()=>{it(Le(we.result)),B()},l=()=>{Lt(we.error),B()};we.addEventListener("success",a),we.addEventListener("error",l)});return ve.then(it=>{it instanceof IDBCursor&&Ye.set(it,we)}).catch(()=>{}),In.set(ve,we),ve}(we);if(on.has(we))return on.get(we);const ve=Tn(we);return ve!==we&&(on.set(we,ve),In.set(ve,we)),ve}const Vt=we=>In.get(we),an=["get","getKey","getAll","getAllKeys","count"],rr=["put","add","delete","clear"],qe=new Map;function jn(we,ve){if(!(we instanceof IDBDatabase)||ve in we||"string"!=typeof ve)return;if(qe.get(ve))return qe.get(ve);const it=ve.replace(/FromIndex$/,""),Lt=ve!==it,B=rr.includes(it);if(!(it in(Lt?IDBIndex:IDBObjectStore).prototype)||!B&&!an.includes(it))return;const a=function(){var l=(0,J.Z)(function*(d,...h){const p=this.transaction(d,B?"readwrite":"readonly");let g=p.store;return Lt&&(g=g.index(h.shift())),(yield Promise.all([g[it](...h),B&&p.done]))[0]});return function(h){return l.apply(this,arguments)}}();return qe.set(ve,a),a}!function he(we){Kt=we(Kt)}(we=>({...we,get:(ve,it,Lt)=>jn(ve,it)||we.get(ve,it,Lt),has:(ve,it)=>!!jn(ve,it)||we.has(ve,it)}));class _i{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function mn(we){const ve=we.getComponent();return"VERSION"===ve?.type}(it)){const Lt=it.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(it=>it).join(" ")}}const $r="@firebase/app",zt=new me.Yd("@firebase/app"),yn="[DEFAULT]",Fi={[$r]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Li=new Map,yr=new Map;function Ds(we,ve){try{we.container.addComponent(ve)}catch(it){zt.debug(`Component ${ve.name} failed to register with FirebaseApp ${we.name}`,it)}}function Xi(we,ve){we.container.addOrOverwriteComponent(ve)}function sr(we){const ve=we.name;if(yr.has(ve))return zt.debug(`There were multiple attempts to register component ${ve}.`),!1;yr.set(ve,we);for(const it of Li.values())Ds(it,we);return!0}function On(we,ve){const it=we.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),we.container.getProvider(ve)}function Gn(we,ve,it=yn){On(we,ve).clearInstance(it)}function oi(){yr.clear()}const ns=new Mt.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yr{constructor(ve,it,Lt){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new Bt.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const ta="10.5.2";function No(we,ve={}){let it=we;"object"!=typeof ve&&(ve={name:ve});const Lt=Object.assign({name:yn,automaticDataCollectionEnabled:!1},ve),B=Lt.name;if("string"!=typeof B||!B)throw ns.create("bad-app-name",{appName:String(B)});if(it||(it=(0,Mt.aH)()),!it)throw ns.create("no-options");const a=Li.get(B);if(a){if((0,Mt.vZ)(it,a.options)&&(0,Mt.vZ)(Lt,a.config))return a;throw ns.create("duplicate-app",{appName:B})}const l=new Bt.H0(B);for(const h of yr.values())l.addComponent(h);const d=new Yr(it,Lt,l);return Li.set(B,d),d}function Aa(we=yn){const ve=Li.get(we);if(!ve&&we===yn&&(0,Mt.aH)())return No();if(!ve)throw ns.create("no-app",{appName:we});return ve}function Ll(){return Array.from(Li.values())}function Zi(we){return is.apply(this,arguments)}function is(){return(is=(0,J.Z)(function*(we){const ve=we.name;Li.has(ve)&&(Li.delete(ve),yield Promise.all(we.container.getProviders().map(it=>it.delete())),we.isDeleted=!0)})).apply(this,arguments)}function Fo(we,ve,it){var Lt;let B=null!==(Lt=Fi[we])&&void 0!==Lt?Lt:we;it&&(B+=`-${it}`);const a=B.match(/\s|\//),l=ve.match(/\s|\//);if(a||l){const d=[`Unable to register library "${B}" with version "${ve}":`];return a&&d.push(`library name "${B}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void zt.warn(d.join(" "))}sr(new Bt.wA(`${B}-version`,()=>({library:B,version:ve}),"VERSION"))}function nl(we,ve){if(null!==we&&"function"!=typeof we)throw ns.create("invalid-log-argument");(0,me.Am)(we,ve)}function hd(we){(0,me.Ub)(we)}const Vl="firebase-heartbeat-database",il=1,fe="firebase-heartbeat-store";let ae=null;function de(){return ae||(ae=function Un(we,ve,{blocked:it,upgrade:Lt,blocking:B,terminated:a}={}){const l=indexedDB.open(we,ve),d=Le(l);return Lt&&l.addEventListener("upgradeneeded",h=>{Lt(Le(l.result),h.oldVersion,h.newVersion,Le(l.transaction),h)}),it&&l.addEventListener("blocked",h=>it(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),B&&h.addEventListener("versionchange",p=>B(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}(Vl,il,{upgrade:(we,ve)=>{0===ve&&we.createObjectStore(fe)}}).catch(we=>{throw ns.create("idb-open",{originalErrorMessage:we.message})})),ae}function be(){return(be=(0,J.Z)(function*(we){try{return yield(yield de()).transaction(fe).objectStore(fe).get(Sn(we))}catch(ve){if(ve instanceof Mt.ZR)zt.warn(ve.message);else{const it=ns.create("idb-get",{originalErrorMessage:ve?.message});zt.warn(it.message)}}})).apply(this,arguments)}function Pe(we,ve){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,J.Z)(function*(we,ve){try{const Lt=(yield de()).transaction(fe,"readwrite");yield Lt.objectStore(fe).put(ve,Sn(we)),yield Lt.done}catch(it){if(it instanceof Mt.ZR)zt.warn(it.message);else{const Lt=ns.create("idb-set",{originalErrorMessage:it?.message});zt.warn(Lt.message)}}})).apply(this,arguments)}function Sn(we){return`${we.name}!${we.options.appId}`}class hs{constructor(ve){this.container=ve,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new fi(it),this._heartbeatsCachePromise=this._storage.read().then(Lt=>(this._heartbeatsCache=Lt,Lt))}triggerHeartbeat(){var ve=this;return(0,J.Z)(function*(){const Lt=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),B=Nt();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==B&&!ve._heartbeatsCache.heartbeats.some(a=>a.date===B))return ve._heartbeatsCache.heartbeats.push({date:B,agent:Lt}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,J.Z)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const it=Nt(),{heartbeatsToSend:Lt,unsentEntries:B}=function br(we,ve=1024){const it=[];let Lt=we.slice();for(const B of we){const a=it.find(l=>l.agent===B.agent);if(a){if(a.dates.push(B.date),na(it)>ve){a.dates.pop();break}}else if(it.push({agent:B.agent,dates:[B.date]}),na(it)>ve){it.pop();break}Lt=Lt.slice(1)}return{heartbeatsToSend:it,unsentEntries:Lt}}(ve._heartbeatsCache.heartbeats),a=(0,Mt.L)(JSON.stringify({version:2,heartbeats:Lt}));return ve._heartbeatsCache.lastSentHeartbeatDate=it,B.length>0?(ve._heartbeatsCache.heartbeats=B,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),a})()}}function Nt(){return(new Date).toISOString().substring(0,10)}class fi{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,J.Z)(function*(){return!!(0,Mt.hl)()&&(0,Mt.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,J.Z)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function Fe(we){return be.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var it=this;return(0,J.Z)(function*(){var Lt;if(yield it._canUseIndexedDBPromise){const a=yield it.read();return Pe(it.app,{lastSentHeartbeatDate:null!==(Lt=ve.lastSentHeartbeatDate)&&void 0!==Lt?Lt:a.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var it=this;return(0,J.Z)(function*(){var Lt;if(yield it._canUseIndexedDBPromise){const a=yield it.read();return Pe(it.app,{lastSentHeartbeatDate:null!==(Lt=ve.lastSentHeartbeatDate)&&void 0!==Lt?Lt:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...ve.heartbeats]})}})()}}function na(we){return(0,Mt.L)(JSON.stringify({version:2,heartbeats:we})).length}!function rl(we){sr(new Bt.wA("platform-logger",ve=>new _i(ve),"PRIVATE")),sr(new Bt.wA("heartbeat",ve=>new hs(ve),"PRIVATE")),Fo($r,"0.9.22",we),Fo($r,"0.9.22","esm2017"),Fo("fire-js","")}("")},427:(ts,Yi,en)=>{en.d(Yi,{H0:()=>hi,wA:()=>me,zt:()=>Ue});var J=en(861),Bt=en(963);class me{constructor(Ye,st,Tt){this.name=Ye,this.instanceFactory=st,this.type=Tt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ye){return this.instantiationMode=Ye,this}setMultipleInstances(Ye){return this.multipleInstances=Ye,this}setServiceProps(Ye){return this.serviceProps=Ye,this}setInstanceCreatedCallback(Ye){return this.onInstanceCreated=Ye,this}}const Mt="[DEFAULT]";class Ue{constructor(Ye,st){this.name=Ye,this.container=st,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ye){const st=this.normalizeInstanceIdentifier(Ye);if(!this.instancesDeferred.has(st)){const Tt=new Bt.BH;if(this.instancesDeferred.set(st,Tt),this.isInitialized(st)||this.shouldAutoInitialize())try{const on=this.getOrInitializeService({instanceIdentifier:st});on&&Tt.resolve(on)}catch{}}return this.instancesDeferred.get(st).promise}getImmediate(Ye){var st;const Tt=this.normalizeInstanceIdentifier(Ye?.identifier),on=null!==(st=Ye?.optional)&&void 0!==st&&st;if(!this.isInitialized(Tt)&&!this.shouldAutoInitialize()){if(on)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Tt})}catch(In){if(on)return null;throw In}}getComponent(){return this.component}setComponent(Ye){if(Ye.name!==this.name)throw Error(`Mismatching Component ${Ye.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ye,this.shouldAutoInitialize()){if(function ot(cn){return"EAGER"===cn.instantiationMode}(Ye))try{this.getOrInitializeService({instanceIdentifier:Mt})}catch{}for(const[st,Tt]of this.instancesDeferred.entries()){const on=this.normalizeInstanceIdentifier(st);try{const In=this.getOrInitializeService({instanceIdentifier:on});Tt.resolve(In)}catch{}}}}clearInstance(Ye=Mt){this.instancesDeferred.delete(Ye),this.instancesOptions.delete(Ye),this.instances.delete(Ye)}delete(){var Ye=this;return(0,J.Z)(function*(){const st=Array.from(Ye.instances.values());yield Promise.all([...st.filter(Tt=>"INTERNAL"in Tt).map(Tt=>Tt.INTERNAL.delete()),...st.filter(Tt=>"_delete"in Tt).map(Tt=>Tt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ye=Mt){return this.instances.has(Ye)}getOptions(Ye=Mt){return this.instancesOptions.get(Ye)||{}}initialize(Ye={}){const{options:st={}}=Ye,Tt=this.normalizeInstanceIdentifier(Ye.instanceIdentifier);if(this.isInitialized(Tt))throw Error(`${this.name}(${Tt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const on=this.getOrInitializeService({instanceIdentifier:Tt,options:st});for(const[In,En]of this.instancesDeferred.entries())Tt===this.normalizeInstanceIdentifier(In)&&En.resolve(on);return on}onInit(Ye,st){var Tt;const on=this.normalizeInstanceIdentifier(st),In=null!==(Tt=this.onInitCallbacks.get(on))&&void 0!==Tt?Tt:new Set;In.add(Ye),this.onInitCallbacks.set(on,In);const En=this.instances.get(on);return En&&Ye(En,on),()=>{In.delete(Ye)}}invokeOnInitCallbacks(Ye,st){const Tt=this.onInitCallbacks.get(st);if(Tt)for(const on of Tt)try{on(Ye,st)}catch{}}getOrInitializeService({instanceIdentifier:Ye,options:st={}}){let Tt=this.instances.get(Ye);if(!Tt&&this.component&&(Tt=this.component.instanceFactory(this.container,{instanceIdentifier:(cn=Ye,cn===Mt?void 0:cn),options:st}),this.instances.set(Ye,Tt),this.instancesOptions.set(Ye,st),this.invokeOnInitCallbacks(Tt,Ye),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ye,Tt)}catch{}var cn;return Tt||null}normalizeInstanceIdentifier(Ye=Mt){return this.component?this.component.multipleInstances?Ye:Mt:Ye}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class hi{constructor(Ye){this.name=Ye,this.providers=new Map}addComponent(Ye){const st=this.getProvider(Ye.name);if(st.isComponentSet())throw new Error(`Component ${Ye.name} has already been registered with ${this.name}`);st.setComponent(Ye)}addOrOverwriteComponent(Ye){this.getProvider(Ye.name).isComponentSet()&&this.providers.delete(Ye.name),this.addComponent(Ye)}getProvider(Ye){if(this.providers.has(Ye))return this.providers.get(Ye);const st=new Ue(Ye,this);return this.providers.set(Ye,st),st}getProviders(){return Array.from(this.providers.values())}}},383:(ts,Yi,en)=>{en.d(Yi,{Am:()=>cn,Ub:()=>hi,Yd:()=>ot,in:()=>Bt});const J=[];var Bt=function(Ye){return Ye[Ye.DEBUG=0]="DEBUG",Ye[Ye.VERBOSE=1]="VERBOSE",Ye[Ye.INFO=2]="INFO",Ye[Ye.WARN=3]="WARN",Ye[Ye.ERROR=4]="ERROR",Ye[Ye.SILENT=5]="SILENT",Ye}(Bt||{});const me={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},Mt=Bt.INFO,Ue={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},mi=(Ye,st,...Tt)=>{if(st<Ye.logLevel)return;const on=(new Date).toISOString(),In=Ue[st];if(!In)throw new Error(`Attempted to log a message with an invalid logType (value: ${st})`);console[In](`[${on}]  ${Ye.name}:`,...Tt)};class ot{constructor(st){this.name=st,this._logLevel=Mt,this._logHandler=mi,this._userLogHandler=null,J.push(this)}get logLevel(){return this._logLevel}set logLevel(st){if(!(st in Bt))throw new TypeError(`Invalid value "${st}" assigned to \`logLevel\``);this._logLevel=st}setLogLevel(st){this._logLevel="string"==typeof st?me[st]:st}get logHandler(){return this._logHandler}set logHandler(st){if("function"!=typeof st)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=st}get userLogHandler(){return this._userLogHandler}set userLogHandler(st){this._userLogHandler=st}debug(...st){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...st),this._logHandler(this,Bt.DEBUG,...st)}log(...st){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...st),this._logHandler(this,Bt.VERBOSE,...st)}info(...st){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...st),this._logHandler(this,Bt.INFO,...st)}warn(...st){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...st),this._logHandler(this,Bt.WARN,...st)}error(...st){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...st),this._logHandler(this,Bt.ERROR,...st)}}function hi(Ye){J.forEach(st=>{st.setLogLevel(Ye)})}function cn(Ye,st){for(const Tt of J){let on=null;st&&st.level&&(on=me[st.level]),Tt.userLogHandler=null===Ye?null:(In,En,...Rn)=>{const Kt=Rn.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(he=>he).join(" ");En>=(on??In.logLevel)&&Ye({level:Bt[En].toLowerCase(),message:Kt,args:Rn,type:In.name})}}}},861:(ts,Yi,en)=>{function J(me,Mt,Ue,mi,ot,hi,cn){try{var Ye=me[hi](cn),st=Ye.value}catch(Tt){return void Ue(Tt)}Ye.done?Mt(st):Promise.resolve(st).then(mi,ot)}function Bt(me){return function(){var Mt=this,Ue=arguments;return new Promise(function(mi,ot){var hi=me.apply(Mt,Ue);function cn(st){J(hi,mi,ot,cn,Ye,"next",st)}function Ye(st){J(hi,mi,ot,cn,Ye,"throw",st)}cn(void 0)})}}en.d(Yi,{Z:()=>Bt})},582:(ts,Yi,en)=>{en.d(Yi,{FC:()=>Vt,KL:()=>Gr,_T:()=>Mt,mG:()=>Tt,pi:()=>me,qq:()=>Le});var me=function(){return me=Object.assign||function(Ne){for(var _e,ze=1,Qe=arguments.length;ze<Qe;ze++)for(var ke in _e=arguments[ze])Object.prototype.hasOwnProperty.call(_e,ke)&&(Ne[ke]=_e[ke]);return Ne},me.apply(this,arguments)};function Mt(Se,Ne){var _e={};for(var ze in Se)Object.prototype.hasOwnProperty.call(Se,ze)&&Ne.indexOf(ze)<0&&(_e[ze]=Se[ze]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(ze=Object.getOwnPropertySymbols(Se);Qe<ze.length;Qe++)Ne.indexOf(ze[Qe])<0&&Object.prototype.propertyIsEnumerable.call(Se,ze[Qe])&&(_e[ze[Qe]]=Se[ze[Qe]])}return _e}function Tt(Se,Ne,_e,ze){return new(_e||(_e=Promise))(function(ke,lt){function _n(vn){try{At(ze.next(vn))}catch(vi){lt(vi)}}function Je(vn){try{At(ze.throw(vn))}catch(vi){lt(vi)}}function At(vn){vn.done?ke(vn.value):function Qe(ke){return ke instanceof _e?ke:new _e(function(lt){lt(ke)})}(vn.value).then(_n,Je)}At((ze=ze.apply(Se,Ne||[])).next())})}function Le(Se){return this instanceof Le?(this.v=Se,this):new Le(Se)}function Vt(Se,Ne,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,ze=_e.apply(Se,Ne||[]),ke=[];return Qe={},lt("next"),lt("throw"),lt("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe;function lt(Pn){ze[Pn]&&(Qe[Pn]=function(qi){return new Promise(function(Si,xe){ke.push([Pn,qi,Si,xe])>1||_n(Pn,qi)})})}function _n(Pn,qi){try{!function Je(Pn){Pn.value instanceof Le?Promise.resolve(Pn.value.v).then(At,vn):vi(ke[0][2],Pn)}(ze[Pn](qi))}catch(Si){vi(ke[0][3],Si)}}function At(Pn){_n("next",Pn)}function vn(Pn){_n("throw",Pn)}function vi(Pn,qi){Pn(qi),ke.shift(),ke.length&&_n(ke[0][0],ke[0][1])}}function Gr(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,Ne=Se[Symbol.asyncIterator];return Ne?Ne.call(Se):(Se=function Rn(Se){var Ne="function"==typeof Symbol&&Symbol.iterator,_e=Ne&&Se[Ne],ze=0;if(_e)return _e.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&ze>=Se.length&&(Se=void 0),{value:Se&&Se[ze++],done:!Se}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),_e={},ze("next"),ze("throw"),ze("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function ze(ke){_e[ke]=Se[ke]&&function(lt){return new Promise(function(_n,Je){!function Qe(ke,lt,_n,Je){Promise.resolve(Je).then(function(At){ke({value:At,done:_n})},lt)}(_n,Je,(lt=Se[ke](lt)).done,lt.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},ts=>{var Yi=J=>ts(ts.s=J);Yi(614),Yi(607)}]);