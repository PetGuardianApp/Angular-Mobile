"use strict";(self.webpackChunkpetguardian_mobile=self.webpackChunkpetguardian_mobile||[]).push([[179],{182:(Jr,Wi,Yt)=>{function ie(n){return"function"==typeof n}function ze(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ae=ze(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function yt(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Ue{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(ie(i))try{i()}catch(s){t=s instanceof ae?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{Bn(s)}catch(o){t=t??[],o instanceof ae?t=[...t,...o.errors]:t.push(o)}}if(t)throw new ae(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Bn(t);else{if(t instanceof Ue){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&yt(e,t)}remove(t){const{_finalizers:e}=this;e&&yt(e,t),t instanceof Ue&&t._removeParent(this)}}Ue.EMPTY=(()=>{const n=new Ue;return n.closed=!0,n})();const Ti=Ue.EMPTY;function ht(n){return n instanceof Ue||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function Bn(n){ie(n)?n():n.unsubscribe()}const yn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ze={setTimeout(n,t,...e){const{delegate:i}=Ze;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Ze;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function rt(n){Ze.setTimeout(()=>{const{onUnhandledError:t}=yn;if(!t)throw n;t(n)})}function Pt(){}const sn=In("C",void 0,void 0);function In(n,t,e){return{kind:n,value:t,error:e}}let nn=null;function fe(n){if(yn.useDeprecatedSynchronousErrorHandling){const t=!nn;if(t&&(nn={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=nn;if(nn=null,e)throw i}}else n()}class bn extends Ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ht(t)&&t.add(this)):this.destination=Yn}static create(t,e,i){return new Ki(t,e,i)}next(t){this.isStopped?Pn(function On(n){return In("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Pn(function zn(n){return In("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Pn(sn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function qt(n,t){return Me.call(n,t)}class Er{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){cn(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){cn(i)}else cn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){cn(e)}}}class Ki extends bn{constructor(t,e,i){let r;if(super(),ie(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&yn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&qt(t.next,s),error:t.error&&qt(t.error,s),complete:t.complete&&qt(t.complete,s)}):r=t}this.destination=new Er(r)}}function cn(n){yn.useDeprecatedSynchronousErrorHandling?function Ii(n){yn.useDeprecatedSynchronousErrorHandling&&nn&&(nn.errorThrown=!0,nn.error=n)}(n):rt(n)}function Pn(n,t){const{onStoppedNotification:e}=yn;e&&Ze.setTimeout(()=>e(n,t))}const Yn={closed:!0,next:Pt,error:function st(n){throw n},complete:Pt},Bi="function"==typeof Symbol&&Symbol.observable||"@@observable";function fn(n){return n}function ls(n){return 0===n.length?fn:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Ht=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function ke(n){return n&&n instanceof bn||function Ur(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}(n)&&ht(n)}(e)?e:new Ki(e,i,r);return fe(()=>{const{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=_r(i))((r,s)=>{const o=new Ki({next:c=>{try{e(c)}catch(d){s(d),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Bi](){return this}pipe(...e){return ls(e)(this)}toPromise(e){return new(e=_r(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function _r(n){var t;return null!==(t=n??yn.Promise)&&void 0!==t?t:Promise}const Ne=ze(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let he=(()=>{class n extends Ht{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Ae(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Ne}next(e){fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Ti:(this.currentObservers=null,s.push(e),new Ue(()=>{this.currentObservers=null,yt(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new Ht;return e.source=this,e}}return n.create=(t,e)=>new Ae(t,e),n})();class Ae extends he{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Ti}}function Je(n){return ie(n?.lift)}function We(n){return t=>{if(Je(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(n,t,e,i,r){return new pn(n,t,e,i,r)}class pn extends bn{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(c){try{e(c)}catch(d){t.error(d)}}:super._next,this._error=r?function(c){try{r(c)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function $e(n,t){return We((e,i)=>{let r=0;e.subscribe(at(i,s=>{i.next(n.call(t,s,r++))}))})}var Bt=Yt(582);const xn=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function bi(n){return ie(n?.then)}function Hn(n){return ie(n[Bi])}function pi(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function Ri(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const we=function Ce(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Oe(n){return ie(n?.[we])}function Ke(n){return(0,Bt.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Bt.qq)(e.read());if(r)return yield(0,Bt.qq)(void 0);yield yield(0,Bt.qq)(i)}}finally{e.releaseLock()}})}function mt(n){return ie(n?.getReader)}function nt(n){if(n instanceof Ht)return n;if(null!=n){if(Hn(n))return function gi(n){return new Ht(t=>{const e=n[Bi]();if(ie(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(xn(n))return function Ln(n){return new Ht(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(bi(n))return function Sn(n){return new Ht(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,rt)})}(n);if(pi(n))return zi(n);if(Oe(n))return function mi(n){return new Ht(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(mt(n))return function Qi(n){return zi(Ke(n))}(n)}throw Ri(n)}function zi(n){return new Ht(t=>{(function Or(n,t){var e,i,r,s;return(0,Bt.mG)(this,void 0,void 0,function*(){try{for(e=(0,Bt.KL)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Pr(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function An(n,t,e=1/0){return ie(t)?An((i,r)=>$e((s,o)=>t(i,s,r,o))(nt(n(i,r))),e):("number"==typeof t&&(e=t),We((i,r)=>function oi(n,t,e,i,r,s,o,c){const d=[];let f=0,_=0,x=!1;const T=()=>{x&&!d.length&&!f&&t.complete()},M=V=>f<i?N(V):d.push(V),N=V=>{s&&t.next(V),f++;let U=!1;nt(e(V,_++)).subscribe(at(t,re=>{r?.(re),s?M(re):t.next(re)},()=>{U=!0},void 0,()=>{if(U)try{for(f--;d.length&&f<i;){const re=d.shift();o?Pr(t,o,()=>N(re)):N(re)}T()}catch(re){t.error(re)}}))};return n.subscribe(at(t,M,()=>{x=!0,T()})),()=>{c?.()}}(i,r,n,e)))}function qn(n=1/0){return An(fn,n)}const ti=new Ht(n=>n.complete());function Oi(n){return n&&ie(n.schedule)}function ho(n){return n[n.length-1]}function xs(n){return ie(ho(n))?n.pop():void 0}function fo(n){return Oi(ho(n))?n.pop():void 0}function Pi(n,t=0){return We((e,i)=>{e.subscribe(at(i,r=>Pr(i,n,()=>i.next(r),t),()=>Pr(i,n,()=>i.complete(),t),r=>Pr(i,n,()=>i.error(r),t)))})}function es(n,t=0){return We((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function po(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ht(e=>{Pr(e,t,()=>{const i=n[Symbol.asyncIterator]();Pr(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function $(n,t){return t?function ue(n,t){if(null!=n){if(Hn(n))return function cs(n,t){return nt(n).pipe(es(t),Pi(t))}(n,t);if(xn(n))return function Pa(n,t){return new Ht(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(bi(n))return function el(n,t){return nt(n).pipe(es(t),Pi(t))}(n,t);if(pi(n))return po(n,t);if(Oe(n))return function Na(n,t){return new Ht(e=>{let i;return Pr(e,t,()=>{i=n[we](),Pr(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>ie(i?.return)&&i.return()})}(n,t);if(mt(n))return function ge(n,t){return po(Ke(n),t)}(n,t)}throw Ri(n)}(n,t):nt(n)}function J(...n){const t=fo(n),e=function Dr(n,t){return"number"==typeof ho(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?nt(i[0]):qn(e)($(i,t)):ti}class W extends he{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function de(...n){return $(n,fo(n))}function He(n={}){const{connector:t=(()=>new he),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,c,d,f=0,_=!1,x=!1;const T=()=>{c?.unsubscribe(),c=void 0},M=()=>{T(),o=d=void 0,_=x=!1},N=()=>{const V=o;M(),V?.unsubscribe()};return We((V,U)=>{f++,!x&&!_&&T();const re=d=d??t();U.add(()=>{f--,0===f&&!x&&!_&&(c=Tt(N,r))}),re.subscribe(U),!o&&f>0&&(o=new Ki({next:te=>re.next(te),error:te=>{x=!0,T(),c=Tt(M,e,te),re.error(te)},complete:()=>{_=!0,T(),c=Tt(M,i),re.complete()}}),nt(V).subscribe(o))})(s)}}function Tt(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Ki({next:()=>{i.unsubscribe(),n()}});return nt(t(...e)).subscribe(i)}function vt(n,t){return We((e,i)=>{let r=null,s=0,o=!1;const c=()=>o&&!r&&i.complete();e.subscribe(at(i,d=>{r?.unsubscribe();let f=0;const _=s++;nt(n(d,_)).subscribe(r=at(i,x=>i.next(t?t(d,x,_,f++):x),()=>{r=null,c()}))},()=>{o=!0,c()}))})}function en(n,t=fn){return n=n??ii,We((e,i)=>{let r,s=!0;e.subscribe(at(i,o=>{const c=t(o);(s||!n(r,c))&&(s=!1,r=c,i.next(o))}))})}function ii(n,t){return n===t}function Ct(n){for(let t in n)if(n[t]===Ct)return t;throw Error("Could not find renamed property on target object.")}function _i(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Gt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Gt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Tr(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const tl=Ct({__forward_ref__:Ct});function Ee(n){return n.__forward_ref__=Ee,n.toString=function(){return Gt(this())},n}function ye(n){return dt(n)?n():n}function dt(n){return"function"==typeof n&&n.hasOwnProperty(tl)&&n.__forward_ref__===Ee}function Wt(n){return n&&!!n.\u0275providers}const a="https://g.co/ng/security#xss";class l extends Error{constructor(t,e){super(function u(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function h(n){return"string"==typeof n?n:null==n?"":String(n)}function w(n,t){throw new l(-201,!1)}function K(n,t){null==n&&function Y(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Se(n){return{providers:n.providers||[],imports:n.imports||[]}}function bt(n){return kn(n,ri)||kn(n,ws)}function kn(n,t){return n.hasOwnProperty(t)?n[t]:null}function xi(n){return n&&(n.hasOwnProperty(Hi)||n.hasOwnProperty(nl))?n[Hi]:null}const ri=Ct({\u0275prov:Ct}),Hi=Ct({\u0275inj:Ct}),ws=Ct({ngInjectableDef:Ct}),nl=Ct({ngInjectorDef:Ct});var mn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(mn||{});let Fa;function hi(n){const t=Fa;return Fa=n,t}function Ac(n,t,e){const i=bt(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&mn.Optional?null:void 0!==t?t:void w(Gt(n))}const Ai=globalThis;class Be{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=le({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mc={},f_="__NG_DI_FLAG__",Cd="ngTempTokenPath",p_=/\n/gm,gx="__source";let zl;function Hl(n){const t=zl;return zl=n,t}function JT(n,t=mn.Default){if(void 0===zl)throw new l(-203,!1);return null===zl?Ac(n,void 0,t):zl.get(n,t&mn.Optional?null:void 0,t)}function ce(n,t=mn.Default){return(function jr(){return Fa}()||JT)(ye(n),t)}function Ge(n,t=mn.Default){return ce(n,Uo(t))}function Uo(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ul(n){const t=[];for(let e=0;e<n.length;e++){const i=ye(n[e]);if(Array.isArray(i)){if(0===i.length)throw new l(900,!1);let r,s=mn.Default;for(let o=0;o<i.length;o++){const c=i[o],d=tI(c);"number"==typeof d?-1===d?r=c.token:s|=d:r=c}t.push(ce(r,s))}else t.push(ce(i))}return t}function rl(n,t){return n[f_]=t,n.prototype[f_]=t,n}function tI(n){return n[f_]}function sl(n){return{toString:n}.toString()}var ol=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ol||{}),jo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(jo||{});const go={},ai=[],eh=Ct({\u0275cmp:Ct}),th=Ct({\u0275dir:Ct}),Zs=Ct({\u0275pipe:Ct}),g_=Ct({\u0275mod:Ct}),al=Ct({\u0275fac:Ct}),Oc=Ct({__NG_ELEMENT_ID__:Ct}),nh=Ct({__NG_ENV_ID__:Ct});function m_(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function qf(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],c=e[i++];n.setAttribute(t,o,c,s)}else{const s=r,o=e[++i];Xf(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function mx(n){return 3===n||4===n||6===n}function Xf(n){return 64===n.charCodeAt(0)}function Pc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Zf(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Zf(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const c=n[s++];if("number"==typeof c){if(c===t){o=-1;break}if(c>t){o=s-1;break}}}for(;s<n.length;){const c=n[s];if("number"==typeof c)break;if(c===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const ih="ng-template";function __(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==m_(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function v_(n){return 4===n.type&&n.value!==ih}function y_(n,t,e){return t===(4!==n.type||e?n.value:ih)}function _x(n,t,e){let i=4;const r=n.attrs||[],s=function b_(n){for(let t=0;t<n.length;t++)if(mx(n[t]))return t;return n.length}(r);let o=!1;for(let c=0;c<t.length;c++){const d=t[c];if("number"!=typeof d){if(!o)if(4&i){if(i=2|1&i,""!==d&&!y_(n,d,e)||""===d&&1===t.length){if(mo(i))return!1;o=!0}}else{const f=8&i?d:t[++c];if(8&i&&null!==n.attrs){if(!__(n.attrs,f,e)){if(mo(i))return!1;o=!0}continue}const x=Kf(8&i?"class":d,r,v_(n),e);if(-1===x){if(mo(i))return!1;o=!0;continue}if(""!==f){let T;T=x>s?"":r[x+1].toLowerCase();const M=8&i?T:null;if(M&&-1!==m_(M,f,0)||2&i&&f!==T){if(mo(i))return!1;o=!0}}}}else{if(!o&&!mo(i)&&!mo(d))return!1;if(o&&mo(d))continue;o=!1,i=d|1&i}}return mo(i)||o}function mo(n){return 0==(1&n)}function Kf(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let c=t[++r];for(;"string"==typeof c;)c=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function yx(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Qf(n,t,e=!1){for(let i=0;i<t.length;i++)if(_x(n,t[i],e))return!0;return!1}function x_(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function bx(n,t){return n?":not("+t.trim()+")":t}function w_(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const c=n[++e];r+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!mo(o)&&(t+=bx(s,r),r=""),i=o,s=s||!mo(i);e++}return""!==r&&(t+=bx(s,r)),t}function kt(n){return sl(()=>{const t=wx(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ol.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||jo.Emulated,styles:n.styles||ai,_:null,schemas:n.schemas||null,tView:null,id:""};ep(e);const i=n.dependencies;return e.directiveDefs=tp(i,!1),e.pipeDefs=tp(i,!0),e.id=function sI(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function D_(n){return Zn(n)||ds(n)}function Jf(n){return null!==n}function St(n){return sl(()=>({type:n.type,bootstrap:n.bootstrap||ai,declarations:n.declarations||ai,imports:n.imports||ai,exports:n.exports||ai,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xx(n,t){if(null==n)return go;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function je(n){return sl(()=>{const t=wx(n);return ep(t),t})}function ts(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Zn(n){return n[eh]||null}function ds(n){return n[th]||null}function us(n){return n[Zs]||null}function Ns(n,t){const e=n[g_]||null;if(!e&&!0===t)throw new Error(`Type ${Gt(n)} does not have '\u0275mod' property.`);return e}function wx(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||go,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ai,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xx(n.inputs,t),outputs:xx(n.outputs)}}function ep(n){n.features?.forEach(t=>t(n))}function tp(n,t){if(!n)return null;const e=t?us:D_;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(Jf)}const vr=0,It=1,_n=2,Ji=3,_o=4,rh=5,ns=6,Ed=7,ur=8,jl=9,Wl=10,un=11,Fc=12,Cx=13,Gl=14,Ir=15,Lc=16,Dd=17,La=18,Td=19,np=20,$l=21,Ks=22,Id=23,sh=24,jn=25,S_=1,Ex=2,ll=7,oh=9,hs=11;function vo(n){return Array.isArray(n)&&"object"==typeof n[S_]}function Qs(n){return Array.isArray(n)&&!0===n[S_]}function Dx(n){return 0!=(4&n.flags)}function Sd(n){return n.componentOffset>-1}function k_(n){return 1==(1&n.flags)}function yo(n){return!!n.template}function cl(n){return 0!=(512&n[_n])}function Bc(n,t){return n.hasOwnProperty(al)?n[al]:null}let fs=null,Ad=!1;function Wo(n){const t=fs;return fs=n,t}const Ax={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function kx(n){if(!zc(n)||n.dirty){if(!n.producerMustRecompute(n)&&!op(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function kd(n){n.dirty=!0,function ah(n){if(void 0===n.liveConsumerNode)return;const t=Ad;Ad=!0;try{for(const e of n.liveConsumerNode)e.dirty||kd(e)}finally{Ad=t}}(n),n.consumerMarkedDirty?.(n)}function Md(n){return n&&(n.nextProducerIndex=0),Wo(n)}function P_(n,t){if(Wo(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(zc(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)lp(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function op(n){Hc(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(kx(e),i!==e.version))return!0}return!1}function N_(n){if(Hc(n),zc(n))for(let t=0;t<n.producerNode.length;t++)lp(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function lp(n,t){if(function Mx(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Hc(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)lp(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Hc(r),r.producerIndexOfThis[i]=t}}function zc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Hc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Rx=null;function B_(n){const t=Wo(null);try{return n()}finally{Wo(t)}}const Nx=()=>{},vI=(()=>({...Ax,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Nx}))();class yI{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Mn(){return Lx}function Lx(n){return n.type.prototype.ngOnChanges&&(n.setInput=bI),z_}function z_(){const n=lh(this),t=n?.current;if(t){const e=n.previous;if(e===go)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function bI(n,t,e,i){const r=this.declaredInputs[e],s=lh(n)||function H_(n,t){return n[dp]=t}(n,{previous:go,current:null}),o=s.current||(s.current={}),c=s.previous,d=c[r];o[r]=new yI(d&&d.currentValue,t,c===go),n[i]=t}Mn.ngInherit=!0;const dp="__ngSimpleChanges__";function lh(n){return n[dp]||null}const Va=function(n,t,e){},Yl="svg";function Ui(n){for(;Array.isArray(n);)n=n[vr];return n}function hp(n,t){return Ui(t[n])}function Cs(n,t){return Ui(t[n.index])}function Bx(n,t){return n.data[t]}function Rd(n,t){return n[t]}function Fs(n,t){const e=t[n];return vo(e)?e:e[vr]}function Ba(n,t){return null==t?null:n[t]}function fp(n){n[Dd]=0}function CI(n){1024&n[_n]||(n[_n]|=1024,zx(n,1))}function Od(n){1024&n[_n]&&(n[_n]&=-1025,zx(n,-1))}function zx(n,t){let e=n[Ji];if(null===e)return;e[rh]+=t;let i=e;for(e=e[Ji];null!==e&&(1===t&&1===i[rh]||-1===t&&0===i[rh]);)e[rh]+=t,i=e,e=e[Ji]}const an={lFrame:ew(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Gx(){return an.bindingsEnabled}function Pd(){return null!==an.skipHydrationRootTNode}function tt(){return an.lFrame.lView}function Kn(){return an.lFrame.tView}function ut(n){return an.lFrame.contextLView=n,n[ur]}function ot(n){return an.lFrame.contextLView=null,n}function Wr(){let n=gp();for(;null!==n&&64===n.type;)n=n.parent;return n}function gp(){return an.lFrame.currentTNode}function Go(n,t){const e=an.lFrame;e.currentTNode=n,e.isParent=t}function X_(){return an.lFrame.isParent}function mp(){an.lFrame.isParent=!1}function Es(){const n=an.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function aa(){return an.lFrame.bindingIndex}function Fd(){return an.lFrame.bindingIndex++}function dl(n){const t=an.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function SI(n,t){const e=an.lFrame;e.bindingIndex=e.bindingRootIndex=n,K_(t)}function K_(n){an.lFrame.currentDirectiveIndex=n}function Ld(n){const t=an.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function Kx(){return an.lFrame.currentQueryIndex}function Q_(n){an.lFrame.currentQueryIndex=n}function AI(n){const t=n[It];return 2===t.type?t.declTNode:1===t.type?n[ns]:null}function Qx(n,t,e){if(e&mn.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&mn.Host||(r=AI(s),null===r||(s=s[Gl],10&r.type))););if(null===r)return!1;t=r,n=s}const i=an.lFrame=Jx();return i.currentTNode=t,i.lView=n,!0}function J_(n){const t=Jx(),e=n[It];an.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Jx(){const n=an.lFrame,t=null===n?null:n.child;return null===t?ew(n):t}function ew(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function tw(){const n=an.lFrame;return an.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _p=tw;function ev(){const n=tw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ls(){return an.lFrame.selectedIndex}function Uc(n){an.lFrame.selectedIndex=n}function er(){const n=an.lFrame;return Bx(n.tView,n.selectedIndex)}function jc(){an.lFrame.currentNamespace=Yl}function vp(){!function OI(){an.lFrame.currentNamespace=null}()}let yp=!0;function Vd(){return yp}function ql(n){yp=n}function bp(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:d,ngAfterViewChecked:f,ngOnDestroy:_}=s;o&&(n.contentHooks??=[]).push(-e,o),c&&((n.contentHooks??=[]).push(e,c),(n.contentCheckHooks??=[]).push(e,c)),d&&(n.viewHooks??=[]).push(-e,d),f&&((n.viewHooks??=[]).push(e,f),(n.viewCheckHooks??=[]).push(e,f)),null!=_&&(n.destroyHooks??=[]).push(e,_)}}function ch(n,t,e){iw(n,t,3,e)}function xp(n,t,e,i){(3&n[_n])===e&&iw(n,t,e,i)}function dh(n,t){let e=n[_n];(3&e)===t&&(e&=8191,e+=1,n[_n]=e)}function iw(n,t,e,i){const s=i??-1,o=t.length-1;let c=0;for(let d=void 0!==i?65535&n[Dd]:0;d<o;d++)if("number"==typeof t[d+1]){if(c=t[d],null!=i&&c>=i)break}else t[d]<0&&(n[Dd]+=65536),(c<s||-1==s)&&(nv(n,e,t,d),n[Dd]=(4294901760&n[Dd])+d+2),d++}function PI(n,t){Va(4,n,t);const e=Wo(null);try{t.call(n)}finally{Wo(e),Va(5,n,t)}}function nv(n,t,e,i){const r=e[i]<0,s=e[i+1],c=n[r?-e[i]:e[i]];r?n[_n]>>13<n[Dd]>>16&&(3&n[_n])===t&&(n[_n]+=8192,PI(c,s)):PI(c,s)}const Wc=-1;class Xl{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function rv(n){return n!==Wc}function wp(n){return 32767&n}function y(n,t){let e=function S(n){return n>>16}(n),i=t;for(;e>0;)i=i[Gl],e--;return i}let C=!0;function k(n){const t=C;return C=n,t}const X=255,be=5;let Pe=0;const et={};function Xt(n,t){const e=Vs(n,t);if(-1!==e)return e;const i=t[It];i.firstCreatePass&&(n.injectorIndex=t.length,Wn(i.data,n),Wn(t,null),Wn(i.blueprint,null));const r=la(n,t),s=n.injectorIndex;if(rv(r)){const o=wp(r),c=y(r,t),d=c[It].data;for(let f=0;f<8;f++)t[s+f]=c[o+f]|d[o+f]}return t[s+8]=r,s}function Wn(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Vs(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function la(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=F2(r),null===i)return Wc;if(e++,r=r[Gl],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Wc}function Bd(n,t,e){!function Lt(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Oc)&&(i=e[Oc]),null==i&&(i=e[Oc]=Pe++);const r=i&X;t.data[n+(r>>be)]|=1<<r}(n,t,e)}function Cp(n,t,e){if(e&mn.Optional||void 0!==n)return n;w()}function sv(n,t,e,i){if(e&mn.Optional&&void 0===i&&(i=null),!(e&(mn.Self|mn.Host))){const r=n[jl],s=hi(void 0);try{return r?r.get(t,i,e&mn.Optional):Ac(t,i,e&mn.Optional)}finally{hi(s)}}return Cp(i,0,e)}function ov(n,t,e,i=mn.Default,r){if(null!==n){if(2048&t[_n]&&!(i&mn.Self)){const o=function FJ(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[_n]&&!(512&o[_n]);){const c=Ep(s,o,e,i|mn.Self,et);if(c!==et)return c;let d=s.parent;if(!d){const f=o[np];if(f){const _=f.get(e,et,i);if(_!==et)return _}d=F2(o),o=o[Gl]}s=d}return r}(n,t,e,i,et);if(o!==et)return o}const s=Ep(n,t,e,i,et);if(s!==et)return s}return sv(t,e,i,r)}function Ep(n,t,e,i,r){const s=function aw(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Oc)?n[Oc]:void 0;return"number"==typeof t?t>=0?t&X:NJ:t}(e);if("function"==typeof s){if(!Qx(t,n,i))return i&mn.Host?Cp(r,0,i):sv(t,e,i,r);try{let o;if(o=s(i),null!=o||i&mn.Optional)return o;w()}finally{_p()}}else if("number"==typeof s){let o=null,c=Vs(n,t),d=Wc,f=i&mn.Host?t[Ir][ns]:null;for((-1===c||i&mn.SkipSelf)&&(d=-1===c?la(n,t):t[c+8],d!==Wc&&Dp(i,!1)?(o=t[It],c=wp(d),t=y(d,t)):c=-1);-1!==c;){const _=t[It];if(lw(s,c,_.data)){const x=ow(c,t,e,o,i,f);if(x!==et)return x}d=t[c+8],d!==Wc&&Dp(i,t[It].data[c+8]===f)&&lw(s,c,t)?(o=_,c=wp(d),t=y(d,t)):c=-1}}return r}function ow(n,t,e,i,r,s){const o=t[It],c=o.data[n+8],_=uh(c,o,e,null==i?Sd(c)&&C:i!=o&&0!=(3&c.type),r&mn.Host&&s===c);return null!==_?ul(t,o,_,c):et}function uh(n,t,e,i,r){const s=n.providerIndexes,o=t.data,c=1048575&s,d=n.directiveStart,_=s>>20,T=r?c+_:n.directiveEnd;for(let M=i?c:c+_;M<T;M++){const N=o[M];if(M<d&&e===N||M>=d&&N.type===e)return M}if(r){const M=o[d];if(M&&yo(M)&&M.type===e)return d}return null}function ul(n,t,e,i){let r=n[e];const s=t.data;if(function rw(n){return n instanceof Xl}(r)){const o=r;o.resolving&&function g(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new l(-200,`Circular dependency in DI detected for ${n}${e}`)}(function p(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():h(n)}(s[e]));const c=k(o.canSeeViewProviders);o.resolving=!0;const f=o.injectImpl?hi(o.injectImpl):null;Qx(n,i,mn.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function tv(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=Lx(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==f&&hi(f),k(c),o.resolving=!1,_p()}}return r}function lw(n,t,e){return!!(e[t+(n>>be)]&1<<n)}function Dp(n,t){return!(n&mn.Self||n&mn.Host&&t)}class bo{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return ov(this._tNode,this._lView,t,Uo(i),e)}}function NJ(){return new bo(Wr(),tt())}function tr(n){return sl(()=>{const t=n.prototype.constructor,e=t[al]||BI(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[al]||BI(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function BI(n){return dt(n)?()=>{const t=BI(ye(n));return t&&t()}:Bc(n)}function F2(n){const t=n[It],e=t.type;return 2===e?t.declTNode:1===e?n[ns]:null}function Gc(n){return function sw(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(mx(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(Wr(),n)}const Ip="__parameters__";function Ap(n,t,e){return sl(()=>{const i=function zI(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return c.annotation=o,c;function c(d,f,_){const x=d.hasOwnProperty(Ip)?d[Ip]:Object.defineProperty(d,Ip,{value:[]})[Ip];for(;x.length<=_;)x.push(null);return(x[_]=x[_]||[]).push(o),d}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Mp(n,t){n.forEach(e=>Array.isArray(e)?Mp(e,t):t(e))}function V2(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function cw(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function lv(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function ca(n,t,e){let i=Rp(n,t);return i>=0?n[1|i]=e:(i=~i,function jJ(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function HI(n,t){const e=Rp(n,t);if(e>=0)return n[1|e]}function Rp(n,t){return function B2(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const zd=rl(Ap("Optional"),8),fh=rl(Ap("SkipSelf"),4);function gw(n){return 128==(128&n.flags)}var Hd=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Hd||{});const dee=/^>|^->|<!--|-->|--!>|<!-$/g,uee=/(<|>)/g,hee="\u200b$1\u200b";const $I=new Map;let fee=0;const qI="__ngContext__";function Js(n,t){vo(t)?(n[qI]=t[Td],function gee(n){$I.set(n[Td],n)}(t)):n[qI]=t}let XI;function ZI(n,t){return XI(n,t)}function uv(n){const t=n[Ji];return Qs(t)?t[Ji]:t}function sV(n){return aV(n[Fc])}function oV(n){return aV(n[_o])}function aV(n){for(;null!==n&&!Qs(n);)n=n[_o];return n}function Np(n,t,e,i,r){if(null!=i){let s,o=!1;Qs(i)?s=i:vo(i)&&(o=!0,i=i[vr]);const c=Ui(i);0===n&&null!==e?null==r?uV(t,e,c):ph(t,e,c,r||null,!0):1===n&&null!==e?ph(t,e,c,r||null,!0):2===n?function ww(n,t,e){const i=bw(n,t);i&&function Pee(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,c,o):3===n&&t.destroyNode(c),null!=s&&function Lee(n,t,e,i,r){const s=e[ll];s!==Ui(e)&&Np(t,n,i,s,r);for(let c=hs;c<e.length;c++){const d=e[c];fv(d[It],d,n,t,i,s)}}(t,n,s,e,r)}}function KI(n,t){return n.createComment(function K2(n){return n.replace(dee,t=>t.replace(uee,hee))}(t))}function vw(n,t,e){return n.createElement(t,e)}function cV(n,t){const e=n[oh],i=e.indexOf(t);Od(t),e.splice(i,1)}function yw(n,t){if(n.length<=hs)return;const e=hs+t,i=n[e];if(i){const r=i[Lc];null!==r&&r!==n&&cV(r,i),t>0&&(n[e-1][_o]=i[_o]);const s=cw(n,hs+t);!function Tee(n,t){fv(n,t,t[un],2,null,null),t[vr]=null,t[ns]=null}(i[It],i);const o=s[La];null!==o&&o.detachView(s[It]),i[Ji]=null,i[_o]=null,i[_n]&=-129}return i}function QI(n,t){if(!(256&t[_n])){const e=t[un];t[Id]&&N_(t[Id]),t[sh]&&N_(t[sh]),e.destroyNode&&fv(n,t,e,3,null,null),function Aee(n){let t=n[Fc];if(!t)return JI(n[It],n);for(;t;){let e=null;if(vo(t))e=t[Fc];else{const i=t[hs];i&&(e=i)}if(!e){for(;t&&!t[_o]&&t!==n;)vo(t)&&JI(t[It],t),t=t[Ji];null===t&&(t=n),vo(t)&&JI(t[It],t),e=t&&t[_o]}t=e}}(t)}}function JI(n,t){if(!(256&t[_n])){t[_n]&=-129,t[_n]|=256,function Oee(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Xl)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const c=r[s[o]],d=s[o+1];Va(4,c,d);try{d.call(c)}finally{Va(5,c,d)}}else{Va(4,r,s);try{s.call(r)}finally{Va(5,r,s)}}}}}(n,t),function Ree(n,t){const e=n.cleanup,i=t[Ed];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[Ed]=null);const r=t[$l];if(null!==r){t[$l]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[It].type&&t[un].destroy();const e=t[Lc];if(null!==e&&Qs(t[Ji])){e!==t[Ji]&&cV(e,t);const i=t[La];null!==i&&i.detachView(n)}!function mee(n){$I.delete(n[Td])}(t)}}function eS(n,t,e){return function dV(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[vr];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===jo.None||s===jo.Emulated)return null}return Cs(i,e)}}(n,t.parent,e)}function ph(n,t,e,i,r){n.insertBefore(t,e,i,r)}function uV(n,t,e){n.appendChild(t,e)}function hV(n,t,e,i,r){null!==i?ph(n,t,e,i,r):uV(n,t,e)}function bw(n,t){return n.parentNode(t)}function fV(n,t,e){return gV(n,t,e)}let tS,Cw,sS,Ew,gV=function pV(n,t,e){return 40&n.type?Cs(n,e):null};function xw(n,t,e,i){const r=eS(n,i,t),s=t[un],c=fV(i.parent||t[ns],i,t);if(null!=r)if(Array.isArray(e))for(let d=0;d<e.length;d++)hV(s,r,e[d],c,!1);else hV(s,r,e,c,!1);void 0!==tS&&tS(s,i,t,e,r)}function hv(n,t){if(null!==t){const e=t.type;if(3&e)return Cs(t,n);if(4&e)return nS(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return hv(n,i);{const r=n[t.index];return Qs(r)?nS(-1,r):Ui(r)}}if(32&e)return ZI(t,n)()||Ui(n[t.index]);{const i=_V(n,t);return null!==i?Array.isArray(i)?i[0]:hv(uv(n[Ir]),i):hv(n,t.next)}}return null}function _V(n,t){return null!==t?n[Ir][ns].projection[t.projection]:null}function nS(n,t){const e=hs+n+1;if(e<t.length){const i=t[e],r=i[It].firstChild;if(null!==r)return hv(i,r)}return t[ll]}function iS(n,t,e,i,r,s,o){for(;null!=e;){const c=i[e.index],d=e.type;if(o&&0===t&&(c&&Js(Ui(c),i),e.flags|=2),32!=(32&e.flags))if(8&d)iS(n,t,e.child,i,r,s,!1),Np(t,n,r,c,s);else if(32&d){const f=ZI(e,i);let _;for(;_=f();)Np(t,n,r,_,s);Np(t,n,r,c,s)}else 16&d?yV(n,t,i,e,r,s):Np(t,n,r,c,s);e=o?e.projectionNext:e.next}}function fv(n,t,e,i,r,s){iS(e,i,n.firstChild,t,r,s,!1)}function yV(n,t,e,i,r,s){const o=e[Ir],d=o[ns].projection[i.projection];if(Array.isArray(d))for(let f=0;f<d.length;f++)Np(t,n,r,d[f],s);else{let f=d;const _=o[Ji];gw(i)&&(f.flags|=128),iS(n,t,f,_,r,s,!0)}}function bV(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function xV(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&qf(n,t,i),null!==r&&bV(n,t,r),null!==s&&function Bee(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function Fp(n){return function rS(){if(void 0===Cw&&(Cw=null,Ai.trustedTypes))try{Cw=Ai.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cw}()?.createHTML(n)||n}function Lp(){if(void 0!==sS)return sS;if(typeof document<"u")return document;throw new l(210,!1)}function oS(){if(void 0===Ew&&(Ew=null,Ai.trustedTypes))try{Ew=Ai.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ew}function wV(n){return oS()?.createHTML(n)||n}function EV(n){return oS()?.createScriptURL(n)||n}class gh{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${a})`}}class Wee extends gh{getTypeName(){return"HTML"}}class Gee extends gh{getTypeName(){return"Style"}}class $ee extends gh{getTypeName(){return"Script"}}class Yee extends gh{getTypeName(){return"URL"}}class qee extends gh{getTypeName(){return"ResourceURL"}}function da(n){return n instanceof gh?n.changingThisBreaksApplicationSecurity:n}function Zl(n,t){const e=function Xee(n){return n instanceof gh&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${a})`)}return e===t}class tte{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Fp(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class nte{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Fp(t),e}}const rte=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dw(n){return(n=String(n)).match(rte)?n:"unsafe:"+n}function $c(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function pv(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const TV=$c("area,br,col,hr,img,wbr"),IV=$c("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),SV=$c("rp,rt"),aS=pv(TV,pv(IV,$c("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pv(SV,$c("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pv(SV,IV)),lS=$c("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),AV=pv(lS,$c("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$c("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ste=$c("script,style,template");class ote{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!aS.hasOwnProperty(e))return this.sanitizedSomething=!0,!ste.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,c=o.toLowerCase();if(!AV.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let d=s.value;lS[c]&&(d=Dw(d)),this.buf.push(" ",o,'="',kV(d),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();aS.hasOwnProperty(e)&&!TV.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(kV(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ate=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lte=/([^\#-~ |!])/g;function kV(n){return n.replace(/&/g,"&amp;").replace(ate,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lte,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tw;function MV(n,t){let e=null;try{Tw=Tw||function DV(n){const t=new nte(n);return function ite(){try{return!!(new window.DOMParser).parseFromString(Fp(""),"text/html")}catch{return!1}}()?new tte(t):t}(n);let i=t?String(t):"";e=Tw.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Tw.getInertBodyElement(i)}while(i!==s);return Fp((new ote).sanitizeChildren(cS(e)||e))}finally{if(e){const i=cS(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function cS(n){return"content"in n&&function cte(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ua=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ua||{});function mh(n){const t=gv();return t?wV(t.sanitize(ua.HTML,n)||""):Zl(n,"HTML")?wV(da(n)):MV(Lp(),h(n))}function _h(n){const t=gv();return t?t.sanitize(ua.URL,n)||"":Zl(n,"URL")?da(n):Dw(h(n))}function RV(n){const t=gv();if(t)return EV(t.sanitize(ua.RESOURCE_URL,n)||"");if(Zl(n,"ResourceURL"))return EV(da(n));throw new l(904,!1)}function gv(){const n=tt();return n&&n[Wl].sanitizer}const mv=new Be("ENVIRONMENT_INITIALIZER"),PV=new Be("INJECTOR",-1),NV=new Be("INJECTOR_DEF_TYPES");class dS{get(t,e=Mc){if(e===Mc){const i=new Error(`NullInjectorError: No provider for ${Gt(t)}!`);throw i.name="NullInjectorError",i}return e}}function Kl(n){return{\u0275providers:n}}function gte(...n){return{\u0275providers:FV(0,n),\u0275fromNgModule:!0}}function FV(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return Mp(t,o=>{const c=o;Iw(c,s,[],i)&&(r||=[],r.push(c))}),void 0!==r&&LV(r,s),e}function LV(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];uS(r,s=>{t(s,i)})}}function Iw(n,t,e,i){if(!(n=ye(n)))return!1;let r=null,s=xi(n);const o=!s&&Zn(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const d=n.ngModule;if(s=xi(d),!s)return!1;r=d}const c=i.has(r);if(o){if(c)return!1;if(i.add(r),o.dependencies){const d="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const f of d)Iw(f,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let f;i.add(r);try{Mp(s.imports,_=>{Iw(_,t,e,i)&&(f||=[],f.push(_))})}finally{}void 0!==f&&LV(f,t)}if(!c){const f=Bc(r)||(()=>new r);t({provide:r,useFactory:f,deps:ai},r),t({provide:NV,useValue:r,multi:!0},r),t({provide:mv,useValue:()=>ce(r),multi:!0},r)}const d=s.providers;if(null!=d&&!c){const f=n;uS(d,_=>{t(_,f)})}}}return r!==n&&void 0!==n.providers}function uS(n,t){for(let e of n)Wt(e)&&(e=e.\u0275providers),Array.isArray(e)?uS(e,t):t(e)}const mte=Ct({provide:String,useValue:Ct});function hS(n){return null!==n&&"object"==typeof n&&mte in n}function vh(n){return"function"==typeof n}const fS=new Be("Set Injector scope."),Sw={},vte={};let pS;function Aw(){return void 0===pS&&(pS=new dS),pS}class xo{}class Vp extends xo{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mS(t,o=>this.processProvider(o)),this.records.set(PV,Bp(void 0,this)),r.has("environment")&&this.records.set(xo,Bp(void 0,this));const s=this.records.get(fS);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(NV.multi,ai,mn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Hl(this),i=hi(void 0);try{return t()}finally{Hl(e),hi(i)}}get(t,e=Mc,i=mn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(nh))return t[nh](this);i=Uo(i);const s=Hl(this),o=hi(void 0);try{if(!(i&mn.SkipSelf)){let d=this.records.get(t);if(void 0===d){const f=function Cte(n){return"function"==typeof n||"object"==typeof n&&n instanceof Be}(t)&&bt(t);d=f&&this.injectableDefInScope(f)?Bp(gS(t),Sw):null,this.records.set(t,d)}if(null!=d)return this.hydrate(t,d)}return(i&mn.Self?Aw():this.parent).get(t,e=i&mn.Optional&&e===Mc?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[Cd]=c[Cd]||[]).unshift(Gt(t)),s)throw c;return function nI(n,t,e,i){const r=n[Cd];throw t[gx]&&r.unshift(t[gx]),n.message=function iI(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Gt(t);if(Array.isArray(t))r=t.map(Gt).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let c=t[o];s.push(o+":"+("string"==typeof c?JSON.stringify(c):Gt(c)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(p_,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Cd]=null,n}(c,t,"R3InjectorError",this.source)}throw c}finally{hi(o),Hl(s)}}resolveInjectorInitializers(){const t=Hl(this),e=hi(void 0);try{const r=this.get(mv.multi,ai,mn.Self);for(const s of r)s()}finally{Hl(t),hi(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Gt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new l(205,!1)}processProvider(t){let e=vh(t=ye(t))?t:ye(t&&t.provide);const i=function bte(n){return hS(n)?Bp(void 0,n.useValue):Bp(zV(n),Sw)}(t);if(vh(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Bp(void 0,Sw,!0),r.factory=()=>Ul(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Sw&&(e.value=vte,e.value=e.factory()),"object"==typeof e.value&&e.value&&function wte(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ye(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function gS(n){const t=bt(n),e=null!==t?t.factory:Bc(n);if(null!==e)return e;if(n instanceof Be)throw new l(204,!1);if(n instanceof Function)return function yte(n){const t=n.length;if(t>0)throw lv(t,"?"),new l(204,!1);const e=function Xn(n){return n&&(n[ri]||n[ws])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new l(204,!1)}function zV(n,t,e){let i;if(vh(n)){const r=ye(n);return Bc(r)||gS(r)}if(hS(n))i=()=>ye(n.useValue);else if(function BV(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ul(n.deps||[]));else if(function VV(n){return!(!n||!n.useExisting)}(n))i=()=>ce(ye(n.useExisting));else{const r=ye(n&&(n.useClass||n.provide));if(!function xte(n){return!!n.deps}(n))return Bc(r)||gS(r);i=()=>new r(...Ul(n.deps))}return i}function Bp(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function mS(n,t){for(const e of n)Array.isArray(e)?mS(e,t):e&&Wt(e)?mS(e.\u0275providers,t):t(e)}const kw=new Be("AppId",{providedIn:"root",factory:()=>Ete}),Ete="ng",HV=new Be("Platform Initializer"),wo=new Be("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ha=new Be("AnimationModuleType"),_S=new Be("CSP nonce",{providedIn:"root",factory:()=>Lp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let UV=(n,t,e)=>null;function DS(n,t,e=!1){return UV(n,t,e)}class Pte{}class GV{}class Fte{resolveComponentFactory(t){throw function Nte(n){const t=Error(`No component factory found for ${Gt(n)}.`);return t.ngComponent=n,t}(t)}}let Ud=(()=>{class n{static#e=this.NULL=new Fte}return n})();function Lte(){return Up(Wr(),tt())}function Up(n,t){return new zt(Cs(n,t))}let zt=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=Lte}return n})();function Vte(n){return n instanceof zt?n.nativeElement:n}class jp{}let Gr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Bte(){const n=tt(),e=Fs(Wr().index,n);return(vo(e)?e:n)[un]}()}return n})(),zte=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>null})}return n})();class jd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const YV=new jd("16.2.12"),SS={};function KV(n,t=null,e=null,i){const r=QV(n,t,e,i);return r.resolveInjectorInitializers(),r}function QV(n,t=null,e=null,i,r=new Set){const s=[e||ai,gte(n)];return i=i||("object"==typeof n?void 0:Gt(n)),new Vp(s,t||Aw(),i||null,r)}let Gi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Mc;static#t=this.NULL=new dS;static create(e,i){if(Array.isArray(e))return KV({name:""},i,e,"");{const r=e.name??"";return KV({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=le({token:n,providedIn:"any",factory:()=>ce(PV)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function AS(n){return n.ngOriginalError}class Yc{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&AS(t);for(;e&&AS(e);)e=AS(e);return e||null}}function kS(n){return t=>{setTimeout(n,void 0,t)}}const Ve=class qte extends he{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const d=t;r=d.next?.bind(d),s=d.error?.bind(d),o=d.complete?.bind(d)}this.__isAsync&&(s=kS(s),r&&(r=kS(r)),o&&(o=kS(o)));const c=super.subscribe({next:r,error:s,complete:o});return t instanceof Ue&&t.add(c),c}};function eB(...n){}class lt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ve(!1),this.onMicrotaskEmpty=new Ve(!1),this.onStable=new Ve(!1),this.onError=new Ve(!1),typeof Zone>"u")throw new l(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Xte(){const n="function"==typeof Ai.requestAnimationFrame;let t=Ai[n?"requestAnimationFrame":"setTimeout"],e=Ai[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Qte(n){const t=()=>{!function Kte(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ai,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,RS(n),n.isCheckStableRunning=!0,MS(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),RS(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,c)=>{if(function ene(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(c))return e.invokeTask(r,s,o,c);try{return tB(n),e.invokeTask(r,s,o,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),nB(n)}},onInvoke:(e,i,r,s,o,c,d)=>{try{return tB(n),e.invoke(r,s,o,c,d)}finally{n.shouldCoalesceRunChangeDetection&&t(),nB(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,RS(n),MS(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lt.isInAngularZone())throw new l(909,!1)}static assertNotInAngularZone(){if(lt.isInAngularZone())throw new l(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,Zte,eB,eB);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const Zte={};function MS(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function RS(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function tB(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function nB(n){n._nesting--,MS(n)}class Jte{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ve,this.onMicrotaskEmpty=new Ve,this.onStable=new Ve,this.onError=new Ve}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const iB=new Be("",{providedIn:"root",factory:rB});function rB(){const n=Ge(lt);let t=!0;return J(new Ht(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new Ht(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{lt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{lt.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(He()))}function qc(n){return n instanceof Function?n():n}let OS=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}return n})();function yv(n){for(;n;){n[_n]|=64;const t=uv(n);if(cl(n)&&!t)return n;n=t}return null}const cB=new Be("",{providedIn:"root",factory:()=>!1});let Vw=null;function fB(n,t){return n[t]??mB()}function pB(n,t){const e=mB();e.producerNode?.length&&(n[t]=Vw,e.lView=n,Vw=gB())}const dne={...Ax,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{yv(n.lView)},lView:null};function gB(){return Object.create(dne)}function mB(){return Vw??=gB(),Vw}const wn={};function ee(n){_B(Kn(),tt(),Ls()+n,!1)}function _B(n,t,e,i){if(!i)if(3==(3&t[_n])){const s=n.preOrderCheckHooks;null!==s&&ch(t,s,e)}else{const s=n.preOrderHooks;null!==s&&xp(t,s,0,e)}Uc(e)}function B(n,t=mn.Default){const e=tt();return null===e?ce(n,t):ov(Wr(),e,ye(n),t)}function Yp(){throw new Error("invalid")}function Bw(n,t,e,i,r,s,o,c,d,f,_){const x=t.blueprint.slice();return x[vr]=r,x[_n]=140|i,(null!==f||n&&2048&n[_n])&&(x[_n]|=2048),fp(x),x[Ji]=x[Gl]=n,x[ur]=e,x[Wl]=o||n&&n[Wl],x[un]=c||n&&n[un],x[jl]=d||n&&n[jl]||null,x[ns]=s,x[Td]=function pee(){return fee++}(),x[Ks]=_,x[np]=f,x[Ir]=2==t.type?n[Ir]:x,x}function qp(n,t,e,i,r){let s=n.data[t];if(null===s)s=function PS(n,t,e,i,r){const s=gp(),o=X_(),d=n.data[t]=function vne(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,c=0;return Pd()&&(c|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=d),null!==s&&(o?null==s.child&&null!==d.parent&&(s.child=d):null===s.next&&(s.next=d,d.prev=s)),d}(n,t,e,i,r),function Z_(){return an.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function Nd(){const n=an.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Go(s,!0),s}function bv(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function vB(n,t,e,i,r){const s=fB(t,Id),o=Ls(),c=2&i;try{Uc(-1),c&&t.length>jn&&_B(n,t,jn,!1),Va(c?2:0,r);const f=c?s:null,_=Md(f);try{null!==f&&(f.dirty=!1),e(i,r)}finally{P_(f,_)}}finally{c&&null===t[Id]&&pB(t,Id),Uc(o),Va(c?3:1,r)}}function NS(n,t,e){if(Dx(t)){const i=Wo(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const c=n.data[o];c.contentQueries&&c.contentQueries(1,e[o],o)}}finally{Wo(i)}}}function FS(n,t,e){Gx()&&(function Dne(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;Sd(e)&&function Rne(n,t,e){const i=Cs(t,n),r=yB(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const c=zw(n,Bw(n,r,null,o,i,t,null,n[Wl].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=c}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Xt(e,t),Js(i,t);const o=e.initialInputs;for(let c=r;c<s;c++){const d=n.data[c],f=ul(t,n,c,e);Js(f,t),null!==o&&One(0,c-r,f,d,0,o),yo(d)&&(Fs(e.index,t)[ur]=ul(t,n,c,e))}}(n,t,e,Cs(e,t)),64==(64&e.flags)&&EB(n,t,e))}function LS(n,t,e=Cs){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],c=-1===o?e(t,n):n[o];n[r++]=c}}}function yB(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=VS(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function VS(n,t,e,i,r,s,o,c,d,f,_){const x=jn+i,T=x+r,M=function hne(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:wn);return e}(x,T),N="function"==typeof f?f():f;return M[It]={type:n,blueprint:M,template:e,queries:null,viewQuery:c,declTNode:t,data:M.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:T,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:d,consts:N,incompleteFirstPass:!1,ssrId:_}}let bB=n=>null;function xB(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?wB(e,t,r,s):i.hasOwnProperty(r)&&wB(e,t,i[r],s)}return e}function wB(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function ha(n,t,e,i,r,s,o,c){const d=Cs(t,e);let _,f=t.inputs;!c&&null!=f&&(_=f[i])?(jS(n,e,_,i,r),Sd(t)&&function xne(n,t){const e=Fs(t,n);16&e[_n]||(e[_n]|=64)}(e,t.index)):3&t.type&&(i=function bne(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(d,i,r))}function BS(n,t,e,i){if(Gx()){const r=null===i?null:{"":-1},s=function Ine(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(Qf(t,o.selectors,!1))if(i||(i=[]),yo(o))if(null!==o.findHostDirectiveDefs){const c=[];r=r||new Map,o.findHostDirectiveDefs(o,c,r),i.unshift(...c,o),zS(n,t,c.length)}else i.unshift(o),zS(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,c;null===s?o=c=null:[o,c]=s,null!==o&&CB(n,t,e,o,r,c),r&&function Sne(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new l(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=Pc(e.mergedAttrs,e.attrs)}function CB(n,t,e,i,r,s){for(let f=0;f<i.length;f++)Bd(Xt(e,t),n,i[f].type);!function kne(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let f=0;f<i.length;f++){const _=i[f];_.providersResolver&&_.providersResolver(_)}let o=!1,c=!1,d=bv(n,t,i.length,null);for(let f=0;f<i.length;f++){const _=i[f];e.mergedAttrs=Pc(e.mergedAttrs,_.hostAttrs),Mne(n,e,t,d,_),Ane(d,_,r),null!==_.contentQueries&&(e.flags|=4),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(e.flags|=64);const x=_.type.prototype;!o&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!c&&(x.ngOnChanges||x.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),c=!0),d++}!function yne(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,c=[];let d=null,f=null;for(let _=t.directiveStart;_<r;_++){const x=s[_],T=e?e.get(x):null,N=T?T.outputs:null;d=xB(x.inputs,_,d,T?T.inputs:null),f=xB(x.outputs,_,f,N);const V=null===d||null===o||v_(t)?null:Pne(d,_,o);c.push(V)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=8),d.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=d,t.outputs=f}(n,e,s)}function EB(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function Zx(){return an.lFrame.currentDirectiveIndex}();try{Uc(s);for(let c=i;c<r;c++){const d=n.data[c],f=t[c];K_(c),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&Tne(d,f)}}finally{Uc(-1),K_(o)}}function Tne(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function zS(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function Ane(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;yo(t)&&(e[""]=n)}}function Mne(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Bc(r.type)),o=new Xl(s,yo(r),B);n.blueprint[i]=o,e[i]=o,function Cne(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const c=~t.index;(function Ene(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=c&&o.push(c),o.push(e,i,s)}}(n,t,i,bv(n,e,r.hostVars,wn),r)}function Ql(n,t,e,i,r,s){const o=Cs(n,t);!function HS(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const c=null==o?h(s):o(s,i||"",r);n.setAttribute(t,r,c,e)}}(t[un],o,s,n.value,e,i,r)}function One(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let c=0;c<o.length;)DB(i,e,o[c++],o[c++],o[c++])}function DB(n,t,e,i,r){const s=Wo(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{Wo(s)}}function Pne(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let c=0;c<o.length;c+=2)if(o[c]===t){i.push(s,o[c+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function TB(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function IB(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];Q_(e[i]),o.contentQueries(2,t[s],s)}}}function zw(n,t){return n[Fc]?n[Cx][_o]=t:n[Fc]=t,n[Cx]=t,t}function US(n,t,e){Q_(0);const i=Wo(null);try{t(n,e)}finally{Wo(i)}}function SB(n){return n[Ed]||(n[Ed]=[])}function AB(n){return n.cleanup||(n.cleanup=[])}function kB(n,t,e){return(null===n||yo(n))&&(e=function W_(n){for(;Array.isArray(n);){if("object"==typeof n[S_])return n;n=n[vr]}return null}(e[t.index])),e[un]}function MB(n,t){const e=n[jl],i=e?e.get(Yc,null):null;i&&i.handleError(t)}function jS(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],c=e[s++];DB(n.data[o],t[o],i,c,r)}}function Xc(n,t,e){const i=hp(t,n);!function lV(n,t,e){n.setValue(t,e)}(n[un],i,e)}function Nne(n,t){const e=Fs(t,n),i=e[It];!function Fne(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[vr];null!==r&&null===e[Ks]&&(e[Ks]=DS(r,e[jl])),WS(i,e,e[ur])}function WS(n,t,e){J_(t);try{const i=n.viewQuery;null!==i&&US(1,i,e);const r=n.template;null!==r&&vB(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&IB(n,t),n.staticViewQueries&&US(2,n.viewQuery,e);const s=n.components;null!==s&&function Lne(n,t){for(let e=0;e<t.length;e++)Nne(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[_n]&=-5,ev()}}let RB=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function _I(n,t,e){const i=Object.create(vI);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>kd(i),run:()=>{if(i.dirty=!1,i.hasRun&&!op(i))return;i.hasRun=!0;const o=Md(i);try{i.cleanupFn(),i.cleanupFn=Nx,i.fn(r)}finally{P_(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,f=>{this.all.has(f)&&this.queue.set(f,s)},r);let c;this.all.add(o),o.notify();const d=()=>{o.cleanup(),c?.(),this.all.delete(o),this.queue.delete(o)};return c=i?.onDestroy(d),{destroy:d}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}return n})();function Hw(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const c=t[o];"number"==typeof c?s=c:1==s?r=Tr(r,c):2==s&&(i=Tr(i,c+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function xv(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(Ui(s)),Qs(s)&&OB(s,i);const o=e.type;if(8&o)xv(n,t,e.child,i);else if(32&o){const c=ZI(e,t);let d;for(;d=c();)i.push(d)}else if(16&o){const c=_V(t,e);if(Array.isArray(c))i.push(...c);else{const d=uv(t[Ir]);xv(d[It],d,c,i,!0)}}e=r?e.projectionNext:e.next}return i}function OB(n,t){for(let e=hs;e<n.length;e++){const i=n[e],r=i[It].firstChild;null!==r&&xv(i[It],i,r,t)}n[ll]!==n[vr]&&t.push(n[ll])}function Uw(n,t,e,i=!0){const r=t[Wl],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{PB(n,t,n.template,e)}catch(d){throw i&&MB(t,d),d}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function PB(n,t,e,i){const r=t[_n];if(256!=(256&r)){t[Wl].effectManager?.flush(),J_(t);try{fp(t),function qx(n){return an.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&vB(n,t,e,2,i);const o=3==(3&r);if(o){const f=n.preOrderCheckHooks;null!==f&&ch(t,f,null)}else{const f=n.preOrderHooks;null!==f&&xp(t,f,0,null),dh(t,0)}if(function zne(n){for(let t=sV(n);null!==t;t=oV(t)){if(!t[Ex])continue;const e=t[oh];for(let i=0;i<e.length;i++){CI(e[i])}}}(t),NB(t,2),null!==n.contentQueries&&IB(n,t),o){const f=n.contentCheckHooks;null!==f&&ch(t,f)}else{const f=n.contentHooks;null!==f&&xp(t,f,1),dh(t,1)}!function une(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=fB(t,sh);try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)Uc(~s);else{const o=s,c=e[++r],d=e[++r];SI(c,o),i.dirty=!1;const f=Md(i);try{d(2,t[o])}finally{P_(i,f)}}}}finally{null===t[sh]&&pB(t,sh),Uc(-1)}}(n,t);const c=n.components;null!==c&&LB(t,c,0);const d=n.viewQuery;if(null!==d&&US(2,d,i),o){const f=n.viewCheckHooks;null!==f&&ch(t,f)}else{const f=n.viewHooks;null!==f&&xp(t,f,2),dh(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[_n]&=-73,Od(t)}finally{ev()}}}function NB(n,t){for(let e=sV(n);null!==e;e=oV(e))for(let i=hs;i<e.length;i++)FB(e[i],t)}function Hne(n,t,e){FB(Fs(t,n),e)}function FB(n,t){if(!function G_(n){return 128==(128&n[_n])}(n))return;const e=n[It],i=n[_n];if(80&i&&0===t||1024&i||2===t)PB(e,n,e.template,n[ur]);else if(n[rh]>0){NB(n,1);const r=e.components;null!==r&&LB(n,r,1)}}function LB(n,t,e){for(let i=0;i<t.length;i++)Hne(n,t[i],e)}class wv{get rootNodes(){const t=this._lView,e=t[It];return xv(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ur]}set context(t){this._lView[ur]=t}get destroyed(){return 256==(256&this._lView[_n])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ji];if(Qs(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(yw(t,i),cw(e,i))}this._attachedToViewContainer=!1}QI(this._lView[It],this._lView)}onDestroy(t){!function Hx(n,t){if(256==(256&n[_n]))throw new l(911,!1);null===n[$l]&&(n[$l]=[]),n[$l].push(t)}(this._lView,t)}markForCheck(){yv(this._cdRefInjectingView||this._lView)}detach(){this._lView[_n]&=-129}reattach(){this._lView[_n]|=128}detectChanges(){Uw(this._lView[It],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new l(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function See(n,t){fv(n,t,t[un],2,null,null)}(this._lView[It],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new l(902,!1);this._appRef=t}}class Une extends wv{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Uw(t[It],t,t[ur],!1)}checkNoChanges(){}get context(){return null}}class VB extends Ud{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Zn(t);return new Cv(e,this.ngModule)}}function BB(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class Wne{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Uo(i);const r=this.injector.get(t,SS,i);return r!==SS||e===SS?r:this.parentInjector.get(t,e,i)}}class Cv extends GV{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=BB(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return BB(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function rI(n){return n.map(w_).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof xo?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Wne(t,s):t,c=o.get(jp,null);if(null===c)throw new l(407,!1);const x={rendererFactory:c,sanitizer:o.get(zte,null),effectManager:o.get(RB,null),afterRenderEventManager:o.get(OS,null)},T=c.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",N=i?function fne(n,t,e,i){const s=i.get(cB,!1)||e===jo.ShadowDom,o=n.selectRootElement(t,s);return function pne(n){bB(n)}(o),o}(T,i,this.componentDef.encapsulation,o):vw(T,M,function jne(n){const t=n.toLowerCase();return"svg"===t?Yl:"math"===t?"math":null}(M)),re=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let te=null;null!==N&&(te=DS(N,o,!0));const oe=VS(0,null,null,1,0,null,null,null,null,null,null),pe=Bw(null,oe,null,re,null,null,x,T,o,null,te);let Ie,Xe;J_(pe);try{const pt=this.componentDef;let ft,Dt=null;pt.findHostDirectiveDefs?(ft=[],Dt=new Map,pt.findHostDirectiveDefs(pt,ft,Dt),ft.push(pt)):ft=[pt];const Mt=function $ne(n,t){const e=n[It],i=jn;return n[i]=t,qp(e,i,2,"#host",null)}(pe,N),gt=function Yne(n,t,e,i,r,s,o){const c=r[It];!function qne(n,t,e,i){for(const r of n)t.mergedAttrs=Pc(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Hw(t,t.mergedAttrs,!0),null!==e&&xV(i,e,t))}(i,n,t,o);let d=null;null!==t&&(d=DS(t,r[jl]));const f=s.rendererFactory.createRenderer(t,e);let _=16;e.signals?_=4096:e.onPush&&(_=64);const x=Bw(r,yB(e),null,_,r[n.index],n,s,f,null,null,d);return c.firstCreatePass&&zS(c,n,i.length-1),zw(r,x),r[n.index]=x}(Mt,N,pt,ft,pe,x,T);Xe=Bx(oe,jn),N&&function Zne(n,t,e,i){if(i)qf(n,e,["ng-version",YV.full]);else{const{attrs:r,classes:s}=function C_(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!mo(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&qf(n,e,r),s&&s.length>0&&bV(n,e,s.join(" "))}}(T,pt,N,i),void 0!==e&&function Kne(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(Xe,this.ngContentSelectors,e),Ie=function Xne(n,t,e,i,r,s){const o=Wr(),c=r[It],d=Cs(o,r);CB(c,r,o,e,null,i);for(let _=0;_<e.length;_++)Js(ul(r,c,o.directiveStart+_,o),r);EB(c,r,o),d&&Js(d,r);const f=ul(r,c,o.directiveStart+o.componentOffset,o);if(n[ur]=r[ur]=f,null!==s)for(const _ of s)_(f,t);return NS(c,o,n),f}(gt,pt,ft,Dt,pe,[Qne]),WS(oe,pe,null)}finally{ev()}return new Gne(this.componentType,Ie,Up(Xe,pe),pe,Xe)}}class Gne extends Pte{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Une(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;jS(s[It],s,r,t,e),this.previousInputValues.set(t,e),yv(Fs(this._tNode.index,s))}}get injector(){return new bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Qne(){const n=Wr();bp(tt()[It],n)}function hn(n){let t=function zB(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(yo(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new l(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=jw(n.inputs),o.inputTransforms=jw(n.inputTransforms),o.declaredInputs=jw(n.declaredInputs),o.outputs=jw(n.outputs);const c=r.hostBindings;c&&nie(n,c);const d=r.viewQuery,f=r.contentQueries;if(d&&eie(n,d),f&&tie(n,f),_i(n.inputs,r.inputs),_i(n.declaredInputs,r.declaredInputs),_i(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),_i(o.inputTransforms,r.inputTransforms)),yo(r)&&r.data.animation){const _=n.data;_.animation=(_.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const c=s[o];c&&c.ngInherit&&c(n),c===hn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function Jne(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Pc(r.hostAttrs,e=Pc(e,r.hostAttrs))}}(i)}function jw(n){return n===go?{}:n===ai?[]:n}function eie(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function tie(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function nie(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function WB(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function Ww(n){return!!GS(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function GS(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Jl(n,t,e){return n[t]=e}function Dv(n,t){return n[t]}function eo(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function yh(n,t,e,i){const r=eo(n,t,e);return eo(n,t+1,i)||r}function Gw(n,t,e,i,r){const s=yh(n,t,e,i);return eo(n,t+2,r)||s}function Ua(n,t,e,i,r,s){const o=yh(n,t,e,i);return yh(n,t+2,r,s)||o}function Rt(n,t,e,i){const r=tt();return eo(r,Fd(),t)&&(Kn(),Ql(er(),r,n,t,e,i)),Rt}function Zp(n,t,e,i){return eo(n,Fd(),e)?t+h(e)+i:wn}function xe(n,t,e,i,r,s,o,c){const d=tt(),f=Kn(),_=n+jn,x=f.firstCreatePass?function Tie(n,t,e,i,r,s,o,c,d){const f=t.consts,_=qp(t,n,4,o||null,Ba(f,c));BS(t,e,_,Ba(f,d)),bp(t,_);const x=_.tView=VS(2,_,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,f,null);return null!==t.queries&&(t.queries.template(t,_),x.queries=t.queries.embeddedTView(_)),_}(_,f,d,t,e,i,r,s,o):f.data[_];Go(x,!1);const T=iz(f,d,x,n);Vd()&&xw(f,d,T,x),Js(T,d),zw(d,d[_]=TB(T,d,T,x)),k_(x)&&FS(f,d,x),null!=o&&LS(d,x,c)}let iz=function rz(n,t,e,i){return ql(!0),t[un].createComment("")};function Un(n){return Rd(function $x(){return an.lFrame.contextLView}(),jn+n)}function se(n,t,e){const i=tt();return eo(i,Fd(),t)&&ha(Kn(),er(),i,n,t,i[un],e,!1),se}function KS(n,t,e,i,r){const o=r?"class":"style";jS(n,e,t.inputs[o],o,i)}function q(n,t,e,i){const r=tt(),s=Kn(),o=jn+n,c=r[un],d=s.firstCreatePass?function kie(n,t,e,i,r,s){const o=t.consts,d=qp(t,n,2,i,Ba(o,r));return BS(t,e,d,Ba(o,s)),null!==d.attrs&&Hw(d,d.attrs,!1),null!==d.mergedAttrs&&Hw(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(o,s,r,t,e,i):s.data[o],f=sz(s,r,d,c,t,n);r[o]=f;const _=k_(d);return Go(d,!0),xV(c,f,d),32!=(32&d.flags)&&Vd()&&xw(s,r,f,d),0===function Ux(){return an.lFrame.elementDepthCount}()&&Js(f,r),function jx(){an.lFrame.elementDepthCount++}(),_&&(FS(s,r,d),NS(s,d,r)),null!==i&&LS(r,d),q}function Q(){let n=Wr();X_()?mp():(n=n.parent,Go(n,!1));const t=n;(function Y_(n){return an.skipHydrationRootTNode===n})(t)&&function TI(){an.skipHydrationRootTNode=null}(),function Wx(){an.lFrame.elementDepthCount--}();const e=Kn();return e.firstCreatePass&&(bp(e,n),Dx(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function FI(n){return 0!=(8&n.flags)}(t)&&KS(e,t,tt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function LI(n){return 0!=(16&n.flags)}(t)&&KS(e,t,tt(),t.stylesWithoutHost,!1),Q}function Qe(n,t,e,i){return q(n,t,e,i),Q(),Qe}let sz=(n,t,e,i,r,s)=>(ql(!0),vw(i,r,function nw(){return an.lFrame.currentNamespace}()));function Av(n,t,e){const i=tt(),r=Kn(),s=n+jn,o=r.firstCreatePass?function Oie(n,t,e,i,r){const s=t.consts,o=Ba(s,i),c=qp(t,n,8,"ng-container",o);return null!==o&&Hw(c,o,!0),BS(t,e,c,Ba(s,r)),null!==t.queries&&t.queries.elementStart(t,c),c}(s,r,i,t,e):r.data[s];Go(o,!0);const c=oz(r,i,o,n);return i[s]=c,Vd()&&xw(r,i,c,o),Js(c,i),k_(o)&&(FS(r,i,o),NS(r,o,i)),null!=e&&LS(i,o),Av}function kv(){let n=Wr();const t=Kn();return X_()?mp():(n=n.parent,Go(n,!1)),t.firstCreatePass&&(bp(t,n),Dx(n)&&t.queries.elementEnd(n)),kv}function bh(n,t,e){return Av(n,t,e),kv(),bh}let oz=(n,t,e,i)=>(ql(!0),KI(t[un],""));function rn(){return tt()}function Mv(n){return!!n&&"function"==typeof n.then}function az(n){return!!n&&"function"==typeof n.subscribe}function Fe(n,t,e,i){const r=tt(),s=Kn(),o=Wr();return lz(s,r,r[un],o,n,t,i),Fe}function QS(n,t){const e=Wr(),i=tt(),r=Kn();return lz(r,i,kB(Ld(r.data),e,i),e,n,t),QS}function lz(n,t,e,i,r,s,o){const c=k_(i),f=n.firstCreatePass&&AB(n),_=t[ur],x=SB(t);let T=!0;if(3&i.type||o){const V=Cs(i,t),U=o?o(V):V,re=x.length,te=o?pe=>o(Ui(pe[i.index])):i.index;let oe=null;if(!o&&c&&(oe=function Fie(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const c=t[Ed],d=r[s+2];return c.length>d?c[d]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==oe)(oe.__ngLastListenerFn__||oe).__ngNextListenerFn__=s,oe.__ngLastListenerFn__=s,T=!1;else{s=dz(i,t,_,s,!1);const pe=e.listen(U,r,s);x.push(s,pe),f&&f.push(r,te,re,re+1)}}else s=dz(i,t,_,s,!1);const M=i.outputs;let N;if(T&&null!==M&&(N=M[r])){const V=N.length;if(V)for(let U=0;U<V;U+=2){const Ie=t[N[U]][N[U+1]].subscribe(s),Xe=x.length;x.push(s,Ie),f&&f.push(r,i.index,Xe,-(Xe+1))}}}function cz(n,t,e,i){try{return Va(6,t,e),!1!==e(i)}catch(r){return MB(n,r),!1}finally{Va(7,t,e)}}function dz(n,t,e,i,r){return function s(o){if(o===Function)return i;yv(n.componentOffset>-1?Fs(n.index,t):t);let d=cz(t,e,i,o),f=s.__ngNextListenerFn__;for(;f;)d=cz(t,e,f,o)&&d,f=f.__ngNextListenerFn__;return r&&!1===d&&o.preventDefault(),d}}function ve(n=1){return function kI(n){return(an.lFrame.contextLView=function MI(n,t){for(;n>0;)t=t[Gl],n--;return t}(n,an.lFrame.contextLView))[ur]}(n)}function Lie(n,t){let e=null;const i=function vx(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?Qf(n,s,!0):x_(i,s))return r}else e=r}return e}function fa(n){const t=tt()[Ir][ns];if(!t.projection){const i=t.projection=lv(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?Lie(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function nr(n,t=0,e){const i=tt(),r=Kn(),s=qp(r,jn+n,16,null,e||null);null===s.projection&&(s.projection=t),mp(),(!i[Ks]||Pd())&&32!=(32&s.flags)&&function Fee(n,t,e){yV(t[un],0,t,e,eS(n,e,t),fV(e.parent||t[ns],e,t))}(r,i,s)}function ec(n,t,e){return Rv(n,"",t,"",e),ec}function Rv(n,t,e,i,r){const s=tt(),o=Zp(s,t,e,i);return o!==wn&&ha(Kn(),er(),s,n,o,s[un],r,!1),Rv}function Xw(n,t){return n<<17|t<<2}function Wd(n){return n>>17&32767}function JS(n){return 2|n}function xh(n){return(131068&n)>>2}function eA(n,t){return-131069&n|t<<2}function tA(n){return 1|n}function yz(n,t,e,i,r){const s=n[e+1],o=null===t;let c=i?Wd(s):xh(s),d=!1;for(;0!==c&&(!1===d||o);){const _=n[c+1];jie(n[c],t)&&(d=!0,n[c+1]=i?tA(_):JS(_)),c=i?Wd(_):xh(_)}d&&(n[e+1]=i?JS(s):tA(s))}function jie(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Rp(n,t)>=0}const gs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bz(n){return n.substring(gs.key,gs.keyEnd)}function xz(n,t){const e=gs.textEnd;return e===t?-1:(t=gs.keyEnd=function Yie(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,gs.key=t,e),rg(n,t,e))}function rg(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Nr(n,t,e){return hl(n,t,e,!1),Nr}function Nt(n,t){return hl(n,t,null,!0),Nt}function Co(n){fl(nre,nc,n,!0)}function nc(n,t){for(let e=function Gie(n){return function Cz(n){gs.key=0,gs.keyEnd=0,gs.value=0,gs.valueEnd=0,gs.textEnd=n.length}(n),xz(n,rg(n,0,gs.textEnd))}(t);e>=0;e=xz(t,e))ca(n,bz(t),!0)}function hl(n,t,e,i){const r=tt(),s=Kn(),o=dl(2);s.firstUpdatePass&&Iz(s,n,o,i),t!==wn&&eo(r,o,t)&&Az(s,s.data[Ls()],r,r[un],n,r[o+1]=function rre(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Gt(da(n)))),n}(t,e),i,o)}function fl(n,t,e,i){const r=Kn(),s=dl(2);r.firstUpdatePass&&Iz(r,null,s,i);const o=tt();if(e!==wn&&eo(o,s,e)){const c=r.data[Ls()];if(Mz(c,i)&&!Tz(r,s)){let d=i?c.classesWithoutHost:c.stylesWithoutHost;null!==d&&(e=Tr(d,e||"")),KS(r,c,o,e,i)}else!function ire(n,t,e,i,r,s,o,c){r===wn&&(r=ai);let d=0,f=0,_=0<r.length?r[0]:null,x=0<s.length?s[0]:null;for(;null!==_||null!==x;){const T=d<r.length?r[d+1]:void 0,M=f<s.length?s[f+1]:void 0;let V,N=null;_===x?(d+=2,f+=2,T!==M&&(N=x,V=M)):null===x||null!==_&&_<x?(d+=2,N=_):(f+=2,N=x,V=M),null!==N&&Az(n,t,e,i,N,V,o,c),_=d<r.length?r[d]:null,x=f<s.length?s[f]:null}}(r,c,o,o[un],o[s+1],o[s+1]=function tre(n,t,e){if(null==e||""===e)return ai;const i=[],r=da(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function Tz(n,t){return t>=n.expandoStartIndex}function Iz(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Ls()],o=Tz(n,e);Mz(s,i)&&null===t&&!o&&(t=!1),t=function Kie(n,t,e,i){const r=Ld(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Ov(e=nA(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=nA(r,n,t,e,i),null===s){let d=function Qie(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==xh(i))return n[Wd(i)]}(n,t,i);void 0!==d&&Array.isArray(d)&&(d=nA(null,n,t,d[1],i),d=Ov(d,t.attrs,i),function Jie(n,t,e,i){n[Wd(e?t.classBindings:t.styleBindings)]=i}(n,t,i,d))}else s=function ere(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Ov(i,n[s].hostAttrs,e);return Ov(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function Hie(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,c=Wd(o),d=xh(o);n[i]=e;let _,f=!1;if(Array.isArray(e)?(_=e[1],(null===_||Rp(e,_)>0)&&(f=!0)):_=e,r)if(0!==d){const T=Wd(n[c+1]);n[i+1]=Xw(T,c),0!==T&&(n[T+1]=eA(n[T+1],i)),n[c+1]=function Bie(n,t){return 131071&n|t<<17}(n[c+1],i)}else n[i+1]=Xw(c,0),0!==c&&(n[c+1]=eA(n[c+1],i)),c=i;else n[i+1]=Xw(d,0),0===c?c=i:n[d+1]=eA(n[d+1],i),d=i;f&&(n[i+1]=JS(n[i+1])),yz(n,_,i,!0),yz(n,_,i,!1),function Uie(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Rp(s,t)>=0&&(e[i+1]=tA(e[i+1]))}(t,_,n,i,s),o=Xw(c,d),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function nA(n,t,e,i,r){let s=null;const o=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<o&&(s=t[c],i=Ov(i,s.hostAttrs,r),s!==n);)c++;return null!==n&&(e.directiveStylingLast=c),i}function Ov(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ca(n,o,!!e||t[++s]))}return void 0===n?null:n}function nre(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&ca(n,i,e)}function Az(n,t,e,i,r,s,o,c){if(!(3&t.type))return;const d=n.data,f=d[c+1],_=function zie(n){return 1==(1&n)}(f)?kz(d,t,e,r,xh(f),o):void 0;Zw(_)||(Zw(s)||function Vie(n){return 2==(2&n)}(f)&&(s=kz(d,null,e,r,c,o)),function Vee(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:Hd.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Hd.Important),n.setStyle(e,i,r,s))}}(i,o,hp(Ls(),e),r,s))}function kz(n,t,e,i,r,s){const o=null===t;let c;for(;r>0;){const d=n[r],f=Array.isArray(d),_=f?d[1]:d,x=null===_;let T=e[r+1];T===wn&&(T=x?ai:void 0);let M=x?HI(T,i):_===i?T:void 0;if(f&&!Zw(M)&&(M=HI(d,i)),Zw(M)&&(c=M,o))return c;const N=n[r+1];r=o?Wd(N):xh(N)}if(null!==t){let d=s?t.residualClasses:t.residualStyles;null!=d&&(c=HI(d,i))}return c}function Zw(n){return void 0!==n}function Mz(n,t){return 0!=(n.flags&(t?8:16))}function De(n,t=""){const e=tt(),i=Kn(),r=n+jn,s=i.firstCreatePass?qp(i,r,1,t,null):i.data[r],o=Rz(i,e,s,t,n);e[r]=o,Vd()&&xw(i,e,o,s),Go(s,!1)}let Rz=(n,t,e,i,r)=>(ql(!0),function _w(n,t){return n.createText(t)}(t[un],i));function ln(n){return Cn("",n,""),ln}function Cn(n,t,e){const i=tt(),r=Zp(i,n,t,e);return r!==wn&&Xc(i,Ls(),r),Cn}function Kw(n,t,e,i,r){const s=tt(),o=function Kp(n,t,e,i,r,s){const c=yh(n,aa(),e,r);return dl(2),c?t+h(e)+i+h(r)+s:wn}(s,n,t,e,i,r);return o!==wn&&Xc(s,Ls(),o),Kw}function iA(n,t,e,i,r,s,o){const c=tt(),d=function Qp(n,t,e,i,r,s,o,c){const f=Gw(n,aa(),e,r,o);return dl(3),f?t+h(e)+i+h(r)+s+h(o)+c:wn}(c,n,t,e,i,r,s,o);return d!==wn&&Xc(c,Ls(),d),iA}function Bs(n,t,e){const i=tt();return eo(i,Fd(),t)&&ha(Kn(),er(),i,n,t,i[un],e,!0),Bs}function Qw(n,t,e){const i=tt();if(eo(i,Fd(),t)){const s=Kn(),o=er();ha(s,o,i,n,t,kB(Ld(s.data),o,i),e,!0)}return Qw}const wh=void 0;var Dre=["en",[["a","p"],["AM","PM"],wh],[["AM","PM"],wh,wh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wh,"{1} 'at' {0}",wh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ere(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let sg={};function Eo(n){const t=function Ire(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Zz(t);if(e)return e;const i=t.split("-")[0];if(e=Zz(i),e)return e;if("en"===i)return Dre;throw new l(701,!1)}function Zz(n){return n in sg||(sg[n]=Ai.ng&&Ai.ng.common&&Ai.ng.common.locales&&Ai.ng.common.locales[n]),sg[n]}var ir=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ir||{});const og="en-US";let Kz=og;function oA(n,t,e,i,r){if(n=ye(n),Array.isArray(n))for(let s=0;s<n.length;s++)oA(n[s],t,e,i,r);else{const s=Kn(),o=tt(),c=Wr();let d=vh(n)?n:ye(n.provide);const f=zV(n),_=1048575&c.providerIndexes,x=c.directiveStart,T=c.providerIndexes>>20;if(vh(n)||!n.multi){const M=new Xl(f,r,B),N=lA(d,t,r?_:_+T,x);-1===N?(Bd(Xt(c,o),s,d),aA(s,n,t.length),t.push(d),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(M),o.push(M)):(e[N]=M,o[N]=M)}else{const M=lA(d,t,_+T,x),N=lA(d,t,_,_+T),U=N>=0&&e[N];if(r&&!U||!r&&!(M>=0&&e[M])){Bd(Xt(c,o),s,d);const re=function Ese(n,t,e,i,r){const s=new Xl(n,e,B);return s.multi=[],s.index=t,s.componentProviders=0,wH(s,r,i&&!e),s}(r?Cse:wse,e.length,r,i,f);!r&&U&&(e[N].providerFactory=re),aA(s,n,t.length,0),t.push(d),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(re),o.push(re)}else aA(s,n,M>-1?M:N,wH(e[r?N:M],f,!r&&i));!r&&i&&U&&e[N].componentProviders++}}}function aA(n,t,e,i){const r=vh(t),s=function _te(n){return!!n.useClass}(t);if(r||s){const d=(s?ye(t.useClass):t).prototype.ngOnDestroy;if(d){const f=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const _=f.indexOf(e);-1===_?f.push(e,[i,d]):f[_+1].push(i,d)}else f.push(e,d)}}}function wH(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function lA(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function wse(n,t,e,i){return cA(this.multi,[])}function Cse(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,c=ul(e,e[It],this.providerFactory.index,i);s=c.slice(0,o),cA(r,s);for(let d=o;d<c.length;d++)s.push(c[d])}else s=[],cA(r,s);return s}function cA(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function li(n,t=[]){return e=>{e.providersResolver=(i,r)=>function xse(n,t,e){const i=Kn();if(i.firstCreatePass){const r=yo(n);oA(e,i.data,i.blueprint,r,!0),oA(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Ch{}class CH{}class dA extends Ch{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new VB(this);const r=Ns(t);this._bootstrapComponents=qc(r.bootstrap),this._r3Injector=QV(t,e,[{provide:Ch,useValue:this},{provide:Ud,useValue:this.componentFactoryResolver},...i],Gt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class uA extends CH{constructor(t){super(),this.moduleType=t}create(t){return new dA(this.moduleType,t,[])}}class EH extends Ch{constructor(t){super(),this.componentFactoryResolver=new VB(this),this.instance=null;const e=new Vp([...t.providers,{provide:Ch,useValue:this},{provide:Ud,useValue:this.componentFactoryResolver}],t.parent||Aw(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function hA(n,t,e=null){return new EH({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let Ise=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=FV(0,e.type),r=i.length>0?hA([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=le({token:n,providedIn:"environment",factory:()=>new n(ce(xo))})}return n})();function Do(n){n.getStandaloneInjector=t=>t.get(Ise).getOrCreateStandaloneInjector(n)}function To(n,t,e){const i=Es()+n,r=tt();return r[i]===wn?Jl(r,i,e?t.call(e):t()):Dv(r,i)}function pl(n,t,e,i){return PH(tt(),Es(),n,t,e,i)}function $r(n,t,e,i,r){return NH(tt(),Es(),n,t,e,i,r)}function ag(n,t,e,i,r,s){return FH(tt(),Es(),n,t,e,i,r,s)}function MH(n,t,e,i,r,s,o){return function LH(n,t,e,i,r,s,o,c,d){const f=t+e;return Ua(n,f,r,s,o,c)?Jl(n,f+4,d?i.call(d,r,s,o,c):i(r,s,o,c)):zv(n,f+4)}(tt(),Es(),n,t,e,i,r,s,o)}function pA(n,t,e,i,r,s,o,c){const d=Es()+n,f=tt(),_=Ua(f,d,e,i,r,s);return eo(f,d+4,o)||_?Jl(f,d+5,c?t.call(c,e,i,r,s,o):t(e,i,r,s,o)):Dv(f,d+5)}function gA(n,t,e,i){return function VH(n,t,e,i,r,s){let o=t+e,c=!1;for(let d=0;d<r.length;d++)eo(n,o++,r[d])&&(c=!0);return c?Jl(n,o,i.apply(s,r)):zv(n,o)}(tt(),Es(),n,t,e,i)}function zv(n,t){const e=n[t];return e===wn?void 0:e}function PH(n,t,e,i,r,s){const o=t+e;return eo(n,o,r)?Jl(n,o+1,s?i.call(s,r):i(r)):zv(n,o+1)}function NH(n,t,e,i,r,s,o){const c=t+e;return yh(n,c,r,s)?Jl(n,c+2,o?i.call(o,r,s):i(r,s)):zv(n,c+2)}function FH(n,t,e,i,r,s,o,c){const d=t+e;return Gw(n,d,r,s,o)?Jl(n,d+3,c?i.call(c,r,s,o):i(r,s,o)):zv(n,d+3)}function Vt(n,t){const e=Kn();let i;const r=n+jn;e.firstCreatePass?(i=function Lse(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Bc(i.type)),c=hi(B);try{const d=k(!1),f=s();return k(d),function Aie(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,tt(),r,f),f}finally{hi(c)}}function En(n,t,e){const i=n+jn,r=tt(),s=Rd(r,i);return Hv(r,i)?PH(r,Es(),t,s.transform,e,s):s.transform(e)}function Io(n,t,e,i){const r=n+jn,s=tt(),o=Rd(s,r);return Hv(s,r)?NH(s,Es(),t,o.transform,e,i,o):o.transform(e,i)}function gl(n,t,e,i,r){const s=n+jn,o=tt(),c=Rd(o,s);return Hv(o,s)?FH(o,Es(),t,c.transform,e,i,r,c):c.transform(e,i,r)}function Hv(n,t){return n[It].data[t].pure}function zse(){return this._results[Symbol.iterator]()}class Uv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ve)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Uv.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=zse)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function za(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function HJ(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Use(n,t,e,i=!0){const r=t[It];if(function kee(n,t,e,i){const r=hs+i,s=e.length;i>0&&(e[r-1][_o]=t),i<s-hs?(t[_o]=e[r],V2(e,hs+i,t)):(e.push(t),t[_o]=null),t[Ji]=e;const o=t[Lc];null!==o&&e!==o&&function Mee(n,t){const e=n[oh];t[Ir]!==t[Ji][Ji][Ir]&&(n[Ex]=!0),null===e?n[oh]=[t]:e.push(t)}(o,t);const c=t[La];null!==c&&c.insertView(n),t[_n]|=128}(r,t,n,e),i){const s=nS(e,n),o=t[un],c=bw(o,n[ll]);null!==c&&function Iee(n,t,e,i,r,s){i[vr]=r,i[ns]=t,fv(n,i,e,1,r,s)}(r,n[ns],o,t,c,s)}}let $i=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Gse}return n})();const jse=$i,Wse=class extends jse{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function Hse(n,t,e,i){const r=t.tView,c=Bw(n,r,e,4096&n[_n]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);c[Lc]=n[t.index];const f=n[La];return null!==f&&(c[La]=f.createEmbeddedView(r)),WS(r,c,e),c}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new wv(r)}};function Gse(){return iC(Wr(),tt())}function iC(n,t){return 4&n.type?new Wse(t,n,Up(n,t)):null}let Ds=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Kse}return n})();function Kse(){return GH(Wr(),tt())}const Qse=Ds,jH=class extends Qse{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Up(this._hostTNode,this._hostLView)}get injector(){return new bo(this._hostTNode,this._hostLView)}get parentInjector(){const t=la(this._hostTNode,this._hostLView);if(rv(t)){const e=y(t,this._hostLView),i=wp(t);return new bo(e[It].data[i+8],e)}return new bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=WH(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-hs}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const c=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(c,r,false),c}createComponent(t,e,i,r,s){const o=t&&!function av(n){return"function"==typeof n}(t);let c;if(o)c=e;else{const V=e||{};c=V.index,i=V.injector,r=V.projectableNodes,s=V.environmentInjector||V.ngModuleRef}const d=o?t:new Cv(Zn(t)),f=i||this.parentInjector;if(!s&&null==d.ngModule){const U=(o?f:this.parentInjector).get(xo,null);U&&(s=U)}Zn(d.componentType??{});const M=d.create(f,r,null,s);return this.insertImpl(M.hostView,c,false),M}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function wI(n){return Qs(n[Ji])}(r)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const f=r[Ji],_=new jH(f,f[ns],f[Ji]);_.detach(_.indexOf(t))}}const o=this._adjustIndex(e),c=this._lContainer;return Use(c,r,o,!i),t.attachToViewContainerRef(),V2(mA(c),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=WH(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=yw(this._lContainer,e);i&&(cw(mA(this._lContainer),e),QI(i[It],i))}detach(t){const e=this._adjustIndex(t,-1),i=yw(this._lContainer,e);return i&&null!=cw(mA(this._lContainer),e)?new wv(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function WH(n){return n[8]}function mA(n){return n[8]||(n[8]=[])}function GH(n,t){let e;const i=t[n.index];return Qs(i)?e=i:(e=TB(i,t,null,n),t[n.index]=e,zw(t,e)),$H(e,t,n,i),new jH(e,n,t)}let $H=function YH(n,t,e,i){if(n[ll])return;let r;r=8&e.type?Ui(i):function Jse(n,t){const e=n[un],i=e.createComment(""),r=Cs(t,n);return ph(e,bw(e,r),i,function Nee(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[ll]=r};class _A{constructor(t){this.queryList=t,this.matches=null}clone(){return new _A(this.queryList)}setDirty(){this.queryList.setDirty()}}class vA{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new vA(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==QH(t,e).matches&&this.queries[e].setDirty()}}class qH{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class yA{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new yA(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class bA{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new bA(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,noe(e,s)),this.matchTNodeWithReadOption(t,e,uh(e,t,s,!1,!1))}else i===$i?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,uh(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===zt||r===Ds||r===$i&&4&e.type)this.addMatch(e.index,-2);else{const s=uh(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function noe(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function roe(n,t,e,i){return-1===e?function ioe(n,t){return 11&n.type?Up(n,t):4&n.type?iC(n,t):null}(t,n):-2===e?function soe(n,t,e){return e===zt?Up(t,n):e===$i?iC(t,n):e===Ds?GH(t,n):void 0}(n,t,i):ul(n,n[It],e,t)}function XH(n,t,e,i){const r=t[La].queries[i];if(null===r.matches){const s=n.data,o=e.matches,c=[];for(let d=0;d<o.length;d+=2){const f=o[d];c.push(f<0?null:roe(t,s[f],o[d+1],e.metadata.read))}r.matches=c}return r.matches}function xA(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=XH(n,t,r,e);for(let c=0;c<s.length;c+=2){const d=s[c];if(d>0)i.push(o[c/2]);else{const f=s[c+1],_=t[-d];for(let x=hs;x<_.length;x++){const T=_[x];T[Lc]===T[Ji]&&xA(T[It],T,f,i)}if(null!==_[oh]){const x=_[oh];for(let T=0;T<x.length;T++){const M=x[T];xA(M[It],M,f,i)}}}}}return i}function Ut(n){const t=tt(),e=Kn(),i=Kx();Q_(i+1);const r=QH(e,i);if(n.dirty&&function xI(n){return 4==(4&n[_n])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?xA(e,t,i,[]):XH(e,t,r,i);n.reset(s,Vte),n.notifyOnChanges()}return!0}return!1}function wi(n,t,e){const i=Kn();i.firstCreatePass&&(KH(i,new qH(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),ZH(i,tt(),t)}function si(n,t,e,i){const r=Kn();if(r.firstCreatePass){const s=Wr();KH(r,new qH(t,e,i),s.index),function aoe(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}ZH(r,tt(),e)}function jt(){return function ooe(n,t){return n[La].queries[t].queryList}(tt(),Kx())}function ZH(n,t,e){const i=new Uv(4==(4&e));(function _ne(n,t,e,i){const r=SB(t);r.push(e),n.firstCreatePass&&AB(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[La]&&(t[La]=new vA),t[La].queries.push(new _A(i))}function KH(n,t,e){null===n.queries&&(n.queries=new yA),n.queries.track(new bA(t,e))}function QH(n,t){return n.queries.getByIndex(t)}function Yi(n,t){return iC(n,t)}const IA=new Be("Application Initializer");let SA=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Ge(IA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(Mv(s))e.push(s);else if(az(s)){const o=new Promise((c,d)=>{s.subscribe({complete:c,error:d})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gU=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const to=new Be("LocaleId",{providedIn:"root",factory:()=>Ge(to,mn.Optional|mn.SkipSelf)||function Soe(){return typeof $localize<"u"&&$localize.locale||og}()});let oC=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new W(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Moe{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let mU=(()=>{class n{compileModuleSync(e){return new uA(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=qc(Ns(e).declarations).reduce((o,c)=>{const d=Zn(c);return d&&o.push(new Cv(d)),o},[]);return new Moe(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const bU=new Be(""),lC=new Be("");let OA,MA=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,OA||(function Joe(n){OA=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(ce(lt),ce(RA),ce(lC))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),RA=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return OA?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Gd=null;const xU=new Be("AllowMultipleToken"),PA=new Be("PlatformDestroyListeners"),NA=new Be("appBootstrapListener");class CU{constructor(t,e){this.name=t,this.token=e}}function DU(n,t,e=[]){const i=`Platform: ${t}`,r=new Be(i);return(s=[])=>{let o=FA();if(!o||o.injector.get(xU,!1)){const c=[...e,...s,{provide:r,useValue:!0}];n?n(c):function nae(n){if(Gd&&!Gd.get(xU,!1))throw new l(400,!1);(function wU(){!function cp(n){Rx=n}(()=>{throw new l(600,!1)})})(),Gd=n;const t=n.get(IU);(function EU(n){n.get(HV,null)?.forEach(e=>e())})(n)}(function TU(n=[],t){return Gi.create({name:t,providers:[{provide:fS,useValue:"platform"},{provide:PA,useValue:new Set([()=>Gd=null])},...n]})}(c,i))}return function rae(n){const t=FA();if(!t)throw new l(401,!1);return t}()}}function FA(){return Gd?.get(IU)??null}let IU=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function sae(n="zone.js",t){return"noop"===n?new Jte:"zone.js"===n?new lt(t):n}(i?.ngZone,function SU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function Tse(n,t,e){return new dA(n,t,e)}(e.moduleType,this.injector,function OU(n){return[{provide:lt,useFactory:n},{provide:mv,multi:!0,useFactory:()=>{const t=Ge(aae,{optional:!0});return()=>t.initialize()}},{provide:RU,useFactory:oae},{provide:iB,useFactory:rB}]}(()=>r)),o=s.injector.get(Yc,null);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:d=>{o.handleError(d)}});s.onDestroy(()=>{cC(this._modules,s),c.unsubscribe()})}),function AU(n,t,e){try{const i=e();return Mv(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const c=s.injector.get(SA);return c.runInitializers(),c.donePromise.then(()=>(function Qz(n){K(n,"Expected localeId to be defined"),"string"==typeof n&&(Kz=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(to,og)||og),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=kU({},i);return function eae(n,t,e){const i=new uA(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(ja);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new l(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new l(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(PA,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Gi))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function kU(n,t){return Array.isArray(t)?t.reduce(kU,n):{...n,...t}}let ja=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ge(RU),this.zoneIsStable=Ge(iB),this.componentTypes=[],this.components=[],this.isStable=Ge(oC).hasPendingTasks.pipe(vt(e=>e?de(!1):this.zoneIsStable),en(),He()),this._injector=Ge(xo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof GV;if(!this._injector.get(SA).done)throw!r&&function Nc(n){const t=Zn(n)||ds(n)||us(n);return null!==t&&t.standalone}(e),new l(405,!1);let o;o=r?e:this._injector.get(Ud).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const c=function tae(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ch),f=o.create(Gi.NULL,[],i||o.selector,c),_=f.location.nativeElement,x=f.injector.get(bU,null);return x?.registerApplication(_),f.onDestroy(()=>{this.detachView(f.hostView),cC(this.components,f),x?.unregisterApplication(_)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new l(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;cC(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(NA,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>cC(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new l(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const RU=new Be("",{providedIn:"root",factory:()=>Ge(Yc).handleError.bind(void 0)});function oae(){const n=Ge(lt),t=Ge(Yc);return e=>n.runOutsideAngular(()=>t.handleError(e))}let aae=(()=>{class n{constructor(){this.zone=Ge(lt),this.applicationRef=Ge(ja)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let hr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=cae}return n})();function cae(n){return function dae(n,t,e){if(Sd(n)&&!e){const i=Fs(n.index,t);return new wv(i,i)}return 47&n.type?new wv(t[Ir],t):null}(Wr(),tt(),16==(16&n))}class LU{constructor(){}supports(t){return Ww(t)}create(t){return new mae(t)}}const gae=(n,t)=>t;class mae{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||gae}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<BU(i,r,s)?e:i,c=BU(o,r,s),d=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const f=c-r,_=d-r;if(f!=_){for(let T=0;T<f;T++){const M=T<s.length?s[T]:s[T]=0,N=M+T;_<=N&&N<f&&(s[T]=M+1)}s[o.previousIndex]=_-f}}c!==d&&t(o,c,d)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ww(t))throw new l(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)s=t[c],o=this._trackByFn(c,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,c)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,c),i=!0),e=e._next}else r=0,function lie(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,c=>{o=this._trackByFn(r,c),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,c,o,r)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new _ae(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new VU),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VU),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class _ae{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vae{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class VU{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new vae,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BU(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class zU{constructor(){}supports(t){return t instanceof Map||GS(t)}create(){return new yae}}class yae{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||GS(t)))throw new l(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new bae(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class bae{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HU(){return new hC([new LU])}let hC=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:HU});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||HU()),deps:[[n,new fh,new zd]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new l(901,!1)}}return n})();function UU(){return new Gv([new zU])}let Gv=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:UU});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||UU()),deps:[[n,new fh,new zd]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new l(901,!1)}}return n})();const Cae=DU(null,"core",[]);let Eae=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ja))};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})();function dg(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function jA(n,t){const e=Zn(n),i=t.elementInjector||Aw();return new Cv(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let WA=null;function $d(){return WA}class Vae{}const on=new Be("DocumentToken");let GA=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return Ge(zae)},providedIn:"platform"})}return n})();const Bae=new Be("Location Initialized");let zae=(()=>{class n extends GA{constructor(){super(),this._doc=Ge(on),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $d().getBaseHref(this._doc)}onPopState(e){const i=$d().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=$d().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function $A(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function KU(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Zc(n){return n&&"?"!==n[0]?"?"+n:n}let Dh=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return Ge(JU)},providedIn:"root"})}return n})();const QU=new Be("appBaseHref");let JU=(()=>{class n extends Dh{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ge(on).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return $A(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Zc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+Zc(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+Zc(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(GA),ce(QU,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hae=(()=>{class n extends Dh{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=$A(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+Zc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+Zc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(GA),ce(QU,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),$v=(()=>{class n{constructor(e){this._subject=new Ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Wae(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(KU(e3(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Zc(i))}normalize(e){return n.stripTrailingSlash(function jae(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,e3(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Zc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Zc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Zc;static#t=this.joinWithSlash=$A;static#n=this.stripTrailingSlash=KU;static#i=this.\u0275fac=function(i){return new(i||n)(ce(Dh))};static#r=this.\u0275prov=le({token:n,factory:function(){return function Uae(){return new $v(ce(Dh))}()},providedIn:"root"})}return n})();function e3(n){return n.replace(/\/index.html$/,"")}var ug=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}(ug||{}),Ts=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ts||{}),fi=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(fi||{}),pa=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(pa||{}),Yr=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Yr||{});function gC(n,t){return Ga(Eo(n)[ir.DateFormat],t)}function mC(n,t){return Ga(Eo(n)[ir.TimeFormat],t)}function _C(n,t){return Ga(Eo(n)[ir.DateTimeFormat],t)}function Wa(n,t){const e=Eo(n),i=e[ir.NumberSymbols][t];if(typeof i>"u"){if(t===Yr.CurrencyDecimal)return e[ir.NumberSymbols][Yr.Decimal];if(t===Yr.CurrencyGroup)return e[ir.NumberSymbols][Yr.Group]}return i}const Zae=function Xz(n){return Eo(n)[ir.PluralCase]};function i3(n){if(!n[ir.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[ir.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ga(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function XA(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const nle=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yv={},ile=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Kc=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Kc||{}),Ci=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ci||{}),Ei=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ei||{});function is(n,t,e,i){let r=function hle(n){if(o3(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(c=>+c);return vC(r,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(nle))return function fle(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,c=Number(n[5]||0)-i,d=Number(n[6]||0),f=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,c,d,f),t}(i)}const t=new Date(n);if(!o3(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Qc(e,t)||t;let c,o=[];for(;t;){if(c=ile.exec(t),!c){o.push(t);break}{o=o.concat(c.slice(1));const _=o.pop();if(!_)break;t=_}}let d=r.getTimezoneOffset();i&&(d=s3(i,d),r=function ule(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function dle(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(s3(t,r)-r))}(r,i,!0));let f="";return o.forEach(_=>{const x=function cle(n){if(KA[n])return KA[n];let t;switch(n){case"G":case"GG":case"GGG":t=rr(Ei.Eras,fi.Abbreviated);break;case"GGGG":t=rr(Ei.Eras,fi.Wide);break;case"GGGGG":t=rr(Ei.Eras,fi.Narrow);break;case"y":t=rs(Ci.FullYear,1,0,!1,!0);break;case"yy":t=rs(Ci.FullYear,2,0,!0,!0);break;case"yyy":t=rs(Ci.FullYear,3,0,!1,!0);break;case"yyyy":t=rs(Ci.FullYear,4,0,!1,!0);break;case"Y":t=wC(1);break;case"YY":t=wC(2,!0);break;case"YYY":t=wC(3);break;case"YYYY":t=wC(4);break;case"M":case"L":t=rs(Ci.Month,1,1);break;case"MM":case"LL":t=rs(Ci.Month,2,1);break;case"MMM":t=rr(Ei.Months,fi.Abbreviated);break;case"MMMM":t=rr(Ei.Months,fi.Wide);break;case"MMMMM":t=rr(Ei.Months,fi.Narrow);break;case"LLL":t=rr(Ei.Months,fi.Abbreviated,Ts.Standalone);break;case"LLLL":t=rr(Ei.Months,fi.Wide,Ts.Standalone);break;case"LLLLL":t=rr(Ei.Months,fi.Narrow,Ts.Standalone);break;case"w":t=ZA(1);break;case"ww":t=ZA(2);break;case"W":t=ZA(1,!0);break;case"d":t=rs(Ci.Date,1);break;case"dd":t=rs(Ci.Date,2);break;case"c":case"cc":t=rs(Ci.Day,1);break;case"ccc":t=rr(Ei.Days,fi.Abbreviated,Ts.Standalone);break;case"cccc":t=rr(Ei.Days,fi.Wide,Ts.Standalone);break;case"ccccc":t=rr(Ei.Days,fi.Narrow,Ts.Standalone);break;case"cccccc":t=rr(Ei.Days,fi.Short,Ts.Standalone);break;case"E":case"EE":case"EEE":t=rr(Ei.Days,fi.Abbreviated);break;case"EEEE":t=rr(Ei.Days,fi.Wide);break;case"EEEEE":t=rr(Ei.Days,fi.Narrow);break;case"EEEEEE":t=rr(Ei.Days,fi.Short);break;case"a":case"aa":case"aaa":t=rr(Ei.DayPeriods,fi.Abbreviated);break;case"aaaa":t=rr(Ei.DayPeriods,fi.Wide);break;case"aaaaa":t=rr(Ei.DayPeriods,fi.Narrow);break;case"b":case"bb":case"bbb":t=rr(Ei.DayPeriods,fi.Abbreviated,Ts.Standalone,!0);break;case"bbbb":t=rr(Ei.DayPeriods,fi.Wide,Ts.Standalone,!0);break;case"bbbbb":t=rr(Ei.DayPeriods,fi.Narrow,Ts.Standalone,!0);break;case"B":case"BB":case"BBB":t=rr(Ei.DayPeriods,fi.Abbreviated,Ts.Format,!0);break;case"BBBB":t=rr(Ei.DayPeriods,fi.Wide,Ts.Format,!0);break;case"BBBBB":t=rr(Ei.DayPeriods,fi.Narrow,Ts.Format,!0);break;case"h":t=rs(Ci.Hours,1,-12);break;case"hh":t=rs(Ci.Hours,2,-12);break;case"H":t=rs(Ci.Hours,1);break;case"HH":t=rs(Ci.Hours,2);break;case"m":t=rs(Ci.Minutes,1);break;case"mm":t=rs(Ci.Minutes,2);break;case"s":t=rs(Ci.Seconds,1);break;case"ss":t=rs(Ci.Seconds,2);break;case"S":t=rs(Ci.FractionalSeconds,1);break;case"SS":t=rs(Ci.FractionalSeconds,2);break;case"SSS":t=rs(Ci.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=bC(Kc.Short);break;case"ZZZZZ":t=bC(Kc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=bC(Kc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=bC(Kc.Long);break;default:return null}return KA[n]=t,t}(_);f+=x?x(r,e,d):"''"===_?"'":_.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function vC(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Qc(n,t){const e=function $ae(n){return Eo(n)[ir.LocaleId]}(n);if(Yv[e]=Yv[e]||{},Yv[e][t])return Yv[e][t];let i="";switch(t){case"shortDate":i=gC(n,pa.Short);break;case"mediumDate":i=gC(n,pa.Medium);break;case"longDate":i=gC(n,pa.Long);break;case"fullDate":i=gC(n,pa.Full);break;case"shortTime":i=mC(n,pa.Short);break;case"mediumTime":i=mC(n,pa.Medium);break;case"longTime":i=mC(n,pa.Long);break;case"fullTime":i=mC(n,pa.Full);break;case"short":const r=Qc(n,"shortTime"),s=Qc(n,"shortDate");i=yC(_C(n,pa.Short),[r,s]);break;case"medium":const o=Qc(n,"mediumTime"),c=Qc(n,"mediumDate");i=yC(_C(n,pa.Medium),[o,c]);break;case"long":const d=Qc(n,"longTime"),f=Qc(n,"longDate");i=yC(_C(n,pa.Long),[d,f]);break;case"full":const _=Qc(n,"fullTime"),x=Qc(n,"fullDate");i=yC(_C(n,pa.Full),[_,x])}return i&&(Yv[e][t]=i),i}function yC(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ml(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o}function rs(n,t,e=0,i=!1,r=!1){return function(s,o){let c=function sle(n,t){switch(n){case Ci.FullYear:return t.getFullYear();case Ci.Month:return t.getMonth();case Ci.Date:return t.getDate();case Ci.Hours:return t.getHours();case Ci.Minutes:return t.getMinutes();case Ci.Seconds:return t.getSeconds();case Ci.FractionalSeconds:return t.getMilliseconds();case Ci.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||c>-e)&&(c+=e),n===Ci.Hours)0===c&&-12===e&&(c=12);else if(n===Ci.FractionalSeconds)return function rle(n,t){return ml(n,3).substring(0,t)}(c,t);const d=Wa(o,Yr.MinusSign);return ml(c,t,d,i,r)}}function rr(n,t,e=Ts.Format,i=!1){return function(r,s){return function ole(n,t,e,i,r,s){switch(e){case Ei.Months:return function YA(n,t,e){const i=Eo(n),s=Ga([i[ir.MonthsFormat],i[ir.MonthsStandalone]],t);return Ga(s,e)}(t,r,i)[n.getMonth()];case Ei.Days:return function n3(n,t,e){const i=Eo(n),s=Ga([i[ir.DaysFormat],i[ir.DaysStandalone]],t);return Ga(s,e)}(t,r,i)[n.getDay()];case Ei.DayPeriods:const o=n.getHours(),c=n.getMinutes();if(s){const f=function Kae(n){const t=Eo(n);return i3(t),(t[ir.ExtraData][2]||[]).map(i=>"string"==typeof i?XA(i):[XA(i[0]),XA(i[1])])}(t),_=function Qae(n,t,e){const i=Eo(n);i3(i);const s=Ga([i[ir.ExtraData][0],i[ir.ExtraData][1]],t)||[];return Ga(s,e)||[]}(t,r,i),x=f.findIndex(T=>{if(Array.isArray(T)){const[M,N]=T,V=o>=M.hours&&c>=M.minutes,U=o<N.hours||o===N.hours&&c<N.minutes;if(M.hours<N.hours){if(V&&U)return!0}else if(V||U)return!0}else if(T.hours===o&&T.minutes===c)return!0;return!1});if(-1!==x)return _[x]}return function Yae(n,t,e){const i=Eo(n),s=Ga([i[ir.DayPeriodsFormat],i[ir.DayPeriodsStandalone]],t);return Ga(s,e)}(t,r,i)[o<12?0:1];case Ei.Eras:return function qae(n,t){return Ga(Eo(n)[ir.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function bC(n){return function(t,e,i){const r=-1*i,s=Wa(e,Yr.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Kc.Short:return(r>=0?"+":"")+ml(o,2,s)+ml(Math.abs(r%60),2,s);case Kc.ShortGMT:return"GMT"+(r>=0?"+":"")+ml(o,1,s);case Kc.Long:return"GMT"+(r>=0?"+":"")+ml(o,2,s)+":"+ml(Math.abs(r%60),2,s);case Kc.Extended:return 0===i?"Z":(r>=0?"+":"")+ml(o,2,s)+":"+ml(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const ale=0,xC=4;function r3(n){return vC(n.getFullYear(),n.getMonth(),n.getDate()+(xC-n.getDay()))}function ZA(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{const s=r3(e),o=function lle(n){const t=vC(n,ale,1).getDay();return vC(n,0,1+(t<=xC?xC:xC+7)-t)}(s.getFullYear()),c=s.getTime()-o.getTime();r=1+Math.round(c/6048e5)}return ml(r,n,Wa(i,Yr.MinusSign))}}function wC(n,t=!1){return function(e,i){return ml(r3(e).getFullYear(),n,Wa(i,Yr.MinusSign),t)}}const KA={};function s3(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function o3(n){return n instanceof Date&&!isNaN(n.valueOf())}let nk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(i){let r=null;return i?r=new i:(s=ce(to),r=new Ele(s)),r;var s},providedIn:"root"})}return n})();let Ele=(()=>{class n extends nk{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Zae(i||this.locale)(e)){case ug.Zero:return"zero";case ug.One:return"one";case ug.Two:return"two";case ug.Few:return"few";case ug.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(i){return new(i||n)(ce(to))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function d3(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const ik=/\s+/,u3=[];let ga=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=u3,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(ik):u3}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(ik):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(ik).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(B(hC),B(Gv),B(zt),B(Gr))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Ile{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sr=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ile(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,o),f3(c,r)}});for(let r=0,s=i.length;r<s;r++){const c=i.get(r).context;c.index=r,c.count=s,c.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{f3(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ds),B($i),B(hC))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function f3(n,t){n.context.$implicit=t.item}let qi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Sle,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){p3("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){p3("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ds),B($i))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Sle{constructor(){this.$implicit=null,this.ngIf=null}}function p3(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Gt(t)}'.`)}class rk{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Th=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),Xv=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new rk(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ds),B($i),B(Th,9))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),g3=(()=>{class n{constructor(e,i,r){r._addDefault(new rk(e,i))}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ds),B($i),B(Th,9))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return n})(),Zv=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:Hd.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(Gv),B(Gr))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),ms=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ds))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Mn]})}return n})();function _l(n,t){return new l(2100,!1)}class kle{createSubscription(t,e){return B_(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){B_(()=>t.unsubscribe())}}class Mle{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Rle=new Mle,Ole=new kle;let sk=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Mv(e))return Rle;if(az(e))return Ole;throw _l()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(B(hr,16))};static#t=this.\u0275pipe=ts({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Ble=new Be("DATE_PIPE_DEFAULT_TIMEZONE"),zle=new Be("DATE_PIPE_DEFAULT_OPTIONS");let hg=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return is(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw _l()}}static#e=this.\u0275fac=function(i){return new(i||n)(B(to,16),B(Ble,24),B(zle,24))};static#t=this.\u0275pipe=ts({name:"date",type:n,pure:!0,standalone:!0})}return n})();const Hle=/#/g;let ok=(()=>{class n{constructor(e){this._localization=e}transform(e,i,r){if(null==e)return"";if("object"!=typeof i||null===i)throw _l();return i[function c3(n,t,e,i){let r=`=${n}`;if(t.indexOf(r)>-1||(r=e.getPluralCategory(n,i),t.indexOf(r)>-1))return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(e,Object.keys(i),this._localization,r)].replace(Hle,e.toString())}static#e=this.\u0275fac=function(i){return new(i||n)(B(nk,16))};static#t=this.\u0275pipe=ts({name:"i18nPlural",type:n,pure:!0,standalone:!0})}return n})(),v3=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw _l();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=ts({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),vl=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})();const y3="browser";function ck(n){return n===y3}function EC(n){return"server"===n}let Qle=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new Jle(ce(on),window)})}return n})();class Jle{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ece(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class b3{}class Cce extends Vae{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hk extends Cce{static makeCurrent(){!function Lae(n){WA||(WA=n)}(new hk)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ece(){return Qv=Qv||document.querySelector("base"),Qv?Qv.getAttribute("href"):null}();return null==e?null:function Dce(n){IC=IC||document.createElement("a"),IC.setAttribute("href",n);const t=IC.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Qv=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return d3(document.cookie,t)}}let IC,Qv=null,Ice=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const fk=new Be("EventManagerPlugins");let D3=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new l(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(ce(fk),ce(lt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class T3{constructor(t){this._doc=t}}const pk="ng-app-id";let I3=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=EC(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${pk}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(pk),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(pk,this.appId),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(on),ce(kw),ce(_S,8),ce(wo))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const gk={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mk=/%COMP%/g,Mce=new Be("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function A3(n,t){return t.map(e=>e.replace(mk,n))}let _k=(()=>{class n{constructor(e,i,r,s,o,c,d,f=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=d,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=EC(c),this.defaultRenderer=new vk(e,o,d,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===jo.ShadowDom&&(i={...i,encapsulation:jo.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof M3?r.applyToHost(e):r instanceof yk&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,c=this.ngZone,d=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestroy,x=this.platformIsServer;switch(i.encapsulation){case jo.Emulated:s=new M3(d,f,i,this.appId,_,o,c,x);break;case jo.ShadowDom:return new Nce(d,f,e,i,o,c,this.nonce,x);default:s=new yk(d,f,i,_,o,c,x)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(D3),ce(I3),ce(kw),ce(Mce),ce(on),ce(wo),ce(lt),ce(_S))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class vk{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(gk[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(k3(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(k3(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new l(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=gk[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=gk[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Hd.DashCase|Hd.Important)?t.style.setProperty(e,i,r&Hd.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Hd.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=$d().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function k3(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Nce extends vk{constructor(t,e,i,r,s,o,c,d){super(t,s,o,d),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=A3(r.id,r.styles);for(const _ of f){const x=document.createElement("style");c&&x.setAttribute("nonce",c),x.textContent=_,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yk extends vk{constructor(t,e,i,r,s,o,c,d){super(t,s,o,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=d?A3(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class M3 extends yk{constructor(t,e,i,r,s,o,c,d){const f=r+"-"+i.id;super(t,e,i,s,o,c,d,f),this.contentAttr=function Rce(n){return"_ngcontent-%COMP%".replace(mk,n)}(f),this.hostAttr=function Oce(n){return"_nghost-%COMP%".replace(mk,n)}(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Fce=(()=>{class n extends T3{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(on))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const R3=["alt","control","meta","shift"],Lce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vce={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bce=(()=>{class n extends T3{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$d().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),R3.forEach(f=>{const _=i.indexOf(f);_>-1&&(i.splice(_,1),o+=f+".")}),o+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=o,d}static matchEventFullKeyCode(e,i){let r=Lce[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),R3.forEach(o=>{o!==r&&(0,Vce[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(ce(on))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const P3=[{provide:wo,useValue:y3},{provide:HV,useValue:function zce(){hk.makeCurrent()},multi:!0},{provide:on,useFactory:function Uce(){return function jee(n){sS=n}(document),document},deps:[]}],jce=DU(Cae,"browser",P3),Wce=new Be(""),N3=[{provide:lC,useClass:class Tce{addToWindow(t){Ai.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new l(5103,!1);return s},Ai.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ai.getAllAngularRootElements=()=>t.getAllRootElements(),Ai.frameworkStabilizers||(Ai.frameworkStabilizers=[]),Ai.frameworkStabilizers.push(i=>{const r=Ai.getAllAngularTestabilities();let s=r.length,o=!1;const c=function(d){o=o||d,s--,0==s&&i(o)};r.forEach(d=>{d.whenStable(c)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?$d().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:bU,useClass:MA,deps:[lt,RA,lC]},{provide:MA,useClass:MA,deps:[lt,RA,lC]}],F3=[{provide:fS,useValue:"root"},{provide:Yc,useFactory:function Hce(){return new Yc},deps:[]},{provide:fk,useClass:Fce,multi:!0,deps:[on,lt,wo]},{provide:fk,useClass:Bce,multi:!0,deps:[on]},_k,I3,D3,{provide:jp,useExisting:_k},{provide:b3,useClass:Ice,deps:[]},[]];let L3=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:kw,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Wce,12))};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({providers:[...F3,...N3],imports:[vl,Eae]})}return n})(),V3=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(ce(on))};static#t=this.\u0275prov=le({token:n,factory:function(i){let r=null;return r=i?new i:function $ce(){return new V3(ce(on))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let H3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(i){let r=null;return r=i?new(i||n):ce(U3),r},providedIn:"root"})}return n})(),U3=(()=>{class n extends H3{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case ua.NONE:return i;case ua.HTML:return Zl(i,"HTML")?da(i):MV(this._doc,String(i)).toString();case ua.STYLE:return Zl(i,"Style")?da(i):i;case ua.SCRIPT:if(Zl(i,"Script"))return da(i);throw new l(5200,!1);case ua.URL:return Zl(i,"URL")?da(i):Dw(String(i));case ua.RESOURCE_URL:if(Zl(i,"ResourceURL"))return da(i);throw new l(5201,!1);default:throw new l(5202,!1)}}bypassSecurityTrustHtml(e){return function Zee(n){return new Wee(n)}(e)}bypassSecurityTrustStyle(e){return function Kee(n){return new Gee(n)}(e)}bypassSecurityTrustScript(e){return function Qee(n){return new $ee(n)}(e)}bypassSecurityTrustUrl(e){return function Jee(n){return new Yee(n)}(e)}bypassSecurityTrustResourceUrl(e){return function ete(n){return new qee(n)}(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(on))};static#t=this.\u0275prov=le({token:n,factory:function(i){let r=null;return r=i?new i:function Zce(n){return new U3(n.get(on))}(ce(Gi)),r},providedIn:"root"})}return n})();var Xo=Yt(211);(0,Xo.registerVersion)("firebase","10.5.2","app");class Jce extends Ue{constructor(t,e){super()}schedule(t,e=0){return this}}const SC={setInterval(n,t,...e){const{delegate:i}=SC;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=SC;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class AC extends Jce{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return SC.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&SC.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,yt(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const xk={now:()=>(xk.delegate||Date).now(),delegate:void 0};class Jv{constructor(t,e=Jv.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Jv.now=xk.now;class kC extends Jv{constructor(t,e=Jv.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const nde=new class tde extends kC{}(class ede extends AC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),qd=new kC(AC),ide=qd;function Lr(n,t,e){const i=ie(n)||t||e?{next:n,error:t,complete:e}:n;return i?We((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let c=!0;r.subscribe(at(s,d=>{var f;null===(f=i.next)||void 0===f||f.call(i,d),s.next(d)},()=>{var d;c=!1,null===(d=i.complete)||void 0===d||d.call(i),s.complete()},d=>{var f;c=!1,null===(f=i.error)||void 0===f||f.call(i,d),s.error(d)},()=>{var d,f;c&&(null===(d=i.unsubscribe)||void 0===d||d.call(i)),null===(f=i.finalize)||void 0===f||f.call(i)}))}):fn}const fg=new jd("ANGULARFIRE2_VERSION");class MC{constructor(){return((n,t)=>{const e=(0,Xo.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i})(sde)}}const sde="app-check";function pg(){}class W3{zone;delegate;constructor(t,e=nde){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class ode{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pg,{},pg,pg)),e.pipe(Lr({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let RC=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new W3(Zone.current)),this.insideAngular=e.run(()=>new W3(Zone.current,qd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(ce(lt))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gg(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function G3(n){return n.pipe(Pi(gg().outsideAngular))}function qr(n){return function lde(n){return function(e){return(e=e.lift(new ode(n.ngZone))).pipe(es(n.outsideAngular),Pi(n.insideAngular))}}(gg())(n)}var ma=Yt(168);ma.Z.registerVersion("firebase","10.5.2","app-compat");const hde=["ngOnDestroy"];class $3{constructor(t){return t}}const mg=new Be("angularfire2.app.options"),_g=new Be("angularfire2.app.name");function ey(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const o=ma.Z.apps.filter(c=>c&&c.name===r.name)[0]||t.runOutsideAngular(()=>ma.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const c=!!module.hot;gde("error",`${o.name} Firebase App already initialized with different options${c?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new $3(o)}const gde=(n,...t)=>{},mde={provide:$3,useFactory:ey,deps:[mg,lt,[new zd,_g]]};let _de=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:mg,useValue:e},{provide:_g,useValue:i}]}}constructor(e){ma.Z.registerVersion("angularfire",fg.full,"core"),ma.Z.registerVersion("angularfire",fg.full,"app-compat"),ma.Z.registerVersion("angular",YV.full,e.toString())}static \u0275fac=function(i){return new(i||n)(ce(wo))};static \u0275mod=St({type:n});static \u0275inj=Se({providers:[mde]})}return n})();function OC(n,t,e,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(c=>c[0]===n)||[];if(s)return function vde(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,o)||(Y3("error",`${t} was already initialized on the ${e} Firebase App with different settings.${yde?" You may need to reload as Firebase is not HMR aware.":""}`),Y3("warn",{is:r,was:o})),s;{const c=i();return globalThis.\u0275AngularfireInstanceCache.push([n,c,r]),c}}const yde=typeof module<"u"&&!!module.hot,Y3=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Yt(743);class q3 extends he{constructor(t=1/0,e=1/0,i=xk){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(i.push(t),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=i?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=e.now();let c=0;for(let d=1;d<i.length&&i[d]<=o;d+=2)c=d;c&&i.splice(0,c+1)}}}function PC(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,He({connector:()=>new q3(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const NC=ze(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Dn(n,t){return We((e,i)=>{let r=0;e.subscribe(at(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Vn(n){return n<=0?()=>ti:We((t,e)=>{let i=0;t.subscribe(at(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function FC(n){return We((t,e)=>{let i=!1;t.subscribe(at(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function X3(n=bde){return We((t,e)=>{let i=!1;t.subscribe(at(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function bde(){return new NC}function Xd(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Dn((r,s)=>n(r,s,i)):fn,Vn(1),e?FC(t):X3(()=>new NC))}function wk(n,t){return ie(t)?vt(()=>n,t):vt(()=>n)}const Ck=new Be("angularfire2.auth.use-emulator"),Ek=new Be("angularfire2.auth.settings"),Dk=new Be("angularfire2.auth.tenant-id"),Tk=new Be("angularfire2.auth.langugage-code"),Ik=new Be("angularfire2.auth.use-device-language"),Sk=new Be("angularfire.auth.persistence"),Ak=(n,t,e,i,r,s,o,c)=>OC(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const d=t.runOutsideAngular(()=>n.auth());if(e&&d.useEmulator(...e),i&&(d.tenantId=i),d.languageCode=r,s&&d.useDeviceLanguage(),o)for(const[f,_]of Object.entries(o))d.settings[f]=_;return c&&d.setPersistence(c),d},[e,i,r,s,o,c]);let Jc=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,s,o,c,d,f,_,x,T,M){const N=new he,V=de(void 0).pipe(Pi(o.outsideAngular),vt(()=>s.runOutsideAngular(()=>Promise.resolve().then(Yt.bind(Yt,743)))),$e(()=>ey(e,s,i)),$e(U=>Ak(U,s,c,f,_,x,d,T)),PC({bufferSize:1,refCount:!1}));if(EC(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=de(null);else{V.pipe(Xd()).subscribe();const U=V.pipe(vt(oe=>oe.getRedirectResult().then(pe=>pe,()=>null)),qr,PC({bufferSize:1,refCount:!1})),re=V.pipe(vt(oe=>new Ht(pe=>({unsubscribe:s.runOutsideAngular(()=>oe.onAuthStateChanged(Ie=>pe.next(Ie),Ie=>pe.error(Ie),()=>pe.complete()))})))),te=V.pipe(vt(oe=>new Ht(pe=>({unsubscribe:s.runOutsideAngular(()=>oe.onIdTokenChanged(Ie=>pe.next(Ie),Ie=>pe.error(Ie),()=>pe.complete()))}))));this.authState=U.pipe(wk(re),es(o.outsideAngular),Pi(o.insideAngular)),this.user=U.pipe(wk(te),es(o.outsideAngular),Pi(o.insideAngular)),this.idToken=this.user.pipe(vt(oe=>oe?$(oe.getIdToken()):de(null))),this.idTokenResult=this.user.pipe(vt(oe=>oe?$(oe.getIdTokenResult()):de(null))),this.credential=J(U,N,this.authState.pipe(Dn(oe=>!oe))).pipe($e(oe=>oe?.user?oe:null),es(o.outsideAngular),Pi(o.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,s)=>e.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(hde.indexOf(s)>-1)return()=>{};const o=t.toPromise().then(c=>{const d=c?.[s];return"function"==typeof d?d.bind(c):d?.then?d.then(f=>e.run(()=>f)):e.run(()=>d)});return new Proxy(()=>{},{get:(c,d)=>o[d],apply:(c,d,f)=>o.then(_=>{const x=_?.(...f);return i?.spy?.apply&&i.spy.apply(s,f,x),x})})})}))(this,V,s,{spy:{apply:(U,re,te)=>{(U.startsWith("signIn")||U.startsWith("createUser"))&&te.then(oe=>N.next(oe))}}})}static \u0275fac=function(i){return new(i||n)(ce(mg),ce(_g,8),ce(wo),ce(lt),ce(RC),ce(Ck,8),ce(Ek,8),ce(Dk,8),ce(Tk,8),ce(Ik,8),ce(Sk,8),ce(MC,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),wde=(()=>{class n{constructor(){ma.Z.registerVersion("angularfire",fg.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=St({type:n});static \u0275inj=Se({providers:[Jc]})}return n})();function Z3(n,t,e,i,r){return(s,o)=>{let c=e,d=t,f=0;s.subscribe(at(o,_=>{const x=f++;d=c?n(d,_,x):(c=!0,_),i&&o.next(d)},r&&(()=>{c&&o.next(d),o.complete()})))}}function vg(n,t){return We(Z3(n,t,arguments.length>=2,!0))}function LC(...n){const t=xs(n);return We((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),c=!1;for(let d=0;d<r;d++)nt(n[d]).subscribe(at(i,f=>{s[d]=f,!c&&!o[d]&&(o[d]=!0,(c=o.every(fn))&&(o=null))},Pt));e.subscribe(at(i,d=>{if(c){const f=[d,...s];i.next(t?t(...f):f)}}))})}var yl=Yt(427),qe=Yt(861),ne=Yt(963),_a=Yt(383);const K3="@firebase/database";let kk="";function Mk(n){kk=n}class Ede{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,ne.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,ne.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Dde{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,ne.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const J3=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ede(t)}}catch{}return new Dde},Sh=J3("localStorage"),Rk=J3("sessionStorage"),yg=new _a.Yd("@firebase/database"),ej=function(){let n=1;return function(){return n++}}(),tj=function(n){const t=(0,ne.dS)(n),e=new ne.gQ;e.update(t);const i=e.digest();return ne.US.encodeByteArray(i)},ty=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=ty.apply(null,i):t+="object"==typeof i?(0,ne.Wl)(i):i,t+=" "}return t};let Ah=null,nj=!0;const ij=function(n,t){(0,ne.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(yg.logLevel=_a.in.VERBOSE,Ah=yg.log.bind(yg),t&&Rk.set("logging_enabled",!0)):"function"==typeof n?Ah=n:(Ah=null,Rk.remove("logging_enabled"))},Is=function(...n){if(!0===nj&&(nj=!1,null===Ah&&!0===Rk.get("logging_enabled")&&ij(!0)),Ah){const t=ty.apply(null,n);Ah(t)}},ny=function(n){return function(...t){Is(n,...t)}},Ok=function(...n){const t="FIREBASE INTERNAL ERROR: "+ty(...n);yg.error(t)},ic=function(...n){const t=`FIREBASE FATAL ERROR: ${ty(...n)}`;throw yg.error(t),new Error(t)},no=function(...n){const t="FIREBASE WARNING: "+ty(...n);yg.warn(t)},VC=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Zd="[MIN_NAME]",ed="[MAX_NAME]",kh=function(n,t){if(n===t)return 0;if(n===Zd||t===ed)return-1;if(t===Zd||n===ed)return 1;{const e=oj(n),i=oj(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Sde=function(n,t){return n===t?0:n<t?-1:1},iy=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,ne.Wl)(t))},Pk=function(n){if("object"!=typeof n||null===n)return(0,ne.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,ne.Wl)(t[i]),e+=":",e+=Pk(n[t[i]]);return e+="}",e},rj=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Ss(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const sj=function(n){(0,ne.hu)(!VC(n),"Invalid JSON number");const i=1023;let r,s,o,c,d;0===n?(s=0,o=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=c+i,o=Math.round(n*Math.pow(2,52-c)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const f=[];for(d=52;d;d-=1)f.push(o%2?1:0),o=Math.floor(o/2);for(d=11;d;d-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(r?1:0),f.reverse();const _=f.join("");let x="";for(d=0;d<64;d+=8){let T=parseInt(_.substr(d,8),2).toString(16);1===T.length&&(T="0"+T),x+=T}return x.toLowerCase()},Rde=new RegExp("^-?(0*)\\d{1,10}$"),oj=function(n){if(Rde.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},bg=function(n){try{n()}catch(t){setTimeout(()=>{throw no("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},ry=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Fde{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){no(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Lde{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Is("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',no(t)}}let sy=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const uj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pj="websocket",gj="long_polling";class Fk{constructor(t,e,i,r,s=!1,o="",c=!1,d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Sh.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Sh.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function mj(n,t,e){let i;if((0,ne.hu)("string"==typeof t,"typeof type must == string"),(0,ne.hu)("object"==typeof e,"typeof params must == object"),t===pj)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==gj)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Vde(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Ss(e,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class Bde{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,ne.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,ne.p$)(this.counters_)}}const Lk={},Vk={};function Bk(n){const t=n.toString();return Lk[t]||(Lk[t]=new Bde),Lk[t]}class Hde{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&bg(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Kd{constructor(t,e,i,r,s,o,c){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ny(t),this.stats_=Bk(e),this.urlFn=d=>(this.appCheckToken&&(d.ac=this.appCheckToken),mj(e,gj,d))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Hde(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ne.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zk((...s)=>{const[o,c,d,f,_]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=c,this.password=d;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&uj.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Kd.forceAllow_=!0}static forceDisallow(){Kd.forceDisallow_=!0}static isAvailable(){return!((0,ne.Yr)()||!Kd.forceAllow_&&(Kd.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,ne.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,ne.h$)(e),r=rj(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,ne.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,ne.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class zk{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ne.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=ej(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=zk.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){Is("frame writing exception"),c.stack&&Is(c.stack),Is(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Is("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,ne.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Is("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let zC=null;typeof MozWebSocket<"u"?zC=MozWebSocket:typeof WebSocket<"u"&&(zC=WebSocket);let xg=(()=>{class n{constructor(e,i,r,s,o,c,d){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ny(this.connId),this.stats_=Bk(i),this.connURL=n.connectionURL_(i,c,d,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,o){const c={v:"5"};return!(0,ne.Yr)()&&typeof location<"u"&&location.hostname&&uj.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),o&&(c.p=o),mj(e,pj,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Sh.set("previous_websocket_failure",!0);try{let r;if((0,ne.Yr)()){r={headers:{"User-Agent":`Firebase/5/${kk}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,c=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;c&&(r.proxy={origin:c})}this.mySock=new zC(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==zC&&!n.forceDisallow_}static previouslyFailed(){return Sh.isInMemoryStorage||!0===Sh.get("previous_websocket_failure")}markConnectionHealthy(){Sh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ne.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,ne.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,ne.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=rj(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Cj=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Kd,xg]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=xg&&xg.isAvailable();let r=i&&!xg.previouslyFailed();if(e.webSocketOnly&&(i||no("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[xg];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class kj{constructor(t,e,i,r,s,o,c,d,f,_){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=d,this.onKill_=f,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ny("c:"+this.id+":"),this.transportManager_=new Cj(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=ry(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=iy("t",t),i=iy("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=iy("t",t),i=iy("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=iy("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Ok("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ok("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&no("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),ry(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ry(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Sh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Mj{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Rj{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,ne.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,ne.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class HC extends Rj{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ne.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new HC}getInitialEvent(t){return(0,ne.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class ki{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function vi(){return new ki("")}function Gn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Qd(n){return n.pieces_.length-n.pieceNum_}function Xi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new ki(n.pieces_,t)}function Uk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function oy(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Nj(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new ki(t,0)}function yr(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof ki)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new ki(e,0)}function $n(n){return n.pieceNum_>=n.pieces_.length}function Ao(n,t){const e=Gn(n),i=Gn(t);if(null===e)return t;if(e===i)return Ao(Xi(n),Xi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function cue(n,t){const e=oy(n,0),i=oy(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=kh(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function jk(n,t){if(Qd(n)!==Qd(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function $a(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Qd(n)>Qd(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class due{constructor(t,e){this.errorPrefix_=e,this.parts_=oy(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ne.ug)(this.parts_[i]);Fj(this)}}function Fj(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Mh(n))}function Mh(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Wk extends Rj{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Wk}getInitialEvent(t){return(0,ne.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const ay=1e3;let jC,Rh=(()=>{class n extends Mj{constructor(e,i,r,s,o,c,d,f){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.authOverride_=f,this.id=n.nextPersistentConnectionId_++,this.log_=ny("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ay,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f&&!(0,ne.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wk.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&HC.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,o={r:s,a:e,b:i};this.log_((0,ne.Wl)(o)),(0,ne.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new ne.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const d=c.d;"ok"===c.s?i.resolve(d):i.reject(d)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),(0,ne.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ne.hu)(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const d={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(c).set(o,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};e.tag&&(o.q=i._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,d=>{const f=d.d,_=d.s;n.warnOnListenWarnings_(f,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",d),"ok"!==_&&this.removeListen_(r,s),e.onComplete&&e.onComplete(_,f))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,ne.r3)(e,"w")){const r=(0,ne.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();no(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,ne.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,ne.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,c=s.d||"error";this.authToken_===e&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,ne.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const o={p:e};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,o){this.initConnection_();const c={p:i,d:r};void 0!==o&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,ne.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Ok("Unrecognized action received from server: "+(0,ne.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,ne.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ay,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ay,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ay),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,qe.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),o=e.id+":"+n.nextConnectionId_++,c=e.lastSessionId;let d=!1,f=null;const _=function(){f?f.close():(d=!0,s())};e.realtime_={close:_,sendRequest:function(M){(0,ne.hu)(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(M)}};const T=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[M,N]=yield Promise.all([e.authTokenProvider_.getToken(T),e.appCheckTokenProvider_.getToken(T)]);d?Is("getToken() completed but was canceled"):(Is("getToken() completed. Creating connection."),e.authToken_=M&&M.accessToken,e.appCheckToken_=N&&N.token,f=new kj(o,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,V=>{no(V+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},c))}catch(M){e.log_("Failed to get token: "+M),d||(e.repoInfo_.nodeAdmin&&no(M),_())}}})()}interrupt(e){Is("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Is("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,ne.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ay,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(o=>Pk(o)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new ki(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Is("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Is("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,ne.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+kk.replace(/\./g,"-")]=1,(0,ne.uI)()?e["framework.cordova"]=1:(0,ne.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=HC.getInstance().currentlyOnline();return(0,ne.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Qn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Qn(t,e)}}class UC{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Qn(Zd,t),r=new Qn(Zd,e);return 0!==this.compare(i,r)}minPost(){return Qn.MIN}}class Bj extends UC{static get __EMPTY_NODE(){return jC}static set __EMPTY_NODE(t){jC=t}compare(t,e){return kh(t.name,e.name)}isDefinedOn(t){throw(0,ne.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Qn.MIN}maxPost(){return new Qn(ed,jC)}makePost(t,e){return(0,ne.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Qn(t,jC)}toString(){return".key"}}const rc=new Bj;class WC{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let $k,bl=(()=>{class n{constructor(e,i,r,s,o){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??Zo.EMPTY_NODE,this.right=o??Zo.EMPTY_NODE}copy(e,i,r,s,o){return new n(e??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Zo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Zo{constructor(t,e=Zo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Zo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,bl.BLACK,null,null))}remove(t){return new Zo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,bl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new WC(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new WC(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new WC(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new WC(this.root_,null,this.comparator_,!0,t)}}function vue(n,t){return kh(n.name,t.name)}function Gk(n,t){return kh(n,t)}Zo.EMPTY_NODE=new class _ue{copy(t,e,i,r,s){return this}insert(t,e,i){return new bl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const zj=function(n){return"number"==typeof n?"number:"+sj(n):"string:"+n},Hj=function(n){if(n.isLeafNode()){const t=n.val();(0,ne.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,ne.r3)(t,".sv"),"Priority must be a string or number.")}else(0,ne.hu)(n===$k||n.isEmpty(),"priority of unexpected type.");(0,ne.hu)(n===$k||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Uj,jj,Wj,wg=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,ne.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Hj(this.priorityNode_)}static set __childrenNodeConstructor(e){Uj=e}static get __childrenNodeConstructor(){return Uj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $n(e)?this:".priority"===Gn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Gn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ne.hu)(".priority"!==r||1===Qd(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zj(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?sj(this.value_):this.value_,this.lazyHash_=tj(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,ne.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),o=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ne.hu)(s>=0,"Unknown leaf type: "+i),(0,ne.hu)(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const sr=new class wue extends UC{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?kh(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Qn.MIN}maxPost(){return new Qn(ed,new wg("[PRIORITY-POST]",Wj))}makePost(t,e){const i=jj(t);return new Qn(e,new wg("[PRIORITY-POST]",i))}toString(){return".priority"}},Cue=Math.log(2);class Eue{constructor(t){this.count=parseInt(Math.log(t+1)/Cue,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const GC=function(n,t,e,i){n.sort(t);const r=function(d,f){const _=f-d;let x,T;if(0===_)return null;if(1===_)return x=n[d],T=e?e(x):x,new bl(T,x.node,bl.BLACK,null,null);{const M=parseInt(_/2,10)+d,N=r(d,M),V=r(M+1,f);return x=n[M],T=e?e(x):x,new bl(T,x.node,bl.BLACK,N,V)}},c=function(d){let f=null,_=null,x=n.length;const T=function(N,V){const U=x-N,re=x;x-=N;const te=r(U+1,re),oe=n[U],pe=e?e(oe):oe;M(new bl(pe,oe.node,V,null,te))},M=function(N){f?(f.left=N,f=N):(_=N,f=N)};for(let N=0;N<d.count;++N){const V=d.nextBitIsOne(),U=Math.pow(2,d.count-(N+1));V?T(U,bl.BLACK):(T(U,bl.BLACK),T(U,bl.RED))}return _}(new Eue(n.length));return new Zo(i||t,c)};let Yk;const Cg={};class td{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,ne.hu)(Cg&&sr,"ChildrenNode.ts has not been loaded"),Yk=Yk||new td({".priority":Cg},{".priority":sr}),Yk}get(t){const e=(0,ne.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Zo?e:null}hasIndex(t){return(0,ne.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,ne.hu)(t!==rc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(Qn.Wrap);let c,o=s.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=s.getNext();c=r?GC(i,t.getCompare()):Cg;const d=t.toString(),f=Object.assign({},this.indexSet_);f[d]=t;const _=Object.assign({},this.indexes_);return _[d]=c,new td(_,f)}addToIndexes(t,e){const i=(0,ne.UI)(this.indexes_,(r,s)=>{const o=(0,ne.DV)(this.indexSet_,s);if((0,ne.hu)(o,"Missing index implementation for "+s),r===Cg){if(o.isDefinedOn(t.node)){const c=[],d=e.getIterator(Qn.Wrap);let f=d.getNext();for(;f;)f.name!==t.name&&c.push(f),f=d.getNext();return c.push(t),GC(c,o.getCompare())}return Cg}{const c=e.get(t.name);let d=r;return c&&(d=d.remove(new Qn(t.name,c))),d.insert(t,t.node)}});return new td(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,ne.UI)(this.indexes_,r=>{if(r===Cg)return r;{const s=e.get(t.name);return s?r.remove(new Qn(t.name,s)):r}});return new td(i,this.indexSet_)}}let ly,Rn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Hj(this.priorityNode_),this.children_.isEmpty()&&(0,ne.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ly||(ly=new n(new Zo(Gk),null,td.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ly}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?ly:i}}getChild(e){const i=Gn(e);return null===i?this:this.getImmediateChild(i).getChild(Xi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,ne.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Qn(e,i);let s,o;i.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),o=this.indexMap_.addToIndexes(r,this.children_));const c=s.isEmpty()?ly:this.priorityNode_;return new n(s,c,o)}}updateChild(e,i){const r=Gn(e);if(null===r)return i;{(0,ne.hu)(".priority"!==Gn(e)||1===Qd(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Xi(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(sr,(c,d)=>{i[c]=d.val(e),r++,o&&n.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!e&&o&&s<2*r){const c=[];for(const d in i)c[d]=i[d];return c}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+zj(this.getPriority().val())+":"),this.forEachChild(sr,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":tj(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new Qn(e,i));return o?o.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Qn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Qn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Qn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Qn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===cy?-1:0}withIndex(e){if(e===rc||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===rc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(sr),s=i.getIterator(sr);let o=r.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=r.getNext(),c=s.getNext()}return null===o&&null===c}return!1}return!1}}resolveIndex_(e){return e===rc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const cy=new class Due extends Rn{constructor(){super(new Zo(Gk),Rn.EMPTY_NODE,td.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Rn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Qn,{MIN:{value:new Qn(Zd,Rn.EMPTY_NODE)},MAX:{value:new Qn(ed,cy)}}),Bj.__EMPTY_NODE=Rn.EMPTY_NODE,wg.__childrenNodeConstructor=Rn,function yue(n){$k=n}(cy),function xue(n){Wj=n}(cy);const Tue=!0;function Ar(n,t=null){if(null===n)return Rn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,ne.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new wg(n,Ar(t));if(n instanceof Array||!Tue){let e=Rn.EMPTY_NODE;return Ss(n,(i,r)=>{if((0,ne.r3)(n,i)&&"."!==i.substring(0,1)){const s=Ar(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Ar(t))}{const e=[];let i=!1;if(Ss(n,(o,c)=>{if("."!==o.substring(0,1)){const d=Ar(c);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),e.push(new Qn(o,d)))}}),0===e.length)return Rn.EMPTY_NODE;const s=GC(e,vue,o=>o.name,Gk);if(i){const o=GC(e,sr.getCompare());return new Rn(s,Ar(t),new td({".priority":o},{".priority":sr}))}return new Rn(s,Ar(t),td.Default)}}!function bue(n){jj=n}(Ar);class qk extends UC{constructor(t){super(),this.indexPath_=t,(0,ne.hu)(!$n(t)&&".priority"!==Gn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?kh(t.name,e.name):s}makePost(t,e){const i=Ar(t),r=Rn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Qn(e,r)}maxPost(){const t=Rn.EMPTY_NODE.updateChild(this.indexPath_,cy);return new Qn(ed,t)}toString(){return oy(this.indexPath_,0).join("/")}}const Xk=new class Iue extends UC{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?kh(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Qn.MIN}maxPost(){return Qn.MAX}makePost(t,e){const i=Ar(t);return new Qn(e,i)}toString(){return".value"}};function Gj(n){return{type:"value",snapshotNode:n}}function Eg(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function dy(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function uy(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Zk{constructor(t){this.index_=t}updateChild(t,e,i,r,s,o){(0,ne.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=t.getImmediateChild(e);return c.getChild(r).equals(i.getChild(r))&&c.isEmpty()===i.isEmpty()||(null!=o&&(i.isEmpty()?t.hasChild(e)?o.trackChildChange(dy(e,c)):(0,ne.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(Eg(e,i)):o.trackChildChange(uy(e,i,c))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(sr,(r,s)=>{e.hasChild(r)||i.trackChildChange(dy(r,s))}),e.isLeafNode()||e.forEachChild(sr,(r,s)=>{if(t.hasChild(r)){const o=t.getImmediateChild(r);o.equals(s)||i.trackChildChange(uy(r,s,o))}else i.trackChildChange(Eg(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Rn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class hy{constructor(t){this.indexedFilter_=new Zk(t.getIndex()),this.index_=t.getIndex(),this.startPost_=hy.getStartPost_(t),this.endPost_=hy.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,o){return this.matches(new Qn(e,i))||(i=Rn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,o)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Rn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Rn.EMPTY_NODE);const s=this;return e.forEachChild(sr,(o,c)=>{s.matches(new Qn(o,c))||(r=r.updateImmediateChild(o,Rn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Aue{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new hy(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,o){return this.rangedFilter_.matches(new Qn(e,i))||(i=Rn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,o):this.fullLimitUpdateChild_(t,e,i,s,o)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Rn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Rn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c)){if(!this.withinDirectionalEnd(c))break;r=r.updateImmediateChild(c.name,c.node),o++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(Rn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:r=r.updateImmediateChild(c.name,Rn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let o;if(this.reverse_){const x=this.index_.getCompare();o=(T,M)=>x(M,T)}else o=this.index_.getCompare();const c=t;(0,ne.hu)(c.numChildren()===this.limit_,"");const d=new Qn(e,i),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),_=this.rangedFilter_.matches(d);if(c.hasChild(e)){const x=c.getImmediateChild(e);let T=r.getChildAfterChild(this.index_,f,this.reverse_);for(;null!=T&&(T.name===e||c.hasChild(T.name));)T=r.getChildAfterChild(this.index_,T,this.reverse_);const M=null==T?1:o(T,d);if(_&&!i.isEmpty()&&M>=0)return s?.trackChildChange(uy(e,i,x)),c.updateImmediateChild(e,i);{s?.trackChildChange(dy(e,x));const V=c.updateImmediateChild(e,Rn.EMPTY_NODE);return null!=T&&this.rangedFilter_.matches(T)?(s?.trackChildChange(Eg(T.name,T.node)),V.updateImmediateChild(T.name,T.node)):V}}return i.isEmpty()?t:_&&o(f,d)>=0?(null!=s&&(s.trackChildChange(dy(f.name,f.node)),s.trackChildChange(Eg(e,i))),c.updateImmediateChild(e,i).updateImmediateChild(f.name,Rn.EMPTY_NODE)):t}}class $C{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ne.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ne.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ne.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ne.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ed}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ne.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sr}copy(){const t=new $C;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Kk(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Qk(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function YC(n,t){const e=n.copy();return e.index_=t,e}function $j(n){const t={};if(n.isDefault())return t;let e;if(n.index_===sr?e="$priority":n.index_===Xk?e="$value":n.index_===rc?e="$key":((0,ne.hu)(n.index_ instanceof qk,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,ne.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,ne.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,ne.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,ne.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,ne.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Yj(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==sr&&(t.i=n.index_.toString()),t}class qC extends Mj{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=ny("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,ne.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=qC.getListenId_(t,i),c={};this.listens_[o]=c;const d=$j(t._queryParams);this.restRequest_(s+".json",d,(f,_)=>{let x=_;if(404===f&&(x=null,f=null),null===f&&this.onDataUpdate_(s,x,!1,i),(0,ne.DV)(this.listens_,o)===c){let T;T=f?401===f?"permission_denied":"rest_error:"+f:"ok",r(T,null)}})}unlisten(t,e){const i=qC.getListenId_(t,e);delete this.listens_[i]}get(t){const e=$j(t._queryParams),i=t._path.toString(),r=new ne.BH;return this.restRequest_(i+".json",e,(s,o)=>{let c=o;404===s&&(c=null,s=null),null===s?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,ne.xO)(e);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&4===c.readyState){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=(0,ne.cI)(c.responseText)}catch{no("Failed to parse JSON response for "+o+": "+c.responseText)}i(null,d)}else 401!==c.status&&404!==c.status&&no("Got unsuccessful REST response for "+o+" Status: "+c.status),i(c.status);i=null}},c.open("GET",o,!0),c.send()})}}class Nue{constructor(){this.rootNode_=Rn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function XC(){return{value:null,children:new Map}}function Dg(n,t,e){if($n(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Gn(t);n.children.has(i)||n.children.set(i,XC()),Dg(n.children.get(i),t=Xi(t),e)}}function Jk(n,t){if($n(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(sr,(i,r)=>{Dg(n,new ki(i),r)}),Jk(n,t)}}if(n.children.size>0){const e=Gn(t);return t=Xi(t),n.children.has(e)&&Jk(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function eM(n,t,e){null!==n.value?e(t,n.value):function Fue(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{eM(r,new ki(t.toString()+"/"+i),e)})}class Lue{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Ss(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class zue{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Lue(t);const i=1e4+2e4*Math.random();ry(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Ss(t,(r,s)=>{s>0&&(0,ne.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),ry(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var sc=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(sc||{});function iM(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class ZC{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=sc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if($n(this.path)){if(null!=this.affectedTree.value)return(0,ne.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ki(t));return new ZC(vi(),e,this.revert)}}return(0,ne.hu)(Gn(this.path)===t,"operationForChild called for unrelated child."),new ZC(Xi(this.path),this.affectedTree,this.revert)}}class fy{constructor(t,e){this.source=t,this.path=e,this.type=sc.LISTEN_COMPLETE}operationForChild(t){return $n(this.path)?new fy(this.source,vi()):new fy(this.source,Xi(this.path))}}class Oh{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=sc.OVERWRITE}operationForChild(t){return $n(this.path)?new Oh(this.source,vi(),this.snap.getImmediateChild(t)):new Oh(this.source,Xi(this.path),this.snap)}}class Tg{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=sc.MERGE}operationForChild(t){if($n(this.path)){const e=this.children.subtree(new ki(t));return e.isEmpty()?null:e.value?new Oh(this.source,vi(),e.value):new Tg(this.source,vi(),e)}return(0,ne.hu)(Gn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Tg(this.source,Xi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jd{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if($n(t))return this.isFullyInitialized()&&!this.filtered_;const e=Gn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Hue{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function py(n,t,e,i,r,s){const o=i.filter(c=>c.type===e);o.sort((c,d)=>function Wue(n,t,e){if(null==t.childName||null==e.childName)throw(0,ne.g5)("Should only compare child_ events.");const i=new Qn(t.childName,t.snapshotNode),r=new Qn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,c,d)),o.forEach(c=>{const d=function jue(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,c,s);r.forEach(f=>{f.respondsTo(c.type)&&t.push(f.createEvent(d,n.query_))})})}function KC(n,t){return{eventCache:n,serverCache:t}}function gy(n,t,e,i){return KC(new Jd(t,e,i),n.serverCache)}function Xj(n,t,e,i){return KC(n.eventCache,new Jd(t,e,i))}function QC(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ph(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let rM;class or{constructor(t,e=(()=>(rM||(rM=new Zo(Sde)),rM))()){this.value=t,this.children=e}static fromObject(t){let e=new or(null);return Ss(t,(i,r)=>{e=e.set(new ki(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:vi(),value:this.value};if($n(t))return null;{const i=Gn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Xi(t),e);return null!=s?{path:yr(new ki(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if($n(t))return this;{const e=Gn(t),i=this.children.get(e);return null!==i?i.subtree(Xi(t)):new or(null)}}set(t,e){if($n(t))return new or(e,this.children);{const i=Gn(t),s=(this.children.get(i)||new or(null)).set(Xi(t),e),o=this.children.insert(i,s);return new or(this.value,o)}}remove(t){if($n(t))return this.children.isEmpty()?new or(null):new or(null,this.children);{const e=Gn(t),i=this.children.get(e);if(i){const r=i.remove(Xi(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new or(null):new or(this.value,s)}return this}}get(t){if($n(t))return this.value;{const e=Gn(t),i=this.children.get(e);return i?i.get(Xi(t)):null}}setTree(t,e){if($n(t))return e;{const i=Gn(t),s=(this.children.get(i)||new or(null)).setTree(Xi(t),e);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new or(this.value,o)}}fold(t){return this.fold_(vi(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(yr(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,vi(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if($n(t))return null;{const s=Gn(t),o=this.children.get(s);return o?o.findOnPath_(Xi(t),yr(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,vi(),e)}foreachOnPath_(t,e,i){if($n(t))return this;{this.value&&i(e,this.value);const r=Gn(t),s=this.children.get(r);return s?s.foreachOnPath_(Xi(t),yr(e,r),i):new or(null)}}foreach(t){this.foreach_(vi(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(yr(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class xl{constructor(t){this.writeTree_=t}static empty(){return new xl(new or(null))}}function my(n,t,e){if($n(t))return new xl(new or(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const o=Ao(r,t);return s=s.updateChild(o,e),new xl(n.writeTree_.set(r,s))}{const r=new or(e),s=n.writeTree_.setTree(t,r);return new xl(s)}}}function sM(n,t,e){let i=n;return Ss(e,(r,s)=>{i=my(i,yr(t,r),s)}),i}function Zj(n,t){if($n(t))return xl.empty();{const e=n.writeTree_.setTree(t,new or(null));return new xl(e)}}function oM(n,t){return null!=Nh(n,t)}function Nh(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ao(e.path,t)):null}function Kj(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(sr,(i,r)=>{t.push(new Qn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Qn(i,r.value))}),t}function eu(n,t){if($n(t))return n;{const e=Nh(n,t);return new xl(null!=e?new or(e):n.writeTree_.subtree(t))}}function aM(n){return n.writeTree_.isEmpty()}function Ig(n,t){return Qj(vi(),n.writeTree_,t)}function Qj(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,ne.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=Qj(yr(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(yr(n,".priority"),i)),e}}function JC(n,t){return i4(t,n)}function Zue(n,t){if(n.snap)return $a(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&$a(yr(n.path,e),t))return!0;return!1}function Que(n){return n.visible}function Jj(n,t,e){let i=xl.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const o=s.path;let c;if(s.snap)$a(e,o)?(c=Ao(e,o),i=my(i,c,s.snap)):$a(o,e)&&(c=Ao(o,e),i=my(i,vi(),s.snap.getChild(c)));else{if(!s.children)throw(0,ne.g5)("WriteRecord should have .snap or .children");if($a(e,o))c=Ao(e,o),i=sM(i,c,s.children);else if($a(o,e))if(c=Ao(o,e),$n(c))i=sM(i,vi(),s.children);else{const d=(0,ne.DV)(s.children,Gn(c));if(d){const f=d.getChild(Xi(c));i=my(i,vi(),f)}}}}}return i}function e4(n,t,e,i,r){if(i||r){const s=eu(n.visibleWrites,t);return!r&&aM(s)?e:r||null!=e||oM(s,vi())?Ig(Jj(n.allWrites,function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&($a(f.path,t)||$a(t,f.path))},t),e||Rn.EMPTY_NODE):null}{const s=Nh(n.visibleWrites,t);if(null!=s)return s;{const o=eu(n.visibleWrites,t);return aM(o)?e:null!=e||oM(o,vi())?Ig(o,e||Rn.EMPTY_NODE):null}}}function eE(n,t,e,i){return e4(n.writeTree,n.treePath,t,e,i)}function lM(n,t){return function Jue(n,t,e){let i=Rn.EMPTY_NODE;const r=Nh(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(sr,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(e){const s=eu(n.visibleWrites,t);return e.forEachChild(sr,(o,c)=>{const d=Ig(eu(s,new ki(o)),c);i=i.updateImmediateChild(o,d)}),Kj(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return Kj(eu(n.visibleWrites,t)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(n.writeTree,n.treePath,t)}function t4(n,t,e,i){return function ehe(n,t,e,i,r){(0,ne.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=yr(t,e);if(oM(n.visibleWrites,s))return null;{const o=eu(n.visibleWrites,s);return aM(o)?r.getChild(e):Ig(o,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function tE(n,t){return function nhe(n,t){return Nh(n.visibleWrites,t)}(n.writeTree,yr(n.treePath,t))}function cM(n,t,e){return function the(n,t,e,i){const r=yr(t,e),s=Nh(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?Ig(eu(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function n4(n,t){return i4(yr(n.treePath,t),n.writeTree)}function i4(n,t){return{treePath:n,writeTree:t}}class ohe{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,ne.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ne.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,uy(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,dy(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,Eg(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,ne.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,uy(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const r4=new class ahe{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class dM{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Jd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cM(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ph(this.viewCache_),s=function she(n,t,e,i,r,s){return function ihe(n,t,e,i,r,s,o){let c;const d=eu(n.visibleWrites,t),f=Nh(d,vi());if(null!=f)c=f;else{if(null==e)return[];c=Ig(d,e)}if(c=c.withIndex(o),c.isEmpty()||c.isLeafNode())return[];{const _=[],x=o.getCompare(),T=s?c.getReverseIteratorFrom(i,o):c.getIteratorFrom(i,o);let M=T.getNext();for(;M&&_.length<r;)0!==x(M,i)&&_.push(M),M=T.getNext();return _}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function s4(n,t,e,i,r,s){const o=t.eventCache;if(null!=tE(i,e))return t;{let c,d;if($n(e))if((0,ne.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const f=Ph(t),x=lM(i,f instanceof Rn?f:Rn.EMPTY_NODE);c=n.filter.updateFullNode(t.eventCache.getNode(),x,s)}else{const f=eE(i,Ph(t));c=n.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const f=Gn(e);if(".priority"===f){(0,ne.hu)(1===Qd(e),"Can't have a priority with additional path components");const _=o.getNode();d=t.serverCache.getNode();const x=t4(i,e,_,d);c=null!=x?n.filter.updatePriority(_,x):o.getNode()}else{const _=Xi(e);let x;if(o.isCompleteForChild(f)){d=t.serverCache.getNode();const T=t4(i,e,o.getNode(),d);x=null!=T?o.getNode().getImmediateChild(f).updateChild(_,T):o.getNode().getImmediateChild(f)}else x=cM(i,f,t.serverCache);c=null!=x?n.filter.updateChild(o.getNode(),f,x,_,r,s):o.getNode()}}return gy(t,c,o.isFullyInitialized()||$n(e),n.filter.filtersNodes())}}function nE(n,t,e,i,r,s,o,c){const d=t.serverCache;let f;const _=o?n.filter:n.filter.getIndexedFilter();if($n(e))f=_.updateFullNode(d.getNode(),i,null);else if(_.filtersNodes()&&!d.isFiltered()){const M=d.getNode().updateChild(e,i);f=_.updateFullNode(d.getNode(),M,null)}else{const M=Gn(e);if(!d.isCompleteForPath(e)&&Qd(e)>1)return t;const N=Xi(e),U=d.getNode().getImmediateChild(M).updateChild(N,i);f=".priority"===M?_.updatePriority(d.getNode(),U):_.updateChild(d.getNode(),M,U,N,r4,null)}const x=Xj(t,f,d.isFullyInitialized()||$n(e),_.filtersNodes());return s4(n,x,e,r,new dM(r,x,s),c)}function uM(n,t,e,i,r,s,o){const c=t.eventCache;let d,f;const _=new dM(r,t,s);if($n(e))f=n.filter.updateFullNode(t.eventCache.getNode(),i,o),d=gy(t,f,!0,n.filter.filtersNodes());else{const x=Gn(e);if(".priority"===x)f=n.filter.updatePriority(t.eventCache.getNode(),i),d=gy(t,f,c.isFullyInitialized(),c.isFiltered());else{const T=Xi(e),M=c.getNode().getImmediateChild(x);let N;if($n(T))N=i;else{const V=_.getCompleteChild(x);N=null!=V?".priority"===Uk(T)&&V.getChild(Nj(T)).isEmpty()?V:V.updateChild(T,i):Rn.EMPTY_NODE}d=M.equals(N)?t:gy(t,n.filter.updateChild(c.getNode(),x,N,T,_,o),c.isFullyInitialized(),n.filter.filtersNodes())}}return d}function o4(n,t){return n.eventCache.isCompleteForChild(t)}function a4(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function hM(n,t,e,i,r,s,o,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let f,d=t;f=$n(e)?i:new or(null).setTree(e,i);const _=t.serverCache.getNode();return f.children.inorderTraversal((x,T)=>{if(_.hasChild(x)){const N=a4(0,t.serverCache.getNode().getImmediateChild(x),T);d=nE(n,d,new ki(x),N,r,s,o,c)}}),f.children.inorderTraversal((x,T)=>{const M=!t.serverCache.isCompleteForChild(x)&&null===T.value;if(!_.hasChild(x)&&!M){const V=a4(0,t.serverCache.getNode().getImmediateChild(x),T);d=nE(n,d,new ki(x),V,r,s,o,c)}}),d}class mhe{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Zk(i.getIndex()),s=function kue(n){return n.loadsAllData()?new Zk(n.getIndex()):n.hasLimit()?new Aue(n):new hy(n)}(i);this.processor_=function lhe(n){return{filter:n}}(s);const o=e.serverCache,c=e.eventCache,d=r.updateFullNode(Rn.EMPTY_NODE,o.getNode(),null),f=s.updateFullNode(Rn.EMPTY_NODE,c.getNode(),null),_=new Jd(d,o.isFullyInitialized(),r.filtersNodes()),x=new Jd(f,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=KC(x,_),this.eventGenerator_=new Hue(this.query_)}get query(){return this.query_}}function yhe(n,t){const e=Ph(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!$n(t)&&!e.getImmediateChild(Gn(t)).isEmpty())?e.getChild(t):null}function l4(n){return 0===n.eventRegistrations_.length}function c4(n,t,e){const i=[];if(e){(0,ne.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(e,r);o&&i.push(o)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(o)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function d4(n,t,e,i){t.type===sc.MERGE&&null!==t.source.queryId&&((0,ne.hu)(Ph(n.viewCache_),"We should always have a full cache before handling merges"),(0,ne.hu)(QC(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function dhe(n,t,e,i,r){const s=new ohe;let o,c;if(e.type===sc.OVERWRITE){const f=e;f.source.fromUser?o=uM(n,t,f.path,f.snap,i,r,s):((0,ne.hu)(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered()&&!$n(f.path),o=nE(n,t,f.path,f.snap,i,r,c,s))}else if(e.type===sc.MERGE){const f=e;f.source.fromUser?o=function hhe(n,t,e,i,r,s,o){let c=t;return i.foreach((d,f)=>{const _=yr(e,d);o4(t,Gn(_))&&(c=uM(n,c,_,f,r,s,o))}),i.foreach((d,f)=>{const _=yr(e,d);o4(t,Gn(_))||(c=uM(n,c,_,f,r,s,o))}),c}(n,t,f.path,f.children,i,r,s):((0,ne.hu)(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered(),o=hM(n,t,f.path,f.children,i,r,c,s))}else if(e.type===sc.ACK_USER_WRITE){const f=e;o=f.revert?function ghe(n,t,e,i,r,s){let o;if(null!=tE(i,e))return t;{const c=new dM(i,t,r),d=t.eventCache.getNode();let f;if($n(e)||".priority"===Gn(e)){let _;if(t.serverCache.isFullyInitialized())_=eE(i,Ph(t));else{const x=t.serverCache.getNode();(0,ne.hu)(x instanceof Rn,"serverChildren would be complete if leaf node"),_=lM(i,x)}f=n.filter.updateFullNode(d,_,s)}else{const _=Gn(e);let x=cM(i,_,t.serverCache);null==x&&t.serverCache.isCompleteForChild(_)&&(x=d.getImmediateChild(_)),f=null!=x?n.filter.updateChild(d,_,x,Xi(e),c,s):t.eventCache.getNode().hasChild(_)?n.filter.updateChild(d,_,Rn.EMPTY_NODE,Xi(e),c,s):d,f.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=eE(i,Ph(t)),o.isLeafNode()&&(f=n.filter.updateFullNode(f,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=tE(i,vi()),gy(t,f,o,n.filter.filtersNodes())}}(n,t,f.path,i,r,s):function fhe(n,t,e,i,r,s,o){if(null!=tE(r,e))return t;const c=t.serverCache.isFiltered(),d=t.serverCache;if(null!=i.value){if($n(e)&&d.isFullyInitialized()||d.isCompleteForPath(e))return nE(n,t,e,d.getNode().getChild(e),r,s,c,o);if($n(e)){let f=new or(null);return d.getNode().forEachChild(rc,(_,x)=>{f=f.set(new ki(_),x)}),hM(n,t,e,f,r,s,c,o)}return t}{let f=new or(null);return i.foreach((_,x)=>{const T=yr(e,_);d.isCompleteForPath(T)&&(f=f.set(_,d.getNode().getChild(T)))}),hM(n,t,e,f,r,s,c,o)}}(n,t,f.path,f.affectedTree,i,r,s)}else{if(e.type!==sc.LISTEN_COMPLETE)throw(0,ne.g5)("Unknown operation type: "+e.type);o=function phe(n,t,e,i,r){const s=t.serverCache;return s4(n,Xj(t,s.getNode(),s.isFullyInitialized()||$n(e),s.isFiltered()),e,i,r4,r)}(n,t,e.path,i,s)}const d=s.getChanges();return function uhe(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=QC(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(Gj(QC(t)))}}(t,o,d),{viewCache:o,changes:d}}(n.processor_,r,t,e,i);return function che(n,t){(0,ne.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ne.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,ne.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,u4(n,s.changes,s.viewCache.eventCache.getNode(),null)}function u4(n,t,e,i){return function Uue(n,t,e,i){const r=[],s=[];return t.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Sue(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(o.childName,o.snapshotNode))}),py(n,r,"child_removed",t,i,e),py(n,r,"child_added",t,i,e),py(n,r,"child_moved",s,i,e),py(n,r,"child_changed",t,i,e),py(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let iE,sE;class h4{constructor(){this.views=new Map}}function fM(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,ne.hu)(null!=s,"SyncTree gave us an op for an invalid query."),d4(s,t,e,i)}{let s=[];for(const o of n.views.values())s=s.concat(d4(o,t,e,i));return s}}function f4(n,t,e,i,r){const o=n.views.get(t._queryIdentifier);if(!o){let c=eE(e,r?i:null),d=!1;c?d=!0:i instanceof Rn?(c=lM(e,i),d=!1):(c=Rn.EMPTY_NODE,d=!1);const f=KC(new Jd(c,d,!1),new Jd(i,r,!1));return new mhe(t,f)}return o}function p4(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function tu(n,t){let e=null;for(const i of n.views.values())e=e||yhe(i,t);return e}function g4(n,t){return t._queryParams.loadsAllData()?rE(n):n.views.get(t._queryIdentifier)}function m4(n,t){return null!=g4(n,t)}function nu(n){return null!=rE(n)}function rE(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Ahe=1;class _4{constructor(t){this.listenProvider_=t,this.syncPointTree_=new or(null),this.pendingWriteTree_=function rhe(){return{visibleWrites:xl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pM(n,t,e,i,r){return function $ue(n,t,e,i,r){(0,ne.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=my(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Sg(n,new Oh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function iu(n,t,e=!1){const i=function que(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Xue(n,t){const e=n.allWrites.findIndex(c=>c.writeId===t);(0,ne.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,o=n.allWrites.length-1;for(;r&&o>=0;){const c=n.allWrites[o];c.visible&&(o>=e&&Zue(c,i.path)?r=!1:$a(i.path,c.path)&&(s=!0)),o--}return!!r&&(s?(function Kue(n){n.visibleWrites=Jj(n.allWrites,Que,vi()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Zj(n.visibleWrites,i.path):Ss(i.children,d=>{n.visibleWrites=Zj(n.visibleWrites,yr(i.path,d))}),!0))}(n.pendingWriteTree_,t)){let s=new or(null);return null!=i.snap?s=s.set(vi(),!0):Ss(i.children,o=>{s=s.set(new ki(o),!0)}),Sg(n,new ZC(i.path,s,e))}return[]}function _y(n,t,e){return Sg(n,new Oh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function oE(n,t,e,i,r=!1){const s=t._path,o=n.syncPointTree_.get(s);let c=[];if(o&&("default"===t._queryIdentifier||m4(o,t))){const d=function The(n,t,e,i){const r=t._queryIdentifier,s=[];let o=[];const c=nu(n);if("default"===r)for(const[d,f]of n.views.entries())o=o.concat(c4(f,e,i)),l4(f)&&(n.views.delete(d),f.query._queryParams.loadsAllData()||s.push(f.query));else{const d=n.views.get(r);d&&(o=o.concat(c4(d,e,i)),l4(d)&&(n.views.delete(r),d.query._queryParams.loadsAllData()||s.push(d.query)))}return c&&!nu(n)&&s.push(new(function Che(){return(0,ne.hu)(iE,"Reference.ts has not been loaded"),iE}())(t._repo,t._path)),{removed:s,events:o}}(o,t,e,i);(function Ehe(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const f=d.removed;if(c=d.events,!r){const _=-1!==f.findIndex(T=>T._queryParams.loadsAllData()),x=n.syncPointTree_.findOnPath(s,(T,M)=>nu(M));if(_&&!x){const T=n.syncPointTree_.subtree(s);if(!T.isEmpty()){const M=function Fhe(n){return n.fold((t,e,i)=>{if(e&&nu(e))return[rE(e)];{let r=[];return e&&(r=p4(e)),Ss(i,(s,o)=>{r=r.concat(o)}),r}})}(T);for(let N=0;N<M.length;++N){const V=M[N],U=V.query,re=x4(n,V);n.listenProvider_.startListening(yy(U),vy(n,U),re.hashFn,re.onComplete)}}}!x&&f.length>0&&!i&&(_?n.listenProvider_.stopListening(yy(t),null):f.forEach(T=>{const M=n.queryToTagMap.get(lE(T));n.listenProvider_.stopListening(yy(T),M)}))}!function Lhe(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=lE(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,f)}return c}function v4(n,t,e,i){const r=mM(n,i);if(null!=r){const s=_M(r),o=s.path,c=s.queryId,d=Ao(o,t);return vM(n,o,new Oh(iM(c),d,e))}return[]}function gM(n,t,e,i=!1){const r=t._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(r,(T,M)=>{const N=Ao(T,r);s=s||tu(M,N),o=o||nu(M)});let d,c=n.syncPointTree_.get(r);c?(o=o||nu(c),s=s||tu(c,vi())):(c=new h4,n.syncPointTree_=n.syncPointTree_.set(r,c)),null!=s?d=!0:(d=!1,s=Rn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((M,N)=>{const V=tu(N,vi());V&&(s=s.updateImmediateChild(M,V))}));const f=m4(c,t);if(!f&&!t._queryParams.loadsAllData()){const T=lE(t);(0,ne.hu)(!n.queryToTagMap.has(T),"View does not exist, but we have a tag");const M=function Vhe(){return Ahe++}();n.queryToTagMap.set(T,M),n.tagToQueryMap.set(M,T)}let x=function Dhe(n,t,e,i,r,s){const o=f4(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,o),function bhe(n,t){n.eventRegistrations_.push(t)}(o,e),function xhe(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(sr,(s,o)=>{i.push(Eg(s,o))}),e.isFullyInitialized()&&i.push(Gj(e.getNode())),u4(n,i,e.getNode(),t)}(o,e)}(c,t,e,JC(n.pendingWriteTree_,r),s,d);if(!f&&!o&&!i){const T=g4(c,t);x=x.concat(function Bhe(n,t,e){const i=t._path,r=vy(n,t),s=x4(n,e),o=n.listenProvider_.startListening(yy(t),r,s.hashFn,s.onComplete),c=n.syncPointTree_.subtree(i);if(r)(0,ne.hu)(!nu(c.value),"If we're adding a query, it shouldn't be shadowed");else{const d=c.fold((f,_,x)=>{if(!$n(f)&&_&&nu(_))return[rE(_).query];{let T=[];return _&&(T=T.concat(p4(_).map(M=>M.query))),Ss(x,(M,N)=>{T=T.concat(N)}),T}});for(let f=0;f<d.length;++f){const _=d[f];n.listenProvider_.stopListening(yy(_),vy(n,_))}}return o}(n,t,T))}return x}function aE(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(o,c)=>{const f=tu(c,Ao(o,t));if(f)return f});return e4(r,t,s,e,!0)}function Sg(n,t){return y4(t,n.syncPointTree_,null,JC(n.pendingWriteTree_,vi()))}function y4(n,t,e,i){if($n(n.path))return b4(n,t,e,i);{const r=t.get(vi());null==e&&null!=r&&(e=tu(r,vi()));let s=[];const o=Gn(n.path),c=n.operationForChild(o),d=t.children.get(o);if(d&&c){const f=e?e.getImmediateChild(o):null,_=n4(i,o);s=s.concat(y4(c,d,f,_))}return r&&(s=s.concat(fM(r,n,i,e))),s}}function b4(n,t,e,i){const r=t.get(vi());null==e&&null!=r&&(e=tu(r,vi()));let s=[];return t.children.inorderTraversal((o,c)=>{const d=e?e.getImmediateChild(o):null,f=n4(i,o),_=n.operationForChild(o);_&&(s=s.concat(b4(_,c,d,f)))}),r&&(s=s.concat(fM(r,n,i,e))),s}function x4(n,t){const e=t.query,i=vy(n,e);return{hashFn:()=>(function _he(n){return n.viewCache_.serverCache.getNode()}(t)||Rn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Ohe(n,t,e){const i=mM(n,e);if(i){const r=_M(i),s=r.path,o=r.queryId,c=Ao(s,t);return vM(n,s,new fy(iM(o),c))}return[]}(n,e._path,i):function Rhe(n,t){return Sg(n,new fy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function Mde(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return oE(n,e,null,s)}}}}function vy(n,t){const e=lE(t);return n.queryToTagMap.get(e)}function lE(n){return n._path.toString()+"$"+n._queryIdentifier}function mM(n,t){return n.tagToQueryMap.get(t)}function _M(n){const t=n.indexOf("$");return(0,ne.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new ki(n.substr(0,t))}}function vM(n,t,e){const i=n.syncPointTree_.get(t);return(0,ne.hu)(i,"Missing sync point for query tag that we're tracking"),fM(i,e,JC(n.pendingWriteTree_,t),null)}function yy(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function She(){return(0,ne.hu)(sE,"Reference.ts has not been loaded"),sE}())(n._repo,n._path):n}class yM{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new yM(e)}node(){return this.node_}}class bM{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=yr(this.path_,t);return new bM(this.syncTree_,e)}node(){return aE(this.syncTree_,this.path_)}}const zhe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},w4=function(n,t,e){return n&&"object"==typeof n?((0,ne.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Hhe(n[".sv"],t,e):"object"==typeof n[".sv"]?Uhe(n[".sv"],t):void(0,ne.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Hhe=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,ne.hu)(!1,"Unexpected server value: "+n)},Uhe=function(n,t,e){n.hasOwnProperty("increment")||(0,ne.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ne.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,ne.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},C4=function(n,t,e,i){return wM(t,new bM(e,n),i)},xM=function(n,t,e){return wM(n,new yM(t),e)};function wM(n,t,e){const i=n.getPriority().val(),r=w4(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const o=n,c=w4(o.getValue(),t,e);return c!==o.getValue()||r!==o.getPriority().val()?new wg(c,Ar(r)):n}{const o=n;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new wg(r))),o.forEachChild(sr,(c,d)=>{const f=wM(d,t.getImmediateChild(c),e);f!==d&&(s=s.updateImmediateChild(c,f))}),s}}class CM{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function cE(n,t){let e=t instanceof ki?t:new ki(t),i=n,r=Gn(e);for(;null!==r;){const s=(0,ne.DV)(i.node.children,r)||{children:{},childCount:0};i=new CM(r,i,s),e=Xi(e),r=Gn(e)}return i}function Fh(n){return n.node.value}function EM(n,t){n.node.value=t,DM(n)}function E4(n){return n.node.childCount>0}function dE(n,t){Ss(n.node.children,(e,i)=>{t(new CM(e,n,i))})}function D4(n,t,e,i){e&&!i&&t(n),dE(n,r=>{D4(r,t,!0,i)}),e&&i&&t(n)}function by(n){return new ki(null===n.parent?n.name:by(n.parent)+"/"+n.name)}function DM(n){null!==n.parent&&function Ghe(n,t,e){const i=function jhe(n){return void 0===Fh(n)&&!E4(n)}(e),r=(0,ne.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,DM(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,DM(n))}(n.parent,n.name,n)}const $he=/[\[\].#$\/\u0000-\u001F\u007F]/,Yhe=/[\[\].#$\u0000-\u001F\u007F]/,TM=10485760,uE=function(n){return"string"==typeof n&&0!==n.length&&!$he.test(n)},T4=function(n){return"string"==typeof n&&0!==n.length&&!Yhe.test(n)},xy=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!VC(n)||n&&"object"==typeof n&&(0,ne.r3)(n,".sv")},oc=function(n,t,e,i){i&&void 0===t||wy((0,ne.gK)(n,"value"),t,e)},wy=function(n,t,e){const i=e instanceof ki?new due(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Mh(i));if("function"==typeof t)throw new Error(n+"contains a function "+Mh(i)+" with contents = "+t.toString());if(VC(t))throw new Error(n+"contains "+t.toString()+" "+Mh(i));if("string"==typeof t&&t.length>TM/3&&(0,ne.ug)(t)>TM)throw new Error(n+"contains a string greater than "+TM+" utf8 bytes "+Mh(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Ss(t,(o,c)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!uE(o)))throw new Error(n+" contains an invalid key ("+o+") "+Mh(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function uue(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,ne.ug)(t),Fj(n)})(i,o),wy(n,c,i),function hue(n){const t=n.parts_.pop();n.byteLength_-=(0,ne.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Mh(i)+" in addition to actual children.")}},I4=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,ne.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Ss(t,(o,c)=>{const d=new ki(o);if(wy(r,c,yr(e,d)),".priority"===Uk(d)&&!xy(c))throw new Error(r+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(d)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=oy(i);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!uE(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(cue);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&$a(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},IM=function(n,t,e){if(!e||void 0!==t){if(VC(t))throw new Error((0,ne.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!xy(t))throw new Error((0,ne.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Cy=function(n,t,e,i){if(!(i&&void 0===e||uE(e)))throw new Error((0,ne.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ey=function(n,t,e,i){if(!(i&&void 0===e||T4(e)))throw new Error((0,ne.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Zhe=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ey(n,t,e,i)},Ya=function(n,t){if(".info"===Gn(t))throw new Error(n+" failed = Can't modify data under /.info/")},S4=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!uE(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),T4(n)}(e))throw new Error((0,ne.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Khe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hE(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!jk(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function A4(n,t,e){hE(n,e),k4(n,i=>jk(i,t))}function va(n,t,e){hE(n,e),k4(n,i=>$a(i,t)||$a(t,i))}function k4(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Qhe(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Qhe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Ah&&Is("event: "+e.toString()),bg(i)}}}const M4="repo_interrupt",Jhe=25;class efe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Khe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=XC(),this.transactionQueueTree_=new CM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function R4(n){const e=n.infoData_.getNode(new ki(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Dy(n){return zhe({timestamp:R4(n)})}function O4(n,t,e,i,r){n.dataUpdateCount++;const s=new ki(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let o=[];if(r)if(i){const d=(0,ne.UI)(e,f=>Ar(f));o=function Phe(n,t,e,i){const r=mM(n,i);if(r){const s=_M(r),o=s.path,c=s.queryId,d=Ao(o,t),f=or.fromObject(e);return vM(n,o,new Tg(iM(c),d,f))}return[]}(n.serverSyncTree_,s,d,r)}else{const d=Ar(e);o=v4(n.serverSyncTree_,s,d,r)}else if(i){const d=(0,ne.UI)(e,f=>Ar(f));o=function Mhe(n,t,e){const i=or.fromObject(e);return Sg(n,new Tg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,d)}else{const d=Ar(e);o=_y(n.serverSyncTree_,s,d)}let c=s;o.length>0&&(c=kg(n,s)),va(n.eventQueue_,c,o)}function P4(n,t){SM(n,"connected",t),!1===t&&function sfe(n){Ag(n,"onDisconnectEvents");const t=Dy(n),e=XC();eM(n.onDisconnect_,vi(),(r,s)=>{const o=C4(r,s,n.serverSyncTree_,t);Dg(e,r,o)});let i=[];eM(e,vi(),(r,s)=>{i=i.concat(_y(n.serverSyncTree_,r,s));const o=RM(n,r);kg(n,o)}),n.onDisconnect_=XC(),va(n.eventQueue_,vi(),i)}(n)}function SM(n,t,e){const i=new ki("/.info/"+t),r=Ar(e);n.infoData_.updateSnapshot(i,r);const s=_y(n.infoSyncTree_,i,r);va(n.eventQueue_,i,s)}function fE(n){return n.nextWriteId_++}function AM(n,t,e,i,r){Ag(n,"set",{path:t.toString(),value:e,priority:i});const s=Dy(n),o=Ar(e,i),c=aE(n.serverSyncTree_,t),d=xM(o,c,s),f=fE(n),_=pM(n.serverSyncTree_,t,d,f,!0);hE(n.eventQueue_,_),n.server_.put(t.toString(),o.val(!0),(T,M)=>{const N="ok"===T;N||no("set at "+t+" failed: "+T);const V=iu(n.serverSyncTree_,f,!N);va(n.eventQueue_,t,V),ru(0,r,T,M)});const x=RM(n,t);kg(n,x),va(n.eventQueue_,x,[])}function ofe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&Jk(n.onDisconnect_,t),ru(0,e,i,r)})}function N4(n,t,e,i){const r=Ar(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,o)=>{"ok"===s&&Dg(n.onDisconnect_,t,r),ru(0,i,s,o)})}function kM(n,t,e){let i;i=".info"===Gn(t._path)?oE(n.infoSyncTree_,t,e):oE(n.serverSyncTree_,t,e),A4(n.eventQueue_,t._path,i)}function F4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(M4)}function Ag(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Is(e,...t)}function ru(n,t,e,i){t&&bg(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,t(o)}})}function MM(n,t,e){return aE(n.serverSyncTree_,t,e)||Rn.EMPTY_NODE}function pE(n,t=n.transactionQueueTree_){if(t||gE(n,t),Fh(t)){const e=V4(n,t);(0,ne.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function hfe(n,t,e){const i=e.map(f=>f.currentWriteId),r=MM(n,t,i);let s=r;const o=r.hash();for(let f=0;f<e.length;f++){const _=e[f];(0,ne.hu)(0===_.status,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const x=Ao(t,_.path);s=s.updateChild(x,_.currentOutputSnapshotRaw)}const c=s.val(!0),d=t;n.server_.put(d.toString(),c,f=>{Ag(n,"transaction put response",{path:d.toString(),status:f});let _=[];if("ok"===f){const x=[];for(let T=0;T<e.length;T++)e[T].status=2,_=_.concat(iu(n.serverSyncTree_,e[T].currentWriteId)),e[T].onComplete&&x.push(()=>e[T].onComplete(null,!0,e[T].currentOutputSnapshotResolved)),e[T].unwatcher();gE(n,cE(n.transactionQueueTree_,t)),pE(n,n.transactionQueueTree_),va(n.eventQueue_,t,_);for(let T=0;T<x.length;T++)bg(x[T])}else{if("datastale"===f)for(let x=0;x<e.length;x++)e[x].status=3===e[x].status?4:0;else{no("transaction at "+d.toString()+" failed: "+f);for(let x=0;x<e.length;x++)e[x].status=4,e[x].abortReason=f}kg(n,t)}},o)}(n,by(t),e)}else E4(t)&&dE(t,e=>{pE(n,e)})}function kg(n,t){const e=L4(n,t),i=by(e);return function ffe(n,t,e){if(0===t.length)return;const i=[];let r=[];const o=t.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const d=t[c],f=Ao(e,d.path);let x,_=!1;if((0,ne.hu)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===d.status)_=!0,x=d.abortReason,r=r.concat(iu(n.serverSyncTree_,d.currentWriteId,!0));else if(0===d.status)if(d.retryCount>=Jhe)_=!0,x="maxretry",r=r.concat(iu(n.serverSyncTree_,d.currentWriteId,!0));else{const T=MM(n,d.path,o);d.currentInputSnapshot=T;const M=t[c].update(T.val());if(void 0!==M){wy("transaction failed: Data returned ",M,d.path);let N=Ar(M);"object"==typeof M&&null!=M&&(0,ne.r3)(M,".priority")||(N=N.updatePriority(T.getPriority()));const U=d.currentWriteId,re=Dy(n),te=xM(N,T,re);d.currentOutputSnapshotRaw=N,d.currentOutputSnapshotResolved=te,d.currentWriteId=fE(n),o.splice(o.indexOf(U),1),r=r.concat(pM(n.serverSyncTree_,d.path,te,d.currentWriteId,d.applyLocally)),r=r.concat(iu(n.serverSyncTree_,U,!0))}else _=!0,x="nodata",r=r.concat(iu(n.serverSyncTree_,d.currentWriteId,!0))}va(n.eventQueue_,e,r),r=[],_&&(t[c].status=2,setTimeout(t[c].unwatcher,Math.floor(0)),t[c].onComplete&&i.push("nodata"===x?()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot):()=>t[c].onComplete(new Error(x),!1,null)))}gE(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)bg(i[c]);pE(n,n.transactionQueueTree_)}(n,V4(n,e),i),i}function L4(n,t){let e,i=n.transactionQueueTree_;for(e=Gn(t);null!==e&&void 0===Fh(i);)i=cE(i,e),e=Gn(t=Xi(t));return i}function V4(n,t){const e=[];return B4(n,t,e),e.sort((i,r)=>i.order-r.order),e}function B4(n,t,e){const i=Fh(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);dE(t,r=>{B4(n,r,e)})}function gE(n,t){const e=Fh(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,EM(t,e.length>0?e:void 0)}dE(t,i=>{gE(n,i)})}function RM(n,t){const e=by(L4(n,t)),i=cE(n.transactionQueueTree_,t);return function Whe(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{OM(n,r)}),OM(n,i),D4(i,r=>{OM(n,r)}),e}function OM(n,t){const e=Fh(t);if(e){const i=[];let r=[],s=-1;for(let o=0;o<e.length;o++)3===e[o].status||(1===e[o].status?((0,ne.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,e[o].status=3,e[o].abortReason="set"):((0,ne.hu)(0===e[o].status,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(iu(n.serverSyncTree_,e[o].currentWriteId,!0)),e[o].onComplete&&i.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?EM(t,void 0):e.length=s+1,va(n.eventQueue_,by(t),r);for(let o=0;o<i.length;o++)bg(i[o])}}const PM=function(n,t){const e=mfe(n),i=e.namespace;return"firebase.com"===e.domain&&ic(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ic("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&no("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Fk(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new ki(e.pathString)}},mfe=function(n){let t="",e="",i="",r="",s="",o=!0,c="https",d=443;if("string"==typeof n){let f=n.indexOf("//");f>=0&&(c=n.substring(0,f-1),n=n.substring(f+2));let _=n.indexOf("/");-1===_&&(_=n.length);let x=n.indexOf("?");-1===x&&(x=n.length),t=n.substring(0,Math.min(_,x)),_<x&&(r=function pfe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(_,x)));const T=function gfe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):no(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,x)));f=t.indexOf(":"),f>=0?(o="https"===c||"wss"===c,d=parseInt(t.substring(f+1),10)):f=t.length;const M=t.slice(0,f);if("localhost"===M.toLowerCase())e="localhost";else if(M.split(".").length<=2)e=M;else{const N=t.indexOf(".");i=t.substring(0,N).toLowerCase(),e=t.substring(N+1),s=i}"ns"in T&&(s=T.ns)}return{host:t,port:d,domain:e,subdomain:i,secure:o,scheme:c,pathString:r,namespace:s}},z4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_fe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=z4.charAt(e%64),e=Math.floor(e/64);(0,ne.hu)(0===e,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=z4.charAt(t[r]);return(0,ne.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class H4{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ne.Wl)(this.snapshot.exportVal())}}class U4{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class NM{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,ne.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class j4{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new ne.BH;return ofe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ya("OnDisconnect.remove",this._path);const t=new ne.BH;return N4(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ya("OnDisconnect.set",this._path),oc("OnDisconnect.set",t,this._path,!1);const e=new ne.BH;return N4(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ya("OnDisconnect.setWithPriority",this._path),oc("OnDisconnect.setWithPriority",t,this._path,!1),IM("OnDisconnect.setWithPriority",e,!1);const i=new ne.BH;return function afe(n,t,e,i,r){const s=Ar(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(o,c)=>{"ok"===o&&Dg(n.onDisconnect_,t,s),ru(0,r,o,c)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Ya("OnDisconnect.update",this._path),I4("OnDisconnect.update",t,this._path,!1);const e=new ne.BH;return function lfe(n,t,e,i){if((0,ne.xb)(e))return Is("onDisconnect().update() called with empty data.  Don't do anything."),void ru(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Ss(e,(o,c)=>{const d=Ar(c);Dg(n.onDisconnect_,yr(t,o),d)}),ru(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ko{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return $n(this._path)?null:Uk(this._path)}get ref(){return new qa(this._repo,this._path)}get _queryIdentifier(){const t=Yj(this._queryParams),e=Pk(t);return"{}"===e?"default":e}get _queryObject(){return Yj(this._queryParams)}isEqual(t){if(!((t=(0,ne.m9)(t))instanceof Ko))return!1;const e=this._repo===t._repo,i=jk(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function lue(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function mE(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function su(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===rc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Zd)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==ed)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===sr){if(null!=t&&!xy(t)||null!=e&&!xy(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ne.hu)(n.getIndex()instanceof qk||n.getIndex()===Xk,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function _E(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class qa extends Ko{constructor(t,e){super(t,e,new $C,!1)}get parent(){const t=Nj(this._path);return null===t?null:new qa(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Lh{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ki(t),i=Vh(this.ref,t);return new Lh(this._node.getChild(e),i,sr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Lh(r,Vh(this.ref,i),sr)))}hasChild(t){const e=new ki(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function W4(n,t){return(n=(0,ne.m9)(n))._checkNotDeleted("ref"),void 0!==t?Vh(n._root,t):n._root}function G4(n,t){(n=(0,ne.m9)(n))._checkNotDeleted("refFromURL");const e=PM(t,n._repo.repoInfo_.nodeAdmin);S4("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ic("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),W4(n,e.path.toString())}function Vh(n,t){return null===Gn((n=(0,ne.m9)(n))._path)?Zhe("child","path",t,!1):Ey("child","path",t,!1),new qa(n._repo,yr(n._path,t))}function FM(n,t){n=(0,ne.m9)(n),Ya("set",n._path),oc("set",t,n._path,!1);const e=new ne.BH;return AM(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function wfe(n,t){I4("update",t,n._path,!1);const e=new ne.BH;return function rfe(n,t,e,i){Ag(n,"update",{path:t.toString(),value:e});let r=!0;const s=Dy(n),o={};if(Ss(e,(c,d)=>{r=!1,o[c]=C4(yr(t,c),Ar(d),n.serverSyncTree_,s)}),r)Is("update() called with empty data.  Don't do anything."),ru(0,i,"ok",void 0);else{const c=fE(n),d=function khe(n,t,e,i){!function Yue(n,t,e,i){(0,ne.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=sM(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=or.fromObject(e);return Sg(n,new Tg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,o,c);hE(n.eventQueue_,d),n.server_.merge(t.toString(),e,(f,_)=>{const x="ok"===f;x||no("update at "+t+" failed: "+f);const T=iu(n.serverSyncTree_,c,!x),M=T.length>0?kg(n,t):t;va(n.eventQueue_,M,T),ru(0,i,f,_)}),Ss(e,f=>{const _=RM(n,yr(t,f));kg(n,_)}),va(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Cfe(n){n=(0,ne.m9)(n);const t=new NM(()=>{}),e=new Ty(t);return function ife(n,t,e){const i=function Nhe(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(f,_)=>{const x=Ao(f,e);i=i||tu(_,x)});let r=n.syncPointTree_.get(e);r?i=i||tu(r,vi()):(r=new h4,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,o=s?new Jd(i,!0,!1):null;return function vhe(n){return QC(n.viewCache_)}(f4(r,t,JC(n.pendingWriteTree_,t._path),s?o.getNode():Rn.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=Ar(r).withIndex(t._queryParams.getIndex());let o;if(gM(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())o=_y(n.serverSyncTree_,t._path,s);else{const c=vy(n.serverSyncTree_,t);o=v4(n.serverSyncTree_,t._path,s,c)}return va(n.eventQueue_,t._path,o),oE(n.serverSyncTree_,t,e,null,!0),s},r=>(Ag(n,"get for query "+(0,ne.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Lh(i,new qa(n._repo,n._path),n._queryParams.getIndex()))}class Ty{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new H4("value",this,new Lh(t.snapshotNode,new qa(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new U4(this,t,e):null}matches(t){return t instanceof Ty&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class vE{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new U4(this,t,e):null}createEvent(t,e){(0,ne.hu)(null!=t.childName,"Child events should have a childName.");const i=Vh(new qa(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new H4(t.type,this,new Lh(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof vE&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Iy(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const d=e,f=(_,x)=>{kM(n._repo,n,c),d(_,x)};f.userCallback=e.userCallback,f.context=e.context,e=f}const o=new NM(e,s||void 0),c="value"===t?new Ty(o):new vE(t,o);return function cfe(n,t,e){let i;i=".info"===Gn(t._path)?gM(n.infoSyncTree_,t,e):gM(n.serverSyncTree_,t,e),A4(n.eventQueue_,t._path,i)}(n._repo,n,c),()=>kM(n._repo,n,c)}function LM(n,t,e,i){return Iy(n,"value",t,e,i)}function $4(n,t,e,i){return Iy(n,"child_added",t,e,i)}function Y4(n,t,e,i){return Iy(n,"child_changed",t,e,i)}function q4(n,t,e,i){return Iy(n,"child_moved",t,e,i)}function X4(n,t,e,i){return Iy(n,"child_removed",t,e,i)}function Z4(n,t,e){let i=null;const r=e?new NM(e):null;"value"===t?i=new Ty(r):t&&(i=new vE(t,r)),kM(n._repo,n,i)}class wl{}class K4 extends wl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oc("endAt",this._value,t._path,!0);const e=Qk(t._queryParams,this._value,this._key);if(_E(e),su(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ko(t._repo,t._path,e,t._orderByCalled)}}class Dfe extends wl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oc("endBefore",this._value,t._path,!1);const e=function Pue(n,t,e){let i;return i=Qk(n,t,n.index_===rc||e?e:Zd),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(_E(e),su(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ko(t._repo,t._path,e,t._orderByCalled)}}class Q4 extends wl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oc("startAt",this._value,t._path,!0);const e=Kk(t._queryParams,this._value,this._key);if(_E(e),su(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ko(t._repo,t._path,e,t._orderByCalled)}}class Sfe extends wl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oc("startAfter",this._value,t._path,!1);const e=function Oue(n,t,e){let i;return i=Kk(n,t,n.index_===rc||e?e:ed),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(_E(e),su(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ko(t._repo,t._path,e,t._orderByCalled)}}class kfe extends wl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ko(t._repo,t._path,function Mue(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Rfe extends wl{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ko(t._repo,t._path,function Rue(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Pfe extends wl{constructor(t){super(),this._path=t}_apply(t){mE(t,"orderByChild");const e=new ki(this._path);if($n(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new qk(e),r=YC(t._queryParams,i);return su(r),new Ko(t._repo,t._path,r,!0)}}class Ffe extends wl{_apply(t){mE(t,"orderByKey");const e=YC(t._queryParams,rc);return su(e),new Ko(t._repo,t._path,e,!0)}}class Vfe extends wl{_apply(t){mE(t,"orderByPriority");const e=YC(t._queryParams,sr);return su(e),new Ko(t._repo,t._path,e,!0)}}class zfe extends wl{_apply(t){mE(t,"orderByValue");const e=YC(t._queryParams,Xk);return su(e),new Ko(t._repo,t._path,e,!0)}}class Ufe extends wl{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(oc("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new K4(this._value,this._key)._apply(new Q4(this._value,this._key)._apply(t))}}function Cl(n,...t){let e=(0,ne.m9)(n);for(const i of t)e=i._apply(e);return e}(function whe(n){(0,ne.hu)(!iE,"__referenceConstructor has already been defined"),iE=n})(qa),function Ihe(n){(0,ne.hu)(!sE,"__referenceConstructor has already been defined"),sE=n}(qa);const VM={};function BM(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||ic("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Is("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let d,f,o=PM(s,r),c=o.repoInfo;typeof process<"u"&&process.env&&(f=process.env.FIREBASE_DATABASE_EMULATOR_HOST),f?(d=!0,s=`http://${f}?ns=${c.namespace}`,o=PM(s,r),c=o.repoInfo):d=!o.repoInfo.secure;const _=r&&d?new sy(sy.OWNER):new Lde(n.name,n.options,t);S4("Invalid Firebase Database URL",o),$n(o.path)||ic("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function Yfe(n,t,e,i){let r=VM[t.name];r||(r={},VM[t.name]=r);let s=r[n.toURLString()];return s&&ic("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new efe(n,false,e,i),r[n.toURLString()]=s,s}(c,n,_,new Fde(n.name,e));return new Xfe(x,n)}class Xfe{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function tfe(n,t,e){if(n.stats_=Bk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new qC(n.repoInfo_,(i,r,s,o)=>{O4(n,i,r,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>P4(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ne.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Rh(n.repoInfo_,t,(i,r,s,o)=>{O4(n,i,r,s,o)},i=>{P4(n,i)},i=>{!function nfe(n,t){Ss(t,(e,i)=>{SM(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function zde(n,t){const e=n.toString();return Vk[e]||(Vk[e]=t()),Vk[e]}(n.repoInfo_,()=>new zue(n.stats_,n.server_)),n.infoData_=new Nue,n.infoSyncTree_=new _4({startListening:(i,r,s,o)=>{let c=[];const d=n.infoData_.getNode(i._path);return d.isEmpty()||(c=_y(n.infoSyncTree_,i._path,d),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),SM(n,"connected",!1),n.serverSyncTree_=new _4({startListening:(i,r,s,o)=>(n.server_.listen(i,s,r,(c,d)=>{const f=o(c,d);va(n.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qa(this._repo,vi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function $fe(n,t){const e=VM[t];(!e||e[n.key]!==n)&&ic(`Database ${t}(${n.repoInfo_}) has already been deleted.`),F4(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ic("Cannot call "+t+" on a deleted database.")}}function eW(){Cj.IS_TRANSPORT_INITIALIZED&&no("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Zfe(){eW(),Kd.forceDisallow()}function Kfe(){eW(),xg.forceDisallow(),Kd.forceAllow()}function epe(n,t){ij(n,t)}const npe={".sv":"timestamp"};class spe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Rh.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Rh.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function tpe(n){Mk(Xo.SDK_VERSION),(0,Xo._registerComponent)(new yl.wA("database",(t,{instanceIdentifier:e})=>BM(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Xo.registerVersion)(K3,"1.0.1",n),(0,Xo.registerVersion)(K3,"1.0.1","esm2017")}();const cpe=new _a.Yd("@firebase/database-compat"),nW=function(n){cpe.warn("FIREBASE WARNING: "+n)};class hpe{constructor(t){this._delegate=t}cancel(t){(0,ne.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ne.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,ne.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ne.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,ne.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ne.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ne.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ne.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,ne.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,nW("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ne.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class fpe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,ne.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ou{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,ne.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ne.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ne.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ne.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,ne.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Ey("DataSnapshot.child","path",t,!1),new ou(this._database,this._delegate.child(t))}hasChild(t){return(0,ne.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ey("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,ne.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,ne.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ne.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new ou(this._database,e)))}hasChildren(){return(0,ne.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ne.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ne.Dv)("DataSnapshot.ref",0,0,arguments.length),new ya(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class zs{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,ne.Dv)("Query.on",2,4,arguments.length),(0,ne.Wj)("Query.on","callback",e,!1);const o=zs.getCancelAndContextArgs_("Query.on",i,r),c=(f,_)=>{e.call(o.context,new ou(this.database,f),_)};c.userCallback=e,c.context=o.context;const d=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(t){case"value":return LM(this._delegate,c,d),e;case"child_added":return $4(this._delegate,c,d),e;case"child_removed":return X4(this._delegate,c,d),e;case"child_changed":return Y4(this._delegate,c,d),e;case"child_moved":return q4(this._delegate,c,d),e;default:throw new Error((0,ne.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,ne.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ne.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,ne.Wj)("Query.off","callback",e,!0),(0,ne.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,Z4(this._delegate,t,r)}else Z4(this._delegate,t)}get(){return Cfe(this._delegate).then(t=>new ou(this.database,t))}once(t,e,i,r){(0,ne.Dv)("Query.once",1,4,arguments.length),(0,ne.Wj)("Query.once","callback",e,!0);const s=zs.getCancelAndContextArgs_("Query.once",i,r),o=new ne.BH,c=(f,_)=>{const x=new ou(this.database,f);e&&e.call(s.context,x,_),o.resolve(x)};c.userCallback=e,c.context=s.context;const d=f=>{s.cancel&&s.cancel.call(s.context,f),o.reject(f)};switch(t){case"value":LM(this._delegate,c,d,{onlyOnce:!0});break;case"child_added":$4(this._delegate,c,d,{onlyOnce:!0});break;case"child_removed":X4(this._delegate,c,d,{onlyOnce:!0});break;case"child_changed":Y4(this._delegate,c,d,{onlyOnce:!0});break;case"child_moved":q4(this._delegate,c,d,{onlyOnce:!0});break;default:throw new Error((0,ne.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return(0,ne.Dv)("Query.limitToFirst",1,1,arguments.length),new zs(this.database,Cl(this._delegate,function Mfe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new kfe(n)}(t)))}limitToLast(t){return(0,ne.Dv)("Query.limitToLast",1,1,arguments.length),new zs(this.database,Cl(this._delegate,function Ofe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Rfe(n)}(t)))}orderByChild(t){return(0,ne.Dv)("Query.orderByChild",1,1,arguments.length),new zs(this.database,Cl(this._delegate,function Nfe(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ey("orderByChild","path",n,!1),new Pfe(n)}(t)))}orderByKey(){return(0,ne.Dv)("Query.orderByKey",0,0,arguments.length),new zs(this.database,Cl(this._delegate,function Lfe(){return new Ffe}()))}orderByPriority(){return(0,ne.Dv)("Query.orderByPriority",0,0,arguments.length),new zs(this.database,Cl(this._delegate,function Bfe(){return new Vfe}()))}orderByValue(){return(0,ne.Dv)("Query.orderByValue",0,0,arguments.length),new zs(this.database,Cl(this._delegate,function Hfe(){return new zfe}()))}startAt(t=null,e){return(0,ne.Dv)("Query.startAt",0,2,arguments.length),new zs(this.database,Cl(this._delegate,function Ife(n=null,t){return Cy("startAt","key",t,!0),new Q4(n,t)}(t,e)))}startAfter(t=null,e){return(0,ne.Dv)("Query.startAfter",0,2,arguments.length),new zs(this.database,Cl(this._delegate,function Afe(n,t){return Cy("startAfter","key",t,!0),new Sfe(n,t)}(t,e)))}endAt(t=null,e){return(0,ne.Dv)("Query.endAt",0,2,arguments.length),new zs(this.database,Cl(this._delegate,function Efe(n,t){return Cy("endAt","key",t,!0),new K4(n,t)}(t,e)))}endBefore(t=null,e){return(0,ne.Dv)("Query.endBefore",0,2,arguments.length),new zs(this.database,Cl(this._delegate,function Tfe(n,t){return Cy("endBefore","key",t,!0),new Dfe(n,t)}(t,e)))}equalTo(t,e){return(0,ne.Dv)("Query.equalTo",1,2,arguments.length),new zs(this.database,Cl(this._delegate,function jfe(n,t){return Cy("equalTo","key",t,!0),new Ufe(n,t)}(t,e)))}toString(){return(0,ne.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ne.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,ne.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof zs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,ne.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,ne.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,ne.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ya(this.database,new qa(this._delegate._repo,this._delegate._path))}}class ya extends zs{constructor(t,e){super(t,new Ko(e._repo,e._path,new $C,!1)),this.database=t,this._delegate=e}getKey(){return(0,ne.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,ne.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ya(this.database,Vh(this._delegate,t))}getParent(){(0,ne.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ya(this.database,t):null}getRoot(){return(0,ne.Dv)("Reference.root",0,0,arguments.length),new ya(this.database,this._delegate.root)}set(t,e){(0,ne.Dv)("Reference.set",1,2,arguments.length),(0,ne.Wj)("Reference.set","onComplete",e,!0);const i=FM(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,ne.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,nW("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ya("Reference.update",this._delegate._path),(0,ne.Wj)("Reference.update","onComplete",e,!0);const i=wfe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ne.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ne.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function xfe(n,t,e){if(Ya("setWithPriority",n._path),oc("setWithPriority",t,n._path,!1),IM("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ne.BH;return AM(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,ne.Dv)("Reference.remove",0,1,arguments.length),(0,ne.Wj)("Reference.remove","onComplete",t,!0);const e=function yfe(n){return Ya("remove",n._path),FM(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,ne.Dv)("Reference.transaction",1,3,arguments.length),(0,ne.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,ne.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,ne.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function ope(n,t,e){var i;if(n=(0,ne.m9)(n),Ya("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new ne.BH,c=LM(n,()=>{});return function ufe(n,t,e,i,r,s){Ag(n,"transaction on "+t);const o={path:t,update:e,onComplete:i,status:null,order:ej(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=MM(n,t,void 0);o.currentInputSnapshot=c;const d=o.update(c.val());if(void 0===d)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{wy("transaction failed: Data returned ",d,o.path),o.status=0;const f=cE(n.transactionQueueTree_,t),_=Fh(f)||[];let x;_.push(o),EM(f,_),"object"==typeof d&&null!==d&&(0,ne.r3)(d,".priority")?(x=(0,ne.DV)(d,".priority"),(0,ne.hu)(xy(x),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):x=(aE(n.serverSyncTree_,t)||Rn.EMPTY_NODE).getPriority().val();const T=Dy(n),M=Ar(d,x),N=xM(M,c,T);o.currentOutputSnapshotRaw=M,o.currentOutputSnapshotResolved=N,o.currentWriteId=fE(n);const V=pM(n.serverSyncTree_,t,N,o.currentWriteId,o.applyLocally);va(n.eventQueue_,t,V),pE(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(d,f,_)=>{let x=null;d?s.reject(d):(x=new Lh(_,new qa(n._repo,n._path),sr),s.resolve(new spe(f,x)))},c,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new fpe(s.committed,new ou(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,ne.Dv)("Reference.setPriority",1,2,arguments.length),(0,ne.Wj)("Reference.setPriority","onComplete",e,!0);const i=function bfe(n,t){n=(0,ne.m9)(n),Ya("setPriority",n._path),IM("setPriority",t,!1);const e=new ne.BH;return AM(n._repo,yr(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,ne.Dv)("Reference.push",0,2,arguments.length),(0,ne.Wj)("Reference.push","onComplete",e,!0);const i=function vfe(n,t){n=(0,ne.m9)(n),Ya("push",n._path),oc("push",t,n._path,!0);const e=R4(n._repo),i=_fe(e),r=Vh(n,i),s=Vh(n,i);let o;return o=null!=t?FM(s,t).then(()=>s):Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}(this._delegate,t),r=i.then(o=>new ya(this.database,o));e&&r.then(()=>e(null),o=>e(o));const s=new ya(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Ya("Reference.onDisconnect",this._delegate._path),new hpe(new j4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Sy{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Zfe,forceLongPolling:Kfe}}useEmulator(t,e,i={}){!function tW(n,t,e,i={}){(n=(0,ne.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ic("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ic('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new sy(sy.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:(0,ne.Sg)(i.mockUserToken,n.app.options.projectId);s=new sy(o)}!function Gfe(n,t,e,i){n.repoInfo_=new Fk(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,ne.Dv)("database.ref",0,1,arguments.length),t instanceof ya){const e=G4(this._delegate,t.toString());return new ya(this,e)}{const e=W4(this._delegate,t);return new ya(this,e)}}refFromURL(t){(0,ne.Dv)("database.refFromURL",1,1,arguments.length);const i=G4(this._delegate,t);return new ya(this,i)}goOffline(){return(0,ne.Dv)("database.goOffline",0,0,arguments.length),function Qfe(n){(n=(0,ne.m9)(n))._checkNotDeleted("goOffline"),F4(n._repo)}(this._delegate)}goOnline(){return(0,ne.Dv)("database.goOnline",0,0,arguments.length),function Jfe(n){(n=(0,ne.m9)(n))._checkNotDeleted("goOnline"),function dfe(n){n.persistentConnection_&&n.persistentConnection_.resume(M4)}(n._repo)}(this._delegate)}}Sy.ServerValue={TIMESTAMP:function ipe(){return npe}(),increment:n=>function rpe(n){return{".sv":{increment:n}}}(n)};var gpe=Object.freeze({__proto__:null,initStandalone:function ppe({app:n,url:t,version:e,customAuthImpl:i,customAppCheckImpl:r,namespace:s,nodeAdmin:o=!1}){Mk(e);const c=new yl.H0("database-standalone"),d=new yl.zt("auth-internal",c);let f;return d.setComponent(new yl.wA("auth-internal",()=>i,"PRIVATE")),r&&(f=new yl.zt("app-check-internal",c),f.setComponent(new yl.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new Sy(BM(n,d,f,t,o),n),namespace:s}}});const mpe=Sy.ServerValue;function Ay(n,t,e="on",i=qd){return new Ht(r=>{let s=null;return s=n[e](t,(o,c)=>{i.schedule(()=>{r.next({snapshot:o,prevKey:c})}),"once"===e&&i.schedule(()=>r.complete())},o=>{i.schedule(()=>r.error(o))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe($e(r=>{const{snapshot:s,prevKey:o}=r;let c=null;return s.exists()&&(c=s.key),{type:t,payload:s,prevKey:o,key:c}}),He())}function iW(n){return null==n}function rW(n){return"function"==typeof n.set}function sW(n,t){return rW(t)?t:n.ref(t)}function oW(n,t){if(function vpe(n){return"string"==typeof n}(n))return t.stringCase();if(rW(n))return t.firebaseCase();if(function ype(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function aW(n){return(iW(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function lW(n,t,e){return J(...(t=aW(t)).map(r=>Ay(n,r,"on",e)))}function cW(n,t){return function(i,r){return oW(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Cpe(n){return function(e){return e?oW(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function dW(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Tpe(n,t){const{payload:e,prevKey:i,key:r}=t,s=dW(n,r),o=function Dpe(n,t){if(iW(t))return 0;{const e=dW(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload?.exists()){let c=null;t.payload.forEach(d=>{const f={payload:d,type:"value",prevKey:c,key:d.key};return c=d.key,n=[...n,f],!1})}return n;case"child_added":if(s>-1)(n[s-1]?.key||null)!==i&&(n=n.filter(d=>d.payload.key!==e.key)).splice(o,0,t);else{if(null==i)return[t,...n];(n=n.slice()).splice(o,0,t)}return n;case"child_removed":return n.filter(c=>c.payload.key!==e.key);case"child_changed":return n.map(c=>c.payload.key===r?t:c);case"child_moved":if(s>-1){const c=n.splice(s,1)[0];return(n=n.slice()).splice(o,0,c),n}return n;default:return n}}function uW(n,t,e){return function Epe(n,t,e){return Ay(n,"value","once",e).pipe(vt(i=>{const r=[de(i)];return t.forEach(s=>r.push(Ay(n,s,"on",e))),J(...r).pipe(vg(Tpe,[]))}),en())}(n,t=aW(t),e)}function hW(n,t){return function(){return Ay(n,"value","on",t)}}!function _pe(n){n.INTERNAL.registerComponent(new yl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Sy(r,i)},"PUBLIC").setServiceProps({Reference:ya,Query:zs,Database:Sy,DataSnapshot:ou,enableLogging:epe,INTERNAL:gpe,ServerValue:mpe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.1")}(ma.Z);const Ape=new Be("angularfire2.realtimeDatabaseURL"),kpe=new Be("angularfire2.database.use-emulator");let Mpe=(()=>{class n{schedulers;database;constructor(e,i,r,s,o,c,d,f,_,x,T,M,N,V,U){this.schedulers=c;const re=d,te=ey(e,o,i);f&&Ak(te,o,_,T,M,N,x,V),this.database=OC(`${te.name}.database.${r}`,"AngularFireDatabase",te.name,()=>{const oe=o.runOutsideAngular(()=>te.database(r||void 0));return re&&oe.useEmulator(...re),oe},[re])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>sW(this.database,e));let s=r;return i&&(s=i(r)),function Ipe(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:cW(i,"update"),set:cW(i,"set"),push:r=>i.push(r),remove:Cpe(i),snapshotChanges:r=>uW(n,r,e).pipe(qr),stateChanges:r=>lW(n,r,e).pipe(qr),auditTrail:r=>function bpe(n,t,e){return function wpe(n,t,e){return function xpe(n,t){return Ay(n,"value","on",t).pipe($e(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(LC(t),$e(([r,s])=>{const o=r.lastKeyToLoad,c=s.map(d=>d.key);return{actions:s,lastKeyToLoad:o,loadedKeys:c}}),function Cde(n){return We((t,e)=>{let i=!1,r=0;t.subscribe(at(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),$e(r=>r.actions))}(n,lW(n,t).pipe(vg((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(qr),valueChanges:(r,s)=>uW(n,r,e).pipe($e(c=>c.map(d=>s&&s.idField?{...d.payload.val(),[s.idField]:d.key}:d.payload.val())),qr)}}(s,this)}object(e){return function Spe(n,t){return{query:n,snapshotChanges:()=>hW(n,t.schedulers.outsideAngular)().pipe(qr),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>hW(n,t.schedulers.outsideAngular)().pipe(qr,$e(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>sW(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(ce(mg),ce(_g,8),ce(Ape,8),ce(wo),ce(lt),ce(RC),ce(kpe,8),ce(Jc,8),ce(Ck,8),ce(Ek,8),ce(Dk,8),ce(Tk,8),ce(Ik,8),ce(Sk,8),ce(MC,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Rpe=(()=>{class n{constructor(){ma.Z.registerVersion("angularfire",fg.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=St({type:n});static \u0275inj=Se({providers:[Mpe]})}return n})();function Mg(...n){return function Ope(){return qn(1)}()($(n,fo(n)))}function ko(...n){const t=fo(n);return We((e,i)=>{(t?Mg(n,e,t):Mg(n,e)).subscribe(i)})}function Rg(){return We((n,t)=>{let e,i=!1;n.subscribe(at(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var At,Ppe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},El={},zM=zM||{},vn=Ppe||self;function yE(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function ky(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var HM="closure_uid_"+(1e9*Math.random()>>>0),Fpe=0;function Lpe(n,t,e){return n.call.apply(n.bind,arguments)}function Vpe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function io(n,t,e){return(io=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lpe:Vpe).apply(null,arguments)}function bE(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function As(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),c=2;c<arguments.length;c++)o[c-2]=arguments[c];return t.prototype[r].apply(i,o)}}function au(){this.s=this.s,this.o=this.o}au.prototype.s=!1,au.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Npe(n){Object.prototype.hasOwnProperty.call(n,HM)&&n[HM]||(n[HM]=++Fpe)}(this)},au.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fW=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function UM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function pW(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(yE(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function ro(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}ro.prototype.h=function(){this.defaultPrevented=!0};var zpe=function(){if(!vn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vn.addEventListener("test",()=>{},t),vn.removeEventListener("test",()=>{},t)}catch{}return n}();function My(n){return/^[\s\xa0]*$/.test(n)}function xE(){var n=vn.navigator;return n&&(n=n.userAgent)?n:""}function ac(n){return-1!=xE().indexOf(n)}function jM(n){return jM[" "](n),n}jM[" "]=function(){};var GM,n,Upe=ac("Opera"),Og=ac("Trident")||ac("MSIE"),gW=ac("Edge"),WM=gW||Og,mW=ac("Gecko")&&!(-1!=xE().toLowerCase().indexOf("webkit")&&!ac("Edge"))&&!(ac("Trident")||ac("MSIE"))&&!ac("Edge"),jpe=-1!=xE().toLowerCase().indexOf("webkit")&&!ac("Edge");function _W(){var n=vn.document;return n?n.documentMode:void 0}e:{var $M="",YM=(n=xE(),mW?/rv:([^\);]+)(\)|;)/.exec(n):gW?/Edge\/([\d\.]+)/.exec(n):Og?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jpe?/WebKit\/(\S+)/.exec(n):Upe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(YM&&($M=YM?YM[1]:""),Og){var qM=_W();if(null!=qM&&qM>parseFloat($M)){GM=String(qM);break e}}GM=$M}var Wpe=vn.document&&Og&&(_W()||parseInt(GM,10))||void 0;function Ry(n,t){if(ro.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(mW){e:{try{jM(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Gpe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ry.$.h.call(this)}}As(Ry,ro);var Gpe={2:"touch",3:"pen",4:"mouse"};Ry.prototype.h=function(){Ry.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Oy="closure_listenable_"+(1e6*Math.random()|0),$pe=0;function Ype(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++$pe,this.fa=this.ia=!1}function wE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function ZM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function yW(n){const t={};for(const e in n)t[e]=n[e];return t}const bW="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xW(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<bW.length;s++)e=bW[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function CE(n){this.src=n,this.g={},this.h=0}function KM(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=fW(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(wE(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function QM(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}CE.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=QM(n,t,i,r);return-1<o?(t=n[o],e||(t.ia=!1)):((t=new Ype(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var JM="closure_lm_"+(1e6*Math.random()|0),eR={};function wW(n,t,e,i,r){if(i&&i.once)return EW(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)wW(n,t[s],e,i,r);return null}return e=rR(e),n&&n[Oy]?n.O(t,e,ky(i)?!!i.capture:!!i,r):CW(n,t,e,!1,i,r)}function CW(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=ky(r)?!!r.capture:!!r,c=nR(n);if(c||(n[JM]=c=new CE(n)),(e=c.add(t,e,i,o,s)).proxy)return e;if(i=function Xpe(){const t=Zpe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)zpe||(r=o),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(TW(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function EW(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)EW(n,t[s],e,i,r);return null}return e=rR(e),n&&n[Oy]?n.P(t,e,ky(i)?!!i.capture:!!i,r):CW(n,t,e,!0,i,r)}function DW(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)DW(n,t[s],e,i,r);else i=ky(i)?!!i.capture:!!i,e=rR(e),n&&n[Oy]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=QM(s=n.g[t],e,i,r))&&(wE(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=nR(n))&&(t=n.g[t.toString()],n=-1,t&&(n=QM(t,e,i,r)),(e=-1<n?t[n]:null)&&tR(e))}function tR(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Oy])KM(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(TW(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=nR(t))?(KM(e,n),0==e.h&&(e.src=null,t[JM]=null)):wE(n)}}}function TW(n){return n in eR?eR[n]:eR[n]="on"+n}function Zpe(n,t){if(n.fa)n=!0;else{t=new Ry(t,this);var e=n.listener,i=n.la||n.src;n.ia&&tR(n),n=e.call(i,t)}return n}function nR(n){return(n=n[JM])instanceof CE?n:null}var iR="__closure_events_fn_"+(1e9*Math.random()>>>0);function rR(n){return"function"==typeof n?n:(n[iR]||(n[iR]=function(t){return n.handleEvent(t)}),n[iR])}function ks(){au.call(this),this.i=new CE(this),this.S=this,this.J=null}function Hs(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new ro(t,n);else if(t instanceof ro)t.target=t.target||n;else{var r=t;xW(t=new ro(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=EE(o,i,!0,t)&&r}if(r=EE(o=t.g=n,i,!0,t)&&r,r=EE(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=EE(o=t.g=e[s],i,!1,t)&&r}function EE(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==e){var c=o.listener,d=o.la||o.src;o.ia&&KM(n.i,o),r=!1!==c.call(d,i)&&r}}return r&&!i.defaultPrevented}As(ks,au),ks.prototype[Oy]=!0,ks.prototype.removeEventListener=function(n,t,e,i){DW(this,n,t,e,i)},ks.prototype.N=function(){if(ks.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)wE(e[i]);delete n.g[t],n.h--}}this.J=null},ks.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ks.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var sR=vn.JSON.stringify;function Qpe(){var n=oR;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var IW=new class Kpe{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new ege,n=>n.reset());class ege{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function tge(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function nge(n){vn.setTimeout(()=>{throw n},0)}let Py,Ny=!1,oR=new class Jpe{constructor(){this.h=this.g=null}add(t,e){const i=IW.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},SW=()=>{const n=vn.Promise.resolve(void 0);Py=()=>{n.then(ige)}};var ige=()=>{for(var n;n=Qpe();){try{n.h.call(n.g)}catch(e){nge(e)}var t=IW;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Ny=!1};function DE(n,t){ks.call(this),this.h=n||1,this.g=t||vn,this.j=io(this.qb,this),this.l=Date.now()}function aR(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function lR(n,t,e){if("function"==typeof n)e&&(n=io(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=io(n.handleEvent,n)}return 2147483647<Number(t)?-1:vn.setTimeout(n,t||0)}function AW(n){n.g=lR(()=>{n.g=null,n.i&&(n.i=!1,AW(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}As(DE,ks),(At=DE.prototype).ga=!1,At.T=null,At.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hs(this,"tick"),this.ga&&(aR(this),this.start()))}},At.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},At.N=function(){DE.$.N.call(this),aR(this),delete this.g};class rge extends au{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:AW(this)}N(){super.N(),this.g&&(vn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fy(n){au.call(this),this.h=n,this.g={}}As(Fy,au);var kW=[];function MW(n,t,e,i){Array.isArray(e)||(e&&(kW[0]=e.toString()),e=kW);for(var r=0;r<e.length;r++){var s=wW(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function RW(n){ZM(n.g,function(t,e){this.g.hasOwnProperty(e)&&tR(t)},n),n.g={}}function TE(){this.g=!0}function Pg(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function lge(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return sR(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Fy.prototype.N=function(){Fy.$.N.call(this),RW(this)},Fy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},TE.prototype.Ea=function(){this.g=!1},TE.prototype.info=function(){};var Bh={},OW=null;function IE(){return OW=OW||new ks}function PW(n){ro.call(this,Bh.Ta,n)}function Ly(n){const t=IE();Hs(t,new PW(t))}function NW(n,t){ro.call(this,Bh.STAT_EVENT,n),this.stat=t}function Mo(n){const t=IE();Hs(t,new NW(t,n))}function FW(n,t){ro.call(this,Bh.Ua,n),this.size=t}function Vy(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vn.setTimeout(function(){n()},t)}Bh.Ta="serverreachability",As(PW,ro),Bh.STAT_EVENT="statevent",As(NW,ro),Bh.Ua="timingevent",As(FW,ro);var SE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},LW={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cR(){}function BW(){}cR.prototype.h=null;var hR,By={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dR(){ro.call(this,"d")}function uR(){ro.call(this,"c")}function AE(){}function zy(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Fy(this),this.P=cge,this.V=new DE(n=WM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zW}function zW(){this.i=null,this.g="",this.h=!1}As(dR,ro),As(uR,ro),As(AE,cR),AE.prototype.g=function(){return new XMLHttpRequest},AE.prototype.i=function(){return{}},hR=new AE;var cge=45e3,fR={},kE={};function pR(n,t,e){n.L=1,n.v=PE(nd(t)),n.s=e,n.S=!0,HW(n,null)}function HW(n,t){n.G=Date.now(),Hy(n),n.A=nd(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),KW(e.i,"t",i),n.C=0,e=n.l.J,n.h=new zW,n.g=xG(n.l,e?t:null,!n.s),0<n.O&&(n.M=new rge(io(n.Pa,n,n.g),n.O)),MW(n.U,n.g,"readystatechange",n.nb),t=n.I?yW(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Ly(),function sge(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",c=s.split("&"),d=0;d<c.length;d++){var f=c[d].split("=");if(1<f.length){var _=f[0];f=f[1];var x=_.split("_");o=2<=x.length&&"type"==x[1]?o+(_+"=")+f+"&":o+(_+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function UW(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function jW(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=dge(n,e),r==kE){4==t&&(n.o=4,Mo(14),i=!1),Pg(n.j,n.m,null,"[Incomplete Response]");break}if(r==fR){n.o=4,Mo(15),Pg(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Pg(n.j,n.m,r,null),gR(n,r)}UW(n)&&r!=kE&&r!=fR&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Mo(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),wR(t),t.M=!0,Mo(11))):(Pg(n.j,n.m,e,"[Invalid Chunked Response]"),zh(n),Uy(n))}function dge(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?kE:(e=Number(t.substring(e,i)),isNaN(e)?fR:(i+=1)+e>t.length?kE:(t=t.slice(i,i+e),n.C=i+e,t))}function Hy(n){n.Y=Date.now()+n.P,WW(n,n.P)}function WW(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Vy(io(n.lb,n),t)}function ME(n){n.B&&(vn.clearTimeout(n.B),n.B=null)}function Uy(n){0==n.l.H||n.J||_G(n.l,n)}function zh(n){ME(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,aR(n.V),RW(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function gR(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||mR(e.i,n)))if(!n.K&&mR(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;zE(e),VE(e)}xR(e),Mo(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Vy(io(e.ib,e),6e3));if(1>=eG(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Uh(e,11)}else if((n.K||e.g==n)&&zE(e),!My(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let f=r[t];if(e.V=f[0],f=f[1],2==e.H)if("c"==f[0]){e.K=f[1],e.pa=f[2];const _=f[3];null!=_&&(e.ra=_,e.l.info("VER="+e.ra));const x=f[4];null!=x&&(e.Ga=x,e.l.info("SVER="+e.Ga));const T=f[5];null!=T&&"number"==typeof T&&0<T&&(e.L=i=1.5*T,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const M=n.g;if(M){const N=M.g?M.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var s=i.i;s.g||-1==N.indexOf("spdy")&&-1==N.indexOf("quic")&&-1==N.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(_R(s,s.h),s.h=null))}if(i.F){const V=M.g?M.g.getResponseHeader("X-HTTP-Session-Id"):null;V&&(i.Da=V,fr(i.I,i.F,V))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var o=n;if((i=e).wa=bG(i,i.J?i.pa:null,i.Y),o.K){tG(i.i,o);var c=o,d=i.L;d&&c.setTimeout(d),c.B&&(ME(c),Hy(c)),i.g=o}else gG(i);0<e.j.length&&BE(e)}else"stop"!=f[0]&&"close"!=f[0]||Uh(e,7);else 3==e.H&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?Uh(e,7):bR(e):"noop"!=f[0]&&e.h&&e.h.Aa(f),e.A=0)}Ly()}catch{}}function GW(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(yE(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function hge(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(yE(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function uge(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(yE(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(At=zy.prototype).setTimeout=function(n){this.P=n},At.nb=function(n){n=n.target;const t=this.M;t&&3==lc(n)?t.l():this.Pa(n)},At.Pa=function(n){try{if(n==this.g)e:{const _=lc(this.g);var t=this.g.Ia();if(this.g.da(),!(3>_)&&(3!=_||WM||this.g&&(this.h.h||this.g.ja()||cG(this.g)))){this.J||4!=_||7==t||Ly(),ME(this);var e=this.g.da();this.ca=e;t:if(UW(this)){var i=cG(this.g);n="";var r=i.length,s=4==lc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zh(this),Uy(this);var o="";break t}this.h.i=new vn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==e,function oge(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,_,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,d=this.g;if((c=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!My(c)){var f=c;break t}}f=null}if(!(e=f)){this.i=!1,this.o=3,Mo(12),zh(this),Uy(this);break e}Pg(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gR(this,e)}this.S?(jW(this,_,o),WM&&this.i&&3==_&&(MW(this.U,this.V,"tick",this.mb),this.V.start())):(Pg(this.j,this.m,o,null),gR(this,o)),4==_&&zh(this),this.i&&!this.J&&(4==_?_G(this.l,this):(this.i=!1,Hy(this)))}else(function kge(n){const t={};n=(n.g&&2<=lc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(My(n[i]))continue;var e=tge(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function qpe(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<o.indexOf("Unknown SID")?(this.o=3,Mo(12)):(this.o=0,Mo(13)),zh(this),Uy(this)}}}catch{}},At.mb=function(){if(this.g){var n=lc(this.g),t=this.g.ja();this.C<t.length&&(ME(this),jW(this,n,t),this.i&&4!=n&&Hy(this))}},At.cancel=function(){this.J=!0,zh(this)},At.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function age(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Ly(),Mo(17)),zh(this),this.o=2,Uy(this)):WW(this,this.Y-n)};var $W=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Hh){this.h=n.h,RE(this,n.j),this.s=n.s,this.g=n.g,OE(this,n.m),this.l=n.l;var t=n.i,e=new Gy;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),YW(this,e),this.o=n.o}else n&&(t=String(n).match($W))?(this.h=!1,RE(this,t[1]||"",!0),this.s=jy(t[2]||""),this.g=jy(t[3]||"",!0),OE(this,t[4]),this.l=jy(t[5]||"",!0),YW(this,t[6]||"",!0),this.o=jy(t[7]||"")):(this.h=!1,this.i=new Gy(null,this.h))}function nd(n){return new Hh(n)}function RE(n,t,e){n.j=e?jy(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function OE(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function YW(n,t,e){t instanceof Gy?(n.i=t,function yge(n,t){t&&!n.j&&(lu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(XW(this,i),KW(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Wy(t,_ge)),n.i=new Gy(t,n.h))}function fr(n,t,e){n.i.set(t,e)}function PE(n){return fr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function jy(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wy(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,pge),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function pge(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Hh.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Wy(t,qW,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Wy(t,qW,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Wy(e,"/"==e.charAt(0)?mge:gge,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Wy(e,vge)),n.join("")};var qW=/[#\/\?@]/g,gge=/[#\?:]/g,mge=/[#\?]/g,_ge=/[#\?@]/g,vge=/#/g;function Gy(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function lu(n){n.g||(n.g=new Map,n.h=0,n.i&&function fge(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function XW(n,t){lu(n),t=Ng(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function ZW(n,t){return lu(n),t=Ng(n,t),n.g.has(t)}function KW(n,t,e){XW(n,t),0<e.length&&(n.i=null,n.g.set(Ng(n,t),UM(e)),n.h+=e.length)}function Ng(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function QW(n){this.l=n||xge,n=vn.PerformanceNavigationTiming?0<(n=vn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vn.g&&vn.g.Ka&&vn.g.Ka()&&vn.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(At=Gy.prototype).add=function(n,t){lu(this),this.i=null,n=Ng(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},At.forEach=function(n,t){lu(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},At.ta=function(){lu(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},At.Z=function(n){lu(this);let t=[];if("string"==typeof n)ZW(this,n)&&(t=t.concat(this.g.get(Ng(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},At.set=function(n,t){return lu(this),this.i=null,ZW(this,n=Ng(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},At.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},At.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var xge=10;function JW(n){return!!n.h||!!n.g&&n.g.size>=n.j}function eG(n){return n.h?1:n.g?n.g.size:0}function mR(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function _R(n,t){n.g?n.g.add(t):n.h=t}function tG(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function nG(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return UM(n.i)}QW.prototype.cancel=function(){if(this.i=nG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var wge=class{stringify(n){return vn.JSON.stringify(n,void 0)}parse(n){return vn.JSON.parse(n,void 0)}};function Cge(){this.g=new wge}function Ege(n,t,e){const i=e||"";try{GW(n,function(r,s){let o=r;ky(r)&&(o=sR(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function NE(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function $y(n){this.l=n.ec||null,this.j=n.ob||!1}function FE(n,t){ks.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=vR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}As($y,cR),$y.prototype.g=function(){return new FE(this.l,this.j)},$y.prototype.i=function(n){return function(){return n}}({}),As(FE,ks);var vR=0;function iG(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Yy(n){n.readyState=4,n.l=null,n.j=null,n.A=null,qy(n)}function qy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(At=FE.prototype).open=function(n,t){if(this.readyState!=vR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,qy(this)},At.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||vn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},At.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yy(this)),this.readyState=vR},At.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,qy(this)),this.g&&(this.readyState=3,qy(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof vn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iG(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},At.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Yy(this):qy(this),3==this.readyState&&iG(this)}},At.Za=function(n){this.g&&(this.response=this.responseText=n,Yy(this))},At.Ya=function(n){this.g&&(this.response=n,Yy(this))},At.ka=function(){this.g&&Yy(this)},At.setRequestHeader=function(n,t){this.v.append(n,t)},At.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},At.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(FE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Tge=vn.JSON.parse;function Vr(n){ks.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rG,this.L=this.M=!1}As(Vr,ks);var rG="",Ige=/^https?$/i,Sge=["POST","PUT"];function sG(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,oG(n),LE(n)}function oG(n){n.F||(n.F=!0,Hs(n,"complete"),Hs(n,"error"))}function aG(n){if(n.h&&typeof zM<"u"&&(!n.C[1]||4!=lc(n)||2!=n.da()))if(n.v&&4==lc(n))lR(n.La,0,n);else if(Hs(n,"readystatechange"),4==lc(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===o){var r=String(n.I).match($W)[1]||null;!r&&vn.self&&vn.self.location&&(r=vn.self.location.protocol.slice(0,-1)),i=!Ige.test(r?r.toLowerCase():"")}e=i}if(e)Hs(n,"complete"),Hs(n,"success");else{n.m=6;try{var s=2<lc(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",oG(n)}}finally{LE(n)}}}function LE(n,t){if(n.g){lG(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Hs(n,"ready");try{e.onreadystatechange=i}catch{}}}function lG(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(vn.clearTimeout(n.A),n.A=null)}function lc(n){return n.g?n.g.readyState:0}function cG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case rG:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function dG(n){let t="";return ZM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function yR(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=dG(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):fr(n,t,e))}function Xy(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function uG(n){this.Ga=0,this.j=[],this.l=new TE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xy("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xy("baseRetryDelayMs",5e3,n),this.hb=Xy("retryDelaySeedMs",1e4,n),this.eb=Xy("forwardChannelMaxRetries",2,n),this.xa=Xy("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new QW(n&&n.concurrentRequestLimit),this.Ja=new Cge,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function bR(n){if(hG(n),3==n.H){var t=n.W++,e=nd(n.I);if(fr(e,"SID",n.K),fr(e,"RID",t),fr(e,"TYPE","terminate"),Zy(n,e),(t=new zy(n,n.l,t)).L=2,t.v=PE(nd(e)),e=!1,vn.navigator&&vn.navigator.sendBeacon)try{e=vn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&vn.Image&&((new Image).src=t.v,e=!0),e||(t.g=xG(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Hy(t)}yG(n)}function VE(n){n.g&&(wR(n),n.g.cancel(),n.g=null)}function hG(n){VE(n),n.u&&(vn.clearTimeout(n.u),n.u=null),zE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&vn.clearTimeout(n.m),n.m=null)}function BE(n){if(!JW(n.i)&&!n.m){n.m=!0;var t=n.Na;Py||SW(),Ny||(Py(),Ny=!0),oR.add(t,n),n.C=0}}function fG(n,t){var e;e=t?t.m:n.W++;const i=nd(n.I);fr(i,"SID",n.K),fr(i,"RID",e),fr(i,"AID",n.V),Zy(n,i),n.o&&n.s&&yR(i,n.o,n.s),e=new zy(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=pG(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),_R(n.i,e),pR(e,i,t)}function Zy(n,t){n.na&&ZM(n.na,function(e,i){fr(t,i,e)}),n.h&&GW({},function(e,i){fr(t,i,e)})}function pG(n,t,e){e=Math.min(n.j.length,e);var i=n.h?io(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let c=!0;for(let d=0;d<e;d++){let f=r[d].g;const _=r[d].map;if(f-=s,0>f)s=Math.max(0,r[d].g-100),c=!1;else try{Ege(_,o,"req"+f+"_")}catch{i&&i(_)}}if(c){i=o.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function gG(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Py||SW(),Ny||(Py(),Ny=!0),oR.add(t,n),n.A=0}}function xR(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Vy(io(n.Ma,n),vG(n,n.A)),n.A++,0))}function wR(n){null!=n.B&&(vn.clearTimeout(n.B),n.B=null)}function mG(n){n.g=new zy(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=nd(n.wa);fr(t,"RID","rpc"),fr(t,"SID",n.K),fr(t,"AID",n.V),fr(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&fr(t,"TO",n.qa),fr(t,"TYPE","xmlhttp"),Zy(n,t),n.o&&n.s&&yR(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=PE(nd(t)),e.s=null,e.S=!0,HW(e,n)}function zE(n){null!=n.v&&(vn.clearTimeout(n.v),n.v=null)}function _G(n,t){var e=null;if(n.g==t){zE(n),wR(n),n.g=null;var i=2}else{if(!mR(n.i,t))return;e=t.F,tG(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Hs(i=IE(),new FW(i,e)),BE(n)}else gG(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function Mge(n,t){return!(eG(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Vy(io(n.Na,n,t),vG(n,n.C)),n.C++,0)))}(n,t)||2==i&&xR(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Uh(n,5);break;case 4:Uh(n,10);break;case 3:Uh(n,6);break;default:Uh(n,2)}}function vG(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Uh(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=io(n.pb,n);e||(e=new Hh("//www.google.com/images/cleardot.gif"),vn.location&&"http"==vn.location.protocol||RE(e,"https"),PE(e)),function Dge(n,t){const e=new TE;if(vn.Image){const i=new Image;i.onload=bE(NE,e,i,"TestLoadImage: loaded",!0,t),i.onerror=bE(NE,e,i,"TestLoadImage: error",!1,t),i.onabort=bE(NE,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=bE(NE,e,i,"TestLoadImage: timeout",!1,t),vn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Mo(2);n.H=0,n.h&&n.h.za(t),yG(n),hG(n)}function yG(n){if(n.H=0,n.ma=[],n.h){const t=nG(n.i);(0!=t.length||0!=n.j.length)&&(pW(n.ma,t),pW(n.ma,n.j),n.i.i.length=0,UM(n.j),n.j.length=0),n.h.ya()}}function bG(n,t,e){var i=e instanceof Hh?nd(e):new Hh(e);if(""!=i.g)t&&(i.g=t+"."+i.g),OE(i,i.m);else{var r=vn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Hh(null);i&&RE(s,i),t&&(s.g=t),r&&OE(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&fr(i,e,t),fr(i,"VER",n.ra),Zy(n,i),i}function xG(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Vr(e&&n.Ha&&!n.va?new $y({ob:!0}):n.va)).Oa(n.J),t}function wG(){}function HE(){if(Og&&!(10<=Number(Wpe)))throw Error("Environmental error: no available transport.")}function ba(n,t){ks.call(this),this.g=new uG(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!My(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!My(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Fg(this)}function CG(n){dR.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function EG(){uR.call(this),this.status=1}function Fg(n){this.g=n}function Dl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function CR(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],o=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=e+((o=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Fi(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(At=Vr.prototype).Oa=function(n){this.M=n},At.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hR.g(),this.C=function VW(n){return n.h||(n.h=n.i())}(this.u?this.u:hR),this.g.onreadystatechange=io(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void sG(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=vn.FormData&&n instanceof vn.FormData,!(0<=fW(Sge,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lG(this),0<this.B&&((this.L=function Age(n){return Og&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=io(this.ua,this)):this.A=lR(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){sG(this,s)}},At.ua=function(){typeof zM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hs(this,"timeout"),this.abort(8))},At.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hs(this,"complete"),Hs(this,"abort"),LE(this))},At.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),LE(this,!0)),Vr.$.N.call(this)},At.La=function(){this.s||(this.G||this.v||this.l?aG(this):this.kb())},At.kb=function(){aG(this)},At.isActive=function(){return!!this.g},At.da=function(){try{return 2<lc(this)?this.g.status:-1}catch{return-1}},At.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},At.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Tge(t)}},At.Ia=function(){return this.m},At.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(At=uG.prototype).ra=8,At.H=1,At.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new zy(this,this.l,n);let s=this.s;if(this.U&&(s?(s=yW(s),xW(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=pG(this,r,t),fr(e=nd(this.I),"RID",n),fr(e,"CVER",22),this.F&&fr(e,"X-HTTP-Session-Id",this.F),Zy(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(dG(s)))+"&"+t:this.o&&yR(e,this.o,s)),_R(this.i,r),this.bb&&fr(e,"TYPE","init"),this.P?(fr(e,"$req",t),fr(e,"SID","null"),r.aa=!0,pR(r,e,null)):pR(r,e,t),this.H=2}}else 3==this.H&&(n?fG(this,n):0==this.j.length||JW(this.i)||fG(this))},At.Ma=function(){if(this.u=null,mG(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Vy(io(this.jb,this),n)}},At.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mo(10),VE(this),mG(this))},At.ib=function(){null!=this.v&&(this.v=null,VE(this),xR(this),Mo(19))},At.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Mo(2)):(this.l.info("Failed to ping google.com"),Mo(1))},At.isActive=function(){return!!this.h&&this.h.isActive(this)},(At=wG.prototype).Ba=function(){},At.Aa=function(){},At.za=function(){},At.ya=function(){},At.isActive=function(){return!0},At.Va=function(){},HE.prototype.g=function(n,t){return new ba(n,t)},As(ba,ks),ba.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Mo(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=bG(n,null,n.Y),BE(n)},ba.prototype.close=function(){bR(this.g)},ba.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=sR(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&BE(t)},ba.prototype.N=function(){this.g.h=null,delete this.j,bR(this.g),delete this.g,ba.$.N.call(this)},As(CG,dR),As(EG,uR),As(Fg,wG),Fg.prototype.Ba=function(){Hs(this.g,"a")},Fg.prototype.Aa=function(n){Hs(this.g,new CG(n))},Fg.prototype.za=function(n){Hs(this.g,new EG)},Fg.prototype.ya=function(){Hs(this.g,"b")},As(Dl,function Rge(){this.blockSize=-1}),Dl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Dl.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)CR(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){CR(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){CR(this,i),r=0;break}}this.h=r,this.i+=t},Dl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var Oge={};function ER(n){return-128<=n&&128>n?function Hpe(n,t){var e=Oge;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Fi([0|t],0>t?-1:0)}):new Fi([0|n],0>n?-1:0)}function cc(n){if(isNaN(n)||!isFinite(n))return Lg;if(0>n)return Us(cc(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=DR;return new Fi(t,0)}var DR=4294967296,Lg=ER(0),TR=ER(1),TG=ER(16777216);function id(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Xa(n){return-1==n.h}function Us(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Fi(e,~n.h).add(TR)}function UE(n,t){return n.add(Us(t))}function jE(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Ky(n,t){this.g=n,this.h=t}function WE(n,t){if(id(t))throw Error("division by zero");if(id(n))return new Ky(Lg,Lg);if(Xa(n))return t=WE(Us(n),t),new Ky(Us(t.g),Us(t.h));if(Xa(t))return t=WE(n,Us(t)),new Ky(Us(t.g),t.h);if(30<n.g.length){if(Xa(n)||Xa(t))throw Error("slowDivide_ only works with positive integers.");for(var e=TR,i=t;0>=i.X(n);)e=IG(e),i=IG(i);var r=Vg(e,1),s=Vg(i,1);for(i=Vg(i,2),e=Vg(e,2);!id(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(e),s=o),i=Vg(i,1),e=Vg(e,1)}return t=UE(n,r.R(t)),new Ky(r,t)}for(r=Lg;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),o=(s=cc(e)).R(t);Xa(o)||0<o.X(n);)o=(s=cc(e-=i)).R(t);id(s)&&(s=TR),r=r.add(s),n=UE(n,o)}return new Ky(r,n)}function IG(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Fi(e,n.h)}function Vg(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Fi(r,n.h)}(At=Fi.prototype).ea=function(){if(Xa(this))return-Us(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:DR+i)*t,t*=DR}return n},At.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(id(this))return"0";if(Xa(this))return"-"+Us(this).toString(n);for(var t=cc(Math.pow(n,6)),e=this,i="";;){var r=WE(e,t).g,s=((0<(e=UE(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(id(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},At.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},At.X=function(n){return Xa(n=UE(this,n))?-1:id(n)?0:1},At.abs=function(){return Xa(this)?Us(this):this},At.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,e[r]=(o&=65535)<<16|(s&=65535)}return new Fi(e,-2147483648&e[e.length-1]?-1:0)},At.R=function(n){if(id(this)||id(n))return Lg;if(Xa(this))return Xa(n)?Us(this).R(Us(n)):Us(Us(this).R(n));if(Xa(n))return Us(this.R(Us(n)));if(0>this.X(TG)&&0>n.X(TG))return cc(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),c=n.D(r)>>>16,d=65535&n.D(r);e[2*i+2*r]+=o*d,jE(e,2*i+2*r),e[2*i+2*r+1]+=s*d,jE(e,2*i+2*r+1),e[2*i+2*r+1]+=o*c,jE(e,2*i+2*r+1),e[2*i+2*r+2]+=s*c,jE(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Fi(e,0)},At.gb=function(n){return WE(this,n).h},At.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Fi(e,this.h&n.h)},At.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Fi(e,this.h|n.h)},At.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Fi(e,this.h^n.h)},HE.prototype.createWebChannel=HE.prototype.g,ba.prototype.send=ba.prototype.u,ba.prototype.open=ba.prototype.m,ba.prototype.close=ba.prototype.close,SE.NO_ERROR=0,SE.TIMEOUT=8,SE.HTTP_ERROR=6,LW.COMPLETE="complete",BW.EventType=By,By.OPEN="a",By.CLOSE="b",By.ERROR="c",By.MESSAGE="d",ks.prototype.listen=ks.prototype.O,Vr.prototype.listenOnce=Vr.prototype.P,Vr.prototype.getLastError=Vr.prototype.Sa,Vr.prototype.getLastErrorCode=Vr.prototype.Ia,Vr.prototype.getStatus=Vr.prototype.da,Vr.prototype.getResponseJson=Vr.prototype.Wa,Vr.prototype.getResponseText=Vr.prototype.ja,Vr.prototype.send=Vr.prototype.ha,Vr.prototype.setWithCredentials=Vr.prototype.Oa,Dl.prototype.digest=Dl.prototype.l,Dl.prototype.reset=Dl.prototype.reset,Dl.prototype.update=Dl.prototype.j,Fi.prototype.add=Fi.prototype.add,Fi.prototype.multiply=Fi.prototype.R,Fi.prototype.modulo=Fi.prototype.gb,Fi.prototype.compare=Fi.prototype.X,Fi.prototype.toNumber=Fi.prototype.ea,Fi.prototype.toString=Fi.prototype.toString,Fi.prototype.getBits=Fi.prototype.D,Fi.fromNumber=cc,Fi.fromString=function DG(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Us(DG(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=cc(Math.pow(t,8)),i=Lg,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),t);8>s?(s=cc(Math.pow(t,s)),i=i.R(s).add(cc(o))):i=(i=i.R(e)).add(cc(o))}return i};var Pge=El.createWebChannelTransport=function(){return new HE},Nge=El.getStatEventTarget=function(){return IE()},IR=El.ErrorCode=SE,Fge=El.EventType=LW,Lge=El.Event=Bh,SG=El.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vge=El.FetchXmlHttpFactory=$y,GE=El.WebChannel=BW,Bge=El.XhrIo=Vr,zge=El.Md5=Dl,Bg=El.Integer=Fi;const AG="@firebase/firestore";class Ms{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ms.UNAUTHENTICATED=new Ms(null),Ms.GOOGLE_CREDENTIALS=new Ms("google-credentials-uid"),Ms.FIRST_PARTY=new Ms("first-party-uid"),Ms.MOCK_USER=new Ms("mock-user");let zg="10.5.2";const cu=new _a.Yd("@firebase/firestore");function Hg(){return cu.logLevel}function ct(n,...t){if(cu.logLevel<=_a.in.DEBUG){const e=t.map(SR);cu.debug(`Firestore (${zg}): ${n}`,...e)}}function Xr(n,...t){if(cu.logLevel<=_a.in.ERROR){const e=t.map(SR);cu.error(`Firestore (${zg}): ${n}`,...e)}}function Qo(n,...t){if(cu.logLevel<=_a.in.WARN){const e=t.map(SR);cu.warn(`Firestore (${zg}): ${n}`,...e)}}function SR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ft(n="Unexpected state"){const t=`FIRESTORE (${zg}) INTERNAL ASSERTION FAILED: `+n;throw Xr(t),new Error(t)}function Zt(n,t){n||Ft()}function xt(n,t){return n}const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ne.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _s{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class kG{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ms.UNAUTHENTICATED))}shutdown(){}}class Wge{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Gge{constructor(t){this.t=t,this.currentUser=Ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let o=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _s,t.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const f=o;t.enqueueRetryable((0,qe.Z)(function*(){yield f.promise,yield s(i.currentUser)}))},d=f=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _s)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Zt("string"==typeof i.accessToken),new kG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Zt(null===t||"string"==typeof t),new Ms(t)}}class $ge{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Ms.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Yge{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new $ge(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Ms.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qge{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=s=>{null!=s.error&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ct("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Zt("string"==typeof e.token),this.R=e.token,new MG(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xge(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class RG{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Xge(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function gn(n,t){return n<t?-1:n>t?1:0}function Ug(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function OG(n){return n+"\0"}class br{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new it(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new it(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new it(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return br.fromMillis(Date.now())}static fromDate(t){return br.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new br(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?gn(this.nanoseconds,t.nanoseconds):gn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Kt(t)}static min(){return new Kt(new br(0,0))}static max(){return new Kt(new br(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qy{constructor(t,e,i){void 0===e?e=0:e>t.length&&Ft(),void 0===i?i=t.length-e:i>t.length-e&&Ft(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Qy.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Qy?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ci extends Qy{construct(t,e,i){return new ci(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new it(Le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ci(e)}static emptyPath(){return new ci([])}}const Zge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends Qy{construct(t,e,i){return new pr(t,e,i)}static isValidIdentifier(t){return Zge.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new it(Le.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const c=t[r];if("\\"===c){if(r+1===t.length)throw new it(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if("\\"!==d&&"."!==d&&"`"!==d)throw new it(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else"`"===c?(o=!o,r++):"."!==c||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new it(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pr(e)}static emptyPath(){return new pr([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(ci.fromString(t))}static fromName(t){return new Et(ci.fromString(t).popFirst(5))}static empty(){return new Et(ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ci.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ci.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new ci(t.slice()))}}class jg{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function AR(n){return n.fields.find(t=>2===t.kind)}function jh(n){return n.fields.filter(t=>2!==t.kind)}jg.UNKNOWN_ID=-1;class Wh{constructor(t,e){this.fieldPath=t,this.kind=e}}class Wg{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Wg(0,xa.min())}}function PG(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Kt.fromTimestamp(1e9===i?new br(e+1,0):new br(e,i));return new xa(r,Et.empty(),t)}function NG(n){return new xa(n.readTime,n.key,-1)}class xa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new xa(Kt.min(),Et.empty(),-1)}static max(){return new xa(Kt.max(),Et.empty(),-1)}}function kR(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Et.comparator(n.documentKey,t.documentKey),0!==e?e:gn(n.largestBatchId,t.largestBatchId))}const FG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function du(n){return MR.apply(this,arguments)}function MR(){return MR=(0,qe.Z)(function*(n){if(n.code!==Le.FAILED_PRECONDITION||n.message!==FG)throw n;ct("LocalStore","Unexpectedly lost primary lease")}),MR.apply(this,arguments)}class Te{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Te((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Te?e:Te.resolve(e)}catch(e){return Te.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Te.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Te.reject(e)}static resolve(t){return new Te((e,i)=>{e(t)})}static reject(t){return new Te((e,i)=>{i(t)})}static waitFor(t){return new Te((e,i)=>{let r=0,s=0,o=!1;t.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&e()},d=>i(d))}),o=!0,s===r&&e()})}static or(t){let e=Te.resolve(!1);for(const i of t)e=e.next(r=>r?Te.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Te((i,r)=>{const s=t.length,o=new Array(s);let c=0;for(let d=0;d<s;d++){const f=d;e(t[f]).next(_=>{o[f]=_,++c,c===s&&i(o)},_=>r(_))}})}static doWhile(t,e){return new Te((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class $E{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new _s,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Jy(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=RR(i.target.error);this.V.reject(new Jy(t,r))}}static open(t,e,i,r){try{return new $E(e,t.transaction(r,i))}catch(s){throw new Jy(e,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(ct("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new eme(e)}}class Tl{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===Tl.S((0,ne.z$)())&&Xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ct("SimpleDb","Removing database:",t),Gh(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,ne.hl)())return!1;if(Tl.C())return!0;const t=(0,ne.z$)(),e=Tl.S(t),i=0<e&&e<10,r=Tl.v(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,qe.Z)(function*(){return e.db||(ct("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=o=>{i(o.target.result)},s.onblocked=()=>{r(new Jy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const c=o.target.error;r("VersionError"===c.name?new it(Le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===c.name?new it(Le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c):new Jy(t,c))},s.onupgradeneeded=o=>{ct("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',o.oldVersion),e.p.N(o.target.result,s.transaction,o.oldVersion,e.version).next(()=>{ct("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,qe.Z)(function*(){const o="readonly"===e;let c=0;for(;;){++c;try{s.db=yield s.O(t);const d=$E.open(s.db,t,o?"readonly":"readwrite",i),f=r(d).next(_=>(d.g(),_)).catch(_=>(d.abort(_),Te.reject(_))).toPromise();return f.catch(()=>{}),yield d.m,f}catch(d){const f=d,_="FirebaseError"!==f.name&&c<3;if(ct("SimpleDb","Transaction failed with error:",f.message,"Retrying:",_),s.close(),!_)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Jge{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Gh(this.k.delete())}}class Jy extends it{constructor(t,e){super(Le.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function uu(n){return"IndexedDbTransactionError"===n.name}class eme{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(ct("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(ct("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Gh(i)}add(t){return ct("SimpleDb","ADD",this.store.name,t,t),Gh(this.store.add(t))}get(t){return Gh(this.store.get(t)).next(e=>(void 0===e&&(e=null),ct("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return ct("SimpleDb","DELETE",this.store.name,t),Gh(this.store.delete(t))}count(){return ct("SimpleDb","COUNT",this.store.name),Gh(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(o,c)=>{s.push(c)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Te((s,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{s(c.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Te((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}H(t,e){ct("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.J=!1;const r=this.cursor(i);return this.G(r,(s,o,c)=>c.delete())}Y(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Z(t){const e=this.cursor({});return new Te((i,r)=>{e.onerror=s=>{const o=RR(s.target.error);r(o)},e.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(c=>{c?o.continue():i()}):i()}})}G(t,e){const i=[];return new Te((r,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const c=o.target.result;if(!c)return void r();const d=new Jge(c),f=e(c.primaryKey,c.value,d);if(f instanceof Te){const _=f.catch(x=>(d.done(),Te.reject(x)));i.push(_)}d.isDone?r():null===d.$?c.continue():c.continue(d.$)}}).next(()=>Te.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Gh(n){return new Te((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=RR(i.target.error);e(r)}})}let VG=!1;function RR(n){const t=Tl.S((0,ne.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new it("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return VG||(VG=!0,setTimeout(()=>{throw i},0)),i}}return n}class tme{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;ct("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,qe.Z)(function*(){e.task=null;try{ct("IndexBackiller",`Documents written: ${yield e.X.te()}`)}catch(i){uu(i)?ct("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield du(i)}yield e.ee(6e4)}))}}class nme{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return(0,qe.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.ne(i,t))})()}ne(t,e){const i=new Set;let r=e,s=!0;return Te.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(null!==o&&!i.has(o))return ct("IndexBackiller",`Processing collection: ${o}`),this.re(t,o,r).next(c=>{r-=c,i.add(o)});s=!1})).next(()=>e-r)}re(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.ie(r,s)).next(c=>(ct("IndexBackiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(t,e,c))).next(()=>o.size)}))}ie(t,e){let i=t;return e.changes.forEach((r,s)=>{const o=NG(s);kR(o,i)>0&&(i=o)}),new xa(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let wa=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function eb(n){return null==n}function tb(n){return 0===n&&1/n==-1/0}function BG(n){return"number"==typeof n&&Number.isInteger(n)&&!tb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function so(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=zG(t)),t=ime(n.get(e),t);return zG(t)}function ime(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function zG(n){return n+"\x01\x01"}function dc(n){const t=n.length;if(Zt(t>=2),2===t)return Zt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ci.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const o=n.indexOf("\x01",s);switch((o<0||o>e)&&Ft(),n.charAt(o+1)){case"\x01":const c=n.substring(s,o);let d;0===r.length?d=c:(r+=c,d=r,r=""),i.push(d);break;case"\x10":r+=n.substring(s,o),r+="\0";break;case"\x11":r+=n.substring(s,o+1);break;default:Ft()}s=o+2}return new ci(i)}const HG=["userId","batchId"];function YE(n,t){return[n,so(t)]}function UG(n,t,e){return[n,so(t),e]}const rme={},sme=["prefixPath","collectionGroup","readTime","documentId"],ome=["prefixPath","collectionGroup","documentId"],ame=["collectionGroup","readTime","prefixPath","documentId"],lme=["canonicalId","targetId"],cme=["targetId","path"],dme=["path","targetId"],ume=["collectionId","parent"],hme=["indexId","uid"],fme=["uid","sequenceNumber"],pme=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gme=["indexId","uid","orderedDocumentKey"],mme=["userId","collectionPath","documentId"],_me=["userId","collectionPath","largestBatchId"],vme=["userId","collectionGroup","largestBatchId"],jG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yme=[...jG,"documentOverlays"],WG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],GG=WG,bme=[...GG,"indexConfiguration","indexState","indexEntries"];class OR extends LG{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function Rs(n,t){const e=xt(n);return Tl.M(e.ae,t)}function $G(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function hu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function YG(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ar{constructor(t,e){this.comparator=t,this.root=e||js.EMPTY}insert(t,e){return new ar(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,js.BLACK,null,null))}remove(t){return new ar(this.comparator,this.root.remove(t,this.comparator).copy(null,null,js.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qE(this.root,t,this.comparator,!1)}getReverseIterator(){return new qE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qE(this.root,t,this.comparator,!0)}}class qE{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class js{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??js.RED,this.left=r??js.EMPTY,this.right=s??js.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new js(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return js.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return js.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,js.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,js.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const t=this.left.check();if(t!==this.right.check())throw Ft();return t+(this.isRed()?0:1)}}js.EMPTY=null,js.RED=!0,js.BLACK=!1,js.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(t,e,i,r,s){return this}insert(t,e,i){return new js(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ji{constructor(t){this.comparator=t,this.data=new ar(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new qG(this.data.getIterator())}getIteratorFrom(t){return new qG(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ji)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ji(this.comparator);return e.data=t,e}}class qG{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gg(n){return n.hasNext()?n.getNext():void 0}class Jo{constructor(t){this.fields=t,t.sort(pr.comparator)}static empty(){return new Jo([])}unionWith(t){let e=new ji(pr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Jo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ug(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class XG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vs{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new XG("Invalid base64 string: "+s):s}}(t);return new vs(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new vs(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return gn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vs.EMPTY_BYTE_STRING=new vs("");const wme=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fu(n){if(Zt(!!n),"string"==typeof n){let t=0;const e=wme.exec(n);if(Zt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Br(n.seconds),nanos:Br(n.nanos)}}function Br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function rd(n){return"string"==typeof n?vs.fromBase64String(n):vs.fromUint8Array(n)}function XE(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function ZE(n){const t=n.mapValue.fields.__previous_value__;return XE(t)?ZE(t):t}function nb(n){const t=fu(n.mapValue.fields.__local_write_time__.timestampValue);return new br(t.seconds,t.nanos)}class Cme{constructor(t,e,i,r,s,o,c,d,f){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f}}class pu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new pu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof pu&&t.projectId===this.projectId&&t.database===this.database}}const gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},KE={nullValue:"NULL_VALUE"};function mu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?XE(n)?4:JG(n)?9007199254740991:10:Ft()}function uc(n,t){if(n===t)return!0;const e=mu(n);if(e!==mu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return nb(n).isEqual(nb(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=fu(r.timestampValue),c=fu(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,rd(n.bytesValue).isEqual(rd(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return Br(r.geoPointValue.latitude)===Br(s.geoPointValue.latitude)&&Br(r.geoPointValue.longitude)===Br(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Br(r.integerValue)===Br(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Br(r.doubleValue),c=Br(s.doubleValue);return o===c?tb(o)===tb(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return Ug(n.arrayValue.values||[],t.arrayValue.values||[],uc);case 10:return function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if($G(o)!==$G(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(void 0===c[d]||!uc(o[d],c[d])))return!1;return!0}(n,t);default:return Ft()}var s}function ib(n,t){return void 0!==(n.values||[]).find(e=>uc(e,t))}function _u(n,t){if(n===t)return 0;const e=mu(n),i=mu(t);if(e!==i)return gn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return gn(n.booleanValue,t.booleanValue);case 2:return function(s,o){const c=Br(s.integerValue||s.doubleValue),d=Br(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return ZG(n.timestampValue,t.timestampValue);case 4:return ZG(nb(n),nb(t));case 5:return gn(n.stringValue,t.stringValue);case 6:return function(s,o){const c=rd(s),d=rd(o);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const c=s.split("/"),d=o.split("/");for(let f=0;f<c.length&&f<d.length;f++){const _=gn(c[f],d[f]);if(0!==_)return _}return gn(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const c=gn(Br(s.latitude),Br(o.latitude));return 0!==c?c:gn(Br(s.longitude),Br(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const c=s.values||[],d=o.values||[];for(let f=0;f<c.length&&f<d.length;++f){const _=_u(c[f],d[f]);if(_)return _}return gn(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===gu.mapValue&&o===gu.mapValue)return 0;if(s===gu.mapValue)return 1;if(o===gu.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),f=o.fields||{},_=Object.keys(f);d.sort(),_.sort();for(let x=0;x<d.length&&x<_.length;++x){const T=gn(d[x],_[x]);if(0!==T)return T;const M=_u(c[d[x]],f[_[x]]);if(0!==M)return M}return gn(d.length,_.length)}(n.mapValue,t.mapValue);default:throw Ft()}}function ZG(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return gn(n,t);const e=fu(n),i=fu(t),r=gn(e.seconds,i.seconds);return 0!==r?r:gn(e.nanos,i.nanos)}function $g(n){return PR(n)}function PR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=fu(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?rd(n.bytesValue).toBase64():"referenceValue"in n?Et.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=PR(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${PR(e.fields[o])}`;return r+"}"}(n.mapValue):Ft()}function $h(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function NR(n){return!!n&&"integerValue"in n}function rb(n){return!!n&&"arrayValue"in n}function KG(n){return!!n&&"nullValue"in n}function QG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function JE(n){return!!n&&"mapValue"in n}function sb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return hu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=sb(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=sb(n.arrayValue.values[e]);return t}return Object.assign({},n)}function JG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Eme(n){return"nullValue"in n?KE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?$h(pu.empty(),Et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ft()}function Dme(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?$h(pu.empty(),Et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?gu:Ft()}function e5(n,t){const e=_u(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function t5(n,t){const e=_u(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ws{constructor(t){this.value=t}static empty(){return new Ws({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!JE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=sb(e)}setAll(t){let e=pr.emptyPath(),i={},r=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){const d=this.getFieldsMap(e);this.applyChanges(d,i,r),i={},r=[],e=c.popLast()}o?i[c.lastSegment()]=sb(o):r.push(c.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());JE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return uc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];JE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){hu(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ws(sb(this.value))}}function n5(n){const t=[];return hu(n.fields,(e,i)=>{const r=new pr([e]);if(JE(i)){const s=n5(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new Jo(t)}class gr{constructor(t,e,i,r,s,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new gr(t,0,Kt.min(),Kt.min(),Kt.min(),Ws.empty(),0)}static newFoundDocument(t,e,i,r){return new gr(t,1,e,Kt.min(),i,r,0)}static newNoDocument(t,e){return new gr(t,2,e,Kt.min(),Kt.min(),Ws.empty(),0)}static newUnknownDocument(t,e){return new gr(t,3,e,Kt.min(),Kt.min(),Ws.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ws.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof gr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vu{constructor(t,e){this.position=t,this.inclusive=e}}function r5(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?Et.comparator(Et.fromName(o.referenceValue),e.key):_u(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function s5(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!uc(n.position[e],t.position[e]))return!1;return!0}class ob{constructor(t,e="asc"){this.field=t,this.dir=e}}function Tme(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class o5{}class ni extends o5{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Ime(t,e,i):"array-contains"===e?new kme(t,i):"in"===e?new h5(t,i):"not-in"===e?new Mme(t,i):"array-contains-any"===e?new Rme(t,i):new ni(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Sme(t,i):new Ame(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(_u(e,this.value)):null!==e&&mu(this.value)===mu(e)&&this.matchesComparison(_u(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends o5{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Li(t,e)}matches(t){return Yg(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Yg(n){return"and"===n.op}function FR(n){return"or"===n.op}function LR(n){return a5(n)&&Yg(n)}function a5(n){for(const t of n.filters)if(t instanceof Li)return!1;return!0}function VR(n){if(n instanceof ni)return n.field.canonicalString()+n.op.toString()+$g(n.value);if(LR(n))return n.filters.map(t=>VR(t)).join(",");{const t=n.filters.map(e=>VR(e)).join(",");return`${n.op}(${t})`}}function l5(n,t){return n instanceof ni?(i=n,(r=t)instanceof ni&&i.op===r.op&&i.field.isEqual(r.field)&&uc(i.value,r.value)):n instanceof Li?function(i,r){return r instanceof Li&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,c)=>s&&l5(o,r.filters[c]),!0)}(n,t):void Ft();var i,r}function c5(n,t){const e=n.filters.concat(t);return Li.create(e,n.op)}function d5(n){return n instanceof ni?`${(e=n).field.canonicalString()} ${e.op} ${$g(e.value)}`:n instanceof Li?function(e){return e.op.toString()+" {"+e.getFilters().map(d5).join(" ,")+"}"}(n):"Filter";var e}class Ime extends ni{constructor(t,e,i){super(t,e,i),this.key=Et.fromName(i.referenceValue)}matches(t){const e=Et.comparator(t.key,this.key);return this.matchesComparison(e)}}class Sme extends ni{constructor(t,e){super(t,"in",e),this.keys=u5(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Ame extends ni{constructor(t,e){super(t,"not-in",e),this.keys=u5(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function u5(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Et.fromName(i.referenceValue))}class kme extends ni{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return rb(e)&&ib(e.arrayValue,this.value)}}class h5 extends ni{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ib(this.value.arrayValue,e)}}class Mme extends ni{constructor(t,e){super(t,"not-in",e)}matches(t){if(ib(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ib(this.value.arrayValue,e)}}class Rme extends ni{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!rb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>ib(this.value.arrayValue,i))}}class Ome{constructor(t,e=null,i=[],r=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.ce=null}}function BR(n,t=null,e=[],i=[],r=null,s=null,o=null){return new Ome(n,t,e,i,r,s,o)}function Yh(n){const t=xt(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>VR(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),eb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>$g(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>$g(i)).join(",")),t.ce=e}return t.ce}function ab(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Tme(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!l5(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!s5(n.startAt,t.startAt)&&s5(n.endAt,t.endAt)}function eD(n){return Et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function tD(n,t){return n.filters.filter(e=>e instanceof ni&&e.field.isEqual(t))}function f5(n,t,e){let i=KE,r=!0;for(const s of tD(n,t)){let o=KE,c=!0;switch(s.op){case"<":case"<=":o=Eme(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,c=!1;break;case"!=":case"not-in":o=KE}e5({value:i,inclusive:r},{value:o,inclusive:c})<0&&(i=o,r=c)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];e5({value:i,inclusive:r},{value:o,inclusive:e.inclusive})<0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}function p5(n,t,e){let i=gu,r=!0;for(const s of tD(n,t)){let o=gu,c=!0;switch(s.op){case">=":case">":o=Dme(s.value),c=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,c=!1;break;case"!=":case"not-in":o=gu}t5({value:i,inclusive:r},{value:o,inclusive:c})>0&&(i=o,r=c)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];t5({value:i,inclusive:r},{value:o,inclusive:e.inclusive})>0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}class sd{constructor(t,e=null,i=[],r=[],s=null,o="F",c=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=d,this.le=null,this.he=null,this.Pe=null}}function g5(n,t,e,i,r,s,o,c){return new sd(n,t,e,i,r,s,o,c)}function qg(n){return new sd(n)}function m5(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function zR(n){return null!==n.collectionGroup}function Xg(n){const t=xt(n);if(null===t.le){t.le=[];const e=new Set;for(const s of t.explicitOrderBy)t.le.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ji(pr.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.le.push(new ob(s,i))}),e.has(pr.keyField().canonicalString())||t.le.push(new ob(pr.keyField(),i))}return t.le}function Ro(n){const t=xt(n);return t.he||(t.he=function _5(n,t){if("F"===n.limitType)return BR(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new ob(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new vu(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new vu(n.startAt.position,n.startAt.inclusive):null;return BR(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,Xg(n))),t.he}function HR(n,t){const e=n.filters.concat([t]);return new sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function nD(n,t,e){return new sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function lb(n,t){return ab(Ro(n),Ro(t))&&n.limitType===t.limitType}function v5(n){return`${Yh(Ro(n))}|lt:${n.limitType}`}function Zg(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>d5(r)).join(", ")}]`),eb(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>$g(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>$g(r)).join(",")),`Target(${i})`}(Ro(n))}; limitType=${n.limitType})`}function cb(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Et.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of Xg(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,c,d){const f=r5(o,c,d);return o.inclusive?f<=0:f<0}(i.startAt,Xg(i),r)||i.endAt&&!function(o,c,d){const f=r5(o,c,d);return o.inclusive?f>=0:f>0}(i.endAt,Xg(i),r)));var i,r}function y5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function b5(n){return(t,e)=>{let i=!1;for(const r of Xg(n)){const s=Pme(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Pme(n,t,e){const i=n.field.isKeyField()?Et.comparator(t.key,e.key):function(s,o,c){const d=o.data.field(s),f=c.data.field(s);return null!==d&&null!==f?_u(d,f):Ft()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ft()}}class od{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){hu(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return YG(this.inner)}size(){return this.innerSize}}const Nme=new ar(Et.comparator);function ea(){return Nme}const x5=new ar(Et.comparator);function db(...n){let t=x5;for(const e of n)t=t.insert(e.key,e);return t}function w5(n){let t=x5;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function hc(){return ub()}function C5(){return ub()}function ub(){return new od(n=>n.toString(),(n,t)=>n.isEqual(t))}const Fme=new ar(Et.comparator),Lme=new ji(Et.comparator);function Nn(...n){let t=Lme;for(const e of n)t=t.add(e);return t}const Vme=new ji(gn);function UR(){return Vme}function E5(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tb(t)?"-0":t}}function D5(n){return{integerValue:""+n}}function T5(n,t){return BG(t)?D5(t):E5(n,t)}class iD{constructor(){this._=void 0}}function Bme(n,t,e){return n instanceof Kg?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&XE(s)&&(s=ZE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof qh?S5(n,t):n instanceof Xh?A5(n,t):function(r,s){const o=I5(r,s),c=k5(o)+k5(r.Ie);return NR(o)&&NR(r.Ie)?D5(c):E5(r.serializer,c)}(n,t)}function zme(n,t,e){return n instanceof qh?S5(n,t):n instanceof Xh?A5(n,t):e}function I5(n,t){return n instanceof Qg?NR(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class Kg extends iD{}class qh extends iD{constructor(t){super(),this.elements=t}}function S5(n,t){const e=M5(t);for(const i of n.elements)e.some(r=>uc(r,i))||e.push(i);return{arrayValue:{values:e}}}class Xh extends iD{constructor(t){super(),this.elements=t}}function A5(n,t){let e=M5(t);for(const i of n.elements)e=e.filter(r=>!uc(r,i));return{arrayValue:{values:e}}}class Qg extends iD{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function k5(n){return Br(n.integerValue||n.doubleValue)}function M5(n){return rb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hb{constructor(t,e){this.field=t,this.transform=e}}class Ume{constructor(t,e){this.version=t,this.transformResults=e}}class xr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new xr}static exists(t){return new xr(void 0,t)}static updateTime(t){return new xr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function rD(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class sD{}function R5(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new em(n.key,xr.none()):new Jg(n.key,n.data,xr.none());{const e=n.data,i=Ws.empty();let r=new ji(pr.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new ad(n.key,i,new Jo(r.toArray()),xr.none())}}function jme(n,t,e){n instanceof Jg?function(r,s,o){const c=r.value.clone(),d=N5(r.fieldTransforms,s,o.transformResults);c.setAll(d),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof ad?function(r,s,o){if(!rD(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=N5(r.fieldTransforms,s,o.transformResults),d=s.data;d.setAll(P5(r)),d.setAll(c),s.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function fb(n,t,e,i){return n instanceof Jg?function(s,o,c,d){if(!rD(s.precondition,o))return c;const f=s.value.clone(),_=F5(s.fieldTransforms,d,o);return f.setAll(_),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof ad?function(s,o,c,d){if(!rD(s.precondition,o))return c;const f=F5(s.fieldTransforms,d,o),_=o.data;return _.setAll(P5(s)),_.setAll(f),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===c?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(x=>x.field))}(n,t,e,i):(c=e,rD(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function Wme(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=I5(i.transform,r||null);null!=s&&(null===e&&(e=Ws.empty()),e.set(i.field,s))}return e||null}function O5(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Ug(i,r,(s,o)=>function Hme(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof qh&&r instanceof qh||i instanceof Xh&&r instanceof Xh?Ug(i.elements,r.elements,uc):i instanceof Qg&&r instanceof Qg?uc(i.Ie,r.Ie):i instanceof Kg&&r instanceof Kg);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class Jg extends sD{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ad extends sD{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function P5(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function N5(n,t,e){const i=new Map;Zt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,c=t.data.field(s.field);i.set(s.field,zme(o,c,e[r]))}return i}function F5(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,Bme(s,o,t))}return i}class em extends sD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jR extends sD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WR{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&jme(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=fb(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=fb(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=C5();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=e.has(r.key)?null:c;const d=R5(o,c);null!==d&&i.set(r.key,d),o.isValidDocument()||o.convertToNoDocument(Kt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Nn())}isEqual(t){return this.batchId===t.batchId&&Ug(this.mutations,t.mutations,(e,i)=>O5(e,i))&&Ug(this.baseMutations,t.baseMutations,(e,i)=>O5(e,i))}}class GR{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Zt(t.mutations.length===i.length);let r=Fme;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new GR(t,e,i,r)}}class $R{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $me{constructor(t,e){this.count=t,this.unchangedNames=e}}var ss,di;function L5(n){switch(n){default:return Ft();case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0}}function V5(n){if(void 0===n)return Xr("GRPC error has no .code"),Le.UNKNOWN;switch(n){case ss.OK:return Le.OK;case ss.CANCELLED:return Le.CANCELLED;case ss.UNKNOWN:return Le.UNKNOWN;case ss.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case ss.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case ss.INTERNAL:return Le.INTERNAL;case ss.UNAVAILABLE:return Le.UNAVAILABLE;case ss.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case ss.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case ss.NOT_FOUND:return Le.NOT_FOUND;case ss.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case ss.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case ss.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case ss.ABORTED:return Le.ABORTED;case ss.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case ss.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case ss.DATA_LOSS:return Le.DATA_LOSS;default:return Ft()}}(di=ss||(ss={}))[di.OK=0]="OK",di[di.CANCELLED=1]="CANCELLED",di[di.UNKNOWN=2]="UNKNOWN",di[di.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",di[di.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",di[di.NOT_FOUND=5]="NOT_FOUND",di[di.ALREADY_EXISTS=6]="ALREADY_EXISTS",di[di.PERMISSION_DENIED=7]="PERMISSION_DENIED",di[di.UNAUTHENTICATED=16]="UNAUTHENTICATED",di[di.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",di[di.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",di[di.ABORTED=10]="ABORTED",di[di.OUT_OF_RANGE=11]="OUT_OF_RANGE",di[di.UNIMPLEMENTED=12]="UNIMPLEMENTED",di[di.INTERNAL=13]="INTERNAL",di[di.UNAVAILABLE=14]="UNAVAILABLE",di[di.DATA_LOSS=15]="DATA_LOSS";function B5(){return new TextEncoder}const Yme=new Bg([4294967295,4294967295],0);function z5(n){const t=B5().encode(n),e=new zge;return e.update(t),new Uint8Array(e.digest())}function H5(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Bg([e,i],0),new Bg([r,s],0)]}class YR{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new pb(`Invalid padding: ${e}`);if(i<0)throw new pb(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new pb(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new pb(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=Bg.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(Bg.fromNumber(i)));return 1===r.compare(Yme)&&(r=new Bg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=z5(t),[i,r]=H5(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new YR(s,r,e);return i.forEach(c=>o.insert(c)),o}insert(t){if(0===this.Te)return;const e=z5(t),[i,r]=H5(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class pb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gb{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,mb.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new gb(Kt.min(),r,new ar(gn),ea(),Nn())}}class mb{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new mb(i,e,Nn(),Nn(),Nn())}}class aD{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class U5{constructor(t,e){this.targetId=t,this.fe=e}}class j5{constructor(t,e,i=vs.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class W5{constructor(){this.ge=0,this.pe=$5(),this.ye=vs.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Nn(),e=Nn(),i=Nn();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Ft()}}),new mb(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=$5()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class qme{constructor(t){this.Le=t,this.ke=new Map,this.qe=ea(),this.Qe=G5(),this.Ke=new ar(gn)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:Ft()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const s=r.target;if(eD(s))if(0===i){const o=new Et(s.path);this.We(e,o,gr.newNoDocument(o,Kt.min()))}else Zt(1===i);else{const o=this.Ze(e);if(o!==i){const c=this.Xe(t),d=c?this.et(c,t,o):1;0!==d&&(this.He(e),this.Ke=this.Ke.insert(e,2===d?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,c;try{o=rd(i).toUint8Array()}catch(d){if(d instanceof XG)return Qo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new YR(o,r,s)}catch(d){return Qo(d instanceof pb?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return 0===c.Te?null:c}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.nt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.We(e,s,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((s,o)=>{const c=this.Ye(o);if(c){if(s.current&&eD(c.target)){const d=new Et(c.target.path);null!==this.qe.get(d)||this.st(o,d)||this.We(o,d,gr.newNoDocument(d,t))}s.De&&(e.set(o,s.ve()),s.Fe())}});let i=Nn();this.Qe.forEach((s,o)=>{let c=!0;o.forEachWhile(d=>{const f=this.Ye(d);return!f||"TargetPurposeLimboResolution"===f.purpose||(c=!1,!1)}),c&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new gb(t,e,this.Ke,this.qe,i);return this.qe=ea(),this.Qe=G5(),this.Ke=new ar(gn),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new W5,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new ji(gn),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||ct("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new W5),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function G5(){return new ar(Et.comparator)}function $5(){return new ar(Et.comparator)}const Xme={asc:"ASCENDING",desc:"DESCENDING"},Zme={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kme={and:"AND",or:"OR"};class Qme{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function qR(n,t){return n.useProto3Json||eb(t)?t:{value:t}}function tm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Y5(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Jme(n,t){return tm(n,t.toTimestamp())}function Zr(n){return Zt(!!n),Kt.fromTimestamp(function(e){const i=fu(e);return new br(i.seconds,i.nanos)}(n))}function XR(n,t){return(i=n,new ci(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function q5(n){const t=ci.fromString(n);return Zt(i$(t)),t}function _b(n,t){return XR(n.databaseId,t.path)}function fc(n,t){const e=q5(t);if(e.get(1)!==n.databaseId.projectId)throw new it(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new it(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Et(Z5(e))}function ZR(n,t){return XR(n.databaseId,t)}function X5(n){const t=q5(n);return 4===t.length?ci.emptyPath():Z5(t)}function vb(n){return new ci(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Z5(n){return Zt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function K5(n,t,e){return{name:_b(n,t),fields:e.value.mapValue.fields}}function Q5(n,t,e){const i=fc(n,t.name),r=Zr(t.updateTime),s=t.createTime?Zr(t.createTime):Kt.min(),o=new Ws({mapValue:{fields:t.fields}}),c=gr.newFoundDocument(i,r,s,o);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function yb(n,t){let e;if(t instanceof Jg)e={update:K5(n,t.key,t.value)};else if(t instanceof em)e={delete:_b(n,t.key)};else if(t instanceof ad)e={update:K5(n,t.key,t.data),updateMask:a_e(t.fieldMask)};else{if(!(t instanceof jR))return Ft();e={verify:_b(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const c=o.transform;if(c instanceof Kg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof qh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Xh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qg)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw Ft()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:Jme(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ft()),e;var s}function KR(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?xr.updateTime(Zr(s.updateTime)):void 0!==s.exists?xr.exists(s.exists):xr.none():xr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let d=null;"setToServerValue"in c?(Zt("REQUEST_TIME"===c.setToServerValue),d=new Kg):"appendMissingElements"in c?d=new qh(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new Xh(c.removeAllFromArray.values||[]):"increment"in c?d=new Qg(o,c.increment):Ft();const f=pr.fromServerFormat(c.fieldPath);return new hb(f,d)}(n,r)):[];var s;if(t.update){const r=fc(n,t.update.name),s=new Ws({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=new Jo((t.updateMask.fieldPaths||[]).map(_=>pr.fromServerFormat(_)));return new ad(r,s,o,e,i)}return new Jg(r,s,e,i)}if(t.delete){const r=fc(n,t.delete);return new em(r,e)}if(t.verify){const r=fc(n,t.verify);return new jR(r,e)}return Ft()}function J5(n,t){return{documents:[ZR(n,t.path)]}}function QR(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=ZR(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=ZR(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(d){if(0!==d.length)return n$(Li.create(d,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(d){if(0!==d.length)return d.map(f=>{return{field:yu((x=f).field),direction:r_e(x.dir)};var x})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=qR(n,t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),e;var d}function e$(n){let t=X5(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Zt(1===i);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let s=[];e.where&&(s=function(x){const T=t$(x);return T instanceof Li&&LR(T)?T.getFilters():[T]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(T=>{return new ob(nm((N=T).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let c=null;e.limit&&(c=function(x){let T;return T="object"==typeof x?x.value:x,eb(T)?null:T}(e.limit));let d=null;var x;e.startAt&&(d=new vu((x=e.startAt).values||[],!!x.before));let f=null;return e.endAt&&(f=function(x){return new vu(x.values||[],!x.before)}(e.endAt)),g5(t,r,o,s,c,"F",d,f)}function t$(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=nm(e.unaryFilter.field);return ni.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=nm(e.unaryFilter.field);return ni.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nm(e.unaryFilter.field);return ni.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=nm(e.unaryFilter.field);return ni.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(n):void 0!==n.fieldFilter?ni.create(nm((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Li.create(e.compositeFilter.filters.map(i=>t$(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ft()}}(e.compositeFilter.op))}(n):Ft();var e}function r_e(n){return Xme[n]}function s_e(n){return Zme[n]}function o_e(n){return Kme[n]}function yu(n){return{fieldPath:n.canonicalString()}}function nm(n){return pr.fromServerFormat(n.fieldPath)}function n$(n){return n instanceof ni?function(e){if("=="===e.op){if(QG(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NAN"}};if(KG(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(QG(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NOT_NAN"}};if(KG(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yu(e.field),op:s_e(e.op),value:e.value}}}(n):n instanceof Li?function(e){const i=e.getFilters().map(r=>n$(r));return 1===i.length?i[0]:{compositeFilter:{op:o_e(e.op),filters:i}}}(n):Ft()}function a_e(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function i$(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ld{constructor(t,e,i,r,s=Kt.min(),o=Kt.min(),c=vs.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(t){return new ld(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class r${constructor(t){this.ut=t}}function s$(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:lD(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:_b(s=n.ut,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:tm(s,o.version.toTimestamp()),createTime:tm(s,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Zh(t.version)};else{if(!t.isUnknownDocument())return Ft();i.unknownDocument={path:e.path.toArray(),version:Zh(t.version)}}var s,o;return i}function lD(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Zh(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Kh(n){const t=new br(n.seconds,n.nanoseconds);return Kt.fromTimestamp(t)}function Qh(n,t){const e=(t.baseMutations||[]).map(s=>KR(n.ut,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>KR(n.ut,s)),r=br.fromMillis(t.localWriteTimeMs);return new WR(t.batchId,r,e,i)}function bb(n){const t=Kh(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Kh(n.lastLimboFreeSnapshotVersion):Kt.min();let i;return i=void 0!==n.query.documents?(Zt(1===(s=n.query).documents.length),Ro(qg(X5(s.documents[0])))):function(s){return Ro(e$(s))}(n.query),new ld(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,vs.fromBase64String(n.resumeToken));var s}function o$(n,t){const e=Zh(t.snapshotVersion),i=Zh(t.lastLimboFreeSnapshotVersion);let r;r=eD(t.target)?J5(n.ut,t.target):QR(n.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Yh(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function JR(n){const t=e$({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?nD(t,t.limit,"L"):t}function eO(n,t){return new $R(t.largestBatchId,KR(n.ut,t.overlayMutation))}function a$(n,t){const e=t.path.lastSegment();return[n,so(t.path.popLast()),e]}function l$(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Zh(i.readTime),documentKey:so(i.documentKey.path),largestBatchId:i.largestBatchId}}class c_e{getBundleMetadata(t,e){return c$(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:Kh(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return c$(t).put({bundleId:(r=e).id,createTime:Zh(Zr(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return d$(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:JR(s.bundledQuery),readTime:Kh(s.readTime)};var s})}saveNamedQuery(t,e){return d$(t).put({name:(r=e).name,readTime:Zh(Zr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function c$(n){return Rs(n,"bundles")}function d$(n){return Rs(n,"namedQueries")}class cD{constructor(t,e){this.serializer=t,this.userId=e}static ct(t,e){return new cD(t,e.uid||"")}getOverlay(t,e){return xb(t).get(a$(this.userId,e)).next(i=>i?eO(this.serializer,i):null)}getOverlays(t,e){const i=hc();return Te.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,o)=>{const c=new $R(e,o);r.push(this.lt(t,c))}),Te.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(o=>r.add(so(o.getCollectionPath())));const s=[];return r.forEach(o=>{const c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(xb(t).H("collectionPathOverlayIndex",c))}),Te.waitFor(s)}getOverlaysForCollection(t,e,i){const r=hc(),s=so(e),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return xb(t).W("collectionPathOverlayIndex",o).next(c=>{for(const d of c){const f=eO(this.serializer,d);r.set(f.getKey(),f)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=hc();let o;const c=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return xb(t).Y({index:"collectionGroupOverlayIndex",range:c},(d,f,_)=>{const x=eO(this.serializer,f);s.size()<r||x.largestBatchId===o?(s.set(x.getKey(),x),o=x.largestBatchId):_.done()}).next(()=>s)}lt(t,e){return xb(t).put(function(r,s,o){const[c,d,f]=a$(s,o.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:yb(r.ut,o.mutation)}}(this.serializer,this.userId,e))}}function xb(n){return Rs(n,"documentOverlays")}class Jh{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(Br(t.integerValue));else if("doubleValue"in t){const i=Br(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),tb(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(rd(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?JG(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):Ft()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),Et.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}function d_e(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function u$(n){const t=64-function(i){let r=0;for(let s=0;s<8;++s){const o=d_e(255&i[s]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(t/8)}Jh.St=new Jh;class u_e{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Dt(i.value),i=e.next();this.Ct()}vt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=e.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(t){const e=this.Bt(t),i=u$(e);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}kt(t){const e=this.Bt(t),i=u$(e);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(t){this.Lt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ut(){return this.buffer.slice(0,this.position)}Bt(t){const e=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Dt(t){const e=255&t;0===e?(this.Qt(0),this.Qt(255)):255===e?(this.Qt(255),this.Qt(0)):this.Qt(e)}Ft(t){const e=255&t;0===e?(this.$t(0),this.$t(255)):255===e?(this.$t(255),this.$t(0)):this.$t(t)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(t){this.Lt(1),this.buffer[this.position++]=t}$t(t){this.Lt(1),this.buffer[this.position++]=~t}Lt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class h_e{constructor(t){this.Wt=t}Vt(t){this.Wt.bt(t)}dt(t){this.Wt.xt(t)}Et(t){this.Wt.Nt(t)}It(){this.Wt.qt()}}class f_e{constructor(t){this.Wt=t}Vt(t){this.Wt.vt(t)}dt(t){this.Wt.Ot(t)}Et(t){this.Wt.kt(t)}It(){this.Wt.Kt()}}class wb{constructor(){this.Wt=new u_e,this.Gt=new h_e(this.Wt),this.zt=new f_e(this.Wt)}seed(t){this.Wt.seed(t)}jt(t){return 0===t?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class ef{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ht(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new ef(this.indexId,this.documentKey,this.arrayValue,i)}}function bu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=h$(n.arrayValue,t.arrayValue),0!==e?e:(e=h$(n.directionalValue,t.directionalValue),0!==e?e:Et.comparator(n.documentKey,t.documentKey)))}function h$(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class f${constructor(t){this.Jt=new ji((e,i)=>pr.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];for(const e of t.filters){const i=e;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(t){if(Zt(t.collectionGroup===this.collectionId),this.Xt)return!1;const e=AR(t);if(void 0!==e&&!this.tn(e))return!1;const i=jh(t);let r=new Set,s=0,o=0;for(;s<i.length&&this.tn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Jt.size>0){const c=this.Jt.getIterator().getNext();if(!r.has(c.field.canonicalString())){const d=i[s];if(!this.nn(c,d)||!this.rn(this.Yt[o++],d))return!1}++s}for(;s<i.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],i[s]))return!1;return!0}sn(){if(this.Xt)return null;let t=new ji(pr.comparator);const e=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new Wh(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Wh(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Wh(i.field,"asc"===i.dir?0:1)));return new jg(jg.UNKNOWN_ID,this.collectionId,e,Wg.empty())}tn(t){for(const e of this.Zt)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}rn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function p$(n){var t,e;if(Zt(n instanceof ni||n instanceof Li),n instanceof ni){if(n instanceof h5){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>ni.create(n.field,"==",s)))||[];return Li.create(r,"or")}return n}const i=n.filters.map(r=>p$(r));return Li.create(i,n.op)}function p_e(n){if(0===n.getFilters().length)return[];const t=iO(p$(n));return Zt(g$(t)),tO(t)||nO(t)?[t]:t.getFilters()}function tO(n){return n instanceof ni}function nO(n){return n instanceof Li&&LR(n)}function g$(n){return tO(n)||nO(n)||function(e){if(e instanceof Li&&FR(e)){for(const i of e.getFilters())if(!tO(i)&&!nO(i))return!1;return!0}return!1}(n)}function iO(n){if(Zt(n instanceof ni||n instanceof Li),n instanceof ni)return n;if(1===n.filters.length)return iO(n.filters[0]);const t=n.filters.map(i=>iO(i));let e=Li.create(t,n.op);return e=dD(e),g$(e)?e:(Zt(e instanceof Li),Zt(Yg(e)),Zt(e.filters.length>1),e.filters.reduce((i,r)=>rO(i,r)))}function rO(n,t){let e;return Zt(n instanceof ni||n instanceof Li),Zt(t instanceof ni||t instanceof Li),e=n instanceof ni?t instanceof ni?Li.create([n,t],"and"):m$(n,t):t instanceof ni?m$(t,n):function(r,s){if(Zt(r.filters.length>0&&s.filters.length>0),Yg(r)&&Yg(s))return c5(r,s.getFilters());const o=FR(r)?r:s,c=FR(r)?s:r,d=o.filters.map(f=>rO(f,c));return Li.create(d,"or")}(n,t),dD(e)}function m$(n,t){if(Yg(t))return c5(t,n.getFilters());{const e=t.filters.map(i=>rO(n,i));return Li.create(e,"or")}}function dD(n){if(Zt(n instanceof ni||n instanceof Li),n instanceof ni)return n;const t=n.getFilters();if(1===t.length)return dD(t[0]);if(a5(n))return n;const e=t.map(r=>dD(r)),i=[];return e.forEach(r=>{r instanceof ni?i.push(r):r instanceof Li&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Li.create(i,n.op)}class g_e{constructor(){this.on=new sO}addToCollectionParentIndex(t,e){return this.on.add(e),Te.resolve()}getCollectionParents(t,e){return Te.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return Te.resolve()}deleteFieldIndex(t,e){return Te.resolve()}deleteAllFieldIndexes(t){return Te.resolve()}createTargetIndexes(t,e){return Te.resolve()}getDocumentsMatchingTarget(t,e){return Te.resolve(null)}getIndexType(t,e){return Te.resolve(0)}getFieldIndexes(t,e){return Te.resolve([])}getNextCollectionGroupToUpdate(t){return Te.resolve(null)}getMinOffset(t,e){return Te.resolve(xa.min())}getMinOffsetFromCollectionGroup(t,e){return Te.resolve(xa.min())}updateCollectionGroup(t,e,i){return Te.resolve()}updateIndexEntries(t,e){return Te.resolve()}}class sO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new ji(ci.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ji(ci.comparator)).toArray()}}const uD=new Uint8Array(0);class m_e{constructor(t,e){this.user=t,this.databaseId=e,this._n=new sO,this.an=new od(i=>Yh(i),(i,r)=>ab(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this._n.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this._n.add(e)});const s={collectionId:i,parent:so(r)};return _$(t).put(s)}return Te.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[OG(e),""],!1,!0);return _$(t).W(r).next(s=>{for(const o of s){if(o.collectionId!==e)break;i.push(dc(o.parent))}return i})}addFieldIndex(t,e){const i=Cb(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(e.indexState){const o=rm(t);return s.next(c=>{o.put(l$(c,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=Cb(t),r=rm(t),s=im(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Cb(t),i=im(t),r=rm(t);return e.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(t,e){return Te.forEach(this.un(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const s=new f$(i).sn();if(null!=s)return this.addFieldIndex(t,s)}}))}getDocumentsMatchingTarget(t,e){const i=im(t);let r=!0;const s=new Map;return Te.forEach(this.un(e),o=>this.cn(t,o).next(c=>{r&&(r=!!c),s.set(o,c)})).next(()=>{if(r){let o=Nn();const c=[];return Te.forEach(s,(d,f)=>{var oe;ct("IndexedDbIndexManager",`Using index ${oe=d,`id=${oe.indexId}|cg=${oe.collectionGroup}|f=${oe.fields.map(pe=>`${pe.fieldPath}:${pe.kind}`).join(",")}`} to execute ${Yh(e)}`);const _=function(oe,pe){const Ie=AR(pe);if(void 0===Ie)return null;for(const Xe of tD(oe,Ie.fieldPath))switch(Xe.op){case"array-contains-any":return Xe.value.arrayValue.values||[];case"array-contains":return[Xe.value]}return null}(f,d),x=function(oe,pe){const Ie=new Map;for(const Xe of jh(pe))for(const pt of tD(oe,Xe.fieldPath))switch(pt.op){case"==":case"in":Ie.set(Xe.fieldPath.canonicalString(),pt.value);break;case"not-in":case"!=":return Ie.set(Xe.fieldPath.canonicalString(),pt.value),Array.from(Ie.values())}return null}(f,d),T=function(oe,pe){const Ie=[];let Xe=!0;for(const pt of jh(pe)){const ft=0===pt.kind?f5(oe,pt.fieldPath,oe.startAt):p5(oe,pt.fieldPath,oe.startAt);Ie.push(ft.value),Xe&&(Xe=ft.inclusive)}return new vu(Ie,Xe)}(f,d),M=function(oe,pe){const Ie=[];let Xe=!0;for(const pt of jh(pe)){const ft=0===pt.kind?p5(oe,pt.fieldPath,oe.endAt):f5(oe,pt.fieldPath,oe.endAt);Ie.push(ft.value),Xe&&(Xe=ft.inclusive)}return new vu(Ie,Xe)}(f,d),N=this.ln(d,f,T),V=this.ln(d,f,M),U=this.hn(d,f,x),re=this.Pn(d.indexId,_,N,T.inclusive,V,M.inclusive,U);return Te.forEach(re,te=>i.j(te,e.limit).next(oe=>{oe.forEach(pe=>{const Ie=Et.fromSegments(pe.documentKey);o.has(Ie)||(o=o.add(Ie),c.push(Ie))})}))}).next(()=>c)}return Te.resolve(null)})}un(t){let e=this.an.get(t);return e||(e=0===t.filters.length?[t]:p_e(Li.create(t.filters,"and")).map(i=>BR(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.an.set(t,e),e)}Pn(t,e,i,r,s,o,c){const d=(null!=e?e.length:1)*Math.max(i.length,s.length),f=d/(null!=e?e.length:1),_=[];for(let x=0;x<d;++x){const T=e?this.In(e[x/f]):uD,M=this.Tn(t,T,i[x%f],r),N=this.En(t,T,s[x%f],o),V=c.map(U=>this.Tn(t,T,U,!0));_.push(...this.createRange(M,N,V))}return _}Tn(t,e,i,r){const s=new ef(t,Et.empty(),e,i);return r?s:s.Ht()}En(t,e,i,r){const s=new ef(t,Et.empty(),e,i);return r?s.Ht():s}cn(t,e){const i=new f$(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let o=null;for(const c of s)i.en(c)&&(!o||c.fields.length>o.fields.length)&&(o=c);return o})}getIndexType(t,e){let i=2;const r=this.un(e);return Te.forEach(r,s=>this.cn(t,s).next(o=>{o?0!==i&&o.fields.length<function(d){let f=new ji(pr.comparator),_=!1;for(const x of d.filters)for(const T of x.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?_=!0:f=f.add(T.field));for(const x of d.orderBy)x.field.isKeyField()||(f=f.add(x.field));return f.size+(_?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}dn(t,e){const i=new wb;for(const r of jh(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const o=i.jt(r.kind);Jh.St.ht(s,o)}return i.Ut()}In(t){const e=new wb;return Jh.St.ht(t,e.jt(0)),e.Ut()}An(t,e){const i=new wb;return Jh.St.ht($h(this.databaseId,e),i.jt(function(s){const o=jh(s);return 0===o.length?0:o[o.length-1].kind}(t))),i.Ut()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new wb);let s=0;for(const o of jh(t)){const c=i[s++];for(const d of r)if(this.Rn(e,o.fieldPath)&&rb(c))r=this.Vn(r,o,c);else{const f=d.jt(o.kind);Jh.St.ht(c,f)}}return this.mn(r)}ln(t,e,i){return this.hn(t,e,i.position)}mn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ut();return e}Vn(t,e,i){const r=[...t],s=[];for(const o of i.arrayValue.values||[])for(const c of r){const d=new wb;d.seed(c.Ut()),Jh.St.ht(o,d.jt(e.kind)),s.push(d)}return s}Rn(t,e){return!!t.filters.find(i=>i instanceof ni&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Cb(t),r=rm(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const o=[];return Te.forEach(s,c=>r.get([c.indexId,this.uid]).next(d=>{o.push(function(_,x){const T=x?new Wg(x.sequenceNumber,new xa(Kh(x.readTime),new Et(dc(x.documentKey)),x.largestBatchId)):Wg.empty(),M=_.fields.map(([N,V])=>new Wh(pr.fromServerFormat(N),V));return new jg(_.indexId,_.collectionGroup,M,T)}(c,d))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:gn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Cb(t),s=rm(t);return this.fn(t).next(o=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(c=>Te.forEach(c,d=>s.put(l$(d.indexId,this.user,o,i)))))}updateIndexEntries(t,e){const i=new Map;return Te.forEach(e,(r,s)=>{const o=i.get(r.collectionGroup);return(o?Te.resolve(o):this.getFieldIndexes(t,r.collectionGroup)).next(c=>(i.set(r.collectionGroup,c),Te.forEach(c,d=>this.gn(t,r,d).next(f=>{const _=this.pn(s,d);return f.isEqual(_)?Te.resolve():this.yn(t,s,d,f,_)}))))})}wn(t,e,i,r){return im(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,e.key),documentKey:e.key.path.toArray()})}Sn(t,e,i,r){return im(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,e.key),e.key.path.toArray()])}gn(t,e,i){const r=im(t);let s=new ji(bu);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,e)])},(o,c)=>{s=s.add(new ef(i.indexId,e,c.arrayValue,c.directionalValue))}).next(()=>s)}pn(t,e){let i=new ji(bu);const r=this.dn(e,t);if(null==r)return i;const s=AR(e);if(null!=s){const o=t.data.field(s.fieldPath);if(rb(o))for(const c of o.arrayValue.values||[])i=i.add(new ef(e.indexId,t.key,this.In(c),r))}else i=i.add(new ef(e.indexId,t.key,uD,r));return i}yn(t,e,i,r,s){ct("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(d,f,_,x,T){const M=d.getIterator(),N=f.getIterator();let V=Gg(M),U=Gg(N);for(;V||U;){let re=!1,te=!1;if(V&&U){const oe=_(V,U);oe<0?te=!0:oe>0&&(re=!0)}else null!=V?te=!0:re=!0;re?(x(U),U=Gg(N)):te?(T(V),V=Gg(M)):(V=Gg(M),U=Gg(N))}}(r,s,bu,c=>{o.push(this.wn(t,e,i,c))},c=>{o.push(this.Sn(t,e,i,c))}),Te.waitFor(o)}fn(t){let e=1;return rm(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((o,c)=>bu(o,c)).filter((o,c,d)=>!c||0!==bu(o,d[c-1]));const r=[];r.push(t);for(const o of i){const c=bu(o,t),d=bu(o,e);if(0===c)r[0]=t.Ht();else if(c>0&&d<0)r.push(o),r.push(o.Ht());else if(d>0)break}r.push(e);const s=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];s.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,uD,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,uD,[]]))}return s}bn(t,e){return bu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(v$)}getMinOffset(t,e){return Te.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||Ft())).next(v$)}}function _$(n){return Rs(n,"collectionParents")}function im(n){return Rs(n,"indexEntries")}function Cb(n){return Rs(n,"indexConfiguration")}function rm(n){return Rs(n,"indexState")}function v$(n){Zt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;kR(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new xa(t.readTime,t.documentKey,e)}const y$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new oo(t,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function b$(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(e.batchId);let c=0;const d=i.Y({range:o},(_,x,T)=>(c++,T.delete()));s.push(d.next(()=>{Zt(1===c)}));const f=[];for(const _ of e.mutations){const x=UG(t,_.key.path,e.batchId);s.push(r.delete(x)),f.push(_.key)}return Te.waitFor(s).next(()=>f)}function hD(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Ft();t=n.noDocument}return JSON.stringify(t).length}oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);class fD{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(t,e,i,r){Zt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new fD(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xu(t).Y({index:"userMutationsIndex",range:i},(r,s,o)=>{e=!1,o.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=sm(t),o=xu(t);return o.add({}).next(c=>{Zt("number"==typeof c);const d=new WR(c,e,i,r),f=function(M,N,V){const U=V.baseMutations.map(te=>yb(M.ut,te)),re=V.mutations.map(te=>yb(M.ut,te));return{userId:N,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:U,mutations:re}}(this.serializer,this.userId,d),_=[];let x=new ji((T,M)=>gn(T.canonicalString(),M.canonicalString()));for(const T of r){const M=UG(this.userId,T.key.path,c);x=x.add(T.key.path.popLast()),_.push(o.put(f)),_.push(s.put(M,rme))}return x.forEach(T=>{_.push(this.indexManager.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(()=>{this.Dn[c]=d.keys()}),Te.waitFor(_).next(()=>d)})}lookupMutationBatch(t,e){return xu(t).get(e).next(i=>i?(Zt(i.userId===this.userId),Qh(this.serializer,i)):null)}Cn(t,e){return this.Dn[e]?Te.resolve(this.Dn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Dn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return xu(t).Y({index:"userMutationsIndex",range:r},(o,c,d)=>{c.userId===this.userId&&(Zt(c.batchId>=i),s=Qh(this.serializer,c)),d.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return xu(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xu(t).W("userMutationsIndex",e).next(i=>i.map(r=>Qh(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=YE(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return sm(t).Y({range:r},(o,c,d)=>{const[f,_,x]=o,T=dc(_);if(f===this.userId&&e.path.isEqual(T))return xu(t).get(x).next(M=>{if(!M)throw Ft();Zt(M.userId===this.userId),s.push(Qh(this.serializer,M))});d.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ji(gn);const r=[];return e.forEach(s=>{const o=YE(this.userId,s.path),c=IDBKeyRange.lowerBound(o),d=sm(t).Y({range:c},(f,_,x)=>{const[T,M,N]=f,V=dc(M);T===this.userId&&s.path.isEqual(V)?i=i.add(N):x.done()});r.push(d)}),Te.waitFor(r).next(()=>this.vn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=YE(this.userId,i),o=IDBKeyRange.lowerBound(s);let c=new ji(gn);return sm(t).Y({range:o},(d,f,_)=>{const[x,T,M]=d,N=dc(T);x===this.userId&&i.isPrefixOf(N)?N.length===r&&(c=c.add(M)):_.done()}).next(()=>this.vn(t,c))}vn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(xu(t).get(s).next(o=>{if(null===o)throw Ft();Zt(o.userId===this.userId),i.push(Qh(this.serializer,o))}))}),Te.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return b$(t.ae,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Fn(e.batchId)}),Te.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Fn(t){delete this.Dn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Te.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return sm(t).Y({range:i},(s,o,c)=>{if(s[0]===this.userId){const d=dc(s[1]);r.push(d)}else c.done()}).next(()=>{Zt(0===r.length)})})}containsKey(t,e){return x$(t,this.userId,e)}Mn(t){return w$(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function x$(n,t,e){const i=YE(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return sm(n).Y({range:s,J:!0},(c,d,f)=>{const[_,x,T]=c;_===t&&x===r&&(o=!0),f.done()}).next(()=>o)}function xu(n){return Rs(n,"mutations")}function sm(n){return Rs(n,"documentMutations")}function w$(n){return Rs(n,"mutationQueues")}class tf{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new tf(0)}static Nn(){return new tf(-1)}}class __e{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Bn(t).next(e=>{const i=new tf(e.highestTargetId);return e.highestTargetId=i.next(),this.Ln(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(e=>Kt.fromTimestamp(new br(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Ln(t,r)))}addTargetData(t,e){return this.kn(t,e).next(()=>this.Bn(t).next(i=>(i.targetCount+=1,this.qn(e,i),this.Ln(t,i))))}updateTargetData(t,e){return this.kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>om(t).delete(e.targetId)).next(()=>this.Bn(t)).next(i=>(Zt(i.targetCount>0),i.targetCount-=1,this.Ln(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return om(t).Y((o,c)=>{const d=bb(c);d.sequenceNumber<=e&&null===i.get(d.targetId)&&(r++,s.push(this.removeTargetData(t,d)))}).next(()=>Te.waitFor(s)).next(()=>r)}forEachTarget(t,e){return om(t).Y((i,r)=>{const s=bb(r);e(s)})}Bn(t){return C$(t).get("targetGlobalKey").next(e=>(Zt(null!==e),e))}Ln(t,e){return C$(t).put("targetGlobalKey",e)}kn(t,e){return om(t).put(o$(this.serializer,e))}qn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Yh(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return om(t).Y({range:r,index:"queryTargetsIndex"},(o,c,d)=>{const f=bb(c);ab(e,f.target)&&(s=f,d.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=wu(t);return e.forEach(o=>{const c=so(o.path);r.push(s.put({targetId:i,path:c})),r.push(this.referenceDelegate.addReference(t,i,o))}),Te.waitFor(r)}removeMatchingKeys(t,e,i){const r=wu(t);return Te.forEach(e,s=>{const o=so(s.path);return Te.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=wu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=wu(t);let s=Nn();return r.Y({range:i,J:!0},(o,c,d)=>{const f=dc(o[1]),_=new Et(f);s=s.add(_)}).next(()=>s)}containsKey(t,e){const i=so(e.path),r=IDBKeyRange.bound([i],[OG(i)],!1,!0);let s=0;return wu(t).Y({index:"documentTargetsIndex",J:!0,range:r},([o,c],d,f)=>{0!==o&&(s++,f.done())}).next(()=>s>0)}_t(t,e){return om(t).get(e).next(i=>i?bb(i):null)}}function om(n){return Rs(n,"targets")}function C$(n){return Rs(n,"targetGlobal")}function wu(n){return Rs(n,"targetDocuments")}function E$([n,t],[e,i]){const r=gn(n,e);return 0===r?gn(t,i):r}class v_e{constructor(t){this.Qn=t,this.buffer=new ji(E$),this.Kn=0}$n(){return++this.Kn}Un(t){const e=[t,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();E$(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class D${constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(t){var e=this;ct("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,qe.Z)(function*(){e.Wn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){uu(i)?ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield du(i)}yield e.Gn(3e5)}))}}class y_e{constructor(t,e){this.zn=t,this.params=e}calculateTargetCount(t,e){return this.zn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Te.resolve(wa._e);const i=new v_e(e);return this.zn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(y$)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y$):this.Jn(t,e))}getCacheSize(t){return this.zn.getCacheSize(t)}Jn(t,e){let i,r,s,o,c,d,f;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,o=Date.now(),this.nthSequenceNumber(t,r))).next(x=>(i=x,c=Date.now(),this.removeTargets(t,i,e))).next(x=>(s=x,d=Date.now(),this.removeOrphanedDocuments(t,i))).next(x=>(f=Date.now(),Hg()<=_a.in.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-_}ms\n\tDetermined least recently used ${r} in `+(c-o)+`ms\n\tRemoved ${s} targets in `+(d-c)+`ms\n\tRemoved ${x} documents in `+(f-d)+`ms\nTotal Duration: ${f-_}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:x})))}}class b_e{constructor(t,e){this.db=t,this.garbageCollector=function T$(n,t){return new y_e(n,t)}(this,e)}jn(t){const e=this.Yn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Yn(t){let e=0;return this.Hn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Hn(t,e){return this.Zn(t,(i,r)=>e(r))}addReference(t,e,i){return pD(t,i)}removeReference(t,e,i){return pD(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return pD(t,e)}Xn(t,e){return function(r,s){let o=!1;return w$(r).Z(c=>x$(r,c,s).next(d=>(d&&(o=!0),Te.resolve(!d)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Zn(t,(o,c)=>{if(c<=e){const d=this.Xn(t,o).next(f=>{if(!f)return s++,i.getEntry(t,o).next(()=>(i.removeEntry(o,Kt.min()),wu(t).delete([0,so(o.path)])))});r.push(d)}}).next(()=>Te.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return pD(t,e)}Zn(t,e){const i=wu(t);let r,s=wa._e;return i.Y({index:"documentTargetsIndex"},([o,c],{path:d,sequenceNumber:f})=>{0===o?(s!==wa._e&&e(new Et(dc(r)),s),s=f,r=d):s=wa._e}).next(()=>{s!==wa._e&&e(new Et(dc(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function pD(n,t){return wu(n).put((r=n.currentSequenceNumber,{targetId:0,path:so(t.path),sequenceNumber:r}));var r}class I${constructor(){this.changes=new od(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,gr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Te.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class x_e{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return nf(t).put(i)}removeEntry(t,e,i){return nf(t).delete(function(s,o){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],lD(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.er(t,i)))}getEntry(t,e){let i=gr.newInvalidDocument(e);return nf(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Eb(e))},(r,s)=>{i=this.tr(e,s)}).next(()=>i)}nr(t,e){let i={size:0,document:gr.newInvalidDocument(e)};return nf(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Eb(e))},(r,s)=>{i={document:this.tr(e,s),size:hD(s)}}).next(()=>i)}getEntries(t,e){let i=ea();return this.rr(t,e,(r,s)=>{const o=this.tr(r,s);i=i.insert(r,o)}).next(()=>i)}ir(t,e){let i=ea(),r=new ar(Et.comparator);return this.rr(t,e,(s,o)=>{const c=this.tr(s,o);i=i.insert(s,c),r=r.insert(s,hD(o))}).next(()=>({documents:i,sr:r}))}rr(t,e,i){if(e.isEmpty())return Te.resolve();let r=new ji(M$);e.forEach(d=>r=r.add(d));const s=IDBKeyRange.bound(Eb(r.first()),Eb(r.last())),o=r.getIterator();let c=o.getNext();return nf(t).Y({index:"documentKeyIndex",range:s},(d,f,_)=>{const x=Et.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&M$(c,x)<0;)i(c,null),c=o.getNext();c&&c.isEqual(x)&&(i(c,f),c=o.hasNext()?o.getNext():null),c?_.U(Eb(c)):_.done()}).next(()=>{for(;c;)i(c,null),c=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,s){const o=e.path,c=[o.popLast().toArray(),o.lastSegment(),lD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nf(t).W(IDBKeyRange.bound(c,d,!0)).next(f=>{s?.incrementDocumentReadCount(f.length);let _=ea();for(const x of f){const T=this.tr(Et.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);T.isFoundDocument()&&(cb(e,T)||r.has(T.key))&&(_=_.insert(T.key,T))}return _})}getAllFromCollectionGroup(t,e,i,r){let s=ea();const o=k$(e,i),c=k$(e,xa.max());return nf(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,c,!0)},(d,f,_)=>{const x=this.tr(Et.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(x.key,x),s.size===r&&_.done()}).next(()=>s)}newChangeBuffer(t){return new w_e(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return A$(t).get("remoteDocumentGlobalKey").next(e=>(Zt(!!e),e))}er(t,e){return A$(t).put("remoteDocumentGlobalKey",e)}tr(t,e){if(e){const i=function l_e(n,t){let e;if(t.document)e=Q5(n.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Et.fromSegments(t.noDocument.path),r=Kh(t.noDocument.readTime);e=gr.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ft();{const i=Et.fromSegments(t.unknownDocument.path),r=Kh(t.unknownDocument.version);e=gr.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const s=new br(r[0],r[1]);return Kt.fromTimestamp(s)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Kt.min()))return i}return gr.newInvalidDocument(t)}}function S$(n){return new x_e(n)}class w_e extends I${constructor(t,e){super(),this._r=t,this.trackRemovals=e,this.ar=new od(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new ji((s,o)=>gn(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const c=this.ar.get(s);if(e.push(this._r.removeEntry(t,s,c.readTime)),o.isValidDocument()){const d=s$(this._r.serializer,o);r=r.add(s.path.popLast());const f=hD(d);i+=f-c.size,e.push(this._r.addEntry(t,s,d))}else if(i-=c.size,this.trackRemovals){const d=s$(this._r.serializer,o.convertToNoDocument(Kt.min()));e.push(this._r.addEntry(t,s,d))}}),r.forEach(s=>{e.push(this._r.indexManager.addToCollectionParentIndex(t,s))}),e.push(this._r.updateMetadata(t,i)),Te.waitFor(e)}getFromCache(t,e){return this._r.nr(t,e).next(i=>(this.ar.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this._r.ir(t,e).next(({documents:i,sr:r})=>(r.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:i.get(s).readTime})}),i))}}function A$(n){return Rs(n,"remoteDocumentGlobal")}function nf(n){return Rs(n,"remoteDocumentsV14")}function Eb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function k$(n,t){const e=t.documentKey.path.toArray();return[n,lD(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function M$(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=gn(e[s],i[s]),r)return r;return r=gn(e.length,i.length),r||(r=gn(e[e.length-2],i[i.length-2]),r||gn(e[e.length-1],i[i.length-1]))}class C_e{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class R${constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&fb(i.mutation,r,Jo.empty(),br.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Nn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Nn()){const r=hc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=db();return s.forEach((c,d)=>{o=o.insert(c,d.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=hc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Nn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,i,r){let s=ea();const o=ub(),c=ub();return e.forEach((d,f)=>{const _=i.get(f.key);r.has(f.key)&&(void 0===_||_.mutation instanceof ad)?s=s.insert(f.key,f):void 0!==_?(o.set(f.key,_.mutation.getFieldMask()),fb(_.mutation,f,_.mutation.getFieldMask(),br.now())):o.set(f.key,Jo.empty())}),this.recalculateAndSaveOverlays(t,s).next(d=>(d.forEach((f,_)=>o.set(f,_)),e.forEach((f,_)=>{var x;return c.set(f,new C_e(_,null!==(x=o.get(f))&&void 0!==x?x:null))}),c))}recalculateAndSaveOverlays(t,e){const i=ub();let r=new ar((o,c)=>o-c),s=Nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const c of o)c.keys().forEach(d=>{const f=e.get(d);if(null===f)return;let _=i.get(d)||Jo.empty();_=c.applyToLocalView(f,_),i.set(d,_);const x=(r.get(c.batchId)||Nn()).add(d);r=r.insert(c.batchId,x)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,_=d.value,x=C5();_.forEach(T=>{if(!s.has(T)){const M=R5(e.get(T),i.get(T));null!==M&&x.set(T,M),s=s.add(T)}}),o.push(this.documentOverlayCache.saveOverlays(t,f,x))}return Te.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return Et.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):zR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Te.resolve(hc());let c=-1,d=s;return o.next(f=>Te.forEach(f,(_,x)=>(c<x.largestBatchId&&(c=x.largestBatchId),s.get(_)?Te.resolve():this.remoteDocumentCache.getEntry(t,_).next(T=>{d=d.insert(_,T)}))).next(()=>this.populateOverlays(t,f,s)).next(()=>this.computeViews(t,d,f,Nn())).next(_=>({batchId:c,changes:w5(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Et(e)).next(i=>{let r=db();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=db();return this.indexManager.getCollectionParents(t,s).next(c=>Te.forEach(c,d=>{const f=(x=e,T=d.child(s),new sd(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,T;return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next(_=>{_.forEach((x,T)=>{o=o.insert(x,T)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((d,f)=>{const _=f.getKey();null===o.get(_)&&(o=o.insert(_,gr.newInvalidDocument(_)))});let c=db();return o.forEach((d,f)=>{const _=s.get(d);void 0!==_&&fb(_.mutation,f,Jo.empty(),br.now()),cb(e,f)&&(c=c.insert(d,f))}),c})}}class E_e{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return Te.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:Zr(r.createTime)}),Te.resolve();var r}getNamedQuery(t,e){return Te.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:JR(r.bundledQuery),readTime:Zr(r.readTime)}),Te.resolve();var r}}class D_e{constructor(){this.overlays=new ar(Et.comparator),this.lr=new Map}getOverlay(t,e){return Te.resolve(this.overlays.get(e))}getOverlays(t,e){const i=hc();return Te.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.lt(t,e,s)}),Te.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),Te.resolve()}getOverlaysForCollection(t,e,i){const r=hc(),s=e.length+1,o=new Et(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>i&&r.set(d.getKey(),d)}return Te.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new ar((f,_)=>f-_);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let _=s.get(f.largestBatchId);null===_&&(_=hc(),s=s.insert(f.largestBatchId,_)),_.set(f.getKey(),f)}}const c=hc(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,_)=>c.set(f,_)),!(c.size()>=r)););return Te.resolve(c)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new $R(e,i));let s=this.lr.get(e);void 0===s&&(s=Nn(),this.lr.set(e,s)),this.lr.set(e,s.add(i.key))}}class oO{constructor(){this.hr=new ji(Os.Pr),this.Ir=new ji(Os.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new Os(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new Os(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new Et(new ci([])),i=new Os(e,t),r=new Os(e,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new Et(new ci([])),i=new Os(e,t),r=new Os(e,t+1);let s=Nn();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new Os(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Os{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return Et.comparator(t.key,e.key)||gn(t.gr,e.gr)}static Tr(t,e){return gn(t.gr,e.gr)||Et.comparator(t.key,e.key)}}class T_e{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new ji(Os.Pr)}checkEmpty(t){return Te.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.pr;this.pr++;const o=new WR(s,e,i,r);this.mutationQueue.push(o);for(const c of r)this.yr=this.yr.add(new Os(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return Te.resolve(o)}lookupMutationBatch(t,e){return Te.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),s=r<0?0:r;return Te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Os(e,0),r=new Os(e,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const c=this.wr(o.gr);s.push(c)}),Te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ji(gn);return e.forEach(r=>{const s=new Os(r,0),o=new Os(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],c=>{i=i.add(c.gr)})}),Te.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Et.isDocumentKey(s)||(s=s.child(""));const o=new Os(new Et(s),0);let c=new ji(gn);return this.yr.forEachWhile(d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(c=c.add(d.gr)),!0)},o),Te.resolve(this.br(c))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Zt(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return Te.forEach(e.mutations,r=>{const s=new Os(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new Os(e,0),r=this.yr.firstAfterOrEqual(i);return Te.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Te.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class I_e{constructor(t){this.Cr=t,this.docs=new ar(Et.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Te.resolve(i?i.document.mutableCopy():gr.newInvalidDocument(e))}getEntries(t,e){let i=ea();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():gr.newInvalidDocument(r))}),Te.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=ea();const o=e.path,c=new Et(o.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:_}}=d.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||kR(NG(_),i)<=0||(r.has(_.key)||cb(e,_))&&(s=s.insert(_.key,_.mutableCopy()))}return Te.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Ft()}vr(t,e){return Te.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new S_e(this)}getSize(t){return Te.resolve(this.size)}}class S_e extends I${constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),Te.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class A_e{constructor(t){this.persistence=t,this.Fr=new od(e=>Yh(e),ab),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new oO,this.targetCount=0,this.Nr=tf.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),Te.resolve()}getLastRemoteSnapshotVersion(t){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Te.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),Te.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new tf(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,Te.resolve()}updateTargetData(t,e){return this.kn(e),Te.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,Te.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Fr.forEach((o,c)=>{c.sequenceNumber<=e&&null===i.get(c.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),Te.waitFor(s).next(()=>r)}getTargetCount(t){return Te.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return Te.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),Te.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),Te.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),Te.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return Te.resolve(i)}containsKey(t,e){return Te.resolve(this.Or.containsKey(e))}}class aO{constructor(t,e){this.Br={},this.overlays={},this.Lr=new wa(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new A_e(this),this.indexManager=new g_e,this.remoteDocumentCache=new I_e(i=>this.referenceDelegate.Qr(i)),this.serializer=new r$(e),this.Kr=new E_e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new D_e,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new T_e(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){ct("MemoryPersistence","Starting transaction:",t);const r=new k_e(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,e){return Te.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class k_e extends LG{constructor(t){super(),this.currentSequenceNumber=t}}class gD{constructor(t){this.persistence=t,this.Gr=new oO,this.zr=null}static jr(t){return new gD(t)}get Hr(){if(this.zr)return this.zr;throw Ft()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),Te.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),Te.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),Te.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.Hr,i=>{const r=Et.fromPath(i);return this.Jr(t,r).next(s=>{s||e.removeEntry(r,Kt.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return Te.or([()=>Te.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class M_e{constructor(t){this.serializer=t}N(t,e,i,r){const s=new $E("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HG,{unique:!0}),d.createObjectStore("documentMutations"),O$(t),function(d){d.createObjectStore("remoteDocuments")}(t));let o=Te.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),O$(t)),o=o.next(()=>function(d){const f=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(o=o.next(()=>function(d,f){return f.store("mutations").W().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HG,{unique:!0});const x=f.store("mutations"),T=_.map(M=>x.put(M));return Te.waitFor(T)})}(t,s))),o=o.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(o=o.next(()=>this.Zr(s))),i<6&&r>=6&&(o=o.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Xr(s)))),i<7&&r>=7&&(o=o.next(()=>this.ei(s))),i<8&&r>=8&&(o=o.next(()=>this.ti(t,s))),i<9&&r>=9&&(o=o.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(o=o.next(()=>this.ni(s))),i<11&&r>=11&&(o=o.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(o=o.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:mme});f.createIndex("collectionPathOverlayIndex",_me,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",vme,{unique:!1})}(t)})),i<13&&r>=13&&(o=o.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:sme});f.createIndex("documentKeyIndex",ome),f.createIndex("collectionGroupIndex",ame)}(t)).next(()=>this.ri(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.ii(t,s))),i<15&&r>=15&&(o=o.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:hme}).createIndex("sequenceNumberIndex",fme,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:pme}).createIndex("documentKeyIndex",gme,{unique:!1})}(t))),o}Xr(t){let e=0;return t.store("remoteDocuments").Y((i,r)=>{e+=hD(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>Te.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",o).next(c=>Te.forEach(c,d=>{Zt(d.userId===s.userId);const f=Qh(this.serializer,d);return b$(t,s.userId,f).next(()=>{})}))}))}ei(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Y((o,c)=>{const d=new ci(o),f=[0,so(d)];s.push(e.get(f).next(_=>_?Te.resolve():e.put({targetId:0,path:so(d),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Te.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:ume});const i=e.store("collectionParents"),r=new sO,s=o=>{if(r.add(o)){const c=o.lastSegment(),d=o.popLast();return i.put({collectionId:c,parent:so(d)})}};return e.store("remoteDocuments").Y({J:!0},(o,c)=>{const d=new ci(o);return s(d.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([o,c,d],f)=>{const _=dc(c);return s(_.popLast())}))}ni(t){const e=t.store("targets");return e.Y((i,r)=>{const s=bb(r),o=o$(this.serializer,s);return e.put(o)})}ri(t,e){const i=e.store("remoteDocuments"),r=[];return i.Y((s,o)=>{const c=e.store("remoteDocumentsV14"),d=(x=o,x.document?new Et(ci.fromString(x.document.name).popFirst(5)):x.noDocument?Et.fromSegments(x.noDocument.path):x.unknownDocument?Et.fromSegments(x.unknownDocument.path):Ft()).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var x;r.push(c.put(f))}).next(()=>Te.waitFor(r))}ii(t,e){const i=e.store("mutations"),r=S$(this.serializer),s=new aO(gD.jr,this.serializer.ut);return i.W().next(o=>{const c=new Map;return o.forEach(d=>{var f;let _=null!==(f=c.get(d.userId))&&void 0!==f?f:Nn();Qh(this.serializer,d).keys().forEach(x=>_=_.add(x)),c.set(d.userId,_)}),Te.forEach(c,(d,f)=>{const _=new Ms(f),x=cD.ct(this.serializer,_),T=s.getIndexManager(_),M=fD.ct(_,this.serializer,T,s.referenceDelegate);return new R$(r,M,x,T).recalculateAndSaveOverlaysForDocumentKeys(new OR(e,wa._e),d).next()})})}}function O$(n){n.createObjectStore("targetDocuments",{keyPath:cme}).createIndex("documentTargetsIndex",dme,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lme,{unique:!0}),n.createObjectStore("targetGlobal")}const lO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cO{constructor(t,e,i,r,s,o,c,d,f,_,x=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=s,this.window=o,this.document=c,this.oi=f,this._i=_,this.ai=x,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=T=>Promise.resolve(),!cO.D())throw new it(Le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new b_e(this,r),this.Ii=e+"main",this.serializer=new r$(d),this.Ti=new Tl(this.Ii,this.ai,new M_e(this.serializer)),this.qr=new __e(this.referenceDelegate,this.serializer),this.remoteDocumentCache=S$(this.serializer),this.Kr=new c_e,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===_&&Xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new it(Le.FAILED_PRECONDITION,lO);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.qr.getHighestSequenceNumber(t))}).then(t=>{this.Lr=new wa(t,this.oi)}).then(()=>{this.kr=!0}).catch(t=>(this.Ti&&this.Ti.close(),Promise.reject(t)))}mi(t){var e=this;return this.Pi=function(){var i=(0,qe.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ti.L(function(){var e=(0,qe.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,qe.Z)(function*(){e.started&&(yield e.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>_D(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(t)).next(e=>this.isPrimary&&!e?this.pi(t).next(()=>!1):!!e&&this.yi(t).next(()=>!0))).catch(t=>{if(uu(t))return ct("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.Pi(t)),this.isPrimary=t})}fi(t){return Db(t).get("owner").next(e=>Te.resolve(this.wi(e)))}Si(t){return _D(t).delete(this.clientId)}bi(){var t=this;return(0,qe.Z)(function*(){if(t.isPrimary&&!t.Di(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Rs(i,"clientMetadata");return r.W().next(s=>{const o=t.Ci(s,18e5),c=s.filter(d=>-1===o.indexOf(d));return Te.forEach(c,d=>r.delete(d.clientId)).next(()=>c)})}).catch(()=>[]);if(t.Ei)for(const i of e)t.Ei.removeItem(t.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(t){return!!t&&t.ownerId===this.clientId}gi(t){return this._i?Te.resolve(!0):Db(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)){if(this.wi(e)&&this.networkEnabled)return!0;if(!this.wi(e)){if(!e.allowTabSynchronization)throw new it(Le.FAILED_PRECONDITION,lO);return!1}}return!(!this.networkEnabled||!this.inForeground)||_D(t).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&ct("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,qe.Z)(function*(){t.kr=!1,t.Mi(),t.li&&(t.li.cancel(),t.li=null),t.xi(),t.Oi(),yield t.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new OR(e,wa._e);return t.pi(i).next(()=>t.Si(i))}),t.Ti.close(),t.Ni()})()}Ci(t,e){return t.filter(i=>this.Di(i.updateTimeMs,e)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>_D(t).W().next(e=>this.Ci(e,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(t,e){return fD.ct(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new m_e(t,this.serializer.ut.databaseId)}getDocumentOverlayCache(t){return cD.ct(this.serializer,t)}getBundleCache(){return this.Kr}runTransaction(t,e,i){ct("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(d=this.ai)?bme:14===d?GG:13===d?WG:12===d?yme:11===d?jG:void Ft();var d;let o;return this.Ti.runTransaction(t,r,s,c=>(o=new OR(c,this.Lr?this.Lr.next():wa._e),"readwrite-primary"===e?this.fi(o).next(d=>!!d||this.gi(o)).next(d=>{if(!d)throw Xr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new it(Le.FAILED_PRECONDITION,FG);return i(o)}).next(d=>this.yi(o).next(()=>d)):this.Li(o).next(()=>i(o)))).then(c=>(o.raiseOnCommittedEvent(),c))}Li(t){return Db(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new it(Le.FAILED_PRECONDITION,lO)})}yi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Db(t).put("owner",e)}static D(){return Tl.D()}pi(t){const e=Db(t);return e.get("owner").next(i=>this.wi(i)?(ct("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Te.resolve())}Di(t,e){const i=Date.now();return!(t<i-e||t>i&&(Xr(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;(0,ne.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(t){var e;try{const i=null!==(null===(e=this.Ei)||void 0===e?void 0:e.getItem(this.vi(t)));return ct("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Xr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(t){Xr("Failed to set zombie client id.",t)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Db(n){return Rs(n,"owner")}function _D(n){return Rs(n,"clientMetadata")}function dO(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class uO{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Nn(),r=Nn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new uO(t,e.fromCache,i,r)}}class R_e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class P${constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.zi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new R_e;return this.Hi(t,e,o).next(c=>{if(s.result=c,this.$i)return this.Ji(t,e,o,c.size)})}).next(()=>s.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(Hg()<=_a.in.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Zg(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Te.resolve()):(Hg()<=_a.in.DEBUG&&ct("QueryEngine","Query:",Zg(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Hg()<=_a.in.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Zg(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ro(e))):Te.resolve())}zi(t,e){if(m5(e))return Te.resolve(null);let i=Ro(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=nD(e,null,"F"),i=Ro(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Nn(...s);return this.Gi.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,i).next(d=>{const f=this.Yi(e,c);return this.Zi(e,f,o,d.readTime)?this.zi(t,nD(e,null,"F")):this.Xi(t,f,e,d)}))})))}ji(t,e,i,r){return m5(e)||r.isEqual(Kt.min())?Te.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(e,s);return this.Zi(e,o,i,r)?Te.resolve(null):(Hg()<=_a.in.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zg(e)),this.Xi(t,o,e,PG(r,-1)).next(c=>c))})}Yi(t,e){let i=new ji(b5(t));return e.forEach((r,s)=>{cb(t,s)&&(i=i.add(s))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,e,i){return Hg()<=_a.in.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Zg(e)),this.Gi.getDocumentsMatchingQuery(t,e,xa.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class O_e{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new ar(gn),this.ns=new od(s=>Yh(s),ab),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new R$(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function N$(n,t,e,i){return new O_e(n,t,e,i)}function F$(n,t){return hO.apply(this,arguments)}function hO(){return hO=(0,qe.Z)(function*(n,t){const e=xt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],c=[];let d=Nn();for(const f of r){o.push(f.batchId);for(const _ of f.mutations)d=d.add(_.key)}for(const f of s){c.push(f.batchId);for(const _ of f.mutations)d=d.add(_.key)}return e.localDocuments.getDocuments(i,d).next(f=>({_s:f,removedBatchIds:o,addedBatchIds:c}))})})}),hO.apply(this,arguments)}function L$(n){const t=xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function V$(n,t,e){let i=Nn(),r=Nn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=ea();return e.forEach((c,d)=>{const f=s.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(c)),d.isNoDocument()&&d.version.isEqual(Kt.min())?(t.removeEntry(c,d.readTime),o=o.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||0===d.version.compareTo(f.version)&&f.hasPendingWrites?(t.addEntry(d),o=o.insert(c,d)):ct("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{us:o,cs:r}})}function F_e(n,t){const e=xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function am(n,t){const e=xt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(s=>s?(r=s,Te.resolve(r)):e.qr.allocateTargetId(i).next(o=>(r=new ld(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}function lm(n,t,e){return fO.apply(this,arguments)}function fO(){return fO=(0,qe.Z)(function*(n,t,e){const i=xt(n),r=i.ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!uu(o))throw o;ct("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),fO.apply(this,arguments)}function vD(n,t,e){const i=xt(n);let r=Kt.min(),s=Nn();return i.persistence.runTransaction("Execute query","readwrite",o=>function(d,f,_){const x=xt(d),T=x.ns.get(_);return void 0!==T?Te.resolve(x.ts.get(T)):x.qr.getTargetData(f,_)}(i,o,Ro(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,c.targetId).next(d=>{s=d})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,e?r:Kt.min(),e?s:Nn())).next(c=>(H$(i,y5(t),c),{documents:c,ls:s})))}function B$(n,t){const e=xt(n),i=xt(e.qr),r=e.ts.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i._t(s,t).next(o=>o?o.target:null))}function z$(n,t){const e=xt(n),i=e.rs.get(t)||Kt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ss.getAllFromCollectionGroup(r,t,PG(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(H$(e,t,r),r))}function H$(n,t,e){let i=n.rs.get(t)||Kt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(t,i)}function pO(){return pO=(0,qe.Z)(function*(n,t,e,i){const r=xt(n);let s=Nn(),o=ea();for(const f of e){const _=t.hs(f.metadata.name);f.document&&(s=s.add(_));const x=t.Ps(f);x.setReadTime(t.Is(f.metadata.readTime)),o=o.insert(_,x)}const c=r.ss.newChangeBuffer({trackRemovals:!0}),d=yield am(r,(_=i,Ro(qg(ci.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",f=>V$(f,c,o).next(_=>(c.apply(f),_)).next(_=>r.qr.removeMatchingKeysForTargetId(f,d.targetId).next(()=>r.qr.addMatchingKeys(f,s,d.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,_.us,_.cs)).next(()=>_.us)))}),pO.apply(this,arguments)}function V_e(n,t){return gO.apply(this,arguments)}function gO(){return gO=(0,qe.Z)(function*(n,t,e=Nn()){const i=yield am(n,Ro(JR(t.bundledQuery))),r=xt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=Zr(t.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Kr.saveNamedQuery(s,t);const c=i.withResumeToken(vs.EMPTY_BYTE_STRING,o);return r.ts=r.ts.insert(c.targetId,c),r.qr.updateTargetData(s,c).next(()=>r.qr.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.qr.addMatchingKeys(s,e,i.targetId)).next(()=>r.Kr.saveNamedQuery(s,t))})}),gO.apply(this,arguments)}function U$(n,t){return`firestore_clients_${n}_${t}`}function j$(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function mO(n,t){return`firestore_targets_${n}_${t}`}class yD{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ts(t,e,i){const r=JSON.parse(i);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new it(r.error.code,r.error.message))),o?new yD(t,e,r.state,s):(Xr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Tb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ts(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new it(i.error.code,i.error.message))),s?new Tb(t,i.state,r):(Xr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class bD{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ts(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=UR();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=BG(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new bD(t,s):(Xr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class _O{constructor(t,e){this.clientId=t,this.onlineState=e}static Ts(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new _O(e.clientId,e.onlineState):(Xr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class vO{constructor(){this.activeTargetIds=UR()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yO{constructor(t,e,i,r,s){this.window=t,this.si=e,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ar(gn),this.started=!1,this.ps=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=U$(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new vO),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,qe.Z)(function*(){const e=yield t.syncEngine.Bi();for(const r of e){if(r===t.Rs)continue;const s=t.getItem(U$(t.persistenceKey,r));if(s){const o=bD.Ts(r,s);o&&(t.gs=t.gs.insert(o.clientId,o))}}t.Fs();const i=t.storage.getItem(t.Cs);if(i){const r=t.Ms(i);r&&t.xs(r)}for(const r of t.ps)t.fs(r);t.ps=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(t){let e=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ns(t,"pending")}updateMutationState(t,e,i){this.Ns(t,e,i),this.Bs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(mO(this.persistenceKey,t));if(i){const r=Tb.Ts(t,i);r&&(e=r.state)}}return this.Ls.ds(t),this.Fs(),e}removeLocalQueryTarget(t){this.Ls.As(t),this.Fs()}isLocalQueryTarget(t){return this.Ls.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(mO(this.persistenceKey,t))}updateQueryState(t,e,i){this.ks(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Bs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.qs(t)}notifyBundleLoaded(t){this.Qs(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ct("SharedClientState","READ",t,e),e}setItem(t,e){ct("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ct("SharedClientState","REMOVE",t),this.storage.removeItem(t)}fs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(ct("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,qe.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ss.test(i.key)){if(null==i.newValue){const r=e.Ks(i.key);return e.$s(r,null)}{const r=e.Us(i.key,i.newValue);if(r)return e.$s(r.clientId,r)}}else if(e.bs.test(i.key)){if(null!==i.newValue){const r=e.Ws(i.key,i.newValue);if(r)return e.Gs(r)}}else if(e.Ds.test(i.key)){if(null!==i.newValue){const r=e.zs(i.key,i.newValue);if(r)return e.js(r)}}else if(i.key===e.Cs){if(null!==i.newValue){const r=e.Ms(i.newValue);if(r)return e.xs(r)}}else if(i.key===e.ws){const r=function(o){let c=wa._e;if(null!=o)try{const d=JSON.parse(o);Zt("number"==typeof d),c=d}catch(d){Xr("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==wa._e&&e.sequenceNumberHandler(r)}else if(i.key===e.vs){const r=e.Hs(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Js(s)))}}else e.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(t,e,i){const r=new yD(this.currentUser,t,e,i),s=j$(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Es())}Bs(t){const e=j$(this.persistenceKey,this.currentUser,t);this.removeItem(e)}qs(t){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:t}))}ks(t,e,i){const r=mO(this.persistenceKey,t),s=new Tb(t,e,i);this.setItem(r,s.Es())}Qs(t){const e=JSON.stringify(Array.from(t));this.setItem(this.vs,e)}Ks(t){const e=this.Ss.exec(t);return e?e[1]:null}Us(t,e){const i=this.Ks(t);return bD.Ts(i,e)}Ws(t,e){const i=this.bs.exec(t),r=Number(i[1]);return yD.Ts(new Ms(void 0!==i[2]?i[2]:null),r,e)}zs(t,e){const i=this.Ds.exec(t),r=Number(i[1]);return Tb.Ts(r,e)}Ms(t){return _O.Ts(t)}Hs(t){return JSON.parse(t)}Gs(t){var e=this;return(0,qe.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Ys(t.batchId,t.state,t.error);ct("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}js(t){return this.syncEngine.Zs(t.targetId,t.state,t.error)}$s(t,e){const i=e?this.gs.insert(t,e):this.gs.remove(t),r=this.Os(this.gs),s=this.Os(i),o=[],c=[];return s.forEach(d=>{r.has(d)||o.push(d)}),r.forEach(d=>{s.has(d)||c.push(d)}),this.syncEngine.Xs(o,c).then(()=>{this.gs=i})}xs(t){this.gs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Os(t){let e=UR();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class W${constructor(){this.eo=new vO,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new vO,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class B_e{ro(t){}shutdown(){}}class G${constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xD=null;function bO(){return null===xD?xD=268435456+Math.round(2147483648*Math.random()):xD++,"0x"+xD.toString(16)}const z_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H_e{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const ao="WebChannelConnection";class U_e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(e,i,r,s,o){const c=bO(),d=this.So(e,i);ct("RestConnection",`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,s,o),this.Do(e,d,f,r).then(_=>(ct("RestConnection",`Received RPC '${e}' ${c}: `,_),_),_=>{throw Qo("RestConnection",`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",r),_})}Co(e,i,r,s,o,c){return this.wo(e,i,r,s,o)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,i){return`${this.mo}/v1/${i}:${z_e[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const s=bO();return new Promise((o,c)=>{const d=new Bge;d.setWithCredentials(!0),d.listenOnce(Fge.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case IR.NO_ERROR:const _=d.getResponseJson();ct(ao,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(_)),o(_);break;case IR.TIMEOUT:ct(ao,`RPC '${t}' ${s} timed out`),c(new it(Le.DEADLINE_EXCEEDED,"Request time out"));break;case IR.HTTP_ERROR:const x=d.getStatus();if(ct(ao,`RPC '${t}' ${s} failed with status:`,x,"response text:",d.getResponseText()),x>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const M=T?.error;if(M&&M.status&&M.message){const N=function(U){const re=U.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(re)>=0?re:Le.UNKNOWN}(M.status);c(new it(N,M.message))}else c(new it(Le.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new it(Le.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{ct(ao,`RPC '${t}' ${s} completed.`)}});const f=JSON.stringify(r);ct(ao,`RPC '${t}' ${s} sending request:`,r),d.send(e,"POST",f,i,15)})}vo(t,e,i){const r=bO(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Pge(),c=Nge(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;void 0!==f&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.xmlHttpFactory=new Vge({})),this.bo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const _=s.join("");ct(ao,`Creating RPC '${t}' stream ${r}: ${_}`,d);const x=o.createWebChannel(_,d);let T=!1,M=!1;const N=new H_e({co:U=>{M?ct(ao,`Not sending because RPC '${t}' stream ${r} is closed:`,U):(T||(ct(ao,`Opening RPC '${t}' stream ${r} transport.`),x.open(),T=!0),ct(ao,`RPC '${t}' stream ${r} sending:`,U),x.send(U))},lo:()=>x.close()}),V=(U,re,te)=>{U.listen(re,oe=>{try{te(oe)}catch(pe){setTimeout(()=>{throw pe},0)}})};return V(x,GE.EventType.OPEN,()=>{M||ct(ao,`RPC '${t}' stream ${r} transport opened.`)}),V(x,GE.EventType.CLOSE,()=>{M||(M=!0,ct(ao,`RPC '${t}' stream ${r} transport closed`),N.Ro())}),V(x,GE.EventType.ERROR,U=>{M||(M=!0,Qo(ao,`RPC '${t}' stream ${r} transport errored:`,U),N.Ro(new it(Le.UNAVAILABLE,"The operation could not be completed")))}),V(x,GE.EventType.MESSAGE,U=>{var re;if(!M){const te=U.data[0];Zt(!!te);const pe=te.error||(null===(re=te[0])||void 0===re?void 0:re.error);if(pe){ct(ao,`RPC '${t}' stream ${r} received error:`,pe);const Ie=pe.status;let Xe=function(Dt){const Mt=ss[Dt];if(void 0!==Mt)return V5(Mt)}(Ie),pt=pe.message;void 0===Xe&&(Xe=Le.INTERNAL,pt="Unknown error status: "+Ie+" with message "+pe.message),M=!0,N.Ro(new it(Xe,pt)),x.close()}else ct(ao,`RPC '${t}' stream ${r} received:`,te),N.Vo(te)}}),V(c,Lge.STAT_EVENT,U=>{U.stat===SG.PROXY?ct(ao,`RPC '${t}' stream ${r} detected buffering proxy`):U.stat===SG.NOPROXY&&ct(ao,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{N.Ao()},0),N}}function $$(){return typeof window<"u"?window:null}function wD(){return typeof document<"u"?document:null}function Ib(n){return new Qme(n,!0)}class xO{constructor(t,e,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&ct("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Y${constructor(t,e,i,r,s,o,c,d){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new xO(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return(0,qe.Z)(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return(0,qe.Z)(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return(0,qe.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===Le.RESOURCE_EXHAUSTED?(Xr(e.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===Le.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new it(Le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko((0,qe.Z)(function*(){t.state=0,t.start()}))}o_(t){return ct("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j_e extends Y${constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function t_e(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:Ft(),r=t.targetChange.targetIds||[],s=function(f,_){return f.useProto3Json?(Zt(void 0===_||"string"==typeof _),vs.fromBase64String(_||"")):(Zt(void 0===_||_ instanceof Uint8Array),vs.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(f){const _=void 0===f.code?Le.UNKNOWN:V5(f.code);return new it(_,f.message||"")}(o);e=new j5(i,r,s,c||null)}else if("documentChange"in t){const i=t.documentChange,r=fc(n,i.document.name),s=Zr(i.document.updateTime),o=i.document.createTime?Zr(i.document.createTime):Kt.min(),c=new Ws({mapValue:{fields:i.document.fields}}),d=gr.newFoundDocument(r,s,o,c);e=new aD(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=fc(n,i.document),s=i.readTime?Zr(i.readTime):Kt.min(),o=gr.newNoDocument(r,s);e=new aD([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=fc(n,i.document);e=new aD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Ft();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new $me(r,s);e=new U5(i.targetId,o)}}var f;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return Kt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Kt.min():o.readTime?Zr(o.readTime):Kt.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=vb(this.serializer),e.addTarget=function(s,o){let c;const d=o.target;if(c=eD(d)?{documents:J5(s,d)}:{query:QR(s,d)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Y5(s,o.resumeToken);const f=qR(s,o.expectedCount);null!==f&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo(Kt.min())>0){c.readTime=tm(s,o.snapshotVersion.toTimestamp());const f=qR(s,o.expectedCount);null!==f&&(c.expectedCount=f)}return c}(this.serializer,t);const i=function i_e(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=vb(this.serializer),e.removeTarget=t,this.e_(e)}}class W_e extends Y${constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(Zt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function n_e(n,t){return n&&n.length>0?(Zt(void 0!==t),n.map(e=>function(r,s){let o=Zr(r.updateTime?r.updateTime:s);return o.isEqual(Kt.min())&&(o=Zr(s)),new Ume(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Zr(t.commitTime);return this.listener.I_(i,e)}return Zt(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=vb(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>yb(this.serializer,i))};this.e_(e)}}class G_e extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new it(Le.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new it(Le.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,e,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(Le.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Y_e{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Xr(e),this.f_=!1):ct("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class q_e{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(c=>{i.enqueueAndForget((0,qe.Z)(function*(){var d;Cu(o)&&(ct("RemoteStore","Restarting streams for network reachability change."),yield(d=(0,qe.Z)(function*(_){const x=xt(_);x.C_.add(4),yield cm(x),x.M_.set("Unknown"),x.C_.delete(4),yield Sb(x)}),function f(_){return d.apply(this,arguments)})(o))}))}),this.M_=new Y_e(i,r)}}function Sb(n){return CO.apply(this,arguments)}function CO(){return CO=(0,qe.Z)(function*(n){if(Cu(n))for(const t of n.v_)yield t(!0)}),CO.apply(this,arguments)}function cm(n){return EO.apply(this,arguments)}function EO(){return EO=(0,qe.Z)(function*(n){for(const t of n.v_)yield t(!1)}),EO.apply(this,arguments)}function CD(n,t){const e=xt(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),IO(e)?TO(e):um(e).Ho()&&DO(e,t))}function Ab(n,t){const e=xt(n),i=um(e);e.D_.delete(t),i.Ho()&&q$(e,t),0===e.D_.size&&(i.Ho()?i.Zo():Cu(e)&&e.M_.set("Unknown"))}function DO(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}um(n).u_(t)}function q$(n,t){n.x_.Oe(t),um(n).c_(t)}function TO(n){n.x_=new qme({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),um(n).start(),n.M_.g_()}function IO(n){return Cu(n)&&!um(n).jo()&&n.D_.size>0}function Cu(n){return 0===xt(n).C_.size}function X$(n){n.x_=void 0}function X_e(n){return SO.apply(this,arguments)}function SO(){return SO=(0,qe.Z)(function*(n){n.D_.forEach((t,e)=>{DO(n,t)})}),SO.apply(this,arguments)}function Z_e(n,t){return AO.apply(this,arguments)}function AO(){return AO=(0,qe.Z)(function*(n,t){X$(n),IO(n)?(n.M_.w_(t),TO(n)):n.M_.set("Unknown")}),AO.apply(this,arguments)}function K_e(n,t,e){return kO.apply(this,arguments)}function kO(){return kO=(0,qe.Z)(function*(n,t,e){if(n.M_.set("Online"),t instanceof j5&&2===t.state&&t.cause)try{yield(i=(0,qe.Z)(function*(s,o){const c=o.cause;for(const d of o.targetIds)s.D_.has(d)&&(yield s.remoteSyncer.rejectListen(d,c),s.D_.delete(d),s.x_.removeTarget(d))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){ct("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield ED(n,i)}else if(t instanceof aD?n.x_.$e(t):t instanceof U5?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(Kt.min()))try{const i=yield L$(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const c=s.x_.it(o);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const _=s.D_.get(f);_&&s.D_.set(f,_.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach((d,f)=>{const _=s.D_.get(d);if(!_)return;s.D_.set(d,_.withResumeToken(vs.EMPTY_BYTE_STRING,_.snapshotVersion)),q$(s,d);const x=new ld(_.target,d,f,_.sequenceNumber);DO(s,x)}),s.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){ct("RemoteStore","Failed to raise snapshot:",i),yield ED(n,i)}var i}),kO.apply(this,arguments)}function ED(n,t,e){return MO.apply(this,arguments)}function MO(){return MO=(0,qe.Z)(function*(n,t,e){if(!uu(t))throw t;n.C_.add(1),yield cm(n),n.M_.set("Offline"),e||(e=()=>L$(n.localStore)),n.asyncQueue.enqueueRetryable((0,qe.Z)(function*(){ct("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield Sb(n)}))}),MO.apply(this,arguments)}function Z$(n,t){return t().catch(e=>ED(n,e,t))}function dm(n){return RO.apply(this,arguments)}function RO(){return RO=(0,qe.Z)(function*(n){const t=xt(n),e=Eu(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Q_e(t);)try{const r=yield F_e(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,J_e(t,r)}catch(r){yield ED(t,r)}K$(t)&&Q$(t)}),RO.apply(this,arguments)}function Q_e(n){return Cu(n)&&n.b_.length<10}function J_e(n,t){n.b_.push(t);const e=Eu(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function K$(n){return Cu(n)&&!Eu(n).jo()&&n.b_.length>0}function Q$(n){Eu(n).start()}function eve(n){return OO.apply(this,arguments)}function OO(){return OO=(0,qe.Z)(function*(n){Eu(n).E_()}),OO.apply(this,arguments)}function tve(n){return PO.apply(this,arguments)}function PO(){return PO=(0,qe.Z)(function*(n){const t=Eu(n);for(const e of n.b_)t.P_(e.mutations)}),PO.apply(this,arguments)}function nve(n,t,e){return NO.apply(this,arguments)}function NO(){return NO=(0,qe.Z)(function*(n,t,e){const i=n.b_.shift(),r=GR.from(i,t,e);yield Z$(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield dm(n)}),NO.apply(this,arguments)}function ive(n,t){return FO.apply(this,arguments)}function FO(){return FO=(0,qe.Z)(function*(n,t){var e;t&&Eu(n).h_&&(yield(e=(0,qe.Z)(function*(r,s){if(L5(c=s.code)&&c!==Le.ABORTED){const o=r.b_.shift();Eu(r).Yo(),yield Z$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield dm(r)}var c}),function i(r,s){return e.apply(this,arguments)})(n,t)),K$(n)&&Q$(n)}),FO.apply(this,arguments)}function J$(n,t){return LO.apply(this,arguments)}function LO(){return LO=(0,qe.Z)(function*(n,t){const e=xt(n);e.asyncQueue.verifyOperationInProgress(),ct("RemoteStore","RemoteStore received new credentials");const i=Cu(e);e.C_.add(3),yield cm(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield Sb(e)}),LO.apply(this,arguments)}function VO(n,t){return BO.apply(this,arguments)}function BO(){return BO=(0,qe.Z)(function*(n,t){const e=xt(n);t?(e.C_.delete(2),yield Sb(e)):t||(e.C_.add(2),yield cm(e),e.M_.set("Unknown"))}),BO.apply(this,arguments)}function um(n){return n.O_||(n.O_=function(e,i,r){const s=xt(e);return s.A_(),new j_e(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:X_e.bind(null,n),Io:Z_e.bind(null,n),a_:K_e.bind(null,n)}),n.v_.push(function(){var t=(0,qe.Z)(function*(e){e?(n.O_.Yo(),IO(n)?TO(n):n.M_.set("Unknown")):(yield n.O_.stop(),X$(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function Eu(n){return n.N_||(n.N_=function(e,i,r){const s=xt(e);return s.A_(),new W_e(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:eve.bind(null,n),Io:ive.bind(null,n),T_:tve.bind(null,n),I_:nve.bind(null,n)}),n.v_.push(function(){var t=(0,qe.Z)(function*(e){e?(n.N_.Yo(),yield dm(n)):(yield n.N_.stop(),n.b_.length>0&&(ct("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class zO{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,c=new zO(t,e,o,r,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new it(Le.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hm(n,t){if(Xr("AsyncQueue",`${t}: ${n}`),uu(n))return new it(Le.UNAVAILABLE,`${t}: ${n}`);throw n}class fm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Et.comparator(e.key,i.key):(e,i)=>Et.comparator(e.key,i.key),this.keyedMap=db(),this.sortedSet=new ar(this.comparator)}static emptySet(t){return new fm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof fm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new fm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class e8{constructor(){this.B_=new ar(Et.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):Ft():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class pm{constructor(t,e,i,r,s,o,c,d,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new pm(t,e,fm.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class rve{constructor(){this.k_=void 0,this.listeners=[]}}class sve{constructor(){this.queries=new od(t=>v5(t),lb),this.onlineState="Unknown",this.q_=new Set}}function HO(n,t){return UO.apply(this,arguments)}function UO(){return UO=(0,qe.Z)(function*(n,t){const e=xt(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new rve),r)try{s.k_=yield e.onListen(i)}catch(o){const c=hm(o,`Initialization of query '${Zg(t.query)}' failed`);return void t.onError(c)}e.queries.set(i,s),s.listeners.push(t),t.Q_(e.onlineState),s.k_&&t.K_(s.k_)&&GO(e)}),UO.apply(this,arguments)}function jO(n,t){return WO.apply(this,arguments)}function WO(){return WO=(0,qe.Z)(function*(n,t){const e=xt(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),WO.apply(this,arguments)}function ove(n,t){const e=xt(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const c of o.listeners)c.K_(r)&&(i=!0);o.k_=r}}i&&GO(e)}function ave(n,t,e){const i=xt(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function GO(n){n.q_.forEach(t=>{t.next()})}class $O{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new pm(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=pm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class lve{constructor(t,e){this.Y_=t,this.byteLength=e}Z_(){return"metadata"in this.Y_}}class t8{constructor(t){this.serializer=t}hs(t){return fc(this.serializer,t)}Ps(t){return t.metadata.exists?Q5(this.serializer,t.document,!1):gr.newNoDocument(this.hs(t.metadata.name),this.Is(t.metadata.readTime))}Is(t){return Zr(t)}}class cve{constructor(t,e,i){this.X_=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=n8(t)}ea(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Y_.namedQuery)this.queries.push(t.Y_.namedQuery);else if(t.Y_.documentMetadata){this.documents.push({metadata:t.Y_.documentMetadata}),t.Y_.documentMetadata.exists||++e;const i=ci.fromString(t.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Y_.document&&(this.documents[this.documents.length-1].document=t.Y_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ta(t){const e=new Map,i=new t8(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.hs(r.metadata.name);for(const o of r.metadata.queries){const c=(e.get(o)||Nn()).add(s);e.set(o,c)}}return e}complete(){var t=this;return(0,qe.Z)(function*(){const e=yield function L_e(n,t,e,i){return pO.apply(this,arguments)}(t.localStore,new t8(t.serializer),t.documents,t.X_.id),i=t.ta(t.documents);for(const r of t.queries)yield V_e(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,na:t.collectionGroups,ra:e}})()}}function n8(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class i8{constructor(t){this.key=t}}class r8{constructor(t){this.key=t}}class s8{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Nn(),this.mutatedKeys=Nn(),this._a=b5(t),this.aa=new fm(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new e8,r=e?e.aa:this.aa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,c=!1;const d="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,f="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,x)=>{const T=r.get(_),M=cb(this.query,x)?x:null,N=!!T&&this.mutatedKeys.has(T.key),V=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let U=!1;T&&M?T.data.isEqual(M.data)?N!==V&&(i.track({type:3,doc:M}),U=!0):this.ha(T,M)||(i.track({type:2,doc:M}),U=!0,(d&&this._a(M,d)>0||f&&this._a(M,f)<0)&&(c=!0)):!T&&M?(i.track({type:0,doc:M}),U=!0):T&&!M&&(i.track({type:1,doc:T}),U=!0,(d||f)&&(c=!0)),U&&(M?(o=o.add(M),s=V?s.add(_):s.delete(_)):(o=o.delete(_),s=s.delete(_)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const _="F"===this.query.limitType?o.last():o.first();o=o.delete(_.key),s=s.delete(_.key),i.track({type:1,doc:_})}return{aa:o,la:i,Zi:c,mutatedKeys:s}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((f,_)=>function(T,M){const N=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return N(T)-N(M)}(f.type,_.type)||this._a(f.doc,_.doc)),this.Pa(i);const o=e?this.Ia():[],c=0===this.oa.size&&this.current?1:0,d=c!==this.sa;return this.sa=c,0!==s.length||d?{snapshot:new pm(this.query,t.aa,r,s,t.mutatedKeys,0===c,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new e8,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Nn(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new r8(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new i8(i))}),e}da(t){this.ia=t.ls,this.oa=Nn();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return pm.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class dve{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class uve{constructor(t){this.key=t,this.Ra=!1}}class hve{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new od(c=>v5(c),lb),this.fa=new Map,this.ga=new Set,this.pa=new ar(Et.comparator),this.ya=new Map,this.wa=new oO,this.Sa={},this.ba=new Map,this.Da=tf.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function fve(n,t){return YO.apply(this,arguments)}function YO(){return YO=(0,qe.Z)(function*(n,t){const e=mP(n);let i,r;const s=e.ma.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=yield am(e.localStore,Ro(t)),c=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield qO(e,t,i,"current"===c,o.resumeToken),e.isPrimaryClient&&CD(e.remoteStore,o)}return r}),YO.apply(this,arguments)}function qO(n,t,e,i,r){return XO.apply(this,arguments)}function XO(){return XO=(0,qe.Z)(function*(n,t,e,i,r){n.va=(x,T,M)=>{return(N=(0,qe.Z)(function*(U,re,te,oe){let pe=re.view.ca(te);pe.Zi&&(pe=yield vD(U.localStore,re.query,!1).then(({documents:pt})=>re.view.ca(pt,pe)));const Ie=oe&&oe.targetChanges.get(re.targetId),Xe=re.view.applyChanges(pe,U.isPrimaryClient,Ie);return sP(U,re.targetId,Xe.Ta),Xe.snapshot}),function V(U,re,te,oe){return N.apply(this,arguments)})(n,x,T,M);var N};const s=yield vD(n.localStore,t,!0),o=new s8(t,s.ls),c=o.ca(s.documents),d=mb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),f=o.applyChanges(c,n.isPrimaryClient,d);sP(n,e,f.Ta);const _=new dve(t,e,o);return n.ma.set(t,_),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),f.snapshot}),XO.apply(this,arguments)}function pve(n,t){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,qe.Z)(function*(n,t){const e=xt(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(s=>!lb(s,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield lm(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Ab(e.remoteStore,i.targetId),gm(e,i.targetId)}).catch(du))):(gm(e,i.targetId),yield lm(e.localStore,i.targetId,!0))}),ZO.apply(this,arguments)}function KO(){return KO=(0,qe.Z)(function*(n,t,e){const i=_P(n);try{const r=yield function(o,c){const d=xt(o),f=br.now(),_=c.reduce((M,N)=>M.add(N.key),Nn());let x,T;return d.persistence.runTransaction("Locally write mutations","readwrite",M=>{let N=ea(),V=Nn();return d.ss.getEntries(M,_).next(U=>{N=U,N.forEach((re,te)=>{te.isValidDocument()||(V=V.add(re))})}).next(()=>d.localDocuments.getOverlayedDocuments(M,N)).next(U=>{x=U;const re=[];for(const te of c){const oe=Wme(te,x.get(te.key).overlayedDocument);null!=oe&&re.push(new ad(te.key,oe,n5(oe.value.mapValue),xr.exists(!0)))}return d.mutationQueue.addMutationBatch(M,f,re,c)}).next(U=>{T=U;const re=U.applyToLocalDocumentSet(x,V);return d.documentOverlayCache.saveOverlays(M,U.batchId,re)})}).then(()=>({batchId:T.batchId,changes:w5(x)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,d){let f=o.Sa[o.currentUser.toKey()];f||(f=new ar(gn)),f=f.insert(c,d),o.Sa[o.currentUser.toKey()]=f}(i,r.batchId,e),yield cd(i,r.changes),yield dm(i.remoteStore)}catch(r){const s=hm(r,"Failed to persist write");e.reject(s)}}),KO.apply(this,arguments)}function o8(n,t){return QO.apply(this,arguments)}function QO(){return QO=(0,qe.Z)(function*(n,t){const e=xt(n);try{const i=yield function N_e(n,t){const e=xt(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const c=[];t.targetChanges.forEach((_,x)=>{const T=r.get(x);if(!T)return;c.push(e.qr.removeMatchingKeys(s,_.removedDocuments,x).next(()=>e.qr.addMatchingKeys(s,_.addedDocuments,x)));let M=T.withSequenceNumber(s.currentSequenceNumber);var V,U,re;null!==t.targetMismatches.get(x)?M=M.withResumeToken(vs.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,i)),r=r.insert(x,M),U=M,re=_,(0===(V=T).resumeToken.approximateByteSize()||U.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&c.push(e.qr.updateTargetData(s,M))});let d=ea(),f=Nn();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,_))}),c.push(V$(s,o,t.documentUpdates).next(_=>{d=_.us,f=_.cs})),!i.isEqual(Kt.min())){const _=e.qr.getLastRemoteSnapshotVersion(s).next(x=>e.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(_)}return Te.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,d,f)).next(()=>d)}).then(s=>(e.ts=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.ya.get(s);o&&(Zt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?Zt(o.Ra):r.removedDocuments.size>0&&(Zt(o.Ra),o.Ra=!1))}),yield cd(e,i,t)}catch(i){yield du(i)}}),QO.apply(this,arguments)}function a8(n,t,e){const i=xt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((s,o)=>{const c=o.view.Q_(t);c.snapshot&&r.push(c.snapshot)}),function(o,c){const d=xt(o);d.onlineState=c;let f=!1;d.queries.forEach((_,x)=>{for(const T of x.listeners)T.Q_(c)&&(f=!0)}),f&&GO(d)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function mve(n,t,e){return JO.apply(this,arguments)}function JO(){return JO=(0,qe.Z)(function*(n,t,e){const i=xt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new ar(Et.comparator);o=o.insert(s,gr.newNoDocument(s,Kt.min()));const c=Nn().add(s),d=new gb(Kt.min(),new Map,new ar(gn),o,c);yield o8(i,d),i.pa=i.pa.remove(s),i.ya.delete(t),oP(i)}else yield lm(i.localStore,t,!1).then(()=>gm(i,t,e)).catch(du)}),JO.apply(this,arguments)}function _ve(n,t){return eP.apply(this,arguments)}function eP(){return eP=(0,qe.Z)(function*(n,t){const e=xt(n),i=t.batch.batchId;try{const r=yield function P_e(n,t){const e=xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ss.newChangeBuffer({trackRemovals:!0});return function(c,d,f,_){const x=f.batch,T=x.keys();let M=Te.resolve();return T.forEach(N=>{M=M.next(()=>_.getEntry(d,N)).next(V=>{const U=f.docVersions.get(N);Zt(null!==U),V.version.compareTo(U)<0&&(x.applyToRemoteDocument(V,f),V.isValidDocument()&&(V.setReadTime(f.commitVersion),_.addEntry(V)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(d,x))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=Nn();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);rP(e,i,null),iP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield cd(e,r)}catch(r){yield du(r)}}),eP.apply(this,arguments)}function vve(n,t,e){return tP.apply(this,arguments)}function tP(){return tP=(0,qe.Z)(function*(n,t,e){const i=xt(n);try{const r=yield function(o,c){const d=xt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let _;return d.mutationQueue.lookupMutationBatch(f,c).next(x=>(Zt(null!==x),_=x.keys(),d.mutationQueue.removeMutationBatch(f,x))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,_,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,_)).next(()=>d.localDocuments.getDocuments(f,_))})}(i.localStore,t);rP(i,t,e),iP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield cd(i,r)}catch(r){yield du(r)}}),tP.apply(this,arguments)}function nP(){return nP=(0,qe.Z)(function*(n,t){const e=xt(n);Cu(e.remoteStore)||ct("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=xt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ba.get(i)||[];r.push(t),e.ba.set(i,r)}catch(i){const r=hm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),nP.apply(this,arguments)}function iP(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function rP(n,t,e){const i=xt(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function gm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||l8(n,i)})}function l8(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(Ab(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),oP(n))}function sP(n,t,e){for(const i of e)i instanceof i8?(n.wa.addReference(i.key,t),bve(n,i)):i instanceof r8?(ct("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||l8(n,i.key)):Ft()}function bve(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(ct("SyncEngine","New document in limbo: "+e),n.ga.add(i),oP(n))}function oP(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new Et(ci.fromString(t)),i=n.Da.next();n.ya.set(i,new uve(e)),n.pa=n.pa.insert(e,i),CD(n.remoteStore,new ld(Ro(qg(e.path)),i,"TargetPurposeLimboResolution",wa._e))}}function cd(n,t,e){return aP.apply(this,arguments)}function aP(){return aP=(0,qe.Z)(function*(n,t,e){const i=xt(n),r=[],s=[],o=[];var c;i.ma.isEmpty()||(i.ma.forEach((c,d)=>{o.push(i.va(d,t,e).then(f=>{if((f||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,f?.fromCache?"not-current":"current"),f){r.push(f);const _=uO.Qi(d.targetId,f);s.push(_)}}))}),yield Promise.all(o),i.Va.a_(r),yield(c=(0,qe.Z)(function*(f,_){const x=xt(f);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Te.forEach(_,M=>Te.forEach(M.ki,N=>x.persistence.referenceDelegate.addReference(T,M.targetId,N)).next(()=>Te.forEach(M.qi,N=>x.persistence.referenceDelegate.removeReference(T,M.targetId,N)))))}catch(T){if(!uu(T))throw T;ct("LocalStore","Failed to update sequence numbers: "+T)}for(const T of _){const M=T.targetId;if(!T.fromCache){const N=x.ts.get(M),U=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);x.ts=x.ts.insert(M,U)}}}),function d(f,_){return c.apply(this,arguments)})(i.localStore,s))}),aP.apply(this,arguments)}function xve(n,t){return lP.apply(this,arguments)}function lP(){return lP=(0,qe.Z)(function*(n,t){const e=xt(n);if(!e.currentUser.isEqual(t)){ct("SyncEngine","User change. New user:",t.toKey());const i=yield F$(e.localStore,t);e.currentUser=t,(s=e).ba.forEach(c=>{c.forEach(d=>{d.reject(new it(Le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield cd(e,i._s)}var s}),lP.apply(this,arguments)}function wve(n,t){const e=xt(n),i=e.ya.get(t);if(i&&i.Ra)return Nn().add(i.key);{let r=Nn();const s=e.fa.get(t);if(!s)return r;for(const o of s){const c=e.ma.get(o);r=r.unionWith(c.view.ua)}return r}}function Cve(n,t){return cP.apply(this,arguments)}function cP(){return cP=(0,qe.Z)(function*(n,t){const e=xt(n),i=yield vD(e.localStore,t.query,!0),r=t.view.da(i);return e.isPrimaryClient&&sP(e,t.targetId,r.Ta),r}),cP.apply(this,arguments)}function Eve(n,t){return dP.apply(this,arguments)}function dP(){return dP=(0,qe.Z)(function*(n,t){const e=xt(n);return z$(e.localStore,t).then(i=>cd(e,i))}),dP.apply(this,arguments)}function Dve(n,t,e,i){return uP.apply(this,arguments)}function uP(){return uP=(0,qe.Z)(function*(n,t,e,i){const r=xt(n),s=yield function(c,d){const f=xt(c),_=xt(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",x=>_.Cn(x,d).next(T=>T?f.localDocuments.getDocuments(x,T):Te.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield dm(r.remoteStore):"acknowledged"===e||"rejected"===e?(rP(r,t,i||null),iP(r,t),d=t,xt(xt(r.localStore).mutationQueue).Fn(d)):Ft(),yield cd(r,s)):ct("SyncEngine","Cannot apply mutation batch with id: "+t)}),uP.apply(this,arguments)}function hP(){return hP=(0,qe.Z)(function*(n,t){const e=xt(n);if(mP(e),_P(e),!0===t&&!0!==e.Ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield c8(e,i.toArray());e.Ca=!0,yield VO(e.remoteStore,!0);for(const s of r)CD(e.remoteStore,s)}else if(!1===t&&!1!==e.Ca){const i=[];let r=Promise.resolve();e.fa.forEach((s,o)=>{e.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(gm(e,o),lm(e.localStore,o,!0))),Ab(e.remoteStore,o)}),yield r,yield c8(e,i),function(o){const c=xt(o);c.ya.forEach((d,f)=>{Ab(c.remoteStore,f)}),c.wa.Vr(),c.ya=new Map,c.pa=new ar(Et.comparator)}(e),e.Ca=!1,yield VO(e.remoteStore,!1)}}),hP.apply(this,arguments)}function c8(n,t,e){return fP.apply(this,arguments)}function fP(){return fP=(0,qe.Z)(function*(n,t,e){const i=xt(n),r=[],s=[];for(const o of t){let c;const d=i.fa.get(o);if(d&&0!==d.length){c=yield am(i.localStore,Ro(d[0]));for(const f of d){const _=i.ma.get(f),x=yield Cve(i,_);x.snapshot&&s.push(x.snapshot)}}else{const f=yield B$(i.localStore,o);c=yield am(i.localStore,f),yield qO(i,d8(f),o,!1,c.resumeToken)}r.push(c)}return i.Va.a_(s),r}),fP.apply(this,arguments)}function d8(n){return g5(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Ive(n){return e=xt(n).localStore,xt(xt(e).persistence).Bi();var e}function Sve(n,t,e,i){return pP.apply(this,arguments)}function pP(){return pP=(0,qe.Z)(function*(n,t,e,i){const r=xt(n);if(r.Ca)return void ct("SyncEngine","Ignoring unexpected query state notification.");const s=r.fa.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const o=yield z$(r.localStore,y5(s[0])),c=gb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,vs.EMPTY_BYTE_STRING);yield cd(r,o,c);break}case"rejected":yield lm(r.localStore,t,!0),gm(r,t,i);break;default:Ft()}}),pP.apply(this,arguments)}function Ave(n,t,e){return gP.apply(this,arguments)}function gP(){return gP=(0,qe.Z)(function*(n,t,e){const i=mP(n);if(i.Ca){for(const r of t){if(i.fa.has(r)){ct("SyncEngine","Adding an already active target "+r);continue}const s=yield B$(i.localStore,r),o=yield am(i.localStore,s);yield qO(i,d8(s),o.targetId,!1,o.resumeToken),CD(i.remoteStore,o)}for(const r of e)i.fa.has(r)&&(yield lm(i.localStore,r,!1).then(()=>{Ab(i.remoteStore,r),gm(i,r)}).catch(du))}}),gP.apply(this,arguments)}function mP(n){const t=xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=o8.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wve.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mve.bind(null,t),t.Va.a_=ove.bind(null,t.eventManager),t.Va.Fa=ave.bind(null,t.eventManager),t}function _P(n){const t=xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_ve.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vve.bind(null,t),t}class kb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,qe.Z)(function*(){e.serializer=Ib(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return N$(this.persistence,new P$,t.initialUser,this.serializer)}createPersistence(t){return new aO(gD.jr,this.serializer)}createSharedClientState(t){return new W$}terminate(){var t=this;return(0,qe.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class vP extends kb{constructor(t,e,i){super(),this.xa=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,qe.Z)(function*(){yield e().call(i,t),yield i.xa.initialize(i,t),yield _P(i.xa.syncEngine),yield dm(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return N$(this.persistence,new P$,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new D$(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new nme(e,this.persistence);return new tme(t.asyncQueue,i)}createPersistence(t){const e=dO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new cO(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,$$(),wD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new W$}}class u8 extends vP{constructor(t,e){super(t,e,!1),this.xa=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,qe.Z)(function*(){yield e().call(i,t);const r=i.xa.syncEngine;i.sharedClientState instanceof yO&&(i.sharedClientState.syncEngine={Ys:Dve.bind(null,r),Zs:Sve.bind(null,r),Xs:Ave.bind(null,r),Bi:Ive.bind(null,r),Js:Eve.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var s=(0,qe.Z)(function*(o){yield function Tve(n,t){return hP.apply(this,arguments)}(i.xa.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=$$();if(!yO.D(e))throw new it(Le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=dO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new yO(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class mm{initialize(t,e){var i=this;return(0,qe.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>a8(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=xve.bind(null,i.syncEngine),yield VO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new sve}createDatastore(t){const e=Ib(t.databaseInfo.databaseId),i=new U_e(t.databaseInfo);return new G_e(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,o=e=>a8(this.syncEngine,e,0),c=G$.D()?new G$:new B_e,new q_e(i,r,s,o,c);var i,r,s,o,c}createSyncEngine(t,e){return function(r,s,o,c,d,f,_){const x=new hve(r,s,o,c,d,f);return _&&(x.Ca=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,qe.Z)(function*(i){const r=xt(i);ct("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield cm(r),r.F_.shutdown(),r.M_.set("Unknown")}),function e(i){return t.apply(this,arguments)})(this.remoteStore);var t}}function h8(n,t=10240){let e=0;return{read:()=>(0,qe.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,qe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class DD{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Xr("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Rve{constructor(t,e){this.Ba=t,this.serializer=e,this.metadata=new _s,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var t=this;return(0,qe.Z)(function*(){return t.metadata.promise})()}Ma(){var t=this;return(0,qe.Z)(function*(){return yield t.getMetadata(),t.ka()})()}ka(){var t=this;return(0,qe.Z)(function*(){const e=yield t.qa();if(null===e)return null;const i=t.La.decode(e),r=Number(i);isNaN(r)&&t.Qa(`length string (${i}) is not valid number`);const s=yield t.Ka(r);return new lve(JSON.parse(s),e.length+r)})()}$a(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}qa(){var t=this;return(0,qe.Z)(function*(){for(;t.$a()<0&&!(yield t.Ua()););if(0===t.buffer.length)return null;const e=t.$a();e<0&&t.Qa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Ka(t){var e=this;return(0,qe.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ua())&&e.Qa("Reached the end of bundle when more is expected.");const i=e.La.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Qa(t){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${t}`)}Ua(){var t=this;return(0,qe.Z)(function*(){const e=yield t.Ba.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Ove{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,qe.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new it(Le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,qe.Z)(function*(o,c){const d=xt(o),f=vb(d.serializer)+"/documents",_={documents:c.map(N=>_b(d.serializer,N))},x=yield d.Co("BatchGetDocuments",f,_,c.length),T=new Map;x.forEach(N=>{const V=function e_e(n,t){return"found"in t?function(i,r){Zt(!!r.found);const s=fc(i,r.found.name),o=Zr(r.found.updateTime),c=r.found.createTime?Zr(r.found.createTime):Kt.min(),d=new Ws({mapValue:{fields:r.found.fields}});return gr.newFoundDocument(s,o,c,d)}(n,t):"missing"in t?function(i,r){Zt(!!r.missing),Zt(!!r.readTime);const s=fc(i,r.missing),o=Zr(r.readTime);return gr.newNoDocument(s,o)}(n,t):Ft()}(d.serializer,N);T.set(V.key.toString(),V)});const M=[];return c.forEach(N=>{const V=T.get(N.toString());Zt(!!V),M.push(V)}),M}),function s(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new em(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,qe.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Et.fromPath(r);t.mutations.push(new jR(s,t.precondition(s)))}),yield(i=(0,qe.Z)(function*(s,o){const c=xt(s),d=vb(c.serializer)+"/documents",f={writes:o.map(_=>yb(c.serializer,_))};yield c.wo("Commit",d,f)}),function r(s,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ft();e=Kt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new it(Le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Kt.min())?xr.exists(!1):xr.updateTime(e):xr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Kt.min()))throw new it(Le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xr.updateTime(e)}return xr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Pve{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Wa=i.maxAttempts,this.zo=new xO(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var t=this;this.zo.ko((0,qe.Z)(function*(){const e=new Ove(t.datastore),i=t.za(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.ja(s)}))}).catch(r=>{t.ja(r)})}))}za(t){try{const e=this.updateFunction(t);return!eb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(t){this.Wa>0&&this.Ha(t)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(t)}Ha(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!L5(e)}return!1}}class Nve{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Ms.UNAUTHENTICATED,this.clientId=RG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=(0,qe.Z)(function*(c){ct("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(ct("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return(0,qe.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new it(Le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,qe.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=hm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function TD(n,t){return yP.apply(this,arguments)}function yP(){return yP=(0,qe.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),ct("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,qe.Z)(function*(s){i.isEqual(s)||(yield F$(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),yP.apply(this,arguments)}function bP(n,t){return xP.apply(this,arguments)}function xP(){return xP=(0,qe.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield wP(n);ct("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>J$(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>J$(t.remoteStore,s)),n._onlineComponents=t}),xP.apply(this,arguments)}function f8(n){return"FirebaseError"===n.name?n.code===Le.FAILED_PRECONDITION||n.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function wP(n){return CP.apply(this,arguments)}function CP(){return CP=(0,qe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct("FirestoreClient","Using user provided OfflineComponentProvider");try{yield TD(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!f8(e))throw e;Qo("Error using user provided cache. Falling back to memory cache: "+e),yield TD(n,new kb)}}else ct("FirestoreClient","Using default OfflineComponentProvider"),yield TD(n,new kb);return n._offlineComponents}),CP.apply(this,arguments)}function ID(n){return EP.apply(this,arguments)}function EP(){return EP=(0,qe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct("FirestoreClient","Using user provided OnlineComponentProvider"),yield bP(n,n._uninitializedComponentsProvider._online)):(ct("FirestoreClient","Using default OnlineComponentProvider"),yield bP(n,new mm))),n._onlineComponents}),EP.apply(this,arguments)}function p8(n){return wP(n).then(t=>t.persistence)}function _m(n){return wP(n).then(t=>t.localStore)}function g8(n){return ID(n).then(t=>t.remoteStore)}function DP(n){return ID(n).then(t=>t.syncEngine)}function vm(n){return TP.apply(this,arguments)}function TP(){return TP=(0,qe.Z)(function*(n){const t=yield ID(n),e=t.eventManager;return e.onListen=fve.bind(null,t.syncEngine),e.onUnlisten=pve.bind(null,t.syncEngine),e}),TP.apply(this,arguments)}function _8(n,t,e={}){const i=new _s;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function(s,o,c,d,f){const _=new DD({next:T=>{o.enqueueAndForget(()=>jO(s,x));const M=T.docs.has(c);!M&&T.fromCache?f.reject(new it(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&T.fromCache&&d&&"server"===d.source?f.reject(new it(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(T)},error:T=>f.reject(T)}),x=new $O(qg(c.path),_,{includeMetadataChanges:!0,J_:!0});return HO(s,x)}(yield vm(n),n.asyncQueue,t,e,i)})),i.promise}function v8(n,t,e={}){const i=new _s;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function(s,o,c,d,f){const _=new DD({next:T=>{o.enqueueAndForget(()=>jO(s,x)),T.fromCache&&"server"===d.source?f.reject(new it(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(T)},error:T=>f.reject(T)}),x=new $O(c,_,{includeMetadataChanges:!0,J_:!0});return HO(s,x)}(yield vm(n),n.asyncQueue,t,e,i)})),i.promise}function y8(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const b8=new Map;function IP(n,t,e){if(!e)throw new it(Le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function x8(n,t,e,i){if(!0===t&&!0===i)throw new it(Le.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function w8(n){if(!Et.isDocumentKey(n))throw new it(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function C8(n){if(Et.isDocumentKey(n))throw new it(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function SD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":Ft()}function Jn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new it(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=SD(n);throw new it(Le.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function E8(n,t){if(t<=0)throw new it(Le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class D8{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new it(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new it(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}x8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=y8(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new it(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mb{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D8({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new it(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new it(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D8(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new jge;switch(i.type){case"firstParty":return new Yge(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new it(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=b8.get(e);i&&(ct("ComponentProvider","Removing Datastore"),b8.delete(e),i.terminate())}(this),Promise.resolve()}}class Gs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Gs(this.firestore,t,this._query)}}class mr{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mr(this.firestore,t,this._key)}}class pc extends Gs{constructor(t,e,i){super(t,e,qg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mr(this.firestore,null,new Et(t))}withConverter(t){return new pc(this.firestore,t,this._path)}}function I8(n,t,...e){if(n=(0,ne.m9)(n),IP("collection","path",t),n instanceof Mb){const i=ci.fromString(t,...e);return C8(i),new pc(n,null,i)}{if(!(n instanceof mr||n instanceof pc))throw new it(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ci.fromString(t,...e));return C8(i),new pc(n.firestore,null,i)}}function AD(n,t,...e){if(n=(0,ne.m9)(n),1===arguments.length&&(t=RG.newId()),IP("doc","path",t),n instanceof Mb){const i=ci.fromString(t,...e);return w8(i),new mr(n,null,new Et(i))}{if(!(n instanceof mr||n instanceof pc))throw new it(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ci.fromString(t,...e));return w8(i),new mr(n.firestore,n instanceof pc?n.converter:null,new Et(i))}}function S8(n,t){return n=(0,ne.m9)(n),t=(0,ne.m9)(t),(n instanceof mr||n instanceof pc)&&(t instanceof mr||t instanceof pc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function SP(n,t){return n=(0,ne.m9)(n),t=(0,ne.m9)(t),n instanceof Gs&&t instanceof Gs&&n.firestore===t.firestore&&lb(n._query,t._query)&&n.converter===t.converter}class Yve{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new xO(this,"async_queue_retry"),this.iu=()=>{const e=wD();e&&ct("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=wD();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=wD();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new _s;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return(0,qe.Z)(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!uu(e))throw e;ct("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,Xr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=zO.createAndSchedule(this,t,e,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&Ft()}verifyOperationInProgress(){}uu(){var t=this;return(0,qe.Z)(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}function AP(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class qve{constructor(){this._progressObserver={},this._taskCompletionResolver=new _s,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class lr extends Mb{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Yve,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||A8(this),this._firestoreClient.terminate()}}function zr(n){return n._firestoreClient||A8(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function A8(n){var t,e,i;const r=n._freezeSettings(),s=(d=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Cme(n._databaseId,d,n._persistenceKey,(_=r).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,y8(_.experimentalLongPollingOptions),_.useFetchStreams));var d,_;n._firestoreClient=new Nve(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function k8(n,t,e){const i=new _s;return n.asyncQueue.enqueue((0,qe.Z)(function*(){try{yield TD(n,e),yield bP(n,t),i.resolve()}catch(r){const s=r;if(!f8(s))throw s;Qo("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function M8(n){if(n._initialized||n._terminated)throw new it(Le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gc(vs.fromBase64String(t))}catch(e){throw new it(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new gc(vs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class dd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new it(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class rf{constructor(t){this._methodName=t}}class kD{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new it(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new it(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return gn(this._lat,t._lat)||gn(this._long,t._long)}}const sye=/^__.*__$/;class oye{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new ad(t,this.data,this.fieldMask,e,this.fieldTransforms):new Jg(t,this.data,e,this.fieldTransforms)}}class R8{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ad(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function O8(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class MD{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new MD(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return PD(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(O8(this.Iu)&&sye.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class aye{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Ib(t)}pu(t,e,i,r=!1){return new MD({Iu:t,methodName:e,gu:i,path:pr.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sf(n){const t=n._freezeSettings(),e=Ib(n._databaseId);return new aye(n._databaseId,!!t.ignoreUndefinedProperties,e)}function RD(n,t,e,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,t,e,r);OP("Data must be an object, but it was:",o,i);const c=F8(i,o);let d,f;if(s.merge)d=new Jo(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const _=[];for(const x of s.mergeFields){const T=Pb(t,x,e);if(!o.contains(T))throw new it(Le.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);V8(_,T)||_.push(T)}d=new Jo(_),f=o.fieldTransforms.filter(x=>d.covers(x.field))}else d=null,f=o.fieldTransforms;return new oye(new Ws(c),d,f)}class Ob extends rf{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ob}}function P8(n,t,e){return new MD({Iu:3,gu:t.settings.gu,methodName:n._methodName,du:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class kP extends rf{_toFieldTransform(t){return new hb(t.path,new Kg)}isEqual(t){return t instanceof kP}}class lye extends rf{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=P8(this,t,!0),i=this.yu.map(s=>af(s,e)),r=new qh(i);return new hb(t.path,r)}isEqual(t){return this===t}}class cye extends rf{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=P8(this,t,!0),i=this.yu.map(s=>af(s,e)),r=new Xh(i);return new hb(t.path,r)}isEqual(t){return this===t}}class dye extends rf{constructor(t,e){super(t),this.wu=e}_toFieldTransform(t){const e=new Qg(t.serializer,T5(t.serializer,this.wu));return new hb(t.path,e)}isEqual(t){return this===t}}function MP(n,t,e,i){const r=n.pu(1,t,e);OP("Data must be an object, but it was:",r,i);const s=[],o=Ws.empty();hu(i,(d,f)=>{const _=OD(t,d,e);f=(0,ne.m9)(f);const x=r.Ru(_);if(f instanceof Ob)s.push(_);else{const T=af(f,x);null!=T&&(s.push(_),o.set(_,T))}});const c=new Jo(s);return new R8(o,c,r.fieldTransforms)}function RP(n,t,e,i,r,s){const o=n.pu(1,t,e),c=[Pb(t,i,e)],d=[r];if(s.length%2!=0)throw new it(Le.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<s.length;T+=2)c.push(Pb(t,s[T])),d.push(s[T+1]);const f=[],_=Ws.empty();for(let T=c.length-1;T>=0;--T)if(!V8(f,c[T])){const M=c[T];let N=d[T];N=(0,ne.m9)(N);const V=o.Ru(M);if(N instanceof Ob)f.push(M);else{const U=af(N,V);null!=U&&(f.push(M),_.set(M,U))}}const x=new Jo(f);return new R8(_,x,o.fieldTransforms)}function N8(n,t,e,i=!1){return af(e,n.pu(i?4:3,t))}function af(n,t){if(L8(n=(0,ne.m9)(n)))return OP("Unsupported field value:",t,n),F8(n,t);if(n instanceof rf)return function(i,r){if(!O8(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const c of i){let d=af(c,r.Vu(o));null==d&&(d={nullValue:"NULL_VALUE"}),s.push(d),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=(0,ne.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return T5(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=br.fromDate(i);return{timestampValue:tm(r.serializer,s)}}if(i instanceof br){const s=new br(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:tm(r.serializer,s)}}if(i instanceof kD)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gc)return{bytesValue:Y5(r.serializer,i._byteString)};if(i instanceof mr){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:XR(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${SD(i)}`)}(n,t)}function F8(n,t){const e={};return YG(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hu(n,(i,r)=>{const s=af(r,t.Eu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function L8(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof br||n instanceof kD||n instanceof gc||n instanceof mr||n instanceof rf)}function OP(n,t,e){if(!L8(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=SD(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Pb(n,t,e){if((t=(0,ne.m9)(t))instanceof dd)return t._internalPath;if("string"==typeof t)return OD(n,t);throw PD("Field path arguments must be of type string or ",n,!1,void 0,e)}const uye=new RegExp("[~\\*/\\[\\]]");function OD(n,t,e){if(t.search(uye)>=0)throw PD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new dd(...t.split("."))._internalPath}catch{throw PD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function PD(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||o)&&(d+=" (found",s&&(d+=` in field ${i}`),o&&(d+=` in document ${r}`),d+=")"),new it(Le.INVALID_ARGUMENT,c+n+d)}function V8(n,t){return n.some(e=>e.isEqual(t))}class Nb{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new hye(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ND("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class hye extends Nb{data(){return super.data()}}function ND(n,t){return"string"==typeof t?OD(n,t):t instanceof dd?t._internalPath:t._delegate._internalPath}function B8(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new it(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PP{}class Fb extends PP{}function Du(n,t,...e){let i=[];t instanceof PP&&i.push(t),i=i.concat(e),function(s){const o=s.filter(d=>d instanceof ym).length,c=s.filter(d=>d instanceof Lb).length;if(o>1||o>0&&c>0)throw new it(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Lb extends Fb{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Lb(t,e,i)}_apply(t){const e=this._parse(t);return j8(t._query,e),new Gs(t.firestore,t.converter,HR(t._query,e))}_parse(t){const e=sf(t.firestore);return function(s,o,c,d,f,_,x){let T;if(f.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new it(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){U8(x,_);const M=[];for(const N of x)M.push(H8(d,s,N));T={arrayValue:{values:M}}}else T=H8(d,s,x)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||U8(x,_),T=N8(c,"where",x,"in"===_||"not-in"===_);return ni.create(f,_,T)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class ym extends PP{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ym(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Li.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,s){let o=r;const c=s.getFlattenedFilters();for(const d of c)j8(o,d),o=HR(o,d)}(t._query,e),new Gs(t.firestore,t.converter,HR(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class NP extends Fb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new NP(t,e)}_apply(t){const e=function(r,s,o){if(null!==r.startAt)throw new it(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new it(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ob(s,o)}(t._query,this._field,this._direction);return new Gs(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new sd(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class FD extends Fb{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new FD(t,e,i)}_apply(t){return new Gs(t.firestore,t.converter,nD(t._query,this._limit,this._limitType))}}class LD extends Fb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new LD(t,e,i)}_apply(t){const e=z8(t,this.type,this._docOrFields,this._inclusive);return new Gs(t.firestore,t.converter,(s=e,new sd((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class VD extends Fb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new VD(t,e,i)}_apply(t){const e=z8(t,this.type,this._docOrFields,this._inclusive);return new Gs(t.firestore,t.converter,(s=e,new sd((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function z8(n,t,e,i){if(e[0]=(0,ne.m9)(e[0]),e[0]instanceof Nb)return function(s,o,c,d,f){if(!d)throw new it(Le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const x of Xg(s))if(x.field.isKeyField())_.push($h(o,d.key));else{const T=d.data.field(x.field);if(XE(T))throw new it(Le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const M=x.field.canonicalString();throw new it(Le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}_.push(T)}return new vu(_,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=sf(n.firestore);return function(o,c,d,f,_,x){const T=o.explicitOrderBy;if(_.length>T.length)throw new it(Le.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let N=0;N<_.length;N++){const V=_[N];if(T[N].field.isKeyField()){if("string"!=typeof V)throw new it(Le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof V}`);if(!zR(o)&&-1!==V.indexOf("/"))throw new it(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${V}' contains a slash.`);const U=o.path.child(ci.fromString(V));if(!Et.isDocumentKey(U))throw new it(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const re=new Et(U);M.push($h(c,re))}else{const U=N8(d,f,V);M.push(U)}}return new vu(M,x)}(n._query,n.firestore._databaseId,r,t,e,i)}}function H8(n,t,e){if("string"==typeof(e=(0,ne.m9)(e))){if(""===e)throw new it(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zR(t)&&-1!==e.indexOf("/"))throw new it(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ci.fromString(e));if(!Et.isDocumentKey(i))throw new it(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $h(n,new Et(i))}if(e instanceof mr)return $h(n,e._key);throw new it(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${SD(e)}.`)}function U8(n,t){if(!Array.isArray(n)||0===n.length)throw new it(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function j8(n,t){const e=function(r,s){for(const o of r)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new it(Le.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class FP{convertValue(t,e="none"){switch(mu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Br(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(rd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ft()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return hu(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new kD(Br(t.latitude),Br(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ZE(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(nb(t));default:return null}}convertTimestamp(t){const e=fu(t);return new br(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ci.fromString(t);Zt(i$(i));const r=new pu(i.get(1),i.get(3)),s=new Et(i.popFirst(5));return r.isEqual(e)||Xr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function BD(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class xye extends FP{constructor(t){super(),this.firestore=t}convertBytes(t){return new gc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new mr(this.firestore,null,e)}}class lf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ud extends Nb{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Vb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(ND("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Vb extends ud{data(t={}){return super.data(t)}}class Tu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new lf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Vb(this._firestore,this._userDataWriter,i.key,i,new lf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new it(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Vb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new lf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const d=new Vb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new lf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,_=-1;return 0!==c.type&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),_=o.indexOf(c.doc.key)),{type:Cye(c.type),doc:d,oldIndex:f,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Cye(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}function G8(n,t){return n instanceof ud&&t instanceof ud?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Tu&&t instanceof Tu&&n._firestore===t._firestore&&SP(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Iu extends FP{constructor(t){super(),this.firestore=t}convertBytes(t){return new gc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new mr(this.firestore,null,e)}}function $8(n,t,e){n=Jn(n,mr);const i=Jn(n.firestore,lr),r=BD(n.converter,t,e);return bm(i,[RD(sf(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,xr.none())])}function Y8(n,t,e,...i){n=Jn(n,mr);const r=Jn(n.firestore,lr),s=sf(r);let o;return o="string"==typeof(t=(0,ne.m9)(t))||t instanceof dd?RP(s,"updateDoc",n._key,t,e,i):MP(s,"updateDoc",n._key,t),bm(r,[o.toMutation(n._key,xr.exists(!0))])}function q8(n,...t){var e,i,r;n=(0,ne.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||AP(t[o])||(s=t[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges};if(AP(t[o])){const x=t[o];t[o]=null===(e=x.next)||void 0===e?void 0:e.bind(x),t[o+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),t[o+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let d,f,_;if(n instanceof mr)f=Jn(n.firestore,lr),_=qg(n._key.path),d={next:x=>{t[o]&&t[o](LP(f,n,x))},error:t[o+1],complete:t[o+2]};else{const x=Jn(n,Gs);f=Jn(x.firestore,lr),_=x._query;const T=new Iu(f);d={next:M=>{t[o]&&t[o](new Tu(f,T,x,M))},error:t[o+1],complete:t[o+2]},B8(n._query)}return function(T,M,N,V){const U=new DD(V),re=new $O(M,U,N);return T.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return HO(yield vm(T),re)})),()=>{U.Na(),T.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return jO(yield vm(T),re)}))}}(zr(f),_,c,d)}function bm(n,t){return function(i,r){const s=new _s;return i.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function gve(n,t,e){return KO.apply(this,arguments)}(yield DP(i),r,s)})),s.promise}(zr(n),t)}function LP(n,t,e){const i=e.docs.get(t._key),r=new Iu(n);return new ud(n,r,t._key,i,new lf(e.hasPendingWrites,e.fromCache),t.converter)}const Hye={maxAttempts:5};class X8{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=sf(t)}set(t,e,i){this._verifyNotCommitted();const r=Su(t,this._firestore),s=BD(r.converter,e,i),o=RD(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(o.toMutation(r._key,xr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Su(t,this._firestore);let o;return o="string"==typeof(e=(0,ne.m9)(e))||e instanceof dd?RP(this._dataReader,"WriteBatch.update",s._key,e,i,r):MP(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,xr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Su(t,this._firestore);return this._mutations=this._mutations.concat(new em(e._key,xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(Le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Su(n,t){if((n=(0,ne.m9)(n)).firestore!==t)throw new it(Le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Uye extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=sf(e)}get(e){const i=Su(e,this._firestore),r=new xye(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||1!==s.length)return Ft();const o=s[0];if(o.isFoundDocument())return new Nb(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new Nb(this._firestore,r,i._key,null,i.converter);throw Ft()})}set(e,i,r){const s=Su(e,this._firestore),o=BD(s.converter,i,r),c=RD(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,r);return this._transaction.set(s._key,c),this}update(e,i,r,...s){const o=Su(e,this._firestore);let c;return c="string"==typeof(i=(0,ne.m9)(i))||i instanceof dd?RP(this._dataReader,"Transaction.update",o._key,i,r,s):MP(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,c),this}delete(e){const i=Su(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Su(t,this._firestore),i=new Iu(this._firestore);return super.get(t).then(r=>new ud(this._firestore,i,e._key,r._document,new lf(!1,!1),e.converter))}}function BP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new it("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function J8(){if(typeof Uint8Array>"u")throw new it("unimplemented","Uint8Arrays are not available in this environment.")}function eY(){if(!function xme(){return typeof atob<"u"}())throw new it("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){zg=Xo.SDK_VERSION,(0,Xo._registerComponent)(new yl.wA("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),c=new lr(new Gge(i.getProvider("auth-internal")),new qge(i.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new it(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(f.options.projectId,_)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),(0,Xo.registerVersion)(AG,"4.3.2",t),(0,Xo.registerVersion)(AG,"4.3.2","esm2017")}();class Bb{constructor(t){this._delegate=t}static fromBase64String(t){return eY(),new Bb(gc.fromBase64String(t))}static fromUint8Array(t){return J8(),new Bb(gc.fromUint8Array(t))}toBase64(){return eY(),this._delegate.toBase64()}toUint8Array(){return J8(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zP(n){return function Qye(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class Jye{enableIndexedDbPersistence(t,e){return function Zve(n,t){M8(n=Jn(n,lr));const e=zr(n);if(e._uninitializedComponentsProvider)throw new it(Le.FAILED_PRECONDITION,"SDK cache is already specified.");Qo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new mm;return k8(e,r,new vP(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Kve(n){M8(n=Jn(n,lr));const t=zr(n);if(t._uninitializedComponentsProvider)throw new it(Le.FAILED_PRECONDITION,"SDK cache is already specified.");Qo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new mm;return k8(t,i,new u8(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Qve(n){if(n._initialized&&!n._terminated)throw new it(Le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new _s;return n._queue.enqueueAndForgetEvenWhileRestricted((0,qe.Z)(function*(){try{yield(e=(0,qe.Z)(function*(r){if(!Tl.D())return Promise.resolve();const s=r+"main";yield Tl.delete(s)}),function i(r){return e.apply(this,arguments)})(dO(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class tY{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof pu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Qo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function T8(n,t,e,i={}){var r;const s=(n=Jn(n,Mb))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Ms.MOCK_USER;else{c=(0,ne.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new it(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ms(f)}n._authCredentials=new Wge(new kG(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function eye(n){return function Fve(n){return n.asyncQueue.enqueue((0,qe.Z)(function*(){const t=yield p8(n),e=yield g8(n);return t.setNetworkEnabled(!0),function(r){const s=xt(r);return s.C_.delete(0),Sb(s)}(e)}))}(zr(n=Jn(n,lr)))}(this._delegate)}disableNetwork(){return function tye(n){return function Lve(n){return n.asyncQueue.enqueue((0,qe.Z)(function*(){const t=yield p8(n),e=yield g8(n);return t.setNetworkEnabled(!1),(i=(0,qe.Z)(function*(s){const o=xt(s);o.C_.add(0),yield cm(o),o.M_.set("Offline")}),function r(s){return i.apply(this,arguments)})(e);var i}))}(zr(n=Jn(n,lr)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,x8("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Jve(n){return function(e){const i=new _s;return e.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function yve(n,t){return nP.apply(this,arguments)}(yield DP(e),i)})),i.promise}(zr(n=Jn(n,lr)))}(this._delegate)}onSnapshotsInSync(t){return function Rye(n,t){return function zve(n,t){const e=new DD(t);return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return r=yield vm(n),s=e,xt(r).q_.add(s),void s.next();var r,s})),()=>{e.Na(),n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return r=yield vm(n),s=e,void xt(r).q_.delete(s);var r,s}))}}(zr(n=Jn(n,lr)),AP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new it("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new xm(this,I8(this._delegate,t))}catch(e){throw Oo(e,"collection()","Firestore.collection()")}}doc(t){try{return new Za(this,AD(this._delegate,t))}catch(e){throw Oo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Po(this,function $ve(n,t){if(n=Jn(n,Mb),IP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new it(Le.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Gs(n,null,(i=t,new sd(ci.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw Oo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function jye(n,t,e){n=Jn(n,lr);const i=Object.assign(Object.assign({},Hye),e);return function(s){if(s.maxAttempts<1)throw new it(Le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,c){const d=new _s;return s.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){const f=yield function m8(n){return ID(n).then(t=>t.datastore)}(s);new Pve(s.asyncQueue,f,c,o,d).run()})),d.promise}(zr(n),r=>t(new Uye(n,r)),i)}(this._delegate,e=>t(new nY(this,e)))}batch(){return zr(this._delegate),new iY(new X8(this._delegate,t=>bm(this._delegate,t)))}loadBundle(t){return function nye(n,t){const e=zr(n=Jn(n,lr)),i=new qve;return function Hve(n,t,e,i){const r=function(o,c){let d;return d="string"==typeof o?B5().encode(o):o,_=function(_,x){if(_ instanceof Uint8Array)return h8(_,x);if(_ instanceof ArrayBuffer)return h8(new Uint8Array(_),x);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new Rve(_,c);var _}(e,Ib(t));n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){!function kve(n,t,e){const i=xt(n);var r;(r=(0,qe.Z)(function*(o,c,d){try{const f=yield c.getMetadata();if(yield function(N,V){const U=xt(N),re=Zr(V.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",te=>U.Kr.getBundleMetadata(te,V.id)).then(te=>!!te&&te.createTime.compareTo(re)>=0)}(o.localStore,f))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(N=f).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);d._updateProgress(n8(f));const _=new cve(f,o.localStore,c.serializer);let x=yield c.Ma();for(;x;){const M=yield _.ea(x);M&&d._updateProgress(M),x=yield c.Ma()}const T=yield _.complete();return yield cd(o,T.ra,void 0),yield function(N,V){const U=xt(N);return U.persistence.runTransaction("Save bundle","readwrite",re=>U.Kr.saveBundleMetadata(re,V))}(o.localStore,f),d._completeWith(T.progress),Promise.resolve(T.na)}catch(f){return Qo("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var N}),function s(o,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield DP(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function iye(n,t){return function Uve(n,t){return n.asyncQueue.enqueue((0,qe.Z)(function*(){return function(i,r){const s=xt(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,r))}(yield _m(n),t)}))}(zr(n=Jn(n,lr)),t).then(e=>e?new Gs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Po(this,e):null)}}class HD extends FP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bb(new gc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Za.forKey(e,this.firestore,null)}}class nY{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new HD(t)}get(t){const e=df(t);return this._delegate.get(e).then(i=>new zb(this._firestore,new ud(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=df(t);return i?(BP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=df(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=df(t);return this._delegate.delete(e),this}}class iY{constructor(t){this._delegate=t}set(t,e,i){const r=df(t);return i?(BP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=df(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=df(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class cf{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Vb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Hb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=cf.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new cf(t,new HD(t),e),r.set(e,s)),s}}cf.INSTANCES=new WeakMap;class Za{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new HD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new it("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Za(e,new mr(e._delegate,i,new Et(t)))}static forKey(t,e,i){return new Za(e,new mr(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new xm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new xm(this.firestore,I8(this._delegate,t))}catch(e){throw Oo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ne.m9)(t))instanceof mr&&S8(this._delegate,t)}set(t,e){e=BP("DocumentReference.set",e);try{return e?$8(this._delegate,t,e):$8(this._delegate,t)}catch(i){throw Oo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?Y8(this._delegate,t):Y8(this._delegate,t,e,...i)}catch(r){throw Oo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function kye(n){return bm(Jn(n.firestore,lr),[new em(n._key,xr.none())])}(this._delegate)}onSnapshot(...t){const e=rY(t),i=sY(t,r=>new zb(this.firestore,new ud(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return q8(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function Dye(n){n=Jn(n,mr);const t=Jn(n.firestore,lr),e=zr(t),i=new Iu(t);return function Vve(n,t){const e=new _s;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return(i=(0,qe.Z)(function*(s,o,c){try{const d=yield function(_,x){const T=xt(_);return T.persistence.runTransaction("read document","readonly",M=>T.localDocuments.getDocument(M,x))}(s,o);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new it(Le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=hm(d,`Failed to get document '${o} from cache`);c.reject(f)}}),function r(s,o,c){return i.apply(this,arguments)})(yield _m(n),t,e);var i})),e.promise}(e,n._key).then(r=>new ud(t,i,n._key,r,new lf(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function Tye(n){n=Jn(n,mr);const t=Jn(n.firestore,lr);return _8(zr(t),n._key,{source:"server"}).then(e=>LP(t,n,e))}(this._delegate):function Eye(n){n=Jn(n,mr);const t=Jn(n.firestore,lr);return _8(zr(t),n._key).then(e=>LP(t,n,e))}(this._delegate),e.then(i=>new zb(this.firestore,new ud(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Za(this.firestore,this._delegate.withConverter(t?cf.getInstance(this.firestore,t):null))}}function Oo(n,t,e){return n.message=n.message.replace(t,e),n}function rY(n){for(const t of n)if("object"==typeof t&&!zP(t))return t;return{}}function sY(n,t){var e,i;let r;return r=zP(n[0])?n[0]:zP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class zb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Za(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return G8(this._delegate,t._delegate)}}class Hb extends zb{data(t){const e=this._delegate.data(t);return function Uge(n,t){n||Ft()}(void 0!==e),e}}class Po{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new HD(t)}where(t,e,i){try{return new Po(this.firestore,Du(this._delegate,function fye(n,t,e){const i=t,r=ND("where",n);return Lb._create(r,i,e)}(t,e,i)))}catch(r){throw Oo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Po(this.firestore,Du(this._delegate,function pye(n,t="asc"){const e=t,i=ND("orderBy",n);return NP._create(i,e)}(t,e)))}catch(i){throw Oo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Po(this.firestore,Du(this._delegate,function gye(n){return E8("limit",n),FD._create("limit",n,"F")}(t)))}catch(e){throw Oo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Po(this.firestore,Du(this._delegate,function mye(n){return E8("limitToLast",n),FD._create("limitToLast",n,"L")}(t)))}catch(e){throw Oo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Po(this.firestore,Du(this._delegate,function _ye(...n){return LD._create("startAt",n,!0)}(...t)))}catch(e){throw Oo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Po(this.firestore,Du(this._delegate,function vye(...n){return LD._create("startAfter",n,!1)}(...t)))}catch(e){throw Oo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Po(this.firestore,Du(this._delegate,function yye(...n){return VD._create("endBefore",n,!1)}(...t)))}catch(e){throw Oo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Po(this.firestore,Du(this._delegate,function bye(...n){return VD._create("endAt",n,!0)}(...t)))}catch(e){throw Oo(e,"endAt()","Query.endAt()")}}isEqual(t){return SP(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function Sye(n){n=Jn(n,Gs);const t=Jn(n.firestore,lr),e=zr(t),i=new Iu(t);return function Bve(n,t){const e=new _s;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return(i=(0,qe.Z)(function*(s,o,c){try{const d=yield vD(s,o,!0),f=new s8(o,d.ls),_=f.ca(d.documents),x=f.applyChanges(_,!1);c.resolve(x.snapshot)}catch(d){const f=hm(d,`Failed to execute query '${o} against cache`);c.reject(f)}}),function r(s,o,c){return i.apply(this,arguments)})(yield _m(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Tu(t,i,n,r))}(this._delegate):"server"===t?.source?function Aye(n){n=Jn(n,Gs);const t=Jn(n.firestore,lr),e=zr(t),i=new Iu(t);return v8(e,n._query,{source:"server"}).then(r=>new Tu(t,i,n,r))}(this._delegate):function Iye(n){n=Jn(n,Gs);const t=Jn(n.firestore,lr),e=zr(t),i=new Iu(t);return B8(n._query),v8(e,n._query).then(r=>new Tu(t,i,n,r))}(this._delegate),e.then(i=>new HP(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=rY(t),i=sY(t,r=>new HP(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return q8(this._delegate,e,i)}withConverter(t){return new Po(this.firestore,this._delegate.withConverter(t?cf.getInstance(this.firestore,t):null))}}class tbe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Hb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class HP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Hb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new tbe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Hb(this._firestore,i))})}isEqual(t){return G8(this._delegate,t._delegate)}}class xm extends Po{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Za(this.firestore,t):null}doc(t){try{return new Za(this.firestore,void 0===t?AD(this._delegate):AD(this._delegate,t))}catch(e){throw Oo(e,"doc()","CollectionReference.doc()")}}add(t){return function Mye(n,t){const e=Jn(n.firestore,lr),i=AD(n),r=BD(n.converter,t);return bm(e,[RD(sf(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,xr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Za(this.firestore,e))}isEqual(t){return S8(this._delegate,t._delegate)}withConverter(t){return new xm(this.firestore,this._delegate.withConverter(t?cf.getInstance(this.firestore,t):null))}}function df(n){return Jn(n,mr)}class UP{constructor(...t){this._delegate=new dd(...t)}static documentId(){return new UP(pr.keyField().canonicalString())}isEqual(t){return(t=(0,ne.m9)(t))instanceof dd&&this._delegate._internalPath.isEqual(t._internalPath)}}class uf{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Gye(){return new kP("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new uf(t)}static delete(){const t=function Wye(){return new Ob("deleteField")}();return t._methodName="FieldValue.delete",new uf(t)}static arrayUnion(...t){const e=function $ye(...n){return new lye("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new uf(e)}static arrayRemove(...t){const e=function Yye(...n){return new cye("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new uf(e)}static increment(t){const e=function qye(n){return new dye("increment",n)}(t);return e._methodName="FieldValue.increment",new uf(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const nbe={Firestore:tY,GeoPoint:kD,Timestamp:br,Blob:Bb,Transaction:nY,WriteBatch:iY,DocumentReference:Za,DocumentSnapshot:zb,Query:Po,QueryDocumentSnapshot:Hb,QuerySnapshot:HP,CollectionReference:xm,FieldPath:UP,FieldValue:uf,setLogLevel:function ebe(n){!function Hge(n){cu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function oY(n,t){return function sbe(n,t=qd){return new Ht(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function jP(n,t){return oY(n,t).pipe($e(e=>({payload:e,type:"query"})))}!function rbe(n){(function ibe(n,t){n.INTERNAL.registerComponent(new yl.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},nbe)))})(n,(t,e)=>new tY(t,e,new Jye)),n.registerVersion("@firebase/firestore-compat","0.3.21")}(ma.Z);class aY{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=fY(i,e);return new dY(r,s,this.afs)}snapshotChanges(){return function obe(n,t){return oY(n,t).pipe(ko(void 0),Rg(),$e(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qr)}valueChanges(t={}){return this.snapshotChanges().pipe($e(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return $(this.ref.get(t)).pipe(qr)}}function UD(n,t){return jP(n,t).pipe(ko(void 0),Rg(),$e(e=>{const[i,r]=e,s=r.payload.docChanges(),o=s.map(c=>({type:c.type,payload:c}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,d)=>{const f=s.find(x=>x.doc.ref.isEqual(c.ref)),_=i?.payload.docs.find(x=>x.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),o}))}function lY(n,t,e){return UD(n,e).pipe(vg((i,r)=>function abe(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function lbe(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return WP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return WP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return WP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),en(),$e(i=>i.map(r=>({type:r.type,payload:r}))))}function WP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function cY(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class dY{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=UD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe($e(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(ko(void 0),Rg(),Dn(([i,r])=>r.length>0||!i),$e(([,i])=>i),qr)}auditTrail(t){return this.stateChanges(t).pipe(vg((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=cY(t);return lY(this.query,e,this.afs.schedulers.outsideAngular).pipe(qr)}valueChanges(t={}){return jP(this.query,this.afs.schedulers.outsideAngular).pipe($e(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),qr)}get(t){return $(this.query.get(t)).pipe(qr)}add(t){return this.ref.add(t)}doc(t){return new aY(this.ref.doc(t),this.afs)}}class cbe{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?UD(this.query,this.afs.schedulers.outsideAngular).pipe($e(e=>e.filter(i=>t.indexOf(i.type)>-1)),Dn(e=>e.length>0),qr):UD(this.query,this.afs.schedulers.outsideAngular).pipe(qr)}auditTrail(t){return this.stateChanges(t).pipe(vg((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=cY(t);return lY(this.query,e,this.afs.schedulers.outsideAngular).pipe(qr)}valueChanges(t={}){return jP(this.query,this.afs.schedulers.outsideAngular).pipe($e(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),qr)}get(t){return $(this.query.get(t)).pipe(qr)}}const uY=new Be("angularfire2.enableFirestorePersistence"),hY=new Be("angularfire2.firestore.persistenceSettings"),dbe=new Be("angularfire2.firestore.settings"),ube=new Be("angularfire2.firestore.use-emulator");function fY(n,t=(e=>e)){return{query:t(n),ref:n}}let hbe=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,s,o,c,d,f,_,x,T,M,N,V,U,re,te){this.schedulers=d;const oe=ey(e,c,i),pe=_;x&&Ak(oe,c,T,N,V,U,M,re),[this.firestore,this.persistenceEnabled$]=OC(`${oe.name}.firestore`,"AngularFirestore",oe.name,()=>{const Ie=c.runOutsideAngular(()=>oe.firestore());if(s&&Ie.settings(s),pe&&Ie.useEmulator(...pe),r&&!EC(o)){const Xe=()=>{try{return $(Ie.enablePersistence(f||void 0).then(()=>!0,()=>!1))}catch(pt){return typeof console<"u"&&console.warn(pt),de(!1)}};return[Ie,c.runOutsideAngular(Xe)]}return[Ie,de(!1)]},[s,pe,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:o}=fY(r,i),c=this.schedulers.ngZone.run(()=>s);return new dY(c,o,this)}collectionGroup(e,i){const r=i||(o=>o),s=this.firestore.collectionGroup(e);return new cbe(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new aY(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(ce(mg),ce(_g,8),ce(uY,8),ce(dbe,8),ce(wo),ce(lt),ce(RC),ce(hY,8),ce(ube,8),ce(Jc,8),ce(Ck,8),ce(Ek,8),ce(Dk,8),ce(Tk,8),ce(Ik,8),ce(Sk,8),ce(MC,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),fbe=(()=>{class n{constructor(){ma.Z.registerVersion("angularfire",fg.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:uY,useValue:!0},{provide:hY,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=St({type:n});static \u0275inj=Se({providers:[hbe]})}return n})();function GP(n,t=qd){return We((e,i)=>{let r=null,s=null,o=null;const c=()=>{if(r){r.unsubscribe(),r=null;const f=s;s=null,i.next(f)}};function d(){const f=o+n,_=t.now();if(_<f)return r=this.schedule(void 0,f-_),void i.add(r);c()}e.subscribe(at(i,f=>{s=f,o=t.now(),r||(r=t.schedule(d,n),i.add(r))},()=>{c(),i.complete()},void 0,()=>{s=r=null}))})}const pY="firebasestorage.googleapis.com",gY="storageBucket";class kr extends ne.ZR{constructor(t,e,i=0){super($P(t),`Firebase Storage: ${e} (${$P(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return $P(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var wr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(wr||{});function $P(n){return"storage/"+n}function YP(){return new kr(wr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function mY(){return new kr(wr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _Y(){return new kr(wr.CANCELED,"User canceled the upload/download.")}function vY(){return new kr(wr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wm(n){return new kr(wr.INVALID_ARGUMENT,n)}function yY(){return new kr(wr.APP_DELETED,"The Firebase app was deleted.")}function bY(n){return new kr(wr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ub(n,t){return new kr(wr.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function jb(n){throw new kr(wr.INTERNAL_ERROR,"Internal error: "+n)}class lo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=lo.makeFromUrl(t,e)}catch{return new lo(t,"")}if(""===i.path)return i;throw function Cbe(n){return new kr(wr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+r+"(/(.*))?$","i");function f(pe){pe.path_=decodeURIComponent(pe.path)}const x=e.replace(/[.]/g,"\\."),oe=[{regex:c,indices:{bucket:1,path:3},postModify:function s(pe){"/"===pe.path.charAt(pe.path.length-1)&&(pe.path_=pe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:f},{regex:new RegExp(`^https?://${e===pY?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:f}];for(let pe=0;pe<oe.length;pe++){const Ie=oe[pe],Xe=Ie.regex.exec(t);if(Xe){let ft=Xe[Ie.indices.path];ft||(ft=""),i=new lo(Xe[Ie.indices.bucket],ft),Ie.postModify(i);break}}if(null==i)throw function wbe(n){return new kr(wr.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class Sbe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function jD(n){return"string"==typeof n||n instanceof String}function xY(n){return qP()&&n instanceof Blob}function qP(){return typeof Blob<"u"&&!(0,ne.UG)()}function XP(n,t,e,i){if(i<t)throw wm(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw wm(`Invalid value for '${n}'. Expected ${e} or less.`)}function hd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function wY(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Cm=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Cm||{});function CY(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class Pbe{constructor(t,e,i,r,s,o,c,d,f,_,x,T=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=_,this.connectionFactory_=x,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,N)=>{this.resolve_=M,this.reject_=N,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());!function Mbe(n){return void 0!==n}(d)?s():s(d)}catch(d){o(d)}else if(null!==c){const d=YP();d.serverResponse=c.getErrorText(),o(this.errorCallback_?this.errorCallback_(c,d):d)}else o(r.canceled?this.appDelete_?yY():_Y():mY())};this.canceled_?e(0,new WD(!1,null,!0)):this.backoffId_=function Abe(n,t,e){let i=1,r=null,s=null,o=!1,c=0;function d(){return 2===c}let f=!1;function _(...U){f||(f=!0,t.apply(null,U))}function x(U){r=setTimeout(()=>{r=null,n(M,d())},U)}function T(){s&&clearTimeout(s)}function M(U,...re){if(f)return void T();if(U)return T(),void _.call(null,U,...re);if(d()||o)return T(),void _.call(null,U,...re);let oe;i<64&&(i*=2),1===c?(c=2,oe=0):oe=1e3*(i+Math.random()),x(oe)}let N=!1;function V(U){N||(N=!0,T(),!f&&(null!==r?(U||(c=2),clearTimeout(r),x(0)):U||(c=1)))}return x(0),s=setTimeout(()=>{o=!0,V(!0)},e),V}((i,r)=>{if(r)return void i(!1,new WD(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===Cm.NO_ERROR,d=s.getStatus();if(!c||CY(d,this.additionalRetryCodes_)&&this.retry){const _=s.getErrorCode()===Cm.ABORT;return void i(!1,new WD(!1,null,_))}const f=-1!==this.successCodes_.indexOf(d);i(!0,new WD(f,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function kbe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class WD{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Hbe(...n){const t=function zbe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(qP())return new Blob(n);throw new kr(wr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ca={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ZP{constructor(t,e){this.data=t,this.contentType=e||null}}function KP(n,t){switch(n){case Ca.RAW:return new ZP(EY(t));case Ca.BASE64:case Ca.BASE64URL:return new ZP(DY(n,t));case Ca.DATA_URL:return new ZP(function Gbe(n){const t=new TY(n);return t.base64?DY(Ca.BASE64,t.rest):function Wbe(n){let t;try{t=decodeURIComponent(n)}catch{throw Ub(Ca.DATA_URL,"Malformed data URL.")}return EY(t)}(t.rest)}(t),function $be(n){return new TY(n).contentType}(t))}throw YP()}function EY(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function DY(n,t){switch(n){case Ca.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw Ub(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ca.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw Ub(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function jbe(n){if(typeof atob>"u")throw function Ibe(n){return new kr(wr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:Ub(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class TY{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Ub(Ca.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Ybe(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class mc{constructor(t,e){let i=0,r="";xY(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(xY(this.data_)){const r=function Ube(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new mc(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new mc(i,!0)}}static getBlob(...t){if(qP()){const e=t.map(i=>i instanceof mc?i.data_:i);return new mc(Hbe.apply(null,e))}{const e=t.map(o=>jD(o)?KP(Ca.RAW,o).data:o.data_);let i=0;e.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(o=>{for(let c=0;c<o.length;c++)r[s++]=o[c]}),new mc(r,!0)}}uploadData(){return this.data_}}function QP(n){let t;try{t=JSON.parse(n)}catch{return null}return function Obe(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function IY(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Zbe(n,t){return t}class No{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Zbe}}let GD=null;function Wb(){if(GD)return GD;const n=[];n.push(new No("bucket")),n.push(new No("generation")),n.push(new No("metageneration")),n.push(new No("name","fullPath",!0));const e=new No("name");e.xform=function t(s,o){return function Kbe(n){return!jD(n)||n.length<2?n:IY(n)}(o)},n.push(e);const r=new No("size");return r.xform=function i(s,o){return void 0!==o?Number(o):o},n.push(r),n.push(new No("timeCreated")),n.push(new No("updated")),n.push(new No("md5Hash",null,!0)),n.push(new No("cacheControl",null,!0)),n.push(new No("contentDisposition",null,!0)),n.push(new No("contentEncoding",null,!0)),n.push(new No("contentLanguage",null,!0)),n.push(new No("contentType",null,!0)),n.push(new No("metadata","customMetadata",!0)),GD=n,GD}function SY(n,t,e){const i=QP(t);return null===i?null:function Jbe(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const o=e[s];i[o.local]=o.xform(i,t[o.server])}return function Qbe(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new lo(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function JP(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const AY="prefixes",kY="items";class _c{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vc(n){if(!n)throw YP()}function $D(n,t){return function e(i,r){const s=SY(n,r,t);return vc(null!==s),s}}function Em(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function bbe(){return new kr(wr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ybe(){return new kr(wr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function vbe(n){return new kr(wr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function xbe(n){return new kr(wr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function Gb(n){const t=Em(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function _be(n){return new kr(wr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function MY(n,t,e){const r=hd(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new _c(r,"GET",$D(n,e),o);return c.errorHandler=Gb(t),c}function s0e(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const c=hd(t.bucketOnlyServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,_=new _c(c,"GET",function i0e(n,t){return function e(i,r){const s=function n0e(n,t,e){const i=QP(e);return null===i?null:function t0e(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[AY])for(const r of e[AY]){const s=r.replace(/\/$/,""),o=n._makeStorageReference(new lo(t,s));i.prefixes.push(o)}if(e[kY])for(const r of e[kY]){const s=n._makeStorageReference(new lo(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return vc(null!==s),s}}(n,t.bucket),f);return _.urlParams=s,_.errorHandler=Em(t),_}function OY(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function c0e(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class YD{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function eN(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{vc(!1)}return vc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const f0e={STATE_CHANGED:"state_changed"},Fo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tN(n){switch(n){case"running":case"pausing":case"canceling":return Fo.RUNNING;case"paused":return Fo.PAUSED;case"success":return Fo.SUCCESS;case"canceled":return Fo.CANCELED;default:return Fo.ERROR}}class p0e{constructor(t,e,i){if(function Rbe(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Dm(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let FY=null;class g0e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cm.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cm.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cm.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw jb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class m0e extends g0e{initXhr(){this.xhr_.responseType="text"}}function Il(){return FY?FY():new m0e}class LY{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Wb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(wr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(CY(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=mY()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(wr.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function d0e(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o=OY(t,i,r),c={name:o.fullPath},d=hd(s,n.host,n._protocol),_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},x=JP(o,e),N=new _c(d,"POST",function M(V){let U;eN(V);try{U=V.getResponseHeader("X-Goog-Upload-URL")}catch{vc(!1)}return vc(jD(U)),U},n.maxUploadRetryTime);return N.urlParams=c,N.headers=_,N.body=x,N.errorHandler=Em(t),N}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Il,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function u0e(n,t,e,i){const d=new _c(e,"POST",function s(f){const _=eN(f,["active","final"]);let x=null;try{x=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vc(!1)}x||vc(!1);const T=Number(x);return vc(!isNaN(T)),new YD(T,i.size(),"final"===_)},n.maxUploadRetryTime);return d.headers={"X-Goog-Upload-Command":"query"},d.errorHandler=Em(t),d}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Il,e,i);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new YD(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=function h0e(n,t,e,i,r,s,o,c){const d=new YD(0,0);if(o?(d.current=o.current,d.total=o.total):(d.current=0,d.total=i.size()),i.size()!==d.total)throw function Dbe(){return new kr(wr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const f=d.total-d.current;let _=f;r>0&&(_=Math.min(_,r));const x=d.current;let M="";M=0===_?"finalize":f===_?"upload, finalize":"upload";const N={"X-Goog-Upload-Command":M,"X-Goog-Upload-Offset":`${d.current}`},V=i.slice(x,x+_);if(null===V)throw vY();const oe=new _c(e,"POST",function U(pe,Ie){const Xe=eN(pe,["active","final"]),pt=d.current+_,ft=i.size();let Dt;return Dt="final"===Xe?$D(t,s)(pe,Ie):null,new YD(pt,ft,"final"===Xe,Dt)},t.maxUploadRetryTime);return oe.headers=N,oe.body=V.uploadData(),oe.progressCallback=c||null,oe.errorHandler=Em(n),oe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(d){return this._error=d,void this._transition("error")}const c=this._ref.storage._makeRequest(o,Il,r,s,!1);this._request=c,c.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=MY(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Il,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function PY(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},d=function c(){let oe="";for(let pe=0;pe<2;pe++)oe+=Math.random().toString().slice(2);return oe}();o["Content-Type"]="multipart/related; boundary="+d;const f=OY(t,i,r),_=JP(f,e),M=mc.getBlob("--"+d+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_+"\r\n--"+d+"\r\nContent-Type: "+f.contentType+"\r\n\r\n",i,"\r\n--"+d+"--");if(null===M)throw vY();const N={name:f.fullPath},V=hd(s,n.host,n._protocol),re=n.maxUploadRetryTime,te=new _c(V,"POST",$D(n,e),re);return te.urlParams=N,te.headers=o,te.body=M.uploadData(),te.errorHandler=Em(t),te}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Il,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=_Y(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=tN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new p0e(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(tN(this._state)){case Fo.SUCCESS:Dm(this._resolve.bind(null,this.snapshot))();break;case Fo.CANCELED:case Fo.ERROR:Dm(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(tN(this._state)){case Fo.RUNNING:case Fo.PAUSED:t.next&&Dm(t.next.bind(t,this.snapshot))();break;case Fo.SUCCESS:t.complete&&Dm(t.complete.bind(t))();break;default:t.error&&Dm(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class hf{constructor(t,e){this._service=t,this._location=e instanceof lo?e:lo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new hf(t,e)}get root(){const t=new lo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IY(this._location.path)}get storage(){return this._service}get parent(){const t=function qbe(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new lo(this._location.bucket,t);return new hf(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw bY(t)}}function BY(n,t,e){return nN.apply(this,arguments)}function nN(){return nN=(0,qe.Z)(function*(n,t,e){const r=yield zY(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield BY(n,t,r.nextPageToken))}),nN.apply(this,arguments)}function zY(n,t){null!=t&&"number"==typeof t.maxResults&&XP("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=s0e(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Il)}function S0e(n){n._throwIfRoot("getDownloadURL");const t=function o0e(n,t,e){const r=hd(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new _c(r,"GET",function r0e(n,t){return function e(i,r){const s=SY(n,r,t);return vc(null!==s),function e0e(n,t,e,i){const r=QP(t);if(null===r||!jD(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(f=>{const x=n.fullPath;return hd("/b/"+o(n.bucket)+"/o/"+o(x),e,i)+wY({alt:"media",token:f})})[0]}(s,r,n.host,n._protocol)}}(n,e),o);return c.errorHandler=Gb(t),c}(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(t,Il).then(e=>{if(null===e)throw function Tbe(){return new kr(wr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function HY(n,t){const e=function Xbe(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new lo(n._location.bucket,e);return new hf(n.storage,i)}function UY(n,t){if(n instanceof iN){const e=n;if(null==e._bucket)throw function Ebe(){return new kr(wr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gY+"' property when initializing the app?")}();const i=new hf(e,e._bucket);return null!=t?UY(i,t):i}return void 0!==t?HY(n,t):n}function R0e(n,t){if(t&&function k0e(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof iN)return function M0e(n,t){return new hf(n,t)}(n,t);throw wm("To use ref(service, url), the first argument must be a Storage instance.")}return UY(n,t)}function jY(n,t){const e=t?.[gY];return null==e?null:lo.makeFromBucketSpec(e,n)}class iN{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=pY,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?lo.makeFromBucketSpec(r,this._host):jY(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?lo.makeFromBucketSpec(this._url,t):jY(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){XP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){XP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,qe.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,qe.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new hf(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new Sbe(yY());{const o=function Bbe(n,t,e,i,r,s,o=!0){const c=wY(n.urlParams),d=n.url+c,f=Object.assign({},n.headers);return function Lbe(n,t){t&&(n["X-Firebase-GMPID"]=t)}(f,t),function Nbe(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(f,e),function Fbe(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(f,s),function Vbe(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(f,i),new Pbe(d,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,qe.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const WY="@firebase/storage";function YY(n,t){return R0e(n=(0,ne.m9)(n),t)}function U0e(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new iN(e,i,r,t,Xo.SDK_VERSION)}!function j0e(){(0,Xo._registerComponent)(new yl.wA("storage",U0e,"PUBLIC").setMultipleInstances(!0)),(0,Xo.registerVersion)(WY,"0.11.2",""),(0,Xo.registerVersion)(WY,"0.11.2","esm2017")}();class qD{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class XY{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new qD(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new qD(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?o=>e(new qD(o,this,this._ref)):{next:e.next?o=>e.next(new qD(o,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class ZY{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new fd(t,this._service))}get items(){return this._delegate.items.map(t=>new fd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class fd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function H0e(n,t){return HY(n,t)}(this._delegate,t);return new fd(e,this.storage)}get root(){return new fd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new fd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new XY(function P0e(n,t,e){return function C0e(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new LY(n,new mc(t),e)}(n=(0,ne.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Ca.RAW,i){this._throwIfRoot("putString");const r=KP(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new XY(new LY(this._delegate,new mc(r.data,!0),s),this)}listAll(){return function V0e(n){return function D0e(n){const t={prefixes:[],items:[]};return BY(n,t).then(()=>t)}(n=(0,ne.m9)(n))}(this._delegate).then(t=>new ZY(t,this.storage))}list(t){return function L0e(n,t){return zY(n=(0,ne.m9)(n),t)}(this._delegate,t||void 0).then(e=>new ZY(e,this.storage))}getMetadata(){return function N0e(n){return function T0e(n){n._throwIfRoot("getMetadata");const t=MY(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(t,Il)}(n=(0,ne.m9)(n))}(this._delegate)}updateMetadata(t){return function F0e(n,t){return function I0e(n,t){n._throwIfRoot("updateMetadata");const e=function a0e(n,t,e,i){const s=hd(t.fullServerUrl(),n.host,n._protocol),c=JP(e,i),f=n.maxOperationRetryTime,_=new _c(s,"PATCH",$D(n,i),f);return _.headers={"Content-Type":"application/json; charset=utf-8"},_.body=c,_.errorHandler=Gb(t),_}(n.storage,n._location,t,Wb());return n.storage.makeRequestWithTokens(e,Il)}(n=(0,ne.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function B0e(n){return S0e(n=(0,ne.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function z0e(n){return function A0e(n){n._throwIfRoot("deleteObject");const t=function l0e(n,t){const i=hd(t.fullServerUrl(),n.host,n._protocol),c=new _c(i,"DELETE",function o(d,f){},n.maxOperationRetryTime);return c.successCodes=[200,204],c.errorHandler=Gb(t),c}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Il)}(n=(0,ne.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw bY(t)}}class KY{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(QY(t))throw wm("ref() expected a child path but got a URL, use refFromURL instead.");return new fd(YY(this._delegate,t),this)}refFromURL(t){if(!QY(t))throw wm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lo.makeFromUrl(t,this._delegate.host)}catch{throw wm("refFromUrl() expected a valid full URL but got an invalid one.")}return new fd(YY(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function qY(n,t,e,i={}){!function O0e(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,ne.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function QY(n){return/^[A-Za-z]+:\/\//.test(n)}function Y0e(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new KY(e,i)}function JY(n){const t=function X0e(n){return new Ht(t=>{const e=o=>t.next(o);e(n.snapshot);const s=n.on("state_changed",e);return n.then(o=>{e(o),t.complete()},o=>{e(n.snapshot),(o=>{t.error(o)})(o)}),function(){s()}}).pipe(GP(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe($e(e=>e.bytesTransferred/e.totalBytes*100))}}function XD(n){return{getDownloadURL:()=>de(void 0).pipe(G3,vt(()=>n.getDownloadURL()),qr),getMetadata:()=>de(void 0).pipe(G3,vt(()=>n.getMetadata()),qr),delete:()=>$(n.delete()),child:t=>XD(n.child(t)),updateMetadata:t=>$(n.updateMetadata(t)),put:(t,e)=>JY(n.put(t,e)),putString:(t,e,i)=>JY(n.putString(t,e,i)),list:t=>$(n.list(t)),listAll:()=>$(n.listAll())}}!function q0e(n){const t={TaskState:Fo,TaskEvent:f0e,StringFormat:Ca,Storage:KY,Reference:fd};n.INTERNAL.registerComponent(new yl.wA("storage-compat",Y0e,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(ma.Z);const Z0e=new Be("angularfire2.storageBucket"),K0e=new Be("angularfire2.storage.maxUploadRetryTime"),Q0e=new Be("angularfire2.storage.maxOperationRetryTime"),J0e=new Be("angularfire2.storage.use-emulator");let exe=(()=>{class n{storage;constructor(e,i,r,s,o,c,d,f,_,x){const T=ey(e,o,i);this.storage=OC(`${T.name}.storage.${r}`,"AngularFireStorage",T.name,()=>{const M=o.runOutsideAngular(()=>T.storage(r||void 0)),N=_;return N&&M.useEmulator(...N),d&&M.setMaxUploadRetryTime(d),f&&M.setMaxOperationRetryTime(f),M},[d,f])}ref(e){return XD(this.storage.ref(e))}refFromURL(e){return XD(this.storage.refFromURL(e))}upload(e,i,r){return XD(this.storage.ref(e)).put(i,r)}static \u0275fac=function(i){return new(i||n)(ce(mg),ce(_g,8),ce(Z0e,8),ce(wo),ce(lt),ce(RC),ce(K0e,8),ce(Q0e,8),ce(J0e,8),ce(MC,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),txe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=St({type:n});static \u0275inj=Se({})}return n})(),nxe=(()=>{class n{constructor(){ma.Z.registerVersion("angularfire",fg.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=St({type:n});static \u0275inj=Se({providers:[exe],imports:[txe]})}return n})();const e6_firebase={apiKey:"AIzaSyDZMfeKR9MBcMxMHIf9uJ79ypwh1PdLqnc",authDomain:"petguardian-mobile.firebaseapp.com",projectId:"petguardian-mobile",storageBucket:"petguardian-mobile.appspot.com",messagingSenderId:"804674385941",appId:"1:804674385941:web:09008f5ce221d66a34761c",measurementId:"G-GL45SM7ZE6"};let rN,ixe=1;const ZD={};function t6(n){return n in ZD&&(delete ZD[n],!0)}const rxe={setImmediate(n){const t=ixe++;return ZD[t]=!0,rN||(rN=Promise.resolve()),rN.then(()=>t6(t)&&n()),t},clearImmediate(n){t6(n)}},{setImmediate:sxe,clearImmediate:oxe}=rxe,KD={setImmediate(...n){const{delegate:t}=KD;return(t?.setImmediate||sxe)(...n)},clearImmediate(n){const{delegate:t}=KD;return(t?.clearImmediate||oxe)(n)},delegate:void 0},n6=new class lxe extends kC{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class axe extends AC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=KD.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(KD.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var i6=Yt(54);const cxe=["chart"];let r6=(()=>{class n{constructor(e){this.ngZone=e,this.autoUpdateSeries=!0}ngOnChanges(e){n6.schedule(()=>{this.autoUpdateSeries&&0===Object.keys(e).filter(i=>"series"!==i).length?this.updateSeries(this.series,!0):this.createElement()})}ngOnDestroy(){this.chartObj&&this.chartObj.destroy()}createElement(){const e={};this.annotations&&(e.annotations=this.annotations),this.chart&&(e.chart=this.chart),this.colors&&(e.colors=this.colors),this.dataLabels&&(e.dataLabels=this.dataLabels),this.series&&(e.series=this.series),this.stroke&&(e.stroke=this.stroke),this.labels&&(e.labels=this.labels),this.legend&&(e.legend=this.legend),this.fill&&(e.fill=this.fill),this.tooltip&&(e.tooltip=this.tooltip),this.plotOptions&&(e.plotOptions=this.plotOptions),this.responsive&&(e.responsive=this.responsive),this.markers&&(e.markers=this.markers),this.noData&&(e.noData=this.noData),this.xaxis&&(e.xaxis=this.xaxis),this.yaxis&&(e.yaxis=this.yaxis),this.forecastDataPoints&&(e.forecastDataPoints=this.forecastDataPoints),this.grid&&(e.grid=this.grid),this.states&&(e.states=this.states),this.title&&(e.title=this.title),this.subtitle&&(e.subtitle=this.subtitle),this.theme&&(e.theme=this.theme),this.chartObj&&this.chartObj.destroy(),this.ngZone.runOutsideAngular(()=>{this.chartObj=new i6(this.chartElement.nativeElement,e)}),this.render()}render(){return this.ngZone.runOutsideAngular(()=>this.chartObj.render())}updateOptions(e,i,r,s){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateOptions(e,i,r,s))}updateSeries(e,i){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateSeries(e,i))}appendSeries(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.appendSeries(e,i))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartObj.appendData(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartObj.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartObj.resetSeries())}zoomX(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.zoomX(e,i))}toggleDataPointSelection(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.toggleDataPointSelection(e,i))}destroy(){this.chartObj.destroy()}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartObj.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartObj.paper())}addXaxisAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addXaxisAnnotation(e,i,r))}addYaxisAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addYaxisAnnotation(e,i,r))}addPointAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addPointAnnotation(e,i,r))}removeAnnotation(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.removeAnnotation(e,i))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartObj.clearAnnotations(e))}dataURI(e){return this.chartObj.dataURI(e)}}return n.\u0275fac=function(e){return new(e||n)(B(lt))},n.\u0275cmp=kt({type:n,selectors:[["apx-chart"]],viewQuery:function(e,i){if(1&e&&wi(cxe,7),2&e){let r;Ut(r=jt())&&(i.chartElement=r.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",forecastDataPoints:"forecastDataPoints",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},features:[Mn],decls:2,vars:0,consts:[["chart",""]],template:function(e,i){1&e&&Qe(0,"div",null,0)},encapsulation:2,changeDetection:0}),n})();window.ApexCharts=i6;let dxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=St({type:n}),n.\u0275inj=Se({}),n})();const{isArray:hxe}=Array,{getPrototypeOf:fxe,prototype:pxe,keys:gxe}=Object;function s6(n){if(1===n.length){const t=n[0];if(hxe(t))return{args:t,keys:null};if(function mxe(n){return n&&"object"==typeof n&&fxe(n)===pxe}(t)){const e=gxe(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:_xe}=Array;function sN(n){return $e(t=>function vxe(n,t){return _xe(t)?n(...t):n(t)}(n,t))}function o6(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Ka(...n){const t=fo(n),e=xs(n),{args:i,keys:r}=s6(n);if(0===i.length)return $([],t);const s=new Ht(function yxe(n,t,e=fn){return i=>{a6(t,()=>{const{length:r}=n,s=new Array(r);let o=r,c=r;for(let d=0;d<r;d++)a6(t,()=>{const f=$(n[d],t);let _=!1;f.subscribe(at(i,x=>{s[d]=x,_||(_=!0,c--),c||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>o6(r,o):fn));return e?s.pipe(sN(e)):s}function a6(n,t,e){n?Pr(e,n,t):t()}function $b(n){return new Ht(t=>{nt(n()).subscribe(t)})}function Yb(n,t){const e=ie(n)?n:()=>n,i=r=>r.error(e());return new Ht(t?r=>t.schedule(i,0,r):i)}function oN(){return We((n,t)=>{let e=null;n._refCount++;const i=at(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class l6 extends Ht{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Je(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ue;const e=this.getSubject();t.add(this.source.subscribe(at(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ue.EMPTY)}return t}refCount(){return oN()(this)}}function Tm(n,t){return ie(t)?An(n,t,1):An(n,1)}function Au(n){return We((t,e)=>{let s,i=null,r=!1;i=t.subscribe(at(e,void 0,void 0,o=>{s=nt(n(o,Au(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function QD(n){return n<=0?()=>ti:We((t,e)=>{let i=[];t.subscribe(at(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function qb(n){return We((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function $t(n){return We((t,e)=>{nt(n).subscribe(at(e,()=>e.complete(),Pt)),!e.closed&&t.subscribe(e)})}const Fn="primary",Xb=Symbol("RouteTitle");class xxe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Im(n){return new xxe(n)}function wxe(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],c=n[s];if(o.startsWith(":"))r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function yc(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!d6(n[r],t[r]))return!1;return!0}function d6(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function u6(n){return n.length>0?n[n.length-1]:null}function ku(n){return function uxe(n){return!!n&&(n instanceof Ht||ie(n.lift)&&ie(n.subscribe))}(n)?n:Mv(n)?$(Promise.resolve(n)):de(n)}const Exe={exact:function p6(n,t,e){if(!ff(n.segments,t.segments)||!JD(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!p6(n.children[i],t.children[i],e))return!1;return!0},subset:g6},h6={exact:function Dxe(n,t){return yc(n,t)},subset:function Txe(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>d6(n[e],t[e]))},ignored:()=>!0};function f6(n,t,e){return Exe[e.paths](n.root,t.root,e.matrixParams)&&h6[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function g6(n,t,e){return m6(n,t,t.segments,e)}function m6(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ff(r,e)||t.hasChildren()||!JD(r,e,i))}if(n.segments.length===e.length){if(!ff(n.segments,e)||!JD(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!g6(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(ff(n.segments,r)&&JD(n.segments,r,i)&&n.children[Fn])&&m6(n.children[Fn],t,s,i)}}function JD(n,t,e){return t.every((i,r)=>h6[e](n[r].parameters,i.parameters))}class Sm{constructor(t=new Vi([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Im(this.queryParams)),this._queryParamMap}toString(){return Axe.serialize(this)}}class Vi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return e1(this)}}class Zb{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Im(this.parameters)),this._parameterMap}toString(){return y6(this)}}function ff(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Kb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return new aN},providedIn:"root"})}return n})();class aN{parse(t){const e=new zxe(t);return new Sm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Qb(t.root,!0)}`,i=function Rxe(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${t1(e)}=${t1(r)}`).join("&"):`${t1(e)}=${t1(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function kxe(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const Axe=new aN;function e1(n){return n.segments.map(t=>y6(t)).join("/")}function Qb(n,t){if(!n.hasChildren())return e1(n);if(t){const e=n.children[Fn]?Qb(n.children[Fn],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Fn&&i.push(`${r}:${Qb(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Sxe(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Fn&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Fn&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Fn?[Qb(n.children[Fn],!1)]:[`${r}:${Qb(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Fn]?`${e1(n)}/${e[0]}`:`${e1(n)}/(${e.join("//")})`}}function _6(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function t1(n){return _6(n).replace(/%3B/gi,";")}function lN(n){return _6(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function n1(n){return decodeURIComponent(n)}function v6(n){return n1(n.replace(/\+/g,"%20"))}function y6(n){return`${lN(n.path)}${function Mxe(n){return Object.keys(n).map(t=>`;${lN(t)}=${lN(n[t])}`).join("")}(n.parameters)}`}const Oxe=/^[^\/()?;#]+/;function cN(n){const t=n.match(Oxe);return t?t[0]:""}const Pxe=/^[^\/()?;=#]+/,Fxe=/^[^=?&#]+/,Vxe=/^[^&#]+/;class zxe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vi([],{}):new Vi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Fn]=new Vi(t,e)),i}parseSegment(){const t=cN(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l(4009,!1);return this.capture(t),new Zb(n1(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Nxe(n){const t=n.match(Pxe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=cN(this.remaining);r&&(i=r,this.capture(i))}t[n1(e)]=n1(i)}parseQueryParam(t){const e=function Lxe(n){const t=n.match(Fxe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function Bxe(n){const t=n.match(Vxe);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=v6(e),s=v6(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=cN(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Fn);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Fn]:new Vi([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l(4011,!1)}}function b6(n){return n.segments.length>0?new Vi([],{[Fn]:n}):n}function x6(n){const t={};for(const i of Object.keys(n.children)){const s=x6(n.children[i]);if(i===Fn&&0===s.segments.length&&s.hasChildren())for(const[o,c]of Object.entries(s.children))t[o]=c;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Hxe(n){if(1===n.numberOfChildren&&n.children[Fn]){const t=n.children[Fn];return new Vi(n.segments.concat(t.segments),t.children)}return n}(new Vi(n.segments,t))}function pf(n){return n instanceof Sm}function w6(n){let t;const r=b6(function e(s){const o={};for(const d of s.children){const f=e(d);o[d.outlet]=f}const c=new Vi(s.url,o);return s===n&&(t=c),c}(n.root));return t??r}function C6(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return dN(r,r,r,e,i);const s=function jxe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new D6(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Object.entries(s.outlets).forEach(([d,f])=>{c[d]="string"==typeof f?f.split("/"):f}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((c,d)=>{0==d&&"."===c||(0==d&&""===c?e=!0:".."===c?t++:""!=c&&r.push(c))}),r):[...r,s]},[]);return new D6(e,t,i)}(t);if(s.toRoot())return dN(r,r,new Vi([],{}),e,i);const o=function Wxe(n,t,e){if(n.isAbsolute)return new s1(t,!0,0);if(!e)return new s1(t,!1,NaN);if(null===e.parent)return new s1(e,!0,0);const i=r1(n.commands[0])?0:1;return function Gxe(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l(4005,!1);r=i.segments.length}return new s1(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),c=o.processChildren?e0(o.segmentGroup,o.index,s.commands):T6(o.segmentGroup,o.index,s.commands);return dN(r,o.segmentGroup,c,e,i)}function r1(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jb(n){return"object"==typeof n&&null!=n&&n.outlets}function dN(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([d,f])=>{s[d]=Array.isArray(f)?f.map(_=>`${_}`):`${f}`}),o=n===t?e:E6(n,t,e);const c=b6(x6(o));return new Sm(c,s,r)}function E6(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:E6(s,t,e)}),new Vi(n.segments,i)}class D6{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&r1(i[0]))throw new l(4003,!1);const r=i.find(Jb);if(r&&r!==u6(i))throw new l(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class s1{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function T6(n,t,e){if(n||(n=new Vi([],{})),0===n.segments.length&&n.hasChildren())return e0(n,t,e);const i=function Yxe(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],c=e[i];if(Jb(c))break;const d=`${c}`,f=i<e.length-1?e[i+1]:null;if(r>0&&void 0===d)break;if(d&&f&&"object"==typeof f&&void 0===f.outlets){if(!S6(d,f,o))return s;i+=2}else{if(!S6(d,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Vi(n.segments.slice(0,i.pathIndex),{});return s.children[Fn]=new Vi(n.segments.slice(i.pathIndex),n.children),e0(s,0,r)}return i.match&&0===r.length?new Vi(n.segments,{}):i.match&&!n.hasChildren()?uN(n,t,e):i.match?e0(n,0,r):uN(n,t,e)}function e0(n,t,e){if(0===e.length)return new Vi(n.segments,{});{const i=function $xe(n){return Jb(n[0])?n[0].outlets:{[Fn]:n}}(e),r={};if(Object.keys(i).some(s=>s!==Fn)&&n.children[Fn]&&1===n.numberOfChildren&&0===n.children[Fn].segments.length){const s=e0(n.children[Fn],t,e);return new Vi(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=T6(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Vi(n.segments,r)}}function uN(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Jb(s)){const d=qxe(s.outlets);return new Vi(i,d)}if(0===r&&r1(e[0])){i.push(new Zb(n.segments[t].path,I6(e[0]))),r++;continue}const o=Jb(s)?s.outlets[Fn]:`${s}`,c=r<e.length-1?e[r+1]:null;o&&c&&r1(c)?(i.push(new Zb(o,I6(c))),r+=2):(i.push(new Zb(o,{})),r++)}return new Vi(i,{})}function qxe(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=uN(new Vi([],{}),0,i))}),t}function I6(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function S6(n,t,e){return n==e.path&&yc(t,e.parameters)}const t0="imperative";class bc{constructor(t,e){this.id=t,this.url=e}}class o1 extends bc{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mu extends bc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class n0 extends bc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Am extends bc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class a1 extends bc{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class A6 extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xxe extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zxe extends bc{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kxe extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qxe extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jxe{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ewe{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class twe{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nwe{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iwe{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rwe{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k6{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hN{}class fN{constructor(t){this.url=t}}class swe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new r0,this.attachRef=null}}let r0=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new swe,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class M6{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=pN(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=pN(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=gN(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return gN(t,this._root).map(e=>e.value)}}function pN(n,t){if(n===t.value)return t;for(const e of t.children){const i=pN(n,e);if(i)return i}return null}function gN(n,t){if(n===t.value)return[t];for(const e of t.children){const i=gN(n,e);if(i.length)return i.unshift(t),i}return[]}class pd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function km(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class R6 extends M6{constructor(t,e){super(t),this.snapshot=e,mN(this,t)}toString(){return this.snapshot.toString()}}function O6(n,t){const e=function owe(n,t){const o=new l1([],{},{},"",{},Fn,t,null,{});return new N6("",new pd(o,[]))}(0,t),i=new W([new Zb("",{})]),r=new W({}),s=new W({}),o=new W({}),c=new W(""),d=new Mm(i,r,o,c,s,Fn,t,e.root);return d.snapshot=e.root,new R6(new pd(d,[]),e)}class Mm{constructor(t,e,i,r,s,o,c,d){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=d,this.title=this.dataSubject?.pipe($e(f=>f[Xb]))??de(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe($e(t=>Im(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe($e(t=>Im(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function P6(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function awe(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class l1{get title(){return this.data?.[Xb]}constructor(t,e,i,r,s,o,c,d,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Im(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Im(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class N6 extends M6{constructor(t,e){super(e),this.url=t,mN(this,e)}toString(){return F6(this._root)}}function mN(n,t){t.value._routerState=n,t.children.forEach(e=>mN(n,e))}function F6(n){const t=n.children.length>0?` { ${n.children.map(F6).join(", ")} } `:"";return`${n.value}${t}`}function _N(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,yc(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),yc(t.params,e.params)||n.paramsSubject.next(e.params),function Cxe(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!yc(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),yc(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function vN(n,t){const e=yc(n.params,t.params)&&function Ixe(n,t){return ff(n,t)&&n.every((e,i)=>yc(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||vN(n.parent,t.parent))}let yN=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Fn,this.activateEvents=new Ve,this.deactivateEvents=new Ve,this.attachEvents=new Ve,this.detachEvents=new Ve,this.parentContexts=Ge(r0),this.location=Ge(Ds),this.changeDetector=Ge(hr),this.environmentInjector=Ge(xo),this.inputBinder=Ge(c1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,d=new lwe(e,c,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:d,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mn]})}return n})();class lwe{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Mm?this.route:t===r0?this.childContexts:this.parent.get(t,e)}}const c1=new Be("");let L6=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Ka([i.queryParams,i.params,i.data]).pipe(vt(([s,o,c],d)=>(c={...s,...o,...c},0===d?de(c):Promise.resolve(c)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function Fae(n){const t=Zn(n);if(!t)return null;const e=new Cv(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:c}of o.inputs)e.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function s0(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function dwe(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return s0(n,i,r);return s0(n,i)})}(n,t,e);return new pd(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(c=>s0(n,c)),o}}const i=function uwe(n){return new Mm(new W(n.url),new W(n.params),new W(n.queryParams),new W(n.fragment),new W(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>s0(n,s));return new pd(i,r)}}const bN="ngNavigationCancelingError";function V6(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=pf(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=B6(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function B6(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[bN]=!0,i.cancellationCode=t,e&&(i.url=e),i}function z6(n){return n&&n[bN]}let H6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=kt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Do],decls:1,vars:0,template:function(i,r){1&i&&Qe(0,"router-outlet")},dependencies:[yN],encapsulation:2})}return n})();function xN(n){const t=n.children&&n.children.map(xN),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Fn&&(e.component=H6),e}function Sl(n){return n.outlet||Fn}function o0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class ywe{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),_N(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=km(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=km(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=km(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=km(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new rwe(s.value.snapshot))}),t.children.length&&this.forwardEvent(new nwe(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(_N(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),_N(c.route.value),this.activateChildRoutes(t,null,o.children)}else{const c=o0(r.snapshot);o.attachRef=null,o.route=r,o.injector=c,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class U6{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class d1{constructor(t,e){this.component=t,this.route=e}}function bwe(n,t,e){const i=n._root;return a0(i,t?t._root:null,e,[i.value])}function Rm(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function tn(n){return null!==bt(n)}(n)?t.get(n):n:i}function a0(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=km(t);return n.children.forEach(o=>{(function wwe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const d=function Cwe(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ff(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ff(n.url,t.url)||!yc(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vN(n,t)||!yc(n.queryParams,t.queryParams);default:return!vN(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new U6(i)):(s.data=o.data,s._resolvedData=o._resolvedData),a0(n,t,s.component?c?c.children:null:e,i,r),d&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new d1(c.outlet.component,o))}else o&&l0(t,c,r),r.canActivateChecks.push(new U6(i)),a0(n,null,s.component?c?c.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>l0(c,e.getContext(o),r)),r}function l0(n,t,e){const i=km(n),r=n.value;Object.entries(i).forEach(([s,o])=>{l0(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new d1(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function c0(n){return"function"==typeof n}function j6(n){return n instanceof NC||"EmptyError"===n?.name}const u1=Symbol("INITIAL_VALUE");function Om(){return vt(n=>Ka(n.map(t=>t.pipe(Vn(1),ko(u1)))).pipe($e(t=>{for(const e of t)if(!0!==e){if(e===u1)return u1;if(!1===e||e instanceof Sm)return e}return!0}),Dn(t=>t!==u1),Vn(1)))}function W6(n){return function Hr(...n){return ls(n)}(Lr(t=>{if(pf(t))throw V6(0,t)}),$e(t=>!0===t))}class h1{constructor(t){this.segmentGroup=t||null}}class G6{constructor(t){this.urlTree=t}}function Pm(n){return Yb(new h1(n))}function $6(n){return Yb(new G6(n))}class jwe{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new l(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return de(i);if(r.numberOfChildren>1||!r.children[Fn])return Yb(new l(4e3,!1));r=r.children[Fn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Sm(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const c=s.substring(1);i[r]=e[c]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([c,d])=>{o[c]=this.createSegmentGroup(t,d,i,r)}),new Vi(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new l(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const wN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wwe(n,t,e,i,r){const s=CN(n,t,e);return s.matched?(i=function fwe(n,t){return n.providers&&!n._injector&&(n._injector=hA(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function zwe(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?de(r.map(o=>{const c=Rm(o,n);return ku(function Awe(n){return n&&c0(n.canMatch)}(c)?c.canMatch(t,e):n.runInContext(()=>c(t,e)))})).pipe(Om(),W6()):de(!0)}(i,t,e).pipe($e(o=>!0===o?s:{...wN}))):de(s)}function CN(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...wN}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||wxe)(e,n,t);if(!r)return{...wN};const s={};Object.entries(r.posParams??{}).forEach(([c,d])=>{s[c]=d.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Y6(n,t,e,i){return e.length>0&&function Ywe(n,t,e){return e.some(i=>f1(n,t,i)&&Sl(i)!==Fn)}(n,e,i)?{segmentGroup:new Vi(t,$we(i,new Vi(e,n.children))),slicedSegments:[]}:0===e.length&&function qwe(n,t,e){return e.some(i=>f1(n,t,i))}(n,e,i)?{segmentGroup:new Vi(n.segments,Gwe(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Vi(n.segments,n.children),slicedSegments:e}}function Gwe(n,t,e,i,r){const s={};for(const o of i)if(f1(n,e,o)&&!r[Sl(o)]){const c=new Vi([],{});s[Sl(o)]=c}return{...r,...s}}function $we(n,t){const e={};e[Fn]=t;for(const i of n)if(""===i.path&&Sl(i)!==Fn){const r=new Vi([],{});e[Sl(i)]=r}return e}function f1(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Qwe{constructor(t,e,i,r,s,o,c){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new jwe(this.urlSerializer,this.urlTree)}noMatchError(t){return new l(4002,!1)}recognize(){const t=Y6(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Fn).pipe(Au(e=>{if(e instanceof G6)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof h1?this.noMatchError(e):e}),$e(e=>{const i=new l1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Fn,this.rootComponentType,null,{}),r=new pd(i,e),s=new N6("",r),o=function Uxe(n,t,e=null,i=null){return C6(w6(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Fn).pipe(Au(i=>{throw i instanceof h1?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=P6(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return $(r).pipe(Tm(s=>{const o=i.children[s],c=function _we(n,t){const e=n.filter(i=>Sl(i)===t);return e.push(...n.filter(i=>Sl(i)!==t)),e}(e,s);return this.processSegmentGroup(t,c,o,s)}),vg((s,o)=>(s.push(...o),s)),FC(null),function bxe(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Dn((r,s)=>n(r,s,i)):fn,QD(1),e?FC(t):X3(()=>new NC))}(),An(s=>{if(null===s)return Pm(i);const o=q6(s);return function Jwe(n){n.sort((t,e)=>t.value.outlet===Fn?-1:e.value.outlet===Fn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),de(o)}))}processSegment(t,e,i,r,s,o){return $(e).pipe(Tm(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,i,r,s,o).pipe(Au(d=>{if(d instanceof h1)return de(null);throw d}))),Xd(c=>!!c),Au(c=>{if(j6(c))return function Zwe(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?de([]):Pm(i);throw c}))}processSegmentAgainstRoute(t,e,i,r,s,o,c){return function Xwe(n,t,e,i){return!!(Sl(n)===i||i!==Fn&&f1(t,e,n))&&("**"===n.path||CN(t,n,e).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):Pm(r):Pm(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?$6(s):this.applyRedirects.lineralizeSegments(i,s).pipe(An(o=>{const c=new Vi(o,{});return this.processSegment(t,e,c,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:c,consumedSegments:d,remainingSegments:f,positionalParamSegments:_}=CN(e,r,s);if(!c)return Pm(e);const x=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,_);return r.redirectTo.startsWith("/")?$6(x):this.applyRedirects.lineralizeSegments(r,x).pipe(An(T=>this.processSegment(t,i,e,T.concat(f),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let c;if("**"===i.path){const d=r.length>0?u6(r).parameters:{};c=de({snapshot:new l1(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X6(i),Sl(i),i.component??i._loadedComponent??null,i,Z6(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else c=Wwe(e,i,r,t).pipe($e(({matched:d,consumedSegments:f,remainingSegments:_,parameters:x})=>d?{snapshot:new l1(f,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X6(i),Sl(i),i.component??i._loadedComponent??null,i,Z6(i)),consumedSegments:f,remainingSegments:_}:null));return c.pipe(vt(d=>null===d?Pm(e):this.getChildConfig(t=i._injector??t,i,r).pipe(vt(({routes:f})=>{const _=i._loadedInjector??t,{snapshot:x,consumedSegments:T,remainingSegments:M}=d,{segmentGroup:N,slicedSegments:V}=Y6(e,T,M,f);if(0===V.length&&N.hasChildren())return this.processChildren(_,f,N).pipe($e(re=>null===re?null:[new pd(x,re)]));if(0===f.length&&0===V.length)return de([new pd(x,[])]);const U=Sl(i)===s;return this.processSegment(_,f,N,V,U?Fn:s,!0).pipe($e(re=>[new pd(x,re)]))}))))}getChildConfig(t,e,i){return e.children?de({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?de({routes:e._loadedRoutes,injector:e._loadedInjector}):function Bwe(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?de(!0):de(r.map(o=>{const c=Rm(o,n);return ku(function Dwe(n){return n&&c0(n.canLoad)}(c)?c.canLoad(t,e):n.runInContext(()=>c(t,e)))})).pipe(Om(),W6())}(t,e,i).pipe(An(r=>r?this.configLoader.loadChildren(t,e).pipe(Lr(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Uwe(n){return Yb(B6(!1,3))}())):de({routes:[],injector:t})}}function eCe(n){const t=n.value.routeConfig;return t&&""===t.path}function q6(n){const t=[],e=new Set;for(const i of n){if(!eCe(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=q6(i.children);t.push(new pd(i.value,r))}return t.filter(i=>!e.has(i))}function X6(n){return n.data||{}}function Z6(n){return n.resolve||{}}function nCe(n,t){return An(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return de(e);let s=0;return $(r).pipe(Tm(o=>function iCe(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!K6(r)&&(s[Xb]=r.title),function rCe(n,t,e,i){const r=function sCe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return de({});const s={};return $(r).pipe(An(o=>function oCe(n,t,e,i){const r=o0(t)??i,s=Rm(n,r);return ku(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(Xd(),Lr(c=>{s[o]=c}))),QD(1),function c6(n){return $e(()=>n)}(s),Au(o=>j6(o)?ti:Yb(o)))}(s,n,t,i).pipe($e(o=>(n._resolvedData=o,n.data=P6(n,e).resolve,r&&K6(r)&&(n.data[Xb]=r.title),null)))}(o.route,i,n,t)),Lr(()=>s++),QD(1),An(o=>s===r.length?de(e):ti))})}function K6(n){return"string"==typeof n.title||null===n.title}function EN(n){return vt(t=>{const e=n(t);return e?$(e).pipe($e(()=>t)):de(t)})}const Nm=new Be("ROUTES");let DN=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ge(mU)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return de(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ku(e.loadComponent()).pipe($e(Q6),Lr(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),qb(()=>{this.componentLoaders.delete(e)})),r=new l6(i,()=>new he).pipe(oN());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return de({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function aCe(n,t,e,i){return ku(n.loadChildren()).pipe($e(Q6),An(r=>r instanceof CH||Array.isArray(r)?de(r):$(t.compileModuleAsync(r))),$e(r=>{i&&i(n);let s,o,c=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(Nm,[],{optional:!0,self:!0}).flat()),{routes:o.map(xN),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(qb(()=>{this.childrenLoaders.delete(i)})),o=new l6(s,()=>new he).pipe(oN());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Q6(n){return function lCe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let p1=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new he,this.transitionAbortSubject=new he,this.configLoader=Ge(DN),this.environmentInjector=Ge(xo),this.urlSerializer=Ge(Kb),this.rootContexts=Ge(r0),this.inputBindingEnabled=null!==Ge(c1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>de(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new ewe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Jxe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new W({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:t0,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dn(s=>0!==s.id),$e(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),vt(s=>{this.currentTransition=s;let o=!1,c=!1;return de(s).pipe(Lr(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vt(d=>{const f=d.currentBrowserUrl.toString(),_=!e.navigated||d.extractedUrl.toString()!==f||f!==d.currentUrlTree.toString();if(!_&&"reload"!==(d.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const T="";return this.events.next(new Am(d.id,this.urlSerializer.serialize(d.rawUrl),T,0)),d.resolve(null),ti}if(e.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return de(d).pipe(vt(T=>{const M=this.transitions?.getValue();return this.events.next(new o1(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),M!==this.transitions?.getValue()?ti:Promise.resolve(T)}),function tCe(n,t,e,i,r,s){return An(o=>function Kwe(n,t,e,i,r,s,o="emptyOnly"){return new Qwe(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe($e(({state:c,tree:d})=>({...o,targetSnapshot:c,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Lr(T=>{s.targetSnapshot=T.targetSnapshot,s.urlAfterRedirects=T.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects};const M=new A6(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(M)}));if(_&&e.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){const{id:T,extractedUrl:M,source:N,restoredState:V,extras:U}=d,re=new o1(T,this.urlSerializer.serialize(M),N,V);this.events.next(re);const te=O6(0,this.rootComponentType).snapshot;return this.currentTransition=s={...d,targetSnapshot:te,urlAfterRedirects:M,extras:{...U,skipLocationChange:!1,replaceUrl:!1}},de(s)}{const T="";return this.events.next(new Am(d.id,this.urlSerializer.serialize(d.extractedUrl),T,1)),d.resolve(null),ti}}),Lr(d=>{const f=new Xxe(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),$e(d=>(this.currentTransition=s={...d,guards:bwe(d.targetSnapshot,d.currentSnapshot,this.rootContexts)},s)),function Mwe(n,t){return An(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?de({...e,guardsResult:!0}):function Rwe(n,t,e,i){return $(n).pipe(An(r=>function Vwe(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?de(s.map(c=>{const d=o0(t)??r,f=Rm(c,d);return ku(function Swe(n){return n&&c0(n.canDeactivate)}(f)?f.canDeactivate(n,t,e,i):d.runInContext(()=>f(n,t,e,i))).pipe(Xd())})).pipe(Om()):de(!0)}(r.component,r.route,e,t,i)),Xd(r=>!0!==r,!0))}(o,i,r,n).pipe(An(c=>c&&function Ewe(n){return"boolean"==typeof n}(c)?function Owe(n,t,e,i){return $(t).pipe(Tm(r=>Mg(function Nwe(n,t){return null!==n&&t&&t(new twe(n)),de(!0)}(r.route.parent,i),function Pwe(n,t){return null!==n&&t&&t(new iwe(n)),de(!0)}(r.route,i),function Lwe(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function xwe(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>$b(()=>de(o.guards.map(d=>{const f=o0(o.node)??e,_=Rm(d,f);return ku(function Iwe(n){return n&&c0(n.canActivateChild)}(_)?_.canActivateChild(i,n):f.runInContext(()=>_(i,n))).pipe(Xd())})).pipe(Om())));return de(s).pipe(Om())}(n,r.path,e),function Fwe(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return de(!0);const r=i.map(s=>$b(()=>{const o=o0(t)??e,c=Rm(s,o);return ku(function Twe(n){return n&&c0(n.canActivate)}(c)?c.canActivate(t,n):o.runInContext(()=>c(t,n))).pipe(Xd())}));return de(r).pipe(Om())}(n,r.route,e))),Xd(r=>!0!==r,!0))}(i,s,n,t):de(c)),$e(c=>({...e,guardsResult:c})))})}(this.environmentInjector,d=>this.events.next(d)),Lr(d=>{if(s.guardsResult=d.guardsResult,pf(d.guardsResult))throw V6(0,d.guardsResult);const f=new Zxe(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),Dn(d=>!!d.guardsResult||(this.cancelNavigationTransition(d,"",3),!1)),EN(d=>{if(d.guards.canActivateChecks.length)return de(d).pipe(Lr(f=>{const _=new Kxe(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),vt(f=>{let _=!1;return de(f).pipe(nCe(e.paramsInheritanceStrategy,this.environmentInjector),Lr({next:()=>_=!0,complete:()=>{_||this.cancelNavigationTransition(f,"",2)}}))}),Lr(f=>{const _=new Qxe(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),EN(d=>{const f=_=>{const x=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(_.routeConfig).pipe(Lr(T=>{_.component=T}),$e(()=>{})));for(const T of _.children)x.push(...f(T));return x};return Ka(f(d.targetSnapshot.root)).pipe(FC(),Vn(1))}),EN(()=>this.afterPreactivation()),$e(d=>{const f=function cwe(n,t,e){const i=s0(n,t._root,e?e._root:void 0);return new R6(i,t)}(e.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s={...d,targetRouterState:f},s}),Lr(()=>{this.events.next(new hN)}),((n,t,e,i)=>$e(r=>(new ywe(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Vn(1),Lr({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),e.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),$t(this.transitionAbortSubject.pipe(Lr(d=>{throw d}))),qb(()=>{o||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Au(d=>{if(c=!0,z6(d))this.events.next(new n0(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),function hwe(n){return z6(n)&&pf(n.url)}(d)?this.events.next(new fN(d.url)):s.resolve(!1);else{this.events.next(new a1(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(d))}catch(f){s.reject(f)}}return ti}))}))}cancelNavigationTransition(e,i,r){const s=new n0(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function J6(n){return n!==t0}let e9=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Fn);return i}getResolvedTitleForRoute(e){return e.data[Xb]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return Ge(cCe)},providedIn:"root"})}return n})(),cCe=(()=>{class n extends e9{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(V3))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dCe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return Ge(hCe)},providedIn:"root"})}return n})();class uCe{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let hCe=(()=>{class n extends uCe{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=tr(n)))(r||n)}}();static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const g1=new Be("",{providedIn:"root",factory:()=>({})});let fCe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return Ge(pCe)},providedIn:"root"})}return n})(),pCe=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var d0=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(d0||{});function t9(n,t){n.events.pipe(Dn(e=>e instanceof Mu||e instanceof n0||e instanceof a1||e instanceof Am),$e(e=>e instanceof Mu||e instanceof Am?d0.COMPLETE:e instanceof n0&&(0===e.code||1===e.code)?d0.REDIRECTING:d0.FAILED),Dn(e=>e!==d0.REDIRECTING),Vn(1)).subscribe(()=>{t()})}function gCe(n){throw n}function mCe(n,t,e){return t.parse("/")}const _Ce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vCe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let os=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ge(gU),this.isNgZoneEnabled=!1,this._events=new he,this.options=Ge(g1,{optional:!0})||{},this.pendingTasks=Ge(oC),this.errorHandler=this.options.errorHandler||gCe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mCe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ge(fCe),this.routeReuseStrategy=Ge(dCe),this.titleStrategy=Ge(e9),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ge(Nm,{optional:!0})?.flat()??[],this.navigationTransitions=Ge(p1),this.urlSerializer=Ge(Kb),this.location=Ge($v),this.componentInputBindingEnabled=!!Ge(c1,{optional:!0}),this.eventsSubscription=new Ue,this.isNgZoneEnabled=Ge(lt)instanceof lt&&lt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Sm,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=O6(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(n9(i)&&this._events.next(i));if(i instanceof o1)J6(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Am)this.rawUrlTree=r.rawUrl;else if(i instanceof A6){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof hN)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof n0)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof fN){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||J6(r.source)};this.scheduleNavigation(s,t0,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof a1&&this.restoreHistory(r,!0),i instanceof Mu&&(this.navigated=!0),n9(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),t0,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const d={...r};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(s.state=d)}const c=this.parseUrl(e);this.scheduleNavigation(c,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(xN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:d}=i,f=d?this.currentUrlTree.fragment:o;let x,_=null;switch(c){case"merge":_={...this.currentUrlTree.queryParams,...s};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=s||null}null!==_&&(_=this.removeEmptyProps(_));try{x=w6(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),x=this.currentUrlTree.root}return C6(x,e,_,f??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=pf(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,t0,null,i)}navigate(e,i={skipLocationChange:!1}){return function yCe(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new l(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{..._Ce}:!1===i?{...vCe}:i,pf(e))return f6(this.currentUrlTree,e,r);const s=this.parseUrl(e);return f6(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let c,d,f;o?(c=o.resolve,d=o.reject,f=o.promise):f=new Promise((x,T)=>{c=x,d=T});const _=this.pendingTasks.add();return t9(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:c,reject:d,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(x=>Promise.reject(x))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n9(n){return!(n instanceof hN||n instanceof fN)}let u0=(()=>{class n{constructor(e,i,r,s,o,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new he,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const d=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===d||"area"===d,this.isAnchorElement?this.subscription=e.events.subscribe(f=>{f instanceof Mu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function OV(n,t,e){return function pte(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?RV:_h}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(B(os),B(Mm),Gc("tabindex"),B(Gr),B(zt),B(Dh))};static#t=this.\u0275dir=je({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Fe("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&Rt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",dg],skipLocationChange:["skipLocationChange","skipLocationChange",dg],replaceUrl:["replaceUrl","replaceUrl",dg],routerLink:"routerLink"},standalone:!0,features:[WB,Mn]})}return n})(),i9=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,s,o){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ve,this.routerEventsSubscription=e.events.subscribe(c=>{c instanceof Mu&&this.update()})}ngAfterContentInit(){de(this.links.changes,de(null)).pipe(qn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=$(e).pipe(qn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function bCe(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(B(os),B(zt),B(Gr),B(hr),B(u0,8))};static#t=this.\u0275dir=je({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(1&i&&si(s,u0,5),2&i){let o;Ut(o=jt())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Mn]})}return n})();class r9{}let xCe=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Dn(e=>e instanceof Mu),Tm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=hA(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(c,s.children??s._loadedRoutes))}return $(r).pipe(qn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):de(null);const s=r.pipe(An(o=>null===o?de(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?$([s,this.loader.loadComponent(i)]).pipe(qn()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(ce(os),ce(mU),ce(xo),ce(r9),ce(DN))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const TN=new Be("");let s9=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof o1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Mu?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Am&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof k6&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new k6(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){Yp()};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function gd(n,t){return{\u0275kind:n,\u0275providers:t}}function a9(){const n=Ge(Gi);return t=>{const e=n.get(ja);if(t!==e.components[0])return;const i=n.get(os),r=n.get(l9);1===n.get(IN)&&i.initialNavigation(),n.get(c9,null,mn.Optional)?.setUpPreloading(),n.get(TN,null,mn.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const l9=new Be("",{factory:()=>new he}),IN=new Be("",{providedIn:"root",factory:()=>1}),c9=new Be("");function DCe(n){return gd(0,[{provide:c9,useExisting:xCe},{provide:r9,useExisting:n}])}const d9=new Be("ROUTER_FORROOT_GUARD"),ICe=[$v,{provide:Kb,useClass:aN},os,r0,{provide:Mm,useFactory:function o9(n){return n.routerState.root},deps:[os]},DN,[]];function SCe(){return new CU("Router",os)}let u9=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[ICe,[],{provide:Nm,multi:!0,useValue:e},{provide:d9,useFactory:RCe,deps:[[os,new zd,new fh]]},{provide:g1,useValue:i||{}},i?.useHash?{provide:Dh,useClass:Hae}:{provide:Dh,useClass:JU},{provide:TN,useFactory:()=>{const n=Ge(Qle),t=Ge(lt),e=Ge(g1),i=Ge(p1),r=Ge(Kb);return e.scrollOffset&&n.setOffset(e.scrollOffset),new s9(r,i,n,t,e)}},i?.preloadingStrategy?DCe(i.preloadingStrategy).\u0275providers:[],{provide:CU,multi:!0,useFactory:SCe},i?.initialNavigation?OCe(i):[],i?.bindToComponentInputs?gd(8,[L6,{provide:c1,useExisting:L6}]).\u0275providers:[],[{provide:h9,useFactory:a9},{provide:NA,multi:!0,useExisting:h9}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Nm,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(ce(d9,8))};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})();function RCe(n){return"guarded"}function OCe(n){return["disabled"===n.initialNavigation?gd(3,[{provide:IA,multi:!0,useFactory:()=>{const t=Ge(os);return()=>{t.setUpLocationChangeListener()}}},{provide:IN,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?gd(2,[{provide:IN,useValue:0},{provide:IA,multi:!0,deps:[Gi],useFactory:t=>{const e=t.get(Bae,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(os),s=t.get(l9);t9(r,()=>{i(!0)}),t.get(p1).afterPreactivation=()=>(i(!0),s.closed?de(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const h9=new Be("");function m1(...n){const t=xs(n),{args:e,keys:i}=s6(n),r=new Ht(s=>{const{length:o}=e;if(!o)return void s.complete();const c=new Array(o);let d=o,f=o;for(let _=0;_<o;_++){let x=!1;nt(e[_]).subscribe(at(s,T=>{x||(x=!0,f--),c[_]=T},()=>d--,void 0,()=>{(!d||!x)&&(f||s.next(i?o6(i,c):c),s.complete())}))}});return t?r.pipe(sN(t)):r}let f9=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Gr),B(zt))};static#t=this.\u0275dir=je({type:n})}return n})(),gf=(()=>{class n extends f9{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=tr(n)))(r||n)}}();static#t=this.\u0275dir=je({type:n,features:[hn]})}return n})();const Ea=new Be("NgValueAccessor"),FCe={provide:Ea,useExisting:Ee(()=>Ru),multi:!0},VCe=new Be("CompositionEventMode");let Ru=(()=>{class n extends f9{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function LCe(){const n=$d()?$d().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Gr),B(zt),B(VCe,8))};static#t=this.\u0275dir=je({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Fe("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[li([FCe]),hn]})}return n})();function Ou(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function g9(n){return null!=n&&"number"==typeof n.length}const Ps=new Be("NgValidators"),Pu=new Be("NgAsyncValidators"),BCe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Di{static min(t){return function m9(n){return t=>{if(Ou(t.value)||Ou(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function _9(n){return t=>{if(Ou(t.value)||Ou(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return v9(t)}static requiredTrue(t){return function y9(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function b9(n){return Ou(n.value)||BCe.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function x9(n){return t=>Ou(t.value)||!g9(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function w9(n){return t=>g9(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function C9(n){if(!n)return _1;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ou(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return A9(t)}static composeAsync(t){return k9(t)}}function v9(n){return Ou(n.value)?{required:!0}:null}function _1(n){return null}function E9(n){return null!=n}function D9(n){return Mv(n)?$(n):n}function T9(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function I9(n,t){return t.map(e=>e(n))}function S9(n){return n.map(t=>function zCe(n){return!n.validate}(t)?t:e=>t.validate(e))}function A9(n){if(!n)return null;const t=n.filter(E9);return 0==t.length?null:function(e){return T9(I9(e,t))}}function SN(n){return null!=n?A9(S9(n)):null}function k9(n){if(!n)return null;const t=n.filter(E9);return 0==t.length?null:function(e){return m1(I9(e,t).map(D9)).pipe($e(T9))}}function AN(n){return null!=n?k9(S9(n)):null}function M9(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function R9(n){return n._rawValidators}function O9(n){return n._rawAsyncValidators}function kN(n){return n?Array.isArray(n)?n:[n]:[]}function v1(n,t){return Array.isArray(n)?n.includes(t):n===t}function P9(n,t){const e=kN(t);return kN(n).forEach(r=>{v1(e,r)||e.push(r)}),e}function N9(n,t){return kN(t).filter(e=>!v1(n,e))}class F9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=SN(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=AN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Lo extends F9{get formDirective(){return null}get path(){return null}}class xc extends F9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class L9{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fm=(()=>{class n extends L9{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(B(xc,2))};static#t=this.\u0275dir=je({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Nt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[hn]})}return n})(),Lm=(()=>{class n extends L9{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(B(Lo,10))};static#t=this.\u0275dir=je({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Nt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[hn]})}return n})();const h0="VALID",b1="INVALID",Vm="PENDING",f0="DISABLED";function ON(n){return(x1(n)?n.validators:n)||null}function PN(n,t){return(x1(t)?t.asyncValidators:n)||null}function x1(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function B9(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new l(1e3,"");if(!i[e])throw new l(1001,"")}function z9(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new l(1002,"")})}class w1{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===h0}get invalid(){return this.status===b1}get pending(){return this.status==Vm}get disabled(){return this.status===f0}get enabled(){return this.status!==f0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(P9(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(P9(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(N9(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(N9(t,this._rawAsyncValidators))}hasValidator(t){return v1(this._rawValidators,t)}hasAsyncValidator(t){return v1(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Vm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=f0,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=h0,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===h0||this.status===Vm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?f0:h0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Vm,this._hasOwnPendingAsyncValidator=!0;const e=D9(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?f0:this.errors?b1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vm)?Vm:this._anyControlsHaveStatus(b1)?b1:h0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){x1(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function WCe(n){return Array.isArray(n)?SN(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function GCe(n){return Array.isArray(n)?AN(n):n||null}(this._rawAsyncValidators)}}class p0 extends w1{constructor(t,e,i){super(ON(e),PN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){z9(this,0,t),Object.keys(t).forEach(i=>{B9(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class H9 extends p0{}const mf=new Be("CallSetDisabledState",{providedIn:"root",factory:()=>g0}),g0="always";function m0(n,t,e=g0){NN(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function YCe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&U9(n,t)})}(n,t),function XCe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function qCe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&U9(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function $Ce(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function E1(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),T1(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function D1(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function NN(n,t){const e=R9(n);null!==t.validator?n.setValidators(M9(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=O9(n);null!==t.asyncValidator?n.setAsyncValidators(M9(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();D1(t._rawValidators,r),D1(t._rawAsyncValidators,r)}function T1(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=R9(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=O9(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return D1(t._rawValidators,i),D1(t._rawAsyncValidators,i),e}function U9(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function j9(n,t){NN(n,t)}function W9(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const eEe={provide:Lo,useExisting:Ee(()=>v0)},_0=(()=>Promise.resolve())();let v0=(()=>{class n extends Lo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ve,this.form=new p0({},SN(e),AN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){_0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),m0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){_0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){_0.then(()=>{const i=this._findContainer(e.path),r=new p0({});j9(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){_0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){_0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,W9(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ps,10),B(Pu,10),B(mf,8))};static#t=this.\u0275dir=je({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Fe("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[li([eEe]),hn]})}return n})();function G9(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function $9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const y0=class extends w1{constructor(t=null,e,i){super(ON(e),PN(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),x1(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=$9(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){G9(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){G9(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){$9(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let Bm=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),Q9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})();const BN=new Be("NgModelWithFormControlWarning"),cEe={provide:Lo,useExisting:Ee(()=>wc)};let wc=(()=>{class n extends Lo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ve,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(T1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return m0(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){E1(e.control||null,e,!1),function JCe(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,W9(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(E1(i||null,e),(n=>n instanceof y0)(r)&&(m0(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);j9(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function ZCe(n,t){return T1(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NN(this.form,this),this._oldForm&&T1(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ps,10),B(Pu,10),B(mf,8))};static#t=this.\u0275dir=je({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Fe("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[li([cEe]),hn,Mn]})}return n})();const hEe={provide:xc,useExisting:Ee(()=>_f)};let _f=(()=>{class n extends xc{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Ve,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function VN(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Ru?e=s:function QCe(n){return Object.getPrototypeOf(n.constructor)===gf}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){this._added||this._setUpControl(),function LN(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function C1(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(B(Lo,13),B(Ps,10),B(Pu,10),B(Ea,10),B(BN,8))};static#n=this.\u0275dir=je({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[li([hEe]),hn,Mn]})}return n})(),vf=(()=>{class n{constructor(){this._validator=_1}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):_1,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,features:[Mn]})}return n})();const xEe={provide:Ps,useExisting:Ee(()=>b0),multi:!0};let b0=(()=>{class n extends vf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=dg,this.createValidator=e=>v9}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=tr(n)))(r||n)}}();static#t=this.\u0275dir=je({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Rt("required",r._enabled?"":null)},inputs:{required:"required"},features:[li([xEe]),hn]})}return n})(),pq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[Q9]})}return n})();class gq extends w1{constructor(t,e,i){super(ON(e),PN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){z9(this,0,t),t.forEach((i,r)=>{B9(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function mq(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let x0=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return mq(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new p0(r,s)}record(e,i=null){const r=this._reduceControls(e);return new H9(r,i)}control(e,i,r){let s={};return this.useNonNullable?(mq(i)?s=i:(s.validators=i,s.asyncValidators=r),new y0(e,{...s,nonNullable:!0})):new y0(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new gq(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof y0||e instanceof w1?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IEe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:mf,useValue:e.callSetDisabledState??g0}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[pq]})}return n})(),SEe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:BN,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:mf,useValue:e.callSetDisabledState??g0}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[pq]})}return n})();var _q=Yt(215);class I1{}class S1{}class Cc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Cc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Cc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Cc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(c=>-1===s.indexOf(c)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class AEe{encodeKey(t){return vq(t)}encodeValue(t){return vq(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const MEe=/%(\d[a-f0-9])/gi,REe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vq(n){return encodeURIComponent(n).replace(MEe,(t,e)=>REe[e]??t)}function A1(n){return`${n}`}class Nu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new AEe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kEe(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,c]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],d=e.get(o)||[];d.push(c),e.set(o,d)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(A1):[A1(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Nu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(A1(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(A1(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class OEe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function yq(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function bq(n){return typeof Blob<"u"&&n instanceof Blob}function xq(n){return typeof FormData<"u"&&n instanceof FormData}class w0{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function PEe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Cc),this.context||(this.context=new OEe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+o}}else this.params=new Nu,this.urlWithParams=e}serializeBody(){return null===this.body?null:yq(this.body)||bq(this.body)||xq(this.body)||function NEe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Nu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xq(this.body)?null:bq(this.body)?this.body.type||null:yq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let d=t.headers||this.headers,f=t.params||this.params;const _=t.context??this.context;return void 0!==t.setHeaders&&(d=Object.keys(t.setHeaders).reduce((x,T)=>x.set(T,t.setHeaders[T]),d)),t.setParams&&(f=Object.keys(t.setParams).reduce((x,T)=>x.set(T,t.setParams[T]),f)),new w0(e,i,s,{params:f,headers:d,context:_,reportProgress:c,responseType:r,withCredentials:o})}}var zm=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(zm||{});class WN{constructor(t,e=200,i="OK"){this.headers=t.headers||new Cc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class GN extends WN{constructor(t={}){super(t),this.type=zm.ResponseHeader}clone(t={}){return new GN({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hm extends WN{constructor(t={}){super(t),this.type=zm.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Hm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class wq extends WN{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function $N(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let k1=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof w0)s=e;else{let d,f;d=r.headers instanceof Cc?r.headers:new Cc(r.headers),r.params&&(f=r.params instanceof Nu?r.params:new Nu({fromObject:r.params})),s=new w0(e,i,void 0!==r.body?r.body:null,{headers:d,context:r.context,params:f,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=de(s).pipe(Tm(d=>this.handler.handle(d)));if(e instanceof w0||"events"===r.observe)return o;const c=o.pipe(Dn(d=>d instanceof Hm));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe($e(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return c.pipe($e(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return c.pipe($e(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return c.pipe($e(d=>d.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Nu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,$N(r,i))}post(e,i,r={}){return this.request("POST",e,$N(r,i))}put(e,i,r={}){return this.request("PUT",e,$N(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(ce(I1))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function Dq(n,t){return t(n)}function LEe(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const BEe=new Be(""),C0=new Be(""),Tq=new Be("");function zEe(){let n=null;return(t,e)=>{null===n&&(n=(Ge(BEe,{optional:!0})??[]).reduceRight(LEe,Dq));const i=Ge(oC),r=i.add();return n(t,e).pipe(qb(()=>i.remove(r)))}}let Iq=(()=>{class n extends I1{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Ge(oC)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(C0),...this.injector.get(Tq,[])]));this.chain=r.reduceRight((s,o)=>function VEe(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,o,this.injector),Dq)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(qb(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(ce(S1),ce(xo))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const WEe=/^\)\]\}',?\n/;let Aq=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new l(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?$(i.\u0275loadImpl()):de(null)).pipe(vt(()=>new Ht(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((V,U)=>o.setRequestHeader(V,U.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const V=e.detectContentTypeHeader();null!==V&&o.setRequestHeader("Content-Type",V)}if(e.responseType){const V=e.responseType.toLowerCase();o.responseType="json"!==V?V:"text"}const c=e.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const V=o.statusText||"OK",U=new Cc(o.getAllResponseHeaders()),re=function GEe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return d=new GN({headers:U,status:o.status,statusText:V,url:re}),d},_=()=>{let{headers:V,status:U,statusText:re,url:te}=f(),oe=null;204!==U&&(oe=typeof o.response>"u"?o.responseText:o.response),0===U&&(U=oe?200:0);let pe=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof oe){const Ie=oe;oe=oe.replace(WEe,"");try{oe=""!==oe?JSON.parse(oe):null}catch(Xe){oe=Ie,pe&&(pe=!1,oe={error:Xe,text:oe})}}pe?(s.next(new Hm({body:oe,headers:V,status:U,statusText:re,url:te||void 0})),s.complete()):s.error(new wq({error:oe,headers:V,status:U,statusText:re,url:te||void 0}))},x=V=>{const{url:U}=f(),re=new wq({error:V,status:o.status||0,statusText:o.statusText||"Unknown Error",url:U||void 0});s.error(re)};let T=!1;const M=V=>{T||(s.next(f()),T=!0);let U={type:zm.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),"text"===e.responseType&&o.responseText&&(U.partialText=o.responseText),s.next(U)},N=V=>{let U={type:zm.UploadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),s.next(U)};return o.addEventListener("load",_),o.addEventListener("error",x),o.addEventListener("timeout",x),o.addEventListener("abort",x),e.reportProgress&&(o.addEventListener("progress",M),null!==c&&o.upload&&o.upload.addEventListener("progress",N)),o.send(c),s.next({type:zm.Sent}),()=>{o.removeEventListener("error",x),o.removeEventListener("abort",x),o.removeEventListener("load",_),o.removeEventListener("timeout",x),e.reportProgress&&(o.removeEventListener("progress",M),null!==c&&o.upload&&o.upload.removeEventListener("progress",N)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(ce(b3))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const YN=new Be("XSRF_ENABLED"),kq=new Be("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Mq=new Be("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Rq{}let qEe=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=d3(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(ce(on),ce(wo),ce(kq))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function XEe(n,t){const e=n.url.toLowerCase();if(!Ge(YN)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=Ge(Rq).getToken(),r=Ge(Mq);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Fu=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Fu||{});function ZEe(...n){const t=[k1,Aq,Iq,{provide:I1,useExisting:Iq},{provide:S1,useExisting:Aq},{provide:C0,useValue:XEe,multi:!0},{provide:YN,useValue:!0},{provide:Rq,useClass:qEe}];for(const e of n)t.push(...e.\u0275providers);return Kl(t)}const Oq=new Be("LEGACY_INTERCEPTOR_FN");function KEe(){return function yf(n,t){return{\u0275kind:n,\u0275providers:t}}(Fu.LegacyInterceptors,[{provide:Oq,useFactory:zEe},{provide:C0,useExisting:Oq,multi:!0}])}let QEe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({providers:[ZEe(KEe())]})}return n})(),Al=(()=>{class n{constructor(){this.loggedIn=new W(!1)}get isLoggedIn(){return this.loggedIn.asObservable()}isLoggedNext(e){return this.loggedIn.next(e)}SessionAddStorage(e,i){sessionStorage.setItem(e,JSON.stringify(i))}SessionGetStorage(e){const i=sessionStorage.getItem(e);return JSON.parse(i)}SessionRemove(e){sessionStorage.removeItem(e),sessionStorage.clear()}SessionClear(){sessionStorage.clear()}LocalAddStorage(e,i){localStorage.setItem(e,JSON.stringify(i))}LocalGetStorage(e){const i=localStorage.getItem(e);return JSON.parse(i)}LocalRemove(e){localStorage.removeItem(e)}LocalClear(){localStorage.clear()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Pq{}class rDe{}const md="*";function Lu(n,t){return{type:7,name:n,definitions:t,options:{}}}function Da(n,t=null){return{type:4,styles:t,timings:n}}function Fq(n,t=null){return{type:2,steps:n,options:t}}function Mr(n){return{type:6,styles:n,offset:null}}function kl(n,t,e){return{type:0,name:n,styles:t,options:e}}function Lq(n){return{type:5,steps:n}}function ta(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function qN(n=null){return{type:9,options:n}}function XN(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class E0{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Vq{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,c)=>Math.max(o,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Bq=["toast-component",""];function sDe(n,t){if(1&n){const e=rn();q(0,"button",5),Fe("click",function(){return ut(e),ot(ve().remove())}),q(1,"span",6),De(2,"\xd7"),Q()()}}function oDe(n,t){if(1&n&&(Av(0),De(1),kv()),2&n){const e=ve(2);ee(1),Cn("[",e.duplicatesCount+1,"]")}}function aDe(n,t){if(1&n&&(q(0,"div"),De(1),xe(2,oDe,2,1,"ng-container",4),Q()),2&n){const e=ve();Co(e.options.titleClass),Rt("aria-label",e.title),ee(1),Cn(" ",e.title," "),ee(1),se("ngIf",e.duplicatesCount)}}function lDe(n,t){if(1&n&&Qe(0,"div",7),2&n){const e=ve();Co(e.options.messageClass),se("innerHTML",e.message,mh)}}function cDe(n,t){if(1&n&&(q(0,"div",8),De(1),Q()),2&n){const e=ve();Co(e.options.messageClass),Rt("aria-label",e.message),ee(1),Cn(" ",e.message," ")}}function dDe(n,t){if(1&n&&(q(0,"div"),Qe(1,"div",9),Q()),2&n){const e=ve();ee(1),Nr("width",e.width+"%")}}class _De{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class vDe{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class yDe{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new he;_activate=new he;_manualClose=new he;_resetTimeout=new he;_countDuplicate=new he;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class R1{toastId;config;message;title;toastType;toastRef;_onTap=new he;_onAction=new he;constructor(t,e,i,r,s,o){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const Hq=new Be("ToastConfig");class bDe extends vDe{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){const i=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let xDe=(()=>{class n{_document=Ge(on);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class wDe{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let CDe=(()=>{class n{_overlayContainer=Ge(xDe);_componentFactoryResolver=Ge(Ud);_appRef=Ge(ja);_document=Ge(on);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new bDe(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new wDe(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D0=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,i,r={},s=""){return this._preBuildNotification(s,e,i,this.applyConfig(r))}success(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(r))}error(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(r))}info(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(r))}warning(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(r))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const c of this.toasts)if((!o||o&&c.title===e)&&c.message===i)return c.toastRef.onDuplicate(r,s),c;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,s)):this._buildNotification(e,i,r,s)}_buildNotification(e,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=i;let c=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(c=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const d=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let f=i;i&&s.enableHtml&&(f=this.sanitizer.sanitize(ua.HTML,i));const _=new yDe(d),x=new R1(this.index,s,f,r,e,_),M=Gi.create({providers:[{provide:R1,useValue:x}],parent:this._injector}),N=new _De(s.toastComponent,M),V=d.attach(N,s.newestOnTop);_.componentInstance=V.instance;const U={toastId:this.index,title:r||"",message:i||"",toastRef:_,onShown:_.afterActivate(),onHidden:_.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:V};return c||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{U.toastRef.activate()})),this.toasts.push(U),U}static \u0275fac=function(i){return new(i||n)(ce(Hq),ce(CDe),ce(Gi),ce(H3),ce(lt))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const EDe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||n)(B(D0),B(R1),B(lt))};static \u0275cmp=kt({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){1&i&&Fe("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&i&&(Qw("@flyInOut",r.state),Co(r.toastClasses),Nr("display",r.displayStyle))},standalone:!0,features:[Do],attrs:Bq,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){1&i&&(xe(0,sDe,3,0,"button",0),xe(1,aDe,3,5,"div",1),xe(2,lDe,1,3,"div",2),xe(3,cDe,2,4,"div",3),xe(4,dDe,2,2,"div",4)),2&i&&(se("ngIf",r.options.closeButton),ee(1),se("ngIf",r.title),ee(1),se("ngIf",r.message&&r.options.enableHtml),ee(1),se("ngIf",r.message&&!r.options.enableHtml),ee(1),se("ngIf",r.options.progressBar))},dependencies:[qi],encapsulation:2,data:{animation:[Lu("flyInOut",[kl("inactive",Mr({opacity:0})),kl("active",Mr({opacity:1})),kl("removed",Mr({opacity:0})),ta("inactive => active",Da("{{ easeTime }}ms {{ easing }}")),ta("active => removed",Da("{{ easeTime }}ms {{ easing }}"))])]}})}return n})()},DDe=(n={})=>Kl([{provide:Hq,useValue:{default:EDe,config:n}}]);let KN,Uq=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[DDe(e)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=St({type:n});static \u0275inj=Se({})}return n})(),Ml=(()=>{class n{constructor(e,i,r,s){this.http=e,this.storageService=i,this.afAuth=r,this.toastr=s,this.apiUrl="https://petguardian-api.uc.r.appspot.com/",this.petsArray=[]}GoogleAuth(){return this.AuthLogin(new _q.W)}AuthLogin(e){return this.afAuth.signInWithPopup(e).then(i=>{console.log("You have been successfully logged in!")}).catch(i=>{console.log(i)})}getAppointments(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"client/findAppointments/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClientAppointments(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"client/findAppointments/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClients(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"vet/findClients/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getSingleClient(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/client/find/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClientPets(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/client/findPets/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}postClientPets(e){const i={birth:"",breed:"",weight:{},health_info:{cardiac_freq:{},vaccines:[],observations:"",steps:{}},height:0,name:"",type:"",vet_id:"",client_id:"",profile_image:"",id:"",...e};return new Promise((r,s)=>{this.http.post(this.apiUrl+"pet/create",i,{responseType:"text"}).subscribe({next:o=>{e.profile_image="/assets/img/logo_default.svg",this.petsArray.push(e),this.toastr.success("Register completed","Congratulations!")},error:o=>{console.error("There was an error!",o),this.toastr.error("Error registering pet","Error")}})})}getPet(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/pet/find/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}publishAppoint(e){const i={"content-type":"application/json",responseType:"json"};return new Promise((r,s)=>{this.http.post(this.apiUrl+"appointment/create",e,{headers:i}).subscribe(o=>{r(o)},o=>{200==o.status&&r(e),s(o)})})}editUser(e){const i={"content-type":"application/json",responseType:"json"};return new Promise((r,s)=>{this.http.patch(this.apiUrl+"client/update/"+e.id,e,{headers:i}).subscribe(o=>{r(o)},o=>{s(o)})})}addUser(e){const i={"content-type":"application/json",responseType:"json"};return new Promise((r,s)=>{this.http.post(this.apiUrl+"client/create/"+e.id,e,{headers:i}).subscribe(o=>{r(o)},o=>{200==o.status&&r(e),s(o)})})}googleReg(e,i,r,s){return new Promise((o,c)=>{this.getSingleClient(e).then(d=>{if(null==d){var f={id:e,name:s,address:{latitude:"0.0",longitude:"0.0"},email:i,phone:Number(r),surnames:""};this.addUser(f).then(_=>{console.log(),o(f.id)}).catch(_=>{})}o(d.id)}).catch(d=>{c(d)})})}getAllPets(){return new Promise((e,i)=>{this.http.get(this.apiUrl+"/pet/all").subscribe(r=>{e(r)},r=>{i(r)})})}getNearbySearch(e,i,r,s){const o={"content-type":"application/json",responseType:"json",location:e,radius:i,type:s,keyword:r};return new Promise((c,d)=>{this.http.get(this.apiUrl+"maps/getNearbySearch",{headers:o}).subscribe(f=>{c(f)},f=>{d(f)})})}static#e=this.\u0275fac=function(i){return new(i||n)(ce(k1),ce(Al),ce(Jc),ce(D0))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{KN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{KN=!1}let Um,ys=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?ck(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!KN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(ce(wo))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jq=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Wq(){if(Um)return Um;if("object"!=typeof document||!document)return Um=new Set(jq),Um;let n=document.createElement("input");return Um=new Set(jq.filter(t=>(n.setAttribute("type",t),n.type===t))),Um}let T0,bf,QN;function Vu(n){return function TDe(){if(null==T0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>T0=!0}))}finally{T0=T0||!1}return T0}()?n:!!n.capture}function IDe(){if(null==bf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return bf=!1,bf;if("scrollBehavior"in document.documentElement.style)bf=!0;else{const n=Element.prototype.scrollTo;bf=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return bf}function I0(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Bu(n){return n.composedPath?n.composedPath()[0]:n.target}function JN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ta(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function eF(n){return Dn((t,e)=>n<=e)}function cr(n){return null!=n&&"false"!=`${n}`}function xf(n,t=0){return function BDe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function F1(n){return Array.isArray(n)?n:[n]}function as(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Uu(n){return n instanceof zt?n.nativeElement:n}let HDe=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$q=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({providers:[HDe]})}return n})();const Yq=new Set;let wf,UDe=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):WDe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function jDe(n,t){if(!Yq.has(n))try{wf||(wf=document.createElement("style"),t&&(wf.nonce=t),wf.setAttribute("type","text/css"),document.head.appendChild(wf)),wf.sheet&&(wf.sheet.insertRule(`@media ${n} {body{ }}`,0),Yq.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ys),ce(_S,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WDe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let GDe=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new he}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return qq(F1(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Ka(qq(F1(e)).map(o=>this._registerQuery(o).observable));return s=Mg(s.pipe(Vn(1)),s.pipe(eF(1),GP(0))),s.pipe($e(o=>{const c={matches:!1,breakpoints:{}};return o.forEach(({matches:d,query:f})=>{c.matches=c.matches||d,c.breakpoints[f]=d}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Ht(o=>{const c=d=>this._zone.run(()=>o.next(d));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(ko(i),$e(({matches:o})=>({query:e,matches:o})),$t(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(ce(UDe),ce(lt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qq(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Zq(n,t,e){const r=Kq(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function Kq(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}class XDe{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new he,this._typeaheadSubscription=Ue.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new he,this.change=new he,t instanceof Uv&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Lr(e=>this._pressedLetters.push(e)),GP(t),Dn(()=>this._pressedLetters.length>0),$e(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||Ta(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Uv?this._items.toArray():this._items}}class ZDe extends XDe{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let L1=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function QDe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function KDe(n){try{return n.frameElement}catch{return null}}(function o1e(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Jq(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=Jq(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function r1e(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function s1e(n){return!function e1e(n){return function n1e(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function JDe(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function t1e(n){return function i1e(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Qq(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ys))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qq(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Jq(n){if(!Qq(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class a1e{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Vn(1)).subscribe(t)}}let V1=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new a1e(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(L1),ce(lt),ce(on))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),l1e=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=cr(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=cr(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=I0(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(V1),B(on))};static#t=this.\u0275dir=je({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Mn]})}return n})();function eX(n){return 0===n.buttons||0===n.detail}function tX(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const c1e=new Be("cdk-input-modality-detector-options"),d1e={ignoreKeys:[18,17,224,91,16]},Gm=Vu({passive:!0,capture:!0});let u1e=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new W(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(c=>c===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Bu(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(eX(o)?"keyboard":"mouse"),this._mostRecentTarget=Bu(o))},this._onTouchstart=o=>{tX(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Bu(o))},this._options={...d1e,...s},this.modalityDetected=this._modality.pipe(eF(1)),this.modalityChanged=this.modalityDetected.pipe(en()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Gm),r.addEventListener("mousedown",this._onMousedown,Gm),r.addEventListener("touchstart",this._onTouchstart,Gm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gm),document.removeEventListener("mousedown",this._onMousedown,Gm),document.removeEventListener("touchstart",this._onTouchstart,Gm))}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ys),ce(lt),ce(on),ce(c1e,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const h1e=new Be("liveAnnouncerElement",{providedIn:"root",factory:function f1e(){return null}}),p1e=new Be("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let g1e=0,m1e=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+g1e++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(e)&&s.setAttribute("aria-owns",o+" "+e):s.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(ce(h1e,8),ce(lt),ce(on),ce(p1e,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _1e=new Be("cdk-focus-monitor-default-options"),B1=Vu({passive:!0,capture:!0});let M0=(()=>{class n{constructor(e,i,r,s,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new he,this._rootNodeFocusAndBlurListener=c=>{for(let f=Bu(c);f;f=f.parentElement)"focus"===c.type?this._onFocus(c,f):this._onBlur(c,f)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(e,i=!1){const r=Uu(e);if(!this._platform.isBrowser||1!==r.nodeType)return de();const s=function ADe(n){if(function SDe(){if(null==QN){const n=typeof document<"u"?document.head:null;QN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return QN}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const c={checkChildren:i,subject:new he,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const i=Uu(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Uu(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([c,d])=>this._originChanged(c,i,d)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Bu(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,B1),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,B1)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($t(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,B1),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,B1),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(ce(lt),ce(ys),ce(u1e),ce(on,8),ce(_1e,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),v1e=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Ve}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(M0))};static#t=this.\u0275dir=je({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();const iX="cdk-high-contrast-black-on-white",rX="cdk-high-contrast-white-on-black",tF="cdk-high-contrast-active";let sX=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Ge(GDe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(tF,iX,rX),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(tF,iX):2===i&&e.add(tF,rX)}}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ys),ce(on))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oX=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sX))};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[$q]})}return n})();const y1e=["addListener","removeListener"],b1e=["addEventListener","removeEventListener"],x1e=["on","off"];function Kr(n,t,e,i){if(ie(e)&&(i=e,e=void 0),i)return Kr(n,t,e).pipe(sN(i));const[r,s]=function E1e(n){return ie(n.addEventListener)&&ie(n.removeEventListener)}(n)?b1e.map(o=>c=>n[o](t,c,e)):function w1e(n){return ie(n.addListener)&&ie(n.removeListener)}(n)?y1e.map(aX(n,t)):function C1e(n){return ie(n.on)&&ie(n.off)}(n)?x1e.map(aX(n,t)):[];if(!r&&xn(n))return An(o=>Kr(o,t,e))(nt(n));if(!r)throw new TypeError("Invalid event target");return new Ht(o=>{const c=(...d)=>o.next(1<d.length?d:d[0]);return r(c),()=>s(c)})}function aX(n,t){return e=>i=>n[e](t,i)}const R0={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=R0;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Ue(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=R0;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=R0;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class T1e extends kC{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class D1e extends AC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=R0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(R0.cancelAnimationFrame(e),t._scheduled=void 0)}});function $m(n=0,t,e=ide){let i=-1;return null!=t&&(Oi(t)?e=t:i=t),new Ht(r=>{let s=function A1e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function lX(n,t=qd){return function S1e(n){return We((t,e)=>{let i=!1,r=null,s=null,o=!1;const c=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const f=r;r=null,e.next(f)}o&&e.complete()},d=()=>{s=null,o&&e.complete()};t.subscribe(at(e,f=>{i=!0,r=f,s||nt(n(f)).subscribe(s=at(e,c,d))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>$m(n,t))}const k1e=new Be("cdk-dir-doc",{providedIn:"root",factory:function M1e(){return Ge(on)}}),R1e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ec=(()=>{class n{constructor(e){this.value="ltr",this.change=new Ve,e&&(this.value=function O1e(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?R1e.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(k1e,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),O0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),N1e=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new he,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ht(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(lX(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):de()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Dn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Uu(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Kr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(lt),ce(ys),ce(on,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nF=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new he,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(lX(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ys),ce(lt),ce(on,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),z1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),cX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[O0,z1,O0,z1]})}return n})();class iF{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class P0 extends iF{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class rF extends iF{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class V1e extends iF{constructor(t){super(),this.element=t instanceof zt?t.nativeElement:t}}class sF{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof P0?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof rF?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof V1e?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class B1e extends sF{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const c=o.element,d=this._document.createComment("dom-portal");c.parentNode.insertBefore(d,c),this.outletElement.appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Gi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let N0=(()=>{class n extends sF{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ve,this.attachDomPortal=s=>{const o=s.element,c=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(c,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(o,c)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ud),B(Ds),B(on))};static#t=this.\u0275dir=je({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[hn]})}return n})(),F0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})();const dX=IDe();class z1e{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=as(-this._previousScrollPosition.left),t.style.top=as(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),dX&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),dX&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class H1e{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Dn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class uX{enable(){}disable(){}attach(){}}function oF(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function hX(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class U1e{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();oF(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let j1e=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new uX,this.close=o=>new H1e(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new z1e(this._viewportRuler,this._document),this.reposition=o=>new U1e(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(i){return new(i||n)(ce(N1e),ce(nF),ce(lt),ce(on))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class H1{constructor(t){if(this.scrollStrategy=new uX,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class W1e{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let fX=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(on))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G1e=(()=>{class n extends fX{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const c=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(on),ce(lt,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$1e=(()=>{class n extends fX{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Bu(s)},this._clickListener=s=>{const o=Bu(s),c="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let f=d.length-1;f>-1;f--){const _=d[f];if(_._outsidePointerEvents.observers.length<1||!_.hasAttached())continue;if(_.overlayElement.contains(o)||_.overlayElement.contains(c))break;const x=_._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(s)):x.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(on),ce(ys),ce(lt,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U1=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||JN()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),JN()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(ce(on),ce(ys))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class L0{constructor(t,e,i,r,s,o,c,d,f,_=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=c,this._location=d,this._outsideClickDispatcher=f,this._animationsDisabled=_,this._backdropElement=null,this._backdropClick=new he,this._attachments=new he,this._detachments=new he,this._locationChanges=Ue.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new he,this._outsidePointerEvents=new he,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Vn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=as(this._config.width),t.height=as(this._config.height),t.minWidth=as(this._config.minWidth),t.minHeight=as(this._config.minHeight),t.maxWidth=as(this._config.maxWidth),t.maxHeight=as(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=F1(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe($t(J(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const pX="cdk-overlay-connected-position-bounding-box",Y1e=/([A-Za-z%]+)$/;class gX{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new he,this._resizeSubscription=Ue.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(pX),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let c of this._preferredPositions){let d=this._getOriginPoint(t,r,c),f=this._getOverlayPoint(d,e,c),_=this._getOverlayFit(f,e,i,c);if(_.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,d);this._canFitWithFlexibleDimensions(_,f,i)?s.push({position:c,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,c)}):(!o||o.overlayFit.visibleArea<_.visibleArea)&&(o={overlayFit:_,overlayPoint:f,originPoint:d,position:c,overlayRect:e})}if(s.length){let c=null,d=-1;for(const f of s){const _=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);_>d&&(d=_,c=f)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Cf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(pX),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;r="start"==i.originX?o:c}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=_X(e);let{x:o,y:c}=t,d=this._getOffset(r,"x"),f=this._getOffset(r,"y");d&&(o+=d),f&&(c+=f);let T=0-c,M=c+s.height-i.height,N=this._subtractOverflows(s.width,0-o,o+s.width-i.width),V=this._subtractOverflows(s.height,T,M),U=N*V;return{visibleArea:U,isCompletelyWithinViewport:s.width*s.height===U,fitsInViewportVertically:V===s.height,fitsInViewportHorizontally:N==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,o=mX(this._overlayRef.getConfig().minHeight),c=mX(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=c&&c<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=_X(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),c=Math.max(t.y+r.height-s.height,0),d=Math.max(s.top-i.top-t.y,0),f=Math.max(s.left-i.left-t.x,0);let _=0,x=0;return _=r.width<=s.width?f||-o:t.x<this._viewportMargin?s.left-i.left-t.x:0,x=r.height<=s.height?d||-c:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:_,y:x},{x:t.x+_,y:t.y+x}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new W1e(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,o,c,_,x,T;if("top"===e.overlayY)o=t.y,s=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)c=i.height-t.y+2*this._viewportMargin,s=i.height-c+this._viewportMargin;else{const M=Math.min(i.bottom-t.y+i.top,t.y),N=this._lastBoundingBoxSize.height;s=2*M,o=t.y-M,s>N&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-N/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)T=i.width-t.x+this._viewportMargin,_=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)x=t.x,_=i.right-t.x;else{const M=Math.min(i.right-t.x+i.left,t.x),N=this._lastBoundingBoxSize.width;_=2*M,x=t.x-M,_>N&&!this._isInitialRender&&!this._growAfterOpen&&(x=t.x-N/2)}return{top:o,left:x,bottom:c,right:T,width:_,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=as(i.height),r.top=as(i.top),r.bottom=as(i.bottom),r.width=as(i.width),r.left=as(i.left),r.right=as(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=as(s)),o&&(r.maxWidth=as(o))}this._lastBoundingBoxSize=i,Cf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Cf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Cf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const _=this._viewportRuler.getViewportScrollPosition();Cf(i,this._getExactOverlayY(e,t,_)),Cf(i,this._getExactOverlayX(e,t,_))}else i.position="static";let c="",d=this._getOffset(e,"x"),f=this._getOffset(e,"y");d&&(c+=`translateX(${d}px) `),f&&(c+=`translateY(${f}px)`),i.transform=c.trim(),o.maxHeight&&(r?i.maxHeight=as(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=as(o.maxWidth):s&&(i.maxWidth="")),Cf(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=as(s.y),r}_getExactOverlayX(t,e,i){let o,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=as(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:hX(t,i),isOriginOutsideView:oF(t,i),isOverlayClipped:hX(e,i),isOverlayOutsideView:oF(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&F1(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof zt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Cf(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function mX(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Y1e);return e&&"px"!==e?null:parseFloat(t)}return n||null}function _X(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const vX="cdk-global-overlay-wrapper";class q1e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(vX),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:c}=i,d=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),f=!("100%"!==s&&"100vh"!==s||c&&"100%"!==c&&"100vh"!==c),_=this._xPosition,x=this._xOffset,T="rtl"===this._overlayRef.getConfig().direction;let M="",N="",V="";d?V="flex-start":"center"===_?(V="center",T?N=x:M=x):T?"left"===_||"end"===_?(V="flex-end",M=x):("right"===_||"start"===_)&&(V="flex-start",N=x):"left"===_||"start"===_?(V="flex-start",M=x):("right"===_||"end"===_)&&(V="flex-end",N=x),t.position=this._cssPosition,t.marginLeft=d?"0":M,t.marginTop=f?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=d?"0":N,e.justifyContent=V,e.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(vX),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let X1e=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new q1e}flexibleConnectedTo(e){return new gX(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(nF),ce(on),ce(ys),ce(U1))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Z1e=0,Dc=(()=>{class n{constructor(e,i,r,s,o,c,d,f,_,x,T,M){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=c,this._ngZone=d,this._document=f,this._directionality=_,this._location=x,this._outsideClickDispatcher=T,this._animationsModuleType=M}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new H1(e);return o.direction=o.direction||this._directionality.value,new L0(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Z1e++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(ja)),new B1e(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(j1e),ce(U1),ce(Ud),ce(X1e),ce(G1e),ce(Gi),ce(lt),ce(on),ce(Ec),ce($v),ce($1e),ce(Ha,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const K1e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],yX=new Be("cdk-connected-overlay-scroll-strategy");let aF=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt))};static#t=this.\u0275dir=je({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),bX=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=cr(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=cr(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=cr(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=cr(e)}get push(){return this._push}set push(e){this._push=cr(e)}constructor(e,i,r,s,o){this._overlay=e,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ue.EMPTY,this._attachSubscription=Ue.EMPTY,this._detachSubscription=Ue.EMPTY,this._positionSubscription=Ue.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Ve,this.positionChange=new Ve,this.attach=new Ve,this.detach=new Ve,this.overlayKeydown=new Ve,this.overlayOutsideClick=new Ve,this._templatePortal=new rF(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=K1e);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ta(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new H1({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof aF?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function L1e(n,t=!1){return We((e,i)=>{let r=0;e.subscribe(at(i,s=>{const o=n(s,r++);(o||t)&&i.next(s),!o&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(B(Dc),B($i),B(Ds),B(yX),B(Ec,8))};static#t=this.\u0275dir=je({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Mn]})}return n})();const J1e={provide:yX,deps:[Dc],useFactory:function Q1e(n){return()=>n.scrollStrategies.reposition()}};let j1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({providers:[Dc,J1e],imports:[O0,F0,cX,cX]})}return n})();const eTe=["text"];function tTe(n,t){if(1&n&&Qe(0,"mat-pseudo-checkbox",6),2&n){const e=ve();se("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function nTe(n,t){1&n&&Qe(0,"mat-pseudo-checkbox",7),2&n&&se("disabled",ve().disabled)}function iTe(n,t){if(1&n&&(q(0,"span",8),De(1),Q()),2&n){const e=ve();ee(1),Cn("(",e.group.label,")")}}const rTe=[[["mat-icon"]],"*"],sTe=["mat-icon","*"],aTe=new Be("mat-sanity-checks",{providedIn:"root",factory:function oTe(){return!0}});let co=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!JN()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(ce(sX),ce(aTe,8),ce(on))};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[O0,O0]})}return n})();function CX(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=cr(t)}constructor(...t){super(...t),this._disabled=!1}}}function lF(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function EX(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=cr(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function lTe(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?xf(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function DX(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}const cTe=new Be("MAT_DATE_LOCALE",{providedIn:"root",factory:function dTe(){return Ge(to)}});class $s{constructor(){this._localeChanges=new he,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Ef=new Be("mat-date-formats"),uTe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function cF(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let hTe=(()=>{class n extends $s{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return cF(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return cF(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return cF(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(uTe.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(cTe,8),ce(ys))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const fTe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let pTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({providers:[{provide:$s,useClass:hTe}]})}return n})(),gTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({providers:[{provide:Ef,useValue:fTe}],imports:[pTe]})}return n})(),TX=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class mTe{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const IX=Vu({passive:!0,capture:!0});class _Te{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Bu(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,IX)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,IX)))}}const SX={enterDuration:225,exitDuration:150},AX=Vu({passive:!0,capture:!0}),kX=["mousedown","touchstart"],MX=["mouseup","mouseleave","touchend","touchcancel"];class W1{static#e=this._eventManager=new _Te;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Uu(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...SX,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=i.radius||function yTe(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),c=t-r.left,d=e-r.top,f=s.enterDuration,_=document.createElement("div");_.classList.add("mat-ripple-element"),_.style.left=c-o+"px",_.style.top=d-o+"px",_.style.height=2*o+"px",_.style.width=2*o+"px",null!=i.color&&(_.style.backgroundColor=i.color),_.style.transitionDuration=`${f}ms`,this._containerElement.appendChild(_);const x=window.getComputedStyle(_),M=x.transitionDuration,N="none"===x.transitionProperty||"0s"===M||"0s, 0s"===M||0===r.width&&0===r.height,V=new mTe(this,_,i,N);_.style.transform="scale3d(1, 1, 1)",V.state=0,i.persistent||(this._mostRecentTransientRipple=V);let U=null;return!N&&(f||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const re=()=>this._finishRippleTransition(V),te=()=>this._destroyRipple(V);_.addEventListener("transitionend",re),_.addEventListener("transitioncancel",te),U={onTransitionEnd:re,onTransitionCancel:te}}),this._activeRipples.set(V,U),(N||!f)&&this._finishRippleTransition(V),V}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...SX,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Uu(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,kX.forEach(i=>{W1._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{MX.forEach(e=>{this._triggerElement.addEventListener(e,this,AX)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=eX(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!tX(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(kX.forEach(e=>W1._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&MX.forEach(e=>t.removeEventListener(e,this,AX)))}}const RX=new Be("mat-ripple-global-options");let OX=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new W1(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(lt),B(ys),B(RX,8),B(Ha,8))};static#t=this.\u0275dir=je({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Nt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),PX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[co,co]})}return n})(),bTe=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ha,8))};static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&Nt("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),xTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[co]})}return n})();const NX=new Be("MAT_OPTION_PARENT_COMPONENT"),FX=new Be("MatOptgroup");let wTe=0;class CTe{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let ETe=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=cr(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+wTe++,this.onSelectionChange=new Ve,this._stateChanges=new he}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ta(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new CTe(this,e))}static#e=this.\u0275fac=function(i){Yp()};static#t=this.\u0275dir=je({type:n,viewQuery:function(i,r){if(1&i&&wi(eTe,7),2&i){let s;Ut(s=jt())&&(r._text=s.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return n})(),LX=(()=>{class n extends ETe{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(hr),B(NX,8),B(FX,8))};static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&Fe("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&i&&(Bs("id",r.id),Rt("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Nt("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[hn],ngContentSelectors:sTe,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(fa(rTe),xe(0,tTe,1,2,"mat-pseudo-checkbox",0),nr(1),q(2,"span",1,2),nr(4,1),Q(),xe(5,nTe,1,1,"mat-pseudo-checkbox",3),xe(6,iTe,2,1,"span",4),Qe(7,"div",5)),2&i&&(se("ngIf",r.multiple),ee(5),se("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),ee(1),se("ngIf",r.group&&r.group._inert),ee(1),se("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[OX,qi,bTe],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),VX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[PX,vl,co,xTe]})}return n})();const BX={capture:!0},zX=["focus","click","mouseenter","touchstart"],dF="mat-ripple-loader-uninitialized",uF="mat-ripple-loader-class-name",HX="mat-ripple-loader-centered",G1="mat-ripple-loader-disabled";let ITe=(()=>{class n{constructor(){this._document=Ge(on,{optional:!0}),this._animationMode=Ge(Ha,{optional:!0}),this._globalRippleOptions=Ge(RX,{optional:!0}),this._platform=Ge(ys),this._ngZone=Ge(lt),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${dF}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of zX)this._document?.addEventListener(e,this._onInteraction,BX)})}ngOnDestroy(){for(const e of zX)this._document?.removeEventListener(e,this._onInteraction,BX)}configureRipple(e,i){e.setAttribute(dF,""),(i.className||!e.hasAttribute(uF))&&e.setAttribute(uF,i.className||""),i.centered&&e.setAttribute(HX,""),i.disabled&&e.setAttribute(G1,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(G1,""):e.removeAttribute(G1)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(uF)),e.append(i);const r=new OX(new zt(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(HX),r.disabled=e.hasAttribute(G1),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(dF),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const STe=["mat-button",""],ATe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],kTe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],RTe=["mat-icon-button",""],OTe=["*"],PTe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],NTe=lF(CX(EX(class{constructor(n){this._elementRef=n}})));let UX=(()=>{class n extends NTe{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=cr(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=cr(e),this._updateRippleDisabled()}constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=Ge(M0),this._rippleLoader=Ge(ITe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const o=e.nativeElement.classList;for(const c of PTe)this._hasHostAttributes(c.selector)&&c.mdcClasses.forEach(d=>{o.add(d)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){Yp()};static#t=this.\u0275dir=je({type:n,features:[hn]})}return n})(),jX=(()=>{class n extends UX{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(ys),B(lt),B(Ha,8))};static#t=this.\u0275cmp=kt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Rt("disabled",r.disabled||null),Nt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[hn],attrs:STe,ngContentSelectors:kTe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(fa(ATe),Qe(0,"span",0),nr(1),q(2,"span",1),nr(3,1),Q(),nr(4,2),Qe(5,"span",2)(6,"span",3)),2&i&&Nt("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),WX=(()=>{class n extends UX{constructor(e,i,r,s){super(e,i,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(ys),B(lt),B(Ha,8))};static#t=this.\u0275cmp=kt({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Rt("disabled",r.disabled||null),Nt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[hn],attrs:RTe,ngContentSelectors:OTe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(fa(),Qe(0,"span",0),nr(1),Qe(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),VTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[co,PX,co]})}return n})();class BTe{constructor(t){this._box=t,this._destroyed=new he,this._resizeSubject=new he,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Ht(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Dn(e=>e.some(i=>i.target===t)),PC({bufferSize:1,refCount:!0}),$t(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let zTe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=Ge(lt)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new BTe(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const HTe=["notch"],UTe=["matFormFieldNotchedOutline",""],jTe=["*"],WTe=["textField"],GTe=["iconPrefixContainer"],$Te=["textPrefixContainer"];function YTe(n,t){1&n&&Qe(0,"span",19)}function qTe(n,t){if(1&n&&(q(0,"label",17),nr(1,1),xe(2,YTe,1,0,"span",18),Q()),2&n){const e=ve(2);se("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Rt("for",e._control.id),ee(2),se("ngIf",!e.hideRequiredMarker&&e._control.required)}}function XTe(n,t){1&n&&xe(0,qTe,3,5,"label",16),2&n&&se("ngIf",ve()._hasFloatingLabel())}function ZTe(n,t){1&n&&Qe(0,"div",20)}function KTe(n,t){}function QTe(n,t){1&n&&xe(0,KTe,0,0,"ng-template",22),2&n&&(ve(2),se("ngTemplateOutlet",Un(1)))}function JTe(n,t){if(1&n&&(q(0,"div",21),xe(1,QTe,1,1,"ng-template",9),Q()),2&n){const e=ve();se("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),ee(1),se("ngIf",!e._forceDisplayInfixLabel())}}function eIe(n,t){1&n&&(q(0,"div",23,24),nr(2,2),Q())}function tIe(n,t){1&n&&(q(0,"div",25,26),nr(2,3),Q())}function nIe(n,t){}function iIe(n,t){1&n&&xe(0,nIe,0,0,"ng-template",22),2&n&&(ve(),se("ngTemplateOutlet",Un(1)))}function rIe(n,t){1&n&&(q(0,"div",27),nr(1,4),Q())}function sIe(n,t){1&n&&(q(0,"div",28),nr(1,5),Q())}function oIe(n,t){1&n&&Qe(0,"div",29)}function aIe(n,t){1&n&&(q(0,"div",30),nr(1,6),Q()),2&n&&se("@transitionMessages",ve()._subscriptAnimationState)}function lIe(n,t){if(1&n&&(q(0,"mat-hint",34),De(1),Q()),2&n){const e=ve(2);se("id",e._hintLabelId),ee(1),ln(e.hintLabel)}}function cIe(n,t){if(1&n&&(q(0,"div",31),xe(1,lIe,2,2,"mat-hint",32),nr(2,7),Qe(3,"div",33),nr(4,8),Q()),2&n){const e=ve();se("@transitionMessages",e._subscriptAnimationState),ee(1),se("ngIf",e.hintLabel)}}const dIe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],uIe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let $1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["mat-label"]]})}return n})();const hIe=new Be("MatError");let fIe=0,GX=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+fIe++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(Bs("id",r.id),Rt("align",null),Nt("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const pIe=new Be("MatPrefix"),$X=new Be("MatSuffix");let YX=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[li([{provide:$X,useExisting:n}])]})}return n})();const qX=new Be("FloatingLabelParent");let XX=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Ge(zTe),this._ngZone=Ge(lt),this._parent=Ge(qX),this._resizeSubscription=new Ue}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function gIe(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt))};static#t=this.\u0275dir=je({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Nt("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const ZX="mdc-line-ripple--active",Y1="mdc-line-ripple--deactivating";let KX=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(Y1);"opacity"===r.propertyName&&o&&s.remove(ZX,Y1)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(Y1),e.add(ZX)}deactivate(){this._elementRef.nativeElement.classList.add(Y1)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(lt))};static#t=this.\u0275dir=je({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),QX=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(lt))};static#t=this.\u0275cmp=kt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&wi(HTe,5),2&i){let s;Ut(s=jt())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Nt("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:UTe,ngContentSelectors:jTe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(fa(),Qe(0,"div",0),q(1,"div",1,2),nr(3),Q(),Qe(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const mIe={transitionMessages:Lu("transitionMessages",[kl("enter",Mr({opacity:1,transform:"translateY(0%)"})),ta("void => enter",[Mr({opacity:0,transform:"translateY(-5px)"}),Da("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let hF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n})}return n})();const q1=new Be("MatFormField"),_Ie=new Be("MAT_FORM_FIELD_DEFAULT_OPTIONS");let JX=0,n7=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=cr(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,o,c,d,f){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=c,this._animationMode=d,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+JX++,this._hintLabelId="mat-mdc-hint-"+JX++,this._subscriptAnimationState="",this._destroyed=new he,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe($t(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),J(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe($t(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe($t(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(hr),B(lt),B(Ec),B(ys),B(_Ie,8),B(Ha,8),B(on))};static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(si(s,$1,5),si(s,$1,7),si(s,hF,5),si(s,pIe,5),si(s,$X,5),si(s,hIe,5),si(s,GX,5)),2&i){let o;Ut(o=jt())&&(r._labelChildNonStatic=o.first),Ut(o=jt())&&(r._labelChildStatic=o.first),Ut(o=jt())&&(r._formFieldControl=o.first),Ut(o=jt())&&(r._prefixChildren=o),Ut(o=jt())&&(r._suffixChildren=o),Ut(o=jt())&&(r._errorChildren=o),Ut(o=jt())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(1&i&&(wi(WTe,5),wi(GTe,5),wi($Te,5),wi(XX,5),wi(QX,5),wi(KX,5)),2&i){let s;Ut(s=jt())&&(r._textField=s.first),Ut(s=jt())&&(r._iconPrefixContainer=s.first),Ut(s=jt())&&(r._textPrefixContainer=s.first),Ut(s=jt())&&(r._floatingLabel=s.first),Ut(s=jt())&&(r._notchedOutline=s.first),Ut(s=jt())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Nt("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[li([{provide:q1,useExisting:n},{provide:qX,useExisting:n}])],ngContentSelectors:uIe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(fa(dIe),xe(0,XTe,1,1,"ng-template",null,0,Yi),q(2,"div",1,2),Fe("click",function(o){return r._control.onContainerClick(o)}),xe(4,ZTe,1,0,"div",3),q(5,"div",4),xe(6,JTe,2,2,"div",5),xe(7,eIe,3,0,"div",6),xe(8,tIe,3,0,"div",7),q(9,"div",8),xe(10,iIe,1,1,"ng-template",9),nr(11),Q(),xe(12,rIe,2,0,"div",10),xe(13,sIe,2,0,"div",11),Q(),xe(14,oIe,1,0,"div",12),Q(),q(15,"div",13),xe(16,aIe,2,1,"div",14),xe(17,cIe,5,2,"div",15),Q()),2&i&&(ee(2),Nt("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),ee(2),se("ngIf",!r._hasOutline()&&!r._control.disabled),ee(2),se("ngIf",r._hasOutline()),ee(1),se("ngIf",r._hasIconPrefix),ee(1),se("ngIf",r._hasTextPrefix),ee(2),se("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),ee(2),se("ngIf",r._hasTextSuffix),ee(1),se("ngIf",r._hasIconSuffix),ee(1),se("ngIf",!r._hasOutline()),ee(1),Nt("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),se("ngSwitch",r._getDisplayedMessages()),ee(1),se("ngSwitchCase","error"),ee(1),se("ngSwitchCase","hint"))},dependencies:[qi,ms,Th,Xv,GX,XX,QX,KX],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[mIe.transitionMessages]},changeDetection:0})}return n})(),fF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[co,vl,$q,co]})}return n})();const i7=Vu({passive:!0});let bIe=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ti;const i=Uu(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new he,o="cdk-text-field-autofilled",c=d=>{"cdk-text-field-autofill-start"!==d.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===d.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",c,i7),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",c,i7)}}),s}stopMonitoring(e){const i=Uu(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ys),ce(lt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})();const r7=new Be("MAT_INPUT_VALUE_ACCESSOR"),wIe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let CIe=0;const EIe=DX(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new he}});let s7=(()=>{class n extends EIe{get disabled(){return this._disabled}set disabled(e){this._disabled=cr(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Di.required)??!1}set required(e){this._required=cr(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Wq().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=cr(e)}constructor(e,i,r,s,o,c,d,f,_,x){super(c,s,o,r),this._elementRef=e,this._platform=i,this._autofillMonitor=f,this._formField=x,this._uid="mat-input-"+CIe++,this.focused=!1,this.stateChanges=new he,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(N=>Wq().has(N)),this._iOSKeyupListener=N=>{const V=N.target;!V.value&&0===V.selectionStart&&0===V.selectionEnd&&(V.setSelectionRange(1,1),V.setSelectionRange(0,0))};const T=this._elementRef.nativeElement,M=T.nodeName.toLowerCase();this._inputValueAccessor=d||T,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&_.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===M,this._isTextarea="textarea"===M,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=T.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){wIe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(ys),B(xc,10),B(v0,8),B(wc,8),B(TX),B(r7,10),B(bIe),B(lt),B(q1,8))};static#t=this.\u0275dir=je({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Fe("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(Bs("id",r.id)("disabled",r.disabled)("required",r.required),Rt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Nt("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[li([{provide:hF,useExisting:n}]),hn,Mn]})}return n})(),DIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[co,fF,fF,xIe,co]})}return n})();const TIe=["mat-calendar-body",""];function IIe(n,t){if(1&n&&(q(0,"tr",3)(1,"td",4),De(2),Q()()),2&n){const e=ve();ee(1),Nr("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Rt("colspan",e.numCols),ee(1),Cn(" ",e.label," ")}}function SIe(n,t){if(1&n&&(q(0,"td",4),De(1),Q()),2&n){const e=ve(2);Nr("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Rt("colspan",e._firstRowOffset),ee(1),Cn(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function AIe(n,t){if(1&n){const e=rn();q(0,"td",8)(1,"button",9),Fe("click",function(r){const o=ut(e).$implicit;return ot(ve(2)._cellClicked(o,r))})("focus",function(r){const o=ut(e).$implicit;return ot(ve(2)._emitActiveDateChange(o,r))}),q(2,"span",10),De(3),Q(),Qe(4,"span",11),Q()()}if(2&n){const e=t.$implicit,i=t.index,r=ve().index,s=ve();Nr("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),Rt("data-mat-row",r)("data-mat-col",i),ee(1),Nt("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),se("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),Rt("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null)("aria-describedby",s._getDescribedby(e.compareValue)),ee(1),Nt("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),ee(1),Cn(" ",e.displayValue," ")}}function kIe(n,t){if(1&n&&(q(0,"tr",5),xe(1,SIe,2,6,"td",6),xe(2,AIe,5,48,"td",7),Q()),2&n){const e=t.$implicit,i=t.index,r=ve();ee(1),se("ngIf",0===i&&r._firstRowOffset),ee(1),se("ngForOf",e)}}function MIe(n,t){if(1&n&&(q(0,"th",5)(1,"span",6),De(2),Q(),q(3,"span",7),De(4),Q()()),2&n){const e=t.$implicit;ee(2),ln(e.long),ee(2),ln(e.narrow)}}const RIe=["*"];function OIe(n,t){}function PIe(n,t){if(1&n){const e=rn();q(0,"mat-month-view",5),Fe("activeDateChange",function(r){return ut(e),ot(ve().activeDate=r)})("_userSelection",function(r){return ut(e),ot(ve()._dateSelected(r))})("dragStarted",function(r){return ut(e),ot(ve()._dragStarted(r))})("dragEnded",function(r){return ut(e),ot(ve()._dragEnded(r))}),Q()}if(2&n){const e=ve();se("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function NIe(n,t){if(1&n){const e=rn();q(0,"mat-year-view",6),Fe("activeDateChange",function(r){return ut(e),ot(ve().activeDate=r)})("monthSelected",function(r){return ut(e),ot(ve()._monthSelectedInYearView(r))})("selectedChange",function(r){return ut(e),ot(ve()._goToDateInView(r,"month"))}),Q()}if(2&n){const e=ve();se("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function FIe(n,t){if(1&n){const e=rn();q(0,"mat-multi-year-view",7),Fe("activeDateChange",function(r){return ut(e),ot(ve().activeDate=r)})("yearSelected",function(r){return ut(e),ot(ve()._yearSelectedInMultiYearView(r))})("selectedChange",function(r){return ut(e),ot(ve()._goToDateInView(r,"year"))}),Q()}if(2&n){const e=ve();se("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function LIe(n,t){}const VIe=["button"];function BIe(n,t){1&n&&(jc(),q(0,"svg",3),Qe(1,"path",4),Q())}const zIe=[[["","matDatepickerToggleIcon",""]]],HIe=["[matDatepickerToggleIcon]"];let B0=(()=>{class n{constructor(){this.changes=new he,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class pF{constructor(t,e,i,r,s={},o=t,c){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=o,this.rawValue=c}}let UIe=1;const o7=Vu({passive:!1,capture:!0}),ju=Vu({passive:!0,capture:!0}),X1=Vu({passive:!0});let Ym=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=Ge(ys),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Ve,this.previewChange=new Ve,this.activeDateChange=new Ve,this.dragStarted=new Ve,this.dragEnded=new Ve,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const s=a7(r),o=s?this._getCellFromElement(s):null;s!==r.target&&(this._didDragSinceMouseDown=!0),mF(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=r.target&&this._getCellFromElement(r.target);!s||!this._isInRange(s.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const s=mF(r.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const o=this._getCellFromElement(s);this.dragEnded.emit({value:o?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const s=a7(r);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+UIe++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,o7),r.addEventListener("mouseenter",this._enterHandler,ju),r.addEventListener("focus",this._enterHandler,ju),r.addEventListener("mouseleave",this._leaveHandler,ju),r.addEventListener("blur",this._leaveHandler,ju),r.addEventListener("mousedown",this._mousedownHandler,X1),r.addEventListener("touchstart",this._mousedownHandler,X1),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,o7),e.removeEventListener("mouseenter",this._enterHandler,ju),e.removeEventListener("focus",this._enterHandler,ju),e.removeEventListener("mouseleave",this._leaveHandler,ju),e.removeEventListener("blur",this._leaveHandler,ju),e.removeEventListener("mousedown",this._mousedownHandler,X1),e.removeEventListener("touchstart",this._mousedownHandler,X1),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Vn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return _F(e,this.startValue,this.endValue)}_isRangeEnd(e){return vF(e,this.startValue,this.endValue)}_isInRange(e){return yF(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return _F(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const o=this.rows[i-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const o=this.rows[i+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return vF(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return yF(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return _F(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return vF(e,this.previewStart,this.previewEnd)}_isInPreview(e){return yF(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const i=mF(e);if(i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(lt))};static#t=this.\u0275cmp=kt({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Mn],attrs:TIe,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,r){1&i&&(xe(0,IIe,3,6,"tr",0),xe(1,kIe,3,2,"tr",1),q(2,"label",2),De(3),Q(),q(4,"label",2),De(5),Q()),2&i&&(se("ngIf",r._firstRowOffset<r.labelMinRequiredCells),ee(1),se("ngForOf",r.rows),ee(1),se("id",r._startDateLabelId),ee(1),Cn(" ",r.startDateAccessibleName,"\n"),ee(1),se("id",r._endDateLabelId),ee(1),Cn(" ",r.endDateAccessibleName,"\n"))},dependencies:[ga,Sr,qi],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return n})();function gF(n){return"TD"===n?.nodeName}function mF(n){let t;return gF(n)?t=n:gF(n.parentNode)?t=n.parentNode:gF(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function _F(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function vF(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function yF(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}function a7(n){const t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class Vo{constructor(t,e){this.start=t,this.end=e}}let Wu=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new he,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static#e=this.\u0275fac=function(i){Yp()};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),jIe=(()=>{class n extends Wu{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static#e=this.\u0275fac=function(i){return new(i||n)(ce($s))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const l7={provide:Wu,deps:[[new zd,new fh,Wu],$s],useFactory:function GIe(n,t){return n||new jIe(t)}},Z1=new Be("MAT_DATE_RANGE_SELECTION_STRATEGY");let c7=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Vo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=o,this._rerenderSubscription=Ue.EMPTY,this.activeDrag=null,this.selectedChange=new Ve,this._userSelection=new Ve,this.dragStarted=new Ve,this.dragEnded=new Ve,this.activeDateChange=new Ve,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ko(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,o;this._selected instanceof Vo?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),(s!==i||o!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Ta(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const r=i?i.rawValue:null,s=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&r){const o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((o,c)=>({long:o,narrow:i[c]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),c=this._shouldEnableDate(o),d=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),f=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new pF(r+1,i[r],d,c,f,this._getCellCompareValue(o),o))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Vo?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(i){return new(i||n)(B(hr),B(Ef,8),B($s,8),B(Ec,8),B(Z1,8))};static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,r){if(1&i&&wi(Ym,5),2&i){let s;Ut(s=jt())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Mn],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(i,r){1&i&&(q(0,"table",0)(1,"thead",1)(2,"tr"),xe(3,MIe,5,2,"th",2),Q(),q(4,"tr"),Qe(5,"th",3),Q()(),q(6,"tbody",4),Fe("selectedValueChange",function(o){return r._dateSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("previewChange",function(o){return r._previewChanged(o)})("dragStarted",function(o){return r.dragStarted.emit(o)})("dragEnded",function(o){return r._dragEnded(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),Q()()),2&i&&(ee(3),se("ngForOf",r._weekdays),ee(3),se("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Sr,Ym],encapsulation:2,changeDetection:0})}return n})();const Ia=24;let d7=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),u7(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Vo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Ue.EMPTY,this.selectedChange=new Ve,this.yearSelected=new Ve,this.activeDateChange=new Ve,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ko(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-z0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<Ia;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-z0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ia-z0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-Ia:-Ia);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*Ia:Ia);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return z0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new pF(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Vo){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static#e=this.\u0275fac=function(i){return new(i||n)(B(hr),B($s,8),B(Ec,8))};static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,r){if(1&i&&wi(Ym,5),2&i){let s;Ut(s=jt())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,r){1&i&&(q(0,"table",0)(1,"thead",1)(2,"tr"),Qe(3,"th",2),Q()(),q(4,"tbody",3),Fe("selectedValueChange",function(o){return r._yearSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),Q()()),2&i&&(ee(4),se("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Ym],encapsulation:2,changeDetection:0})}return n})();function u7(n,t,e,i,r){const s=n.getYear(t),o=n.getYear(e),c=h7(n,i,r);return Math.floor((s-c)/Ia)===Math.floor((o-c)/Ia)}function z0(n,t,e,i){return function XIe(n,t){return(n%t+t)%t}(n.getYear(t)-h7(n,e,i),Ia)}function h7(n,t,e){let i=0;return e?i=n.getYear(e)-Ia+1:t&&(i=n.getYear(t)),i}let f7=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Vo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Ue.EMPTY,this.selectedChange=new Ve,this.monthSelected=new Ve,this.activeDateChange=new Ve,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ko(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(r,"year"):void 0;return new pF(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),o)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Vo?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}static#e=this.\u0275fac=function(i){return new(i||n)(B(hr),B(Ef,8),B($s,8),B(Ec,8))};static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,r){if(1&i&&wi(Ym,5),2&i){let s;Ut(s=jt())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,r){1&i&&(q(0,"table",0)(1,"thead",1)(2,"tr"),Qe(3,"th",2),Q()(),q(4,"tbody",3),Fe("selectedValueChange",function(o){return r._monthSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),Q()()),2&i&&(ee(4),se("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Ym],encapsulation:2,changeDetection:0})}return n})(),ZIe=1,KIe=(()=>{class n{constructor(e,i,r,s,o){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._id="mat-calendar-header-"+ZIe++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Ia)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Ia)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):u7(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-z0(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+Ia-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}static#e=this.\u0275fac=function(i){return new(i||n)(B(B0),B(Ee(()=>wF)),B($s,8),B(Ef,8),B(hr))};static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:RIe,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(i,r){1&i&&(fa(),q(0,"div",0)(1,"div",1)(2,"button",2),Fe("click",function(){return r.currentPeriodClicked()}),q(3,"span",3),De(4),Q(),jc(),q(5,"svg",4),Qe(6,"polygon",5),Q()(),vp(),Qe(7,"div",6),nr(8),q(9,"button",7),Fe("click",function(){return r.previousClicked()}),Q(),q(10,"button",8),Fe("click",function(){return r.nextClicked()}),Q()()(),q(11,"label",9),De(12),Q()),2&i&&(ee(2),Rt("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),ee(2),ln(r.periodButtonText),ee(1),Nt("mat-calendar-invert","month"!==r.calendar.currentView),ee(4),se("disabled",!r.previousEnabled()),Rt("aria-label",r.prevButtonLabel),ee(1),se("disabled",!r.nextEnabled()),Rt("aria-label",r.nextButtonLabel),ee(1),se("id",r._periodButtonLabelId),ee(1),ln(r.periodButtonDescription))},dependencies:[jX,WX],encapsulation:2,changeDetection:0})}return n})(),wF=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Vo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Ve,this.yearSelected=new Ve,this.monthSelected=new Ve,this.viewChanged=new Ve(!0),this._userSelection=new Ve,this._userDragDrop=new Ve,this._activeDrag=null,this.stateChanges=new he,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new P0(this.headerComponent||KIe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Vo||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(i){return new(i||n)(B(B0),B($s,8),B(Ef,8),B(hr))};static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,r){if(1&i&&(wi(c7,5),wi(f7,5),wi(d7,5)),2&i){let s;Ut(s=jt())&&(r.monthView=s.first),Ut(s=jt())&&(r.yearView=s.first),Ut(s=jt())&&(r.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[li([l7]),Mn],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(i,r){1&i&&(xe(0,OIe,0,0,"ng-template",0),q(1,"div",1),xe(2,PIe,1,11,"mat-month-view",2),xe(3,NIe,1,6,"mat-year-view",3),xe(4,FIe,1,6,"mat-multi-year-view",4),Q()),2&i&&(se("cdkPortalOutlet",r._calendarHeaderPortal),ee(1),se("ngSwitch",r.currentView),ee(1),se("ngSwitchCase","month"),ee(1),se("ngSwitchCase","year"),ee(1),se("ngSwitchCase","multi-year"))},dependencies:[Th,Xv,v1e,N0,c7,f7,d7],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button,.mat-datepicker-content .mat-calendar-next-button{color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return n})();const p7={transformPanel:Lu("transformPanel",[ta("void => enter-dropdown",Da("120ms cubic-bezier(0, 0, 0.2, 1)",Lq([Mr({opacity:0,transform:"scale(1, 0.8)"}),Mr({opacity:1,transform:"scale(1, 1)"})]))),ta("void => enter-dialog",Da("150ms cubic-bezier(0, 0, 0.2, 1)",Lq([Mr({opacity:0,transform:"scale(0.7)"}),Mr({transform:"none",opacity:1})]))),ta("* => void",Da("100ms linear",Mr({opacity:0})))]),fadeInCalendar:Lu("fadeInCalendar",[kl("void",Mr({opacity:0})),kl("enter",Mr({opacity:1})),ta("void => *",Da("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let QIe=0;const g7=new Be("mat-datepicker-scroll-strategy"),eSe={provide:g7,deps:[Dc],useFactory:function JIe(n){return()=>n.scrollStrategies.reposition()}},tSe=lF(class{constructor(n){this._elementRef=n}});let nSe=(()=>{class n extends tSe{constructor(e,i,r,s,o,c){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=o,this._subscriptions=new Ue,this._animationDone=new he,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=c.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof Vo;if(s&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(o,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(hr),B(Wu),B($s),B(Z1,8),B(B0))};static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,r){if(1&i&&wi(wF,5),2&i){let s;Ut(s=jt())&&(r._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(i,r){1&i&&QS("@transformPanel.start",function(o){return r._handleAnimationEvent(o)})("@transformPanel.done",function(o){return r._handleAnimationEvent(o)}),2&i&&(Qw("@transformPanel",r._animationState),Nt("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[hn],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(i,r){if(1&i&&(q(0,"div",0)(1,"mat-calendar",1),Fe("yearSelected",function(o){return r.datepicker._selectYear(o)})("monthSelected",function(o){return r.datepicker._selectMonth(o)})("viewChanged",function(o){return r.datepicker._viewChanged(o)})("_userSelection",function(o){return r._handleUserSelection(o)})("_userDragDrop",function(o){return r._handleUserDragDrop(o)}),Q(),xe(2,LIe,0,0,"ng-template",2),q(3,"button",3),Fe("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),De(4),Q()()),2&i){let s;Nt("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Rt("aria-modal",!0)("aria-labelledby",null!==(s=r._dialogLabelId)&&void 0!==s?s:void 0),ee(1),se("id",r.datepicker.id)("ngClass",r.datepicker.panelClass)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),ee(1),se("cdkPortalOutlet",r._actionsPortal),ee(1),Nt("cdk-visually-hidden",!r._closeButtonFocused),se("color",r.color||"primary"),ee(1),ln(r._closeButtonText)}},dependencies:[ga,jX,l1e,N0,wF],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[p7.transformPanel,p7.fadeInCalendar]},changeDetection:0})}return n})(),m7=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=cr(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=cr(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=cr(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function zDe(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){cr(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,r,s,o,c,d){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=o,this._dir=c,this._model=d,this._inputStateChanges=Ue.EMPTY,this._document=Ge(on),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new Ve,this.monthSelected=new Ve,this.viewChanged=new Ve(!0),this.openedStream=new Ve,this.closedStream=new Ve,this._opened=!1,this.id="mat-datepicker-"+QIe++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new he,this._scrollStrategy=s}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof gX&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=I0(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(Vn(1)).subscribe(()=>{const o=this._document.activeElement;e&&(!o||o===this._document.activeElement||s.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new P0(nSe,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new H1({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const o=s.keyCode;(38===o||40===o||37===o||39===o||33===o||34===o)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Vn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",o="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:o,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o}])}_getCloseStream(e){const i=["ctrlKey","shiftKey","metaKey"];return J(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Dn(r=>27===r.keyCode&&!Ta(r)||this.datepickerInput&&Ta(r,"altKey")&&38===r.keyCode&&i.every(s=>!Ta(r,s)))))}static#e=this.\u0275fac=function(i){return new(i||n)(B(Dc),B(lt),B(Ds),B(g7),B($s,8),B(Ec,8),B(Wu))};static#t=this.\u0275dir=je({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Mn]})}return n})(),_7=(()=>{class n extends m7{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=tr(n)))(r||n)}}();static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[li([l7,{provide:m7,useExisting:n}]),hn],decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}return n})();class K1{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let iSe=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=cr(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new K1(this,this._elementRef.nativeElement)),this.dateChange.emit(new K1(this,this._elementRef.nativeElement))}})}constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new Ve,this.dateInput=new Ve,this.stateChanges=new he,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ue.EMPTY,this._localeSubscription=Ue.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),c=this._getMinDate();return!c||!o||this._dateAdapter.compareDate(c,o)<=0?null:{matDatepickerMin:{min:c,actual:o}}},this._maxValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),c=this._getMaxDate();return!c||!o||this._dateAdapter.compareDate(c,o)>=0?null:{matDatepickerMax:{max:c,actual:o}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function rSe(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){Ta(e,"altKey")&&40===e.keyCode&&["ctrlKey","shiftKey","metaKey"].every(s=>!Ta(e,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new K1(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new K1(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B($s,8),B(Ef,8))};static#t=this.\u0275dir=je({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Mn]})}return n})();const sSe={provide:Ea,useExisting:Ee(()=>Q1),multi:!0},oSe={provide:Ps,useExisting:Ee(()=>Q1),multi:!0};let Q1=(()=>{class n extends iSe{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Ue.EMPTY,this._validator=Di.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B($s,8),B(Ef,8),B(q1,8))};static#t=this.\u0275dir=je({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,r){1&i&&Fe("input",function(o){return r._onInput(o.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(o){return r._onKeydown(o)}),2&i&&(Bs("disabled",r.disabled),Rt("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",(null==r._datepicker?null:r._datepicker.opened)&&r._datepicker.id||null)("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[li([sSe,oSe,{provide:r7,useExisting:n}]),hn]})}return n})(),aSe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=je({type:n,selectors:[["","matDatepickerToggleIcon",""]]})}return n})(),v7=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=cr(e)}constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Ue.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:de(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:de(),r=this.datepicker?J(this.datepicker.openedStream,this.datepicker.closedStream):de();this._stateChanges.unsubscribe(),this._stateChanges=J(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(B(B0),B(hr),Gc("tabindex"))};static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,r,s){if(1&i&&si(s,aSe,5),2&i){let o;Ut(o=jt())&&(r._customIcon=o.first)}},viewQuery:function(i,r){if(1&i&&wi(VIe,5),2&i){let s;Ut(s=jt())&&(r._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,r){1&i&&Fe("click",function(o){return r._open(o)}),2&i&&(Rt("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),Nt("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&"accent"===r.datepicker.color)("mat-warn",r.datepicker&&"warn"===r.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Mn],ngContentSelectors:HIe,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,r){1&i&&(fa(zIe),q(0,"button",0,1),xe(2,BIe,2,0,"svg",2),nr(3),Q()),2&i&&(se("disabled",r.disabled)("disableRipple",r.disableRipple),Rt("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),ee(2),se("ngIf",!r._customIcon))},dependencies:[qi,WX],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return n})(),dSe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({providers:[B0,eSe],imports:[vl,VTe,j1,oX,F0,co,z1]})}return n})();function b7(n){return n&&n.constructor&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)}function x7(n){return n}function w7(n,t){const e=(t=t||{}).delimiter||".",i=t.maxDepth,r=t.transformKey||x7,s={};return function o(c,d,f){f=f||1,Object.keys(c).forEach(function(_){const x=c[_],T=t.safe&&Array.isArray(x),M=Object.prototype.toString.call(x),N=b7(x),V="[object Object]"===M||"[object Array]"===M,U=d?d+e+r(_):r(_);if(!T&&!N&&V&&Object.keys(x).length&&(!t.maxDepth||f<i))return o(x,U,f+1);s[U]=x})}(n),s}function C7(n,t){const e=(t=t||{}).delimiter||".",i=t.overwrite||!1,r=t.transformKey||x7,s={};if(b7(n)||"[object Object]"!==Object.prototype.toString.call(n))return n;function c(_){const x=Number(_);return isNaN(x)||-1!==_.indexOf(".")||t.object?_:x}return n=Object.keys(n).reduce(function(_,x){const T=Object.prototype.toString.call(n[x]);return"[object Object]"!==T&&"[object Array]"!==T||function f(_){const x=Object.prototype.toString.call(_);return!_||("[object Array]"===x?!_.length:"[object Object]"===x?!Object.keys(_).length:void 0)}(n[x])?(_[x]=n[x],_):function d(_,x,T){return Object.keys(T).reduce(function(M,N){return M[_+e+N]=T[N],M},x)}(x,_,w7(n[x],t))},{}),Object.keys(n).forEach(function(_){const x=_.split(e).map(r);let T=c(x.shift()),M=c(x[0]),N=s;for(;void 0!==M;){if("__proto__"===T)return;const V=Object.prototype.toString.call(N[T]),U="[object Object]"===V||"[object Array]"===V;if(!i&&!U&&typeof N[T]<"u")return;(i&&!U||!i&&null==N[T])&&(N[T]="number"!=typeof M||t.object?{}:[]),N=N[T],x.length>0&&(T=c(x.shift()),M=c(x[0]))}N[T]=C7(n[_],t)}),s}class hSe{translations;constructor(t){this.translations=t}getTranslation(t){return de(this.translations.get(t)||{})}}const E7=new Be("TRANSLOCO_LOADER");function D7(n,t){return n&&(Object.prototype.hasOwnProperty.call(n,t)?n[t]:t.split(".").reduce((e,i)=>e?.[i],n))}function T7(n){return n?Array.isArray(n)?n.length:EF(n)?Object.keys(n).length:n?n.length:0:0}function Df(n){return"string"==typeof n}function EF(n){return!!n&&"object"==typeof n&&!Array.isArray(n)}function I7(n){return n.replace(/(?:^\w|[A-Z]|\b\w)/g,(t,e)=>0==e?t.toLowerCase():t.toUpperCase()).replace(/\s+|_|-|\//g,"")}function DF(n){return null==n}function A7(n){return!1===DF(n)}function TF(n){return n&&"string"==typeof n.scope}function k7(n){return w7(n,{safe:!0})}const qm=new Be("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>H0}),H0={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"]};function bSe(n={}){return{...H0,...n,missingHandler:{...H0.missingHandler,...n.missingHandler},flatten:{...H0.flatten,...n.flatten}}}const M7=new Be("TRANSLOCO_TRANSPILER");let xSe=(()=>{class n{interpolationMatcher;constructor(e){this.interpolationMatcher=function wSe(n){const[t,e]=n.interpolation;return new RegExp(`${t}(.*?)${e}`,"g")}(e??H0)}transpile(e,i={},r,s){return Df(e)?e.replace(this.interpolationMatcher,(o,c)=>(c=c.trim(),A7(i[c])?i[c]:A7(r[c])?this.transpile(r[c],i,r,s):"")):(i&&(EF(e)?e=this.handleObject(e,i,r,s):Array.isArray(e)&&(e=this.handleArray(e,i,r,s))),e)}handleObject(e,i={},r,s){let o=e;return Object.keys(i).forEach(c=>{const d=D7(o,c),f=D7(i,c),_=this.transpile(d,f,r,s);o=function fSe(n,t,e){n={...n};const i=t.split("."),r=i.length-1;return i.reduce((s,o,c)=>(s[o]=c===r?e:Array.isArray(s[o])?s[o].slice():{...s[o]},s&&s[o]),n),n}(o,c,_)}),o}handleArray(e,i={},r,s){return e.map(o=>this.transpile(o,i,r,s))}static \u0275fac=function(i){return new(i||n)(ce(qm,8))};static \u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const R7=new Be("TRANSLOCO_MISSING_HANDLER");let CSe=(()=>{class n{handle(e,i){return i.missingHandler.logMissingKey&&!i.prodMode&&console.warn(`%c Missing translation for '${e}'`,"font-size: 12px; color: red"),e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const O7=new Be("TRANSLOCO_INTERCEPTOR");let ESe=(()=>{class n{preSaveTranslation(e){return e}preSaveTranslationKey(e,i){return i}static \u0275fac=function(i){return new(i||n)};static \u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const P7=new Be("TRANSLOCO_FALLBACK_STRATEGY");let kF,DSe=(()=>{class n{userConfig;constructor(e){this.userConfig=e}getNextLangs(){const e=this.userConfig.fallbackLang;if(!e)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(e)?e:[e]}static \u0275fac=function(i){return new(i||n)(ce(qm))};static \u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function U0(n){if(!n)return"";const t=n.split("/");return t.pop(),t.join("/")}function Gu(n){return n?n.split("/").pop():""}function IF(n,t,e="|"){if(Df(n)){const i=n.split(e),r=i.pop();return r===t?[!0,i.toString()]:[!1,r]}return[!1,""]}function SF(n,t){return function vSe(n){return n&&EF(n.loader)}(n)?function TSe(n,t){return Object.keys(n).reduce((e,i)=>(e[`${t}/${i}`]=n[i],e),{})}(n.loader,t):void 0}function AF(n){return{scope:U0(n)||null,langName:Gu(n)}}function L7(n){const{path:t,inlineLoader:e,mainLoader:i,data:r}=n;if(e){if(!1===function gSe(n){return"function"==typeof n}(e[t]))throw`You're using an inline loader but didn't provide a loader for ${t}`;return e[t]().then(o=>o.default?o.default:o)}return i.getTranslation(t,r)}let J1=(()=>{class n{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;subscription=null;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new he;events$=this.events.asObservable();config;constructor(e,i,r,s,o,c){this.loader=e,this.parser=i,this.missingHandler=r,this.interceptor=s,this.fallbackStrategy=c,this.loader||(this.loader=new hSe(this.translations)),kF=this,this.config=JSON.parse(JSON.stringify(o)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new W(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.subscription=this.events$.subscribe(d=>{"translationLoadSuccess"===d.type&&d.wasFailure&&this.setActiveLang(d.payload.langName)})}getDefaultLang(){return this.defaultLang}setDefaultLang(e){this.defaultLang=e}getActiveLang(){return this.lang.getValue()}setActiveLang(e){return this.parser.onLangChanged?.(e),this.lang.next(e),this.events.next({type:"langChanged",payload:AF(e)}),this}setAvailableLangs(e){this.availableLangs=e}getAvailableLangs(){return this.availableLangs}load(e,i={}){const r=this.cache.get(e);if(r)return r;let s;const o=this._isLangScoped(e);let c;o&&(c=U0(e));const d={path:e,mainLoader:this.loader,inlineLoader:i.inlineLoader,data:o?{scope:c}:void 0};if(this.useFallbackTranslation(e)){const _=o?`${c}/${this.firstFallbackLang}`:this.firstFallbackLang,x=function ISe({mainLoader:n,path:t,data:e,fallbackPath:i,inlineLoader:r}){return(i?[t,i]:[t]).map(o=>$(L7({path:o,mainLoader:n,inlineLoader:r,data:e})).pipe($e(d=>({translation:d,lang:o}))))}({...d,fallbackPath:_});s=m1(x)}else s=$(L7(d));const f=s.pipe(function uSe(n=1/0){let t;t=n&&"object"==typeof n?n:{count:n};const{count:e=1/0,delay:i,resetOnSuccess:r=!1}=t;return e<=0?fn:We((s,o)=>{let d,c=0;const f=()=>{let _=!1;d=s.subscribe(at(o,x=>{r&&(c=0),o.next(x)},void 0,x=>{if(c++<e){const T=()=>{d?(d.unsubscribe(),d=null,f()):_=!0};if(null!=i){const M="number"==typeof i?$m(i):nt(i(x,c)),N=at(o,()=>{N.unsubscribe(),T()},()=>{o.complete()});M.subscribe(N)}else T()}else o.error(x)})),_&&(d.unsubscribe(),d=null,f())};f()})}(this.config.failedRetries),Lr(_=>{Array.isArray(_)?_.forEach(x=>{this.handleSuccess(x.lang,x.translation),x.lang!==e&&this.cache.set(x.lang,de({}))}):this.handleSuccess(e,_)}),Au(_=>(this.config.prodMode||console.error(`Error while trying to load "${e}"`,_),this.handleFailure(e,i))),PC(1));return this.cache.set(e,f),f}translate(e,i={},r=this.getActiveLang()){if(!e)return e;const{scope:s,resolveLang:o}=this.resolveLangAndScope(r);if(Array.isArray(e))return e.map(f=>this.translate(s?`${s}.${f}`:f,i,o));e=s?`${s}.${e}`:e;const c=this.getTranslation(o),d=c[e];return d?this.parser.transpile(d,i,c,e):this._handleMissingKey(e,d,i)}selectTranslate(e,i,r,s=!1){let o;const c=(f,_)=>this.load(f,_).pipe($e(()=>s?this.translateObject(e,i,f):this.translate(e,i,f)));if(DF(r))return this.langChanges$.pipe(vt(f=>c(f)));if(function _Se(n){return Array.isArray(n)&&n.every(TF)}(r)||TF(r)){const f=Array.isArray(r)?r[0]:r;r=f.scope,o=SF(f,f.scope)}if(this.isLang(r)||this.isScopeWithLang(r))return c(r);const d=r;return this.langChanges$.pipe(vt(f=>c(`${d}/${f}`,{inlineLoader:o})))}isScopeWithLang(e){return this.isLang(Gu(e))}translateObject(e,i={},r=this.getActiveLang()){if(Df(e)||Array.isArray(e)){const{resolveLang:o,scope:c}=this.resolveLangAndScope(r);if(Array.isArray(e))return e.map(_=>this.translateObject(c?`${c}.${_}`:_,i,o));const d=this.getTranslation(o),f=function ySe(n){return C7(n)}(this.getObjectByKey(d,e=c?`${c}.${e}`:e));return function pSe(n){return 0===T7(n)}(f)?this.translate(e,i,r):this.parser.transpile(f,i,d,e)}const s=[];for(const[o,c]of this.getEntries(e))s.push(this.translateObject(o,c,r));return s}selectTranslateObject(e,i,r){if(Df(e)||Array.isArray(e))return this.selectTranslate(e,i,r,!0);const[[s,o],...c]=this.getEntries(e);return this.selectTranslateObject(s,o,r).pipe($e(d=>{const f=[d];for(const[_,x]of c)f.push(this.translateObject(_,x,r));return f}))}getTranslation(e){if(e){if(this.isLang(e))return this.translations.get(e)||{};{const{scope:i,resolveLang:r}=this.resolveLangAndScope(e),s=this.translations.get(r)||{};return this.getObjectByKey(s,i)}}return this.translations}selectTranslation(e){let i=this.langChanges$;if(e){const r=Gu(e)!==e;i=this.isLang(e)||r?de(e):this.langChanges$.pipe($e(s=>`${e}/${s}`))}return i.pipe(vt(r=>this.load(r).pipe($e(()=>this.getTranslation(r)))))}setTranslation(e,i=this.getActiveLang(),r={}){const o={merge:!0,emitChange:!0,...r},c=U0(i);let d=e;c&&(d=k7({[this.getMappedScope(c)]:e}));const f=c?Gu(i):i,_={...o.merge&&this.getTranslation(f),...d},x=this.config.flatten.aot?_:k7(_),T=this.interceptor.preSaveTranslation(x,f);this.translations.set(f,T),o.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(e,i,r=this.getActiveLang(),s={}){const o=this.interceptor.preSaveTranslationKey(e,i,r);this.setTranslation({[e]:o},r,{...s,merge:!0})}setFallbackLangForMissingTranslation({fallbackLang:e}){const i=Array.isArray(e)?e[0]:e;e&&this.useFallbackTranslation(i)&&(this.firstFallbackLang=i)}_handleMissingKey(e,i,r){if(this.config.missingHandler.allowEmpty&&""===i)return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;const s=this.translate(e,r,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,s}return this.missingHandler.handle(e,this.getMissingHandlerData(),r)}_isLangScoped(e){return-1===this.getAvailableLangsIds().indexOf(e)}isLang(e){return-1!==this.getAvailableLangsIds().indexOf(e)}_loadDependencies(e,i){const r=Gu(e);return this._isLangScoped(e)&&!this.isLoadedTranslation(r)?Ka([this.load(r),this.load(e,{inlineLoader:i})]):this.load(e,{inlineLoader:i})}_completeScopeWithLang(e){return this._isLangScoped(e)&&!this.isLang(Gu(e))?`${e}/${this.getActiveLang()}`:e}_setScopeAlias(e,i){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[e]=i}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.cache.clear()}isLoadedTranslation(e){return T7(this.getTranslation(e))}getAvailableLangsIds(){return Df(this.getAvailableLangs()[0])?this.getAvailableLangs():this.getAvailableLangs().map(i=>i.id)}getMissingHandlerData(){return{...this.config,activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang}}useFallbackTranslation(e){return this.config.missingHandler.useFallbackTranslation&&e!==this.firstFallbackLang}handleSuccess(e,i){this.setTranslation(i,e,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:AF(e)}),this.failedLangs.forEach(r=>this.cache.delete(r)),this.failedLangs.clear()}handleFailure(e,i){DF(i.failedCounter)&&(i.failedCounter=0,i.fallbackLangs||(i.fallbackLangs=this.fallbackStrategy.getNextLangs(e)));const r=e.split("/"),o=i.fallbackLangs[i.failedCounter];if(this.failedLangs.add(e),this.cache.has(o))return this.handleSuccess(o,this.getTranslation(o)),ti;if(!o||o===r[r.length-1]){let f="Unable to load translation and all the fallback languages";throw r.length>1&&(f+=", did you misspelled the scope name?"),new Error(f)}let d=o;return r.length>1&&(r[r.length-1]=o,d=r.join("/")),i.failedCounter++,this.events.next({type:"translationLoadFailure",payload:AF(e)}),this.load(d,i)}getMappedScope(e){const{scopeMapping:i={}}=this.config;return i[e]||I7(e)}resolveLangAndScope(e){let r,i=e;if(this._isLangScoped(e)){const s=Gu(e),o=this.isLang(s);i=o?s:this.getActiveLang(),r=this.getMappedScope(o?U0(e):e)}return{scope:r,resolveLang:i}}getObjectByKey(e,i){const r={},s=`${i}.`;for(const o in e)o.startsWith(s)&&(r[o.replace(s,"")]=e[o]);return r}getEntries(e){return e instanceof Map?e.entries():Object.entries(e)}static \u0275fac=function(i){return new(i||n)(ce(E7,8),ce(M7),ce(R7),ce(O7),ce(qm),ce(P7))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const MF=new Be("TRANSLOCO_LANG"),RF=(new Be("TRANSLOCO_LOADING_TEMPLATE"),new Be("TRANSLOCO_SCOPE"));class B7{initialized=!1;resolve({inline:t,provider:e,active:i}){let r=i;if(this.initialized)return r=i,r;if(e){const[,s]=IF(e,"static");r=s}if(t){const[,s]=IF(t,"static");r=s}return this.initialized=!0,r}resolveLangBasedOnScope(t){return U0(t)?Gu(t):t}resolveLangPath(t,e){return e?`${e}/${t}`:t}}class z7{service;constructor(t){this.service=t}resolve(t){const{inline:e,provider:i}=t;if(e)return e;if(i){if(TF(i)){const{scope:r,alias:s=I7(r)}=i;return this.service._setScopeAlias(r,s),r}return i}}}let $u=(()=>{class n{service;providerScope;providerLang;cdr;subscription=null;lastValue="";lastKey;path;langResolver=new B7;scopeResolver;constructor(e,i,r,s){this.service=e,this.providerScope=i,this.providerLang=r,this.cdr=s,this.scopeResolver=new z7(this.service)}transform(e,i,r){if(!e)return e;const s=i?`${e}${JSON.stringify(i)}`:e;if(s===this.lastKey)return this.lastValue;this.lastKey=s,this.subscription?.unsubscribe();const o=function N7(n,t){const[e]=IF(t,"static");return!e&&!!n.config.reRenderOnLangChange}(this.service,this.providerLang||r);return this.subscription=this.service.langChanges$.pipe(vt(c=>{const d=this.langResolver.resolve({inline:r,provider:this.providerLang,active:c});return Array.isArray(this.providerScope)?m1(this.providerScope.map(f=>this.resolveScope(d,f))):this.resolveScope(d,this.providerScope)}),function F7(n){return n?t=>t:Vn(1)}(o)).subscribe(()=>this.updateValue(e,i)),this.lastValue}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscription=null}updateValue(e,i){const r=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.service.translate(e,i,r),this.cdr.markForCheck()}resolveScope(e,i){const r=this.scopeResolver.resolve({inline:void 0,provider:i});this.path=this.langResolver.resolveLangPath(e,r);const s=SF(i,r);return this.service._loadDependencies(this.path,s)}static \u0275fac=function(i){return new(i||n)(B(J1,16),B(RF,24),B(MF,24),B(hr,16))};static \u0275pipe=ts({name:"transloco",type:n,pure:!1,standalone:!0})}return n})(),MSe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=St({type:n});static \u0275inj=Se({})}return n})();function RSe(n){const t=[NSe(xSe),LSe(CSe),VSe(ESe),FSe(DSe)];return n.config&&t.push(function OSe(n){return Kl([{provide:qm,useValue:bSe(n)}])}(n.config)),n.loader&&t.push(function PSe(n){return Kl([{provide:E7,useClass:n}])}(n.loader)),t}function NSe(n){return Kl([{provide:M7,useClass:n,deps:[qm]}])}function FSe(n){return Kl([{provide:P7,useClass:n,deps:[qm]}])}function LSe(n){return Kl([{provide:R7,useClass:n}])}function VSe(n){return Kl([{provide:O7,useClass:n}])}function zSe(n,t){if(1&n){const e=rn();q(0,"div",18)(1,"div",19),Fe("click",function(){const s=ut(e).$implicit;return ot(ve().redirectPetPage(s.id||""))}),Qe(2,"img",20),q(3,"div",21)(4,"p"),De(5),Q()()()()}if(2&n){const e=t.$implicit;ee(1),ec("id",e.id),ee(1),ec("src",e.profile_image,_h),ee(3),ln(e.name)}}new Be("TRANSLOCO_TEST_LANGS - Available testing languages"),new Be("TRANSLOCO_TEST_OPTIONS - Testing options");let HSe=(()=>{class n{constructor(e,i,r,s,o){this.apiService=e,this.router=i,this.datePipe=r,this.fb=s,this.storageService=o,this.savedPets=[],this.base64Output="",this.selectedFileName="...",this.registerPetForm=this.fb.group({name:["",[Di.required]],type:["",Di.required],breed:["",[Di.required]],birth:["",Di.required]}),this.showData()}openForm(){const e=document.getElementById("myForm");e&&(e.style.display="block")}closeForm(){const e=document.getElementById("myForm");e&&(e.style.display="none")}redirectPetPage(e){this.router.navigate(["pet-profile"],{queryParams:{petId:e}})}registerPet(){var e={client_id:this.storageService.SessionGetStorage("uid"),name:this.registerPetForm.value.name,type:this.registerPetForm.value.type,breed:this.registerPetForm.value.breed,birth:this.registerPetForm.value.birth};""!=this.base64Output&&(e.profile_image=this.base64Output),this.apiService.postClientPets(e),this.closeForm()}showData(){this.apiService.getClientPets(this.storageService.SessionGetStorage("uid")).then(e=>{this.apiService.petsArray=e;for(const i of this.apiService.petsArray)""==i.profile_image&&(i.profile_image="/assets/img/logo_default.svg");console.log(e)})}onDateInput(e){this.registerPetForm.value.birth=this.datePipe.transform(e.value,"ddMMyyyy")+"_00:00"}onFileSelected(e){const i=e.target.files[0],r=new FileReader;r.onloadend=()=>{this.base64Output=r.result},i?(r.readAsDataURL(i),this.selectedFileName=i.name):this.selectedFileName="..."}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ml),B(os),B(hg),B(x0),B(Al))};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-pets-list"]],decls:43,vars:33,consts:[[1,"open-button",3,"click"],["id","myForm",1,"form-popup"],[1,"form-container",3,"formGroup","ngSubmit"],[1,"file-upload"],[1,"file-select"],["id","fileName",1,"file-select-button"],["id","noFile",1,"file-select-name"],["type","file",3,"change"],["fileInput",""],["type","text","formControlName","name","required","",3,"placeholder"],["type","text","formControlName","type","required","",3,"placeholder"],["type","text","formControlName","breed","required","",3,"placeholder"],["formControlName","birth","matInput","","readonly","","required","",3,"matDatepicker","click","dateInput"],["matSuffix","",3,"for"],["picker",""],["type","submit",1,"btn",3,"disabled"],["type","button",1,"btn","cancel",3,"click"],["class","module","style","text-align: center;",4,"ngFor","ngForOf"],[1,"module",2,"text-align","center"],[1,"image-container",3,"id","click"],["width","50px","alt","Pet",3,"src"],[1,"overlay"]],template:function(i,r){if(1&i){const s=rn();q(0,"button",0),Fe("click",function(){return r.openForm()}),De(1,"+"),Q(),q(2,"div",1)(3,"form",2),Fe("ngSubmit",function(){return r.registerPet()}),q(4,"h1"),De(5),Vt(6,"transloco"),Q(),q(7,"div",3)(8,"div",4)(9,"div",5),De(10),Vt(11,"transloco"),Q(),q(12,"div",6),De(13),Q(),q(14,"input",7,8),Fe("change",function(c){return r.onFileSelected(c)}),Q()()(),Qe(16,"input",9,8),Vt(18,"transloco"),Qe(19,"input",10,8),Vt(21,"transloco"),Qe(22,"input",11,8),Vt(24,"transloco"),q(25,"mat-form-field")(26,"mat-label"),De(27),Vt(28,"transloco"),Q(),q(29,"input",12),Fe("click",function(){return ut(s),ot(Un(32).open())})("dateInput",function(c){return r.onDateInput(c)}),Q(),Qe(30,"mat-datepicker-toggle",13)(31,"mat-datepicker",null,14),Q(),q(33,"button",15),De(34),Vt(35,"transloco"),Q(),q(36,"button",16),Fe("click",function(){return r.closeForm()}),De(37),Vt(38,"transloco"),Q()()(),q(39,"h1"),De(40),Vt(41,"transloco"),Q(),xe(42,zSe,6,3,"div",17)}if(2&i){const s=Un(32);ee(3),se("formGroup",r.registerPetForm),ee(2),ln(En(6,15,"register_pet")),ee(5),ln(En(11,17,"choose_pet_image")),ee(3),ln(r.selectedFileName),ee(3),se("placeholder",En(18,19,"pet_name")),ee(3),se("placeholder",En(21,21,"pet_type")),ee(3),se("placeholder",En(24,23,"pet_breed")),ee(5),ln(En(28,25,"pet_birth")),ee(2),se("matDatepicker",s),ee(1),se("for",s),ee(3),se("disabled",r.registerPetForm.invalid),ee(1),ln(En(35,27,"register_button")),ee(3),ln(En(38,29,"close_button")),ee(3),Cn(" ",En(41,31,"your_pets"),"\n"),ee(2),se("ngForOf",r.apiService.petsArray)}},dependencies:[Sr,Bm,Ru,Fm,Lm,b0,wc,_f,_7,Q1,v7,s7,n7,$1,YX,$u],styles:[".whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:10px;border-radius:20px;width:350px;margin-right:40px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}*[_ngcontent-%COMP%]{box-sizing:border-box}.open-button[_ngcontent-%COMP%]{background-color:#555;color:#fff;padding:16px 20px;border:none;cursor:pointer;opacity:.8;position:fixed;bottom:80px;right:10px}.form-popup[_ngcontent-%COMP%]{display:none;position:fixed;bottom:80px;right:15px;border:3px solid #f1f1f1;z-index:9}.form-container[_ngcontent-%COMP%]{max-width:300px;padding:10px;background-color:#fff}.form-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:15px;margin:5px 0 22px;border:none;background:#f1f1f1}.form-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{background-color:#ddd;outline:none}.form-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff;padding:16px 20px;border:none;cursor:pointer;width:50%;margin-bottom:10px;opacity:.8}.form-container[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:red}.form-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .open-button[_ngcontent-%COMP%]:hover{opacity:1}.file-upload[_ngcontent-%COMP%]{display:block;text-align:center;font-family:Helvetica,Arial,sans-serif;font-size:12px}.file-upload[_ngcontent-%COMP%]   .file-select[_ngcontent-%COMP%]{display:block;border:2px solid #dce4ec;color:#34495e;cursor:pointer;height:40px;line-height:40px;text-align:left;background:#FFFFFF;overflow:hidden;position:relative}.file-upload[_ngcontent-%COMP%]   .file-select[_ngcontent-%COMP%]   .file-select-button[_ngcontent-%COMP%]{background:#dce4ec;padding:0 10px;display:inline-block;height:40px;line-height:40px}.file-upload[_ngcontent-%COMP%]   .file-select[_ngcontent-%COMP%]   .file-select-name[_ngcontent-%COMP%]{line-height:40px;display:inline-block;padding:0 10px}.file-upload[_ngcontent-%COMP%]   .file-select[_ngcontent-%COMP%]:hover{border-color:#34495e;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-select[_ngcontent-%COMP%]:hover   .file-select-button[_ngcontent-%COMP%]{background:#34495e;color:#fff;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload.active[_ngcontent-%COMP%]   .file-select[_ngcontent-%COMP%]{border-color:#3fa46a;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload.active[_ngcontent-%COMP%]   .file-select[_ngcontent-%COMP%]   .file-select-button[_ngcontent-%COMP%]{background:#3fa46a;color:#fff;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{z-index:100;cursor:pointer;position:absolute;height:100%;width:100%;top:0;left:0;opacity:0;filter:alpha(opacity=0)}.file-upload[_ngcontent-%COMP%]   .file-select.file-select-disabled[_ngcontent-%COMP%]{opacity:.65}.file-upload[_ngcontent-%COMP%]   .file-select.file-select-disabled[_ngcontent-%COMP%]:hover{cursor:default;display:block;border:2px solid #dce4ec;color:#34495e;cursor:pointer;height:40px;line-height:40px;margin-top:5px;text-align:left;background:#FFFFFF;overflow:hidden;position:relative}.file-upload[_ngcontent-%COMP%]   .file-select.file-select-disabled[_ngcontent-%COMP%]:hover   .file-select-button[_ngcontent-%COMP%]{background:#dce4ec;color:#666;padding:0 10px;display:inline-block;height:40px;line-height:40px}.file-upload[_ngcontent-%COMP%]   .file-select.file-select-disabled[_ngcontent-%COMP%]:hover   .file-select-name[_ngcontent-%COMP%]{line-height:40px;display:inline-block;padding:0 10px}"]})}return n})();var Tf=function(n){return n.UserNotFound="auth/user-not-found",n.WrongPassword="auth/wrong-password",n.EmailInUse="auth/email-already-in-use",n.WeakPassword="auth/weak-password",n.BadEmail="auth/invalid-email",n.InvalidLogin="auth/invalid-login-credentials",n}(Tf||{});let H7=(()=>{class n{constructor(){}firebaseError(e){switch(e){case Tf.UserNotFound:return"User does not exist";case Tf.WrongPassword:return"Wrong password";case Tf.EmailInUse:return"Email already in use";case Tf.WeakPassword:return"Weak password, use 6 characters at least";case Tf.BadEmail:return"Invalid Email";case Tf.InvalidLogin:return"Credentials not accepted";default:return"Unknown error"}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function USe(n,t){1&n&&(q(0,"span",14)(1,"strong"),De(2,"Mail"),Q(),De(3," is required "),Q())}function jSe(n,t){1&n&&(q(0,"span",14),De(1," Mail must be "),q(2,"strong"),De(3,"valid"),Q()())}function WSe(n,t){1&n&&(q(0,"span",14)(1,"strong"),De(2,"Password"),Q(),De(3," is required "),Q())}let GSe=(()=>{class n{constructor(e,i,r,s,o,c,d){this.fb=e,this.afAuth=i,this.router=r,this.fireBaseErrorService=s,this.toastr=o,this.storageService=c,this.apiService=d,this.loginUser=this.fb.group({email:["",[Di.required,Di.email]],password:["",Di.required]}),this.subscription=this.storageService.isLoggedIn.subscribe(f=>{1==f&&this.router.navigate(["home"])}),this.checkSession()}checkSession(){const e=localStorage.getItem("usrMail")||"",i=localStorage.getItem("usrPswd")||"";this.login(e,i,!0)}login(e,i,r){var s=this.loginUser.value.email,o=this.loginUser.value.password;if(r){if(""==e||""==i)return;s=e,o=i}this.afAuth.signInWithEmailAndPassword(s,o).then(c=>{localStorage.setItem("usrPswd",o),localStorage.setItem("usrMail",s),this.storageService.SessionAddStorage("uid",c.user?.uid),this.storageService.isLoggedNext(!0),this.router.navigate(["home"])}).catch(c=>{this.toastr.error(this.fireBaseErrorService.firebaseError(c.code),"Error")})}GoogleAuth(){return this.AuthLogin(new _q.W)}AuthLogin(e){return this.afAuth.signInWithPopup(e).then(i=>{this.apiService.googleReg(i.user?.uid,i.user?.email,i.user?.phoneNumber,i.user?.displayName).then(r=>{this.storageService.SessionAddStorage("uid",r),this.storageService.isLoggedNext(!0),this.router.navigate(["home"])})}).catch(i=>{console.log(i)})}delay(e){return new Promise(i=>setTimeout(i,e))}static#e=this.\u0275fac=function(i){return new(i||n)(B(x0),B(Jc),B(os),B(H7),B(D0),B(Al),B(Ml))};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-login"]],decls:27,vars:5,consts:[[1,"wrapper"],[1,"body"],["src","../../../assets/img/login-person.png","alt","Login",1,"logo"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["class","text-danger errorLabel",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"form-group","mt-3"],[1,"btn","btn-lg","btn-google",3,"click"],["src","/assets/imgs/google.png","alt","Login w google"],[1,"btn","btn-lg","btn-reg",3,"click"],[1,"text-danger","errorLabel"]],template:function(i,r){if(1&i&&(q(0,"div",0)(1,"div",1),Qe(2,"img",2),q(3,"h1"),De(4,"Login"),Q(),q(5,"form",3),Fe("ngSubmit",function(){return r.login("","",!1)}),q(6,"div",4),Qe(7,"input",5),q(8,"label"),De(9,"Email"),Q(),xe(10,USe,4,0,"span",6),xe(11,jSe,4,0,"span",6),Q(),q(12,"div",4),Qe(13,"input",7),q(14,"label"),De(15,"Password"),Q(),xe(16,WSe,4,0,"span",6),Q(),q(17,"div",8)(18,"button",9),De(19,"Login"),Q()()(),q(20,"div",10)(21,"button",11),Fe("click",function(){return r.GoogleAuth()}),Qe(22,"img",12),De(23," Login with google"),Q()(),q(24,"div",10)(25,"button",13),Fe("click",function(){return r.router.navigate(["register"])}),De(26,"Register"),Q()()()()),2&i){let s,o,c;ee(5),se("formGroup",r.loginUser),ee(5),se("ngIf",(null==(s=r.loginUser.get("email"))?null:s.hasError("required"))&&(null==(s=r.loginUser.get("email"))?null:s.touched)),ee(1),se("ngIf",(null==(o=r.loginUser.get("email"))?null:o.hasError("email"))&&(null==(o=r.loginUser.get("email"))?null:o.touched)),ee(5),se("ngIf",(null==(c=r.loginUser.get("password"))?null:c.hasError("required"))&&(null==(c=r.loginUser.get("password"))?null:c.touched)),ee(2),se("disabled",r.loginUser.invalid)}},dependencies:[qi,Bm,Ru,Fm,Lm,wc,_f],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:10px}.body[_ngcontent-%COMP%]{width:100%;max-width:330px;text-align:center}.btn-google[_ngcontent-%COMP%]{background-color:#fff;color:#444;width:100%;font-weight:500}.btn-reg[_ngcontent-%COMP%]{background-color:#9d9d9d;color:#fff;width:100%;font-weight:500}.btn-google[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-bottom:4px;margin-right:14px}.btn-reg[_ngcontent-%COMP%]{background-color:#9d9d9d;color:#fff;width:100%}"]})}return n})();function $Se(n,t){1&n&&(q(0,"span",14)(1,"strong"),De(2,"Mail"),Q(),De(3," is required "),Q())}function YSe(n,t){1&n&&(q(0,"span",14),De(1," Mail must be "),q(2,"strong"),De(3,"valid"),Q()())}function qSe(n,t){1&n&&(q(0,"span",14)(1,"strong"),De(2,"Password"),Q(),De(3," is required "),Q())}function XSe(n,t){1&n&&(q(0,"span",14)(1,"strong"),De(2,"Password"),Q(),De(3," is different "),Q())}function ZSe(n,t){1&n&&(q(0,"span",14)(1,"strong"),De(2,"Name"),Q(),De(3," is required "),Q())}function KSe(n,t){1&n&&(q(0,"span",14),De(1," Provide at least "),q(2,"strong"),De(3,"one surname"),Q()())}function QSe(n,t){1&n&&(q(0,"span",14)(1,"strong"),De(2,"Phone number"),Q(),De(3," is required "),Q())}function JSe(n,t){1&n&&(q(0,"span",14),De(1," Phone number "),q(2,"strong"),De(3,"must be valid "),Q()())}function eAe(n,t){1&n&&(q(0,"span",14)(1,"strong"),De(2,"Address"),Q(),De(3," is required "),Q())}let tAe=(()=>{class n{constructor(e,i,r,s,o,c,d){this.fb=e,this.afAuth=i,this.router=r,this.fireBaseErrorService=s,this.toastr=o,this.storageService=c,this.apiService=d,this.registerUser=this.fb.group({email:["",[Di.required,Di.email]],password:["",Di.required],password_rep:["",[Di.required]],name:["",Di.required],surnames:["",[Di.required]],phone:[" ",[Di.required,Di.min(1e8),Di.max(999999999)]],address:["",Di.required]}),this.subscription=this.storageService.isLoggedIn.subscribe(f=>{1==f&&this.router.navigate(["home"])})}register(){const e=this.registerUser.value.email,i=this.registerUser.value.password;this.registerUser.value.password_rep!=this.registerUser.value.password&&this.toastr.error("Passwords do not match","Password error"),this.afAuth.createUserWithEmailAndPassword(e,i).then(r=>{this.apiService.addUser({id:r.user?.uid,name:this.registerUser.value.name,address:{latitude:"0.0",longitude:"0.0"},email:this.registerUser.value.email,phone:this.registerUser.value.phone,surnames:this.registerUser.value.surnames}),this.toastr.success("Register completed","Congratulations!"),this.router.navigate([""])}).catch(r=>{this.toastr.error(this.fireBaseErrorService.firebaseError(r.code),"Error")})}static#e=this.\u0275fac=function(i){return new(i||n)(B(x0),B(Jc),B(os),B(H7),B(D0),B(Al),B(Ml))};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-register"]],decls:45,vars:11,consts:[[1,"wrapper"],[1,"body"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["class","text-danger errorLabel",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["type","password","formControlName","password_rep","placeholder","Password Repeat",1,"form-control"],["type","text","formControlName","name","placeholder","Name",1,"form-control"],["type","text","formControlName","surnames","placeholder","Surnames",1,"form-control"],["type","tel","formControlName","phone","placeholder","Phone",1,"form-control"],["type","text","formControlName","address","placeholder","Address",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"text-danger","errorLabel"]],template:function(i,r){if(1&i&&(q(0,"div",0)(1,"div",1)(2,"h1"),De(3,"Register"),Q(),q(4,"form",2),Fe("ngSubmit",function(){return r.register()}),q(5,"div",3),Qe(6,"input",4),q(7,"label"),De(8,"Email"),Q(),xe(9,$Se,4,0,"span",5),xe(10,YSe,4,0,"span",5),Q(),q(11,"div",3),Qe(12,"input",6),q(13,"label"),De(14,"Password"),Q(),xe(15,qSe,4,0,"span",5),Q(),q(16,"div",3),Qe(17,"input",7),q(18,"label"),De(19,"Repeat Password"),Q(),xe(20,XSe,4,0,"span",5),Q(),q(21,"div",3),Qe(22,"input",8),q(23,"label"),De(24,"Name"),Q(),xe(25,ZSe,4,0,"span",5),Q(),q(26,"div",3),Qe(27,"input",9),q(28,"label"),De(29,"Surnames"),Q(),xe(30,KSe,4,0,"span",5),Q(),q(31,"div",3),Qe(32,"input",10),q(33,"label"),De(34,"Phone number"),Q(),xe(35,QSe,4,0,"span",5),xe(36,JSe,4,0,"span",5),Q(),q(37,"div",3),Qe(38,"input",11),q(39,"label"),De(40,"Address"),Q(),xe(41,eAe,4,0,"span",5),Q(),q(42,"div",12)(43,"button",13),De(44,"Register"),Q()()()()()),2&i){let s,o,c,d,f,_,x,T,M;ee(4),se("formGroup",r.registerUser),ee(5),se("ngIf",(null==(s=r.registerUser.get("email"))?null:s.hasError("required"))&&(null==(s=r.registerUser.get("email"))?null:s.touched)),ee(1),se("ngIf",(null==(o=r.registerUser.get("email"))?null:o.hasError("email"))&&(null==(o=r.registerUser.get("email"))?null:o.touched)),ee(5),se("ngIf",(null==(c=r.registerUser.get("password"))?null:c.hasError("required"))&&(null==(c=r.registerUser.get("password"))?null:c.touched)),ee(5),se("ngIf",(null==(d=r.registerUser.get("password_rep"))?null:d.hasError("checkPasswords"))&&(null==(d=r.registerUser.get("passwor_rep"))?null:d.touched)),ee(5),se("ngIf",(null==(f=r.registerUser.get("name"))?null:f.hasError("required"))&&(null==(f=r.registerUser.get("name"))?null:f.touched)),ee(5),se("ngIf",(null==(_=r.registerUser.get("surnames"))?null:_.hasError("required"))&&(null==(_=r.registerUser.get("surnames"))?null:_.touched)),ee(5),se("ngIf",(null==(x=r.registerUser.get("phone"))?null:x.hasError("required"))&&(null==(x=r.registerUser.get("phone"))?null:x.touched)),ee(1),se("ngIf",((null==(T=r.registerUser.get("phone"))?null:T.hasError("min"))||(null==(T=r.registerUser.get("phone"))?null:T.hasError("max")))&&(null==(T=r.registerUser.get("phone"))?null:T.touched)),ee(5),se("ngIf",(null==(M=r.registerUser.get("address"))?null:M.hasError("address"))&&(null==(M=r.registerUser.get("address"))?null:M.touched)),ee(2),se("disabled",r.registerUser.invalid)}},dependencies:[qi,Bm,Ru,Fm,Lm,wc,_f],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:10px}.body[_ngcontent-%COMP%]{width:100%;max-width:330px;margin:auto;padding:30px;text-align:center}"]})}return n})();const U7=["*"];class Rl{_clearListeners(){for(const t of this._listeners)t.remove();this._listeners=[]}constructor(t){this._ngZone=t,this._pending=[],this._listeners=[],this._targetStream=new W(void 0)}getLazyEmitter(t){return this._targetStream.pipe(vt(e=>{const i=new Ht(r=>{if(!e)return void this._pending.push({observable:i,observer:r});const s=e.addListener(t,o=>{this._ngZone.run(()=>r.next(o))});if(s)return this._listeners.push(s),()=>s.remove();r.complete()});return i}))}setTarget(t){const e=this._targetStream.value;t!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(t),this._pending.forEach(i=>i.observable.subscribe(i.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const j0={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"};let Bo=(()=>{class n{set center(e){this._center=e}set zoom(e){this._zoom=e}set options(e){this._options=e||j0}constructor(e,i,r){if(this._elementRef=e,this._ngZone=i,this._eventManager=new Rl(Ge(lt)),this.height="500px",this.width="500px",this._options=j0,this.mapInitialized=new Ve,this.authFailure=new Ve,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=ck(r),this._isBrowser){const s=window;this._existingAuthFailureCallback=s.gm_authFailure,s.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(e){(e.height||e.width)&&this._setSize();const i=this.googleMap;i&&(e.options&&i.setOptions(this._combineOptions()),e.center&&this._center&&i.setCenter(this._center),e.zoom&&null!=this._zoom&&i.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&i.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._ngZone.runOutsideAngular(()=>{this.googleMap=new google.maps.Map(this._mapEl,this._combineOptions())}),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap))}ngOnDestroy(){this._eventManager.destroy(),this._isBrowser&&(window.gm_authFailure=this._existingAuthFailureCallback)}fitBounds(e,i){this._assertInitialized(),this.googleMap.fitBounds(e,i)}panBy(e,i){this._assertInitialized(),this.googleMap.panBy(e,i)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,i){this._assertInitialized(),this.googleMap.panToBounds(e,i)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const e=this._mapEl.style;e.height=null===this.height?"":G7(this.height)||"500px",e.width=null===this.width?"":G7(this.width)||"500px"}}_combineOptions(){const e=this._options||{};return{...e,center:this._center||e.center||j0.center,zoom:this._zoom??e.zoom??j0.zoom,mapTypeId:this.mapTypeId||e.mapTypeId||j0.mapTypeId}}_assertInitialized(){}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(lt),B(wo))};static#t=this.\u0275cmp=kt({type:n,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[Mn],ngContentSelectors:U7,decls:2,vars:0,consts:[[1,"map-container"]],template:function(i,r){1&i&&(fa(),Qe(0,"div",0),nr(1))},encapsulation:2,changeDetection:0})}return n})();const nAe=/([A-Za-z%]+)$/;function G7(n){return null==n?"":nAe.test(n)?n:`${n}px`}const cAe={position:{lat:37.421995,lng:-122.084092}};let PF=(()=>{class n{set title(e){this._title=e}set position(e){this._position=e}set label(e){this._label=e}set clickable(e){this._clickable=e}set options(e){this._options=e}set icon(e){this._icon=e}set visible(e){this._visible=e}constructor(e,i){this._googleMap=e,this._ngZone=i,this._eventManager=new Rl(Ge(lt)),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this.marker=new google.maps.Marker(this._combineOptions())}),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker))}ngOnChanges(e){const{marker:i,_title:r,_position:s,_label:o,_clickable:c,_icon:d,_visible:f}=this;i&&(e.options&&i.setOptions(this._combineOptions()),e.title&&void 0!==r&&i.setTitle(r),e.position&&s&&i.setPosition(s),e.label&&void 0!==o&&i.setLabel(o),e.clickable&&void 0!==c&&i.setClickable(c),e.icon&&d&&i.setIcon(d),e.visible&&void 0!==f&&i.setVisible(f))}ngOnDestroy(){this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){const e=this._options||cAe;return{...e,title:this._title||e.title,position:this._position||e.position,label:this._label||e.label,clickable:this._clickable??e.clickable,map:this._googleMap.googleMap,icon:this._icon||e.icon,visible:this._visible??e.visible}}_assertInitialized(){}static#e=this.\u0275fac=function(i){return new(i||n)(B(Bo),B(lt))};static#t=this.\u0275dir=je({type:n,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"],features:[Mn]})}return n})(),yAe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})();function bAe(n,t){if(1&n){const e=rn();q(0,"map-marker",18),Fe("mapClick",function(){const s=ut(e).$implicit;return ot(ve().openInfoWindow(s,"park"))}),Q()}if(2&n){const e=t.$implicit,i=ve();se("options",i.parkMarkerOptions)("position",e.getPosition())("visible",i.marker1.getVisible())}}function xAe(n,t){if(1&n){const e=rn();q(0,"map-marker",18),Fe("mapClick",function(){const s=ut(e).$implicit;return ot(ve().openInfoWindow(s,"pet store"))}),Q()}if(2&n){const e=t.$implicit,i=ve();se("options",i.storeMarkerOptions)("position",e.getPosition())("visible",i.marker5.getVisible())}}function wAe(n,t){if(1&n){const e=rn();q(0,"map-marker",18),Fe("mapClick",function(){const s=ut(e).$implicit;return ot(ve().openInfoWindow(s,"pet friendly hotel"))}),Q()}if(2&n){const e=t.$implicit,i=ve();se("options",i.hotelMarkerOptions)("position",e.getPosition())("visible",i.marker4.getVisible())}}function CAe(n,t){if(1&n){const e=rn();q(0,"map-marker",18),Fe("mapClick",function(){const s=ut(e).$implicit;return ot(ve().openInfoWindow(s,"pet hairdresser"))}),Q()}if(2&n){const e=t.$implicit,i=ve();se("options",i.hairMarkerOptions)("position",e.getPosition())("visible",i.marker3.getVisible())}}function EAe(n,t){if(1&n){const e=rn();q(0,"map-marker",18),Fe("mapClick",function(){const s=ut(e).$implicit;return ot(ve().openInfoWindow(s,"veterinary clinic"))}),Q()}if(2&n){const e=t.$implicit,i=ve();se("options",i.toystoreMarkerOptions)("position",e.getPosition())("visible",i.marker6.getVisible())}}function DAe(n,t){if(1&n){const e=rn();q(0,"map-marker",18),Fe("mapClick",function(){const s=ut(e).$implicit;return ot(ve().openInfoWindow(s,"pet friendly cafe"))}),Q()}if(2&n){const e=t.$implicit,i=ve();se("options",i.cafeMarkerOptions)("position",e.getPosition())("visible",i.marker2.getVisible())}}function TAe(n,t){if(1&n){const e=rn();q(0,"div",19)(1,"div",20)(2,"p"),De(3,"This site is a "),q(4,"b"),De(5),Q(),De(6,". You can find it in "),q(7,"a",21),De(8," here"),Q()(),q(9,"div",22)(10,"button",23),Fe("click",function(){return ut(e),ot(ve().closePopup())}),De(11,"Close"),Q()()()()}if(2&n){const e=ve();ee(5),ln(e.siteType),ee(2),Rv("href","https://www.google.com/maps?q=",e.siteName,"",_h)}}let $7=(()=>{class n{constructor(e,i){this.httpClient=e,this.api=i,this.siteType="",this.siteName="Camp+Nou",this.showPopup=!1,this.zoom=15,this.options={mapTypeId:"hybrid",zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0,maxZoom:15,minZoom:8,disableDefaultUI:!0},this.markerOptions={draggable:!1,icon:{url:"../assets/mapIcons/user_position.svg",scaledSize:new google.maps.Size(50,50)}},this.parkMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_park.svg",scaledSize:new google.maps.Size(50,50)}},this.cafeMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_cofee.svg",scaledSize:new google.maps.Size(50,50)}},this.hairMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_hair.svg",scaledSize:new google.maps.Size(50,50)}},this.hotelMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_hotel.svg",scaledSize:new google.maps.Size(50,50)}},this.storeMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_store.svg",scaledSize:new google.maps.Size(50,50)}},this.toystoreMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_toystore.svg",scaledSize:new google.maps.Size(50,50)}},this.userMarker=new google.maps.Marker,this.parkMarkers=[],this.petStoreMarkers=[],this.cafeMarkers=[],this.hotelMarkers=[],this.hairDMarkers=[],this.toyMarkers=[],this.marker1=new google.maps.Marker,this.marker2=new google.maps.Marker,this.marker3=new google.maps.Marker,this.marker4=new google.maps.Marker,this.marker5=new google.maps.Marker,this.marker6=new google.maps.Marker,this.apiKey="AIzaSyAouWao_x1bulJ9RkrfYpYP49u2a9RzSXw"}ngOnInit(){this.getPosition().then(e=>{e&&(this.center=e,this.userMarker.setPosition(e),this.displayPetStoreMarkers(),this.displayParkMarkers(),this.displayPetFriendlyCafeMarkers(),this.displayPetHotelMarkers(),this.displayPetHairdresserMarkers(),this.displayPetToyStoreMarkers())})}getPosition(){return new Promise((e,i)=>{navigator.geolocation.getCurrentPosition(r=>{e({lng:r.coords.longitude,lat:r.coords.latitude})},r=>{i(r)})})}toggleButtonClass(e,i){var r=document.getElementById(e);r instanceof HTMLButtonElement&&(r.classList.contains("button-on")?(r.classList.remove("button-on"),r.classList.add("button-off"),i.setVisible(!0)):(r.classList.add("button-on"),r.classList.remove("button-off"),i.setVisible(!1)))}obtainCoordByStr(){const i=document.getElementById("searchInput").value,s=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(i)}&key=${this.apiKey}`;this.httpClient.get(s).subscribe(o=>{if("OK"===o.status&&o.results.length>0){const c=o.results[0].geometry.location;console.log(i,c),this.center=c,this.userMarker.setPosition(c),this.parkMarkers=[],this.petStoreMarkers=[],this.cafeMarkers=[],this.hotelMarkers=[],this.hairDMarkers=[],this.toyMarkers=[],this.displayPetStoreMarkers(),this.displayParkMarkers(),this.displayPetFriendlyCafeMarkers(),this.displayPetHotelMarkers(),this.displayPetHairdresserMarkers(),this.displayPetToyStoreMarkers()}})}displayParkMarkers(){this.api.getNearbySearch(`${this.center.lat}%2C${this.center.lng}`,"1500","park","park").then(i=>{for(let r=0;r<i.results.length;r++){const s=i.results[r],o=new google.maps.Marker({position:{lat:s.geometry.location.lat,lng:s.geometry.location.lng},title:s.name});this.parkMarkers.push(o)}})}displayPetStoreMarkers(){this.api.getNearbySearch(`${this.center.lat}%2C${this.center.lng}`,"1500","pet_store","pet_store").then(i=>{for(let r=0;r<i.results.length;r++){const s=i.results[r],o=new google.maps.Marker({position:{lat:s.geometry.location.lat,lng:s.geometry.location.lng},title:s.name});this.petStoreMarkers.push(o)}})}displayPetFriendlyCafeMarkers(){this.api.getNearbySearch(`${this.center.lat}%2C${this.center.lng}`,"1500","pet-friendly","cafe|restaurant").then(i=>{for(let r=0;r<i.results.length;r++){const s=i.results[r],o=new google.maps.Marker({position:{lat:s.geometry.location.lat,lng:s.geometry.location.lng},title:s.name});this.cafeMarkers.push(o)}})}displayPetHotelMarkers(){this.api.getNearbySearch(`${this.center.lat}%2C${this.center.lng}`,"1500","pet-friendly","hotel").then(i=>{for(let r=0;r<i.results.length;r++){const s=i.results[r],o=new google.maps.Marker({position:{lat:s.geometry.location.lat,lng:s.geometry.location.lng},title:s.name});this.hotelMarkers.push(o)}})}displayPetHairdresserMarkers(){this.api.getNearbySearch(`${this.center.lat}%2C${this.center.lng}`,"1500","pet_grooming","pet_grooming").then(i=>{for(let r=0;r<i.results.length;r++){const s=i.results[r],o=new google.maps.Marker({position:{lat:s.geometry.location.lat,lng:s.geometry.location.lng},title:s.name});this.hairDMarkers.push(o)}})}displayPetToyStoreMarkers(){this.api.getNearbySearch(`${this.center.lat}%2C${this.center.lng}`,"1500","veterinary","veterinary_care").then(i=>{for(let r=0;r<i.results.length;r++){const s=i.results[r],o=new google.maps.Marker({position:{lat:s.geometry.location.lat,lng:s.geometry.location.lng},title:s.name});this.toyMarkers.push(o)}})}openInfoWindow(e,i){this.showPopup=!0,this.siteName=e.getTitle()?.replace(/ /g,"+")??"",this.siteType=i}closePopup(){this.showPopup=!1}static#e=this.\u0275fac=function(i){return new(i||n)(B(k1),B(Ml))};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-map-page"]],decls:60,vars:35,consts:[["id","searchInput","placeholder","Av/ John Doe 1234",1,"input",3,"keydown.enter"],["id","dynamicMap","height","500px","width","100%",3,"zoom","center"],["id","",3,"options","position"],[3,"options","position","visible","mapClick",4,"ngFor","ngForOf"],[1,"button-container"],["id","storeBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/shop_ico.svg","alt",""],["id","parkBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/park_ico.svg","alt",""],["id","cafeBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/cafe_ico.svg","alt",""],["id","homeBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/hotel_ico.svg","alt",""],["id","hairBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/hair_ico.svg","alt",""],["id","petstoreBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/toystore_ico.svg","alt",""],["class","overlay",4,"ngIf"],[3,"options","position","visible","mapClick"],[1,"overlay"],[1,"popup"],["target","_blank",3,"href"],[2,"text-align","center"],[3,"click"]],template:function(i,r){1&i&&(q(0,"h1"),De(1),Vt(2,"transloco"),Q(),q(3,"h2"),De(4),Vt(5,"transloco"),Q(),q(6,"input",0),Fe("keydown.enter",function(){return r.obtainCoordByStr()}),Q(),q(7,"google-map",1),Qe(8,"map-marker",2),xe(9,bAe,1,3,"map-marker",3),xe(10,xAe,1,3,"map-marker",3),xe(11,wAe,1,3,"map-marker",3),xe(12,CAe,1,3,"map-marker",3),xe(13,EAe,1,3,"map-marker",3),xe(14,DAe,1,3,"map-marker",3),Q(),q(15,"div",4)(16,"div")(17,"button",5),Fe("click",function(){return r.toggleButtonClass("storeBtn",r.marker5)}),Qe(18,"img",6),Q(),Qe(19,"br"),q(20,"label"),De(21),Vt(22,"transloco"),Q()(),q(23,"div")(24,"button",7),Fe("click",function(){return r.toggleButtonClass("parkBtn",r.marker1)}),Qe(25,"img",8),Q(),Qe(26,"br"),q(27,"label"),De(28),Vt(29,"transloco"),Q()(),q(30,"div")(31,"button",9),Fe("click",function(){return r.toggleButtonClass("cafeBtn",r.marker2)}),Qe(32,"img",10),Q(),Qe(33,"br"),q(34,"label"),De(35),Vt(36,"transloco"),Q()()(),q(37,"div",4)(38,"div")(39,"button",11),Fe("click",function(){return r.toggleButtonClass("homeBtn",r.marker4)}),Qe(40,"img",12),Q(),Qe(41,"br"),q(42,"label"),De(43),Vt(44,"transloco"),Q()(),q(45,"div")(46,"button",13),Fe("click",function(){return r.toggleButtonClass("hairBtn",r.marker3)}),Qe(47,"img",14),Q(),Qe(48,"br"),q(49,"label"),De(50),Vt(51,"transloco"),Q()(),q(52,"div")(53,"button",15),Fe("click",function(){return r.toggleButtonClass("petstoreBtn",r.marker6)}),Qe(54,"img",16),Q(),Qe(55,"br"),q(56,"label"),De(57),Vt(58,"transloco"),Q()()(),xe(59,TAe,12,2,"div",17)),2&i&&(ee(1),ln(En(2,19,"interactive_maps")),ee(3),ln(En(5,21,"find_location")),ee(3),se("zoom",r.zoom)("center",r.center),ee(1),se("options",r.markerOptions)("position",r.userMarker.getPosition()),ee(1),se("ngForOf",r.parkMarkers),ee(1),se("ngForOf",r.petStoreMarkers),ee(1),se("ngForOf",r.hotelMarkers),ee(1),se("ngForOf",r.hairDMarkers),ee(1),se("ngForOf",r.toyMarkers),ee(1),se("ngForOf",r.cafeMarkers),ee(7),ln(En(22,23,"petstore")),ee(7),ln(En(29,25,"park")),ee(7),ln(En(36,27,"cafe")),ee(8),ln(En(44,29,"hotel")),ee(7),ln(En(51,31,"hairdresser")),ee(7),ln(En(58,33,"toy")),ee(2),se("ngIf",r.showPopup))},dependencies:[Sr,qi,Bo,PF,$u],styles:[".button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:25px 10px;text-align:center}.button-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:0 0 calc(33.33% - 10px)}.button-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}h2[_ngcontent-%COMP%]{font-size:16px;margin-top:20px;margin-bottom:-20px}.button-on[_ngcontent-%COMP%]{margin:10px 0;padding:24px;background-color:#fff;border-radius:10px;box-shadow:#00000059 0 5px 15px;border:none;transition:background-color .3s ease}.button-off[_ngcontent-%COMP%]{margin:10px 0;padding:24px;background-color:#a9dfaa;border-radius:10px;box-shadow:inset 0 0 10px #00000080;border:none;transition:background-color .3s ease}.input[_ngcontent-%COMP%]{width:100%;border-radius:10px;margin-bottom:20px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.733);display:flex;justify-content:center;align-items:center;z-index:1000}.popup[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 0 10px #00000080}button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;border:none;background-color:#a9dfaa;color:#fff;font-weight:700;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#7bbf7b}"]})}return n})();function eT(n){return(eT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function Tn(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function yi(n){Tn(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||"object"===eT(n)&&"[object Date]"===t?new Date(n.getTime()):"number"==typeof n||"[object Number]"===t?new Date(n):(("string"==typeof n||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Y7(n,t){Tn(2,arguments);var e=yi(n),i=yi(t);return e.getFullYear()===i.getFullYear()&&e.getMonth()===i.getMonth()}function W0(n){Tn(1,arguments);var t=yi(n);return t.setHours(0,0,0,0),t}function q7(n,t){Tn(2,arguments);var e=W0(n),i=W0(t);return e.getTime()===i.getTime()}var SAe=function(){function n(){}return n.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},n.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},n.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},n.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},n.prototype.position=function(t,e){void 0===e&&(e=!0);var i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i={top:(i=t.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},n.prototype.offset=function(t,e){void 0===e&&(e=!0);var i=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s},n.prototype.positionElements=function(t,e,i,r){var s=i.split("-"),o=s[0],c=void 0===o?"top":o,d=s[1],f=void 0===d?"center":d,_=r?this.offset(t,!1):this.position(t,!1),x=this.getAllStyles(e),T=parseFloat(x.marginTop),M=parseFloat(x.marginBottom),N=parseFloat(x.marginLeft),V=parseFloat(x.marginRight),U=0,re=0;switch(c){case"top":U=_.top-(e.offsetHeight+T+M);break;case"bottom":U=_.top+_.height;break;case"left":re=_.left-(e.offsetWidth+N+V);break;case"right":re=_.left+_.width}switch(f){case"top":U=_.top;break;case"bottom":U=_.top+_.height-e.offsetHeight;break;case"left":re=_.left;break;case"right":re=_.left+_.width-e.offsetWidth;break;case"center":"top"===c||"bottom"===c?re=_.left+_.width/2-e.offsetWidth/2:U=_.top+_.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(re)+"px, "+Math.round(U)+"px)";var te=e.getBoundingClientRect(),oe=document.documentElement,pe=window.innerHeight||oe.clientHeight,Ie=window.innerWidth||oe.clientWidth;return te.left>=0&&te.top>=0&&te.right<=Ie&&te.bottom<=pe},n}(),AAe=/\s+/,X7=new SAe,Ol=function(){return Ol=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Ol.apply(this,arguments)},NF=function(n,t,e){if(e||2===arguments.length)for(var s,i=0,r=t.length;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return n.concat(s||Array.prototype.slice.call(t))},FF=function(n){return n[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",n}(FF||{}),MAe=[FF.SUNDAY,FF.SATURDAY],LF=7,Yu=86400;function Z7(n,t){var e=t.startDate,r=t.excluded,s=t.precision;if(r.length<1)return 0;for(var c=n.getDay,d=n.addDays,f=(0,n.addSeconds)(e,t.seconds-1),_=c(e),x=c(f),T=0,M=e,N=function(){var V=c(M);r.some(function(U){return U===V})&&(T+=function RAe(n,t){var i=t.day,s=t.dayEnd,o=t.startDate,c=t.endDate,d=n.differenceInSeconds,_=n.startOfDay;if("minutes"===t.precision){if(i===t.dayStart)return d((0,n.endOfDay)(o),o)+1;if(i===s)return d(c,_(c))+1}return Yu}(n,{dayStart:_,dayEnd:x,day:V,precision:s,startDate:e,endDate:f})),M=d(M,1)};M<f;)N();return T}function G0(n,t){var i=t.periodStart,r=t.periodEnd;return t.events.filter(function(s){return function NAe(n,t){var e=t.event,i=t.periodStart,r=t.periodEnd,s=n.isSameSecond,o=e.start,c=e.end||e.start;return!!(o>i&&o<r||c>i&&c<r||o<i&&c>r||s(o,i)||s(o,r)||s(c,i)||s(c,r))}(n,{event:s,periodStart:i,periodEnd:r})})}function K7(n,t){var e=t.date,i=t.weekendDays,r=void 0===i?MAe:i,o=n.isSameDay,c=n.getDay,d=(0,n.startOfDay)(new Date),f=c(e);return{date:e,day:f,isPast:e<d,isToday:o(e,d),isFuture:e>d,isWeekend:r.indexOf(f)>-1}}function BF(n,t){for(var r=t.excluded,s=void 0===r?[]:r,o=t.weekendDays,c=t.viewStart,d=void 0===c?n.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):c,f=t.viewEnd,_=void 0===f?n.addDays(d,LF):f,x=n.addDays,T=n.getDay,M=[],N=d;N<_;)s.some(function(V){return T(N)===V})||M.push(K7(n,{date:N,weekendDays:o})),N=x(N,1);return M}function LAe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.excluded,s=void 0===r?[]:r,o=t.precision,c=void 0===o?"days":o,d=t.absolutePositionedEvents,f=void 0!==d&&d,_=t.viewStart,x=t.viewEnd;_=n.startOfDay(_),x=n.endOfDay(x);var T=n.differenceInSeconds,M=n.differenceInDays,N=function FAe(n,t){for(var i=t.date2,r=t.excluded,s=t.date1,o=0;s<i;)-1===r.indexOf(n.getDay(s))&&o++,s=n.addDays(s,1);return o}(n,{date1:_,date2:x,excluded:s}),V=M(x,_)+1,U=i.filter(function(oe){return oe.allDay}).map(function(oe){var pe=function PAe(n,t){var e=t.event,i=t.startOfWeek,r=t.excluded,s=t.precision,o=n.differenceInDays,c=n.startOfDay,d=n.differenceInSeconds;if(e.start<i)return 0;var f=0;switch(s){case"days":f=o(c(e.start),i)*Yu;break;case"minutes":f=d(e.start,i)}return f-=Z7(n,{startDate:i,seconds:f,excluded:r,precision:s}),Math.abs(f/Yu)}(n,{event:oe,startOfWeek:_,excluded:s,precision:c}),Ie=function OAe(n,t){var e=t.event,i=t.offset,s=t.excluded,o=t.precision,c=t.totalDaysInView,f=n.differenceInSeconds,_=n.addDays,x=n.endOfDay,T=n.differenceInDays,M=Yu,N=(0,n.max)([e.start,t.startOfWeekDate]);e.end&&(M="minutes"===o?f(e.end,N):T(_(x(e.end),1),N)*Yu);var V=i*Yu,re=c*Yu;return V+M>re&&(M=re-V),(M-=Z7(n,{startDate:N,seconds:M,excluded:s,precision:o}))/Yu}(n,{event:oe,offset:pe,startOfWeekDate:_,excluded:s,precision:c,totalDaysInView:V});return{event:oe,offset:pe,span:Ie}}).filter(function(oe){return oe.offset<N}).filter(function(oe){return oe.span>0}).map(function(oe){return{event:oe.event,offset:oe.offset,span:oe.span,startsBeforeWeek:oe.event.start<_,endsAfterWeek:(oe.event.end||oe.event.start)>x}}).sort(function(oe,pe){var Ie=T(oe.event.start,pe.event.start);return 0===Ie?T(pe.event.end||pe.event.start,oe.event.end||oe.event.start):Ie}),re=[],te=[];return U.forEach(function(oe,pe){if(-1===te.indexOf(oe)){te.push(oe);var Ie=oe.span+oe.offset,Xe=U.slice(pe+1).filter(function(Dt){if(Dt.offset>=Ie&&Ie+Dt.span<=V&&-1===te.indexOf(Dt)){var Mt=Dt.offset-Ie;return f||(Dt.offset=Mt),Ie+=Dt.span+Mt,te.push(Dt),!0}}),pt=NF([oe],Xe,!0),ft=pt.filter(function(Dt){return Dt.event.id}).map(function(Dt){return Dt.event.id}).join("-");re.push(Ol({row:pt},ft?{id:ft}:{}))}}),re}function VAe(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.hourDuration,o=t.dayStart,c=t.dayEnd,d=t.weekStartsOn,f=t.excluded,_=t.weekendDays,x=t.segmentHeight,T=t.viewStart,M=t.viewEnd,N=t.minimumEventHeight,V=function UAe(n,t){var e=t.viewDate,i=t.hourSegments,r=t.hourDuration,s=t.dayStart,o=t.dayEnd,c=n.setMinutes,d=n.setHours,f=n.startOfDay,_=n.startOfMinute,x=n.endOfDay,T=n.addMinutes,M=n.addDays,N=[],V=c(d(f(e),iT(s.hour)),rT(s.minute)),U=c(d(_(x(e)),iT(o.hour)),rT(o.minute)),re=(r||60)/i,te=f(e),oe=x(e),pe=function(Mt){return Mt};n.getTimezoneOffset(te)!==n.getTimezoneOffset(oe)&&(te=M(te,1),V=M(V,1),U=M(U,1),pe=function(Mt){return M(Mt,-1)});for(var Ie=r?1440/r:60,Xe=0;Xe<Ie;Xe++){for(var pt=[],ft=0;ft<i;ft++){var Dt=T(T(V,Xe*(r||60)),ft*re);Dt>=V&&Dt<U&&pt.push({date:pe(Dt),displayDate:Dt,isStart:0===ft})}pt.length>0&&N.push({segments:pt})}return N}(n,{viewDate:i,hourSegments:r,hourDuration:s,dayStart:o,dayEnd:c}),U=BF(n,{viewDate:i,weekStartsOn:d,excluded:f,weekendDays:_,viewStart:T,viewEnd:M}),re=n.setHours,te=n.setMinutes,oe=n.getHours,pe=n.getMinutes;return U.map(function(Ie){var Xe=function HAe(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.dayStart,o=t.dayEnd,c=t.eventWidth,d=t.segmentHeight,f=t.hourDuration,_=t.minimumEventHeight,x=n.setMinutes,T=n.setHours,M=n.startOfDay,N=n.startOfMinute,V=n.endOfDay,U=n.differenceInMinutes,re=x(T(M(i),iT(s.hour)),rT(s.minute)),te=x(T(N(V(i)),iT(o.hour)),rT(o.minute));te.setSeconds(59,999);var oe=[],pe=G0(n,{events:e.filter(function(ft){return!ft.allDay}),periodStart:re,periodEnd:te}),Ie=pe.sort(function(ft,Dt){return ft.start.valueOf()-Dt.start.valueOf()}).map(function(ft){var Dt=ft.start,Mt=ft.end||Dt,gt=Dt<re,_t=Mt>te,dn=r*d/(f||60),ei=0;if(Dt>re){var sa=n.getTimezoneOffset(Dt),Ot=n.getTimezoneOffset(re)-sa;ei+=U(Dt,re)+Ot}ei*=dn,ei=Math.floor(ei);var Qt=gt?re:Dt,Jt=_t?te:Mt,Mi=n.getTimezoneOffset(Qt)-n.getTimezoneOffset(Jt),dr=U(Jt,Qt)+Mi;ft.end?dr*=dn:dr=d,_&&dr<_&&(dr=_),dr=Math.floor(dr);for(var zo=nT(oe,ei,ei+dr),ui=0;zo.some(function(wd){return wd.left===ui});)ui+=c;var oa={event:ft,height:dr,width:c,top:ei,left:ui,startsBeforeDay:gt,endsAfterDay:_t};return oe.push(oa),oa}),Xe=Math.max.apply(Math,Ie.map(function(ft){return ft.left+ft.width})),pt=G0(n,{events:e.filter(function(ft){return ft.allDay}),periodStart:M(re),periodEnd:V(te)});return{events:Ie,width:Xe,allDayEvents:pt,period:{events:pe,start:re,end:te}}}(n,{events:e,viewDate:Ie.date,hourSegments:r,dayStart:o,dayEnd:c,segmentHeight:x,eventWidth:1,hourDuration:s,minimumEventHeight:N}),pt=V.map(function(Mt){var gt=Mt.segments.map(function(_t){var dn=te(re(Ie.date,oe(_t.date)),pe(_t.date));return Ol(Ol({},_t),{date:dn})});return Ol(Ol({},Mt),{segments:gt})});function ft(Mt,gt){var _t=Math.max.apply(Math,gt.map(function(ei){return ei.left+1})),dn=Mt.filter(function(ei){return ei.left>=_t}).filter(function(ei){return nT(gt,ei.top,ei.top+ei.height).length>0});return dn.length>0?ft(Mt,dn):_t}var Dt=Xe.events.map(function(Mt){var _t=100/ft(Xe.events,nT(Xe.events,Mt.top,Mt.top+Mt.height));return Ol(Ol({},Mt),{left:Mt.left*_t,width:_t})});return{hours:pt,date:Ie.date,events:Dt.map(function(Mt){var gt=nT(Dt.filter(function(_t){return _t.left>Mt.left}),Mt.top,Mt.top+Mt.height);return gt.length>0?Ol(Ol({},Mt),{width:Math.min.apply(Math,gt.map(function(_t){return _t.left}))-Mt.left}):Mt})}})}function nT(n,t,e){return n.filter(function(i){var r=i.top,s=i.top+i.height;return t<s&&s<e||t<r&&r<e||r<=t&&e<=s})}function iT(n){return Math.max(Math.min(23,n),0)}function rT(n){return Math.max(Math.min(59,n),0)}var Xm=function(n){return n.NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",n}(Xm||{});function zF(n,t){return n=function $Ae(n,t){return typeof n>"u"?typeof t>"u"?n:t:n}(n,t),"function"==typeof n?function(){for(var i=arguments,r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=i[o];return!!n.apply(this,s)}:n?function(){return!0}:function(){return!1}}var HF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},Q7=function(n){return null!=n&&"object"===(typeof n>"u"?"undefined":HF(n))&&1===n.nodeType&&"object"===HF(n.style)&&"object"===HF(n.ownerDocument)};function J7(n,t){if(t=jF(t,!0),!Q7(t))return-1;for(var e=0;e<n.length;e++)if(n[e]===t)return e;return-1}function UF(n,t){return-1!==J7(n,t)}function qAe(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return function YAe(n,t){for(var e=0;e<t.length;e++)UF(n,t[e])||n.push(t[e]);return t}(n,e=e.map(jF))}function XAe(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return e.map(jF).reduce(function(r,s){var o=J7(n,s);return-1!==o?r.concat(n.splice(o,1)):r},[])}function jF(n,t){if("string"==typeof n)try{return document.querySelector(n)}catch(e){throw e}if(!Q7(n)&&!t)throw new TypeError(n+" is not a DOM element.");return n}function eZ(n){if(n===window)return function KAe(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var t={};return Object.defineProperties(t,n),t}();try{var t=n.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}var t,WF=void 0;"function"!=typeof Object.create?(t=function(){},WF=function(e,i){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");t.prototype=e||{};var r=new t;return t.prototype=null,void 0!==i&&Object.defineProperties(r,i),null===e&&(r.__proto__=null),r}):WF=Object.create;var JAe=WF,If=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function GF(n,t){t=t||{};for(var e=JAe(n),i=0;i<If.length;i++)void 0!==t[If[i]]&&(e[If[i]]=t[If[i]]);return e}function $F(n,t){console.log("data ",t),n.data=t||{},n.dispatched="mousemove"}var $0=["webkit","moz","ms","o"],Y0=function(){if(typeof window>"u")return function(){};for(var n=0,t=$0.length;n<t&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[$0[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(i){var r=(new Date).getTime(),s=Math.max(0,16-r-e),o=window.setTimeout(function(){return i(r+s)},s);return e=r+s,o}}return window.requestAnimationFrame.bind(window)}(),Zm=function(){if(typeof window>"u")return function(){};for(var n=0,t=$0.length;n<t&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[$0[n]+"CancelAnimationFrame"]||window[$0[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function tke(n,t){void 0===t&&(t={});var e=this,i=4,r=!1;if("object"!=typeof t.margin){var s=t.margin||-1;this.margin={left:s,right:s,top:s,bottom:s}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var o={},c=function ZAe(n,t){var e=zF((t=t||{}).allowUpdate,!0);return function(r){if(r=r||window.event,n.target=r.target||r.srcElement||r.originalTarget,n.element=this,n.type=r.type,e(r)){if(r.targetTouches)n.x=r.targetTouches[0].clientX,n.y=r.targetTouches[0].clientY,n.pageX=r.targetTouches[0].pageX,n.pageY=r.targetTouches[0].pageY,n.screenX=r.targetTouches[0].screenX,n.screenY=r.targetTouches[0].screenY;else{if(null===r.pageX&&null!==r.clientX){var s=r.target&&r.target.ownerDocument||document,o=s.documentElement,c=s.body;n.pageX=r.clientX+(o&&o.scrollLeft||c&&c.scrollLeft||0)-(o&&o.clientLeft||c&&c.clientLeft||0),n.pageY=r.clientY+(o&&o.scrollTop||c&&c.scrollTop||0)-(o&&o.clientTop||c&&c.clientTop||0)}else n.pageX=r.pageX,n.pageY=r.pageY;n.x=r.clientX,n.y=r.clientY,n.screenX=r.screenX,n.screenY=r.screenY}n.clientX=n.x,n.clientY=n.y}}}(o),d=function eke(n){var t={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function e(s){for(var o=0;o<If.length;o++)t[If[o]]=s[If[o]]}return void 0!==n&&n.addEventListener("mousemove",e),{destroy:function r(){n&&n.removeEventListener("mousemove",e,!1),t=null},dispatch:MouseEvent?function(o,c,d){var f=new MouseEvent("mousemove",GF(t,c));return $F(f,d),o.dispatchEvent(f)}:"function"==typeof document.createEvent?function(o,c,d){var f=GF(t,c),_=document.createEvent("MouseEvents");return _.initMouseEvent("mousemove",!0,!0,window,0,f.screenX,f.screenY,f.clientX,f.clientY,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget),$F(_,d),o.dispatchEvent(_)}:"function"==typeof document.createEventObject?function(o,c,d){var f=document.createEventObject(),_=GF(t,c);for(var x in _)f[x]=_[x];return $F(f,d),o.dispatchEvent(f)}:void 0}}(),f=!1;window.addEventListener("mousemove",c,!1),window.addEventListener("touchmove",c,!1),isNaN(t.maxSpeed)||(i=t.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=zF(t.autoScroll),this.syncMove=zF(t.syncMove,!1),this.destroy=function(gt){window.removeEventListener("mousemove",c,!1),window.removeEventListener("touchmove",c,!1),window.removeEventListener("mousedown",V,!1),window.removeEventListener("touchstart",V,!1),window.removeEventListener("mouseup",U,!1),window.removeEventListener("touchend",U,!1),window.removeEventListener("pointerup",U,!1),window.removeEventListener("mouseleave",te,!1),window.removeEventListener("mousemove",Ie,!1),window.removeEventListener("touchmove",Ie,!1),window.removeEventListener("scroll",N,!0),n=[],gt&&re()},this.add=function(){for(var gt=[],_t=arguments.length;_t--;)gt[_t]=arguments[_t];return qAe.apply(void 0,[n].concat(gt)),this},this.remove=function(){for(var gt=[],_t=arguments.length;_t--;)gt[_t]=arguments[_t];return XAe.apply(void 0,[n].concat(gt))};var x,gt,_=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),gt=n,n=[],gt.forEach(function(_t){_t===window?_=window:e.add(_t)}),Object.defineProperties(this,{down:{get:function(){return f}},maxSpeed:{get:function(){return i}},point:{get:function(){return o}},scrolling:{get:function(){return r}}});var M,T=null;function N(gt){for(var _t=0;_t<n.length;_t++)if(n[_t]===gt.target){r=!0;break}r&&Y0(function(){return r=!1})}function V(){f=!0}function U(){f=!1,re()}function re(){Zm(M),Zm(x)}function te(){f=!1}function pe(){for(var gt=null,_t=0;_t<n.length;_t++)tZ(o,n[_t])&&(gt=n[_t]);return gt}function Ie(gt){if(e.autoScroll()&&!gt.dispatched){var _t=gt.target,dn=document.body;T&&!tZ(o,T)&&(e.scrollWhenOutside||(T=null)),_t&&_t.parentNode===dn?_t=pe():(_t=function oe(gt){if(!gt)return null;if(T===gt||UF(n,gt))return gt;for(;gt=gt.parentNode;)if(UF(n,gt))return gt;return null}(_t),_t||(_t=pe())),_t&&_t!==T&&(T=_t),_&&(Zm(x),x=Y0(Xe)),T&&(Zm(M),M=Y0(pt))}}function Xe(){ft(_),Zm(x),x=Y0(Xe)}function pt(){T&&(ft(T),Zm(M),M=Y0(pt))}function ft(gt){var dn,ei,_t=eZ(gt);dn=o.x<_t.left+e.margin.left?Math.floor(Math.max(-1,(o.x-_t.left)/e.margin.left-1)*e.maxSpeed.left):o.x>_t.right-e.margin.right?Math.ceil(Math.min(1,(o.x-_t.right)/e.margin.right+1)*e.maxSpeed.right):0,ei=o.y<_t.top+e.margin.top?Math.floor(Math.max(-1,(o.y-_t.top)/e.margin.top-1)*e.maxSpeed.top):o.y>_t.bottom-e.margin.bottom?Math.ceil(Math.min(1,(o.y-_t.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):0,e.syncMove()&&d.dispatch(gt,{pageX:o.pageX+dn,pageY:o.pageY+ei,clientX:o.x+dn,clientY:o.y+ei}),setTimeout(function(){ei&&function Dt(gt,_t){gt===window?window.scrollTo(gt.pageXOffset,gt.pageYOffset+_t):gt.scrollTop+=_t}(gt,ei),dn&&function Mt(gt,_t){gt===window?window.scrollTo(gt.pageXOffset+_t,gt.pageYOffset):gt.scrollLeft+=_t}(gt,dn)})}window.addEventListener("mousedown",V,!1),window.addEventListener("touchstart",V,!1),window.addEventListener("mouseup",U,!1),window.addEventListener("touchend",U,!1),window.addEventListener("pointerup",U,!1),window.addEventListener("mousemove",Ie,!1),window.addEventListener("touchmove",Ie,!1),window.addEventListener("mouseleave",te,!1),window.addEventListener("scroll",N,!0)}function tZ(n,t,e){return e?n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right:function QAe(n,t){var e=eZ(t);return n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right}(n,t)}function YF(n,t,e){e&&e.split(" ").forEach(i=>n.addClass(t.nativeElement,i))}function sT(n,t,e){e&&e.split(" ").forEach(i=>n.removeClass(t.nativeElement,i))}let nZ=(()=>{class n{constructor(){this.currentDrag=new he}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iZ=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(B(zt))},n.\u0275dir=je({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),qF=(()=>{class n{constructor(e,i,r,s,o,c,d){this.element=e,this.renderer=i,this.draggableHelper=r,this.zone=s,this.vcr=o,this.scrollContainer=c,this.document=d,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new Ve,this.dragStart=new Ve,this.ghostElementCreated=new Ve,this.dragging=new Ve,this.dragEnd=new Ve,this.pointerDown$=new he,this.pointerMove$=new he,this.pointerUp$=new he,this.eventListenerSubscriptions={},this.destroy$=new he,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(Dn(()=>this.canDrag()),An(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();const r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(r)});const s=this.getScrollPosition(),o=new Ht(M=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",V=>M.next(V))).pipe(ko(s),$e(()=>this.getScrollPosition())),c=new he,d=new q3;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const f=J(this.pointerUp$,this.pointerDown$,d,this.destroy$).pipe(He()),_=Ka([this.pointerMove$,o]).pipe($e(([M,N])=>({currentDrag$:c,transformX:M.clientX-i.clientX,transformY:M.clientY-i.clientY,clientX:M.clientX,clientY:M.clientY,scrollLeft:N.left,scrollTop:N.top,target:M.event.target})),$e(M=>(this.dragSnapGrid.x&&(M.transformX=Math.round(M.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(M.transformY=Math.round(M.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),M)),$e(M=>(this.dragAxis.x||(M.transformX=0),this.dragAxis.y||(M.transformY=0),M)),$e(M=>{const N=M.scrollLeft-s.left,V=M.scrollTop-s.top;return{...M,x:M.transformX+N,y:M.transformY+V}}),Dn(({x:M,y:N,transformX:V,transformY:U})=>!this.validateDrag||this.validateDrag({x:M,y:N,transform:{x:V,y:U}})),$t(f),He()),x=_.pipe(Vn(1),He()),T=_.pipe(QD(1),He());return x.subscribe(({clientX:M,clientY:N,x:V,y:U})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:d})}),this.scroller=function nke(n,t){return new tke(n,t)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],{...this.autoScroll,autoScroll:()=>!0}),YF(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const re=this.element.nativeElement.getBoundingClientRect(),te=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(te):this.element.nativeElement.parentNode.insertBefore(te,this.element.nativeElement.nextSibling),this.ghostElement=te,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(te,{position:"fixed",top:`${re.top}px`,left:`${re.left}px`,width:`${re.width}px`,height:`${re.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const oe=this.vcr.createEmbeddedView(this.ghostElementTemplate);te.innerHTML="",oe.rootNodes.filter(pe=>pe instanceof Node).forEach(pe=>{te.appendChild(pe)}),T.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(oe))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:M-V,clientY:N-U,element:te})}),T.subscribe(()=>{te.parentElement.removeChild(te),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(c)}),T.pipe(An(M=>{const N=d.pipe(function GAe(n){return function WAe(n,t){return We(Z3(n,t,arguments.length>=2,!1,!0))}((t,e,i)=>!n||n(e,i)?t+1:t,0)}(),Vn(1),$e(V=>({...M,dragCancelled:V>0})));return d.complete(),N})).subscribe(({x:M,y:N,dragCancelled:V})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:M,y:N,dragCancelled:V})}),sT(this.renderer,this.element,this.dragActiveClass),c.complete()}),J(f,T).pipe(Vn(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),_}),He());J(e.pipe(Vn(1),$e(i=>[,i])),e.pipe(Rg())).pipe(Dn(([i,r])=>!i||i.x!==r.x||i.y!==r.y),$e(([i,r])=>r)).subscribe(({x:i,y:r,currentDrag$:s,clientX:o,clientY:c,transformX:d,transformY:f,target:_})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:i,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){const x=`translate3d(${d}px, ${f}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:x,"-webkit-transform":x,"-ms-transform":x,"-moz-transform":x,"-o-transform":x})}}),s.next({clientX:o,clientY:c,dropData:this.dropData,target:_})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;e&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&i&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let i,r,s;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,s=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const o=Kr(this.document,"contextmenu").subscribe(d=>{d.preventDefault()}),c=Kr(this.document,"touchmove",{passive:!1}).subscribe(d=>{this.touchStartLongPress&&!r&&s&&(r=this.shouldBeginDrag(e,d,i)),(!this.touchStartLongPress||!s||r)&&(d.preventDefault(),this.pointerMove$.next({event:d,clientX:d.targetTouches[0].clientX,clientY:d.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{o.unsubscribe(),c.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,i){Object.keys(i).forEach(r=>{this.renderer.setStyle(e,r,i[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,i,r){const s=this.getScrollPosition(),o_top=Math.abs(s.top-r.top),o_left=Math.abs(s.left-r.left),c=Math.abs(i.targetTouches[0].clientX-e.touches[0].clientX)-o_left,d=Math.abs(i.targetTouches[0].clientY-e.touches[0].clientY)-o_top,_=this.touchStartLongPress;return(c+d>_.delta||o_top>0||o_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=_.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(B(zt),B(Gr),B(nZ),B(lt),B(Ds),B(iZ,8),B(on))},n.\u0275dir=je({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[Mn]}),n})();function rZ(n,t,e){return n>=e.left&&n<=e.right&&t>=e.top&&t<=e.bottom}let XF=(()=>{class n{constructor(e,i,r,s,o){this.element=e,this.draggableHelper=i,this.zone=r,this.renderer=s,this.scrollContainer=o,this.dragEnter=new Ve,this.dragLeave=new Ve,this.dragOver=new Ve,this.drop=new Ve}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{YF(this.renderer,this.element,this.dragActiveClass);const i={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0});let s;const o=e.pipe($e(({clientX:f,clientY:_,dropData:x,target:T})=>{s={clientX:f,clientY:_,dropData:x,target:T},i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);const M=rZ(f,_,i.rect),N=!this.validateDrop||this.validateDrop({clientX:f,clientY:_,target:T,dropData:x});return i.scrollContainerRect?M&&N&&rZ(f,_,i.scrollContainerRect):M&&N})),c=o.pipe(en());let d;c.pipe(Dn(f=>f)).subscribe(()=>{d=!0,YF(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(s)})}),o.pipe(Dn(f=>f)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(s)})}),c.pipe(Rg(),Dn(([f,_])=>f&&!_)).subscribe(()=>{d=!1,sT(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(s)})}),e.subscribe({complete:()=>{r(),sT(this.renderer,this.element,this.dragActiveClass),d&&(sT(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(s)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(B(zt),B(nZ),B(lt),B(Gr),B(iZ,8))},n.\u0275dir=je({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),oT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=St({type:n}),n.\u0275inj=Se({}),n})();const Sf=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function sZ(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let o=0;o<r.length;o++)i(r[o],s[o])}}let ske=0;function oZ(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${ske++}`)}function aZ(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function lZ(n,t,e,i){const r={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return t.top&&(r.top+=i),t.bottom&&(r.bottom+=i),t.left&&(r.left+=e),t.right&&(r.right+=e),r.height=r.bottom-r.top,r.width=r.right-r.left,r}const cZ=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function dZ(n,t){return n.left&&n.top?t.topLeft:n.right&&n.top?t.topRight:n.left&&n.bottom?t.bottomLeft:n.right&&n.bottom?t.bottomRight:n.left||n.right?t.leftOrRight:n.top||n.bottom?t.topOrBottom:""}function aT({edges:n,initialRectangle:t,newRectangle:e}){const i={};return Object.keys(n).forEach(r=>{i[r]=(e[r]||0)-(t[r]||0)}),i}const uZ="resize-active";let hZ=(()=>{class n{constructor(e,i,r,s){this.platformId=e,this.renderer=i,this.elm=r,this.zone=s,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=cZ,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new Ve,this.resizing=new Ve,this.resizeEnd=new Ve,this.mouseup=new he,this.mousedown=new he,this.mousemove=new he,this.destroy$=new he,this.pointerEventListeners=Km.getInstance(i,s)}ngOnInit(){const e=J(this.pointerEventListeners.pointerDown,this.mousedown),i=J(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Lr(({event:f})=>{s&&f.cancelable&&f.preventDefault()}),He()),r=J(this.pointerEventListeners.pointerUp,this.mouseup);let s;const o=()=>{s&&s.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},c=()=>({...cZ,...this.resizeCursors});e.pipe(An(f=>{function _(M){return{clientX:M.clientX-f.clientX,clientY:M.clientY-f.clientY}}const x=()=>{const M={x:1,y:1};return s&&(this.resizeSnapGrid.left&&s.edges.left?M.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&s.edges.right&&(M.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&s.edges.top?M.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&s.edges.bottom&&(M.y=+this.resizeSnapGrid.bottom)),M};function T(M,N){return{x:Math.ceil(M.clientX/N.x),y:Math.ceil(M.clientY/N.y)}}return J(i.pipe(Vn(1)).pipe($e(M=>[,M])),i.pipe(Rg())).pipe($e(([M,N])=>[M&&_(M),_(N)])).pipe(Dn(([M,N])=>{if(!M)return!0;const V=x(),U=T(M,V),re=T(N,V);return U.x!==re.x||U.y!==re.y})).pipe($e(([,M])=>{const N=x();return{clientX:Math.round(M.clientX/N.x)*N.x,clientY:Math.round(M.clientY/N.y)*N.y}})).pipe($t(J(r,e)))})).pipe(Dn(()=>!!s)).pipe($e(({clientX:f,clientY:_})=>lZ(s.startingRect,s.edges,f,_))).pipe(Dn(f=>this.allowNegativeResizes||!!(f.height&&f.width&&f.height>0&&f.width>0))).pipe(Dn(f=>!this.validateResize||this.validateResize({rectangle:f,edges:aT({edges:s.edges,initialRectangle:s.startingRect,newRectangle:f})})),$t(this.destroy$)).subscribe(f=>{s&&s.clonedNode&&(this.renderer.setStyle(s.clonedNode,"height",`${f.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${f.width}px`),this.renderer.setStyle(s.clonedNode,"top",`${f.top}px`),this.renderer.setStyle(s.clonedNode,"left",`${f.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:aT({edges:s.edges,initialRectangle:s.startingRect,newRectangle:f}),rectangle:f})}),s.currentRect=f}),e.pipe($e(({edges:f})=>f||{}),Dn(f=>Object.keys(f).length>0),$t(this.destroy$)).subscribe(f=>{s&&o();const _=function oke(n,t){let e=0,i=0;const r=n.nativeElement.style,o=["transform","-ms-transform","-moz-transform","-o-transform"].map(c=>r[c]).find(c=>!!c);if(o&&o.includes("translate")&&(e=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-i,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-i,left:n.nativeElement.offsetLeft-e,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-e};{const c=n.nativeElement.getBoundingClientRect();return{height:c.height,width:c.width,top:c.top-i,bottom:c.bottom-i,left:c.left-e,right:c.right-e,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);s={edges:f,startingRect:_,currentRect:_};const x=c(),T=dZ(s.edges,x);this.renderer.setStyle(document.body,"cursor",T),this.setElementClass(this.elm,uZ,!0),this.enableGhostResize&&(s.clonedNode=function rke(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();return t.removeAttribute("id"),e.forEach(r=>{r.removeAttribute("id")}),"canvas"===i?aZ(n,t):("input"===i||"select"===i||"textarea"===i)&&oZ(n,t),sZ("canvas",n,t,aZ),sZ("input, textarea, select",n,t,oZ),t}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(s.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(s.clonedNode,"left",`${s.startingRect.left}px`),this.renderer.setStyle(s.clonedNode,"top",`${s.startingRect.top}px`),this.renderer.setStyle(s.clonedNode,"height",`${s.startingRect.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${s.startingRect.width}px`),this.renderer.setStyle(s.clonedNode,"cursor",dZ(s.edges,x)),this.renderer.addClass(s.clonedNode,"resize-ghost-element"),s.clonedNode.scrollTop=s.startingRect.scrollTop,s.clonedNode.scrollLeft=s.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:aT({edges:f,initialRectangle:_,newRectangle:_}),rectangle:lZ(_,{},0,0)})})}),r.pipe($t(this.destroy$)).subscribe(()=>{s&&(this.renderer.removeClass(this.elm.nativeElement,uZ),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:aT({edges:s.edges,initialRectangle:s.startingRect,newRectangle:s.currentRect}),rectangle:s.currentRect})}),o(),s=null)})}ngOnDestroy(){ck(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,i,r){r?this.renderer.addClass(e.nativeElement,i):this.renderer.removeClass(e.nativeElement,i)}}return n.\u0275fac=function(e){return new(e||n)(B(wo),B(Gr),B(zt),B(lt))},n.\u0275dir=je({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class Km{constructor(t,e){this.pointerDown=new Ht(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousedown",o=>{i.next({clientX:o.clientX,clientY:o.clientY,event:o})}),Sf&&(s=t.listen("document","touchstart",o=>{i.next({clientX:o.touches[0].clientX,clientY:o.touches[0].clientY,event:o})}))}),()=>{r(),Sf&&s()}}).pipe(He()),this.pointerMove=new Ht(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousemove",o=>{i.next({clientX:o.clientX,clientY:o.clientY,event:o})}),Sf&&(s=t.listen("document","touchmove",o=>{i.next({clientX:o.targetTouches[0].clientX,clientY:o.targetTouches[0].clientY,event:o})}))}),()=>{r(),Sf&&s()}}).pipe(He()),this.pointerUp=new Ht(i=>{let r,s,o;return e.runOutsideAngular(()=>{r=t.listen("document","mouseup",c=>{i.next({clientX:c.clientX,clientY:c.clientY,event:c})}),Sf&&(s=t.listen("document","touchend",c=>{i.next({clientX:c.changedTouches[0].clientX,clientY:c.changedTouches[0].clientY,event:c})}),o=t.listen("document","touchcancel",c=>{i.next({clientX:c.changedTouches[0].clientX,clientY:c.changedTouches[0].clientY,event:c})}))}),()=>{r(),Sf&&(s(),o())}}).pipe(He())}static getInstance(t,e){return Km.instance||(Km.instance=new Km(t,e)),Km.instance}}let cke=(()=>{class n{constructor(e,i,r,s){this.renderer=e,this.element=i,this.zone=r,this.resizableDirective=s,this.resizeEdges={},this.eventListeners={},this.destroy$=new he}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),Sf&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),J(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,i,r){e.cancelable&&e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",s=>{this.onMousemove(s,s.targetTouches[0].clientX,s.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",s=>{this.onMousemove(s,s.clientX,s.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:r,edges:this.resizeEdges})}onMouseup(e,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,i,r){this.resizable.mousemove.next({clientX:i,clientY:r,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return Kr(this.element.nativeElement,e).pipe($t(this.destroy$))}}return n.\u0275fac=function(e){return new(e||n)(B(Gr),B(zt),B(lt),B(hZ,8))},n.\u0275dir=je({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),fZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=St({type:n}),n.\u0275inj=Se({}),n})();const dke=function(n){return{action:n}};function uke(n,t){if(1&n){const e=rn();q(0,"a",5),Fe("mwlClick",function(r){const o=ut(e).$implicit,c=ve(2).event;return ot(o.onClick({event:c,sourceEvent:r}))})("mwlKeydownEnter",function(r){const o=ut(e).$implicit,c=ve(2).event;return ot(o.onClick({event:c,sourceEvent:r}))}),Vt(1,"calendarA11y"),Q()}if(2&n){const e=t.$implicit;se("ngClass",e.cssClass)("innerHtml",e.label,mh),Rt("aria-label",Io(1,3,pl(6,dke,e),"actionButtonLabel"))}}function hke(n,t){if(1&n&&(q(0,"span",3),xe(1,uke,2,8,"a",4),Q()),2&n){const e=ve(),i=e.event,r=e.trackByActionId;ee(1),se("ngForOf",i.actions)("ngForTrackBy",r)}}function fke(n,t){1&n&&xe(0,hke,2,2,"span",2),2&n&&se("ngIf",t.event.actions)}function pke(n,t){}const gke=function(n,t){return{event:n,trackByActionId:t}},Qm=function(){return{}};function mke(n,t){if(1&n&&(Qe(0,"span",2),Vt(1,"calendarEventTitle"),Vt(2,"calendarA11y")),2&n){const e=t.event;se("innerHTML",gl(1,2,e.title,t.view,e),mh),Rt("aria-hidden",Io(2,6,To(9,Qm),"hideEventTitle"))}}function _ke(n,t){}const vke=function(n,t){return{event:n,view:t}};function yke(n,t){if(1&n&&(q(0,"div",2),Qe(1,"div",3)(2,"div",4),Q()),2&n){const e=t.contents;se("ngClass","cal-tooltip-"+t.placement),ee(2),se("innerHtml",e,mh)}}function bke(n,t){}const xke=function(n,t,e){return{contents:n,placement:t,event:e}};function wke(n,t){if(1&n&&(q(0,"span",7),De(1),Q()),2&n){const e=ve().day;ee(1),ln(e.badgeTotal)}}const ZF=function(n){return{backgroundColor:n}},Cke=function(n,t){return{event:n,draggedFrom:t}},q0=function(n,t){return{x:n,y:t}},lT=function(){return{delay:300,delta:30}};function Eke(n,t){if(1&n){const e=rn();q(0,"div",10),Fe("mouseenter",function(){const s=ut(e).$implicit;return ot(ve(2).highlightDay.emit({event:s}))})("mouseleave",function(){const s=ut(e).$implicit;return ot(ve(2).unhighlightDay.emit({event:s}))})("mwlClick",function(r){const o=ut(e).$implicit;return ot(ve(2).eventClicked.emit({event:o,sourceEvent:r}))}),Vt(1,"calendarEventTitle"),Vt(2,"calendarA11y"),Q()}if(2&n){const e=t.$implicit,i=ve(2),r=i.tooltipPlacement,s=i.tooltipTemplate,o=i.tooltipAppendToBody,c=i.tooltipDelay,d=i.day,f=i.validateDrag;Nt("cal-draggable",e.draggable),se("ngStyle",pl(22,ZF,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",gl(1,15,e.title,"monthTooltip",e))("tooltipPlacement",r)("tooltipEvent",e)("tooltipTemplate",s)("tooltipAppendToBody",o)("tooltipDelay",c)("dropData",$r(24,Cke,e,d))("dragAxis",$r(27,q0,e.draggable,e.draggable))("validateDrag",f)("touchStartLongPress",To(30,lT)),Rt("aria-hidden",Io(2,19,To(31,Qm),"hideMonthCellEvents"))}}function Dke(n,t){if(1&n&&(q(0,"div",8),xe(1,Eke,3,32,"div",9),Q()),2&n){const e=ve(),i=e.day,r=e.trackByEventId;ee(1),se("ngForOf",i.events)("ngForTrackBy",r)}}const Tke=function(n,t){return{day:n,locale:t}};function Ike(n,t){if(1&n&&(q(0,"div",2),Vt(1,"calendarA11y"),q(2,"span",3),xe(3,wke,2,1,"span",4),q(4,"span",5),De(5),Vt(6,"calendarDate"),Q()()(),xe(7,Dke,2,2,"div",6)),2&n){const e=t.day,i=t.locale;Rt("aria-label",Io(1,4,$r(11,Tke,e,i),"monthCell")),ee(3),se("ngIf",e.badgeTotal>0),ee(2),ln(gl(6,7,e.date,"monthViewDayNumber",i)),ee(2),se("ngIf",e.events.length>0)}}function Ske(n,t){}const Ake=function(n,t,e,i,r,s,o,c,d,f,_,x){return{day:n,openDay:t,locale:e,tooltipPlacement:i,highlightDay:r,unhighlightDay:s,eventClicked:o,tooltipTemplate:c,tooltipAppendToBody:d,tooltipDelay:f,trackByEventId:_,validateDrag:x}},kke=function(n){return{event:n}},pZ=function(n,t){return{event:n,locale:t}};function Mke(n,t){if(1&n){const e=rn();q(0,"div",7),Qe(1,"span",8),De(2," "),q(3,"mwl-calendar-event-title",9),Fe("mwlClick",function(r){const o=ut(e).$implicit;return ot(ve(2).eventClicked.emit({event:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){const o=ut(e).$implicit;return ot(ve(2).eventClicked.emit({event:o,sourceEvent:r}))}),Vt(4,"calendarA11y"),Q(),De(5," "),Qe(6,"mwl-calendar-event-actions",10),Q()}if(2&n){const e=t.$implicit,i=ve(2).validateDrag,r=ve();Nt("cal-draggable",e.draggable),se("ngClass",null==e?null:e.cssClass)("dropData",pl(16,kke,e))("dragAxis",$r(18,q0,e.draggable,e.draggable))("validateDrag",i)("touchStartLongPress",To(21,lT)),ee(1),se("ngStyle",pl(22,ZF,null==e.color?null:e.color.primary)),ee(2),se("event",e)("customTemplate",r.eventTitleTemplate),Rt("aria-label",Io(4,13,$r(24,pZ,e,r.locale),"eventDescription")),ee(3),se("event",e)("customTemplate",r.eventActionsTemplate)}}const gZ=function(n,t){return{date:n,locale:t}};function Rke(n,t){if(1&n&&(q(0,"div",3),Qe(1,"span",4),Vt(2,"calendarA11y"),Qe(3,"span",5),Vt(4,"calendarA11y"),xe(5,Mke,7,27,"div",6),Q()),2&n){const e=ve(),i=e.events,r=e.trackByEventId,s=ve();se("@collapse",void 0),ee(1),Rt("aria-label",Io(2,5,$r(11,gZ,s.date,s.locale),"openDayEventsAlert")),ee(2),Rt("aria-label",Io(4,8,$r(14,gZ,s.date,s.locale),"openDayEventsLandmark")),ee(2),se("ngForOf",i)("ngForTrackBy",r)}}function Oke(n,t){1&n&&xe(0,Rke,6,17,"div",2),2&n&&se("ngIf",t.isOpen)}function Pke(n,t){}const Nke=function(n,t,e,i,r){return{events:n,eventClicked:t,isOpen:e,trackByEventId:i,validateDrag:r}};function Fke(n,t){if(1&n){const e=rn();q(0,"div",4),Fe("click",function(r){const o=ut(e).$implicit;return ot(ve(2).columnHeaderClicked.emit({isoDayNumber:o.day,sourceEvent:r}))}),De(1),Vt(2,"calendarDate"),Q()}if(2&n){const e=t.$implicit,i=ve().locale;Nt("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),se("ngClass",e.cssClass),ee(1),Cn(" ",gl(2,10,e.date,"monthViewColumnHeader",i)," ")}}function Lke(n,t){if(1&n&&(q(0,"div",2),xe(1,Fke,3,14,"div",3),Q()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;ee(1),se("ngForOf",e)("ngForTrackBy",i)}}function Vke(n,t){}const Bke=function(n,t,e){return{days:n,locale:t,trackByWeekDayHeaderDate:e}};function zke(n,t){if(1&n){const e=rn();q(0,"mwl-calendar-month-cell",7),Fe("mwlClick",function(r){const o=ut(e).$implicit;return ot(ve(2).dayClicked.emit({day:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){const o=ut(e).$implicit;return ot(ve(2).dayClicked.emit({day:o,sourceEvent:r}))})("highlightDay",function(r){return ut(e),ot(ve(2).toggleDayHighlight(r.event,!0))})("unhighlightDay",function(r){return ut(e),ot(ve(2).toggleDayHighlight(r.event,!1))})("drop",function(r){const o=ut(e).$implicit;return ot(ve(2).eventDropped(o,r.dropData.event,r.dropData.draggedFrom))})("eventClicked",function(r){return ut(e),ot(ve(2).eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))}),Vt(1,"calendarA11y"),Q()}if(2&n){const e=t.$implicit,i=ve(2);se("ngClass",null==e?null:e.cssClass)("day",e)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",pl(15,ZF,e.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),Rt("tabindex",Io(1,12,To(17,Qm),"monthCellTabIndex"))}}function Hke(n,t){if(1&n){const e=rn();q(0,"div")(1,"div",4),xe(2,zke,2,18,"mwl-calendar-month-cell",5),Vt(3,"slice"),Q(),q(4,"mwl-calendar-open-day-events",6),Fe("eventClicked",function(r){return ut(e),ot(ve().eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))})("drop",function(r){ut(e);const s=ve();return ot(s.eventDropped(s.openDay,r.dropData.event,r.dropData.draggedFrom))}),Q()()}if(2&n){const e=t.$implicit,i=ve();ee(2),se("ngForOf",gl(3,9,i.view.days,e,e+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),ee(2),se("locale",i.locale)("isOpen",i.openRowIndex===e)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function Uke(n,t){if(1&n){const e=rn();q(0,"div",4),Fe("mwlClick",function(r){const o=ut(e).$implicit;return ot(ve().dayHeaderClicked.emit({day:o,sourceEvent:r}))})("drop",function(r){const o=ut(e).$implicit;return ot(ve().eventDropped.emit({event:r.dropData.event,newStart:o.date}))})("dragEnter",function(){const s=ut(e).$implicit;return ot(ve().dragEnter.emit({date:s.date}))}),q(1,"b"),De(2),Vt(3,"calendarDate"),Q(),Qe(4,"br"),q(5,"span"),De(6),Vt(7,"calendarDate"),Q()()}if(2&n){const e=t.$implicit,i=ve().locale;Nt("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),se("ngClass",e.cssClass),ee(2),ln(gl(3,11,e.date,"weekViewColumnHeader",i)),ee(4),ln(gl(7,15,e.date,"weekViewColumnSubHeader",i))}}function jke(n,t){if(1&n&&(q(0,"div",2),xe(1,Uke,8,19,"div",3),Q()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;ee(1),se("ngForOf",e)("ngForTrackBy",i)}}function Wke(n,t){}const Gke=function(n,t,e,i,r,s){return{days:n,locale:t,dayHeaderClicked:e,eventDropped:i,dragEnter:r,trackByWeekDayHeaderDate:s}},$ke=function(n,t,e){return{color:n,backgroundColor:t,borderColor:e}};function Yke(n,t){if(1&n){const e=rn();q(0,"div",2),Fe("mwlClick",function(r){return ot(ut(e).eventClicked.emit({sourceEvent:r}))})("mwlKeydownEnter",function(r){return ot(ut(e).eventClicked.emit({sourceEvent:r}))}),Vt(1,"calendarEventTitle"),Vt(2,"calendarA11y"),Qe(3,"mwl-calendar-event-actions",3),De(4," "),Qe(5,"mwl-calendar-event-title",4),Q()}if(2&n){const e=t.weekEvent,i=t.tooltipPlacement,r=t.tooltipTemplate,s=t.tooltipAppendToBody,o=t.tooltipDisabled,c=t.tooltipDelay,d=t.daysInWeek,f=ve();se("ngStyle",ag(20,$ke,null==e.event.color?null:e.event.color.secondaryText,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",o?"":gl(1,13,e.event.title,1===d?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",i)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",r)("tooltipAppendToBody",s)("tooltipDelay",c),Rt("aria-label",Io(2,17,$r(24,pZ,e.tempEvent||e.event,f.locale),"eventDescription")),ee(3),se("event",e.tempEvent||e.event)("customTemplate",f.eventActionsTemplate),ee(2),se("event",e.tempEvent||e.event)("customTemplate",f.eventTitleTemplate)("view",1===d?"day":"week")}}function qke(n,t){}const Xke=function(n,t,e,i,r,s,o,c,d){return{weekEvent:n,tooltipPlacement:t,eventClicked:e,tooltipTemplate:i,tooltipAppendToBody:r,tooltipDisabled:s,tooltipDelay:o,column:c,daysInWeek:d}};function Zke(n,t){if(1&n&&(q(0,"div",4),De(1),Vt(2,"calendarDate"),Q()),2&n){const e=ve(),i=e.segment,r=e.daysInWeek,s=e.locale;ee(1),Cn(" ",gl(2,1,i.displayDate,1===r?"dayViewHour":"weekViewHour",s)," ")}}function Kke(n,t){if(1&n&&(q(0,"div",2),Vt(1,"calendarA11y"),xe(2,Zke,3,5,"div",3),Q()),2&n){const e=t.segment,r=t.isTimeLabel,s=t.daysInWeek;Nr("height",t.segmentHeight,"px"),Nt("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),se("ngClass",e.cssClass),Rt("aria-hidden",Io(1,9,To(12,Qm),1===s?"hideDayHourSegment":"hideWeekHourSegment")),ee(2),se("ngIf",r)}}function Qke(n,t){}const Jke=function(n,t,e,i,r){return{segment:n,locale:t,segmentHeight:e,isTimeLabel:i,daysInWeek:r}};function eMe(n,t){1&n&&Qe(0,"div",3),2&n&&Nr("top",ve().topPx,"px")}function tMe(n,t){1&n&&xe(0,eMe,1,2,"div",2),2&n&&se("ngIf",t.isVisible)}function nMe(n,t){}const iMe=function(n,t,e,i,r,s,o){return{columnDate:n,dayStartHour:t,dayStartMinute:e,dayEndHour:i,dayEndMinute:r,isVisible:s,topPx:o}};function rMe(n,t){if(1&n){const e=rn();q(0,"div",13),Fe("drop",function(r){const o=ut(e).$implicit;return ot(ve(2).eventDropped(r,o.date,!0))})("dragEnter",function(){const s=ut(e).$implicit;return ot(ve(2).dateDragEnter(s.date))}),Q()}}const sMe=function(){return{left:!0}};function oMe(n,t){1&n&&Qe(0,"div",22),2&n&&se("resizeEdges",To(1,sMe))}const aMe=function(){return{right:!0}};function lMe(n,t){1&n&&Qe(0,"div",23),2&n&&se("resizeEdges",To(1,aMe))}const cMe=function(n,t){return{left:n,right:t}},mZ=function(n,t){return{event:n,calendarId:t}},dMe=function(n){return{x:n}};function uMe(n,t){if(1&n){const e=rn();q(0,"div",17,18),Fe("resizeStart",function(r){const o=ut(e).$implicit;ve();const c=Un(1);return ot(ve(2).allDayEventResizeStarted(c,o,r))})("resizing",function(r){const o=ut(e).$implicit,c=ve(3);return ot(c.allDayEventResizing(o,r,c.dayColumnWidth))})("resizeEnd",function(){const s=ut(e).$implicit;return ot(ve(3).allDayEventResizeEnded(s))})("dragStart",function(){const s=ut(e).$implicit,o=Un(1);ve();const c=Un(1);return ot(ve(2).dragStarted(c,o,s,!1))})("dragging",function(){return ut(e),ot(ve(3).allDayEventDragMove())})("dragEnd",function(r){const o=ut(e).$implicit,c=ve(3);return ot(c.dragEnded(o,r,c.dayColumnWidth))}),xe(2,oMe,1,2,"div",19),q(3,"mwl-calendar-week-view-event",20),Fe("eventClicked",function(r){const o=ut(e).$implicit;return ot(ve(3).eventClicked.emit({event:o.event,sourceEvent:r.sourceEvent}))}),Q(),xe(4,lMe,1,2,"div",21),Q()}if(2&n){const e=t.$implicit,i=ve(3);Nr("width",100/i.days.length*e.span,"%")("margin-left",i.rtl?null:100/i.days.length*e.offset,"%")("margin-right",i.rtl?100/i.days.length*e.offset:null,"%"),Nt("cal-draggable",e.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),se("ngClass",null==e.event?null:e.event.cssClass)("resizeCursors",i.resizeCursors)("resizeSnapGrid",$r(33,cMe,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",$r(36,mZ,e.event,i.calendarId))("dragAxis",$r(39,q0,e.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&e.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?pl(42,dMe,i.dayColumnWidth):To(44,Qm))("validateDrag",i.validateDrag)("touchStartLongPress",To(45,lT)),ee(2),se("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),ee(1),se("locale",i.locale)("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),ee(1),se("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function hMe(n,t){if(1&n&&(q(0,"div",14,15),xe(2,uMe,5,46,"div",16),Q()),2&n){const e=t.$implicit,i=ve(2);ee(2),se("ngForOf",e.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function fMe(n,t){if(1&n){const e=rn();q(0,"div",8,9),Fe("dragEnter",function(){return ut(e),ot(ve().dragEnter("allDay"))})("dragLeave",function(){return ut(e),ot(ve().dragLeave("allDay"))}),q(2,"div",5),Qe(3,"div",10),xe(4,rMe,1,0,"div",11),Q(),xe(5,hMe,3,2,"div",12),Q()}if(2&n){const e=ve();ee(3),se("ngTemplateOutlet",e.allDayEventsLabelTemplate),ee(1),se("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),ee(1),se("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function pMe(n,t){if(1&n&&Qe(0,"mwl-calendar-week-view-hour-segment",28),2&n){const e=t.$implicit,i=ve(3);Nr("height",i.hourSegmentHeight,"px"),se("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function gMe(n,t){if(1&n&&(q(0,"div",26),xe(1,pMe,1,8,"mwl-calendar-week-view-hour-segment",27),Q()),2&n){const e=t.$implicit,i=t.odd,r=ve(2);Nt("cal-hour-odd",i),ee(1),se("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function mMe(n,t){if(1&n&&(q(0,"div",24),xe(1,gMe,2,4,"div",25),Q()),2&n){const e=ve();ee(1),se("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const _Me=function(){return{left:!0,top:!0}};function vMe(n,t){1&n&&Qe(0,"div",22),2&n&&se("resizeEdges",To(1,_Me))}function yMe(n,t){}function bMe(n,t){if(1&n){const e=rn();q(0,"mwl-calendar-week-view-event",36),Fe("eventClicked",function(r){ut(e);const s=ve().$implicit;return ot(ve(2).eventClicked.emit({event:s.event,sourceEvent:r.sourceEvent}))}),Q()}if(2&n){const e=ve().$implicit,i=ve().$implicit,r=ve();se("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",i)("daysInWeek",r.daysInWeek)}}const xMe=function(){return{right:!0,bottom:!0}};function wMe(n,t){1&n&&Qe(0,"div",23),2&n&&se("resizeEdges",To(1,xMe))}const CMe=function(n,t,e,i){return{left:n,right:t,top:e,bottom:i}};function EMe(n,t){if(1&n){const e=rn();q(0,"div",33,18),Fe("resizeStart",function(r){const o=ut(e).$implicit,c=ve(2),d=Un(6);return ot(c.timeEventResizeStarted(d,o,r))})("resizing",function(r){const o=ut(e).$implicit;return ot(ve(2).timeEventResizing(o,r))})("resizeEnd",function(){const s=ut(e).$implicit;return ot(ve(2).timeEventResizeEnded(s))})("dragStart",function(){const s=ut(e).$implicit,o=Un(1),c=ve(2),d=Un(6);return ot(c.dragStarted(d,o,s,!0))})("dragging",function(r){const o=ut(e).$implicit;return ot(ve(2).dragMove(o,r))})("dragEnd",function(r){const o=ut(e).$implicit,c=ve(2);return ot(c.dragEnded(o,r,c.dayColumnWidth,!0))}),xe(2,vMe,1,2,"div",19),xe(3,yMe,0,0,"ng-template",34),xe(4,bMe,1,12,"ng-template",null,35,Yi),xe(6,wMe,1,2,"div",21),Q()}if(2&n){const e=t.$implicit,i=Un(5),r=ve(2);Nr("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),Nt("cal-draggable",e.event.draggable&&0===r.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),se("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeCursors",r.resizeCursors)("resizeSnapGrid",MH(30,CMe,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",$r(35,mZ,e.event,r.calendarId))("dragAxis",$r(38,q0,e.event.draggable&&0===r.timeEventResizes.size,e.event.draggable&&0===r.timeEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?$r(41,q0,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):To(44,Qm))("touchStartLongPress",To(45,lT))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",r.validateDrag),ee(2),se("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),ee(1),se("ngTemplateOutlet",i),ee(3),se("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function DMe(n,t){if(1&n){const e=rn();q(0,"mwl-calendar-week-view-hour-segment",38),Fe("mwlClick",function(r){const o=ut(e).$implicit;return ot(ve(3).hourSegmentClicked.emit({date:o.date,sourceEvent:r}))})("drop",function(r){const o=ut(e).$implicit;return ot(ve(3).eventDropped(r,o.date,!1))})("dragEnter",function(){const s=ut(e).$implicit;return ot(ve(3).dateDragEnter(s.date))}),Q()}if(2&n){const e=t.$implicit,i=ve(3);Nr("height",i.hourSegmentHeight,"px"),se("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function TMe(n,t){if(1&n&&(q(0,"div",26),xe(1,DMe,1,10,"mwl-calendar-week-view-hour-segment",37),Q()),2&n){const e=t.$implicit,i=t.odd,r=ve(2);Nt("cal-hour-odd",i),ee(1),se("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function IMe(n,t){if(1&n&&(q(0,"div",29),Qe(1,"mwl-calendar-week-view-current-time-marker",30),q(2,"div",31),xe(3,EMe,7,46,"div",32),Q(),xe(4,TMe,2,4,"div",25),Q()),2&n){const e=t.$implicit,i=ve();ee(1),se("columnDate",e.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),ee(2),se("ngForOf",e.events)("ngForTrackBy",i.trackByWeekTimeEvent),ee(1),se("ngForOf",e.hours)("ngForTrackBy",i.trackByHour)}}let Af=(()=>{class n{constructor(e,i,r){this.renderer=e,this.elm=i,this.document=r,this.clickListenerDisabled=!1,this.click=new Ve,this.destroy$=new he}ngOnInit(){this.clickListenerDisabled||this.listen().pipe($t(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new Ht(e=>this.renderer.listen(this.elm.nativeElement,"click",i=>{e.next(i)}))}}return n.\u0275fac=function(e){return new(e||n)(B(Gr),B(zt),B(on))},n.\u0275dir=je({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),cT=(()=>{class n{constructor(e,i,r){this.host=e,this.ngZone=i,this.renderer=r,this.keydown=new Ve,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(13===e.keyCode||13===e.which||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(e){return new(e||n)(B(zt),B(lt),B(Gr))},n.\u0275dir=je({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),dT=(()=>{class n{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:i}){return e.badgeTotal>0?`\n        ${is(e.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${is(e.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:e,locale:i}){return`\n      Beginning of expanded view for ${is(e,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:e,locale:i}){return`${is(e,"EEEE MMMM dd",i)} expanded`}eventDescription({event:e,locale:i}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:i});const r=`\n      ${is(e.start,"EEEE MMMM dd",i)},\n      ${e.title}, from ${is(e.start,"hh:mm a",i)}\n    `;return e.end?r+` to ${is(e.end,"hh:mm a",i)}`:r}allDayEventDescription({event:e,locale:i}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${is(e.start,"MMMM dd hh:mm a",i)}\n    `;return e.end?r+`, stop time ${is(e.end,"MMMM d hh:mm a",i)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(e){return new(e||n)(ce(ok))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),kf=(()=>{class n{constructor(e,i){this.calendarA11y=e,this.locale=i}transform(e,i){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[i]>"u"){const r=Object.getOwnPropertyNames(Object.getPrototypeOf(dT.prototype)).filter(s=>"constructor"!==s);throw new Error(`${i} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[i](e)}}return n.\u0275fac=function(e){return new(e||n)(B(dT,16),B(to,16))},n.\u0275pipe=ts({name:"calendarA11y",type:n,pure:!0}),n})(),_Z=(()=>{class n{constructor(){this.trackByActionId=(e,i)=>i.id?i.id:i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,i){if(1&e&&(xe(0,fke,1,1,"ng-template",null,0,Yi),xe(2,pke,0,0,"ng-template",1)),2&e){const r=Un(1);ee(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",$r(2,gke,i.event,i.trackByActionId))}},dependencies:[ga,Sr,qi,ms,Af,cT,kf],encapsulation:2}),n})();class KF{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}let QF=(()=>{class n{constructor(e){this.calendarEventTitle=e}transform(e,i,r){return this.calendarEventTitle[i](r,e)}}return n.\u0275fac=function(e){return new(e||n)(B(KF,16))},n.\u0275pipe=ts({name:"calendarEventTitle",type:n,pure:!0}),n})(),vZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,i){if(1&e&&(xe(0,mke,3,10,"ng-template",null,0,Yi),xe(2,_ke,0,0,"ng-template",1)),2&e){const r=Un(1);ee(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",$r(2,vke,i.event,i.view))}},dependencies:[ms,QF,kf],encapsulation:2}),n})(),SMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,i){if(1&e&&(xe(0,yke,3,2,"ng-template",null,0,Yi),xe(2,bke,0,0,"ng-template",1)),2&e){const r=Un(1);ee(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",ag(2,xke,i.contents,i.placement,i.event))}},dependencies:[ga,ms],encapsulation:2}),n})(),yZ=(()=>{class n{constructor(e,i,r,s,o,c){this.elementRef=e,this.injector=i,this.renderer=r,this.viewContainerRef=o,this.document=c,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new he,this.tooltipFactory=s.resolveComponentFactory(SMe)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?de("now"):$m(this.delay)).pipe($t(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function kAe(n,t,e,i,r){var s=Array.isArray(e)?e:e.split(AAe),o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],c=t.classList,d=function(U){var re=U.split("-"),te=re[0],oe=re[1],pe=[];return r&&(pe.push(r+"-"+te),oe&&pe.push(r+"-"+te+"-"+oe),pe.forEach(function(Ie){c.add(Ie)})),pe};r&&o.forEach(function(U){c.remove(r+"-"+U)});var f=s.findIndex(function(U){return"auto"===U});f>=0&&o.forEach(function(U){null==s.find(function(re){return-1!==re.search("^"+U)})&&s.splice(f++,1,U)});var _=t.style;_.position="absolute",_.top="0",_.left="0",_["will-change"]="transform";for(var x,T=!1,M=0,N=s;M<N.length;M++){var V=d(x=N[M]);if(X7.positionElements(n,t,x,i)){T=!0;break}r&&V.forEach(function(U){c.remove(U)})}return T||(d(x=s[0]),X7.positionElements(n,t,x,i)),x}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(e){return new(e||n)(B(zt),B(Gi),B(Gr),B(Ud),B(Ds),B(on))},n.\u0275dir=je({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,i){1&e&&Fe("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[Mn]}),n})();var Mf=function(n){return n.Month="month",n.Week="week",n.Day="day",n}(Mf||{});const bZ=n=>function jAe(n,t){var e=!0;function i(r,s){t(r,s),e=!1}return Array.isArray(n)?(n.forEach(function(r){r.start?r.start instanceof Date||i(Xm.StartPropertyNotDate,r):i(Xm.StartPropertyMissing,r),r.end&&(r.end instanceof Date||i(Xm.EndPropertyNotDate,r),r.start>r.end&&i(Xm.EndsBeforeStart,r))}),e):(t(Xm.NotArray,n),!1)}(n,(...e)=>console.warn("angular-calendar",...e));function xZ(n,t){return Math.floor(n.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(n.right)}function wZ(n,t){return Math.round(n/t)*t}const CZ=(n,t)=>t.id?t.id:t,JF=(n,t)=>t.date.toISOString(),MMe=(n,t)=>t.date.toISOString(),RMe=(n,t)=>t.segments[0].date.toISOString(),OMe=(n,t)=>t.event.id?t.event.id:t.event,PMe=(n,t)=>t.event.id?t.event.id:t.event;function eL(n,t,e,i,r){const s=wZ(n,i||e),o=function FMe(n,t,e){return(e||60)/(n*t)}(t,e,r);return s*o}function EZ(n,t,e){return t.end?t.end:n.addMinutes(t.start,e)}function Pl(n,t,e,i){let r=0,s=0;const o=e<0?n.subDays:n.addDays;let c=t;for(;s<=Math.abs(e);){c=o(t,r);const d=n.getDay(c);-1===i.indexOf(d)&&s++,r++}return c}function tL(n,t,e,i=[],r){let s=r?n.startOfDay(t):n.startOfWeek(t,{weekStartsOn:e});const o=n.endOfWeek(t,{weekStartsOn:e});for(;i.indexOf(n.getDay(s))>-1&&s<o;)s=n.addDays(s,1);if(r)return{viewStart:s,viewEnd:n.endOfDay(Pl(n,s,r-1,i))};{let c=o;for(;i.indexOf(n.getDay(c))>-1&&c>s;)c=n.subDays(c,1);return{viewStart:s,viewEnd:c}}}function nL({x:n,y:t}){return Math.abs(n)>1||Math.abs(t)>1}class yd{}let BMe=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new Ve}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===Mf.Day?Pl(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===Mf.Week&&this.daysInWeek?Pl(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(B(yd))},n.\u0275dir=je({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,i){1&e&&Fe("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),zMe=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new Ve}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===Mf.Day?Pl(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===Mf.Week&&this.daysInWeek?Pl(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(B(yd))},n.\u0275dir=je({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,i){1&e&&Fe("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),HMe=(()=>{class n{constructor(e){this.dateAdapter=e,this.viewDateChange=new Ve}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return n.\u0275fac=function(e){return new(e||n)(B(yd))},n.\u0275dir=je({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,i){1&e&&Fe("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),n})(),UMe=(()=>{class n{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return is(e,"EEEE",i)}monthViewDayNumber({date:e,locale:i}){return is(e,"d",i)}monthViewTitle({date:e,locale:i}){return is(e,"LLLL y",i)}weekViewColumnHeader({date:e,locale:i}){return is(e,"EEEE",i)}weekViewColumnSubHeader({date:e,locale:i}){return is(e,"MMM d",i)}weekViewTitle({date:e,locale:i,weekStartsOn:r,excludeDays:s,daysInWeek:o}){const{viewStart:c,viewEnd:d}=tL(this.dateAdapter,e,r,s,o),f=(_,x)=>is(_,"MMM d"+(x?", yyyy":""),i);return`${f(c,c.getUTCFullYear()!==d.getUTCFullYear())} - ${f(d,!0)}`}weekViewHour({date:e,locale:i}){return is(e,"h a",i)}dayViewHour({date:e,locale:i}){return is(e,"h a",i)}dayViewTitle({date:e,locale:i}){return is(e,"EEEE, MMMM d, y",i)}}return n.\u0275fac=function(e){return new(e||n)(ce(yd))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),uT=(()=>{class n extends UMe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tr(n)))(i||n)}}(),n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),X0=(()=>{class n{constructor(e,i){this.dateFormatter=e,this.locale=i}transform(e,i,r=this.locale,s=0,o=[],c){if(typeof this.dateFormatter[i]>"u"){const d=Object.getOwnPropertyNames(Object.getPrototypeOf(uT.prototype)).filter(f=>"constructor"!==f);throw new Error(`${i} is not a valid date formatter. Can only be one of ${d.join(", ")}`)}return this.dateFormatter[i]({date:e,locale:r,weekStartsOn:s,excludeDays:o,daysInWeek:c})}}return n.\u0275fac=function(e){return new(e||n)(B(uT,16),B(to,16))},n.\u0275pipe=ts({name:"calendarDate",type:n,pure:!0}),n})(),hT=(()=>{class n{constructor(e){this.dateAdapter=e}getMonthView(e){return function zAe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,o=t.excluded,c=void 0===o?[]:o,d=t.viewStart,f=void 0===d?n.startOfMonth(r):d,_=t.viewEnd,x=void 0===_?n.endOfMonth(r):_,T=t.weekendDays;i||(i=[]);for(var Dt,N=n.endOfWeek,V=n.differenceInDays,U=n.startOfDay,re=n.addHours,te=n.endOfDay,oe=n.isSameMonth,pe=n.getDay,Ie=(0,n.startOfWeek)(f,{weekStartsOn:s}),Xe=N(x,{weekStartsOn:s}),pt=G0(n,{events:i,periodStart:Ie,periodEnd:Xe}),ft=[],Mt=function(Qt){var Jt;if(Dt?(Jt=U(re(Dt,24)),Dt.getTime()===Jt.getTime()&&(Jt=U(re(Dt,25))),Dt=Jt):Jt=Dt=Ie,!c.some(function(Rr){return pe(Jt)===Rr})){var Mi=K7(n,{date:Jt,weekendDays:T}),dr=G0(n,{events:pt,periodStart:U(Jt),periodEnd:te(Jt)});Mi.inMonth=oe(Jt,r),Mi.events=dr,Mi.badgeTotal=dr.length,ft.push(Mi)}},gt=0;gt<V(Xe,Ie)+1;gt++)Mt();var _t=[],dn=LF-c.length;if(dn<LF)for(gt=0;gt<ft.length;gt+=dn){var ei=ft.slice(gt,gt+dn);ei.some(function(Jt){return f<=Jt.date&&Jt.date<x})&&(_t=NF(NF([],_t,!0),ei,!0))}else _t=ft;var wt=Math.floor(_t.length/dn),Ot=[];for(gt=0;gt<wt;gt++)Ot.push(gt*dn);return{rowOffsets:Ot,totalDaysVisibleInWeek:dn,days:_t,period:{start:_t[0].date,end:te(_t[_t.length-1].date),events:pt}}}(this.dateAdapter,e)}getWeekViewHeader(e){return BF(this.dateAdapter,e)}getWeekView(e){return function BAe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,o=t.excluded,c=void 0===o?[]:o,d=t.precision,f=void 0===d?"days":d,_=t.absolutePositionedEvents,x=void 0!==_&&_,T=t.hourSegments,M=t.hourDuration,N=t.dayStart,V=t.dayEnd,U=t.weekendDays,re=t.segmentHeight,te=t.minimumEventHeight,oe=t.viewStart,pe=void 0===oe?n.startOfWeek(r,{weekStartsOn:s}):oe,Ie=t.viewEnd,Xe=void 0===Ie?n.endOfWeek(r,{weekStartsOn:s}):Ie;i||(i=[]);var ft=n.endOfDay,Dt=G0(n,{events:i,periodStart:pe=(0,n.startOfDay)(pe),periodEnd:Xe=ft(Xe)}),Mt=BF(n,{viewDate:r,weekStartsOn:s,excluded:c,weekendDays:U,viewStart:pe,viewEnd:Xe});return{allDayEventRows:LAe(n,{events:Dt,excluded:c,precision:f,absolutePositionedEvents:x,viewStart:pe,viewEnd:Xe}),period:{events:Dt,start:Mt[0].date,end:ft(Mt[Mt.length-1].date)},hourColumns:VAe(n,{events:i,viewDate:r,hourSegments:T,hourDuration:M,dayStart:N,dayEnd:V,weekStartsOn:s,excluded:c,weekendDays:U,segmentHeight:re,viewStart:pe,viewEnd:Xe,minimumEventHeight:te})}}(this.dateAdapter,e)}}return n.\u0275fac=function(e){return new(e||n)(ce(yd))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})();new Be("Moment");var qu=function(n){return n.Drag="drag",n.Drop="drop",n.Resize="resize",n}(qu||{});let Z0=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||KF,i.dateFormatter||uT,i.utils||hT,i.a11y||dT]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=St({type:n}),n.\u0275inj=Se({providers:[ok],imports:[vl]}),n})(),jMe=(()=>{class n{constructor(){this.highlightDay=new Ve,this.unhighlightDay=new Ve,this.eventClicked=new Ve,this.trackByEventId=CZ,this.validateDrag=nL}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,i){2&e&&Nt("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,i){if(1&e&&(xe(0,Ike,8,14,"ng-template",null,0,Yi),xe(2,Ske,0,0,"ng-template",1)),2&e){const r=Un(1);ee(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",gA(2,Ake,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},dependencies:[ga,Sr,qi,ms,Zv,qF,yZ,Af,X0,QF,kf],encapsulation:2}),n})();const WMe=Lu("collapse",[kl("void",Mr({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),kl("*",Mr({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),ta("* => void",Da("150ms ease-out")),ta("void => *",Da("150ms ease-in"))]);let GMe=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new Ve,this.trackByEventId=CZ,this.validateDrag=nL}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,i){if(1&e&&(xe(0,Oke,1,1,"ng-template",null,0,Yi),xe(2,Pke,0,0,"ng-template",1)),2&e){const r=Un(1);ee(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",pA(2,Nke,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},dependencies:[ga,Sr,qi,ms,Zv,qF,_Z,vZ,Af,cT,kf],encapsulation:2,data:{animation:[WMe]}}),n})(),$Me=(()=>{class n{constructor(){this.columnHeaderClicked=new Ve,this.trackByWeekDayHeaderDate=JF}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,i){if(1&e&&(xe(0,Lke,2,2,"ng-template",null,0,Yi),xe(2,Vke,0,0,"ng-template",1)),2&e){const r=Un(1);ee(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",ag(2,Bke,i.days,i.locale,i.trackByWeekDayHeaderDate))}},dependencies:[ga,Sr,ms,X0],encapsulation:2}),n})(),YMe=(()=>{class n{constructor(e,i,r,s){this.cdr=e,this.utils=i,this.dateAdapter=s,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new Ve,this.dayClicked=new Ve,this.eventClicked=new Ve,this.columnHeaderClicked=new Ve,this.eventTimesChanged=new Ve,this.trackByRowOffset=(o,c)=>this.view.days.slice(c,this.view.totalDaysVisibleInWeek).map(d=>d.date.toISOString()).join("-"),this.trackByDate=(o,c)=>c.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays,r=e.viewDate||e.events||e.excludeDays||e.weekendDays;i&&this.refreshHeader(),e.events&&bZ(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,i){this.view.days.forEach(r=>{i&&r.events.indexOf(e)>-1?r.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(e,i,r){if(e!==r){const s=this.dateAdapter.getYear(e.date),o=this.dateAdapter.getMonth(e.date),c=this.dateAdapter.getDate(e.date),d=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,s),o),c);let f;if(i.end){const _=this.dateAdapter.differenceInSeconds(d,i.start);f=this.dateAdapter.addSeconds(i.end,_)}this.eventTimesChanged.emit({event:i,newStart:d,newEnd:f,day:e,type:qu.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,e));const i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(e){return new(e||n)(B(hr),B(hT),B(to),B(yd))},n.\u0275cmp=kt({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[Mn],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,i){1&e&&(q(0,"div",0)(1,"mwl-calendar-month-view-header",1),Fe("columnHeaderClicked",function(s){return i.columnHeaderClicked.emit(s)}),Q(),q(2,"div",2),xe(3,Hke,5,13,"div",3),Q()()),2&e&&(ee(1),se("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),ee(2),se("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},dependencies:[ga,Sr,Zv,XF,Af,cT,jMe,GMe,$Me,v3,kf],encapsulation:2}),n})(),DZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=St({type:n}),n.\u0275inj=Se({imports:[vl,oT,Z0,oT]}),n})();class qMe{constructor(t,e){this.dragContainerElement=t,this.startPosition=e.getBoundingClientRect()}validateDrag({x:t,y:e,snapDraggedEvents:i,dragAlreadyMoved:r,transform:s}){const o=nL({x:t,y:e})||r;if(i){const c=Object.assign({},this.startPosition,{left:this.startPosition.left+s.x,right:this.startPosition.right+s.x,top:this.startPosition.top+s.y,bottom:this.startPosition.bottom+s.y});if(o){const d=this.dragContainerElement.getBoundingClientRect(),f=d.top<c.top&&c.top<d.bottom,_=d.top<c.bottom&&c.bottom<d.bottom;return xZ(d,c)&&(f||_)}return!1}return o}}class XMe{constructor(t,e,i){this.resizeContainerElement=t,this.minWidth=e,this.rtl=i}validateResize({rectangle:t,edges:e}){return this.rtl&&(typeof e.left<"u"?(t.left-=e.left,t.right+=e.left):typeof e.right<"u"&&(t.left+=e.right,t.right-=e.right),t.width=t.right-t.left),!(this.minWidth&&Math.ceil(t.width)<Math.ceil(this.minWidth))&&function kMe(n,t){return xZ(n,t)&&function AMe(n,t){return Math.floor(n.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(n.bottom)}(n,t)}(this.resizeContainerElement.getBoundingClientRect(),t)}}let ZMe=(()=>{class n{constructor(){this.dayHeaderClicked=new Ve,this.eventDropped=new Ve,this.dragEnter=new Ve,this.trackByWeekDayHeaderDate=JF}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,i){if(1&e&&(xe(0,jke,2,2,"ng-template",null,0,Yi),xe(2,Wke,0,0,"ng-template",1)),2&e){const r=Un(1);ee(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function RH(n,t,e,i,r,s,o,c,d){const f=Es()+n,_=tt(),x=Ua(_,f,e,i,r,s);return yh(_,f+4,o,c)||x?Jl(_,f+6,d?t.call(d,e,i,r,s,o,c):t(e,i,r,s,o,c)):Dv(_,f+6)}(2,Gke,i.days,i.locale,i.dayHeaderClicked,i.eventDropped,i.dragEnter,i.trackByWeekDayHeaderDate))}},dependencies:[ga,Sr,ms,XF,Af,X0],encapsulation:2}),n})(),KMe=(()=>{class n{constructor(){this.eventClicked=new Ve}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,i){if(1&e&&(xe(0,Yke,6,27,"ng-template",null,0,Yi),xe(2,qke,0,0,"ng-template",1)),2&e){const r=Un(1);ee(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",gA(2,Xke,[i.weekEvent,i.tooltipPlacement,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDisabled,i.tooltipDelay,i.column,i.daysInWeek]))}},dependencies:[ms,Zv,_Z,vZ,yZ,Af,cT,QF,kf],encapsulation:2}),n})(),QMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,i){if(1&e&&(xe(0,Kke,3,13,"ng-template",null,0,Yi),xe(2,Qke,0,0,"ng-template",1)),2&e){const r=Un(1);ee(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",pA(2,Jke,i.segment,i.locale,i.segmentHeight,i.isTimeLabel,i.daysInWeek))}},dependencies:[ga,qi,ms,X0,kf],encapsulation:2}),n})(),JMe=(()=>{class n{constructor(e,i){this.dateAdapter=e,this.zone=i,this.columnDate$=new W(void 0),this.marker$=this.zone.onStable.pipe(vt(()=>function IAe(n=0,t=qd){return n<0&&(n=0),$m(n,n,t)}(6e4)),ko(0),wk(this.columnDate$),$e(r=>{const s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),c=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),d=new Date;return{isVisible:this.dateAdapter.isSameDay(r,d)&&d>=s&&d<=o,top:this.dateAdapter.differenceInMinutes(d,s)*c}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return n.\u0275fac=function(e){return new(e||n)(B(yd),B(lt))},n.\u0275cmp=kt({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[Mn],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,i){if(1&e&&(xe(0,tMe,1,1,"ng-template",null,0,Yi),xe(2,nMe,0,0,"ng-template",1),Vt(3,"async"),Vt(4,"async")),2&e){const r=Un(1);let s;ee(2),se("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function OH(n,t,e,i,r,s,o,c,d,f){const _=Es()+n,x=tt();let T=Ua(x,_,e,i,r,s);return Gw(x,_+4,o,c,d)||T?Jl(x,_+7,f?t.call(f,e,i,r,s,o,c,d):t(e,i,r,s,o,c,d)):Dv(x,_+7)}(6,iMe,i.columnDate,i.dayStartHour,i.dayStartMinute,i.dayEndHour,i.dayEndMinute,null==(s=En(3,2,i.marker$))?null:s.isVisible,null==(s=En(4,4,i.marker$))?null:s.top))}},dependencies:[qi,ms,sk],encapsulation:2}),n})(),TZ=(()=>{class n{constructor(e,i,r,s,o){this.cdr=e,this.utils=i,this.dateAdapter=s,this.element=o,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new Ve,this.eventClicked=new Ve,this.eventTimesChanged=new Ve,this.beforeViewRender=new Ve,this.hourSegmentClicked=new Ve,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=JF,this.trackByHourSegment=MMe,this.trackByHour=RMe,this.trackByWeekAllDayEvent=OMe,this.trackByWeekTimeEvent=PMe,this.trackByHourColumn=(c,d)=>d.hours[0]?d.hours[0].segments[0].date.toISOString():d,this.trackById=(c,d)=>d.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,r=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;i&&this.refreshHeader(),e.events&&bZ(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(e,i,r){this.timeEventResizes.set(i.event,r),this.resizeStarted(e,i)}timeEventResizing(e,i){this.timeEventResizes.set(e.event,i);const r=new Map,s=[...this.events];this.timeEventResizes.forEach((o,c)=>{const d=this.getTimeEventResizedDates(c,o),f={...c,...d};r.set(f,c);const _=s.indexOf(c);s[_]=f}),this.restoreOriginalEvents(s,r,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const i=this.timeEventResizes.get(e.event);if(i){this.timeEventResizes.delete(e.event);const r=this.getTimeEventResizedDates(e.event,i);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:e.event,type:qu.Resize})}}allDayEventResizeStarted(e,i,r){this.allDayEventResizes.set(i,{originalOffset:i.offset,originalSpan:i.span,edge:typeof r.edges.left<"u"?"left":"right"}),this.resizeStarted(e,i,this.getDayColumnWidth(e))}allDayEventResizing(e,i,r){const s=this.allDayEventResizes.get(e),o=this.rtl?-1:1;if(typeof i.edges.left<"u"){const c=Math.round(+i.edges.left/r)*o;e.offset=s.originalOffset+c,e.span=s.originalSpan-c}else if(typeof i.edges.right<"u"){const c=Math.round(+i.edges.right/r)*o;e.span=s.originalSpan+c}}allDayEventResizeEnded(e){const i=this.allDayEventResizes.get(e);if(i){const r="left"===i.edge;let s;s=r?e.offset-i.originalOffset:e.span-i.originalSpan,e.offset=i.originalOffset,e.span=i.originalSpan;const o=this.getAllDayEventResizedDates(e.event,s,r);this.eventTimesChanged.emit({newStart:o.start,newEnd:o.end,event:e.event,type:qu.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,i,r){(function VMe(n,t,e,i){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==i||n.dropData.event.allDay&&!e||!n.dropData.event.allDay&&e)})(e,0,r,this.calendarId)&&this.lastDragEnterDate.getTime()===i.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:qu.Drop,event:e.dropData.event,newStart:i,allDay:r}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,i,r,s){this.dayColumnWidth=this.getDayColumnWidth(e);const o=new qMe(e,i);this.validateDrag=({x:c,y:d,transform:f})=>{const _=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&o.validateDrag({x:c,y:d,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:f});if(_&&this.validateEventTimesChanged){const x=this.getDragMovedEventTimes(r,{x:c,y:d},this.dayColumnWidth,s);return this.validateEventTimesChanged({type:qu.Drag,event:r.event,newStart:x.start,newEnd:x.end})}return _},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&s&&this.view.hourColumns.forEach(c=>{const d=c.events.find(f=>f.event===r.event&&f!==r);d&&(d.width=0,d.height=0)}),this.cdr.markForCheck()}dragMove(e,i){const r=this.getDragMovedEventTimes(e,i,this.dayColumnWidth,!0),s=e.event,o={...s,...r},c=this.events.map(d=>d===s?o:d);this.restoreOriginalEvents(c,new Map([[o,s]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,i,r,s=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:o,end:c}=this.getDragMovedEventTimes(e,i,r,s);(this.snapDraggedEvents||this.eventDragEnterByType[s?"time":"allDay"]>0)&&function LMe(n,t,e){const i=t||n;return e.start<=n&&n<=e.end||e.start<=i&&i<=e.end}(o,c,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:o,newEnd:c,event:e.event,type:qu.Drag,allDay:!s}))}refreshHeader(){this.days=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays,...tL(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit({header:this.days,...this.view})}getWeekView(e){return this.utils.getWeekView({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight,...tL(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}getDragMovedEventTimes(e,i,r,s){const o=wZ(i.x,r)/r*(this.rtl?-1:1),c=s?eL(i.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,d=this.dateAdapter.addMinutes(Pl(this.dateAdapter,e.event.start,o,this.excludeDays),c);let f;return e.event.end&&(f=this.dateAdapter.addMinutes(Pl(this.dateAdapter,e.event.end,o,this.excludeDays),c)),{start:d,end:f}}restoreOriginalEvents(e,i,r=!0){const s=this.view;r&&(this.view=this.getWeekView(e));const o=e.filter(c=>i.has(c));this.view.hourColumns.forEach((c,d)=>{s.hourColumns[d].hours.forEach((f,_)=>{f.segments.forEach((x,T)=>{c.hours[_].segments[T].cssClass=x.cssClass})}),o.forEach(f=>{const _=i.get(f),x=c.events.find(T=>T.event===(r?f:_));x?(x.event=_,x.tempEvent=f,r||(x.height=0,x.width=0)):c.events.push({event:_,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:f})})}),i.clear()}getTimeEventResizedDates(e,i){const r={start:e.start,end:EZ(this.dateAdapter,e,this.minimumEventHeight)},{end:s,...o}=e,c={start:this.dateAdapter.addMinutes(r.end,-1*this.minimumEventHeight),end:EZ(this.dateAdapter,o,this.minimumEventHeight)},d=this.rtl?-1:1;if(typeof i.edges.left<"u"){const f=Math.round(+i.edges.left/this.dayColumnWidth)*d,_=Pl(this.dateAdapter,r.start,f,this.excludeDays);r.start=_<c.start?_:c.start}else if(typeof i.edges.right<"u"){const f=Math.round(+i.edges.right/this.dayColumnWidth)*d,_=Pl(this.dateAdapter,r.end,f,this.excludeDays);r.end=_>c.end?_:c.end}if(typeof i.edges.top<"u"){const f=eL(i.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),_=this.dateAdapter.addMinutes(r.start,f);r.start=_<c.start?_:c.start}else if(typeof i.edges.bottom<"u"){const f=eL(i.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),_=this.dateAdapter.addMinutes(r.end,f);r.end=_>c.end?_:c.end}return r}resizeStarted(e,i,r){this.dayColumnWidth=this.getDayColumnWidth(e);const s=new XMe(e,r,this.rtl);this.validateResize=({rectangle:o,edges:c})=>{const d=s.validateResize({rectangle:{...o},edges:c});if(d&&this.validateEventTimesChanged){let f;if(r){const _=this.rtl?-1:1;if(typeof c.left<"u"){const x=Math.round(+c.left/r)*_;f=this.getAllDayEventResizedDates(i.event,x,!this.rtl)}else{const x=Math.round(+c.right/r)*_;f=this.getAllDayEventResizedDates(i.event,x,this.rtl)}}else f=this.getTimeEventResizedDates(i.event,{rectangle:o,edges:c});return this.validateEventTimesChanged({type:qu.Resize,event:i.event,newStart:f.start,newEnd:f.end})}return d},this.cdr.markForCheck()}getAllDayEventResizedDates(e,i,r){let s=e.start,o=e.end||e.start;return r?s=Pl(this.dateAdapter,s,i,this.excludeDays):o=Pl(this.dateAdapter,o,i,this.excludeDays),{start:s,end:o}}}return n.\u0275fac=function(e){return new(e||n)(B(hr),B(hT),B(to),B(yd),B(zt))},n.\u0275cmp=kt({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[Mn],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,i){1&e&&(q(0,"div",0)(1,"mwl-calendar-week-view-header",1),Fe("dayHeaderClicked",function(s){return i.dayHeaderClicked.emit(s)})("eventDropped",function(s){return i.eventDropped({dropData:s},s.newStart,!0)})("dragEnter",function(s){return i.dateDragEnter(s.date)}),Q(),xe(2,fMe,6,5,"div",2),q(3,"div",3),Fe("dragEnter",function(){return i.dragEnter("time")})("dragLeave",function(){return i.dragLeave("time")}),xe(4,mMe,2,2,"div",4),q(5,"div",5,6),xe(7,IMe,5,13,"div",7),Q()()()),2&e&&(ee(1),se("days",i.days)("locale",i.locale)("customTemplate",i.headerTemplate),ee(1),se("ngIf",i.view.allDayEventRows.length>0),ee(2),se("ngIf",i.view.hourColumns.length>0&&1!==i.daysInWeek),ee(1),Nt("cal-resize-active",i.timeEventResizes.size>0),ee(2),se("ngForOf",i.view.hourColumns)("ngForTrackBy",i.trackByHourColumn))},dependencies:[ga,Sr,qi,ms,hZ,cke,qF,XF,Af,ZMe,KMe,QMe,JMe],encapsulation:2}),n})(),iL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=St({type:n}),n.\u0275inj=Se({imports:[vl,fZ,oT,Z0,fZ,oT]}),n})(),eRe=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new Ve,this.hourSegmentClicked=new Ve,this.eventTimesChanged=new Ve,this.beforeViewRender=new Ve}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=kt({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:27,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,i){1&e&&(q(0,"mwl-calendar-week-view",0),Fe("eventClicked",function(s){return i.eventClicked.emit(s)})("hourSegmentClicked",function(s){return i.hourSegmentClicked.emit(s)})("eventTimesChanged",function(s){return i.eventTimesChanged.emit(s)})("beforeViewRender",function(s){return i.beforeViewRender.emit(s)}),Q()),2&e&&se("daysInWeek",1)("viewDate",i.viewDate)("events",i.events)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("minimumEventHeight",i.minimumEventHeight)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("refresh",i.refresh)("locale",i.locale)("eventSnapSize",i.eventSnapSize)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("resizeCursors",i.resizeCursors)("hourSegmentTemplate",i.hourSegmentTemplate)("eventTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("snapDraggedEvents",i.snapDraggedEvents)("allDayEventsLabelTemplate",i.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",i.currentTimeMarkerTemplate)("validateEventTimesChanged",i.validateEventTimesChanged)},dependencies:[TZ],encapsulation:2}),n})(),IZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=St({type:n}),n.\u0275inj=Se({imports:[vl,Z0,iL]}),n})(),tRe=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||KF,i.dateFormatter||uT,i.utils||hT,i.a11y||dT]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=St({type:n}),n.\u0275inj=Se({imports:[Z0,DZ,iL,IZ,Z0,DZ,iL,IZ]}),n})();const Rf=void 0,iRe=["en",[["a","p"],["AM","PM"],Rf],[["AM","PM"],Rf,Rf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rf,"{1} 'at' {0}",Rf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nRe(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],{isArray:rRe}=Array;function SZ(n){return 1===n.length&&rRe(n[0])?n[0]:n}function rL(...n){const t=xs(n),e=SZ(n);return e.length?new Ht(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)nt(e[o]).subscribe(at(i,c=>{if(r[o].push(c),r.every(d=>d.length)){const d=r.map(f=>f.shift());i.next(t?t(...d):d),r.some((f,_)=>!f.length&&s[_])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):ti}Math,Math,Math;const NOe=["*"],uPe=["dialog"];function Nf(n){return"string"==typeof n}function Ff(n){return null!=n}function r_(n){return(n||document.body).getBoundingClientRect()}const aK={animation:!0,transitionTimerDelayMs:5},iNe=()=>{},{transitionTimerDelayMs:rNe}=aK,rx=new Map,ra=(n,t,e,i)=>{let r=i.context||{};const s=rx.get(t);if(s)switch(i.runningTransition){case"continue":return ti;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),rx.delete(t)}const o=e(t,i.animation,r)||iNe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),de(void 0).pipe(function tNe(n){return t=>new Ht(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const c=new he,d=new he,f=c.pipe(function oRe(...n){return t=>Mg(t,de(...n))}(!0));rx.set(t,{transition$:c,complete:()=>{d.next(),d.complete()},context:r});const _=function nNe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const x=Kr(t,"transitionend").pipe($t(f),Dn(({target:M})=>M===t));(function AZ(...n){return 1===(n=SZ(n)).length?nt(n[0]):new Ht(function sRe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(nt(n[i]).subscribe(at(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})($m(_+rNe).pipe($t(f)),x,d).pipe($t(f)).subscribe(()=>{rx.delete(t),n.run(()=>{o(),c.next(),c.complete()})})}),c.asObservable()};let bT=(()=>{class n{constructor(){this.animation=aK.animation}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),_K=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),bK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),xK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})();var Zi=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Zi||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const SK=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function AK(n){const t=Array.from(n.querySelectorAll(SK)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let UK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),GK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})();class Hf{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let iFe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Vn(1)).subscribe(()=>{ra(this._zone,this._el.nativeElement,(e,i)=>{i&&r_(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ra(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(lt))};static#t=this.\u0275cmp=kt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(Co("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Nt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Do],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();class $K{update(t){}close(t){}dismiss(t){}}const rFe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],sFe=["animation","backdropClass"];class oFe{_applyWindowOptions(t,e){rFe.forEach(i=>{Ff(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){sFe.forEach(i=>{Ff(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe($t(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe($t(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new he,this._dismissed=new he,this._hidden=new he,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function rK(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():de(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),rL(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var RL=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(RL||{});let aFe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new he,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ve,this.shown=new he,this.hidden=new he}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Nf(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Vn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=rL(ra(this._zone,e,()=>e.classList.remove("show"),i),ra(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};rL(ra(this._zone,this._elRef.nativeElement,(s,o)=>{o&&r_(s),s.classList.add("show")},e),ra(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Kr(e,"keydown").pipe($t(this._closed$),Dn(r=>r.which===Zi.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(RL.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Kr(this._dialogEl.nativeElement,"mousedown").pipe($t(this._closed$),Lr(()=>i=!1),vt(()=>Kr(e,"mouseup").pipe($t(this._closed$),Vn(1))),Dn(({target:r})=>e===r)).subscribe(()=>{i=!0}),Kr(e,"click").pipe($t(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(RL.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=AK(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ra(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||n)(B(on),B(zt),B(lt))};static#t=this.\u0275cmp=kt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&wi(uPe,7),2&i){let s;Ut(s=jt())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Rt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Co("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Nt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Do],ngContentSelectors:NOe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(fa(),q(0,"div",0,1)(2,"div",2),nr(3),Q()()),2&i&&Co("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),lFe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(e>0){const c=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${c+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=o),r.overflow=s}}static#e=this.\u0275fac=function(i){return new(i||n)(ce(on))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cFe=(()=>{class n{constructor(e,i,r,s,o,c,d){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=s,this._scrollBar=o,this._rendererFactory=c,this._ngZone=d,this._activeWindowCmptHasChanged=new he,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Ve,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const f=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=Kr(t,"focusin").pipe($t(e),$e(s=>s.target));Kr(t,"keydown").pipe($t(e),Dn(s=>s.which===Zi.Tab),LC(r)).subscribe(([s,o])=>{const[c,d]=AK(t);(o===c||o===t)&&s.shiftKey&&(d.focus(),s.preventDefault()),o===d&&!s.shiftKey&&(c.focus(),s.preventDefault())}),i&&Kr(t,"click").pipe($t(e),LC(r),$e(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const s=r.container instanceof HTMLElement?r.container:Ff(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const c=new $K,d=(e=r.injector||e).get(xo,null)||this._environmentInjector,f=this._getContentRef(e,d,i,c,r);let _=!1!==r.backdrop?this._attachBackdrop(s):void 0,x=this._attachWindowComponent(s,f.nodes),T=new oFe(x,f,_,r.beforeDismiss);return this._registerModalRef(T),this._registerWindowCmpt(x),T.hidden.pipe(Vn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),c.close=M=>{T.close(M)},c.dismiss=M=>{T.dismiss(M)},c.update=M=>{T.update(M)},T.update(r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),_&&_.instance&&_.changeDetectorRef.detectChanges(),x.changeDetectorRef.detectChanges(),T}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=jA(iFe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=jA(aFe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,s,o){return r?r instanceof $i?this._createFromTemplateRef(r,s):Nf(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new Hf([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new Hf([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Hf([[i]])}_createFromComponent(e,i,r,s,o){const d=jA(r,{environmentInjector:i,elementInjector:Gi.create({providers:[{provide:$K,useValue:s}],parent:e})}),f=d.location.nativeElement;return o.scrollable&&f.classList.add("component-host-scrollable"),this._applicationRef.attachView(d.hostView),new Hf([[f]],d.hostView,d)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||n)(ce(ja),ce(Gi),ce(xo),ce(on),ce(lFe),ce(jp),ce(lt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dFe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(ce(bT))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YK=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Gi),ce(cFe),ce(dFe))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({providers:[YK]})}return n})(),KK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),sQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),oQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),aQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),lQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),cQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),dQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),uQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),hQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})();new Be("live announcer delay",{providedIn:"root",factory:function DFe(){return 100}});let fQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})(),pQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({})}return n})();const IFe=[mK,_K,bK,xK,UK,GK,qK,KK,pQ,sQ,oQ,aQ,lQ,cQ,dQ,uQ,hQ,fQ];let gQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[IFe,mK,_K,bK,xK,UK,GK,qK,KK,pQ,sQ,oQ,aQ,lQ,cQ,dQ,uQ,hQ,fQ]})}return n})(),mQ=(()=>{class n{constructor(e,i){this.apiService=e,this.storageService=i,this.pet_list=[],this.fetchPets()}fetchPets(){var e=this;return(0,qe.Z)(function*(){try{const i=yield e.apiService.getClientPets(e.storageService.SessionGetStorage("uid"));e.pet_list=i,e.storageService.SessionAddStorage("pets",e.pet_list)}catch(i){console.error("Error fetching pets:",i)}})()}findPet(e){var i=this;return(0,qe.Z)(function*(){return i.pet_list||(yield i.fetchPets()),i.pet_list.find(r=>r.id===e)})()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Ml),ce(Al))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const SFe={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"},black:{primary:"#000000",secondary:"#000000"},green:{primary:"#2D6F28",secondary:"#2D6F28"}};let AFe=(()=>{class n{constructor(e,i,r){this.storageService=e,this.apiservice=i,this.petService=r,this.uid="",this.eventListSubject=new he,this.eventList=[],this.EventList=this.eventListSubject.asObservable();var s=e.SessionGetStorage("uid");this.apiservice.getAppointments(s).then(o=>{o.forEach(c=>{var d,f="";d=this.parseDateFromString(c.start_date)<new Date?"black":"green",r.pet_list.forEach(_=>{f=_.id==c.pet_id?_.name:"Bobby"}),this.addEvent({start:this.parseDateFromString(c.start_date),end:this.parseDateFromString(c.end_date),title:f,pet_id:c.pet_id,matter:c.matter,color:{...SFe[d]}})})})}getVetfromPet(e){var i=this.storageService.SessionGetStorage("pets");return i.find(r=>r.id==e)?.vet_id}parseDateFromString(e){const r=e.match(/^(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})$/);if(r){const s=parseInt(r[1]),o=parseInt(r[2])-1,c=parseInt(r[3]),d=parseInt(r[4]),f=parseInt(r[5]),_=new Date(c,o,s,d,f);if(!isNaN(_.getTime()))return _}return null}addEvent(e){this.eventList.push(e),this.eventListSubject.next(this.eventList)}deleteEvent(e){this.eventList=this.eventList.filter(i=>i!==e),this.eventListSubject.next(this.eventList)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Al),ce(Ml),ce(mQ))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kFe(n,t){}class OT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let _Q=(()=>{class n extends sF{constructor(e,i,r,s,o,c,d,f){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=o,this._ngZone=c,this._overlayRef=d,this._focusMonitor=f,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=_=>{this._portalOutlet.hasAttached();const x=this._portalOutlet.attachDomPortal(_);return this._contentAttached(),x},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=I0(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=I0();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=I0())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(V1),B(on,8),B(OT),B(L1),B(lt),B(L0),B(M0))};static#t=this.\u0275cmp=kt({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&wi(N0,7),2&i){let s;Ut(s=jt())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Rt("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[hn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&xe(0,kFe,0,0,"ng-template",0)},dependencies:[N0],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class PL{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new he,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ta(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const vQ=new Be("DialogScrollStrategy"),MFe=new Be("DialogData"),RFe=new Be("DefaultDialogConfig"),PFe={provide:vQ,deps:[Dc],useFactory:function OFe(n){return()=>n.scrollStrategies.block()}};let NFe=0,yQ=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,s,o,c){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new he,this._afterOpenedAtThisLevel=new he,this._ariaHiddenElements=new Map,this.afterAllClosed=$b(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ko(void 0))),this._scrollStrategy=c}open(e,i){(i={...this._defaultOptions||new OT,...i}).id=i.id||"cdk-dialog-"+NFe++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),o=this._overlay.create(s),c=new PL(o,i),d=this._attachContainer(o,c,i);return c.containerInstance=d,this._attachDialogContent(e,c,d,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){NL(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){NL(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),NL(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new H1({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,o=[{provide:OT,useValue:r},{provide:PL,useValue:i},{provide:L0,useValue:e}];let c;r.container?"function"==typeof r.container?c=r.container:(c=r.container.type,o.push(...r.container.providers(r))):c=_Q;const d=new P0(c,r.viewContainerRef,Gi.create({parent:s||this._injector,providers:o}),r.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,i,r,s){if(e instanceof $i){const o=this._createInjector(s,i,r,void 0);let c={$implicit:s.data,dialogRef:i};s.templateContext&&(c={...c,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new rF(e,null,c,o))}else{const o=this._createInjector(s,i,r,this._injector),c=r.attachComponentPortal(new P0(e,s.viewContainerRef,o,s.componentFactoryResolver));i.componentRef=c,i.componentInstance=c.instance}}_createInjector(e,i,r,s){const o=e.injector||e.viewContainerRef?.injector,c=[{provide:MFe,useValue:e.data},{provide:PL,useValue:i}];return e.providers&&("function"==typeof e.providers?c.push(...e.providers(i,e,r)):c.push(...e.providers)),e.direction&&(!o||!o.get(Ec,null,{optional:!0}))&&c.push({provide:Ec,useValue:{value:e.direction,change:de()}}),Gi.create({parent:o||s,providers:c})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Dc),ce(Gi),ce(RFe,8),ce(n,12),ce(U1),ce(vQ))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function NL(n,t){let e=n.length;for(;e--;)t(n[e])}let FFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({providers:[yQ,PFe],imports:[j1,F0,oX,F0]})}return n})();function LFe(n,t){}class PT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const FL="mdc-dialog--open",bQ="mdc-dialog--opening",xQ="mdc-dialog--closing";let zFe=(()=>{class n extends _Q{constructor(e,i,r,s,o,c,d,f){super(e,i,r,s,o,c,d,f),this._animationStateChanged=new Ve}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(V1),B(on,8),B(PT),B(L1),B(lt),B(L0),B(M0))};static#t=this.\u0275cmp=kt({type:n,selectors:[["ng-component"]],features:[hn],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();const wQ="--mat-dialog-transition-duration";function CQ(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?xf(n.substring(0,n.length-2)):n.endsWith("s")?1e3*xf(n.substring(0,n.length-1)):"0"===n?0:null}let HFe=(()=>{class n extends zFe{constructor(e,i,r,s,o,c,d,f,_){super(e,i,r,s,o,c,d,_),this._animationMode=f,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?CQ(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?CQ(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(wQ,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(bQ,FL)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(FL),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(FL),this._animationsEnabled?(this._hostElement.style.setProperty(wQ,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(xQ)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(bQ,xQ)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(V1),B(on,8),B(PT),B(L1),B(lt),B(L0),B(Ha,8),B(M0))};static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(Bs("id",r._config.id),Rt("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Nt("_mat-animation-noopable",!r._animationsEnabled))},features:[hn],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(q(0,"div",0)(1,"div",1),xe(2,LFe,0,0,"ng-template",2),Q()())},dependencies:[N0],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();class UFe{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new he,this._beforeClosed=new he,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Dn(r=>"opened"===r.state),Vn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Dn(r=>"closed"===r.state),Vn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),J(this.backdropClick(),this.keydownEvents().pipe(Dn(r=>27===r.keyCode&&!this.disableClose&&!Ta(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function jFe(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Dn(e=>"closing"===e.state),Vn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const WFe=new Be("MatMdcDialogData"),GFe=new Be("mat-mdc-dialog-default-options"),EQ=new Be("mat-mdc-dialog-scroll-strategy"),YFe={provide:EQ,deps:[Dc],useFactory:function $Fe(n){return()=>n.scrollStrategies.block()}};let qFe=0,XFe=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,s,o,c,d,f,_,x){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=d,this._dialogContainerType=f,this._dialogDataToken=_,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new he,this._afterOpenedAtThisLevel=new he,this._idPrefix="mat-dialog-",this.dialogConfigClass=PT,this.afterAllClosed=$b(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ko(void 0))),this._scrollStrategy=c,this._dialog=i.get(yQ)}open(e,i){let r;(i={...this._defaultOptions||new PT,...i}).id=i.id||`${this._idPrefix}${qFe++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:OT,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(o,c,d)=>(r=new this._dialogRefConstructor(o,i,d),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static#e=this.\u0275fac=function(i){Yp()};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),DQ=(()=>{class n extends XFe{constructor(e,i,r,s,o,c,d,f){super(e,i,s,c,d,o,UFe,HFe,WFe,f),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(i){return new(i||n)(ce(Dc),ce(Gi),ce($v,8),ce(GFe,8),ce(EQ),ce(n,12),ce(U1),ce(Ha,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),ZFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({providers:[DQ,YFe],imports:[FFe,j1,F0,co,co]})}return n})();class KFe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new he,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const QFe=["trigger"],JFe=["panel"];function eLe(n,t){if(1&n&&(q(0,"span",10),De(1),Q()),2&n){const e=ve();ee(1),ln(e.placeholder)}}function tLe(n,t){if(1&n&&(q(0,"span",14),De(1),Q()),2&n){const e=ve(2);ee(1),ln(e.triggerValue)}}function nLe(n,t){1&n&&nr(0,0,["*ngSwitchCase","true"])}function iLe(n,t){1&n&&(q(0,"span",11),xe(1,tLe,2,1,"span",12),xe(2,nLe,1,0,"ng-content",13),Q()),2&n&&(se("ngSwitch",!!ve().customTrigger),ee(2),se("ngSwitchCase",!0))}function rLe(n,t){if(1&n){const e=rn();jc(),vp(),q(0,"div",15,16),Fe("@transformPanel.done",function(r){return ut(e),ot(ve()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return ut(e),ot(ve()._handleKeydown(r))}),nr(2,1),Q()}if(2&n){const e=ve();(function Bz(n,t,e){fl(ca,nc,Zp(tt(),n,t,e),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),se("ngClass",e.panelClass)("@transformPanel","showing"),Rt("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const sLe=[[["mat-select-trigger"]],"*"],oLe=["mat-select-trigger","*"],aLe={transformPanelWrap:Lu("transformPanelWrap",[ta("* => void",XN("@transformPanel",[qN()],{optional:!0}))]),transformPanel:Lu("transformPanel",[kl("void",Mr({opacity:0,transform:"scale(1, 0.8)"})),ta("void => showing",Da("120ms cubic-bezier(0, 0, 0.2, 1)",Mr({opacity:1,transform:"scale(1, 1)"}))),ta("* => void",Da("100ms linear",Mr({opacity:0})))])};let IQ=0;const SQ=new Be("mat-select-scroll-strategy"),cLe=new Be("MAT_SELECT_CONFIG"),dLe={provide:SQ,deps:[Dc],useFactory:function lLe(n){return()=>n.scrollStrategies.reposition()}},uLe=new Be("MatSelectTrigger");class hLe{constructor(t,e){this.source=t,this.value=e}}const fLe=EX(lTe(CX(DX(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new he}}))));let pLe=(()=>{class n extends fLe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Di.required)??!1}set required(e){this._required=cr(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=cr(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=cr(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=xf(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,s,o,c,d,f,_,x,T,M,N,V){super(o,s,d,f,x),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=c,this._parentFormField=_,this._liveAnnouncer=N,this._defaultOptions=V,this._panelOpen=!1,this._compareWith=(U,re)=>U===re,this._uid="mat-select-"+IQ++,this._triggerAriaLabelledBy=null,this._destroy=new he,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+IQ++,this._panelDoneAnimatingStream=new he,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=$b(()=>{const U=this.options;return U?U.changes.pipe(ko(U),vt(()=>J(...U.map(re=>re.onSelectionChange)))):this._ngZone.onStable.pipe(Vn(1),vt(()=>this.optionSelectionChanges))}),this.openedChange=new Ve,this._openedStream=this.openedChange.pipe(Dn(U=>U),$e(()=>{})),this._closedStream=this.openedChange.pipe(Dn(U=>!U),$e(()=>{})),this.selectionChange=new Ve,this.valueChange=new Ve,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=V?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=V.typeaheadDebounceInterval),this._scrollStrategyFactory=M,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(T)||0,this.id=this.id}ngOnInit(){this._selectionModel=new KFe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(en(),$t(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe($t(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(ko(null),$t(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&Zq(this._trackedModal,"aria-owns",i),function $De(n,t,e){const i=Kq(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(Zq(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,o=this._keyManager;if(!o.isTyping()&&s&&!Ta(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const c=this.selected;o.onKeydown(e);const d=this.selected;d&&c!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,o=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(o||13!==r&&32!==r||!i.activeItem||Ta(e))if(!o&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const c=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(c?d.select():d.deselect())})}else{const c=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==c&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Vn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new ZDe(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=J(this.options.changes,this._destroy);this.optionSelectionChanges.pipe($t(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),J(...this.options.map(i=>i._stateChanges)).pipe($t(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(B(nF),B(hr),B(lt),B(TX),B(zt),B(Ec,8),B(v0,8),B(wc,8),B(q1,8),B(xc,10),Gc("tabindex"),B(SQ),B(m1e),B(cLe,8))};static#t=this.\u0275dir=je({type:n,viewQuery:function(i,r){if(1&i&&(wi(QFe,5),wi(JFe,5),wi(bX,5)),2&i){let s;Ut(s=jt())&&(r.trigger=s.first),Ut(s=jt())&&(r.panel=s.first),Ut(s=jt())&&(r._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[hn,Mn]})}return n})(),gLe=(()=>{class n extends pLe{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe($t(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,s=function DTe(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let o=0;o<n+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),o=i._getHostElement();r.scrollTop=0===e&&1===s?0:function TTe(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new hLe(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof aF?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=cr(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=tr(n)))(r||n)}}();static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(1&i&&(si(s,uLe,5),si(s,LX,5),si(s,FX,5)),2&i){let o;Ut(o=jt())&&(r.customTrigger=o.first),Ut(o=jt())&&(r.options=o),Ut(o=jt())&&(r.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&Fe("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(Rt("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Nt("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[li([{provide:hF,useExisting:n},{provide:NX,useExisting:n}]),hn],ngContentSelectors:oLe,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(fa(sLe),q(0,"div",0,1),Fe("click",function(){return r.toggle()}),q(3,"div",2),xe(4,eLe,2,1,"span",3),xe(5,iLe,3,2,"span",4),Q(),q(6,"div",5)(7,"div",6),jc(),q(8,"svg",7),Qe(9,"path",8),Q()()()(),xe(10,rLe,3,9,"ng-template",9),Fe("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const s=Un(1);ee(3),se("ngSwitch",r.empty),Rt("id",r._valueId),ee(1),se("ngSwitchCase",!0),ee(1),se("ngSwitchCase",!1),ee(5),se("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[ga,Th,Xv,g3,bX,aF],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[aLe.transformPanel]},changeDetection:0})}return n})(),mLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({providers:[dLe],imports:[vl,j1,VX,co,z1,fF,VX,co]})}return n})();const _Le=["modalContent"];function vLe(n,t){if(1&n){const e=rn();q(0,"mwl-calendar-month-view",13),Fe("dayClicked",function(r){return ut(e),ot(ve().dayClicked(r.day))})("eventClicked",function(r){return ut(e),ot(ve().eventClicked(r))})("beforeViewRender",function(r){return ut(e),ot(ve().beforeMonthViewRender(r))}),Q()}if(2&n){const e=ve();se("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)("activeDayIsOpen",e.activeDayIsOpen)}}function yLe(n,t){if(1&n){const e=rn();q(0,"mwl-calendar-week-view",14),Fe("beforeViewRender",function(r){return ut(e),ot(ve().beforeWeekViewRender(r))}),Q()}if(2&n){const e=ve();se("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)}}function bLe(n,t){if(1&n){const e=rn();q(0,"mwl-calendar-day-view",14),Fe("beforeViewRender",function(r){return ut(e),ot(ve().beforeDayViewRender(r))}),Q()}if(2&n){const e=ve();se("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)}}function xLe(n,t){if(1&n){const e=rn();q(0,"div",15)(1,"div",16),Fe("click",function(){return ut(e),ot(ve().triggerCreateFlag())}),Qe(2,"img",17),q(3,"div",18)(4,"p"),De(5,"Add new Appointment"),Q()()()()}}function wLe(n,t){if(1&n&&(q(0,"mat-option",32),De(1),Q()),2&n){const e=t.$implicit;se("value",e.id),ee(1),Cn(" ",e.name," ")}}function CLe(n,t){if(1&n){const e=rn();q(0,"div")(1,"form",19),Fe("ngSubmit",function(){return ut(e),ot(ve().add_appoint())}),q(2,"mat-form-field")(3,"mat-select",20),Fe("selectionChange",function(r){return ut(e),ot(ve().handleSelectChange(r))}),xe(4,wLe,2,2,"mat-option",21),Q()(),q(5,"div",22)(6,"mat-form-field")(7,"mat-label"),De(8,"Start Date"),Q(),q(9,"input",23),Fe("click",function(){return ut(e),ot(Un(12).open())})("dateInput",function(r){return ut(e),ot(ve().onDateInputStart(r))}),Q(),Qe(10,"mat-datepicker-toggle",24)(11,"mat-datepicker",null,25),Q()(),q(13,"div",22)(14,"mat-form-field")(15,"mat-label"),De(16,"End Date"),Q(),q(17,"input",26),Fe("click",function(){return ut(e),ot(Un(20).open())})("dateInput",function(r){return ut(e),ot(ve().onDateInputEnd(r))}),Q(),Qe(18,"mat-datepicker-toggle",24)(19,"mat-datepicker",null,27),Q()(),q(21,"div",22),Qe(22,"input",28),q(23,"label"),De(24,"Matter"),Q()(),q(25,"div",29)(26,"button",30),De(27,"Add"),Q(),q(28,"button",31),Fe("click",function(){return ut(e),ot(ve().triggerCreateFlag())}),De(29,"Back"),Q()()()()}if(2&n){const e=Un(12),i=Un(20),r=ve();ee(1),se("formGroup",r.apponintForm),ee(3),se("ngForOf",r.pets),ee(5),se("matDatepicker",e),ee(1),se("for",e),ee(7),se("matDatepicker",i),ee(1),se("for",i),ee(8),se("disabled",r.apponintForm.invalid)}}function ELe(n,t){if(1&n){const e=rn();q(0,"div",34)(1,"div",35),Qe(2,"img",36),q(3,"div",37)(4,"b",38),De(5),Vt(6,"date"),Q(),q(7,"p",39),De(8),Q(),q(9,"p",39),De(10,"Vet: Ramon"),Q(),q(11,"p",39),De(12),Q()(),q(13,"img",40),Fe("click",function(){const s=ut(e).$implicit;return ot(ve(2).edit_appoint(s))}),Q(),q(14,"img",41),Fe("click",function(){const s=ut(e).$implicit;return ot(ve(2).delete_event(s))}),Q()()()}if(2&n){const e=t.$implicit;ee(5),ln(Io(6,3,e.start,"MMM dd 'at' hh:mm a")),ee(3),Cn("Pet: ",e.title,""),ee(4),Cn("Matter: ",e.matter,"")}}function DLe(n,t){if(1&n&&(q(0,"div"),xe(1,ELe,15,6,"div",33),Q()),2&n){const e=ve();ee(1),se("ngForOf",e.displayed_events)}}!function Dle(n,t,e){(function Tre(n,t,e){"string"!=typeof t&&(e=t,t=n[ir.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),sg[t]=n,e&&(sg[t][ir.ExtraData]=e)})(n,t,e)}(iRe);const LL={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"},black:{primary:"#000000",secondary:"#000000"},green:{primary:"#2D6F28",secondary:"#2D6F28"}};let TLe=(()=>{class n{constructor(e,i,r,s,o,c,d,f,_){this.modal=e,this.storageService=i,this.apiService=r,this.appointmentService=s,this.router=o,this.fb=c,this.datePipe=d,this.petService=f,this.dialog=_,this.locale="en",this.view=Mf.Month,this.CalendarView=Mf,this.viewDate=new Date,this.refresh=new he,this.events=[],this.displayed_events=[],this.activeDayIsOpen=!0,this.pets=[],this.selectedValue="",this.createFlag=!1,this.editFlag=!1,this.storageService.SessionGetStorage("uid"),this.pets=this.storageService.SessionGetStorage("pets"),this.apponintForm=this.fb.group({pet:["",[Di.required]],start_date:["",Di.required],end_date:["",[Di.required]],matter:["",Di.required]})}handleSelectChange(e){this.selectedValue=e.value}add_appoint(){let e="";if(e=this.apponintForm.get("start_date").value<new Date?"black":"green",this.editFlag)this.events.find(s=>{this.petService.findPet(this.apponintForm.get("pet").value).then(o=>this.eventToEdit.title=o?.name),this.eventToEdit.start=this.apponintForm.get("start_date").value,this.eventToEdit.end=this.apponintForm.get("end_date").value,this.eventToEdit.pet_id=this.apponintForm.get("pet").value,this.eventToEdit.matter=this.apponintForm.get("matter").value,this.eventToEdit.color={...LL[e]}},this.eventToEdit),this.displayed_events.find(s=>{this.petService.findPet(this.apponintForm.get("pet").value).then(o=>this.eventToEdit.title=o?.name),this.eventToEdit.start=this.apponintForm.get("start_date").value,this.eventToEdit.end=this.apponintForm.get("end_date").value,this.eventToEdit.pet_id=this.apponintForm.get("pet").value,this.eventToEdit.matter=this.apponintForm.get("matter").value,this.eventToEdit.color={...LL[e]}},this.eventToEdit),this.triggerEditFlag();else{var i={title:"",start:this.apponintForm.get("start_date").value,end:this.apponintForm.get("end_date").value,pet_id:this.apponintForm.get("pet").value,matter:this.apponintForm.get("matter").value,color:{...LL[e]}};this.petService.findPet(this.apponintForm.get("pet").value).then(s=>{i.title=s?.name,this.events.push(i),this.displayed_events.push(i),this.refresh.next()});var r={end_date:this.formatDate(this.apponintForm.get("end_date").value),matter:this.apponintForm.get("matter").value,pet_id:this.apponintForm.get("pet").value,start_date:this.formatDate(this.apponintForm.get("start_date").value)};this.apiService.publishAppoint(r)}this.triggerCreateFlag()}parseDateFromString(e){const r=e.match(/^(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})$/);if(r){const s=parseInt(r[1]),o=parseInt(r[2])-1,c=parseInt(r[3]),d=parseInt(r[4]),f=parseInt(r[5]),_=new Date(c,o,s,d,f);if(!isNaN(_.getTime()))return _}return null}triggerEditFlag(){this.editFlag=!this.editFlag}triggerCreateFlag(){this.createFlag?(this.createFlag=!1,this.apponintForm.controls.pet.setValue(""),this.apponintForm.controls.start_date.setValue(""),this.apponintForm.controls.end_date.setValue(""),this.apponintForm.controls.matter.setValue("")):this.createFlag=!0}edit_appoint(e){this.triggerCreateFlag(),this.triggerEditFlag(),this.apponintForm.controls.pet.setValue(e.pet_id),this.apponintForm.controls.start_date.setValue(e.start),this.apponintForm.controls.end_date.setValue(e.end),this.apponintForm.controls.matter.setValue(e.matter),this.eventToEdit=e}onDateInputStart(e){this.apponintForm.value.start_date=e.value}onDateInputEnd(e){this.apponintForm.value.end_date=e.value}formatDate(e){return`${String(e.getDate()).padStart(2,"0")}${String(e.getMonth()+1).padStart(2,"0")}${e.getFullYear()}_${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`}ngOnInit(){this.appointmentService.EventList.subscribe(e=>{this.events=e;var i=new Date;this.events.forEach(r=>{this.pets.find(s=>{s.id==r.pet_id&&(r.title=s.name,r.vet="Ramon")}),r.start>i&&!this.displayed_events.find(s=>s==r)&&(console.log(r),this.displayed_events.push(r))})})}eventClicked({event:e}){this.router.navigate(["clients/pet"],{queryParams:{petId:e.pet_id}})}dayClicked({date:e,events:i}){Y7(e,this.viewDate)&&(this.activeDayIsOpen=!(q7(this.viewDate,e)&&!0===this.activeDayIsOpen||0===i.length),this.viewDate=e)}beforeMonthViewRender(e){e.body.forEach(i=>{i.isPast&&(i.cssClass="bg-pink")})}beforeWeekViewRender(e){e.hourColumns.forEach(i=>{i.hours.forEach(r=>{r.segments.forEach(s=>{})})})}beforeDayViewRender(e){e.hourColumns.forEach(i=>{i.hours.forEach(r=>{r.segments.forEach(s=>{})})})}delete_event(e){this.displayed_events.splice(this.displayed_events.indexOf(e),1),this.events.splice(this.events.indexOf(e),1),this.appointmentService.deleteEvent(e)}setView(e){this.view=e}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}static#e=this.\u0275fac=function(i){return new(i||n)(B(YK),B(Al),B(Ml),B(AFe),B(os),B(x0),B(hg),B(mQ),B(DQ))};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-appointments"]],viewQuery:function(i,r){if(1&i&&wi(_Le,7),2&i){let s;Ut(s=jt())&&(r.modalContent=s.first)}},decls:36,vars:23,consts:[[1,"row","text-center"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-dark",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-dark",3,"view","viewDate","viewDateChange"],[1,"btn","btn-dark",3,"click"],[1,"calendar-size",3,"ngSwitch"],[3,"locale","viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","beforeViewRender",4,"ngSwitchCase"],[3,"locale","viewDate","events","refresh","beforeViewRender",4,"ngSwitchCase"],[2,"width","100%","align-self","center"],["style","justify-content: center; height: 80px;",4,"ngIf"],[4,"ngIf"],[3,"locale","viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","beforeViewRender"],[3,"locale","viewDate","events","refresh","beforeViewRender"],[2,"justify-content","center","height","80px"],[1,"appointment-container",2,"display","flex","text-align","center",3,"click"],["src","../../../assets/imgs/Add.svg",2,"height","70%","padding-left","5%","padding-top","5%"],[2,"align-items","center","text-align","center"],[3,"formGroup","ngSubmit"],["formControlName","pet",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"form-floating","mb-3"],["formControlName","start_date","matInput","","readonly","","required","",3,"matDatepicker","click","dateInput"],["matSuffix","",3,"for"],["picker",""],["formControlName","end_date","matInput","","readonly","","required","",3,"matDatepicker","click","dateInput"],["picker2",""],["type","text","formControlName","matter","placeholder","Matter",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[3,"click"],[3,"value"],["style","justify-content: center; height: 100px;",4,"ngFor","ngForOf"],[2,"justify-content","center","height","100px"],[1,"appointment-container",2,"display","flex","text-align","center"],["src","../../../assets/imgs/vet_img.svg",2,"height","70%","padding-left","5%","padding-top","5%"],[2,"align-items","center","text-align","left","max-width","200px","padding-left","10px"],[2,"word-wrap","break-word","margin","0","color","#286024"],[2,"word-wrap","break-word","margin","0"],["src","../../../assets/imgs/edit_icon.svg",1,"editIcons",3,"click"],["src","../../../assets/imgs/delete_icon.svg",1,"editIcons",3,"click"]],template:function(i,r){1&i&&(q(0,"h1"),De(1,"Appointments"),Q(),Qe(2,"br"),q(3,"div",0)(4,"div",1)(5,"div",2)(6,"div",3),Fe("viewDateChange",function(o){return r.viewDate=o})("viewDateChange",function(){return r.closeOpenMonthViewDay()}),De(7," Previous "),Q(),q(8,"div",4),Fe("viewDateChange",function(o){return r.viewDate=o}),De(9," Today "),Q(),q(10,"div",5),Fe("viewDateChange",function(o){return r.viewDate=o})("viewDateChange",function(){return r.closeOpenMonthViewDay()}),De(11," Next "),Q()()(),q(12,"div",1)(13,"h3"),De(14),Vt(15,"calendarDate"),Q()(),q(16,"div",1)(17,"div",2)(18,"div",6),Fe("click",function(){return r.setView(r.CalendarView.Month)}),De(19," Month "),Q(),q(20,"div",6),Fe("click",function(){return r.setView(r.CalendarView.Week)}),De(21," Week "),Q(),q(22,"div",6),Fe("click",function(){return r.setView(r.CalendarView.Day)}),De(23," Day "),Q()()()(),Qe(24,"br"),q(25,"div",7),xe(26,vLe,1,5,"mwl-calendar-month-view",8),xe(27,yLe,1,4,"mwl-calendar-week-view",9),xe(28,bLe,1,4,"mwl-calendar-day-view",9),Q(),Qe(29,"br"),q(30,"h3",10),De(31,"Upcommig Appointments"),Q(),xe(32,xLe,6,0,"div",11),xe(33,CLe,30,7,"div",12),Qe(34,"br"),xe(35,DLe,2,1,"div",12)),2&i&&(ee(6),se("view",r.view)("viewDate",r.viewDate),ee(2),se("viewDate",r.viewDate),ee(2),se("view",r.view)("viewDate",r.viewDate),ee(4),ln(gl(15,19,r.viewDate,r.view+"ViewTitle","en")),ee(4),Nt("active",r.view===r.CalendarView.Month),ee(2),Nt("active",r.view===r.CalendarView.Week),ee(2),Nt("active",r.view===r.CalendarView.Day),ee(3),se("ngSwitch",r.view),ee(1),se("ngSwitchCase",r.CalendarView.Month),ee(1),se("ngSwitchCase",r.CalendarView.Week),ee(1),se("ngSwitchCase",r.CalendarView.Day),ee(4),se("ngIf",!r.createFlag),ee(1),se("ngIf",r.createFlag),ee(2),se("ngIf",!r.createFlag))},dependencies:[Sr,qi,Th,Xv,Bm,Ru,Fm,Lm,b0,wc,_f,BMe,zMe,HMe,YMe,TZ,eRe,_7,Q1,v7,s7,n7,$1,YX,gLe,LX,hg,X0],styles:[".calendar-size[_ngcontent-%COMP%]{font-size:11px!important}.appointment-container[_ngcontent-%COMP%]{width:100%;height:100%;top:405px;left:1488px;border-radius:8px;background-color:#fff;text-align:center;margin-bottom:25px;padding-top:3%}.editIcons[_ngcontent-%COMP%]{padding:1%;margin-left:20px;width:40px}p[_ngcontent-%COMP%]{font-size:12px}"]})}return n})();class VL{}class AQ{}const ILe=["determinateSpinner"];function SLe(n,t){if(1&n&&(jc(),q(0,"svg",11),Qe(1,"circle",12),Q()),2&n){const e=ve();Rt("viewBox",e._viewBox()),ee(1),Nr("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),Rt("r",e._circleRadius())}}const ALe=lF(class{constructor(n){this._elementRef=n}},"primary"),kLe=new Be("mat-progress-spinner-default-options",{providedIn:"root",factory:function MLe(){return{diameter:kQ}}}),kQ=100;let OLe=(()=>{class n extends ALe{constructor(e,i,r){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=kQ,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,xf(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=xf(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=xf(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(i){return new(i||n)(B(zt),B(Ha,8),B(kLe))};static#t=this.\u0275cmp=kt({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(1&i&&wi(ILe,5),2&i){let s;Ut(s=jt())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(i,r){2&i&&(Rt("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),Nr("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),Nt("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[hn],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(1&i&&(xe(0,SLe,2,8,"ng-template",null,0,Yi),q(2,"div",1,2),jc(),q(4,"svg",3),Qe(5,"circle",4),Q()(),vp(),q(6,"div",5)(7,"div",6)(8,"div",7),bh(9,8),Q(),q(10,"div",9),bh(11,8),Q(),q(12,"div",10),bh(13,8),Q()()()),2&i){const s=Un(1);ee(4),Rt("viewBox",r._viewBox()),ee(1),Nr("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Rt("r",r._circleRadius()),ee(4),se("ngTemplateOutlet",s),ee(2),se("ngTemplateOutlet",s),ee(2),se("ngTemplateOutlet",s)}},dependencies:[ms],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return n})(),PLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[vl,co]})}return n})();function NLe(n,t){1&n&&bh(0)}function FLe(n,t){1&n&&bh(0)}function LLe(n,t){if(1&n){const e=rn();q(0,"button",7),Fe("click",function(){ut(e);const r=ve().$implicit;return ot(ve(2).redirectVisitPage(r.id||""))}),q(1,"div",8)(2,"div"),Qe(3,"img",9),Q(),q(4,"div",10)(5,"ul")(6,"li")(7,"b"),De(8),Vt(9,"transloco"),Q(),De(10),Q(),q(11,"li")(12,"b"),De(13),Vt(14,"transloco"),Q(),De(15),Q(),q(16,"li")(17,"b"),De(18),Vt(19,"transloco"),Q(),De(20),Q()()()()()}if(2&n){const e=ve().$implicit,i=ve(2);ec("id",e.id),ee(3),ec("src",i.VisitPet.profile_image,_h),ee(5),Cn(" ",En(9,8,"pet_profile_birth")," "),ee(2),Cn(" ",i.VisitPet.name,""),ee(3),Cn(" ",En(14,10,"start"),""),ee(2),Cn(" ",i.formatStartDate(e.start_date||""),""),ee(3),Cn(" ",En(19,12,"end"),""),ee(2),Cn(" ",i.formatStartDate(e.end_date||""),"")}}function VLe(n,t){if(1&n&&(q(0,"div"),xe(1,FLe,1,0,"ng-container",6),xe(2,LLe,21,14,"ng-template",null,1,Yi),Q()),2&n){const e=t.$implicit,i=Un(3),r=ve(2);ee(1),se("ngIf",r.isTodayVisit(e.end_date||""))("ngIfThen",i)}}function BLe(n,t){1&n&&xe(0,VLe,4,2,"div",5),2&n&&se("ngForOf",ve().clientAppointments)}function zLe(n,t){1&n&&(q(0,"div")(1,"p"),De(2),Vt(3,"transloco"),Q()()),2&n&&(ee(2),Cn(" ",En(3,1,"no_visits"),""))}function HLe(n,t){1&n&&(q(0,"div",11),Qe(1,"mat-spinner"),Q())}function ULe(n,t){if(1&n){const e=rn();q(0,"div",12)(1,"div",13),Fe("click",function(){const s=ut(e).$implicit;return ot(ve().redirectPetPage(s.id||""))}),Qe(2,"img",14),q(3,"div",15)(4,"p"),De(5),Q()()()()}if(2&n){const e=t.$implicit;ee(1),ec("id",e.id),ee(1),ec("src",e.profile_image,_h),ee(3),ln(e.name)}}let jLe=(()=>{class n{constructor(e,i,r,s){this.router=e,this.apiService=i,this.storageService=r,this.translocoService=s,this.contentIsLoading=!0,this.currentDate=new Date,this.showData(),this.client=new VL,this.petsArray=[],this.clientAppointments=[],this.ifvisit=!1,this.isTodayVisits=[],this.VisitPet=new AQ}ngOnInit(){}formatStartDate(e){const r=e.match(/(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})/);return r?`${r[4]}:${r[5]}`:""}formatDate(e){const r=e.match(/(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})/);return r?`${r[1]}${r[2]}${r[3]}`:""}isTodayVisit(e){const o=`${this.currentDate.getDate().toString().padStart(2,"0")}${(this.currentDate.getMonth()+1).toString().padStart(2,"0")}${this.currentDate.getFullYear().toString()}`;return this.formatDate(e)==o}redirectPetPage(e){this.router.navigate(["pet-profile"],{queryParams:{petId:e}})}redirectVisitPage(e){this.router.navigate(["appointment"],{queryParams:{appointmentId:e}})}showData(){this.apiService.getSingleClient(this.storageService.SessionGetStorage("uid")).then(e=>{this.client=e,console.log(e)}),this.apiService.getClientPets(this.storageService.SessionGetStorage("uid")).then(e=>{this.petsArray=e;for(let i=0;i<e.length;i++)""==e[i].profile_image&&(e[i].profile_image="/assets/img/logo_default.svg");this.contentIsLoading=!1,this.storageService.SessionAddStorage("pets",e)}),this.apiService.getClientAppointments(this.storageService.SessionGetStorage("uid")).then(e=>{this.clientAppointments=e;let i=!1;for(const r of this.clientAppointments)this.apiService.getPet(r.pet_id||"").then(s=>{this.VisitPet=s,""==this.VisitPet.profile_image&&(this.VisitPet.profile_image="/assets/img/logo_default.svg")}),(i=this.isTodayVisit(r.end_date||""))&&this.isTodayVisits.push(r.end_date||"")})}static#e=this.\u0275fac=function(i){return new(i||n)(B(os),B(Ml),B(Al),B(J1))};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-home"]],decls:21,vars:27,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""],["class","spinnerDiv",4,"ngIf"],["class","module","style","text-align: center;",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen"],[1,"whiteButton",3,"id","click"],[2,"column-count","2"],[2,"width","70%",3,"src"],[2,"text-align","left"],[1,"spinnerDiv"],[1,"module",2,"text-align","center"],[1,"image-container",3,"id","click"],["width","50px","alt","Pet",3,"src"],[1,"overlay"]],template:function(i,r){if(1&i&&(q(0,"h1"),De(1),Vt(2,"transloco"),Q(),q(3,"h2"),De(4),Vt(5,"date"),Vt(6,"date"),Vt(7,"date"),Q(),q(8,"h1"),De(9),Vt(10,"transloco"),Q(),xe(11,NLe,1,0,"ng-container",0),xe(12,BLe,1,1,"ng-template",null,1,Yi),xe(14,zLe,4,3,"ng-template",null,2,Yi),q(16,"h1"),De(17),Vt(18,"transloco"),Q(),xe(19,HLe,2,0,"div",3),xe(20,ULe,6,3,"div",4)),2&i){const s=Un(13),o=Un(15);ee(1),Kw(" ",En(2,12,"welcome")," ",r.client.name,"\n"),ee(3),iA(" ",Io(5,14,r.currentDate,"EEEE"),", ",Io(6,17,r.currentDate,"d")," ",Io(7,20,r.currentDate,"MMMM"),""),ee(5),Cn(" ",En(10,23,"today_visits"),"\n"),ee(2),se("ngIf",r.isTodayVisits.length>0)("ngIfThen",s)("ngIfElse",o),ee(6),Cn(" ",En(18,25,"your_pets"),"\n"),ee(2),se("ngIf",r.contentIsLoading),ee(1),se("ngForOf",r.petsArray)}},dependencies:[Sr,qi,OLe,hg,$u],styles:[".whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:10px;border-radius:20px;width:100%;margin-right:20px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}.module[_ngcontent-%COMP%]{padding:0 40px}"]})}return n})();const WLe=["chart_div"];function GLe(n,t){if(1&n&&(q(0,"ul")(1,"li"),De(2),Q()()),2&n){const e=t.$implicit;ee(2),Cn("",e," \u2713")}}let $Le=(()=>{class n{constructor(e){this.apiService=e,this.chartOptions={series:[{name:"Cardiac Frequency",data:[70,75,80,74,84,90,75,70,80,91,92,93,64,75,86,77,98,109,60]},{name:"Steps",data:[300,200,100,290,500,400,211,314,194,211,112,323,414,125,376,517,238,419,310]}],chart:{type:"bar",height:350},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(r){return"$ "+r+" thousands"}}}},this.chartOptions2={series:[{name:"Weight",data:[90,91,90,93,94,90,95,98,100,98,97]},{name:"Height",data:[100,100,100,105,105,105,105,105,110,110,110]}],chart:{type:"line",height:350},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(r){return"$ "+r+" thousands"}}}};const i=new URLSearchParams(window.location.search);this.petInfo=new AQ,this.petImage=new String,this.showPetData(i.get("petId"))}showPetData(e){null!=e&&this.apiService.getPet(e).then(i=>{this.petInfo=i,""==this.petInfo.profile_image&&(this.petInfo.profile_image="/assets/img/logo_default.svg")})}getLatestWeight(){if(null!=this.petInfo.weight){const e=Object.keys(this.petInfo.weight);return this.petInfo.weight[e[e.length-1]]}return null}getBirth(e){if(null!=e){const i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=e.split("_")[0],o=parseInt(s.substring(0,2),10),c=parseInt(s.substring(2,4),10)-1,d=parseInt(s.substring(4,8),10);return`${o} of ${i[c]}, ${d}`}return null}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ml))};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-pet-profile-page"]],viewQuery:function(i,r){if(1&i&&wi(WLe,5),2&i){let s;Ut(s=jt())&&(r.chart=s.first)}},decls:69,vars:41,consts:[[2,"text-align","center"],["id","petsIcon","src","/assets/menuIcons/edit.svg","alt","pets"],["id","petsIcon","src","/assets/menuIcons/delete.svg","alt","pets"],[2,"width","300px",3,"src"],[1,"module",2,"column-count","2"],[1,"info-container"],["for","petTypeBreed"],["id","petTypeBreed"],["for","petWeight"],["id","petWeight"],["for","petHeight"],["id","petHeight"],[1,"module",2,"padding-right","5px"],[4,"ngFor","ngForOf"],[1,"module","info-container",2,"padding-right","5px"],[2,"text-align","justify"],[1,"module"],[1,"image-container"],["id","chart_div"],[3,"series","chart"]],template:function(i,r){1&i&&(q(0,"div")(1,"h1",0),De(2),Qe(3,"img",1)(4,"img",2),Q()(),q(5,"div",0),Qe(6,"img",3),Q(),q(7,"div",4)(8,"h1"),De(9),Vt(10,"transloco"),Q(),q(11,"div",5)(12,"div")(13,"div")(14,"label")(15,"b"),De(16),Vt(17,"transloco"),Q()(),q(18,"span"),De(19),Q(),Qe(20,"br"),q(21,"label")(22,"b"),De(23),Vt(24,"transloco"),Q()(),q(25,"span"),De(26),Q(),Qe(27,"br"),q(28,"label",6)(29,"b"),De(30),Vt(31,"transloco"),Q()(),q(32,"span",7),De(33),Q(),Qe(34,"br"),Q(),q(35,"div")(36,"label",8)(37,"b"),De(38),Vt(39,"transloco"),Q()(),q(40,"span",9),De(41),Q(),Qe(42,"br"),q(43,"label",10)(44,"b"),De(45),Vt(46,"transloco"),Q()(),q(47,"span",11),De(48),Q(),Qe(49,"br"),Q()(),q(50,"div",12)(51,"h1"),De(52),Vt(53,"transloco"),Q(),xe(54,GLe,3,1,"ul",13),Q()()(),q(55,"div",14)(56,"h1"),De(57),Vt(58,"transloco"),Q(),q(59,"p",15),De(60),Q()(),q(61,"div",16)(62,"h1"),De(63),Vt(64,"transloco"),Q(),Qe(65,"div",17),q(66,"div",18),Qe(67,"apx-chart",19)(68,"apx-chart",19),Q()()),2&i&&(ee(2),Cn("",r.petInfo.name," "),ee(4),ec("src",r.petInfo.profile_image,_h),ee(3),Cn(" ",En(10,23,"personal_info"),""),ee(7),ln(En(17,25,"pet_profile_name")),ee(3),Cn(" ",r.petInfo.name,""),ee(4),Cn(" ",En(24,27,"pet_profile_birth"),""),ee(3),Cn(" ",r.getBirth(r.petInfo.birth),""),ee(4),ln(En(31,29,"pet_profile_type")),ee(3),Kw(" ",r.petInfo.type,", ",r.petInfo.breed,""),ee(5),Cn(" ",En(39,31,"pet_weight"),""),ee(3),Cn(" ",r.getLatestWeight(),"g"),ee(4),Cn(" ",En(46,33,"pet_height"),""),ee(3),Cn(" ",r.petInfo.height,"cm"),ee(4),ln(En(53,35,"pet_vaccines")),ee(2),se("ngForOf",null==r.petInfo.health_info?null:r.petInfo.health_info.vaccines),ee(3),ln(En(58,37,"pet_resume")),ee(3),Cn("",null==r.petInfo.health_info?null:r.petInfo.health_info.observations," "),ee(3),ln(En(64,39,"pet_statistics")),ee(4),se("series",r.chartOptions.series)("chart",r.chartOptions.chart),ee(1),se("series",r.chartOptions2.series)("chart",r.chartOptions2.chart))},dependencies:[Sr,r6,$u],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-right:50px}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:278px;height:178px}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}"]})}return n})(),YLe=(()=>{class n{constructor(e){this.router=e}redirectPetsPage(){this.router.navigate(["petsList"])}redirectVisitPage(){this.router.navigate(["appointments"])}static#e=this.\u0275fac=function(i){return new(i||n)(B(os))};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-menu-pet-appointment"]],decls:10,vars:0,consts:[[1,"whiteButton"],["src","/assets/menuIcons/calendar-clock 1.svg ","alt","petajda",3,"click"],["src","/assets/menuIcons/petjada.svg ","alt","petajda",3,"click"]],template:function(i,r){1&i&&(q(0,"h1"),De(1," Pet-vet menu\n"),Q(),q(2,"button",0)(3,"img",1),Fe("click",function(){return r.redirectVisitPage()}),Q(),q(4,"h2"),De(5,"Appointments"),Q()(),q(6,"button",0)(7,"img",2),Fe("click",function(){return r.redirectPetsPage()}),Q(),q(8,"h2"),De(9,"Pet space"),Q()())},styles:[".whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:50px;border-radius:20px;width:100%;margin-top:100px;margin-right:20px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px;margin-bottom:20px}"]})}return n})(),qLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-qr"]],decls:8,vars:6,consts:[[2,"text-align","center"],["src","/assets/imgs/under-dev.png","alt","unde development","width","100%"]],template:function(i,r){1&i&&(q(0,"h1"),De(1),Vt(2,"transloco"),Q(),q(3,"div",0),Qe(4,"img",1),q(5,"h2"),De(6),Vt(7,"transloco"),Q()()),2&i&&(ee(1),ln(En(2,2,"qr_underdev")),ee(5),ln(En(7,4,"stay_tunned")))},dependencies:[$u]})}return n})(),XLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-chat"]],decls:8,vars:6,consts:[[2,"text-align","center"],["src","/assets/imgs/under-dev.png","alt","unde development","width","100%"]],template:function(i,r){1&i&&(q(0,"h1"),De(1),Vt(2,"transloco"),Q(),q(3,"div",0),Qe(4,"img",1),q(5,"h2"),De(6),Vt(7,"transloco"),Q()()),2&i&&(ee(1),ln(En(2,2,"chat_underdev")),ee(5),ln(En(7,4,"stay_tunned")))},dependencies:[$u]})}return n})();function ZLe(n,t){if(1&n){const e=rn();q(0,"img",11),Fe("click",function(){return ut(e),ot(ve().enable("email"))}),Q()}}function KLe(n,t){if(1&n){const e=rn();q(0,"img",11),Fe("click",function(){return ut(e),ot(ve().enable("name"))}),Q()}}function QLe(n,t){if(1&n){const e=rn();q(0,"img",11),Fe("click",function(){return ut(e),ot(ve().enable("surnames"))}),Q()}}function JLe(n,t){if(1&n){const e=rn();q(0,"img",11),Fe("click",function(){return ut(e),ot(ve().enable("phone"))}),Q()}}function e2e(n,t){1&n&&(q(0,"button",12),De(1,"Save"),Q())}const t2e=[{path:"",component:GSe},{path:"register",component:tAe},{path:"map",component:$7},{path:"appointments",component:TLe},{path:"map",component:$7},{path:"home",component:jLe},{path:"pet-profile",component:$Le},{path:"menu-pet-appointment",component:YLe},{path:"petsList",component:HSe},{path:"qr",component:qLe},{path:"chat",component:XLe},{path:"profile",component:(()=>{class n{constructor(e,i,r){this.apiService=e,this.storageService=i,this.fb=r,this.client=new VL,this.apiService.getSingleClient(this.storageService.SessionGetStorage("uid")).then(s=>{this.client=s,this.registerUser.controls.email.setValue(s.email),this.registerUser.controls.name.setValue(s.name),this.registerUser.controls.surnames.setValue(s.surnames),this.registerUser.controls.phone.setValue(s.phone)}),this.registerUser=this.fb.group({email:[{value:"",disabled:!0},[Di.required,Di.email]],name:[{value:"",disabled:!0},Di.required],surnames:[{value:"",disabled:!0},[Di.required]],phone:[{value:"",disabled:!0},[Di.required,Di.min(1e8),Di.max(999999999)]]})}edit(){this.client.name=this.registerUser.get("name").value,this.client.email=this.registerUser.get("email").value,this.client.surnames=this.registerUser.get("surnames").value,this.client.phone=this.registerUser.get("phone").value,this.apiService.editUser(this.client)}enable(e){this.registerUser.controls[e].enable()}static#e=this.\u0275fac=function(i){return new(i||n)(B(Ml),B(Al),B(x0))};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-user-profile"]],decls:27,vars:30,consts:[[2,"align-items","center",3,"formGroup","ngSubmit"],[1,"form-floating","mb-3",2,"display","flex","align-items","center"],["type","email","formControlName","email",1,"form-control",2,"width","50%","margin-right","5px"],["for","email",1,"form-label",2,"margin","0"],["class","editIcons","src","../../../assets/imgs/edit_icon.svg","style","cursor: pointer;",3,"click",4,"ngIf"],["type","text","formControlName","name",1,"form-control",2,"width","50%","margin-right","5px"],["for","name",1,"form-label",2,"margin","0"],["type","text","formControlName","surnames",1,"form-control",2,"width","50%","margin-right","5px"],["type","tel","formControlName","phone",1,"form-control",2,"width","50%","margin-right","5px"],[1,"d-grid","gap-2"],["class","btn btn-primary btn-lg","type","submit",4,"ngIf"],["src","../../../assets/imgs/edit_icon.svg",1,"editIcons",2,"cursor","pointer",3,"click"],["type","submit",1,"btn","btn-primary","btn-lg"]],template:function(i,r){if(1&i&&(q(0,"form",0),Fe("ngSubmit",function(){return r.edit()}),q(1,"div",1),Qe(2,"input",2),q(3,"label",3)(4,"strong"),De(5,"Email"),Q()(),xe(6,ZLe,1,0,"img",4),Q(),q(7,"div",1),Qe(8,"input",5),q(9,"label",6)(10,"strong"),De(11,"Name"),Q()(),xe(12,KLe,1,0,"img",4),Q(),q(13,"div",1),Qe(14,"input",7),q(15,"label",6)(16,"strong"),De(17,"Surnames"),Q()(),xe(18,QLe,1,0,"img",4),Q(),q(19,"div",1),Qe(20,"input",8),q(21,"label",6)(22,"strong"),De(23,"Phone number"),Q()(),xe(24,JLe,1,0,"img",4),Q(),q(25,"div",9),xe(26,e2e,2,0,"button",10),Q()()),2&i){let s,o,c,d,f,_,x,T,M,N,V,U,re,te,oe,pe;se("formGroup",r.registerUser),ee(2),Nr("background-color",null!=(s=r.registerUser.get("email"))&&s.disabled?"transparent":"lightgray")("border",null!=(o=r.registerUser.get("email"))&&o.disabled?"none":"1px solid green")("outline",null!=(c=r.registerUser.get("email"))&&c.disabled?"none":"1px solid green"),ee(4),se("ngIf",null==(d=r.registerUser.get("email"))?null:d.disabled),ee(2),Nr("background-color",null!=(f=r.registerUser.get("name"))&&f.disabled?"transparent":"lightgray")("border",null!=(_=r.registerUser.get("name"))&&_.disabled?"none":"1px solid green")("outline",null!=(x=r.registerUser.get("name"))&&x.disabled?"none":"1px solid green"),ee(4),se("ngIf",null==(T=r.registerUser.get("name"))?null:T.disabled),ee(2),Nr("background-color",null!=(M=r.registerUser.get("surnames"))&&M.disabled?"transparent":"lightgray")("border",null!=(N=r.registerUser.get("surnames"))&&N.disabled?"none":"1px solid green")("outline",null!=(V=r.registerUser.get("surnames"))&&V.disabled?"none":"1px solid green"),ee(4),se("ngIf",null==(U=r.registerUser.get("surnames"))?null:U.disabled),ee(2),Nr("background-color",null!=(re=r.registerUser.get("phone"))&&re.disabled?"transparent":"lightgray")("border",null!=(te=r.registerUser.get("phone"))&&te.disabled?"none":"1px solid green")("outline",null!=(oe=r.registerUser.get("phone"))&&oe.disabled?"none":"1px solid green"),ee(4),se("ngIf",null==(pe=r.registerUser.get("phone"))?null:pe.disabled),ee(2),se("ngIf",r.registerUser.controls.phone.enabled||r.registerUser.controls.surnames.enabled||r.registerUser.controls.name.enabled||r.registerUser.controls.email.enabled)}},dependencies:[qi,Bm,Ru,Fm,Lm,wc,_f],styles:["a[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#000}input[type=email][_ngcontent-%COMP%]{padding-top:5px}"]})}return n})()}];let n2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({imports:[u9.forRoot(t2e),u9]})}return n})();const i2e=[[["","icon",""]],"*"],r2e=["[icon]","*"];let s2e=(()=>{class n{constructor(){this.routerLinkActiveOptions={exact:!1}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-sidenav-link"]],inputs:{routerLink:"routerLink",routerLinkActiveOptions:"routerLinkActiveOptions"},ngContentSelectors:r2e,decls:5,vars:2,consts:[["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],[1,"text-container"]],template:function(i,r){1&i&&(fa(i2e),q(0,"a",0)(1,"span"),nr(2),Q(),q(3,"span",1),nr(4,1),Q()()),2&i&&se("routerLink",r.routerLink)("routerLinkActiveOptions",r.routerLinkActiveOptions)},dependencies:[u0,i9],styles:["a[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:8px;min-width:80px;padding:16px;background-color:#2d6f28;font-weight:700;color:#afeebb;box-sizing:border-box;text-decoration:none;border-radius:0;transition:background-color 275ms ease-out}a[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]})}return n})(),o2e=(()=>{class n{changeIcon(e){switch(document.getElementById("profileIcon").src="/assets/menuIcons/userOff.svg",e){case"dashboardIcon":document.getElementById(e).src="/assets/menuIcons/homeOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("mapIcon","map"),this.disableIcon("chatIcon","chat"),this.disableIcon("qrIcon","qr");break;case"petsIcon":document.getElementById(e).src="/assets/menuIcons/dogOn.svg",this.disableIcon("dashboardIcon","home"),this.disableIcon("mapIcon","map"),this.disableIcon("chatIcon","chat"),this.disableIcon("qrIcon","qr");break;case"mapIcon":document.getElementById(e).src="/assets/menuIcons/mapOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("dashboardIcon","home"),this.disableIcon("chatIcon","chat"),this.disableIcon("qrIcon","qr");break;case"chatIcon":document.getElementById(e).src="/assets/menuIcons/chatOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("mapIcon","map"),this.disableIcon("dashboardIcon","home"),this.disableIcon("qrIcon","qr");break;case"qrIcon":document.getElementById(e).src="/assets/menuIcons/qrOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("mapIcon","map"),this.disableIcon("chatIcon","chat"),this.disableIcon("dashboardIcon","home")}}disableIcon(e,i){document.getElementById(e).src="/assets/menuIcons/"+i+"Off.svg"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-side-nav"]],decls:11,vars:0,consts:[[1,"mainSidenav"],["routerLink","home",3,"click"],["id","dashboardIcon","src","/assets/menuIcons/homeOn.svg","alt","dashboard"],["routerLink","petsList",3,"click"],["id","petsIcon","src","/assets/menuIcons/dogOff.svg","alt","pets"],["routerLink","map",3,"click"],["id","mapIcon","src","/assets/menuIcons/mapOff.svg","alt","map"],["routerLink","chat",3,"click"],["id","chatIcon","src","/assets/menuIcons/chatOff.svg","alt","chat"],["routerLink","appointments",3,"click"],["id","qrIcon","src","/assets/menuIcons/qrOff.svg","alt","qr"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"app-sidenav-link",1),Fe("click",function(){return r.changeIcon("dashboardIcon")}),Qe(2,"img",2),Q(),q(3,"app-sidenav-link",3),Fe("click",function(){return r.changeIcon("petsIcon")}),Qe(4,"img",4),Q(),q(5,"app-sidenav-link",5),Fe("click",function(){return r.changeIcon("mapIcon")}),Qe(6,"img",6),Q(),q(7,"app-sidenav-link",7),Fe("click",function(){return r.changeIcon("chatIcon")}),Qe(8,"img",8),Q(),q(9,"app-sidenav-link",9),Fe("click",function(){return r.changeIcon("qrIcon")}),Qe(10,"img",10),Q()())},dependencies:[u0,s2e],styles:["[_nghost-%COMP%]{height:60px;width:100%;box-sizing:border-box;position:fixed;bottom:0;background-color:#2d6f28}.mainSidenav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mainSidenav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}"]})}return n})();function a2e(n,t){if(1&n){const e=rn();q(0,"div",7)(1,"a",8),Fe("click",function(){return ut(e),ot(ve().redirectProfile())}),De(2),Vt(3,"transloco"),Q(),q(4,"a",8),Fe("click",function(){return ut(e),ot(ve().logout())}),De(5),Vt(6,"transloco"),Q()()}2&n&&(ee(2),ln(En(3,2,"user_profile_popup")),ee(3),ln(En(6,4,"logout_popup")))}function l2e(n,t){if(1&n){const e=rn();q(0,"div",10)(1,"div",11)(2,"span"),De(3),Q()(),q(4,"div",12)(5,"img",13),Fe("click",function(){const s=ut(e).$implicit;return ot(ve(2).removeNotification(s))}),Q()()()}if(2&n){const e=t.$implicit;ee(3),ln(e)}}function c2e(n,t){if(1&n&&(q(0,"div",7),xe(1,l2e,6,1,"div",9),Q()),2&n){const e=ve();ee(1),se("ngForOf",e.notifications)}}let d2e=(()=>{class n{constructor(e,i,r,s,o){this.afAuth=e,this.router=i,this.storageService=r,this.translocoService=s,this.api=o,this.prevScrollPos=window.pageYOffset,this.showPopup=!1,this.showNotis=!1,this.notifications=[],this.subscription=this.storageService.isLoggedIn.subscribe(c=>{if(1==c){const d=r.SessionGetStorage("uid");d&&o.getSingleClient(d).then(f=>{null!=f.notifications&&(this.notifications=f.notifications),0!=this.notifications.length?document.getElementById("notiIcon").src="/assets/menuIcons/notiOn.svg":this.notifications.push("Any notifications found")})}})}logout(){this.afAuth.signOut().then(()=>{this.storageService.isLoggedNext(!1),localStorage.clear(),this.router.navigate(["/"]),this.togglePopup()})}redirectProfile(){this.router.navigate(["profile"]),this.togglePopup(),this.changeMenuIcons()}changeMenuIcons(){document.getElementById("profileIcon").src="/assets/menuIcons/userOn.svg";const i=document.getElementById("petsIcon"),r=document.getElementById("dashboardIcon"),s=document.getElementById("mapIcon"),o=document.getElementById("chatIcon"),c=document.getElementById("qrIcon");i.src="/assets/menuIcons/dogOff.svg",r.src="/assets/menuIcons/homeOff.svg",s.src="/assets/menuIcons/mapOff.svg",o.src="/assets/menuIcons/chatOff.svg",c.src="/assets/menuIcons/qrOff.svg"}removeNotification(e){const i=this.notifications.indexOf(e);i>-1&&this.notifications.splice(i,1);let r=new VL;r.notifications=this.notifications,r.id=this.storageService.SessionGetStorage("uid"),0==this.notifications.length&&(r.notifications=["any"],this.notifications.push("Any notifications found"),document.getElementById("notiIcon").src="/assets/menuIcons/notiOff.svg"),this.api.editUser(r).then(()=>{})}togglePopup(){this.showPopup=!this.showPopup}toggleNotisPopup(){this.showNotis=!this.showNotis}swapLang(e){this.translocoService.setActiveLang(e);const i=document.getElementById("catIcon"),r=document.getElementById("esIcon"),s=document.getElementById("enIcon");switch(e){case"cat":i.width=30,r.width=18,s.width=18;break;case"es":i.width=18,r.width=30,s.width=18;break;case"en":i.width=18,r.width=18,s.width=30}}static#e=this.\u0275fac=function(i){return new(i||n)(B(Jc),B(os),B(Al),B(J1),B(Ml))};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-top-bar"]],decls:11,vars:2,consts:[["id","barra",1,"barra"],["id","catIcon","src","/assets/menuIcons/cat.png","alt","Catalan","width","18px;",3,"click"],["id","esIcon","src","/assets/menuIcons/espana.png","alt","Spanish","width","18px;",3,"click"],["id","enIcon","src","/assets/menuIcons/reino-unido.png","alt","English","width","30px;",3,"click"],["id","notiIcon","src","/assets/menuIcons/notiOff.svg","alt","Nofitifacion","width","28px;",3,"click"],["id","profileIcon","src","/assets/menuIcons/userOff.svg","alt","User profile",3,"click"],["class","popup",4,"ngIf"],[1,"popup"],[3,"click"],["class","contenedor",4,"ngFor","ngForOf"],[1,"contenedor"],[1,"columna","izquierda"],[1,"columna","derecha"],["src","/assets/menuIcons/closeIco.svg","alt","Close",3,"click"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"p"),De(2,"PetGuardian App"),Q(),q(3,"div")(4,"img",1),Fe("click",function(){return r.swapLang("cat")}),Q(),q(5,"img",2),Fe("click",function(){return r.swapLang("es")}),Q(),q(6,"img",3),Fe("click",function(){return r.swapLang("en")}),Q(),q(7,"img",4),Fe("click",function(){return r.toggleNotisPopup()}),Q(),q(8,"img",5),Fe("click",function(){return r.togglePopup()}),Q()(),xe(9,a2e,7,6,"div",6),xe(10,c2e,2,1,"div",6),Q()),2&i&&(ee(9),se("ngIf",r.showPopup),ee(1),se("ngIf",r.showNotis))},dependencies:[Sr,qi,$u],styles:[".barra[_ngcontent-%COMP%]{background-color:#2d6f28;color:#fff;text-align:center;padding:10px;position:fixed;top:0;width:100%;display:flex;justify-content:space-between;transition:top .3s;z-index:1000}.barra[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}img[_ngcontent-%COMP%]{margin-left:20px}.popup[_ngcontent-%COMP%]{position:absolute;right:0;top:60px;background-color:#fff;box-shadow:0 8px 16px #0003;z-index:1001}.popup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .popup[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;padding:10px;display:block;text-decoration:none}.popup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.popup.show[_ngcontent-%COMP%]{display:block}#profileIcon[_ngcontent-%COMP%]{width:30px}.contenedor[_ngcontent-%COMP%]{display:flex}.columna[_ngcontent-%COMP%]{box-sizing:border-box}.izquierda[_ngcontent-%COMP%]{flex:1;text-align:left}.derecha[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-right:10px}"]})}return n})();function u2e(n,t){1&n&&Qe(0,"app-top-bar")}function h2e(n,t){1&n&&Qe(0,"app-side-nav")}let f2e=(()=>{class n{constructor(e,i,r){this.afAuth=e,this.router=i,this.storageService=r,this.title="petguardian-mobile",this.isLoggedIn$=this.storageService.isLoggedIn,this.subscription=this.storageService.isLoggedIn.subscribe(s=>{0==s&&this.router.navigate(["/"])})}static#e=this.\u0275fac=function(i){return new(i||n)(B(Jc),B(os),B(Al))};static#t=this.\u0275cmp=kt({type:n,selectors:[["app-root"]],decls:6,vars:6,consts:[[4,"ngIf"],[1,"content"]],template:function(i,r){1&i&&(xe(0,u2e,1,0,"app-top-bar",0),Vt(1,"async"),q(2,"div",1),Qe(3,"router-outlet"),Q(),xe(4,h2e,1,0,"app-side-nav",0),Vt(5,"async")),2&i&&(se("ngIf",En(1,2,r.isLoggedIn$)),ee(4),se("ngIf",En(5,4,r.isLoggedIn$)))},dependencies:[qi,yN,o2e,d2e,sk],styles:["[_ngcontent-%COMP%]:root{--sidenav-width: 300px}[_nghost-%COMP%]{min-height:100vh;display:flex;flex-direction:row}.content[_ngcontent-%COMP%]{flex-grow:1;padding:75px 20px 85px;background-color:#ededed}"]})}return n})();function Xs(n){if(null===n||!0===n||!1===n)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function BL(n,t){Tn(2,arguments);var e=yi(n),i=Xs(t);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function zL(n,t){Tn(2,arguments);var e=yi(n).getTime(),i=Xs(t);return new Date(e+i)}var p2e=36e5;function g2e(n,t){return Tn(2,arguments),zL(n,Xs(t)*p2e)}var m2e=6e4;function _2e(n,t){return Tn(2,arguments),zL(n,Xs(t)*m2e)}function v2e(n,t){return Tn(2,arguments),zL(n,1e3*Xs(t))}function MQ(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}var y2e=864e5;function RQ(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function x2e(n,t){Tn(2,arguments);var e=yi(n),i=yi(t),r=RQ(e,i),s=Math.abs(function b2e(n,t){Tn(2,arguments);var e=W0(n),i=W0(t),r=e.getTime()-MQ(e),s=i.getTime()-MQ(i);return Math.round((r-s)/y2e)}(e,i));e.setDate(e.getDate()-r*s);var c=r*(s-+(RQ(e,i)===-r));return 0===c?0:c}Math.pow(10,8);var E2e=6e4;function PQ(n,t){return Tn(2,arguments),yi(n).getTime()-yi(t).getTime()}var NQ={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},S2e="trunc";function FQ(n){return n?NQ[n]:NQ[S2e]}function A2e(n,t,e){Tn(2,arguments);var i=PQ(n,t)/E2e;return FQ(e?.roundingMethod)(i)}function k2e(n,t,e){Tn(2,arguments);var i=PQ(n,t)/1e3;return FQ(e?.roundingMethod)(i)}function M2e(n){Tn(1,arguments);var t=yi(n);return t.setHours(23,59,59,999),t}function R2e(n){Tn(1,arguments);var t=yi(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}var LQ={};function VQ(){return LQ}function O2e(n,t){var e,i,r,s,o,c,d,f;Tn(1,arguments);var _=VQ(),x=Xs(null!==(e=null!==(i=null!==(r=null!==(s=t?.weekStartsOn)&&void 0!==s?s:null==t||null===(o=t.locale)||void 0===o||null===(c=o.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:_.weekStartsOn)&&void 0!==i?i:null===(d=_.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==e?e:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var T=yi(n),M=T.getDay(),N=6+(M<x?-7:0)-(M-x);return T.setDate(T.getDate()+N),T.setHours(23,59,59,999),T}function P2e(n){return Tn(1,arguments),yi(n).getDay()}function N2e(n){return Tn(1,arguments),yi(n).getMonth()}function BQ(n){Tn(1,arguments);var t=yi(n);return t.setMilliseconds(0),t}function F2e(n,t){Tn(2,arguments);var e=BQ(n),i=BQ(t);return e.getTime()===i.getTime()}function L2e(n){var t,e;if(Tn(1,arguments),n&&"function"==typeof n.forEach)t=n;else{if("object"!==eT(n)||null===n)return new Date(NaN);t=Array.prototype.slice.call(n)}return t.forEach(function(i){var r=yi(i);(void 0===e||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function V2e(n,t){Tn(2,arguments);var e=yi(n),i=Xs(t);return e.setHours(i),e}function B2e(n,t){Tn(2,arguments);var e=yi(n),i=Xs(t);return e.setMinutes(i),e}function z2e(n){Tn(1,arguments);var t=yi(n);return t.setSeconds(0,0),t}function H2e(n){Tn(1,arguments);var t=yi(n);return t.setDate(1),t.setHours(0,0,0,0),t}function zQ(n,t){var e,i,r,s,o,c,d,f;Tn(1,arguments);var _=VQ(),x=Xs(null!==(e=null!==(i=null!==(r=null!==(s=t?.weekStartsOn)&&void 0!==s?s:null==t||null===(o=t.locale)||void 0===o||null===(c=o.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:_.weekStartsOn)&&void 0!==i?i:null===(d=_.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==e?e:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var T=yi(n),M=T.getDay(),N=(M<x?7:0)+M-x;return T.setDate(T.getDate()-N),T.setHours(0,0,0,0),T}function U2e(n){return Tn(1,arguments),yi(n).getHours()}function j2e(n){return Tn(1,arguments),yi(n).getMinutes()}function W2e(n){return new Date(n).getTimezoneOffset()}function HQ(n,t){return Tn(2,arguments),BL(n,7*Xs(t))}function UQ(n,t){Tn(2,arguments);var e=yi(n),i=Xs(t);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());return s.setMonth(e.getMonth()+i+1,0),r>=s.getDate()?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function $2e(n,t){return Tn(2,arguments),BL(n,-Xs(t))}function Y2e(n,t){return Tn(2,arguments),HQ(n,-Xs(t))}function q2e(n,t){return Tn(2,arguments),UQ(n,-Xs(t))}function NT(n){return Tn(1,arguments),zQ(n,{weekStartsOn:1})}var K2e=6048e5;function Q2e(n){Tn(1,arguments);var t=yi(n),e=NT(t).getTime()-function Z2e(n){Tn(1,arguments);var t=function X2e(n){Tn(1,arguments);var t=yi(n),e=t.getFullYear(),i=new Date(0);i.setFullYear(e+1,0,4),i.setHours(0,0,0,0);var r=NT(i),s=new Date(0);s.setFullYear(e,0,4),s.setHours(0,0,0,0);var o=NT(s);return t.getTime()>=r.getTime()?e+1:t.getTime()>=o.getTime()?e:e-1}(n),e=new Date(0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),NT(e)}(t).getTime();return Math.round(e/K2e)+1}function J2e(n,t){Tn(2,arguments);var e=yi(n),i=Xs(t);return e.setDate(i),e}function tVe(n,t){Tn(2,arguments);var e=yi(n),i=Xs(t),r=e.getFullYear(),s=e.getDate(),o=new Date(0);o.setFullYear(r,i,15),o.setHours(0,0,0,0);var c=function eVe(n){Tn(1,arguments);var t=yi(n),e=t.getFullYear(),i=t.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}(o);return e.setMonth(i,Math.min(s,c)),e}function nVe(n,t){Tn(2,arguments);var e=yi(n),i=Xs(t);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(i),e)}function iVe(n){return Tn(1,arguments),yi(n).getDate()}function rVe(n){return Tn(1,arguments),yi(n).getFullYear()}function sVe(){return(0,Bt.pi)((0,Bt.pi)({},function G2e(){return{addDays:BL,addHours:g2e,addMinutes:_2e,addSeconds:v2e,differenceInDays:x2e,differenceInMinutes:A2e,differenceInSeconds:k2e,endOfDay:M2e,endOfMonth:R2e,endOfWeek:O2e,getDay:P2e,getMonth:N2e,isSameDay:q7,isSameMonth:Y7,isSameSecond:F2e,max:L2e,setHours:V2e,setMinutes:B2e,startOfDay:W0,startOfMinute:z2e,startOfMonth:H2e,startOfWeek:zQ,getHours:U2e,getMinutes:j2e,getTimezoneOffset:W2e}}()),{addWeeks:HQ,addMonths:UQ,subDays:$2e,subWeeks:Y2e,subMonths:q2e,getISOWeek:Q2e,setDate:J2e,setMonth:tVe,setYear:nVe,getDate:iVe,getYear:rVe})}function jQ(n){return new l(3e3,!1)}function Ku(n){switch(n.length){case 0:return new E0;case 1:return n[0];default:return new Vq(n)}}function WQ(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,c=null;if(t.forEach(d=>{const f=d.get("offset"),_=f==o,x=_&&c||new Map;d.forEach((T,M)=>{let N=M,V=T;if("offset"!==M)switch(N=n.normalizePropertyName(N,r),V){case"!":V=e.get(M);break;case md:V=i.get(M);break;default:V=n.normalizeStyleValue(M,N,V,r)}x.set(N,V)}),_||s.push(x),c=x,o=f}),r.length)throw function SVe(n){return new l(3502,!1)}();return s}function HL(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&UL(e,"start",n)));break;case"done":n.onDone(()=>i(e&&UL(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&UL(e,"destroy",n)))}}function UL(n,t,e){const s=jL(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function jL(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Ma(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function GQ(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const zVe=(()=>typeof document>"u"?null:document.documentElement)();function WL(n){const t=n.parentNode||n.host||null;return t===zVe?null:t}let Uf=null,$Q=!1;function YQ(n,t){for(;t;){if(t===n)return!0;t=WL(t)}return!1}function qQ(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let XQ=(()=>{class n{validateStyleProperty(e){return function UVe(n){Uf||(Uf=function jVe(){return typeof document<"u"?document.body:null}()||{},$Q=!!Uf.style&&"WebkitAppearance"in Uf.style);let t=!0;return Uf.style&&!function HVe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Uf.style,!t&&$Q&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Uf.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return YQ(e,i)}getParentElement(e){return WL(e)}query(e,i,r){return qQ(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,c=[],d){return new E0(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),GL=(()=>{class n{static#e=this.NOOP=new XQ}return n})();const WVe=1e3,$L="ng-enter",FT="ng-leave",LT="ng-trigger",VT=".ng-trigger",KQ="ng-animating",YL=".ng-animating";function xd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:qL(parseFloat(t[1]),t[2])}function qL(n,t){return"s"===t?n*WVe:n}function BT(n,t,e){return n.hasOwnProperty("duration")?n:function $Ve(n,t,e){let r,s=0,o="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(jQ()),{duration:0,delay:0,easing:""};r=qL(parseFloat(c[1]),c[2]);const d=c[3];null!=d&&(s=qL(parseFloat(d),c[4]));const f=c[5];f&&(o=f)}else r=n;if(!e){let c=!1,d=t.length;r<0&&(t.push(function oVe(){return new l(3100,!1)}()),c=!0),s<0&&(t.push(function aVe(){return new l(3101,!1)}()),c=!0),c&&t.splice(d,0,jQ())}return{duration:r,delay:s,easing:o}}(n,t,e)}function cx(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function QQ(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Qu(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Sc(n,t,e){t.forEach((i,r)=>{const s=ZL(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function jf(n,t){t.forEach((e,i)=>{const r=ZL(i);n.style[r]=""})}function dx(n){return Array.isArray(n)?1==n.length?n[0]:Fq(n):n}const XL=new RegExp("{{\\s*(.+?)\\s*}}","g");function eJ(n){let t=[];if("string"==typeof n){let e;for(;e=XL.exec(n);)t.push(e[1]);XL.lastIndex=0}return t}function ux(n,t,e){const i=n.toString(),r=i.replace(XL,(s,o)=>{let c=t[o];return null==c&&(e.push(function cVe(n){return new l(3003,!1)}()),c=""),c.toString()});return r==i?n:r}function zT(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const XVe=/-+([a-z0-9])/g;function ZL(n){return n.replace(XVe,(...t)=>t[1].toUpperCase())}function Ra(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function dVe(n){return new l(3004,!1)}()}}function tJ(n,t){return window.getComputedStyle(n)[t]}const HT="*";function QVe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function JVe(n,t,e){if(":"==n[0]){const d=function eBe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function EVe(n){return new l(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof d)return void t.push(d);n=d}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function CVe(n){return new l(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(nJ(r,o));"<"==s[0]&&!(r==HT&&o==HT)&&t.push(nJ(o,r))}(i,e,t)):e.push(n),e}const UT=new Set(["true","1"]),jT=new Set(["false","0"]);function nJ(n,t){const e=UT.has(n)||jT.has(n),i=UT.has(t)||jT.has(t);return(r,s)=>{let o=n==HT||n==r,c=t==HT||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?UT.has(n):jT.has(n)),!c&&i&&"boolean"==typeof s&&(c=s?UT.has(t):jT.has(t)),o&&c}}const tBe=new RegExp("s*:selfs*,?","g");function KL(n,t,e,i){return new nBe(n).build(t,e,i)}class nBe{constructor(t){this._driver=t}build(t,e,i){const r=new sBe(e);return this._resetContextStyleTimingState(r),Ra(this,dx(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function hVe(){return new l(3006,!1)}()),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const d=c,f=d.name;f.toString().split(/\s*,\s*/).forEach(_=>{d.name=_,s.push(this.visitState(d,e))}),d.name=f}else if(1==c.type){const d=this.visitTransition(c,e);i+=d.queryCount,r+=d.depCount,o.push(d)}else e.errors.push(function fVe(){return new l(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(d=>{eJ(d).forEach(f=>{o.hasOwnProperty(f)||s.add(f)})})}),s.size&&(zT(s.values()),e.errors.push(function pVe(n,t){return new l(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ra(this,dx(t.animation),e);return{type:1,matchers:QVe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Wf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ra(this,i,e)),options:Wf(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const c=Ra(this,o,e);return r=Math.max(r,e.currentTime),c});return e.currentTime=r,{type:3,steps:s,options:Wf(t.options)}}visitAnimate(t,e){const i=function aBe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return QL(BT(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=QL(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=BT(e,t);return QL(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Mr({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,c=!1;if(!o){c=!0;const f={};i.easing&&(f.easing=i.easing),o=Mr(f)}e.currentTime+=i.duration+i.delay;const d=this.visitStyle(o,e);d.isEmptyStep=c,r=d}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let c of r)"string"==typeof c?c===md?i.push(c):e.errors.push(new l(3002,!1)):i.push(QQ(c));let s=!1,o=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(o=c.get("easing"),c.delete("easing")),!s))for(let d of c.values())if(d.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,d)=>{const f=e.collectedStyles.get(e.currentQuerySelector),_=f.get(d);let x=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(e.errors.push(function mVe(n,t,e,i,r){return new l(3010,!1)}()),x=!1),s=_.startTime),x&&f.set(d,{startTime:s,endTime:r}),e.options&&function qVe(n,t,e){const i=t.params||{},r=eJ(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function lVe(n){return new l(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function _Ve(){return new l(3011,!1)}()),i;let s=0;const o=[];let c=!1,d=!1,f=0;const _=t.steps.map(re=>{const te=this._makeStyleAst(re,e);let oe=null!=te.offset?te.offset:function oBe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(te.styles),pe=0;return null!=oe&&(s++,pe=te.offset=oe),d=d||pe<0||pe>1,c=c||pe<f,f=pe,o.push(pe),te});d&&e.errors.push(function vVe(){return new l(3012,!1)}()),c&&e.errors.push(function yVe(){return new l(3200,!1)}());const x=t.steps.length;let T=0;s>0&&s<x?e.errors.push(function bVe(){return new l(3202,!1)}()):0==s&&(T=1/(x-1));const M=x-1,N=e.currentTime,V=e.currentAnimateTimings,U=V.duration;return _.forEach((re,te)=>{const oe=T>0?te==M?1:T*te:o[te],pe=oe*U;e.currentTime=N+V.delay+pe,V.duration=pe,this._validateStyleAst(re,e),re.offset=oe,i.styles.push(re)}),i}visitReference(t,e){return{type:8,animation:Ra(this,dx(t.animation),e),options:Wf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Wf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Wf(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function iBe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(tBe,"")),n=n.replace(/@\*/g,VT).replace(/@\w+/g,e=>VT+"-"+e.slice(1)).replace(/:animating/g,YL),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Ma(e.collectedStyles,e.currentQuerySelector,new Map);const c=Ra(this,dx(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:c,originalSelector:t.selector,options:Wf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function xVe(){return new l(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:BT(t.timings,e.errors,!0);return{type:12,animation:Ra(this,dx(t.animation),e),timings:i,options:null}}}class sBe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wf(n){return n?(n=cx(n)).params&&(n.params=function rBe(n){return n?cx(n):null}(n.params)):n={},n}function QL(n,t,e){return{duration:n,delay:t,easing:e}}function JL(n,t,e,i,r,s,o=null,c=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:c}}class WT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const dBe=new RegExp(":enter","g"),hBe=new RegExp(":leave","g");function e2(n,t,e,i,r,s=new Map,o=new Map,c,d,f=[]){return(new fBe).buildKeyframes(n,t,e,i,r,s,o,c,d,f)}class fBe{buildKeyframes(t,e,i,r,s,o,c,d,f,_=[]){f=f||new WT;const x=new t2(t,e,f,r,s,_,[]);x.options=d;const T=d.delay?xd(d.delay):0;x.currentTimeline.delayNextStep(T),x.currentTimeline.setStyles([o],null,x.errors,d),Ra(this,i,x);const M=x.timelines.filter(N=>N.containsAnimation());if(M.length&&c.size){let N;for(let V=M.length-1;V>=0;V--){const U=M[V];if(U.element===e){N=U;break}}N&&!N.allowOnlyTimelineStyles()&&N.setStyles([c],null,x.errors,d)}return M.length?M.map(N=>N.buildKeyframes()):[JL(e,[],[],[],0,T,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:xd(ux(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?xd(i.duration):null,c=null!=i.delay?xd(i.delay):null;return 0!==o&&t.forEach(d=>{const f=e.appendInstructionToTimeline(d,o,c);s=Math.max(s,f.duration+f.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ra(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=GT);const o=xd(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Ra(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?xd(t.options.delay):0;t.steps.forEach(o=>{const c=e.createSubContext(t.options);s&&c.delayNextStep(s),Ra(this,o,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return BT(e.params?ux(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,c=e.createSubContext().currentTimeline;c.easing=i.easing,t.styles.forEach(d=>{c.forwardTime((d.offset||0)*s),c.setStyles(d.styles,d.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?xd(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=GT);let o=i;const c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=c.length;let d=null;c.forEach((f,_)=>{e.currentQueryIndex=_;const x=e.createSubContext(t.options,f);s&&x.delayNextStep(s),f===e.element&&(d=x.currentTimeline),Ra(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),d&&(e.currentTimeline.mergeTimelineCollectedStyles(d),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),c=o*(e.currentQueryTotal-1);let d=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":d=c-d;break;case"full":d=i.currentStaggerTime}const _=e.currentTimeline;d&&_.delayNextStep(d);const x=_.currentTime;Ra(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const GT={};class t2{constructor(t,e,i,r,s,o,c,d){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=GT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new $T(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=xd(i.duration)),null!=i.delay&&(r.delay=xd(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(c=>{(!e||!o.hasOwnProperty(c))&&(o[c]=ux(s[c],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new t2(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=GT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new pBe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let c=[];if(r&&c.push(this.element),t.length>0){t=(t=t.replace(dBe,"."+this._enterClassName)).replace(hBe,"."+this._leaveClassName);let f=this._driver.query(this.element,t,1!=i);0!==i&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),c.push(...f)}return!s&&0==c.length&&o.push(function wVe(n){return new l(3014,!1)}()),c}}class $T{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new $T(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||md),this._currentKeyframe.set(e,md);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function gBe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,md)}else Qu(r,e)}),e}(t,this._globalTimelineStyles);for(let[c,d]of o){const f=ux(d,s,i);this._pendingStyles.set(c,f),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??md),this._updateStyle(c,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,d)=>{const f=Qu(c,new Map,this._backFill);f.forEach((_,x)=>{"!"===_?t.add(x):_===md&&e.add(x)}),i||f.set("offset",d/this.duration),r.push(f)});const s=t.size?zT(t.values()):[],o=e.size?zT(e.values()):[];if(i){const c=r[0],d=new Map(c);c.set("offset",0),d.set("offset",1),r=[c,d]}return JL(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class pBe extends $T{constructor(t,e,i,r,s,o,c=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,c=e/o,d=Qu(t[0]);d.set("offset",0),s.push(d);const f=Qu(t[0]);f.set("offset",sJ(c)),s.push(f);const _=t.length-1;for(let x=1;x<=_;x++){let T=Qu(t[x]);const M=T.get("offset");T.set("offset",sJ((e+M*i)/o)),s.push(T)}i=o,e=0,r="",t=s}return JL(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function sJ(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class n2{}const mBe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _Be extends n2{normalizePropertyName(t,e){return ZL(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(mBe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function uVe(n,t){return new l(3005,!1)}())}return o+s}}function oJ(n,t,e,i,r,s,o,c,d,f,_,x,T){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:c,queriedElements:d,preStyleProps:f,postStyleProps:_,totalTime:x,errors:T}}const r2={};class aJ{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function vBe(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,c,d,f,_){const x=[],T=this.ast.options&&this.ast.options.params||r2,N=this.buildStyles(i,c&&c.params||r2,x),V=d&&d.params||r2,U=this.buildStyles(r,V,x),re=new Set,te=new Map,oe=new Map,pe="void"===r,Ie={params:yBe(V,T),delay:this.ast.options?.delay},Xe=_?[]:e2(t,e,this.ast.animation,s,o,N,U,Ie,f,x);let pt=0;if(Xe.forEach(Dt=>{pt=Math.max(Dt.duration+Dt.delay,pt)}),x.length)return oJ(e,this._triggerName,i,r,pe,N,U,[],[],te,oe,pt,x);Xe.forEach(Dt=>{const Mt=Dt.element,gt=Ma(te,Mt,new Set);Dt.preStyleProps.forEach(dn=>gt.add(dn));const _t=Ma(oe,Mt,new Set);Dt.postStyleProps.forEach(dn=>_t.add(dn)),Mt!==e&&re.add(Mt)});const ft=zT(re.values());return oJ(e,this._triggerName,i,r,pe,N,U,Xe,ft,te,oe,pt)}}function yBe(n,t){const e=cx(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class bBe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=cx(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,c)=>{o&&(o=ux(o,r,e));const d=this.normalizer.normalizePropertyName(c,e);o=this.normalizer.normalizeStyleValue(c,d,o,e),i.set(c,o)})}),i}}class wBe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new bBe(r.style,r.options&&r.options.params||{},i))}),lJ(this.states,"true","1"),lJ(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new aJ(t,r,this.states))}),this.fallbackTransition=function CBe(n,t,e){return new aJ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function lJ(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const EBe=new WT;class DBe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=KL(this._driver,e,i,[]);if(i.length)throw function AVe(n){return new l(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=WQ(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const c=new Map;if(s?(o=e2(this._driver,e,s,$L,FT,new Map,new Map,i,EBe,r),o.forEach(_=>{const x=Ma(c,_.element,new Map);_.postStyleProps.forEach(T=>x.set(T,null))})):(r.push(function kVe(){return new l(3300,!1)}()),o=[]),r.length)throw function MVe(n){return new l(3504,!1)}();c.forEach((_,x)=>{_.forEach((T,M)=>{_.set(M,this._driver.computeStyle(x,M,md))})});const f=Ku(o.map(_=>{const x=c.get(_.element);return this._buildPlayer(_,new Map,x)}));return this._playersById.set(t,f),f.onDestroy(()=>this.destroy(t)),this.players.push(f),f}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function RVe(n){return new l(3301,!1)}();return e}listen(t,e,i,r){const s=jL(e,"","","");return HL(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const cJ="ng-animate-queued",s2="ng-animate-disabled",kBe=[],dJ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},MBe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vl="__ng_removed";class o2{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function NBe(n){return n??null}(i?t.value:t),i){const s=cx(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const hx="void",a2=new o2(hx);class RBe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ja(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function OVe(n,t){return new l(3302,!1)}();if(null==i||0==i.length)throw function PVe(n){return new l(3303,!1)}();if(!function FBe(n){return"start"==n||"done"==n}(i))throw function NVe(n,t){return new l(3400,!1)}();const s=Ma(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const c=Ma(this._engine.statesByElement,t,new Map);return c.has(e)||(Ja(t,LT),Ja(t,LT+"-"+e),c.set(e,a2)),()=>{this._engine.afterFlush(()=>{const d=s.indexOf(o);d>=0&&s.splice(d,1),this._triggers.has(e)||c.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function FVe(n){return new l(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new l2(this.id,e,t);let c=this._engine.statesByElement.get(t);c||(Ja(t,LT),Ja(t,LT+"-"+e),this._engine.statesByElement.set(t,c=new Map));let d=c.get(e);const f=new o2(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&f.absorbOptions(d.options),c.set(e,f),d||(d=a2),f.value!==hx&&d.value===f.value){if(!function BBe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(d.params,f.params)){const V=[],U=s.matchStyles(d.value,d.params,V),re=s.matchStyles(f.value,f.params,V);V.length?this._engine.reportError(V):this._engine.afterFlush(()=>{jf(t,U),Sc(t,re)})}return}const T=Ma(this._engine.playersByElement,t,[]);T.forEach(V=>{V.namespaceId==this.id&&V.triggerName==e&&V.queued&&V.destroy()});let M=s.matchTransition(d.value,f.value,t,f.params),N=!1;if(!M){if(!r)return;M=s.fallbackTransition,N=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:M,fromState:d,toState:f,player:o,isFallbackTransition:N}),N||(Ja(t,cJ),o.onStart(()=>{l_(t,cJ)})),o.onDone(()=>{let V=this.players.indexOf(o);V>=0&&this.players.splice(V,1);const U=this._engine.playersByElement.get(t);if(U){let re=U.indexOf(o);re>=0&&U.splice(re,1)}}),this.players.push(o),T.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,VT,!0);i.forEach(r=>{if(r[Vl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const c=[];if(s.forEach((d,f)=>{if(o.set(f,d.value),this._triggers.has(f)){const _=this.trigger(t,f,hx,r);_&&c.push(_)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&Ku(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const d=this._triggers.get(o).fallbackTransition,f=i.get(o)||a2,_=new o2(hx),x=new l2(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:d,fromState:f,toState:_,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Vl];(!s||s===dJ)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ja(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(c=>{if(c.name==i.triggerName){const d=jL(s,i.triggerName,i.fromState.value,i.toState.value);d._data=t,HL(i.player,c.phase,d,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class OBe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new RBe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,c=this.driver.getParentElement(e);for(;c;){const d=r.get(c);if(d){const f=i.indexOf(d);i.splice(f+1,0,t),o=!0;break}c=this.driver.getParentElement(c)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(YT(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!YT(e))return;const s=e[Vl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ja(t,s2)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),l_(t,s2))}removeNode(t,e,i){if(YT(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Vl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return YT(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,VT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,YL,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ku(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Vl];if(e&&e.setForRemoval){if(t[Vl]=dJ,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(s2)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ja(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ku(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function LVe(n){return new l(3402,!1)}()}_flushAnimations(t,e){const i=new WT,r=[],s=new Map,o=[],c=new Map,d=new Map,f=new Map,_=new Set;this.disabledNodes.forEach(wt=>{_.add(wt);const Ot=this.driver.query(wt,".ng-animate-queued",!0);for(let Qt=0;Qt<Ot.length;Qt++)_.add(Ot[Qt])});const x=this.bodyNode,T=Array.from(this.statesByElement.keys()),M=fJ(T,this.collectedEnterElements),N=new Map;let V=0;M.forEach((wt,Ot)=>{const Qt=$L+V++;N.set(Ot,Qt),wt.forEach(Jt=>Ja(Jt,Qt))});const U=[],re=new Set,te=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Ot=this.collectedLeaveElements[wt],Qt=Ot[Vl];Qt&&Qt.setForRemoval&&(U.push(Ot),re.add(Ot),Qt.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(Jt=>re.add(Jt)):te.add(Ot))}const oe=new Map,pe=fJ(T,Array.from(re));pe.forEach((wt,Ot)=>{const Qt=FT+V++;oe.set(Ot,Qt),wt.forEach(Jt=>Ja(Jt,Qt))}),t.push(()=>{M.forEach((wt,Ot)=>{const Qt=N.get(Ot);wt.forEach(Jt=>l_(Jt,Qt))}),pe.forEach((wt,Ot)=>{const Qt=oe.get(Ot);wt.forEach(Jt=>l_(Jt,Qt))}),U.forEach(wt=>{this.processLeaveNode(wt)})});const Ie=[],Xe=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(e).forEach(Qt=>{const Jt=Qt.player,Mi=Qt.element;if(Ie.push(Jt),this.collectedEnterElements.length){const Qr=Mi[Vl];if(Qr&&Qr.setForMove){if(Qr.previousTriggersValues&&Qr.previousTriggersValues.has(Qt.triggerName)){const Ho=Qr.previousTriggersValues.get(Qt.triggerName),uo=this.statesByElement.get(Qt.element);if(uo&&uo.has(Qt.triggerName)){const c_=uo.get(Qt.triggerName);c_.value=Ho,uo.set(Qt.triggerName,c_)}}return void Jt.destroy()}}const dr=!x||!this.driver.containsElement(x,Mi),Rr=oe.get(Mi),zo=N.get(Mi),ui=this._buildInstruction(Qt,i,zo,Rr,dr);if(ui.errors&&ui.errors.length)return void Xe.push(ui);if(dr)return Jt.onStart(()=>jf(Mi,ui.fromStyles)),Jt.onDestroy(()=>Sc(Mi,ui.toStyles)),void r.push(Jt);if(Qt.isFallbackTransition)return Jt.onStart(()=>jf(Mi,ui.fromStyles)),Jt.onDestroy(()=>Sc(Mi,ui.toStyles)),void r.push(Jt);const oa=[];ui.timelines.forEach(Qr=>{Qr.stretchStartingKeyframe=!0,this.disabledNodes.has(Qr.element)||oa.push(Qr)}),ui.timelines=oa,i.append(Mi,ui.timelines),o.push({instruction:ui,player:Jt,element:Mi}),ui.queriedElements.forEach(Qr=>Ma(c,Qr,[]).push(Jt)),ui.preStyleProps.forEach((Qr,Ho)=>{if(Qr.size){let uo=d.get(Ho);uo||d.set(Ho,uo=new Set),Qr.forEach((c_,Gf)=>uo.add(Gf))}}),ui.postStyleProps.forEach((Qr,Ho)=>{let uo=f.get(Ho);uo||f.set(Ho,uo=new Set),Qr.forEach((c_,Gf)=>uo.add(Gf))})});if(Xe.length){const wt=[];Xe.forEach(Ot=>{wt.push(function VVe(n,t){return new l(3505,!1)}())}),Ie.forEach(Ot=>Ot.destroy()),this.reportError(wt)}const pt=new Map,ft=new Map;o.forEach(wt=>{const Ot=wt.element;i.has(Ot)&&(ft.set(Ot,Ot),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,pt))}),r.forEach(wt=>{const Ot=wt.element;this._getPreviousPlayers(Ot,!1,wt.namespaceId,wt.triggerName,null).forEach(Jt=>{Ma(pt,Ot,[]).push(Jt),Jt.destroy()})});const Dt=U.filter(wt=>gJ(wt,d,f)),Mt=new Map;hJ(Mt,this.driver,te,f,md).forEach(wt=>{gJ(wt,d,f)&&Dt.push(wt)});const _t=new Map;M.forEach((wt,Ot)=>{hJ(_t,this.driver,new Set(wt),d,"!")}),Dt.forEach(wt=>{const Ot=Mt.get(wt),Qt=_t.get(wt);Mt.set(wt,new Map([...Ot?.entries()??[],...Qt?.entries()??[]]))});const dn=[],ei=[],sa={};o.forEach(wt=>{const{element:Ot,player:Qt,instruction:Jt}=wt;if(i.has(Ot)){if(_.has(Ot))return Qt.onDestroy(()=>Sc(Ot,Jt.toStyles)),Qt.disabled=!0,Qt.overrideTotalTime(Jt.totalTime),void r.push(Qt);let Mi=sa;if(ft.size>1){let Rr=Ot;const zo=[];for(;Rr=Rr.parentNode;){const ui=ft.get(Rr);if(ui){Mi=ui;break}zo.push(Rr)}zo.forEach(ui=>ft.set(ui,Mi))}const dr=this._buildAnimation(Qt.namespaceId,Jt,pt,s,_t,Mt);if(Qt.setRealPlayer(dr),Mi===sa)dn.push(Qt);else{const Rr=this.playersByElement.get(Mi);Rr&&Rr.length&&(Qt.parentPlayer=Ku(Rr)),r.push(Qt)}}else jf(Ot,Jt.fromStyles),Qt.onDestroy(()=>Sc(Ot,Jt.toStyles)),ei.push(Qt),_.has(Ot)&&r.push(Qt)}),ei.forEach(wt=>{const Ot=s.get(wt.element);if(Ot&&Ot.length){const Qt=Ku(Ot);wt.setRealPlayer(Qt)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<U.length;wt++){const Ot=U[wt],Qt=Ot[Vl];if(l_(Ot,FT),Qt&&Qt.hasAnimation)continue;let Jt=[];if(c.size){let dr=c.get(Ot);dr&&dr.length&&Jt.push(...dr);let Rr=this.driver.query(Ot,YL,!0);for(let zo=0;zo<Rr.length;zo++){let ui=c.get(Rr[zo]);ui&&ui.length&&Jt.push(...ui)}}const Mi=Jt.filter(dr=>!dr.destroyed);Mi.length?LBe(this,Ot,Mi):this.processLeaveNode(Ot)}return U.length=0,dn.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Ot=this.players.indexOf(wt);this.players.splice(Ot,1)}),wt.play()}),dn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const c=this.playersByQueriedElement.get(t);c&&(o=c)}else{const c=this.playersByElement.get(t);if(c){const d=!s||s==hx;c.forEach(f=>{f.queued||!d&&f.triggerName!=r||o.push(f)})}}return(i||r)&&(o=o.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName;for(const d of e.timelines){const f=d.element,_=f!==s,x=Ma(i,f,[]);this._getPreviousPlayers(f,_,o,c,e.toState).forEach(M=>{const N=M.getRealPlayer();N.beforeDestroy&&N.beforeDestroy(),M.destroy(),x.push(M)})}jf(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const c=e.triggerName,d=e.element,f=[],_=new Set,x=new Set,T=e.timelines.map(N=>{const V=N.element;_.add(V);const U=V[Vl];if(U&&U.removedBeforeQueried)return new E0(N.duration,N.delay);const re=V!==d,te=function VBe(n){const t=[];return pJ(n,t),t}((i.get(V)||kBe).map(pt=>pt.getRealPlayer())).filter(pt=>!!pt.element&&pt.element===V),oe=s.get(V),pe=o.get(V),Ie=WQ(this._normalizer,N.keyframes,oe,pe),Xe=this._buildPlayer(N,Ie,te);if(N.subTimeline&&r&&x.add(V),re){const pt=new l2(t,c,V);pt.setRealPlayer(Xe),f.push(pt)}return Xe});f.forEach(N=>{Ma(this.playersByQueriedElement,N.element,[]).push(N),N.onDone(()=>function PBe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,N.element,N))}),_.forEach(N=>Ja(N,KQ));const M=Ku(T);return M.onDestroy(()=>{_.forEach(N=>l_(N,KQ)),Sc(d,e.toStyles)}),x.forEach(N=>{Ma(r,N,[]).push(M)}),M}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new E0(t.duration,t.delay)}}class l2{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new E0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>HL(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ma(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function YT(n){return n&&1===n.nodeType}function uJ(n,t){const e=n.style.display;return n.style.display=t??"none",e}function hJ(n,t,e,i,r){const s=[];e.forEach(d=>s.push(uJ(d)));const o=[];i.forEach((d,f)=>{const _=new Map;d.forEach(x=>{const T=t.computeStyle(f,x,r);_.set(x,T),(!T||0==T.length)&&(f[Vl]=MBe,o.push(f))}),n.set(f,_)});let c=0;return e.forEach(d=>uJ(d,s[c++])),o}function fJ(n,t){const e=new Map;if(n.forEach(c=>e.set(c,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(c){if(!c)return 1;let d=s.get(c);if(d)return d;const f=c.parentNode;return d=e.has(f)?f:r.has(f)?1:o(f),s.set(c,d),d}return t.forEach(c=>{const d=o(c);1!==d&&e.get(d).push(c)}),e}function Ja(n,t){n.classList?.add(t)}function l_(n,t){n.classList?.remove(t)}function LBe(n,t,e){Ku(e).onDone(()=>n.processLeaveNode(t))}function pJ(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Vq?pJ(i.players,t):t.push(i)}}function gJ(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class qT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new OBe(t,e,i),this._timelineEngine=new DBe(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let c=this._triggerCache[o];if(!c){const d=[],_=KL(this._driver,s,d,[]);if(d.length)throw function IVe(n,t){return new l(3404,!1)}();c=function xBe(n,t,e){return new wBe(n,t,e)}(r,_,this._normalizer),this._triggerCache[o]=c}this._transitionEngine.registerTrigger(e,r,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=GQ(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,c]=GQ(i);return this._timelineEngine.listen(o,e,c,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let HBe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Sc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sc(this._element,this._initialStyles),this._endStyles&&(Sc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(jf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jf(this._element,this._endStyles),this._endStyles=null),Sc(this._element,this._initialStyles),this._state=3)}}return n})();function c2(n){let t=null;return n.forEach((e,i)=>{(function UBe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class mJ{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:tJ(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class jBe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return YQ(t,e)}getParentElement(t){return WL(t)}query(t,e,i){return qQ(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const d={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(d.easing=s);const f=new Map,_=o.filter(M=>M instanceof mJ);(function ZVe(n,t){return 0===n||0===t})(i,r)&&_.forEach(M=>{M.currentSnapshot.forEach((N,V)=>f.set(V,N))});let x=function YVe(n){return n.length?n[0]instanceof Map?n:n.map(t=>QQ(t)):[]}(e).map(M=>Qu(M));x=function KVe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(c=>o.set(c,tJ(n,c)))}}return t}(t,x,f);const T=function zBe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=c2(t[0]),t.length>1&&(i=c2(t[t.length-1]))):t instanceof Map&&(e=c2(t)),e||i?new HBe(n,e,i):null}(t,x);return new mJ(t,x,d,T)}}let WBe=(()=>{class n extends Pq{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:jo.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Fq(e):e;return _J(this._renderer,null,i,"register",[r]),new GBe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(ce(jp),ce(on))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class GBe extends rDe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new $Be(this._id,t,e||{},this._renderer)}}class $Be{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return _J(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function _J(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const vJ="@.disabled";let YBe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const c=o?.parentNode(s);c&&o.removeChild(c,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let _=this._rendererCache.get(s);return _||(_=new yJ("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,_)),_}const o=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const d=_=>{Array.isArray(_)?_.forEach(d):this.engine.registerTrigger(o,c,e,_.name,_)};return i.data.animation.forEach(d),new qBe(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,c]=s;o(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(jp),ce(qT),ce(lt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class yJ{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==vJ?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class qBe extends yJ{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==vJ?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function XBe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function ZBe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(t,e,i)}}let KBe=(()=>{class n extends qT{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(ce(on),ce(GL),ce(n2),ce(ja))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const bJ=[{provide:Pq,useClass:WBe},{provide:n2,useFactory:function QBe(){return new _Be}},{provide:qT,useClass:KBe},{provide:jp,useFactory:function JBe(n,t,e){return new YBe(n,t,e)},deps:[_k,qT,lt]}],d2=[{provide:GL,useFactory:()=>new jBe},{provide:Ha,useValue:"BrowserAnimations"},...bJ],xJ=[{provide:GL,useClass:XQ},{provide:Ha,useValue:"NoopAnimations"},...bJ];let wJ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?xJ:d2}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({providers:d2,imports:[L3]})}return n})(),eze=(()=>{class n{constructor(){this.http=Ge(k1)}getTranslation(e){return this.http.get(`http://localhost:4200/assets/i18n/${e}.json`)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tze=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n});static#n=this.\u0275inj=Se({providers:[RSe({config:{availableLangs:["en","es","cat"],defaultLang:"en",reRenderOnLangChange:!0,prodMode:!0},loader:eze})],imports:[MSe]})}return n})(),nze=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=St({type:n,bootstrap:[f2e]});static#n=this.\u0275inj=Se({providers:[hg],imports:[_de.initializeApp(e6_firebase),wde,QEe,ZFe,vl,Uq.forRoot(),IEe,SEe,fbe,nxe,Rpe,L3,wJ,n2e,Uq,gQ,tRe.forRoot({provide:yd,useFactory:sVe}),yAe,gQ,dxe,wJ,dSe,DIe,gTe,PLe,mLe,tze]})}return n})();jce().bootstrapModule(nze).catch(n=>console.error(n))},54:(Jr,Wi,Yt)=>{var ie;function ze(L,a){var l=Object.keys(L);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(L);a&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(L,h).enumerable})),l.push.apply(l,u)}return l}function ae(L){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?arguments[a]:{};a%2?ze(Object(l),!0).forEach(function(u){Bn(L,u,l[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(l)):ze(Object(l)).forEach(function(u){Object.defineProperty(L,u,Object.getOwnPropertyDescriptor(l,u))})}return L}function yt(L){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(L)}function Ue(L,a){if(!(L instanceof a))throw new TypeError("Cannot call a class as a function")}function Ti(L,a){for(var l=0;l<a.length;l++){var u=a[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(L,u.key,u)}}function ht(L,a,l){return a&&Ti(L.prototype,a),l&&Ti(L,l),L}function Bn(L,a,l){return a in L?Object.defineProperty(L,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):L[a]=l,L}function yn(L,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(a&&a.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),a&&rt(L,a)}function Ze(L){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(L)}function rt(L,a){return(rt=Object.setPrototypeOf||function(l,u){return l.__proto__=u,l})(L,a)}function sn(L){var a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,u=Ze(L);if(a){var h=Ze(this).constructor;l=Reflect.construct(u,arguments,h)}else l=u.apply(this,arguments);return function Pt(L,a){if(a&&("object"==typeof a||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(L)}(this,l)}}function zn(L,a){return function(l){if(Array.isArray(l))return l}(L)||function(l,u){var h=null==l?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(null!=h){var p,g,m=[],v=!0,w=!1;try{for(h=h.call(l);!(v=(p=h.next()).done)&&(m.push(p.value),!u||m.length!==u);v=!0);}catch(E){w=!0,g=E}finally{try{v||null==h.return||h.return()}finally{if(w)throw g}}return m}}(L,a)||In(L,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(L){return function(a){if(Array.isArray(a))return nn(a)}(L)||function(a){if(typeof Symbol<"u"&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(L)||In(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(L,a){if(L){if("string"==typeof L)return nn(L,a);var l=Object.prototype.toString.call(L).slice(8,-1);return"Object"===l&&L.constructor&&(l=L.constructor.name),"Map"===l||"Set"===l?Array.from(L):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?nn(L,a):void 0}}function nn(L,a){(null==a||a>L.length)&&(a=L.length);for(var l=0,u=new Array(a);l<a;l++)u[l]=L[l];return u}var fe=function(){function L(){Ue(this,L)}return ht(L,[{key:"shadeRGBColor",value:function(a,l){var u=l.split(","),h=a<0?0:255,p=a<0?-1*a:a,g=parseInt(u[0].slice(4),10),m=parseInt(u[1],10),v=parseInt(u[2],10);return"rgb("+(Math.round((h-g)*p)+g)+","+(Math.round((h-m)*p)+m)+","+(Math.round((h-v)*p)+v)+")"}},{key:"shadeHexColor",value:function(a,l){var u=parseInt(l.slice(1),16),h=a<0?0:255,p=a<0?-1*a:a,g=u>>16,m=u>>8&255,v=255&u;return"#"+(16777216+65536*(Math.round((h-g)*p)+g)+256*(Math.round((h-m)*p)+m)+(Math.round((h-v)*p)+v)).toString(16).slice(1)}},{key:"shadeColor",value:function(a,l){return L.isColorHex(l)?this.shadeHexColor(a,l):this.shadeRGBColor(a,l)}}],[{key:"bind",value:function(a,l){return function(){return a.apply(l,arguments)}}},{key:"isObject",value:function(a){return a&&"object"===yt(a)&&!Array.isArray(a)&&null!=a}},{key:"is",value:function(a,l){return Object.prototype.toString.call(l)==="[object "+a+"]"}},{key:"listToArray",value:function(a){var l,u=[];for(l=0;l<a.length;l++)u[l]=a[l];return u}},{key:"extend",value:function(a,l){var u=this;"function"!=typeof Object.assign&&(Object.assign=function(p){if(null==p)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(p),m=1;m<arguments.length;m++){var v=arguments[m];if(null!=v)for(var w in v)v.hasOwnProperty(w)&&(g[w]=v[w])}return g});var h=Object.assign({},a);return this.isObject(a)&&this.isObject(l)&&Object.keys(l).forEach(function(p){u.isObject(l[p])&&p in a?h[p]=u.extend(a[p],l[p]):Object.assign(h,Bn({},p,l[p]))}),h}},{key:"extendArray",value:function(a,l){var u=[];return a.map(function(h){u.push(L.extend(l,h))}),u}},{key:"monthMod",value:function(a){return a%12}},{key:"clone",value:function(a){if(L.is("Array",a)){for(var l=[],u=0;u<a.length;u++)l[u]=this.clone(a[u]);return l}if(L.is("Null",a))return null;if(L.is("Date",a))return a;if("object"===yt(a)){var h={};for(var p in a)a.hasOwnProperty(p)&&(h[p]=this.clone(a[p]));return h}return a}},{key:"log10",value:function(a){return Math.log(a)/Math.LN10}},{key:"roundToBase10",value:function(a){return Math.pow(10,Math.floor(Math.log10(a)))}},{key:"roundToBase",value:function(a,l){return Math.pow(l,Math.floor(Math.log(a)/Math.log(l)))}},{key:"parseNumber",value:function(a){return null===a?a:parseFloat(a)}},{key:"stripNumber",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isInteger(a)?a:parseFloat(a.toPrecision(l))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(a){var l=String(a).split(/[eE]/);if(1===l.length)return l[0];var u="",h=a<0?"-":"",p=l[0].replace(".",""),g=Number(l[1])+1;if(g<0){for(u=h+"0.";g++;)u+="0";return u+p.replace(/^-/,"")}for(g-=p.length;g--;)u+="0";return p+u}},{key:"getDimensions",value:function(a){var l=getComputedStyle(a,null),u=a.clientHeight,h=a.clientWidth;return u-=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),[h-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),u]}},{key:"getBoundingClientRect",value:function(a){var l=a.getBoundingClientRect();return{top:l.top,right:l.right,bottom:l.bottom,left:l.left,width:a.clientWidth,height:a.clientHeight,x:l.left,y:l.top}}},{key:"getLargestStringFromArr",value:function(a){return a.reduce(function(l,u){return Array.isArray(u)&&(u=u.reduce(function(h,p){return h.length>p.length?h:p})),l.length>u.length?l:u},0)}},{key:"hexToRgba",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==a.substring(0,1)&&(a="#999999");var u=a.replace("#","");u=u.match(new RegExp("(.{"+u.length/3+"})","g"));for(var h=0;h<u.length;h++)u[h]=parseInt(1===u[h].length?u[h]+u[h]:u[h],16);return void 0!==l&&u.push(l),"rgba("+u.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(a){return parseFloat(a.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(a)}},{key:"getPolygonPos",value:function(a,l){for(var u=[],h=2*Math.PI/l,p=0;p<l;p++){var g={};g.x=a*Math.sin(p*h),g.y=-a*Math.cos(p*h),u.push(g)}return u}},{key:"polarToCartesian",value:function(a,l,u,h){var p=(h-90)*Math.PI/180;return{x:a+u*Math.cos(p),y:l+u*Math.sin(p)}}},{key:"escapeString",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";return a.toString().slice().replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,l)}},{key:"negToZero",value:function(a){return a<0?0:a}},{key:"moveIndexInArray",value:function(a,l,u){if(u>=a.length)for(var h=u-a.length+1;h--;)a.push(void 0);return a.splice(u,0,a.splice(l,1)[0]),a}},{key:"extractNumber",value:function(a){return parseFloat(a.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(a,l){for(;(a=a.parentElement)&&!a.classList.contains(l););return a}},{key:"setELstyles",value:function(a,l){for(var u in l)l.hasOwnProperty(u)&&(a.style.key=l[u])}},{key:"isNumber",value:function(a){return!isNaN(a)&&parseFloat(Number(a))===a&&!isNaN(parseInt(a,10))}},{key:"isFloat",value:function(a){return Number(a)===a&&a%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var a=window.navigator.userAgent,l=a.indexOf("MSIE ");if(l>0)return parseInt(a.substring(l+5,a.indexOf(".",l)),10);if(a.indexOf("Trident/")>0){var u=a.indexOf("rv:");return parseInt(a.substring(u+3,a.indexOf(".",u)),10)}var h=a.indexOf("Edge/");return h>0&&parseInt(a.substring(h+5,a.indexOf(".",h)),10)}}]),L}(),Ii=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.setEasingFunctions()}return ht(L,[{key:"setEasingFunctions",value:function(){var a;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":a="-";break;case"easein":a="<";break;case"easeout":a=">";break;case"easeinout":default:a="<>";break;case"swing":a=function(l){var u=1.70158;return(l-=1)*l*((u+1)*l+u)+1};break;case"bounce":a=function(l){return l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375};break;case"elastic":a=function(l){return l===!!l?l:Math.pow(2,-10*l)*Math.sin((l-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=a}}},{key:"animateLine",value:function(a,l,u,h){a.attr(l).animate(h).attr(u)}},{key:"animateMarker",value:function(a,l,u,h,p,g){l||(l=0),a.attr({r:l,width:l,height:l}).animate(h,p).attr({r:u,width:u.width,height:u.height}).afterAll(function(){g()})}},{key:"animateCircle",value:function(a,l,u,h,p){a.attr({r:l.r,cx:l.cx,cy:l.cy}).animate(h,p).attr({r:u.r,cx:u.cx,cy:u.cy})}},{key:"animateRect",value:function(a,l,u,h,p){a.attr(l).animate(h).attr(u).afterAll(function(){return p()})}},{key:"animatePathsGradually",value:function(a){var E=this.w,D=0;E.config.chart.animations.animateGradually.enabled&&(D=E.config.chart.animations.animateGradually.delay),E.config.chart.animations.dynamicAnimation.enabled&&E.globals.dataChanged&&"bar"!==E.config.chart.type&&(D=0),this.morphSVG(a.el,a.realIndex,a.j,"line"!==E.config.chart.type||E.globals.comboCharts?a.fill:"stroke",a.pathFrom,a.pathTo,a.speed,a.delay*D)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(a){var l=a.el;l.classList.remove("apexcharts-element-hidden"),l.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(a){var l=this.w;l.globals.animationEnded||(l.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof l.config.chart.events.animationEnd&&l.config.chart.events.animationEnd(this.ctx,{el:a,w:l}))}},{key:"morphSVG",value:function(a,l,u,h,p,g,m,v){var w=this,E=this.w;p||(p=a.attr("pathFrom")),g||(g=a.attr("pathTo"));var D=function(A){return"radar"===E.config.chart.type&&(m=1),"M 0 ".concat(E.globals.gridHeight)};(!p||p.indexOf("undefined")>-1||p.indexOf("NaN")>-1)&&(p=D()),(!g||g.indexOf("undefined")>-1||g.indexOf("NaN")>-1)&&(g=D()),E.globals.shouldAnimate||(m=1),a.plot(p).animate(1,E.globals.easing,v).plot(p).animate(m,E.globals.easing,v).plot(g).afterAll(function(){fe.isNumber(u)?u===E.globals.series[E.globals.maxValsInArrayIndex].length-2&&E.globals.shouldAnimate&&w.animationCompleted(a):"none"!==h&&E.globals.shouldAnimate&&(!E.globals.comboCharts&&l===E.globals.series.length-1||E.globals.comboCharts)&&w.animationCompleted(a),w.showDelayedElements()})}}]),L}(),bn=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"getDefaultFilter",value:function(a,l){var u=this.w;a.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==u.config.states.normal.filter?this.applyFilter(a,l,u.config.states.normal.filter.type,u.config.states.normal.filter.value):u.config.chart.dropShadow.enabled&&this.dropShadow(a,u.config.chart.dropShadow,l)}},{key:"addNormalFilter",value:function(a,l){var u=this.w;u.config.chart.dropShadow.enabled&&!a.node.classList.contains("apexcharts-marker")&&this.dropShadow(a,u.config.chart.dropShadow,l)}},{key:"addLightenFilter",value:function(a,l,u){var h=this,p=this.w,g=u.intensity;a.unfilter(!0),new window.SVG.Filter,a.filter(function(m){var v=p.config.chart.dropShadow;(v.enabled?h.addShadow(m,l,v):m).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:g}})}),a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)}},{key:"addDarkenFilter",value:function(a,l,u){var h=this,p=this.w,g=u.intensity;a.unfilter(!0),new window.SVG.Filter,a.filter(function(m){var v=p.config.chart.dropShadow;(v.enabled?h.addShadow(m,l,v):m).componentTransfer({rgb:{type:"linear",slope:g}})}),a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)}},{key:"applyFilter",value:function(a,l,u){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(u){case"none":this.addNormalFilter(a,l);break;case"lighten":this.addLightenFilter(a,l,{intensity:h});break;case"darken":this.addDarkenFilter(a,l,{intensity:h})}}},{key:"addShadow",value:function(a,l,u){var h=u.blur,p=u.top,g=u.left,m=u.color,v=u.opacity,w=a.flood(Array.isArray(m)?m[l]:m,v).composite(a.sourceAlpha,"in").offset(g,p).gaussianBlur(h).merge(a.source);return a.blend(a.source,w)}},{key:"dropShadow",value:function(a,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,h=l.top,p=l.left,g=l.blur,m=l.color,v=l.opacity,w=l.noUserSpaceOnUse,E=this.w;return a.unfilter(!0),fe.isIE()&&"radialBar"===E.config.chart.type||(m=Array.isArray(m)?m[u]:m,a.filter(function(D){var A;A=fe.isSafari()||fe.isFirefox()||fe.isIE()?D.flood(m,v).composite(D.sourceAlpha,"in").offset(p,h).gaussianBlur(g):D.flood(m,v).composite(D.sourceAlpha,"in").offset(p,h).gaussianBlur(g).merge(D.source),D.blend(D.source,A)}),w||a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)),a}},{key:"setSelectionFilter",value:function(a,l,u){var h=this.w;if(void 0!==h.globals.selectedDataPoints[l]&&h.globals.selectedDataPoints[l].indexOf(u)>-1){a.node.setAttribute("selected",!0);var p=h.config.states.active.filter;"none"!==p&&this.applyFilter(a,l,p.type,p.value)}}},{key:"_scaleFilterSize",value:function(a){!function(l){for(var u in l)l.hasOwnProperty(u)&&a.setAttribute(u,l[u])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),L}(),Me=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"roundPathCorners",value:function(a,l){function u(Y,_e,me){var Re=_e.x-Y.x,le=_e.y-Y.y,Ye=Math.sqrt(Re*Re+le*le);return h(Y,_e,Math.min(1,me/Ye))}function h(Y,_e,me){return{x:Y.x+(_e.x-Y.x)*me,y:Y.y+(_e.y-Y.y)*me}}function p(Y,_e){Y.length>2&&(Y[Y.length-2]=_e.x,Y[Y.length-1]=_e.y)}function g(Y){return{x:parseFloat(Y[Y.length-2]),y:parseFloat(Y[Y.length-1])}}a.indexOf("NaN")>-1&&(a="");var m=a.split(/[,\s]/).reduce(function(Y,_e){var me=_e.match("([a-zA-Z])(.+)");return me?(Y.push(me[1]),Y.push(me[2])):Y.push(_e),Y},[]).reduce(function(Y,_e){return parseFloat(_e)==_e&&Y.length?Y[Y.length-1].push(_e):Y.push([_e]),Y},[]),v=[];if(m.length>1){var w=g(m[0]),E=null;"Z"==m[m.length-1][0]&&m[0].length>2&&(m[m.length-1]=E=["L",w.x,w.y]),v.push(m[0]);for(var D=1;D<m.length;D++){var A=v[v.length-1],R=m[D],O=R==E?m[1]:m[D+1];if(O&&A&&A.length>2&&"L"==R[0]&&O.length>2&&"L"==O[0]){var F,z,G=g(A),Z=g(R),b=g(O);F=u(Z,G,l),z=u(Z,b,l),p(R,F),R.origPoint=Z,v.push(R);var I=h(F,Z,.5),P=h(Z,z,.5),j=["C",I.x,I.y,P.x,P.y,z.x,z.y];j.origPoint=Z,v.push(j)}else v.push(R)}if(E){var K=g(v[v.length-1]);v.push(["Z"]),p(v[0],K)}}else v=m;return v.reduce(function(Y,_e){return Y+_e.join(" ")+" "},"")}},{key:"drawLine",value:function(a,l,u,h){var p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:a,y1:l,x2:u,y2:h,stroke:p,"stroke-dasharray":g,"stroke-width":m,"stroke-linecap":v})}},{key:"drawRect",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,w=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,E=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,D=this.w.globals.dom.Paper.rect();return D.attr({x:a,y:l,width:u>0?u:0,height:h>0?h:0,rx:p,ry:p,opacity:m,"stroke-width":null!==v?v:0,stroke:null!==w?w:"none","stroke-dasharray":E}),D.node.setAttribute("fill",g),D}},{key:"drawPolygon",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(a).attr({fill:h,stroke:l,"stroke-width":u})}},{key:"drawCircle",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a<0&&(a=0);var u=this.w.globals.dom.Paper.circle(2*a);return null!==l&&u.attr(l),u}},{key:"drawPath",value:function(a){var l=a.d,u=void 0===l?"":l,h=a.stroke,p=void 0===h?"#a8a8a8":h,g=a.strokeWidth,m=void 0===g?1:g,v=a.fill,w=a.fillOpacity,E=void 0===w?1:w,D=a.strokeOpacity,A=void 0===D?1:D,R=a.classes,O=a.strokeLinecap,F=void 0===O?null:O,z=a.strokeDashArray,G=void 0===z?0:z,Z=this.w;return null===F&&(F=Z.config.stroke.lineCap),(u.indexOf("undefined")>-1||u.indexOf("NaN")>-1)&&(u="M 0 ".concat(Z.globals.gridHeight)),Z.globals.dom.Paper.path(u).attr({fill:v,"fill-opacity":E,stroke:p,"stroke-opacity":A,"stroke-linecap":F,"stroke-width":m,"stroke-dasharray":G,class:R})}},{key:"group",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w.globals.dom.Paper.group();return null!==a&&l.attr(a),l}},{key:"move",value:function(a,l){return["M",a,l].join(" ")}},{key:"line",value:function(a,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=null;return null===u?h=[" L",a,l].join(" "):"H"===u?h=[" H",a].join(" "):"V"===u&&(h=[" V",l].join(" ")),h}},{key:"curve",value:function(a,l,u,h,p,g){return["C",a,l,u,h,p,g].join(" ")}},{key:"quadraticCurve",value:function(a,l,u,h){return["Q",a,l,u,h].join(" ")}},{key:"arc",value:function(a,l,u,h,p,g,m){var v="A";return arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(v="a"),[v,a,l,u,h,p,g,m].join(" ")}},{key:"renderPaths",value:function(a){var l,u=a.j,h=a.realIndex,p=a.pathFrom,g=a.pathTo,m=a.stroke,v=a.strokeWidth,w=a.strokeLinecap,E=a.fill,D=a.animationDelay,A=a.initialSpeed,R=a.dataChangeSpeed,O=a.className,F=a.shouldClipToGrid,z=void 0===F||F,G=a.bindEventsOnPaths,Z=void 0===G||G,b=a.drawShadow,I=void 0===b||b,P=this.w,j=new bn(this.ctx),K=new Ii(this.ctx),Y=this.w.config.chart.animations.enabled,_e=Y&&this.w.config.chart.animations.dynamicAnimation.enabled,me=!!(Y&&!P.globals.resized||_e&&P.globals.dataChanged&&P.globals.shouldAnimate);me?l=p:(l=g,P.globals.animationEnded=!0);var le,Re=P.config.stroke.dashArray;le=Array.isArray(Re)?Re[h]:P.config.stroke.dashArray;var Ye=this.drawPath({d:l,stroke:m,strokeWidth:v,fill:E,fillOpacity:1,classes:O,strokeLinecap:w,strokeDashArray:le});Ye.attr("index",h),z&&Ye.attr({"clip-path":"url(#gridRectMask".concat(P.globals.cuid,")")}),"none"!==P.config.states.normal.filter.type?j.getDefaultFilter(Ye,h):P.config.chart.dropShadow.enabled&&I&&(!P.config.chart.dropShadow.enabledOnSeries||P.config.chart.dropShadow.enabledOnSeries&&-1!==P.config.chart.dropShadow.enabledOnSeries.indexOf(h))&&j.dropShadow(Ye,P.config.chart.dropShadow,h),Z&&(Ye.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Ye)),Ye.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Ye)),Ye.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Ye))),Ye.attr({pathTo:g,pathFrom:p});var bt={el:Ye,j:u,realIndex:h,pathFrom:p,pathTo:g,fill:E,strokeWidth:v,delay:D};return!Y||P.globals.resized||P.globals.dataChanged?!P.globals.resized&&P.globals.dataChanged||K.showDelayedElements():K.animatePathsGradually(ae(ae({},bt),{},{speed:A})),P.globals.dataChanged&&_e&&me&&K.animatePathsGradually(ae(ae({},bt),{},{speed:R})),Ye}},{key:"drawPattern",value:function(a,l,u){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(l,u,function(g){"horizontalLines"===a?g.line(0,0,u,0).stroke({color:h,width:p+1}):"verticalLines"===a?g.line(0,0,0,l).stroke({color:h,width:p+1}):"slantedLines"===a?g.line(0,0,l,u).stroke({color:h,width:p}):"squares"===a?g.rect(l,u).fill("none").stroke({color:h,width:p}):"circles"===a&&g.circle(l).fill("none").stroke({color:h,width:p})})}},{key:"drawGradient",value:function(a,l,u,h,p){var g,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,v=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,E=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,D=this.w;l.length<9&&0===l.indexOf("#")&&(l=fe.hexToRgba(l,h)),u.length<9&&0===u.indexOf("#")&&(u=fe.hexToRgba(u,p));var A=0,R=1,O=1,F=null;null!==v&&(A=void 0!==v[0]?v[0]/100:0,R=void 0!==v[1]?v[1]/100:1,O=void 0!==v[2]?v[2]/100:1,F=void 0!==v[3]?v[3]/100:null);var z=!("donut"!==D.config.chart.type&&"pie"!==D.config.chart.type&&"polarArea"!==D.config.chart.type&&"bubble"!==D.config.chart.type);return g=D.globals.dom.Paper.gradient(z?"radial":"linear",null===w||0===w.length?function(b){b.at(A,l,h),b.at(R,u,p),b.at(O,u,p),null!==F&&b.at(F,l,h)}:function(b){(Array.isArray(w[E])?w[E]:w).forEach(function(I){b.at(I.offset/100,I.color,I.opacity)})}),z?g.attr("bubble"!==D.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:D.globals.gridWidth/2,cy:D.globals.gridHeight/2,r:m}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2}):"vertical"===a?g.from(0,0).to(0,1):"diagonal"===a?g.from(0,0).to(1,1):"horizontal"===a?g.from(0,1).to(1,1):"diagonal2"===a&&g.from(1,0).to(0,1),g}},{key:"getTextBasedOnMaxWidth",value:function(a){var l=a.text,u=a.maxWidth,g=this.getTextRects(l,a.fontSize,a.fontFamily),v=Math.floor(u/(g.width/l.length));return u<g.width?l.slice(0,v-3)+"...":l}},{key:"drawText",value:function(a){var l=this,u=a.x,h=a.y,p=a.text,g=a.textAnchor,m=a.fontSize,v=a.fontFamily,w=a.fontWeight,E=a.foreColor,D=a.opacity,A=a.maxWidth,R=a.cssClass,O=void 0===R?"":R,F=a.isPlainText,z=void 0===F||F,G=this.w;void 0===p&&(p="");var Z=p;g||(g="start"),E&&E.length||(E=G.config.chart.foreColor),w=w||"regular";var b,I={maxWidth:A,fontSize:m=m||"11px",fontFamily:v=v||G.config.chart.fontFamily};return Array.isArray(p)?b=G.globals.dom.Paper.text(function(P){for(var j=0;j<p.length;j++)Z=p[j],A&&(Z=l.getTextBasedOnMaxWidth(ae({text:p[j]},I))),0===j?P.tspan(Z):P.tspan(Z).newLine()}):(A&&(Z=this.getTextBasedOnMaxWidth(ae({text:p},I))),b=z?G.globals.dom.Paper.plain(p):G.globals.dom.Paper.text(function(P){return P.tspan(Z)})),b.attr({x:u,y:h,"text-anchor":g,"dominant-baseline":"auto","font-size":m,"font-family":v,"font-weight":w,fill:E,class:"apexcharts-text "+O}),b.node.style.fontFamily=v,b.node.style.opacity=D,b}},{key:"drawMarker",value:function(a,l,u){a=a||0;var h=u.pSize||0,p=null;if("square"===u.shape||"rect"===u.shape){var g=void 0===u.pRadius?h/2:u.pRadius;null!==l&&h||(h=0,g=0);var m=1.2*h+g,v=this.drawRect(m,m,m,m,g);v.attr({x:a-m/2,y:l-m/2,cx:a,cy:l,class:u.class?u.class:"",fill:u.pointFillColor,"fill-opacity":u.pointFillOpacity?u.pointFillOpacity:1,stroke:u.pointStrokeColor,"stroke-width":u.pointStrokeWidth?u.pointStrokeWidth:0,"stroke-opacity":u.pointStrokeOpacity?u.pointStrokeOpacity:1}),p=v}else"circle"!==u.shape&&u.shape||(fe.isNumber(l)||(h=0,l=0),p=this.drawCircle(h,{cx:a,cy:l,class:u.class?u.class:"",stroke:u.pointStrokeColor,fill:u.pointFillColor,"fill-opacity":u.pointFillOpacity?u.pointFillOpacity:1,"stroke-width":u.pointStrokeWidth?u.pointStrokeWidth:0,"stroke-opacity":u.pointStrokeOpacity?u.pointStrokeOpacity:1}));return p}},{key:"pathMouseEnter",value:function(a,l){var u=this.w,h=new bn(this.ctx),p=parseInt(a.node.getAttribute("index"),10),g=parseInt(a.node.getAttribute("j"),10);if("function"==typeof u.config.chart.events.dataPointMouseEnter&&u.config.chart.events.dataPointMouseEnter(l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:u}),this.ctx.events.fireEvent("dataPointMouseEnter",[l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:u}]),("none"===u.config.states.active.filter.type||"true"!==a.node.getAttribute("selected"))&&"none"!==u.config.states.hover.filter.type&&!u.globals.isTouchDevice){var m=u.config.states.hover.filter;h.applyFilter(a,p,m.type,m.value)}}},{key:"pathMouseLeave",value:function(a,l){var u=this.w,h=new bn(this.ctx),p=parseInt(a.node.getAttribute("index"),10),g=parseInt(a.node.getAttribute("j"),10);"function"==typeof u.config.chart.events.dataPointMouseLeave&&u.config.chart.events.dataPointMouseLeave(l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:u}),this.ctx.events.fireEvent("dataPointMouseLeave",[l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:u}]),"none"!==u.config.states.active.filter.type&&"true"===a.node.getAttribute("selected")||"none"!==u.config.states.hover.filter.type&&h.getDefaultFilter(a,p)}},{key:"pathMouseDown",value:function(a,l){var u=this.w,h=new bn(this.ctx),p=parseInt(a.node.getAttribute("index"),10),g=parseInt(a.node.getAttribute("j"),10),m="false";if("true"===a.node.getAttribute("selected")){if(a.node.setAttribute("selected","false"),u.globals.selectedDataPoints[p].indexOf(g)>-1){var v=u.globals.selectedDataPoints[p].indexOf(g);u.globals.selectedDataPoints[p].splice(v,1)}}else{if(!u.config.states.active.allowMultipleDataPointsSelection&&u.globals.selectedDataPoints.length>0){u.globals.selectedDataPoints=[];var w=u.globals.dom.Paper.select(".apexcharts-series path").members,E=u.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,D=function(O){Array.prototype.forEach.call(O,function(F){F.node.setAttribute("selected","false"),h.getDefaultFilter(F,p)})};D(w),D(E)}a.node.setAttribute("selected","true"),m="true",void 0===u.globals.selectedDataPoints[p]&&(u.globals.selectedDataPoints[p]=[]),u.globals.selectedDataPoints[p].push(g)}if("true"===m){var A=u.config.states.active.filter;if("none"!==A)h.applyFilter(a,p,A.type,A.value);else if("none"!==u.config.states.hover.filter&&!u.globals.isTouchDevice){var R=u.config.states.hover.filter;h.applyFilter(a,p,R.type,R.value)}}else"none"!==u.config.states.active.filter.type&&("none"===u.config.states.hover.filter.type||u.globals.isTouchDevice?h.getDefaultFilter(a,p):h.applyFilter(a,p,(R=u.config.states.hover.filter).type,R.value));"function"==typeof u.config.chart.events.dataPointSelection&&u.config.chart.events.dataPointSelection(l,this.ctx,{selectedDataPoints:u.globals.selectedDataPoints,seriesIndex:p,dataPointIndex:g,w:u}),l&&this.ctx.events.fireEvent("dataPointSelection",[l,this.ctx,{selectedDataPoints:u.globals.selectedDataPoints,seriesIndex:p,dataPointIndex:g,w:u}])}},{key:"rotateAroundCenter",value:function(a){var l={};return a&&"function"==typeof a.getBBox&&(l=a.getBBox()),{x:l.x+l.width/2,y:l.y+l.height/2}}},{key:"getTextRects",value:function(a,l,u,h){var p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=this.w,m=this.drawText({x:-200,y:-200,text:a,textAnchor:"start",fontSize:l,fontFamily:u,foreColor:"#fff",opacity:0});h&&m.attr("transform",h),g.globals.dom.Paper.add(m);var v=m.bbox();return p||(v=m.node.getBoundingClientRect()),m.remove(),{width:v.width,height:v.height}}},{key:"placeTextWithEllipsis",value:function(a,l,u){if("function"==typeof a.getComputedTextLength&&(a.textContent=l,l.length>0&&a.getComputedTextLength()>=u/1.1)){for(var h=l.length-3;h>0;h-=3)if(a.getSubStringLength(0,h)<=u/1.1)return void(a.textContent=l.substring(0,h)+"...");a.textContent="."}}}],[{key:"setAttrs",value:function(a,l){for(var u in l)l.hasOwnProperty(u)&&a.setAttribute(u,l[u])}}]),L}(),qt=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"getStackedSeriesTotals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=this.w,u=[];if(0===l.globals.series.length)return u;for(var h=0;h<l.globals.series[l.globals.maxValsInArrayIndex].length;h++){for(var p=0,g=0;g<l.globals.series.length;g++)void 0!==l.globals.series[g][h]&&-1===a.indexOf(g)&&(p+=l.globals.series[g][h]);u.push(p)}return u}},{key:"getSeriesTotalByIndex",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===a?this.w.config.series.reduce(function(l,u){return l+u},0):this.w.globals.series[a].reduce(function(l,u){return l+u},0)}},{key:"isSeriesNull",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===a?this.w.config.series.filter(function(l){return null!==l}):this.w.config.series[a].data.filter(function(l){return null!==l})).length}},{key:"seriesHaveSameValues",value:function(a){return this.w.globals.series[a].every(function(l,u,h){return l===h[0]})}},{key:"getCategoryLabels",value:function(a){var l=this.w,u=a.slice();return l.config.xaxis.convertedCatToNumeric&&(u=a.map(function(h,p){return l.config.xaxis.labels.formatter(h-l.globals.minX+1)})),u}},{key:"getLargestSeries",value:function(){var a=this.w;a.globals.maxValsInArrayIndex=a.globals.series.map(function(l){return l.length}).indexOf(Math.max.apply(Math,a.globals.series.map(function(l){return l.length})))}},{key:"getLargestMarkerSize",value:function(){var a=this.w,l=0;return a.globals.markers.size.forEach(function(u){l=Math.max(l,u)}),a.config.markers.discrete&&a.config.markers.discrete.length&&a.config.markers.discrete.forEach(function(u){l=Math.max(l,u.size)}),l>0&&(l+=a.config.markers.hover.sizeOffset+1),a.globals.markers.largestSize=l,l}},{key:"getSeriesTotals",value:function(){var a=this.w;a.globals.seriesTotals=a.globals.series.map(function(l,u){var h=0;if(Array.isArray(l))for(var p=0;p<l.length;p++)h+=l[p];else h+=l;return h})}},{key:"getSeriesTotalsXRange",value:function(a,l){var u=this.w;return u.globals.series.map(function(h,p){for(var g=0,m=0;m<h.length;m++)u.globals.seriesX[p][m]>a&&u.globals.seriesX[p][m]<l&&(g+=h[m]);return g})}},{key:"getPercentSeries",value:function(){var a=this.w;a.globals.seriesPercent=a.globals.series.map(function(l,u){var h=[];if(Array.isArray(l))for(var p=0;p<l.length;p++){var g=a.globals.stackedSeriesTotals[p],m=0;g&&(m=100*l[p]/g),h.push(m)}else{var v=100*l/a.globals.seriesTotals.reduce(function(w,E){return w+E},0);h.push(v)}return h})}},{key:"getCalculatedRatios",value:function(){var a,l,u,h,p=this.w.globals,g=[],m=0,v=[],w=.1,E=0;if(p.yRange=[],p.isMultipleYAxis)for(var D=0;D<p.minYArr.length;D++)p.yRange.push(Math.abs(p.minYArr[D]-p.maxYArr[D])),v.push(0);else p.yRange.push(Math.abs(p.minY-p.maxY));p.xRange=Math.abs(p.maxX-p.minX),p.zRange=Math.abs(p.maxZ-p.minZ);for(var A=0;A<p.yRange.length;A++)g.push(p.yRange[A]/p.gridHeight);if(l=p.xRange/p.gridWidth,u=Math.abs(p.initialMaxX-p.initialMinX)/p.gridWidth,a=p.yRange/p.gridWidth,h=p.xRange/p.gridHeight,(m=p.zRange/p.gridHeight*16)||(m=1),p.minY!==Number.MIN_VALUE&&0!==Math.abs(p.minY)&&(p.hasNegs=!0),p.isMultipleYAxis){v=[];for(var R=0;R<g.length;R++)v.push(-p.minYArr[R]/g[R])}else v.push(-p.minY/g[0]),p.minY!==Number.MIN_VALUE&&0!==Math.abs(p.minY)&&(w=-p.minY/a,E=p.minX/l);return{yRatio:g,invertedYRatio:a,zRatio:m,xRatio:l,initialXRatio:u,invertedXRatio:h,baseLineInvertedY:w,baseLineY:v,baseLineX:E}}},{key:"getLogSeries",value:function(a){var l=this,u=this.w;return u.globals.seriesLog=a.map(function(h,p){return u.config.yaxis[p]&&u.config.yaxis[p].logarithmic?h.map(function(g){return null===g?null:l.getLogVal(u.config.yaxis[p].logBase,g,p)}):h}),u.globals.invalidLogScale?a:u.globals.seriesLog}},{key:"getBaseLog",value:function(a,l){return Math.log(l)/Math.log(a)}},{key:"getLogVal",value:function(a,l,u){if(0===l)return 0;var h=this.w,p=0===h.globals.minYArr[u]?-1:this.getBaseLog(a,h.globals.minYArr[u]),g=(0===h.globals.maxYArr[u]?0:this.getBaseLog(a,h.globals.maxYArr[u]))-p;return l<1?l/g:(this.getBaseLog(a,l)-p)/g}},{key:"getLogYRatios",value:function(a){var l=this,u=this.w,h=this.w.globals;return h.yLogRatio=a.slice(),h.logYRange=h.yRange.map(function(p,g){if(u.config.yaxis[g]&&l.w.config.yaxis[g].logarithmic){var m,v=-Number.MAX_VALUE,w=Number.MIN_VALUE;return h.seriesLog.forEach(function(E,D){E.forEach(function(A){u.config.yaxis[D]&&u.config.yaxis[D].logarithmic&&(v=Math.max(A,v),w=Math.min(A,w))})}),m=Math.pow(h.yRange[g],Math.abs(w-v)/h.yRange[g]),h.yLogRatio[g]=m/h.gridHeight,m}}),h.invalidLogScale?a.slice():h.yLogRatio}}],[{key:"checkComboSeries",value:function(a){var l=!1,u=0,h=0;return a.length&&void 0!==a[0].type&&a.forEach(function(p){"bar"!==p.type&&"column"!==p.type&&"candlestick"!==p.type&&"boxPlot"!==p.type||u++,void 0!==p.type&&h++}),h>0&&(l=!0),{comboBarCount:u,comboCharts:l}}},{key:"extendArrayProps",value:function(a,l,u){return l.yaxis&&(l=a.extendYAxis(l,u)),l.annotations&&(l.annotations.yaxis&&(l=a.extendYAxisAnnotations(l)),l.annotations.xaxis&&(l=a.extendXAxisAnnotations(l)),l.annotations.points&&(l=a.extendPointAnnotations(l))),l}}]),L}(),Er=function(){function L(a){Ue(this,L),this.w=a.w,this.annoCtx=a}return ht(L,[{key:"setOrientations",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("vertical"===a.label.orientation){var p=this.w.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(null!==l?l:0,"']"));if(null!==p){var g=p.getBoundingClientRect();p.setAttribute("x",parseFloat(p.getAttribute("x"))-g.height+4),p.setAttribute("y","top"===a.label.position?parseFloat(p.getAttribute("y"))+g.width:parseFloat(p.getAttribute("y"))-g.width);var m=this.annoCtx.graphics.rotateAroundCenter(p),w=m.y;p.setAttribute("transform","rotate(-90 ".concat(m.x," ").concat(w,")"))}}}},{key:"addBackgroundToAnno",value:function(a,l){var u=this.w;if(!a||void 0===l.label.text||void 0!==l.label.text&&!String(l.label.text).trim())return null;var h=u.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),p=a.getBoundingClientRect(),g=l.label.style.padding.left,m=l.label.style.padding.right,v=l.label.style.padding.top,w=l.label.style.padding.bottom;"vertical"===l.label.orientation&&(v=l.label.style.padding.left,w=l.label.style.padding.right,g=l.label.style.padding.top,m=l.label.style.padding.bottom);var A=this.annoCtx.graphics.drawRect(p.left-h.left-g-u.globals.barPadForNumericAxis,p.top-h.top-v,p.width+g+m,p.height+v+w,l.label.borderRadius,l.label.style.background,1,l.label.borderWidth,l.label.borderColor,0);return l.id&&A.node.classList.add(l.id),A}},{key:"annotationsBackground",value:function(){var a=this,l=this.w,u=function(h,p,g){var m=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(g,"-annotations .apexcharts-").concat(g,"-annotation-label[rel='").concat(p,"']"));if(m){var v=m.parentNode,w=a.addBackgroundToAnno(m,h);w&&(v.insertBefore(w.node,m),h.label.mouseEnter&&w.node.addEventListener("mouseenter",h.label.mouseEnter.bind(a,h)),h.label.mouseLeave&&w.node.addEventListener("mouseleave",h.label.mouseLeave.bind(a,h)),h.label.click&&w.node.addEventListener("click",h.label.click.bind(a,h)))}};l.config.annotations.xaxis.map(function(h,p){u(h,p,"xaxis")}),l.config.annotations.yaxis.map(function(h,p){u(h,p,"yaxis")}),l.config.annotations.points.map(function(h,p){u(h,p,"point")})}},{key:"getY1Y2",value:function(a,l){var u,h="y1"===a?l.y:l.y2,p=this.w;if(this.annoCtx.invertAxis){var g=p.globals.labels.indexOf(h);p.config.xaxis.convertedCatToNumeric&&(g=p.globals.categoryLabels.indexOf(h));var m=p.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(g+1)+")");m&&(u=parseFloat(m.getAttribute("y")))}else{var v;v=p.config.yaxis[l.yAxisIndex].logarithmic?(h=new qt(this.annoCtx.ctx).getLogVal(h,l.yAxisIndex))/p.globals.yLogRatio[l.yAxisIndex]:(h-p.globals.minYArr[l.yAxisIndex])/(p.globals.yRange[l.yAxisIndex]/p.globals.gridHeight),u=p.globals.gridHeight-v,!l.marker||null!=l.y||(u=0),p.config.yaxis[l.yAxisIndex]&&p.config.yaxis[l.yAxisIndex].reversed&&(u=v)}return"string"==typeof h&&h.indexOf("px")>-1&&(u=parseFloat(h)),u}},{key:"getX1X2",value:function(a,l){var u=this.w,h=this.annoCtx.invertAxis?u.globals.minY:u.globals.minX,p=this.annoCtx.invertAxis?u.globals.maxY:u.globals.maxX,g=this.annoCtx.invertAxis?u.globals.yRange[0]:u.globals.xRange,m=(l.x-h)/(g/u.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(m=(p-l.x)/(g/u.globals.gridWidth)),"category"!==u.config.xaxis.type&&!u.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||u.globals.dataFormatXNumeric||(m=this.getStringX(l.x));var v=(l.x2-h)/(g/u.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(v=(p-l.x2)/(g/u.globals.gridWidth)),"category"!==u.config.xaxis.type&&!u.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||u.globals.dataFormatXNumeric||(v=this.getStringX(l.x2)),null!=l.x||!l.marker||(m=u.globals.gridWidth),"x1"===a&&"string"==typeof l.x&&l.x.indexOf("px")>-1&&(m=parseFloat(l.x)),"x2"===a&&"string"==typeof l.x2&&l.x2.indexOf("px")>-1&&(v=parseFloat(l.x2)),"x1"===a?m:v}},{key:"getStringX",value:function(a){var l=this.w,u=a;l.config.xaxis.convertedCatToNumeric&&l.globals.categoryLabels.length&&(a=l.globals.categoryLabels.indexOf(a)+1);var h=l.globals.labels.indexOf(a),p=l.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(h+1)+")");return p&&(u=parseFloat(p.getAttribute("x"))),u}}]),L}(),Ki=function(){function L(a){Ue(this,L),this.w=a.w,this.annoCtx=a,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Er(this.annoCtx)}return ht(L,[{key:"addXaxisAnnotation",value:function(a,l,u){var h,p=this.w,g=this.helpers.getX1X2("x1",a),m=a.label.text,v=a.strokeDashArray;if(fe.isNumber(g)){if(null==a.x2){var w=this.annoCtx.graphics.drawLine(g+a.offsetX,0+a.offsetY,g+a.offsetX,p.globals.gridHeight+a.offsetY,a.borderColor,v,a.borderWidth);l.appendChild(w.node),a.id&&w.node.classList.add(a.id)}else{if((h=this.helpers.getX1X2("x2",a))<g){var E=g;g=h,h=E}var D=this.annoCtx.graphics.drawRect(g+a.offsetX,0+a.offsetY,h-g,p.globals.gridHeight+a.offsetY,0,a.fillColor,a.opacity,1,a.borderColor,v);D.node.classList.add("apexcharts-annotation-rect"),D.attr("clip-path","url(#gridRectMask".concat(p.globals.cuid,")")),l.appendChild(D.node),a.id&&D.node.classList.add(a.id)}var A=this.annoCtx.graphics.getTextRects(m,parseFloat(a.label.style.fontSize)),O=this.annoCtx.graphics.drawText({x:g+a.label.offsetX,y:("top"===a.label.position?4:"center"===a.label.position?p.globals.gridHeight/2+("vertical"===a.label.orientation?A.width/2:0):p.globals.gridHeight)+a.label.offsetY-("vertical"===a.label.orientation?"top"===a.label.position?A.width/2-12:-A.width/2:0),text:m,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});O.attr({rel:u}),l.appendChild(O.node),this.annoCtx.helpers.setOrientations(a,u)}}},{key:"drawXAxisAnnotations",value:function(){var a=this,l=this.w,u=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return l.config.annotations.xaxis.map(function(h,p){a.addXaxisAnnotation(h,u.node,p)}),u}}]),L}(),cn=function(){function L(a){Ue(this,L),this.w=a.w,this.annoCtx=a,this.helpers=new Er(this.annoCtx)}return ht(L,[{key:"addYaxisAnnotation",value:function(a,l,u){var h,p=this.w,g=a.strokeDashArray,m=this.helpers.getY1Y2("y1",a),v=a.label.text;if(null==a.y2){var w=this.annoCtx.graphics.drawLine(0+a.offsetX,m+a.offsetY,this._getYAxisAnnotationWidth(a),m+a.offsetY,a.borderColor,g,a.borderWidth);l.appendChild(w.node),a.id&&w.node.classList.add(a.id)}else{if((h=this.helpers.getY1Y2("y2",a))>m){var E=m;m=h,h=E}var D=this.annoCtx.graphics.drawRect(0+a.offsetX,h+a.offsetY,this._getYAxisAnnotationWidth(a),m-h,0,a.fillColor,a.opacity,1,a.borderColor,g);D.node.classList.add("apexcharts-annotation-rect"),D.attr("clip-path","url(#gridRectMask".concat(p.globals.cuid,")")),l.appendChild(D.node),a.id&&D.node.classList.add(a.id)}var R=this.annoCtx.graphics.drawText({x:("right"===a.label.position?p.globals.gridWidth:"center"===a.label.position?p.globals.gridWidth/2:0)+a.label.offsetX,y:(h??m)+a.label.offsetY-3,text:v,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});R.attr({rel:u}),l.appendChild(R.node)}},{key:"_getYAxisAnnotationWidth",value:function(a){var l=this.w;return(a.width.indexOf("%")>-1?l.globals.gridWidth*parseInt(a.width,10)/100:parseInt(a.width,10))+a.offsetX}},{key:"drawYAxisAnnotations",value:function(){var a=this,l=this.w,u=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return l.config.annotations.yaxis.map(function(h,p){a.addYaxisAnnotation(h,u.node,p)}),u}}]),L}(),st=function(){function L(a){Ue(this,L),this.w=a.w,this.annoCtx=a,this.helpers=new Er(this.annoCtx)}return ht(L,[{key:"addPointAnnotation",value:function(a,l,u){var h=this.helpers.getX1X2("x1",a),p=this.helpers.getY1Y2("y1",a);if(fe.isNumber(h)){var g={pSize:a.marker.size,pointStrokeWidth:a.marker.strokeWidth,pointFillColor:a.marker.fillColor,pointStrokeColor:a.marker.strokeColor,shape:a.marker.shape,pRadius:a.marker.radius,class:"apexcharts-point-annotation-marker ".concat(a.marker.cssClass," ").concat(a.id?a.id:"")},m=this.annoCtx.graphics.drawMarker(h+a.marker.offsetX,p+a.marker.offsetY,g);l.appendChild(m.node);var v=a.label.text?a.label.text:"",w=this.annoCtx.graphics.drawText({x:h+a.label.offsetX,y:p+a.label.offsetY-a.marker.size-parseFloat(a.label.style.fontSize)/1.6,text:v,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});if(w.attr({rel:u}),l.appendChild(w.node),a.customSVG.SVG){var E=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+a.customSVG.cssClass});E.attr({transform:"translate(".concat(h+a.customSVG.offsetX,", ").concat(p+a.customSVG.offsetY,")")}),E.node.innerHTML=a.customSVG.SVG,l.appendChild(E.node)}if(a.image.path){var D=a.image.width?a.image.width:20,A=a.image.height?a.image.height:20;m=this.annoCtx.addImage({x:h+a.image.offsetX-D/2,y:p+a.image.offsetY-A/2,width:D,height:A,path:a.image.path,appendTo:".apexcharts-point-annotations"})}a.mouseEnter&&m.node.addEventListener("mouseenter",a.mouseEnter.bind(this,a)),a.mouseLeave&&m.node.addEventListener("mouseleave",a.mouseLeave.bind(this,a)),a.click&&m.node.addEventListener("click",a.click.bind(this,a))}}},{key:"drawPointAnnotations",value:function(){var a=this,l=this.w,u=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return l.config.annotations.points.map(function(h,p){a.addPointAnnotation(h,u.node,p)}),u}}]),L}(),Pn={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Yn=function(){function L(){Ue(this,L),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return ht(L,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[Pn],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(a){return new Date(a).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(a){return a}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(a){return a+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(a){return a.globals.seriesTotals.reduce(function(l,u){return l+u},0)/a.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(a){return a}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(a){return a}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(a){return a.globals.seriesTotals.reduce(function(l,u){return l+u},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(a){return null!==a?a:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(a){return a?a+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),L}(),Bi=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.graphics=new Me(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Er(this),this.xAxisAnnotations=new Ki(this),this.yAxisAnnotations=new cn(this),this.pointsAnnotations=new st(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return ht(L,[{key:"drawAxesAnnotations",value:function(){var a=this.w;if(a.globals.axisCharts){for(var l=this.yAxisAnnotations.drawYAxisAnnotations(),u=this.xAxisAnnotations.drawXAxisAnnotations(),h=this.pointsAnnotations.drawPointAnnotations(),p=a.config.chart.animations.enabled,g=[l,u,h],m=[u.node,l.node,h.node],v=0;v<3;v++)a.globals.dom.elGraphical.add(g[v]),!p||a.globals.resized||a.globals.dataChanged||"scatter"!==a.config.chart.type&&"bubble"!==a.config.chart.type&&a.globals.dataPoints>1&&m[v].classList.add("apexcharts-element-hidden"),a.globals.delayedElements.push({el:m[v],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var a=this;this.w.config.annotations.images.map(function(l,u){a.addImage(l,u)})}},{key:"drawTextAnnos",value:function(){var a=this;this.w.config.annotations.texts.map(function(l,u){a.addText(l,u)})}},{key:"addXaxisAnnotation",value:function(a,l,u){this.xAxisAnnotations.addXaxisAnnotation(a,l,u)}},{key:"addYaxisAnnotation",value:function(a,l,u){this.yAxisAnnotations.addYaxisAnnotation(a,l,u)}},{key:"addPointAnnotation",value:function(a,l,u){this.pointsAnnotations.addPointAnnotation(a,l,u)}},{key:"addText",value:function(a,l){var p=a.text,A=a.backgroundColor,R=a.borderWidth,O=a.strokeDashArray,F=a.borderRadius,z=a.borderColor,G=a.appendTo,Z=void 0===G?".apexcharts-annotations":G,b=a.paddingLeft,I=void 0===b?4:b,P=a.paddingRight,j=void 0===P?4:P,K=a.paddingBottom,Y=void 0===K?2:K,_e=a.paddingTop,me=void 0===_e?2:_e,Re=this.w,le=this.graphics.drawText({x:a.x,y:a.y,text:p,textAnchor:a.textAnchor||"start",fontSize:a.fontSize||"12px",fontWeight:a.fontWeight||"regular",fontFamily:a.fontFamily||Re.config.chart.fontFamily,foreColor:a.foreColor||Re.config.chart.foreColor,cssClass:a.cssClass}),Ye=Re.globals.dom.baseEl.querySelector(Z);Ye&&Ye.appendChild(le.node);var Se=le.bbox();if(p){var bt=this.graphics.drawRect(Se.x-I,Se.y-me,Se.width+I+j,Se.height+Y+me,F,A||"transparent",1,R,z,O);Ye.insertBefore(bt.node,le.node)}}},{key:"addImage",value:function(a,l){var u=this.w,p=a.x,g=void 0===p?0:p,m=a.y,v=void 0===m?0:m,w=a.width,E=void 0===w?20:w,D=a.height,A=void 0===D?20:D,R=a.appendTo,O=void 0===R?".apexcharts-annotations":R,F=u.globals.dom.Paper.image(a.path);F.size(E,A).move(g,v);var z=u.globals.dom.baseEl.querySelector(O);return z&&z.appendChild(F.node),F}},{key:"addXaxisAnnotationExternal",value:function(a,l,u){return this.addAnnotationExternal({params:a,pushToMemory:l,context:u,type:"xaxis",contextMethod:u.addXaxisAnnotation}),u}},{key:"addYaxisAnnotationExternal",value:function(a,l,u){return this.addAnnotationExternal({params:a,pushToMemory:l,context:u,type:"yaxis",contextMethod:u.addYaxisAnnotation}),u}},{key:"addPointAnnotationExternal",value:function(a,l,u){return void 0===this.invertAxis&&(this.invertAxis=u.w.globals.isBarHorizontal),this.addAnnotationExternal({params:a,pushToMemory:l,context:u,type:"point",contextMethod:u.addPointAnnotation}),u}},{key:"addAnnotationExternal",value:function(a){var l=a.params,u=a.pushToMemory,h=a.context,p=a.type,g=a.contextMethod,m=h,v=m.w,w=v.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-annotations")),E=w.childNodes.length+1,D=new Yn,A=Object.assign({},"xaxis"===p?D.xAxisAnnotation:"yaxis"===p?D.yAxisAnnotation:D.pointAnnotation),R=fe.extend(A,l);switch(p){case"xaxis":this.addXaxisAnnotation(R,w,E);break;case"yaxis":this.addYaxisAnnotation(R,w,E);break;case"point":this.addPointAnnotation(R,w,E)}var O=v.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-annotations .apexcharts-").concat(p,"-annotation-label[rel='").concat(E,"']")),F=this.helpers.addBackgroundToAnno(O,R);return F&&w.insertBefore(F.node,O),u&&v.globals.memory.methodsToExec.push({context:m,id:R.id?R.id:fe.randomId(),method:g,label:"addAnnotation",params:l}),h}},{key:"clearAnnotations",value:function(a){var l=a.w,u=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");l.globals.memory.methodsToExec.map(function(h,p){"addText"!==h.label&&"addAnnotation"!==h.label||l.globals.memory.methodsToExec.splice(p,1)}),u=fe.listToArray(u),Array.prototype.forEach.call(u,function(h){for(;h.firstChild;)h.removeChild(h.firstChild)})}},{key:"removeAnnotation",value:function(a,l){var u=a.w,h=u.globals.dom.baseEl.querySelectorAll(".".concat(l));h&&(u.globals.memory.methodsToExec.map(function(p,g){p.id===l&&u.globals.memory.methodsToExec.splice(g,1)}),Array.prototype.forEach.call(h,function(p){p.parentElement.removeChild(p)}))}}]),L}(),fn=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return ht(L,[{key:"isValidDate",value:function(a){return!isNaN(this.parseDate(a))}},{key:"getTimeStamp",value:function(a){return Date.parse(a)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(a).toISOString().substr(0,25)).getTime():new Date(a).getTime():a}},{key:"getDate",value:function(a){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(a).toUTCString()):new Date(a)}},{key:"parseDate",value:function(a){var l=Date.parse(a);if(!isNaN(l))return this.getTimeStamp(a);var u=Date.parse(a.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(u)}},{key:"parseDateWithTimezone",value:function(a){return Date.parse(a.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(a,l){var u=this.w.globals.locale,h=this.w.config.xaxis.labels.datetimeUTC,p=["\0"].concat(On(u.months)),g=["\x01"].concat(On(u.shortMonths)),m=["\x02"].concat(On(u.days)),v=["\x03"].concat(On(u.shortDays));function w(Y,_e){var me=Y+"";for(_e=_e||2;me.length<_e;)me="0"+me;return me}var E=h?a.getUTCFullYear():a.getFullYear();l=(l=(l=l.replace(/(^|[^\\])yyyy+/g,"$1"+E)).replace(/(^|[^\\])yy/g,"$1"+E.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+E);var D=(h?a.getUTCMonth():a.getMonth())+1;l=(l=(l=(l=l.replace(/(^|[^\\])MMMM+/g,"$1"+p[0])).replace(/(^|[^\\])MMM/g,"$1"+g[0])).replace(/(^|[^\\])MM/g,"$1"+w(D))).replace(/(^|[^\\])M/g,"$1"+D);var A=h?a.getUTCDate():a.getDate();l=(l=(l=(l=l.replace(/(^|[^\\])dddd+/g,"$1"+m[0])).replace(/(^|[^\\])ddd/g,"$1"+v[0])).replace(/(^|[^\\])dd/g,"$1"+w(A))).replace(/(^|[^\\])d/g,"$1"+A);var R=h?a.getUTCHours():a.getHours(),O=R>12?R-12:0===R?12:R;l=(l=(l=(l=l.replace(/(^|[^\\])HH+/g,"$1"+w(R))).replace(/(^|[^\\])H/g,"$1"+R)).replace(/(^|[^\\])hh+/g,"$1"+w(O))).replace(/(^|[^\\])h/g,"$1"+O);var F=h?a.getUTCMinutes():a.getMinutes();l=(l=l.replace(/(^|[^\\])mm+/g,"$1"+w(F))).replace(/(^|[^\\])m/g,"$1"+F);var z=h?a.getUTCSeconds():a.getSeconds();l=(l=l.replace(/(^|[^\\])ss+/g,"$1"+w(z))).replace(/(^|[^\\])s/g,"$1"+z);var G=h?a.getUTCMilliseconds():a.getMilliseconds();l=l.replace(/(^|[^\\])fff+/g,"$1"+w(G,3)),G=Math.round(G/10),l=l.replace(/(^|[^\\])ff/g,"$1"+w(G)),G=Math.round(G/10);var Z=R<12?"AM":"PM";l=(l=(l=l.replace(/(^|[^\\])f/g,"$1"+G)).replace(/(^|[^\\])TT+/g,"$1"+Z)).replace(/(^|[^\\])T/g,"$1"+Z.charAt(0));var b=Z.toLowerCase();l=(l=l.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var I=-a.getTimezoneOffset(),P=h||!I?"Z":I>0?"+":"-";if(!h){var j=(I=Math.abs(I))%60;P+=w(Math.floor(I/60))+":"+w(j)}l=l.replace(/(^|[^\\])K/g,"$1"+P);var K=(h?a.getUTCDay():a.getDay())+1;return(l=(l=(l=(l=l.replace(new RegExp(m[0],"g"),m[K])).replace(new RegExp(v[0],"g"),v[K])).replace(new RegExp(p[0],"g"),p[D])).replace(new RegExp(g[0],"g"),g[D])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(a,l,u){var h=this.w;void 0!==h.config.xaxis.min&&(a=h.config.xaxis.min),void 0!==h.config.xaxis.max&&(l=h.config.xaxis.max);var p=this.getDate(a),g=this.getDate(l),m=this.formatDate(p,"yyyy MM dd HH mm ss fff").split(" "),v=this.formatDate(g,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(m[6],10),maxMillisecond:parseInt(v[6],10),minSecond:parseInt(m[5],10),maxSecond:parseInt(v[5],10),minMinute:parseInt(m[4],10),maxMinute:parseInt(v[4],10),minHour:parseInt(m[3],10),maxHour:parseInt(v[3],10),minDate:parseInt(m[2],10),maxDate:parseInt(v[2],10),minMonth:parseInt(m[1],10)-1,maxMonth:parseInt(v[1],10)-1,minYear:parseInt(m[0],10),maxYear:parseInt(v[0],10)}}},{key:"isLeapYear",value:function(a){return a%4==0&&a%100!=0||a%400==0}},{key:"calculcateLastDaysOfMonth",value:function(a,l,u){return this.determineDaysOfMonths(a,l)-u}},{key:"determineDaysOfYear",value:function(a){var l=365;return this.isLeapYear(a)&&(l=366),l}},{key:"determineRemainingDaysOfYear",value:function(a,l,u){var h=this.daysCntOfYear[l]+u;return l>1&&this.isLeapYear()&&h++,h}},{key:"determineDaysOfMonths",value:function(a,l){var u=30;switch(a=fe.monthMod(a),!0){case this.months30.indexOf(a)>-1:2===a&&(u=this.isLeapYear(l)?29:28);break;case this.months31.indexOf(a)>-1:default:u=31}return u}}]),L}(),Hr=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.tooltipKeyFormat="dd MMM"}return ht(L,[{key:"xLabelFormat",value:function(a,l,u,h){var p=this.w;if("datetime"===p.config.xaxis.type&&void 0===p.config.xaxis.labels.formatter&&void 0===p.config.tooltip.x.formatter){var g=new fn(this.ctx);return g.formatDate(g.getDate(l),p.config.tooltip.x.format)}return a(l,u,h)}},{key:"defaultGeneralFormatter",value:function(a){return Array.isArray(a)?a.map(function(l){return l}):a}},{key:"defaultYFormatter",value:function(a,l,u){var h=this.w;return fe.isNumber(a)&&(a=a.toFixed(0!==h.globals.yValueDecimal?void 0!==l.decimalsInFloat?l.decimalsInFloat:h.globals.yValueDecimal:h.globals.maxYArr[u]-h.globals.minYArr[u]<5?1:0)),a}},{key:"setLabelFormatters",value:function(){var a=this,l=this.w;return l.globals.xaxisTooltipFormatter=function(u){return a.defaultGeneralFormatter(u)},l.globals.ttKeyFormatter=function(u){return a.defaultGeneralFormatter(u)},l.globals.ttZFormatter=function(u){return u},l.globals.legendFormatter=function(u){return a.defaultGeneralFormatter(u)},l.globals.xLabelFormatter=void 0!==l.config.xaxis.labels.formatter?l.config.xaxis.labels.formatter:function(u){if(fe.isNumber(u)){if(!l.config.xaxis.convertedCatToNumeric&&"numeric"===l.config.xaxis.type){if(fe.isNumber(l.config.xaxis.decimalsInFloat))return u.toFixed(l.config.xaxis.decimalsInFloat);var h=l.globals.maxX-l.globals.minX;return u.toFixed(h>0&&h<100?1:0)}return u.toFixed(l.globals.isBarHorizontal&&l.globals.maxY-l.globals.minYArr<4?1:0)}return u},l.globals.ttKeyFormatter="function"==typeof l.config.tooltip.x.formatter?l.config.tooltip.x.formatter:l.globals.xLabelFormatter,"function"==typeof l.config.xaxis.tooltip.formatter&&(l.globals.xaxisTooltipFormatter=l.config.xaxis.tooltip.formatter),(Array.isArray(l.config.tooltip.y)||void 0!==l.config.tooltip.y.formatter)&&(l.globals.ttVal=l.config.tooltip.y),void 0!==l.config.tooltip.z.formatter&&(l.globals.ttZFormatter=l.config.tooltip.z.formatter),void 0!==l.config.legend.formatter&&(l.globals.legendFormatter=l.config.legend.formatter),l.config.yaxis.forEach(function(u,h){l.globals.yLabelFormatters[h]=void 0!==u.labels.formatter?u.labels.formatter:function(p){return l.globals.xyCharts?Array.isArray(p)?p.map(function(g){return a.defaultYFormatter(g,u,h)}):a.defaultYFormatter(p,u,h):p}}),l.globals}},{key:"heatmapLabelFormatters",value:function(){var a=this.w;if("heatmap"===a.config.chart.type){a.globals.yAxisScale[0].result=a.globals.seriesNames.slice();var l=a.globals.seriesNames.reduce(function(u,h){return u.length>h.length?u:h},0);a.globals.yAxisScale[0].niceMax=l,a.globals.yAxisScale[0].niceMin=l}}}]),L}(),ls=function(L){var a,l=L.isTimeline,u=L.ctx,h=L.seriesIndex,p=L.dataPointIndex,g=L.y1,m=L.y2,v=L.w,w=v.globals.seriesRangeStart[h][p],E=v.globals.seriesRangeEnd[h][p],D=v.globals.labels[p],A=v.config.series[h].name?v.config.series[h].name:"",R=v.globals.ttKeyFormatter,O=v.config.tooltip.y.title.formatter,F={w:v,seriesIndex:h,dataPointIndex:p,start:w,end:E};"function"==typeof O&&(A=O(A,F)),null!==(a=v.config.series[h].data[p])&&void 0!==a&&a.x&&(D=v.config.series[h].data[p].x),l||"datetime"===v.config.xaxis.type&&(D=new Hr(u).xLabelFormat(v.globals.ttKeyFormatter,D,D,{i:void 0,dateFormatter:new fn(u).formatDate,w:v})),"function"==typeof R&&(D=R(D,F)),Number.isFinite(g)&&Number.isFinite(m)&&(w=g,E=m);var z="",G="",Z=v.globals.colors[h];if(void 0===v.config.tooltip.x.formatter)if("datetime"===v.config.xaxis.type){var b=new fn(u);z=b.formatDate(b.getDate(w),v.config.tooltip.x.format),G=b.formatDate(b.getDate(E),v.config.tooltip.x.format)}else z=w,G=E;else z=v.config.tooltip.x.formatter(w),G=v.config.tooltip.x.formatter(E);return{start:w,end:E,startVal:z,endVal:G,ylabel:D,color:Z,seriesName:A}},Ht=function(L){var a=L.color,l=L.seriesName,u=L.ylabel,h=L.start,p=L.end,g=L.seriesIndex,m=L.dataPointIndex,v=L.ctx.tooltip.tooltipLabels.getFormatters(g);h=v.yLbFormatter(h),p=v.yLbFormatter(p);var w=v.yLbFormatter(L.w.globals.series[g][m]),E='<span class="value start-value">\n  '.concat(h,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(p,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+a+'">'+(l||"")+'</span></div><div> <span class="category">'+u+": </span> "+(L.w.globals.comboCharts?"rangeArea"===L.w.config.series[g].type||"rangeBar"===L.w.config.series[g].type?E:"<span>".concat(w,"</span>"):E)+" </div></div>"},_r=function(){function L(a){Ue(this,L),this.opts=a}return ht(L,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(a){return this.hideYAxis(),fe.extend(a,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),ae(ae({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var a=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return a._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var a=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return a._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(a,l){var u=l.seriesIndex,h=l.dataPointIndex,p=l.w,g=function(){return p.globals.seriesRangeEnd[u][h]-p.globals.seriesRangeStart[u][h]};return p.globals.comboCharts?"rangeBar"===p.config.series[u].type||"rangeArea"===p.config.series[u].type?g():a:g()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(a){return a.w.config.plotOptions&&a.w.config.plotOptions.bar&&a.w.config.plotOptions.bar.horizontal?(h=(u=ls(ae(ae({},l=a),{},{isTimeline:!0}))).color,p=u.seriesName,g=u.ylabel,m=u.startVal,v=u.endVal,Ht(ae(ae({},l),{},{color:h,seriesName:p,ylabel:g,start:m,end:v}))):function(l){var u=ls(l),h=u.color,p=u.seriesName,g=u.ylabel,m=u.start,v=u.end;return Ht(ae(ae({},l),{},{color:h,seriesName:p,ylabel:g,start:m,end:v}))}(a);var l,u,h,p,g,m,v}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(a){var l,u;return null!==(l=a.plotOptions.bar)&&void 0!==l&&l.barHeight||(a.plotOptions.bar.barHeight=2),null!==(u=a.plotOptions.bar)&&void 0!==u&&u.columnWidth||(a.plotOptions.bar.columnWidth=2),a}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(a){return h=(u=ls(l=a)).color,p=u.seriesName,g=u.ylabel,m=u.start,v=u.end,Ht(ae(ae({},l),{},{color:h,seriesName:p,ylabel:g,start:m,end:v}));var l,u,h,p,g,m,v}}}}},{key:"brush",value:function(a){return fe.extend(a,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(a){a.dataLabels=a.dataLabels||{},a.dataLabels.formatter=a.dataLabels.formatter||void 0;var l=a.dataLabels.formatter;return a.yaxis.forEach(function(u,h){a.yaxis[h].min=0,a.yaxis[h].max=100}),"bar"===a.chart.type&&(a.dataLabels.formatter=l||function(u){return"number"==typeof u&&u?u.toFixed(0)+"%":u}),a}},{key:"stackedBars",value:function(){var a=this.bar();return ae(ae({},a),{},{plotOptions:ae(ae({},a.plotOptions),{},{bar:ae(ae({},a.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(a){return a.xaxis.convertedCatToNumeric=!0,a}},{key:"convertCatToNumericXaxis",value:function(a,l,u){a.xaxis.type="numeric",a.xaxis.labels=a.xaxis.labels||{},a.xaxis.labels.formatter=a.xaxis.labels.formatter||function(g){return fe.isNumber(g)?Math.floor(g):g};var h=a.xaxis.labels.formatter,p=a.xaxis.categories&&a.xaxis.categories.length?a.xaxis.categories:a.labels;return u&&u.length&&(p=u.map(function(g){return Array.isArray(g)?g:String(g)})),p&&p.length&&(a.xaxis.labels.formatter=function(g){return fe.isNumber(g)?h(p[Math.floor(g)-1]):h(g)}),a.xaxis.categories=[],a.labels=[],a.xaxis.tickAmount=a.xaxis.tickAmount||"dataPoints",a}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(a){return a},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(a,l,u,h,p){var g=a.globals.seriesCandleO[l][u],m=a.globals.seriesCandleH[l][u],v=a.globals.seriesCandleM[l][u],w=a.globals.seriesCandleL[l][u],E=a.globals.seriesCandleC[l][u];return a.config.series[l].type&&a.config.series[l].type!==p?'<div class="apexcharts-custom-tooltip">\n          '.concat(a.config.series[l].name?a.config.series[l].name:"series-"+(l+1),": <strong>").concat(a.globals.series[l][u],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(a.config.chart.type,'">')+"<div>".concat(h[0],': <span class="value">')+g+"</span></div>"+"<div>".concat(h[1],': <span class="value">')+m+"</span></div>"+(v?"<div>".concat(h[2],': <span class="value">')+v+"</span></div>":"")+"<div>".concat(h[3],': <span class="value">')+w+"</span></div>"+"<div>".concat(h[4],': <span class="value">')+E+"</span></div></div>"}}]),L}(),Ur=function(){function L(a){Ue(this,L),this.opts=a}return ht(L,[{key:"init",value:function(a){var l=a.responsiveOverride,u=this.opts,h=new Yn,p=new _r(u);this.chartType=u.chart.type,u=this.extendYAxis(u),u=this.extendAnnotations(u);var g=h.init(),m={};if(u&&"object"===yt(u)){var v,w,E,D,A,R,O,F,z,G,Z={};Z=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(u.chart.type)?p[u.chart.type]():p.line(),null!==(v=u.plotOptions)&&void 0!==v&&null!==(w=v.bar)&&void 0!==w&&w.isFunnel&&(Z=p.funnel()),u.chart.stacked&&"bar"===u.chart.type&&(Z=p.stackedBars()),null!==(E=u.chart.brush)&&void 0!==E&&E.enabled&&(Z=p.brush(Z)),u.chart.stacked&&"100%"===u.chart.stackType&&(u=p.stacked100(u)),null!==(D=u.plotOptions)&&void 0!==D&&null!==(A=D.bar)&&void 0!==A&&A.isDumbbell&&(u=p.dumbbell(u)),"monotoneCubic"===(null===(R=u)||void 0===R||null===(O=R.stroke)||void 0===O?void 0:O.curve)&&(u.stroke.curve="smooth"),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(u),u.xaxis=u.xaxis||window.Apex.xaxis||{},l||(u.xaxis.convertedCatToNumeric=!1),(null!==(F=(u=this.checkForCatToNumericXAxis(this.chartType,Z,u)).chart.sparkline)&&void 0!==F&&F.enabled||null!==(z=window.Apex.chart)&&void 0!==z&&null!==(G=z.sparkline)&&void 0!==G&&G.enabled)&&(Z=p.sparkline(Z)),m=fe.extend(g,Z)}var b=fe.extend(m,window.Apex);return g=fe.extend(b,u),this.handleUserInputErrors(g)}},{key:"checkForCatToNumericXAxis",value:function(a,l,u){var h,p,g=new _r(u);return("bar"===a||"boxPlot"===a)&&(null===(h=u.plotOptions)||void 0===h||null===(p=h.bar)||void 0===p?void 0:p.horizontal)||"pie"===a||"polarArea"===a||"donut"===a||"radar"===a||"radialBar"===a||"heatmap"===a||!("datetime"!==u.xaxis.type&&"numeric"!==u.xaxis.type)||"between"===(u.xaxis.tickPlacement?u.xaxis.tickPlacement:l.xaxis&&l.xaxis.tickPlacement)||(u=g.convertCatToNumeric(u)),u}},{key:"extendYAxis",value:function(a,l){var u=new Yn;(void 0===a.yaxis||!a.yaxis||Array.isArray(a.yaxis)&&0===a.yaxis.length)&&(a.yaxis={}),a.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(a.yaxis=fe.extend(a.yaxis,window.Apex.yaxis)),a.yaxis=a.yaxis.constructor!==Array?[fe.extend(u.yAxis,a.yaxis)]:fe.extendArray(a.yaxis,u.yAxis);var h=!1;a.yaxis.forEach(function(g){g.logarithmic&&(h=!0)});var p=a.series;return l&&!p&&(p=l.config.series),h&&p.length!==a.yaxis.length&&p.length&&(a.yaxis=p.map(function(g,m){if(g.name||(p[m].name="series-".concat(m+1)),a.yaxis[m])return a.yaxis[m].seriesName=p[m].name,a.yaxis[m];var v=fe.extend(u.yAxis,a.yaxis[0]);return v.show=!1,v})),h&&p.length>1&&p.length!==a.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),a}},{key:"extendAnnotations",value:function(a){return void 0===a.annotations&&(a.annotations={},a.annotations.yaxis=[],a.annotations.xaxis=[],a.annotations.points=[]),a=this.extendYAxisAnnotations(a),a=this.extendXAxisAnnotations(a),this.extendPointAnnotations(a)}},{key:"extendYAxisAnnotations",value:function(a){var l=new Yn;return a.annotations.yaxis=fe.extendArray(void 0!==a.annotations.yaxis?a.annotations.yaxis:[],l.yAxisAnnotation),a}},{key:"extendXAxisAnnotations",value:function(a){var l=new Yn;return a.annotations.xaxis=fe.extendArray(void 0!==a.annotations.xaxis?a.annotations.xaxis:[],l.xAxisAnnotation),a}},{key:"extendPointAnnotations",value:function(a){var l=new Yn;return a.annotations.points=fe.extendArray(void 0!==a.annotations.points?a.annotations.points:[],l.pointAnnotation),a}},{key:"checkForDarkTheme",value:function(a){a.theme&&"dark"===a.theme.mode&&(a.tooltip||(a.tooltip={}),"light"!==a.tooltip.theme&&(a.tooltip.theme="dark"),a.chart.foreColor||(a.chart.foreColor="#f6f7f8"),a.chart.background||(a.chart.background="#424242"),a.theme.palette||(a.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(a){var l=a;if(l.tooltip.shared&&l.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===l.chart.type&&l.plotOptions.bar.horizontal){if(l.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");l.yaxis[0].reversed&&(l.yaxis[0].opposite=!0),l.xaxis.tooltip.enabled=!1,l.yaxis[0].tooltip.enabled=!1,l.chart.zoom.enabled=!1}return"bar"!==l.chart.type&&"rangeBar"!==l.chart.type||l.tooltip.shared&&"barWidth"===l.xaxis.crosshairs.width&&l.series.length>1&&(l.xaxis.crosshairs.width="tickWidth"),"candlestick"!==l.chart.type&&"boxPlot"!==l.chart.type||l.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(l.chart.type," chart is not supported.")),l.yaxis[0].reversed=!1),l}}]),L}(),ke=function(){function L(){Ue(this,L)}return ht(L,[{key:"initGlobalVars",value:function(a){a.series=[],a.seriesCandleO=[],a.seriesCandleH=[],a.seriesCandleM=[],a.seriesCandleL=[],a.seriesCandleC=[],a.seriesRangeStart=[],a.seriesRangeEnd=[],a.seriesRange=[],a.seriesPercent=[],a.seriesGoals=[],a.seriesX=[],a.seriesZ=[],a.seriesNames=[],a.seriesTotals=[],a.seriesLog=[],a.seriesColors=[],a.stackedSeriesTotals=[],a.seriesXvalues=[],a.seriesYvalues=[],a.labels=[],a.hasXaxisGroups=!1,a.groups=[],a.hasSeriesGroups=!1,a.seriesGroups=[],a.categoryLabels=[],a.timescaleLabels=[],a.noLabelsProvided=!1,a.resizeTimer=null,a.selectionResizeTimer=null,a.delayedElements=[],a.pointsArray=[],a.dataLabelsRects=[],a.isXNumeric=!1,a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1,a.isDataXYZ=!1,a.isMultiLineX=!1,a.isMultipleYAxis=!1,a.maxY=-Number.MAX_VALUE,a.minY=Number.MIN_VALUE,a.minYArr=[],a.maxYArr=[],a.maxX=-Number.MAX_VALUE,a.minX=Number.MAX_VALUE,a.initialMaxX=-Number.MAX_VALUE,a.initialMinX=Number.MAX_VALUE,a.maxDate=0,a.minDate=Number.MAX_VALUE,a.minZ=Number.MAX_VALUE,a.maxZ=-Number.MAX_VALUE,a.minXDiff=Number.MAX_VALUE,a.yAxisScale=[],a.xAxisScale=null,a.xAxisTicksPositions=[],a.yLabelsCoords=[],a.yTitleCoords=[],a.barPadForNumericAxis=0,a.padHorizontal=0,a.xRange=0,a.yRange=[],a.zRange=0,a.dataPoints=0,a.xTickAmount=0}},{key:"globalVars",value:function(a){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:a.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.zoom&&a.chart.zoom.enabled,panEnabled:"pan"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.pan,selectionEnabled:"selection"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(a){var l=this.globalVars(a);return this.initGlobalVars(l),l.initialConfig=fe.extend({},a),l.initialSeries=fe.clone(a.series),l.lastXAxis=fe.clone(l.initialConfig.xaxis),l.lastYAxis=fe.clone(l.initialConfig.yaxis),l}}]),L}(),Ne=function(){function L(a){Ue(this,L),this.opts=a}return ht(L,[{key:"init",value:function(){var a=new Ur(this.opts).init({responsiveOverride:!1});return{config:a,globals:(new ke).init(a)}}}]),L}(),he=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.opts=null,this.seriesIndex=0}return ht(L,[{key:"clippedImgArea",value:function(a){var l=this.w,u=l.config,h=parseInt(l.globals.gridWidth,10),p=parseInt(l.globals.gridHeight,10),g=h>p?h:p,m=a.image,v=0,w=0;void 0===a.width&&void 0===a.height?void 0!==u.fill.image.width&&void 0!==u.fill.image.height?(v=u.fill.image.width+1,w=u.fill.image.height):(v=g+1,w=g):(v=a.width,w=a.height);var E=document.createElementNS(l.globals.SVGNS,"pattern");Me.setAttrs(E,{id:a.patternID,patternUnits:a.patternUnits?a.patternUnits:"userSpaceOnUse",width:v+"px",height:w+"px"});var D=document.createElementNS(l.globals.SVGNS,"image");E.appendChild(D),D.setAttributeNS(window.SVG.xlink,"href",m),Me.setAttrs(D,{x:0,y:0,preserveAspectRatio:"none",width:v+"px",height:w+"px"}),D.style.opacity=a.opacity,l.globals.dom.elDefs.node.appendChild(E)}},{key:"getSeriesIndex",value:function(a){var l=this.w,u=l.config.chart.type;return this.seriesIndex=("bar"===u||"rangeBar"===u)&&l.config.plotOptions.bar.distributed||"heatmap"===u||"treemap"===u?a.seriesNumber:a.seriesNumber%l.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(a){var l=this.w;this.opts=a;var u,h,p,g=this.w.config;this.seriesIndex=this.getSeriesIndex(a);var m=this.getFillColors()[this.seriesIndex];void 0!==l.globals.seriesColors[this.seriesIndex]&&(m=l.globals.seriesColors[this.seriesIndex]),"function"==typeof m&&(m=m({seriesIndex:this.seriesIndex,dataPointIndex:a.dataPointIndex,value:a.value,w:l}));var v=a.fillType?a.fillType:this.getFillType(this.seriesIndex),w=Array.isArray(g.fill.opacity)?g.fill.opacity[this.seriesIndex]:g.fill.opacity;a.color&&(m=a.color),m||(m="#fff",console.warn("undefined color - ApexCharts"));var E=m;if(-1===m.indexOf("rgb")?m.length<9&&(E=fe.hexToRgba(m,w)):m.indexOf("rgba")>-1&&(w=fe.getOpacityFromRGBA(m)),a.opacity&&(w=a.opacity),"pattern"===v&&(h=this.handlePatternFill({fillConfig:a.fillConfig,patternFill:h,fillColor:m,fillOpacity:w,defaultColor:E})),"gradient"===v&&(p=this.handleGradientFill({fillConfig:a.fillConfig,fillColor:m,fillOpacity:w,i:this.seriesIndex})),"image"===v){var D=g.fill.image.src,A=a.patternID?a.patternID:"";this.clippedImgArea({opacity:w,image:Array.isArray(D)?a.seriesNumber<D.length?D[a.seriesNumber]:D[0]:D,width:a.width?a.width:void 0,height:a.height?a.height:void 0,patternUnits:a.patternUnits,patternID:"pattern".concat(l.globals.cuid).concat(a.seriesNumber+1).concat(A)}),u="url(#pattern".concat(l.globals.cuid).concat(a.seriesNumber+1).concat(A,")")}else u="gradient"===v?p:"pattern"===v?h:E;return a.solid&&(u=E),u}},{key:"getFillType",value:function(a){var l=this.w;return Array.isArray(l.config.fill.type)?l.config.fill.type[a]:l.config.fill.type}},{key:"getFillColors",value:function(){var a=this.w,l=a.config,u=this.opts,h=[];return a.globals.comboCharts?"line"===a.config.series[this.seriesIndex].type?Array.isArray(a.globals.stroke.colors)?h=a.globals.stroke.colors:h.push(a.globals.stroke.colors):Array.isArray(a.globals.fill.colors)?h=a.globals.fill.colors:h.push(a.globals.fill.colors):"line"===l.chart.type?Array.isArray(a.globals.stroke.colors)?h=a.globals.stroke.colors:h.push(a.globals.stroke.colors):Array.isArray(a.globals.fill.colors)?h=a.globals.fill.colors:h.push(a.globals.fill.colors),void 0!==u.fillColors&&(h=[],Array.isArray(u.fillColors)?h=u.fillColors.slice():h.push(u.fillColors)),h}},{key:"handlePatternFill",value:function(a){var l=a.fillConfig,h=a.fillColor,p=a.fillOpacity,g=a.defaultColor,m=this.w.config.fill;l&&(m=l);var v=this.opts,w=new Me(this.ctx),E=Array.isArray(m.pattern.strokeWidth)?m.pattern.strokeWidth[this.seriesIndex]:m.pattern.strokeWidth,D=h;return Array.isArray(m.pattern.style)?void 0!==m.pattern.style[v.seriesNumber]?w.drawPattern(m.pattern.style[v.seriesNumber],m.pattern.width,m.pattern.height,D,E,p):g:w.drawPattern(m.pattern.style,m.pattern.width,m.pattern.height,D,E,p)}},{key:"handleGradientFill",value:function(a){var l=a.fillColor,u=a.fillOpacity,h=a.fillConfig,p=a.i,g=this.w.config.fill;h&&(g=ae(ae({},g),h));var m,v=this.opts,w=new Me(this.ctx),E=new fe,D=g.gradient.type,A=l,R=void 0===g.gradient.opacityFrom?u:Array.isArray(g.gradient.opacityFrom)?g.gradient.opacityFrom[p]:g.gradient.opacityFrom;A.indexOf("rgba")>-1&&(R=fe.getOpacityFromRGBA(A));var O=void 0===g.gradient.opacityTo?u:Array.isArray(g.gradient.opacityTo)?g.gradient.opacityTo[p]:g.gradient.opacityTo;if(void 0===g.gradient.gradientToColors||0===g.gradient.gradientToColors.length)m=E.shadeColor("dark"===g.gradient.shade?-1*parseFloat(g.gradient.shadeIntensity):parseFloat(g.gradient.shadeIntensity),l.indexOf("rgb")>-1?fe.rgb2hex(l):l);else if(g.gradient.gradientToColors[v.seriesNumber]){var F=g.gradient.gradientToColors[v.seriesNumber];m=F,F.indexOf("rgba")>-1&&(O=fe.getOpacityFromRGBA(F))}else m=l;if(g.gradient.gradientFrom&&(A=g.gradient.gradientFrom),g.gradient.gradientTo&&(m=g.gradient.gradientTo),g.gradient.inverseColors){var z=A;A=m,m=z}return A.indexOf("rgb")>-1&&(A=fe.rgb2hex(A)),m.indexOf("rgb")>-1&&(m=fe.rgb2hex(m)),w.drawGradient(D,A,m,R,O,v.size,g.gradient.stops,g.gradient.colorStops,p)}}]),L}(),Ae=function(){function L(a,l){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"setGlobalMarkerSize",value:function(){var a=this.w;if(a.globals.markers.size=Array.isArray(a.config.markers.size)?a.config.markers.size:[a.config.markers.size],a.globals.markers.size.length>0){if(a.globals.markers.size.length<a.globals.series.length+1)for(var l=0;l<=a.globals.series.length;l++)void 0===a.globals.markers.size[l]&&a.globals.markers.size.push(a.globals.markers.size[0])}else a.globals.markers.size=a.config.series.map(function(u){return a.config.markers.size})}},{key:"plotChartMarkers",value:function(a,l,u,h){var p,g=arguments.length>4&&void 0!==arguments[4]&&arguments[4],m=this.w,v=l,w=a,E=null,D=new Me(this.ctx),A=m.config.markers.discrete&&m.config.markers.discrete.length;if((m.globals.markers.size[l]>0||g||A)&&(E=D.group({class:g||A?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(m.globals.cuid,")")),Array.isArray(w.x))for(var R=0;R<w.x.length;R++){var O=u;1===u&&0===R&&(O=0),1===u&&1===R&&(O=1);var F="apexcharts-marker";if("line"!==m.config.chart.type&&"area"!==m.config.chart.type||m.globals.comboCharts||m.config.tooltip.intersect||(F+=" no-pointer-events"),(Array.isArray(m.config.markers.size)?m.globals.markers.size[l]>0:m.config.markers.size>0)||g||A){fe.isNumber(w.y[R])?F+=" w".concat(fe.randomId()):F="apexcharts-nullpoint";var z=this.getMarkerConfig({cssClass:F,seriesIndex:l,dataPointIndex:O});m.config.series[v].data[O]&&(m.config.series[v].data[O].fillColor&&(z.pointFillColor=m.config.series[v].data[O].fillColor),m.config.series[v].data[O].strokeColor&&(z.pointStrokeColor=m.config.series[v].data[O].strokeColor)),h&&(z.pSize=h),(w.x[R]<0||w.x[R]>m.globals.gridWidth||w.y[R]<-m.globals.markers.largestSize||w.y[R]>m.globals.gridHeight+m.globals.markers.largestSize)&&(z.pSize=0),(p=D.drawMarker(w.x[R],w.y[R],z)).attr("rel",O),p.attr("j",O),p.attr("index",l),p.node.setAttribute("default-marker-size",z.pSize),new bn(this.ctx).setSelectionFilter(p,l,O),this.addEvents(p),E&&E.add(p)}else void 0===m.globals.pointsArray[l]&&(m.globals.pointsArray[l]=[]),m.globals.pointsArray[l].push([w.x[R],w.y[R]])}return E}},{key:"getMarkerConfig",value:function(a){var l=a.cssClass,u=a.seriesIndex,h=a.dataPointIndex,p=void 0===h?null:h,g=a.finishRadius,m=void 0===g?null:g,v=this.w,w=this.getMarkerStyle(u),E=v.globals.markers.size[u],D=v.config.markers;return null!==p&&D.discrete.length&&D.discrete.map(function(A){A.seriesIndex===u&&A.dataPointIndex===p&&(w.pointStrokeColor=A.strokeColor,w.pointFillColor=A.fillColor,E=A.size,w.pointShape=A.shape)}),{pSize:null===m?E:m,pRadius:D.radius,width:Array.isArray(D.width)?D.width[u]:D.width,height:Array.isArray(D.height)?D.height[u]:D.height,pointStrokeWidth:Array.isArray(D.strokeWidth)?D.strokeWidth[u]:D.strokeWidth,pointStrokeColor:w.pointStrokeColor,pointFillColor:w.pointFillColor,shape:w.pointShape||(Array.isArray(D.shape)?D.shape[u]:D.shape),class:l,pointStrokeOpacity:Array.isArray(D.strokeOpacity)?D.strokeOpacity[u]:D.strokeOpacity,pointStrokeDashArray:Array.isArray(D.strokeDashArray)?D.strokeDashArray[u]:D.strokeDashArray,pointFillOpacity:Array.isArray(D.fillOpacity)?D.fillOpacity[u]:D.fillOpacity,seriesIndex:u}}},{key:"addEvents",value:function(a){var l=this.w,u=new Me(this.ctx);a.node.addEventListener("mouseenter",u.pathMouseEnter.bind(this.ctx,a)),a.node.addEventListener("mouseleave",u.pathMouseLeave.bind(this.ctx,a)),a.node.addEventListener("mousedown",u.pathMouseDown.bind(this.ctx,a)),a.node.addEventListener("click",l.config.markers.onClick),a.node.addEventListener("dblclick",l.config.markers.onDblClick),a.node.addEventListener("touchstart",u.pathMouseDown.bind(this.ctx,a),{passive:!0})}},{key:"getMarkerStyle",value:function(a){var l=this.w,u=l.globals.markers.colors,h=l.config.markers.strokeColor||l.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(h)?h[a]:h,pointFillColor:Array.isArray(u)?u[a]:u}}}]),L}(),Je=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return ht(L,[{key:"draw",value:function(a,l,u){var h=this.w,p=new Me(this.ctx),g=u.realIndex,m=u.pointsPos,v=u.zRatio,w=u.elParent,E=p.group({class:"apexcharts-series-markers apexcharts-series-".concat(h.config.chart.type)});if(E.attr("clip-path","url(#gridRectMarkerMask".concat(h.globals.cuid,")")),Array.isArray(m.x))for(var D=0;D<m.x.length;D++){var A=l+1,R=!0;0===l&&0===D&&(A=0),0===l&&1===D&&(A=1);var O=0,F=h.globals.markers.size[g];if(v!==1/0){var z=h.config.plotOptions.bubble;F=h.globals.seriesZ[g][A],z.zScaling&&(F/=v),z.minBubbleRadius&&F<z.minBubbleRadius&&(F=z.minBubbleRadius),z.maxBubbleRadius&&F>z.maxBubbleRadius&&(F=z.maxBubbleRadius)}h.config.chart.animations.enabled||(O=F);var Z=m.y[D];if(O=O||0,null!==Z&&void 0!==h.globals.series[g][A]||(R=!1),R){var b=this.drawPoint(m.x[D],Z,O,F,g,A,l);E.add(b)}w.add(E)}}},{key:"drawPoint",value:function(a,l,u,h,p,g,m){var v=this.w,w=p,E=new Ii(this.ctx),D=new bn(this.ctx),A=new he(this.ctx),R=new Ae(this.ctx),O=new Me(this.ctx),F=R.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:w,dataPointIndex:g,finishRadius:"bubble"===v.config.chart.type||v.globals.comboCharts&&v.config.series[p]&&"bubble"===v.config.series[p].type?h:null});h=F.pSize;var z,G=A.fillPath({seriesNumber:p,dataPointIndex:g,color:F.pointFillColor,patternUnits:"objectBoundingBox",value:v.globals.series[p][m]});if("circle"===F.shape?z=O.drawCircle(u):"square"!==F.shape&&"rect"!==F.shape||(z=O.drawRect(0,0,F.width-F.pointStrokeWidth/2,F.height-F.pointStrokeWidth/2,F.pRadius)),v.config.series[w].data[g]&&v.config.series[w].data[g].fillColor&&(G=v.config.series[w].data[g].fillColor),z.attr({x:a-F.width/2-F.pointStrokeWidth/2,y:l-F.height/2-F.pointStrokeWidth/2,cx:a,cy:l,fill:G,"fill-opacity":F.pointFillOpacity,stroke:F.pointStrokeColor,r:h,"stroke-width":F.pointStrokeWidth,"stroke-dasharray":F.pointStrokeDashArray,"stroke-opacity":F.pointStrokeOpacity}),v.config.chart.dropShadow.enabled&&D.dropShadow(z,v.config.chart.dropShadow,p),!this.initialAnim||v.globals.dataChanged||v.globals.resized?v.globals.animationEnded=!0:E.animateMarker(z,0,"circle"===F.shape?h:{width:F.width,height:F.height},v.config.chart.animations.speed,v.globals.easing,function(){window.setTimeout(function(){E.animationCompleted(z)},100)}),v.globals.dataChanged&&"circle"===F.shape)if(this.dynamicAnim){var I,P,j,K,Y=v.config.chart.animations.dynamicAnimation.speed;null!=(K=v.globals.previousPaths[p]&&v.globals.previousPaths[p][m])&&(I=K.x,P=K.y,j=void 0!==K.r?K.r:h);for(var _e=0;_e<v.globals.collapsedSeries.length;_e++)v.globals.collapsedSeries[_e].index===p&&(Y=1,h=0);0===a&&0===l&&(h=0),E.animateCircle(z,{cx:I,cy:P,r:j},{cx:a,cy:l,r:h},Y,v.globals.easing)}else z.attr({r:h});return z.attr({rel:g,j:g,index:p,"default-marker-size":h}),D.setSelectionFilter(z,p,g),R.addEvents(z),z.node.classList.add("apexcharts-marker"),z}},{key:"centerTextInBubble",value:function(a){return{y:a+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),L}(),We=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"dataLabelsCorrection",value:function(a,l,u,h,p,g,m){var v=this.w,w=!1,E=new Me(this.ctx).getTextRects(u,m),D=E.width,A=E.height;if(l<0&&(l=0),l>v.globals.gridHeight+A&&(l=v.globals.gridHeight+A/2),void 0===v.globals.dataLabelsRects[h]&&(v.globals.dataLabelsRects[h]=[]),v.globals.dataLabelsRects[h].push({x:a,y:l,width:D,height:A}),void 0!==v.globals.dataLabelsRects[h][v.globals.dataLabelsRects[h].length-2]){var F=v.globals.dataLabelsRects[h][void 0!==v.globals.lastDrawnDataLabelsIndexes[h]?v.globals.lastDrawnDataLabelsIndexes[h][v.globals.lastDrawnDataLabelsIndexes[h].length-1]:0];(a>F.x+F.width||l>F.y+F.height||l+A<F.y||a+D<F.x)&&(w=!0)}return(0===p||g)&&(w=!0),{x:a,y:l,textRects:E,drawnextLabel:w}}},{key:"drawDataLabel",value:function(a){var l=this,u=a.type,h=a.pos,p=a.i,g=a.j,m=a.isRangeStart,v=a.strokeWidth,w=void 0===v?2:v,E=this.w,D=new Me(this.ctx),A=E.config.dataLabels,R=0,O=0,F=g,z=null;if(!A.enabled||!Array.isArray(h.x))return z;z=D.group({class:"apexcharts-data-labels"});for(var G=0;G<h.x.length;G++)if(R=h.x[G]+A.offsetX,O=h.y[G]+A.offsetY+w,!isNaN(R)){1===g&&0===G&&(F=0),1===g&&1===G&&(F=1);var Z=E.globals.series[p][F];"rangeArea"===u&&(Z=m?E.globals.seriesRangeStart[p][F]:E.globals.seriesRangeEnd[p][F]);var b="",I=function(P){return E.config.dataLabels.formatter(P,{ctx:l.ctx,seriesIndex:p,dataPointIndex:F,w:E})};"bubble"===E.config.chart.type?(b=I(Z=E.globals.seriesZ[p][F]),O=h.y[G],O=new Je(this.ctx).centerTextInBubble(O,p,F).y):void 0!==Z&&(b=I(Z)),this.plotDataLabelsText({x:R,y:O,text:b,i:p,j:F,parent:z,offsetCorrection:!0,dataLabelsConfig:E.config.dataLabels})}return z}},{key:"plotDataLabelsText",value:function(a){var l=this.w,u=new Me(this.ctx),h=a.x,p=a.y,g=a.i,m=a.j,v=a.text,w=a.textAnchor,E=a.fontSize,D=a.parent,A=a.dataLabelsConfig,R=a.color,O=a.alwaysDrawDataLabel,F=a.offsetCorrection;if(!(Array.isArray(l.config.dataLabels.enabledOnSeries)&&l.config.dataLabels.enabledOnSeries.indexOf(g)<0)){var z={x:h,y:p,drawnextLabel:!0,textRects:null};F&&(z=this.dataLabelsCorrection(h,p,v,g,m,O,parseInt(A.style.fontSize,10))),l.globals.zoomed||(h=z.x,p=z.y),z.textRects&&(h<-10-z.textRects.width||h>l.globals.gridWidth+z.textRects.width+10)&&(v="");var G=l.globals.dataLabels.style.colors[g];(("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)&&l.config.plotOptions.bar.distributed||l.config.dataLabels.distributed)&&(G=l.globals.dataLabels.style.colors[m]),"function"==typeof G&&(G=G({series:l.globals.series,seriesIndex:g,dataPointIndex:m,w:l})),R&&(G=R);var Z=A.offsetX,b=A.offsetY;if("bar"!==l.config.chart.type&&"rangeBar"!==l.config.chart.type||(Z=0,b=0),z.drawnextLabel){var I=u.drawText({width:100,height:parseInt(A.style.fontSize,10),x:h+Z,y:p+b,foreColor:G,textAnchor:w||A.textAnchor,text:v,fontSize:E||A.style.fontSize,fontFamily:A.style.fontFamily,fontWeight:A.style.fontWeight||"normal"});if(I.attr({class:"apexcharts-datalabel",cx:h,cy:p}),A.dropShadow.enabled){var P=A.dropShadow;new bn(this.ctx).dropShadow(I,P)}D.add(I),void 0===l.globals.lastDrawnDataLabelsIndexes[g]&&(l.globals.lastDrawnDataLabelsIndexes[g]=[]),l.globals.lastDrawnDataLabelsIndexes[g].push(m)}}}},{key:"addBackgroundToDataLabel",value:function(a,l){var u=this.w,h=u.config.dataLabels.background,p=h.padding,g=h.padding/2,m=l.width,v=l.height,w=new Me(this.ctx).drawRect(l.x-p,l.y-g/2,m+2*p,v+g,h.borderRadius,"transparent"===u.config.chart.background?"#fff":u.config.chart.background,h.opacity,h.borderWidth,h.borderColor);return h.dropShadow.enabled&&new bn(this.ctx).dropShadow(w,h.dropShadow),w}},{key:"dataLabelsBackground",value:function(){var a=this.w;if("bubble"!==a.config.chart.type)for(var l=a.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),u=0;u<l.length;u++){var h=l[u],p=h.getBBox(),g=null;if(p.width&&p.height&&(g=this.addBackgroundToDataLabel(h,p)),g){h.parentNode.insertBefore(g.node,h);var m=h.getAttribute("fill");!a.config.chart.animations.enabled||a.globals.resized||a.globals.dataChanged?g.attr({fill:m}):g.animate().attr({fill:m}),h.setAttribute("fill",a.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var a=this.w,l=a.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),u=a.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),h=0;h<l.length;h++)u&&u.insertBefore(l[h],u.nextSibling)}}]),L}(),at=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.legendInactiveClass="legend-mouseover-inactive"}return ht(L,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(a){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(fe.escapeString(a),"']"))}},{key:"isSeriesHidden",value:function(a){var l=this.getSeriesByName(a),u=parseInt(l.getAttribute("data:realIndex"),10);return{isHidden:l.classList.contains("apexcharts-series-collapsed"),realIndex:u}}},{key:"addCollapsedClassToSeries",value:function(a,l){var u=this.w;function h(p){for(var g=0;g<p.length;g++)p[g].index===l&&a.node.classList.add("apexcharts-series-collapsed")}h(u.globals.collapsedSeries),h(u.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(a){var l=this.isSeriesHidden(a);return this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,l.isHidden),l.isHidden}},{key:"showSeries",value:function(a){var l=this.isSeriesHidden(a);l.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!0)}},{key:"hideSeries",value:function(a){var l=this.isSeriesHidden(a);l.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!1)}},{key:"resetSeries",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],h=this.w,p=fe.clone(h.globals.initialSeries);h.globals.previousPaths=[],u?(h.globals.collapsedSeries=[],h.globals.ancillaryCollapsedSeries=[],h.globals.collapsedSeriesIndices=[],h.globals.ancillaryCollapsedSeriesIndices=[]):p=this.emptyCollapsedSeries(p),h.config.series=p,a&&(l&&(h.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(p,h.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(a){for(var l=this.w,u=0;u<a.length;u++)l.globals.collapsedSeriesIndices.indexOf(u)>-1&&(a[u].data=[]);return a}},{key:"toggleSeriesOnHover",value:function(a,l){var u=this.w;l||(l=a.target);var h=u.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===a.type){var p=parseInt(l.getAttribute("rel"),10)-1,g=null,m=null;u.globals.axisCharts||"radialBar"===u.config.chart.type?u.globals.axisCharts?(g=u.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(p,"']")),m=u.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(p,"']"))):g=u.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"']")):g=u.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"'] path"));for(var v=0;v<h.length;v++)h[v].classList.add(this.legendInactiveClass);null!==g&&(u.globals.axisCharts||g.parentNode.classList.remove(this.legendInactiveClass),g.classList.remove(this.legendInactiveClass),null!==m&&m.classList.remove(this.legendInactiveClass))}else if("mouseout"===a.type)for(var w=0;w<h.length;w++)h[w].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(a,l){var u=this,h=this.w,p=h.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),g=function(v){for(var w=0;w<p.length;w++)p[w].classList[v](u.legendInactiveClass)};if("mousemove"===a.type){var m=parseInt(l.getAttribute("rel"),10)-1;g("add"),function(v){for(var w=0;w<p.length;w++){var E=parseInt(p[w].getAttribute("val"),10);E>=v.from&&E<=v.to&&p[w].classList.remove(u.legendInactiveClass)}}(h.config.plotOptions.heatmap.colorScale.ranges[m])}else"mouseout"===a.type&&g("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=this.w,h=0;if(u.config.series.length>1)for(var p=u.config.series.map(function(m,v){return m.data&&m.data.length>0&&-1===u.globals.collapsedSeriesIndices.indexOf(v)&&(!u.globals.comboCharts||0===l.length||l.length&&l.indexOf(u.config.series[v].type)>-1)?v:-1}),g="asc"===a?0:p.length-1;"asc"===a?g<p.length:g>=0;"asc"===a?g++:g--)if(-1!==p[g]){h=p[g];break}return h}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(a,l){return"bar"===a.type||"column"===a.type?l:-1}).filter(function(a){return-1!==a}):this.w.config.series.map(function(a,l){return l})}},{key:"getPreviousPaths",value:function(){var a=this.w;function l(g,m,v){for(var w=g[m].childNodes,E={type:v,paths:[],realIndex:g[m].getAttribute("data:realIndex")},D=0;D<w.length;D++)if(w[D].hasAttribute("pathTo")){var A=w[D].getAttribute("pathTo");E.paths.push({d:A})}a.globals.previousPaths.push(E)}a.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(g){for(var v=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(g,"-series .apexcharts-series")),w=0;w<v.length;w++)l(v,w,g)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var u=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a.config.chart.type," .apexcharts-series"));if(u.length>0)for(var h=function(g){for(var m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(g,"'] rect")),v=[],w=function(D){var A=function(O){return m[D].getAttribute(O)},R={x:parseFloat(A("x")),y:parseFloat(A("y")),width:parseFloat(A("width")),height:parseFloat(A("height"))};v.push({rect:R,color:m[D].getAttribute("color")})},E=0;E<m.length;E++)w(E);a.globals.previousPaths.push(v)},p=0;p<u.length;p++)h(p);a.globals.axisCharts||(a.globals.previousPaths=a.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(a){var l=this.w,u=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series"));if(u.length>0)for(var h=0;h<u.length;h++){for(var p=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series[data\\:realIndex='").concat(h,"'] circle")),g=[],m=0;m<p.length;m++)g.push({x:p[m].getAttribute("cx"),y:p[m].getAttribute("cy"),r:p[m].getAttribute("r")});l.globals.previousPaths.push(g)}}},{key:"clearPreviousPaths",value:function(){var a=this.w;a.globals.previousPaths=[],a.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var a=this.w,l=a.config.noData,u=new Me(this.ctx),h=a.globals.svgWidth/2,p=a.globals.svgHeight/2,g="middle";if(a.globals.noData=!0,a.globals.animationEnded=!0,"left"===l.align?(h=10,g="start"):"right"===l.align&&(h=a.globals.svgWidth-10,g="end"),"top"===l.verticalAlign?p=50:"bottom"===l.verticalAlign&&(p=a.globals.svgHeight-50),h+=l.offsetX,p=p+parseInt(l.style.fontSize,10)+2+l.offsetY,void 0!==l.text&&""!==l.text){var m=u.drawText({x:h,y:p,text:l.text,textAnchor:g,fontSize:l.style.fontSize,fontFamily:l.style.fontFamily,foreColor:l.style.color,opacity:1,class:"apexcharts-text-nodata"});a.globals.dom.Paper.add(m)}}},{key:"setNullSeriesToZeroValues",value:function(a){for(var l=this.w,u=0;u<a.length;u++)if(0===a[u].length)for(var h=0;h<a[l.globals.maxValsInArrayIndex].length;h++)a[u].push(0);return a}},{key:"hasAllSeriesEqualX",value:function(){for(var a=!0,l=this.w,u=this.filteredSeriesX(),h=0;h<u.length-1;h++)if(u[h][0]!==u[h+1][0]){a=!1;break}return l.globals.allSeriesHasEqualX=a,a}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(l){return l.length>0?l:[]})}}]),L}(),pn=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new qt(this.ctx)}return ht(L,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var a=this.w.config.series.slice(),l=new at(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==a[this.activeSeriesIndex].data&&a[this.activeSeriesIndex].data.length>0&&null!==a[this.activeSeriesIndex].data[0]&&void 0!==a[this.activeSeriesIndex].data[0].x&&null!==a[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var a=this.w.config.series.slice(),l=new at(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==a[this.activeSeriesIndex].data&&a[this.activeSeriesIndex].data.length>0&&null!=a[this.activeSeriesIndex].data[0]&&a[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(a,l){for(var u=this.w.config,h=this.w.globals,p="boxPlot"===u.chart.type||"boxPlot"===u.series[l].type,g=0;g<a[l].data.length;g++)if(void 0!==a[l].data[g][1]&&(Array.isArray(a[l].data[g][1])&&4===a[l].data[g][1].length&&!p?this.twoDSeries.push(fe.parseNumber(a[l].data[g][1][3])):this.twoDSeries.push(fe.parseNumber(a[l].data[g].length>=5?a[l].data[g][4]:a[l].data[g][1])),h.dataFormatXNumeric=!0),"datetime"===u.xaxis.type){var m=new Date(a[l].data[g][0]);m=new Date(m).getTime(),this.twoDSeriesX.push(m)}else this.twoDSeriesX.push(a[l].data[g][0]);for(var v=0;v<a[l].data.length;v++)void 0!==a[l].data[v][2]&&(this.threeDSeries.push(a[l].data[v][2]),h.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(a,l){var u=this.w.config,h=this.w.globals,p=new fn(this.ctx),g=l;h.collapsedSeriesIndices.indexOf(l)>-1&&(g=this.activeSeriesIndex);for(var m=0;m<a[l].data.length;m++)void 0!==a[l].data[m].y&&(Array.isArray(a[l].data[m].y)?this.twoDSeries.push(fe.parseNumber(a[l].data[m].y[a[l].data[m].y.length-1])):this.twoDSeries.push(fe.parseNumber(a[l].data[m].y))),void 0!==a[l].data[m].goals&&Array.isArray(a[l].data[m].goals)?(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(a[l].data[m].goals)):(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(null));for(var v=0;v<a[g].data.length;v++){var w="string"==typeof a[g].data[v].x,E=Array.isArray(a[g].data[v].x),D=!E&&!!p.isValidDate(a[g].data[v].x.toString());w||D?w||u.xaxis.convertedCatToNumeric?"datetime"!==u.xaxis.type||h.isBarHorizontal&&h.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(a[g].data[v].x),isNaN(a[g].data[v].x)||"category"===this.w.config.xaxis.type||"string"==typeof a[g].data[v].x||(h.isXNumeric=!0)):this.twoDSeriesX.push(p.parseDate(a[g].data[v].x)):"datetime"===u.xaxis.type?this.twoDSeriesX.push(p.parseDate(a[g].data[v].x.toString())):(h.dataFormatXNumeric=!0,h.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(a[g].data[v].x))):E?(this.fallbackToCategory=!0,this.twoDSeriesX.push(a[g].data[v].x)):(h.isXNumeric=!0,h.dataFormatXNumeric=!0,this.twoDSeriesX.push(a[g].data[v].x))}if(a[l].data[0]&&void 0!==a[l].data[0].z){for(var R=0;R<a[l].data.length;R++)this.threeDSeries.push(a[l].data[R].z);h.isDataXYZ=!0}}},{key:"handleRangeData",value:function(a,l){var u=this.w.globals,h={};return this.isFormat2DArray()?h=this.handleRangeDataFormat("array",a,l):this.isFormatXY()&&(h=this.handleRangeDataFormat("xy",a,l)),u.seriesRangeStart.push(h.start),u.seriesRangeEnd.push(h.end),u.seriesRange.push(h.rangeUniques),u.seriesRange.forEach(function(p,g){p&&p.forEach(function(m,v){m.y.forEach(function(w,E){for(var D=0;D<m.y.length;D++)E!==D&&w.y1<=m.y[D].y2&&m.y[D].y1<=w.y2&&(m.overlaps.indexOf(w.rangeName)<0&&m.overlaps.push(w.rangeName),m.overlaps.indexOf(m.y[D].rangeName)<0&&m.overlaps.push(m.y[D].rangeName))})})}),h}},{key:"handleCandleStickBoxData",value:function(a,l){var u=this.w.globals,h={};return this.isFormat2DArray()?h=this.handleCandleStickBoxDataFormat("array",a,l):this.isFormatXY()&&(h=this.handleCandleStickBoxDataFormat("xy",a,l)),u.seriesCandleO[l]=h.o,u.seriesCandleH[l]=h.h,u.seriesCandleM[l]=h.m,u.seriesCandleL[l]=h.l,u.seriesCandleC[l]=h.c,h}},{key:"handleRangeDataFormat",value:function(a,l,u){var h=[],p=[],g=l[u].data.filter(function(E,D,A){return D===A.findIndex(function(R){return R.x===E.x})}).map(function(E,D){return{x:E.x,overlaps:[],y:[]}});if("array"===a)for(var m=0;m<l[u].data.length;m++)Array.isArray(l[u].data[m])?(h.push(l[u].data[m][1][0]),p.push(l[u].data[m][1][1])):(h.push(l[u].data[m]),p.push(l[u].data[m]));else if("xy"===a)for(var v=function(E){var D=Array.isArray(l[u].data[E].y),A=fe.randomId(),R=l[u].data[E].x,O={y1:D?l[u].data[E].y[0]:l[u].data[E].y,y2:D?l[u].data[E].y[1]:l[u].data[E].y,rangeName:A};l[u].data[E].rangeName=A;var F=g.findIndex(function(z){return z.x===R});g[F].y.push(O),h.push(O.y1),p.push(O.y2)},w=0;w<l[u].data.length;w++)v(w);return{start:h,end:p,rangeUniques:g}}},{key:"handleCandleStickBoxDataFormat",value:function(a,l,u){var h=this.w,p="boxPlot"===h.config.chart.type||"boxPlot"===h.config.series[u].type,g=[],m=[],v=[],w=[],E=[];if("array"===a)if(p&&6===l[u].data[0].length||!p&&5===l[u].data[0].length)for(var D=0;D<l[u].data.length;D++)g.push(l[u].data[D][1]),m.push(l[u].data[D][2]),p?(v.push(l[u].data[D][3]),w.push(l[u].data[D][4]),E.push(l[u].data[D][5])):(w.push(l[u].data[D][3]),E.push(l[u].data[D][4]));else for(var A=0;A<l[u].data.length;A++)Array.isArray(l[u].data[A][1])&&(g.push(l[u].data[A][1][0]),m.push(l[u].data[A][1][1]),p?(v.push(l[u].data[A][1][2]),w.push(l[u].data[A][1][3]),E.push(l[u].data[A][1][4])):(w.push(l[u].data[A][1][2]),E.push(l[u].data[A][1][3])));else if("xy"===a)for(var R=0;R<l[u].data.length;R++)Array.isArray(l[u].data[R].y)&&(g.push(l[u].data[R].y[0]),m.push(l[u].data[R].y[1]),p?(v.push(l[u].data[R].y[2]),w.push(l[u].data[R].y[3]),E.push(l[u].data[R].y[4])):(w.push(l[u].data[R].y[2]),E.push(l[u].data[R].y[3])));return{o:g,h:m,m:v,l:w,c:E}}},{key:"parseDataAxisCharts",value:function(a){var l,u=this,p=this.w.config,g=this.w.globals,m=new fn(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx),v=p.labels.length>0?p.labels.slice():p.xaxis.categories.slice();if(g.isRangeBar="rangeBar"===p.chart.type&&g.isBarHorizontal,g.hasXaxisGroups="category"===p.xaxis.type&&p.xaxis.group.groups.length>0,g.hasXaxisGroups&&(g.groups=p.xaxis.group.groups),g.hasSeriesGroups=null===(l=a[0])||void 0===l?void 0:l.group,g.hasSeriesGroups){var w=[],E=On(new Set(a.map(function(O){return O.group})));a.forEach(function(O,F){var z=E.indexOf(O.group);w[z]||(w[z]=[]),w[z].push(O.name)}),g.seriesGroups=w}for(var D=function(){for(var O=0;O<v.length;O++)if("string"==typeof v[O]){if(!m.isValidDate(v[O]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");u.twoDSeriesX.push(m.parseDate(v[O]))}else u.twoDSeriesX.push(v[O])},A=0;A<a.length;A++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===a[A].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==p.chart.type&&"rangeArea"!==p.chart.type&&"rangeBar"!==a[A].type&&"rangeArea"!==a[A].type||(g.isRangeData=!0,g.isComboCharts?"rangeBar"!==a[A].type&&"rangeArea"!==a[A].type||this.handleRangeData(a,A):"rangeBar"!==p.chart.type&&"rangeArea"!==p.chart.type||this.handleRangeData(a,A)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(a,A):this.isFormatXY()&&this.handleFormatXY(a,A),"candlestick"!==p.chart.type&&"candlestick"!==a[A].type&&"boxPlot"!==p.chart.type&&"boxPlot"!==a[A].type||this.handleCandleStickBoxData(a,A),g.series.push(this.twoDSeries),g.labels.push(this.twoDSeriesX),g.seriesX.push(this.twoDSeriesX),g.seriesGoals=this.seriesGoals,A!==this.activeSeriesIndex||this.fallbackToCategory||(g.isXNumeric=!0);else{"datetime"===p.xaxis.type?(g.isXNumeric=!0,D(),g.seriesX.push(this.twoDSeriesX)):"numeric"===p.xaxis.type&&(g.isXNumeric=!0,v.length>0&&(this.twoDSeriesX=v,g.seriesX.push(this.twoDSeriesX))),g.labels.push(this.twoDSeriesX);var R=a[A].data.map(function(O){return fe.parseNumber(O)});g.series.push(R)}g.seriesZ.push(this.threeDSeries),g.seriesNames.push(void 0!==a[A].name?a[A].name:"series-"+parseInt(A+1,10)),g.seriesColors.push(void 0!==a[A].color?a[A].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(a){var l=this.w.globals,u=this.w.config;l.series=a.slice(),l.seriesNames=u.labels.slice();for(var h=0;h<l.series.length;h++)void 0===l.seriesNames[h]&&l.seriesNames.push("series-"+(h+1));return this.w}},{key:"handleExternalLabelsData",value:function(a){var l=this.w.config,u=this.w.globals;l.xaxis.categories.length>0?u.labels=l.xaxis.categories:l.labels.length>0?u.labels=l.labels.slice():this.fallbackToCategory?(u.labels=u.labels[0],u.seriesRange.length&&(u.seriesRange.map(function(h){h.forEach(function(p){u.labels.indexOf(p.x)<0&&p.x&&u.labels.push(p.x)})}),u.labels=Array.from(new Set(u.labels.map(JSON.stringify)),JSON.parse)),l.xaxis.convertedCatToNumeric&&(new _r(l).convertCatToNumericXaxis(l,this.ctx,u.seriesX[0]),this._generateExternalLabels(a))):this._generateExternalLabels(a)}},{key:"_generateExternalLabels",value:function(a){var l=this.w.globals,u=this.w.config,h=[];if(l.axisCharts){if(l.series.length>0)if(this.isFormatXY())for(var p=u.series.map(function(D,A){return D.data.filter(function(R,O,F){return F.findIndex(function(z){return z.x===R.x})===O})}),g=p.reduce(function(D,A,R,O){return O[D].length>A.length?D:R},0),m=0;m<p[g].length;m++)h.push(m+1);else for(var v=0;v<l.series[l.maxValsInArrayIndex].length;v++)h.push(v+1);l.seriesX=[];for(var w=0;w<a.length;w++)l.seriesX.push(h);this.w.globals.isBarHorizontal||(l.isXNumeric=!0)}if(0===h.length){h=l.axisCharts?[]:l.series.map(function(D,A){return A+1});for(var E=0;E<a.length;E++)l.seriesX.push(h)}l.labels=h,u.xaxis.convertedCatToNumeric&&(l.categoryLabels=h.map(function(D){return u.xaxis.labels.formatter(D)})),l.noLabelsProvided=!0}},{key:"parseData",value:function(a){var l=this.w,u=l.config,h=l.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),h.axisCharts?(this.parseDataAxisCharts(a),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(a),u.chart.stacked){var p=new at(this.ctx);h.series=p.setNullSeriesToZeroValues(h.series)}this.coreUtils.getSeriesTotals(),h.axisCharts&&(h.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),h.dataFormatXNumeric||h.isXNumeric&&("numeric"!==u.xaxis.type||0!==u.labels.length||0!==u.xaxis.categories.length)||this.handleExternalLabelsData(a);for(var g=this.coreUtils.getCategoryLabels(h.labels),m=0;m<g.length;m++)if(Array.isArray(g[m])){h.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var a=this,l=this.w;l.globals.ignoreYAxisIndexes=l.globals.collapsedSeries.map(function(u,h){if(a.w.globals.isMultipleYAxis&&!l.config.chart.stacked)return u.index})}}]),L}(),$e=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"getLabel",value:function(a,l,u,h){var z,G,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",m=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],v=this.w,w=void 0===a[h]?"":a[h],E=w,D=v.globals.xLabelFormatter,A=v.config.xaxis.labels.formatter,R=!1,O=new Hr(this.ctx);m&&(E=O.xLabelFormat(D,w,w,{i:h,dateFormatter:new fn(this.ctx).formatDate,w:v}),void 0!==A&&(E=A(w,a[h],{i:h,dateFormatter:new fn(this.ctx).formatDate,w:v}))),l.length>0?(z=l[h].unit,G=null,l.forEach(function(P){"month"===P.unit?G="year":"day"===P.unit?G="month":"hour"===P.unit?G="day":"minute"===P.unit&&(G="hour")}),R=G===z,u=l[h].position,E=l[h].value):"datetime"===v.config.xaxis.type&&void 0===A&&(E=""),void 0===E&&(E=""),E=Array.isArray(E)?E:E.toString();var b,Z=new Me(this.ctx);b=v.globals.rotateXLabels&&m?Z.getTextRects(E,parseInt(g,10),null,"rotate(".concat(v.config.xaxis.labels.rotate," 0 0)"),!1):Z.getTextRects(E,parseInt(g,10));var I=!v.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(E)&&(0===E.indexOf("NaN")||0===E.toLowerCase().indexOf("invalid")||E.toLowerCase().indexOf("infinity")>=0||p.indexOf(E)>=0&&I)&&(E=""),{x:u,text:E,textRect:b,isBold:R}}},{key:"checkLabelBasedOnTickamount",value:function(a,l,u){var h=this.w,p=h.config.xaxis.tickAmount;return"dataPoints"===p&&(p=Math.round(h.globals.gridWidth/120)),p>u||a%Math.round(u/(p+1))==0||(l.text=""),l}},{key:"checkForOverflowingLabels",value:function(a,l,u,h,p){var g=this.w;if(0===a&&g.globals.skipFirstTimelinelabel&&(l.text=""),a===u-1&&g.globals.skipLastTimelinelabel&&(l.text=""),g.config.xaxis.labels.hideOverlappingLabels&&h.length>0){var m=p[p.length-1];l.x<m.textRect.width/(g.globals.rotateXLabels?Math.abs(g.config.xaxis.labels.rotate)/12:1.01)+m.x&&(l.text="")}return l}},{key:"checkForReversedLabels",value:function(a,l){var u=this.w;return u.config.yaxis[a]&&u.config.yaxis[a].reversed&&l.reverse(),l}},{key:"isYAxisHidden",value:function(a){var l=this.w,u=new qt(this.ctx);return!l.config.yaxis[a].show||!l.config.yaxis[a].showForNullSeries&&u.isSeriesNull(a)&&-1===l.globals.collapsedSeriesIndices.indexOf(a)}},{key:"getYAxisForeColor",value:function(a,l){var u=this.w;return Array.isArray(a)&&u.globals.yAxisScale[l]&&this.ctx.theme.pushExtraColors(a,u.globals.yAxisScale[l].result.length,!1),a}},{key:"drawYAxisTicks",value:function(a,l,u,h,p,g,m){var v=this.w,w=new Me(this.ctx),E=v.globals.translateY;if(h.show&&l>0){!0===v.config.yaxis[p].opposite&&(a+=h.width);for(var D=l;D>=0;D--){var A=E+l/10+v.config.yaxis[p].labels.offsetY-1;v.globals.isBarHorizontal&&(A=g*D),"heatmap"===v.config.chart.type&&(A+=g/2);var R=w.drawLine(a+u.offsetX-h.width+h.offsetX,A+h.offsetY,a+u.offsetX+h.offsetX,A+h.offsetY,h.color);m.add(R),E+=g}}}}]),L}(),Bt=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"scaleSvgNode",value:function(a,l){var u=parseFloat(a.getAttributeNS(null,"width")),h=parseFloat(a.getAttributeNS(null,"height"));a.setAttributeNS(null,"width",u*l),a.setAttributeNS(null,"height",h*l),a.setAttributeNS(null,"viewBox","0 0 "+u+" "+h)}},{key:"fixSvgStringForIe11",value:function(a){if(!fe.isIE11())return a.replace(/&nbsp;/g,"&#160;");var l=0,u=a.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(h){return 2==++l?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':h});return(u=u.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(a){null==a&&(a=1);var l=this.w.globals.dom.Paper.svg();if(1!==a){var u=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(u,a),l=(new XMLSerializer).serializeToString(u)}return this.fixSvgStringForIe11(l)}},{key:"cleanup",value:function(){var a=this.w,l=a.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),u=a.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),h=a.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(h,function(p){p.setAttribute("width",0)}),l&&l[0]&&(l[0].setAttribute("x",-500),l[0].setAttribute("x1",-500),l[0].setAttribute("x2",-500)),u&&u[0]&&(u[0].setAttribute("y",-100),u[0].setAttribute("y1",-100),u[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var a=this.getSvgString(),l=new Blob([a],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(l)}},{key:"dataURI",value:function(a){var l=this;return new Promise(function(u){var h=l.w,p=a?a.scale||a.width/h.globals.svgWidth:1;l.cleanup();var g=document.createElement("canvas");g.width=h.globals.svgWidth*p,g.height=parseInt(h.globals.dom.elWrap.style.height,10)*p;var m="transparent"===h.config.chart.background?"#fff":h.config.chart.background,v=g.getContext("2d");v.fillStyle=m,v.fillRect(0,0,g.width*p,g.height*p);var w=l.getSvgString(p);if(window.canvg&&fe.isIE11()){var E=window.canvg.Canvg.fromString(v,w,{ignoreClear:!0,ignoreDimensions:!0});E.start();var D=g.msToBlob();E.stop(),u({blob:D})}else{var A="data:image/svg+xml,"+encodeURIComponent(w),R=new Image;R.crossOrigin="anonymous",R.onload=function(){if(v.drawImage(R,0,0),g.msToBlob){var O=g.msToBlob();u({blob:O})}else{var F=g.toDataURL("image/png");u({imgURI:F})}},R.src=A}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var a=this;this.dataURI().then(function(l){var u=l.imgURI,h=l.blob;h?navigator.msSaveOrOpenBlob(h,a.w.globals.chartID+".png"):a.triggerDownload(u,a.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(a){var l=this,u=a.series,h=a.fileName,p=a.columnDelimiter,g=void 0===p?",":p,m=a.lineDelimiter,v=void 0===m?"\n":m,w=this.w;u||(u=w.config.series);var E=[],D=[],A="",R=w.globals.series.map(function(b,I){return-1===w.globals.collapsedSeriesIndices.indexOf(I)?b:[]}),O=Math.max.apply(Math,On(u.map(function(b){return b.data?b.data.length:0}))),F=new pn(this.ctx),z=new $e(this.ctx),G=function(b){var I="";if(w.globals.axisCharts){if("category"===w.config.xaxis.type||w.config.xaxis.convertedCatToNumeric)if(w.globals.isBarHorizontal){var P=w.globals.yLabelFormatters[0],j=new at(l.ctx).getActiveConfigSeriesIndex();I=P(w.globals.labels[b],{seriesIndex:j,dataPointIndex:b,w})}else I=z.getLabel(w.globals.labels,w.globals.timescaleLabels,0,b).text;"datetime"===w.config.xaxis.type&&(w.config.xaxis.categories.length?I=w.config.xaxis.categories[b]:w.config.labels.length&&(I=w.config.labels[b]))}else I=w.config.labels[b];return Array.isArray(I)&&(I=I.join(" ")),fe.isNumber(I)?I:I.split(g).join("")};E.push(w.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===w.config.chart.type?(E.push("minimum"),E.push("q1"),E.push("median"),E.push("q3"),E.push("maximum")):"candlestick"===w.config.chart.type?(E.push("open"),E.push("high"),E.push("low"),E.push("close")):"rangeBar"===w.config.chart.type?(E.push("minimum"),E.push("maximum")):u.map(function(b,I){var P=(b.name?b.name:"series-".concat(I))+"";w.globals.axisCharts&&E.push(P.split(g).join("")?P.split(g).join(""):"series-".concat(I))}),w.globals.axisCharts||(E.push(w.config.chart.toolbar.export.csv.headerValue),D.push(E.join(g))),u.map(function(b,I){w.globals.axisCharts?function(b,I){if(E.length&&0===I&&D.push(E.join(g)),b.data){b.data=b.data.length&&b.data||On(Array(O)).map(function(){return""});for(var P=0;P<b.data.length;P++){E=[];var j=G(P);if(j||(F.isFormatXY()?j=u[I].data[P].x:F.isFormat2DArray()&&(j=u[I].data[P]?u[I].data[P][0]:"")),0===I){E.push("datetime"===w.config.xaxis.type&&String(j).length>=10?w.config.chart.toolbar.export.csv.dateFormatter(j):fe.isNumber(j)?j:j.split(g).join(""));for(var K=0;K<w.globals.series.length;K++){var Y;F.isFormatXY()?E.push(null===(Y=u[K].data[P])||void 0===Y?void 0:Y.y):E.push(R[K][P])}}("candlestick"===w.config.chart.type||b.type&&"candlestick"===b.type)&&(E.pop(),E.push(w.globals.seriesCandleO[I][P]),E.push(w.globals.seriesCandleH[I][P]),E.push(w.globals.seriesCandleL[I][P]),E.push(w.globals.seriesCandleC[I][P])),("boxPlot"===w.config.chart.type||b.type&&"boxPlot"===b.type)&&(E.pop(),E.push(w.globals.seriesCandleO[I][P]),E.push(w.globals.seriesCandleH[I][P]),E.push(w.globals.seriesCandleM[I][P]),E.push(w.globals.seriesCandleL[I][P]),E.push(w.globals.seriesCandleC[I][P])),"rangeBar"===w.config.chart.type&&(E.pop(),E.push(w.globals.seriesRangeStart[I][P]),E.push(w.globals.seriesRangeEnd[I][P])),E.length&&D.push(E.join(g))}}}(b,I):((E=[]).push(w.globals.labels[I].split(g).join("")),E.push(R[I]),D.push(E.join(g)))}),A+=D.join(v),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+A),h||w.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(a,l,u){var h=document.createElement("a");h.href=a,h.download=(l||this.w.globals.chartID)+u,document.body.appendChild(h),h.click(),document.body.removeChild(h)}}]),L}(),xn=function(){function L(a,l){Ue(this,L),this.ctx=a,this.elgrid=l,this.w=a.w;var u=this.w;this.axesUtils=new $e(a),this.xaxisLabels=u.globals.labels.slice(),u.globals.timescaleLabels.length>0&&!u.globals.isBarHorizontal&&(this.xaxisLabels=u.globals.timescaleLabels.slice()),u.config.xaxis.overwriteCategories&&(this.xaxisLabels=u.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===u.config.xaxis.position?0:u.globals.gridHeight+1,this.offY=this.offY+u.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===u.config.chart.type&&u.config.plotOptions.bar.horizontal,this.xaxisFontSize=u.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=u.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=u.config.xaxis.labels.style.colors,this.xaxisBorderWidth=u.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=u.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?u.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=u.config.xaxis.axisBorder.height,this.yaxis=u.config.yaxis[0]}return ht(L,[{key:"drawXaxis",value:function(){var a=this.w,l=new Me(this.ctx),u=l.group({class:"apexcharts-xaxis",transform:"translate(".concat(a.config.xaxis.offsetX,", ").concat(a.config.xaxis.offsetY,")")}),h=l.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(a.globals.translateXAxisX,", ").concat(a.globals.translateXAxisY,")")});u.add(h);for(var p=[],g=0;g<this.xaxisLabels.length;g++)p.push(this.xaxisLabels[g]);if(this.drawXAxisLabelAndGroup(!0,l,h,p,a.globals.isXNumeric,function(O,F){return F}),a.globals.hasXaxisGroups){var m=a.globals.groups;p=[];for(var v=0;v<m.length;v++)p.push(m[v].title);var w={};a.config.xaxis.group.style&&(w.xaxisFontSize=a.config.xaxis.group.style.fontSize,w.xaxisFontFamily=a.config.xaxis.group.style.fontFamily,w.xaxisForeColors=a.config.xaxis.group.style.colors,w.fontWeight=a.config.xaxis.group.style.fontWeight,w.cssClass=a.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,l,h,p,!1,function(O,F){return m[O].cols*F},w)}if(void 0!==a.config.xaxis.title.text){var E=l.group({class:"apexcharts-xaxis-title"}),D=l.drawText({x:a.globals.gridWidth/2+a.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===a.config.xaxis.position?a.globals.xAxisLabelsHeight:-a.globals.xAxisLabelsHeight-10)+a.config.xaxis.title.offsetY,text:a.config.xaxis.title.text,textAnchor:"middle",fontSize:a.config.xaxis.title.style.fontSize,fontFamily:a.config.xaxis.title.style.fontFamily,fontWeight:a.config.xaxis.title.style.fontWeight,foreColor:a.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+a.config.xaxis.title.style.cssClass});E.add(D),u.add(E)}if(a.config.xaxis.axisBorder.show){var A=a.globals.barPadForNumericAxis,R=l.drawLine(a.globals.padHorizontal+a.config.xaxis.axisBorder.offsetX-A,this.offY,this.xaxisBorderWidth+A,this.offY,a.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&a.config.grid.show?this.elgrid.elGridBorders.add(R):u.add(R)}return u}},{key:"drawXAxisLabelAndGroup",value:function(a,l,u,h,p,g){var m,v=this,w=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},E=[],D=[],A=this.w,R=w.xaxisFontSize||this.xaxisFontSize,O=w.xaxisFontFamily||this.xaxisFontFamily,F=w.xaxisForeColors||this.xaxisForeColors,z=w.fontWeight||A.config.xaxis.labels.style.fontWeight,G=w.cssClass||A.config.xaxis.labels.style.cssClass,Z=A.globals.padHorizontal,b=h.length,I="category"===A.config.xaxis.type?A.globals.dataPoints:b;0===I&&b>I&&(I=b),p?(m=A.globals.gridWidth/Math.min(I>1?I-1:I,b-1),Z=Z+g(0,m)/2+A.config.xaxis.labels.offsetX):Z=Z+g(0,m=A.globals.gridWidth/I)+A.config.xaxis.labels.offsetX;for(var j=function(Y){var _e=Z-g(Y,m)/2+A.config.xaxis.labels.offsetX;0===Y&&1===b&&m/2===Z&&1===I&&(_e=A.globals.gridWidth/2);var me=v.axesUtils.getLabel(h,A.globals.timescaleLabels,_e,Y,E,R,a),Re=28;if(A.globals.rotateXLabels&&a&&(Re=22),A.config.xaxis.title.text&&"top"===A.config.xaxis.position&&(Re+=parseFloat(A.config.xaxis.title.style.fontSize)+2),a||(Re=Re+parseFloat(R)+(A.globals.xAxisLabelsHeight-A.globals.xAxisGroupLabelsHeight)+(A.globals.rotateXLabels?10:0)),me=void 0!==A.config.xaxis.tickAmount&&"dataPoints"!==A.config.xaxis.tickAmount&&"datetime"!==A.config.xaxis.type?v.axesUtils.checkLabelBasedOnTickamount(Y,me,b):v.axesUtils.checkForOverflowingLabels(Y,me,b,E,D),A.config.xaxis.labels.show){var le=l.drawText({x:me.x,y:v.offY+A.config.xaxis.labels.offsetY+Re-("top"===A.config.xaxis.position?A.globals.xAxisHeight+A.config.xaxis.axisTicks.height-2:0),text:me.text,textAnchor:"middle",fontWeight:me.isBold?600:z,fontSize:R,fontFamily:O,foreColor:Array.isArray(F)?a&&A.config.xaxis.convertedCatToNumeric?F[A.globals.minX+Y-1]:F[Y]:F,isPlainText:!1,cssClass:(a?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+G});if(u.add(le),le.on("click",function(Se){if("function"==typeof A.config.chart.events.xAxisLabelClick){var bt=Object.assign({},A,{labelIndex:Y});A.config.chart.events.xAxisLabelClick(Se,v.ctx,bt)}}),a){var Ye=document.createElementNS(A.globals.SVGNS,"title");Ye.textContent=Array.isArray(me.text)?me.text.join(" "):me.text,le.node.appendChild(Ye),""!==me.text&&(E.push(me.text),D.push(me))}}Y<b-1&&(Z+=g(Y+1,m))},K=0;K<=b-1;K++)j(K)}},{key:"drawXaxisInversed",value:function(a){var l,u,h=this,p=this.w,g=new Me(this.ctx),m=p.config.yaxis[0].opposite?p.globals.translateYAxisX[a]:0,v=g.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:a}),w=g.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+m+", 0)"});v.add(w);var E=[];if(p.config.yaxis[a].show)for(var D=0;D<this.xaxisLabels.length;D++)E.push(this.xaxisLabels[D]);u=-(l=p.globals.gridHeight/E.length)/2.2;var A=p.globals.yLabelFormatters[0],R=p.config.yaxis[0].labels;if(R.show)for(var O=function(P){var j=void 0===E[P]?"":E[P];j=A(j,{seriesIndex:a,dataPointIndex:P,w:p});var K=h.axesUtils.getYAxisForeColor(R.style.colors,a),Y=0;Array.isArray(j)&&(Y=j.length/2*parseInt(R.style.fontSize,10));var _e=R.offsetX-15,me="end";h.yaxis.opposite&&(me="start"),"left"===p.config.yaxis[0].labels.align?(_e=R.offsetX,me="start"):"center"===p.config.yaxis[0].labels.align?(_e=R.offsetX,me="middle"):"right"===p.config.yaxis[0].labels.align&&(me="end");var Re=g.drawText({x:_e,y:u+l+R.offsetY-Y,text:j,textAnchor:me,foreColor:Array.isArray(K)?K[P]:K,fontSize:R.style.fontSize,fontFamily:R.style.fontFamily,fontWeight:R.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+R.style.cssClass,maxWidth:R.maxWidth});w.add(Re),Re.on("click",function(Se){if("function"==typeof p.config.chart.events.xAxisLabelClick){var bt=Object.assign({},p,{labelIndex:P});p.config.chart.events.xAxisLabelClick(Se,h.ctx,bt)}});var le=document.createElementNS(p.globals.SVGNS,"title");if(le.textContent=Array.isArray(j)?j.join(" "):j,Re.node.appendChild(le),0!==p.config.yaxis[a].labels.rotate){var Ye=g.rotateAroundCenter(Re.node);Re.node.setAttribute("transform","rotate(".concat(p.config.yaxis[a].labels.rotate," 0 ").concat(Ye.y,")"))}u+=l},F=0;F<=E.length-1;F++)O(F);if(void 0!==p.config.yaxis[0].title.text){var z=g.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+m+", 0)"}),G=g.drawText({x:p.config.yaxis[0].title.offsetX,y:p.globals.gridHeight/2+p.config.yaxis[0].title.offsetY,text:p.config.yaxis[0].title.text,textAnchor:"middle",foreColor:p.config.yaxis[0].title.style.color,fontSize:p.config.yaxis[0].title.style.fontSize,fontWeight:p.config.yaxis[0].title.style.fontWeight,fontFamily:p.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+p.config.yaxis[0].title.style.cssClass});z.add(G),v.add(z)}var Z=0;this.isCategoryBarHorizontal&&p.config.yaxis[0].opposite&&(Z=p.globals.gridWidth);var b=p.config.xaxis.axisBorder;if(b.show){var I=g.drawLine(p.globals.padHorizontal+b.offsetX+Z,1+b.offsetY,p.globals.padHorizontal+b.offsetX+Z,p.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&p.config.grid.show?this.elgrid.elGridBorders.add(I):v.add(I)}return p.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Z,E.length,p.config.yaxis[0].axisBorder,p.config.yaxis[0].axisTicks,0,l,v),v}},{key:"drawXaxisTicks",value:function(a,l,u){var h=this.w,p=a;if(!(a<0||a-2>h.globals.gridWidth)){var g=this.offY+h.config.xaxis.axisTicks.offsetY;if(l=l+g+h.config.xaxis.axisTicks.height,"top"===h.config.xaxis.position&&(l=g-h.config.xaxis.axisTicks.height),h.config.xaxis.axisTicks.show){var m=new Me(this.ctx).drawLine(a+h.config.xaxis.axisTicks.offsetX,g+h.config.xaxis.offsetY,p+h.config.xaxis.axisTicks.offsetX,l+h.config.xaxis.offsetY,h.config.xaxis.axisTicks.color);u.add(m),m.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var a=this.w,l=[],u=this.xaxisLabels.length,h=a.globals.padHorizontal;if(a.globals.timescaleLabels.length>0)for(var p=0;p<u;p++)l.push(h=this.xaxisLabels[p].position);else for(var g=u,m=0;m<g;m++){var v=g;a.globals.isXNumeric&&"bar"!==a.config.chart.type&&(v-=1),l.push(h+=a.globals.gridWidth/v)}return l}},{key:"xAxisLabelCorrections",value:function(){var a=this.w,l=new Me(this.ctx),u=a.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),h=a.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),p=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),g=a.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(a.globals.rotateXLabels||a.config.xaxis.labels.rotateAlways)for(var m=0;m<h.length;m++){var v=l.rotateAroundCenter(h[m]);v.y=v.y-1,v.x=v.x+1,h[m].setAttribute("transform","rotate(".concat(a.config.xaxis.labels.rotate," ").concat(v.x," ").concat(v.y,")")),h[m].setAttribute("text-anchor","end"),u.setAttribute("transform","translate(0, ".concat(-10,")")),a.config.xaxis.labels.trim&&Array.prototype.forEach.call(h[m].childNodes,function(R){l.placeTextWithEllipsis(R,R.textContent,a.globals.xAxisLabelsHeight-("bottom"===a.config.legend.position?20:10))})}else!function(){for(var R=a.globals.gridWidth/(a.globals.labels.length+1),O=0;O<h.length;O++)a.config.xaxis.labels.trim&&"datetime"!==a.config.xaxis.type&&Array.prototype.forEach.call(h[O].childNodes,function(z){l.placeTextWithEllipsis(z,z.textContent,R)})}();if(p.length>0){var E=p[p.length-1].getBBox(),D=p[0].getBBox();E.x<-20&&p[p.length-1].parentNode.removeChild(p[p.length-1]),D.x+D.width>a.globals.gridWidth&&!a.globals.isBarHorizontal&&p[0].parentNode.removeChild(p[0]);for(var A=0;A<g.length;A++)l.placeTextWithEllipsis(g[A],g[A].textContent,a.config.yaxis[0].labels.maxWidth-(a.config.yaxis[0].title.text?2*parseFloat(a.config.yaxis[0].title.style.fontSize):0)-15)}}}]),L}(),bi=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w;var l=this.w;this.xaxisLabels=l.globals.labels.slice(),this.axesUtils=new $e(a),this.isRangeBar=l.globals.seriesRange.length&&l.globals.isBarHorizontal,l.globals.timescaleLabels.length>0&&(this.xaxisLabels=l.globals.timescaleLabels.slice())}return ht(L,[{key:"drawGridArea",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w,u=new Me(this.ctx);null===a&&(a=u.group({class:"apexcharts-grid"}));var h=u.drawLine(l.globals.padHorizontal,1,l.globals.padHorizontal,l.globals.gridHeight,"transparent"),p=u.drawLine(l.globals.padHorizontal,l.globals.gridHeight,l.globals.gridWidth,l.globals.gridHeight,"transparent");return a.add(p),a.add(h),a}},{key:"drawGrid",value:function(){var a=null;return this.w.globals.axisCharts&&(a=this.renderGrid(),this.drawGridArea(a.el)),a}},{key:"createGridMask",value:function(){var a=this.w,l=a.globals,u=new Me(this.ctx),h=Array.isArray(a.config.stroke.width)?0:a.config.stroke.width;if(Array.isArray(a.config.stroke.width)){var p=0;a.config.stroke.width.forEach(function(D){p=Math.max(p,D)}),h=p}l.dom.elGridRectMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(l.cuid)),l.dom.elGridRectMarkerMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(l.cuid)),l.dom.elForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elForecastMask.setAttribute("id","forecastMask".concat(l.cuid)),l.dom.elNonForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(l.cuid));var g=a.config.chart.type,m=0,v=0;("bar"===g||"rangeBar"===g||"candlestick"===g||"boxPlot"===g||a.globals.comboBarCount>0)&&a.globals.isXNumeric&&!a.globals.isBarHorizontal&&(v=a.config.grid.padding.right,l.barPadForNumericAxis>(m=a.config.grid.padding.left)&&(m=l.barPadForNumericAxis,v=l.barPadForNumericAxis)),l.dom.elGridRect=u.drawRect(-h-m-2,2*-h-2,l.gridWidth+h+v+m+4,l.gridHeight+4*h+4,0,"#fff");var w=a.globals.markers.largestSize+1;l.dom.elGridRectMarker=u.drawRect(2*-w,2*-w,l.gridWidth+4*w,l.gridHeight+4*w,0,"#fff"),l.dom.elGridRectMask.appendChild(l.dom.elGridRect.node),l.dom.elGridRectMarkerMask.appendChild(l.dom.elGridRectMarker.node);var E=l.dom.baseEl.querySelector("defs");E.appendChild(l.dom.elGridRectMask),E.appendChild(l.dom.elForecastMask),E.appendChild(l.dom.elNonForecastMask),E.appendChild(l.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(a){var l=a.i,u=a.x1,m=a.xCount,w=this.w;if(!(0===l&&w.globals.skipFirstTimelinelabel||l===m-1&&w.globals.skipLastTimelinelabel&&!w.config.xaxis.labels.formatter||"radar"===w.config.chart.type)){w.config.grid.xaxis.lines.show&&this._drawGridLine({i:l,x1:u,y1:a.y1,x2:a.x2,y2:a.y2,xCount:m,parent:a.parent});var E=0;if(w.globals.hasXaxisGroups&&"between"===w.config.xaxis.tickPlacement){var D=w.globals.groups;if(D){for(var A=0,R=0;A<l&&R<D.length;R++)A+=D[R].cols;A===l&&(E=.6*w.globals.xAxisLabelsHeight)}}new xn(this.ctx).drawXaxisTicks(u,E,w.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(a){var l=a.i,u=a.x1,h=a.y1,p=a.x2,g=a.y2,m=a.xCount,v=a.parent,w=this.w,E=!1,D=v.node.classList.contains("apexcharts-gridlines-horizontal"),A=w.config.grid.strokeDashArray,R=w.globals.barPadForNumericAxis;(0===h&&0===g||0===u&&0===p)&&(E=!0),h===w.globals.gridHeight&&g===w.globals.gridHeight&&(E=!0),!w.globals.isBarHorizontal||0!==l&&l!==m-1||(E=!0);var O=new Me(this).drawLine(u-(D?R:0),h,p+(D?R:0),g,w.config.grid.borderColor,A);O.node.classList.add("apexcharts-gridline"),E&&w.config.grid.show?this.elGridBorders.add(O):v.add(O)}},{key:"_drawGridBandRect",value:function(a){var l=a.c,u=a.x1,h=a.y1,p=a.x2,g=a.y2,m=a.type,v=this.w,w=new Me(this.ctx),E=v.globals.barPadForNumericAxis;if("column"!==m||"datetime"!==v.config.xaxis.type){var A=w.drawRect(u-("row"===m?E:0),h,p+("row"===m?2*E:0),g,0,v.config.grid[m].colors[l],v.config.grid[m].opacity);this.elg.add(A),A.attr("clip-path","url(#gridRectMask".concat(v.globals.cuid,")")),A.node.classList.add("apexcharts-grid-".concat(m))}}},{key:"_drawXYLines",value:function(a){var l=this,u=a.xCount,h=a.tickAmount,p=this.w;if(p.config.grid.xaxis.lines.show||p.config.xaxis.axisTicks.show){var g,m=p.globals.padHorizontal,v=p.globals.gridHeight;p.globals.timescaleLabels.length?function(O){for(var F=O.xC,G=O.y1,b=O.y2,I=0;I<F;I++)l._drawGridLines({i:I,x1:l.xaxisLabels[I].position,y1:G,x2:l.xaxisLabels[I].position,y2:b,xCount:u,parent:l.elgridLinesV})}({xC:u,x1:m,y1:0,x2:g,y2:v}):(p.globals.isXNumeric&&(u=p.globals.xAxisScale.result.length),function(O){for(var F=O.xC,z=O.x1,G=O.y1,Z=O.x2,b=O.y2,I=0;I<F+(p.globals.isXNumeric?0:1);I++)0===I&&1===F&&1===p.globals.dataPoints&&(Z=z=p.globals.gridWidth/2),l._drawGridLines({i:I,x1:z,y1:G,x2:Z,y2:b,xCount:u,parent:l.elgridLinesV}),Z=z+=p.globals.gridWidth/(p.globals.isXNumeric?F-1:F)}({xC:u,x1:m,y1:0,x2:g,y2:v}))}if(p.config.grid.yaxis.lines.show){var w=0,E=0,D=p.globals.gridWidth,A=h+1;this.isRangeBar&&(A=p.globals.labels.length);for(var R=0;R<A+(this.isRangeBar?1:0);R++)this._drawGridLine({i:R,xCount:A+(this.isRangeBar?1:0),x1:0,y1:w,x2:D,y2:E,parent:this.elgridLinesH}),E=w+=p.globals.gridHeight/(this.isRangeBar?A:h)}}},{key:"_drawInvertedXYLines",value:function(a){var l=a.xCount,u=this.w;if(u.config.grid.xaxis.lines.show||u.config.xaxis.axisTicks.show)for(var h,p=u.globals.padHorizontal,g=u.globals.gridHeight,m=0;m<l+1;m++)u.config.grid.xaxis.lines.show&&this._drawGridLine({i:m,xCount:l+1,x1:p,y1:0,x2:h,y2:g,parent:this.elgridLinesV}),new xn(this.ctx).drawXaxisTicks(p,0,u.globals.dom.elGraphical),h=p=p+u.globals.gridWidth/l+.3;if(u.config.grid.yaxis.lines.show)for(var v=0,w=0,E=u.globals.gridWidth,D=0;D<u.globals.dataPoints+1;D++)this._drawGridLine({i:D,xCount:u.globals.dataPoints+1,x1:0,y1:v,x2:E,y2:w,parent:this.elgridLinesH}),w=v+=u.globals.gridHeight/u.globals.dataPoints}},{key:"renderGrid",value:function(){var a=this.w,l=new Me(this.ctx);this.elg=l.group({class:"apexcharts-grid"}),this.elgridLinesH=l.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=l.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=l.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),a.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var u,h=a.globals.yAxisScale.length?a.globals.yAxisScale[0].result.length-1:5,p=0;p<a.globals.series.length&&(void 0!==a.globals.yAxisScale[p]&&(h=a.globals.yAxisScale[p].result.length-1),!(h>2));p++);return!a.globals.isBarHorizontal||this.isRangeBar?(u=this.xaxisLabels.length,this.isRangeBar&&(u--,h=a.globals.labels.length,a.config.xaxis.tickAmount&&a.config.xaxis.labels.formatter&&(u=a.config.xaxis.tickAmount)),this._drawXYLines({xCount:u,tickAmount:h})):this._drawInvertedXYLines({xCount:u=h,tickAmount:h=a.globals.xTickAmount}),this.drawGridBands(u,h),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:a.globals.gridWidth/u}}},{key:"drawGridBands",value:function(a,l){var u=this.w;if(void 0!==u.config.grid.row.colors&&u.config.grid.row.colors.length>0)for(var h=0,p=u.globals.gridHeight/l,g=u.globals.gridWidth,m=0,v=0;m<l;m++,v++)v>=u.config.grid.row.colors.length&&(v=0),this._drawGridBandRect({c:v,x1:0,y1:h,x2:g,y2:p,type:"row"}),h+=u.globals.gridHeight/l;if(void 0!==u.config.grid.column.colors&&u.config.grid.column.colors.length>0)for(var w=u.globals.isBarHorizontal||"on"!==u.config.xaxis.tickPlacement||"category"!==u.config.xaxis.type&&!u.config.xaxis.convertedCatToNumeric?a:a-1,E=u.globals.padHorizontal,D=u.globals.padHorizontal+u.globals.gridWidth/w,A=u.globals.gridHeight,R=0,O=0;R<a;R++,O++)O>=u.config.grid.column.colors.length&&(O=0),this._drawGridBandRect({c:O,x1:E,y1:0,x2:D,y2:A,type:"column"}),E+=u.globals.gridWidth/w}}]),L}(),Hn=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"niceScale",value:function(a,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,p=arguments.length>4?arguments[4]:void 0,g=this.w,m=Math.abs(l-a);if("dataPoints"===(u=this._adjustTicksForSmallRange(u,h,m))&&(u=g.globals.dataPoints-1),a===Number.MIN_VALUE&&0===l||!fe.isNumber(a)&&!fe.isNumber(l)||a===Number.MIN_VALUE&&l===-Number.MAX_VALUE)return this.linearScale(a=0,l=u,u);a>l?(console.warn("axis.min cannot be greater than axis.max"),l=a+.1):a===l&&(a=0===a?0:a-.5,l=0===l?2:l+.5);var v=[];m<1&&p&&("candlestick"===g.config.chart.type||"candlestick"===g.config.series[h].type||"boxPlot"===g.config.chart.type||"boxPlot"===g.config.series[h].type||g.globals.isRangeData)&&(l*=1.01);var w=u+1;w<2?w=2:w>2&&(w-=2);var E=m/w,D=Math.floor(fe.log10(E)),A=Math.pow(10,D),R=Math.round(E/A);R<1&&(R=1);var O=R*A,F=O*Math.floor(a/O),z=O*Math.ceil(l/O),G=F;if(p&&m>2){for(;v.push(fe.stripNumber(G,7)),!((G+=O)>z););return{result:v,niceMin:v[0],niceMax:v[v.length-1]}}var Z=a;(v=[]).push(fe.stripNumber(Z,7));for(var b=Math.abs(l-a)/u,I=0;I<=u;I++)v.push(Z+=b);return v[v.length-2]>=l&&v.pop(),{result:v,niceMin:v[0],niceMax:v[v.length-1]}}},{key:"linearScale",value:function(a,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,h=arguments.length>3?arguments[3]:void 0,p=Math.abs(l-a);"dataPoints"===(u=this._adjustTicksForSmallRange(u,h,p))&&(u=this.w.globals.dataPoints-1);var g=p/u;u===Number.MAX_VALUE&&(u=10,g=1);for(var m=[],v=a;u>=0;)m.push(v),v+=g,u-=1;return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"logarithmicScaleNice",value:function(a,l,u){l<=0&&(l=Math.max(a,u)),a<=0&&(a=Math.min(l,u));for(var h=[],p=Math.ceil(Math.log(l)/Math.log(u)+1),g=Math.floor(Math.log(a)/Math.log(u));g<p;g++)h.push(Math.pow(u,g));return{result:h,niceMin:h[0],niceMax:h[h.length-1]}}},{key:"logarithmicScale",value:function(a,l,u){l<=0&&(l=Math.max(a,u)),a<=0&&(a=Math.min(l,u));for(var h=[],p=Math.log(l)/Math.log(u),g=Math.log(a)/Math.log(u),m=p-g,v=Math.round(m),w=m/v,E=0,D=g;E<v;E++,D+=w)h.push(Math.pow(u,D));return h.push(Math.pow(u,p)),{result:h,niceMin:a,niceMax:l}}},{key:"_adjustTicksForSmallRange",value:function(a,l,u){var h=a;if(void 0!==l&&this.w.config.yaxis[l].labels.formatter&&void 0===this.w.config.yaxis[l].tickAmount){var p=Number(this.w.config.yaxis[l].labels.formatter(1));fe.isNumber(p)&&0===this.w.globals.yValueDecimal&&(h=Math.ceil(u))}return h<a?h:a}},{key:"setYScaleForIndex",value:function(a,l,u){var h=this.w.globals,p=this.w.config,g=h.isBarHorizontal?p.xaxis:p.yaxis[a];void 0===h.yAxisScale[a]&&(h.yAxisScale[a]=[]);var m=Math.abs(u-l);g.logarithmic&&m<=5&&(h.invalidLogScale=!0),g.logarithmic&&m>5?(h.allSeriesCollapsed=!1,h.yAxisScale[a]=this.logarithmicScale(l,u,g.logBase),h.yAxisScale[a]=g.forceNiceScale?this.logarithmicScaleNice(l,u,g.logBase):this.logarithmicScale(l,u,g.logBase)):u!==-Number.MAX_VALUE&&fe.isNumber(u)?(h.allSeriesCollapsed=!1,h.yAxisScale[a]=void 0===g.min&&void 0===g.max||g.forceNiceScale?this.niceScale(l,u,g.tickAmount?g.tickAmount:m<5&&m>1?m+1:5,a,void 0===p.yaxis[a].max&&void 0===p.yaxis[a].min||p.yaxis[a].forceNiceScale):this.linearScale(l,u,g.tickAmount,a)):h.yAxisScale[a]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(a,l){var u=this.w,h=u.globals,p=u.config.xaxis,g=Math.abs(l-a);return h.xAxisScale=l!==-Number.MAX_VALUE&&fe.isNumber(l)?this.linearScale(a,l,p.tickAmount?p.tickAmount:g<5&&g>1?g+1:5,0):this.linearScale(0,5,5),h.xAxisScale}},{key:"setMultipleYScales",value:function(){var a=this,l=this.w.globals,u=this.w.config,h=l.minYArr.concat([]),p=l.maxYArr.concat([]),g=[];u.yaxis.forEach(function(m,v){var w=v;u.series.forEach(function(A,R){A.name===m.seriesName&&(w=R,g.push(v!==R?{index:R,similarIndex:v,alreadyExists:!0}:{index:R}))}),a.setYScaleForIndex(v,h[w],p[w])}),this.sameScaleInMultipleAxes(h,p,g)}},{key:"sameScaleInMultipleAxes",value:function(a,l,u){var h=this,p=this.w.config,g=this.w.globals,m=[];u.forEach(function(F){F.alreadyExists&&(void 0===m[F.index]&&(m[F.index]=[]),m[F.index].push(F.index),m[F.index].push(F.similarIndex))}),g.yAxisSameScaleIndices=m,m.forEach(function(F,z){m.forEach(function(G,Z){var b,I;z!==Z&&(b=F,I=G,b.filter(function(P){return-1!==I.indexOf(P)})).length>0&&(m[z]=m[z].concat(m[Z]))})});var v=m.map(function(F){return F.filter(function(z,G){return F.indexOf(z)===G})}).map(function(F){return F.sort()});m=m.filter(function(F){return!!F});var w=v.slice(),E=w.map(function(F){return JSON.stringify(F)});w=w.filter(function(F,z){return E.indexOf(JSON.stringify(F))===z});var D=[],A=[];a.forEach(function(F,z){w.forEach(function(G,Z){G.indexOf(z)>-1&&(void 0===D[Z]&&(D[Z]=[],A[Z]=[]),D[Z].push({key:z,value:F}),A[Z].push({key:z,value:l[z]}))})});var R=Array.apply(null,Array(w.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),O=Array.apply(null,Array(w.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);D.forEach(function(F,z){F.forEach(function(G,Z){R[z]=Math.min(G.value,R[z])})}),A.forEach(function(F,z){F.forEach(function(G,Z){O[z]=Math.max(G.value,O[z])})}),a.forEach(function(F,z){A.forEach(function(G,Z){var b=R[Z],I=O[Z];p.chart.stacked&&(I=0,G.forEach(function(P,j){P.value!==-Number.MAX_VALUE&&(I+=P.value),b!==Number.MIN_VALUE&&(b+=D[Z][j].value)})),G.forEach(function(P,j){G[j].key===z&&(void 0!==p.yaxis[z].min&&(b="function"==typeof p.yaxis[z].min?p.yaxis[z].min(g.minY):p.yaxis[z].min),void 0!==p.yaxis[z].max&&(I="function"==typeof p.yaxis[z].max?p.yaxis[z].max(g.maxY):p.yaxis[z].max),h.setYScaleForIndex(z,b,I))})})})}},{key:"autoScaleY",value:function(a,l,u){a||(a=this);var h=a.w;if(h.globals.isMultipleYAxis||h.globals.collapsedSeries.length)return console.warn("autoScaleYaxis not supported in a multi-yaxis chart."),l;var p=h.globals.seriesX[0],g=h.config.chart.stacked;return l.forEach(function(m,v){for(var w=0,E=0;E<p.length;E++)if(p[E]>=u.xaxis.min){w=E;break}var D,A,R=h.globals.minYArr[v],O=h.globals.maxYArr[v],F=h.globals.stackedSeriesTotals;h.globals.series.forEach(function(z,G){var Z=z[w];g?(D=A=Z=F[w],F.forEach(function(b,I){p[I]<=u.xaxis.max&&p[I]>=u.xaxis.min&&(b>A&&null!==b&&(A=b),z[I]<D&&null!==z[I]&&(D=z[I]))})):(D=A=Z,z.forEach(function(b,I){if(p[I]<=u.xaxis.max&&p[I]>=u.xaxis.min){var P=b,j=b;h.globals.series.forEach(function(K,Y){null!==b&&(P=Math.min(K[I],P),j=Math.max(K[I],j))}),j>A&&null!==j&&(A=j),P<D&&null!==P&&(D=P)}})),void 0===D&&void 0===A&&(D=R,A=O),A*=A<0?.9:1.1,0==(D*=D<0?1.1:.9)&&0===A&&(D=-1,A=1),A<0&&A<O&&(A=O),D<0&&D>R&&(D=R),l.length>1?(l[G].min=void 0===m.min?D:m.min,l[G].max=void 0===m.max?A:m.max):(l[0].min=void 0===m.min?D:m.min,l[0].max=void 0===m.max?A:m.max)})}),l}}]),L}(),pi=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.scales=new Hn(a)}return ht(L,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=this.w.config,g=this.w.globals,m=-Number.MAX_VALUE,v=Number.MIN_VALUE;null===h&&(h=a+1);var w=g.series,E=w,D=w;"candlestick"===p.chart.type?(E=g.seriesCandleL,D=g.seriesCandleH):"boxPlot"===p.chart.type?(E=g.seriesCandleO,D=g.seriesCandleC):g.isRangeData&&(E=g.seriesRangeStart,D=g.seriesRangeEnd);for(var A=a;A<h;A++){g.dataPoints=Math.max(g.dataPoints,w[A].length),g.categoryLabels.length&&(g.dataPoints=g.categoryLabels.filter(function(F){return void 0!==F}).length),g.labels.length&&"datetime"!==p.xaxis.type&&0!==g.series.reduce(function(F,z){return F+z.length},0)&&(g.dataPoints=Math.max(g.dataPoints,g.labels.length));for(var R=0;R<g.series[A].length;R++){var O=w[A][R];null!==O&&fe.isNumber(O)?(void 0!==D[A][R]&&(m=Math.max(m,D[A][R]),l=Math.min(l,D[A][R])),void 0!==E[A][R]&&(l=Math.min(l,E[A][R]),u=Math.max(u,E[A][R])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==g.seriesCandleC[A][R]&&(m=Math.max(m,g.seriesCandleO[A][R]),m=Math.max(m,g.seriesCandleH[A][R]),m=Math.max(m,g.seriesCandleL[A][R]),m=Math.max(m,g.seriesCandleC[A][R]),"boxPlot"===this.w.config.chart.type&&(m=Math.max(m,g.seriesCandleM[A][R]))),!p.series[A].type||"candlestick"===p.series[A].type&&"boxPlot"===p.series[A].type&&"rangeArea"===p.series[A].type&&"rangeBar"===p.series[A].type||(m=Math.max(m,g.series[A][R]),l=Math.min(l,g.series[A][R])),u=m),g.seriesGoals[A]&&g.seriesGoals[A][R]&&Array.isArray(g.seriesGoals[A][R])&&g.seriesGoals[A][R].forEach(function(F){v!==Number.MIN_VALUE&&(v=Math.min(v,F.value),l=v),m=Math.max(m,F.value),u=m}),fe.isFloat(O)&&(O=fe.noExponents(O),g.yValueDecimal=Math.max(g.yValueDecimal,O.toString().split(".")[1].length)),v>E[A][R]&&E[A][R]<0&&(v=E[A][R])):g.hasNullValues=!0}}return"rangeBar"===p.chart.type&&g.seriesRangeStart.length&&g.isBarHorizontal&&(v=l),"bar"===p.chart.type&&(v<0&&m<0&&(m=0),v===Number.MIN_VALUE&&(v=0)),{minY:v,maxY:m,lowestY:l,highestY:u}}},{key:"setYRange",value:function(){var a=this.w.globals,l=this.w.config;a.maxY=-Number.MAX_VALUE,a.minY=Number.MIN_VALUE;var u=Number.MAX_VALUE;if(a.isMultipleYAxis)for(var h=0;h<a.series.length;h++){var p=this.getMinYMaxY(h,u,null,h+1);a.minYArr.push(p.minY),a.maxYArr.push(p.maxY),u=p.lowestY}var g=this.getMinYMaxY(0,u,null,a.series.length);if(a.minY=g.minY,a.maxY=g.maxY,u=g.lowestY,l.chart.stacked&&this._setStackedMinMax(),("line"===l.chart.type||"area"===l.chart.type||"candlestick"===l.chart.type||"boxPlot"===l.chart.type||"rangeBar"===l.chart.type&&!a.isBarHorizontal)&&a.minY===Number.MIN_VALUE&&u!==-Number.MAX_VALUE&&u!==a.maxY){var m=a.maxY-u;(u>=0&&u<=10||void 0!==l.yaxis[0].min||void 0!==l.yaxis[0].max)&&(m=0),a.minY=u-5*m/100,u>0&&a.minY<0&&(a.minY=0),a.maxY=a.maxY+5*m/100}return l.yaxis.forEach(function(v,w){void 0!==v.max&&("number"==typeof v.max?a.maxYArr[w]=v.max:"function"==typeof v.max&&(a.maxYArr[w]=v.max(a.isMultipleYAxis?a.maxYArr[w]:a.maxY)),a.maxY=a.maxYArr[w]),void 0!==v.min&&("number"==typeof v.min?a.minYArr[w]=v.min:"function"==typeof v.min&&(a.minYArr[w]=v.min(a.isMultipleYAxis?a.minYArr[w]===Number.MIN_VALUE?0:a.minYArr[w]:a.minY)),a.minY=a.minYArr[w])}),a.isBarHorizontal&&["min","max"].forEach(function(v){void 0!==l.xaxis[v]&&"number"==typeof l.xaxis[v]&&("min"===v?a.minY=l.xaxis[v]:a.maxY=l.xaxis[v])}),a.isMultipleYAxis?(this.scales.setMultipleYScales(),a.minY=u,a.yAxisScale.forEach(function(v,w){a.minYArr[w]=v.niceMin,a.maxYArr[w]=v.niceMax})):(this.scales.setYScaleForIndex(0,a.minY,a.maxY),a.minY=a.yAxisScale[0].niceMin,a.maxY=a.yAxisScale[0].niceMax,a.minYArr[0]=a.yAxisScale[0].niceMin,a.maxYArr[0]=a.yAxisScale[0].niceMax),{minY:a.minY,maxY:a.maxY,minYArr:a.minYArr,maxYArr:a.maxYArr,yAxisScale:a.yAxisScale}}},{key:"setXRange",value:function(){var a=this.w.globals,l=this.w.config,u="numeric"===l.xaxis.type||"datetime"===l.xaxis.type||"category"===l.xaxis.type&&!a.noLabelsProvided||a.noLabelsProvided||a.isXNumeric;if(a.isXNumeric&&function(){for(var m=0;m<a.series.length;m++)if(a.labels[m])for(var v=0;v<a.labels[m].length;v++)null!==a.labels[m][v]&&fe.isNumber(a.labels[m][v])&&(a.maxX=Math.max(a.maxX,a.labels[m][v]),a.initialMaxX=Math.max(a.maxX,a.labels[m][v]),a.minX=Math.min(a.minX,a.labels[m][v]),a.initialMinX=Math.min(a.minX,a.labels[m][v]))}(),a.noLabelsProvided&&0===l.xaxis.categories.length&&(a.maxX=a.labels[a.labels.length-1],a.initialMaxX=a.labels[a.labels.length-1],a.minX=1,a.initialMinX=1),a.isXNumeric||a.noLabelsProvided||a.dataFormatXNumeric){var h;if(void 0===l.xaxis.tickAmount?(h=Math.round(a.svgWidth/150),"numeric"===l.xaxis.type&&a.dataPoints<30&&(h=a.dataPoints-1),h>a.dataPoints&&0!==a.dataPoints&&(h=a.dataPoints-1)):"dataPoints"===l.xaxis.tickAmount?(a.series.length>1&&(h=a.series[a.maxValsInArrayIndex].length-1),a.isXNumeric&&(h=a.maxX-a.minX-1)):h=l.xaxis.tickAmount,a.xTickAmount=h,void 0!==l.xaxis.max&&"number"==typeof l.xaxis.max&&(a.maxX=l.xaxis.max),void 0!==l.xaxis.min&&"number"==typeof l.xaxis.min&&(a.minX=l.xaxis.min),void 0!==l.xaxis.range&&(a.minX=a.maxX-l.xaxis.range),a.minX!==Number.MAX_VALUE&&a.maxX!==-Number.MAX_VALUE)if(l.xaxis.convertedCatToNumeric&&!a.dataFormatXNumeric){for(var p=[],g=a.minX-1;g<a.maxX;g++)p.push(g+1);a.xAxisScale={result:p,niceMin:p[0],niceMax:p[p.length-1]}}else a.xAxisScale=this.scales.setXScale(a.minX,a.maxX);else a.xAxisScale=this.scales.linearScale(0,h,h),a.noLabelsProvided&&a.labels.length>0&&(a.xAxisScale=this.scales.linearScale(1,a.labels.length,h-1),a.seriesX=a.labels.slice());u&&(a.labels=a.xAxisScale.result.slice())}return a.isBarHorizontal&&a.labels.length&&(a.xTickAmount=a.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:a.minX,maxX:a.maxX}}},{key:"setZRange",value:function(){var a=this.w.globals;if(a.isDataXYZ)for(var l=0;l<a.series.length;l++)if(void 0!==a.seriesZ[l])for(var u=0;u<a.seriesZ[l].length;u++)null!==a.seriesZ[l][u]&&fe.isNumber(a.seriesZ[l][u])&&(a.maxZ=Math.max(a.maxZ,a.seriesZ[l][u]),a.minZ=Math.min(a.minZ,a.seriesZ[l][u]))}},{key:"_handleSingleDataPoint",value:function(){var a=this.w.globals,l=this.w.config;if(a.minX===a.maxX){var u=new fn(this.ctx);if("datetime"===l.xaxis.type){var h=u.getDate(a.minX);l.xaxis.labels.datetimeUTC?h.setUTCDate(h.getUTCDate()-2):h.setDate(h.getDate()-2),a.minX=new Date(h).getTime();var p=u.getDate(a.maxX);l.xaxis.labels.datetimeUTC?p.setUTCDate(p.getUTCDate()+2):p.setDate(p.getDate()+2),a.maxX=new Date(p).getTime()}else("numeric"===l.xaxis.type||"category"===l.xaxis.type&&!a.noLabelsProvided)&&(a.minX=a.minX-2,a.initialMinX=a.minX,a.maxX=a.maxX+2,a.initialMaxX=a.maxX)}}},{key:"_getMinXDiff",value:function(){var a=this.w.globals;a.isXNumeric&&a.seriesX.forEach(function(l,u){1===l.length&&l.push(a.seriesX[a.maxValsInArrayIndex][a.seriesX[a.maxValsInArrayIndex].length-1]);var h=l.slice();h.sort(function(p,g){return p-g}),h.forEach(function(p,g){if(g>0){var m=p-h[g-1];m>0&&(a.minXDiff=Math.min(m,a.minXDiff))}}),1!==a.dataPoints&&a.minXDiff!==Number.MAX_VALUE||(a.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var a=this,l=this.w.globals;if(l.series.length){var u=l.seriesGroups;u.length||(u=[this.w.config.series.map(function(g){return g.name})]);var h={},p={};u.forEach(function(g){h[g]=[],p[g]=[],a.w.config.series.map(function(m,v){return g.indexOf(m.name)>-1?v:null}).filter(function(m){return null!==m}).forEach(function(m){for(var v=0;v<l.series[l.maxValsInArrayIndex].length;v++)void 0===h[g][v]&&(h[g][v]=0,p[g][v]=0),null!==l.series[m][v]&&fe.isNumber(l.series[m][v])&&(l.series[m][v]>0?h[g][v]+=parseFloat(l.series[m][v])+1e-4:p[g][v]+=parseFloat(l.series[m][v]))})}),Object.entries(h).forEach(function(g){var m=zn(g,1)[0];h[m].forEach(function(v,w){l.maxY=Math.max(l.maxY,h[m][w]),l.minY=Math.min(l.minY,p[m][w])})})}}}]),L}(),Ri=function(){function L(a,l){Ue(this,L),this.ctx=a,this.elgrid=l,this.w=a.w;var u=this.w;this.xaxisFontSize=u.config.xaxis.labels.style.fontSize,this.axisFontFamily=u.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=u.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===u.config.chart.type&&u.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===u.config.xaxis.position&&(this.xAxisoffX=u.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new $e(a)}return ht(L,[{key:"drawYaxis",value:function(a){var l=this,u=this.w,h=new Me(this.ctx),p=u.config.yaxis[a].labels.style,g=p.fontSize,m=p.fontFamily,v=p.fontWeight,w=h.group({class:"apexcharts-yaxis",rel:a,transform:"translate("+u.globals.translateYAxisX[a]+", 0)"});if(this.axesUtils.isYAxisHidden(a))return w;var E=h.group({class:"apexcharts-yaxis-texts-g"});w.add(E);var D=u.globals.yAxisScale[a].result.length-1,A=u.globals.gridHeight/D,R=u.globals.translateY,O=u.globals.yLabelFormatters[a],F=u.globals.yAxisScale[a].result.slice();F=this.axesUtils.checkForReversedLabels(a,F);var z="";if(u.config.yaxis[a].labels.show)for(var G=function(_e){var me=F[_e];me=O(me,_e,u);var Re=u.config.yaxis[a].labels.padding;u.config.yaxis[a].opposite&&0!==u.config.yaxis.length&&(Re*=-1);var le="end";u.config.yaxis[a].opposite&&(le="start"),"left"===u.config.yaxis[a].labels.align?le="start":"center"===u.config.yaxis[a].labels.align?le="middle":"right"===u.config.yaxis[a].labels.align&&(le="end");var Ye=l.axesUtils.getYAxisForeColor(p.colors,a),Se=u.config.yaxis[a].labels.offsetY;"heatmap"===u.config.chart.type&&(Se-=(u.globals.gridHeight/u.globals.series.length-1)/2);var bt=h.drawText({x:Re,y:R+D/10+Se+1,text:me,textAnchor:le,fontSize:g,fontFamily:m,fontWeight:v,maxWidth:u.config.yaxis[a].labels.maxWidth,foreColor:Array.isArray(Ye)?Ye[_e]:Ye,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+p.cssClass});_e===D&&(z=bt),E.add(bt);var tn=document.createElementNS(u.globals.SVGNS,"title");if(tn.textContent=Array.isArray(me)?me.join(" "):me,bt.node.appendChild(tn),0!==u.config.yaxis[a].labels.rotate){var kn=h.rotateAroundCenter(z.node),Xn=h.rotateAroundCenter(bt.node);bt.node.setAttribute("transform","rotate(".concat(u.config.yaxis[a].labels.rotate," ").concat(kn.x," ").concat(Xn.y,")"))}R+=A},Z=D;Z>=0;Z--)G(Z);if(void 0!==u.config.yaxis[a].title.text){var b=h.group({class:"apexcharts-yaxis-title"}),I=0;u.config.yaxis[a].opposite&&(I=u.globals.translateYAxisX[a]);var P=h.drawText({x:I,y:u.globals.gridHeight/2+u.globals.translateY+u.config.yaxis[a].title.offsetY,text:u.config.yaxis[a].title.text,textAnchor:"end",foreColor:u.config.yaxis[a].title.style.color,fontSize:u.config.yaxis[a].title.style.fontSize,fontWeight:u.config.yaxis[a].title.style.fontWeight,fontFamily:u.config.yaxis[a].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+u.config.yaxis[a].title.style.cssClass});b.add(P),w.add(b)}var j=u.config.yaxis[a].axisBorder,K=31+j.offsetX;if(u.config.yaxis[a].opposite&&(K=-31-j.offsetX),j.show){var Y=h.drawLine(K,u.globals.translateY+j.offsetY-2,K,u.globals.gridHeight+u.globals.translateY+j.offsetY+2,j.color,0,j.width);w.add(Y)}return u.config.yaxis[a].axisTicks.show&&this.axesUtils.drawYAxisTicks(K,D,j,u.config.yaxis[a].axisTicks,a,A,w),w}},{key:"drawYaxisInversed",value:function(a){var l=this.w,u=new Me(this.ctx),h=u.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),p=u.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(l.globals.translateXAxisX,", ").concat(l.globals.translateXAxisY,")")});h.add(p);var g=l.globals.yAxisScale[a].result.length-1,m=l.globals.gridWidth/g+.1,v=m+l.config.xaxis.labels.offsetX,w=l.globals.xLabelFormatter,E=l.globals.yAxisScale[a].result.slice(),D=l.globals.timescaleLabels;D.length>0&&(this.xaxisLabels=D.slice(),g=(E=D.slice()).length),E=this.axesUtils.checkForReversedLabels(a,E);var A=D.length;if(l.config.xaxis.labels.show)for(var R=A?0:g;A?R<A:R>=0;A?R++:R--){var O=E[R];O=w(O,R,l);var F=l.globals.gridWidth+l.globals.padHorizontal-(v-m+l.config.xaxis.labels.offsetX);if(D.length){var z=this.axesUtils.getLabel(E,D,F,R,this.drawnLabels,this.xaxisFontSize);F=z.x,O=z.text,this.drawnLabels.push(z.text),0===R&&l.globals.skipFirstTimelinelabel&&(O=""),R===E.length-1&&l.globals.skipLastTimelinelabel&&(O="")}var G=u.drawText({x:F,y:this.xAxisoffX+l.config.xaxis.labels.offsetY+30-("top"===l.config.xaxis.position?l.globals.xAxisHeight+l.config.xaxis.axisTicks.height-2:0),text:O,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[a]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:l.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+l.config.xaxis.labels.style.cssClass});p.add(G),G.tspan(O);var Z=document.createElementNS(l.globals.SVGNS,"title");Z.textContent=O,G.node.appendChild(Z),v+=m}return this.inversedYAxisTitleText(h),this.inversedYAxisBorder(h),h}},{key:"inversedYAxisBorder",value:function(a){var l=this.w,u=new Me(this.ctx),h=l.config.xaxis.axisBorder;if(h.show){var p=0;"bar"===l.config.chart.type&&l.globals.isXNumeric&&(p-=15);var g=u.drawLine(l.globals.padHorizontal+p+h.offsetX,this.xAxisoffX,l.globals.gridWidth,this.xAxisoffX,h.color,0,h.height);this.elgrid&&this.elgrid.elGridBorders&&l.config.grid.show?this.elgrid.elGridBorders.add(g):a.add(g)}}},{key:"inversedYAxisTitleText",value:function(a){var l=this.w,u=new Me(this.ctx);if(void 0!==l.config.xaxis.title.text){var h=u.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),p=u.drawText({x:l.globals.gridWidth/2+l.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(l.config.xaxis.title.style.fontSize)+l.config.xaxis.title.offsetY+20,text:l.config.xaxis.title.text,textAnchor:"middle",fontSize:l.config.xaxis.title.style.fontSize,fontFamily:l.config.xaxis.title.style.fontFamily,fontWeight:l.config.xaxis.title.style.fontWeight,foreColor:l.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+l.config.xaxis.title.style.cssClass});h.add(p),a.add(h)}}},{key:"yAxisTitleRotate",value:function(a,l){var u=this.w,h=new Me(this.ctx),p={width:0,height:0},g={width:0,height:0},m=u.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-texts-g"));null!==m&&(p=m.getBoundingClientRect());var v=u.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-title text"));if(null!==v&&(g=v.getBoundingClientRect()),null!==v){var w=this.xPaddingForYAxisTitle(a,p,g,l);v.setAttribute("x",w.xPos-(l?10:0))}if(null!==v){var E=h.rotateAroundCenter(v);v.setAttribute("transform","rotate(".concat(l?-1*u.config.yaxis[a].title.rotate:u.config.yaxis[a].title.rotate," ").concat(E.x," ").concat(E.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(a,l,u,h){var p=this.w,g=0,m=0,v=10;return void 0===p.config.yaxis[a].title.text||a<0?{xPos:m,padd:0}:(h?(m=l.width+p.config.yaxis[a].title.offsetX+u.width/2+v/2,0===(g+=1)&&(m-=v/2)):(m=-1*l.width+p.config.yaxis[a].title.offsetX+v/2+u.width/2,p.globals.isBarHorizontal&&(m=-1*l.width-p.config.yaxis[a].title.offsetX-(v=25))),{xPos:m,padd:v})}},{key:"setYAxisXPosition",value:function(a,l){var u=this.w,h=0,p=0,g=18,m=1;u.config.yaxis.length>1&&(this.multipleYs=!0),u.config.yaxis.map(function(v,w){var E=u.globals.ignoreYAxisIndexes.indexOf(w)>-1||!v.show||v.floating||0===a[w].width,D=a[w].width+l[w].width;v.opposite?u.globals.isBarHorizontal?u.globals.translateYAxisX[w]=(p=u.globals.gridWidth+u.globals.translateX-1)-v.labels.offsetX:(p=u.globals.gridWidth+u.globals.translateX+m,E||(m=m+D+20),u.globals.translateYAxisX[w]=p-v.labels.offsetX+20):(h=u.globals.translateX-g,E||(g=g+D+20),u.globals.translateYAxisX[w]=h+v.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var a=this.w,l=a.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(l=fe.listToArray(l)).forEach(function(u,h){var p=a.config.yaxis[h];if(p&&!p.floating&&void 0!==p.labels.align){var g=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-texts-g")),m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-label"));m=fe.listToArray(m);var v=g.getBoundingClientRect();"left"===p.labels.align?(m.forEach(function(w,E){w.setAttribute("text-anchor","start")}),p.opposite||g.setAttribute("transform","translate(-".concat(v.width,", 0)"))):"center"===p.labels.align?(m.forEach(function(w,E){w.setAttribute("text-anchor","middle")}),g.setAttribute("transform","translate(".concat(v.width/2*(p.opposite?1:-1),", 0)"))):"right"===p.labels.align&&(m.forEach(function(w,E){w.setAttribute("text-anchor","end")}),p.opposite&&g.setAttribute("transform","translate(".concat(v.width,", 0)")))}})}}]),L}(),Ce=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.documentEvent=fe.bind(this.documentEvent,this)}return ht(L,[{key:"addEventListener",value:function(a,l){var u=this.w;u.globals.events.hasOwnProperty(a)?u.globals.events[a].push(l):u.globals.events[a]=[l]}},{key:"removeEventListener",value:function(a,l){var u=this.w;if(u.globals.events.hasOwnProperty(a)){var h=u.globals.events[a].indexOf(l);-1!==h&&u.globals.events[a].splice(h,1)}}},{key:"fireEvent",value:function(a,l){var u=this.w;if(u.globals.events.hasOwnProperty(a)){l&&l.length||(l=[]);for(var h=u.globals.events[a],p=h.length,g=0;g<p;g++)h[g].apply(null,l)}}},{key:"setupEventHandlers",value:function(){var a=this,l=this.w,u=this.ctx,h=l.globals.dom.baseEl.querySelector(l.globals.chartClass);this.ctx.eventList.forEach(function(p){h.addEventListener(p,function(g){var m=Object.assign({},l,{seriesIndex:l.globals.capturedSeriesIndex,dataPointIndex:l.globals.capturedDataPointIndex});"mousemove"===g.type||"touchmove"===g.type?"function"==typeof l.config.chart.events.mouseMove&&l.config.chart.events.mouseMove(g,u,m):"mouseleave"===g.type||"touchleave"===g.type?"function"==typeof l.config.chart.events.mouseLeave&&l.config.chart.events.mouseLeave(g,u,m):("mouseup"===g.type&&1===g.which||"touchend"===g.type)&&("function"==typeof l.config.chart.events.click&&l.config.chart.events.click(g,u,m),u.ctx.events.fireEvent("click",[g,u,m]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(p){l.globals.dom.baseEl.addEventListener(p,a.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(a){var l=this.w,u=a.target.className;if("click"===a.type){var h=l.globals.dom.baseEl.querySelector(".apexcharts-menu");h&&h.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==u&&h.classList.remove("apexcharts-menu-open")}l.globals.clientX="touchmove"===a.type?a.touches[0].clientX:a.clientX,l.globals.clientY="touchmove"===a.type?a.touches[0].clientY:a.clientY}}]),L}(),we=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"setCurrentLocaleValues",value:function(a){var l=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(l=this.w.config.chart.locales.concat(window.Apex.chart.locales));var u=l.filter(function(p){return p.name===a})[0];if(!u)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var h=fe.extend(Pn,u);this.w.globals.locale=h.options}}]),L}(),Oe=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"drawAxis",value:function(a,l){var u,h,p=this,g=this.w.globals,m=this.w.config,v=new xn(this.ctx,l),w=new Ri(this.ctx,l);g.axisCharts&&"radar"!==a&&(g.isBarHorizontal?(h=w.drawYaxisInversed(0),u=v.drawXaxisInversed(0),g.dom.elGraphical.add(u),g.dom.elGraphical.add(h)):(u=v.drawXaxis(),g.dom.elGraphical.add(u),m.yaxis.map(function(E,D){if(-1===g.ignoreYAxisIndexes.indexOf(D)&&(h=w.drawYaxis(D),g.dom.Paper.add(h),"back"===p.w.config.grid.position)){var A=g.dom.Paper.children()[1];A.remove(),g.dom.Paper.add(A)}})))}}]),L}(),Ke=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"drawXCrosshairs",value:function(){var a=this.w,l=new Me(this.ctx),u=new bn(this.ctx),h=a.config.xaxis.crosshairs.fill.gradient,p=a.config.xaxis.crosshairs.dropShadow,A=p.enabled,R=p.left,O=p.top,F=p.blur,z=p.color,G=p.opacity,Z=a.config.xaxis.crosshairs.fill.color;if(a.config.xaxis.crosshairs.show){"gradient"===a.config.xaxis.crosshairs.fill.type&&(Z=l.drawGradient("vertical",h.colorFrom,h.colorTo,h.opacityFrom,h.opacityTo,null,h.stops,null));var b=l.drawRect();1===a.config.xaxis.crosshairs.width&&(b=l.drawLine());var I=a.globals.gridHeight;(!fe.isNumber(I)||I<0)&&(I=0);var P=a.config.xaxis.crosshairs.width;(!fe.isNumber(P)||P<0)&&(P=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:I,width:P,height:I,fill:Z,filter:"none","fill-opacity":a.config.xaxis.crosshairs.opacity,stroke:a.config.xaxis.crosshairs.stroke.color,"stroke-width":a.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":a.config.xaxis.crosshairs.stroke.dashArray}),A&&(b=u.dropShadow(b,{left:R,top:O,blur:F,color:z,opacity:G})),a.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var a=this.w,l=new Me(this.ctx),u=a.config.yaxis[0].crosshairs,h=a.globals.barPadForNumericAxis;if(a.config.yaxis[0].crosshairs.show){var p=l.drawLine(-h,0,a.globals.gridWidth+h,0,u.stroke.color,u.stroke.dashArray,u.stroke.width);p.attr({class:"apexcharts-ycrosshairs"}),a.globals.dom.elGraphical.add(p)}var g=l.drawLine(-h,0,a.globals.gridWidth+h,0,u.stroke.color,0,0);g.attr({class:"apexcharts-ycrosshairs-hidden"}),a.globals.dom.elGraphical.add(g)}}]),L}(),mt=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"checkResponsiveConfig",value:function(a){var l=this,u=this.w,h=u.config;if(0!==h.responsive.length){var p=h.responsive.slice();p.sort(function(w,E){return w.breakpoint>E.breakpoint?1:E.breakpoint>w.breakpoint?-1:0}).reverse();var g=new Ur({}),m=function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},D=window.innerWidth>0?window.innerWidth:screen.width;if(D>p[0].breakpoint){var A=qt.extendArrayProps(g,u.globals.initialConfig,u);w=fe.extend(A,w),w=fe.extend(u.config,w),l.overrideResponsiveOptions(w)}else for(var R=0;R<p.length;R++)D<p[R].breakpoint&&(w=qt.extendArrayProps(g,p[R].options,u),w=fe.extend(u.config,w),l.overrideResponsiveOptions(w))};if(a){var v=qt.extendArrayProps(g,a,u);v=fe.extend(u.config,v),m(v=fe.extend(v,a))}else m({})}}},{key:"overrideResponsiveOptions",value:function(a){var l=new Ur(a).init({responsiveOverride:!0});this.w.config=l}}]),L}(),nt=function(){function L(a){Ue(this,L),this.ctx=a,this.colors=[],this.w=a.w;var l=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===l.config.chart.type&&l.config.plotOptions.treemap.distributed||"heatmap"===l.config.chart.type&&l.config.plotOptions.heatmap.distributed,this.isBarDistributed=l.config.plotOptions.bar.distributed&&("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)}return ht(L,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var a,l=this,u=this.w,h=new fe;if(u.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(u.config.theme.mode)),void 0===u.config.colors||0===(null===(a=u.config.colors)||void 0===a?void 0:a.length)?u.globals.colors=this.predefined():(u.globals.colors=u.config.colors,Array.isArray(u.config.colors)&&u.config.colors.length>0&&"function"==typeof u.config.colors[0]&&(u.globals.colors=u.config.series.map(function(O,F){var z=u.config.colors[F];return z||(z=u.config.colors[0]),"function"==typeof z?(l.isColorFn=!0,z({value:u.globals.axisCharts?u.globals.series[F][0]?u.globals.series[F][0]:0:u.globals.series[F],seriesIndex:F,dataPointIndex:F,w:u})):z}))),u.globals.seriesColors.map(function(O,F){O&&(u.globals.colors[F]=O)}),u.config.theme.monochrome.enabled){var p=[],g=u.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(g=u.globals.series[0].length*u.globals.series.length);for(var m=u.config.theme.monochrome.color,v=1/(g/u.config.theme.monochrome.shadeIntensity),w=u.config.theme.monochrome.shadeTo,E=0,D=0;D<g;D++){var A=void 0;"dark"===w?(A=h.shadeColor(-1*E,m),E+=v):(A=h.shadeColor(E,m),E+=v),p.push(A)}u.globals.colors=p.slice()}var R=u.globals.colors.slice();this.pushExtraColors(u.globals.colors),["fill","stroke"].forEach(function(O){u.globals[O].colors=void 0===u.config[O].colors?l.isColorFn?u.config.colors:R:u.config[O].colors.slice(),l.pushExtraColors(u.globals[O].colors)}),u.globals.dataLabels.style.colors=void 0===u.config.dataLabels.style.colors?R:u.config.dataLabels.style.colors.slice(),this.pushExtraColors(u.globals.dataLabels.style.colors,50),u.globals.radarPolygons.fill.colors=void 0===u.config.plotOptions.radar.polygons.fill.colors?["dark"===u.config.theme.mode?"#424242":"none"]:u.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(u.globals.radarPolygons.fill.colors,20),u.globals.markers.colors=void 0===u.config.markers.colors?R:u.config.markers.colors.slice(),this.pushExtraColors(u.globals.markers.colors)}},{key:"pushExtraColors",value:function(a,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=this.w,p=l||h.globals.series.length;if(null===u&&(u=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===h.config.chart.type&&h.config.plotOptions.heatmap.colorScale.inverse),u&&h.globals.series.length&&(p=h.globals.series[h.globals.maxValsInArrayIndex].length*h.globals.series.length),a.length<p)for(var g=p-a.length,m=0;m<g;m++)a.push(a[m])}},{key:"updateThemeOptions",value:function(a){a.chart=a.chart||{},a.tooltip=a.tooltip||{};var l=a.theme.mode||"light",u=a.theme.palette?a.theme.palette:"dark"===l?"palette4":"palette1",h=a.chart.foreColor?a.chart.foreColor:"dark"===l?"#f6f7f8":"#373d3f";return a.tooltip.theme=l,a.chart.foreColor=h,a.theme.palette=u,a}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),L}(),gi=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(a){var l=this.w,u="title"===a?l.config.title:l.config.subtitle,h=l.globals.svgWidth/2,p=u.offsetY,g="middle";if("left"===u.align?(h=10,g="start"):"right"===u.align&&(h=l.globals.svgWidth-10,g="end"),h+=u.offsetX,p=p+parseInt(u.style.fontSize,10)+u.margin/2,void 0!==u.text){var m=new Me(this.ctx).drawText({x:h,y:p,text:u.text,textAnchor:g,fontSize:u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight,foreColor:u.style.color,opacity:1});m.node.setAttribute("class","apexcharts-".concat(a,"-text")),l.globals.dom.Paper.add(m)}}}]),L}(),Ln=function(){function L(a){Ue(this,L),this.w=a.w,this.dCtx=a}return ht(L,[{key:"getTitleSubtitleCoords",value:function(a){var l=this.w,u=0,h=0,p="title"===a?l.config.title.floating:l.config.subtitle.floating,g=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-text"));if(null!==g&&!p){var m=g.getBoundingClientRect();u=m.width,h=l.globals.axisCharts?m.height+5:m.height}return{width:u,height:h}}},{key:"getLegendsRect",value:function(){var a=this.w,l=a.globals.dom.elLegendWrap;a.config.legend.height||"top"!==a.config.legend.position&&"bottom"!==a.config.legend.position||(l.style.maxHeight=a.globals.svgHeight/2+"px");var u=Object.assign({},fe.getBoundingClientRect(l));return this.dCtx.lgRect=null!==l&&!a.config.legend.floating&&a.config.legend.show?{x:u.x,y:u.y,height:u.height,width:0===u.height?0:u.width}:{x:0,y:0,height:0,width:0},"left"!==a.config.legend.position&&"right"!==a.config.legend.position||1.5*this.dCtx.lgRect.width>a.globals.svgWidth&&(this.dCtx.lgRect.width=a.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(a,l){var u=a;if(this.w.globals.isMultiLineX){var h=l.map(function(g,m){return Array.isArray(g)?g.length:1}),p=Math.max.apply(Math,On(h));u=l[h.indexOf(p)]}return u}}]),L}(),Sn=function(){function L(a){Ue(this,L),this.w=a.w,this.dCtx=a}return ht(L,[{key:"getxAxisLabelsCoords",value:function(){var a,l=this.w,u=l.globals.labels.slice();if(l.config.xaxis.convertedCatToNumeric&&0===u.length&&(u=l.globals.categoryLabels),l.globals.timescaleLabels.length>0){var h=this.getxAxisTimeScaleLabelsCoords();a={width:h.width,height:h.height},l.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==l.config.legend.position&&"right"!==l.config.legend.position||l.config.legend.floating?0:this.dCtx.lgRect.width;var p=l.globals.xLabelFormatter,g=fe.getLargestStringFromArr(u),m=this.dCtx.dimHelpers.getLargestStringFromMultiArr(g,u);l.globals.isBarHorizontal&&(m=g=l.globals.yAxisScale[0].result.reduce(function(O,F){return O.length>F.length?O:F},0));var v=new Hr(this.dCtx.ctx),w=g;g=v.xLabelFormat(p,g,w,{i:void 0,dateFormatter:new fn(this.dCtx.ctx).formatDate,w:l}),m=v.xLabelFormat(p,m,w,{i:void 0,dateFormatter:new fn(this.dCtx.ctx).formatDate,w:l}),(l.config.xaxis.convertedCatToNumeric&&void 0===g||""===String(g).trim())&&(m=g="1");var E=new Me(this.dCtx.ctx),D=E.getTextRects(g,l.config.xaxis.labels.style.fontSize),A=D;if(g!==m&&(A=E.getTextRects(m,l.config.xaxis.labels.style.fontSize)),(a={width:D.width>=A.width?D.width:A.width,height:D.height>=A.height?D.height:A.height}).width*u.length>l.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==l.config.xaxis.labels.rotate||l.config.xaxis.labels.rotateAlways){if(!l.globals.isBarHorizontal){l.globals.rotateXLabels=!0;var R=function(O){return E.getTextRects(O,l.config.xaxis.labels.style.fontSize,l.config.xaxis.labels.style.fontFamily,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1)};D=R(g),g!==m&&(A=R(m)),a.height=(D.height>A.height?D.height:A.height)/1.5,a.width=D.width>A.width?D.width:A.width}}else l.globals.rotateXLabels=!1}return l.config.xaxis.labels.show||(a={width:0,height:0}),{width:a.width,height:a.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var a,l=this.w;if(!l.globals.hasXaxisGroups)return{width:0,height:0};var u,h=(null===(a=l.config.xaxis.group.style)||void 0===a?void 0:a.fontSize)||l.config.xaxis.labels.style.fontSize,p=l.globals.groups.map(function(D){return D.title}),g=fe.getLargestStringFromArr(p),m=this.dCtx.dimHelpers.getLargestStringFromMultiArr(g,p),v=new Me(this.dCtx.ctx),w=v.getTextRects(g,h),E=w;return g!==m&&(E=v.getTextRects(m,h)),u={width:w.width>=E.width?w.width:E.width,height:w.height>=E.height?w.height:E.height},l.config.xaxis.labels.show||(u={width:0,height:0}),{width:u.width,height:u.height}}},{key:"getxAxisTitleCoords",value:function(){var a=this.w,l=0,u=0;if(void 0!==a.config.xaxis.title.text){var h=new Me(this.dCtx.ctx).getTextRects(a.config.xaxis.title.text,a.config.xaxis.title.style.fontSize);l=h.width,u=h.height}return{width:l,height:u}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var a,l=this.w;this.dCtx.timescaleLabels=l.globals.timescaleLabels.slice();var u=this.dCtx.timescaleLabels.map(function(p){return p.value}),h=u.reduce(function(p,g){return void 0===p?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):p.length>g.length?p:g},0);return 1.05*(a=new Me(this.dCtx.ctx).getTextRects(h,l.config.xaxis.labels.style.fontSize)).width*u.length>l.globals.gridWidth&&0!==l.config.xaxis.labels.rotate&&(l.globals.overlappingXLabels=!0),a}},{key:"additionalPaddingXLabels",value:function(a){var l=this,u=this.w,h=u.globals,p=u.config,g=p.xaxis.type,m=a.width;h.skipLastTimelinelabel=!1,h.skipFirstTimelinelabel=!1;var v=u.config.yaxis[0].opposite&&u.globals.isBarHorizontal;p.yaxis.forEach(function(E,D){v?(l.dCtx.gridPad.left<m&&(l.dCtx.xPadLeft=m/2+1),l.dCtx.xPadRight=m/2+1):function(E,D){p.yaxis.length>1&&-1!==h.collapsedSeriesIndices.indexOf(D)||function(A){if(l.dCtx.timescaleLabels&&l.dCtx.timescaleLabels.length){var F=l.dCtx.timescaleLabels[0].position-m/1.75+l.dCtx.yAxisWidthLeft;l.dCtx.timescaleLabels[l.dCtx.timescaleLabels.length-1].position+m/1.75-l.dCtx.yAxisWidthRight>h.svgWidth-h.translateX-("right"===u.config.legend.position&&l.dCtx.lgRect.width>0?l.dCtx.lgRect.width:0)&&(h.skipLastTimelinelabel=!0),F<-(A.show&&!A.floating||"bar"!==p.chart.type&&"candlestick"!==p.chart.type&&"rangeBar"!==p.chart.type&&"boxPlot"!==p.chart.type?10:m/1.75)&&(h.skipFirstTimelinelabel=!0)}else"datetime"===g?l.dCtx.gridPad.right<m&&!h.rotateXLabels&&(h.skipLastTimelinelabel=!0):"datetime"!==g&&l.dCtx.gridPad.right<m/2-l.dCtx.yAxisWidthRight&&!h.rotateXLabels&&!u.config.xaxis.labels.trim&&("between"!==u.config.xaxis.tickPlacement||u.globals.isBarHorizontal)&&(l.dCtx.xPadRight=m/2+1)}(E)}(E,D)})}}]),L}(),mi=function(){function L(a){Ue(this,L),this.w=a.w,this.dCtx=a}return ht(L,[{key:"getyAxisLabelsCoords",value:function(){var a=this,l=this.w,u=[],h=10,p=new $e(this.dCtx.ctx);return l.config.yaxis.map(function(g,m){var v={seriesIndex:m,dataPointIndex:-1,w:l},w=l.globals.yAxisScale[m],E=0;if(!p.isYAxisHidden(m)&&g.labels.show&&void 0!==g.labels.minWidth&&(E=g.labels.minWidth),!p.isYAxisHidden(m)&&g.labels.show&&w.result.length){var D=l.globals.yLabelFormatters[m],R=w.result.reduce(function(I,P){var j,K;return(null===(j=String(D(I,v)))||void 0===j?void 0:j.length)>(null===(K=String(D(P,v)))||void 0===K?void 0:K.length)?I:P},w.niceMin===Number.MIN_VALUE?0:w.niceMin),O=R=D(R,v);if(void 0!==R&&0!==R.length||(R=w.niceMax),l.globals.isBarHorizontal){h=0;var F=l.globals.labels.slice();R=fe.getLargestStringFromArr(F),R=D(R,{seriesIndex:m,dataPointIndex:-1,w:l}),O=a.dCtx.dimHelpers.getLargestStringFromMultiArr(R,F)}var z=new Me(a.dCtx.ctx),G="rotate(".concat(g.labels.rotate," 0 0)"),Z=z.getTextRects(R,g.labels.style.fontSize,g.labels.style.fontFamily,G,!1),b=Z;R!==O&&(b=z.getTextRects(O,g.labels.style.fontSize,g.labels.style.fontFamily,G,!1)),u.push({width:(E>b.width||E>Z.width?E:b.width>Z.width?b.width:Z.width)+h,height:b.height>Z.height?b.height:Z.height})}else u.push({width:0,height:0})}),u}},{key:"getyAxisTitleCoords",value:function(){var a=this,u=[];return this.w.config.yaxis.map(function(h,p){if(h.show&&void 0!==h.title.text){var g=new Me(a.dCtx.ctx),m="rotate(".concat(h.title.rotate," 0 0)"),v=g.getTextRects(h.title.text,h.title.style.fontSize,h.title.style.fontFamily,m,!1);u.push({width:v.width,height:v.height})}else u.push({width:0,height:0})}),u}},{key:"getTotalYAxisWidth",value:function(){var a=this.w,l=0,u=0,h=0,p=a.globals.yAxisScale.length>1?10:0,g=new $e(this.dCtx.ctx),m=function(v,w){var E=a.config.yaxis[w].floating,D=0;v.width>0&&!E?(D=v.width+p,a.globals.ignoreYAxisIndexes.indexOf(w)>-1&&(D=D-v.width-p)):D=E||g.isYAxisHidden(w)?0:5,a.config.yaxis[w].opposite?h+=D:u+=D,l+=D};return a.globals.yLabelsCoords.map(function(v,w){m(v,w)}),a.globals.yTitleCoords.map(function(v,w){m(v,w)}),a.globals.isBarHorizontal&&!a.config.yaxis[0].floating&&(l=a.globals.yLabelsCoords[0].width+a.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=u,this.dCtx.yAxisWidthRight=h,l}}]),L}(),zi=function(){function L(a){Ue(this,L),this.w=a.w,this.dCtx=a}return ht(L,[{key:"gridPadForColumnsInNumericAxis",value:function(a){var l=this.w;if(l.globals.noData||l.globals.allSeriesCollapsed)return 0;var u=function(E){return"bar"===E||"rangeBar"===E||"candlestick"===E||"boxPlot"===E},h=l.config.chart.type,p=0,g=u(h)?l.config.series.length:1;if(l.globals.comboBarCount>0&&(g=l.globals.comboBarCount),l.globals.collapsedSeries.forEach(function(E){u(E.type)&&(g-=1)}),l.config.chart.stacked&&(g=1),(u(h)||l.globals.comboBarCount>0)&&l.globals.isXNumeric&&!l.globals.isBarHorizontal&&g>0){var m,v,w=Math.abs(l.globals.initialMaxX-l.globals.initialMinX);w<=3&&(w=l.globals.dataPoints),m=w/a,l.globals.minXDiff&&l.globals.minXDiff/m>0&&(v=l.globals.minXDiff/m),v>a/2&&(v/=2),(p=v/g*parseInt(l.config.plotOptions.bar.columnWidth,10)/100)<1&&(p=1),l.globals.barPadForNumericAxis=p=p/(g>1?1:1.5)+5}return p}},{key:"gridPadFortitleSubtitle",value:function(){var a=this,l=this.w,u=l.globals,h=this.dCtx.isSparkline||!l.globals.axisCharts?0:10;["title","subtitle"].forEach(function(m){h+=void 0!==l.config[m].text?l.config[m].margin:a.dCtx.isSparkline||!l.globals.axisCharts?0:5}),!l.config.legend.show||"bottom"!==l.config.legend.position||l.config.legend.floating||l.globals.axisCharts||(h+=10);var p=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),g=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");u.gridHeight=u.gridHeight-p.height-g.height-h,u.translateY=u.translateY+p.height+g.height+h}},{key:"setGridXPosForDualYAxis",value:function(a,l){var u=this.w,h=new $e(this.dCtx.ctx);u.config.yaxis.map(function(p,g){-1!==u.globals.ignoreYAxisIndexes.indexOf(g)||p.floating||h.isYAxisHidden(g)||(p.opposite&&(u.globals.translateX=u.globals.translateX-(l[g].width+a[g].width)-parseInt(u.config.yaxis[g].labels.style.fontSize,10)/1.2-12),u.globals.translateX<2&&(u.globals.translateX=2))})}}]),L}(),Qi=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Ln(this),this.dimYAxis=new mi(this),this.dimXAxis=new Sn(this),this.dimGrid=new zi(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return ht(L,[{key:"plotCoords",value:function(){var a=this,l=this.w,u=l.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&((l.config.markers.discrete.length>0||l.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(p){var g=zn(p,2);a.gridPad[g[0]]=Math.max(g[1],a.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(l.config.stroke.width/2,this.gridPad.top),this.gridPad.bottom=Math.max(l.config.stroke.width/2,this.gridPad.bottom)),u.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),u.gridHeight=u.gridHeight-this.gridPad.top-this.gridPad.bottom,u.gridWidth=u.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var h=this.dimGrid.gridPadForColumnsInNumericAxis(u.gridWidth);u.gridWidth=u.gridWidth-2*h,u.translateX=u.translateX+this.gridPad.left+this.xPadLeft+(h>0?h+4:0),u.translateY=u.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var a=this,l=this.w,u=l.globals,h=this.dimYAxis.getyAxisLabelsCoords(),p=this.dimYAxis.getyAxisTitleCoords();l.globals.yLabelsCoords=[],l.globals.yTitleCoords=[],l.config.yaxis.map(function(R,O){l.globals.yLabelsCoords.push({width:h[O].width,index:O}),l.globals.yTitleCoords.push({width:p[O].width,index:O})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var g=this.dimXAxis.getxAxisLabelsCoords(),m=this.dimXAxis.getxAxisGroupLabelsCoords(),v=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(g,v,m),u.translateXAxisY=l.globals.rotateXLabels?this.xAxisHeight/8:-4,u.translateXAxisX=l.globals.rotateXLabels&&l.globals.isXNumeric&&l.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,l.globals.isBarHorizontal&&(u.rotateXLabels=!1,u.translateXAxisY=parseInt(l.config.xaxis.labels.style.fontSize,10)/1.5*-1),u.translateXAxisY=u.translateXAxisY+l.config.xaxis.labels.offsetY,u.translateXAxisX=u.translateXAxisX+l.config.xaxis.labels.offsetX;var w=this.yAxisWidth,E=this.xAxisHeight;u.xAxisLabelsHeight=this.xAxisHeight-v.height,u.xAxisGroupLabelsHeight=u.xAxisLabelsHeight-g.height,u.xAxisLabelsWidth=this.xAxisWidth,u.xAxisHeight=this.xAxisHeight;var D=10;("radar"===l.config.chart.type||this.isSparkline)&&(w=0,E=u.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===l.config.chart.type)&&(w=0,E=0,D=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(g);var A=function(){u.translateX=w,u.gridHeight=u.svgHeight-a.lgRect.height-E-(a.isSparkline||"treemap"===l.config.chart.type?0:l.globals.rotateXLabels?10:15),u.gridWidth=u.svgWidth-w};switch("top"===l.config.xaxis.position&&(D=u.xAxisHeight-l.config.xaxis.axisTicks.height-5),l.config.legend.position){case"bottom":u.translateY=D,A();break;case"top":u.translateY=this.lgRect.height+D,A();break;case"left":u.translateY=D,u.translateX=this.lgRect.width+w,u.gridHeight=u.svgHeight-E-12,u.gridWidth=u.svgWidth-this.lgRect.width-w;break;case"right":u.translateY=D,u.translateX=w,u.gridHeight=u.svgHeight-E-12,u.gridWidth=u.svgWidth-this.lgRect.width-w-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(p,h),new Ri(this.ctx).setYAxisXPosition(h,p)}},{key:"setDimensionsForNonAxisCharts",value:function(){var a=this.w,l=a.globals,u=a.config,h=0;a.config.legend.show&&!a.config.legend.floating&&(h=20);var p="pie"===u.chart.type||"polarArea"===u.chart.type||"donut"===u.chart.type?"pie":"radialBar",g=u.plotOptions[p].offsetY,m=u.plotOptions[p].offsetX;if(!u.legend.show||u.legend.floating)return l.gridHeight=l.svgHeight-u.grid.padding.left+u.grid.padding.right,l.gridWidth=l.gridHeight,l.translateY=g,void(l.translateX=m+(l.svgWidth-l.gridWidth)/2);switch(u.legend.position){case"bottom":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=g-10,l.translateX=m+(l.svgWidth-l.gridWidth)/2;break;case"top":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=this.lgRect.height+g+10,l.translateX=m+(l.svgWidth-l.gridWidth)/2;break;case"left":l.gridWidth=l.svgWidth-this.lgRect.width-h,l.gridHeight="auto"!==u.chart.height?l.svgHeight:l.gridWidth,l.translateY=g,l.translateX=m+this.lgRect.width+h;break;case"right":l.gridWidth=l.svgWidth-this.lgRect.width-h-5,l.gridHeight="auto"!==u.chart.height?l.svgHeight:l.gridWidth,l.translateY=g,l.translateX=m+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(a,l,u){var h=this.w;this.xAxisHeight=(u.height+a.height+l.height)*(h.globals.isMultiLineX?1.2:h.globals.LINE_HEIGHT_RATIO)+(h.globals.hasXaxisGroups?2:1)*(h.globals.rotateXLabels?22:10)+(h.globals.rotateXLabels&&"bottom"===h.config.legend.position?10:0),this.xAxisWidth=a.width,this.xAxisHeight-l.height>h.config.xaxis.labels.maxHeight&&(this.xAxisHeight=h.config.xaxis.labels.maxHeight),h.config.xaxis.labels.minHeight&&this.xAxisHeight<h.config.xaxis.labels.minHeight&&(this.xAxisHeight=h.config.xaxis.labels.minHeight),h.config.xaxis.floating&&(this.xAxisHeight=0);var E=0,D=0;h.config.yaxis.forEach(function(A){E+=A.labels.minWidth,D+=A.labels.maxWidth}),this.yAxisWidth<E&&(this.yAxisWidth=E),this.yAxisWidth>D&&(this.yAxisWidth=D)}}]),L}(),Or=function(){function L(a){Ue(this,L),this.w=a.w,this.lgCtx=a}return ht(L,[{key:"getLegendStyles",value:function(){var a=document.createElement("style");a.setAttribute("type","text/css");var l=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return a.appendChild(l),a}},{key:"getLegendBBox",value:function(){var a=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:a.height,clww:a.width}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(a,l){var u=this,h=this.w;if(h.globals.axisCharts||"radialBar"===h.config.chart.type){h.globals.resized=!0;var p=null,g=null;h.globals.risingSeries=[],h.globals.axisCharts?(p=h.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),g=parseInt(p.getAttribute("data:realIndex"),10)):(p=h.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")),g=parseInt(p.getAttribute("rel"),10)-1),l?[{cs:h.globals.collapsedSeries,csi:h.globals.collapsedSeriesIndices},{cs:h.globals.ancillaryCollapsedSeries,csi:h.globals.ancillaryCollapsedSeriesIndices}].forEach(function(E){u.riseCollapsedSeries(E.cs,E.csi,g)}):this.hideSeries({seriesEl:p,realIndex:g})}else{var m=h.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(a+1,"'] path")),v=h.config.chart.type;if("pie"===v||"polarArea"===v||"donut"===v){var w=h.config.plotOptions.pie.donut.labels;new Me(this.lgCtx.ctx).pathMouseDown(m.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(m.members[0].node,w)}m.fire("click")}}},{key:"hideSeries",value:function(a){var l=a.seriesEl,u=a.realIndex,h=this.w,p=fe.clone(h.config.series);if(h.globals.axisCharts){var g=!1;if(h.config.yaxis[u]&&h.config.yaxis[u].show&&h.config.yaxis[u].showAlways&&(g=!0,h.globals.ancillaryCollapsedSeriesIndices.indexOf(u)<0&&(h.globals.ancillaryCollapsedSeries.push({index:u,data:p[u].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),h.globals.ancillaryCollapsedSeriesIndices.push(u))),!g){h.globals.collapsedSeries.push({index:u,data:p[u].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),h.globals.collapsedSeriesIndices.push(u);var m=h.globals.risingSeries.indexOf(u);h.globals.risingSeries.splice(m,1)}}else h.globals.collapsedSeries.push({index:u,data:p[u]}),h.globals.collapsedSeriesIndices.push(u);for(var v=l.childNodes,w=0;w<v.length;w++)v[w].classList.contains("apexcharts-series-markers-wrap")&&(v[w].classList.contains("apexcharts-hide")?v[w].classList.remove("apexcharts-hide"):v[w].classList.add("apexcharts-hide"));h.globals.allSeriesCollapsed=h.globals.collapsedSeries.length===h.config.series.length,p=this._getSeriesBasedOnCollapsedState(p),this.lgCtx.ctx.updateHelpers._updateSeries(p,h.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(a,l,u){var h=this.w,p=fe.clone(h.config.series);if(a.length>0){for(var g=0;g<a.length;g++)a[g].index===u&&(h.globals.axisCharts?(p[u].data=a[g].data.slice(),a.splice(g,1),l.splice(g,1),h.globals.risingSeries.push(u)):(p[u]=a[g].data,a.splice(g,1),l.splice(g,1),h.globals.risingSeries.push(u)));p=this._getSeriesBasedOnCollapsedState(p),this.lgCtx.ctx.updateHelpers._updateSeries(p,h.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(a){var l=this.w;return a.forEach(l.globals.axisCharts?function(u,h){l.globals.collapsedSeriesIndices.indexOf(h)>-1&&(a[h].data=[])}:function(u,h){l.globals.collapsedSeriesIndices.indexOf(h)>-1&&(a[h]=0)}),a}}]),L}(),Pr=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new Or(this)}return ht(L,[{key:"init",value:function(){var a=this.w,l=a.globals,u=a.config;if((u.legend.showForSingleSeries&&1===l.series.length||this.isBarsDistributed||l.series.length>1||!l.axisCharts)&&u.legend.show){for(;l.dom.elLegendWrap.firstChild;)l.dom.elLegendWrap.removeChild(l.dom.elLegendWrap.firstChild);this.drawLegends(),fe.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===u.legend.position||"top"===u.legend.position?this.legendAlignHorizontal():"right"!==u.legend.position&&"left"!==u.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var a=this,l=this.w,u=l.config.legend.fontFamily,h=l.globals.seriesNames,p=l.globals.colors.slice();if("heatmap"===l.config.chart.type){var g=l.config.plotOptions.heatmap.colorScale.ranges;h=g.map(function(Ye){return Ye.name?Ye.name:Ye.from+" - "+Ye.to}),p=g.map(function(Ye){return Ye.color})}else this.isBarsDistributed&&(h=l.globals.labels.slice());l.config.legend.customLegendItems.length&&(h=l.config.legend.customLegendItems);for(var m=l.globals.legendFormatter,v=l.config.legend.inverseOrder,w=v?h.length-1:0;v?w>=0:w<=h.length-1;v?w--:w++){var E,D=m(h[w],{seriesIndex:w,w:l}),A=!1,R=!1;if(l.globals.collapsedSeries.length>0)for(var O=0;O<l.globals.collapsedSeries.length;O++)l.globals.collapsedSeries[O].index===w&&(A=!0);if(l.globals.ancillaryCollapsedSeriesIndices.length>0)for(var F=0;F<l.globals.ancillaryCollapsedSeriesIndices.length;F++)l.globals.ancillaryCollapsedSeriesIndices[F]===w&&(R=!0);var z=document.createElement("span");z.classList.add("apexcharts-legend-marker");var G=l.config.legend.markers.offsetX,Z=l.config.legend.markers.offsetY,b=l.config.legend.markers.height,I=l.config.legend.markers.width,P=l.config.legend.markers.strokeWidth,j=l.config.legend.markers.strokeColor,K=l.config.legend.markers.radius,Y=z.style;Y.background=p[w],Y.color=p[w],Y.setProperty("background",p[w],"important"),l.config.legend.markers.fillColors&&l.config.legend.markers.fillColors[w]&&(Y.background=l.config.legend.markers.fillColors[w]),void 0!==l.globals.seriesColors[w]&&(Y.background=l.globals.seriesColors[w],Y.color=l.globals.seriesColors[w]),Y.height=Array.isArray(b)?parseFloat(b[w])+"px":parseFloat(b)+"px",Y.width=Array.isArray(I)?parseFloat(I[w])+"px":parseFloat(I)+"px",Y.left=(Array.isArray(G)?parseFloat(G[w]):parseFloat(G))+"px",Y.top=(Array.isArray(Z)?parseFloat(Z[w]):parseFloat(Z))+"px",Y.borderWidth=Array.isArray(P)?P[w]:P,Y.borderColor=Array.isArray(j)?j[w]:j,Y.borderRadius=Array.isArray(K)?parseFloat(K[w])+"px":parseFloat(K)+"px",l.config.legend.markers.customHTML&&(Array.isArray(l.config.legend.markers.customHTML)?l.config.legend.markers.customHTML[w]&&(z.innerHTML=l.config.legend.markers.customHTML[w]()):z.innerHTML=l.config.legend.markers.customHTML()),Me.setAttrs(z,{rel:w+1,"data:collapsed":A||R}),(A||R)&&z.classList.add("apexcharts-inactive-legend");var _e=document.createElement("div"),me=document.createElement("span");me.classList.add("apexcharts-legend-text"),me.innerHTML=Array.isArray(D)?D.join(" "):D;var Re=l.config.legend.labels.useSeriesColors?l.globals.colors[w]:Array.isArray(l.config.legend.labels.colors)?null===(E=l.config.legend.labels.colors)||void 0===E?void 0:E[w]:l.config.legend.labels.colors;Re||(Re=l.config.chart.foreColor),me.style.color=Re,me.style.fontSize=parseFloat(l.config.legend.fontSize)+"px",me.style.fontWeight=l.config.legend.fontWeight,me.style.fontFamily=u||l.config.chart.fontFamily,Me.setAttrs(me,{rel:w+1,i:w,"data:default-text":encodeURIComponent(D),"data:collapsed":A||R}),_e.appendChild(z),_e.appendChild(me);var le=new qt(this.ctx);l.config.legend.showForZeroSeries||0===le.getSeriesTotalByIndex(w)&&le.seriesHaveSameValues(w)&&!le.isSeriesNull(w)&&-1===l.globals.collapsedSeriesIndices.indexOf(w)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(w)&&_e.classList.add("apexcharts-hidden-zero-series"),l.config.legend.showForNullSeries||le.isSeriesNull(w)&&-1===l.globals.collapsedSeriesIndices.indexOf(w)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(w)&&_e.classList.add("apexcharts-hidden-null-series"),l.globals.dom.elLegendWrap.appendChild(_e),l.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(l.config.legend.horizontalAlign)),l.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+l.config.legend.position),_e.classList.add("apexcharts-legend-series"),_e.style.margin="".concat(l.config.legend.itemMargin.vertical,"px ").concat(l.config.legend.itemMargin.horizontal,"px"),l.globals.dom.elLegendWrap.style.width=l.config.legend.width?l.config.legend.width+"px":"",l.globals.dom.elLegendWrap.style.height=l.config.legend.height?l.config.legend.height+"px":"",Me.setAttrs(_e,{rel:w+1,seriesName:fe.escapeString(h[w]),"data:collapsed":A||R}),(A||R)&&_e.classList.add("apexcharts-inactive-legend"),l.config.legend.onItemClick.toggleDataSeries||_e.classList.add("apexcharts-no-click")}l.globals.dom.elWrap.addEventListener("click",a.onLegendClick,!0),l.config.legend.onItemHover.highlightDataSeries&&0===l.config.legend.customLegendItems.length&&(l.globals.dom.elWrap.addEventListener("mousemove",a.onLegendHovered,!0),l.globals.dom.elWrap.addEventListener("mouseout",a.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(a,l){var u=this.w,h=u.globals.dom.elLegendWrap,p=h.getBoundingClientRect(),g=0,m=0;if("bottom"===u.config.legend.position)m+=u.globals.svgHeight-p.height/2;else if("top"===u.config.legend.position){var v=new Qi(this.ctx),w=v.dimHelpers.getTitleSubtitleCoords("title").height,E=v.dimHelpers.getTitleSubtitleCoords("subtitle").height;m=m+(w>0?w-10:0)+(E>0?E-10:0)}h.style.position="absolute",m=m+l+u.config.legend.offsetY,h.style.left=(g=g+a+u.config.legend.offsetX)+"px",h.style.top=m+"px","bottom"===u.config.legend.position?(h.style.top="auto",h.style.bottom=5-u.config.legend.offsetY+"px"):"right"===u.config.legend.position&&(h.style.left="auto",h.style.right=25+u.config.legend.offsetX+"px"),["width","height"].forEach(function(D){h.style[D]&&(h.style[D]=parseInt(u.config.legend[D],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var a=this.w;a.globals.dom.elLegendWrap.style.right=0;var l=this.legendHelpers.getLegendBBox(),u=new Qi(this.ctx),h=u.dimHelpers.getTitleSubtitleCoords("title"),p=u.dimHelpers.getTitleSubtitleCoords("subtitle"),g=0;"bottom"===a.config.legend.position?g=-l.clwh/1.8:"top"===a.config.legend.position&&(g=h.height+p.height+a.config.title.margin+a.config.subtitle.margin-10),this.setLegendWrapXY(20,g)}},{key:"legendAlignVertical",value:function(){var a=this.w,l=this.legendHelpers.getLegendBBox(),u=0;"left"===a.config.legend.position&&(u=20),"right"===a.config.legend.position&&(u=a.globals.svgWidth-l.clww-10),this.setLegendWrapXY(u,20)}},{key:"onLegendHovered",value:function(a){var l=this.w,u=a.target.classList.contains("apexcharts-legend-series")||a.target.classList.contains("apexcharts-legend-text")||a.target.classList.contains("apexcharts-legend-marker");if("heatmap"===l.config.chart.type||this.isBarsDistributed){if(u){var h=parseInt(a.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,h,this.w]),new at(this.ctx).highlightRangeInSeries(a,a.target)}}else!a.target.classList.contains("apexcharts-inactive-legend")&&u&&new at(this.ctx).toggleSeriesOnHover(a,a.target)}},{key:"onLegendClick",value:function(a){var l=this.w;if(!l.config.legend.customLegendItems.length&&(a.target.classList.contains("apexcharts-legend-series")||a.target.classList.contains("apexcharts-legend-text")||a.target.classList.contains("apexcharts-legend-marker"))){var u=parseInt(a.target.getAttribute("rel"),10)-1,h="true"===a.target.getAttribute("data:collapsed"),p=this.w.config.chart.events.legendClick;"function"==typeof p&&p(this.ctx,u,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,u,this.w]);var g=this.w.config.legend.markers.onClick;"function"==typeof g&&a.target.classList.contains("apexcharts-legend-marker")&&(g(this.ctx,u,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,u,this.w])),"treemap"!==l.config.chart.type&&"heatmap"!==l.config.chart.type&&!this.isBarsDistributed&&l.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(u,h)}}}]),L}(),oi=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w;var l=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=l.globals.minX,this.maxX=l.globals.maxX}return ht(L,[{key:"createToolbar",value:function(){var a=this,l=this.w,u=function(){return document.createElement("div")},h=u();if(h.setAttribute("class","apexcharts-toolbar"),h.style.top=l.config.chart.toolbar.offsetY+"px",h.style.right=3-l.config.chart.toolbar.offsetX+"px",l.globals.dom.elWrap.appendChild(h),this.elZoom=u(),this.elZoomIn=u(),this.elZoomOut=u(),this.elPan=u(),this.elSelection=u(),this.elZoomReset=u(),this.elMenuIcon=u(),this.elMenu=u(),this.elCustomIcons=[],this.t=l.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var p=0;p<this.t.customIcons.length;p++)this.elCustomIcons.push(u());var g=[],m=function(D,A,R){var O=D.toLowerCase();a.t[O]&&l.config.chart.zoom.enabled&&g.push({el:A,icon:"string"==typeof a.t[O]?a.t[O]:R,title:a.localeValues[D],class:"apexcharts-".concat(O,"-icon")})};m("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),m("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var v=function(D){a.t[D]&&l.config.chart[D].enabled&&g.push({el:"zoom"===D?a.elZoom:a.elSelection,icon:"string"==typeof a.t[D]?a.t[D]:"zoom"===D?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:a.localeValues["zoom"===D?"selectionZoom":"selection"],class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(D,"-icon")})};v("zoom"),v("selection"),this.t.pan&&l.config.chart.zoom.enabled&&g.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),m("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&g.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var w=0;w<this.elCustomIcons.length;w++)g.push({el:this.elCustomIcons[w],icon:this.t.customIcons[w].icon,title:this.t.customIcons[w].title,index:this.t.customIcons[w].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[w].class});g.forEach(function(D,A){D.index&&fe.moveIndexInArray(g,A,D.index)});for(var E=0;E<g.length;E++)Me.setAttrs(g[E].el,{class:g[E].class,title:g[E].title}),g[E].el.innerHTML=g[E].icon,h.appendChild(g[E].el);this._createHamburgerMenu(h),l.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):l.globals.panEnabled?this.elPan.classList.add(this.selectedClass):l.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(a){this.elMenuItems=[],a.appendChild(this.elMenu),Me.setAttrs(this.elMenu,{class:"apexcharts-menu"});var l=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||l.splice(2,1);for(var u=0;u<l.length;u++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[u].innerHTML=l[u].title,Me.setAttrs(this.elMenuItems[u],{class:"apexcharts-menu-item ".concat(l[u].name),title:l[u].title}),this.elMenu.appendChild(this.elMenuItems[u])}},{key:"addToolbarEventListeners",value:function(){var a=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(u){u.classList.contains("exportSVG")?u.addEventListener("click",a.handleDownload.bind(a,"svg")):u.classList.contains("exportPNG")?u.addEventListener("click",a.handleDownload.bind(a,"png")):u.classList.contains("exportCSV")&&u.addEventListener("click",a.handleDownload.bind(a,"csv"))});for(var l=0;l<this.t.customIcons.length;l++)this.elCustomIcons[l].addEventListener("click",this.t.customIcons[l].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(a){this.ctx.getSyncedCharts().forEach(function(l){l.ctx.toolbar.toggleOtherControls();var u="selection"===a?l.ctx.toolbar.elSelection:l.ctx.toolbar.elZoom,h="selection"===a?"selectionEnabled":"zoomEnabled";l.w.globals[h]=!l.w.globals[h],u.classList.contains(l.ctx.toolbar.selectedClass)?u.classList.remove(l.ctx.toolbar.selectedClass):u.classList.add(l.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var a=this.w;this.elZoom||(this.elZoom=a.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=a.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=a.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(a){this.toggleOtherControls(),"pan"===a?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var l="pan"===a?this.elPan:this.elZoom,u="pan"===a?this.elZoom:this.elPan;l&&l.classList.add(this.selectedClass),u&&u.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(a){a.ctx.toolbar.toggleOtherControls(),a.w.globals.panEnabled=!a.w.globals.panEnabled,a.ctx.toolbar.elPan.classList.contains(a.ctx.toolbar.selectedClass)?a.ctx.toolbar.elPan.classList.remove(a.ctx.toolbar.selectedClass):a.ctx.toolbar.elPan.classList.add(a.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var a=this,l=this.w;l.globals.panEnabled=!1,l.globals.zoomEnabled=!1,l.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(u){u&&u.classList.remove(a.selectedClass)})}},{key:"handleZoomIn",value:function(){var a=this.w;a.globals.isRangeBar&&(this.minX=a.globals.minY,this.maxX=a.globals.maxY);var l=(this.minX+this.maxX)/2,p=this._getNewMinXMaxX((this.minX+l)/2,(this.maxX+l)/2);a.globals.disableZoomIn||this.zoomUpdateOptions(p.minX,p.maxX)}},{key:"handleZoomOut",value:function(){var a=this.w;if(a.globals.isRangeBar&&(this.minX=a.globals.minY,this.maxX=a.globals.maxY),!("datetime"===a.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var l=(this.minX+this.maxX)/2,p=this._getNewMinXMaxX(this.minX-(l-this.minX),this.maxX-(l-this.maxX));a.globals.disableZoomOut||this.zoomUpdateOptions(p.minX,p.maxX)}}},{key:"_getNewMinXMaxX",value:function(a,l){var u=this.w.config.xaxis.convertedCatToNumeric;return{minX:u?Math.floor(a):a,maxX:u?Math.floor(l):l}}},{key:"zoomUpdateOptions",value:function(a,l){var u=this.w;if(void 0!==a||void 0!==l){if(!(u.config.xaxis.convertedCatToNumeric&&(a<1&&(a=1,l=u.globals.dataPoints),l-a<2))){var h={min:a,max:l},p=this.getBeforeZoomRange(h);p&&(h=p.xaxis);var g={xaxis:h},m=fe.clone(u.globals.initialConfig.yaxis);u.config.chart.zoom.autoScaleYaxis&&(m=new Hn(this.ctx).autoScaleY(this.ctx,m,{xaxis:h})),u.config.chart.group||(g.yaxis=m),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(g,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(h,m)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(a,l){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:a,yaxis:l})}},{key:"getBeforeZoomRange",value:function(a,l){var u=null;return"function"==typeof this.ev.beforeZoom&&(u=this.ev.beforeZoom(this,{xaxis:a,yaxis:l})),u}},{key:"toggleMenu",value:function(){var a=this;window.setTimeout(function(){a.elMenu.classList.contains("apexcharts-menu-open")?a.elMenu.classList.remove("apexcharts-menu-open"):a.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(a){var l=this.w,u=new Bt(this.ctx);switch(a){case"svg":u.exportToSVG(this.ctx);break;case"png":u.exportToPng(this.ctx);break;case"csv":u.exportToCSV({series:l.config.series,columnDelimiter:l.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(a){this.ctx.getSyncedCharts().forEach(function(l){var u=l.w;if(u.globals.lastXAxis.min=u.globals.initialConfig.xaxis.min,u.globals.lastXAxis.max=u.globals.initialConfig.xaxis.max,l.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof u.config.chart.events.beforeResetZoom){var h=u.config.chart.events.beforeResetZoom(l,u);h&&l.updateHelpers.revertDefaultAxisMinMax(h)}"function"==typeof u.config.chart.events.zoomed&&l.ctx.toolbar.zoomCallback({min:u.config.xaxis.min,max:u.config.xaxis.max}),u.globals.zoomed=!1;var p=l.ctx.series.emptyCollapsedSeries(fe.clone(u.globals.initialSeries));l.updateHelpers._updateSeries(p,u.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),L}(),An=function(L){yn(l,oi);var a=sn(l);function l(u){var h;return Ue(this,l),(h=a.call(this,u)).ctx=u,h.w=u.w,h.dragged=!1,h.graphics=new Me(h.ctx),h.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],h.clientX=0,h.clientY=0,h.startX=0,h.endX=0,h.dragX=0,h.startY=0,h.endY=0,h.dragY=0,h.moveDirection="none",h}return ht(l,[{key:"init",value:function(u){var h=this,p=u.xyRatios,g=this.w,m=this;this.xyRatios=p,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=g.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),g.globals.dom.elGraphical.add(this.zoomRect),g.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===g.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:g.globals.gridWidth,maxY:g.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===g.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:g.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=g.globals.dom.baseEl.querySelector("".concat(g.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(v){h.hoverArea.addEventListener(v,m.svgMouseEvents.bind(m,p),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(u,h){var p=this.w,g=this,m=this.ctx.toolbar,v=p.globals.zoomEnabled?p.config.chart.zoom.type:p.config.chart.selection.type,w=p.config.chart.toolbar.autoSelected;if(h.shiftKey?(this.shiftWasPressed=!0,m.enableZoomPanFromToolbar("pan"===w?"zoom":"pan")):this.shiftWasPressed&&(m.enableZoomPanFromToolbar(w),this.shiftWasPressed=!1),h.target){var E,D=h.target.classList;if(h.target.parentNode&&null!==h.target.parentNode&&(E=h.target.parentNode.classList),!(D.contains("apexcharts-selection-rect")||D.contains("apexcharts-legend-marker")||D.contains("apexcharts-legend-text")||E&&E.contains("apexcharts-toolbar"))){if(g.clientX="touchmove"===h.type||"touchstart"===h.type?h.touches[0].clientX:"touchend"===h.type?h.changedTouches[0].clientX:h.clientX,g.clientY="touchmove"===h.type||"touchstart"===h.type?h.touches[0].clientY:"touchend"===h.type?h.changedTouches[0].clientY:h.clientY,"mousedown"===h.type&&1===h.which){var A=g.gridRect.getBoundingClientRect();g.startX=g.clientX-A.left,g.startY=g.clientY-A.top,g.dragged=!1,g.w.globals.mousedown=!0}if(("mousemove"===h.type&&1===h.which||"touchmove"===h.type)&&(g.dragged=!0,p.globals.panEnabled?(p.globals.selection=null,g.w.globals.mousedown&&g.panDragging({context:g,zoomtype:v,xyRatios:u})):(g.w.globals.mousedown&&p.globals.zoomEnabled||g.w.globals.mousedown&&p.globals.selectionEnabled)&&(g.selection=g.selectionDrawing({context:g,zoomtype:v}))),"mouseup"===h.type||"touchend"===h.type||"mouseleave"===h.type){var R=g.gridRect.getBoundingClientRect();g.w.globals.mousedown&&(g.endX=g.clientX-R.left,g.endY=g.clientY-R.top,g.dragX=Math.abs(g.endX-g.startX),g.dragY=Math.abs(g.endY-g.startY),(p.globals.zoomEnabled||p.globals.selectionEnabled)&&g.selectionDrawn({context:g,zoomtype:v}),p.globals.panEnabled&&p.config.xaxis.convertedCatToNumeric&&g.delayedPanScrolled()),p.globals.zoomEnabled&&g.hideSelectionRect(this.selectionRect),g.dragged=!1,g.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var u=this.w;if(this.selectionRect){var h=this.selectionRect.node.getBoundingClientRect();h.width>0&&h.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:u.globals.gridWidth,maxY:u.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var u=this.w,h=this.xyRatios;if(!u.globals.zoomEnabled)if(null!=u.globals.selection)this.drawSelectionRect(u.globals.selection);else if(void 0!==u.config.chart.selection.xaxis.min&&void 0!==u.config.chart.selection.xaxis.max){var p=(u.config.chart.selection.xaxis.min-u.globals.minX)/h.xRatio;this.drawSelectionRect({x:p,y:0,width:u.globals.gridWidth-(u.globals.maxX-u.config.chart.selection.xaxis.max)/h.xRatio-p,height:u.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof u.config.chart.events.selection&&u.config.chart.events.selection(this.ctx,{xaxis:{min:u.config.chart.selection.xaxis.min,max:u.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(u){var h=u.x,p=u.y,g=u.width,m=u.height,v=u.translateX,E=u.translateY,A=this.w,R=this.zoomRect,O=this.selectionRect;if(this.dragged||null!==A.globals.selection){var F={transform:"translate("+(void 0===v?0:v)+", "+(void 0===E?0:E)+")"};A.globals.zoomEnabled&&this.dragged&&(g<0&&(g=1),R.attr({x:h,y:p,width:g,height:m,fill:A.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":A.config.chart.zoom.zoomedArea.fill.opacity,stroke:A.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":A.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":A.config.chart.zoom.zoomedArea.stroke.opacity}),Me.setAttrs(R.node,F)),A.globals.selectionEnabled&&(O.attr({x:h,y:p,width:g>0?g:0,height:m>0?m:0,fill:A.config.chart.selection.fill.color,"fill-opacity":A.config.chart.selection.fill.opacity,stroke:A.config.chart.selection.stroke.color,"stroke-width":A.config.chart.selection.stroke.width,"stroke-dasharray":A.config.chart.selection.stroke.dashArray,"stroke-opacity":A.config.chart.selection.stroke.opacity}),Me.setAttrs(O.node,F))}}},{key:"hideSelectionRect",value:function(u){u&&u.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(u){var F,p=u.zoomtype,g=this.w,m=u.context,v=this.gridRect.getBoundingClientRect(),w=m.startX-1,E=m.startY,D=!1,A=!1,R=m.clientX-v.left-w,O=m.clientY-v.top-E;return Math.abs(R+w)>g.globals.gridWidth?R=g.globals.gridWidth-w:m.clientX-v.left<0&&(R=w),w>m.clientX-v.left&&(D=!0,R=Math.abs(R)),E>m.clientY-v.top&&(A=!0,O=Math.abs(O)),m.drawSelectionRect(F="x"===p?{x:D?w-R:w,y:0,width:R,height:g.globals.gridHeight}:"y"===p?{x:0,y:A?E-O:E,width:g.globals.gridWidth,height:O}:{x:D?w-R:w,y:A?E-O:E,width:R,height:O}),m.selectionDragging("resizing"),F}},{key:"selectionDragging",value:function(u,h){var p=this,g=this.w,m=this.xyRatios,v=this.selectionRect,w=0;"resizing"===u&&(w=30);var E=function(A){return parseFloat(v.node.getAttribute(A))},D={x:E("x"),y:E("y"),width:E("width"),height:E("height")};g.globals.selection=D,"function"==typeof g.config.chart.events.selection&&g.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var A=p.gridRect.getBoundingClientRect(),R=v.node.getBoundingClientRect(),O={xaxis:{min:g.globals.xAxisScale.niceMin+(R.left-A.left)*m.xRatio,max:g.globals.xAxisScale.niceMin+(R.right-A.left)*m.xRatio},yaxis:{min:g.globals.yAxisScale[0].niceMin+(A.bottom-R.bottom)*m.yRatio[0],max:g.globals.yAxisScale[0].niceMax-(R.top-A.top)*m.yRatio[0]}};g.config.chart.events.selection(p.ctx,O),g.config.chart.brush.enabled&&void 0!==g.config.chart.events.brushScrolled&&g.config.chart.events.brushScrolled(p.ctx,O)},w))}},{key:"selectionDrawn",value:function(u){var p=u.zoomtype,g=this.w,m=u.context,v=this.xyRatios,w=this.ctx.toolbar;if(m.startX>m.endX){var E=m.startX;m.startX=m.endX,m.endX=E}if(m.startY>m.endY){var D=m.startY;m.startY=m.endY,m.endY=D}var A=void 0,R=void 0;g.globals.isRangeBar?(A=g.globals.yAxisScale[0].niceMin+m.startX*v.invertedYRatio,R=g.globals.yAxisScale[0].niceMin+m.endX*v.invertedYRatio):(A=g.globals.xAxisScale.niceMin+m.startX*v.xRatio,R=g.globals.xAxisScale.niceMin+m.endX*v.xRatio);var O=[],F=[];if(g.config.yaxis.forEach(function(K,Y){O.push(g.globals.yAxisScale[Y].niceMax-v.yRatio[Y]*m.startY),F.push(g.globals.yAxisScale[Y].niceMax-v.yRatio[Y]*m.endY)}),m.dragged&&(m.dragX>10||m.dragY>10)&&A!==R)if(g.globals.zoomEnabled){var z=fe.clone(g.globals.initialConfig.yaxis),G=fe.clone(g.globals.initialConfig.xaxis);if(g.globals.zoomed=!0,g.config.xaxis.convertedCatToNumeric&&(A=Math.floor(A),R=Math.floor(R),A<1&&(A=1,R=g.globals.dataPoints),R-A<2&&(R=A+1)),"xy"!==p&&"x"!==p||(G={min:A,max:R}),"xy"!==p&&"y"!==p||z.forEach(function(K,Y){z[Y].min=F[Y],z[Y].max=O[Y]}),g.config.chart.zoom.autoScaleYaxis){var Z=new Hn(m.ctx);z=Z.autoScaleY(m.ctx,z,{xaxis:G})}if(w){var b=w.getBeforeZoomRange(G,z);b&&(G=b.xaxis?b.xaxis:G,z=b.yaxis?b.yaxis:z)}var I={xaxis:G};g.config.chart.group||(I.yaxis=z),m.ctx.updateHelpers._updateOptions(I,!1,m.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof g.config.chart.events.zoomed&&w.zoomCallback(G,z)}else if(g.globals.selectionEnabled){var P,j=null;P={min:A,max:R},"xy"!==p&&"y"!==p||(j=fe.clone(g.config.yaxis)).forEach(function(K,Y){j[Y].min=F[Y],j[Y].max=O[Y]}),g.globals.selection=m.selection,"function"==typeof g.config.chart.events.selection&&g.config.chart.events.selection(m.ctx,{xaxis:P,yaxis:j})}}},{key:"panDragging",value:function(u){var p=this.w,g=u.context;if(void 0!==p.globals.lastClientPosition.x){var m=p.globals.lastClientPosition.x-g.clientX,v=p.globals.lastClientPosition.y-g.clientY;Math.abs(m)>Math.abs(v)&&m>0?this.moveDirection="left":Math.abs(m)>Math.abs(v)&&m<0?this.moveDirection="right":Math.abs(v)>Math.abs(m)&&v>0?this.moveDirection="up":Math.abs(v)>Math.abs(m)&&v<0&&(this.moveDirection="down")}p.globals.lastClientPosition={x:g.clientX,y:g.clientY},p.config.xaxis.convertedCatToNumeric||g.panScrolled(p.globals.isRangeBar?p.globals.minY:p.globals.minX,p.globals.isRangeBar?p.globals.maxY:p.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var u=this.w,h=u.globals.minX,p=u.globals.maxX,g=(u.globals.maxX-u.globals.minX)/2;"left"===this.moveDirection?(h=u.globals.minX+g,p=u.globals.maxX+g):"right"===this.moveDirection&&(h=u.globals.minX-g,p=u.globals.maxX-g),h=Math.floor(h),p=Math.floor(p),this.updateScrolledChart({xaxis:{min:h,max:p}},h,p)}},{key:"panScrolled",value:function(u,h){var p=this.w,g=this.xyRatios,m=fe.clone(p.globals.initialConfig.yaxis),v=g.xRatio,w=p.globals.minX,E=p.globals.maxX;p.globals.isRangeBar&&(v=g.invertedYRatio,w=p.globals.minY,E=p.globals.maxY),"left"===this.moveDirection?(u=w+p.globals.gridWidth/15*v,h=E+p.globals.gridWidth/15*v):"right"===this.moveDirection&&(u=w-p.globals.gridWidth/15*v,h=E-p.globals.gridWidth/15*v),p.globals.isRangeBar||(u<p.globals.initialMinX||h>p.globals.initialMaxX)&&(u=w,h=E);var D={min:u,max:h};p.config.chart.zoom.autoScaleYaxis&&(m=new Hn(this.ctx).autoScaleY(this.ctx,m,{xaxis:D}));var A={xaxis:{min:u,max:h}};p.config.chart.group||(A.yaxis=m),this.updateScrolledChart(A,u,h)}},{key:"updateScrolledChart",value:function(u,h,p){var g=this.w;this.ctx.updateHelpers._updateOptions(u,!1,!1),"function"==typeof g.config.chart.events.scrolled&&g.config.chart.events.scrolled(this.ctx,{xaxis:{min:h,max:p}})}}]),l}(),qn=function(){function L(a){Ue(this,L),this.w=a.w,this.ttCtx=a,this.ctx=a.ctx}return ht(L,[{key:"getNearestValues",value:function(a){var l=a.hoverArea,h=a.clientX,p=a.clientY,g=this.w,m=a.elGrid.getBoundingClientRect(),v=m.width,w=m.height,E=v/(g.globals.dataPoints-1),D=w/g.globals.dataPoints,A=this.hasBars();!g.globals.comboCharts&&!A||g.config.xaxis.convertedCatToNumeric||(E=v/g.globals.dataPoints);var R=h-m.left-g.globals.barPadForNumericAxis,O=p-m.top;R<0||O<0||R>v||O>w?(l.classList.remove("hovering-zoom"),l.classList.remove("hovering-pan")):g.globals.zoomEnabled?(l.classList.remove("hovering-pan"),l.classList.add("hovering-zoom")):g.globals.panEnabled&&(l.classList.remove("hovering-zoom"),l.classList.add("hovering-pan"));var F=Math.round(R/E),z=Math.floor(O/D);A&&!g.config.xaxis.convertedCatToNumeric&&(F=Math.ceil(R/E),F-=1);var G=null,Z=null,b=g.globals.seriesXvalues.map(function(Y){return Y.filter(function(_e){return fe.isNumber(_e)})}),I=g.globals.seriesYvalues.map(function(Y){return Y.filter(function(_e){return fe.isNumber(_e)})});if(g.globals.isXNumeric){var P=this.ttCtx.getElGrid().getBoundingClientRect(),j=R*(P.width/v);G=(Z=this.closestInMultiArray(j,O*(P.height/w),b,I)).index,F=Z.j,null!==G&&(F=(Z=this.closestInArray(j,b=g.globals.seriesXvalues[G])).index)}return g.globals.capturedSeriesIndex=null===G?-1:G,(!F||F<1)&&(F=0),g.globals.capturedDataPointIndex=g.globals.isBarHorizontal?z:F,{capturedSeries:G,j:g.globals.isBarHorizontal?z:F,hoverX:R,hoverY:O}}},{key:"closestInMultiArray",value:function(a,l,u,h){var g=0,m=null,v=-1;this.w.globals.series.length>1?g=this.getFirstActiveXArray(u):m=0;var E=Math.abs(a-u[g][0]);if(u.forEach(function(R){R.forEach(function(O,F){var z=Math.abs(a-O);z<=E&&(E=z,v=F)})}),-1!==v){var A=Math.abs(l-h[g][v]);m=g,h.forEach(function(R,O){var F=Math.abs(l-R[v]);F<=A&&(A=F,m=O)})}return{index:m,j:v}}},{key:"getFirstActiveXArray",value:function(a){for(var l=this.w,u=0,h=a.map(function(g,m){return g.length>0?m:-1}),p=0;p<h.length;p++)if(-1!==h[p]&&-1===l.globals.collapsedSeriesIndices.indexOf(p)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(p)){u=h[p];break}return u}},{key:"closestInArray",value:function(a,l){for(var h=null,p=Math.abs(a-l[0]),g=0;g<l.length;g++){var m=Math.abs(a-l[g]);m<p&&(p=m,h=g)}return{index:h}}},{key:"isXoverlap",value:function(a){var l=[],u=this.w.globals.seriesX.filter(function(p){return void 0!==p[0]});if(u.length>0)for(var h=0;h<u.length-1;h++)void 0!==u[h][a]&&void 0!==u[h+1][a]&&u[h][a]!==u[h+1][a]&&l.push("unEqual");return 0===l.length}},{key:"isInitialSeriesSameLen",value:function(){for(var a=!0,l=this.w.globals.initialSeries,u=0;u<l.length-1;u++)if(l[u].data.length!==l[u+1].data.length){a=!1;break}return a}},{key:"getBarsHeight",value:function(a){return On(a).reduce(function(l,u){return l+u.getBBox().height},0)}},{key:"getElMarkers",value:function(a){return this.w.globals.dom.baseEl.querySelectorAll("number"==typeof a?".apexcharts-series[data\\:realIndex='".concat(a,"'] .apexcharts-series-markers-wrap > *"):".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(a=On(a)).sort(function(u,h){var p=Number(u.getAttribute("data:realIndex")),g=Number(h.getAttribute("data:realIndex"));return g<p?1:g>p?-1:0});var l=[];return a.forEach(function(u){l.push(u.querySelector(".apexcharts-marker"))}),l}},{key:"hasMarkers",value:function(a){return this.getElMarkers(a).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(a){var l=this.w,u=l.config.markers.hover.size;return void 0===u&&(u=l.globals.markers.size[a]+l.config.markers.hover.sizeOffset),u}},{key:"toggleAllTooltipSeriesGroups",value:function(a){var l=this.w,u=this.ttCtx;0===u.allTooltipSeriesGroups.length&&(u.allTooltipSeriesGroups=l.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var h=u.allTooltipSeriesGroups,p=0;p<h.length;p++)"enable"===a?(h[p].classList.add("apexcharts-active"),h[p].style.display=l.config.tooltip.items.display):(h[p].classList.remove("apexcharts-active"),h[p].style.display="none")}}]),L}(),ti=function(){function L(a){Ue(this,L),this.w=a.w,this.ctx=a.ctx,this.ttCtx=a,this.tooltipUtil=new qn(a)}return ht(L,[{key:"drawSeriesTexts",value:function(a){var l=a.shared,u=void 0===l||l,h=a.ttItems,p=a.i,g=void 0===p?0:p,m=a.j,v=void 0===m?null:m,D=a.e,A=this.w;void 0!==A.config.tooltip.custom?this.handleCustomTooltip({i:g,j:v,y1:a.y1,y2:a.y2,w:A}):this.toggleActiveInactiveSeries(u);var R=this.getValuesToPrint({i:g,j:v});this.printLabels({i:g,j:v,values:R,ttItems:h,shared:u,e:D});var O=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=O.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=O.getBoundingClientRect().height}},{key:"printLabels",value:function(a){var l,u=this,h=a.i,p=a.j,g=a.values,m=a.ttItems,v=a.shared,w=a.e,E=this.w,D=[],A=function(P){return E.globals.seriesGoals[P]&&E.globals.seriesGoals[P][p]&&Array.isArray(E.globals.seriesGoals[P][p])},R=g.xVal,O=g.zVal,F=g.xAxisTTVal,z="",G=E.globals.colors[h];null!==p&&E.config.plotOptions.bar.distributed&&(G=E.globals.colors[p]);for(var Z=function(P,j){var K=u.getFormatters(h);z=u.getSeriesName({fn:K.yLbTitleFormatter,index:h,seriesIndex:h,j:p}),"treemap"===E.config.chart.type&&(z=K.yLbTitleFormatter(String(E.config.series[h].data[p].x),{series:E.globals.series,seriesIndex:h,dataPointIndex:p,w:E}));var Y=E.config.tooltip.inverseOrder?j:P;if(E.globals.axisCharts){var _e=function(le){var Ye,Se,bt,tn;return E.globals.isRangeData?K.yLbFormatter(null===(Ye=E.globals.seriesRangeStart)||void 0===Ye||null===(Se=Ye[le])||void 0===Se?void 0:Se[p],{series:E.globals.seriesRangeStart,seriesIndex:le,dataPointIndex:p,w:E})+" - "+K.yLbFormatter(null===(bt=E.globals.seriesRangeEnd)||void 0===bt||null===(tn=bt[le])||void 0===tn?void 0:tn[p],{series:E.globals.seriesRangeEnd,seriesIndex:le,dataPointIndex:p,w:E}):K.yLbFormatter(E.globals.series[le][p],{series:E.globals.series,seriesIndex:le,dataPointIndex:p,w:E})};if(v)K=u.getFormatters(Y),z=u.getSeriesName({fn:K.yLbTitleFormatter,index:Y,seriesIndex:h,j:p}),G=E.globals.colors[Y],l=_e(Y),A(Y)&&(D=E.globals.seriesGoals[Y][p].map(function(le){return{attrs:le,val:K.yLbFormatter(le.value,{seriesIndex:Y,dataPointIndex:p,w:E})}}));else{var me,Re=null==w||null===(me=w.target)||void 0===me?void 0:me.getAttribute("fill");Re&&(G=-1!==Re.indexOf("url")?document.querySelector(Re.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):Re),l=_e(h),A(h)&&Array.isArray(E.globals.seriesGoals[h][p])&&(D=E.globals.seriesGoals[h][p].map(function(le){return{attrs:le,val:K.yLbFormatter(le.value,{seriesIndex:h,dataPointIndex:p,w:E})}}))}}null===p&&(l=K.yLbFormatter(E.globals.series[h],ae(ae({},E),{},{seriesIndex:h,dataPointIndex:h}))),u.DOMHandling({i:h,t:Y,j:p,ttItems:m,values:{val:l,goalVals:D,xVal:R,xAxisTTVal:F,zVal:O},seriesName:z,shared:v,pColor:G})},b=0,I=E.globals.series.length-1;b<E.globals.series.length;b++,I--)Z(b,I)}},{key:"getFormatters",value:function(a){var l,u=this.w,h=u.globals.yLabelFormatters[a];return void 0!==u.globals.ttVal?Array.isArray(u.globals.ttVal)?(h=u.globals.ttVal[a]&&u.globals.ttVal[a].formatter,l=u.globals.ttVal[a]&&u.globals.ttVal[a].title&&u.globals.ttVal[a].title.formatter):(h=u.globals.ttVal.formatter,"function"==typeof u.globals.ttVal.title.formatter&&(l=u.globals.ttVal.title.formatter)):l=u.config.tooltip.y.title.formatter,"function"!=typeof h&&(h=u.globals.yLabelFormatters[0]?u.globals.yLabelFormatters[0]:function(p){return p}),"function"!=typeof l&&(l=function(p){return p}),{yLbFormatter:h,yLbTitleFormatter:l}}},{key:"getSeriesName",value:function(a){var h=a.seriesIndex,p=a.j,g=this.w;return(0,a.fn)(String(g.globals.seriesNames[a.index]),{series:g.globals.series,seriesIndex:h,dataPointIndex:p,w:g})}},{key:"DOMHandling",value:function(a){var l=a.t,u=a.j,h=a.ttItems,p=a.values,g=a.seriesName,m=a.shared,v=a.pColor,w=this.w,E=this.ttCtx,D=p.val,A=p.goalVals,R=p.xVal,O=p.xAxisTTVal,F=p.zVal,z=null;z=h[l].children,w.config.tooltip.fillSeriesColor&&(h[l].style.backgroundColor=v,z[0].style.display="none"),E.showTooltipTitle&&(null===E.tooltipTitle&&(E.tooltipTitle=w.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),E.tooltipTitle.innerHTML=R),E.isXAxisTooltipEnabled&&(E.xaxisTooltipText.innerHTML=""!==O?O:R);var G=h[l].querySelector(".apexcharts-tooltip-text-y-label");G&&(G.innerHTML=g||"");var Z=h[l].querySelector(".apexcharts-tooltip-text-y-value");Z&&(Z.innerHTML=void 0!==D?D:""),z[0]&&z[0].classList.contains("apexcharts-tooltip-marker")&&(w.config.tooltip.marker.fillColors&&Array.isArray(w.config.tooltip.marker.fillColors)&&(v=w.config.tooltip.marker.fillColors[l]),z[0].style.backgroundColor=v),w.config.tooltip.marker.show||(z[0].style.display="none");var b=h[l].querySelector(".apexcharts-tooltip-text-goals-label"),I=h[l].querySelector(".apexcharts-tooltip-text-goals-value");if(A.length&&w.globals.seriesGoals[l]){var P=function(){var j="<div >",K="<div>";A.forEach(function(Y,_e){j+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Y.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Y.attrs.name,"</div>"),K+="<div>".concat(Y.val,"</div>")}),b.innerHTML=j+"</div>",I.innerHTML=K+"</div>"};m?w.globals.seriesGoals[l][u]&&Array.isArray(w.globals.seriesGoals[l][u])?P():(b.innerHTML="",I.innerHTML=""):P()}else b.innerHTML="",I.innerHTML="";null!==F&&(h[l].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=w.config.tooltip.z.title,h[l].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==F?F:""),m&&z[0]&&(z[0].parentNode.style.display=null==D||w.globals.ancillaryCollapsedSeriesIndices.indexOf(l)>-1||w.globals.collapsedSeriesIndices.indexOf(l)>-1?"none":w.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(a){var l=this.w;if(a)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var u=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");u&&(u.classList.add("apexcharts-active"),u.style.display=l.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(a){var l=a.i,u=a.j,h=this.w,p=this.ctx.series.filteredSeriesX(),g="",m="",v=null,w=null,E={series:h.globals.series,seriesIndex:l,dataPointIndex:u,w:h},D=h.globals.ttZFormatter;null===u?w=h.globals.series[l]:h.globals.isXNumeric&&"treemap"!==h.config.chart.type?(g=p[l][u],0===p[l].length&&(g=p[this.tooltipUtil.getFirstActiveXArray(p)][u])):g=void 0!==h.globals.labels[u]?h.globals.labels[u]:"";var A=g;return g=h.globals.isXNumeric&&"datetime"===h.config.xaxis.type?new Hr(this.ctx).xLabelFormat(h.globals.ttKeyFormatter,A,A,{i:void 0,dateFormatter:new fn(this.ctx).formatDate,w:this.w}):h.globals.isBarHorizontal?h.globals.yLabelFormatters[0](A,E):h.globals.xLabelFormatter(A,E),void 0!==h.config.tooltip.x.formatter&&(g=h.globals.ttKeyFormatter(A,E)),h.globals.seriesZ.length>0&&h.globals.seriesZ[l].length>0&&(v=D(h.globals.seriesZ[l][u],h)),m="function"==typeof h.config.xaxis.tooltip.formatter?h.globals.xaxisTooltipFormatter(A,E):g,{val:Array.isArray(w)?w.join(" "):w,xVal:Array.isArray(g)?g.join(" "):g,xAxisTTVal:Array.isArray(m)?m.join(" "):m,zVal:v}}},{key:"handleCustomTooltip",value:function(a){var l=a.i,u=a.j,h=a.y1,p=a.y2,g=a.w,m=this.ttCtx.getElTooltip(),v=g.config.tooltip.custom;Array.isArray(v)&&v[l]&&(v=v[l]),m.innerHTML=v({ctx:this.ctx,series:g.globals.series,seriesIndex:l,dataPointIndex:u,y1:h,y2:p,w:g})}}]),L}(),Oa=function(){function L(a){Ue(this,L),this.ttCtx=a,this.ctx=a.ctx,this.w=a.w}return ht(L,[{key:"moveXCrosshairs",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=this.ttCtx,h=this.w,p=u.getElXCrosshairs(),g=a-u.xcrosshairsWidth/2,m=h.globals.labels.slice().length;if(null!==l&&(g=h.globals.gridWidth/m*l),null===p||h.globals.isBarHorizontal||(p.setAttribute("x",g),p.setAttribute("x1",g),p.setAttribute("x2",g),p.setAttribute("y2",h.globals.gridHeight),p.classList.add("apexcharts-active")),g<0&&(g=0),g>h.globals.gridWidth&&(g=h.globals.gridWidth),u.isXAxisTooltipEnabled){var v=g;"tickWidth"!==h.config.xaxis.crosshairs.width&&"barWidth"!==h.config.xaxis.crosshairs.width||(v=g+u.xcrosshairsWidth/2),this.moveXAxisTooltip(v)}}},{key:"moveYCrosshairs",value:function(a){var l=this.ttCtx;null!==l.ycrosshairs&&Me.setAttrs(l.ycrosshairs,{y1:a,y2:a}),null!==l.ycrosshairsHidden&&Me.setAttrs(l.ycrosshairsHidden,{y1:a,y2:a})}},{key:"moveXAxisTooltip",value:function(a){var l=this.w,u=this.ttCtx;if(null!==u.xaxisTooltip&&0!==u.xcrosshairsWidth){u.xaxisTooltip.classList.add("apexcharts-active");var p,h=u.xaxisOffY+l.config.xaxis.tooltip.offsetY+l.globals.translateY+1+l.config.xaxis.offsetY;a-=u.xaxisTooltip.getBoundingClientRect().width/2,isNaN(a)||(a+=l.globals.translateX,p=new Me(this.ctx).getTextRects(u.xaxisTooltipText.innerHTML),u.xaxisTooltipText.style.minWidth=p.width+"px",u.xaxisTooltip.style.left=a+"px",u.xaxisTooltip.style.top=h+"px")}}},{key:"moveYAxisTooltip",value:function(a){var l=this.w,u=this.ttCtx;null===u.yaxisTTEls&&(u.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var h=parseInt(u.ycrosshairsHidden.getAttribute("y1"),10),p=l.globals.translateY+h,g=u.yaxisTTEls[a].getBoundingClientRect().height,m=l.globals.translateYAxisX[a]-2;l.config.yaxis[a].opposite&&(m-=26),p-=g/2,-1===l.globals.ignoreYAxisIndexes.indexOf(a)?(u.yaxisTTEls[a].classList.add("apexcharts-active"),u.yaxisTTEls[a].style.top=p+"px",u.yaxisTTEls[a].style.left=m+l.config.yaxis[a].tooltip.offsetX+"px"):u.yaxisTTEls[a].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(a,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=this.w,p=this.ttCtx,g=p.getElTooltip(),m=p.tooltipRect,v=null!==u?parseFloat(u):1,w=parseFloat(a)+v+5,E=parseFloat(l)+v/2;if(w>h.globals.gridWidth/2&&(w=w-m.ttWidth-v-10),w>h.globals.gridWidth-m.ttWidth-10&&(w=h.globals.gridWidth-m.ttWidth),w<-20&&(w=-20),h.config.tooltip.followCursor){var D=p.getElGrid().getBoundingClientRect();(w=p.e.clientX-D.left)>h.globals.gridWidth/2&&(w-=p.tooltipRect.ttWidth),(E=p.e.clientY+h.globals.translateY-D.top)>h.globals.gridHeight/2&&(E-=p.tooltipRect.ttHeight)}else h.globals.isBarHorizontal||m.ttHeight/2+E>h.globals.gridHeight&&(E=h.globals.gridHeight-m.ttHeight+h.globals.translateY);isNaN(w)||(g.style.left=(w+=h.globals.translateX)+"px",g.style.top=E+"px")}},{key:"moveMarkers",value:function(a,l){var u=this.w,h=this.ttCtx;if(u.globals.markers.size[a]>0)for(var p=u.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(a,"'] .apexcharts-marker")),g=0;g<p.length;g++)parseInt(p[g].getAttribute("rel"),10)===l&&(h.marker.resetPointsSize(),h.marker.enlargeCurrentPoint(l,p[g]));else h.marker.resetPointsSize(),this.moveDynamicPointOnHover(l,a)}},{key:"moveDynamicPointOnHover",value:function(a,l){var u,h,p=this.w,g=this.ttCtx,m=p.globals.pointsArray,v=g.tooltipUtil.getHoverMarkerSize(l),w=p.config.series[l].type;if(!w||"column"!==w&&"candlestick"!==w&&"boxPlot"!==w){u=m[l][a][0],h=m[l][a][1]?m[l][a][1]:0;var E=p.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(l,"'] .apexcharts-series-markers circle"));E&&h<p.globals.gridHeight&&h>0&&(E.setAttribute("r",v),E.setAttribute("cx",u),E.setAttribute("cy",h)),this.moveXCrosshairs(u),g.fixedTooltip||this.moveTooltip(u,h,v)}}},{key:"moveDynamicPointsOnHover",value:function(a){var l,u=this.ttCtx,h=u.w,p=0,g=0,m=h.globals.pointsArray;l=new at(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var v=u.tooltipUtil.getHoverMarkerSize(l);m[l]&&(p=m[l][a][0],g=m[l][a][1]);var w=u.tooltipUtil.getAllMarkers();if(null!==w)for(var E=0;E<h.globals.series.length;E++){var D=m[E];if(h.globals.comboCharts&&void 0===D&&w.splice(E,0,null),D&&D.length){var A=m[E][a][1];w[E].setAttribute("cx",p),"rangeArea"!==h.config.chart.type||h.globals.comboCharts||(A-=Math.abs(A-m[E][a+h.globals.series[E].length][1])/2),null!==A&&!isNaN(A)&&A<h.globals.gridHeight+v&&A+v>0?(w[E]&&w[E].setAttribute("r",v),w[E]&&w[E].setAttribute("cy",A)):w[E]&&w[E].setAttribute("r",0)}}this.moveXCrosshairs(p),u.fixedTooltip||this.moveTooltip(p,g||h.globals.gridHeight,v)}},{key:"moveStickyTooltipOverBars",value:function(a,l){var u=this.w,h=this.ttCtx,p=u.globals.columnSeries?u.globals.columnSeries.length:u.globals.series.length,g=p>=2&&p%2==0?Math.floor(p/2):Math.floor(p/2)+1;u.globals.isBarHorizontal&&(g=new at(this.ctx).getActiveConfigSeriesIndex("desc")+1);var m=u.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(g,"'] path[j='").concat(a,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(g,"'] path[j='").concat(a,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(g,"'] path[j='").concat(a,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(g,"'] path[j='").concat(a,"']"));m||"number"!=typeof l||(m=u.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(l,"'] path[j='").concat(a,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(l,"'] path[j='").concat(a,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(l,"'] path[j='").concat(a,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(l,"'] path[j='").concat(a,"']")));var v=m?parseFloat(m.getAttribute("cx")):0,w=m?parseFloat(m.getAttribute("cy")):0,E=m?parseFloat(m.getAttribute("barWidth")):0,D=h.getElGrid().getBoundingClientRect(),A=m&&(m.classList.contains("apexcharts-candlestick-area")||m.classList.contains("apexcharts-boxPlot-area"));u.globals.isXNumeric?(m&&!A&&(v-=p%2!=0?E/2:0),m&&A&&u.globals.comboCharts&&(v-=E/2)):u.globals.isBarHorizontal||(v=h.xAxisTicksPositions[a-1]+h.dataPointsDividedWidth/2,isNaN(v)&&(v=h.xAxisTicksPositions[a]-h.dataPointsDividedWidth/2)),u.globals.isBarHorizontal?w-=h.tooltipRect.ttHeight:u.config.tooltip.followCursor?w=h.e.clientY-D.top-h.tooltipRect.ttHeight/2:w+h.tooltipRect.ttHeight+15>u.globals.gridHeight&&(w=u.globals.gridHeight),u.globals.isBarHorizontal||this.moveXCrosshairs(v),h.fixedTooltip||this.moveTooltip(v,w||u.globals.gridHeight)}}]),L}(),Si=function(){function L(a){Ue(this,L),this.w=a.w,this.ttCtx=a,this.ctx=a.ctx,this.tooltipPosition=new Oa(a)}return ht(L,[{key:"drawDynamicPoints",value:function(){var a=this.w,l=new Me(this.ctx),u=new Ae(this.ctx),h=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series");h=On(h),a.config.chart.stacked&&h.sort(function(D,A){return parseFloat(D.getAttribute("data:realIndex"))-parseFloat(A.getAttribute("data:realIndex"))});for(var p=0;p<h.length;p++){var g=h[p].querySelector(".apexcharts-series-markers-wrap");if(null!==g){var m=void 0,v="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==a.config.chart.type&&"area"!==a.config.chart.type||a.globals.comboCharts||a.config.tooltip.intersect||(v+=" no-pointer-events");var w=u.getMarkerConfig({cssClass:v,seriesIndex:Number(g.getAttribute("data:realIndex"))});(m=l.drawMarker(0,0,w)).node.setAttribute("default-marker-size",0);var E=document.createElementNS(a.globals.SVGNS,"g");E.classList.add("apexcharts-series-markers"),E.appendChild(m.node),g.appendChild(E)}}}},{key:"enlargeCurrentPoint",value:function(a,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=this.w;"bubble"!==p.config.chart.type&&this.newPointSize(a,l);var g=l.getAttribute("cx"),m=l.getAttribute("cy");if(null!==u&&null!==h&&(g=u,m=h),this.tooltipPosition.moveXCrosshairs(g),!this.fixedTooltip){if("radar"===p.config.chart.type){var v=this.ttCtx.getElGrid().getBoundingClientRect();g=this.ttCtx.e.clientX-v.left}this.tooltipPosition.moveTooltip(g,m,p.config.markers.hover.size)}}},{key:"enlargePoints",value:function(a){for(var l=this.w,u=this,h=this.ttCtx,p=a,g=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),m=l.config.markers.hover.size,v=0;v<g.length;v++){var w=g[v].getAttribute("rel"),E=g[v].getAttribute("index");if(void 0===m&&(m=l.globals.markers.size[E]+l.config.markers.hover.sizeOffset),p===parseInt(w,10)){u.newPointSize(p,g[v]);var D=g[v].getAttribute("cx"),A=g[v].getAttribute("cy");u.tooltipPosition.moveXCrosshairs(D),h.fixedTooltip||u.tooltipPosition.moveTooltip(D,A,m)}else u.oldPointSize(g[v])}}},{key:"newPointSize",value:function(a,l){var u=this.w,h=u.config.markers.hover.size,p=0===a?l.parentNode.firstChild:l.parentNode.lastChild;if("0"!==p.getAttribute("default-marker-size")){var g=parseInt(p.getAttribute("index"),10);void 0===h&&(h=u.globals.markers.size[g]+u.config.markers.hover.sizeOffset),h<0&&(h=0),p.setAttribute("r",h)}}},{key:"oldPointSize",value:function(a){var l=parseFloat(a.getAttribute("default-marker-size"));a.setAttribute("r",l)}},{key:"resetPointsSize",value:function(){for(var a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=0;l<a.length;l++){var u=parseFloat(a[l].getAttribute("default-marker-size"));fe.isNumber(u)&&u>=0?a[l].setAttribute("r",u):a[l].setAttribute("r",0)}}}]),L}(),Oi=function(){function L(a){Ue(this,L),this.w=a.w;var l=this.w;this.ttCtx=a,this.isVerticalGroupedRangeBar=!l.globals.isBarHorizontal&&"rangeBar"===l.config.chart.type&&l.config.plotOptions.bar.rangeBarGroupRows}return ht(L,[{key:"getAttr",value:function(a,l){return parseFloat(a.target.getAttribute(l))}},{key:"handleHeatTreeTooltip",value:function(a){var l=a.e,u=a.opt,h=a.x,p=a.y,m=this.ttCtx,v=this.w;if(l.target.classList.contains("apexcharts-".concat(a.type,"-rect"))){var w=this.getAttr(l,"i"),E=this.getAttr(l,"j"),D=this.getAttr(l,"cx"),A=this.getAttr(l,"cy"),R=this.getAttr(l,"width"),O=this.getAttr(l,"height");if(m.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i:w,j:E,shared:!1,e:l}),v.globals.capturedSeriesIndex=w,v.globals.capturedDataPointIndex=E,h=D+m.tooltipRect.ttWidth/2+R,p=A+m.tooltipRect.ttHeight/2-O/2,m.tooltipPosition.moveXCrosshairs(D+R/2),h>v.globals.gridWidth/2&&(h=D-m.tooltipRect.ttWidth/2+R),m.w.config.tooltip.followCursor){var F=v.globals.dom.elWrap.getBoundingClientRect();h=v.globals.clientX-F.left-(h>v.globals.gridWidth/2?m.tooltipRect.ttWidth:0),p=v.globals.clientY-F.top-(p>v.globals.gridHeight/2?m.tooltipRect.ttHeight:0)}}return{x:h,y:p}}},{key:"handleMarkerTooltip",value:function(a){var l,u,h=a.e,p=a.opt,g=a.x,m=a.y,v=this.w,w=this.ttCtx;if(h.target.classList.contains("apexcharts-marker")){var E=parseInt(p.paths.getAttribute("cx"),10),D=parseInt(p.paths.getAttribute("cy"),10),A=parseFloat(p.paths.getAttribute("val"));if(u=parseInt(p.paths.getAttribute("rel"),10),l=parseInt(p.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,w.intersect){var R=fe.findAncestor(p.paths,"apexcharts-series");R&&(l=parseInt(R.getAttribute("data:realIndex"),10))}if(w.tooltipLabels.drawSeriesTexts({ttItems:p.ttItems,i:l,j:u,shared:!w.showOnIntersect&&v.config.tooltip.shared,e:h}),"mouseup"===h.type&&w.markerClick(h,l,u),v.globals.capturedSeriesIndex=l,v.globals.capturedDataPointIndex=u,g=E,m=D+v.globals.translateY-1.4*w.tooltipRect.ttHeight,w.w.config.tooltip.followCursor){var O=w.getElGrid().getBoundingClientRect();m=w.e.clientY+v.globals.translateY-O.top}A<0&&(m=D),w.marker.enlargeCurrentPoint(u,p.paths,g,m)}return{x:g,y:m}}},{key:"handleBarTooltip",value:function(a){var l,u,h=a.e,p=a.opt,g=this.w,m=this.ttCtx,v=m.getElTooltip(),w=0,E=0,D=0,A=this.getBarTooltipXY({e:h,opt:p}),R=A.barHeight,O=A.j;g.globals.capturedSeriesIndex=l=A.i,g.globals.capturedDataPointIndex=O,g.globals.isBarHorizontal&&m.tooltipUtil.hasBars()||!g.config.tooltip.shared?(E=A.x,D=A.y,u=Array.isArray(g.config.stroke.width)?g.config.stroke.width[l]:g.config.stroke.width,w=E):g.globals.comboCharts||g.config.tooltip.shared||(w/=2),isNaN(D)&&(D=g.globals.svgHeight-m.tooltipRect.ttHeight);var F=parseInt(p.paths.parentNode.getAttribute("data:realIndex"),10),z=g.globals.isMultipleYAxis?g.config.yaxis[F]&&g.config.yaxis[F].reversed:g.config.yaxis[0].reversed;if(E+m.tooltipRect.ttWidth>g.globals.gridWidth&&!z?E-=m.tooltipRect.ttWidth:E<0&&(E=0),m.w.config.tooltip.followCursor){var G=m.getElGrid().getBoundingClientRect();D=m.e.clientY-G.top}null===m.tooltip&&(m.tooltip=g.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),g.config.tooltip.shared||m.tooltipPosition.moveXCrosshairs(g.globals.comboBarCount>0?w+u/2:w),!m.fixedTooltip&&(!g.config.tooltip.shared||g.globals.isBarHorizontal&&m.tooltipUtil.hasBars())&&(z&&(E-=m.tooltipRect.ttWidth)<0&&(E=0),!z||g.globals.isBarHorizontal&&m.tooltipUtil.hasBars()||(D=D+R-2*(g.globals.series[l][O]<0?R:0)),D=D+g.globals.translateY-m.tooltipRect.ttHeight/2,v.style.left=E+g.globals.translateX+"px",v.style.top=D+"px")}},{key:"getBarTooltipXY",value:function(a){var l=this,u=a.e,h=a.opt,p=this.w,g=null,m=this.ttCtx,v=0,w=0,E=0,D=0,A=0,R=u.target.classList;if(R.contains("apexcharts-bar-area")||R.contains("apexcharts-candlestick-area")||R.contains("apexcharts-boxPlot-area")||R.contains("apexcharts-rangebar-area")){var O=u.target,F=O.getBoundingClientRect(),z=h.elGrid.getBoundingClientRect(),G=F.height;A=F.height;var Z=F.width,b=parseInt(O.getAttribute("cx"),10),I=parseInt(O.getAttribute("cy"),10);D=parseFloat(O.getAttribute("barWidth"));var P="touchmove"===u.type?u.touches[0].clientX:u.clientX;g=parseInt(O.getAttribute("j"),10),v=parseInt(O.parentNode.getAttribute("rel"),10)-1;var j=O.getAttribute("data-range-y1"),K=O.getAttribute("data-range-y2");p.globals.comboCharts&&(v=parseInt(O.parentNode.getAttribute("data:realIndex"),10));var Y=function(me){return p.globals.isXNumeric?b-Z/2:l.isVerticalGroupedRangeBar?b+Z/2:b-m.dataPointsDividedWidth+Z/2},_e=function(){return I-m.dataPointsDividedHeight+G/2-m.tooltipRect.ttHeight/2};m.tooltipLabels.drawSeriesTexts({ttItems:h.ttItems,i:v,j:g,y1:j?parseInt(j,10):null,y2:K?parseInt(K,10):null,shared:!m.showOnIntersect&&p.config.tooltip.shared,e:u}),p.config.tooltip.followCursor?p.globals.isBarHorizontal?(w=P-z.left+15,E=_e()):(w=Y(),E=u.clientY-z.top-m.tooltipRect.ttHeight/2-15):p.globals.isBarHorizontal?((w=b)<m.xyRatios.baseLineInvertedY&&(w=b-m.tooltipRect.ttWidth),E=_e()):(w=Y(),E=I)}return{x:w,y:E,barHeight:A,barWidth:D,i:v,j:g}}}]),L}(),ho=function(){function L(a){Ue(this,L),this.w=a.w,this.ttCtx=a}return ht(L,[{key:"drawXaxisTooltip",value:function(){var a=this.w,l=this.ttCtx,u="bottom"===a.config.xaxis.position;l.xaxisOffY=u?a.globals.gridHeight+1:-a.globals.xAxisHeight-a.config.xaxis.axisTicks.height+3;var h=u?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",p=a.globals.dom.elWrap;l.isXAxisTooltipEnabled&&null===a.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(l.xaxisTooltip=document.createElement("div"),l.xaxisTooltip.setAttribute("class",h+" apexcharts-theme-"+a.config.tooltip.theme),p.appendChild(l.xaxisTooltip),l.xaxisTooltipText=document.createElement("div"),l.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),l.xaxisTooltipText.style.fontFamily=a.config.xaxis.tooltip.style.fontFamily||a.config.chart.fontFamily,l.xaxisTooltipText.style.fontSize=a.config.xaxis.tooltip.style.fontSize,l.xaxisTooltip.appendChild(l.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var a=this.w,l=this.ttCtx,u=function(p){var g=a.config.yaxis[p].opposite||a.config.yaxis[p].crosshairs.opposite;l.yaxisOffX=g?a.globals.gridWidth+1:1;var m="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p,g?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");a.globals.yAxisSameScaleIndices.map(function(w,E){w.map(function(D,A){A===p&&(m+=a.config.yaxis[A].show?" ":" apexcharts-yaxistooltip-hidden")})});var v=a.globals.dom.elWrap;null===a.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p))&&(l.yaxisTooltip=document.createElement("div"),l.yaxisTooltip.setAttribute("class",m+" apexcharts-theme-"+a.config.tooltip.theme),v.appendChild(l.yaxisTooltip),0===p&&(l.yaxisTooltipText=[]),l.yaxisTooltipText[p]=document.createElement("div"),l.yaxisTooltipText[p].classList.add("apexcharts-yaxistooltip-text"),l.yaxisTooltip.appendChild(l.yaxisTooltipText[p]))},h=0;h<a.config.yaxis.length;h++)u(h)}},{key:"setXCrosshairWidth",value:function(){var a=this.w,l=this.ttCtx,u=l.getElXCrosshairs();if(l.xcrosshairsWidth=parseInt(a.config.xaxis.crosshairs.width,10),a.globals.comboCharts){var h=a.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==h&&"barWidth"===a.config.xaxis.crosshairs.width){var p=parseFloat(h.getAttribute("barWidth"));l.xcrosshairsWidth=p}else"tickWidth"===a.config.xaxis.crosshairs.width&&(l.xcrosshairsWidth=a.globals.gridWidth/a.globals.labels.length)}else if("tickWidth"===a.config.xaxis.crosshairs.width)l.xcrosshairsWidth=a.globals.gridWidth/a.globals.labels.length;else if("barWidth"===a.config.xaxis.crosshairs.width){var v=a.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==v){var w=parseFloat(v.getAttribute("barWidth"));l.xcrosshairsWidth=w}else l.xcrosshairsWidth=1}a.globals.isBarHorizontal&&(l.xcrosshairsWidth=0),null!==u&&l.xcrosshairsWidth>0&&u.setAttribute("width",l.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var a=this.w,l=this.ttCtx;l.ycrosshairs=a.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),l.ycrosshairsHidden=a.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(a,l,u){var h=this.ttCtx,p=this.w,g=p.globals.yLabelFormatters[a];if(h.yaxisTooltips[a]){var m=h.getElGrid().getBoundingClientRect(),E=p.globals.minYArr[a]+(p.globals.maxYArr[a]-p.globals.minYArr[a]-(l-m.top)*u.yRatio[a]);h.tooltipPosition.moveYCrosshairs(l-m.top),h.yaxisTooltipText[a].innerHTML=g(E),h.tooltipPosition.moveYAxisTooltip(a)}}}]),L}(),xs=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w;var l=this.w;this.tConfig=l.config.tooltip,this.tooltipUtil=new qn(this),this.tooltipLabels=new ti(this),this.tooltipPosition=new Oa(this),this.marker=new Si(this),this.intersect=new Oi(this),this.axesTooltip=new ho(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!l.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return ht(L,[{key:"getElTooltip",value:function(a){return a||(a=this),a.w.globals.dom.baseEl?a.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(a){var l=this.w;this.xyRatios=a,this.isXAxisTooltipEnabled=l.config.xaxis.tooltip.enabled&&l.globals.axisCharts,this.yaxisTooltips=l.config.yaxis.map(function(g,m){return!!(g.show&&g.tooltip.enabled&&l.globals.axisCharts)}),this.allTooltipSeriesGroups=[],l.globals.axisCharts||(this.showTooltipTitle=!1);var u=document.createElement("div");if(u.classList.add("apexcharts-tooltip"),l.config.tooltip.cssClass&&u.classList.add(l.config.tooltip.cssClass),u.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),l.globals.dom.elWrap.appendChild(u),l.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var h=new xn(this.ctx);this.xAxisTicksPositions=h.getXAxisTicksPositions()}if(!l.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==l.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==l.config.markers.size&&0!==l.globals.markers.largestSize||this.marker.drawDynamicPoints(this),l.globals.collapsedSeries.length!==l.globals.series.length){this.dataPointsDividedHeight=l.globals.gridHeight/l.globals.dataPoints,this.dataPointsDividedWidth=l.globals.gridWidth/l.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||l.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,u.appendChild(this.tooltipTitle));var p=l.globals.series.length;(l.globals.xyCharts||l.globals.comboCharts)&&this.tConfig.shared&&(p=this.showOnIntersect?1:l.globals.series.length),this.legendLabels=l.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(p),this.addSVGEvents()}}},{key:"createTTElements",value:function(a){for(var l=this,u=this.w,h=[],p=this.getElTooltip(),g=function(v){var w=document.createElement("div");w.classList.add("apexcharts-tooltip-series-group"),w.style.order=u.config.tooltip.inverseOrder?a-v:v+1,l.tConfig.shared&&l.tConfig.enabledOnSeries&&Array.isArray(l.tConfig.enabledOnSeries)&&l.tConfig.enabledOnSeries.indexOf(v)<0&&w.classList.add("apexcharts-tooltip-series-group-hidden");var E=document.createElement("span");E.classList.add("apexcharts-tooltip-marker"),E.style.backgroundColor=u.globals.colors[v],w.appendChild(E);var D=document.createElement("div");D.classList.add("apexcharts-tooltip-text"),D.style.fontFamily=l.tConfig.style.fontFamily||u.config.chart.fontFamily,D.style.fontSize=l.tConfig.style.fontSize,["y","goals","z"].forEach(function(A){var R=document.createElement("div");R.classList.add("apexcharts-tooltip-".concat(A,"-group"));var O=document.createElement("span");O.classList.add("apexcharts-tooltip-text-".concat(A,"-label")),R.appendChild(O);var F=document.createElement("span");F.classList.add("apexcharts-tooltip-text-".concat(A,"-value")),R.appendChild(F),D.appendChild(R)}),w.appendChild(D),p.appendChild(w),h.push(w)},m=0;m<a;m++)g(m);return h}},{key:"addSVGEvents",value:function(){var a=this.w,l=a.config.chart.type,u=this.getElTooltip(),h=!("bar"!==l&&"candlestick"!==l&&"boxPlot"!==l&&"rangeBar"!==l),p="area"===l||"line"===l||"scatter"===l||"bubble"===l||"radar"===l,g=a.globals.dom.Paper.node,m=this.getElGrid();m&&(this.seriesBound=m.getBoundingClientRect());var v,w=[],E=[],D={hoverArea:g,elGrid:m,tooltipEl:u,tooltipY:w,tooltipX:E,ttItems:this.ttItems};if(a.globals.axisCharts&&(p?v=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):h?v=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==l&&"treemap"!==l||(v=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),v&&v.length))for(var A=0;A<v.length;A++)w.push(v[A].getAttribute("cy")),E.push(v[A].getAttribute("cx"));if(a.globals.xyCharts&&!this.showOnIntersect||a.globals.comboCharts&&!this.showOnIntersect||h&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([g],D);else if(h&&!a.globals.comboCharts||p&&this.showOnIntersect)this.addDatapointEventsListeners(D);else if(!a.globals.axisCharts||"heatmap"===l||"treemap"===l){var R=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(R,D)}if(this.showOnIntersect){var O=a.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");O.length>0&&this.addPathsEventListeners(O,D),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(D)}}},{key:"drawFixedTooltipRect",value:function(){var a=this.w,l=this.getElTooltip(),u=l.getBoundingClientRect(),h=u.width+10,p=u.height+10,g=this.tConfig.fixed.offsetX,m=this.tConfig.fixed.offsetY,v=this.tConfig.fixed.position.toLowerCase();return v.indexOf("right")>-1&&(g=g+a.globals.svgWidth-h+10),v.indexOf("bottom")>-1&&(m=m+a.globals.svgHeight-p-10),l.style.left=g+"px",l.style.top=m+"px",{x:g,y:m,ttWidth:h,ttHeight:p}}},{key:"addDatapointEventsListeners",value:function(a){var l=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(l,a)}},{key:"addPathsEventListeners",value:function(a,l){for(var u=this,h=function(g){var m={paths:a[g],tooltipEl:l.tooltipEl,tooltipY:l.tooltipY,tooltipX:l.tooltipX,elGrid:l.elGrid,hoverArea:l.hoverArea,ttItems:l.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(v){return a[g].addEventListener(v,u.onSeriesHover.bind(u,m),{capture:!1,passive:!0})})},p=0;p<a.length;p++)h(p)}},{key:"onSeriesHover",value:function(a,l){var u=this,h=Date.now()-this.lastHoverTime;h>=100?this.seriesHover(a,l):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){u.seriesHover(a,l)},100-h))}},{key:"seriesHover",value:function(a,l){var u=this;this.lastHoverTime=Date.now();var h=[],p=this.w;p.config.chart.group&&(h=this.ctx.getGroupedCharts()),p.globals.axisCharts&&(p.globals.minX===-1/0&&p.globals.maxX===1/0||0===p.globals.dataPoints)||(h.length?h.forEach(function(g){var m=u.getElTooltip(g);g.w.globals.minX===u.w.globals.minX&&g.w.globals.maxX===u.w.globals.maxX&&g.w.globals.tooltip.seriesHoverByContext({chartCtx:g,ttCtx:g.w.globals.tooltip,opt:{paths:a.paths,tooltipEl:m,tooltipY:a.tooltipY,tooltipX:a.tooltipX,elGrid:a.elGrid,hoverArea:a.hoverArea,ttItems:g.w.globals.tooltip.ttItems},e:l})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:a,e:l}))}},{key:"seriesHoverByContext",value:function(a){var l=a.chartCtx,u=a.ttCtx,h=a.opt,p=a.e,g=l.w,m=this.getElTooltip();m&&(u.tooltipRect={x:0,y:0,ttWidth:m.getBoundingClientRect().width,ttHeight:m.getBoundingClientRect().height},u.e=p,u.tooltipUtil.hasBars()&&!g.globals.comboCharts&&!u.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new at(l).toggleSeriesOnHover(p,p.target.parentNode),u.fixedTooltip&&u.drawFixedTooltipRect(),g.globals.axisCharts?u.axisChartsTooltips({e:p,opt:h,tooltipRect:u.tooltipRect}):u.nonAxisChartsTooltips({e:p,opt:h,tooltipRect:u.tooltipRect}))}},{key:"axisChartsTooltips",value:function(a){var l,u,h=a.e,p=a.opt,g=this.w,m=p.elGrid.getBoundingClientRect(),v="touchmove"===h.type?h.touches[0].clientX:h.clientX,w="touchmove"===h.type?h.touches[0].clientY:h.clientY;if(this.clientY=w,this.clientX=v,g.globals.capturedSeriesIndex=-1,g.globals.capturedDataPointIndex=-1,w<m.top||w>m.top+m.height)this.handleMouseOut(p);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!g.config.tooltip.shared){var E=parseInt(p.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(E)<0)return void this.handleMouseOut(p)}var D=this.getElTooltip(),A=this.getElXCrosshairs(),R=g.globals.xyCharts||"bar"===g.config.chart.type&&!g.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||g.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===h.type||"touchmove"===h.type||"mouseup"===h.type){if(g.globals.collapsedSeries.length+g.globals.ancillaryCollapsedSeries.length===g.globals.series.length)return;null!==A&&A.classList.add("apexcharts-active");var O=this.yaxisTooltips.filter(function(G){return!0===G});if(null!==this.ycrosshairs&&O.length&&this.ycrosshairs.classList.add("apexcharts-active"),R&&!this.showOnIntersect)this.handleStickyTooltip(h,v,w,p);else if("heatmap"===g.config.chart.type||"treemap"===g.config.chart.type){var F=this.intersect.handleHeatTreeTooltip({e:h,opt:p,x:l,y:u,type:g.config.chart.type});u=F.y,D.style.left=(l=F.x)+"px",D.style.top=u+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:h,opt:p}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:h,opt:p,x:l,y:u});if(this.yaxisTooltips.length)for(var z=0;z<g.config.yaxis.length;z++)this.axesTooltip.drawYaxisTooltipText(z,w,this.xyRatios);p.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==h.type&&"touchend"!==h.type||this.handleMouseOut(p)}}},{key:"nonAxisChartsTooltips",value:function(a){var l=a.e,u=a.opt,h=a.tooltipRect,p=this.w,g=u.paths.getAttribute("rel"),m=this.getElTooltip(),v=p.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===l.type||"touchmove"===l.type){m.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i:parseInt(g,10)-1,shared:!1});var E=p.globals.clientY-v.top-h.ttHeight-10;if(m.style.left=p.globals.clientX-v.left-h.ttWidth/2+"px",m.style.top=E+"px",p.config.legend.tooltipHoverFormatter){var D=g-1,A=(0,p.config.legend.tooltipHoverFormatter)(this.legendLabels[D].getAttribute("data:default-text"),{seriesIndex:D,dataPointIndex:D,w:p});this.legendLabels[D].innerHTML=A}}else"mouseout"!==l.type&&"touchend"!==l.type||(m.classList.remove("apexcharts-active"),p.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(R){var O=R.getAttribute("data:default-text");R.innerHTML=decodeURIComponent(O)}))}},{key:"handleStickyTooltip",value:function(a,l,u,h){var p=this.w,g=this.tooltipUtil.getNearestValues({context:this,hoverArea:h.hoverArea,elGrid:h.elGrid,clientX:l,clientY:u}),m=g.j,v=g.capturedSeries;p.globals.collapsedSeriesIndices.includes(v)&&(v=null);var w=h.elGrid.getBoundingClientRect();if(g.hoverX<0||g.hoverX>w.width)this.handleMouseOut(h);else if(null!==v)this.handleStickyCapturedSeries(a,v,h,m);else if(this.tooltipUtil.isXoverlap(m)||p.globals.isBarHorizontal){var E=p.globals.series.findIndex(function(D,A){return!p.globals.collapsedSeriesIndices.includes(A)});this.create(a,this,E,m,h.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(a,l,u,h){var p=this.w;if(this.tConfig.shared||null!==p.globals.series[l][h]){if(void 0!==p.globals.series[l][h])this.tConfig.shared&&this.tooltipUtil.isXoverlap(h)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(a,this,l,h,u.ttItems):this.create(a,this,l,h,u.ttItems,!1);else if(this.tooltipUtil.isXoverlap(h)){var g=p.globals.series.findIndex(function(m,v){return!p.globals.collapsedSeriesIndices.includes(v)});this.create(a,this,g,h,u.ttItems)}}else this.handleMouseOut(u)}},{key:"deactivateHoverFilter",value:function(){for(var a=this.w,l=new Me(this.ctx),u=a.globals.dom.Paper.select(".apexcharts-bar-area"),h=0;h<u.length;h++)l.pathMouseLeave(u[h])}},{key:"handleMouseOut",value:function(a){var l=this.w,u=this.getElXCrosshairs();if(a.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==l.config.chart.type&&this.marker.resetPointsSize(),null!==u&&u.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var h=0;h<this.yaxisTTEls.length;h++)this.yaxisTTEls[h].classList.remove("apexcharts-active")}l.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(p){var g=p.getAttribute("data:default-text");p.innerHTML=decodeURIComponent(g)})}},{key:"markerClick",value:function(a,l,u){var h=this.w;"function"==typeof h.config.chart.events.markerClick&&h.config.chart.events.markerClick(a,this.ctx,{seriesIndex:l,dataPointIndex:u,w:h}),this.ctx.events.fireEvent("markerClick",[a,this.ctx,{seriesIndex:l,dataPointIndex:u,w:h}])}},{key:"create",value:function(a,l,u,h,p){var g,m,v,w,E,D,A,R,O,F,z,G,Z,b,I,P,j=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,K=this.w,Y=l;"mouseup"===a.type&&this.markerClick(a,u,h),null===j&&(j=this.tConfig.shared);var _e=this.tooltipUtil.hasMarkers(u),me=this.tooltipUtil.getElBars();if(K.config.legend.tooltipHoverFormatter){var Re=K.config.legend.tooltipHoverFormatter,le=Array.from(this.legendLabels);le.forEach(function(ws){var nl=ws.getAttribute("data:default-text");ws.innerHTML=decodeURIComponent(nl)});for(var Ye=0;Ye<le.length;Ye++){var Se=le[Ye],bt=parseInt(Se.getAttribute("i"),10),tn=decodeURIComponent(Se.getAttribute("data:default-text")),kn=Re(tn,{seriesIndex:j?bt:u,dataPointIndex:h,w:K});if(j)Se.innerHTML=K.globals.collapsedSeriesIndices.indexOf(bt)<0?kn:tn;else if(Se.innerHTML=bt===u?kn:tn,u===bt)break}}var Xn=ae(ae({ttItems:p,i:u,j:h},void 0!==(null===(g=K.globals.seriesRange)||void 0===g||null===(m=g[u])||void 0===m||null===(v=m[h])||void 0===v||null===(w=v.y[0])||void 0===w?void 0:w.y1)&&{y1:null===(E=K.globals.seriesRange)||void 0===E||null===(D=E[u])||void 0===D||null===(A=D[h])||void 0===A||null===(R=A.y[0])||void 0===R?void 0:R.y1}),void 0!==(null===(O=K.globals.seriesRange)||void 0===O||null===(F=O[u])||void 0===F||null===(z=F[h])||void 0===z||null===(G=z.y[0])||void 0===G?void 0:G.y2)&&{y2:null===(Z=K.globals.seriesRange)||void 0===Z||null===(b=Z[u])||void 0===b||null===(I=b[h])||void 0===I||null===(P=I.y[0])||void 0===P?void 0:P.y2});if(j){if(Y.tooltipLabels.drawSeriesTexts(ae(ae({},Xn),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),_e)K.globals.markers.largestSize>0?Y.marker.enlargePoints(h):Y.tooltipPosition.moveDynamicPointsOnHover(h);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(me),this.barSeriesHeight>0)){var xi=new Me(this.ctx),ri=K.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(h,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(h,u);for(var Hi=0;Hi<ri.length;Hi++)xi.pathMouseEnter(ri[Hi])}}else Y.tooltipLabels.drawSeriesTexts(ae({shared:!1},Xn)),this.tooltipUtil.hasBars()&&Y.tooltipPosition.moveStickyTooltipOverBars(h,u),_e&&Y.tooltipPosition.moveMarkers(u,h)}}]),L}(),fo=function(){function L(a){Ue(this,L),this.w=a.w,this.barCtx=a,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return ht(L,[{key:"handleBarDataLabels",value:function(a){var l=a.x,u=a.y,h=a.y1,p=a.y2,g=a.i,m=a.j,v=a.realIndex,w=a.groupIndex,E=a.series,D=a.barHeight,A=a.barWidth,R=a.barXPosition,O=a.barYPosition,F=a.visibleSeries,z=a.renderedPath,G=this.w,Z=new Me(this.barCtx.ctx),b=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[v]:this.barCtx.strokeWidth,I=l+parseFloat(A*F),P=u+parseFloat(D*F);G.globals.isXNumeric&&!G.globals.isBarHorizontal&&(I=l+parseFloat(A*(F+1)),P=u+parseFloat(D*(F+1))-b);var j,me,K=null,Y=l,_e=u,Re=G.config.dataLabels,le=this.barCtx.barOptions.dataLabels,Ye=this.barCtx.barOptions.dataLabels.total;void 0!==O&&this.barCtx.isRangeBar&&(P=O,_e=O),void 0!==R&&this.barCtx.isVerticalGroupedRangeBar&&(I=R,Y=R);var Se=Re.offsetX,bt=Re.offsetY,tn={width:0,height:0};G.config.dataLabels.enabled&&(tn=Z.getTextRects(G.globals.yLabelFormatters[0](this.barCtx.series[g][m]),parseFloat(Re.style.fontSize)));var Xn={x:l,y:u,i:g,j:m,realIndex:v,groupIndex:w||-1,renderedPath:z,bcx:I,bcy:P,barHeight:D,barWidth:A,textRects:tn,strokeWidth:b,dataLabelsX:Y,dataLabelsY:_e,dataLabelsConfig:Re,barDataLabelsConfig:le,barTotalDataLabelsConfig:Ye,offX:Se,offY:bt};return me=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Xn):this.calculateColumnsDataLabelsPosition(Xn),z.attr({cy:me.bcy,cx:me.bcx,j:m,val:E[g][m],barHeight:D,barWidth:A}),j=this.drawCalculatedDataLabels({x:me.dataLabelsX,y:me.dataLabelsY,val:this.barCtx.isRangeBar?[h,p]:E[g][m],i:v,j:m,barWidth:A,barHeight:D,textRects:tn,dataLabelsConfig:Re}),G.config.chart.stacked&&Ye.enabled&&(K=this.drawTotalDataLabels({x:me.totalDataLabelsX,y:me.totalDataLabelsY,realIndex:v,textAnchor:me.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:v,j:m}),dataLabelsConfig:Re,barTotalDataLabelsConfig:Ye})),{dataLabels:j,totalDataLabels:K}}},{key:"getStackedTotalDataLabel",value:function(a){var l=a.realIndex,u=a.j,h=this.w,p=this.barCtx.stackedSeriesTotals[u];return this.totalFormatter&&(p=this.totalFormatter(p,ae(ae({},h),{},{seriesIndex:l,dataPointIndex:u,w:h}))),p}},{key:"calculateColumnsDataLabelsPosition",value:function(a){var l,u,h=this.w,p=a.i,g=a.j,m=a.realIndex,v=a.groupIndex,w=a.y,E=a.bcx,D=a.barWidth,A=a.barHeight,R=a.textRects,O=a.dataLabelsX,F=a.dataLabelsY,z=a.dataLabelsConfig,G=a.barDataLabelsConfig,Z=a.barTotalDataLabelsConfig,b=a.strokeWidth,I=a.offX,P=a.offY;A=Math.abs(A);var j="vertical"===h.config.plotOptions.bar.dataLabels.orientation,K=this.barCtx.barHelpers.getZeroValueEncounters({i:p,j:g}).zeroEncounters;E=E-b/2+(-1!==v?v*D:0),this.barCtx.isVerticalGroupedRangeBar?O+=D/2:(O=h.globals.isXNumeric?E-D/2+I:E-h.globals.gridWidth/h.globals.dataPoints+D/2+I,K>0&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(O-=D*K)),j&&(O=O+R.height/2-b/2-2);var _e=this.barCtx.series[p][g]<0,me=w;switch(this.barCtx.isReversed&&(me=w-A+(_e?2*A:0),w-=A),G.position){case"center":F=j?_e?me-A/2+P:me+A/2-P:_e?me-A/2+R.height/2+P:me+A/2+R.height/2-P;break;case"bottom":F=j?_e?me-A+P:me+A-P:_e?me-A+R.height+b+P:me+A-R.height/2+b-P;break;case"top":F=j?_e?me+P:me-P:_e?me-R.height/2-P:me+R.height+P}if(this.barCtx.lastActiveBarSerieIndex===m&&Z.enabled){var Re=new Me(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:m,j:g}),z.fontSize);l=_e?me-Re.height/2-P-Z.offsetY+18:me+Re.height+P+Z.offsetY-18,u=O+Z.offsetX}return h.config.chart.stacked||(F<0?F=0+b:F+R.height/3>h.globals.gridHeight&&(F=h.globals.gridHeight-b)),{bcx:E,bcy:w,dataLabelsX:O,dataLabelsY:F,totalDataLabelsX:u,totalDataLabelsY:l,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(a){var l=this.w,u=a.x,h=a.i,p=a.j,g=a.realIndex,m=a.groupIndex,v=a.bcy,w=a.barHeight,E=a.barWidth,D=a.textRects,A=a.dataLabelsX,R=a.strokeWidth,O=a.dataLabelsConfig,F=a.barDataLabelsConfig,z=a.barTotalDataLabelsConfig,G=a.offX,Z=a.offY,b=l.globals.gridHeight/l.globals.dataPoints;E=Math.abs(E);var I,P,j=(v+=-1!==m?m*w:0)-(this.barCtx.isRangeBar?0:b)+w/2+D.height/2+Z-3,K="start",Y=this.barCtx.series[h][p]<0,_e=u;switch(this.barCtx.isReversed&&(_e=u+E-(Y?2*E:0),u=l.globals.gridWidth-E),F.position){case"center":A=Y?_e+E/2-G:Math.max(D.width/2,_e-E/2)+G;break;case"bottom":A=Y?_e+E-R-Math.round(D.width/2)-G:_e-E+R+Math.round(D.width/2)+G;break;case"top":A=Y?_e-R+Math.round(D.width/2)-G:_e-R-Math.round(D.width/2)+G}if(this.barCtx.lastActiveBarSerieIndex===g&&z.enabled){var me=new Me(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:g,j:p}),O.fontSize);Y?(I=_e-R+Math.round(me.width/2)-G-z.offsetX-15,K="end"):I=_e-R-Math.round(me.width/2)+G+z.offsetX+15,P=j+z.offsetY}return l.config.chart.stacked||(A<0?A=A+D.width+R:A+D.width/2>l.globals.gridWidth&&(A=l.globals.gridWidth-D.width-R)),{bcx:u,bcy:v,dataLabelsX:A,dataLabelsY:j,totalDataLabelsX:I,totalDataLabelsY:P,totalDataLabelsAnchor:K}}},{key:"drawCalculatedDataLabels",value:function(a){var l=a.x,u=a.y,h=a.val,p=a.i,g=a.j,m=a.textRects,v=a.barHeight,w=a.barWidth,E=a.dataLabelsConfig,D=this.w,A="rotate(0)";"vertical"===D.config.plotOptions.bar.dataLabels.orientation&&(A="rotate(-90, ".concat(l,", ").concat(u,")"));var R=new We(this.barCtx.ctx),O=new Me(this.barCtx.ctx),F=E.formatter,z=null,G=D.globals.collapsedSeriesIndices.indexOf(p)>-1;if(E.enabled&&!G){z=O.group({class:"apexcharts-data-labels",transform:A});var Z="";void 0!==h&&(Z=F(h,ae(ae({},D),{},{seriesIndex:p,dataPointIndex:g,w:D}))),!h&&D.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Z="");var b=D.globals.series[p][g]<0,I=D.config.plotOptions.bar.dataLabels.position;"vertical"===D.config.plotOptions.bar.dataLabels.orientation&&("top"===I&&(E.textAnchor=b?"end":"start"),"center"===I&&(E.textAnchor="middle"),"bottom"===I&&(E.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&w<O.getTextRects(Z,parseFloat(E.style.fontSize)).width&&(Z=""),D.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?m.width/1.6>Math.abs(w)&&(Z=""):m.height/1.6>Math.abs(v)&&(Z=""));var P=ae({},E);this.barCtx.isHorizontal&&h<0&&("start"===E.textAnchor?P.textAnchor="end":"end"===E.textAnchor&&(P.textAnchor="start")),R.plotDataLabelsText({x:l,y:u,text:Z,i:p,j:g,parent:z,dataLabelsConfig:P,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return z}},{key:"drawTotalDataLabels",value:function(a){var l,u=a.x,h=a.y,p=a.val,g=a.realIndex,m=a.textAnchor,v=a.barTotalDataLabelsConfig,w=new Me(this.barCtx.ctx);return v.enabled&&void 0!==u&&void 0!==h&&this.barCtx.lastActiveBarSerieIndex===g&&(l=w.drawText({x:u,y:h,foreColor:v.style.color,text:p,textAnchor:m,fontFamily:v.style.fontFamily,fontSize:v.style.fontSize,fontWeight:v.style.fontWeight})),l}}]),L}(),Dr=function(){function L(a){Ue(this,L),this.w=a.w,this.barCtx=a}return ht(L,[{key:"initVariables",value:function(a){var l=this.w;this.barCtx.series=a,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var u=0;u<a.length;u++)if(a[u].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=a[u].length),l.globals.isXNumeric)for(var h=0;h<a[u].length;h++)l.globals.seriesX[u][h]>l.globals.minX&&l.globals.seriesX[u][h]<l.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=l.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],l.globals.comboCharts||this.checkZeroSeries({series:a})}},{key:"initialPositions",value:function(){var a,l,u,h,p,g,m,v,w=this.w,E=w.globals.dataPoints;this.barCtx.isRangeBar&&(E=w.globals.labels.length);var D=this.barCtx.seriesLen;if(w.config.plotOptions.bar.rangeBarGroupRows&&(D=1),this.barCtx.isHorizontal)p=(u=w.globals.gridHeight/E)/D,w.globals.isXNumeric&&(p=(u=w.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),p=p*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(p=parseInt(this.barCtx.barOptions.barHeight,10)),v=this.barCtx.baseLineInvertedY+w.globals.padHorizontal+(this.barCtx.isReversed?w.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(v=w.globals.gridWidth/2),l=(u-p*this.barCtx.seriesLen)/2;else{if(h=w.globals.gridWidth/this.barCtx.visibleItems,w.config.xaxis.convertedCatToNumeric&&(h=w.globals.gridWidth/w.globals.dataPoints),g=h/D*parseInt(this.barCtx.barOptions.columnWidth,10)/100,w.globals.isXNumeric){var A=this.barCtx.xRatio;w.config.xaxis.convertedCatToNumeric&&(A=this.barCtx.initialXRatio),w.globals.minXDiff&&.5!==w.globals.minXDiff&&w.globals.minXDiff/A>0&&(h=w.globals.minXDiff/A),(g=h/D*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(g=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(g=parseInt(this.barCtx.barOptions.columnWidth,10)),m=w.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?w.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),a=w.globals.padHorizontal+(h-g*this.barCtx.seriesLen)/2}return{x:a,y:l,yDivision:u,xDivision:h,barHeight:p,barWidth:g,zeroH:m,zeroW:v}}},{key:"initializeStackedPrevVars",value:function(a){var l=a.w;l.globals.hasSeriesGroups?l.globals.seriesGroups.forEach(function(u){a[u]||(a[u]={}),a[u].prevY=[],a[u].prevX=[],a[u].prevYF=[],a[u].prevXF=[],a[u].prevYVal=[],a[u].prevXVal=[]}):(a.prevY=[],a.prevX=[],a.prevYF=[],a.prevXF=[],a.prevYVal=[],a.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(a){var l=a.w;l.globals.hasSeriesGroups?l.globals.seriesGroups.forEach(function(u){a[u]||(a[u]={}),a[u].xArrj=[],a[u].xArrjF=[],a[u].xArrjVal=[],a[u].yArrj=[],a[u].yArrjF=[],a[u].yArrjVal=[]}):(a.xArrj=[],a.xArrjF=[],a.xArrjVal=[],a.yArrj=[],a.yArrjF=[],a.yArrjVal=[])}},{key:"getPathFillColor",value:function(a,l,u,h){var p,g,m,v,w=this.w,E=new he(this.barCtx.ctx),D=null,A=this.barCtx.barOptions.distributed?u:l;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(R){a[l][u]>=R.from&&a[l][u]<=R.to&&(D=R.color)}),w.config.series[l].data[u]&&w.config.series[l].data[u].fillColor&&(D=w.config.series[l].data[u].fillColor),E.fillPath({seriesNumber:this.barCtx.barOptions.distributed?A:h,dataPointIndex:u,color:D,value:a[l][u],fillConfig:null===(p=w.config.series[l].data[u])||void 0===p?void 0:p.fill,fillType:null!==(g=w.config.series[l].data[u])&&void 0!==g&&null!==(m=g.fill)&&void 0!==m&&m.type?null===(v=w.config.series[l].data[u])||void 0===v?void 0:v.fill.type:w.config.fill.type})}},{key:"getStrokeWidth",value:function(a,l,u){var h=0,p=this.w;return this.barCtx.isNullValue=!this.barCtx.series[a][l],p.config.stroke.show&&(this.barCtx.isNullValue||(h=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth)),h}},{key:"shouldApplyRadius",value:function(a){var l=this.w,u=!1;return l.config.plotOptions.bar.borderRadius>0&&(l.config.chart.stacked&&"last"===l.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===a&&(u=!0):u=!0),u}},{key:"barBackground",value:function(a){var l=a.j,u=a.i,h=a.x1,p=a.x2,g=a.y1,m=a.y2,v=a.elSeries,w=this.w,E=new Me(this.barCtx.ctx),D=new at(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&D===u){l>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(l%=this.barCtx.barOptions.colors.backgroundBarColors.length);var R=E.drawRect(void 0!==h?h:0,void 0!==g?g:0,void 0!==p?p:w.globals.gridWidth,void 0!==m?m:w.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[l],this.barCtx.barOptions.colors.backgroundBarOpacity);v.add(R),R.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(a){var l,u=a.barWidth,h=a.barXPosition,p=a.y1,g=a.y2,m=a.strokeWidth,v=a.seriesGroup,w=a.realIndex,E=a.i,D=a.j,A=a.w,R=new Me(this.barCtx.ctx);(m=Array.isArray(m)?m[w]:m)||(m=0);var O=u,F=h;null!==(l=A.config.series[w].data[D])&&void 0!==l&&l.columnWidthOffset&&(F=h-A.config.series[w].data[D].columnWidthOffset/2,O=u+A.config.series[w].data[D].columnWidthOffset);var z=F,G=F+O;g+=.001;var Z=R.move(z,p+=.001),b=R.move(z,p),I=R.line(G-m,p);if(A.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(w,D,!1)),Z=Z+R.line(z,g)+R.line(G-m,g)+R.line(G-m,p)+("around"===A.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),b=b+R.line(z,p)+I+I+I+I+I+R.line(z,p)+("around"===A.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(w)&&(Z=R.roundPathCorners(Z,A.config.plotOptions.bar.borderRadius)),A.config.chart.stacked){var P=this.barCtx;A.globals.hasSeriesGroups&&v&&(P=this.barCtx[v]),P.yArrj.push(g),P.yArrjF.push(Math.abs(p-g)),P.yArrjVal.push(this.barCtx.series[E][D])}return{pathTo:Z,pathFrom:b}}},{key:"getBarpaths",value:function(a){var l,u=a.barYPosition,h=a.barHeight,p=a.x1,g=a.x2,m=a.strokeWidth,v=a.seriesGroup,w=a.realIndex,E=a.i,D=a.j,A=a.w,R=new Me(this.barCtx.ctx);(m=Array.isArray(m)?m[w]:m)||(m=0);var O=u,F=h;null!==(l=A.config.series[w].data[D])&&void 0!==l&&l.barHeightOffset&&(O=u-A.config.series[w].data[D].barHeightOffset/2,F=h+A.config.series[w].data[D].barHeightOffset);var z=O,G=O+F;g+=.001;var Z=R.move(p+=.001,z),b=R.move(p,z);A.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(w,D,!1));var I=R.line(p,G-m);if(Z=Z+R.line(g,z)+R.line(g,G-m)+I+("around"===A.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),b=b+R.line(p,z)+I+I+I+I+I+R.line(p,z)+("around"===A.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(w)&&(Z=R.roundPathCorners(Z,A.config.plotOptions.bar.borderRadius)),A.config.chart.stacked){var P=this.barCtx;A.globals.hasSeriesGroups&&v&&(P=this.barCtx[v]),P.xArrj.push(g),P.xArrjF.push(Math.abs(p-g)),P.xArrjVal.push(this.barCtx.series[E][D])}return{pathTo:Z,pathFrom:b}}},{key:"checkZeroSeries",value:function(a){for(var l=a.series,u=this.w,h=0;h<l.length;h++){for(var p=0,g=0;g<l[u.globals.maxValsInArrayIndex].length;g++)p+=l[h][g];0===p&&this.barCtx.zeroSerieses.push(h)}}},{key:"getXForValue",value:function(a,l){var u=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:l;return null!=a&&(u=l+a/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?a/this.barCtx.invertedYRatio:0)),u}},{key:"getYForValue",value:function(a,l){var u=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:l;return null!=a&&(u=l-a/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?a/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),u}},{key:"getGoalValues",value:function(a,l,u,h,p){var g=this,m=this.w,v=[],w=function(A,R){var O;v.push((Bn(O={},a,"x"===a?g.getXForValue(A,l,!1):g.getYForValue(A,u,!1)),Bn(O,"attrs",R),O))};if(m.globals.seriesGoals[h]&&m.globals.seriesGoals[h][p]&&Array.isArray(m.globals.seriesGoals[h][p])&&m.globals.seriesGoals[h][p].forEach(function(A){w(A.value,A)}),this.barCtx.barOptions.isDumbbell&&m.globals.seriesRange.length){var E=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:m.globals.colors,D={strokeHeight:"x"===a?0:m.globals.markers.size[h],strokeWidth:"x"===a?m.globals.markers.size[h]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(E[h])?E[h][0]:E[h]};w(m.globals.seriesRangeStart[h][p],D),w(m.globals.seriesRangeEnd[h][p],ae(ae({},D),{},{strokeColor:Array.isArray(E[h])?E[h][1]:E[h]}))}return v}},{key:"drawGoalLine",value:function(a){var l=a.barXPosition,u=a.barYPosition,h=a.goalX,p=a.goalY,g=a.barWidth,m=a.barHeight,v=new Me(this.barCtx.ctx),w=v.group({className:"apexcharts-bar-goals-groups"});w.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:w.node}),w.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var E=null;return this.barCtx.isHorizontal?Array.isArray(h)&&h.forEach(function(D){var A=void 0!==D.attrs.strokeHeight?D.attrs.strokeHeight:m/2,R=u+A+m/2;E=v.drawLine(D.x,R-2*A,D.x,R,D.attrs.strokeColor?D.attrs.strokeColor:void 0,D.attrs.strokeDashArray,D.attrs.strokeWidth?D.attrs.strokeWidth:2,D.attrs.strokeLineCap),w.add(E)}):Array.isArray(p)&&p.forEach(function(D){var A=void 0!==D.attrs.strokeWidth?D.attrs.strokeWidth:g/2,R=l+A+g/2;E=v.drawLine(R-2*A,D.y,R,D.y,D.attrs.strokeColor?D.attrs.strokeColor:void 0,D.attrs.strokeDashArray,D.attrs.strokeHeight?D.attrs.strokeHeight:2,D.attrs.strokeLineCap),w.add(E)}),w}},{key:"drawBarShadow",value:function(a){var l=a.prevPaths,u=a.currPaths,h=a.color,p=this.w,g=l.x,m=l.x1,w=u.x,E=u.x1,D=u.barYPosition,A=l.barYPosition+u.barHeight,R=new Me(this.barCtx.ctx),O=new fe,F=R.move(m,A)+R.line(g,A)+R.line(w,D)+R.line(E,D)+R.line(m,A)+("around"===p.config.plotOptions.bar.borderRadiusApplication?" Z":" z");return R.drawPath({d:F,fill:O.shadeColor(.5,fe.rgb2hex(h)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(a){var l=a.i,u=a.j,p=0,g=0;return this.w.globals.seriesPercent.forEach(function(m,v){m[u]&&p++,v<l&&0===m[u]&&g++}),{nonZeroColumns:p,zeroEncounters:g}}}]),L}(),Pi=function(){function L(a,l){Ue(this,L),this.ctx=a,this.w=a.w;var u=this.w;this.barOptions=u.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=u.config.stroke.width,this.isNullValue=!1,this.isRangeBar=u.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!u.globals.isBarHorizontal&&u.globals.seriesRange.length&&u.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=l,null!==this.xyRatios&&(this.xRatio=l.xRatio,this.initialXRatio=l.initialXRatio,this.yRatio=l.yRatio,this.invertedXRatio=l.invertedXRatio,this.invertedYRatio=l.invertedYRatio,this.baseLineY=l.baseLineY,this.baseLineInvertedY=l.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var h=new at(this.ctx);this.lastActiveBarSerieIndex=h.getActiveConfigSeriesIndex("desc",["bar","column"]);var p=h.getBarSeriesIndices(),g=new qt(this.ctx);this.stackedSeriesTotals=g.getStackedSeriesTotals(this.w.config.series.map(function(m,v){return-1===p.indexOf(v)?v:-1}).filter(function(m){return-1!==m})),this.barHelpers=new Dr(this)}return ht(L,[{key:"draw",value:function(a,l){var u=this.w,h=new Me(this.ctx),p=new qt(this.ctx,u);a=p.getLogSeries(a),this.series=a,this.yRatio=p.getLogYRatios(this.yRatio),this.barHelpers.initVariables(a);var g=h.group({class:"apexcharts-bar-series apexcharts-plot-series"});u.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var m=0,v=0;m<a.length;m++,v++){var w,E,D,A,R=void 0,O=void 0,F=[],z=[],G=u.globals.comboCharts?l[m]:m,Z=h.group({class:"apexcharts-series",rel:m+1,seriesName:fe.escapeString(u.globals.seriesNames[G]),"data:realIndex":G});this.ctx.series.addCollapsedClassToSeries(Z,G),a[m].length>0&&(this.visibleI=this.visibleI+1);var b=0,I=0;this.yRatio.length>1&&(this.yaxisIndex=G),this.isReversed=u.config.yaxis[this.yaxisIndex]&&u.config.yaxis[this.yaxisIndex].reversed;var P=this.barHelpers.initialPositions();O=P.y,b=P.barHeight,E=P.yDivision,A=P.zeroW,R=P.x,I=P.barWidth,w=P.xDivision,D=P.zeroH,this.horizontal||z.push(R+I/2);var j=h.group({class:"apexcharts-datalabels","data:realIndex":G});u.globals.delayedElements.push({el:j.node}),j.node.classList.add("apexcharts-element-hidden");var K=h.group({class:"apexcharts-bar-goals-markers"}),Y=h.group({class:"apexcharts-bar-shadows"});u.globals.delayedElements.push({el:Y.node}),Y.node.classList.add("apexcharts-element-hidden");for(var _e=0;_e<u.globals.dataPoints;_e++){var me=this.barHelpers.getStrokeWidth(m,_e,G),Re=null,le={indexes:{i:m,j:_e,realIndex:G,bc:v},x:R,y:O,strokeWidth:me,elSeries:Z};this.isHorizontal?(Re=this.drawBarPaths(ae(ae({},le),{},{barHeight:b,zeroW:A,yDivision:E})),I=this.series[m][_e]/this.invertedYRatio):(Re=this.drawColumnPaths(ae(ae({},le),{},{xDivision:w,barWidth:I,zeroH:D})),b=this.series[m][_e]/this.yRatio[this.yaxisIndex]);var Ye=this.barHelpers.getPathFillColor(a,m,_e,G);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&_e>0){var Se=this.barHelpers.drawBarShadow({color:"string"==typeof Ye&&-1===Ye?.indexOf("url")?Ye:fe.hexToRgba(u.globals.colors[m]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:Re});Se&&Y.add(Se)}this.pathArr.push(Re);var bt=this.barHelpers.drawGoalLine({barXPosition:Re.barXPosition,barYPosition:Re.barYPosition,goalX:Re.goalX,goalY:Re.goalY,barHeight:b,barWidth:I});bt&&K.add(bt),O=Re.y,R=Re.x,_e>0&&z.push(R+I/2),F.push(O),this.renderSeries({realIndex:G,pathFill:Ye,j:_e,i:m,pathFrom:Re.pathFrom,pathTo:Re.pathTo,strokeWidth:me,elSeries:Z,x:R,y:O,series:a,barHeight:Re.barHeight?Re.barHeight:b,barWidth:Re.barWidth?Re.barWidth:I,elDataLabelsWrap:j,elGoalsMarkers:K,elBarShadows:Y,visibleSeries:this.visibleI,type:"bar"})}u.globals.seriesXvalues[G]=z,u.globals.seriesYvalues[G]=F,g.add(Z)}return g}},{key:"renderSeries",value:function(a){var l=a.realIndex,u=a.pathFill,h=a.lineFill,p=a.j,g=a.i,m=a.groupIndex,v=a.pathFrom,w=a.pathTo,E=a.strokeWidth,D=a.elSeries,A=a.x,R=a.y,O=a.y1,F=a.y2,z=a.series,G=a.barHeight,Z=a.barWidth,b=a.barXPosition,I=a.barYPosition,P=a.elDataLabelsWrap,j=a.elGoalsMarkers,K=a.elBarShadows,Y=a.visibleSeries,_e=a.type,me=this.w,Re=new Me(this.ctx);h||(h=this.barOptions.distributed?me.globals.stroke.colors[p]:me.globals.stroke.colors[l]),me.config.series[g].data[p]&&me.config.series[g].data[p].strokeColor&&(h=me.config.series[g].data[p].strokeColor),this.isNullValue&&(u="none");var Ye=Re.renderPaths({i:g,j:p,realIndex:l,pathFrom:v,pathTo:w,stroke:h,strokeWidth:E,strokeLineCap:me.config.stroke.lineCap,fill:u,animationDelay:p/me.config.chart.animations.animateGradually.delay*(me.config.chart.animations.speed/me.globals.dataPoints)/2.4,initialSpeed:me.config.chart.animations.speed,dataChangeSpeed:me.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(_e,"-area")});Ye.attr("clip-path","url(#gridRectMask".concat(me.globals.cuid,")"));var Se=me.config.forecastDataPoints;Se.count>0&&p>=me.globals.dataPoints-Se.count&&(Ye.node.setAttribute("stroke-dasharray",Se.dashArray),Ye.node.setAttribute("stroke-width",Se.strokeWidth),Ye.node.setAttribute("fill-opacity",Se.fillOpacity)),void 0!==O&&void 0!==F&&(Ye.attr("data-range-y1",O),Ye.attr("data-range-y2",F)),new bn(this.ctx).setSelectionFilter(Ye,l,p),D.add(Ye);var bt=new fo(this).handleBarDataLabels({x:A,y:R,y1:O,y2:F,i:g,j:p,series:z,realIndex:l,groupIndex:m,barHeight:G,barWidth:Z,barXPosition:b,barYPosition:I,renderedPath:Ye,visibleSeries:Y});return null!==bt.dataLabels&&P.add(bt.dataLabels),bt.totalDataLabels&&P.add(bt.totalDataLabels),D.add(P),j&&D.add(j),K&&D.add(K),D}},{key:"drawBarPaths",value:function(a){var l,m,u=a.indexes,h=a.barHeight,p=a.strokeWidth,g=a.zeroW,v=a.y,w=a.yDivision,E=a.elSeries,D=this.w,A=u.i,R=u.j;if(D.globals.isXNumeric)l=(v=(D.globals.seriesX[A][R]-D.globals.minX)/this.invertedXRatio-h)+h*this.visibleI;else if(D.config.plotOptions.bar.hideZeroBarsWhenGrouped){var O=0,F=0;D.globals.seriesPercent.forEach(function(G,Z){G[R]&&O++,Z<A&&0===G[R]&&F++}),O>0&&(h=this.seriesLen*h/O),l=v+h*this.visibleI,l-=h*F}else l=v+h*this.visibleI;this.isFunnel&&(g-=(this.barHelpers.getXForValue(this.series[A][R],g)-g)/2),m=this.barHelpers.getXForValue(this.series[A][R],g);var z=this.barHelpers.getBarpaths({barYPosition:l,barHeight:h,x1:g,x2:m,strokeWidth:p,series:this.series,realIndex:u.realIndex,i:A,j:R,w:D});return D.globals.isXNumeric||(v+=w),this.barHelpers.barBackground({j:R,i:A,y1:l-h*this.visibleI,y2:h*this.seriesLen,elSeries:E}),{pathTo:z.pathTo,pathFrom:z.pathFrom,x1:g,x:m,y:v,goalX:this.barHelpers.getGoalValues("x",g,null,A,R),barYPosition:l,barHeight:h}}},{key:"drawColumnPaths",value:function(a){var l,p,u=a.indexes,h=a.x,g=a.xDivision,m=a.barWidth,v=a.zeroH,w=a.strokeWidth,E=a.elSeries,D=this.w,R=u.i,O=u.j,F=u.bc;if(D.globals.isXNumeric){var z=this.getBarXForNumericXAxis({x:h,j:O,realIndex:u.realIndex,barWidth:m});h=z.x,l=z.barXPosition}else if(D.config.plotOptions.bar.hideZeroBarsWhenGrouped){var G=this.barHelpers.getZeroValueEncounters({i:R,j:O}),Z=G.nonZeroColumns;Z>0&&(m=this.seriesLen*m/Z),l=h+m*this.visibleI,l-=m*G.zeroEncounters}else l=h+m*this.visibleI;p=this.barHelpers.getYForValue(this.series[R][O],v);var I=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:m,y1:v,y2:p,strokeWidth:w,series:this.series,realIndex:u.realIndex,i:R,j:O,w:D});return D.globals.isXNumeric||(h+=g),this.barHelpers.barBackground({bc:F,j:O,i:R,x1:l-w/2-m*this.visibleI,x2:m*this.seriesLen+w/2,elSeries:E}),{pathTo:I.pathTo,pathFrom:I.pathFrom,x:h,y:p,goalY:this.barHelpers.getGoalValues("y",null,v,R,O),barXPosition:l,barWidth:m}}},{key:"getBarXForNumericXAxis",value:function(a){var l=a.x,u=a.barWidth,h=a.realIndex,p=a.j,g=this.w,m=h;return g.globals.seriesX[h].length||(m=g.globals.maxValsInArrayIndex),g.globals.seriesX[m][p]&&(l=(g.globals.seriesX[m][p]-g.globals.minX)/this.xRatio-u*this.seriesLen/2),{barXPosition:l+u*this.visibleI,x:l}}},{key:"getPreviousPath",value:function(a,l){for(var u,h=this.w,p=0;p<h.globals.previousPaths.length;p++){var g=h.globals.previousPaths[p];g.paths&&g.paths.length>0&&parseInt(g.realIndex,10)===parseInt(a,10)&&void 0!==h.globals.previousPaths[p].paths[l]&&(u=h.globals.previousPaths[p].paths[l].d)}return u}}]),L}(),es=function(L){yn(l,Pi);var a=sn(l);function l(){return Ue(this,l),a.apply(this,arguments)}return ht(l,[{key:"draw",value:function(u,h){var p=this,g=this.w;this.graphics=new Me(this.ctx),this.bar=new Pi(this.ctx,this.xyRatios);var m=new qt(this.ctx,g);u=m.getLogSeries(u),this.yRatio=m.getLogYRatios(this.yRatio),this.barHelpers.initVariables(u),"100%"===g.config.chart.stackType&&(u=g.globals.seriesPercent.slice()),this.series=u,this.barHelpers.initializeStackedPrevVars(this);for(var v=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),w=0,E=0,D=function(O,F){var z=void 0,G=void 0,Z=void 0,b=void 0,I=-1;p.groupCtx=p,g.globals.seriesGroups.forEach(function(ri,Hi){ri.indexOf(g.config.series[O].name)>-1&&(I=Hi)}),-1!==I&&(p.groupCtx=p[g.globals.seriesGroups[I]]);var P=[],j=[],K=g.globals.comboCharts?h[O]:O;p.yRatio.length>1&&(p.yaxisIndex=K),p.isReversed=g.config.yaxis[p.yaxisIndex]&&g.config.yaxis[p.yaxisIndex].reversed;var Y=p.graphics.group({class:"apexcharts-series",seriesName:fe.escapeString(g.globals.seriesNames[K]),rel:O+1,"data:realIndex":K});p.ctx.series.addCollapsedClassToSeries(Y,K);var _e=p.graphics.group({class:"apexcharts-datalabels","data:realIndex":K}),me=p.graphics.group({class:"apexcharts-bar-goals-markers"}),Re=0,le=0,Ye=p.initialPositions(w,E,z,G,Z,b);E=Ye.y,Re=Ye.barHeight,G=Ye.yDivision,b=Ye.zeroW,w=Ye.x,le=Ye.barWidth,z=Ye.xDivision,Z=Ye.zeroH,p.barHelpers.initializeStackedXYVars(p),1===p.groupCtx.prevY.length&&p.groupCtx.prevY[0].every(function(ri){return isNaN(ri)})&&(p.groupCtx.prevY[0]=p.groupCtx.prevY[0].map(function(ri){return Z}),p.groupCtx.prevYF[0]=p.groupCtx.prevYF[0].map(function(ri){return 0}));for(var Se=0;Se<g.globals.dataPoints;Se++){var bt=p.barHelpers.getStrokeWidth(O,Se,K),tn={indexes:{i:O,j:Se,realIndex:K,bc:F},strokeWidth:bt,x:w,y:E,elSeries:Y,groupIndex:I,seriesGroup:g.globals.seriesGroups[I]},kn=null;p.isHorizontal?(kn=p.drawStackedBarPaths(ae(ae({},tn),{},{zeroW:b,barHeight:Re,yDivision:G})),le=p.series[O][Se]/p.invertedYRatio):(kn=p.drawStackedColumnPaths(ae(ae({},tn),{},{xDivision:z,barWidth:le,zeroH:Z})),Re=p.series[O][Se]/p.yRatio[p.yaxisIndex]);var Xn=p.barHelpers.drawGoalLine({barXPosition:kn.barXPosition,barYPosition:kn.barYPosition,goalX:kn.goalX,goalY:kn.goalY,barHeight:Re,barWidth:le});Xn&&me.add(Xn),E=kn.y,P.push(w=kn.x),j.push(E);var xi=p.barHelpers.getPathFillColor(u,O,Se,K);Y=p.renderSeries({realIndex:K,pathFill:xi,j:Se,i:O,groupIndex:I,pathFrom:kn.pathFrom,pathTo:kn.pathTo,strokeWidth:bt,elSeries:Y,x:w,y:E,series:u,barHeight:Re,barWidth:le,elDataLabelsWrap:_e,elGoalsMarkers:me,type:"bar",visibleSeries:0})}g.globals.seriesXvalues[K]=P,g.globals.seriesYvalues[K]=j,p.groupCtx.prevY.push(p.groupCtx.yArrj),p.groupCtx.prevYF.push(p.groupCtx.yArrjF),p.groupCtx.prevYVal.push(p.groupCtx.yArrjVal),p.groupCtx.prevX.push(p.groupCtx.xArrj),p.groupCtx.prevXF.push(p.groupCtx.xArrjF),p.groupCtx.prevXVal.push(p.groupCtx.xArrjVal),v.add(Y)},A=0,R=0;A<u.length;A++,R++)D(A,R);return v}},{key:"initialPositions",value:function(u,h,p,g,m,v){var w,E,D,A,R=this.w;return this.isHorizontal?(D=(D=g=R.globals.gridHeight/R.globals.dataPoints)*parseInt(R.config.plotOptions.bar.barHeight,10)/100,-1===String(R.config.plotOptions.bar.barHeight).indexOf("%")&&(D=parseInt(R.config.plotOptions.bar.barHeight,10)),v=this.baseLineInvertedY+R.globals.padHorizontal+(this.isReversed?R.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),h=(g-D)/2):(A=p=R.globals.gridWidth/R.globals.dataPoints,A=R.globals.isXNumeric&&R.globals.dataPoints>1?(p=R.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:A*parseInt(R.config.plotOptions.bar.columnWidth,10)/100,-1===String(R.config.plotOptions.bar.columnWidth).indexOf("%")&&(A=parseInt(R.config.plotOptions.bar.columnWidth,10)),m=R.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?R.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),u=R.globals.padHorizontal+(p-A)/2),{x:u,y:h,yDivision:g,xDivision:p,barHeight:null!==(w=R.globals.seriesGroups)&&void 0!==w&&w.length?D/R.globals.seriesGroups.length:D,barWidth:null!==(E=R.globals.seriesGroups)&&void 0!==E&&E.length?A/R.globals.seriesGroups.length:A,zeroH:m,zeroW:v}}},{key:"drawStackedBarPaths",value:function(u){for(var h,w,p=u.indexes,g=u.barHeight,m=u.strokeWidth,v=u.zeroW,E=u.y,D=u.groupIndex,A=u.seriesGroup,R=u.yDivision,O=u.elSeries,F=this.w,z=E+(-1!==D?D*g:0),G=p.i,Z=p.j,b=0,I=0;I<this.groupCtx.prevXF.length;I++)b+=this.groupCtx.prevXF[I][Z];var P=G;if(A&&(P=A.indexOf(F.config.series[G].name)),P>0){var j=v;this.groupCtx.prevXVal[P-1][Z]<0?j=this.series[G][Z]>=0?this.groupCtx.prevX[P-1][Z]+b-2*(this.isReversed?b:0):this.groupCtx.prevX[P-1][Z]:this.groupCtx.prevXVal[P-1][Z]>=0&&(j=this.series[G][Z]>=0?this.groupCtx.prevX[P-1][Z]:this.groupCtx.prevX[P-1][Z]-b+2*(this.isReversed?b:0)),h=j}else h=v;var K=this.barHelpers.getBarpaths({barYPosition:z,barHeight:g,x1:h,x2:w=null===this.series[G][Z]?h:h+this.series[G][Z]/this.invertedYRatio-2*(this.isReversed?this.series[G][Z]/this.invertedYRatio:0),strokeWidth:m,series:this.series,realIndex:p.realIndex,seriesGroup:A,i:G,j:Z,w:F});return this.barHelpers.barBackground({j:Z,i:G,y1:z,y2:g,elSeries:O}),E+=R,{pathTo:K.pathTo,pathFrom:K.pathFrom,goalX:this.barHelpers.getGoalValues("x",v,null,G,Z),barYPosition:z,x:w,y:E}}},{key:"drawStackedColumnPaths",value:function(u){var g,h=u.indexes,p=u.x,m=u.xDivision,v=u.barWidth,w=u.zeroH,E=u.groupIndex,D=u.seriesGroup,A=u.elSeries,R=this.w,O=h.i,F=h.j,z=h.bc;if(R.globals.isXNumeric){var G=R.globals.seriesX[O][F];G||(G=0),p=(G-R.globals.minX)/this.xRatio-v/2,R.globals.seriesGroups.length&&(p=(G-R.globals.minX)/this.xRatio-v/2*R.globals.seriesGroups.length)}for(var Z,b=p+(-1!==E?E*v:0),I=0,P=0;P<this.groupCtx.prevYF.length;P++)I+=isNaN(this.groupCtx.prevYF[P][F])?0:this.groupCtx.prevYF[P][F];var j=O;if(D&&(j=D.indexOf(R.config.series[O].name)),j>0&&!R.globals.isXNumeric||j>0&&R.globals.isXNumeric&&R.globals.seriesX[O-1][F]===R.globals.seriesX[O][F]){var K,Y,_e,me=Math.min(this.yRatio.length+1,O+1);if(void 0!==this.groupCtx.prevY[j-1]&&this.groupCtx.prevY[j-1].length)for(var Re=1;Re<me;Re++){var le;if(!isNaN(null===(le=this.groupCtx.prevY[j-Re])||void 0===le?void 0:le[F])){_e=this.groupCtx.prevY[j-Re][F];break}}for(var Ye=1;Ye<me;Ye++){var Se,bt;if((null===(Se=this.groupCtx.prevYVal[j-Ye])||void 0===Se?void 0:Se[F])<0){Y=this.series[O][F]>=0?_e-I+2*(this.isReversed?I:0):_e;break}if((null===(bt=this.groupCtx.prevYVal[j-Ye])||void 0===bt?void 0:bt[F])>=0){Y=this.series[O][F]>=0?_e:_e+I-2*(this.isReversed?I:0);break}}void 0===Y&&(Y=R.globals.gridHeight),Z=null!==(K=this.groupCtx.prevYF[0])&&void 0!==K&&K.every(function(kn){return 0===kn})&&this.groupCtx.prevYF.slice(1,j).every(function(kn){return kn.every(function(Xn){return isNaN(Xn)})})?w:Y}else Z=w;var tn=this.barHelpers.getColumnPaths({barXPosition:b,barWidth:v,y1:Z,y2:g=this.series[O][F]?Z-this.series[O][F]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[O][F]/this.yRatio[this.yaxisIndex]:0):Z,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:D,realIndex:h.realIndex,i:O,j:F,w:R});return this.barHelpers.barBackground({bc:z,j:F,i:O,x1:b,x2:v,elSeries:A}),p+=m,{pathTo:tn.pathTo,pathFrom:tn.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,w,O,F),barXPosition:b,x:R.globals.isXNumeric?p-m:p,y:g}}}]),l}(),cs=function(L){yn(l,Pi);var a=sn(l);function l(){return Ue(this,l),a.apply(this,arguments)}return ht(l,[{key:"draw",value:function(u,h,p){var g=this,m=this.w,v=new Me(this.ctx),w=m.globals.comboCharts?h:m.config.chart.type,E=new he(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=m.config.plotOptions.bar.horizontal;var D=new qt(this.ctx,m);u=D.getLogSeries(u),this.series=u,this.yRatio=D.getLogYRatios(this.yRatio),this.barHelpers.initVariables(u);for(var A=v.group({class:"apexcharts-".concat(w,"-series apexcharts-plot-series")}),R=function(F){g.isBoxPlot="boxPlot"===m.config.chart.type||"boxPlot"===m.config.series[F].type;var z,G,Z,b,me,Re,I=void 0,P=void 0,j=[],K=[],Y=m.globals.comboCharts?p[F]:F,_e=v.group({class:"apexcharts-series",seriesName:fe.escapeString(m.globals.seriesNames[Y]),rel:F+1,"data:realIndex":Y});g.ctx.series.addCollapsedClassToSeries(_e,Y),u[F].length>0&&(g.visibleI=g.visibleI+1),g.yRatio.length>1&&(g.yaxisIndex=Y);var le=g.barHelpers.initialPositions();P=le.y,me=le.barHeight,G=le.yDivision,b=le.zeroW,z=le.xDivision,Z=le.zeroH,K.push((I=le.x)+(Re=le.barWidth)/2);for(var Ye=v.group({class:"apexcharts-datalabels","data:realIndex":Y}),Se=function(tn){var kn=g.barHelpers.getStrokeWidth(F,tn,Y),Xn=null,xi={indexes:{i:F,j:tn,realIndex:Y},x:I,y:P,strokeWidth:kn,elSeries:_e};Xn=g.isHorizontal?g.drawHorizontalBoxPaths(ae(ae({},xi),{},{yDivision:G,barHeight:me,zeroW:b})):g.drawVerticalBoxPaths(ae(ae({},xi),{},{xDivision:z,barWidth:Re,zeroH:Z})),P=Xn.y,I=Xn.x,tn>0&&K.push(I+Re/2),j.push(P),Xn.pathTo.forEach(function(ri,Hi){var ws=!g.isBoxPlot&&g.candlestickOptions.wick.useFillColor?Xn.color[Hi]:m.globals.stroke.colors[F],nl=E.fillPath({seriesNumber:Y,dataPointIndex:tn,color:Xn.color[Hi],value:u[F][tn]});g.renderSeries({realIndex:Y,pathFill:nl,lineFill:ws,j:tn,i:F,pathFrom:Xn.pathFrom,pathTo:ri,strokeWidth:kn,elSeries:_e,x:I,y:P,series:u,barHeight:me,barWidth:Re,elDataLabelsWrap:Ye,visibleSeries:g.visibleI,type:m.config.chart.type})})},bt=0;bt<m.globals.dataPoints;bt++)Se(bt);m.globals.seriesXvalues[Y]=K,m.globals.seriesYvalues[Y]=j,A.add(_e)},O=0;O<u.length;O++)R(O);return A}},{key:"drawVerticalBoxPaths",value:function(u){var h=u.indexes,p=u.x,g=u.xDivision,m=u.barWidth,v=u.zeroH,w=u.strokeWidth,E=this.w,D=new Me(this.ctx),A=h.i,R=h.j,O=!0,F=E.config.plotOptions.candlestick.colors.upward,z=E.config.plotOptions.candlestick.colors.downward,G="";this.isBoxPlot&&(G=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Z=this.yRatio[this.yaxisIndex],b=h.realIndex,I=this.getOHLCValue(b,R),P=v,j=v;I.o>I.c&&(O=!1);var K=Math.min(I.o,I.c),Y=Math.max(I.o,I.c),_e=I.m;E.globals.isXNumeric&&(p=(E.globals.seriesX[b][R]-E.globals.minX)/this.xRatio-m/2);var me=p+m*this.visibleI;null==this.series[A][R]?(K=v,Y=v):(K=v-K/Z,Y=v-Y/Z,P=v-I.h/Z,j=v-I.l/Z,_e=v-I.m/Z);var Re=D.move(me,v),le=D.move(me+m/2,K);return E.globals.previousPaths.length>0&&(le=this.getPreviousPath(b,R,!0)),Re=this.isBoxPlot?[D.move(me,K)+D.line(me+m/2,K)+D.line(me+m/2,P)+D.line(me+m/4,P)+D.line(me+m-m/4,P)+D.line(me+m/2,P)+D.line(me+m/2,K)+D.line(me+m,K)+D.line(me+m,_e)+D.line(me,_e)+D.line(me,K+w/2),D.move(me,_e)+D.line(me+m,_e)+D.line(me+m,Y)+D.line(me+m/2,Y)+D.line(me+m/2,j)+D.line(me+m-m/4,j)+D.line(me+m/4,j)+D.line(me+m/2,j)+D.line(me+m/2,Y)+D.line(me,Y)+D.line(me,_e)+"z"]:[D.move(me,Y)+D.line(me+m/2,Y)+D.line(me+m/2,P)+D.line(me+m/2,Y)+D.line(me+m,Y)+D.line(me+m,K)+D.line(me+m/2,K)+D.line(me+m/2,j)+D.line(me+m/2,K)+D.line(me,K)+D.line(me,Y-w/2)],le+=D.move(me,K),E.globals.isXNumeric||(p+=g),{pathTo:Re,pathFrom:le,x:p,y:Y,barXPosition:me,color:this.isBoxPlot?G:O?[F]:[z]}}},{key:"drawHorizontalBoxPaths",value:function(u){var h=u.indexes,p=u.y,g=u.yDivision,m=u.barHeight,v=u.zeroW,w=u.strokeWidth,E=this.w,D=new Me(this.ctx),A=h.i,R=h.j,O=this.boxOptions.colors.lower;this.isBoxPlot&&(O=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var F=this.invertedYRatio,z=h.realIndex,G=this.getOHLCValue(z,R),Z=v,b=v,I=Math.min(G.o,G.c),P=Math.max(G.o,G.c),j=G.m;E.globals.isXNumeric&&(p=(E.globals.seriesX[z][R]-E.globals.minX)/this.invertedXRatio-m/2);var K=p+m*this.visibleI;null==this.series[A][R]?(I=v,P=v):(I=v+I/F,P=v+P/F,Z=v+G.h/F,b=v+G.l/F,j=v+G.m/F);var Y=D.move(v,K),_e=D.move(I,K+m/2);return E.globals.previousPaths.length>0&&(_e=this.getPreviousPath(z,R,!0)),Y=[D.move(I,K)+D.line(I,K+m/2)+D.line(Z,K+m/2)+D.line(Z,K+m/2-m/4)+D.line(Z,K+m/2+m/4)+D.line(Z,K+m/2)+D.line(I,K+m/2)+D.line(I,K+m)+D.line(j,K+m)+D.line(j,K)+D.line(I+w/2,K),D.move(j,K)+D.line(j,K+m)+D.line(P,K+m)+D.line(P,K+m/2)+D.line(b,K+m/2)+D.line(b,K+m-m/4)+D.line(b,K+m/4)+D.line(b,K+m/2)+D.line(P,K+m/2)+D.line(P,K)+D.line(j,K)+"z"],_e+=D.move(I,K),E.globals.isXNumeric||(p+=g),{pathTo:Y,pathFrom:_e,x:P,y:p,barYPosition:K,color:O}}},{key:"getOHLCValue",value:function(u,h){var p=this.w;return{o:this.isBoxPlot?p.globals.seriesCandleH[u][h]:p.globals.seriesCandleO[u][h],h:this.isBoxPlot?p.globals.seriesCandleO[u][h]:p.globals.seriesCandleH[u][h],m:p.globals.seriesCandleM[u][h],l:this.isBoxPlot?p.globals.seriesCandleC[u][h]:p.globals.seriesCandleL[u][h],c:this.isBoxPlot?p.globals.seriesCandleL[u][h]:p.globals.seriesCandleC[u][h]}}}]),l}(),el=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"checkColorRange",value:function(){var a=this.w,l=!1,u=a.config.plotOptions[a.config.chart.type];return u.colorScale.ranges.length>0&&u.colorScale.ranges.map(function(h,p){h.from<=0&&(l=!0)}),l}},{key:"getShadeColor",value:function(a,l,u,h){var p=this.w,g=1,m=p.config.plotOptions[a].shadeIntensity,v=this.determineColor(a,l,u);p.globals.hasNegs||h?g=p.config.plotOptions[a].reverseNegativeShade?v.percent<0?v.percent/100*(1.25*m):1.25*m*(1-v.percent/100):v.percent<=0?1-(1+v.percent/100)*m:(1-v.percent/100)*m:(g=1-v.percent/100,"treemap"===a&&(g=1.25*m*(1-v.percent/100)));var w=v.color,E=new fe;return p.config.plotOptions[a].enableShades&&(w=fe.hexToRgba(E.shadeColor("dark"===this.w.config.theme.mode?-1*g:g,v.color),p.config.fill.opacity)),{color:w,colorProps:v}}},{key:"determineColor",value:function(a,l,u){var h=this.w,p=h.globals.series[l][u],g=h.config.plotOptions[a],m=g.colorScale.inverse?u:l;g.distributed&&"treemap"===h.config.chart.type&&(m=u);var v=h.globals.colors[m],w=null,E=Math.min.apply(Math,On(h.globals.series[l])),D=Math.max.apply(Math,On(h.globals.series[l]));g.distributed||"heatmap"!==a||(E=h.globals.minY,D=h.globals.maxY),void 0!==g.colorScale.min&&(E=g.colorScale.min<h.globals.minY?g.colorScale.min:h.globals.minY,D=g.colorScale.max>h.globals.maxY?g.colorScale.max:h.globals.maxY);var A=Math.abs(D)+Math.abs(E),R=100*p/(0===A?A-1e-6:A);return g.colorScale.ranges.length>0&&g.colorScale.ranges.map(function(O,F){if(p>=O.from&&p<=O.to){v=O.color,w=O.foreColor?O.foreColor:null,E=O.from,D=O.to;var z=Math.abs(D)+Math.abs(E);R=100*p/(0===z?z-1e-6:z)}}),{color:v,foreColor:w,percent:R}}},{key:"calculateDataLabels",value:function(a){var l=a.text,u=a.x,h=a.y,p=a.i,g=a.j,m=a.colorProps,v=a.fontSize,w=this.w.config.dataLabels,E=new Me(this.ctx),D=new We(this.ctx),A=null;if(w.enabled){A=E.group({class:"apexcharts-data-labels"});var O=w.offsetY,F=u+w.offsetX,z=h+parseFloat(w.style.fontSize)/3+O;D.plotDataLabelsText({x:F,y:z,text:l,i:p,j:g,color:m.foreColor,parent:A,fontSize:v,dataLabelsConfig:w})}return A}},{key:"addListeners",value:function(a){var l=new Me(this.ctx);a.node.addEventListener("mouseenter",l.pathMouseEnter.bind(this,a)),a.node.addEventListener("mouseleave",l.pathMouseLeave.bind(this,a)),a.node.addEventListener("mousedown",l.pathMouseDown.bind(this,a))}}]),L}(),Pa=function(){function L(a,l){Ue(this,L),this.ctx=a,this.w=a.w,this.xRatio=l.xRatio,this.yRatio=l.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new el(a),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return ht(L,[{key:"draw",value:function(a){var l=this.w,u=new Me(this.ctx),h=u.group({class:"apexcharts-heatmap"});h.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")"));var p=l.globals.gridWidth/l.globals.dataPoints,g=l.globals.gridHeight/l.globals.series.length,m=0,v=!1;this.negRange=this.helpers.checkColorRange();var w=a.slice();l.config.yaxis[0].reversed&&(v=!0,w.reverse());for(var E=v?0:w.length-1;v?E<w.length:E>=0;v?E++:E--){var D=u.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:fe.escapeString(l.globals.seriesNames[E]),rel:E+1,"data:realIndex":E});if(this.ctx.series.addCollapsedClassToSeries(D,E),l.config.chart.dropShadow.enabled){var A=l.config.chart.dropShadow;new bn(this.ctx).dropShadow(D,A,E)}for(var R=0,O=l.config.plotOptions.heatmap.shadeIntensity,F=0;F<w[E].length;F++){var z=this.helpers.getShadeColor(l.config.chart.type,E,F,this.negRange),G=z.color,Z=z.colorProps;"image"===l.config.fill.type&&(G=new he(this.ctx).fillPath({seriesNumber:E,dataPointIndex:F,opacity:l.globals.hasNegs?Z.percent<0?1-(1+Z.percent/100):O+Z.percent/100:Z.percent/100,patternID:fe.randomId(),width:l.config.fill.image.width?l.config.fill.image.width:p,height:l.config.fill.image.height?l.config.fill.image.height:g}));var I=u.drawRect(R,m,p,g,this.rectRadius);if(I.attr({cx:R,cy:m}),I.node.classList.add("apexcharts-heatmap-rect"),D.add(I),I.attr({fill:G,i:E,index:E,j:F,val:w[E][F],"stroke-width":this.strokeWidth,stroke:l.config.plotOptions.heatmap.useFillColorAsStroke?G:l.globals.stroke.colors[0],color:G}),this.helpers.addListeners(I),l.config.chart.animations.enabled&&!l.globals.dataChanged){var P=1;l.globals.resized||(P=l.config.chart.animations.speed),this.animateHeatMap(I,R,m,p,g,P)}if(l.globals.dataChanged){var j=1;if(this.dynamicAnim.enabled&&l.globals.shouldAnimate){j=this.dynamicAnim.speed;var K=l.globals.previousPaths[E]&&l.globals.previousPaths[E][F]&&l.globals.previousPaths[E][F].color;K||(K="rgba(255, 255, 255, 0)"),this.animateHeatColor(I,fe.isColorHex(K)?K:fe.rgb2hex(K),fe.isColorHex(G)?G:fe.rgb2hex(G),j)}}var Y=(0,l.config.dataLabels.formatter)(l.globals.series[E][F],{value:l.globals.series[E][F],seriesIndex:E,dataPointIndex:F,w:l}),_e=this.helpers.calculateDataLabels({text:Y,x:R+p/2,y:m+g/2,i:E,j:F,colorProps:Z,series:w});null!==_e&&D.add(_e),R+=p}m+=g,h.add(D)}var me=l.globals.yAxisScale[0].result.slice();return l.config.yaxis[0].reversed?me.unshift(""):me.push(""),l.globals.yAxisScale[0].result=me,h}},{key:"animateHeatMap",value:function(a,l,u,h,p,g){var m=new Ii(this.ctx);m.animateRect(a,{x:l+h/2,y:u+p/2,width:0,height:0},{x:l,y:u,width:h,height:p},g,function(){m.animationCompleted(a)})}},{key:"animateHeatColor",value:function(a,l,u,h){a.attr({fill:l}).animate(h).attr({fill:u})}}]),L}(),Na=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"drawYAxisTexts",value:function(a,l,u,h){var p=this.w,g=p.config.yaxis[0],m=p.globals.yLabelFormatters[0];return new Me(this.ctx).drawText({x:a+g.labels.offsetX,y:l+g.labels.offsetY,text:m(h,u),textAnchor:"middle",fontSize:g.labels.style.fontSize,fontFamily:g.labels.style.fontFamily,foreColor:Array.isArray(g.labels.style.colors)?g.labels.style.colors[u]:g.labels.style.colors})}}]),L}(),po=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w;var l=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=Math.min(l.globals.gridWidth,l.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=l.globals.gridWidth/2,this.fullAngle="radialBar"===l.config.chart.type?360:Math.abs(l.config.plotOptions.pie.endAngle-l.config.plotOptions.pie.startAngle),this.initialAngle=l.config.plotOptions.pie.startAngle%this.fullAngle,l.globals.radialSize=this.defaultSize/2.05-l.config.stroke.width-(l.config.chart.sparkline.enabled?0:l.config.chart.dropShadow.blur),this.donutSize=l.globals.radialSize*parseInt(l.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return ht(L,[{key:"draw",value:function(a){var l=this,u=this.w,h=new Me(this.ctx);if(this.ret=h.group({class:"apexcharts-pie"}),u.globals.noData)return this.ret;for(var p=0,g=0;g<a.length;g++)p+=fe.negToZero(a[g]);var m=[],v=h.group();0===p&&(p=1e-5),a.forEach(function(K){l.maxY=Math.max(l.maxY,K)}),u.config.yaxis[0].max&&(this.maxY=u.config.yaxis[0].max),"back"===u.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var w=0;w<a.length;w++){var E=this.fullAngle*fe.negToZero(a[w])/p;m.push(E),"polarArea"===this.chartType?(m[w]=this.fullAngle/a.length,this.sliceSizes.push(u.globals.radialSize*a[w]/this.maxY)):this.sliceSizes.push(u.globals.radialSize)}if(u.globals.dataChanged){for(var D,A=0,R=0;R<u.globals.previousPaths.length;R++)A+=fe.negToZero(u.globals.previousPaths[R]);for(var O=0;O<u.globals.previousPaths.length;O++)D=this.fullAngle*fe.negToZero(u.globals.previousPaths[O])/A,this.prevSectorAngleArr.push(D)}this.donutSize<0&&(this.donutSize=0);var F=u.config.plotOptions.pie.customScale,Z=u.globals.gridWidth/2-u.globals.gridWidth/2*F,b=u.globals.gridHeight/2-u.globals.gridHeight/2*F;if("donut"===this.chartType){var I=h.drawCircle(this.donutSize);I.attr({cx:this.centerX,cy:this.centerY,fill:u.config.plotOptions.pie.donut.background?u.config.plotOptions.pie.donut.background:"transparent"}),v.add(I)}var P=this.drawArcs(m,a);if(this.sliceLabels.forEach(function(K){P.add(K)}),v.attr({transform:"translate(".concat(Z,", ").concat(b,") scale(").concat(F,")")}),v.add(P),this.ret.add(v),this.donutDataLabels.show){var j=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:Z,translateY:b});this.ret.add(j)}return"front"===u.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(a,l){var u=this.w,h=new bn(this.ctx),p=new Me(this.ctx),g=new he(this.ctx),m=p.group({class:"apexcharts-slices"}),v=this.initialAngle,w=this.initialAngle,E=this.initialAngle,D=this.initialAngle;this.strokeWidth=u.config.stroke.show?u.config.stroke.width:0;for(var A=0;A<a.length;A++){var R=p.group({class:"apexcharts-series apexcharts-pie-series",seriesName:fe.escapeString(u.globals.seriesNames[A]),rel:A+1,"data:realIndex":A});m.add(R),E=(v=E)+a[A],D=(w=D)+this.prevSectorAngleArr[A];var O=E<v?this.fullAngle+E-v:E-v,F=g.fillPath({seriesNumber:A,size:this.sliceSizes[A],value:l[A]}),z=this.getChangedPath(w,D),G=p.drawPath({d:z,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[A]:this.lineColorArr,strokeWidth:0,fill:F,fillOpacity:u.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(A)});G.attr({index:0,j:A}),h.setSelectionFilter(G,0,A),u.config.chart.dropShadow.enabled&&h.dropShadow(G,u.config.chart.dropShadow,A),this.addListeners(G,this.donutDataLabels),Me.setAttrs(G.node,{"data:angle":O,"data:startAngle":v,"data:strokeWidth":this.strokeWidth,"data:value":l[A]});var b={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?b=fe.polarToCartesian(this.centerX,this.centerY,u.globals.radialSize/1.25+u.config.plotOptions.pie.dataLabels.offset,(v+O/2)%this.fullAngle):"donut"===this.chartType&&(b=fe.polarToCartesian(this.centerX,this.centerY,(u.globals.radialSize+this.donutSize)/2+u.config.plotOptions.pie.dataLabels.offset,(v+O/2)%this.fullAngle)),R.add(G);var I=0;if(!this.initialAnim||u.globals.resized||u.globals.dataChanged?this.animBeginArr.push(0):(0==(I=O/this.fullAngle*u.config.chart.animations.speed)&&(I=1),this.animDur=I+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(G,this.dynamicAnim&&u.globals.dataChanged?{size:this.sliceSizes[A],endAngle:E,startAngle:v,prevStartAngle:w,prevEndAngle:D,animateStartingPos:!0,i:A,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:u.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[A],endAngle:E,startAngle:v,i:A,totalItems:a.length-1,animBeginArr:this.animBeginArr,dur:I}),u.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&G.click(this.pieClicked.bind(this,A)),void 0!==u.globals.selectedDataPoints[0]&&u.globals.selectedDataPoints[0].indexOf(A)>-1&&this.pieClicked(A),u.config.dataLabels.enabled){var P=b.x,j=b.y,K=100*O/this.fullAngle+"%";if(0!==O&&u.config.plotOptions.pie.dataLabels.minAngleToShowLabel<a[A]){var Y=u.config.dataLabels.formatter;void 0!==Y&&(K=Y(u.globals.seriesPercent[A][0],{seriesIndex:A,w:u}));var _e=u.globals.dataLabels.style.colors[A],me=p.group({class:"apexcharts-datalabels"}),Re=p.drawText({x:P,y:j,text:K,textAnchor:"middle",fontSize:u.config.dataLabels.style.fontSize,fontFamily:u.config.dataLabels.style.fontFamily,fontWeight:u.config.dataLabels.style.fontWeight,foreColor:_e});me.add(Re),u.config.dataLabels.dropShadow.enabled&&h.dropShadow(Re,u.config.dataLabels.dropShadow),Re.node.classList.add("apexcharts-pie-label"),u.config.chart.animations.animate&&!1===u.globals.resized&&(Re.node.classList.add("apexcharts-pie-label-delay"),Re.node.style.animationDelay=u.config.chart.animations.speed/940+"s"),this.sliceLabels.push(me)}}}return m}},{key:"addListeners",value:function(a,l){var u=new Me(this.ctx);a.node.addEventListener("mouseenter",u.pathMouseEnter.bind(this,a)),a.node.addEventListener("mouseleave",u.pathMouseLeave.bind(this,a)),a.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,a.node,l)),a.node.addEventListener("mousedown",u.pathMouseDown.bind(this,a)),this.donutDataLabels.total.showAlways||(a.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,a.node,l)),a.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,a.node,l)))}},{key:"animatePaths",value:function(a,l){var h=l.endAngle<l.startAngle?this.fullAngle+l.endAngle-l.startAngle:l.endAngle-l.startAngle,p=h,g=l.startAngle,m=l.startAngle;void 0!==l.prevStartAngle&&void 0!==l.prevEndAngle&&(g=l.prevEndAngle,p=l.prevEndAngle<l.prevStartAngle?this.fullAngle+l.prevEndAngle-l.prevStartAngle:l.prevEndAngle-l.prevStartAngle),l.i===this.w.config.series.length-1&&(h+m>this.fullAngle?l.endAngle=l.endAngle-(h+m):h+m<this.fullAngle&&(l.endAngle=l.endAngle+(this.fullAngle-(h+m)))),h===this.fullAngle&&(h=this.fullAngle-.01),this.animateArc(a,g,m,h,p,l)}},{key:"animateArc",value:function(a,l,u,h,p,g){var m,v=this,w=this.w,E=new Ii(this.ctx),D=g.size;(isNaN(l)||isNaN(p))&&(l=u,p=h,g.dur=0);var A=h,R=u,O=l<u?this.fullAngle+l-u:l-u;w.globals.dataChanged&&g.shouldSetPrevPaths&&g.prevEndAngle&&(m=v.getPiePath({me:v,startAngle:g.prevStartAngle,angle:g.prevEndAngle<g.prevStartAngle?this.fullAngle+g.prevEndAngle-g.prevStartAngle:g.prevEndAngle-g.prevStartAngle,size:D}),a.attr({d:m})),0!==g.dur?a.animate(g.dur,w.globals.easing,g.animBeginArr[g.i]).afterAll(function(){"pie"!==v.chartType&&"donut"!==v.chartType&&"polarArea"!==v.chartType||this.animate(w.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":v.strokeWidth}),g.i===w.config.series.length-1&&E.animationCompleted(a)}).during(function(F){A=O+(h-O)*F,g.animateStartingPos&&(A=p+(h-p)*F,R=l-p+(u-(l-p))*F),m=v.getPiePath({me:v,startAngle:R,angle:A,size:D}),a.node.setAttribute("data:pathOrig",m),a.attr({d:m})}):(m=v.getPiePath({me:v,startAngle:R,angle:h,size:D}),g.isTrack||(w.globals.animationEnded=!0),a.node.setAttribute("data:pathOrig",m),a.attr({d:m,"stroke-width":v.strokeWidth}))}},{key:"pieClicked",value:function(a){var l,u=this.w,h=this,p=h.sliceSizes[a]+(u.config.plotOptions.pie.expandOnClick?4:0),g=u.globals.dom.Paper.select(".apexcharts-".concat(h.chartType.toLowerCase(),"-slice-").concat(a)).members[0];if("true"!==g.attr("data:pieClicked")){var m=u.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(m,function(D){D.setAttribute("data:pieClicked","false");var A=D.getAttribute("data:pathOrig");A&&D.setAttribute("d",A)}),g.attr("data:pieClicked","true");var v=parseInt(g.attr("data:startAngle"),10),w=parseInt(g.attr("data:angle"),10);l=h.getPiePath({me:h,startAngle:v,angle:w,size:p}),360!==w&&g.plot(l)}else{g.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(g.node,this.donutDataLabels);var E=g.attr("data:pathOrig");g.attr({d:E})}}},{key:"getChangedPath",value:function(a,l){var u="";return this.dynamicAnim&&this.w.globals.dataChanged&&(u=this.getPiePath({me:this,startAngle:a,angle:l-a,size:this.size})),u}},{key:"getPiePath",value:function(a){var l=a.me,u=a.startAngle,h=a.angle,p=a.size,g=u,m=Math.PI*(g-90)/180,v=h+u;Math.ceil(v)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(v=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(v)>this.fullAngle&&(v-=this.fullAngle);var w=Math.PI*(v-90)/180,E=l.centerX+p*Math.cos(m),D=l.centerY+p*Math.sin(m),A=l.centerX+p*Math.cos(w),R=l.centerY+p*Math.sin(w),O=fe.polarToCartesian(l.centerX,l.centerY,l.donutSize,v),F=fe.polarToCartesian(l.centerX,l.centerY,l.donutSize,g),z=h>180?1:0,G=["M",E,D,"A",p,p,0,z,1,A,R];return"donut"===l.chartType?[].concat(G,["L",O.x,O.y,"A",l.donutSize,l.donutSize,0,z,0,F.x,F.y,"L",E,D,"z"]).join(" "):"pie"===l.chartType||"polarArea"===l.chartType?[].concat(G,["L",l.centerX,l.centerY,"L",E,D]).join(" "):[].concat(G).join(" ")}},{key:"drawPolarElements",value:function(a){var l=this.w,u=new Hn(this.ctx),h=new Me(this.ctx),p=new Na(this.ctx),g=h.group(),m=h.group(),v=u.niceScale(0,Math.ceil(this.maxY),l.config.yaxis[0].tickAmount,0,!0),w=v.result.reverse(),E=v.result.length;this.maxY=v.niceMax;for(var D=l.globals.radialSize,A=D/(E-1),R=0;R<E-1;R++){var O=h.drawCircle(D);if(O.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":l.config.plotOptions.polarArea.rings.strokeWidth,stroke:l.config.plotOptions.polarArea.rings.strokeColor}),l.config.yaxis[0].show){var F=p.drawYAxisTexts(this.centerX,this.centerY-D+parseInt(l.config.yaxis[0].labels.style.fontSize,10)/2,R,w[R]);m.add(F)}g.add(O),D-=A}this.drawSpokes(a),a.add(g),a.add(m)}},{key:"renderInnerDataLabels",value:function(a,l){var u=this.w,h=new Me(this.ctx),p=h.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(l.translateX?l.translateX:0,", ").concat(l.translateY?l.translateY:0,") scale(").concat(u.config.plotOptions.pie.customScale,")")}),g=a.total.show;p.node.style.opacity=l.opacity;var m,v,w=l.centerX,E=l.centerY;m=void 0===a.name.color?u.globals.colors[0]:a.name.color;var D=a.name.fontSize,A=a.name.fontFamily,R=a.name.fontWeight;v=void 0===a.value.color?u.config.chart.foreColor:a.value.color;var O=a.value.formatter,F="",z="";if(g?(m=a.total.color,D=a.total.fontSize,A=a.total.fontFamily,R=a.total.fontWeight,z=a.total.label,F=a.total.formatter(u)):1===u.globals.series.length&&(F=O(u.globals.series[0],u),z=u.globals.seriesNames[0]),z&&(z=a.name.formatter(z,a.total.show,u)),a.name.show){var G=h.drawText({x:w,y:E+parseFloat(a.name.offsetY),text:z,textAnchor:"middle",foreColor:m,fontSize:D,fontWeight:R,fontFamily:A});G.node.classList.add("apexcharts-datalabel-label"),p.add(G)}if(a.value.show){var Z=a.name.show?parseFloat(a.value.offsetY)+16:a.value.offsetY,b=h.drawText({x:w,y:E+Z,text:F,textAnchor:"middle",foreColor:v,fontWeight:a.value.fontWeight,fontSize:a.value.fontSize,fontFamily:a.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),p.add(b)}return p}},{key:"printInnerLabels",value:function(a,l,u,h){var p,g=this.w;h?p=void 0===a.name.color?g.globals.colors[parseInt(h.parentNode.getAttribute("rel"),10)-1]:a.name.color:g.globals.series.length>1&&a.total.show&&(p=a.total.color);var m=g.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),v=g.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");u=(0,a.value.formatter)(u,g),h||"function"!=typeof a.total.formatter||(u=a.total.formatter(g)),l=a.name.formatter(l,l===a.total.label,g),null!==m&&(m.textContent=l),null!==v&&(v.textContent=u),null!==m&&(m.style.fill=p)}},{key:"printDataLabelsInner",value:function(a,l){var u=this.w,h=a.getAttribute("data:value"),p=u.globals.seriesNames[parseInt(a.parentNode.getAttribute("rel"),10)-1];u.globals.series.length>1&&this.printInnerLabels(l,p,h,a);var g=u.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==g&&(g.style.opacity=1)}},{key:"drawSpokes",value:function(a){var l=this,u=this.w,h=new Me(this.ctx),p=u.config.plotOptions.polarArea.spokes;if(0!==p.strokeWidth){for(var g=[],m=360/u.globals.series.length,v=0;v<u.globals.series.length;v++)g.push(fe.polarToCartesian(this.centerX,this.centerY,u.globals.radialSize,u.config.plotOptions.pie.startAngle+m*v));g.forEach(function(w,E){var D=h.drawLine(w.x,w.y,l.centerX,l.centerY,Array.isArray(p.connectorColors)?p.connectorColors[E]:p.connectorColors);a.add(D)})}}},{key:"revertDataLabelsInner",value:function(a,l,u){var h=this,p=this.w,g=p.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),m=!1,v=p.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),w=function(A){var R=A.makeSliceOut,O=A.printLabel;Array.prototype.forEach.call(v,function(F){"true"===F.getAttribute("data:pieClicked")&&(R&&(m=!0),O&&h.printDataLabelsInner(F,l))})};if(w({makeSliceOut:!0,printLabel:!1}),l.total.show&&p.globals.series.length>1)m&&!l.total.showAlways?w({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(l,l.total.label,l.total.formatter(p));else if(w({makeSliceOut:!1,printLabel:!0}),!m)if(p.globals.selectedDataPoints.length&&p.globals.series.length>1)if(p.globals.selectedDataPoints[0].length>0){var E=p.globals.selectedDataPoints[0],D=p.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(E));this.printDataLabelsInner(D,l)}else g&&p.globals.selectedDataPoints.length&&0===p.globals.selectedDataPoints[0].length&&(g.style.opacity=0);else g&&p.globals.series.length>1&&(g.style.opacity=0)}}]),L}(),ge=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var l=this.w;this.graphics=new Me(this.ctx),this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=l.globals.svgHeight<l.globals.svgWidth?l.globals.gridHeight+1.5*l.globals.goldenPadding:l.globals.gridWidth,this.isLog=l.config.yaxis[0].logarithmic,this.coreUtils=new qt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(l.globals.maxY,0):l.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):l.globals.minY,this.polygons=l.config.plotOptions.radar.polygons,this.strokeWidth=l.config.stroke.show?l.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-l.config.chart.dropShadow.blur,l.config.xaxis.labels.show&&(this.size=this.size-l.globals.xAxisLabelsWidth/1.75),void 0!==l.config.plotOptions.radar.size&&(this.size=l.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return ht(L,[{key:"draw",value:function(a){var l=this,u=this.w,h=new he(this.ctx),p=[],g=new We(this.ctx);a.length&&(this.dataPointsLen=a[u.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var E=u.globals.gridHeight/2+u.config.plotOptions.radar.offsetY,D=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(u.globals.gridWidth/2+u.config.plotOptions.radar.offsetX||0,", ").concat(E||0,")")}),A=[],R=null,O=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),a.forEach(function(z,G){var Z=z.length===u.globals.dataPoints,b=l.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Z,seriesName:fe.escapeString(u.globals.seriesNames[G]),rel:G+1,"data:realIndex":G});l.dataRadiusOfPercent[G]=[],l.dataRadius[G]=[],l.angleArr[G]=[],z.forEach(function(Ye,Se){var bt=Math.abs(l.maxValue-l.minValue);Ye+=Math.abs(l.minValue),l.isLog&&(Ye=l.coreUtils.getLogVal(Ye,0)),l.dataRadiusOfPercent[G][Se]=Ye/bt,l.dataRadius[G][Se]=l.dataRadiusOfPercent[G][Se]*l.size,l.angleArr[G][Se]=Se*l.disAngle}),A=l.getDataPointsPos(l.dataRadius[G],l.angleArr[G]);var I=l.createPaths(A,{x:0,y:0});R=l.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),O=l.graphics.group({class:"apexcharts-datalabels","data:realIndex":G}),u.globals.delayedElements.push({el:R.node,index:G});var P={i:G,realIndex:G,animationDelay:G,initialSpeed:u.config.chart.animations.speed,dataChangeSpeed:u.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:u.globals.stroke.colors[G],strokeLineCap:u.config.stroke.lineCap},j=null;u.globals.previousPaths.length>0&&(j=l.getPreviousPath(G));for(var K=0;K<I.linePathsTo.length;K++){var Y=l.graphics.renderPaths(ae(ae({},P),{},{pathFrom:null===j?I.linePathsFrom[K]:j,pathTo:I.linePathsTo[K],strokeWidth:Array.isArray(l.strokeWidth)?l.strokeWidth[G]:l.strokeWidth,fill:"none",drawShadow:!1}));b.add(Y);var _e=h.fillPath({seriesNumber:G}),me=l.graphics.renderPaths(ae(ae({},P),{},{pathFrom:null===j?I.areaPathsFrom[K]:j,pathTo:I.areaPathsTo[K],strokeWidth:0,fill:_e,drawShadow:!1}));u.config.chart.dropShadow.enabled&&new bn(l.ctx).dropShadow(me,Object.assign({},u.config.chart.dropShadow,{noUserSpaceOnUse:!0}),G),b.add(me)}z.forEach(function(Ye,Se){var bt=new Ae(l.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:G,dataPointIndex:Se}),tn=l.graphics.drawMarker(A[Se].x,A[Se].y,bt);tn.attr("rel",Se),tn.attr("j",Se),tn.attr("index",G),tn.node.setAttribute("default-marker-size",bt.pSize);var kn=l.graphics.group({class:"apexcharts-series-markers"});kn&&kn.add(tn),R.add(kn),b.add(R);var Xn=u.config.dataLabels;if(Xn.enabled){var xi=Xn.formatter(u.globals.series[G][Se],{seriesIndex:G,dataPointIndex:Se,w:u});g.plotDataLabelsText({x:A[Se].x,y:A[Se].y,text:xi,textAnchor:"middle",i:G,j:G,parent:O,offsetCorrection:!1,dataLabelsConfig:ae({},Xn)})}b.add(O)}),p.push(b)}),this.drawPolygons({parent:D}),u.config.xaxis.labels.show){var F=this.drawXAxisTexts();D.add(F)}return p.forEach(function(z){D.add(z)}),D.add(this.yaxisLabels),D}},{key:"drawPolygons",value:function(a){for(var l=this,u=this.w,h=a.parent,p=new Na(this.ctx),g=u.globals.yAxisScale[0].result.reverse(),m=g.length,v=[],w=this.size/(m-1),E=0;E<m;E++)v[E]=w*E;v.reverse();var D=[],A=[];v.forEach(function(R,O){var F=fe.getPolygonPos(R,l.dataPointsLen),z="";F.forEach(function(G,Z){if(0===O){var b=l.graphics.drawLine(G.x,G.y,0,0,Array.isArray(l.polygons.connectorColors)?l.polygons.connectorColors[Z]:l.polygons.connectorColors);A.push(b)}0===Z&&l.yaxisLabelsTextsPos.push({x:G.x,y:G.y}),z+=G.x+","+G.y+" "}),D.push(z)}),D.forEach(function(R,O){var F=l.polygons.strokeColors,z=l.polygons.strokeWidth,G=l.graphics.drawPolygon(R,Array.isArray(F)?F[O]:F,Array.isArray(z)?z[O]:z,u.globals.radarPolygons.fill.colors[O]);h.add(G)}),A.forEach(function(R){h.add(R)}),u.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(R,O){var F=p.drawYAxisTexts(R.x,R.y,O,g[O]);l.yaxisLabels.add(F)})}},{key:"drawXAxisTexts",value:function(){var a=this,l=this.w,u=l.config.xaxis.labels,h=this.graphics.group({class:"apexcharts-xaxis"}),p=fe.getPolygonPos(this.size,this.dataPointsLen);return l.globals.labels.forEach(function(g,m){var v=l.config.xaxis.labels.formatter,w=new We(a.ctx);if(p[m]){var E=a.getTextPos(p[m],a.size),D=v(g,{seriesIndex:-1,dataPointIndex:m,w:l});w.plotDataLabelsText({x:E.newX,y:E.newY,text:D,textAnchor:E.textAnchor,i:m,j:m,parent:h,color:Array.isArray(u.style.colors)&&u.style.colors[m]?u.style.colors[m]:"#a8a8a8",dataLabelsConfig:ae({textAnchor:E.textAnchor,dropShadow:{enabled:!1}},u),offsetCorrection:!1})}}),h}},{key:"createPaths",value:function(a,l){var u=this,h=[],p=[],g=[],m=[];if(a.length){p=[this.graphics.move(l.x,l.y)],m=[this.graphics.move(l.x,l.y)];var v=this.graphics.move(a[0].x,a[0].y),w=this.graphics.move(a[0].x,a[0].y);a.forEach(function(E,D){v+=u.graphics.line(E.x,E.y),w+=u.graphics.line(E.x,E.y),D===a.length-1&&(v+="Z",w+="Z")}),h.push(v),g.push(w)}return{linePathsFrom:p,linePathsTo:h,areaPathsFrom:m,areaPathsTo:g}}},{key:"getTextPos",value:function(a,l){var u="middle",h=a.x,p=a.y;return Math.abs(a.x)>=10?a.x>0?(u="start",h+=10):a.x<0&&(u="end",h-=10):u="middle",Math.abs(a.y)>=l-10&&(a.y<0?p-=10:a.y>0&&(p+=10)),{textAnchor:u,newX:h,newY:p}}},{key:"getPreviousPath",value:function(a){for(var l=this.w,u=null,h=0;h<l.globals.previousPaths.length;h++){var p=l.globals.previousPaths[h];p.paths.length>0&&parseInt(p.realIndex,10)===parseInt(a,10)&&void 0!==l.globals.previousPaths[h].paths[0]&&(u=l.globals.previousPaths[h].paths[0].d)}return u}},{key:"getDataPointsPos",value:function(a,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;a=a||[],l=l||[];for(var h=[],p=0;p<u;p++){var g={};g.x=a[p]*Math.sin(l[p]),g.y=-a[p]*Math.cos(l[p]),h.push(g)}return h}}]),L}(),ue=function(L){yn(l,po);var a=sn(l);function l(u){var h;Ue(this,l),(h=a.call(this,u)).ctx=u,h.w=u.w,h.animBeginArr=[0],h.animDur=0;var p=h.w;return h.startAngle=p.config.plotOptions.radialBar.startAngle,h.endAngle=p.config.plotOptions.radialBar.endAngle,h.totalAngle=Math.abs(p.config.plotOptions.radialBar.endAngle-p.config.plotOptions.radialBar.startAngle),h.trackStartAngle=p.config.plotOptions.radialBar.track.startAngle,h.trackEndAngle=p.config.plotOptions.radialBar.track.endAngle,h.donutDataLabels=h.w.config.plotOptions.radialBar.dataLabels,h.radialDataLabels=h.donutDataLabels,h.trackStartAngle||(h.trackStartAngle=h.startAngle),h.trackEndAngle||(h.trackEndAngle=h.endAngle),360===h.endAngle&&(h.endAngle=359.99),h.margin=parseInt(p.config.plotOptions.radialBar.track.margin,10),h}return ht(l,[{key:"draw",value:function(u){var h=this.w,p=new Me(this.ctx),g=p.group({class:"apexcharts-radialbar"});if(h.globals.noData)return g;var m=p.group(),v=this.defaultSize/2,w=h.globals.gridWidth/2,E=this.defaultSize/2.05;h.config.chart.sparkline.enabled||(E=E-h.config.stroke.width-h.config.chart.dropShadow.blur);var D=h.globals.fill.colors;if(h.config.plotOptions.radialBar.track.show){var A=this.drawTracks({size:E,centerX:w,centerY:v,colorArr:D,series:u});m.add(A)}var R=this.drawArcs({size:E,centerX:w,centerY:v,colorArr:D,series:u}),O=360;h.config.plotOptions.radialBar.startAngle<0&&(O=this.totalAngle);var F=(360-O)/360;if(h.globals.radialSize=E-E*F,this.radialDataLabels.value.show){var z=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);h.globals.radialSize+=z*F}return m.add(R.g),"front"===h.config.plotOptions.radialBar.hollow.position&&(R.g.add(R.elHollow),R.dataLabels&&R.g.add(R.dataLabels)),g.add(m),g}},{key:"drawTracks",value:function(u){var h=this.w,p=new Me(this.ctx),g=p.group({class:"apexcharts-tracks"}),m=new bn(this.ctx),v=new he(this.ctx),w=this.getStrokeWidth(u);u.size=u.size-w/2;for(var E=0;E<u.series.length;E++){var D=p.group({class:"apexcharts-radialbar-track apexcharts-track"});g.add(D),D.attr({rel:E+1}),u.size=u.size-w-this.margin;var A=h.config.plotOptions.radialBar.track,R=v.fillPath({seriesNumber:0,size:u.size,fillColors:Array.isArray(A.background)?A.background[E]:A.background,solid:!0}),O=this.trackStartAngle,F=this.trackEndAngle;Math.abs(F)+Math.abs(O)>=360&&(F=360-Math.abs(this.startAngle)-.1);var z=p.drawPath({d:"",stroke:R,strokeWidth:w*parseInt(A.strokeWidth,10)/100,fill:"none",strokeOpacity:A.opacity,classes:"apexcharts-radialbar-area"});A.dropShadow.enabled&&m.dropShadow(z,A.dropShadow),D.add(z),z.attr("id","apexcharts-radialbarTrack-"+E),this.animatePaths(z,{centerX:u.centerX,centerY:u.centerY,endAngle:F,startAngle:O,size:u.size,i:E,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:h.globals.easing})}return g}},{key:"drawArcs",value:function(u){var h=this.w,p=new Me(this.ctx),g=new he(this.ctx),m=new bn(this.ctx),v=p.group(),w=this.getStrokeWidth(u);u.size=u.size-w/2;var E=h.config.plotOptions.radialBar.hollow.background,D=u.size-w*u.series.length-this.margin*u.series.length-w*parseInt(h.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,A=D-h.config.plotOptions.radialBar.hollow.margin;void 0!==h.config.plotOptions.radialBar.hollow.image&&(E=this.drawHollowImage(u,v,D,E));var R=this.drawHollow({size:A,centerX:u.centerX,centerY:u.centerY,fill:E||"transparent"});h.config.plotOptions.radialBar.hollow.dropShadow.enabled&&m.dropShadow(R,h.config.plotOptions.radialBar.hollow.dropShadow);var F=1;!this.radialDataLabels.total.show&&h.globals.series.length>1&&(F=0);var z=null;this.radialDataLabels.show&&(z=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:D,centerX:u.centerX,centerY:u.centerY,opacity:F})),"back"===h.config.plotOptions.radialBar.hollow.position&&(v.add(R),z&&v.add(z));var G=!1;h.config.plotOptions.radialBar.inverseOrder&&(G=!0);for(var Z=G?u.series.length-1:0;G?Z>=0:Z<u.series.length;G?Z--:Z++){var b=p.group({class:"apexcharts-series apexcharts-radial-series",seriesName:fe.escapeString(h.globals.seriesNames[Z])});v.add(b),b.attr({rel:Z+1,"data:realIndex":Z}),this.ctx.series.addCollapsedClassToSeries(b,Z),u.size=u.size-w-this.margin;var I=g.fillPath({seriesNumber:Z,size:u.size,value:u.series[Z]}),P=this.startAngle,j=void 0,K=fe.negToZero(u.series[Z]>100?100:u.series[Z])/100,Y=Math.round(this.totalAngle*K)+this.startAngle,_e=void 0;h.globals.dataChanged&&(j=this.startAngle,_e=Math.round(this.totalAngle*fe.negToZero(h.globals.previousPaths[Z])/100)+j),Math.abs(Y)+Math.abs(P)>=360&&(Y-=.01),Math.abs(_e)+Math.abs(j)>=360&&(_e-=.01);var me=Y-P,Re=Array.isArray(h.config.stroke.dashArray)?h.config.stroke.dashArray[Z]:h.config.stroke.dashArray,le=p.drawPath({d:"",stroke:I,strokeWidth:w,fill:"none",fillOpacity:h.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Z,strokeDashArray:Re});Me.setAttrs(le.node,{"data:angle":me,"data:value":u.series[Z]}),h.config.chart.dropShadow.enabled&&m.dropShadow(le,h.config.chart.dropShadow,Z),m.setSelectionFilter(le,0,Z),this.addListeners(le,this.radialDataLabels),b.add(le),le.attr({index:0,j:Z});var Se=0;!this.initialAnim||h.globals.resized||h.globals.dataChanged||(Se=h.config.chart.animations.speed),h.globals.dataChanged&&(Se=h.config.chart.animations.dynamicAnimation.speed),this.animDur=Se/(1.2*u.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(le,{centerX:u.centerX,centerY:u.centerY,endAngle:Y,startAngle:P,prevEndAngle:_e,prevStartAngle:j,size:u.size,i:Z,totalItems:2,animBeginArr:this.animBeginArr,dur:Se,shouldSetPrevPaths:!0,easing:h.globals.easing})}return{g:v,elHollow:R,dataLabels:z}}},{key:"drawHollow",value:function(u){var h=new Me(this.ctx).drawCircle(2*u.size);return h.attr({class:"apexcharts-radialbar-hollow",cx:u.centerX,cy:u.centerY,r:u.size,fill:u.fill}),h}},{key:"drawHollowImage",value:function(u,h,p,g){var m=this.w,v=new he(this.ctx),w=fe.randomId(),E=m.config.plotOptions.radialBar.hollow.image;if(m.config.plotOptions.radialBar.hollow.imageClipped)v.clippedImgArea({width:p,height:p,image:E,patternID:"pattern".concat(m.globals.cuid).concat(w)}),g="url(#pattern".concat(m.globals.cuid).concat(w,")");else{var D=m.config.plotOptions.radialBar.hollow.imageWidth,A=m.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===D&&void 0===A){var R=m.globals.dom.Paper.image(E).loaded(function(F){this.move(u.centerX-F.width/2+m.config.plotOptions.radialBar.hollow.imageOffsetX,u.centerY-F.height/2+m.config.plotOptions.radialBar.hollow.imageOffsetY)});h.add(R)}else{var O=m.globals.dom.Paper.image(E).loaded(function(F){this.move(u.centerX-D/2+m.config.plotOptions.radialBar.hollow.imageOffsetX,u.centerY-A/2+m.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(D,A)});h.add(O)}}return g}},{key:"getStrokeWidth",value:function(u){return u.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(u.series.length+1)-this.margin}}]),l}(),$=function(L){yn(l,Pi);var a=sn(l);function l(){return Ue(this,l),a.apply(this,arguments)}return ht(l,[{key:"draw",value:function(u,h){var p=this.w,g=new Me(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=u,this.seriesRangeStart=p.globals.seriesRangeStart,this.seriesRangeEnd=p.globals.seriesRangeEnd,this.barHelpers.initVariables(u);for(var m=g.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),v=0;v<u.length;v++){var w,E,D,A,R=void 0,O=void 0,F=p.globals.comboCharts?h[v]:v,z=g.group({class:"apexcharts-series",seriesName:fe.escapeString(p.globals.seriesNames[F]),rel:v+1,"data:realIndex":F});this.ctx.series.addCollapsedClassToSeries(z,F),u[v].length>0&&(this.visibleI=this.visibleI+1);var G=0,Z=0;this.yRatio.length>1&&(this.yaxisIndex=F);var b=this.barHelpers.initialPositions();O=b.y,A=b.zeroW,R=b.x,Z=b.barWidth,G=b.barHeight,w=b.xDivision,E=b.yDivision,D=b.zeroH;for(var I=g.group({class:"apexcharts-datalabels","data:realIndex":F}),P=g.group({class:"apexcharts-rangebar-goals-markers"}),j=0;j<p.globals.dataPoints;j++){var K,Y=this.barHelpers.getStrokeWidth(v,j,F),_e=this.seriesRangeStart[v][j],me=this.seriesRangeEnd[v][j],Re=null,le=null,Ye=null,Se={x:R,y:O,strokeWidth:Y,elSeries:z},bt=this.seriesLen;if(p.config.plotOptions.bar.rangeBarGroupRows&&(bt=1),void 0===p.config.series[v].data[j])break;if(this.isHorizontal){if(Ye=O+G*this.visibleI,p.config.series[v].data[j].x){var kn=this.detectOverlappingBars({i:v,j,barYPosition:Ye,srty:(E-G*bt)/2,barHeight:G,yDivision:E,initPositions:b});G=kn.barHeight,Ye=kn.barYPosition}Z=(Re=this.drawRangeBarPaths(ae({indexes:{i:v,j,realIndex:F},barHeight:G,barYPosition:Ye,zeroW:A,yDivision:E,y1:_e,y2:me},Se))).barWidth}else{if(p.globals.isXNumeric&&(R=(p.globals.seriesX[v][j]-p.globals.minX)/this.xRatio-Z/2),le=R+Z*this.visibleI,p.config.series[v].data[j].x){var xi=this.detectOverlappingBars({i:v,j,barXPosition:le,srtx:(w-Z*bt)/2,barWidth:Z,xDivision:w,initPositions:b});Z=xi.barWidth,le=xi.barXPosition}G=(Re=this.drawRangeColumnPaths(ae({indexes:{i:v,j,realIndex:F},barWidth:Z,barXPosition:le,zeroH:D,xDivision:w},Se))).barHeight}var ri=this.barHelpers.drawGoalLine({barXPosition:Re.barXPosition,barYPosition:Ye,goalX:Re.goalX,goalY:Re.goalY,barHeight:G,barWidth:Z});ri&&P.add(ri),O=Re.y,R=Re.x;var Hi=this.barHelpers.getPathFillColor(u,v,j,F);this.renderSeries((Bn(K={realIndex:F,pathFill:Hi,lineFill:p.globals.stroke.colors[F],j,i:v,x:R,y:O,y1:_e,y2:me,pathFrom:Re.pathFrom,pathTo:Re.pathTo,strokeWidth:Y,elSeries:z,series:u,barHeight:G,barWidth:Z,barXPosition:le,barYPosition:Ye},"barWidth",Z),Bn(K,"elDataLabelsWrap",I),Bn(K,"elGoalsMarkers",P),Bn(K,"visibleSeries",this.visibleI),Bn(K,"type","rangebar"),K))}m.add(z)}return m}},{key:"detectOverlappingBars",value:function(u){var h=u.i,p=u.j,g=u.barYPosition,m=u.barXPosition,v=u.srty,w=u.srtx,E=u.barHeight,D=u.barWidth,A=u.yDivision,R=u.xDivision,O=u.initPositions,F=this.w,z=[],G=F.config.series[h].data[p].rangeName,Z=F.config.series[h].data[p].x,b=Array.isArray(Z)?Z.join(" "):Z,I=F.globals.labels.map(function(j){return Array.isArray(j)?j.join(" "):j}).indexOf(b),P=F.globals.seriesRange[h].findIndex(function(j){return j.x===b&&j.overlaps.length>0});return this.isHorizontal?(g=F.config.plotOptions.bar.rangeBarGroupRows?v+A*I:v+E*this.visibleI+A*I,P>-1&&!F.config.plotOptions.bar.rangeBarOverlap&&(z=F.globals.seriesRange[h][P].overlaps).indexOf(G)>-1&&(g=(E=O.barHeight/z.length)*this.visibleI+A*(100-parseInt(this.barOptions.barHeight,10))/100/2+E*(this.visibleI+z.indexOf(G))+A*I)):(I>-1&&(m=F.config.plotOptions.bar.rangeBarGroupRows?w+R*I:w+D*this.visibleI+R*I),P>-1&&!F.config.plotOptions.bar.rangeBarOverlap&&(z=F.globals.seriesRange[h][P].overlaps).indexOf(G)>-1&&(m=(D=O.barWidth/z.length)*this.visibleI+R*(100-parseInt(this.barOptions.barWidth,10))/100/2+D*(this.visibleI+z.indexOf(G))+R*I)),{barYPosition:g,barXPosition:m,barHeight:E,barWidth:D}}},{key:"drawRangeColumnPaths",value:function(u){var h=u.indexes,p=u.x,g=u.xDivision,m=u.barWidth,v=u.barXPosition,w=u.zeroH,E=this.w,D=h.i,A=h.j,R=this.yRatio[this.yaxisIndex],O=h.realIndex,F=this.getRangeValue(O,A),z=Math.min(F.start,F.end),G=Math.max(F.start,F.end);null==this.series[D][A]?z=w:(z=w-z/R,G=w-G/R);var Z=Math.abs(G-z),b=this.barHelpers.getColumnPaths({barXPosition:v,barWidth:m,y1:z,y2:G,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:h.realIndex,i:O,j:A,w:E});if(E.globals.isXNumeric){var I=this.getBarXForNumericXAxis({x:p,j:A,realIndex:O,barWidth:m});p=I.x,v=I.barXPosition}else p+=g;return{pathTo:b.pathTo,pathFrom:b.pathFrom,barHeight:Z,x:p,y:G,goalY:this.barHelpers.getGoalValues("y",null,w,D,A),barXPosition:v}}},{key:"drawRangeBarPaths",value:function(u){var h=u.indexes,p=u.y,v=u.yDivision,w=u.barHeight,E=u.barYPosition,D=u.zeroW,A=this.w,R=D+u.y1/this.invertedYRatio,O=D+u.y2/this.invertedYRatio,F=Math.abs(O-R),z=this.barHelpers.getBarpaths({barYPosition:E,barHeight:w,x1:R,x2:O,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:h.realIndex,realIndex:h.realIndex,j:h.j,w:A});return A.globals.isXNumeric||(p+=v),{pathTo:z.pathTo,pathFrom:z.pathFrom,barWidth:F,x:O,goalX:this.barHelpers.getGoalValues("x",D,null,h.realIndex,h.j),y:p}}},{key:"getRangeValue",value:function(u,h){var p=this.w;return{start:p.globals.seriesRangeStart[u][h],end:p.globals.seriesRangeEnd[u][h]}}}]),l}(),J=function(){function L(a){Ue(this,L),this.w=a.w,this.lineCtx=a}return ht(L,[{key:"sameValueSeriesFix",value:function(a,l){var u=this.w;if(("gradient"===u.config.fill.type||"gradient"===u.config.fill.type[a])&&new qt(this.lineCtx.ctx,u).seriesHaveSameValues(a)){var h=l[a].slice();h[h.length-1]=h[h.length-1]+1e-6,l[a]=h}return l}},{key:"calculatePoints",value:function(a){var l=a.series,h=a.x,p=a.y,g=a.i,m=a.j,v=a.prevY,w=this.w,E=[],D=[];if(0===m){var A=this.lineCtx.categoryAxisCorrection+w.config.markers.offsetX;w.globals.isXNumeric&&(A=(w.globals.seriesX[a.realIndex][0]-w.globals.minX)/this.lineCtx.xRatio+w.config.markers.offsetX),E.push(A),D.push(fe.isNumber(l[g][0])?v+w.config.markers.offsetY:null),E.push(h+w.config.markers.offsetX),D.push(fe.isNumber(l[g][m+1])?p+w.config.markers.offsetY:null)}else E.push(h+w.config.markers.offsetX),D.push(fe.isNumber(l[g][m+1])?p+w.config.markers.offsetY:null);return{x:E,y:D}}},{key:"checkPreviousPaths",value:function(a){for(var l=a.pathFromLine,u=a.pathFromArea,h=a.realIndex,p=this.w,g=0;g<p.globals.previousPaths.length;g++){var m=p.globals.previousPaths[g];("line"===m.type||"area"===m.type)&&m.paths.length>0&&parseInt(m.realIndex,10)===parseInt(h,10)&&("line"===m.type?(this.lineCtx.appendPathFrom=!1,l=p.globals.previousPaths[g].paths[0].d):"area"===m.type&&(this.lineCtx.appendPathFrom=!1,u=p.globals.previousPaths[g].paths[0].d,p.config.stroke.show&&p.globals.previousPaths[g].paths[1]&&(l=p.globals.previousPaths[g].paths[1].d)))}return{pathFromLine:l,pathFromArea:u}}},{key:"determineFirstPrevY",value:function(a){var l,u=a.i,h=a.series,p=a.prevY,g=a.lineYPosition,m=this.w;if(void 0!==(null===(l=h[u])||void 0===l?void 0:l[0]))p=(g=m.config.chart.stacked&&u>0?this.lineCtx.prevSeriesY[u-1][0]:this.lineCtx.zeroY)-h[u][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?h[u][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(m.config.chart.stacked&&u>0&&void 0===h[u][0])for(var v=u-1;v>=0;v--)if(null!=h[v][0]){p=g=this.lineCtx.prevSeriesY[v][0];break}return{prevY:p,lineYPosition:g}}}]),L}(),de=function(L){for(var a="",l=0;l<L.length;l++){var u=L[l],h=L[l-1],p=u.length,g=h?.length;l>1&&Math.abs(u[p-2]-h[g-2])<30?(a+="Q".concat(u[0],", ").concat(u[1]),a+=", ".concat(u[2],", ").concat(u[3])):p>4?(a+="C".concat(u[0],", ").concat(u[1]),a+=", ".concat(u[2],", ").concat(u[3]),a+=", ".concat(u[4],", ").concat(u[5])):p>2&&(a+="S".concat(u[0],", ").concat(u[1]),a+=", ".concat(u[2],", ").concat(u[3]))}return a},He=function(L){var a=function(L){for(var a,l,u,h,p=function(E){for(var D=[],A=E[0],R=E[1],O=D[0]=Tt(A,R),F=1,z=E.length-1;F<z;F++)D[F]=.5*(O+(O=Tt(A=R,R=E[F+1])));return D[F]=O,D}(L),g=L.length-1,m=[],v=0;v<g;v++)u=Tt(L[v],L[v+1]),Math.abs(u)<1e-6?p[v]=p[v+1]=0:(h=(a=p[v]/u)*a+(l=p[v+1]/u)*l)>9&&(h=3*u/Math.sqrt(h),p[v]=h*a,p[v+1]=h*l);for(var w=0;w<=g;w++)h=(L[Math.min(g,w+1)][0]-L[Math.max(0,w-1)][0])/(6*(1+p[w]*p[w])),m.push([h||0,p[w]*h||0]);return m}(L),l=L[1],u=L[0],h=[],p=a[1],g=a[0];h.push(u,[u[0]+g[0],u[1]+g[1],l[0]-p[0],l[1]-p[1],l[0],l[1]]);for(var m=2,v=a.length;m<v;m++){var w=L[m],E=a[m];h.push([w[0]-E[0],w[1]-E[1],w[0],w[1]])}return h};function Tt(L,a){return(a[1]-L[1])/(a[0]-L[0])}var vt=function(){function L(a,l,u){Ue(this,L),this.ctx=a,this.w=a.w,this.xyRatios=l,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||u,this.scatter=new Je(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new J(this),this.markers=new Ae(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return ht(L,[{key:"draw",value:function(a,l,u,h){var p,g=this.w,m=new Me(this.ctx),v=g.globals.comboCharts?l:g.config.chart.type,w=m.group({class:"apexcharts-".concat(v,"-series apexcharts-plot-series")}),E=new qt(this.ctx,g);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,a=E.getLogSeries(a),this.yRatio=E.getLogYRatios(this.yRatio);for(var D=[],A=0;A<a.length;A++){a=this.lineHelpers.sameValueSeriesFix(A,a);var R=g.globals.comboCharts?u[A]:A;this._initSerieVariables(a,A,R);var O=[],F=[],z=[],G=g.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,R),g.globals.isXNumeric&&g.globals.seriesX.length>0&&(G=(g.globals.seriesX[R][0]-g.globals.minX)/this.xRatio),z.push(G);var Z=G,b=this.zeroY,I=this.zeroY;b=this.lineHelpers.determineFirstPrevY({i:A,series:a,prevY:b,lineYPosition:0}).prevY,O.push("smooth"===g.config.stroke.curve&&null===a[A][0]?null:b),"rangeArea"===v&&(I=this.lineHelpers.determineFirstPrevY({i:A,series:h,prevY:I,lineYPosition:0}).prevY,F.push(I));var P={type:v,series:a,realIndex:R,i:A,x:G,y:1,pathsFrom:this._calculatePathsFrom({type:v,series:a,i:A,realIndex:R,prevX:Z,prevY:b,prevY2:I}),linePaths:[],areaPaths:[],seriesIndex:u,lineYPosition:0,xArrj:z,yArrj:O,y2Arrj:F,seriesRangeEnd:h},j=this._iterateOverDataPoints(ae(ae({},P),{},{iterations:"rangeArea"===v?a[A].length-1:void 0,isRangeStart:!0}));if("rangeArea"===v){var K=this._calculatePathsFrom({series:h,i:A,realIndex:R,prevX:Z,prevY:I}),Y=this._iterateOverDataPoints(ae(ae({},P),{},{series:h,pathsFrom:K,iterations:h[A].length-1,isRangeStart:!1}));j.linePaths[0]=Y.linePath+j.linePath,j.pathFromLine=Y.pathFromLine+j.pathFromLine}this._handlePaths({type:v,realIndex:R,i:A,paths:j}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),D.push(this.elSeries)}if(void 0!==(null===(p=g.config.series[0])||void 0===p?void 0:p.zIndex)&&D.sort(function(Re,le){return Number(Re.node.getAttribute("zIndex"))-Number(le.node.getAttribute("zIndex"))}),g.config.chart.stacked)for(var _e=D.length;_e>0;_e--)w.add(D[_e-1]);else for(var me=0;me<D.length;me++)w.add(D[me]);return w}},{key:"_initSerieVariables",value:function(a,l,u){var h=this.w,p=new Me(this.ctx);this.xDivision=h.globals.gridWidth/(h.globals.dataPoints-("on"===h.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(h.config.stroke.width)?h.config.stroke.width[u]:h.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=u),this.isReversed=h.config.yaxis[this.yaxisIndex]&&h.config.yaxis[this.yaxisIndex].reversed,this.zeroY=h.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?h.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>h.globals.gridHeight||"end"===h.config.plotOptions.area.fillTo)&&(this.areaBottomY=h.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=p.group({class:"apexcharts-series",zIndex:void 0!==h.config.series[u].zIndex?h.config.series[u].zIndex:u,seriesName:fe.escapeString(h.globals.seriesNames[u])}),this.elPointsMain=p.group({class:"apexcharts-series-markers-wrap","data:realIndex":u}),this.elDataLabelsWrap=p.group({class:"apexcharts-datalabels","data:realIndex":u}),this.elSeries.attr({"data:longestSeries":a[l].length===h.globals.dataPoints,rel:l+1,"data:realIndex":u}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(a){var l,u,h,p,g=a.type,m=a.series,v=a.i,w=a.realIndex,E=a.prevX,D=a.prevY,A=a.prevY2,R=this.w,O=new Me(this.ctx);if(null===m[v][0]){for(var F=0;F<m[v].length;F++)if(null!==m[v][F]){l=O.move(E=this.xDivision*F,D=this.zeroY-m[v][F]/this.yRatio[this.yaxisIndex]),u=O.move(E,this.areaBottomY);break}}else l=O.move(E,D),"rangeArea"===g&&(l=O.move(E,A)+O.line(E,D)),u=O.move(E,this.areaBottomY)+O.line(E,D);if(h=O.move(-1,this.zeroY)+O.line(-1,this.zeroY),p=O.move(-1,this.zeroY)+O.line(-1,this.zeroY),R.globals.previousPaths.length>0){var z=this.lineHelpers.checkPreviousPaths({pathFromLine:h,pathFromArea:p,realIndex:w});h=z.pathFromLine,p=z.pathFromArea}return{prevX:E,prevY:D,linePath:l,areaPath:u,pathFromLine:h,pathFromArea:p}}},{key:"_handlePaths",value:function(a){var l=a.type,u=a.realIndex,h=a.i,p=a.paths,g=this.w,m=new Me(this.ctx),v=new he(this.ctx);this.prevSeriesY.push(p.yArrj),g.globals.seriesXvalues[u]=p.xArrj,g.globals.seriesYvalues[u]=p.yArrj;var w=g.config.forecastDataPoints;if(w.count>0&&"rangeArea"!==l){var E=g.globals.seriesXvalues[u][g.globals.seriesXvalues[u].length-w.count-1],D=m.drawRect(E,0,g.globals.gridWidth,g.globals.gridHeight,0);g.globals.dom.elForecastMask.appendChild(D.node);var A=m.drawRect(0,0,E,g.globals.gridHeight,0);g.globals.dom.elNonForecastMask.appendChild(A.node)}this.pointsChart||g.globals.delayedElements.push({el:this.elPointsMain.node,index:u});var R={i:h,realIndex:u,animationDelay:h,initialSpeed:g.config.chart.animations.speed,dataChangeSpeed:g.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(l)};if("area"===l)for(var O=v.fillPath({seriesNumber:u}),F=0;F<p.areaPaths.length;F++){var z=m.renderPaths(ae(ae({},R),{},{pathFrom:p.pathFromArea,pathTo:p.areaPaths[F],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:O}));this.elSeries.add(z)}if(g.config.stroke.show&&!this.pointsChart){var G=null;if("line"===l)G=v.fillPath({seriesNumber:u,i:h});else if("solid"===g.config.stroke.fill.type)G=g.globals.stroke.colors[u];else{var Z=g.config.fill;g.config.fill=g.config.stroke.fill,G=v.fillPath({seriesNumber:u,i:h}),g.config.fill=Z}for(var b=0;b<p.linePaths.length;b++){var I=G;"rangeArea"===l&&(I=v.fillPath({seriesNumber:u}));var P=ae(ae({},R),{},{pathFrom:p.pathFromLine,pathTo:p.linePaths[b],stroke:G,strokeWidth:this.strokeWidth,strokeLineCap:g.config.stroke.lineCap,fill:"rangeArea"===l?I:"none"}),j=m.renderPaths(P);if(this.elSeries.add(j),j.attr("fill-rule","evenodd"),w.count>0&&"rangeArea"!==l){var K=m.renderPaths(P);K.node.setAttribute("stroke-dasharray",w.dashArray),w.strokeWidth&&K.node.setAttribute("stroke-width",w.strokeWidth),this.elSeries.add(K),K.attr("clip-path","url(#forecastMask".concat(g.globals.cuid,")")),j.attr("clip-path","url(#nonForecastMask".concat(g.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(a){var l=this,u=a.type,h=a.series,p=a.iterations,g=a.realIndex,m=a.i,v=a.x,w=a.y,E=a.pathsFrom,D=a.linePaths,A=a.areaPaths,R=a.seriesIndex,O=a.lineYPosition,F=a.xArrj,z=a.yArrj,G=a.y2Arrj,Z=a.isRangeStart,b=a.seriesRangeEnd,I=this.w,P=new Me(this.ctx),j=this.yRatio,K=E.prevY,Y=E.linePath,_e=E.areaPath,me=E.pathFromLine,Re=E.pathFromArea,le=fe.isNumber(I.globals.minYArr[g])?I.globals.minYArr[g]:I.globals.minY;p||(p=I.globals.dataPoints>1?I.globals.dataPoints-1:I.globals.dataPoints);for(var Ye=function(ri,Hi){return Hi-ri/j[l.yaxisIndex]+2*(l.isReversed?ri/j[l.yaxisIndex]:0)},Se=w,bt=0;bt<p;bt++){var tn=null==h[m][bt+1];if(I.globals.isXNumeric){var kn=I.globals.seriesX[g][bt+1];void 0===I.globals.seriesX[g][bt+1]&&(kn=I.globals.seriesX[g][p-1]),v=(kn-I.globals.minX)/this.xRatio}else v+=this.xDivision;O=I.config.chart.stacked&&m>0&&I.globals.collapsedSeries.length<I.config.series.length-1?this.prevSeriesY[function(ri){for(var Hi=ri,ws=0;ws<I.globals.series.length;ws++)if(I.globals.collapsedSeriesIndices.indexOf(ri)>-1){Hi--;break}return Hi>=0?Hi:0}(m-1)][bt+1]:this.zeroY,tn?w=Ye(le,O):(w=Ye(h[m][bt+1],O),"rangeArea"===u&&(Se=Ye(b[m][bt+1],O))),F.push(v),z.push(tn&&"smooth"===I.config.stroke.curve?null:w),G.push(Se);var Xn=this.lineHelpers.calculatePoints({series:h,x:v,y:w,realIndex:g,i:m,j:bt,prevY:K}),xi=this._createPaths({type:u,series:h,i:m,realIndex:g,j:bt,x:v,y:w,y2:Se,xArrj:F,yArrj:z,y2Arrj:G,linePath:Y,areaPath:_e,linePaths:D,areaPaths:A,seriesIndex:R,isRangeStart:Z});A=xi.areaPaths,D=xi.linePaths,_e=xi.areaPath,Y=xi.linePath,!this.appendPathFrom||"smooth"===I.config.stroke.curve&&"rangeArea"===u||(me+=P.line(v,this.zeroY),Re+=P.line(v,this.zeroY)),this.handleNullDataPoints(h,Xn,m,bt,g),this._handleMarkersAndLabels({type:u,pointsPos:Xn,i:m,j:bt,realIndex:g,isRangeStart:Z})}return{yArrj:z,xArrj:F,pathFromArea:Re,areaPaths:A,pathFromLine:me,linePaths:D,linePath:Y,areaPath:_e}}},{key:"_handleMarkersAndLabels",value:function(a){var l=a.type,u=a.pointsPos,h=a.isRangeStart,p=a.i,g=a.j,m=a.realIndex,v=this.w,w=new We(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,g,{realIndex:m,pointsPos:u,zRatio:this.zRatio,elParent:this.elPointsMain});else{v.globals.series[p].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var E=this.markers.plotChartMarkers(u,m,g+1);null!==E&&this.elPointsMain.add(E)}var D=w.drawDataLabel({type:l,isRangeStart:h,pos:u,i:m,j:g+1});null!==D&&this.elDataLabelsWrap.add(D)}},{key:"_createPaths",value:function(a){var l=a.type,u=a.series,h=a.i,p=a.realIndex,g=a.j,m=a.x,v=a.y,w=a.xArrj,E=a.yArrj,D=a.y2,A=a.y2Arrj,R=a.linePath,O=a.areaPath,F=a.linePaths,z=a.areaPaths,G=a.seriesIndex,Z=a.isRangeStart,b=this.w,I=new Me(this.ctx),P=b.config.stroke.curve,j=this.areaBottomY;if(Array.isArray(b.config.stroke.curve)&&(P=Array.isArray(G)?b.config.stroke.curve[G[h]]:b.config.stroke.curve[h]),"rangeArea"===l&&(b.globals.hasNullValues||b.config.forecastDataPoints.count>0)&&"smooth"===P&&(P="straight"),"smooth"===P){var K="rangeArea"===l?w.length===b.globals.dataPoints:g===u[h].length-2,Y=w.map(function(bt,tn){return[w[tn],E[tn]]}).filter(function(bt){return null!==bt[1]});if(K&&Y.length>1){var _e=He(Y);if(R+=de(_e),null===u[h][0]?O=R:O+=de(_e),"rangeArea"===l&&Z){R+=I.line(w[w.length-1],A[A.length-1]);var me=w.slice().reverse(),Re=A.slice().reverse(),le=me.map(function(bt,tn){return[me[tn],Re[tn]]}),Ye=He(le);O=R+=de(Ye)}else O+=I.line(Y[Y.length-1][0],j)+I.line(Y[0][0],j)+I.move(Y[0][0],Y[0][1])+"z";F.push(R),z.push(O)}}else null===u[h][g+1]&&(R+=I.move(m,v),O=O+I.line(b.globals.isXNumeric?(b.globals.seriesX[p][g]-b.globals.minX)/this.xRatio:m-this.xDivision,j)+I.move(m,v)+"z"),null===u[h][g]&&(R+=I.move(m,v),O+=I.move(m,j)),"stepline"===P?(R=R+I.line(m,null,"H")+I.line(null,v,"V"),O=O+I.line(m,null,"H")+I.line(null,v,"V")):"straight"===P&&(R+=I.line(m,v),O+=I.line(m,v)),g===u[h].length-2&&(O=O+I.line(m,j)+I.move(m,v)+"z","rangeArea"===l&&Z?R=R+I.line(m,D)+I.move(m,D)+"z":(F.push(R),z.push(O)));return{linePaths:F,areaPaths:z,linePath:R,areaPath:O}}},{key:"handleNullDataPoints",value:function(a,l,u,h,p){var g=this.w;if(null===a[u][h]&&g.config.markers.showNullDataPoints||1===a[u].length){var m=this.markers.plotChartMarkers(l,p,h+1,this.strokeWidth-g.config.markers.strokeWidth/2,!0);null!==m&&this.elPointsMain.add(m)}}}]),L}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function L(m,v,w,E){this.xoffset=m,this.yoffset=v,this.height=E,this.width=w,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(D){var A,R=[],O=this.xoffset,F=this.yoffset,z=p(D)/this.height,G=p(D)/this.width;if(this.width>=this.height)for(A=0;A<D.length;A++)R.push([O,F,O+z,F+D[A]/z]),F+=D[A]/z;else for(A=0;A<D.length;A++)R.push([O,F,O+D[A]/G,F+G]),O+=D[A]/G;return R},this.cutArea=function(D){var A;if(this.width>=this.height){var R=D/this.height;A=new L(this.xoffset+R,this.yoffset,this.width-R,this.height)}else{var F=D/this.width;A=new L(this.xoffset,this.yoffset+F,this.width,this.height-F)}return A}}function a(m,v,w,E,D){return E=void 0===E?0:E,D=void 0===D?0:D,function(R){var O,F,z=[];for(O=0;O<R.length;O++)for(F=0;F<R[O].length;F++)z.push(R[O][F]);return z}(l(function(R,O){var F,z=[],G=O/p(R);for(F=0;F<R.length;F++)z[F]=R[F]*G;return z}(m,v*w),[],new L(E,D,v,w),[]))}function l(m,v,w,E){var D,A,R,O,F,z,G;if(0!==m.length)return D=w.shortestEdge(),F=A=m[0],z=D,0===(O=v).length||((G=O.slice()).push(F),u(O,z)>=u(G,z))?(v.push(A),l(m.slice(1),v,w,E)):(R=w.cutArea(p(v),E),E.push(w.getCoordinates(v)),l(m,[],R,E)),E;E.push(w.getCoordinates(v))}function u(m,v){var w=Math.min.apply(Math,m),E=Math.max.apply(Math,m),D=p(m);return Math.max(Math.pow(v,2)*E/Math.pow(D,2),Math.pow(D,2)/(Math.pow(v,2)*w))}function h(m){return m&&m.constructor===Array}function p(m){var v,w=0;for(v=0;v<m.length;v++)w+=m[v];return w}function g(m){var v,w=0;if(h(m[0]))for(v=0;v<m.length;v++)w+=g(m[v]);else w=p(m);return w}return function m(v,w,E,D,A){D=void 0===D?0:D,A=void 0===A?0:A;var R,O,F=[],z=[];if(h(v[0])){for(O=0;O<v.length;O++)F[O]=g(v[O]);for(R=a(F,w,E,D,A),O=0;O<v.length;O++)z.push(m(v[O],R[O][2]-R[O][0],R[O][3]-R[O][1],R[O][0],R[O][1]))}else z=a(v,w,E,D,A);return z}}();var en,ii,Ct=function(){function L(a,l){Ue(this,L),this.ctx=a,this.w=a.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new el(a),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return ht(L,[{key:"draw",value:function(a){var l=this,u=this.w,h=new Me(this.ctx),p=new he(this.ctx),g=h.group({class:"apexcharts-treemap"});if(u.globals.noData)return g;var m=[];return a.forEach(function(v){var w=v.map(function(E){return Math.abs(E)});m.push(w)}),this.negRange=this.helpers.checkColorRange(),u.config.series.forEach(function(v,w){v.data.forEach(function(E){Array.isArray(l.labels[w])||(l.labels[w]=[]),l.labels[w].push(E.x)})}),window.TreemapSquared.generate(m,u.globals.gridWidth,u.globals.gridHeight).forEach(function(v,w){var E=h.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:fe.escapeString(u.globals.seriesNames[w]),rel:w+1,"data:realIndex":w});if(u.config.chart.dropShadow.enabled){var D=u.config.chart.dropShadow;new bn(l.ctx).dropShadow(g,D,w)}var A=h.group({class:"apexcharts-data-labels"});v.forEach(function(R,O){var F=R[0],z=R[1],G=R[2],Z=R[3],b=h.drawRect(F,z,G-F,Z-z,0,"#fff",1,l.strokeWidth,u.config.plotOptions.treemap.useFillColorAsStroke?P:u.globals.stroke.colors[w]);b.attr({cx:F,cy:z,index:w,i:w,j:O,width:G-F,height:Z-z});var I=l.helpers.getShadeColor(u.config.chart.type,w,O,l.negRange),P=I.color;void 0!==u.config.series[w].data[O]&&u.config.series[w].data[O].fillColor&&(P=u.config.series[w].data[O].fillColor);var j=p.fillPath({color:P,seriesNumber:w,dataPointIndex:O});b.node.classList.add("apexcharts-treemap-rect"),b.attr({fill:j}),l.helpers.addListeners(b);var K={x:F+(G-F)/2,y:z+(Z-z)/2,width:0,height:0},Y={x:F,y:z,width:G-F,height:Z-z};if(u.config.chart.animations.enabled&&!u.globals.dataChanged){var _e=1;u.globals.resized||(_e=u.config.chart.animations.speed),l.animateTreemap(b,K,Y,_e)}u.globals.dataChanged&&l.dynamicAnim.enabled&&u.globals.shouldAnimate&&(u.globals.previousPaths[w]&&u.globals.previousPaths[w][O]&&u.globals.previousPaths[w][O].rect&&(K=u.globals.previousPaths[w][O].rect),l.animateTreemap(b,K,Y,l.dynamicAnim.speed));var Re=l.getFontSize(R),le=u.config.dataLabels.formatter(l.labels[w][O],{value:u.globals.series[w][O],seriesIndex:w,dataPointIndex:O,w:u});"truncate"===u.config.plotOptions.treemap.dataLabels.format&&(Re=parseInt(u.config.dataLabels.style.fontSize,10),le=l.truncateLabels(le,Re,F,z,G,Z));var Ye=l.helpers.calculateDataLabels({text:le,x:(F+G)/2,y:(z+Z)/2+l.strokeWidth/2+Re/3,i:w,j:O,colorProps:I,fontSize:Re,series:a});u.config.dataLabels.enabled&&Ye&&l.rotateToFitLabel(Ye,Re,le,F,z,G,Z),E.add(b),null!==Ye&&E.add(Ye)}),E.add(A),g.add(E)}),g}},{key:"getFontSize",value:function(a){var g,l=this.w,m=function v(w){var E,D=0;if(Array.isArray(w[0]))for(E=0;E<w.length;E++)D+=v(w[E]);else for(E=0;E<w.length;E++)D+=w[E].length;return D}(this.labels)/function v(w){var E,D=0;if(Array.isArray(w[0]))for(E=0;E<w.length;E++)D+=v(w[E]);else for(E=0;E<w.length;E++)D+=1;return D}(this.labels);return g=Math.pow((a[2]-a[0])*(a[3]-a[1]),.5),Math.min(g/m,parseInt(l.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(a,l,u,h,p,g,m){var v=new Me(this.ctx),w=v.getTextRects(u,l);if(w.width+this.w.config.stroke.width+5>g-h&&w.width<=m-p){var E=v.rotateAroundCenter(a.node);a.node.setAttribute("transform","rotate(-90 ".concat(E.x," ").concat(E.y,") translate(").concat(w.height/3,")"))}}},{key:"truncateLabels",value:function(a,l,u,h,p,g){var m=new Me(this.ctx),v=m.getTextRects(a,l).width+this.w.config.stroke.width+5>p-u&&g-h>p-u?g-h:p-u,w=m.getTextBasedOnMaxWidth({text:a,maxWidth:v,fontSize:l});return a.length!==w.length&&v/l<5?"":w}},{key:"animateTreemap",value:function(a,l,u,h){var p=new Ii(this.ctx);p.animateRect(a,{x:l.x,y:l.y,width:l.width,height:l.height},{x:u.x,y:u.y,width:u.width,height:u.height},h,function(){p.animationCompleted(a)})}}]),L}(),Gt=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return ht(L,[{key:"calculateTimeScaleTicks",value:function(a,l){var u=this,h=this.w;if(h.globals.allSeriesCollapsed)return h.globals.labels=[],h.globals.timescaleLabels=[],[];var p=new fn(this.ctx),g=(l-a)/864e5;this.determineInterval(g),h.globals.disableZoomIn=!1,h.globals.disableZoomOut=!1,g<.00011574074074074075?h.globals.disableZoomIn=!0:g>5e4&&(h.globals.disableZoomOut=!0);var m=p.getTimeUnitsfromTimestamp(a,l,this.utc),v=h.globals.gridWidth/g,w=v/24,E=w/60,D=E/60,A=Math.floor(24*g),R=Math.floor(1440*g),O=Math.floor(86400*g),F=Math.floor(g),z=Math.floor(g/30),G=Math.floor(g/365),Z={minMillisecond:m.minMillisecond,minSecond:m.minSecond,minMinute:m.minMinute,minHour:m.minHour,minDate:m.minDate,minMonth:m.minMonth,minYear:m.minYear},b={firstVal:Z,currentMillisecond:Z.minMillisecond,currentSecond:Z.minSecond,currentMinute:Z.minMinute,currentHour:Z.minHour,currentMonthDate:Z.minDate,currentDate:Z.minDate,currentMonth:Z.minMonth,currentYear:Z.minYear,daysWidthOnXAxis:v,hoursWidthOnXAxis:w,minutesWidthOnXAxis:E,secondsWidthOnXAxis:D,numberOfSeconds:O,numberOfMinutes:R,numberOfHours:A,numberOfDays:F,numberOfMonths:z,numberOfYears:G};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var I=this.timeScaleArray.map(function(P){var j={position:P.position,unit:P.unit,year:P.year,day:P.day?P.day:1,hour:P.hour?P.hour:0,month:P.month+1};return"month"===P.unit?ae(ae({},j),{},{day:1,value:P.value+1}):"day"===P.unit||"hour"===P.unit?ae(ae({},j),{},{value:P.value}):"minute"===P.unit?ae(ae({},j),{},{value:P.value,minute:P.value}):"second"===P.unit?ae(ae({},j),{},{value:P.value,minute:P.minute,second:P.second}):P});return I.filter(function(P){var j=1,K=Math.ceil(h.globals.gridWidth/120),Y=P.value;void 0!==h.config.xaxis.tickAmount&&(K=h.config.xaxis.tickAmount),I.length>K&&(j=Math.floor(I.length/K));var _e=!1,me=!1;switch(u.tickInterval){case"years":"year"===P.unit&&(_e=!0);break;case"half_year":j=7,"year"===P.unit&&(_e=!0);break;case"months":j=1,"year"===P.unit&&(_e=!0);break;case"months_fortnight":j=15,"year"!==P.unit&&"month"!==P.unit||(_e=!0),30===Y&&(me=!0);break;case"months_days":j=10,"month"===P.unit&&(_e=!0),30===Y&&(me=!0);break;case"week_days":j=8,"month"===P.unit&&(_e=!0);break;case"days":j=1,"month"===P.unit&&(_e=!0);break;case"hours":"day"===P.unit&&(_e=!0);break;case"minutes_fives":case"seconds_fives":Y%5!=0&&(me=!0);break;case"seconds_tens":Y%10!=0&&(me=!0)}if("hours"===u.tickInterval||"minutes_fives"===u.tickInterval||"seconds_tens"===u.tickInterval||"seconds_fives"===u.tickInterval){if(!me)return!0}else if((Y%j==0||_e)&&!me)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(a,l){var u=this.w,h=this.formatDates(a),p=this.removeOverlappingTS(h);u.globals.timescaleLabels=p.slice(),new Qi(this.ctx).plotCoords()}},{key:"determineInterval",value:function(a){var l=24*a,u=60*l;switch(!0){case a/365>5:this.tickInterval="years";break;case a>800:this.tickInterval="half_year";break;case a>180:this.tickInterval="months";break;case a>90:this.tickInterval="months_fortnight";break;case a>60:this.tickInterval="months_days";break;case a>30:this.tickInterval="week_days";break;case a>2:this.tickInterval="days";break;case l>2.4:this.tickInterval="hours";break;case u>15:this.tickInterval="minutes_fives";break;case u>5:this.tickInterval="minutes";break;case u>1:this.tickInterval="seconds_tens";break;case 60*u>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(a){var l=a.firstVal,u=a.currentMonth,h=a.currentYear,p=a.daysWidthOnXAxis,g=a.numberOfYears,m=l.minYear,v=0,w=new fn(this.ctx),E="year";if(l.minDate>1||l.minMonth>0){var D=w.determineRemainingDaysOfYear(l.minYear,l.minMonth,l.minDate);v=(w.determineDaysOfYear(l.minYear)-D+1)*p,this.timeScaleArray.push({position:v,value:m=l.minYear+1,unit:E,year:m,month:fe.monthMod(u+1)})}else 1===l.minDate&&0===l.minMonth&&this.timeScaleArray.push({position:v,value:m,unit:E,year:h,month:fe.monthMod(u+1)});for(var A=m,R=v,O=0;O<g;O++)A++,R=w.determineDaysOfYear(A-1)*p+R,this.timeScaleArray.push({position:R,value:A,unit:E,year:A,month:1})}},{key:"generateMonthScale",value:function(a){var l=a.firstVal,u=a.currentMonthDate,h=a.currentMonth,p=a.currentYear,g=a.daysWidthOnXAxis,m=a.numberOfMonths,v=h,w=0,E=new fn(this.ctx),D="month",A=0;if(l.minDate>1){w=(E.determineDaysOfMonths(h+1,l.minYear)-u+1)*g,v=fe.monthMod(h+1);var R=p+A,O=fe.monthMod(v),F=v;0===v&&(D="year",F=R,O=1,R+=A+=1),this.timeScaleArray.push({position:w,value:F,unit:D,year:R,month:O})}else this.timeScaleArray.push({position:w,value:v,unit:D,year:p,month:fe.monthMod(h)});for(var z=v+1,G=w,Z=0,b=1;Z<m;Z++,b++){0===(z=fe.monthMod(z))?(D="year",A+=1):D="month";var I=this._getYear(p,z,A);G=E.determineDaysOfMonths(z,I)*g+G,this.timeScaleArray.push({position:G,value:0===z?I:z,unit:D,year:I,month:0===z?1:z}),z++}}},{key:"generateDayScale",value:function(a){var l=a.firstVal,u=a.currentMonth,h=a.currentYear,p=a.hoursWidthOnXAxis,g=a.numberOfDays,m=new fn(this.ctx),v="day",w=l.minDate+1,E=w,D=function(b,I,P){return b>m.determineDaysOfMonths(I+1,P)&&(E=1,v="month",R=I+=1),I},A=(24-l.minHour)*p,R=w,O=D(E,u,h);0===l.minHour&&1===l.minDate?(A=0,R=fe.monthMod(l.minMonth),v="month",E=l.minDate):1!==l.minDate&&0===l.minHour&&0===l.minMinute&&(A=0,R=w=l.minDate,O=D(E=w,u,h)),this.timeScaleArray.push({position:A,value:R,unit:v,year:this._getYear(h,O,0),month:fe.monthMod(O),day:E});for(var F=A,z=0;z<g;z++){v="day",O=D(E+=1,O,this._getYear(h,O,0));var G=this._getYear(h,O,0);F=24*p+F;var Z=1===E?fe.monthMod(O):E;this.timeScaleArray.push({position:F,value:Z,unit:v,year:G,month:fe.monthMod(O),day:Z})}}},{key:"generateHourScale",value:function(a){var l=a.firstVal,u=a.currentDate,h=a.currentMonth,p=a.currentYear,g=a.minutesWidthOnXAxis,m=a.numberOfHours,v=new fn(this.ctx),w="hour",E=function(j,K){return j>v.determineDaysOfMonths(K+1,p)&&(z=1,K+=1),{month:K,date:z}},D=function(j,K){return j>v.determineDaysOfMonths(K+1,p)?K+=1:K},A=60-(l.minMinute+l.minSecond/60),R=A*g,O=l.minHour+1,F=O;60===A&&(R=0,F=(O=l.minHour)+1);var z=u;F>=24&&(F=0,z+=1,w="day");var G=E(z,h).month;G=D(z,G),this.timeScaleArray.push({position:R,value:O,unit:w,day:z,hour:F,year:p,month:fe.monthMod(G)}),F++;for(var Z=R,b=0;b<m;b++){w="hour",F>=24&&(F=0,w="day",G=E(z+=1,G).month,G=D(z,G));var I=this._getYear(p,G,0);this.timeScaleArray.push({position:Z=60*g+Z,value:0===F?z:F,unit:w,hour:F,day:z,year:I,month:fe.monthMod(G)}),F++}}},{key:"generateMinuteScale",value:function(a){for(var w=a.minutesWidthOnXAxis,D=a.numberOfMinutes,A=a.currentMinute+1,R=a.currentDate,O=a.currentMonth,F=a.currentYear,z=a.currentHour,G=(60-a.currentSecond-a.currentMillisecond/1e3)*a.secondsWidthOnXAxis,Z=0;Z<D;Z++)A>=60&&(A=0,24===(z+=1)&&(z=0)),this.timeScaleArray.push({position:G,value:A,unit:"minute",hour:z,minute:A,day:R,year:this._getYear(F,O,0),month:fe.monthMod(O)}),G+=w,A++}},{key:"generateSecondScale",value:function(a){for(var w=a.secondsWidthOnXAxis,E=a.numberOfSeconds,D=a.currentSecond+1,A=a.currentMinute,R=a.currentDate,O=a.currentMonth,F=a.currentYear,z=a.currentHour,G=(1e3-a.currentMillisecond)/1e3*w,Z=0;Z<E;Z++)D>=60&&(D=0,++A>=60&&(A=0,24==++z&&(z=0))),this.timeScaleArray.push({position:G,value:D,unit:"second",hour:z,minute:A,second:D,day:R,year:this._getYear(F,O,0),month:fe.monthMod(O)}),G+=w,D++}},{key:"createRawDateString",value:function(a,l){var u=a.year;return 0===a.month&&(a.month=1),u+="-"+("0"+a.month.toString()).slice(-2),u+="day"===a.unit?"day"===a.unit?"-"+("0"+l).slice(-2):"-01":"-"+("0"+(a.day?a.day:"1")).slice(-2),u+="hour"===a.unit?"hour"===a.unit?"T"+("0"+l).slice(-2):"T00":"T"+("0"+(a.hour?a.hour:"0")).slice(-2),u+="minute"===a.unit?":"+("0"+l).slice(-2):":"+(a.minute?("0"+a.minute).slice(-2):"00"),u+="second"===a.unit?":"+("0"+l).slice(-2):":00",this.utc&&(u+=".000Z"),u}},{key:"formatDates",value:function(a){var l=this,u=this.w;return a.map(function(h){var p=h.value.toString(),g=new fn(l.ctx),m=l.createRawDateString(h,p),v=g.getDate(g.parseDate(m));if(l.utc||(v=g.getDate(g.parseDateWithTimezone(m))),void 0===u.config.xaxis.labels.format){var w="dd MMM",E=u.config.xaxis.labels.datetimeFormatter;"year"===h.unit&&(w=E.year),"month"===h.unit&&(w=E.month),"day"===h.unit&&(w=E.day),"hour"===h.unit&&(w=E.hour),"minute"===h.unit&&(w=E.minute),"second"===h.unit&&(w=E.second),p=g.formatDate(v,w)}else p=g.formatDate(v,u.config.xaxis.labels.format);return{dateString:m,position:h.position,value:p,unit:h.unit,year:h.year,month:h.month}})}},{key:"removeOverlappingTS",value:function(a){var l,u=this,h=new Me(this.ctx),p=!1;a.length>0&&a[0].value&&a.every(function(v){return v.value.length===a[0].value.length})&&(p=!0,l=h.getTextRects(a[0].value).width);var g=0;return a.map(function(v,w){if(w>0&&u.w.config.xaxis.labels.hideOverlappingLabels){var E=p?l:h.getTextRects(a[g].value).width;return v.position>a[g].position+E+10?(g=w,v):null}return v}).filter(function(v){return null!==v})}},{key:"_getYear",value:function(a,l,u){return a+Math.floor(l/12)+u}}]),L}(),Tr=function(){function L(a,l){Ue(this,L),this.ctx=l,this.w=l.w,this.el=a}return ht(L,[{key:"setupElements",value:function(){var a=this.w.globals,l=this.w.config,u=l.chart.type;a.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(u)>-1,a.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(u)>-1,a.isBarHorizontal=("bar"===l.chart.type||"rangeBar"===l.chart.type||"boxPlot"===l.chart.type)&&l.plotOptions.bar.horizontal,a.chartClass=".apexcharts"+a.chartID,a.dom.baseEl=this.el,a.dom.elWrap=document.createElement("div"),Me.setAttrs(a.dom.elWrap,{id:a.chartClass.substring(1),class:"apexcharts-canvas "+a.chartClass.substring(1)}),this.el.appendChild(a.dom.elWrap),a.dom.Paper=new window.SVG.Doc(a.dom.elWrap),a.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(l.chart.offsetX,", ").concat(l.chart.offsetY,")")}),a.dom.Paper.node.style.background="dark"!==l.theme.mode||l.chart.background?l.chart.background:"rgba(0, 0, 0, 0.8)",this.setSVGDimensions(),a.dom.elLegendForeign=document.createElementNS(a.SVGNS,"foreignObject"),Me.setAttrs(a.dom.elLegendForeign,{x:0,y:0,width:a.svgWidth,height:a.svgHeight}),a.dom.elLegendWrap=document.createElement("div"),a.dom.elLegendWrap.classList.add("apexcharts-legend"),a.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),a.dom.elLegendForeign.appendChild(a.dom.elLegendWrap),a.dom.Paper.node.appendChild(a.dom.elLegendForeign),a.dom.elGraphical=a.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),a.dom.elDefs=a.dom.Paper.defs(),a.dom.Paper.add(a.dom.elGraphical),a.dom.elGraphical.add(a.dom.elDefs)}},{key:"plotChartType",value:function(a,l){var u=this.w,h=u.config,p=u.globals,g={series:[],i:[]},m={series:[],i:[]},v={series:[],i:[]},w={series:[],i:[]},E={series:[],i:[]},D={series:[],i:[]},A={series:[],i:[]},R={series:[],i:[]},O={series:[],seriesRangeEnd:[],i:[]};p.series.map(function(K,Y){var _e=0;void 0!==a[Y].type?("column"===a[Y].type||"bar"===a[Y].type?(p.series.length>1&&h.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),E.series.push(K),E.i.push(Y),_e++,u.globals.columnSeries=E.series):"area"===a[Y].type?(m.series.push(K),m.i.push(Y),_e++):"line"===a[Y].type?(g.series.push(K),g.i.push(Y),_e++):"scatter"===a[Y].type?(v.series.push(K),v.i.push(Y)):"bubble"===a[Y].type?(w.series.push(K),w.i.push(Y),_e++):"candlestick"===a[Y].type?(D.series.push(K),D.i.push(Y),_e++):"boxPlot"===a[Y].type?(A.series.push(K),A.i.push(Y),_e++):"rangeBar"===a[Y].type?(R.series.push(K),R.i.push(Y),_e++):"rangeArea"===a[Y].type?(O.series.push(p.seriesRangeStart[Y]),O.seriesRangeEnd.push(p.seriesRangeEnd[Y]),O.i.push(Y),_e++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),_e>1&&(p.comboCharts=!0)):(g.series.push(K),g.i.push(Y))});var F=new vt(this.ctx,l),z=new cs(this.ctx,l);this.ctx.pie=new po(this.ctx);var G=new ue(this.ctx);this.ctx.rangeBar=new $(this.ctx,l);var Z=new ge(this.ctx),b=[];if(p.comboCharts){if(m.series.length>0&&b.push(F.draw(m.series,"area",m.i)),E.series.length>0)if(u.config.chart.stacked){var I=new es(this.ctx,l);b.push(I.draw(E.series,E.i))}else this.ctx.bar=new Pi(this.ctx,l),b.push(this.ctx.bar.draw(E.series,E.i));if(O.series.length>0&&b.push(F.draw(O.series,"rangeArea",O.i,O.seriesRangeEnd)),g.series.length>0&&b.push(F.draw(g.series,"line",g.i)),D.series.length>0&&b.push(z.draw(D.series,"candlestick",D.i)),A.series.length>0&&b.push(z.draw(A.series,"boxPlot",A.i)),R.series.length>0&&b.push(this.ctx.rangeBar.draw(R.series,R.i)),v.series.length>0){var P=new vt(this.ctx,l,!0);b.push(P.draw(v.series,"scatter",v.i))}if(w.series.length>0){var j=new vt(this.ctx,l,!0);b.push(j.draw(w.series,"bubble",w.i))}}else switch(h.chart.type){case"line":b=F.draw(p.series,"line");break;case"area":b=F.draw(p.series,"area");break;case"bar":h.chart.stacked?b=new es(this.ctx,l).draw(p.series):(this.ctx.bar=new Pi(this.ctx,l),b=this.ctx.bar.draw(p.series));break;case"candlestick":b=new cs(this.ctx,l).draw(p.series,"candlestick");break;case"boxPlot":b=new cs(this.ctx,l).draw(p.series,h.chart.type);break;case"rangeBar":b=this.ctx.rangeBar.draw(p.series);break;case"rangeArea":b=F.draw(p.seriesRangeStart,"rangeArea",void 0,p.seriesRangeEnd);break;case"heatmap":b=new Pa(this.ctx,l).draw(p.series);break;case"treemap":b=new Ct(this.ctx,l).draw(p.series);break;case"pie":case"donut":case"polarArea":b=this.ctx.pie.draw(p.series);break;case"radialBar":b=G.draw(p.series);break;case"radar":b=Z.draw(p.series);break;default:b=F.draw(p.series)}return b}},{key:"setSVGDimensions",value:function(){var a=this.w.globals,l=this.w.config;a.svgWidth=l.chart.width,a.svgHeight=l.chart.height;var u=fe.getDimensions(this.el),h=l.chart.width.toString().split(/[0-9]+/g).pop();"%"===h?fe.isNumber(u[0])&&(0===u[0].width&&(u=fe.getDimensions(this.el.parentNode)),a.svgWidth=u[0]*parseInt(l.chart.width,10)/100):"px"!==h&&""!==h||(a.svgWidth=parseInt(l.chart.width,10));var p=l.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==a.svgHeight&&""!==a.svgHeight)if("%"===p){var g=fe.getDimensions(this.el.parentNode);a.svgHeight=g[1]*parseInt(l.chart.height,10)/100}else a.svgHeight=parseInt(l.chart.height,10);else a.svgHeight=a.axisCharts?a.svgWidth/1.61:a.svgWidth/1.2;a.svgWidth<0&&(a.svgWidth=0),a.svgHeight<0&&(a.svgHeight=0),Me.setAttrs(a.dom.Paper.node,{width:a.svgWidth,height:a.svgHeight}),"%"!==p&&(a.dom.Paper.node.parentNode.parentNode.style.minHeight=a.svgHeight+(l.chart.sparkline.enabled?0:a.axisCharts?l.chart.parentHeightOffset:0)+"px"),a.dom.elWrap.style.width=a.svgWidth+"px",a.dom.elWrap.style.height=a.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var a=this.w.globals;Me.setAttrs(a.dom.elGraphical.node,{transform:"translate("+a.translateX+", "+a.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var a=this.w,l=a.globals,u=0,h=a.config.chart.sparkline.enabled?1:15;h+=a.config.grid.padding.bottom,"top"!==a.config.legend.position&&"bottom"!==a.config.legend.position||!a.config.legend.show||a.config.legend.floating||(u=new Pr(this.ctx).legendHelpers.getLegendBBox().clwh+10);var p=a.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),g=2.05*a.globals.radialSize;if(p&&!a.config.chart.sparkline.enabled&&0!==a.config.plotOptions.radialBar.startAngle){var m=fe.getBoundingClientRect(p);g=m.bottom,g=Math.max(2.05*a.globals.radialSize,m.bottom-m.top)}var w=g+l.translateY+u+h;l.dom.elLegendForeign&&l.dom.elLegendForeign.setAttribute("height",w),a.config.chart.height&&String(a.config.chart.height).indexOf("%")>0||(l.dom.elWrap.style.height=w+"px",Me.setAttrs(l.dom.Paper.node,{height:w}),l.dom.Paper.node.parentNode.parentNode.style.minHeight=w+"px")}},{key:"coreCalculations",value:function(){new pi(this.ctx).init()}},{key:"resetGlobals",value:function(){var a=this,l=function(){return a.w.config.series.map(function(p){return[]})},u=new ke,h=this.w.globals;u.initGlobalVars(h),h.seriesXvalues=l(),h.seriesYvalues=l()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var a=null,l=this.w;if(l.globals.axisCharts){if("back"===l.config.xaxis.crosshairs.position&&new Ke(this.ctx).drawXCrosshairs(),"back"===l.config.yaxis[0].crosshairs.position&&new Ke(this.ctx).drawYCrosshairs(),"datetime"===l.config.xaxis.type&&void 0===l.config.xaxis.labels.formatter){this.ctx.timeScale=new Gt(this.ctx);var u=[];isFinite(l.globals.minX)&&isFinite(l.globals.maxX)&&!l.globals.isBarHorizontal?u=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minX,l.globals.maxX):l.globals.isBarHorizontal&&(u=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minY,l.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(u)}a=new qt(this.ctx).getCalculatedRatios()}return a}},{key:"updateSourceChart",value:function(a){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:a.w.globals.minX,max:a.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var a=this,l=this.w;if(l.config.chart.brush.enabled&&"function"!=typeof l.config.chart.events.selection){var u=Array.isArray(l.config.chart.brush.targets)||[l.config.chart.brush.target];u.forEach(function(h){var p=ApexCharts.getChartByID(h);p.w.globals.brushSource=a.ctx,"function"!=typeof p.w.config.chart.events.zoomed&&(p.w.config.chart.events.zoomed=function(){a.updateSourceChart(p)}),"function"!=typeof p.w.config.chart.events.scrolled&&(p.w.config.chart.events.scrolled=function(){a.updateSourceChart(p)})}),l.config.chart.events.selection=function(h,p){u.forEach(function(g){var m=ApexCharts.getChartByID(g),v=fe.clone(l.config.yaxis);if(l.config.chart.brush.autoScaleYaxis&&1===m.w.globals.series.length){var w=new Hn(m);v=w.autoScaleY(m,v,p)}var E=m.w.config.yaxis.reduce(function(D,A,R){return[].concat(On(D),[ae(ae({},m.w.config.yaxis[R]),{},{min:v[0].min,max:v[0].max})])},[]);m.ctx.updateHelpers._updateOptions({xaxis:{min:p.xaxis.min,max:p.xaxis.max},yaxis:E},!1,!1,!1,!1)})}}}}]),L}(),tl=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"_updateOptions",value:function(a){var l=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],g=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(m){var v=[l.ctx];p&&(v=l.ctx.getSyncedCharts()),l.ctx.w.globals.isExecCalled&&(v=[l.ctx],l.ctx.w.globals.isExecCalled=!1),v.forEach(function(w,E){var D=w.w;if(D.globals.shouldAnimate=h,u||(D.globals.resized=!0,D.globals.dataChanged=!0,h&&w.series.getPreviousPaths()),a&&"object"===yt(a)&&(w.config=new Ur(a),a=qt.extendArrayProps(w.config,a,D),w.w.globals.chartID!==l.ctx.w.globals.chartID&&delete a.series,D.config=fe.extend(D.config,a),g&&(D.globals.lastXAxis=a.xaxis?fe.clone(a.xaxis):[],D.globals.lastYAxis=a.yaxis?fe.clone(a.yaxis):[],D.globals.initialConfig=fe.extend({},D.config),D.globals.initialSeries=fe.clone(D.config.series),a.series))){for(var A=0;A<D.globals.collapsedSeriesIndices.length;A++){var R=D.config.series[D.globals.collapsedSeriesIndices[A]];D.globals.collapsedSeries[A].data=D.globals.axisCharts?R.data.slice():R}for(var O=0;O<D.globals.ancillaryCollapsedSeriesIndices.length;O++){var F=D.config.series[D.globals.ancillaryCollapsedSeriesIndices[O]];D.globals.ancillaryCollapsedSeries[O].data=D.globals.axisCharts?F.data.slice():F}w.series.emptyCollapsedSeries(D.config.series)}return w.update(a).then(function(){E===v.length-1&&m(w)})})})}},{key:"_updateSeries",value:function(a,l){var u=this,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(p){var g,m=u.w;return m.globals.shouldAnimate=l,m.globals.dataChanged=!0,l&&u.ctx.series.getPreviousPaths(),m.globals.axisCharts?(0===(g=a.map(function(v,w){return u._extendSeries(v,w)})).length&&(g=[{data:[]}]),m.config.series=g):m.config.series=a.slice(),h&&(m.globals.initialConfig.series=fe.clone(m.config.series),m.globals.initialSeries=fe.clone(m.config.series)),u.ctx.update().then(function(){p(u.ctx)})})}},{key:"_extendSeries",value:function(a,l){var u=this.w,h=u.config.series[l];return ae(ae({},u.config.series[l]),{},{name:a.name?a.name:h?.name,color:a.color?a.color:h?.color,type:a.type?a.type:h?.type,group:a.group?a.group:h?.group,data:a.data?a.data:h?.data,zIndex:void 0!==a.zIndex?a.zIndex:l})}},{key:"toggleDataPointSelection",value:function(a,l){var u=this.w,h=null,p=".apexcharts-series[data\\:realIndex='".concat(a,"']");return u.globals.axisCharts?h=u.globals.dom.Paper.select("".concat(p," path[j='").concat(l,"'], ").concat(p," circle[j='").concat(l,"'], ").concat(p," rect[j='").concat(l,"']")).members[0]:void 0===l&&(h=u.globals.dom.Paper.select("".concat(p," path[j='").concat(a,"']")).members[0],"pie"!==u.config.chart.type&&"polarArea"!==u.config.chart.type&&"donut"!==u.config.chart.type||this.ctx.pie.pieClicked(a)),h?(new Me(this.ctx).pathMouseDown(h,null),h.node?h.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(a){var l=this.w;if(["min","max"].forEach(function(h){void 0!==a.xaxis[h]&&(l.config.xaxis[h]=a.xaxis[h],l.globals.lastXAxis[h]=a.xaxis[h])}),a.xaxis.categories&&a.xaxis.categories.length&&(l.config.xaxis.categories=a.xaxis.categories),l.config.xaxis.convertedCatToNumeric){var u=new _r(a);a=u.convertCatToNumericXaxis(a,this.ctx)}return a}},{key:"forceYAxisUpdate",value:function(a){return a.chart&&a.chart.stacked&&"100%"===a.chart.stackType&&(Array.isArray(a.yaxis)?a.yaxis.forEach(function(l,u){a.yaxis[u].min=0,a.yaxis[u].max=100}):(a.yaxis.min=0,a.yaxis.max=100)),a}},{key:"revertDefaultAxisMinMax",value:function(a){var l=this,u=this.w,h=u.globals.lastXAxis,p=u.globals.lastYAxis;a&&a.xaxis&&(h=a.xaxis),a&&a.yaxis&&(p=a.yaxis),u.config.xaxis.min=h.min,u.config.xaxis.max=h.max,u.config.yaxis.map(function(m,v){u.globals.zoomed||void 0!==p[v]?function(m){void 0!==p[m]&&(u.config.yaxis[m].min=p[m].min,u.config.yaxis[m].max=p[m].max)}(v):void 0!==l.ctx.opts.yaxis[v]&&(m.min=l.ctx.opts.yaxis[v].min,m.max=l.ctx.opts.yaxis[v].max)})}}]),L}();en=typeof window<"u"?window:void 0,ii=function(L,a){var l=(void 0!==this?this:L).SVG=function(b){if(l.supported)return b=new l.Doc(b),l.parser.draw||l.prepare(),b};if(l.ns="http://www.w3.org/2000/svg",l.xmlns="http://www.w3.org/2000/xmlns/",l.xlink="http://www.w3.org/1999/xlink",l.svgjs="http://svgjs.dev",l.supported=!0,!l.supported)return!1;l.did=1e3,l.eid=function(b){return"Svgjs"+E(b)+l.did++},l.create=function(b){var I=a.createElementNS(this.ns,b);return I.setAttribute("id",this.eid(b)),I},l.extend=function(){var b,I;I=(b=[].slice.call(arguments)).pop();for(var P=b.length-1;P>=0;P--)if(b[P])for(var j in I)b[P].prototype[j]=I[j];l.Set&&l.Set.inherit&&l.Set.inherit()},l.invent=function(b){var I="function"==typeof b.create?b.create:function(){this.constructor.call(this,l.create(b.create))};return b.inherit&&(I.prototype=new b.inherit),b.extend&&l.extend(I,b.extend),b.construct&&l.extend(b.parent||l.Container,b.construct),I},l.adopt=function(b){return b?b.instance?b.instance:((I="svg"==b.nodeName?b.parentNode instanceof L.SVGElement?new l.Nested:new l.Doc:"linearGradient"==b.nodeName?new l.Gradient("linear"):"radialGradient"==b.nodeName?new l.Gradient("radial"):l[E(b.nodeName)]?new(l[E(b.nodeName)]):new l.Element(b)).type=b.nodeName,I.node=b,b.instance=I,I instanceof l.Doc&&I.namespace().defs(),I.setData(JSON.parse(b.getAttribute("svgjs:data"))||{}),I):null;var I},l.prepare=function(){var b=a.getElementsByTagName("body")[0],I=(b?new l.Doc(b):l.adopt(a.documentElement).nested()).size(2,0);l.parser={body:b||a.documentElement,draw:I.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:I.polyline().node,path:I.path().node,native:l.create("svg")}},l.parser={native:l.create("svg")},a.addEventListener("DOMContentLoaded",function(){l.parser.draw||l.prepare()},!1),l.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},l.utils={map:function(b,I){for(var P=b.length,j=[],K=0;K<P;K++)j.push(I(b[K]));return j},filter:function(b,I){for(var P=b.length,j=[],K=0;K<P;K++)I(b[K])&&j.push(b[K]);return j},filterSVGElements:function(b){return this.filter(b,function(I){return I instanceof L.SVGElement})}},l.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},l.Color=function(b){var I,P;this.r=0,this.g=0,this.b=0,b&&("string"==typeof b?l.regex.isRgb.test(b)?(I=l.regex.rgb.exec(b.replace(l.regex.whitespace,"")),this.r=parseInt(I[1]),this.g=parseInt(I[2]),this.b=parseInt(I[3])):l.regex.isHex.test(b)&&(I=l.regex.hex.exec(4==(P=b).length?["#",P.substring(1,2),P.substring(1,2),P.substring(2,3),P.substring(2,3),P.substring(3,4),P.substring(3,4)].join(""):P),this.r=parseInt(I[1],16),this.g=parseInt(I[2],16),this.b=parseInt(I[3],16)):"object"===yt(b)&&(this.r=b.r,this.g=b.g,this.b=b.b))},l.extend(l.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+D(this.r)+D(this.g)+D(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(b){return this.destination=new l.Color(b),this},at:function(b){return this.destination?new l.Color({r:~~(this.r+(this.destination.r-this.r)*(b=b<0?0:b>1?1:b)),g:~~(this.g+(this.destination.g-this.g)*b),b:~~(this.b+(this.destination.b-this.b)*b)}):this}}),l.Color.test=function(b){return l.regex.isHex.test(b+="")||l.regex.isRgb.test(b)},l.Color.isRgb=function(b){return b&&"number"==typeof b.r&&"number"==typeof b.g&&"number"==typeof b.b},l.Color.isColor=function(b){return l.Color.isRgb(b)||l.Color.test(b)},l.Array=function(b,I){0==(b=(b||[]).valueOf()).length&&I&&(b=I.valueOf()),this.value=this.parse(b)},l.extend(l.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(b){return b=b.valueOf(),Array.isArray(b)?b:this.split(b)}}),l.PointArray=function(b,I){l.Array.call(this,b,I||[[0,0]])},l.PointArray.prototype=new l.Array,l.PointArray.prototype.constructor=l.PointArray;for(var u={M:function(b,I,P){return I.x=P.x=b[0],I.y=P.y=b[1],["M",I.x,I.y]},L:function(b,I){return I.x=b[0],I.y=b[1],["L",b[0],b[1]]},H:function(b,I){return I.x=b[0],["H",b[0]]},V:function(b,I){return I.y=b[0],["V",b[0]]},C:function(b,I){return I.x=b[4],I.y=b[5],["C",b[0],b[1],b[2],b[3],b[4],b[5]]},Q:function(b,I){return I.x=b[2],I.y=b[3],["Q",b[0],b[1],b[2],b[3]]},S:function(b,I){return I.x=b[2],I.y=b[3],["S",b[0],b[1],b[2],b[3]]},Z:function(b,I,P){return I.x=P.x,I.y=P.y,["Z"]}},h="mlhvqtcsaz".split(""),p=0,g=h.length;p<g;++p)u[h[p]]=function(b){return function(I,P,j){if("H"==b)I[0]=I[0]+P.x;else if("V"==b)I[0]=I[0]+P.y;else if("A"==b)I[5]=I[5]+P.x,I[6]=I[6]+P.y;else for(var K=0,Y=I.length;K<Y;++K)I[K]=I[K]+(K%2?P.y:P.x);if(u&&"function"==typeof u[b])return u[b](I,P,j)}}(h[p].toUpperCase());l.PathArray=function(b,I){l.Array.call(this,b,I||[["M",0,0]])},l.PathArray.prototype=new l.Array,l.PathArray.prototype.constructor=l.PathArray,l.extend(l.PathArray,{toString:function(){return function(b){for(var I=0,P=b.length,j="";I<P;I++)j+=b[I][0],null!=b[I][1]&&(j+=b[I][1],null!=b[I][2]&&(j+=" ",j+=b[I][2],null!=b[I][3]&&(j+=" ",j+=b[I][3],j+=" ",j+=b[I][4],null!=b[I][5]&&(j+=" ",j+=b[I][5],j+=" ",j+=b[I][6],null!=b[I][7]&&(j+=" ",j+=b[I][7])))));return j+" "}(this.value)},move:function(b,I){return this.bbox(),this},at:function(b){if(!this.destination)return this;for(var I=this.value,P=this.destination.value,j=[],K=new l.PathArray,Y=0,_e=I.length;Y<_e;Y++){j[Y]=[I[Y][0]];for(var me=1,Re=I[Y].length;me<Re;me++)j[Y][me]=I[Y][me]+(P[Y][me]-I[Y][me])*b;"A"===j[Y][0]&&(j[Y][4]=+(0!=j[Y][4]),j[Y][5]=+(0!=j[Y][5]))}return K.value=j,K},parse:function(b){if(b instanceof l.PathArray)return b.valueOf();var I,P={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};b="string"==typeof b?b.replace(l.regex.numbersWithDots,v).replace(l.regex.pathLetters," $& ").replace(l.regex.hyphen,"$1 -").trim().split(l.regex.delimiter):b.reduce(function(Re,le){return[].concat.call(Re,le)},[]);var j=[],K=new l.Point,Y=new l.Point,_e=0,me=b.length;do{l.regex.isPathLetter.test(b[_e])?(I=b[_e],++_e):"M"==I?I="L":"m"==I&&(I="l"),j.push(u[I].call(null,b.slice(_e,_e+=P[I.toUpperCase()]).map(parseFloat),K,Y))}while(me>_e);return j},bbox:function(){return l.parser.draw||l.prepare(),l.parser.path.setAttribute("d",this.toString()),l.parser.path.getBBox()}}),l.Number=l.invent({create:function(b,I){this.value=0,this.unit=I||"","number"==typeof b?this.value=isNaN(b)?0:isFinite(b)?b:b<0?-34e37:34e37:"string"==typeof b?(I=b.match(l.regex.numberAndUnit))&&(this.value=parseFloat(I[1]),"%"==I[5]?this.value/=100:"s"==I[5]&&(this.value*=1e3),this.unit=I[5]):b instanceof l.Number&&(this.value=b.valueOf(),this.unit=b.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(b){return b=new l.Number(b),new l.Number(this+b,this.unit||b.unit)},minus:function(b){return b=new l.Number(b),new l.Number(this-b,this.unit||b.unit)},times:function(b){return b=new l.Number(b),new l.Number(this*b,this.unit||b.unit)},divide:function(b){return b=new l.Number(b),new l.Number(this/b,this.unit||b.unit)},to:function(b){var I=new l.Number(this);return"string"==typeof b&&(I.unit=b),I},morph:function(b){return this.destination=new l.Number(b),b.relative&&(this.destination.value+=this.value),this},at:function(b){return this.destination?new l.Number(this.destination).minus(this).times(b).plus(this):this}}}),l.Element=l.invent({create:function(b){this._stroke=l.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=b)&&(this.type=b.nodeName,this.node.instance=this,this._stroke=b.getAttribute("stroke")||this._stroke)},extend:{x:function(b){return this.attr("x",b)},y:function(b){return this.attr("y",b)},cx:function(b){return null==b?this.x()+this.width()/2:this.x(b-this.width()/2)},cy:function(b){return null==b?this.y()+this.height()/2:this.y(b-this.height()/2)},move:function(b,I){return this.x(b).y(I)},center:function(b,I){return this.cx(b).cy(I)},width:function(b){return this.attr("width",b)},height:function(b){return this.attr("height",b)},size:function(b,I){var P=A(this,b,I);return this.width(new l.Number(P.width)).height(new l.Number(P.height))},clone:function(b){this.writeDataToDom();var I=F(this.node.cloneNode(!0));return b?b.add(I):this.after(I),I},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(b){return this.after(b).remove(),b},addTo:function(b){return b.put(this)},putIn:function(b){return b.add(this)},id:function(b){return this.attr("id",b)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var b=this.attr("class");return null==b?[]:b.trim().split(l.regex.delimiter)},hasClass:function(b){return-1!=this.classes().indexOf(b)},addClass:function(b){if(!this.hasClass(b)){var I=this.classes();I.push(b),this.attr("class",I.join(" "))}return this},removeClass:function(b){return this.hasClass(b)&&this.attr("class",this.classes().filter(function(I){return I!=b}).join(" ")),this},toggleClass:function(b){return this.hasClass(b)?this.removeClass(b):this.addClass(b)},reference:function(b){return l.get(this.attr(b))},parent:function(b){var I=this;if(!I.node.parentNode)return null;if(I=l.adopt(I.node.parentNode),!b)return I;for(;I&&I.node instanceof L.SVGElement;){if("string"==typeof b?I.matches(b):I instanceof b)return I;if(!I.node.parentNode||"#document"==I.node.parentNode.nodeName)return null;I=l.adopt(I.node.parentNode)}},doc:function(){return this instanceof l.Doc?this:this.parent(l.Doc)},parents:function(b){var I=[],P=this;do{if(!(P=P.parent(b))||!P.node)break;I.push(P)}while(P.parent);return I},matches:function(b){return((I=this.node).matches||I.matchesSelector||I.msMatchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.oMatchesSelector).call(I,b);var I},native:function(){return this.node},svg:function(b){var I=a.createElement("svg");if(!(b&&this instanceof l.Parent))return I.appendChild(b=a.createElement("svg")),this.writeDataToDom(),b.appendChild(this.node.cloneNode(!0)),I.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");I.innerHTML="<svg>"+b.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var P=0,j=I.firstChild.childNodes.length;P<j;P++)this.node.appendChild(I.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(b){return this.dom=b,this},is:function(b){return this instanceof b}}}),l.easing={"-":function(b){return b},"<>":function(b){return-Math.cos(b*Math.PI)/2+.5},">":function(b){return Math.sin(b*Math.PI/2)},"<":function(b){return 1-Math.cos(b*Math.PI/2)}},l.morph=function(b){return function(I,P){return new l.MorphObj(I,P).at(b)}},l.Situation=l.invent({create:function(b){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new l.Number(b.duration).valueOf(),this.delay=new l.Number(b.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=b.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),l.FX=l.invent({create:function(b){this._target=b,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(b,I,P){"object"===yt(b)&&(I=b.ease,P=b.delay,b=b.duration);var j=new l.Situation({duration:b||1e3,delay:P||0,ease:l.easing[I||"-"]||I});return this.queue(j),this},target:function(b){return b&&b instanceof l.Element?(this._target=b,this):this._target},timeToAbsPos:function(b){return(b-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(b){return this.situation.duration/this._speed*b+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=L.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){L.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(b){return("function"==typeof b||b instanceof l.Situation)&&this.situations.push(b),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof l.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var b,I=this.situation;if(I.init)return this;for(var P in I.animations){b=this.target()[P](),Array.isArray(b)||(b=[b]),Array.isArray(I.animations[P])||(I.animations[P]=[I.animations[P]]);for(var j=b.length;j--;)I.animations[P][j]instanceof l.Number&&(b[j]=new l.Number(b[j])),I.animations[P][j]=b[j].morph(I.animations[P][j])}for(var P in I.attrs)I.attrs[P]=new l.MorphObj(this.target().attr(P),I.attrs[P]);for(var P in I.styles)I.styles[P]=new l.MorphObj(this.target().style(P),I.styles[P]);return I.initialTransformation=this.target().matrixify(),I.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(b,I){var P=this.active;return this.active=!1,I&&this.clearQueue(),b&&this.situation&&(!P&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(b){var I=this.last();return this.target().on("finished.fx",function P(j){j.detail.situation==I&&(b.call(this,I),this.off("finished.fx",P))}),this._callStart()},during:function(b){var I=this.last(),P=function(j){j.detail.situation==I&&b.call(this,j.detail.pos,l.morph(j.detail.pos),j.detail.eased,I)};return this.target().off("during.fx",P).on("during.fx",P),this.after(function(){this.off("during.fx",P)}),this._callStart()},afterAll:function(b){var I=function P(j){b.call(this),this.off("allfinished.fx",P)};return this.target().off("allfinished.fx",I).on("allfinished.fx",I),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(b,I,P){return this.last()[P||"animations"][b]=I,this._callStart()},step:function(b){var I,P,j;b||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(I=Math.max(this.absPos,0),P=Math.floor(I),!0===this.situation.loops||P<this.situation.loops?(this.pos=I-P,j=this.situation.loop,this.situation.loop=P):(this.absPos=this.situation.loops,this.pos=1,j=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-j)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var K=this.situation.ease(this.pos);for(var Y in this.situation.once)Y>this.lastPos&&Y<=K&&(this.situation.once[Y].call(this.target(),this.pos,K),delete this.situation.once[Y]);return this.active&&this.target().fire("during",{pos:this.pos,eased:K,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=K,this):this},eachAt:function(){var b,I=this,P=this.target(),j=this.situation;for(var K in j.animations)b=[].concat(j.animations[K]).map(function(me){return"string"!=typeof me&&me.at?me.at(j.ease(I.pos),I.pos):me}),P[K].apply(P,b);for(var K in j.attrs)b=[K].concat(j.attrs[K]).map(function(Re){return"string"!=typeof Re&&Re.at?Re.at(j.ease(I.pos),I.pos):Re}),P.attr.apply(P,b);for(var K in j.styles)b=[K].concat(j.styles[K]).map(function(Re){return"string"!=typeof Re&&Re.at?Re.at(j.ease(I.pos),I.pos):Re}),P.style.apply(P,b);if(j.transforms.length){b=j.initialTransformation,K=0;for(var Y=j.transforms.length;K<Y;K++){var _e=j.transforms[K];_e instanceof l.Matrix?b=_e.relative?b.multiply((new l.Matrix).morph(_e).at(j.ease(this.pos))):b.morph(_e).at(j.ease(this.pos)):(_e.relative||_e.undo(b.extract()),b=b.multiply(_e.at(j.ease(this.pos))))}P.matrix(b)}return this},once:function(b,I,P){var j=this.last();return P||(b=j.ease(b)),j.once[b]=I,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:l.Element,construct:{animate:function(b,I,P){return(this.fx||(this.fx=new l.FX(this))).animate(b,I,P)},delay:function(b){return(this.fx||(this.fx=new l.FX(this))).delay(b)},stop:function(b,I){return this.fx&&this.fx.stop(b,I),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),l.MorphObj=l.invent({create:function(b,I){return l.Color.isColor(I)?new l.Color(b).morph(I):l.regex.delimiter.test(b)?l.regex.pathLetters.test(b)?new l.PathArray(b).morph(I):new l.Array(b).morph(I):l.regex.numberAndUnit.test(I)?new l.Number(b).morph(I):(this.value=b,void(this.destination=I))},extend:{at:function(b,I){return I<1?this.value:this.destination},valueOf:function(){return this.value}}}),l.extend(l.FX,{attr:function(b,I,P){if("object"===yt(b))for(var j in b)this.attr(j,b[j]);else this.add(b,I,"attrs");return this},plot:function(b,I,P,j){return 4==arguments.length?this.plot([b,I,P,j]):this.add("plot",new(this.target().morphArray)(b))}}),l.Box=l.invent({create:function(b,I,P,j){if(!("object"!==yt(b)||b instanceof l.Element))return l.Box.call(this,null!=b.left?b.left:b.x,null!=b.top?b.top:b.y,b.width,b.height);var K;4==arguments.length&&(this.x=b,this.y=I,this.width=P,this.height=j),null==(K=this).x&&(K.x=0,K.y=0,K.width=0,K.height=0),K.w=K.width,K.h=K.height,K.x2=K.x+K.width,K.y2=K.y+K.height,K.cx=K.x+K.width/2,K.cy=K.y+K.height/2}}),l.BBox=l.invent({create:function(b){if(l.Box.apply(this,[].slice.call(arguments)),b instanceof l.Element){var I;try{if(!a.documentElement.contains){for(var P=b.node;P.parentNode;)P=P.parentNode;if(P!=a)throw new Error("Element not in the dom")}I=b.node.getBBox()}catch{if(b instanceof l.Shape){l.parser.draw||l.prepare();var j=b.clone(l.parser.draw.instance).show();j&&j.node&&"function"==typeof j.node.getBBox&&(I=j.node.getBBox()),j&&"function"==typeof j.remove&&j.remove()}else I={x:b.node.clientLeft,y:b.node.clientTop,width:b.node.clientWidth,height:b.node.clientHeight}}l.Box.call(this,I)}},inherit:l.Box,parent:l.Element,construct:{bbox:function(){return new l.BBox(this)}}}),l.BBox.prototype.constructor=l.BBox,l.Matrix=l.invent({create:function(b){var I=O([1,0,0,1,0,0]);b=null===b?I:b instanceof l.Element?b.matrixify():"string"==typeof b?O(b.split(l.regex.delimiter).map(parseFloat)):6==arguments.length?O([].slice.call(arguments)):Array.isArray(b)?O(b):b&&"object"===yt(b)?b:I;for(var P=G.length-1;P>=0;--P)this[G[P]]=null!=b[G[P]]?b[G[P]]:I[G[P]]},extend:{extract:function(){var b=R(this,0,1);R(this,1,0);var I=180/Math.PI*Math.atan2(b.y,b.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(I*Math.PI/180)+this.f*Math.sin(I*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(I*Math.PI/180)+this.e*Math.sin(-I*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:I,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new l.Matrix(this)}},clone:function(){return new l.Matrix(this)},morph:function(b){return this.destination=new l.Matrix(b),this},multiply:function(b){return new l.Matrix(this.native().multiply((I=b,I instanceof l.Matrix||(I=new l.Matrix(I)),I).native()));var I},inverse:function(){return new l.Matrix(this.native().inverse())},translate:function(b,I){return new l.Matrix(this.native().translate(b||0,I||0))},native:function(){for(var b=l.parser.native.createSVGMatrix(),I=G.length-1;I>=0;I--)b[G[I]]=this[G[I]];return b},toString:function(){return"matrix("+z(this.a)+","+z(this.b)+","+z(this.c)+","+z(this.d)+","+z(this.e)+","+z(this.f)+")"}},parent:l.Element,construct:{ctm:function(){return new l.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof l.Nested){var b=this.rect(1,1),I=b.node.getScreenCTM();return b.remove(),new l.Matrix(I)}return new l.Matrix(this.node.getScreenCTM())}}}),l.Point=l.invent({create:function(b,I){var P;P=Array.isArray(b)?{x:b[0],y:b[1]}:"object"===yt(b)?{x:b.x,y:b.y}:null!=b?{x:b,y:I??b}:{x:0,y:0},this.x=P.x,this.y=P.y},extend:{clone:function(){return new l.Point(this)},morph:function(b,I){return this.destination=new l.Point(b,I),this}}}),l.extend(l.Element,{point:function(b,I){return new l.Point(b,I).transform(this.screenCTM().inverse())}}),l.extend(l.Element,{attr:function(b,I,P){if(null==b){for(b={},P=(I=this.node.attributes).length-1;P>=0;P--)b[I[P].nodeName]=l.regex.isNumber.test(I[P].nodeValue)?parseFloat(I[P].nodeValue):I[P].nodeValue;return b}if("object"===yt(b))for(var j in b)this.attr(j,b[j]);else if(null===I)this.node.removeAttribute(b);else{if(null==I)return null==(I=this.node.getAttribute(b))?l.defaults.attrs[b]:l.regex.isNumber.test(I)?parseFloat(I):I;"stroke-width"==b?this.attr("stroke",parseFloat(I)>0?this._stroke:null):"stroke"==b&&(this._stroke=I),"fill"!=b&&"stroke"!=b||(l.regex.isImage.test(I)&&(I=this.doc().defs().image(I,0,0)),I instanceof l.Image&&(I=this.doc().defs().pattern(0,0,function(){this.add(I)}))),"number"==typeof I?I=new l.Number(I):l.Color.isColor(I)?I=new l.Color(I):Array.isArray(I)&&(I=new l.Array(I)),"leading"==b?this.leading&&this.leading(I):"string"==typeof P?this.node.setAttributeNS(P,b,I.toString()):this.node.setAttribute(b,I.toString()),!this.rebuild||"font-size"!=b&&"x"!=b||this.rebuild(b,I)}return this}}),l.extend(l.Element,{transform:function(b,I){var P;return"object"!==yt(b)?(P=new l.Matrix(this).extract(),"string"==typeof b?P[b]:P):(P=new l.Matrix(this),I=!!I||!!b.relative,null!=b.a&&(P=I?P.multiply(new l.Matrix(b)):new l.Matrix(b)),this.attr("transform",P))}}),l.extend(l.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(l.regex.transforms).slice(0,-1).map(function(b){var I=b.trim().split("(");return[I[0],I[1].split(l.regex.delimiter).map(function(P){return parseFloat(P)})]}).reduce(function(b,I){return"matrix"==I[0]?b.multiply(O(I[1])):b[I[0]].apply(b,I[1])},new l.Matrix)},toParent:function(b){if(this==b)return this;var I=this.screenCTM(),P=b.screenCTM().inverse();return this.addTo(b).untransform().transform(P.multiply(I)),this},toDoc:function(){return this.toParent(this.doc())}}),l.Transformation=l.invent({create:function(b,I){if(arguments.length>1&&"boolean"!=typeof I)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(b))for(var P=0,j=this.arguments.length;P<j;++P)this[this.arguments[P]]=b[P];else if(b&&"object"===yt(b))for(P=0,j=this.arguments.length;P<j;++P)this[this.arguments[P]]=b[this.arguments[P]];this.inversed=!1,!0===I&&(this.inversed=!0)}}),l.Translate=l.invent({parent:l.Matrix,inherit:l.Transformation,create:function(b,I){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),l.extend(l.Element,{style:function(b,I){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===yt(b))for(var P in b)this.style(P,b[P]);else{if(!l.regex.isCss.test(b))return this.node.style[w(b)];for(b=b.split(/\s*;\s*/).filter(function(j){return!!j}).map(function(j){return j.split(/\s*:\s*/)});I=b.pop();)this.style(I[0],I[1])}else this.node.style[w(b)]=null===I||l.regex.isBlank.test(I)?"":I;return this}}),l.Parent=l.invent({create:function(b){this.constructor.call(this,b)},inherit:l.Element,extend:{children:function(){return l.utils.map(l.utils.filterSVGElements(this.node.childNodes),function(b){return l.adopt(b)})},add:function(b,I){return null==I?this.node.appendChild(b.node):b.node!=this.node.childNodes[I]&&this.node.insertBefore(b.node,this.node.childNodes[I]),this},put:function(b,I){return this.add(b,I),b},has:function(b){return this.index(b)>=0},index:function(b){return[].slice.call(this.node.childNodes).indexOf(b.node)},get:function(b){return l.adopt(this.node.childNodes[b])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(b,I){for(var P=this.children(),j=0,K=P.length;j<K;j++)P[j]instanceof l.Element&&b.apply(P[j],[j,P]),I&&P[j]instanceof l.Container&&P[j].each(b,I);return this},removeElement:function(b){return this.node.removeChild(b.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),l.extend(l.Parent,{ungroup:function(b,I){return 0===I||this instanceof l.Defs||this.node==l.parser.draw||(b=b||(this instanceof l.Doc?this:this.parent(l.Parent)),I=I||1/0,this.each(function(){return this instanceof l.Defs?this:this instanceof l.Parent?this.ungroup(b,I-1):this.toParent(b)}),this.node.firstChild||this.remove()),this},flatten:function(b,I){return this.ungroup(b,I)}}),l.Container=l.invent({create:function(b){this.constructor.call(this,b)},inherit:l.Parent}),l.ViewBox=l.invent({parent:l.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(b){l.Element.prototype[b]=function(I){return l.on(this.node,b,I),this}}),l.listeners=[],l.handlerMap=[],l.listenerId=0,l.on=function(b,I,P,j,K){var Y=P.bind(j||b.instance||b),_e=(l.handlerMap.indexOf(b)+1||l.handlerMap.push(b))-1,me=I.split(".")[0],Re=I.split(".")[1]||"*";l.listeners[_e]=l.listeners[_e]||{},l.listeners[_e][me]=l.listeners[_e][me]||{},l.listeners[_e][me][Re]=l.listeners[_e][me][Re]||{},P._svgjsListenerId||(P._svgjsListenerId=++l.listenerId),l.listeners[_e][me][Re][P._svgjsListenerId]=Y,b.addEventListener(me,Y,K||{passive:!0})},l.off=function(b,I,P){var j=l.handlerMap.indexOf(b),K=I&&I.split(".")[0],Y=I&&I.split(".")[1],_e="";if(-1!=j)if(P){if("function"==typeof P&&(P=P._svgjsListenerId),!P)return;l.listeners[j][K]&&l.listeners[j][K][Y||"*"]&&(b.removeEventListener(K,l.listeners[j][K][Y||"*"][P],!1),delete l.listeners[j][K][Y||"*"][P])}else if(Y&&K){if(l.listeners[j][K]&&l.listeners[j][K][Y]){for(var me in l.listeners[j][K][Y])l.off(b,[K,Y].join("."),me);delete l.listeners[j][K][Y]}}else if(Y)for(var Re in l.listeners[j])for(var _e in l.listeners[j][Re])Y===_e&&l.off(b,[Re,Y].join("."));else if(K){if(l.listeners[j][K]){for(var _e in l.listeners[j][K])l.off(b,[K,_e].join("."));delete l.listeners[j][K]}}else{for(var Re in l.listeners[j])l.off(b,Re);delete l.listeners[j],delete l.handlerMap[j]}},l.extend(l.Element,{on:function(b,I,P,j){return l.on(this.node,b,I,P,j),this},off:function(b,I){return l.off(this.node,b,I),this},fire:function(b,I){return this.node.dispatchEvent(b instanceof L.Event?b:b=new l.CustomEvent(b,{detail:I,cancelable:!0})),this._event=b,this},event:function(){return this._event}}),l.Defs=l.invent({create:"defs",inherit:l.Container}),l.G=l.invent({create:"g",inherit:l.Container,extend:{x:function(b){return null==b?this.transform("x"):this.transform({x:b-this.x()},!0)}},construct:{group:function(){return this.put(new l.G)}}}),l.Doc=l.invent({create:function(b){b&&("svg"==(b="string"==typeof b?a.getElementById(b):b).nodeName?this.constructor.call(this,b):(this.constructor.call(this,l.create("svg")),b.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:l.Container,extend:{namespace:function(){return this.attr({xmlns:l.ns,version:"1.1"}).attr("xmlns:xlink",l.xlink,l.xmlns).attr("xmlns:svgjs",l.svgjs,l.xmlns)},defs:function(){var b;return this._defs||(this._defs=(b=this.node.getElementsByTagName("defs")[0])?l.adopt(b):new l.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,l.parser.draw&&!l.parser.draw.parentNode&&this.node.appendChild(l.parser.draw),this},clone:function(b){this.writeDataToDom();var I=this.node,P=F(I.cloneNode(!0));return b?(b.node||b).appendChild(P.node):I.parentNode.insertBefore(P.node,I.nextSibling),P}}}),l.extend(l.Element,{}),l.Gradient=l.invent({create:function(b){this.constructor.call(this,l.create(b+"Gradient")),this.type=b},inherit:l.Container,extend:{at:function(b,I,P){return this.put(new l.Stop).update(b,I,P)},update:function(b){return this.clear(),"function"==typeof b&&b.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(b,I,P){return"transform"==b&&(b="gradientTransform"),l.Container.prototype.attr.call(this,b,I,P)}},construct:{gradient:function(b,I){return this.defs().gradient(b,I)}}}),l.extend(l.Gradient,l.FX,{from:function(b,I){return this.attr("radial"==(this._target||this).type?{fx:new l.Number(b),fy:new l.Number(I)}:{x1:new l.Number(b),y1:new l.Number(I)})},to:function(b,I){return this.attr("radial"==(this._target||this).type?{cx:new l.Number(b),cy:new l.Number(I)}:{x2:new l.Number(b),y2:new l.Number(I)})}}),l.extend(l.Defs,{gradient:function(b,I){return this.put(new l.Gradient(b)).update(I)}}),l.Stop=l.invent({create:"stop",inherit:l.Element,extend:{update:function(b){return("number"==typeof b||b instanceof l.Number)&&(b={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=b.opacity&&this.attr("stop-opacity",b.opacity),null!=b.color&&this.attr("stop-color",b.color),null!=b.offset&&this.attr("offset",new l.Number(b.offset)),this}}}),l.Pattern=l.invent({create:"pattern",inherit:l.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(b){return this.clear(),"function"==typeof b&&b.call(this,this),this},toString:function(){return this.fill()},attr:function(b,I,P){return"transform"==b&&(b="patternTransform"),l.Container.prototype.attr.call(this,b,I,P)}},construct:{pattern:function(b,I,P){return this.defs().pattern(b,I,P)}}}),l.extend(l.Defs,{pattern:function(b,I,P){return this.put(new l.Pattern).update(P).attr({x:0,y:0,width:b,height:I,patternUnits:"userSpaceOnUse"})}}),l.Shape=l.invent({create:function(b){this.constructor.call(this,b)},inherit:l.Element}),l.Symbol=l.invent({create:"symbol",inherit:l.Container,construct:{symbol:function(){return this.put(new l.Symbol)}}}),l.Use=l.invent({create:"use",inherit:l.Shape,extend:{element:function(b,I){return this.attr("href",(I||"")+"#"+b,l.xlink)}},construct:{use:function(b,I){return this.put(new l.Use).element(b,I)}}}),l.Rect=l.invent({create:"rect",inherit:l.Shape,construct:{rect:function(b,I){return this.put(new l.Rect).size(b,I)}}}),l.Circle=l.invent({create:"circle",inherit:l.Shape,construct:{circle:function(b){return this.put(new l.Circle).rx(new l.Number(b).divide(2)).move(0,0)}}}),l.extend(l.Circle,l.FX,{rx:function(b){return this.attr("r",b)},ry:function(b){return this.rx(b)}}),l.Ellipse=l.invent({create:"ellipse",inherit:l.Shape,construct:{ellipse:function(b,I){return this.put(new l.Ellipse).size(b,I).move(0,0)}}}),l.extend(l.Ellipse,l.Rect,l.FX,{rx:function(b){return this.attr("rx",b)},ry:function(b){return this.attr("ry",b)}}),l.extend(l.Circle,l.Ellipse,{x:function(b){return null==b?this.cx()-this.rx():this.cx(b+this.rx())},y:function(b){return null==b?this.cy()-this.ry():this.cy(b+this.ry())},cx:function(b){return null==b?this.attr("cx"):this.attr("cx",b)},cy:function(b){return null==b?this.attr("cy"):this.attr("cy",b)},width:function(b){return null==b?2*this.rx():this.rx(new l.Number(b).divide(2))},height:function(b){return null==b?2*this.ry():this.ry(new l.Number(b).divide(2))},size:function(b,I){var P=A(this,b,I);return this.rx(new l.Number(P.width).divide(2)).ry(new l.Number(P.height).divide(2))}}),l.Line=l.invent({create:"line",inherit:l.Shape,extend:{array:function(){return new l.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(b,I,P,j){return null==b?this.array():(b=void 0!==I?{x1:b,y1:I,x2:P,y2:j}:new l.PointArray(b).toLine(),this.attr(b))},move:function(b,I){return this.attr(this.array().move(b,I).toLine())},size:function(b,I){var P=A(this,b,I);return this.attr(this.array().size(P.width,P.height).toLine())}},construct:{line:function(b,I,P,j){return l.Line.prototype.plot.apply(this.put(new l.Line),null!=b?[b,I,P,j]:[0,0,0,0])}}}),l.Polyline=l.invent({create:"polyline",inherit:l.Shape,construct:{polyline:function(b){return this.put(new l.Polyline).plot(b||new l.PointArray)}}}),l.Polygon=l.invent({create:"polygon",inherit:l.Shape,construct:{polygon:function(b){return this.put(new l.Polygon).plot(b||new l.PointArray)}}}),l.extend(l.Polyline,l.Polygon,{array:function(){return this._array||(this._array=new l.PointArray(this.attr("points")))},plot:function(b){return null==b?this.array():this.clear().attr("points","string"==typeof b?b:this._array=new l.PointArray(b))},clear:function(){return delete this._array,this},move:function(b,I){return this.attr("points",this.array().move(b,I))},size:function(b,I){var P=A(this,b,I);return this.attr("points",this.array().size(P.width,P.height))}}),l.extend(l.Line,l.Polyline,l.Polygon,{morphArray:l.PointArray,x:function(b){return null==b?this.bbox().x:this.move(b,this.bbox().y)},y:function(b){return null==b?this.bbox().y:this.move(this.bbox().x,b)},width:function(b){var I=this.bbox();return null==b?I.width:this.size(b,I.height)},height:function(b){var I=this.bbox();return null==b?I.height:this.size(I.width,b)}}),l.Path=l.invent({create:"path",inherit:l.Shape,extend:{morphArray:l.PathArray,array:function(){return this._array||(this._array=new l.PathArray(this.attr("d")))},plot:function(b){return null==b?this.array():this.clear().attr("d","string"==typeof b?b:this._array=new l.PathArray(b))},clear:function(){return delete this._array,this}},construct:{path:function(b){return this.put(new l.Path).plot(b||new l.PathArray)}}}),l.Image=l.invent({create:"image",inherit:l.Shape,extend:{load:function(b){if(!b)return this;var I=this,P=new L.Image;return l.on(P,"load",function(){l.off(P);var j=I.parent(l.Pattern);null!==j&&(0==I.width()&&0==I.height()&&I.size(P.width,P.height),j&&0==j.width()&&0==j.height()&&j.size(I.width(),I.height()),"function"==typeof I._loaded&&I._loaded.call(I,{width:P.width,height:P.height,ratio:P.width/P.height,url:b}))}),l.on(P,"error",function(j){l.off(P),"function"==typeof I._error&&I._error.call(I,j)}),this.attr("href",P.src=this.src=b,l.xlink)},loaded:function(b){return this._loaded=b,this},error:function(b){return this._error=b,this}},construct:{image:function(b,I,P){return this.put(new l.Image).load(b).size(I||0,P||I||0)}}}),l.Text=l.invent({create:function(){this.constructor.call(this,l.create("text")),this.dom.leading=new l.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",l.defaults.attrs["font-family"])},inherit:l.Shape,extend:{x:function(b){return null==b?this.attr("x"):this.attr("x",b)},text:function(b){if(void 0===b){b="";for(var I=this.node.childNodes,P=0,j=I.length;P<j;++P)0!=P&&3!=I[P].nodeType&&1==l.adopt(I[P]).dom.newLined&&(b+="\n"),b+=I[P].textContent;return b}if(this.clear().build(!0),"function"==typeof b)b.call(this,this);else{P=0;for(var K=(b=b.split("\n")).length;P<K;P++)this.tspan(b[P]).newLine()}return this.build(!1).rebuild()},size:function(b){return this.attr("font-size",b).rebuild()},leading:function(b){return null==b?this.dom.leading:(this.dom.leading=new l.Number(b),this.rebuild())},lines:function(){var b=(this.textPath&&this.textPath()||this).node,I=l.utils.map(l.utils.filterSVGElements(b.childNodes),function(P){return l.adopt(P)});return new l.Set(I)},rebuild:function(b){if("boolean"==typeof b&&(this._rebuild=b),this._rebuild){var I=this,P=0,j=this.dom.leading*new l.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(I.textPath()||this.attr("x",I.attr("x")),"\n"==this.text()?P+=j:(this.attr("dy",j+P),P=0))}),this.fire("rebuild")}return this},build:function(b){return this._build=!!b,this},setData:function(b){return this.dom=b,this.dom.leading=new l.Number(b.leading||1.3),this}},construct:{text:function(b){return this.put(new l.Text).text(b)},plain:function(b){return this.put(new l.Text).plain(b)}}}),l.Tspan=l.invent({create:"tspan",inherit:l.Shape,extend:{text:function(b){return null==b?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof b?b.call(this,this):this.plain(b),this)},dx:function(b){return this.attr("dx",b)},dy:function(b){return this.attr("dy",b)},newLine:function(){var b=this.parent(l.Text);return this.dom.newLined=!0,this.dy(b.dom.leading*b.attr("font-size")).attr("x",b.x())}}}),l.extend(l.Text,l.Tspan,{plain:function(b){return!1===this._build&&this.clear(),this.node.appendChild(a.createTextNode(b)),this},tspan:function(b){var I=(this.textPath&&this.textPath()||this).node,P=new l.Tspan;return!1===this._build&&this.clear(),I.appendChild(P.node),P.text(b)},clear:function(){for(var b=(this.textPath&&this.textPath()||this).node;b.hasChildNodes();)b.removeChild(b.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),l.TextPath=l.invent({create:"textPath",inherit:l.Parent,parent:l.Text,construct:{morphArray:l.PathArray,array:function(){var b=this.track();return b?b.array():null},plot:function(b){var I=this.track(),P=null;return I&&(P=I.plot(b)),null==b?P:this},track:function(){var b=this.textPath();if(b)return b.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return l.adopt(this.node.firstChild)}}}),l.Nested=l.invent({create:function(){this.constructor.call(this,l.create("svg")),this.style("overflow","visible")},inherit:l.Container,construct:{nested:function(){return this.put(new l.Nested)}}});var m={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(b,I){return"color"==I?b:b+"-"+I}};function v(b,I,P,j){return P+j.replace(l.regex.dots," .")}function w(b){return b.toLowerCase().replace(/-(.)/g,function(I,P){return P.toUpperCase()})}function E(b){return b.charAt(0).toUpperCase()+b.slice(1)}function D(b){var I=b.toString(16);return 1==I.length?"0"+I:I}function A(b,I,P){if(null==I||null==P){var j=b.bbox();null==I?I=j.width/j.height*P:null==P&&(P=j.height/j.width*I)}return{width:I,height:P}}function R(b,I,P){return{x:I*b.a+P*b.c+0,y:I*b.b+P*b.d+0}}function O(b){return{a:b[0],b:b[1],c:b[2],d:b[3],e:b[4],f:b[5]}}function F(b){for(var I=b.childNodes.length-1;I>=0;I--)b.childNodes[I]instanceof L.SVGElement&&F(b.childNodes[I]);return l.adopt(b).id(l.eid(b.nodeName))}function z(b){return Math.abs(b)>1e-37?b:0}["fill","stroke"].forEach(function(b){var I={};I[b]=function(P){if(void 0===P)return this;if("string"==typeof P||l.Color.isRgb(P)||P&&"function"==typeof P.fill)this.attr(b,P);else for(var j=m[b].length-1;j>=0;j--)null!=P[m[b][j]]&&this.attr(m.prefix(b,m[b][j]),P[m[b][j]]);return this},l.extend(l.Element,l.FX,I)}),l.extend(l.Element,l.FX,{translate:function(b,I){return this.transform({x:b,y:I})},matrix:function(b){return this.attr("transform",new l.Matrix(6==arguments.length?[].slice.call(arguments):b))},opacity:function(b){return this.attr("opacity",b)},dx:function(b){return this.x(new l.Number(b).plus(this instanceof l.FX?0:this.x()),!0)},dy:function(b){return this.y(new l.Number(b).plus(this instanceof l.FX?0:this.y()),!0)}}),l.extend(l.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(b){return this.node.getPointAtLength(b)}}),l.Set=l.invent({create:function(b){Array.isArray(b)?this.members=b:this.clear()},extend:{add:function(){for(var b=[].slice.call(arguments),I=0,P=b.length;I<P;I++)this.members.push(b[I]);return this},remove:function(b){var I=this.index(b);return I>-1&&this.members.splice(I,1),this},each:function(b){for(var I=0,P=this.members.length;I<P;I++)b.apply(this.members[I],[I,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(b){return this.index(b)>=0},index:function(b){return this.members.indexOf(b)},get:function(b){return this.members[b]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(b){return new l.Set(b)}}}),l.FX.Set=l.invent({create:function(b){this.set=b}}),l.Set.inherit=function(){var b=[];for(var I in l.Shape.prototype)"function"==typeof l.Shape.prototype[I]&&"function"!=typeof l.Set.prototype[I]&&b.push(I);for(var I in b.forEach(function(j){l.Set.prototype[j]=function(){for(var K=0,Y=this.members.length;K<Y;K++)this.members[K]&&"function"==typeof this.members[K][j]&&this.members[K][j].apply(this.members[K],arguments);return"animate"==j?this.fx||(this.fx=new l.FX.Set(this)):this}}),b=[],l.FX.prototype)"function"==typeof l.FX.prototype[I]&&"function"!=typeof l.FX.Set.prototype[I]&&b.push(I);b.forEach(function(P){l.FX.Set.prototype[P]=function(){for(var j=0,K=this.set.members.length;j<K;j++)this.set.members[j].fx[P].apply(this.set.members[j].fx,arguments);return this}})},l.extend(l.Element,{}),l.extend(l.Element,{remember:function(b,I){if("object"===yt(arguments[0]))for(var P in b)this.remember(P,b[P]);else{if(1==arguments.length)return this.memory()[b];this.memory()[b]=I}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var b=arguments.length-1;b>=0;b--)delete this.memory()[arguments[b]];return this},memory:function(){return this._memory||(this._memory={})}}),l.get=function(b){var I=a.getElementById(function(P){var j=(P||"").toString().match(l.regex.reference);if(j)return j[1]}(b)||b);return l.adopt(I)},l.select=function(b,I){return new l.Set(l.utils.map((I||a).querySelectorAll(b),function(P){return l.adopt(P)}))},l.extend(l.Parent,{select:function(b){return l.select(b,this.node)}});var G="abcdef".split("");if("function"!=typeof L.CustomEvent){var Z=function(b,I){I=I||{bubbles:!1,cancelable:!1,detail:void 0};var P=a.createEvent("CustomEvent");return P.initCustomEvent(b,I.bubbles,I.cancelable,I.detail),P};Z.prototype=L.Event.prototype,l.CustomEvent=Z}else l.CustomEvent=L.CustomEvent;return l},void 0!==(ie=function(){return ii(en,en.document)}.call(Wi,Yt,Wi,Jr))&&(Jr.exports=ie),
/*! svg.filter.js - v2.0.2 - 2016-02-24
        * https://github.com/wout/svg.filter.js
        * Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(g,m){return this.add(g,m),!g.attr("in")&&this.autoSetIn&&g.attr("in",this.source),g.attr("result")||g.attr("result",g),g},blend:function(g,m,v){return this.put(new SVG.BlendEffect(g,m,v))},colorMatrix:function(g,m){return this.put(new SVG.ColorMatrixEffect(g,m))},convolveMatrix:function(g){return this.put(new SVG.ConvolveMatrixEffect(g))},componentTransfer:function(g){return this.put(new SVG.ComponentTransferEffect(g))},composite:function(g,m,v){return this.put(new SVG.CompositeEffect(g,m,v))},flood:function(g,m){return this.put(new SVG.FloodEffect(g,m))},offset:function(g,m){return this.put(new SVG.OffsetEffect(g,m))},image:function(g){return this.put(new SVG.ImageEffect(g))},merge:function(){var g=[void 0];for(var m in arguments)g.push(arguments[m]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,g)))},gaussianBlur:function(g,m){return this.put(new SVG.GaussianBlurEffect(g,m))},morphology:function(g,m){return this.put(new SVG.MorphologyEffect(g,m))},diffuseLighting:function(g,m,v){return this.put(new SVG.DiffuseLightingEffect(g,m,v))},displacementMap:function(g,m,v,w,E){return this.put(new SVG.DisplacementMapEffect(g,m,v,w,E))},specularLighting:function(g,m,v,w){return this.put(new SVG.SpecularLightingEffect(g,m,v,w))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(g,m,v,w,E){return this.put(new SVG.TurbulenceEffect(g,m,v,w,E))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(g){var m=this.put(new SVG.Filter);return"function"==typeof g&&g.call(m,m),m}}),SVG.extend(SVG.Container,{filter:function(g){return this.defs().filter(g)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(g){return this.filterer=g instanceof SVG.Element?g:this.doc().filter(g),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(g){return this.filterer&&!0===g&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",g)},result:function(g){return null==g?this.attr("result"):this.attr("result",g)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",g)},result:function(g){return null==g?this.attr("result"):this.attr("result",g)},toString:function(){return this.result()}}});var L={blend:function(g,m){return this.parent()&&this.parent().blend(this,g,m)},colorMatrix:function(g,m){return this.parent()&&this.parent().colorMatrix(g,m).in(this)},convolveMatrix:function(g){return this.parent()&&this.parent().convolveMatrix(g).in(this)},componentTransfer:function(g){return this.parent()&&this.parent().componentTransfer(g).in(this)},composite:function(g,m){return this.parent()&&this.parent().composite(this,g,m)},flood:function(g,m){return this.parent()&&this.parent().flood(g,m)},offset:function(g,m){return this.parent()&&this.parent().offset(g,m).in(this)},image:function(g){return this.parent()&&this.parent().image(g)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(g,m){return this.parent()&&this.parent().gaussianBlur(g,m).in(this)},morphology:function(g,m){return this.parent()&&this.parent().morphology(g,m).in(this)},diffuseLighting:function(g,m,v){return this.parent()&&this.parent().diffuseLighting(g,m,v).in(this)},displacementMap:function(g,m,v,w){return this.parent()&&this.parent().displacementMap(this,g,m,v,w)},specularLighting:function(g,m,v,w){return this.parent()&&this.parent().specularLighting(g,m,v,w).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(g,m,v,w,E){return this.parent()&&this.parent().turbulence(g,m,v,w,E).in(this)}};SVG.extend(SVG.Effect,L),SVG.extend(SVG.ParentEffect,L),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(g){this.attr("in",g)}}});var a={blend:function(g,m,v){this.attr({in:g,in2:m,mode:v||"normal"})},colorMatrix:function(g,m){"matrix"==g&&(m=h(m)),this.attr({type:g,values:void 0===m?null:m})},convolveMatrix:function(g){g=h(g),this.attr({order:Math.sqrt(g.split(" ").length),kernelMatrix:g})},composite:function(g,m,v){this.attr({in:g,in2:m,operator:v})},flood:function(g,m){this.attr("flood-color",g),null!=m&&this.attr("flood-opacity",m)},offset:function(g,m){this.attr({dx:g,dy:m})},image:function(g){this.attr("href",g,SVG.xlink)},displacementMap:function(g,m,v,w,E){this.attr({in:g,in2:m,scale:v,xChannelSelector:w,yChannelSelector:E})},gaussianBlur:function(g,m){this.attr("stdDeviation",null!=g||null!=m?function(v){if(!Array.isArray(v))return v;for(var w=0,E=v.length,D=[];w<E;w++)D.push(v[w]);return D.join(" ")}(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(g,m){this.attr({operator:g,radius:m})},tile:function(){},turbulence:function(g,m,v,w,E){this.attr({numOctaves:m,seed:v,stitchTiles:w,baseFrequency:g,type:E})}},l={merge:function(){var g;if(arguments[0]instanceof SVG.Set){var m=this;arguments[0].each(function(w){this instanceof SVG.MergeNode?m.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&m.put(new SVG.MergeNode(this))})}else{g=Array.isArray(arguments[0])?arguments[0]:arguments;for(var v=0;v<g.length;v++)g[v]instanceof SVG.MergeNode?this.put(g[v]):this.put(new SVG.MergeNode(g[v]))}},componentTransfer:function(g){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(v){this[v]=new(SVG["Func"+v.toUpperCase()])("identity"),this.rgb.add(this[v]),this.node.appendChild(this[v].node)}.bind(this)),g)for(var m in g.rgb&&(["r","g","b"].forEach(function(v){this[v].attr(g.rgb)}.bind(this)),delete g.rgb),g)this[m].attr(g[m])},diffuseLighting:function(g,m,v){this.attr({surfaceScale:g,diffuseConstant:m,kernelUnitLength:v})},specularLighting:function(g,m,v,w){this.attr({surfaceScale:g,diffuseConstant:m,specularExponent:v,kernelUnitLength:w})}},u={distantLight:function(g,m){this.attr({azimuth:g,elevation:m})},pointLight:function(g,m,v){this.attr({x:g,y:m,z:v})},spotLight:function(g,m,v,w,E,D){this.attr({x:g,y:m,z:v,pointsAtX:w,pointsAtY:E,pointsAtZ:D})},mergeNode:function(g){this.attr("in",g)}};function h(g){return Array.isArray(g)&&(g=new SVG.Array(g)),g.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function p(){var g=function(){};for(var m in"function"==typeof arguments[arguments.length-1]&&(g=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var v in arguments[m])g(arguments[m][v],v,arguments[m])}["r","g","b","a"].forEach(function(g){u["Func"+g.toUpperCase()]=function(m){switch(this.attr("type",m),m){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),p(a,function(g,m){var v=m.charAt(0).toUpperCase()+m.slice(1);SVG[v+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+v)),g.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),p(l,function(g,m){var v=m.charAt(0).toUpperCase()+m.slice(1);SVG[v+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+v)),g.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),p(u,function(g,m){var v=m.charAt(0).toUpperCase()+m.slice(1);SVG[v]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+v)),g.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(g){return g instanceof SVG.MergeNode?this.add(g,0):this.add(new SVG.MergeNode(g),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",g)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function L(p,g,m,v,w,E,D){for(var A=p.slice(g,m||D),R=v.slice(w,E||D),O=0,F={pos:[0,0],start:[0,0]},z={pos:[0,0],start:[0,0]};A[O]=a.call(F,A[O]),R[O]=a.call(z,R[O]),A[O][0]!=R[O][0]||"M"==A[O][0]||"A"==A[O][0]&&(A[O][4]!=R[O][4]||A[O][5]!=R[O][5])?(Array.prototype.splice.apply(A,[O,1].concat(u.call(F,A[O]))),Array.prototype.splice.apply(R,[O,1].concat(u.call(z,R[O])))):(A[O]=l.call(F,A[O]),R[O]=l.call(z,R[O])),++O!=A.length||O!=R.length;)O==A.length&&A.push(["C",F.pos[0],F.pos[1],F.pos[0],F.pos[1],F.pos[0],F.pos[1]]),O==R.length&&R.push(["C",z.pos[0],z.pos[1],z.pos[0],z.pos[1],z.pos[0],z.pos[1]]);return{start:A,dest:R}}function a(p){switch(p[0]){case"z":case"Z":p[0]="L",p[1]=this.start[0],p[2]=this.start[1];break;case"H":p[0]="L",p[2]=this.pos[1];break;case"V":p[0]="L",p[2]=p[1],p[1]=this.pos[0];break;case"T":p[0]="Q",p[3]=p[1],p[4]=p[2],p[1]=this.reflection[1],p[2]=this.reflection[0];break;case"S":p[0]="C",p[6]=p[4],p[5]=p[3],p[4]=p[2],p[3]=p[1],p[2]=this.reflection[1],p[1]=this.reflection[0]}return p}function l(p){var g=p.length;return this.pos=[p[g-2],p[g-1]],-1!="SCQT".indexOf(p[0])&&(this.reflection=[2*this.pos[0]-p[g-4],2*this.pos[1]-p[g-3]]),p}function u(p){var g=[p];switch(p[0]){case"M":return this.pos=this.start=[p[1],p[2]],g;case"L":p[5]=p[3]=p[1],p[6]=p[4]=p[2],p[1]=this.pos[0],p[2]=this.pos[1];break;case"Q":p[6]=p[4],p[5]=p[3],p[4]=1*p[4]/3+2*p[2]/3,p[3]=1*p[3]/3+2*p[1]/3,p[2]=1*this.pos[1]/3+2*p[2]/3,p[1]=1*this.pos[0]/3+2*p[1]/3;break;case"A":p=(g=function(m,v){var w,E,D,A,R,O,F,z,G,Z,b,I,P,j,K,Y,_e,me,Re,le,Ye,Se,bt,tn,kn,Xn,xi=Math.abs(v[1]),ri=Math.abs(v[2]),Hi=v[3]%360,ws=v[4],nl=v[5],mn=v[6],Fa=v[7],jr=new SVG.Point(m),hi=new SVG.Point(mn,Fa),Ac=[];if(0===xi||0===ri||jr.x===hi.x&&jr.y===hi.y)return[["C",jr.x,jr.y,hi.x,hi.y,hi.x,hi.y]];for((E=(w=new SVG.Point((jr.x-hi.x)/2,(jr.y-hi.y)/2).transform((new SVG.Matrix).rotate(Hi))).x*w.x/(xi*xi)+w.y*w.y/(ri*ri))>1&&(xi*=E=Math.sqrt(E),ri*=E),D=(new SVG.Matrix).rotate(Hi).scale(1/xi,1/ri).rotate(-Hi),jr=jr.transform(D),O=(A=[(hi=hi.transform(D)).x-jr.x,hi.y-jr.y])[0]*A[0]+A[1]*A[1],R=Math.sqrt(O),A[0]/=R,A[1]/=R,F=O<4?Math.sqrt(1-O/4):0,ws===nl&&(F*=-1),z=new SVG.Point((hi.x+jr.x)/2+F*-A[1],(hi.y+jr.y)/2+F*A[0]),G=new SVG.Point(jr.x-z.x,jr.y-z.y),Z=new SVG.Point(hi.x-z.x,hi.y-z.y),b=Math.acos(G.x/Math.sqrt(G.x*G.x+G.y*G.y)),G.y<0&&(b*=-1),I=Math.acos(Z.x/Math.sqrt(Z.x*Z.x+Z.y*Z.y)),Z.y<0&&(I*=-1),nl&&b>I&&(I+=2*Math.PI),!nl&&b<I&&(I-=2*Math.PI),Y=[],_e=b,P=(I-b)/(j=Math.ceil(2*Math.abs(b-I)/Math.PI)),K=4*Math.tan(P/4)/3,Ye=0;Ye<=j;Ye++)Re=Math.cos(_e),me=Math.sin(_e),le=new SVG.Point(z.x+Re,z.y+me),Y[Ye]=[new SVG.Point(le.x+K*me,le.y-K*Re),le,new SVG.Point(le.x-K*me,le.y+K*Re)],_e+=P;for(Y[0][0]=Y[0][1].clone(),Y[Y.length-1][2]=Y[Y.length-1][1].clone(),D=(new SVG.Matrix).rotate(Hi).scale(xi,ri).rotate(-Hi),Ye=0,Se=Y.length;Ye<Se;Ye++)Y[Ye][0]=Y[Ye][0].transform(D),Y[Ye][1]=Y[Ye][1].transform(D),Y[Ye][2]=Y[Ye][2].transform(D);for(Ye=1,Se=Y.length;Ye<Se;Ye++)bt=(le=Y[Ye-1][2]).x,tn=le.y,kn=(le=Y[Ye][0]).x,Xn=le.y,mn=(le=Y[Ye][1]).x,Ac.push(["C",bt,tn,kn,Xn,mn,Fa=le.y]);return Ac}(this.pos,p))[0]}return p[0]="C",this.pos=[p[5],p[6]],this.reflection=[2*p[5]-p[3],2*p[6]-p[4]],g}function h(p,g){if(!1===g)return!1;for(var m=g,v=p.length;m<v;++m)if("M"==p[m][0])return m;return!1}SVG.extend(SVG.PathArray,{morph:function(p){for(var g=this.value,m=this.parse(p),v=0,w=0,E=!1,D=!1;!1!==v||!1!==w;){var A;E=h(g,!1!==v&&v+1),D=h(m,!1!==w&&w+1),!1===v&&(v=0==(A=new SVG.PathArray(R.start).bbox()).height||0==A.width?g.push(g[0])-1:g.push(["M",A.x+A.width/2,A.y+A.height/2])-1),!1===w&&(w=0==(A=new SVG.PathArray(R.dest).bbox()).height||0==A.width?m.push(m[0])-1:m.push(["M",A.x+A.width/2,A.y+A.height/2])-1);var R=L(g,v,E,m,w,D);g=g.slice(0,v).concat(R.start,!1===E?[]:g.slice(E)),m=m.slice(0,w).concat(R.dest,!1===D?[]:m.slice(D)),v=!1!==E&&v+R.start.length,w=!1!==D&&w+R.dest.length}return this.value=g,this.destination=new SVG.PathArray,this.destination.value=m,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
        * https://github.com/svgdotjs/svg.draggable.js
        * Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function L(a){a.remember("_draggable",this),this.el=a}L.prototype.init=function(a,l){var u=this;this.constraint=a,this.value=l,this.el.on("mousedown.drag",function(h){u.start(h)}),this.el.on("touchstart.drag",function(h){u.start(h)})},L.prototype.transformPoint=function(a,l){var u=(a=a||window.event).changedTouches&&a.changedTouches[0]||a;return this.p.x=u.clientX-(l||0),this.p.y=u.clientY,this.p.matrixTransform(this.m)},L.prototype.getBBox=function(){var a=this.el.bbox();return this.el instanceof SVG.Nested&&(a=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(a.x=this.el.x(),a.y=this.el.y()),a},L.prototype.start=function(a){if("click"!=a.type&&"mousedown"!=a.type&&"mousemove"!=a.type||1==(a.which||a.buttons)){var l=this;if(this.el.fire("beforedrag",{event:a,handler:this}),!this.el.event().defaultPrevented){a.preventDefault(),a.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var u,h=this.getBBox();if(this.el instanceof SVG.Text)switch(u=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":u/=2;break;case"start":u=0}this.startPoints={point:this.transformPoint(a,u),box:h,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(p){l.drag(p)}),SVG.on(window,"touchmove.drag",function(p){l.drag(p)}),SVG.on(window,"mouseup.drag",function(p){l.end(p)}),SVG.on(window,"touchend.drag",function(p){l.end(p)}),this.el.fire("dragstart",{event:a,p:this.startPoints.point,m:this.m,handler:this})}}},L.prototype.drag=function(a){var l=this.getBBox(),u=this.transformPoint(a),h=this.startPoints.box.x+u.x-this.startPoints.point.x,p=this.startPoints.box.y+u.y-this.startPoints.point.y,g=this.constraint,m=u.x-this.startPoints.point.x,v=u.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:a,p:u,m:this.m,handler:this}),this.el.event().defaultPrevented)return u;if("function"==typeof g){var w=g.call(this.el,h,p,this.m);"boolean"==typeof w&&(w={x:w,y:w}),!0===w.x?this.el.x(h):!1!==w.x&&this.el.x(w.x),!0===w.y?this.el.y(p):!1!==w.y&&this.el.y(w.y)}else"object"==typeof g&&(null!=g.minX&&h<g.minX?m=(h=g.minX)-this.startPoints.box.x:null!=g.maxX&&h>g.maxX-l.width&&(m=(h=g.maxX-l.width)-this.startPoints.box.x),null!=g.minY&&p<g.minY?v=(p=g.minY)-this.startPoints.box.y:null!=g.maxY&&p>g.maxY-l.height&&(v=(p=g.maxY-l.height)-this.startPoints.box.y),null!=g.snapToGrid&&(h-=h%g.snapToGrid,p-=p%g.snapToGrid,m-=m%g.snapToGrid,v-=v%g.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:m,y:v},!0):this.el.move(h,p));return u},L.prototype.end=function(a){var l=this.drag(a);this.el.fire("dragend",{event:a,p:l,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(a,l){"function"!=typeof a&&"object"!=typeof a||(l=a,a=!0);var u=this.remember("_draggable")||new L(this);return(a=void 0===a||a)?u.init(l||{},a):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function L(a){this.el=a,a.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(l,u,h){var p="string"!=typeof l?l:u[l];return h?p/2:p},this.pointCoords=function(l,u){var h=this.pointsList[l];return{x:this.pointCoord(h[0],u,"t"===l||"b"===l),y:this.pointCoord(h[1],u,"r"===l||"l"===l)}}}L.prototype.init=function(a,l){var u=this.el.bbox();this.options={};var h=this.el.selectize.defaults.points;for(var p in this.el.selectize.defaults)this.options[p]=this.el.selectize.defaults[p],void 0!==l[p]&&(this.options[p]=l[p]);var g=["points","pointsExclude"];for(var p in g){var m=this.options[g[p]];"string"==typeof m?m=m.length>0?m.split(/\s*,\s*/i):[]:"boolean"==typeof m&&"points"===g[p]&&(m=m?h:[]),this.options[g[p]]=m}this.options.points=[h,this.options.points].reduce(function(v,w){return v.filter(function(E){return w.indexOf(E)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(v,w){return v.filter(function(E){return w.indexOf(E)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(u.x,u.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(a):this.selectRect(a),this.observe(),this.cleanup()},L.prototype.selectPoints=function(a){return this.pointSelection.isSelected=a,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},L.prototype.getPointArray=function(){var a=this.el.bbox();return this.el.array().valueOf().map(function(l){return[l[0]-a.x,l[1]-a.y]})},L.prototype.drawPoints=function(){for(var a=this,l=this.getPointArray(),u=0,h=l.length;u<h;++u){var p=function(m){return function(v){(v=v||window.event).preventDefault?v.preventDefault():v.returnValue=!1,v.stopPropagation(),a.el.fire("point",{x:v.pageX||v.touches[0].pageX,y:v.pageY||v.touches[0].pageY,i:m,event:v})}}(u),g=this.drawPoint(l[u][0],l[u][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",p).on("mousedown",p);this.pointSelection.set.add(g)}},L.prototype.drawPoint=function(a,l){var u=this.options.pointType;switch(u){case"circle":return this.drawCircle(a,l);case"rect":return this.drawRect(a,l);default:if("function"==typeof u)return u.call(this,a,l);throw new Error("Unknown "+u+" point type!")}},L.prototype.drawCircle=function(a,l){return this.nested.circle(this.options.pointSize).center(a,l)},L.prototype.drawRect=function(a,l){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(a,l)},L.prototype.updatePointSelection=function(){var a=this.getPointArray();this.pointSelection.set.each(function(l){this.cx()===a[l][0]&&this.cy()===a[l][1]||this.center(a[l][0],a[l][1])})},L.prototype.updateRectSelection=function(){var a=this,l=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:l.width,height:l.height}),this.options.points.length&&this.options.points.map(function(h,p){var g=a.pointCoords(h,l);a.rectSelection.set.get(p+1).center(g.x,g.y)}),this.options.rotationPoint){var u=this.rectSelection.set.length();this.rectSelection.set.get(u-1).center(l.width/2,20)}},L.prototype.selectRect=function(a){var l=this,u=this.el.bbox();function h(m){return function(v){(v=v||window.event).preventDefault?v.preventDefault():v.returnValue=!1,v.stopPropagation(),l.el.fire(m,{x:v.pageX||v.touches[0].pageX,y:v.pageY||v.touches[0].pageY,event:v})}}if(this.rectSelection.isSelected=a,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(u.width,u.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(m,v){var w=l.pointCoords(m,u),E=l.drawPoint(w.x,w.y).attr("class",l.options.classPoints+"_"+m).on("mousedown",h(m)).on("touchstart",h(m));l.rectSelection.set.add(E)}),this.rectSelection.set.each(function(){this.addClass(l.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var p=function(m){(m=m||window.event).preventDefault?m.preventDefault():m.returnValue=!1,m.stopPropagation(),l.el.fire("rot",{x:m.pageX||m.touches[0].pageX,y:m.pageY||m.touches[0].pageY,event:m})},g=this.drawPoint(u.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",p).on("mousedown",p);this.rectSelection.set.add(g)}},L.prototype.handler=function(){var a=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(a.x,a.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},L.prototype.observe=function(){var a=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){a.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){a.handler()})},L.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(a,l){return"object"==typeof a&&(l=a,a=!0),(this.remember("_selectHandler")||new L(this)).init(void 0===a||a,l||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function L(a){a.remember("_resizeHandler",this),this.el=a,this.parameters={},this.lastUpdateCall=null,this.p=a.doc().node.createSVGPoint()}L.prototype.transformPoint=function(a,l,u){return this.p.x=a-(this.offset.x-window.pageXOffset),this.p.y=l-(this.offset.y-window.pageYOffset),this.p.matrixTransform(u||this.m)},L.prototype._extractPosition=function(a){return{x:null!=a.clientX?a.clientX:a.touches[0].clientX,y:null!=a.clientY?a.clientY:a.touches[0].clientY}},L.prototype.init=function(a){var l=this;if(this.stop(),"stop"!==a){for(var u in this.options={},this.el.resize.defaults)this.options[u]=this.el.resize.defaults[u],void 0!==a[u]&&(this.options[u]=a[u]);this.el.on("lt.resize",function(h){l.resize(h||window.event)}),this.el.on("rt.resize",function(h){l.resize(h||window.event)}),this.el.on("rb.resize",function(h){l.resize(h||window.event)}),this.el.on("lb.resize",function(h){l.resize(h||window.event)}),this.el.on("t.resize",function(h){l.resize(h||window.event)}),this.el.on("r.resize",function(h){l.resize(h||window.event)}),this.el.on("b.resize",function(h){l.resize(h||window.event)}),this.el.on("l.resize",function(h){l.resize(h||window.event)}),this.el.on("rot.resize",function(h){l.resize(h||window.event)}),this.el.on("point.resize",function(h){l.resize(h||window.event)}),this.update()}},L.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},L.prototype.resize=function(a){var l=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var u=this._extractPosition(a.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(u.x,u.y),x:a.detail.x,y:a.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==a.detail.i){var h=this.el.array().valueOf();this.parameters.i=a.detail.i,this.parameters.pointCoords=[h[a.detail.i][0],h[a.detail.i][1]]}switch(a.type){case"lt":this.calc=function(p,g){var m=this.snapToGrid(p,g);if(this.parameters.box.width-m[0]>0&&this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-m[0]);m=this.checkAspectRatio(m),this.el.move(this.parameters.box.x+m[0],this.parameters.box.y+m[1]).size(this.parameters.box.width-m[0],this.parameters.box.height-m[1])}};break;case"rt":this.calc=function(p,g){var m=this.snapToGrid(p,g,2);if(this.parameters.box.width+m[0]>0&&this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+m[0]);m=this.checkAspectRatio(m,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+m[1]).size(this.parameters.box.width+m[0],this.parameters.box.height-m[1])}};break;case"rb":this.calc=function(p,g){var m=this.snapToGrid(p,g,0);if(this.parameters.box.width+m[0]>0&&this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+m[0]);m=this.checkAspectRatio(m),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+m[0],this.parameters.box.height+m[1])}};break;case"lb":this.calc=function(p,g){var m=this.snapToGrid(p,g,1);if(this.parameters.box.width-m[0]>0&&this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-m[0]);m=this.checkAspectRatio(m,!0),this.el.move(this.parameters.box.x+m[0],this.parameters.box.y).size(this.parameters.box.width-m[0],this.parameters.box.height+m[1])}};break;case"t":this.calc=function(p,g){var m=this.snapToGrid(p,g,2);if(this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+m[1]).height(this.parameters.box.height-m[1])}};break;case"r":this.calc=function(p,g){var m=this.snapToGrid(p,g,0);if(this.parameters.box.width+m[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+m[0])}};break;case"b":this.calc=function(p,g){var m=this.snapToGrid(p,g,0);if(this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+m[1])}};break;case"l":this.calc=function(p,g){var m=this.snapToGrid(p,g,1);if(this.parameters.box.width-m[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+m[0],this.parameters.box.y).width(this.parameters.box.width-m[0])}};break;case"rot":this.calc=function(p,g){var m=p+this.parameters.p.x,v=g+this.parameters.p.y,w=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),E=Math.atan2(v-this.parameters.box.y-this.parameters.box.height/2,m-this.parameters.box.x-this.parameters.box.width/2),D=this.parameters.rotation+180*(E-w)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(D-D%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(p,g){var m=this.snapToGrid(p,g,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),v=this.el.array().valueOf();v[this.parameters.i][0]=this.parameters.pointCoords[0]+m[0],v[this.parameters.i][1]=this.parameters.pointCoords[1]+m[1],this.el.plot(v)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:a}),SVG.on(window,"touchmove.resize",function(p){l.update(p||window.event)}),SVG.on(window,"touchend.resize",function(){l.done()}),SVG.on(window,"mousemove.resize",function(p){l.update(p||window.event)}),SVG.on(window,"mouseup.resize",function(){l.done()})},L.prototype.update=function(a){if(a){var l=this._extractPosition(a),u=this.transformPoint(l.x,l.y),h=u.x-this.parameters.p.x,p=u.y-this.parameters.p.y;this.lastUpdateCall=[h,p],this.calc(h,p),this.el.fire("resizing",{dx:h,dy:p,event:a})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},L.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},L.prototype.snapToGrid=function(a,l,u,h){var p;return p=void 0!==h?[(u+a)%this.options.snapToGrid,(h+l)%this.options.snapToGrid]:[(this.parameters.box.x+a+(1&(u=u??3)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+l+(2&u?0:this.parameters.box.height))%this.options.snapToGrid],a<0&&(p[0]-=this.options.snapToGrid),l<0&&(p[1]-=this.options.snapToGrid),a-=Math.abs(p[0])<this.options.snapToGrid/2?p[0]:p[0]-(a<0?-this.options.snapToGrid:this.options.snapToGrid),l-=Math.abs(p[1])<this.options.snapToGrid/2?p[1]:p[1]-(l<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(a,l,u,h)},L.prototype.constraintToBox=function(a,l,u,h){var p,g,m=this.options.constraint||{};return void 0!==h?(p=u,g=h):(p=this.parameters.box.x+(1&u?0:this.parameters.box.width),g=this.parameters.box.y+(2&u?0:this.parameters.box.height)),void 0!==m.minX&&p+a<m.minX&&(a=m.minX-p),void 0!==m.maxX&&p+a>m.maxX&&(a=m.maxX-p),void 0!==m.minY&&g+l<m.minY&&(l=m.minY-g),void 0!==m.maxY&&g+l>m.maxY&&(l=m.maxY-g),[a,l]},L.prototype.checkAspectRatio=function(a,l){if(!this.options.saveAspectRatio)return a;var u=a.slice(),h=this.parameters.box.width/this.parameters.box.height,p=this.parameters.box.width+a[0],g=this.parameters.box.height-a[1],m=p/g;return m<h?(u[1]=p/h-this.parameters.box.height,l&&(u[1]=-u[1])):m>h&&(u[0]=this.parameters.box.width-g*h,l&&(u[0]=-u[0])),u},SVG.extend(SVG.Element,{resize:function(a){return(this.remember("_resizeHandler")||new L(this)).init(a||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Ee=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Ii(this.ctx),this.ctx.axes=new Oe(this.ctx),this.ctx.core=new Tr(this.ctx.el,this.ctx),this.ctx.config=new Ur({}),this.ctx.data=new pn(this.ctx),this.ctx.grid=new bi(this.ctx),this.ctx.graphics=new Me(this.ctx),this.ctx.coreUtils=new qt(this.ctx),this.ctx.crosshairs=new Ke(this.ctx),this.ctx.events=new Ce(this.ctx),this.ctx.exports=new Bt(this.ctx),this.ctx.localization=new we(this.ctx),this.ctx.options=new Yn,this.ctx.responsive=new mt(this.ctx),this.ctx.series=new at(this.ctx),this.ctx.theme=new nt(this.ctx),this.ctx.formatters=new Hr(this.ctx),this.ctx.titleSubtitle=new gi(this.ctx),this.ctx.legend=new Pr(this.ctx),this.ctx.toolbar=new oi(this.ctx),this.ctx.tooltip=new xs(this.ctx),this.ctx.dimensions=new Qi(this.ctx),this.ctx.updateHelpers=new tl(this.ctx),this.ctx.zoomPanSelection=new An(this.ctx),this.ctx.w.globals.tooltip=new xs(this.ctx)}}]),L}(),ye=function(){function L(a){Ue(this,L),this.ctx=a,this.w=a.w}return ht(L,[{key:"clear",value:function(a){var l=a.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:l})}},{key:"killSVG",value:function(a){a.each(function(l,u){this.removeClass("*"),this.off(),this.stop()},!0),a.ungroup(),a.clear()}},{key:"clearDomElements",value:function(a){var l=this,h=this.w.globals.dom.Paper.node;h.parentNode&&h.parentNode.parentNode&&!a.isUpdating&&(h.parentNode.parentNode.style.minHeight="unset");var p=this.w.globals.dom.baseEl;p&&this.ctx.eventList.forEach(function(m){p.removeEventListener(m,l.ctx.events.documentEvent)});var g=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(g.Paper),g.Paper.remove(),g.elWrap=null,g.elGraphical=null,g.elLegendWrap=null,g.elLegendForeign=null,g.baseEl=null,g.elGridRect=null,g.elGridRectMask=null,g.elGridRectMarkerMask=null,g.elForecastMask=null,g.elNonForecastMask=null,g.elDefs=null}}]),L}(),dt=new WeakMap,Wt=function(){function L(a,l){Ue(this,L),this.opts=l,this.ctx=this,this.w=new Ne(l).init(),this.el=a,this.w.globals.cuid=fe.randomId(),this.w.globals.chartID=this.w.config.chart.id?fe.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ee(this).initModules(),this.create=fe.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return ht(L,[{key:"render",value:function(){var a=this;return new Promise(function(l,u){if(null!==a.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),a.w.config.chart.id&&Apex._chartInstances.push({id:a.w.globals.chartID,group:a.w.config.chart.group,chart:a}),a.setLocale(a.w.config.chart.defaultLocale);var h=a.w.config.chart.events.beforeMount;if("function"==typeof h&&h(a,a.w),a.events.fireEvent("beforeMount",[a,a.w]),window.addEventListener("resize",a.windowResizeHandler),function(E,D){var A=!1;if(E.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var R=E.getBoundingClientRect();"none"!==E.style.display&&0!==R.width||(A=!0)}var O=new ResizeObserver(function(F){A&&D.call(E,F),A=!0});E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(E.children).forEach(function(F){return O.observe(F)}):O.observe(E),dt.set(D,O)}(a.el.parentNode,a.parentResizeHandler),!a.css){var p=a.el.getRootNode&&a.el.getRootNode(),g=fe.is("ShadowRoot",p),m=a.el.ownerDocument,v=m.getElementById("apexcharts-css");!g&&v||(a.css=document.createElement("style"),a.css.id="apexcharts-css",a.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n\n.apexcharts-bar-goals-markers{\n  pointer-events: none\n}\n\n.apexcharts-bar-shadows{\n  pointer-events: none\n}\n\n.apexcharts-rangebar-goals-markers{\n  pointer-events: none\n}',g?p.prepend(a.css):m.head.appendChild(a.css))}var w=a.create(a.w.config.series,{});if(!w)return l(a);a.mount(w).then(function(){"function"==typeof a.w.config.chart.events.mounted&&a.w.config.chart.events.mounted(a,a.w),a.events.fireEvent("mounted",[a,a.w]),l(w)}).catch(function(E){u(E)})}else u(new Error("Element not found"))})}},{key:"create",value:function(a,l){var u=this.w;new Ee(this).initModules();var h=this.w.globals;if(h.noData=!1,h.animationEnded=!1,this.responsive.checkResponsiveConfig(l),u.config.xaxis.convertedCatToNumeric&&new _r(u.config).convertCatToNumericXaxis(u.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===u.config.chart.type&&(u.config.grid.show=!1,u.config.yaxis[0].show=!1),0===h.svgWidth))return h.animationEnded=!0,null;var p=qt.checkComboSeries(a);h.comboCharts=p.comboCharts,h.comboBarCount=p.comboBarCount;var g=a.every(function(E){return E.data&&0===E.data.length});(0===a.length||g)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new Ae(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),h.noData&&h.collapsedSeries.length!==h.series.length&&!u.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),h.axisCharts&&(this.core.coreCalculations(),"category"!==u.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=u.globals.minX,this.ctx.toolbar.maxX=u.globals.maxX),this.formatters.heatmapLabelFormatters(),new qt(this).getLargestMarkerSize(),this.dimensions.plotCoords();var m=this.core.xySettings();this.grid.createGridMask();var v=this.core.plotChartType(a,m),w=new We(this);return w.bringForward(),u.config.dataLabels.background.enabled&&w.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:v,xyRatios:m,dimensions:{plot:{left:u.globals.translateX,top:u.globals.translateY,width:u.globals.gridWidth,height:u.globals.gridHeight}}}}},{key:"mount",value:function(){var a=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,u=this,h=u.w;return new Promise(function(p,g){if(null===u.el)return g(new Error("Not enough data to display or target element not found"));(null===l||h.globals.allSeriesCollapsed)&&u.series.handleNoData(),u.grid=new bi(u);var m,v,w=u.grid.drawGrid();if(u.annotations=new Bi(u),u.annotations.drawImageAnnos(),u.annotations.drawTextAnnos(),"back"===h.config.grid.position&&(w&&h.globals.dom.elGraphical.add(w.el),null!=w&&null!==(m=w.elGridBorders)&&void 0!==m&&m.node&&h.globals.dom.elGraphical.add(w.elGridBorders)),Array.isArray(l.elGraph))for(var E=0;E<l.elGraph.length;E++)h.globals.dom.elGraphical.add(l.elGraph[E]);else h.globals.dom.elGraphical.add(l.elGraph);"front"===h.config.grid.position&&(w&&h.globals.dom.elGraphical.add(w.el),null!=w&&null!==(v=w.elGridBorders)&&void 0!==v&&v.node&&h.globals.dom.elGraphical.add(w.elGridBorders)),"front"===h.config.xaxis.crosshairs.position&&u.crosshairs.drawXCrosshairs(),"front"===h.config.yaxis[0].crosshairs.position&&u.crosshairs.drawYCrosshairs(),"treemap"!==h.config.chart.type&&u.axes.drawAxis(h.config.chart.type,w);var D=new xn(a.ctx,w),A=new Ri(a.ctx,w);if(null!==w&&(D.xAxisLabelCorrections(w.xAxisTickWidth),A.setYAxisTextAlignments(),h.config.yaxis.map(function(O,F){-1===h.globals.ignoreYAxisIndexes.indexOf(F)&&A.yAxisTitleRotate(F,O.opposite)})),u.annotations.drawAxesAnnotations(),!h.globals.noData){if(h.config.tooltip.enabled&&!h.globals.noData&&u.w.globals.tooltip.drawTooltip(l.xyRatios),h.globals.axisCharts&&(h.globals.isXNumeric||h.config.xaxis.convertedCatToNumeric||h.globals.isRangeBar))(h.config.chart.zoom.enabled||h.config.chart.selection&&h.config.chart.selection.enabled||h.config.chart.pan&&h.config.chart.pan.enabled)&&u.zoomPanSelection.init({xyRatios:l.xyRatios});else{var R=h.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(O){R[O]=!1})}h.config.chart.toolbar.show&&!h.globals.allSeriesCollapsed&&u.toolbar.createToolbar()}h.globals.memory.methodsToExec.length>0&&h.globals.memory.methodsToExec.forEach(function(O){O.method(O.params,!1,O.context)}),h.globals.axisCharts||h.globals.noData||u.core.resizeNonAxisCharts(),p(u)})}},{key:"destroy",value:function(){var a,l;window.removeEventListener("resize",this.windowResizeHandler),(l=dt.get(a=this.parentResizeHandler))&&(l.disconnect(),dt.delete(a));var u=this.w.config.chart.id;u&&Apex._chartInstances.forEach(function(h,p){h.id===fe.escapeString(u)&&Apex._chartInstances.splice(p,1)}),new ye(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(a){var l=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],g=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],m=this.w;return m.globals.selection=void 0,a.series&&(this.series.resetSeries(!1,!0,!1),a.series.length&&a.series[0].data&&(a.series=a.series.map(function(v,w){return l.updateHelpers._extendSeries(v,w)})),this.updateHelpers.revertDefaultAxisMinMax()),a.xaxis&&(a=this.updateHelpers.forceXAxisUpdate(a)),a.yaxis&&(a=this.updateHelpers.forceYAxisUpdate(a)),m.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),a.theme&&(a=this.theme.updateThemeOptions(a)),this.updateHelpers._updateOptions(a,u,h,p,g)}},{key:"updateSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,l,u)}},{key:"appendSeries",value:function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],h=this.w.config.series.slice();return h.push(a),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(h,l,u)}},{key:"appendData",value:function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=this;u.w.globals.dataChanged=!0,u.series.getPreviousPaths();for(var h=u.w.config.series.slice(),p=0;p<h.length;p++)if(null!=a[p])for(var g=0;g<a[p].data.length;g++)h[p].data.push(a[p].data[g]);return u.w.config.series=h,l&&(u.w.globals.initialSeries=fe.clone(u.w.config.series)),this.update()}},{key:"update",value:function(a){var l=this;return new Promise(function(u,h){new ye(l.ctx).clear({isUpdating:!0});var p=l.create(l.w.config.series,a);if(!p)return u(l);l.mount(p).then(function(){"function"==typeof l.w.config.chart.events.updated&&l.w.config.chart.events.updated(l,l.w),l.events.fireEvent("updated",[l,l.w]),l.w.globals.isDirty=!0,u(l)}).catch(function(g){h(g)})})}},{key:"getSyncedCharts",value:function(){var a=this.getGroupedCharts(),l=[this];return a.length&&(l=[],a.forEach(function(u){l.push(u)})),l}},{key:"getGroupedCharts",value:function(){var a=this;return Apex._chartInstances.filter(function(l){if(l.group)return!0}).map(function(l){return a.w.config.chart.group===l.group?l.chart:a})}},{key:"toggleSeries",value:function(a){return this.series.toggleSeries(a)}},{key:"highlightSeriesOnLegendHover",value:function(a,l){return this.series.toggleSeriesOnHover(a,l)}},{key:"showSeries",value:function(a){this.series.showSeries(a)}},{key:"hideSeries",value:function(a){this.series.hideSeries(a)}},{key:"isSeriesHidden",value:function(a){this.series.isSeriesHidden(a)}},{key:"resetSeries",value:function(){this.series.resetSeries(!(arguments.length>0&&void 0!==arguments[0])||arguments[0],!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"addEventListener",value:function(a,l){this.events.addEventListener(a,l)}},{key:"removeEventListener",value:function(a,l){this.events.removeEventListener(a,l)}},{key:"addXaxisAnnotation",value:function(a){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=this;u&&(h=u),h.annotations.addXaxisAnnotationExternal(a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h)}},{key:"addYaxisAnnotation",value:function(a){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=this;u&&(h=u),h.annotations.addYaxisAnnotationExternal(a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h)}},{key:"addPointAnnotation",value:function(a){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=this;u&&(h=u),h.annotations.addPointAnnotationExternal(a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h)}},{key:"clearAnnotations",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,l=this;a&&(l=a),l.annotations.clearAnnotations(l)}},{key:"removeAnnotation",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=this;l&&(u=l),u.annotations.removeAnnotation(u,a)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(a,l){return this.coreUtils.getSeriesTotalsXRange(a,l)}},{key:"getHighestValueInSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new pi(this.ctx).getMinYMaxY(a).highestY}},{key:"getLowestValueInSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new pi(this.ctx).getMinYMaxY(a).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(a,l){return this.updateHelpers.toggleDataPointSelection(a,l)}},{key:"zoomX",value:function(a,l){this.ctx.toolbar.zoomUpdateOptions(a,l)}},{key:"setLocale",value:function(a){this.localization.setCurrentLocaleValues(a)}},{key:"dataURI",value:function(a){return new Bt(this.ctx).dataURI(a)}},{key:"exportToCSV",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Bt(this.ctx).exportToCSV(a)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var a=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){a.w.globals.resized=!0,a.w.globals.dataChanged=!1,a.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var a=this.w.config.chart.redrawOnWindowResize;"function"==typeof a&&(a=a()),a&&this._windowResize()}}],[{key:"getChartByID",value:function(a){var l=fe.escapeString(a);if(Apex._chartInstances){var u=Apex._chartInstances.filter(function(h){return h.id===l})[0];return u&&u.chart}}},{key:"initOnLoad",value:function(){for(var a=document.querySelectorAll("[data-apexcharts]"),l=0;l<a.length;l++)new L(a[l],JSON.parse(a[l].getAttribute("data-options"))).render()}},{key:"exec",value:function(a,l){var u=this.getChartByID(a);if(u){u.w.globals.isExecCalled=!0;var h=null;if(-1!==u.publicMethods.indexOf(l)){for(var p=arguments.length,g=new Array(p>2?p-2:0),m=2;m<p;m++)g[m-2]=arguments[m];h=u[l].apply(u,g)}return h}}},{key:"merge",value:function(a,l){return fe.extend(a,l)}}]),L}();Jr.exports=Wt},215:(Jr,Wi,Yt)=>{Yt.d(Wi,{$:()=>al,A:()=>rt,E:()=>zn,J:()=>Re,K:()=>tn,M:()=>il,P:()=>Va,Q:()=>He,R:()=>Nx,U:()=>Ge,V:()=>tI,W:()=>nI,X:()=>iI,Y:()=>rl,Z:()=>go,_:()=>ai,a:()=>ip,a0:()=>Kf,a1:()=>vx,a2:()=>yx,a3:()=>rI,a4:()=>xx,a5:()=>ts,a6:()=>ds,a7:()=>Nc,a8:()=>wx,a9:()=>tp,aA:()=>qt,aB:()=>st,aC:()=>mp,aD:()=>W,aE:()=>Tt,aF:()=>Wr,aG:()=>Ux,aH:()=>O2,aI:()=>E,aM:()=>rp,aP:()=>ol,aa:()=>sI,ab:()=>vr,ac:()=>_n,ad:()=>Ji,ae:()=>Ed,af:()=>jl,ag:()=>un,aj:()=>Ir,ak:()=>Dd,al:()=>La,ao:()=>mx,ap:()=>Ex,ar:()=>oI,as:()=>w2,at:()=>Yn,au:()=>ye,av:()=>Tr,aw:()=>Me,ax:()=>yp,ay:()=>Es,az:()=>dt,b:()=>cI,c:()=>Rd,d:()=>wI,e:()=>xI,f:()=>Gx,g:()=>TI,h:()=>EI,i:()=>uI,j:()=>ut,k:()=>ch,l:()=>Lx,m:()=>iw,p:()=>Bn,r:()=>bI,s:()=>yI,u:()=>U_});var ie=Yt(861),ze=Yt(963),ae=Yt(211),yt=Yt(383),Ue=Yt(582),Ti=Yt(427);const Bn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},rt={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const zn=function Pt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},On=function sn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},In=new ze.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new yt.Yd("@firebase/auth");function bn(S,...y){fe.logLevel<=yt.in.ERROR&&fe.error(`Auth (${ae.SDK_VERSION}): ${S}`,...y)}function Me(S,...y){throw cn(S,...y)}function qt(S,...y){return cn(S,...y)}function Er(S,y,C){const k=Object.assign(Object.assign({},On()),{[y]:C});return new ze.LL("auth","Firebase",k).create(y,{appName:S.name})}function Ki(S,y,C){if(!(y instanceof C))throw C.name!==y.constructor.name&&Me(S,"argument-error"),Er(S,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cn(S,...y){if("string"!=typeof S){const C=y[0],k=[...y.slice(1)];return k[0]&&(k[0].appName=S.name),S._errorFactory.create(C,...k)}return In.create(S,...y)}function st(S,y,...C){if(!S)throw cn(y,...C)}function Pn(S){const y="INTERNAL ASSERTION FAILED: "+S;throw bn(y),new Error(y)}function Yn(S,y){S||Pn(y)}function Bi(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function fn(){return"http:"===Hr()||"https:"===Hr()}function Hr(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class _r{constructor(y,C){this.shortDelay=y,this.longDelay=C,Yn(C>y,"Short delay should be less than long delay!"),this.isMobile=(0,ze.uI)()||(0,ze.b$)()}get(){return function ls(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(fn()||(0,ze.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ur(S,y){Yn(S.emulator,"Emulator should always be set here");const{url:C}=S.emulator;return y?`${C}${y.startsWith("/")?y.slice(1):y}`:C}class ke{static initialize(y,C,k){this.fetchImpl=y,C&&(this.headersImpl=C),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},he=new _r(3e4,6e4);function Ae(S,y){return S.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:S.tenantId}):y}function Je(S,y,C,k){return We.apply(this,arguments)}function We(){return(We=(0,ie.Z)(function*(S,y,C,k,H={}){return at(S,H,(0,ie.Z)(function*(){let X={},be={};k&&("GET"===y?be=k:X={body:JSON.stringify(k)});const Pe=(0,ze.xO)(Object.assign({key:S.config.apiKey},be)).slice(1),et=yield S._getAdditionalHeaders();return et["Content-Type"]="application/json",S.languageCode&&(et["X-Firebase-Locale"]=S.languageCode),ke.fetch()(xn(S,S.config.apiHost,C,Pe),Object.assign({method:y,headers:et,referrerPolicy:"no-referrer"},X))}))})).apply(this,arguments)}function at(S,y,C){return pn.apply(this,arguments)}function pn(){return(pn=(0,ie.Z)(function*(S,y,C){S._canInitEmulator=!1;const k=Object.assign(Object.assign({},Ne),y);try{const H=new Hn(S),X=yield Promise.race([C(),H.promise]);H.clearNetworkTimeout();const be=yield X.json();if("needConfirmation"in be)throw pi(S,"account-exists-with-different-credential",be);if(X.ok&&!("errorMessage"in be))return be;{const Pe=X.ok?be.errorMessage:be.error.message,[et,Lt]=Pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===et)throw pi(S,"credential-already-in-use",be);if("EMAIL_EXISTS"===et)throw pi(S,"email-already-in-use",be);if("USER_DISABLED"===et)throw pi(S,"user-disabled",be);const Xt=k[et]||et.toLowerCase().replace(/[_\s]+/g,"-");if(Lt)throw Er(S,Xt,Lt);Me(S,Xt)}}catch(H){if(H instanceof ze.ZR)throw H;Me(S,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function $e(S,y,C,k){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,ie.Z)(function*(S,y,C,k,H={}){const X=yield Je(S,y,C,k,H);return"mfaPendingCredential"in X&&Me(S,"multi-factor-auth-required",{_serverResponse:X}),X})).apply(this,arguments)}function xn(S,y,C,k){const H=`${y}${C}?${k}`;return S.config.emulator?Ur(S.config,H):`${S.config.apiScheme}://${H}`}function bi(S){switch(S){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hn{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((C,k)=>{this.timer=setTimeout(()=>k(qt(this.auth,"network-request-failed")),he.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pi(S,y,C){const k={appName:S.name};C.email&&(k.email=C.email),C.phoneNumber&&(k.phoneNumber=C.phoneNumber);const H=qt(S,y,k);return H.customData._tokenResponse=C,H}function Ri(S){return void 0!==S&&void 0!==S.getResponse}function Ce(S){return void 0!==S&&void 0!==S.enterprise}class we{constructor(y){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=y.recaptchaEnforcementState}getProviderEnforcementState(y){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const C of this.recaptchaEnforcementState)if(C.provider&&C.provider===y)return bi(C.enforcementState);return null}isProviderEnabled(y){return"ENFORCE"===this.getProviderEnforcementState(y)||"AUDIT"===this.getProviderEnforcementState(y)}}function Ke(){return(Ke=(0,ie.Z)(function*(S){return(yield Je(S,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mt(S,y){return nt.apply(this,arguments)}function nt(){return(nt=(0,ie.Z)(function*(S,y){return Je(S,"GET","/v2/recaptchaConfig",Ae(S,y))})).apply(this,arguments)}function Ln(){return(Ln=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function mi(){return(mi=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Qi(){return(Qi=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Or(S){if(S)try{const y=new Date(Number(S));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function An(){return(An=(0,ie.Z)(function*(S,y=!1){const C=(0,ze.m9)(S),k=yield C.getIdToken(y),H=ti(k);st(H&&H.exp&&H.auth_time&&H.iat,C.auth,"internal-error");const X="object"==typeof H.firebase?H.firebase:void 0,be=X?.sign_in_provider;return{claims:H,token:k,authTime:Or(qn(H.auth_time)),issuedAtTime:Or(qn(H.iat)),expirationTime:Or(qn(H.exp)),signInProvider:be||null,signInSecondFactor:X?.sign_in_second_factor||null}})).apply(this,arguments)}function qn(S){return 1e3*Number(S)}function ti(S){const[y,C,k]=S.split(".");if(void 0===y||void 0===C||void 0===k)return bn("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,ze.tV)(C);return H?JSON.parse(H):(bn("Failed to decode base64 JWT payload"),null)}catch(H){return bn("Caught error parsing JWT payload as JSON",H?.toString()),null}}function Si(S,y){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,ie.Z)(function*(S,y,C=!1){if(C)return y;try{return yield y}catch(k){throw k instanceof ze.ZR&&function ho({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}(k)&&S.auth.currentUser===S&&(yield S.auth.signOut()),k}})).apply(this,arguments)}class xs{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var C;if(y){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const H=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(y=!1){var C=this;if(!this.isRunning)return;const k=this.getInterval(y);this.timerId=setTimeout((0,ie.Z)(function*(){yield C.iteration()}),k)}iteration(){var y=this;return(0,ie.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C?.code&&y.schedule(!0))}y.schedule()})()}}class fo{constructor(y,C){this.createdAt=y,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=Or(this.lastLoginAt),this.creationTime=Or(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dr(S){return Pi.apply(this,arguments)}function Pi(){return Pi=(0,ie.Z)(function*(S){var y;const C=S.auth,k=yield S.getIdToken(),H=yield Si(S,function zi(S,y){return Qi.apply(this,arguments)}(C,{idToken:k}));st(H?.users.length,C,"internal-error");const X=H.users[0];S._notifyReloadListener(X);const be=null!==(y=X.providerUserInfo)&&void 0!==y&&y.length?function Pa(S){return S.map(y=>{var{providerId:C}=y,k=(0,Ue._T)(y,["providerId"]);return{providerId:C,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}(X.providerUserInfo):[],Pe=function el(S,y){return[...S.filter(k=>!y.some(H=>H.providerId===k.providerId)),...y]}(S.providerData,be),Xt=!!S.isAnonymous&&!(S.email&&X.passwordHash||Pe?.length),Wn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:Pe,metadata:new fo(X.createdAt,X.lastLoginAt),isAnonymous:Xt};Object.assign(S,Wn)}),Pi.apply(this,arguments)}function cs(){return(cs=(0,ie.Z)(function*(S){const y=(0,ze.m9)(S);yield Dr(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function po(){return(po=(0,ie.Z)(function*(S,y){const C=yield at(S,{},(0,ie.Z)(function*(){const k=(0,ze.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:H,apiKey:X}=S.config,be=xn(S,H,"/v1/token",`key=${X}`),Pe=yield S._getAdditionalHeaders();return Pe["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(be,{method:"POST",headers:Pe,body:k})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){st(y.idToken,"internal-error"),st(typeof y.idToken<"u","internal-error"),st(typeof y.refreshToken<"u","internal-error");const C="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function Oa(S){const y=ti(S);return st(y,"internal-error"),st(typeof y.exp<"u","internal-error"),st(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,C)}getToken(y,C=!1){var k=this;return(0,ie.Z)(function*(){return st(!k.accessToken||k.refreshToken,y,"user-token-expired"),C||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(y,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,C){var k=this;return(0,ie.Z)(function*(){const{accessToken:H,refreshToken:X,expiresIn:be}=yield function Na(S,y){return po.apply(this,arguments)}(y,C);k.updateTokensAndExpiration(H,X,Number(be))})()}updateTokensAndExpiration(y,C,k){this.refreshToken=C||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(y,C){const{refreshToken:k,accessToken:H,expirationTime:X}=C,be=new ge;return k&&(st("string"==typeof k,"internal-error",{appName:y}),be.refreshToken=k),H&&(st("string"==typeof H,"internal-error",{appName:y}),be.accessToken=H),X&&(st("number"==typeof X,"internal-error",{appName:y}),be.expirationTime=X),be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new ge,this.toJSON())}_performRefresh(){return Pn("not implemented")}}function ue(S,y){st("string"==typeof S||typeof S>"u","internal-error",{appName:y})}class ${constructor(y){var{uid:C,auth:k,stsTokenManager:H}=y,X=(0,Ue._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=k,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.emailVerified=X.emailVerified||!1,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.tenantId=X.tenantId||null,this.providerData=X.providerData?[...X.providerData]:[],this.metadata=new fo(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(y){var C=this;return(0,ie.Z)(function*(){const k=yield Si(C,C.stsTokenManager.getToken(C.auth,y));return st(k,C.auth,"internal-error"),C.accessToken!==k&&(C.accessToken=k,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),k})()}getIdTokenResult(y){return function oi(S){return An.apply(this,arguments)}(this,y)}reload(){return function es(S){return cs.apply(this,arguments)}(this)}_assign(y){this!==y&&(st(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(C=>Object.assign({},C)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const C=new $(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return C.metadata._copy(this.metadata),C}_onReload(y){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,C=!1){var k=this;return(0,ie.Z)(function*(){let H=!1;y.idToken&&y.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(y),H=!0),C&&(yield Dr(k)),yield k.auth._persistUserIfCurrent(k),H&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var y=this;return(0,ie.Z)(function*(){const C=yield y.getIdToken();return yield Si(y,function gi(S,y){return Ln.apply(this,arguments)}(y.auth,{idToken:C})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,C){var k,H,X,be,Pe,et,Lt,Xt;const Wn=null!==(k=C.displayName)&&void 0!==k?k:void 0,Vs=null!==(H=C.email)&&void 0!==H?H:void 0,la=null!==(X=C.phoneNumber)&&void 0!==X?X:void 0,Bd=null!==(be=C.photoURL)&&void 0!==be?be:void 0,sw=null!==(Pe=C.tenantId)&&void 0!==Pe?Pe:void 0,Cp=null!==(et=C._redirectEventId)&&void 0!==et?et:void 0,sv=null!==(Lt=C.createdAt)&&void 0!==Lt?Lt:void 0,ov=null!==(Xt=C.lastLoginAt)&&void 0!==Xt?Xt:void 0,{uid:Ep,emailVerified:ow,isAnonymous:uh,providerData:ul,stsTokenManager:aw}=C;st(Ep&&aw,y,"internal-error");const lw=ge.fromJSON(this.name,aw);st("string"==typeof Ep,y,"internal-error"),ue(Wn,y.name),ue(Vs,y.name),st("boolean"==typeof ow,y,"internal-error"),st("boolean"==typeof uh,y,"internal-error"),ue(la,y.name),ue(Bd,y.name),ue(sw,y.name),ue(Cp,y.name),ue(sv,y.name),ue(ov,y.name);const Dp=new $({uid:Ep,auth:y,email:Vs,emailVerified:ow,displayName:Wn,isAnonymous:uh,photoURL:Bd,phoneNumber:la,tenantId:sw,stsTokenManager:lw,createdAt:sv,lastLoginAt:ov});return ul&&Array.isArray(ul)&&(Dp.providerData=ul.map(hh=>Object.assign({},hh))),Cp&&(Dp._redirectEventId=Cp),Dp}static _fromIdTokenResponse(y,C,k=!1){return(0,ie.Z)(function*(){const H=new ge;H.updateFromServerResponse(C);const X=new $({uid:C.localId,auth:y,stsTokenManager:H,isAnonymous:k});return yield Dr(X),X})()}}const J=new Map;function W(S){Yn(S instanceof Function,"Expected a class definition");let y=J.get(S);return y?(Yn(y instanceof S,"Instance stored in cache mismatched with class"),y):(y=new S,J.set(S,y),y)}const He=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ie.Z)(function*(){return!0})()}_set(C,k){var H=this;return(0,ie.Z)(function*(){H.storage[C]=k})()}_get(C){var k=this;return(0,ie.Z)(function*(){const H=k.storage[C];return void 0===H?null:H})()}_remove(C){var k=this;return(0,ie.Z)(function*(){delete k.storage[C]})()}_addListener(C,k){}_removeListener(C,k){}}return S.type="NONE",S})();function Tt(S,y,C){return`firebase:${S}:${y}:${C}`}class vt{constructor(y,C,k){this.persistence=y,this.auth=C,this.userKey=k;const{config:H,name:X}=this.auth;this.fullUserKey=Tt(this.userKey,H.apiKey,X),this.fullPersistenceKey=Tt("persistence",H.apiKey,X),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,ie.Z)(function*(){const C=yield y.persistence._get(y.fullUserKey);return C?$._fromJSON(y.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var C=this;return(0,ie.Z)(function*(){if(C.persistence===y)return;const k=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=y,k?C.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,C,k="authUser"){return(0,ie.Z)(function*(){if(!C.length)return new vt(W(He),y,k);const H=(yield Promise.all(C.map(function(){var Lt=(0,ie.Z)(function*(Xt){if(yield Xt._isAvailable())return Xt});return function(Xt){return Lt.apply(this,arguments)}}()))).filter(Lt=>Lt);let X=H[0]||W(He);const be=Tt(k,y.config.apiKey,y.name);let Pe=null;for(const Lt of C)try{const Xt=yield Lt._get(be);if(Xt){const Wn=$._fromJSON(y,Xt);Lt!==X&&(Pe=Wn),X=Lt;break}}catch{}const et=H.filter(Lt=>Lt._shouldAllowMigration);return X._shouldAllowMigration&&et.length?(X=et[0],Pe&&(yield X._set(be,Pe.toJSON())),yield Promise.all(C.map(function(){var Lt=(0,ie.Z)(function*(Xt){if(Xt!==X)try{yield Xt._remove(be)}catch{}});return function(Xt){return Lt.apply(this,arguments)}}())),new vt(X,y,k)):new vt(X,y,k)})()}}function en(S){const y=S.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Gt(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ii(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(tl(y))return"Blackberry";if(Ee(y))return"Webos";if(Ct(y))return"Safari";if((y.includes("chrome/")||_i(y))&&!y.includes("edge/"))return"Chrome";if(Tr(y))return"Android";{const k=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function ii(S=(0,ze.z$)()){return/firefox\//i.test(S)}function Ct(S=(0,ze.z$)()){const y=S.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function _i(S=(0,ze.z$)()){return/crios\//i.test(S)}function Gt(S=(0,ze.z$)()){return/iemobile/i.test(S)}function Tr(S=(0,ze.z$)()){return/android/i.test(S)}function tl(S=(0,ze.z$)()){return/blackberry/i.test(S)}function Ee(S=(0,ze.z$)()){return/webos/i.test(S)}function ye(S=(0,ze.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function dt(S=(0,ze.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(S)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(S)}function a(S=(0,ze.z$)()){return ye(S)||Tr(S)||Ee(S)||tl(S)||/windows phone/i.test(S)||Gt(S)}function u(S,y=[]){let C;switch(S){case"Browser":C=en((0,ze.z$)());break;case"Worker":C=`${en((0,ze.z$)())}-${S}`;break;default:C=S}const k=y.length?y.join(","):"FirebaseCore-web";return`${C}/JsCore/${ae.SDK_VERSION}/${k}`}class h{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,C){const k=X=>new Promise((be,Pe)=>{try{be(y(X))}catch(et){Pe(et)}});k.onAbort=C,this.queue.push(k);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(y){var C=this;return(0,ie.Z)(function*(){if(C.auth.currentUser===y)return;const k=[];try{for(const H of C.queue)yield H(y),H.onAbort&&k.push(H.onAbort)}catch(H){k.reverse();for(const X of k)try{X()}catch{}throw C.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}function g(){return(g=(0,ie.Z)(function*(S,y={}){return Je(S,"GET","/v2/passwordPolicy",Ae(S,y))})).apply(this,arguments)}class v{constructor(y){var C,k,H,X;const be=y.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(C=be.minPasswordLength)&&void 0!==C?C:6,be.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=be.maxPasswordLength),void 0!==be.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=be.containsLowercaseCharacter),void 0!==be.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=be.containsUppercaseCharacter),void 0!==be.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=be.containsNumericCharacter),void 0!==be.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=be.containsNonAlphanumericCharacter),this.enforcementState=y.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(H=null===(k=y.allowedNonAlphanumericCharacters)||void 0===k?void 0:k.join(""))&&void 0!==H?H:"",this.forceUpgradeOnSignin=null!==(X=y.forceUpgradeOnSignin)&&void 0!==X&&X,this.schemaVersion=y.schemaVersion}validatePassword(y){var C,k,H,X,be,Pe;const et={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(y,et),this.validatePasswordCharacterOptions(y,et),et.isValid&&(et.isValid=null===(C=et.meetsMinPasswordLength)||void 0===C||C),et.isValid&&(et.isValid=null===(k=et.meetsMaxPasswordLength)||void 0===k||k),et.isValid&&(et.isValid=null===(H=et.containsLowercaseLetter)||void 0===H||H),et.isValid&&(et.isValid=null===(X=et.containsUppercaseLetter)||void 0===X||X),et.isValid&&(et.isValid=null===(be=et.containsNumericCharacter)||void 0===be||be),et.isValid&&(et.isValid=null===(Pe=et.containsNonAlphanumericCharacter)||void 0===Pe||Pe),et}validatePasswordLengthOptions(y,C){const k=this.customStrengthOptions.minPasswordLength,H=this.customStrengthOptions.maxPasswordLength;k&&(C.meetsMinPasswordLength=y.length>=k),H&&(C.meetsMaxPasswordLength=y.length<=H)}validatePasswordCharacterOptions(y,C){let k;this.updatePasswordCharacterOptionsStatuses(C,!1,!1,!1,!1);for(let H=0;H<y.length;H++)k=y.charAt(H),this.updatePasswordCharacterOptionsStatuses(C,k>="a"&&k<="z",k>="A"&&k<="Z",k>="0"&&k<="9",this.allowedNonAlphanumericCharacters.includes(k))}updatePasswordCharacterOptionsStatuses(y,C,k,H,X){this.customStrengthOptions.containsLowercaseLetter&&(y.containsLowercaseLetter||(y.containsLowercaseLetter=C)),this.customStrengthOptions.containsUppercaseLetter&&(y.containsUppercaseLetter||(y.containsUppercaseLetter=k)),this.customStrengthOptions.containsNumericCharacter&&(y.containsNumericCharacter||(y.containsNumericCharacter=H)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(y.containsNonAlphanumericCharacter||(y.containsNonAlphanumericCharacter=X))}}class w{constructor(y,C,k,H){this.app=y,this.heartbeatServiceProvider=C,this.appCheckServiceProvider=k,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D(this),this.idTokenSubscription=new D(this),this.beforeStateQueue=new h(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=In,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(y,C){var k=this;return C&&(this._popupRedirectResolver=W(C)),this._initializationPromise=this.queue((0,ie.Z)(function*(){var H,X;if(!k._deleted&&(k.persistenceManager=yield vt.create(k,y),!k._deleted)){if(null!==(H=k._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(C),k.lastNotifiedUid=(null===(X=k.currentUser)||void 0===X?void 0:X.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,ie.Z)(function*(){if(y._deleted)return;const C=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||C){if(y.currentUser&&C&&y.currentUser.uid===C.uid)return y._currentUser._assign(C),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(C,!0)}})()}initializeCurrentUser(y){var C=this;return(0,ie.Z)(function*(){var k;const H=yield C.assertedPersistence.getCurrentUser();let X=H,be=!1;if(y&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const Pe=null===(k=C.redirectUser)||void 0===k?void 0:k._redirectEventId,et=X?._redirectEventId,Lt=yield C.tryRedirectSignIn(y);(!Pe||Pe===et)&&Lt?.user&&(X=Lt.user,be=!0)}if(!X)return C.directlySetCurrentUser(null);if(!X._redirectEventId){if(be)try{yield C.beforeStateQueue.runMiddleware(X)}catch(Pe){X=H,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(Pe))}return X?C.reloadAndSetCurrentUserOrClear(X):C.directlySetCurrentUser(null)}return st(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===X._redirectEventId?C.directlySetCurrentUser(X):C.reloadAndSetCurrentUserOrClear(X)})()}tryRedirectSignIn(y){var C=this;return(0,ie.Z)(function*(){let k=null;try{k=yield C._popupRedirectResolver._completeRedirectFn(C,y,!0)}catch{yield C._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(y){var C=this;return(0,ie.Z)(function*(){try{yield Dr(y)}catch(k){if("auth/network-request-failed"!==k?.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function Ht(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var y=this;return(0,ie.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var C=this;return(0,ie.Z)(function*(){const k=y?(0,ze.m9)(y):null;return k&&st(k.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(k&&k._clone(C))})()}_updateCurrentUser(y,C=!1){var k=this;return(0,ie.Z)(function*(){if(!k._deleted)return y&&st(k.tenantId===y.tenantId,k,"tenant-id-mismatch"),C||(yield k.beforeStateQueue.runMiddleware(y)),k.queue((0,ie.Z)(function*(){yield k.directlySetCurrentUser(y),k.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,ie.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var C=this;return this.queue((0,ie.Z)(function*(){yield C.assertedPersistence.setPersistence(W(y))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(y){var C=this;return(0,ie.Z)(function*(){C._getPasswordPolicyInternal()||(yield C._updatePasswordPolicy());const k=C._getPasswordPolicyInternal();return k.schemaVersion!==C.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(C._errorFactory.create("unsupported-password-policy-schema-version",{})):k.validatePassword(y)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var y=this;return(0,ie.Z)(function*(){const C=yield function p(S){return g.apply(this,arguments)}(y),k=new v(C);null===y.tenantId?y._projectPasswordPolicy=k:y._tenantPasswordPolicies[y.tenantId]=k})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new ze.LL("auth","Firebase",y())}onAuthStateChanged(y,C,k){return this.registerStateListener(this.authStateSubscription,y,C,k)}beforeAuthStateChanged(y,C){return this.beforeStateQueue.pushCallback(y,C)}onIdTokenChanged(y,C,k){return this.registerStateListener(this.idTokenSubscription,y,C,k)}authStateReady(){return new Promise((y,C)=>{if(this.currentUser)y();else{const k=this.onAuthStateChanged(()=>{k(),y()},C)}})}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,C){var k=this;return(0,ie.Z)(function*(){const H=yield k.getOrInitRedirectPersistenceManager(C);return null===y?H.removeCurrentUser():H.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var C=this;return(0,ie.Z)(function*(){if(!C.redirectPersistenceManager){const k=y&&W(y)||C._popupRedirectResolver;st(k,C,"argument-error"),C.redirectPersistenceManager=yield vt.create(C,[W(k._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(y){var C=this;return(0,ie.Z)(function*(){var k,H;return C._isInitialized&&(yield C.queue((0,ie.Z)(function*(){}))),(null===(k=C._currentUser)||void 0===k?void 0:k._redirectEventId)===y?C._currentUser:(null===(H=C.redirectUser)||void 0===H?void 0:H._redirectEventId)===y?C.redirectUser:null})()}_persistUserIfCurrent(y){var C=this;return(0,ie.Z)(function*(){if(y===C.currentUser)return C.queue((0,ie.Z)(function*(){return C.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(C=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,C,k,H){if(this._deleted)return()=>{};const X="function"==typeof C?C:C.next.bind(C);let be=!1;const Pe=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(Pe,this,"internal-error"),Pe.then(()=>{be||X(this.currentUser)}),"function"==typeof C){const et=y.addObserver(C,k,H);return()=>{be=!0,et()}}{const et=y.addObserver(C);return()=>{be=!0,et()}}}directlySetCurrentUser(y){var C=this;return(0,ie.Z)(function*(){C.currentUser&&C.currentUser!==y&&C._currentUser._stopProactiveRefresh(),y&&C.isProactiveRefreshEnabled&&y._startProactiveRefresh(),C.currentUser=y,y?yield C.assertedPersistence.setCurrentUser(y):yield C.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=u(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,ie.Z)(function*(){var C;const k={"X-Client-Version":y.clientVersion};y.app.options.appId&&(k["X-Firebase-gmpid"]=y.app.options.appId);const H=yield null===(C=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();H&&(k["X-Firebase-Client"]=H);const X=yield y._getAppCheckToken();return X&&(k["X-Firebase-AppCheck"]=X),k})()}_getAppCheckToken(){var y=this;return(0,ie.Z)(function*(){var C;const k=yield null===(C=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getToken();return k?.error&&function Ii(S,...y){fe.logLevel<=yt.in.WARN&&fe.warn(`Auth (${ae.SDK_VERSION}): ${S}`,...y)}(`Error while retrieving App Check token: ${k.error}`),k?.token})()}}function E(S){return(0,ze.m9)(S)}class D{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,ze.ne)(C=>this.observer=C)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function R(S){return new Promise((y,C)=>{const k=document.createElement("script");k.setAttribute("src",S),k.onload=y,k.onerror=H=>{const X=qt("internal-error");X.customData=H,C(X)},k.type="text/javascript",k.charset="UTF-8",function A(){var S,y;return null!==(y=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==y?y:document}().appendChild(k)})}function O(S){return`__${S}${Math.floor(1e6*Math.random())}`}class Z{constructor(y){this.type="recaptcha-enterprise",this.auth=E(y)}verify(y="verify",C=!1){var k=this;return(0,ie.Z)(function*(){function X(){return X=(0,ie.Z)(function*(Pe){if(!C){if(null==Pe.tenantId&&null!=Pe._agentRecaptchaConfig)return Pe._agentRecaptchaConfig.siteKey;if(null!=Pe.tenantId&&void 0!==Pe._tenantRecaptchaConfigs[Pe.tenantId])return Pe._tenantRecaptchaConfigs[Pe.tenantId].siteKey}return new Promise(function(){var et=(0,ie.Z)(function*(Lt,Xt){mt(Pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wn=>{if(void 0!==Wn.recaptchaKey){const Vs=new we(Wn);return null==Pe.tenantId?Pe._agentRecaptchaConfig=Vs:Pe._tenantRecaptchaConfigs[Pe.tenantId]=Vs,Lt(Vs.siteKey)}Xt(new Error("recaptcha Enterprise site key undefined"))}).catch(Wn=>{Xt(Wn)})});return function(Lt,Xt){return et.apply(this,arguments)}}())}),X.apply(this,arguments)}function be(Pe,et,Lt){const Xt=window.grecaptcha;Ce(Xt)?Xt.enterprise.ready(()=>{Xt.enterprise.execute(Pe,{action:y}).then(Wn=>{et(Wn)}).catch(()=>{et("NO_RECAPTCHA")})}):Lt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pe,et)=>{(function H(Pe){return X.apply(this,arguments)})(k.auth).then(Lt=>{if(!C&&Ce(window.grecaptcha))be(Lt,Pe,et);else{if(typeof window>"u")return void et(new Error("RecaptchaVerifier is only supported in browser"));R("https://www.google.com/recaptcha/enterprise.js?render="+Lt).then(()=>{be(Lt,Pe,et)}).catch(Xt=>{et(Xt)})}}).catch(Lt=>{et(Lt)})})})()}}function b(S,y,C){return I.apply(this,arguments)}function I(){return(I=(0,ie.Z)(function*(S,y,C,k=!1){const H=new Z(S);let X;try{X=yield H.verify(C)}catch{X=yield H.verify(C,!0)}const be=Object.assign({},y);return Object.assign(be,k?{captchaResp:X}:{captchaResponse:X}),Object.assign(be,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(be,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),be})).apply(this,arguments)}function P(S,y,C,k){return j.apply(this,arguments)}function j(){return j=(0,ie.Z)(function*(S,y,C,k){var H;if(null!==(H=S._getRecaptchaConfig())&&void 0!==H&&H.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const X=yield b(S,y,C,"getOobCode"===C);return k(S,X)}return k(S,y).catch(function(){var X=(0,ie.Z)(function*(be){if("auth/missing-recaptcha-token"===be.code){console.log(`${C} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Pe=yield b(S,y,C,"getOobCode"===C);return k(S,Pe)}return Promise.reject(be)});return function(be){return X.apply(this,arguments)}}())}),j.apply(this,arguments)}function Re(S,y,C){const k=E(S);st(k._canInitEmulator,k,"emulator-config-failed"),st(/^https?:\/\//.test(y),k,"invalid-emulator-scheme");const H=!!C?.disableWarnings,X=le(y),{host:be,port:Pe}=function Ye(S){const y=le(S),C=/(\/\/)?([^?#/]+)/.exec(S.substr(y.length));if(!C)return{host:"",port:null};const k=C[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(k);if(H){const X=H[1];return{host:X,port:Se(k.substr(X.length+1))}}{const[X,be]=k.split(":");return{host:X,port:Se(be)}}}(y);k.config.emulator={url:`${X}//${be}${null===Pe?"":`:${Pe}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:be,port:Pe,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function bt(){function S(){const y=document.createElement("p"),C=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}function le(S){const y=S.indexOf(":");return y<0?"":S.substr(0,y+1)}function Se(S){if(!S)return null;const y=Number(S);return isNaN(y)?null:y}class tn{constructor(y,C){this.providerId=y,this.signInMethod=C}toJSON(){return Pn("not implemented")}_getIdTokenResponse(y){return Pn("not implemented")}_linkToIdToken(y,C){return Pn("not implemented")}_getReauthenticationResolver(y){return Pn("not implemented")}}function kn(S,y){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:resetPassword",Ae(S,y))})).apply(this,arguments)}function xi(S,y){return ri.apply(this,arguments)}function ri(){return(ri=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ws(){return(ws=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:update",Ae(S,y))})).apply(this,arguments)}function nl(S,y){return mn.apply(this,arguments)}function mn(){return(mn=(0,ie.Z)(function*(S,y){return $e(S,"POST","/v1/accounts:signInWithPassword",Ae(S,y))})).apply(this,arguments)}function Fa(S,y){return jr.apply(this,arguments)}function jr(){return(jr=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:sendOobCode",Ae(S,y))})).apply(this,arguments)}function Ac(){return(Ac=(0,ie.Z)(function*(S,y){return Fa(S,y)})).apply(this,arguments)}function h2(S,y){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,ie.Z)(function*(S,y){return Fa(S,y)})).apply(this,arguments)}function f2(S,y){return fx.apply(this,arguments)}function fx(){return(fx=(0,ie.Z)(function*(S,y){return Fa(S,y)})).apply(this,arguments)}function Ju(){return(Ju=(0,ie.Z)(function*(S,y){return Fa(S,y)})).apply(this,arguments)}function Yf(){return(Yf=(0,ie.Z)(function*(S,y){return $e(S,"POST","/v1/accounts:signInWithEmailLink",Ae(S,y))})).apply(this,arguments)}function h_(){return(h_=(0,ie.Z)(function*(S,y){return $e(S,"POST","/v1/accounts:signInWithEmailLink",Ae(S,y))})).apply(this,arguments)}class kc extends tn{constructor(y,C,k,H=null){super("password",k),this._email=y,this._password=C,this._tenantId=H}static _fromEmailAndPassword(y,C){return new kc(y,C,"password")}static _fromEmailAndCode(y,C,k=null){return new kc(y,C,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y;if(C?.email&&C?.password){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(y){var C=this;return(0,ie.Z)(function*(){switch(C.signInMethod){case"password":return P(y,{returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",nl);case"emailLink":return function d_(S,y){return Yf.apply(this,arguments)}(y,{email:C._email,oobCode:C._password});default:Me(y,"internal-error")}})()}_linkToIdToken(y,C){var k=this;return(0,ie.Z)(function*(){switch(k.signInMethod){case"password":return xi(y,{idToken:C,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function u_(S,y){return h_.apply(this,arguments)}(y,{idToken:C,email:k._email,oobCode:k._password});default:Me(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Bl(S,y){return px.apply(this,arguments)}function px(){return(px=(0,ie.Z)(function*(S,y){return $e(S,"POST","/v1/accounts:signInWithIdp",Ae(S,y))})).apply(this,arguments)}class il extends tn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const C=new il(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(C.idToken=y.idToken),y.accessToken&&(C.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(C.nonce=y.nonce),y.pendingToken&&(C.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(C.accessToken=y.oauthToken,C.secret=y.oauthTokenSecret):Me("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y,{providerId:k,signInMethod:H}=C,X=(0,Ue._T)(C,["providerId","signInMethod"]);if(!k||!H)return null;const be=new il(k,H);return be.idToken=X.idToken||void 0,be.accessToken=X.accessToken||void 0,be.secret=X.secret,be.nonce=X.nonce,be.pendingToken=X.pendingToken||null,be}_getIdTokenResponse(y){return Bl(y,this.buildRequest())}_linkToIdToken(y,C){const k=this.buildRequest();return k.idToken=C,Bl(y,k)}_getReauthenticationResolver(y){const C=this.buildRequest();return C.autoCreate=!1,Bl(y,C)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),y.postBody=(0,ze.xO)(C)}return y}}function Mc(){return(Mc=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:sendVerificationCode",Ae(S,y))})).apply(this,arguments)}function Cd(){return(Cd=(0,ie.Z)(function*(S,y){return $e(S,"POST","/v1/accounts:signInWithPhoneNumber",Ae(S,y))})).apply(this,arguments)}function p_(){return(p_=(0,ie.Z)(function*(S,y){const C=yield $e(S,"POST","/v1/accounts:signInWithPhoneNumber",Ae(S,y));if(C.temporaryProof)throw pi(S,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const QT={USER_NOT_FOUND:"user-not-found"};function zl(){return(zl=(0,ie.Z)(function*(S,y){return $e(S,"POST","/v1/accounts:signInWithPhoneNumber",Ae(S,Object.assign(Object.assign({},y),{operation:"REAUTH"})),QT)})).apply(this,arguments)}class Rc extends tn{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,C){return new Rc({verificationId:y,verificationCode:C})}static _fromTokenResponse(y,C){return new Rc({phoneNumber:y,temporaryProof:C})}_getIdTokenResponse(y){return function f_(S,y){return Cd.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,C){return function KT(S,y){return p_.apply(this,arguments)}(y,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function gx(S,y){return zl.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:C,verificationId:k,verificationCode:H}=this.params;return y&&C?{temporaryProof:y,phoneNumber:C}:{sessionInfo:k,code:H}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:C,verificationCode:k,phoneNumber:H,temporaryProof:X}=y;return k||C||H||X?new Rc({verificationId:C,verificationCode:k,phoneNumber:H,temporaryProof:X}):null}}class ce{constructor(y){var C,k,H,X,be,Pe;const et=(0,ze.zd)((0,ze.pd)(y)),Lt=null!==(C=et.apiKey)&&void 0!==C?C:null,Xt=null!==(k=et.oobCode)&&void 0!==k?k:null,Wn=function Hl(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=et.mode)&&void 0!==H?H:null);st(Lt&&Xt&&Wn,"argument-error"),this.apiKey=Lt,this.operation=Wn,this.code=Xt,this.continueUrl=null!==(X=et.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(be=et.languageCode)&&void 0!==be?be:null,this.tenantId=null!==(Pe=et.tenantId)&&void 0!==Pe?Pe:null}static parseLink(y){const C=function JT(S){const y=(0,ze.zd)((0,ze.pd)(S)).link,C=y?(0,ze.zd)((0,ze.pd)(y)).deep_link_id:null,k=(0,ze.zd)((0,ze.pd)(S)).deep_link_id;return(k?(0,ze.zd)((0,ze.pd)(k)).link:null)||k||C||y||S}(y);try{return new ce(C)}catch{return null}}}let Ge=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(C,k){return kc._fromEmailAndPassword(C,k)}static credentialWithLink(C,k){const H=ce.parseLink(k);return st(H,"argument-error"),kc._fromEmailAndCode(C,H.code,H.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class Uo{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Ul extends Uo{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class rl extends Ul{static credentialFromJSON(y){const C="string"==typeof y?JSON.parse(y):y;return st("providerId"in C&&"signInMethod"in C,"argument-error"),il._fromParams(C)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return st(y.idToken||y.accessToken,"argument-error"),il._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return rl.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return rl.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:k,oauthTokenSecret:H,pendingToken:X,nonce:be,providerId:Pe}=y;if(!k&&!H&&!C&&!X||!Pe)return null;try{return new rl(Pe)._credential({idToken:C,accessToken:k,nonce:be,pendingToken:X})}catch{return null}}}let tI=(()=>{class S extends Ul{constructor(){super("facebook.com")}static credential(C){return il._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return S.credential(C.oauthAccessToken)}catch{return null}}}return S.FACEBOOK_SIGN_IN_METHOD="facebook.com",S.PROVIDER_ID="facebook.com",S})(),nI=(()=>{class S extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(C,k){return il._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:k})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:k,oauthAccessToken:H}=C;if(!k&&!H)return null;try{return S.credential(k,H)}catch{return null}}}return S.GOOGLE_SIGN_IN_METHOD="google.com",S.PROVIDER_ID="google.com",S})(),iI=(()=>{class S extends Ul{constructor(){super("github.com")}static credential(C){return il._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return S.credential(C.oauthAccessToken)}catch{return null}}}return S.GITHUB_SIGN_IN_METHOD="github.com",S.PROVIDER_ID="github.com",S})();class ol extends tn{constructor(y,C){super(y,y),this.pendingToken=C}_getIdTokenResponse(y){return Bl(y,this.buildRequest())}_linkToIdToken(y,C){const k=this.buildRequest();return k.idToken=C,Bl(y,k)}_getReauthenticationResolver(y){const C=this.buildRequest();return C.autoCreate=!1,Bl(y,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y,{providerId:k,signInMethod:H,pendingToken:X}=C;return k&&H&&X&&k===H?new ol(k,X):null}static _create(y,C){return new ol(y,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class go extends Uo{constructor(y){st(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return go.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return go.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const C=ol.fromJSON(y);return st(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:C,providerId:k}=y;if(!C||!k)return null;try{return ol._create(k,C)}catch{return null}}}let ai=(()=>{class S extends Ul{constructor(){super("twitter.com")}static credential(C,k){return il._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:k})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:k,oauthTokenSecret:H}=C;if(!k||!H)return null;try{return S.credential(k,H)}catch{return null}}}return S.TWITTER_SIGN_IN_METHOD="twitter.com",S.PROVIDER_ID="twitter.com",S})();function eh(S,y){return th.apply(this,arguments)}function th(){return(th=(0,ie.Z)(function*(S,y){return $e(S,"POST","/v1/accounts:signUp",Ae(S,y))})).apply(this,arguments)}class Zs{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,C,k,H=!1){return(0,ie.Z)(function*(){const X=yield $._fromIdTokenResponse(y,k,H),be=g_(k);return new Zs({user:X,providerId:be,_tokenResponse:k,operationType:C})})()}static _forOperation(y,C,k){return(0,ie.Z)(function*(){yield y._updateTokensIfNecessary(k,!0);const H=g_(k);return new Zs({user:y,providerId:H,_tokenResponse:k,operationType:C})})()}}function g_(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}function al(S){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,ie.Z)(function*(S){var y;const C=E(S);if(yield C._initializationPromise,null!==(y=C.currentUser)&&void 0!==y&&y.isAnonymous)return new Zs({user:C.currentUser,providerId:null,operationType:"signIn"});const k=yield eh(C,{returnSecureToken:!0}),H=yield Zs._fromIdTokenResponse(C,"signIn",k,!0);return yield C._updateCurrentUser(H.user),H})).apply(this,arguments)}class nh extends ze.ZR{constructor(y,C,k,H){var X;super(C.code,C.message),this.operationType=k,this.user=H,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:y.name,tenantId:null!==(X=y.tenantId)&&void 0!==X?X:void 0,_serverResponse:C.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(y,C,k,H){return new nh(y,C,k,H)}}function m_(S,y,C,k){return("reauthenticate"===y?C._getReauthenticationResolver(S):C._getIdTokenResponse(S)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?nh._fromErrorAndOperation(S,X,y,k):X})}function qf(S){return new Set(S.map(({providerId:y})=>y).filter(y=>!!y))}function mx(S,y){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,ie.Z)(function*(S,y){const C=(0,ze.m9)(S);yield ih(!0,C,y);const{providerUserInfo:k}=yield function Sn(S,y){return mi.apply(this,arguments)}(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[y]}),H=qf(k||[]);return C.providerData=C.providerData.filter(X=>H.has(X.providerId)),H.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C}),Xf.apply(this,arguments)}function Pc(S,y){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,ie.Z)(function*(S,y,C=!1){const k=yield Si(S,y._linkToIdToken(S.auth,yield S.getIdToken()),C);return Zs._forOperation(S,"link",k)})).apply(this,arguments)}function ih(S,y,C){return __.apply(this,arguments)}function __(){return(__=(0,ie.Z)(function*(S,y,C){yield Dr(y);const H=!1===S?"provider-already-linked":"no-such-provider";st(qf(y.providerData).has(C)===S,y.auth,H)})).apply(this,arguments)}function v_(S,y){return y_.apply(this,arguments)}function y_(){return(y_=(0,ie.Z)(function*(S,y,C=!1){const{auth:k}=S,H="reauthenticate";try{const X=yield Si(S,m_(k,H,y,S),C);st(X.idToken,k,"internal-error");const be=ti(X.idToken);st(be,k,"internal-error");const{sub:Pe}=be;return st(S.uid===Pe,k,"user-mismatch"),Zs._forOperation(S,H,X)}catch(X){throw"auth/user-not-found"===X?.code&&Me(k,"user-mismatch"),X}})).apply(this,arguments)}function _x(S,y){return mo.apply(this,arguments)}function mo(){return(mo=(0,ie.Z)(function*(S,y,C=!1){const k="signIn",H=yield m_(S,k,y),X=yield Zs._fromIdTokenResponse(S,k,H);return C||(yield S._updateCurrentUser(X.user)),X})).apply(this,arguments)}function Kf(S,y){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,ie.Z)(function*(S,y){return _x(E(S),y)})).apply(this,arguments)}function vx(S,y){return b_.apply(this,arguments)}function b_(){return(b_=(0,ie.Z)(function*(S,y){const C=(0,ze.m9)(S);return yield ih(!1,C,y.providerId),Pc(C,y)})).apply(this,arguments)}function yx(S,y){return x_.apply(this,arguments)}function x_(){return(x_=(0,ie.Z)(function*(S,y){return v_((0,ze.m9)(S),y)})).apply(this,arguments)}function w_(){return(w_=(0,ie.Z)(function*(S,y){return $e(S,"POST","/v1/accounts:signInWithCustomToken",Ae(S,y))})).apply(this,arguments)}function rI(S,y){return C_.apply(this,arguments)}function C_(){return C_=(0,ie.Z)(function*(S,y){const C=E(S),k=yield function bx(S,y){return w_.apply(this,arguments)}(C,{token:y,returnSecureToken:!0}),H=yield Zs._fromIdTokenResponse(C,"signIn",k);return yield C._updateCurrentUser(H.user),H}),C_.apply(this,arguments)}class kt{constructor(y,C){this.factorId=y,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(y,C){return"phoneInfo"in C?E_._fromServerResponse(y,C):"totpInfo"in C?D_._fromServerResponse(y,C):Me(y,"internal-error")}}class E_ extends kt{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,C){return new E_(C)}}class D_ extends kt{constructor(y){super("totp",y)}static _fromServerResponse(y,C){return new D_(C)}}function Jf(S,y,C){var k;st((null===(k=C.url)||void 0===k?void 0:k.length)>0,S,"invalid-continue-uri"),st(typeof C.dynamicLinkDomain>"u"||C.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),y.continueUrl=C.url,y.dynamicLinkDomain=C.dynamicLinkDomain,y.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(st(C.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),y.iOSBundleId=C.iOS.bundleId),C.android&&(st(C.android.packageName.length>0,S,"missing-android-pkg-name"),y.androidInstallApp=C.android.installApp,y.androidMinimumVersionCode=C.android.minimumVersion,y.androidPackageName=C.android.packageName)}function St(S){return T_.apply(this,arguments)}function T_(){return(T_=(0,ie.Z)(function*(S){const y=E(S);y._getPasswordPolicyInternal()&&(yield y._updatePasswordPolicy())})).apply(this,arguments)}function xx(S,y,C){return je.apply(this,arguments)}function je(){return(je=(0,ie.Z)(function*(S,y,C){const k=E(S),H={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};C&&Jf(k,H,C),yield P(k,H,"getOobCode",h2)})).apply(this,arguments)}function ts(S,y,C){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,ie.Z)(function*(S,y,C){yield kn((0,ze.m9)(S),{oobCode:y,newPassword:C}).catch(function(){var k=(0,ie.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&St(S),H});return function(H){return k.apply(this,arguments)}}())}),Zn.apply(this,arguments)}function ds(S,y){return us.apply(this,arguments)}function us(){return us=(0,ie.Z)(function*(S,y){yield function Hi(S,y){return ws.apply(this,arguments)}((0,ze.m9)(S),{oobCode:y})}),us.apply(this,arguments)}function Nc(S,y){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,ie.Z)(function*(S,y){const C=(0,ze.m9)(S),k=yield kn(C,{oobCode:y}),H=k.requestType;switch(st(H,C,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":st(k.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":st(k.mfaInfo,C,"internal-error");default:st(k.email,C,"internal-error")}let X=null;return k.mfaInfo&&(X=kt._fromServerResponse(E(C),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:X},operation:H}})).apply(this,arguments)}function wx(S,y){return ep.apply(this,arguments)}function ep(){return(ep=(0,ie.Z)(function*(S,y){const{data:C}=yield Nc((0,ze.m9)(S),y);return C.email})).apply(this,arguments)}function tp(S,y,C){return I_.apply(this,arguments)}function I_(){return(I_=(0,ie.Z)(function*(S,y,C){const k=E(S),be=yield P(k,{returnSecureToken:!0,email:y,password:C,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eh).catch(et=>{throw"auth/password-does-not-meet-requirements"===et.code&&St(S),et}),Pe=yield Zs._fromIdTokenResponse(k,"signIn",be);return yield k._updateCurrentUser(Pe.user),Pe})).apply(this,arguments)}function sI(S,y,C){return Kf((0,ze.m9)(S),Ge.credential(y,C)).catch(function(){var k=(0,ie.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&St(S),H});return function(H){return k.apply(this,arguments)}}())}function vr(S,y,C){return It.apply(this,arguments)}function It(){return(It=(0,ie.Z)(function*(S,y,C){const k=E(S),H={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};(function X(be,Pe){st(Pe.handleCodeInApp,k,"argument-error"),Pe&&Jf(k,be,Pe)})(H,C),yield P(k,H,"getOobCode",f2)})).apply(this,arguments)}function _n(S,y){const C=ce.parseLink(y);return"EMAIL_SIGNIN"===C?.operation}function Ji(S,y,C){return _o.apply(this,arguments)}function _o(){return(_o=(0,ie.Z)(function*(S,y,C){const k=(0,ze.m9)(S),H=Ge.credentialWithLink(y,C||Bi());return st(H._tenantId===(k.tenantId||null),k,"tenant-id-mismatch"),Kf(k,H)})).apply(this,arguments)}function ns(){return(ns=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:createAuthUri",Ae(S,y))})).apply(this,arguments)}function Ed(S,y){return ur.apply(this,arguments)}function ur(){return ur=(0,ie.Z)(function*(S,y){const k={identifier:y,continueUri:fn()?Bi():"http://localhost"},{signinMethods:H}=yield function rh(S,y){return ns.apply(this,arguments)}((0,ze.m9)(S),k);return H||[]}),ur.apply(this,arguments)}function jl(S,y){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,ie.Z)(function*(S,y){const C=(0,ze.m9)(S),H={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};y&&Jf(C.auth,H,y);const{email:X}=yield function hi(S,y){return Ac.apply(this,arguments)}(C.auth,H);X!==S.email&&(yield S.reload())}),Wl.apply(this,arguments)}function un(S,y,C){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,ie.Z)(function*(S,y,C){const k=(0,ze.m9)(S),X={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield S.getIdToken(),newEmail:y};C&&Jf(k.auth,X,C);const{email:be}=yield function Be(S,y){return Ju.apply(this,arguments)}(k.auth,X);be!==S.email&&(yield S.reload())}),Fc.apply(this,arguments)}function Gl(){return(Gl=(0,ie.Z)(function*(S,y){return Je(S,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Ir(S,y){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,ie.Z)(function*(S,{displayName:y,photoURL:C}){if(void 0===y&&void 0===C)return;const k=(0,ze.m9)(S),X={idToken:yield k.getIdToken(),displayName:y,photoUrl:C,returnSecureToken:!0},be=yield Si(k,function Cx(S,y){return Gl.apply(this,arguments)}(k.auth,X));k.displayName=be.displayName||null,k.photoURL=be.photoUrl||null;const Pe=k.providerData.find(({providerId:et})=>"password"===et);Pe&&(Pe.displayName=k.displayName,Pe.photoURL=k.photoURL),yield k._updateTokensIfNecessary(be)}),Lc.apply(this,arguments)}function Dd(S,y){return Td((0,ze.m9)(S),y,null)}function La(S,y){return Td((0,ze.m9)(S),null,y)}function Td(S,y,C){return np.apply(this,arguments)}function np(){return(np=(0,ie.Z)(function*(S,y,C){const{auth:k}=S,X={idToken:yield S.getIdToken(),returnSecureToken:!0};y&&(X.email=y),C&&(X.password=C);const be=yield Si(S,xi(k,X));yield S._updateTokensIfNecessary(be,!0)})).apply(this,arguments)}class Ks{constructor(y,C,k={}){this.isNewUser=y,this.providerId=C,this.profile=k}}class Id extends Ks{constructor(y,C,k,H){super(y,C,k),this.username=H}}class sh extends Ks{constructor(y,C){super(y,"facebook.com",C)}}class jn extends Id{constructor(y,C){super(y,"github.com",C,"string"==typeof C?.login?C?.login:null)}}class m2 extends Ks{constructor(y,C){super(y,"google.com",C)}}class S_ extends Id{constructor(y,C,k){super(y,"twitter.com",C,k)}}function Ex(S){const{user:y,_tokenResponse:C}=S;return y.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function $l(S){var y,C;if(!S)return null;const{providerId:k}=S,H=S.rawUserInfo?JSON.parse(S.rawUserInfo):{},X=S.isNewUser||"identitytoolkit#SignupNewUserResponse"===S.kind;if(!k&&S?.idToken){const be=null===(C=null===(y=ti(S.idToken))||void 0===y?void 0:y.firebase)||void 0===C?void 0:C.sign_in_provider;if(be)return new Ks(X,"anonymous"!==be&&"custom"!==be?be:null)}if(!k)return null;switch(k){case"facebook.com":return new sh(X,H);case"github.com":return new jn(X,H);case"google.com":return new m2(X,H);case"twitter.com":return new S_(X,H,S.screenName||null);case"custom":case"anonymous":return new Ks(X,null);default:return new Ks(X,k,H)}}(C)}class cl{constructor(y,C,k){this.type=y,this.credential=C,this.user=k}static _fromIdtoken(y,C){return new cl("enroll",y,C)}static _fromMfaPendingCredential(y){return new cl("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var C,k;if(y?.multiFactorSession){if(null!==(C=y.multiFactorSession)&&void 0!==C&&C.pendingCredential)return cl._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(k=y.multiFactorSession)&&void 0!==k&&k.idToken)return cl._fromIdtoken(y.multiFactorSession.idToken)}return null}}class M_{constructor(y,C,k){this.session=y,this.hints=C,this.signInResolver=k}static _fromError(y,C){const k=E(y),H=C.customData._serverResponse,X=(H.mfaInfo||[]).map(Pe=>kt._fromServerResponse(k,Pe));st(H.mfaPendingCredential,k,"internal-error");const be=cl._fromMfaPendingCredential(H.mfaPendingCredential);return new M_(be,X,function(){var Pe=(0,ie.Z)(function*(et){const Lt=yield et._process(k,be);delete H.mfaInfo,delete H.mfaPendingCredential;const Xt=Object.assign(Object.assign({},H),{idToken:Lt.idToken,refreshToken:Lt.refreshToken});switch(C.operationType){case"signIn":const Wn=yield Zs._fromIdTokenResponse(k,C.operationType,Xt);return yield k._updateCurrentUser(Wn.user),Wn;case"reauthenticate":return st(C.user,k,"internal-error"),Zs._forOperation(C.user,C.operationType,Xt);default:Me(k,"internal-error")}});return function(et){return Pe.apply(this,arguments)}}())}resolveSignIn(y){var C=this;return(0,ie.Z)(function*(){return C.signInResolver(y)})()}}function oI(S,y){var C;const k=(0,ze.m9)(S),H=y;return st(y.customData.operationType,k,"argument-error"),st(null===(C=H.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,k,"argument-error"),M_._fromError(k,H)}class Tx{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(k=>kt._fromServerResponse(y.auth,k)))})}static _fromUser(y){return new Tx(y)}getSession(){var y=this;return(0,ie.Z)(function*(){return cl._fromIdtoken(yield y.user.getIdToken(),y.user)})()}enroll(y,C){var k=this;return(0,ie.Z)(function*(){const H=y,X=yield k.getSession(),be=yield Si(k.user,H._process(k.user.auth,X,C));return yield k.user._updateTokensIfNecessary(be),k.user.reload()})()}unenroll(y){var C=this;return(0,ie.Z)(function*(){const k="string"==typeof y?y:y.uid,H=yield C.user.getIdToken();try{const X=yield Si(C.user,function x2(S,y){return Je(S,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(S,y))}(C.user.auth,{idToken:H,mfaEnrollmentId:k}));C.enrolledFactors=C.enrolledFactors.filter(({uid:be})=>be!==k),yield C.user._updateTokensIfNecessary(X),yield C.user.reload()}catch(X){throw X}})()}}const Ix=new WeakMap;function w2(S){const y=(0,ze.m9)(S);return Ix.has(y)||Ix.set(y,Tx._fromUser(y)),Ix.get(y)}const R_="__sak";class lI{constructor(y,C){this.storageRetriever=y,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(R_,"1"),this.storage.removeItem(R_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,C){return this.storage.setItem(y,JSON.stringify(C)),Promise.resolve()}_get(y){const C=this.storage.getItem(y);return Promise.resolve(C?JSON.parse(C):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const cI=(()=>{class S extends lI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,k)=>this.onStorageEvent(C,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function C2(){const S=(0,ze.z$)();return Ct(S)||ye(S)}()&&function l(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=a(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const k of Object.keys(this.listeners)){const H=this.storage.getItem(k),X=this.localCache[k];H!==X&&C(k,X,H)}}onStorageEvent(C,k=!1){if(!C.key)return void this.forAllChangedKeys((Pe,et,Lt)=>{this.notifyListeners(Pe,Lt)});const H=C.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pe=this.storage.getItem(H);if(C.newValue!==Pe)null!==C.newValue?this.storage.setItem(H,C.newValue):this.storage.removeItem(H);else if(this.localCache[H]===C.newValue&&!k)return}const X=()=>{const Pe=this.storage.getItem(H);!k&&this.localCache[H]===Pe||this.notifyListeners(H,Pe)},be=this.storage.getItem(H);!function L(){return(0,ze.w1)()&&10===document.documentMode}()||be===C.newValue||C.newValue===C.oldValue?X():setTimeout(X,10)}notifyListeners(C,k){this.localCache[C]=k;const H=this.listeners[C];if(H)for(const X of Array.from(H))X(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,k,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:k,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(k)}_removeListener(C,k){this.listeners[C]&&(this.listeners[C].delete(k),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,k){var H=()=>super._set,X=this;return(0,ie.Z)(function*(){yield H().call(X,C,k),X.localCache[C]=JSON.stringify(k)})()}_get(C){var k=()=>super._get,H=this;return(0,ie.Z)(function*(){const X=yield k().call(H,C);return H.localCache[C]=JSON.stringify(X),X})()}_remove(C){var k=()=>super._remove,H=this;return(0,ie.Z)(function*(){yield k().call(H,C),delete H.localCache[C]})()}}return S.type="LOCAL",S})(),ip=(()=>{class S extends lI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,k){}_removeListener(C,k){}}return S.type="SESSION",S})();let I2=(()=>{class S{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const k=this.receivers.find(X=>X.isListeningto(C));if(k)return k;const H=new S(C);return this.receivers.push(H),H}isListeningto(C){return this.eventTarget===C}handleEvent(C){var k=this;return(0,ie.Z)(function*(){const H=C,{eventId:X,eventType:be,data:Pe}=H.data,et=k.handlersMap[be];if(!et?.size)return;H.ports[0].postMessage({status:"ack",eventId:X,eventType:be});const Lt=Array.from(et).map(function(){var Wn=(0,ie.Z)(function*(Vs){return Vs(H.origin,Pe)});return function(Vs){return Wn.apply(this,arguments)}}()),Xt=yield function T2(S){return Promise.all(S.map(function(){var y=(0,ie.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(k){return{fulfilled:!1,reason:k}}});return function(C){return y.apply(this,arguments)}}()))}(Lt);H.ports[0].postMessage({status:"done",eventId:X,eventType:be,response:Xt})})()}_subscribe(C,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(k)}_unsubscribe(C,k){this.handlersMap[C]&&k&&this.handlersMap[C].delete(k),(!k||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function rp(S="",y=10){let C="";for(let k=0;k<y;k++)C+=Math.floor(10*Math.random());return S+C}class Bc{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,C,k=50){var H=this;return(0,ie.Z)(function*(){const X=typeof MessageChannel<"u"?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let be,Pe;return new Promise((et,Lt)=>{const Xt=rp("",20);X.port1.start();const Wn=setTimeout(()=>{Lt(new Error("unsupported_event"))},k);Pe={messageChannel:X,onMessage(Vs){const la=Vs;if(la.data.eventId===Xt)switch(la.data.status){case"ack":clearTimeout(Wn),be=setTimeout(()=>{Lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(be),et(la.data.response);break;default:clearTimeout(Wn),clearTimeout(be),Lt(new Error("invalid_response"))}}},H.handlers.add(Pe),X.port1.addEventListener("message",Pe.onMessage),H.target.postMessage({eventType:y,eventId:Xt,data:C},[X.port2])}).finally(()=>{Pe&&H.removeMessageHandler(Pe)})})()}}function Ni(){return window}function Sx(){return typeof Ni().WorkerGlobalScope<"u"&&"function"==typeof Ni().importScripts}function Ad(){return(Ad=(0,ie.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const O_="firebaseLocalStorageDb",ah="firebaseLocalStorage",sp="fbase_key";class kd{constructor(y){this.request=y}toPromise(){return new Promise((y,C)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function Md(S,y){return S.transaction([ah],y?"readwrite":"readonly").objectStore(ah)}function op(){const S=indexedDB.open(O_,1);return new Promise((y,C)=>{S.addEventListener("error",()=>{C(S.error)}),S.addEventListener("upgradeneeded",()=>{const k=S.result;try{k.createObjectStore(ah,{keyPath:sp})}catch(H){C(H)}}),S.addEventListener("success",(0,ie.Z)(function*(){const k=S.result;k.objectStoreNames.contains(ah)?y(k):(k.close(),yield function P_(){const S=indexedDB.deleteDatabase(O_);return new kd(S).toPromise()}(),y(yield op()))}))})}function N_(S,y,C){return ap.apply(this,arguments)}function ap(){return(ap=(0,ie.Z)(function*(S,y,C){const k=Md(S,!0).put({[sp]:y,value:C});return new kd(k).toPromise()})).apply(this,arguments)}function zc(){return(zc=(0,ie.Z)(function*(S,y){const C=Md(S,!1).get(y),k=yield new kd(C).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function Hc(S,y){const C=Md(S,!0).delete(y);return new kd(C).toPromise()}const uI=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,ie.Z)(function*(){return C.db||(C.db=yield op()),C.db})()}_withRetries(C){var k=this;return(0,ie.Z)(function*(){let H=0;for(;;)try{const X=yield k._openDb();return yield C(X)}catch(X){if(H++>3)throw X;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,ie.Z)(function*(){return Sx()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,ie.Z)(function*(){C.receiver=I2._getInstance(function Ax(){return Sx()?self:null}()),C.receiver._subscribe("keyChanged",function(){var k=(0,ie.Z)(function*(H,X){return{keyProcessed:(yield C._poll()).includes(X.key)}});return function(H,X){return k.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var k=(0,ie.Z)(function*(H,X){return["keyChanged"]});return function(H,X){return k.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,ie.Z)(function*(){var k,H;if(C.activeServiceWorker=yield function fs(){return Ad.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new Bc(C.activeServiceWorker);const X=yield C.sender._send("ping",{},800);X&&null!==(k=X[0])&&void 0!==k&&k.fulfilled&&null!==(H=X[0])&&void 0!==H&&H.value.includes("keyChanged")&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var k=this;return(0,ie.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function Wo(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:C},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ie.Z)(function*(){try{if(!indexedDB)return!1;const C=yield op();return yield N_(C,R_,"1"),yield Hc(C,R_),!0}catch{}return!1})()}_withPendingWrite(C){var k=this;return(0,ie.Z)(function*(){k.pendingWrites++;try{yield C()}finally{k.pendingWrites--}})()}_set(C,k){var H=this;return(0,ie.Z)(function*(){return H._withPendingWrite((0,ie.Z)(function*(){return yield H._withRetries(X=>N_(X,C,k)),H.localCache[C]=k,H.notifyServiceWorker(C)}))})()}_get(C){var k=this;return(0,ie.Z)(function*(){const H=yield k._withRetries(X=>function lp(S,y){return zc.apply(this,arguments)}(X,C));return k.localCache[C]=H,H})()}_remove(C){var k=this;return(0,ie.Z)(function*(){return k._withPendingWrite((0,ie.Z)(function*(){return yield k._withRetries(H=>Hc(H,C)),delete k.localCache[C],k.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,ie.Z)(function*(){const k=yield C._withRetries(be=>{const Pe=Md(be,!1).getAll();return new kd(Pe).toPromise()});if(!k)return[];if(0!==C.pendingWrites)return[];const H=[],X=new Set;for(const{fbase_key:be,value:Pe}of k)X.add(be),JSON.stringify(C.localCache[be])!==JSON.stringify(Pe)&&(C.notifyListeners(be,Pe),H.push(be));for(const be of Object.keys(C.localCache))C.localCache[be]&&!X.has(be)&&(C.notifyListeners(be,null),H.push(be));return H})()}notifyListeners(C,k){this.localCache[C]=k;const H=this.listeners[C];if(H)for(const X of Array.from(H))X(k)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,ie.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(k)}_removeListener(C,k){this.listeners[C]&&(this.listeners[C].delete(k),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})(),cp=1e12;class L_{constructor(y){this.auth=y,this.counter=cp,this._widgets=new Map}render(y,C){const k=this.counter;return this._widgets.set(k,new M2(y,this.auth.name,C||{})),this.counter++,k}reset(y){var C;const k=y||cp;null===(C=this._widgets.get(k))||void 0===C||C.delete(),this._widgets.delete(k)}getResponse(y){var C;return(null===(C=this._widgets.get(y||cp))||void 0===C?void 0:C.getResponse())||""}execute(y){var C=this;return(0,ie.Z)(function*(){var k;return null===(k=C._widgets.get(y||cp))||void 0===k||k.execute(),""})()}}class M2{constructor(y,C,k){this.params=k,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof y?document.getElementById(y):y;st(H,"argument-error",{appName:C}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function R2(S){const y=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<S;k++)y.push(C.charAt(Math.floor(62*Math.random())));return y.join("")}(50);const{callback:y,"expired-callback":C}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const V_=O("rcb"),Ox=new _r(3e4,6e4);class pI{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=Ni().grecaptcha)||void 0===y||!y.render)}load(y,C=""){return st(function gI(S){return S.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(S)}(C),y,"argument-error"),this.shouldResolveImmediately(C)&&Ri(Ni().grecaptcha)?Promise.resolve(Ni().grecaptcha):new Promise((k,H)=>{const X=Ni().setTimeout(()=>{H(qt(y,"network-request-failed"))},Ox.get());Ni()[V_]=()=>{Ni().clearTimeout(X),delete Ni()[V_];const Pe=Ni().grecaptcha;if(!Pe||!Ri(Pe))return void H(qt(y,"internal-error"));const et=Pe.render;Pe.render=(Lt,Xt)=>{const Wn=et(Lt,Xt);return this.counter++,Wn},this.hostLanguage=C,k(Pe)},R(`https://www.google.com/recaptcha/api.js??${(0,ze.xO)({onload:V_,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(X),H(qt(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var C;return!(null===(C=Ni().grecaptcha)||void 0===C||!C.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mI{load(y){return(0,ie.Z)(function*(){return new L_(y)})()}clearedOneInstance(){}}const B_="recaptcha",_I={theme:"light",type:"image"};class Nx{constructor(y,C,k=Object.assign({},_I)){this.parameters=k,this.type=B_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=E(y),this.isInvisible="invisible"===this.parameters.size,st(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof C?document.getElementById(C):C;st(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mI:new pI,this.validateStartingState()}verify(){var y=this;return(0,ie.Z)(function*(){y.assertNotDestroyed();const C=yield y.render(),k=y.getAssertedRecaptcha();return k.getResponse(C)||new Promise(X=>{const be=Pe=>{Pe&&(y.tokenChangeListeners.delete(be),X(Pe))};y.tokenChangeListeners.add(be),y.isInvisible&&k.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){st(!this.parameters.sitekey,this.auth,"argument-error"),st(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),st(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return C=>{if(this.tokenChangeListeners.forEach(k=>k(C)),"function"==typeof y)y(C);else if("string"==typeof y){const k=Ni()[y];"function"==typeof k&&k(C)}}}assertNotDestroyed(){st(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,ie.Z)(function*(){if(yield y.init(),!y.widgetId){let C=y.container;if(!y.isInvisible){const k=document.createElement("div");C.appendChild(k),C=k}y.widgetId=y.getAssertedRecaptcha().render(C,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,ie.Z)(function*(){st(fn()&&!Sx(),y.auth,"internal-error"),yield function vI(){let S=null;return new Promise(y=>{"complete"!==document.readyState?(S=()=>y(),window.addEventListener("load",S)):y()}).catch(y=>{throw S&&window.removeEventListener("load",S),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const C=yield function Oe(S){return Ke.apply(this,arguments)}(y.auth);st(C,y.auth,"internal-error"),y.parameters.sitekey=C})()}getAssertedRecaptcha(){return st(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fx{constructor(y,C){this.verificationId=y,this.onConfirmation=C}confirm(y){const C=Rc._fromVerification(this.verificationId,y);return this.onConfirmation(C)}}function yI(S,y,C){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,ie.Z)(function*(S,y,C){const k=E(S),H=yield lh(k,y,(0,ze.m9)(C));return new Fx(H,X=>Kf(k,X))})).apply(this,arguments)}function Lx(S,y,C){return z_.apply(this,arguments)}function z_(){return(z_=(0,ie.Z)(function*(S,y,C){const k=(0,ze.m9)(S);yield ih(!1,k,"phone");const H=yield lh(k.auth,y,(0,ze.m9)(C));return new Fx(H,X=>vx(k,X))})).apply(this,arguments)}function bI(S,y,C){return dp.apply(this,arguments)}function dp(){return(dp=(0,ie.Z)(function*(S,y,C){const k=(0,ze.m9)(S),H=yield lh(k.auth,y,(0,ze.m9)(C));return new Fx(H,X=>yx(k,X))})).apply(this,arguments)}function lh(S,y,C){return H_.apply(this,arguments)}function H_(){return H_=(0,ie.Z)(function*(S,y,C){var k;const H=yield C.verify();try{let X;if(st("string"==typeof H,S,"argument-error"),st(C.type===B_,S,"argument-error"),X="string"==typeof y?{phoneNumber:y}:y,"session"in X){const be=X.session;if("phoneNumber"in X)return st("enroll"===be.type,S,"internal-error"),(yield function v2(S,y){return Je(S,"POST","/v2/accounts/mfaEnrollment:start",Ae(S,y))}(S,{idToken:be.credential,phoneEnrollmentInfo:{phoneNumber:X.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{st("signin"===be.type,S,"internal-error");const Pe=(null===(k=X.multiFactorHint)||void 0===k?void 0:k.uid)||X.multiFactorUid;return st(Pe,S,"missing-multi-factor-info"),(yield function hI(S,y){return Je(S,"POST","/v2/accounts/mfaSignIn:start",Ae(S,y))}(S,{mfaPendingCredential:be.credential,mfaEnrollmentId:Pe,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:be}=yield function g2(S,y){return Mc.apply(this,arguments)}(S,{phoneNumber:X.phoneNumber,recaptchaToken:H});return be}}finally{C._reset()}}),H_.apply(this,arguments)}function U_(S,y){return j_.apply(this,arguments)}function j_(){return(j_=(0,ie.Z)(function*(S,y){yield Pc((0,ze.m9)(S),y)})).apply(this,arguments)}let Va=(()=>{class S{constructor(C){this.providerId=S.PROVIDER_ID,this.auth=E(C)}verifyPhoneNumber(C,k){return lh(this.auth,C,(0,ze.m9)(k))}static credential(C,k){return Rc._fromVerification(C,k)}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:k,temporaryProof:H}=C;return k&&H?Rc._fromTokenResponse(k,H):null}}return S.PROVIDER_ID="phone",S.PHONE_SIGN_IN_METHOD="phone",S})();function Yl(S,y){return y?W(y):(st(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}class up extends tn{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Bl(y,this._buildIdpRequest())}_linkToIdToken(y,C){return Bl(y,this._buildIdpRequest(C))}_getReauthenticationResolver(y){return Bl(y,this._buildIdpRequest())}_buildIdpRequest(y){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(C.idToken=y),C}}function Ui(S){return _x(S.auth,new up(S),S.bypassAuthState)}function W_(S){const{auth:y,user:C}=S;return st(C,y,"internal-error"),v_(C,new up(S),S.bypassAuthState)}function hp(S){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,ie.Z)(function*(S){const{auth:y,user:C}=S;return st(C,y,"internal-error"),Pc(C,new up(S),S.bypassAuthState)})).apply(this,arguments)}class Vx{constructor(y,C,k,H,X=!1){this.auth=y,this.resolver=k,this.user=H,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var y=this;return new Promise(function(){var C=(0,ie.Z)(function*(k,H){y.pendingPromise={resolve:k,reject:H};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(X){y.reject(X)}});return function(k,H){return C.apply(this,arguments)}}())}onAuthEvent(y){var C=this;return(0,ie.Z)(function*(){const{urlResponse:k,sessionId:H,postBody:X,tenantId:be,error:Pe,type:et}=y;if(Pe)return void C.reject(Pe);const Lt={auth:C.auth,requestUri:k,sessionId:H,tenantId:be||void 0,postBody:X||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(et)(Lt))}catch(Xt){C.reject(Xt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Ui;case"linkViaPopup":case"linkViaRedirect":return hp;case"reauthViaPopup":case"reauthViaRedirect":return W_;default:Me(this.auth,"internal-error")}}resolve(y){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bx=new _r(2e3,1e4);function Rd(S,y,C){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,ie.Z)(function*(S,y,C){const k=E(S);Ki(S,y,Uo);const H=Yl(k,C);return new fp(k,"signInViaPopup",y,H).executeNotNull()})).apply(this,arguments)}function xI(S,y,C){return G_.apply(this,arguments)}function G_(){return(G_=(0,ie.Z)(function*(S,y,C){const k=(0,ze.m9)(S);Ki(k.auth,y,Uo);const H=Yl(k.auth,C);return new fp(k.auth,"reauthViaPopup",y,H,k).executeNotNull()})).apply(this,arguments)}function wI(S,y,C){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,ie.Z)(function*(S,y,C){const k=(0,ze.m9)(S);Ki(k.auth,y,Uo);const H=Yl(k.auth,C);return new fp(k.auth,"linkViaPopup",y,H,k).executeNotNull()})).apply(this,arguments)}let fp=(()=>{class S extends Vx{constructor(C,k,H,X,be){super(C,k,X,be),this.provider=H,this.authWindow=null,this.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=this}executeNotNull(){var C=this;return(0,ie.Z)(function*(){const k=yield C.execute();return st(k,C.auth,"internal-error"),k})()}onExecution(){var C=this;return(0,ie.Z)(function*(){Yn(1===C.filter.length,"Popup operations only handle one event");const k=rp();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],k),C.authWindow.associatedEvent=k,C.resolver._originValidation(C.auth).catch(H=>{C.reject(H)}),C.resolver._isIframeWebStorageSupported(C.auth,H=>{H||C.reject(qt(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}pollUserCancellation(){const C=()=>{var k,H;this.pollId=null!==(H=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(qt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(C,Bx.get())};C()}}return S.currentPopupAction=null,S})();const CI="pendingRedirect",Od=new Map;class zx extends Vx{constructor(y,C,k=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,k),this.eventId=null}execute(){var y=()=>super.execute,C=this;return(0,ie.Z)(function*(){let k=Od.get(C.auth._key());if(!k){try{const X=(yield function Hx(S,y){return $_.apply(this,arguments)}(C.resolver,C.auth))?yield y().call(C):null;k=()=>Promise.resolve(X)}catch(H){k=()=>Promise.reject(H)}Od.set(C.auth._key(),k)}return C.bypassAuthState||Od.set(C.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(y){var C=()=>super.onAuthEvent,k=this;return(0,ie.Z)(function*(){if("signInViaRedirect"===y.type)return C().call(k,y);if("unknown"!==y.type){if(y.eventId){const H=yield k.auth._redirectUserForId(y.eventId);if(H)return k.user=H,C().call(k,y);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,ie.Z)(function*(){})()}cleanUp(){}}function $_(){return($_=(0,ie.Z)(function*(S,y){const C=Wx(y),k=jx(S);if(!(yield k._isAvailable()))return!1;const H="true"===(yield k._get(C));return yield k._remove(C),H})).apply(this,arguments)}function an(S,y){return pp.apply(this,arguments)}function pp(){return(pp=(0,ie.Z)(function*(S,y){return jx(S)._set(Wx(y),"true")})).apply(this,arguments)}function O2(){Od.clear()}function Ux(S,y){Od.set(S._key(),y)}function jx(S){return W(S._redirectPersistence)}function Wx(S){return Tt(CI,S.config.apiKey,S.name)}function Gx(S,y,C){return function Pd(S,y,C){return Y_.apply(this,arguments)}(S,y,C)}function Y_(){return(Y_=(0,ie.Z)(function*(S,y,C){const k=E(S);Ki(S,y,Uo),yield k._initializationPromise;const H=Yl(k,C);return yield an(H,k),H._openRedirect(k,y,"signInViaRedirect")})).apply(this,arguments)}function EI(S,y,C){return function DI(S,y,C){return q_.apply(this,arguments)}(S,y,C)}function q_(){return(q_=(0,ie.Z)(function*(S,y,C){const k=(0,ze.m9)(S);Ki(k.auth,y,Uo),yield k.auth._initializationPromise;const H=Yl(k.auth,C);yield an(H,k.auth);const X=yield Nd(k);return H._openRedirect(k.auth,y,"reauthViaRedirect",X)})).apply(this,arguments)}function TI(S,y,C){return function tt(S,y,C){return Kn.apply(this,arguments)}(S,y,C)}function Kn(){return(Kn=(0,ie.Z)(function*(S,y,C){const k=(0,ze.m9)(S);Ki(k.auth,y,Uo),yield k.auth._initializationPromise;const H=Yl(k.auth,C);yield ih(!1,k,y.providerId),yield an(H,k.auth);const X=yield Nd(k);return H._openRedirect(k.auth,y,"linkViaRedirect",X)})).apply(this,arguments)}function ut(S,y){return ot.apply(this,arguments)}function ot(){return(ot=(0,ie.Z)(function*(S,y){return yield E(S)._initializationPromise,Wr(S,y,!1)})).apply(this,arguments)}function Wr(S,y){return gp.apply(this,arguments)}function gp(){return(gp=(0,ie.Z)(function*(S,y,C=!1){const k=E(S),H=Yl(k,y),be=yield new zx(k,H,C).execute();return be&&!C&&(delete be.user._redirectEventId,yield k._persistUserIfCurrent(be.user),yield k._setRedirectUser(null,y)),be})).apply(this,arguments)}function Nd(S){return Go.apply(this,arguments)}function Go(){return(Go=(0,ie.Z)(function*(S){const y=rp(`${S.uid}:::`);return S._redirectEventId=y,yield S.auth._setRedirectUser(S),yield S.auth._persistUserIfCurrent(S),y})).apply(this,arguments)}class mp{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let C=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(y,k)&&(C=!0,this.sendToConsumer(y,k),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Yx(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return II(S);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=y,C=!0)),C}sendToConsumer(y,C){var k;if(y.error&&!II(y)){const H=(null===(k=y.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";C.onError(qt(this.auth,H))}else C.onAuthEvent(y)}isEventForConsumer(y,C){const k=null===C.eventId||!!y.eventId&&y.eventId===C.eventId;return C.filter.includes(y.type)&&k}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($x(y))}saveEventToCache(y){this.cachedEventUids.add($x(y)),this.lastProcessedEventTime=Date.now()}}function $x(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(y=>y).join("-")}function II({type:S,error:y}){return"unknown"===S&&"auth/no-auth-event"===y?.code}function Es(S){return aa.apply(this,arguments)}function aa(){return(aa=(0,ie.Z)(function*(S,y={}){return Je(S,"GET","/v1/projects",y)})).apply(this,arguments)}const qx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fd=/^https?/;function Z_(){return(Z_=(0,ie.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:y}=yield Es(S);for(const C of y)try{if(Xx(C))return}catch{}Me(S,"unauthorized-domain")})).apply(this,arguments)}function Xx(S){const y=Bi(),{protocol:C,hostname:k}=new URL(y);if(S.startsWith("chrome-extension://")){const be=new URL(S);return""===be.hostname&&""===k?"chrome-extension:"===C&&S.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===C&&be.hostname===k}if(!Fd.test(C))return!1;if(qx.test(S))return k===S;const H=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(k)}const SI=new _r(3e4,6e4);function Zx(){const S=Ni().___jsl;if(S?.H)for(const y of Object.keys(S.H))if(S.H[y].r=S.H[y].r||[],S.H[y].L=S.H[y].L||[],S.H[y].r=[...S.H[y].L],S.CP)for(let C=0;C<S.CP.length;C++)S.CP[C]=null}let Ld=null;const Q_=new _r(5e3,15e3),AI="__/auth/iframe",Qx="emulator/auth/iframe",J_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ew(S){const y=S.config;st(y.authDomain,S,"auth-domain-config-required");const C=y.emulator?Ur(y,Qx):`https://${S.config.authDomain}/${AI}`,k={apiKey:y.apiKey,appName:S.name,v:ae.SDK_VERSION},H=Jx.get(S.config.apiHost);H&&(k.eid=H);const X=S._getFrameworks();return X.length&&(k.fw=X.join(",")),`${C}?${(0,ze.xO)(k).slice(1)}`}function _p(){return _p=(0,ie.Z)(function*(S){const y=yield function Kx(S){return Ld=Ld||function K_(S){return new Promise((y,C)=>{var k,H,X;function be(){Zx(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Zx(),C(qt(S,"network-request-failed"))},timeout:SI.get()})}if(null!==(H=null===(k=Ni().gapi)||void 0===k?void 0:k.iframes)&&void 0!==H&&H.Iframe)y(gapi.iframes.getContext());else{if(null===(X=Ni().gapi)||void 0===X||!X.load){const Pe=O("iframefcb");return Ni()[Pe]=()=>{gapi.load?be():C(qt(S,"network-request-failed"))},R(`https://apis.google.com/js/api.js?onload=${Pe}`).catch(et=>C(et))}be()}}).catch(y=>{throw Ld=null,y})}(S),Ld}(S),C=Ni().gapi;return st(C,S,"internal-error"),y.open({where:document.body,url:ew(S),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J_,dontclear:!0},k=>new Promise(function(){var H=(0,ie.Z)(function*(X,be){yield k.restyle({setHideOnLeave:!1});const Pe=qt(S,"network-request-failed"),et=Ni().setTimeout(()=>{be(Pe)},Q_.get());function Lt(){Ni().clearTimeout(et),X(k)}k.ping(Lt).then(Lt,()=>{be(Pe)})});return function(X,be){return H.apply(this,arguments)}}()))}),_p.apply(this,arguments)}const ev={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class er{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const vp="__/auth/handler",OI="emulator/auth/handler",nw=encodeURIComponent("fac");function yp(S,y,C,k,H,X){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,ie.Z)(function*(S,y,C,k,H,X){st(S.config.authDomain,S,"auth-domain-config-required"),st(S.config.apiKey,S,"invalid-api-key");const be={apiKey:S.config.apiKey,appName:S.name,authType:C,redirectUrl:k,v:ae.SDK_VERSION,eventId:H};if(y instanceof Uo){y.setDefaultLanguage(S.languageCode),be.providerId=y.providerId||"",(0,ze.xb)(y.getCustomParameters())||(be.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Xt,Wn]of Object.entries(X||{}))be[Xt]=Wn}if(y instanceof Ul){const Xt=y.getScopes().filter(Wn=>""!==Wn);Xt.length>0&&(be.scopes=Xt.join(","))}S.tenantId&&(be.tid=S.tenantId);const Pe=be;for(const Xt of Object.keys(Pe))void 0===Pe[Xt]&&delete Pe[Xt];const et=yield S._getAppCheckToken(),Lt=et?`#${nw}=${encodeURIComponent(et)}`:"";return`${function ql({config:S}){return S.emulator?Ur(S,OI):`https://${S.authDomain}/${vp}`}(S)}?${(0,ze.xO)(Pe).slice(1)}${Lt}`})).apply(this,arguments)}const tv="webStorageSupport",ch=class bp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ip,this._completeRedirectFn=Wr,this._overrideRedirectResult=Ux}_openPopup(y,C,k,H){var X=this;return(0,ie.Z)(function*(){var be;Yn(null===(be=X.eventManagers[y._key()])||void 0===be?void 0:be.manager,"_initialize() not called before _openPopup()");const Pe=yield yp(y,C,k,Bi(),H);return function jc(S,y,C,k=500,H=600){const X=Math.max((window.screen.availHeight-H)/2,0).toString(),be=Math.max((window.screen.availWidth-k)/2,0).toString();let Pe="";const et=Object.assign(Object.assign({},ev),{width:k.toString(),height:H.toString(),top:X,left:be}),Lt=(0,ze.z$)().toLowerCase();C&&(Pe=_i(Lt)?"_blank":C),ii(Lt)&&(y=y||"http://localhost",et.scrollbars="yes");const Xt=Object.entries(et).reduce((Vs,[la,Bd])=>`${Vs}${la}=${Bd},`,"");if(function Wt(S=(0,ze.z$)()){var y;return ye(S)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(Lt)&&"_self"!==Pe)return function RI(S,y){const C=document.createElement("a");C.href=S,C.target=y;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(k)}(y||"",Pe),new er(null);const Wn=window.open(y||"",Pe,Xt);st(Wn,S,"popup-blocked");try{Wn.focus()}catch{}return new er(Wn)}(y,Pe,rp())})()}_openRedirect(y,C,k,H){var X=this;return(0,ie.Z)(function*(){return yield X._originValidation(y),function S2(S){Ni().location.href=S}(yield yp(y,C,k,Bi(),H)),new Promise(()=>{})})()}_initialize(y){const C=y._key();if(this.eventManagers[C]){const{manager:H,promise:X}=this.eventManagers[C];return H?Promise.resolve(H):(Yn(X,"If manager is not set, promise should be"),X)}const k=this.initAndGetManager(y);return this.eventManagers[C]={promise:k},k.catch(()=>{delete this.eventManagers[C]}),k}initAndGetManager(y){var C=this;return(0,ie.Z)(function*(){const k=yield function tw(S){return _p.apply(this,arguments)}(y),H=new mp(y);return k.register("authEvent",X=>(st(X?.authEvent,y,"invalid-auth-event"),{status:H.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[y._key()]={manager:H},C.iframes[y._key()]=k,H})()}_isIframeWebStorageSupported(y,C){this.iframes[y._key()].send(tv,{type:tv},H=>{var X;const be=null===(X=H?.[0])||void 0===X?void 0:X[tv];void 0!==be&&C(!!be),Me(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const C=y._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function dl(S){return Z_.apply(this,arguments)}(y)),this.originValidationPromises[C]}get _shouldInitProactively(){return a()||Ct()||ye()}};class xp{constructor(y){this.factorId=y}_process(y,C,k){switch(C.type){case"enroll":return this._finalizeEnroll(y,C.credential,k);case"signin":return this._finalizeSignIn(y,C.credential);default:return Pn("unexpected MultiFactorSessionType")}}}class dh extends xp{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new dh(y)}_finalizeEnroll(y,C,k){return function aI(S,y){return Je(S,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(S,y))}(y,{idToken:C,displayName:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,C){return function fI(S,y){return Je(S,"POST","/v2/accounts/mfaSignIn:finalize",Ae(S,y))}(y,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let iw=(()=>{class S{constructor(){}static assertion(C){return dh._fromCredential(C)}}return S.FACTOR_ID="phone",S})();var rw="@firebase/auth";class iv{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var C=this;return(0,ie.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const C=this.auth.onIdTokenChanged(k=>{y(k?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,C),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const C=this.internalListeners.get(y);C&&(this.internalListeners.delete(y),C(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,ze.Pz)("authIdTokenMaxAge"),function FI(S){(0,ae._registerComponent)(new Ti.wA("auth",(y,{options:C})=>{const k=y.getProvider("app").getImmediate(),H=y.getProvider("heartbeat"),X=y.getProvider("app-check-internal"),{apiKey:be,authDomain:Pe}=k.options;st(be&&!be.includes(":"),"invalid-api-key",{appName:k.name});const et={apiKey:be,authDomain:Pe,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u(S)},Lt=new w(k,H,X,et);return function me(S,y){const C=y?.persistence||[],k=(Array.isArray(C)?C:[C]).map(W);y?.errorMap&&S._updateErrorMap(y.errorMap),S._initializeWithPersistence(k,y?.popupRedirectResolver)}(Lt,C),Lt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,C,k)=>{y.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Ti.wA("auth-internal",y=>{const C=E(y.getProvider("auth").getImmediate());return new iv(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(rw,"1.3.2",function P2(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,ae.registerVersion)(rw,"1.3.2","esm2017")}("Browser")},963:(Jr,Wi,Yt)=>{Yt.d(Wi,{BH:()=>Er,DV:()=>we,Dv:()=>qn,G6:()=>Ur,GJ:()=>Ri,L:()=>yn,LL:()=>We,Pz:()=>qt,Sg:()=>Ki,UG:()=>Pn,UI:()=>Ke,US:()=>Ti,Wj:()=>Si,Wl:()=>Bt,Yr:()=>_r,ZB:()=>Pt,ZR:()=>Je,aH:()=>Me,b$:()=>fn,cI:()=>$e,dS:()=>ho,eu:()=>Ne,g5:()=>ae,gK:()=>ti,gQ:()=>zi,h$:()=>Bn,hl:()=>ke,hu:()=>ze,jU:()=>Yn,lb:()=>Oi,m9:()=>po,ne:()=>Qi,p$:()=>rt,pd:()=>mi,r3:()=>Ce,ru:()=>Bi,tV:()=>Ze,uI:()=>st,ug:()=>xs,vZ:()=>mt,w1:()=>ls,w9:()=>pi,xO:()=>Ln,xb:()=>Oe,z$:()=>cn,zd:()=>Sn});const ie={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ze=function(ge,ue){if(!ge)throw ae(ue)},ae=function(ge){return new Error("Firebase Database ("+ie.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ge)},yt=function(ge){const ue=[];let $=0;for(let J=0;J<ge.length;J++){let W=ge.charCodeAt(J);W<128?ue[$++]=W:W<2048?(ue[$++]=W>>6|192,ue[$++]=63&W|128):55296==(64512&W)&&J+1<ge.length&&56320==(64512&ge.charCodeAt(J+1))?(W=65536+((1023&W)<<10)+(1023&ge.charCodeAt(++J)),ue[$++]=W>>18|240,ue[$++]=W>>12&63|128,ue[$++]=W>>6&63|128,ue[$++]=63&W|128):(ue[$++]=W>>12|224,ue[$++]=W>>6&63|128,ue[$++]=63&W|128)}return ue},Ti={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,ue){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let W=0;W<ge.length;W+=3){const de=ge[W],He=W+1<ge.length,Tt=He?ge[W+1]:0,vt=W+2<ge.length,en=vt?ge[W+2]:0;let _i=(15&Tt)<<2|en>>6,Gt=63&en;vt||(Gt=64,He||(_i=64)),J.push($[de>>2],$[(3&de)<<4|Tt>>4],$[_i],$[Gt])}return J.join("")},encodeString(ge,ue){return this.HAS_NATIVE_SUPPORT&&!ue?btoa(ge):this.encodeByteArray(yt(ge),ue)},decodeString(ge,ue){return this.HAS_NATIVE_SUPPORT&&!ue?atob(ge):function(ge){const ue=[];let $=0,J=0;for(;$<ge.length;){const W=ge[$++];if(W<128)ue[J++]=String.fromCharCode(W);else if(W>191&&W<224){const de=ge[$++];ue[J++]=String.fromCharCode((31&W)<<6|63&de)}else if(W>239&&W<365){const vt=((7&W)<<18|(63&ge[$++])<<12|(63&ge[$++])<<6|63&ge[$++])-65536;ue[J++]=String.fromCharCode(55296+(vt>>10)),ue[J++]=String.fromCharCode(56320+(1023&vt))}else{const de=ge[$++],He=ge[$++];ue[J++]=String.fromCharCode((15&W)<<12|(63&de)<<6|63&He)}}return ue.join("")}(this.decodeStringToByteArray(ge,ue))},decodeStringToByteArray(ge,ue){this.init_();const $=ue?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let W=0;W<ge.length;){const de=$[ge.charAt(W++)],Tt=W<ge.length?$[ge.charAt(W)]:0;++W;const en=W<ge.length?$[ge.charAt(W)]:64;++W;const Ct=W<ge.length?$[ge.charAt(W)]:64;if(++W,null==de||null==Tt||null==en||null==Ct)throw new ht;J.push(de<<2|Tt>>4),64!==en&&(J.push(Tt<<4&240|en>>2),64!==Ct&&J.push(en<<6&192|Ct))}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}};class ht extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bn=function(ge){const ue=yt(ge);return Ti.encodeByteArray(ue,!0)},yn=function(ge){return Bn(ge).replace(/\./g,"")},Ze=function(ge){try{return Ti.decodeString(ge,!0)}catch(ue){console.error("base64Decode failed: ",ue)}return null};function rt(ge){return Pt(void 0,ge)}function Pt(ge,ue){if(!(ue instanceof Object))return ue;switch(ue.constructor){case Date:return new Date(ue.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return ue}for(const $ in ue)!ue.hasOwnProperty($)||!sn($)||(ge[$]=Pt(ge[$],ue[$]));return ge}function sn(ge){return"__proto__"!==ge}const fe=()=>{try{return function zn(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ue=ge&&Ze(ge[1]);return ue&&JSON.parse(ue)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},Me=()=>{var ge;return null===(ge=fe())||void 0===ge?void 0:ge.config},qt=ge=>{var ue;return null===(ue=fe())||void 0===ue?void 0:ue[`_${ge}`]};class Er{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ue,$)=>{this.resolve=ue,this.reject=$})}wrapCallback(ue){return($,J)=>{$?this.reject($):this.resolve(J),"function"==typeof ue&&(this.promise.catch(()=>{}),1===ue.length?ue($):ue($,J))}}}function Ki(ge,ue){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const J=ue||"demo-project",W=ge.iat||0,de=ge.sub||ge.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const He=Object.assign({iss:`https://securetoken.google.com/${J}`,aud:J,iat:W,exp:W+3600,auth_time:W,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[yn(JSON.stringify({alg:"none",type:"JWT"})),yn(JSON.stringify(He)),""].join(".")}function cn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function st(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function Pn(){var ge;const ue=null===(ge=fe())||void 0===ge?void 0:ge.forceEnvironment;if("node"===ue)return!0;if("browser"===ue)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Yn(){return"object"==typeof self&&self.self===self}function Bi(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function fn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ls(){const ge=cn();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function _r(){return!0===ie.NODE_CLIENT||!0===ie.NODE_ADMIN}function Ur(){return!Pn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((ge,ue)=>{try{let $=!0;const J="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(J);W.onsuccess=()=>{W.result.close(),$||self.indexedDB.deleteDatabase(J),ge(!0)},W.onupgradeneeded=()=>{$=!1},W.onerror=()=>{var de;ue((null===(de=W.error)||void 0===de?void 0:de.message)||"")}}catch($){ue($)}})}class Je extends Error{constructor(ue,$,J){super($),this.code=ue,this.customData=J,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(ue,$,J){this.service=ue,this.serviceName=$,this.errors=J}create(ue,...$){const J=$[0]||{},W=`${this.service}/${ue}`,de=this.errors[ue],He=de?function at(ge,ue){return ge.replace(pn,($,J)=>{const W=ue[J];return null!=W?String(W):`<${J}?>`})}(de,J):"Error";return new Je(W,`${this.serviceName}: ${He} (${W}).`,J)}}const pn=/\{\$([^}]+)}/g;function $e(ge){return JSON.parse(ge)}function Bt(ge){return JSON.stringify(ge)}const xn=function(ge){let ue={},$={},J={},W="";try{const de=ge.split(".");ue=$e(Ze(de[0])||""),$=$e(Ze(de[1])||""),W=de[2],J=$.d||{},delete $.d}catch{}return{header:ue,claims:$,data:J,signature:W}},pi=function(ge){const $=xn(ge).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},Ri=function(ge){const ue=xn(ge).claims;return"object"==typeof ue&&!0===ue.admin};function Ce(ge,ue){return Object.prototype.hasOwnProperty.call(ge,ue)}function we(ge,ue){if(Object.prototype.hasOwnProperty.call(ge,ue))return ge[ue]}function Oe(ge){for(const ue in ge)if(Object.prototype.hasOwnProperty.call(ge,ue))return!1;return!0}function Ke(ge,ue,$){const J={};for(const W in ge)Object.prototype.hasOwnProperty.call(ge,W)&&(J[W]=ue.call($,ge[W],W,ge));return J}function mt(ge,ue){if(ge===ue)return!0;const $=Object.keys(ge),J=Object.keys(ue);for(const W of $){if(!J.includes(W))return!1;const de=ge[W],He=ue[W];if(nt(de)&&nt(He)){if(!mt(de,He))return!1}else if(de!==He)return!1}for(const W of J)if(!$.includes(W))return!1;return!0}function nt(ge){return null!==ge&&"object"==typeof ge}function Ln(ge){const ue=[];for(const[$,J]of Object.entries(ge))Array.isArray(J)?J.forEach(W=>{ue.push(encodeURIComponent($)+"="+encodeURIComponent(W))}):ue.push(encodeURIComponent($)+"="+encodeURIComponent(J));return ue.length?"&"+ue.join("&"):""}function Sn(ge){const ue={};return ge.replace(/^\?/,"").split("&").forEach(J=>{if(J){const[W,de]=J.split("=");ue[decodeURIComponent(W)]=decodeURIComponent(de)}}),ue}function mi(ge){const ue=ge.indexOf("?");if(!ue)return"";const $=ge.indexOf("#",ue);return ge.substring(ue,$>0?$:void 0)}class zi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ue=1;ue<this.blockSize;++ue)this.pad_[ue]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ue,$){$||($=0);const J=this.W_;if("string"==typeof ue)for(let Ct=0;Ct<16;Ct++)J[Ct]=ue.charCodeAt($)<<24|ue.charCodeAt($+1)<<16|ue.charCodeAt($+2)<<8|ue.charCodeAt($+3),$+=4;else for(let Ct=0;Ct<16;Ct++)J[Ct]=ue[$]<<24|ue[$+1]<<16|ue[$+2]<<8|ue[$+3],$+=4;for(let Ct=16;Ct<80;Ct++){const _i=J[Ct-3]^J[Ct-8]^J[Ct-14]^J[Ct-16];J[Ct]=4294967295&(_i<<1|_i>>>31)}let en,ii,W=this.chain_[0],de=this.chain_[1],He=this.chain_[2],Tt=this.chain_[3],vt=this.chain_[4];for(let Ct=0;Ct<80;Ct++){Ct<40?Ct<20?(en=Tt^de&(He^Tt),ii=1518500249):(en=de^He^Tt,ii=1859775393):Ct<60?(en=de&He|Tt&(de|He),ii=2400959708):(en=de^He^Tt,ii=3395469782);const _i=(W<<5|W>>>27)+en+vt+ii+J[Ct]&4294967295;vt=Tt,Tt=He,He=4294967295&(de<<30|de>>>2),de=W,W=_i}this.chain_[0]=this.chain_[0]+W&4294967295,this.chain_[1]=this.chain_[1]+de&4294967295,this.chain_[2]=this.chain_[2]+He&4294967295,this.chain_[3]=this.chain_[3]+Tt&4294967295,this.chain_[4]=this.chain_[4]+vt&4294967295}update(ue,$){if(null==ue)return;void 0===$&&($=ue.length);const J=$-this.blockSize;let W=0;const de=this.buf_;let He=this.inbuf_;for(;W<$;){if(0===He)for(;W<=J;)this.compress_(ue,W),W+=this.blockSize;if("string"==typeof ue){for(;W<$;)if(de[He]=ue.charCodeAt(W),++He,++W,He===this.blockSize){this.compress_(de),He=0;break}}else for(;W<$;)if(de[He]=ue[W],++He,++W,He===this.blockSize){this.compress_(de),He=0;break}}this.inbuf_=He,this.total_+=$}digest(){const ue=[];let $=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let W=this.blockSize-1;W>=56;W--)this.buf_[W]=255&$,$/=256;this.compress_(this.buf_);let J=0;for(let W=0;W<5;W++)for(let de=24;de>=0;de-=8)ue[J]=this.chain_[W]>>de&255,++J;return ue}}function Qi(ge,ue){const $=new Or(ge,ue);return $.subscribe.bind($)}class Or{constructor(ue,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{ue(this)}).catch(J=>{this.error(J)})}next(ue){this.forEachObserver($=>{$.next(ue)})}error(ue){this.forEachObserver($=>{$.error(ue)}),this.close(ue)}complete(){this.forEachObserver(ue=>{ue.complete()}),this.close()}subscribe(ue,$,J){let W;if(void 0===ue&&void 0===$&&void 0===J)throw new Error("Missing Observer.");W=function oi(ge,ue){if("object"!=typeof ge||null===ge)return!1;for(const $ of ue)if($ in ge&&"function"==typeof ge[$])return!0;return!1}(ue,["next","error","complete"])?ue:{next:ue,error:$,complete:J},void 0===W.next&&(W.next=An),void 0===W.error&&(W.error=An),void 0===W.complete&&(W.complete=An);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),de}unsubscribeOne(ue){void 0===this.observers||void 0===this.observers[ue]||(delete this.observers[ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ue){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,ue)}sendOne(ue,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ue])try{$(this.observers[ue])}catch(J){typeof console<"u"&&console.error&&console.error(J)}})}close(ue){this.finalized||(this.finalized=!0,void 0!==ue&&(this.finalError=ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function An(){}const qn=function(ge,ue,$,J){let W;if(J<ue?W="at least "+ue:J>$&&(W=0===$?"none":"no more than "+$),W)throw new Error(ge+" failed: Was called with "+J+(1===J?" argument.":" arguments.")+" Expects "+W+".")};function ti(ge,ue){return`${ge} failed: ${ue} argument `}function Si(ge,ue,$,J){if((!J||$)&&"function"!=typeof $)throw new Error(ti(ge,ue)+"must be a valid function.")}function Oi(ge,ue,$,J){if((!J||$)&&("object"!=typeof $||null===$))throw new Error(ti(ge,ue)+"must be a valid context object.")}const ho=function(ge){const ue=[];let $=0;for(let J=0;J<ge.length;J++){let W=ge.charCodeAt(J);if(W>=55296&&W<=56319){const de=W-55296;J++,ze(J<ge.length,"Surrogate pair missing trail surrogate."),W=65536+(de<<10)+(ge.charCodeAt(J)-56320)}W<128?ue[$++]=W:W<2048?(ue[$++]=W>>6|192,ue[$++]=63&W|128):W<65536?(ue[$++]=W>>12|224,ue[$++]=W>>6&63|128,ue[$++]=63&W|128):(ue[$++]=W>>18|240,ue[$++]=W>>12&63|128,ue[$++]=W>>6&63|128,ue[$++]=63&W|128)}return ue},xs=function(ge){let ue=0;for(let $=0;$<ge.length;$++){const J=ge.charCodeAt($);J<128?ue++:J<2048?ue+=2:J>=55296&&J<=56319?(ue+=4,$++):ue+=3}return ue};function po(ge){return ge&&ge._delegate?ge._delegate:ge}},614:()=>{const Jr=":";const Hn=function(Ce,...we){if(Hn.translate){const Ke=Hn.translate(Ce,we);Ce=Ke[0],we=Ke[1]}let Oe=Ri(Ce[0],Ce.raw[0]);for(let Ke=1;Ke<Ce.length;Ke++)Oe+=we[Ke-1]+Ri(Ce[Ke],Ce.raw[Ke]);return Oe},pi=":";function Ri(Ce,we){return we.charAt(0)===pi?Ce.substring(function Ne(Ce,we){for(let Oe=1,Ke=1;Oe<Ce.length;Oe++,Ke++)if("\\"===we[Ke])Ke++;else if(Ce[Oe]===Jr)return Oe;throw new Error(`Unterminated $localize metadata block in "${we}".`)}(Ce,we)+1):Ce}globalThis.$localize=Hn},743:(Jr,Wi,Yt)=>{Yt.r(Wi);var ie=Yt(861),ze=Yt(168),ae=Yt(215),yt=Yt(963),ht=(Yt(211),Yt(383),Yt(427));function Bn(){return window}function rt(){return rt=(0,ie.Z)(function*($,J,W){var de;const{BuildInfo:He}=Bn();(0,ae.at)(J.sessionId,"AuthEvent did not contain a session ID");const Tt=yield function fe($){return Ii.apply(this,arguments)}(J.sessionId),vt={};return(0,ae.au)()?vt.ibi=He.packageName:(0,ae.av)()?vt.apn=He.packageName:(0,ae.aw)($,"operation-not-supported-in-this-environment"),He.displayName&&(vt.appDisplayName=He.displayName),vt.sessionId=Tt,(0,ae.ax)($,W,J.type,void 0,null!==(de=J.eventId)&&void 0!==de?de:void 0,vt)}),rt.apply(this,arguments)}function sn(){return(sn=(0,ie.Z)(function*($){const{BuildInfo:J}=Bn(),W={};(0,ae.au)()?W.iosBundleId=J.packageName:(0,ae.av)()?W.androidPackageName=J.packageName:(0,ae.aw)($,"operation-not-supported-in-this-environment"),yield(0,ae.ay)($,W)})).apply(this,arguments)}function In(){return(In=(0,ie.Z)(function*($,J,W){const{cordova:de}=Bn();let He=()=>{};try{yield new Promise((Tt,vt)=>{let en=null;function ii(){var Gt;Tt();const Tr=null===(Gt=de.plugins.browsertab)||void 0===Gt?void 0:Gt.close;"function"==typeof Tr&&Tr(),"function"==typeof W?.close&&W.close()}function Ct(){en||(en=window.setTimeout(()=>{vt((0,ae.aA)($,"redirect-cancelled-by-user"))},2e3))}function _i(){"visible"===document?.visibilityState&&Ct()}J.addPassiveListener(ii),document.addEventListener("resume",Ct,!1),(0,ae.av)()&&document.addEventListener("visibilitychange",_i,!1),He=()=>{J.removePassiveListener(ii),document.removeEventListener("resume",Ct,!1),document.removeEventListener("visibilitychange",_i,!1),en&&window.clearTimeout(en)}})}finally{He()}})).apply(this,arguments)}function Ii(){return(Ii=(0,ie.Z)(function*($){const J=function bn($){if((0,ae.at)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const J=new ArrayBuffer($.length),W=new Uint8Array(J);for(let de=0;de<$.length;de++)W[de]=$.charCodeAt(de);return W}($),W=yield crypto.subtle.digest("SHA-256",J);return Array.from(new Uint8Array(W)).map(He=>He.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class qt extends ae.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(J=>{this.resolveInialized=J})}addPassiveListener(J){this.passiveListeners.add(J)}removePassiveListener(J){this.passiveListeners.delete(J)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(J){return this.resolveInialized(),this.passiveListeners.forEach(W=>W(J)),super.onEvent(J)}initialized(){var J=this;return(0,ie.Z)(function*(){yield J.initPromise})()}}function cn($){return st.apply(this,arguments)}function st(){return(st=(0,ie.Z)(function*($){const J=yield Bi()._get(fn($));return J&&(yield Bi()._remove(fn($))),J})).apply(this,arguments)}function Yn(){const $=[];for(let W=0;W<20;W++){const de=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(de))}return $.join("")}function Bi(){return(0,ae.aD)(ae.b)}function fn($){return(0,ae.aE)("authEvent",$.config.apiKey,$.name)}function Ht($){if(!$?.includes("?"))return{};const[J,...W]=$.split("?");return(0,yt.zd)(W.join("?"))}const ke=class Ur{constructor(){this._redirectPersistence=ae.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ae.aF,this._overrideRedirectResult=ae.aG}_initialize(J){var W=this;return(0,ie.Z)(function*(){const de=J._key();let He=W.eventManagers.get(de);return He||(He=new qt(J),W.eventManagers.set(de,He),W.attachCallbackListeners(J,He)),He})()}_openPopup(J){(0,ae.aw)(J,"operation-not-supported-in-this-environment")}_openRedirect(J,W,de,He){var Tt=this;return(0,ie.Z)(function*(){!function nn($){var J,W,de,He,Tt,vt,en,ii,Ct,_i;const Gt=Bn();(0,ae.aB)("function"==typeof(null===(J=Gt?.universalLinks)||void 0===J?void 0:J.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ae.aB)(typeof(null===(W=Gt?.BuildInfo)||void 0===W?void 0:W.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ae.aB)("function"==typeof(null===(Tt=null===(He=null===(de=Gt?.cordova)||void 0===de?void 0:de.plugins)||void 0===He?void 0:He.browsertab)||void 0===Tt?void 0:Tt.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ae.aB)("function"==typeof(null===(ii=null===(en=null===(vt=Gt?.cordova)||void 0===vt?void 0:vt.plugins)||void 0===en?void 0:en.browsertab)||void 0===ii?void 0:ii.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ae.aB)("function"==typeof(null===(_i=null===(Ct=Gt?.cordova)||void 0===Ct?void 0:Ct.InAppBrowser)||void 0===_i?void 0:_i.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(J);const vt=yield Tt._initialize(J);yield vt.initialized(),vt.resetRedirect(),(0,ae.aH)(),yield Tt._originValidation(J);const en=function Er($,J,W=null){return{type:J,eventId:W,urlResponse:null,sessionId:Yn(),postBody:null,tenantId:$.tenantId,error:(0,ae.aA)($,"no-auth-event")}}(J,de,He);yield function Ki($,J){return Bi()._set(fn($),J)}(J,en);const ii=yield function Ze($,J,W){return rt.apply(this,arguments)}(J,en,W),Ct=yield function zn($){const{cordova:J}=Bn();return new Promise(W=>{J.plugins.browsertab.isAvailable(de=>{let He=null;de?J.plugins.browsertab.openUrl($):He=J.InAppBrowser.open($,(0,ae.az)()?"_blank":"_system","location=yes"),W(He)})})}(ii);return function On($,J,W){return In.apply(this,arguments)}(J,vt,Ct)})()}_isIframeWebStorageSupported(J,W){throw new Error("Method not implemented.")}_originValidation(J){const W=J._key();return this.originValidationPromises[W]||(this.originValidationPromises[W]=function Pt($){return sn.apply(this,arguments)}(J)),this.originValidationPromises[W]}attachCallbackListeners(J,W){const{universalLinks:de,handleOpenURL:He,BuildInfo:Tt}=Bn(),vt=setTimeout((0,ie.Z)(function*(){yield cn(J),W.onEvent(Ne())}),500),en=function(){var _i=(0,ie.Z)(function*(Gt){clearTimeout(vt);const Tr=yield cn(J);let tl=null;Tr&&Gt?.url&&(tl=function Pn($,J){var W,de;const He=function ls($){const J=Ht($),W=J.link?decodeURIComponent(J.link):void 0,de=Ht(W).link,He=J.deep_link_id?decodeURIComponent(J.deep_link_id):void 0;return Ht(He).link||He||de||W||$}(J);if(He.includes("/__/auth/callback")){const Tt=Ht(He),vt=Tt.firebaseError?function Hr($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(Tt.firebaseError)):null,en=null===(de=null===(W=vt?.code)||void 0===W?void 0:W.split("auth/"))||void 0===de?void 0:de[1],ii=en?(0,ae.aA)(en):null;return ii?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:ii,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:He,postBody:null}}return null}(Tr,Gt.url)),W.onEvent(tl||Ne())});return function(Tr){return _i.apply(this,arguments)}}();typeof de<"u"&&"function"==typeof de.subscribe&&de.subscribe(null,en);const ii=He,Ct=`${Tt.packageName.toLowerCase()}://`;Bn().handleOpenURL=function(){var _i=(0,ie.Z)(function*(Gt){if(Gt.toLowerCase().startsWith(Ct)&&en({url:Gt}),"function"==typeof ii)try{ii(Gt)}catch(Tr){console.error(Tr)}});return function(Gt){return _i.apply(this,arguments)}}()}};function Ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ae.aA)("no-auth-event")}}function at(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function $e($=(0,yt.z$)()){return!("file:"!==at()&&"ionic:"!==at()&&"capacitor:"!==at()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function pi(){try{const $=self.localStorage,J=ae.aM();if($)return $.setItem(J,"1"),$.removeItem(J),!function Hn($=(0,yt.z$)()){return function xn(){return(0,yt.w1)()&&11===document?.documentMode}()||function bi($=(0,yt.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,yt.hl)()}catch{return Ri()&&(0,yt.hl)()}return!1}function Ri(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ce(){return(function pn(){return"http:"===at()||"https:"===at()}()||(0,yt.ru)()||$e())&&!function Bt(){return(0,yt.b$)()||(0,yt.UG)()}()&&pi()&&!Ri()}function we(){return $e()&&typeof document<"u"}function Ke(){return(Ke=(0,ie.Z)(function*(){return!!we()&&new Promise($=>{const J=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(J),$(!0)})})})).apply(this,arguments)}const nt={LOCAL:"local",NONE:"none",SESSION:"session"},gi=ae.aB,Ln="persistence";function mi($){return zi.apply(this,arguments)}function zi(){return(zi=(0,ie.Z)(function*($){yield $._initializationPromise;const J=Or(),W=ae.aE(Ln,$.config.apiKey,$.name);J&&J.setItem(W,$._getPersistence())})).apply(this,arguments)}function Or(){var $;try{return(null===($=function mt(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Pr=ae.aB;class oi{constructor(){this.browserResolver=ae.aD(ae.k),this.cordovaResolver=ae.aD(ke),this.underlyingResolver=null,this._redirectPersistence=ae.a,this._completeRedirectFn=ae.aF,this._overrideRedirectResult=ae.aG}_initialize(J){var W=this;return(0,ie.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._initialize(J)})()}_openPopup(J,W,de,He){var Tt=this;return(0,ie.Z)(function*(){return yield Tt.selectUnderlyingResolver(),Tt.assertedUnderlyingResolver._openPopup(J,W,de,He)})()}_openRedirect(J,W,de,He){var Tt=this;return(0,ie.Z)(function*(){return yield Tt.selectUnderlyingResolver(),Tt.assertedUnderlyingResolver._openRedirect(J,W,de,He)})()}_isIframeWebStorageSupported(J,W){this.assertedUnderlyingResolver._isIframeWebStorageSupported(J,W)}_originValidation(J){return this.assertedUnderlyingResolver._originValidation(J)}get _shouldInitProactively(){return we()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var J=this;return(0,ie.Z)(function*(){if(J.underlyingResolver)return;const W=yield function Oe(){return Ke.apply(this,arguments)}();J.underlyingResolver=W?J.cordovaResolver:J.browserResolver})()}}function An($){return $.unwrap()}function ti($){return Si($)}function Si($){const{_tokenResponse:J}=$ instanceof yt.ZR?$.customData:$;if(!J)return null;if(!($ instanceof yt.ZR)&&"temporaryProof"in J&&"phoneNumber"in J)return ae.P.credentialFromResult($);const W=J.providerId;if(!W||W===ae.p.PASSWORD)return null;let de;switch(W){case ae.p.GOOGLE:de=ae.W;break;case ae.p.FACEBOOK:de=ae.V;break;case ae.p.GITHUB:de=ae.X;break;case ae.p.TWITTER:de=ae._;break;default:const{oauthIdToken:He,oauthAccessToken:Tt,oauthTokenSecret:vt,pendingToken:en,nonce:ii}=J;return Tt||vt||He||en?en?W.startsWith("saml.")?ae.aP._create(W,en):ae.M._fromParams({providerId:W,signInMethod:W,pendingToken:en,idToken:He,accessToken:Tt}):new ae.Y(W).credential({idToken:He,accessToken:Tt,rawNonce:ii}):null}return $ instanceof yt.ZR?de.credentialFromError($):de.credentialFromResult($)}function Oi($,J){return J.catch(W=>{throw W instanceof yt.ZR&&function Oa($,J){var W;const de=null===(W=J.customData)||void 0===W?void 0:W._tokenResponse;if("auth/multi-factor-auth-required"===J?.code)J.resolver=new fo($,ae.ar($,J));else if(de){const He=Si(J),Tt=J;He&&(Tt.credential=He,Tt.tenantId=de.tenantId||void 0,Tt.email=de.email||void 0,Tt.phoneNumber=de.phoneNumber||void 0)}}($,W),W}).then(W=>{const He=W.user;return{operationType:W.operationType,credential:ti(W),additionalUserInfo:ae.ap(W),user:Dr.getOrCreate(He)}})}function ho($,J){return xs.apply(this,arguments)}function xs(){return(xs=(0,ie.Z)(function*($,J){const W=yield J;return{verificationId:W.verificationId,confirm:de=>Oi($,W.confirm(de))}})).apply(this,arguments)}class fo{constructor(J,W){this.resolver=W,this.auth=function qn($){return $.wrapped()}(J)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(J){return Oi(An(this.auth),this.resolver.resolveSignIn(J))}}class Dr{constructor(J){this._delegate=J,this.multiFactor=ae.as(J)}static getOrCreate(J){return Dr.USER_MAP.has(J)||Dr.USER_MAP.set(J,new Dr(J)),Dr.USER_MAP.get(J)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(J){return this._delegate.getIdTokenResult(J)}getIdToken(J){return this._delegate.getIdToken(J)}linkAndRetrieveDataWithCredential(J){return this.linkWithCredential(J)}linkWithCredential(J){var W=this;return(0,ie.Z)(function*(){return Oi(W.auth,ae.a1(W._delegate,J))})()}linkWithPhoneNumber(J,W){var de=this;return(0,ie.Z)(function*(){return ho(de.auth,ae.l(de._delegate,J,W))})()}linkWithPopup(J){var W=this;return(0,ie.Z)(function*(){return Oi(W.auth,ae.d(W._delegate,J,oi))})()}linkWithRedirect(J){var W=this;return(0,ie.Z)(function*(){return yield mi(ae.aI(W.auth)),ae.g(W._delegate,J,oi)})()}reauthenticateAndRetrieveDataWithCredential(J){return this.reauthenticateWithCredential(J)}reauthenticateWithCredential(J){var W=this;return(0,ie.Z)(function*(){return Oi(W.auth,ae.a2(W._delegate,J))})()}reauthenticateWithPhoneNumber(J,W){return ho(this.auth,ae.r(this._delegate,J,W))}reauthenticateWithPopup(J){return Oi(this.auth,ae.e(this._delegate,J,oi))}reauthenticateWithRedirect(J){var W=this;return(0,ie.Z)(function*(){return yield mi(ae.aI(W.auth)),ae.h(W._delegate,J,oi)})()}sendEmailVerification(J){return ae.af(this._delegate,J)}unlink(J){var W=this;return(0,ie.Z)(function*(){return yield ae.ao(W._delegate,J),W})()}updateEmail(J){return ae.ak(this._delegate,J)}updatePassword(J){return ae.al(this._delegate,J)}updatePhoneNumber(J){return ae.u(this._delegate,J)}updateProfile(J){return ae.aj(this._delegate,J)}verifyBeforeUpdateEmail(J,W){return ae.ag(this._delegate,J,W)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Dr.USER_MAP=new WeakMap;const Pi=ae.aB;let es=(()=>{class ${constructor(W,de){if(this.app=W,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:He}=W.options;Pi(He,"invalid-api-key",{appName:W.name}),Pi(He,"invalid-api-key",{appName:W.name});const Tt=typeof window<"u"?oi:void 0;this._delegate=de.initialize({options:{persistence:el(He,W.name),popupRedirectResolver:Tt}}),this._delegate._updateErrorMap(ae.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(W){this._delegate.languageCode=W}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(W){this._delegate.tenantId=W}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(W,de){ae.J(this._delegate,W,de)}applyActionCode(W){return ae.a6(this._delegate,W)}checkActionCode(W){return ae.a7(this._delegate,W)}confirmPasswordReset(W,de){return ae.a5(this._delegate,W,de)}createUserWithEmailAndPassword(W,de){var He=this;return(0,ie.Z)(function*(){return Oi(He._delegate,ae.a9(He._delegate,W,de))})()}fetchProvidersForEmail(W){return this.fetchSignInMethodsForEmail(W)}fetchSignInMethodsForEmail(W){return ae.ae(this._delegate,W)}isSignInWithEmailLink(W){return ae.ac(this._delegate,W)}getRedirectResult(){var W=this;return(0,ie.Z)(function*(){Pi(Ce(),W._delegate,"operation-not-supported-in-this-environment");const de=yield ae.j(W._delegate,oi);return de?Oi(W._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging(W){!function he($,J){(0,ae.aI)($)._logFramework(J)}(this._delegate,W)}onAuthStateChanged(W,de,He){const{next:Tt,error:vt,complete:en}=cs(W,de,He);return this._delegate.onAuthStateChanged(Tt,vt,en)}onIdTokenChanged(W,de,He){const{next:Tt,error:vt,complete:en}=cs(W,de,He);return this._delegate.onIdTokenChanged(Tt,vt,en)}sendSignInLinkToEmail(W,de){return ae.ab(this._delegate,W,de)}sendPasswordResetEmail(W,de){return ae.a4(this._delegate,W,de||void 0)}setPersistence(W){var de=this;return(0,ie.Z)(function*(){let He;switch(function Sn($,J){gi(Object.values(nt).includes(J),$,"invalid-persistence-type"),(0,yt.b$)()?gi(J!==nt.SESSION,$,"unsupported-persistence-type"):(0,yt.UG)()?gi(J===nt.NONE,$,"unsupported-persistence-type"):Ri()?gi(J===nt.NONE||J===nt.LOCAL&&(0,yt.hl)(),$,"unsupported-persistence-type"):gi(J===nt.NONE||pi(),$,"unsupported-persistence-type")}(de._delegate,W),W){case nt.SESSION:He=ae.a;break;case nt.LOCAL:He=(yield ae.aD(ae.i)._isAvailable())?ae.i:ae.b;break;case nt.NONE:He=ae.Q;break;default:return ae.aw("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(He)})()}signInAndRetrieveDataWithCredential(W){return this.signInWithCredential(W)}signInAnonymously(){return Oi(this._delegate,ae.$(this._delegate))}signInWithCredential(W){return Oi(this._delegate,ae.a0(this._delegate,W))}signInWithCustomToken(W){return Oi(this._delegate,ae.a3(this._delegate,W))}signInWithEmailAndPassword(W,de){return Oi(this._delegate,ae.aa(this._delegate,W,de))}signInWithEmailLink(W,de){return Oi(this._delegate,ae.ad(this._delegate,W,de))}signInWithPhoneNumber(W,de){return ho(this._delegate,ae.s(this._delegate,W,de))}signInWithPopup(W){var de=this;return(0,ie.Z)(function*(){return Pi(Ce(),de._delegate,"operation-not-supported-in-this-environment"),Oi(de._delegate,ae.c(de._delegate,W,oi))})()}signInWithRedirect(W){var de=this;return(0,ie.Z)(function*(){return Pi(Ce(),de._delegate,"operation-not-supported-in-this-environment"),yield mi(de._delegate),ae.f(de._delegate,W,oi)})()}updateCurrentUser(W){return this._delegate.updateCurrentUser(W)}verifyPasswordResetCode(W){return ae.a8(this._delegate,W)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=nt,$})();function cs($,J,W){let de=$;"function"!=typeof $&&({next:de,error:J,complete:W}=$);const He=de;return{next:vt=>He(vt&&Dr.getOrCreate(vt)),error:J,complete:W}}function el($,J){const W=function Qi($,J){const W=Or();if(!W)return[];const de=ae.aE(Ln,$,J);switch(W.getItem(de)){case nt.NONE:return[ae.Q];case nt.LOCAL:return[ae.i,ae.a];case nt.SESSION:return[ae.a];default:return[]}}($,J);if(typeof self<"u"&&!W.includes(ae.i)&&W.push(ae.i),typeof window<"u")for(const de of[ae.b,ae.a])W.includes(de)||W.push(de);return W.includes(ae.Q)||W.push(ae.Q),W}class Pa{constructor(){this.providerId="phone",this._delegate=new ae.P(An(ze.Z.auth()))}static credential(J,W){return ae.P.credential(J,W)}verifyPhoneNumber(J,W){return this._delegate.verifyPhoneNumber(J,W)}unwrap(){return this._delegate}}Pa.PHONE_SIGN_IN_METHOD=ae.P.PHONE_SIGN_IN_METHOD,Pa.PROVIDER_ID=ae.P.PROVIDER_ID;const Na=ae.aB;class po{constructor(J,W,de=ze.Z.app()){var He;Na(null===(He=de.options)||void 0===He?void 0:He.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new ae.R(de.auth(),J,W),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ue($){$.INTERNAL.registerComponent(new ht.wA("auth-compat",J=>{const W=J.getProvider("app-compat").getImmediate(),de=J.getProvider("auth");return new es(W,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ae.A.EMAIL_SIGNIN,PASSWORD_RESET:ae.A.PASSWORD_RESET,RECOVER_EMAIL:ae.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ae.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ae.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ae.A.VERIFY_EMAIL}},EmailAuthProvider:ae.U,FacebookAuthProvider:ae.V,GithubAuthProvider:ae.X,GoogleAuthProvider:ae.W,OAuthProvider:ae.Y,SAMLAuthProvider:ae.Z,PhoneAuthProvider:Pa,PhoneMultiFactorGenerator:ae.m,RecaptchaVerifier:po,TwitterAuthProvider:ae._,Auth:es,AuthCredential:ae.K,Error:yt.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.4.8")}(ze.Z)},168:(Jr,Wi,Yt)=>{Yt.d(Wi,{Z:()=>On});var ie=Yt(963),ze=Yt(427),ae=Yt(211),yt=Yt(383);class Ue{constructor(nn,fe){this._delegate=nn,this.firebase=fe,(0,ae._addComponent)(nn,new ze.wA("app-compat",()=>this,"PUBLIC")),this.container=nn.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nn){this._delegate.automaticDataCollectionEnabled=nn}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nn=>{this._delegate.checkDestroyed(),nn()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ae.deleteApp)(this._delegate)))}_getService(nn,fe=ae._DEFAULT_ENTRY_NAME){var Ii;this._delegate.checkDestroyed();const bn=this._delegate.container.getProvider(nn);return!bn.isInitialized()&&"EXPLICIT"===(null===(Ii=bn.getComponent())||void 0===Ii?void 0:Ii.instantiationMode)&&bn.initialize(),bn.getImmediate({identifier:fe})}_removeServiceInstance(nn,fe=ae._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nn).clearInstance(fe)}_addComponent(nn){(0,ae._addComponent)(this._delegate,nn)}_addOrOverwriteComponent(nn){(0,ae._addOrOverwriteComponent)(this._delegate,nn)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ht=new ie.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ze=function yn(){const In=function Bn(In){const nn={},fe={__esModule:!0,initializeApp:function Me(cn,st={}){const Pn=ae.initializeApp(cn,st);if((0,ie.r3)(nn,Pn.name))return nn[Pn.name];const Yn=new In(Pn,fe);return nn[Pn.name]=Yn,Yn},app:bn,registerVersion:ae.registerVersion,setLogLevel:ae.setLogLevel,onLog:ae.onLog,apps:null,SDK_VERSION:ae.SDK_VERSION,INTERNAL:{registerComponent:function Er(cn){const st=cn.name,Pn=st.replace("-compat","");if(ae._registerComponent(cn)&&"PUBLIC"===cn.type){const Yn=(Bi=bn())=>{if("function"!=typeof Bi[Pn])throw ht.create("invalid-app-argument",{appName:st});return Bi[Pn]()};void 0!==cn.serviceProps&&(0,ie.ZB)(Yn,cn.serviceProps),fe[Pn]=Yn,In.prototype[Pn]=function(...Bi){return this._getService.bind(this,st).apply(this,cn.multipleInstances?Bi:[])}}return"PUBLIC"===cn.type?fe[Pn]:null},removeApp:function Ii(cn){delete nn[cn]},useAsService:function Ki(cn,st){return"serverAuth"===st?null:st},modularAPIs:ae}};function bn(cn){if(!(0,ie.r3)(nn,cn=cn||ae._DEFAULT_ENTRY_NAME))throw ht.create("no-app",{appName:cn});return nn[cn]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function qt(){return Object.keys(nn).map(cn=>nn[cn])}}),bn.App=In,fe}(Ue);return In.INTERNAL=Object.assign(Object.assign({},In.INTERNAL),{createFirebaseNamespace:yn,extendNamespace:function nn(fe){(0,ie.ZB)(In,fe)},createSubscribe:ie.ne,ErrorFactory:ie.LL,deepExtend:ie.ZB}),In}(),rt=new yt.Yd("@firebase/app-compat");if((0,ie.jU)()&&void 0!==self.firebase){rt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const In=self.firebase.SDK_VERSION;In&&In.indexOf("LITE")>=0&&rt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const On=Ze;!function zn(In){(0,ae.registerVersion)("@firebase/app-compat","0.2.22",In)}()},211:(Jr,Wi,Yt)=>{Yt.r(Wi),Yt.d(Wi,{FirebaseError:()=>yt.ZR,SDK_VERSION:()=>ho,_DEFAULT_ENTRY_NAME:()=>Sn,_addComponent:()=>Or,_addOrOverwriteComponent:()=>Pr,_apps:()=>zi,_clearComponents:()=>ti,_components:()=>Qi,_getProvider:()=>An,_registerComponent:()=>oi,_removeServiceInstance:()=>qn,deleteApp:()=>Pi,getApp:()=>fo,getApps:()=>Dr,initializeApp:()=>xs,onLog:()=>el,registerVersion:()=>cs,setLogLevel:()=>Pa});var ie=Yt(861),ze=Yt(427),ae=Yt(383),yt=Yt(963);const Ue=(Ee,ye)=>ye.some(dt=>Ee instanceof dt);let Ti,ht;const Ze=new WeakMap,rt=new WeakMap,Pt=new WeakMap,sn=new WeakMap,zn=new WeakMap;let nn={get(Ee,ye,dt){if(Ee instanceof IDBTransaction){if("done"===ye)return rt.get(Ee);if("objectStoreNames"===ye)return Ee.objectStoreNames||Pt.get(Ee);if("store"===ye)return dt.objectStoreNames[1]?void 0:dt.objectStore(dt.objectStoreNames[0])}return Me(Ee[ye])},set:(Ee,ye,dt)=>(Ee[ye]=dt,!0),has:(Ee,ye)=>Ee instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in Ee};function bn(Ee){return"function"==typeof Ee?function Ii(Ee){return Ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yn(){return ht||(ht=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ee)?function(...ye){return Ee.apply(qt(this),ye),Me(Ze.get(this))}:function(...ye){return Me(Ee.apply(qt(this),ye))}:function(ye,...dt){const Wt=Ee.call(qt(this),ye,...dt);return Pt.set(Wt,ye.sort?ye.sort():[ye]),Me(Wt)}}(Ee):(Ee instanceof IDBTransaction&&function In(Ee){if(rt.has(Ee))return;const ye=new Promise((dt,Wt)=>{const L=()=>{Ee.removeEventListener("complete",a),Ee.removeEventListener("error",l),Ee.removeEventListener("abort",l)},a=()=>{dt(),L()},l=()=>{Wt(Ee.error||new DOMException("AbortError","AbortError")),L()};Ee.addEventListener("complete",a),Ee.addEventListener("error",l),Ee.addEventListener("abort",l)});rt.set(Ee,ye)}(Ee),Ue(Ee,function Bn(){return Ti||(Ti=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ee,nn):Ee)}function Me(Ee){if(Ee instanceof IDBRequest)return function On(Ee){const ye=new Promise((dt,Wt)=>{const L=()=>{Ee.removeEventListener("success",a),Ee.removeEventListener("error",l)},a=()=>{dt(Me(Ee.result)),L()},l=()=>{Wt(Ee.error),L()};Ee.addEventListener("success",a),Ee.addEventListener("error",l)});return ye.then(dt=>{dt instanceof IDBCursor&&Ze.set(dt,Ee)}).catch(()=>{}),zn.set(ye,Ee),ye}(Ee);if(sn.has(Ee))return sn.get(Ee);const ye=bn(Ee);return ye!==Ee&&(sn.set(Ee,ye),zn.set(ye,Ee)),ye}const qt=Ee=>zn.get(Ee),cn=["get","getKey","getAll","getAllKeys","count"],st=["put","add","delete","clear"],Pn=new Map;function Yn(Ee,ye){if(!(Ee instanceof IDBDatabase)||ye in Ee||"string"!=typeof ye)return;if(Pn.get(ye))return Pn.get(ye);const dt=ye.replace(/FromIndex$/,""),Wt=ye!==dt,L=st.includes(dt);if(!(dt in(Wt?IDBIndex:IDBObjectStore).prototype)||!L&&!cn.includes(dt))return;const a=function(){var l=(0,ie.Z)(function*(u,...h){const p=this.transaction(u,L?"readwrite":"readonly");let g=p.store;return Wt&&(g=g.index(h.shift())),(yield Promise.all([g[dt](...h),L&&p.done]))[0]});return function(h){return l.apply(this,arguments)}}();return Pn.set(ye,a),a}!function fe(Ee){nn=Ee(nn)}(Ee=>({...Ee,get:(ye,dt,Wt)=>Yn(ye,dt)||Ee.get(ye,dt,Wt),has:(ye,dt)=>!!Yn(ye,dt)||Ee.has(ye,dt)}));class Bi{constructor(ye){this.container=ye}getPlatformInfoString(){return this.container.getProviders().map(dt=>{if(function fn(Ee){const ye=Ee.getComponent();return"VERSION"===ye?.type}(dt)){const Wt=dt.getImmediate();return`${Wt.library}/${Wt.version}`}return null}).filter(dt=>dt).join(" ")}}const Hr="@firebase/app",Ht=new ae.Yd("@firebase/app"),Sn="[DEFAULT]",mi={[Hr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zi=new Map,Qi=new Map;function Or(Ee,ye){try{Ee.container.addComponent(ye)}catch(dt){Ht.debug(`Component ${ye.name} failed to register with FirebaseApp ${Ee.name}`,dt)}}function Pr(Ee,ye){Ee.container.addOrOverwriteComponent(ye)}function oi(Ee){const ye=Ee.name;if(Qi.has(ye))return Ht.debug(`There were multiple attempts to register component ${ye}.`),!1;Qi.set(ye,Ee);for(const dt of zi.values())Or(dt,Ee);return!0}function An(Ee,ye){const dt=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return dt&&dt.triggerHeartbeat(),Ee.container.getProvider(ye)}function qn(Ee,ye,dt=Sn){An(Ee,ye).clearInstance(dt)}function ti(){Qi.clear()}const Si=new yt.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Oi{constructor(ye,dt,Wt){this._isDeleted=!1,this._options=Object.assign({},ye),this._config=Object.assign({},dt),this._name=dt.name,this._automaticDataCollectionEnabled=dt.automaticDataCollectionEnabled,this._container=Wt,this.container.addComponent(new ze.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ye){this._isDeleted=ye}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}const ho="10.5.2";function xs(Ee,ye={}){let dt=Ee;"object"!=typeof ye&&(ye={name:ye});const Wt=Object.assign({name:Sn,automaticDataCollectionEnabled:!1},ye),L=Wt.name;if("string"!=typeof L||!L)throw Si.create("bad-app-name",{appName:String(L)});if(dt||(dt=(0,yt.aH)()),!dt)throw Si.create("no-options");const a=zi.get(L);if(a){if((0,yt.vZ)(dt,a.options)&&(0,yt.vZ)(Wt,a.config))return a;throw Si.create("duplicate-app",{appName:L})}const l=new ze.H0(L);for(const h of Qi.values())l.addComponent(h);const u=new Oi(dt,Wt,l);return zi.set(L,u),u}function fo(Ee=Sn){const ye=zi.get(Ee);if(!ye&&Ee===Sn&&(0,yt.aH)())return xs();if(!ye)throw Si.create("no-app",{appName:Ee});return ye}function Dr(){return Array.from(zi.values())}function Pi(Ee){return es.apply(this,arguments)}function es(){return(es=(0,ie.Z)(function*(Ee){const ye=Ee.name;zi.has(ye)&&(zi.delete(ye),yield Promise.all(Ee.container.getProviders().map(dt=>dt.delete())),Ee.isDeleted=!0)})).apply(this,arguments)}function cs(Ee,ye,dt){var Wt;let L=null!==(Wt=mi[Ee])&&void 0!==Wt?Wt:Ee;dt&&(L+=`-${dt}`);const a=L.match(/\s|\//),l=ye.match(/\s|\//);if(a||l){const u=[`Unable to register library "${L}" with version "${ye}":`];return a&&u.push(`library name "${L}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${ye}" contains illegal characters (whitespace or "/")`),void Ht.warn(u.join(" "))}oi(new ze.wA(`${L}-version`,()=>({library:L,version:ye}),"VERSION"))}function el(Ee,ye){if(null!==Ee&&"function"!=typeof Ee)throw Si.create("invalid-log-argument");(0,ae.Am)(Ee,ye)}function Pa(Ee){(0,ae.Ub)(Ee)}const Na="firebase-heartbeat-database",po=1,ge="firebase-heartbeat-store";let ue=null;function $(){return ue||(ue=function Er(Ee,ye,{blocked:dt,upgrade:Wt,blocking:L,terminated:a}={}){const l=indexedDB.open(Ee,ye),u=Me(l);return Wt&&l.addEventListener("upgradeneeded",h=>{Wt(Me(l.result),h.oldVersion,h.newVersion,Me(l.transaction),h)}),dt&&l.addEventListener("blocked",h=>dt(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),L&&h.addEventListener("versionchange",p=>L(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}(Na,po,{upgrade:(Ee,ye)=>{0===ye&&Ee.createObjectStore(ge)}}).catch(Ee=>{throw Si.create("idb-open",{originalErrorMessage:Ee.message})})),ue}function W(){return(W=(0,ie.Z)(function*(Ee){try{return yield(yield $()).transaction(ge).objectStore(ge).get(Tt(Ee))}catch(ye){if(ye instanceof yt.ZR)Ht.warn(ye.message);else{const dt=Si.create("idb-get",{originalErrorMessage:ye?.message});Ht.warn(dt.message)}}})).apply(this,arguments)}function de(Ee,ye){return He.apply(this,arguments)}function He(){return(He=(0,ie.Z)(function*(Ee,ye){try{const Wt=(yield $()).transaction(ge,"readwrite");yield Wt.objectStore(ge).put(ye,Tt(Ee)),yield Wt.done}catch(dt){if(dt instanceof yt.ZR)Ht.warn(dt.message);else{const Wt=Si.create("idb-set",{originalErrorMessage:dt?.message});Ht.warn(Wt.message)}}})).apply(this,arguments)}function Tt(Ee){return`${Ee.name}!${Ee.options.appId}`}class ii{constructor(ye){this.container=ye,this._heartbeatsCache=null;const dt=this.container.getProvider("app").getImmediate();this._storage=new Gt(dt),this._heartbeatsCachePromise=this._storage.read().then(Wt=>(this._heartbeatsCache=Wt,Wt))}triggerHeartbeat(){var ye=this;return(0,ie.Z)(function*(){const Wt=ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),L=Ct();if(null===ye._heartbeatsCache&&(ye._heartbeatsCache=yield ye._heartbeatsCachePromise),ye._heartbeatsCache.lastSentHeartbeatDate!==L&&!ye._heartbeatsCache.heartbeats.some(a=>a.date===L))return ye._heartbeatsCache.heartbeats.push({date:L,agent:Wt}),ye._heartbeatsCache.heartbeats=ye._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),ye._storage.overwrite(ye._heartbeatsCache)})()}getHeartbeatsHeader(){var ye=this;return(0,ie.Z)(function*(){if(null===ye._heartbeatsCache&&(yield ye._heartbeatsCachePromise),null===ye._heartbeatsCache||0===ye._heartbeatsCache.heartbeats.length)return"";const dt=Ct(),{heartbeatsToSend:Wt,unsentEntries:L}=function _i(Ee,ye=1024){const dt=[];let Wt=Ee.slice();for(const L of Ee){const a=dt.find(l=>l.agent===L.agent);if(a){if(a.dates.push(L.date),Tr(dt)>ye){a.dates.pop();break}}else if(dt.push({agent:L.agent,dates:[L.date]}),Tr(dt)>ye){dt.pop();break}Wt=Wt.slice(1)}return{heartbeatsToSend:dt,unsentEntries:Wt}}(ye._heartbeatsCache.heartbeats),a=(0,yt.L)(JSON.stringify({version:2,heartbeats:Wt}));return ye._heartbeatsCache.lastSentHeartbeatDate=dt,L.length>0?(ye._heartbeatsCache.heartbeats=L,yield ye._storage.overwrite(ye._heartbeatsCache)):(ye._heartbeatsCache.heartbeats=[],ye._storage.overwrite(ye._heartbeatsCache)),a})()}}function Ct(){return(new Date).toISOString().substring(0,10)}class Gt{constructor(ye){this.app=ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,ie.Z)(function*(){return!!(0,yt.hl)()&&(0,yt.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ye=this;return(0,ie.Z)(function*(){return(yield ye._canUseIndexedDBPromise)&&(yield function J(Ee){return W.apply(this,arguments)}(ye.app))||{heartbeats:[]}})()}overwrite(ye){var dt=this;return(0,ie.Z)(function*(){var Wt;if(yield dt._canUseIndexedDBPromise){const a=yield dt.read();return de(dt.app,{lastSentHeartbeatDate:null!==(Wt=ye.lastSentHeartbeatDate)&&void 0!==Wt?Wt:a.lastSentHeartbeatDate,heartbeats:ye.heartbeats})}})()}add(ye){var dt=this;return(0,ie.Z)(function*(){var Wt;if(yield dt._canUseIndexedDBPromise){const a=yield dt.read();return de(dt.app,{lastSentHeartbeatDate:null!==(Wt=ye.lastSentHeartbeatDate)&&void 0!==Wt?Wt:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...ye.heartbeats]})}})()}}function Tr(Ee){return(0,yt.L)(JSON.stringify({version:2,heartbeats:Ee})).length}!function tl(Ee){oi(new ze.wA("platform-logger",ye=>new Bi(ye),"PRIVATE")),oi(new ze.wA("heartbeat",ye=>new ii(ye),"PRIVATE")),cs(Hr,"0.9.22",Ee),cs(Hr,"0.9.22","esm2017"),cs("fire-js","")}("")},427:(Jr,Wi,Yt)=>{Yt.d(Wi,{H0:()=>Bn,wA:()=>ae,zt:()=>Ue});var ie=Yt(861),ze=Yt(963);class ae{constructor(Ze,rt,Pt){this.name=Ze,this.instanceFactory=rt,this.type=Pt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ze){return this.instantiationMode=Ze,this}setMultipleInstances(Ze){return this.multipleInstances=Ze,this}setServiceProps(Ze){return this.serviceProps=Ze,this}setInstanceCreatedCallback(Ze){return this.onInstanceCreated=Ze,this}}const yt="[DEFAULT]";class Ue{constructor(Ze,rt){this.name=Ze,this.container=rt,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ze){const rt=this.normalizeInstanceIdentifier(Ze);if(!this.instancesDeferred.has(rt)){const Pt=new ze.BH;if(this.instancesDeferred.set(rt,Pt),this.isInitialized(rt)||this.shouldAutoInitialize())try{const sn=this.getOrInitializeService({instanceIdentifier:rt});sn&&Pt.resolve(sn)}catch{}}return this.instancesDeferred.get(rt).promise}getImmediate(Ze){var rt;const Pt=this.normalizeInstanceIdentifier(Ze?.identifier),sn=null!==(rt=Ze?.optional)&&void 0!==rt&&rt;if(!this.isInitialized(Pt)&&!this.shouldAutoInitialize()){if(sn)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pt})}catch(zn){if(sn)return null;throw zn}}getComponent(){return this.component}setComponent(Ze){if(Ze.name!==this.name)throw Error(`Mismatching Component ${Ze.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ze,this.shouldAutoInitialize()){if(function ht(yn){return"EAGER"===yn.instantiationMode}(Ze))try{this.getOrInitializeService({instanceIdentifier:yt})}catch{}for(const[rt,Pt]of this.instancesDeferred.entries()){const sn=this.normalizeInstanceIdentifier(rt);try{const zn=this.getOrInitializeService({instanceIdentifier:sn});Pt.resolve(zn)}catch{}}}}clearInstance(Ze=yt){this.instancesDeferred.delete(Ze),this.instancesOptions.delete(Ze),this.instances.delete(Ze)}delete(){var Ze=this;return(0,ie.Z)(function*(){const rt=Array.from(Ze.instances.values());yield Promise.all([...rt.filter(Pt=>"INTERNAL"in Pt).map(Pt=>Pt.INTERNAL.delete()),...rt.filter(Pt=>"_delete"in Pt).map(Pt=>Pt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ze=yt){return this.instances.has(Ze)}getOptions(Ze=yt){return this.instancesOptions.get(Ze)||{}}initialize(Ze={}){const{options:rt={}}=Ze,Pt=this.normalizeInstanceIdentifier(Ze.instanceIdentifier);if(this.isInitialized(Pt))throw Error(`${this.name}(${Pt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const sn=this.getOrInitializeService({instanceIdentifier:Pt,options:rt});for(const[zn,On]of this.instancesDeferred.entries())Pt===this.normalizeInstanceIdentifier(zn)&&On.resolve(sn);return sn}onInit(Ze,rt){var Pt;const sn=this.normalizeInstanceIdentifier(rt),zn=null!==(Pt=this.onInitCallbacks.get(sn))&&void 0!==Pt?Pt:new Set;zn.add(Ze),this.onInitCallbacks.set(sn,zn);const On=this.instances.get(sn);return On&&Ze(On,sn),()=>{zn.delete(Ze)}}invokeOnInitCallbacks(Ze,rt){const Pt=this.onInitCallbacks.get(rt);if(Pt)for(const sn of Pt)try{sn(Ze,rt)}catch{}}getOrInitializeService({instanceIdentifier:Ze,options:rt={}}){let Pt=this.instances.get(Ze);if(!Pt&&this.component&&(Pt=this.component.instanceFactory(this.container,{instanceIdentifier:(yn=Ze,yn===yt?void 0:yn),options:rt}),this.instances.set(Ze,Pt),this.instancesOptions.set(Ze,rt),this.invokeOnInitCallbacks(Pt,Ze),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ze,Pt)}catch{}var yn;return Pt||null}normalizeInstanceIdentifier(Ze=yt){return this.component?this.component.multipleInstances?Ze:yt:Ze}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Bn{constructor(Ze){this.name=Ze,this.providers=new Map}addComponent(Ze){const rt=this.getProvider(Ze.name);if(rt.isComponentSet())throw new Error(`Component ${Ze.name} has already been registered with ${this.name}`);rt.setComponent(Ze)}addOrOverwriteComponent(Ze){this.getProvider(Ze.name).isComponentSet()&&this.providers.delete(Ze.name),this.addComponent(Ze)}getProvider(Ze){if(this.providers.has(Ze))return this.providers.get(Ze);const rt=new Ue(Ze,this);return this.providers.set(Ze,rt),rt}getProviders(){return Array.from(this.providers.values())}}},383:(Jr,Wi,Yt)=>{Yt.d(Wi,{Am:()=>yn,Ub:()=>Bn,Yd:()=>ht,in:()=>ze});const ie=[];var ze=function(Ze){return Ze[Ze.DEBUG=0]="DEBUG",Ze[Ze.VERBOSE=1]="VERBOSE",Ze[Ze.INFO=2]="INFO",Ze[Ze.WARN=3]="WARN",Ze[Ze.ERROR=4]="ERROR",Ze[Ze.SILENT=5]="SILENT",Ze}(ze||{});const ae={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},yt=ze.INFO,Ue={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},Ti=(Ze,rt,...Pt)=>{if(rt<Ze.logLevel)return;const sn=(new Date).toISOString(),zn=Ue[rt];if(!zn)throw new Error(`Attempted to log a message with an invalid logType (value: ${rt})`);console[zn](`[${sn}]  ${Ze.name}:`,...Pt)};class ht{constructor(rt){this.name=rt,this._logLevel=yt,this._logHandler=Ti,this._userLogHandler=null,ie.push(this)}get logLevel(){return this._logLevel}set logLevel(rt){if(!(rt in ze))throw new TypeError(`Invalid value "${rt}" assigned to \`logLevel\``);this._logLevel=rt}setLogLevel(rt){this._logLevel="string"==typeof rt?ae[rt]:rt}get logHandler(){return this._logHandler}set logHandler(rt){if("function"!=typeof rt)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=rt}get userLogHandler(){return this._userLogHandler}set userLogHandler(rt){this._userLogHandler=rt}debug(...rt){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...rt),this._logHandler(this,ze.DEBUG,...rt)}log(...rt){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...rt),this._logHandler(this,ze.VERBOSE,...rt)}info(...rt){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...rt),this._logHandler(this,ze.INFO,...rt)}warn(...rt){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...rt),this._logHandler(this,ze.WARN,...rt)}error(...rt){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...rt),this._logHandler(this,ze.ERROR,...rt)}}function Bn(Ze){ie.forEach(rt=>{rt.setLogLevel(Ze)})}function yn(Ze,rt){for(const Pt of ie){let sn=null;rt&&rt.level&&(sn=ae[rt.level]),Pt.userLogHandler=null===Ze?null:(zn,On,...In)=>{const nn=In.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch{return null}}).filter(fe=>fe).join(" ");On>=(sn??zn.logLevel)&&Ze({level:ze[On].toLowerCase(),message:nn,args:In,type:zn.name})}}}},861:(Jr,Wi,Yt)=>{function ie(ae,yt,Ue,Ti,ht,Bn,yn){try{var Ze=ae[Bn](yn),rt=Ze.value}catch(Pt){return void Ue(Pt)}Ze.done?yt(rt):Promise.resolve(rt).then(Ti,ht)}function ze(ae){return function(){var yt=this,Ue=arguments;return new Promise(function(Ti,ht){var Bn=ae.apply(yt,Ue);function yn(rt){ie(Bn,Ti,ht,yn,Ze,"next",rt)}function Ze(rt){ie(Bn,Ti,ht,yn,Ze,"throw",rt)}yn(void 0)})}}Yt.d(Wi,{Z:()=>ze})},582:(Jr,Wi,Yt)=>{Yt.d(Wi,{FC:()=>qt,KL:()=>Ki,_T:()=>yt,mG:()=>Pt,pi:()=>ae,qq:()=>Me});var ae=function(){return ae=Object.assign||function(Ne){for(var he,Ae=1,Je=arguments.length;Ae<Je;Ae++)for(var We in he=arguments[Ae])Object.prototype.hasOwnProperty.call(he,We)&&(Ne[We]=he[We]);return Ne},ae.apply(this,arguments)};function yt(ke,Ne){var he={};for(var Ae in ke)Object.prototype.hasOwnProperty.call(ke,Ae)&&Ne.indexOf(Ae)<0&&(he[Ae]=ke[Ae]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(Ae=Object.getOwnPropertySymbols(ke);Je<Ae.length;Je++)Ne.indexOf(Ae[Je])<0&&Object.prototype.propertyIsEnumerable.call(ke,Ae[Je])&&(he[Ae[Je]]=ke[Ae[Je]])}return he}function Pt(ke,Ne,he,Ae){return new(he||(he=Promise))(function(We,at){function pn(xn){try{Bt(Ae.next(xn))}catch(bi){at(bi)}}function $e(xn){try{Bt(Ae.throw(xn))}catch(bi){at(bi)}}function Bt(xn){xn.done?We(xn.value):function Je(We){return We instanceof he?We:new he(function(at){at(We)})}(xn.value).then(pn,$e)}Bt((Ae=Ae.apply(ke,Ne||[])).next())})}function Me(ke){return this instanceof Me?(this.v=ke,this):new Me(ke)}function qt(ke,Ne,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Ae=he.apply(ke,Ne||[]),We=[];return Je={},at("next"),at("throw"),at("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function at(Hn){Ae[Hn]&&(Je[Hn]=function(pi){return new Promise(function(Ri,Ce){We.push([Hn,pi,Ri,Ce])>1||pn(Hn,pi)})})}function pn(Hn,pi){try{!function $e(Hn){Hn.value instanceof Me?Promise.resolve(Hn.value.v).then(Bt,xn):bi(We[0][2],Hn)}(Ae[Hn](pi))}catch(Ri){bi(We[0][3],Ri)}}function Bt(Hn){pn("next",Hn)}function xn(Hn){pn("throw",Hn)}function bi(Hn,pi){Hn(pi),We.shift(),We.length&&pn(We[0][0],We[0][1])}}function Ki(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,Ne=ke[Symbol.asyncIterator];return Ne?Ne.call(ke):(ke=function In(ke){var Ne="function"==typeof Symbol&&Symbol.iterator,he=Ne&&ke[Ne],Ae=0;if(he)return he.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&Ae>=ke.length&&(ke=void 0),{value:ke&&ke[Ae++],done:!ke}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),he={},Ae("next"),Ae("throw"),Ae("return"),he[Symbol.asyncIterator]=function(){return this},he);function Ae(We){he[We]=ke[We]&&function(at){return new Promise(function(pn,$e){!function Je(We,at,pn,$e){Promise.resolve($e).then(function(Bt){We({value:Bt,done:pn})},at)}(pn,$e,(at=ke[We](at)).done,at.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},Jr=>{var Wi=ie=>Jr(Jr.s=ie);Wi(614),Wi(182)}]);