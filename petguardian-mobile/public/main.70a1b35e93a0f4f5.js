"use strict";(self.webpackChunkpetguardian_mobile=self.webpackChunkpetguardian_mobile||[]).push([[179],{144:(Kr,Wi,$t)=>{function re(n){return"function"==typeof n}function Be(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ae=Be(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function bt(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Ge{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(re(i))try{i()}catch(s){t=s instanceof ae?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{Vn(s)}catch(o){t=t??[],o instanceof ae?t=[...t,...o.errors]:t.push(o)}}if(t)throw new ae(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Vn(t);else{if(t instanceof Ge){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&bt(e,t)}remove(t){const{_finalizers:e}=this;e&&bt(e,t),t instanceof Ge&&t._removeParent(this)}}Ge.EMPTY=(()=>{const n=new Ge;return n.closed=!0,n})();const Ti=Ge.EMPTY;function ut(n){return n instanceof Ge||n&&"closed"in n&&re(n.remove)&&re(n.add)&&re(n.unsubscribe)}function Vn(n){re(n)?n():n.unsubscribe()}const bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ze={setTimeout(n,t,...e){const{delegate:i}=Ze;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Ze;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ot(n){Ze.setTimeout(()=>{const{onUnhandledError:t}=bn;if(!t)throw n;t(n)})}function Pt(){}const on=Dn("C",void 0,void 0);function Dn(n,t,e){return{kind:n,value:t,error:e}}let rn=null;function pe(n){if(bn.useDeprecatedSynchronousErrorHandling){const t=!rn;if(t&&(rn={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=rn;if(rn=null,e)throw i}}else n()}class xn extends Ge{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ut(t)&&t.add(this)):this.destination=$n}static create(t,e,i){return new qi(t,e,i)}next(t){this.isStopped?Mn(function kn(n){return Dn("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Mn(function Bn(n){return Dn("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Mn(on,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function Yt(n,t){return Re.call(n,t)}class br{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){cn(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){cn(i)}else cn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){cn(e)}}}class qi extends xn{constructor(t,e,i){let r;if(super(),re(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&bn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Yt(t.next,s),error:t.error&&Yt(t.error,s),complete:t.complete&&Yt(t.complete,s)}):r=t}this.destination=new br(r)}}function cn(n){bn.useDeprecatedSynchronousErrorHandling?function Ii(n){bn.useDeprecatedSynchronousErrorHandling&&rn&&(rn.errorThrown=!0,rn.error=n)}(n):ot(n)}function Mn(n,t){const{onStoppedNotification:e}=bn;e&&Ze.setTimeout(()=>e(n,t))}const $n={closed:!0,next:Pt,error:function at(n){throw n},complete:Pt},Bi="function"==typeof Symbol&&Symbol.observable||"@@observable";function fn(n){return n}function os(n){return 0===n.length?fn:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let zt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function Me(n){return n&&n instanceof xn||function Vr(n){return n&&re(n.next)&&re(n.error)&&re(n.complete)}(n)&&ut(n)}(e)?e:new qi(e,i,r);return pe(()=>{const{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=fr(i))((r,s)=>{const o=new qi({next:c=>{try{e(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Bi](){return this}pipe(...e){return os(e)(this)}toPromise(e){return new(e=fr(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function fr(n){var t;return null!==(t=n??bn.Promise)&&void 0!==t?t:Promise}const Fe=Be(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ve=(()=>{class n extends zt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Ae(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Fe}next(e){pe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){pe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){pe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Ti:(this.currentObservers=null,s.push(e),new Ge(()=>{this.currentObservers=null,bt(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new zt;return e.source=this,e}}return n.create=(t,e)=>new Ae(t,e),n})();class Ae extends ve{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Ti}}function et(n){return re(n?.lift)}function Ue(n){return t=>{if(et(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(n,t,e,i,r){return new pn(n,t,e,i,r)}class pn extends xn{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(c){try{e(c)}catch(u){t.error(u)}}:super._next,this._error=r?function(c){try{r(c)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ye(n,t){return Ue((e,i)=>{let r=0;e.subscribe(ct(i,s=>{i.next(n.call(t,s,r++))}))})}var Vt=$t(582);const wn=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function wi(n){return re(n?.then)}function zn(n){return re(n[Bi])}function gi(n){return Symbol.asyncIterator&&re(n?.[Symbol.asyncIterator])}function Ri(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const we=function Ce(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ne(n){return re(n?.[we])}function Qe(n){return(0,Vt.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Vt.qq)(e.read());if(r)return yield(0,Vt.qq)(void 0);yield yield(0,Vt.qq)(i)}}finally{e.releaseLock()}})}function mt(n){return re(n?.getReader)}function rt(n){if(n instanceof zt)return n;if(null!=n){if(zn(n))return function mi(n){return new zt(t=>{const e=n[Bi]();if(re(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(wn(n))return function Nn(n){return new zt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(wi(n))return function Tn(n){return new zt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,ot)})}(n);if(gi(n))return zi(n);if(Ne(n))return function _i(n){return new zt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(mt(n))return function Xi(n){return zi(Qe(n))}(n)}throw Ri(n)}function zi(n){return new zt(t=>{(function kr(n,t){var e,i,r,s;return(0,Vt.mG)(this,void 0,void 0,function*(){try{for(e=(0,Vt.KL)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Mr(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function In(n,t,e=1/0){return re(t)?In((i,r)=>Ye((s,o)=>t(i,s,r,o))(rt(n(i,r))),e):("number"==typeof t&&(e=t),Ue((i,r)=>function ai(n,t,e,i,r,s,o,c){const u=[];let f=0,_=0,x=!1;const T=()=>{x&&!u.length&&!f&&t.complete()},R=B=>f<i?F(B):u.push(B),F=B=>{s&&t.next(B),f++;let j=!1;rt(e(B,_++)).subscribe(ct(t,oe=>{r?.(oe),s?R(oe):t.next(oe)},()=>{j=!0},void 0,()=>{if(j)try{for(f--;u.length&&f<i;){const oe=u.shift();o?Mr(t,o,()=>F(oe)):F(oe)}T()}catch(oe){t.error(oe)}}))};return n.subscribe(ct(t,R,()=>{x=!0,T()})),()=>{c?.()}}(i,r,n,e)))}function Yn(n=1/0){return In(fn,n)}const ti=new zt(n=>n.complete());function Oi(n){return n&&re(n.schedule)}function ho(n){return n[n.length-1]}function bs(n){return re(ho(n))?n.pop():void 0}function fo(n){return Oi(ho(n))?n.pop():void 0}function Pi(n,t=0){return Ue((e,i)=>{e.subscribe(ct(i,r=>Mr(i,n,()=>i.next(r),t),()=>Mr(i,n,()=>i.complete(),t),r=>Mr(i,n,()=>i.error(r),t)))})}function Qr(n,t=0){return Ue((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function po(n,t){if(!n)throw new Error("Iterable cannot be null");return new zt(e=>{Mr(e,t,()=>{const i=n[Symbol.asyncIterator]();Mr(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Y(n,t){return t?function ue(n,t){if(null!=n){if(zn(n))return function as(n,t){return rt(n).pipe(Qr(t),Pi(t))}(n,t);if(wn(n))return function Aa(n,t){return new zt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(wi(n))return function Xa(n,t){return rt(n).pipe(Qr(t),Pi(t))}(n,t);if(gi(n))return po(n,t);if(Ne(n))return function ka(n,t){return new zt(e=>{let i;return Mr(e,t,()=>{i=n[we](),Mr(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>re(i?.return)&&i.return()})}(n,t);if(mt(n))return function ge(n,t){return po(Qe(n),t)}(n,t)}throw Ri(n)}(n,t):rt(n)}function J(...n){const t=fo(n),e=function xr(n,t){return"number"==typeof ho(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?rt(i[0]):Yn(e)(Y(i,t)):ti}class G extends ve{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function he(...n){return Y(n,fo(n))}function ze(n={}){const{connector:t=(()=>new ve),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,c,u,f=0,_=!1,x=!1;const T=()=>{c?.unsubscribe(),c=void 0},R=()=>{T(),o=u=void 0,_=x=!1},F=()=>{const B=o;R(),B?.unsubscribe()};return Ue((B,j)=>{f++,!x&&!_&&T();const oe=u=u??t();j.add(()=>{f--,0===f&&!x&&!_&&(c=St(F,r))}),oe.subscribe(j),!o&&f>0&&(o=new qi({next:ee=>oe.next(ee),error:ee=>{x=!0,T(),c=St(R,e,ee),oe.error(ee)},complete:()=>{_=!0,T(),c=St(R,i),oe.complete()}}),rt(B).subscribe(o))})(s)}}function St(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new qi({next:()=>{i.unsubscribe(),n()}});return rt(t(...e)).subscribe(i)}function vt(n,t){return Ue((e,i)=>{let r=null,s=0,o=!1;const c=()=>o&&!r&&i.complete();e.subscribe(ct(i,u=>{r?.unsubscribe();let f=0;const _=s++;rt(n(u,_)).subscribe(r=ct(i,x=>i.next(t?t(u,x,_,f++):x),()=>{r=null,c()}))},()=>{o=!0,c()}))})}function tn(n,t=fn){return n=n??ri,Ue((e,i)=>{let r,s=!0;e.subscribe(ct(i,o=>{const c=t(o);(s||!n(r,c))&&(s=!1,r=c,i.next(o))}))})}function ri(n,t){return n===t}function Dt(n){for(let t in n)if(n[t]===Dt)return t;throw Error("Could not find renamed property on target object.")}function vi(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Wt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Wt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function wr(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Za=Dt({__forward_ref__:Dt});function Ee(n){return n.__forward_ref__=Ee,n.toString=function(){return Wt(this())},n}function be(n){return dt(n)?n():n}function dt(n){return"function"==typeof n&&n.hasOwnProperty(Za)&&n.__forward_ref__===Ee}function jt(n){return n&&!!n.\u0275providers}const a="https://g.co/ng/security#xss";class l extends Error{constructor(t,e){super(function d(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function h(n){return"string"==typeof n?n:null==n?"":String(n)}function w(n,t){throw new l(-201,!1)}function Q(n,t){null==n&&function q(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function xt(n){return Sn(n,si)||Sn(n,xs)}function Sn(n,t){return n.hasOwnProperty(t)?n[t]:null}function Ci(n){return n&&(n.hasOwnProperty(Hi)||n.hasOwnProperty(Ka))?n[Hi]:null}const si=Dt({\u0275prov:Dt}),Hi=Dt({\u0275inj:Dt}),xs=Dt({ngInjectableDef:Dt}),Ka=Dt({ngInjectorDef:Dt});var mn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(mn||{});let Ma;function hi(n){const t=Ma;return Ma=n,t}function bc(n,t,e){const i=xt(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&mn.Optional?null:void 0!==t?t:void w(Wt(n))}const Ai=globalThis;class je{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ce({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const wc={},t_="__NG_DI_FLAG__",md="ngTempTokenPath",n_=/\n/gm,$0="__source";let Ol;function Pl(n){const t=Ol;return Ol=n,t}function MT(n,t=mn.Default){if(void 0===Ol)throw new l(-203,!1);return null===Ol?bc(n,void 0,t):Ol.get(n,t&mn.Optional?null:void 0,t)}function fe(n,t=mn.Default){return(function Br(){return Ma}()||MT)(be(n),t)}function He(n,t=mn.Default){return fe(n,Uo(t))}function Uo(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Nl(n){const t=[];for(let e=0;e<n.length;e++){const i=be(n[e]);if(Array.isArray(i)){if(0===i.length)throw new l(900,!1);let r,s=mn.Default;for(let o=0;o<i.length;o++){const c=i[o],u=OT(c);"number"==typeof u?-1===u?r=c.token:s|=u:r=c}t.push(fe(r,s))}else t.push(fe(i))}return t}function Ja(n,t){return n[t_]=t,n.prototype[t_]=t,n}function OT(n){return n[t_]}function el(n){return{toString:n}.toString()}var tl=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(tl||{}),jo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(jo||{});const go={},li=[],Gu=Dt({\u0275cmp:Dt}),$u=Dt({\u0275dir:Dt}),Xs=Dt({\u0275pipe:Dt}),i_=Dt({\u0275mod:Dt}),nl=Dt({\u0275fac:Dt}),Ec=Dt({__NG_ELEMENT_ID__:Dt}),Yu=Dt({__NG_ENV_ID__:Dt});function r_(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function Ff(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],c=e[i++];n.setAttribute(t,o,c,s)}else{const s=r,o=e[++i];Vf(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function Y0(n){return 3===n||4===n||6===n}function Vf(n){return 64===n.charCodeAt(0)}function Dc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Bf(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Bf(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const c=n[s++];if("number"==typeof c){if(c===t){o=-1;break}if(c>t){o=s-1;break}}}for(;s<n.length;){const c=n[s];if("number"==typeof c)break;if(c===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const qu="ng-template";function s_(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==r_(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function o_(n){return 4===n.type&&n.value!==qu}function a_(n,t,e){return t===(4!==n.type||e?n.value:qu)}function q0(n,t,e){let i=4;const r=n.attrs||[],s=function l_(n){for(let t=0;t<n.length;t++)if(Y0(n[t]))return t;return n.length}(r);let o=!1;for(let c=0;c<t.length;c++){const u=t[c];if("number"!=typeof u){if(!o)if(4&i){if(i=2|1&i,""!==u&&!a_(n,u,e)||""===u&&1===t.length){if(mo(i))return!1;o=!0}}else{const f=8&i?u:t[++c];if(8&i&&null!==n.attrs){if(!s_(n.attrs,f,e)){if(mo(i))return!1;o=!0}continue}const x=zf(8&i?"class":u,r,o_(n),e);if(-1===x){if(mo(i))return!1;o=!0;continue}if(""!==f){let T;T=x>s?"":r[x+1].toLowerCase();const R=8&i?T:null;if(R&&-1!==r_(R,f,0)||2&i&&f!==T){if(mo(i))return!1;o=!0}}}}else{if(!o&&!mo(i)&&!mo(u))return!1;if(o&&mo(u))continue;o=!1,i=u|1&i}}return mo(i)||o}function mo(n){return 0==(1&n)}function zf(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let c=t[++r];for(;"string"==typeof c;)c=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function Z0(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Hf(n,t,e=!1){for(let i=0;i<t.length;i++)if(q0(n,t[i],e))return!0;return!1}function c_(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function K0(n,t){return n?":not("+t.trim()+")":t}function d_(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const c=n[++e];r+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!mo(o)&&(t+=K0(s,r),r=""),i=o,s=s||!mo(i);e++}return""!==r&&(t+=K0(s,r)),t}function Bt(n){return el(()=>{const t=J0(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===tl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||jo.Emulated,styles:n.styles||li,_:null,schemas:n.schemas||null,tView:null,id:""};jf(e);const i=n.dependencies;return e.directiveDefs=Wf(i,!1),e.pipeDefs=Wf(i,!0),e.id=function FT(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function f_(n){return Xn(n)||ls(n)}function Uf(n){return null!==n}function Rt(n){return el(()=>({type:n.type,bootstrap:n.bootstrap||li,declarations:n.declarations||li,imports:n.imports||li,exports:n.exports||li,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Q0(n,t){if(null==n)return go;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function $e(n){return el(()=>{const t=J0(n);return jf(t),t})}function Jr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xn(n){return n[Gu]||null}function ls(n){return n[$u]||null}function cs(n){return n[Xs]||null}function Ps(n,t){const e=n[i_]||null;if(!e&&!0===t)throw new Error(`Type ${Wt(n)} does not have '\u0275mod' property.`);return e}function J0(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||go,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||li,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Q0(n.inputs,t),outputs:Q0(n.outputs)}}function jf(n){n.features?.forEach(t=>t(n))}function Wf(n,t){if(!n)return null;const e=t?cs:f_;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(Uf)}const pr=0,At=1,_n=2,Zi=3,_o=4,Xu=5,es=6,_d=7,or=8,Ll=9,Fl=10,hn=11,Ic=12,ex=13,Vl=14,Cr=15,Sc=16,vd=17,Ra=18,yd=19,Gf=20,Bl=21,Zs=22,bd=23,Zu=24,Hn=25,m_=1,tx=2,il=7,Ku=9,ds=11;function vo(n){return Array.isArray(n)&&"object"==typeof n[m_]}function Ks(n){return Array.isArray(n)&&!0===n[m_]}function nx(n){return 0!=(4&n.flags)}function xd(n){return n.componentOffset>-1}function v_(n){return 1==(1&n.flags)}function yo(n){return!!n.template}function rl(n){return 0!=(512&n[_n])}function kc(n,t){return n.hasOwnProperty(nl)?n[nl]:null}let us=null,wd=!1;function Wo(n){const t=us;return us=n,t}const ox={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ax(n){if(!Mc(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Xf(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Cd(n){n.dirty=!0,function Qu(n){if(void 0===n.liveConsumerNode)return;const t=wd;wd=!0;try{for(const e of n.liveConsumerNode)e.dirty||Cd(e)}finally{wd=t}}(n),n.consumerMarkedDirty?.(n)}function Ed(n){return n&&(n.nextProducerIndex=0),Wo(n)}function w_(n,t){if(Wo(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Mc(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Kf(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Xf(n){Rc(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(ax(e),i!==e.version))return!0}return!1}function C_(n){if(Rc(n),Mc(n))for(let t=0;t<n.producerNode.length;t++)Kf(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Kf(n,t){if(function lx(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Rc(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Kf(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Rc(r),r.producerIndexOfThis[i]=t}}function Mc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Rc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let cx=null;function I_(n){const t=Wo(null);try{return n()}finally{Wo(t)}}const hx=()=>{},ZT=(()=>({...ox,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:hx}))();class KT{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ln(){return px}function px(n){return n.type.prototype.ngOnChanges&&(n.setInput=QT),S_}function S_(){const n=Ju(this),t=n?.current;if(t){const e=n.previous;if(e===go)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function QT(n,t,e,i){const r=this.declaredInputs[e],s=Ju(n)||function A_(n,t){return n[Jf]=t}(n,{previous:go,current:null}),o=s.current||(s.current={}),c=s.previous,u=c[r];o[r]=new KT(u&&u.currentValue,t,c===go),n[i]=t}Ln.ngInherit=!0;const Jf="__ngSimpleChanges__";function Ju(n){return n[Jf]||null}const Oa=function(n,t,e){},zl="svg";function Ui(n){for(;Array.isArray(n);)n=n[pr];return n}function tp(n,t){return Ui(t[n])}function ws(n,t){return Ui(t[n.index])}function mx(n,t){return n.data[t]}function Dd(n,t){return n[t]}function Ns(n,t){const e=t[n];return vo(e)?e:e[pr]}function Pa(n,t){return null==t?null:n[t]}function np(n){n[vd]=0}function tI(n){1024&n[_n]||(n[_n]|=1024,_x(n,1))}function Td(n){1024&n[_n]&&(n[_n]&=-1025,_x(n,-1))}function _x(n,t){let e=n[Zi];if(null===e)return;e[Xu]+=t;let i=e;for(e=e[Zi];null!==e&&(1===t&&1===i[Xu]||-1===t&&0===i[Xu]);)e[Xu]+=t,i=e,e=e[Zi]}const an={lFrame:Mx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wx(){return an.bindingsEnabled}function Id(){return null!==an.skipHydrationRootTNode}function nt(){return an.lFrame.lView}function Zn(){return an.lFrame.tView}function wt(n){return an.lFrame.contextLView=n,n[or]}function yt(n){return an.lFrame.contextLView=null,n}function zr(){let n=rp();for(;null!==n&&64===n.type;)n=n.parent;return n}function rp(){return an.lFrame.currentTNode}function Go(n,t){const e=an.lFrame;e.currentTNode=n,e.isParent=t}function F_(){return an.lFrame.isParent}function sp(){an.lFrame.isParent=!1}function Cs(){const n=an.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function oa(){return an.lFrame.bindingIndex}function Ad(){return an.lFrame.bindingIndex++}function sl(n){const t=an.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function oI(n,t){const e=an.lFrame;e.bindingIndex=e.bindingRootIndex=n,B_(t)}function B_(n){an.lFrame.currentDirectiveIndex=n}function kd(n){const t=an.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function Sx(){return an.lFrame.currentQueryIndex}function z_(n){an.lFrame.currentQueryIndex=n}function aI(n){const t=n[At];return 2===t.type?t.declTNode:1===t.type?n[es]:null}function Ax(n,t,e){if(e&mn.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&mn.Host||(r=aI(s),null===r||(s=s[Vl],10&r.type))););if(null===r)return!1;t=r,n=s}const i=an.lFrame=kx();return i.currentTNode=t,i.lView=n,!0}function H_(n){const t=kx(),e=n[At];an.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function kx(){const n=an.lFrame,t=null===n?null:n.child;return null===t?Mx(n):t}function Mx(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Rx(){const n=an.lFrame;return an.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const op=Rx;function U_(){const n=Rx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ls(){return an.lFrame.selectedIndex}function Oc(n){an.lFrame.selectedIndex=n}function Ki(){const n=an.lFrame;return mx(n.tView,n.selectedIndex)}function eh(){an.lFrame.currentNamespace=zl}function j_(){!function uI(){an.lFrame.currentNamespace=null}()}let ap=!0;function Md(){return ap}function Hl(n){ap=n}function lp(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:_}=s;o&&(n.contentHooks??=[]).push(-e,o),c&&((n.contentHooks??=[]).push(e,c),(n.contentCheckHooks??=[]).push(e,c)),u&&(n.viewHooks??=[]).push(-e,u),f&&((n.viewHooks??=[]).push(e,f),(n.viewCheckHooks??=[]).push(e,f)),null!=_&&(n.destroyHooks??=[]).push(e,_)}}function th(n,t,e){Px(n,t,3,e)}function cp(n,t,e,i){(3&n[_n])===e&&Px(n,t,e,i)}function nh(n,t){let e=n[_n];(3&e)===t&&(e&=8191,e+=1,n[_n]=e)}function Px(n,t,e,i){const s=i??-1,o=t.length-1;let c=0;for(let u=void 0!==i?65535&n[vd]:0;u<o;u++)if("number"==typeof t[u+1]){if(c=t[u],null!=i&&c>=i)break}else t[u]<0&&(n[vd]+=65536),(c<s||-1==s)&&(G_(n,e,t,u),n[vd]=(4294901760&n[vd])+u+2),u++}function hI(n,t){Oa(4,n,t);const e=Wo(null);try{t.call(n)}finally{Wo(e),Oa(5,n,t)}}function G_(n,t,e,i){const r=e[i]<0,s=e[i+1],c=n[r?-e[i]:e[i]];r?n[_n]>>13<n[vd]>>16&&(3&n[_n])===t&&(n[_n]+=8192,hI(c,s)):hI(c,s)}const Pc=-1;class Ul{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Y_(n){return n!==Pc}function dp(n){return 32767&n}function y(n,t){let e=function S(n){return n>>16}(n),i=t;for(;e>0;)i=i[Vl],e--;return i}let C=!0;function M(n){const t=C;return C=n,t}const X=255,xe=5;let Le=0;const tt={};function qt(n,t){const e=Fs(n,t);if(-1!==e)return e;const i=t[At];i.firstCreatePass&&(n.injectorIndex=t.length,Un(i.data,n),Un(t,null),Un(i.blueprint,null));const r=aa(n,t),s=n.injectorIndex;if(Y_(r)){const o=dp(r),c=y(r,t),u=c[At].data;for(let f=0;f<8;f++)t[s+f]=c[o+f]|u[o+f]}return t[s+8]=r,s}function Un(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Fs(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function aa(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=d2(r),null===i)return Pc;if(e++,r=r[Vl],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Pc}function Rd(n,t,e){!function Ft(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Ec)&&(i=e[Ec]),null==i&&(i=e[Ec]=Le++);const r=i&X;t.data[n+(r>>xe)]|=1<<r}(n,t,e)}function up(n,t,e){if(e&mn.Optional||void 0!==n)return n;w()}function q_(n,t,e,i){if(e&mn.Optional&&void 0===i&&(i=null),!(e&(mn.Self|mn.Host))){const r=n[Ll],s=hi(void 0);try{return r?r.get(t,i,e&mn.Optional):bc(t,i,e&mn.Optional)}finally{hi(s)}}return up(i,0,e)}function X_(n,t,e,i=mn.Default,r){if(null!==n){if(2048&t[_n]&&!(i&mn.Self)){const o=function UQ(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[_n]&&!(512&o[_n]);){const c=hp(s,o,e,i|mn.Self,tt);if(c!==tt)return c;let u=s.parent;if(!u){const f=o[Gf];if(f){const _=f.get(e,tt,i);if(_!==tt)return _}u=d2(o),o=o[Vl]}s=u}return r}(n,t,e,i,tt);if(o!==tt)return o}const s=hp(n,t,e,i,tt);if(s!==tt)return s}return q_(t,e,i,r)}function hp(n,t,e,i,r){const s=function Vx(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Ec)?n[Ec]:void 0;return"number"==typeof t?t>=0?t&X:HQ:t}(e);if("function"==typeof s){if(!Ax(t,n,i))return i&mn.Host?up(r,0,i):q_(t,e,i,r);try{let o;if(o=s(i),null!=o||i&mn.Optional)return o;w()}finally{op()}}else if("number"==typeof s){let o=null,c=Fs(n,t),u=Pc,f=i&mn.Host?t[Cr][es]:null;for((-1===c||i&mn.SkipSelf)&&(u=-1===c?aa(n,t):t[c+8],u!==Pc&&fp(i,!1)?(o=t[At],c=dp(u),t=y(u,t)):c=-1);-1!==c;){const _=t[At];if(Bx(s,c,_.data)){const x=Fx(c,t,e,o,i,f);if(x!==tt)return x}u=t[c+8],u!==Pc&&fp(i,t[At].data[c+8]===f)&&Bx(s,c,t)?(o=_,c=dp(u),t=y(u,t)):c=-1}}return r}function Fx(n,t,e,i,r,s){const o=t[At],c=o.data[n+8],_=ih(c,o,e,null==i?xd(c)&&C:i!=o&&0!=(3&c.type),r&mn.Host&&s===c);return null!==_?ol(t,o,_,c):tt}function ih(n,t,e,i,r){const s=n.providerIndexes,o=t.data,c=1048575&s,u=n.directiveStart,_=s>>20,T=r?c+_:n.directiveEnd;for(let R=i?c:c+_;R<T;R++){const F=o[R];if(R<u&&e===F||R>=u&&F.type===e)return R}if(r){const R=o[u];if(R&&yo(R)&&R.type===e)return u}return null}function ol(n,t,e,i){let r=n[e];const s=t.data;if(function Nx(n){return n instanceof Ul}(r)){const o=r;o.resolving&&function g(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new l(-200,`Circular dependency in DI detected for ${n}${e}`)}(function p(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():h(n)}(s[e]));const c=M(o.canSeeViewProviders);o.resolving=!0;const f=o.injectImpl?hi(o.injectImpl):null;Ax(n,i,mn.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function W_(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=px(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==f&&hi(f),M(c),o.resolving=!1,op()}}return r}function Bx(n,t,e){return!!(e[t+(n>>xe)]&1<<n)}function fp(n,t){return!(n&mn.Self||n&mn.Host&&t)}class bo{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return X_(this._tNode,this._lView,t,Uo(i),e)}}function HQ(){return new bo(zr(),nt())}function ar(n){return el(()=>{const t=n.prototype.constructor,e=t[nl]||_I(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[nl]||_I(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function _I(n){return dt(n)?()=>{const t=_I(be(n));return t&&t()}:kc(n)}function d2(n){const t=n[At],e=t.type;return 2===e?t.declTNode:1===e?n[es]:null}function Od(n){return function Lx(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(Y0(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(zr(),n)}const gp="__parameters__";function _p(n,t,e){return el(()=>{const i=function vI(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return c.annotation=o,c;function c(u,f,_){const x=u.hasOwnProperty(gp)?u[gp]:Object.defineProperty(u,gp,{value:[]})[gp];for(;x.length<=_;)x.push(null);return(x[_]=x[_]||[]).push(o),u}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function yp(n,t){n.forEach(e=>Array.isArray(e)?yp(e,t):t(e))}function h2(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function zx(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function K_(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function la(n,t,e){let i=bp(n,t);return i>=0?n[1|i]=e:(i=~i,function XQ(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function yI(n,t){const e=bp(n,t);if(e>=0)return n[1|e]}function bp(n,t){return function f2(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const Pd=Ja(_p("Optional"),8),sh=Ja(_p("SkipSelf"),4);function $x(n){return 128==(128&n.flags)}var Nd=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Nd||{});const mJ=/^>|^->|<!--|-->|--!>|<!-$/g,_J=/(<|>)/g,vJ="\u200b$1\u200b";const EI=new Map;let yJ=0;const TI="__ngContext__";function Qs(n,t){vo(t)?(n[TI]=t[yd],function xJ(n){EI.set(n[yd],n)}(t)):n[TI]=t}let II;function SI(n,t){return II(n,t)}function ev(n){const t=n[Zi];return Ks(t)?t[Zi]:t}function O2(n){return N2(n[Ic])}function P2(n){return N2(n[_o])}function N2(n){for(;null!==n&&!Ks(n);)n=n[_o];return n}function Cp(n,t,e,i,r){if(null!=i){let s,o=!1;Ks(i)?s=i:vo(i)&&(o=!0,i=i[pr]);const c=Ui(i);0===n&&null!==e?null==r?B2(t,e,c):oh(t,e,c,r||null,!0):1===n&&null!==e?oh(t,e,c,r||null,!0):2===n?function Jx(n,t,e){const i=Kx(n,t);i&&function zJ(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,c,o):3===n&&t.destroyNode(c),null!=s&&function jJ(n,t,e,i,r){const s=e[il];s!==Ui(e)&&Cp(t,n,i,s,r);for(let c=ds;c<e.length;c++){const u=e[c];nv(u[At],u,n,t,i,s)}}(t,n,s,e,r)}}function AI(n,t){return n.createComment(function D2(n){return n.replace(mJ,t=>t.replace(_J,vJ))}(t))}function Xx(n,t,e){return n.createElement(t,e)}function F2(n,t){const e=n[Ku],i=e.indexOf(t);Td(t),e.splice(i,1)}function Zx(n,t){if(n.length<=ds)return;const e=ds+t,i=n[e];if(i){const r=i[Sc];null!==r&&r!==n&&F2(r,i),t>0&&(n[e-1][_o]=i[_o]);const s=zx(n,ds+t);!function RJ(n,t){nv(n,t,t[hn],2,null,null),t[pr]=null,t[es]=null}(i[At],i);const o=s[Ra];null!==o&&o.detachView(s[At]),i[Zi]=null,i[_o]=null,i[_n]&=-129}return i}function kI(n,t){if(!(256&t[_n])){const e=t[hn];t[bd]&&C_(t[bd]),t[Zu]&&C_(t[Zu]),e.destroyNode&&nv(n,t,e,3,null,null),function NJ(n){let t=n[Ic];if(!t)return MI(n[At],n);for(;t;){let e=null;if(vo(t))e=t[Ic];else{const i=t[ds];i&&(e=i)}if(!e){for(;t&&!t[_o]&&t!==n;)vo(t)&&MI(t[At],t),t=t[Zi];null===t&&(t=n),vo(t)&&MI(t[At],t),e=t&&t[_o]}t=e}}(t)}}function MI(n,t){if(!(256&t[_n])){t[_n]&=-129,t[_n]|=256,function BJ(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Ul)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const c=r[s[o]],u=s[o+1];Oa(4,c,u);try{u.call(c)}finally{Oa(5,c,u)}}else{Oa(4,r,s);try{s.call(r)}finally{Oa(5,r,s)}}}}}(n,t),function VJ(n,t){const e=n.cleanup,i=t[_d];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[_d]=null);const r=t[Bl];if(null!==r){t[Bl]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[At].type&&t[hn].destroy();const e=t[Sc];if(null!==e&&Ks(t[Zi])){e!==t[Zi]&&F2(e,t);const i=t[Ra];null!==i&&i.detachView(n)}!function wJ(n){EI.delete(n[yd])}(t)}}function RI(n,t,e){return function V2(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[pr];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===jo.None||s===jo.Emulated)return null}return ws(i,e)}}(n,t.parent,e)}function oh(n,t,e,i,r){n.insertBefore(t,e,i,r)}function B2(n,t,e){n.appendChild(t,e)}function z2(n,t,e,i,r){null!==i?oh(n,t,e,i,r):B2(n,t,e)}function Kx(n,t){return n.parentNode(t)}function H2(n,t,e){return j2(n,t,e)}let OI,ew,FI,tw,j2=function U2(n,t,e){return 40&n.type?ws(n,e):null};function Qx(n,t,e,i){const r=RI(n,i,t),s=t[hn],c=H2(i.parent||t[es],i,t);if(null!=r)if(Array.isArray(e))for(let u=0;u<e.length;u++)z2(s,r,e[u],c,!1);else z2(s,r,e,c,!1);void 0!==OI&&OI(s,i,t,e,r)}function tv(n,t){if(null!==t){const e=t.type;if(3&e)return ws(t,n);if(4&e)return PI(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return tv(n,i);{const r=n[t.index];return Ks(r)?PI(-1,r):Ui(r)}}if(32&e)return SI(t,n)()||Ui(n[t.index]);{const i=G2(n,t);return null!==i?Array.isArray(i)?i[0]:tv(ev(n[Cr]),i):tv(n,t.next)}}return null}function G2(n,t){return null!==t?n[Cr][es].projection[t.projection]:null}function PI(n,t){const e=ds+n+1;if(e<t.length){const i=t[e],r=i[At].firstChild;if(null!==r)return tv(i,r)}return t[il]}function NI(n,t,e,i,r,s,o){for(;null!=e;){const c=i[e.index],u=e.type;if(o&&0===t&&(c&&Qs(Ui(c),i),e.flags|=2),32!=(32&e.flags))if(8&u)NI(n,t,e.child,i,r,s,!1),Cp(t,n,r,c,s);else if(32&u){const f=SI(e,i);let _;for(;_=f();)Cp(t,n,r,_,s);Cp(t,n,r,c,s)}else 16&u?Y2(n,t,i,e,r,s):Cp(t,n,r,c,s);e=o?e.projectionNext:e.next}}function nv(n,t,e,i,r,s){NI(e,i,n.firstChild,t,r,s,!1)}function Y2(n,t,e,i,r,s){const o=e[Cr],u=o[es].projection[i.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)Cp(t,n,r,u[f],s);else{let f=u;const _=o[Zi];$x(i)&&(f.flags|=128),NI(n,t,f,_,r,s,!0)}}function q2(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function X2(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&Ff(n,t,i),null!==r&&q2(n,t,r),null!==s&&function GJ(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function Ep(n){return function LI(){if(void 0===ew&&(ew=null,Ai.trustedTypes))try{ew=Ai.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ew}()?.createHTML(n)||n}function Dp(){if(void 0!==FI)return FI;if(typeof document<"u")return document;throw new l(210,!1)}function VI(){if(void 0===tw&&(tw=null,Ai.trustedTypes))try{tw=Ai.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tw}function Z2(n){return VI()?.createHTML(n)||n}function Q2(n){return VI()?.createScriptURL(n)||n}class ah{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${a})`}}class ZJ extends ah{getTypeName(){return"HTML"}}class KJ extends ah{getTypeName(){return"Style"}}class QJ extends ah{getTypeName(){return"Script"}}class JJ extends ah{getTypeName(){return"URL"}}class eee extends ah{getTypeName(){return"ResourceURL"}}function ca(n){return n instanceof ah?n.changingThisBreaksApplicationSecurity:n}function jl(n,t){const e=function tee(n){return n instanceof ah&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${a})`)}return e===t}class aee{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Ep(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class lee{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Ep(t),e}}const dee=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nw(n){return(n=String(n)).match(dee)?n:"unsafe:"+n}function Nc(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function iv(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const eV=Nc("area,br,col,hr,img,wbr"),tV=Nc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nV=Nc("rp,rt"),BI=iv(eV,iv(tV,Nc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),iv(nV,Nc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),iv(nV,tV)),zI=Nc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iV=iv(zI,Nc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uee=Nc("script,style,template");class hee{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!BI.hasOwnProperty(e))return this.sanitizedSomething=!0,!uee.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,c=o.toLowerCase();if(!iV.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=s.value;zI[c]&&(u=nw(u)),this.buf.push(" ",o,'="',rV(u),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();BI.hasOwnProperty(e)&&!eV.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(rV(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const fee=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pee=/([^\#-~ |!])/g;function rV(n){return n.replace(/&/g,"&amp;").replace(fee,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pee,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let iw;function sV(n,t){let e=null;try{iw=iw||function J2(n){const t=new lee(n);return function cee(){try{return!!(new window.DOMParser).parseFromString(Ep(""),"text/html")}catch{return!1}}()?new aee(t):t}(n);let i=t?String(t):"";e=iw.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=iw.getInertBodyElement(i)}while(i!==s);return Ep((new hee).sanitizeChildren(HI(e)||e))}finally{if(e){const i=HI(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function HI(n){return"content"in n&&function gee(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var da=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(da||{});function lh(n){const t=rv();return t?Z2(t.sanitize(da.HTML,n)||""):jl(n,"HTML")?Z2(ca(n)):sV(Dp(),h(n))}function Tp(n){const t=rv();return t?t.sanitize(da.URL,n)||"":jl(n,"URL")?ca(n):nw(h(n))}function oV(n){const t=rv();if(t)return Q2(t.sanitize(da.RESOURCE_URL,n)||"");if(jl(n,"ResourceURL"))return Q2(ca(n));throw new l(904,!1)}function rv(){const n=nt();return n&&n[Fl].sanitizer}const sv=new je("ENVIRONMENT_INITIALIZER"),lV=new je("INJECTOR",-1),cV=new je("INJECTOR_DEF_TYPES");class UI{get(t,e=wc){if(e===wc){const i=new Error(`NullInjectorError: No provider for ${Wt(t)}!`);throw i.name="NullInjectorError",i}return e}}function Wl(n){return{\u0275providers:n}}function xee(...n){return{\u0275providers:dV(0,n),\u0275fromNgModule:!0}}function dV(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return yp(t,o=>{const c=o;rw(c,s,[],i)&&(r||=[],r.push(c))}),void 0!==r&&uV(r,s),e}function uV(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];jI(r,s=>{t(s,i)})}}function rw(n,t,e,i){if(!(n=be(n)))return!1;let r=null,s=Ci(n);const o=!s&&Xn(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const u=n.ngModule;if(s=Ci(u),!s)return!1;r=u}const c=i.has(r);if(o){if(c)return!1;if(i.add(r),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const f of u)rw(f,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let f;i.add(r);try{yp(s.imports,_=>{rw(_,t,e,i)&&(f||=[],f.push(_))})}finally{}void 0!==f&&uV(f,t)}if(!c){const f=kc(r)||(()=>new r);t({provide:r,useFactory:f,deps:li},r),t({provide:cV,useValue:r,multi:!0},r),t({provide:sv,useValue:()=>fe(r),multi:!0},r)}const u=s.providers;if(null!=u&&!c){const f=n;jI(u,_=>{t(_,f)})}}}return r!==n&&void 0!==n.providers}function jI(n,t){for(let e of n)jt(e)&&(e=e.\u0275providers),Array.isArray(e)?jI(e,t):t(e)}const wee=Dt({provide:String,useValue:Dt});function WI(n){return null!==n&&"object"==typeof n&&wee in n}function ch(n){return"function"==typeof n}const GI=new je("Set Injector scope."),sw={},Eee={};let $I;function ow(){return void 0===$I&&($I=new UI),$I}class xo{}class Ip extends xo{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qI(t,o=>this.processProvider(o)),this.records.set(lV,Sp(void 0,this)),r.has("environment")&&this.records.set(xo,Sp(void 0,this));const s=this.records.get(GI);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(cV.multi,li,mn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Pl(this),i=hi(void 0);try{return t()}finally{Pl(e),hi(i)}}get(t,e=wc,i=mn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Yu))return t[Yu](this);i=Uo(i);const s=Pl(this),o=hi(void 0);try{if(!(i&mn.SkipSelf)){let u=this.records.get(t);if(void 0===u){const f=function Aee(n){return"function"==typeof n||"object"==typeof n&&n instanceof je}(t)&&xt(t);u=f&&this.injectableDefInScope(f)?Sp(YI(t),sw):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(i&mn.Self?ow():this.parent).get(t,e=i&mn.Optional&&e===wc?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[md]=c[md]||[]).unshift(Wt(t)),s)throw c;return function PT(n,t,e,i){const r=n[md];throw t[$0]&&r.unshift(t[$0]),n.message=function NT(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Wt(t);if(Array.isArray(t))r=t.map(Wt).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let c=t[o];s.push(o+":"+("string"==typeof c?JSON.stringify(c):Wt(c)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(n_,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[md]=null,n}(c,t,"R3InjectorError",this.source)}throw c}finally{hi(o),Pl(s)}}resolveInjectorInitializers(){const t=Pl(this),e=hi(void 0);try{const r=this.get(sv.multi,li,mn.Self);for(const s of r)s()}finally{Pl(t),hi(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Wt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new l(205,!1)}processProvider(t){let e=ch(t=be(t))?t:be(t&&t.provide);const i=function Tee(n){return WI(n)?Sp(void 0,n.useValue):Sp(pV(n),sw)}(t);if(ch(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Sp(void 0,sw,!0),r.factory=()=>Nl(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===sw&&(e.value=Eee,e.value=e.factory()),"object"==typeof e.value&&e.value&&function See(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=be(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function YI(n){const t=xt(n),e=null!==t?t.factory:kc(n);if(null!==e)return e;if(n instanceof je)throw new l(204,!1);if(n instanceof Function)return function Dee(n){const t=n.length;if(t>0)throw K_(t,"?"),new l(204,!1);const e=function qn(n){return n&&(n[si]||n[xs])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new l(204,!1)}function pV(n,t,e){let i;if(ch(n)){const r=be(n);return kc(r)||YI(r)}if(WI(n))i=()=>be(n.useValue);else if(function fV(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Nl(n.deps||[]));else if(function hV(n){return!(!n||!n.useExisting)}(n))i=()=>fe(be(n.useExisting));else{const r=be(n&&(n.useClass||n.provide));if(!function Iee(n){return!!n.deps}(n))return kc(r)||YI(r);i=()=>new r(...Nl(n.deps))}return i}function Sp(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function qI(n,t){for(const e of n)Array.isArray(e)?qI(e,t):e&&jt(e)?qI(e.\u0275providers,t):t(e)}const aw=new je("AppId",{providedIn:"root",factory:()=>kee}),kee="ng",gV=new je("Platform Initializer"),wo=new je("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Lc=new je("AnimationModuleType"),XI=new je("CSP nonce",{providedIn:"root",factory:()=>Dp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let mV=(n,t,e)=>null;function iS(n,t,e=!1){return mV(n,t,e)}class zee{}class yV{}class Uee{resolveComponentFactory(t){throw function Hee(n){const t=Error(`No component factory found for ${Wt(n)}.`);return t.ngComponent=n,t}(t)}}let Ld=(()=>{class n{static#e=this.NULL=new Uee}return n})();function jee(){return Mp(zr(),nt())}function Mp(n,t){return new Gt(ws(n,t))}let Gt=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=jee}return n})();function Wee(n){return n instanceof Gt?n.nativeElement:n}class Rp{}let Hr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Gee(){const n=nt(),e=Ns(zr().index,n);return(vo(e)?e:n)[hn]}()}return n})(),$ee=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>null})}return n})();class Fd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const xV=new Fd("16.2.12"),oS={};function DV(n,t=null,e=null,i){const r=TV(n,t,e,i);return r.resolveInjectorInitializers(),r}function TV(n,t=null,e=null,i,r=new Set){const s=[e||li,xee(n)];return i=i||("object"==typeof n?void 0:Wt(n)),new Ip(s,t||ow(),i||null,r)}let Er=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=wc;static#t=this.NULL=new UI;static create(e,i){if(Array.isArray(e))return DV({name:""},i,e,"");{const r=e.name??"";return DV({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=ce({token:n,providedIn:"any",factory:()=>fe(lV)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function aS(n){return n.ngOriginalError}class Fc{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&aS(t);for(;e&&aS(e);)e=aS(e);return e||null}}function lS(n){return t=>{setTimeout(n,void 0,t)}}const We=class ete extends ve{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const u=t;r=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=lS(s),r&&(r=lS(r)),o&&(o=lS(o)));const c=super.subscribe({next:r,error:s,complete:o});return t instanceof Ge&&t.add(c),c}};function SV(...n){}class ht{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),typeof Zone>"u")throw new l(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function tte(){const n="function"==typeof Ai.requestAnimationFrame;let t=Ai[n?"requestAnimationFrame":"setTimeout"],e=Ai[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function rte(n){const t=()=>{!function ite(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ai,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,dS(n),n.isCheckStableRunning=!0,cS(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),dS(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,c)=>{if(function ote(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(c))return e.invokeTask(r,s,o,c);try{return AV(n),e.invokeTask(r,s,o,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),kV(n)}},onInvoke:(e,i,r,s,o,c,u)=>{try{return AV(n),e.invoke(r,s,o,c,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),kV(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,dS(n),cS(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ht.isInAngularZone())throw new l(909,!1)}static assertNotInAngularZone(){if(ht.isInAngularZone())throw new l(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,nte,SV,SV);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const nte={};function cS(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function dS(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function AV(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kV(n){n._nesting--,cS(n)}class ste{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const MV=new je("",{providedIn:"root",factory:RV});function RV(){const n=He(ht);let t=!0;return J(new zt(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new zt(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{ht.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{ht.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(ze()))}function Vc(n){return n instanceof Function?n():n}let uS=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})();function lv(n){for(;n;){n[_n]|=64;const t=ev(n);if(rl(n)&&!t)return n;n=t}return null}const FV=new je("",{providedIn:"root",factory:()=>!1});let gw=null;function HV(n,t){return n[t]??WV()}function UV(n,t){const e=WV();e.producerNode?.length&&(n[t]=gw,e.lView=n,gw=jV())}const mte={...ox,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{lv(n.lView)},lView:null};function jV(){return Object.create(mte)}function WV(){return gw??=jV(),gw}const Cn={};function ne(n){GV(Zn(),nt(),Ls()+n,!1)}function GV(n,t,e,i){if(!i)if(3==(3&t[_n])){const s=n.preOrderCheckHooks;null!==s&&th(t,s,e)}else{const s=n.preOrderHooks;null!==s&&cp(t,s,0,e)}Oc(e)}function W(n,t=mn.Default){const e=nt();return null===e?fe(n,t):X_(zr(),e,be(n),t)}function mw(){throw new Error("invalid")}function _w(n,t,e,i,r,s,o,c,u,f,_){const x=t.blueprint.slice();return x[pr]=r,x[_n]=140|i,(null!==f||n&&2048&n[_n])&&(x[_n]|=2048),np(x),x[Zi]=x[Vl]=n,x[or]=e,x[Fl]=o||n&&n[Fl],x[hn]=c||n&&n[hn],x[Ll]=u||n&&n[Ll]||null,x[es]=s,x[yd]=function bJ(){return yJ++}(),x[Zs]=_,x[Gf]=f,x[Cr]=2==t.type?n[Cr]:x,x}function Lp(n,t,e,i,r){let s=n.data[t];if(null===s)s=function hS(n,t,e,i,r){const s=rp(),o=F_(),u=n.data[t]=function Ete(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,c=0;return Id()&&(c|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,t,e,i,r),function V_(){return an.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function Sd(){const n=an.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Go(s,!0),s}function cv(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function $V(n,t,e,i,r){const s=HV(t,bd),o=Ls(),c=2&i;try{Oc(-1),c&&t.length>Hn&&GV(n,t,Hn,!1),Oa(c?2:0,r);const f=c?s:null,_=Ed(f);try{null!==f&&(f.dirty=!1),e(i,r)}finally{w_(f,_)}}finally{c&&null===t[bd]&&UV(t,bd),Oc(o),Oa(c?3:1,r)}}function fS(n,t,e){if(nx(t)){const i=Wo(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const c=n.data[o];c.contentQueries&&c.contentQueries(1,e[o],o)}}finally{Wo(i)}}}function pS(n,t,e){wx()&&(function Mte(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;xd(e)&&function Vte(n,t,e){const i=ws(t,n),r=YV(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const c=vw(n,_w(n,r,null,o,i,t,null,n[Fl].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=c}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||qt(e,t),Qs(i,t);const o=e.initialInputs;for(let c=r;c<s;c++){const u=n.data[c],f=ol(t,n,c,e);Qs(f,t),null!==o&&Bte(0,c-r,f,u,0,o),yo(u)&&(Ns(e.index,t)[or]=ol(t,n,c,e))}}(n,t,e,ws(e,t)),64==(64&e.flags)&&QV(n,t,e))}function gS(n,t,e=ws){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],c=-1===o?e(t,n):n[o];n[r++]=c}}}function YV(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=mS(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function mS(n,t,e,i,r,s,o,c,u,f,_){const x=Hn+i,T=x+r,R=function vte(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Cn);return e}(x,T),F="function"==typeof f?f():f;return R[At]={type:n,blueprint:R,template:e,queries:null,viewQuery:c,declTNode:t,data:R.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:T,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:F,incompleteFirstPass:!1,ssrId:_}}let qV=n=>null;function XV(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?ZV(e,t,r,s):i.hasOwnProperty(r)&&ZV(e,t,i[r],s)}return e}function ZV(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function ua(n,t,e,i,r,s,o,c){const u=ws(t,e);let _,f=t.inputs;!c&&null!=f&&(_=f[i])?(xS(n,e,_,i,r),xd(t)&&function Ite(n,t){const e=Ns(t,n);16&e[_n]||(e[_n]|=64)}(e,t.index)):3&t.type&&(i=function Tte(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(u,i,r))}function _S(n,t,e,i){if(wx()){const r=null===i?null:{"":-1},s=function Ote(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(Hf(t,o.selectors,!1))if(i||(i=[]),yo(o))if(null!==o.findHostDirectiveDefs){const c=[];r=r||new Map,o.findHostDirectiveDefs(o,c,r),i.unshift(...c,o),vS(n,t,c.length)}else i.unshift(o),vS(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,c;null===s?o=c=null:[o,c]=s,null!==o&&KV(n,t,e,o,r,c),r&&function Pte(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new l(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=Dc(e.mergedAttrs,e.attrs)}function KV(n,t,e,i,r,s){for(let f=0;f<i.length;f++)Rd(qt(e,t),n,i[f].type);!function Lte(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let f=0;f<i.length;f++){const _=i[f];_.providersResolver&&_.providersResolver(_)}let o=!1,c=!1,u=cv(n,t,i.length,null);for(let f=0;f<i.length;f++){const _=i[f];e.mergedAttrs=Dc(e.mergedAttrs,_.hostAttrs),Fte(n,e,t,u,_),Nte(u,_,r),null!==_.contentQueries&&(e.flags|=4),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(e.flags|=64);const x=_.type.prototype;!o&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!c&&(x.ngOnChanges||x.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),c=!0),u++}!function Dte(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,c=[];let u=null,f=null;for(let _=t.directiveStart;_<r;_++){const x=s[_],T=e?e.get(x):null,F=T?T.outputs:null;u=XV(x.inputs,_,u,T?T.inputs:null),f=XV(x.outputs,_,f,F);const B=null===u||null===o||o_(t)?null:zte(u,_,o);c.push(B)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=u,t.outputs=f}(n,e,s)}function QV(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function Ix(){return an.lFrame.currentDirectiveIndex}();try{Oc(s);for(let c=i;c<r;c++){const u=n.data[c],f=t[c];B_(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Rte(u,f)}}finally{Oc(-1),B_(o)}}function Rte(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function vS(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function Nte(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;yo(t)&&(e[""]=n)}}function Fte(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=kc(r.type)),o=new Ul(s,yo(r),W);n.blueprint[i]=o,e[i]=o,function Ate(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const c=~t.index;(function kte(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=c&&o.push(c),o.push(e,i,s)}}(n,t,i,cv(n,e,r.hostVars,Cn),r)}function Gl(n,t,e,i,r,s){const o=ws(n,t);!function yS(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const c=null==o?h(s):o(s,i||"",r);n.setAttribute(t,r,c,e)}}(t[hn],o,s,n.value,e,i,r)}function Bte(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let c=0;c<o.length;)JV(i,e,o[c++],o[c++],o[c++])}function JV(n,t,e,i,r){const s=Wo(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{Wo(s)}}function zte(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let c=0;c<o.length;c+=2)if(o[c]===t){i.push(s,o[c+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function eB(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function tB(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];z_(e[i]),o.contentQueries(2,t[s],s)}}}function vw(n,t){return n[Ic]?n[ex][_o]=t:n[Ic]=t,n[ex]=t,t}function bS(n,t,e){z_(0);const i=Wo(null);try{t(n,e)}finally{Wo(i)}}function nB(n){return n[_d]||(n[_d]=[])}function iB(n){return n.cleanup||(n.cleanup=[])}function rB(n,t,e){return(null===n||yo(n))&&(e=function R_(n){for(;Array.isArray(n);){if("object"==typeof n[m_])return n;n=n[pr]}return null}(e[t.index])),e[hn]}function sB(n,t){const e=n[Ll],i=e?e.get(Fc,null):null;i&&i.handleError(t)}function xS(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],c=e[s++];JV(n.data[o],t[o],i,c,r)}}function Bc(n,t,e){const i=tp(t,n);!function L2(n,t,e){n.setValue(t,e)}(n[hn],i,e)}function Hte(n,t){const e=Ns(t,n),i=e[At];!function Ute(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[pr];null!==r&&null===e[Zs]&&(e[Zs]=iS(r,e[Ll])),wS(i,e,e[or])}function wS(n,t,e){H_(t);try{const i=n.viewQuery;null!==i&&bS(1,i,e);const r=n.template;null!==r&&$V(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&tB(n,t),n.staticViewQueries&&bS(2,n.viewQuery,e);const s=n.components;null!==s&&function jte(n,t){for(let e=0;e<t.length;e++)Hte(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[_n]&=-5,U_()}}let oB=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function XT(n,t,e){const i=Object.create(ZT);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>Cd(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Xf(i))return;i.hasRun=!0;const o=Ed(i);try{i.cleanupFn(),i.cleanupFn=hx,i.fn(r)}finally{w_(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,f=>{this.all.has(f)&&this.queue.set(f,s)},r);let c;this.all.add(o),o.notify();const u=()=>{o.cleanup(),c?.(),this.all.delete(o),this.queue.delete(o)};return c=i?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}return n})();function yw(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const c=t[o];"number"==typeof c?s=c:1==s?r=wr(r,c):2==s&&(i=wr(i,c+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function dv(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(Ui(s)),Ks(s)&&aB(s,i);const o=e.type;if(8&o)dv(n,t,e.child,i);else if(32&o){const c=SI(e,t);let u;for(;u=c();)i.push(u)}else if(16&o){const c=G2(t,e);if(Array.isArray(c))i.push(...c);else{const u=ev(t[Cr]);dv(u[At],u,c,i,!0)}}e=r?e.projectionNext:e.next}return i}function aB(n,t){for(let e=ds;e<n.length;e++){const i=n[e],r=i[At].firstChild;null!==r&&dv(i[At],i,r,t)}n[il]!==n[pr]&&t.push(n[il])}function bw(n,t,e,i=!0){const r=t[Fl],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{lB(n,t,n.template,e)}catch(u){throw i&&sB(t,u),u}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function lB(n,t,e,i){const r=t[_n];if(256!=(256&r)){t[Fl].effectManager?.flush(),H_(t);try{np(t),function Dx(n){return an.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&$V(n,t,e,2,i);const o=3==(3&r);if(o){const f=n.preOrderCheckHooks;null!==f&&th(t,f,null)}else{const f=n.preOrderHooks;null!==f&&cp(t,f,0,null),nh(t,0)}if(function $te(n){for(let t=O2(n);null!==t;t=P2(t)){if(!t[tx])continue;const e=t[Ku];for(let i=0;i<e.length;i++){tI(e[i])}}}(t),cB(t,2),null!==n.contentQueries&&tB(n,t),o){const f=n.contentCheckHooks;null!==f&&th(t,f)}else{const f=n.contentHooks;null!==f&&cp(t,f,1),nh(t,1)}!function _te(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=HV(t,Zu);try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)Oc(~s);else{const o=s,c=e[++r],u=e[++r];oI(c,o),i.dirty=!1;const f=Ed(i);try{u(2,t[o])}finally{w_(i,f)}}}}finally{null===t[Zu]&&UV(t,Zu),Oc(-1)}}(n,t);const c=n.components;null!==c&&uB(t,c,0);const u=n.viewQuery;if(null!==u&&bS(2,u,i),o){const f=n.viewCheckHooks;null!==f&&th(t,f)}else{const f=n.viewHooks;null!==f&&cp(t,f,2),nh(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[_n]&=-73,Td(t)}finally{U_()}}}function cB(n,t){for(let e=O2(n);null!==e;e=P2(e))for(let i=ds;i<e.length;i++)dB(e[i],t)}function Yte(n,t,e){dB(Ns(t,n),e)}function dB(n,t){if(!function O_(n){return 128==(128&n[_n])}(n))return;const e=n[At],i=n[_n];if(80&i&&0===t||1024&i||2===t)lB(e,n,e.template,n[or]);else if(n[Xu]>0){cB(n,1);const r=e.components;null!==r&&uB(n,r,1)}}function uB(n,t,e){for(let i=0;i<t.length;i++)Yte(n,t[i],e)}class uv{get rootNodes(){const t=this._lView,e=t[At];return dv(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[or]}set context(t){this._lView[or]=t}get destroyed(){return 256==(256&this._lView[_n])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Zi];if(Ks(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Zx(t,i),zx(e,i))}this._attachedToViewContainer=!1}kI(this._lView[At],this._lView)}onDestroy(t){!function vx(n,t){if(256==(256&n[_n]))throw new l(911,!1);null===n[Bl]&&(n[Bl]=[]),n[Bl].push(t)}(this._lView,t)}markForCheck(){lv(this._cdRefInjectingView||this._lView)}detach(){this._lView[_n]&=-129}reattach(){this._lView[_n]|=128}detectChanges(){bw(this._lView[At],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new l(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function PJ(n,t){nv(n,t,t[hn],2,null,null)}(this._lView[At],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new l(902,!1);this._appRef=t}}class qte extends uv{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;bw(t[At],t,t[or],!1)}checkNoChanges(){}get context(){return null}}class hB extends Ld{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Xn(t);return new hv(e,this.ngModule)}}function fB(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class Zte{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Uo(i);const r=this.injector.get(t,oS,i);return r!==oS||e===oS?r:this.parentInjector.get(t,e,i)}}class hv extends yV{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=fB(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return fB(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function LT(n){return n.map(d_).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof xo?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Zte(t,s):t,c=o.get(Rp,null);if(null===c)throw new l(407,!1);const x={rendererFactory:c,sanitizer:o.get($ee,null),effectManager:o.get(oB,null),afterRenderEventManager:o.get(uS,null)},T=c.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",F=i?function yte(n,t,e,i){const s=i.get(FV,!1)||e===jo.ShadowDom,o=n.selectRootElement(t,s);return function bte(n){qV(n)}(o),o}(T,i,this.componentDef.encapsulation,o):Xx(T,R,function Xte(n){const t=n.toLowerCase();return"svg"===t?zl:"math"===t?"math":null}(R)),oe=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ee=null;null!==F&&(ee=iS(F,o,!0));const le=mS(0,null,null,1,0,null,null,null,null,null,null),me=_w(null,le,null,oe,null,null,x,T,o,null,ee);let Se,Xe;H_(me);try{const pt=this.componentDef;let ft,It=null;pt.findHostDirectiveDefs?(ft=[],It=new Map,pt.findHostDirectiveDefs(pt,ft,It),ft.push(pt)):ft=[pt];const Mt=function Qte(n,t){const e=n[At],i=Hn;return n[i]=t,Lp(e,i,2,"#host",null)}(me,F),gt=function Jte(n,t,e,i,r,s,o){const c=r[At];!function ene(n,t,e,i){for(const r of n)t.mergedAttrs=Dc(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(yw(t,t.mergedAttrs,!0),null!==e&&X2(i,e,t))}(i,n,t,o);let u=null;null!==t&&(u=iS(t,r[Ll]));const f=s.rendererFactory.createRenderer(t,e);let _=16;e.signals?_=4096:e.onPush&&(_=64);const x=_w(r,YV(e),null,_,r[n.index],n,s,f,null,null,u);return c.firstCreatePass&&vS(c,n,i.length-1),vw(r,x),r[n.index]=x}(Mt,F,pt,ft,me,x,T);Xe=mx(le,Hn),F&&function nne(n,t,e,i){if(i)Ff(n,e,["ng-version",xV.full]);else{const{attrs:r,classes:s}=function u_(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!mo(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Ff(n,e,r),s&&s.length>0&&q2(n,e,s.join(" "))}}(T,pt,F,i),void 0!==e&&function ine(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(Xe,this.ngContentSelectors,e),Se=function tne(n,t,e,i,r,s){const o=zr(),c=r[At],u=ws(o,r);KV(c,r,o,e,null,i);for(let _=0;_<e.length;_++)Qs(ol(r,c,o.directiveStart+_,o),r);QV(c,r,o),u&&Qs(u,r);const f=ol(r,c,o.directiveStart+o.componentOffset,o);if(n[or]=r[or]=f,null!==s)for(const _ of s)_(f,t);return fS(c,o,n),f}(gt,pt,ft,It,me,[rne]),wS(le,me,null)}finally{U_()}return new Kte(this.componentType,Se,Mp(Xe,me),me,Xe)}}class Kte extends zee{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new qte(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;xS(s[At],s,r,t,e),this.previousInputValues.set(t,e),lv(Ns(this._tNode.index,s))}}get injector(){return new bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function rne(){const n=zr();lp(nt()[At],n)}function Fn(n){let t=function pB(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(yo(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new l(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=xw(n.inputs),o.inputTransforms=xw(n.inputTransforms),o.declaredInputs=xw(n.declaredInputs),o.outputs=xw(n.outputs);const c=r.hostBindings;c&&lne(n,c);const u=r.viewQuery,f=r.contentQueries;if(u&&one(n,u),f&&ane(n,f),vi(n.inputs,r.inputs),vi(n.declaredInputs,r.declaredInputs),vi(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),vi(o.inputTransforms,r.inputTransforms)),yo(r)&&r.data.animation){const _=n.data;_.animation=(_.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const c=s[o];c&&c.ngInherit&&c(n),c===Fn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function sne(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Dc(r.hostAttrs,e=Dc(e,r.hostAttrs))}}(i)}function xw(n){return n===go?{}:n===li?[]:n}function one(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function ane(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function lne(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function vB(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function ww(n){return!!CS(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function CS(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function $l(n,t,e){return n[t]=e}function pv(n,t){return n[t]}function Js(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function dh(n,t,e,i){const r=Js(n,t,e);return Js(n,t+1,i)||r}function Cw(n,t,e,i,r){const s=dh(n,t,e,i);return Js(n,t+2,r)||s}function La(n,t,e,i,r,s){const o=dh(n,t,e,i);return dh(n,t+2,r,s)||o}function Ht(n,t,e,i){const r=nt();return Js(r,Ad(),t)&&(Zn(),Gl(Ki(),r,n,t,e,i)),Ht}function Vp(n,t,e,i){return Js(n,Ad(),e)?t+h(e)+i:Cn}function Te(n,t,e,i,r,s,o,c){const u=nt(),f=Zn(),_=n+Hn,x=f.firstCreatePass?function Rne(n,t,e,i,r,s,o,c,u){const f=t.consts,_=Lp(t,n,4,o||null,Pa(f,c));_S(t,e,_,Pa(f,u)),lp(t,_);const x=_.tView=mS(2,_,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,f,null);return null!==t.queries&&(t.queries.template(t,_),x.queries=t.queries.embeddedTView(_)),_}(_,f,u,t,e,i,r,s,o):f.data[_];Go(x,!1);const T=MB(f,u,x,n);Md()&&Qx(f,u,T,x),Qs(T,u),vw(u,u[_]=eB(T,u,T,x)),v_(x)&&pS(f,u,x),null!=o&&gS(u,x,c)}let MB=function RB(n,t,e,i){return Hl(!0),t[hn].createComment("")};function oi(n){return Dd(function Cx(){return an.lFrame.contextLView}(),Hn+n)}function de(n,t,e){const i=nt();return Js(i,Ad(),t)&&ua(Zn(),Ki(),i,n,t,i[hn],e,!1),de}function AS(n,t,e,i,r){const o=r?"class":"style";xS(n,e,t.inputs[o],o,i)}function ie(n,t,e,i){const r=nt(),s=Zn(),o=Hn+n,c=r[hn],u=s.firstCreatePass?function Lne(n,t,e,i,r,s){const o=t.consts,u=Lp(t,n,2,i,Pa(o,r));return _S(t,e,u,Pa(o,s)),null!==u.attrs&&yw(u,u.attrs,!1),null!==u.mergedAttrs&&yw(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,s,r,t,e,i):s.data[o],f=OB(s,r,u,c,t,n);r[o]=f;const _=v_(u);return Go(u,!0),X2(c,f,u),32!=(32&u.flags)&&Md()&&Qx(s,r,f,u),0===function yx(){return an.lFrame.elementDepthCount}()&&Qs(f,r),function bx(){an.lFrame.elementDepthCount++}(),_&&(pS(s,r,u),fS(s,u,r)),null!==i&&gS(r,u),ie}function se(){let n=zr();F_()?sp():(n=n.parent,Go(n,!1));const t=n;(function N_(n){return an.skipHydrationRootTNode===n})(t)&&function rI(){an.skipHydrationRootTNode=null}(),function xx(){an.lFrame.elementDepthCount--}();const e=Zn();return e.firstCreatePass&&(lp(e,n),nx(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function pI(n){return 0!=(8&n.flags)}(t)&&AS(e,t,nt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function gI(n){return 0!=(16&n.flags)}(t)&&AS(e,t,nt(),t.stylesWithoutHost,!1),se}function it(n,t,e,i){return ie(n,t,e,i),se(),it}let OB=(n,t,e,i,r,s)=>(Hl(!0),Xx(i,r,function Ox(){return an.lFrame.currentNamespace}()));function vv(n,t,e){const i=nt(),r=Zn(),s=n+Hn,o=r.firstCreatePass?function Bne(n,t,e,i,r){const s=t.consts,o=Pa(s,i),c=Lp(t,n,8,"ng-container",o);return null!==o&&yw(c,o,!0),_S(t,e,c,Pa(s,r)),null!==t.queries&&t.queries.elementStart(t,c),c}(s,r,i,t,e):r.data[s];Go(o,!0);const c=PB(r,i,o,n);return i[s]=c,Md()&&Qx(r,i,c,o),Qs(c,i),v_(o)&&(pS(r,i,o),fS(r,o,i)),null!=e&&gS(i,o),vv}function yv(){let n=zr();const t=Zn();return F_()?sp():(n=n.parent,Go(n,!1)),t.firstCreatePass&&(lp(t,n),nx(n)&&t.queries.elementEnd(n)),yv}function uh(n,t,e){return vv(n,t,e),yv(),uh}let PB=(n,t,e,i)=>(Hl(!0),AI(t[hn],""));function jn(){return nt()}function bv(n){return!!n&&"function"==typeof n.then}function NB(n){return!!n&&"function"==typeof n.subscribe}function Je(n,t,e,i){const r=nt(),s=Zn(),o=zr();return LB(s,r,r[hn],o,n,t,i),Je}function kS(n,t){const e=zr(),i=nt(),r=Zn();return LB(r,i,rB(kd(r.data),e,i),e,n,t),kS}function LB(n,t,e,i,r,s,o){const c=v_(i),f=n.firstCreatePass&&iB(n),_=t[or],x=nB(t);let T=!0;if(3&i.type||o){const B=ws(i,t),j=o?o(B):B,oe=x.length,ee=o?me=>o(Ui(me[i.index])):i.index;let le=null;if(!o&&c&&(le=function Une(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const c=t[_d],u=r[s+2];return c.length>u?c[u]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==le)(le.__ngLastListenerFn__||le).__ngNextListenerFn__=s,le.__ngLastListenerFn__=s,T=!1;else{s=VB(i,t,_,s,!1);const me=e.listen(j,r,s);x.push(s,me),f&&f.push(r,ee,oe,oe+1)}}else s=VB(i,t,_,s,!1);const R=i.outputs;let F;if(T&&null!==R&&(F=R[r])){const B=F.length;if(B)for(let j=0;j<B;j+=2){const Se=t[F[j]][F[j+1]].subscribe(s),Xe=x.length;x.push(s,Se),f&&f.push(r,i.index,Xe,-(Xe+1))}}}function FB(n,t,e,i){try{return Oa(6,t,e),!1!==e(i)}catch(r){return sB(n,r),!1}finally{Oa(7,t,e)}}function VB(n,t,e,i,r){return function s(o){if(o===Function)return i;lv(n.componentOffset>-1?Ns(n.index,t):t);let u=FB(t,e,i,o),f=s.__ngNextListenerFn__;for(;f;)u=FB(t,e,f,o)&&u,f=f.__ngNextListenerFn__;return r&&!1===u&&o.preventDefault(),u}}function De(n=1){return function lI(n){return(an.lFrame.contextLView=function cI(n,t){for(;n>0;)t=t[Vl],n--;return t}(n,an.lFrame.contextLView))[or]}(n)}function jne(n,t){let e=null;const i=function X0(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?Hf(n,s,!0):c_(i,s))return r}else e=r}return e}function al(n){const t=nt()[Cr][es];if(!t.projection){const i=t.projection=K_(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?jne(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Rr(n,t=0,e){const i=nt(),r=Zn(),s=Lp(r,Hn+n,16,null,e||null);null===s.projection&&(s.projection=t),sp(),(!i[Zs]||Id())&&32!=(32&s.flags)&&function UJ(n,t,e){Y2(t[hn],0,t,e,RI(n,e,t),H2(e.parent||t[es],e,t))}(r,i,s)}function Yl(n,t,e){return Iw(n,"",t,"",e),Yl}function Iw(n,t,e,i,r){const s=nt(),o=Vp(s,t,e,i);return o!==Cn&&ua(Zn(),Ki(),s,n,o,s[hn],r,!1),Iw}function Sw(n,t){return n<<17|t<<2}function Vd(n){return n>>17&32767}function MS(n){return 2|n}function hh(n){return(131068&n)>>2}function RS(n,t){return-131069&n|t<<2}function OS(n){return 1|n}function YB(n,t,e,i,r){const s=n[e+1],o=null===t;let c=i?Vd(s):hh(s),u=!1;for(;0!==c&&(!1===u||o);){const _=n[c+1];Xne(n[c],t)&&(u=!0,n[c+1]=i?OS(_):MS(_)),c=i?Vd(_):hh(_)}u&&(n[e+1]=i?MS(s):OS(s))}function Xne(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&bp(n,t)>=0}const fs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qB(n){return n.substring(fs.key,fs.keyEnd)}function XB(n,t){const e=fs.textEnd;return e===t?-1:(t=fs.keyEnd=function Jne(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,fs.key=t,e),$p(n,t,e))}function $p(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Es(n,t,e){return ll(n,t,e,!1),Es}function Ut(n,t){return ll(n,t,null,!0),Ut}function Co(n){!function cl(n,t,e,i){const r=Zn(),s=sl(2);r.firstUpdatePass&&tz(r,null,s,i);const o=nt();if(e!==Cn&&Js(o,s,e)){const c=r.data[Ls()];if(sz(c,i)&&!ez(r,s)){let u=i?c.classesWithoutHost:c.stylesWithoutHost;null!==u&&(e=wr(u,e||"")),AS(r,c,o,e,i)}else!function cie(n,t,e,i,r,s,o,c){r===Cn&&(r=li);let u=0,f=0,_=0<r.length?r[0]:null,x=0<s.length?s[0]:null;for(;null!==_||null!==x;){const T=u<r.length?r[u+1]:void 0,R=f<s.length?s[f+1]:void 0;let B,F=null;_===x?(u+=2,f+=2,T!==R&&(F=x,B=R)):null===x||null!==_&&_<x?(u+=2,F=_):(f+=2,F=x,B=R),null!==F&&iz(n,t,e,i,F,B,o,c),_=u<r.length?r[u]:null,x=f<s.length?s[f]:null}}(r,c,o,o[hn],o[s+1],o[s+1]=function aie(n,t,e){if(null==e||""===e)return li;const i=[],r=ca(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}(lie,Xl,n,!0)}function Xl(n,t){for(let e=function Kne(n){return function KB(n){fs.key=0,fs.keyEnd=0,fs.value=0,fs.valueEnd=0,fs.textEnd=n.length}(n),XB(n,$p(n,0,fs.textEnd))}(t);e>=0;e=XB(t,e))la(n,qB(t),!0)}function ll(n,t,e,i){const r=nt(),s=Zn(),o=sl(2);s.firstUpdatePass&&tz(s,n,o,i),t!==Cn&&Js(r,o,t)&&iz(s,s.data[Ls()],r,r[hn],n,r[o+1]=function die(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Wt(ca(n)))),n}(t,e),i,o)}function ez(n,t){return t>=n.expandoStartIndex}function tz(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Ls()],o=ez(n,e);sz(s,i)&&null===t&&!o&&(t=!1),t=function iie(n,t,e,i){const r=kd(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=xv(e=PS(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=PS(r,n,t,e,i),null===s){let u=function rie(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==hh(i))return n[Vd(i)]}(n,t,i);void 0!==u&&Array.isArray(u)&&(u=PS(null,n,t,u[1],i),u=xv(u,t.attrs,i),function sie(n,t,e,i){n[Vd(e?t.classBindings:t.styleBindings)]=i}(n,t,i,u))}else s=function oie(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=xv(i,n[s].hostAttrs,e);return xv(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function Yne(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,c=Vd(o),u=hh(o);n[i]=e;let _,f=!1;if(Array.isArray(e)?(_=e[1],(null===_||bp(e,_)>0)&&(f=!0)):_=e,r)if(0!==u){const T=Vd(n[c+1]);n[i+1]=Sw(T,c),0!==T&&(n[T+1]=RS(n[T+1],i)),n[c+1]=function Gne(n,t){return 131071&n|t<<17}(n[c+1],i)}else n[i+1]=Sw(c,0),0!==c&&(n[c+1]=RS(n[c+1],i)),c=i;else n[i+1]=Sw(u,0),0===c?c=i:n[u+1]=RS(n[u+1],i),u=i;f&&(n[i+1]=MS(n[i+1])),YB(n,_,i,!0),YB(n,_,i,!1),function qne(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&bp(s,t)>=0&&(e[i+1]=OS(e[i+1]))}(t,_,n,i,s),o=Sw(c,u),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function PS(n,t,e,i,r){let s=null;const o=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<o&&(s=t[c],i=xv(i,s.hostAttrs,r),s!==n);)c++;return null!==n&&(e.directiveStylingLast=c),i}function xv(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),la(n,o,!!e||t[++s]))}return void 0===n?null:n}function lie(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&la(n,i,e)}function iz(n,t,e,i,r,s,o,c){if(!(3&t.type))return;const u=n.data,f=u[c+1],_=function $ne(n){return 1==(1&n)}(f)?rz(u,t,e,r,hh(f),o):void 0;Aw(_)||(Aw(s)||function Wne(n){return 2==(2&n)}(f)&&(s=rz(u,null,e,r,c,o)),function WJ(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:Nd.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Nd.Important),n.setStyle(e,i,r,s))}}(i,o,tp(Ls(),e),r,s))}function rz(n,t,e,i,r,s){const o=null===t;let c;for(;r>0;){const u=n[r],f=Array.isArray(u),_=f?u[1]:u,x=null===_;let T=e[r+1];T===Cn&&(T=x?li:void 0);let R=x?yI(T,i):_===i?T:void 0;if(f&&!Aw(R)&&(R=yI(u,i)),Aw(R)&&(c=R,o))return c;const F=n[r+1];r=o?Vd(F):hh(F)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(c=yI(u,i))}return c}function Aw(n){return void 0!==n}function sz(n,t){return 0!=(n.flags&(t?8:16))}function Pe(n,t=""){const e=nt(),i=Zn(),r=n+Hn,s=i.firstCreatePass?Lp(i,r,1,t,null):i.data[r],o=oz(i,e,s,t,n);e[r]=o,Md()&&Qx(i,e,o,s),Go(s,!1)}let oz=(n,t,e,i,r)=>(Hl(!0),function qx(n,t){return n.createText(t)}(t[hn],i));function dn(n){return Rn("",n,""),dn}function Rn(n,t,e){const i=nt(),r=Vp(i,n,t,e);return r!==Cn&&Bc(i,Ls(),r),Rn}function kw(n,t,e,i,r){const s=nt(),o=function Bp(n,t,e,i,r,s){const c=dh(n,oa(),e,r);return sl(2),c?t+h(e)+i+h(r)+s:Cn}(s,n,t,e,i,r);return o!==Cn&&Bc(s,Ls(),o),kw}function NS(n,t,e,i,r,s,o){const c=nt(),u=function zp(n,t,e,i,r,s,o,c){const f=Cw(n,oa(),e,r,o);return sl(3),f?t+h(e)+i+h(r)+s+h(o)+c:Cn}(c,n,t,e,i,r,s,o);return u!==Cn&&Bc(c,Ls(),u),NS}function Eo(n,t,e){const i=nt();return Js(i,Ad(),t)&&ua(Zn(),Ki(),i,n,t,i[hn],e,!0),Eo}function Mw(n,t,e){const i=nt();if(Js(i,Ad(),t)){const s=Zn(),o=Ki();ua(s,o,i,n,t,rB(kd(s.data),o,i),e,!0)}return Mw}const fh=void 0;var Rie=["en",[["a","p"],["AM","PM"],fh],[["AM","PM"],fh,fh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fh,"{1} 'at' {0}",fh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mie(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Yp={};function Do(n){const t=function Pie(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Cz(t);if(e)return e;const i=t.split("-")[0];if(e=Cz(i),e)return e;if("en"===i)return Rie;throw new l(701,!1)}function Cz(n){return n in Yp||(Yp[n]=Ai.ng&&Ai.ng.common&&Ai.ng.common.locales&&Ai.ng.common.locales[n]),Yp[n]}var Qi=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Qi||{});const qp="en-US";let Ez=qp;function VS(n,t,e,i,r){if(n=be(n),Array.isArray(n))for(let s=0;s<n.length;s++)VS(n[s],t,e,i,r);else{const s=Zn(),o=nt(),c=zr();let u=ch(n)?n:be(n.provide);const f=pV(n),_=1048575&c.providerIndexes,x=c.directiveStart,T=c.providerIndexes>>20;if(ch(n)||!n.multi){const R=new Ul(f,r,W),F=zS(u,t,r?_:_+T,x);-1===F?(Rd(qt(c,o),s,u),BS(s,n,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(R),o.push(R)):(e[F]=R,o[F]=R)}else{const R=zS(u,t,_+T,x),F=zS(u,t,_,_+T),j=F>=0&&e[F];if(r&&!j||!r&&!(R>=0&&e[R])){Rd(qt(c,o),s,u);const oe=function Mre(n,t,e,i,r){const s=new Ul(n,e,W);return s.multi=[],s.index=t,s.componentProviders=0,Xz(s,r,i&&!e),s}(r?kre:Are,e.length,r,i,f);!r&&j&&(e[F].providerFactory=oe),BS(s,n,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(oe),o.push(oe)}else BS(s,n,R>-1?R:F,Xz(e[r?F:R],f,!r&&i));!r&&i&&j&&e[F].componentProviders++}}}function BS(n,t,e,i){const r=ch(t),s=function Cee(n){return!!n.useClass}(t);if(r||s){const u=(s?be(t.useClass):t).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const _=f.indexOf(e);-1===_?f.push(e,[i,u]):f[_+1].push(i,u)}else f.push(e,u)}}}function Xz(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function zS(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function Are(n,t,e,i){return HS(this.multi,[])}function kre(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,c=ol(e,e[At],this.providerFactory.index,i);s=c.slice(0,o),HS(r,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],HS(r,s);return s}function HS(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function fi(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Sre(n,t,e){const i=Zn();if(i.firstCreatePass){const r=yo(n);VS(e,i.data,i.blueprint,r,!0),VS(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class ph{}class Zz{}class US extends ph{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hB(this);const r=Ps(t);this._bootstrapComponents=Vc(r.bootstrap),this._r3Injector=TV(t,e,[{provide:ph,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver},...i],Wt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class jS extends Zz{constructor(t){super(),this.moduleType=t}create(t){return new US(this.moduleType,t,[])}}class Kz extends ph{constructor(t){super(),this.componentFactoryResolver=new hB(this),this.instance=null;const e=new Ip([...t.providers,{provide:ph,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],t.parent||ow(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function WS(n,t,e=null){return new Kz({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let Pre=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=dV(0,e.type),r=i.length>0?WS([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ce({token:n,providedIn:"environment",factory:()=>new n(fe(xo))})}return n})();function To(n){n.getStandaloneInjector=t=>t.get(Pre).getOrCreateStandaloneInjector(n)}function Io(n,t,e){const i=Cs()+n,r=nt();return r[i]===Cn?$l(r,i,e?t.call(e):t()):pv(r,i)}function dl(n,t,e,i){return aH(nt(),Cs(),n,t,e,i)}function Ur(n,t,e,i,r){return lH(nt(),Cs(),n,t,e,i,r)}function Xp(n,t,e,i,r,s){return cH(nt(),Cs(),n,t,e,i,r,s)}function rH(n,t,e,i,r,s,o){return function dH(n,t,e,i,r,s,o,c,u){const f=t+e;return La(n,f,r,s,o,c)?$l(n,f+4,u?i.call(u,r,s,o,c):i(r,s,o,c)):Sv(n,f+4)}(nt(),Cs(),n,t,e,i,r,s,o)}function $S(n,t,e,i,r,s,o,c){const u=Cs()+n,f=nt(),_=La(f,u,e,i,r,s);return Js(f,u+4,o)||_?$l(f,u+5,c?t.call(c,e,i,r,s,o):t(e,i,r,s,o)):pv(f,u+5)}function YS(n,t,e,i){return function uH(n,t,e,i,r,s){let o=t+e,c=!1;for(let u=0;u<r.length;u++)Js(n,o++,r[u])&&(c=!0);return c?$l(n,o,i.apply(s,r)):Sv(n,o)}(nt(),Cs(),n,t,e,i)}function Sv(n,t){const e=n[t];return e===Cn?void 0:e}function aH(n,t,e,i,r,s){const o=t+e;return Js(n,o,r)?$l(n,o+1,s?i.call(s,r):i(r)):Sv(n,o+1)}function lH(n,t,e,i,r,s,o){const c=t+e;return dh(n,c,r,s)?$l(n,c+2,o?i.call(o,r,s):i(r,s)):Sv(n,c+2)}function cH(n,t,e,i,r,s,o,c){const u=t+e;return Cw(n,u,r,s,o)?$l(n,u+3,c?i.call(c,r,s,o):i(r,s,o)):Sv(n,u+3)}function Nt(n,t){const e=Zn();let i;const r=n+Hn;e.firstCreatePass?(i=function Wre(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=kc(i.type)),c=hi(W);try{const u=M(!1),f=s();return M(u),function Nne(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,nt(),r,f),f}finally{hi(c)}}function vn(n,t,e){const i=n+Hn,r=nt(),s=Dd(r,i);return Av(r,i)?aH(r,Cs(),t,s.transform,e,s):s.transform(e)}function So(n,t,e,i){const r=n+Hn,s=nt(),o=Dd(s,r);return Av(s,r)?lH(s,Cs(),t,o.transform,e,i,o):o.transform(e,i)}function ul(n,t,e,i,r){const s=n+Hn,o=nt(),c=Dd(o,s);return Av(o,s)?cH(o,Cs(),t,c.transform,e,i,r,c):c.transform(e,i,r)}function Av(n,t){return n[At].data[t].pure}function Yre(){return this._results[Symbol.iterator]()}class qS{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new We)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=qS.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Yre)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Na(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function YQ(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Xre(n,t,e,i=!0){const r=t[At];if(function LJ(n,t,e,i){const r=ds+i,s=e.length;i>0&&(e[r-1][_o]=t),i<s-ds?(t[_o]=e[r],h2(e,ds+i,t)):(e.push(t),t[_o]=null),t[Zi]=e;const o=t[Sc];null!==o&&e!==o&&function FJ(n,t){const e=n[Ku];t[Cr]!==t[Zi][Zi][Cr]&&(n[tx]=!0),null===e?n[Ku]=[t]:e.push(t)}(o,t);const c=t[Ra];null!==c&&c.insertView(n),t[_n]|=128}(r,t,n,e),i){const s=PI(e,n),o=t[hn],c=Kx(o,n[il]);null!==c&&function OJ(n,t,e,i,r,s){i[pr]=r,i[es]=t,nv(n,i,e,1,r,s)}(r,n[es],o,t,c,s)}}let lr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Qre}return n})();const Zre=lr,Kre=class extends Zre{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function qre(n,t,e,i){const r=t.tView,c=_w(n,r,e,4096&n[_n]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);c[Sc]=n[t.index];const f=n[Ra];return null!==f&&(c[Ra]=f.createEmbeddedView(r)),wS(r,c,e),c}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new uv(r)}};function Qre(){return Lw(zr(),nt())}function Lw(n,t){return 4&n.type?new Kre(t,n,Mp(n,t)):null}let Vs=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=rse}return n})();function rse(){return vH(zr(),nt())}const sse=Vs,mH=class extends sse{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Mp(this._hostTNode,this._hostLView)}get injector(){return new bo(this._hostTNode,this._hostLView)}get parentInjector(){const t=aa(this._hostTNode,this._hostLView);if(Y_(t)){const e=y(t,this._hostLView),i=dp(t);return new bo(e[At].data[i+8],e)}return new bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=_H(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ds}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const c=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(c,r,false),c}createComponent(t,e,i,r,s){const o=t&&!function Z_(n){return"function"==typeof n}(t);let c;if(o)c=e;else{const B=e||{};c=B.index,i=B.injector,r=B.projectableNodes,s=B.environmentInjector||B.ngModuleRef}const u=o?t:new hv(Xn(t)),f=i||this.parentInjector;if(!s&&null==u.ngModule){const j=(o?f:this.parentInjector).get(xo,null);j&&(s=j)}Xn(u.componentType??{});const R=u.create(f,r,null,s);return this.insertImpl(R.hostView,c,false),R}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function eI(n){return Ks(n[Zi])}(r)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const f=r[Zi],_=new mH(f,f[es],f[Zi]);_.detach(_.indexOf(t))}}const o=this._adjustIndex(e),c=this._lContainer;return Xre(c,r,o,!i),t.attachToViewContainerRef(),h2(XS(c),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=_H(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Zx(this._lContainer,e);i&&(zx(XS(this._lContainer),e),kI(i[At],i))}detach(t){const e=this._adjustIndex(t,-1),i=Zx(this._lContainer,e);return i&&null!=zx(XS(this._lContainer),e)?new uv(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function _H(n){return n[8]}function XS(n){return n[8]||(n[8]=[])}function vH(n,t){let e;const i=t[n.index];return Ks(i)?e=i:(e=eB(i,t,null,n),t[n.index]=e,vw(t,e)),yH(e,t,n,i),new mH(e,n,t)}let yH=function bH(n,t,e,i){if(n[il])return;let r;r=8&e.type?Ui(i):function ose(n,t){const e=n[hn],i=e.createComment(""),r=ws(t,n);return oh(e,Kx(e,r),i,function HJ(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[il]=r};class ZS{constructor(t){this.queryList=t,this.matches=null}clone(){return new ZS(this.queryList)}setDirty(){this.queryList.setDirty()}}class KS{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new KS(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==DH(t,e).matches&&this.queries[e].setDirty()}}class xH{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class QS{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new QS(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class JS{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new JS(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,cse(e,s)),this.matchTNodeWithReadOption(t,e,ih(e,t,s,!1,!1))}else i===lr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ih(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Gt||r===Vs||r===lr&&4&e.type)this.addMatch(e.index,-2);else{const s=ih(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function cse(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function use(n,t,e,i){return-1===e?function dse(n,t){return 11&n.type?Mp(n,t):4&n.type?Lw(n,t):null}(t,n):-2===e?function hse(n,t,e){return e===Gt?Mp(t,n):e===lr?Lw(t,n):e===Vs?vH(t,n):void 0}(n,t,i):ol(n,n[At],e,t)}function wH(n,t,e,i){const r=t[Ra].queries[i];if(null===r.matches){const s=n.data,o=e.matches,c=[];for(let u=0;u<o.length;u+=2){const f=o[u];c.push(f<0?null:use(t,s[f],o[u+1],e.metadata.read))}r.matches=c}return r.matches}function eA(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=wH(n,t,r,e);for(let c=0;c<s.length;c+=2){const u=s[c];if(u>0)i.push(o[c/2]);else{const f=s[c+1],_=t[-u];for(let x=ds;x<_.length;x++){const T=_[x];T[Sc]===T[Zi]&&eA(T[At],T,f,i)}if(null!==_[Ku]){const x=_[Ku];for(let T=0;T<x.length;T++){const R=x[T];eA(R[At],R,f,i)}}}}}return i}function Jt(n){const t=nt(),e=Zn(),i=Sx();z_(i+1);const r=DH(e,i);if(n.dirty&&function JT(n){return 4==(4&n[_n])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?eA(e,t,i,[]):wH(e,t,r,i);n.reset(s,Wee),n.notifyOnChanges()}return!0}return!1}function Ji(n,t,e){const i=Zn();i.firstCreatePass&&(EH(i,new xH(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),CH(i,nt(),t)}function yi(n,t,e,i){const r=Zn();if(r.firstCreatePass){const s=zr();EH(r,new xH(t,e,i),s.index),function pse(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}CH(r,nt(),e)}function en(){return function fse(n,t){return n[Ra].queries[t].queryList}(nt(),Sx())}function CH(n,t,e){const i=new qS(4==(4&e));(function Cte(n,t,e,i){const r=nB(t);r.push(e),n.firstCreatePass&&iB(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[Ra]&&(t[Ra]=new KS),t[Ra].queries.push(new ZS(i))}function EH(n,t,e){null===n.queries&&(n.queries=new QS),n.queries.track(new JS(t,e))}function DH(n,t){return n.queries.getByIndex(t)}function Gi(n,t){return Lw(n,t)}const oA=new je("Application Initializer");let aA=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=He(oA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(bv(s))e.push(s);else if(NB(s)){const o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UH=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const eo=new je("LocaleId",{providedIn:"root",factory:()=>He(eo,mn.Optional|mn.SkipSelf)||function Nse(){return typeof $localize<"u"&&$localize.locale||qp}()});let Bw=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new G(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Vse{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let jH=(()=>{class n{compileModuleSync(e){return new jS(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Vc(Ps(e).declarations).reduce((o,c)=>{const u=Xn(c);return u&&o.push(new hv(u)),o},[]);return new Vse(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const YH=new je(""),Hw=new je("");let hA,dA=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hA||(function ooe(n){hA=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ht.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ht),fe(uA),fe(Hw))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),uA=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return hA?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Bd=null;const qH=new je("AllowMultipleToken"),fA=new je("PlatformDestroyListeners"),pA=new je("appBootstrapListener");class ZH{constructor(t,e){this.name=t,this.token=e}}function QH(n,t,e=[]){const i=`Platform: ${t}`,r=new je(i);return(s=[])=>{let o=gA();if(!o||o.injector.get(qH,!1)){const c=[...e,...s,{provide:r,useValue:!0}];n?n(c):function coe(n){if(Bd&&!Bd.get(qH,!1))throw new l(400,!1);(function XH(){!function Qf(n){cx=n}(()=>{throw new l(600,!1)})})(),Bd=n;const t=n.get(eU);(function KH(n){n.get(gV,null)?.forEach(e=>e())})(n)}(function JH(n=[],t){return Er.create({name:t,providers:[{provide:GI,useValue:"platform"},{provide:fA,useValue:new Set([()=>Bd=null])},...n]})}(c,i))}return function uoe(n){const t=gA();if(!t)throw new l(401,!1);return t}()}}function gA(){return Bd?.get(eU)??null}let eU=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function hoe(n="zone.js",t){return"noop"===n?new ste:"zone.js"===n?new ht(t):n}(i?.ngZone,function tU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function Ore(n,t,e){return new US(n,t,e)}(e.moduleType,this.injector,function oU(n){return[{provide:ht,useFactory:n},{provide:sv,multi:!0,useFactory:()=>{const t=He(poe,{optional:!0});return()=>t.initialize()}},{provide:sU,useFactory:foe},{provide:MV,useFactory:RV}]}(()=>r)),o=s.injector.get(Fc,null);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Uw(this._modules,s),c.unsubscribe()})}),function nU(n,t,e){try{const i=e();return bv(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const c=s.injector.get(aA);return c.runInitializers(),c.donePromise.then(()=>(function Dz(n){Q(n,"Expected localeId to be defined"),"string"==typeof n&&(Ez=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(eo,qp)||qp),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=iU({},i);return function aoe(n,t,e){const i=new jS(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Fa);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new l(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new l(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(fA,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(fe(Er))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function iU(n,t){return Array.isArray(t)?t.reduce(iU,n):{...n,...t}}let Fa=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=He(sU),this.zoneIsStable=He(MV),this.componentTypes=[],this.components=[],this.isStable=He(Bw).hasPendingTasks.pipe(vt(e=>e?he(!1):this.zoneIsStable),tn(),ze()),this._injector=He(xo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof yV;if(!this._injector.get(aA).done)throw!r&&function Tc(n){const t=Xn(n)||ls(n)||cs(n);return null!==t&&t.standalone}(e),new l(405,!1);let o;o=r?e:this._injector.get(Ld).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const c=function loe(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ph),f=o.create(Er.NULL,[],i||o.selector,c),_=f.location.nativeElement,x=f.injector.get(YH,null);return x?.registerApplication(_),f.onDestroy(()=>{this.detachView(f.hostView),Uw(this.components,f),x?.unregisterApplication(_)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new l(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Uw(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(pA,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Uw(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new l(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Uw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const sU=new je("",{providedIn:"root",factory:()=>He(Fc).handleError.bind(void 0)});function foe(){const n=He(ht),t=He(Fc);return e=>n.runOutsideAngular(()=>t.handleError(e))}let poe=(()=>{class n{constructor(){this.zone=He(ht),this.applicationRef=He(Fa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Dr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=moe}return n})();function moe(n){return function _oe(n,t,e){if(xd(n)&&!e){const i=Ns(n.index,t);return new uv(i,i)}return 47&n.type?new uv(t[Cr],t):null}(zr(),nt(),16==(16&n))}class dU{constructor(){}supports(t){return ww(t)}create(t){return new Coe(t)}}const woe=(n,t)=>t;class Coe{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||woe}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<hU(i,r,s)?e:i,c=hU(o,r,s),u=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const f=c-r,_=u-r;if(f!=_){for(let T=0;T<f;T++){const R=T<s.length?s[T]:s[T]=0,F=R+T;_<=F&&F<f&&(s[T]=R+1)}s[o.previousIndex]=_-f}}c!==u&&t(o,c,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ww(t))throw new l(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)s=t[c],o=this._trackByFn(c,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,c)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,c),i=!0),e=e._next}else r=0,function pne(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,c=>{o=this._trackByFn(r,c),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,c,o,r)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new Eoe(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new uU),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uU),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Eoe{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Doe{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class uU{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Doe,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hU(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class fU{constructor(){}supports(t){return t instanceof Map||CS(t)}create(){return new Toe}}class Toe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||CS(t)))throw new l(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new Ioe(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Ioe{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pU(){return new Gw([new dU])}let Gw=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:pU});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||pU()),deps:[[n,new sh,new Pd]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new l(901,!1)}}return n})();function gU(){return new Rv([new fU])}let Rv=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:gU});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||gU()),deps:[[n,new sh,new Pd]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new l(901,!1)}}return n})();const koe=QH(null,"core",[]);let Moe=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(fe(Fa))};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})();function Qp(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function wA(n,t){const e=Xn(n),i=t.elementInjector||ow();return new hv(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let CA=null;function zd(){return CA}class Goe{}const ln=new je("DocumentToken");let EA=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return He(Yoe)},providedIn:"platform"})}return n})();const $oe=new je("Location Initialized");let Yoe=(()=>{class n extends EA{constructor(){super(),this._doc=He(ln),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zd().getBaseHref(this._doc)}onPopState(e){const i=zd().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=zd().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function DA(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function EU(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function zc(n){return n&&"?"!==n[0]?"?"+n:n}let mh=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return He(TU)},providedIn:"root"})}return n})();const DU=new je("appBaseHref");let TU=(()=>{class n extends mh{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??He(ln).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return DA(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+zc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+zc(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+zc(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(EA),fe(DU,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qoe=(()=>{class n extends mh{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=DA(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+zc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+zc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(EA),fe(DU,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),Yw=(()=>{class n{constructor(e){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Koe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(EU(IU(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+zc(i))}normalize(e){return n.stripTrailingSlash(function Zoe(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,IU(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+zc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+zc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=zc;static#t=this.joinWithSlash=DA;static#n=this.stripTrailingSlash=EU;static#i=this.\u0275fac=function(i){return new(i||n)(fe(mh))};static#r=this.\u0275prov=ce({token:n,factory:function(){return function Xoe(){return new Yw(fe(mh))}()},providedIn:"root"})}return n})();function IU(n){return n.replace(/\/index.html$/,"")}var Jp=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}(Jp||{}),Ds=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ds||{}),pi=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(pi||{}),ha=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ha||{}),jr=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(jr||{});function Xw(n,t){return Ba(Do(n)[Qi.DateFormat],t)}function Zw(n,t){return Ba(Do(n)[Qi.TimeFormat],t)}function Kw(n,t){return Ba(Do(n)[Qi.DateTimeFormat],t)}function Va(n,t){const e=Do(n),i=e[Qi.NumberSymbols][t];if(typeof i>"u"){if(t===jr.CurrencyDecimal)return e[Qi.NumberSymbols][jr.Decimal];if(t===jr.CurrencyGroup)return e[Qi.NumberSymbols][jr.Group]}return i}const iae=function wz(n){return Do(n)[Qi.PluralCase]};function kU(n){if(!n[Qi.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Qi.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ba(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function SA(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const cae=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ov={},dae=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Hc=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Hc||{}),Ei=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ei||{}),Di=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Di||{});function ts(n,t,e,i){let r=function yae(n){if(OU(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(c=>+c);return Qw(r,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(cae))return function bae(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,c=Number(n[5]||0)-i,u=Number(n[6]||0),f=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,c,u,f),t}(i)}const t=new Date(n);if(!OU(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Uc(e,t)||t;let c,o=[];for(;t;){if(c=dae.exec(t),!c){o.push(t);break}{o=o.concat(c.slice(1));const _=o.pop();if(!_)break;t=_}}let u=r.getTimezoneOffset();i&&(u=RU(i,u),r=function vae(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function _ae(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(RU(t,r)-r))}(r,i,!0));let f="";return o.forEach(_=>{const x=function mae(n){if(kA[n])return kA[n];let t;switch(n){case"G":case"GG":case"GGG":t=er(Di.Eras,pi.Abbreviated);break;case"GGGG":t=er(Di.Eras,pi.Wide);break;case"GGGGG":t=er(Di.Eras,pi.Narrow);break;case"y":t=ns(Ei.FullYear,1,0,!1,!0);break;case"yy":t=ns(Ei.FullYear,2,0,!0,!0);break;case"yyy":t=ns(Ei.FullYear,3,0,!1,!0);break;case"yyyy":t=ns(Ei.FullYear,4,0,!1,!0);break;case"Y":t=nC(1);break;case"YY":t=nC(2,!0);break;case"YYY":t=nC(3);break;case"YYYY":t=nC(4);break;case"M":case"L":t=ns(Ei.Month,1,1);break;case"MM":case"LL":t=ns(Ei.Month,2,1);break;case"MMM":t=er(Di.Months,pi.Abbreviated);break;case"MMMM":t=er(Di.Months,pi.Wide);break;case"MMMMM":t=er(Di.Months,pi.Narrow);break;case"LLL":t=er(Di.Months,pi.Abbreviated,Ds.Standalone);break;case"LLLL":t=er(Di.Months,pi.Wide,Ds.Standalone);break;case"LLLLL":t=er(Di.Months,pi.Narrow,Ds.Standalone);break;case"w":t=AA(1);break;case"ww":t=AA(2);break;case"W":t=AA(1,!0);break;case"d":t=ns(Ei.Date,1);break;case"dd":t=ns(Ei.Date,2);break;case"c":case"cc":t=ns(Ei.Day,1);break;case"ccc":t=er(Di.Days,pi.Abbreviated,Ds.Standalone);break;case"cccc":t=er(Di.Days,pi.Wide,Ds.Standalone);break;case"ccccc":t=er(Di.Days,pi.Narrow,Ds.Standalone);break;case"cccccc":t=er(Di.Days,pi.Short,Ds.Standalone);break;case"E":case"EE":case"EEE":t=er(Di.Days,pi.Abbreviated);break;case"EEEE":t=er(Di.Days,pi.Wide);break;case"EEEEE":t=er(Di.Days,pi.Narrow);break;case"EEEEEE":t=er(Di.Days,pi.Short);break;case"a":case"aa":case"aaa":t=er(Di.DayPeriods,pi.Abbreviated);break;case"aaaa":t=er(Di.DayPeriods,pi.Wide);break;case"aaaaa":t=er(Di.DayPeriods,pi.Narrow);break;case"b":case"bb":case"bbb":t=er(Di.DayPeriods,pi.Abbreviated,Ds.Standalone,!0);break;case"bbbb":t=er(Di.DayPeriods,pi.Wide,Ds.Standalone,!0);break;case"bbbbb":t=er(Di.DayPeriods,pi.Narrow,Ds.Standalone,!0);break;case"B":case"BB":case"BBB":t=er(Di.DayPeriods,pi.Abbreviated,Ds.Format,!0);break;case"BBBB":t=er(Di.DayPeriods,pi.Wide,Ds.Format,!0);break;case"BBBBB":t=er(Di.DayPeriods,pi.Narrow,Ds.Format,!0);break;case"h":t=ns(Ei.Hours,1,-12);break;case"hh":t=ns(Ei.Hours,2,-12);break;case"H":t=ns(Ei.Hours,1);break;case"HH":t=ns(Ei.Hours,2);break;case"m":t=ns(Ei.Minutes,1);break;case"mm":t=ns(Ei.Minutes,2);break;case"s":t=ns(Ei.Seconds,1);break;case"ss":t=ns(Ei.Seconds,2);break;case"S":t=ns(Ei.FractionalSeconds,1);break;case"SS":t=ns(Ei.FractionalSeconds,2);break;case"SSS":t=ns(Ei.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=eC(Hc.Short);break;case"ZZZZZ":t=eC(Hc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=eC(Hc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=eC(Hc.Long);break;default:return null}return kA[n]=t,t}(_);f+=x?x(r,e,u):"''"===_?"'":_.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function Qw(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Uc(n,t){const e=function Joe(n){return Do(n)[Qi.LocaleId]}(n);if(Ov[e]=Ov[e]||{},Ov[e][t])return Ov[e][t];let i="";switch(t){case"shortDate":i=Xw(n,ha.Short);break;case"mediumDate":i=Xw(n,ha.Medium);break;case"longDate":i=Xw(n,ha.Long);break;case"fullDate":i=Xw(n,ha.Full);break;case"shortTime":i=Zw(n,ha.Short);break;case"mediumTime":i=Zw(n,ha.Medium);break;case"longTime":i=Zw(n,ha.Long);break;case"fullTime":i=Zw(n,ha.Full);break;case"short":const r=Uc(n,"shortTime"),s=Uc(n,"shortDate");i=Jw(Kw(n,ha.Short),[r,s]);break;case"medium":const o=Uc(n,"mediumTime"),c=Uc(n,"mediumDate");i=Jw(Kw(n,ha.Medium),[o,c]);break;case"long":const u=Uc(n,"longTime"),f=Uc(n,"longDate");i=Jw(Kw(n,ha.Long),[u,f]);break;case"full":const _=Uc(n,"fullTime"),x=Uc(n,"fullDate");i=Jw(Kw(n,ha.Full),[_,x])}return i&&(Ov[e][t]=i),i}function Jw(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function hl(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o}function ns(n,t,e=0,i=!1,r=!1){return function(s,o){let c=function hae(n,t){switch(n){case Ei.FullYear:return t.getFullYear();case Ei.Month:return t.getMonth();case Ei.Date:return t.getDate();case Ei.Hours:return t.getHours();case Ei.Minutes:return t.getMinutes();case Ei.Seconds:return t.getSeconds();case Ei.FractionalSeconds:return t.getMilliseconds();case Ei.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||c>-e)&&(c+=e),n===Ei.Hours)0===c&&-12===e&&(c=12);else if(n===Ei.FractionalSeconds)return function uae(n,t){return hl(n,3).substring(0,t)}(c,t);const u=Va(o,jr.MinusSign);return hl(c,t,u,i,r)}}function er(n,t,e=Ds.Format,i=!1){return function(r,s){return function fae(n,t,e,i,r,s){switch(e){case Di.Months:return function TA(n,t,e){const i=Do(n),s=Ba([i[Qi.MonthsFormat],i[Qi.MonthsStandalone]],t);return Ba(s,e)}(t,r,i)[n.getMonth()];case Di.Days:return function AU(n,t,e){const i=Do(n),s=Ba([i[Qi.DaysFormat],i[Qi.DaysStandalone]],t);return Ba(s,e)}(t,r,i)[n.getDay()];case Di.DayPeriods:const o=n.getHours(),c=n.getMinutes();if(s){const f=function rae(n){const t=Do(n);return kU(t),(t[Qi.ExtraData][2]||[]).map(i=>"string"==typeof i?SA(i):[SA(i[0]),SA(i[1])])}(t),_=function sae(n,t,e){const i=Do(n);kU(i);const s=Ba([i[Qi.ExtraData][0],i[Qi.ExtraData][1]],t)||[];return Ba(s,e)||[]}(t,r,i),x=f.findIndex(T=>{if(Array.isArray(T)){const[R,F]=T,B=o>=R.hours&&c>=R.minutes,j=o<F.hours||o===F.hours&&c<F.minutes;if(R.hours<F.hours){if(B&&j)return!0}else if(B||j)return!0}else if(T.hours===o&&T.minutes===c)return!0;return!1});if(-1!==x)return _[x]}return function eae(n,t,e){const i=Do(n),s=Ba([i[Qi.DayPeriodsFormat],i[Qi.DayPeriodsStandalone]],t);return Ba(s,e)}(t,r,i)[o<12?0:1];case Di.Eras:return function tae(n,t){return Ba(Do(n)[Qi.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function eC(n){return function(t,e,i){const r=-1*i,s=Va(e,jr.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Hc.Short:return(r>=0?"+":"")+hl(o,2,s)+hl(Math.abs(r%60),2,s);case Hc.ShortGMT:return"GMT"+(r>=0?"+":"")+hl(o,1,s);case Hc.Long:return"GMT"+(r>=0?"+":"")+hl(o,2,s)+":"+hl(Math.abs(r%60),2,s);case Hc.Extended:return 0===i?"Z":(r>=0?"+":"")+hl(o,2,s)+":"+hl(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const pae=0,tC=4;function MU(n){return Qw(n.getFullYear(),n.getMonth(),n.getDate()+(tC-n.getDay()))}function AA(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{const s=MU(e),o=function gae(n){const t=Qw(n,pae,1).getDay();return Qw(n,0,1+(t<=tC?tC:tC+7)-t)}(s.getFullYear()),c=s.getTime()-o.getTime();r=1+Math.round(c/6048e5)}return hl(r,n,Va(i,jr.MinusSign))}}function nC(n,t=!1){return function(e,i){return hl(MU(e).getFullYear(),n,Va(i,jr.MinusSign),t)}}const kA={};function RU(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function OU(n){return n instanceof Date&&!isNaN(n.valueOf())}let NA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(i){let r=null;return i?r=new i:(s=fe(eo),r=new Mae(s)),r;var s},providedIn:"root"})}return n})();let Mae=(()=>{class n extends NA{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(iae(i||this.locale)(e)){case Jp.Zero:return"zero";case Jp.One:return"one";case Jp.Two:return"two";case Jp.Few:return"few";case Jp.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(i){return new(i||n)(fe(eo))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function FU(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const LA=/\s+/,VU=[];let za=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=VU,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(LA):VU}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(LA):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(LA).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gw),W(Rv),W(Gt),W(Hr))};static#t=this.\u0275dir=$e({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Pae{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wr=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Pae(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,o),zU(c,r)}});for(let r=0,s=i.length;r<s;r++){const c=i.get(r).context;c.index=r,c.count=s,c.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{zU(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(W(Vs),W(lr),W(Gw))};static#t=this.\u0275dir=$e({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function zU(n,t){n.context.$implicit=t.item}let Tr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Nae,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){HU("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){HU("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(W(Vs),W(lr))};static#t=this.\u0275dir=$e({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Nae{constructor(){this.$implicit=null,this.ngIf=null}}function HU(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Wt(t)}'.`)}class FA{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let eg=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$e({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),rC=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new FA(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(W(Vs),W(lr),W(eg,9))};static#t=this.\u0275dir=$e({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),Nv=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:Nd.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(Rv),W(Hr))};static#t=this.\u0275dir=$e({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),ps=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(W(Vs))};static#t=this.\u0275dir=$e({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ln]})}return n})();function fl(n,t){return new l(2100,!1)}class Vae{createSubscription(t,e){return I_(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){I_(()=>t.unsubscribe())}}class Bae{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const zae=new Bae,Hae=new Vae;let VA=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(bv(e))return zae;if(NB(e))return Hae;throw fl()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(W(Dr,16))};static#t=this.\u0275pipe=Jr({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Yae=new je("DATE_PIPE_DEFAULT_TIMEZONE"),qae=new je("DATE_PIPE_DEFAULT_OPTIONS");let Lv=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return ts(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw fl()}}static#e=this.\u0275fac=function(i){return new(i||n)(W(eo,16),W(Yae,24),W(qae,24))};static#t=this.\u0275pipe=Jr({name:"date",type:n,pure:!0,standalone:!0})}return n})();const Xae=/#/g;let BA=(()=>{class n{constructor(e){this._localization=e}transform(e,i,r){if(null==e)return"";if("object"!=typeof i||null===i)throw fl();return i[function LU(n,t,e,i){let r=`=${n}`;if(t.indexOf(r)>-1||(r=e.getPluralCategory(n,i),t.indexOf(r)>-1))return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(e,Object.keys(i),this._localization,r)].replace(Xae,e.toString())}static#e=this.\u0275fac=function(i){return new(i||n)(W(NA,16))};static#t=this.\u0275pipe=Jr({name:"i18nPlural",type:n,pure:!0,standalone:!0})}return n})(),WU=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw fl();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Jr({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),jc=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})();const GU="browser";function UA(n){return n===GU}function sC(n){return"server"===n}let ole=(()=>{class n{static#e=this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new ale(fe(ln),window)})}return n})();class ale{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function lle(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class $U{}class Mle extends Goe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class GA extends Mle{static makeCurrent(){!function Woe(n){CA||(CA=n)}(new GA)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Rle(){return Vv=Vv||document.querySelector("base"),Vv?Vv.getAttribute("href"):null}();return null==e?null:function Ole(n){lC=lC||document.createElement("a"),lC.setAttribute("href",n);const t=lC.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Vv=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return FU(document.cookie,t)}}let lC,Vv=null,Nle=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const $A=new je("EventManagerPlugins");let KU=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new l(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(fe($A),fe(ht))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class QU{constructor(t){this._doc=t}}const YA="ng-app-id";let JU=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sC(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${YA}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(YA),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(YA,this.appId),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ln),fe(aw),fe(XI,8),fe(wo))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const qA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},XA=/%COMP%/g,Ble=new je("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function tj(n,t){return t.map(e=>e.replace(XA,n))}let ZA=(()=>{class n{constructor(e,i,r,s,o,c,u,f=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=sC(c),this.defaultRenderer=new KA(e,o,u,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===jo.ShadowDom&&(i={...i,encapsulation:jo.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof ij?r.applyToHost(e):r instanceof QA&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,c=this.ngZone,u=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestroy,x=this.platformIsServer;switch(i.encapsulation){case jo.Emulated:s=new ij(u,f,i,this.appId,_,o,c,x);break;case jo.ShadowDom:return new jle(u,f,e,i,o,c,this.nonce,x);default:s=new QA(u,f,i,_,o,c,x)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(fe(KU),fe(JU),fe(aw),fe(Ble),fe(ln),fe(wo),fe(ht),fe(XI))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class KA{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(qA[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(nj(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(nj(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new l(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=qA[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=qA[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Nd.DashCase|Nd.Important)?t.style.setProperty(e,i,r&Nd.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Nd.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=zd().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function nj(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class jle extends KA{constructor(t,e,i,r,s,o,c,u){super(t,s,o,u),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=tj(r.id,r.styles);for(const _ of f){const x=document.createElement("style");c&&x.setAttribute("nonce",c),x.textContent=_,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class QA extends KA{constructor(t,e,i,r,s,o,c,u){super(t,s,o,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=u?tj(u,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ij extends QA{constructor(t,e,i,r,s,o,c,u){const f=r+"-"+i.id;super(t,e,i,s,o,c,u,f),this.contentAttr=function zle(n){return"_ngcontent-%COMP%".replace(XA,n)}(f),this.hostAttr=function Hle(n){return"_nghost-%COMP%".replace(XA,n)}(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Wle=(()=>{class n extends QU{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ln))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const rj=["alt","control","meta","shift"],Gle={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$le={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yle=(()=>{class n extends QU{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zd().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),rj.forEach(f=>{const _=i.indexOf(f);_>-1&&(i.splice(_,1),o+=f+".")}),o+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=r,u.fullKey=o,u}static matchEventFullKeyCode(e,i){let r=Gle[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),rj.forEach(o=>{o!==r&&(0,$le[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ln))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const oj=[{provide:wo,useValue:GU},{provide:gV,useValue:function qle(){GA.makeCurrent()},multi:!0},{provide:ln,useFactory:function Zle(){return function XJ(n){FI=n}(document),document},deps:[]}],Kle=QH(koe,"browser",oj),Qle=new je(""),aj=[{provide:Hw,useClass:class Ple{addToWindow(t){Ai.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new l(5103,!1);return s},Ai.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ai.getAllAngularRootElements=()=>t.getAllRootElements(),Ai.frameworkStabilizers||(Ai.frameworkStabilizers=[]),Ai.frameworkStabilizers.push(i=>{const r=Ai.getAllAngularTestabilities();let s=r.length,o=!1;const c=function(u){o=o||u,s--,0==s&&i(o)};r.forEach(u=>{u.whenStable(c)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?zd().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:YH,useClass:dA,deps:[ht,uA,Hw]},{provide:dA,useClass:dA,deps:[ht,uA,Hw]}],lj=[{provide:GI,useValue:"root"},{provide:Fc,useFactory:function Xle(){return new Fc},deps:[]},{provide:$A,useClass:Wle,multi:!0,deps:[ln,ht,wo]},{provide:$A,useClass:Yle,multi:!0,deps:[ln]},ZA,JU,KU,{provide:Rp,useExisting:ZA},{provide:$U,useClass:Nle,deps:[]},[]];let cj=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:aw,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(fe(Qle,12))};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({providers:[...lj,...aj],imports:[jc,Moe]})}return n})(),dj=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ln))};static#t=this.\u0275prov=ce({token:n,factory:function(i){let r=null;return r=i?new i:function ece(){return new dj(fe(ln))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let fj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(i){let r=null;return r=i?new(i||n):fe(pj),r},providedIn:"root"})}return n})(),pj=(()=>{class n extends fj{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case da.NONE:return i;case da.HTML:return jl(i,"HTML")?ca(i):sV(this._doc,String(i)).toString();case da.STYLE:return jl(i,"Style")?ca(i):i;case da.SCRIPT:if(jl(i,"Script"))return ca(i);throw new l(5200,!1);case da.URL:return jl(i,"URL")?ca(i):nw(String(i));case da.RESOURCE_URL:if(jl(i,"ResourceURL"))return ca(i);throw new l(5201,!1);default:throw new l(5202,!1)}}bypassSecurityTrustHtml(e){return function nee(n){return new ZJ(n)}(e)}bypassSecurityTrustStyle(e){return function iee(n){return new KJ(n)}(e)}bypassSecurityTrustScript(e){return function ree(n){return new QJ(n)}(e)}bypassSecurityTrustUrl(e){return function see(n){return new JJ(n)}(e)}bypassSecurityTrustResourceUrl(e){return function oee(n){return new eee(n)}(e)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ln))};static#t=this.\u0275prov=ce({token:n,factory:function(i){let r=null;return r=i?new i:function rce(n){return new pj(n.get(ln))}(fe(Er)),r},providedIn:"root"})}return n})();var Xo=$t(211);(0,Xo.registerVersion)("firebase","10.5.2","app");class ace extends Ge{constructor(t,e){super()}schedule(t,e=0){return this}}const cC={setInterval(n,t,...e){const{delegate:i}=cC;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=cC;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class dC extends ace{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return cC.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&cC.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,bt(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const ek={now:()=>(ek.delegate||Date).now(),delegate:void 0};class Bv{constructor(t,e=Bv.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Bv.now=ek.now;class uC extends Bv{constructor(t,e=Bv.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const dce=new class cce extends uC{}(class lce extends dC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Ud=new uC(dC),uce=Ud;function Gr(n,t,e){const i=re(n)||t||e?{next:n,error:t,complete:e}:n;return i?Ue((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let c=!0;r.subscribe(ct(s,u=>{var f;null===(f=i.next)||void 0===f||f.call(i,u),s.next(u)},()=>{var u;c=!1,null===(u=i.complete)||void 0===u||u.call(i),s.complete()},u=>{var f;c=!1,null===(f=i.error)||void 0===f||f.call(i,u),s.error(u)},()=>{var u,f;c&&(null===(u=i.unsubscribe)||void 0===u||u.call(i)),null===(f=i.finalize)||void 0===f||f.call(i)}))}):fn}const tg=new Fd("ANGULARFIRE2_VERSION");class hC{constructor(){return((n,t)=>{const e=(0,Xo.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i})(fce)}}const fce="app-check";function ng(){}class mj{zone;delegate;constructor(t,e=dce){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class pce{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ng,{},ng,ng)),e.pipe(Gr({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fC=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new mj(Zone.current)),this.insideAngular=e.run(()=>new mj(Zone.current,Ud)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(fe(ht))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ig(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function _j(n){return n.pipe(Pi(ig().outsideAngular))}function $r(n){return function mce(n){return function(e){return(e=e.lift(new pce(n.ngZone))).pipe(Qr(n.outsideAngular),Pi(n.insideAngular))}}(ig())(n)}var fa=$t(168);fa.Z.registerVersion("firebase","10.5.2","app-compat");const bce=["ngOnDestroy"];class vj{constructor(t){return t}}const rg=new je("angularfire2.app.options"),sg=new je("angularfire2.app.name");function zv(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const o=fa.Z.apps.filter(c=>c&&c.name===r.name)[0]||t.runOutsideAngular(()=>fa.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const c=!!module.hot;Cce("error",`${o.name} Firebase App already initialized with different options${c?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new vj(o)}const Cce=(n,...t)=>{},Ece={provide:vj,useFactory:zv,deps:[rg,ht,[new Pd,sg]]};let Dce=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:rg,useValue:e},{provide:sg,useValue:i}]}}constructor(e){fa.Z.registerVersion("angularfire",tg.full,"core"),fa.Z.registerVersion("angularfire",tg.full,"app-compat"),fa.Z.registerVersion("angular",xV.full,e.toString())}static \u0275fac=function(i){return new(i||n)(fe(wo))};static \u0275mod=Rt({type:n});static \u0275inj=ke({providers:[Ece]})}return n})();function pC(n,t,e,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(c=>c[0]===n)||[];if(s)return function Tce(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,o)||(yj("error",`${t} was already initialized on the ${e} Firebase App with different settings.${Ice?" You may need to reload as Firebase is not HMR aware.":""}`),yj("warn",{is:r,was:o})),s;{const c=i();return globalThis.\u0275AngularfireInstanceCache.push([n,c,r]),c}}const Ice=typeof module<"u"&&!!module.hot,yj=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[],$t(743);class bj extends ve{constructor(t=1/0,e=1/0,i=ek){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(i.push(t),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=i?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=e.now();let c=0;for(let u=1;u<i.length&&i[u]<=o;u+=2)c=u;c&&i.splice(0,c+1)}}}function gC(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,ze({connector:()=>new bj(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const mC=Be(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Qn(n,t){return Ue((e,i)=>{let r=0;e.subscribe(ct(i,s=>n.call(t,s,r++)&&i.next(s)))})}function ni(n){return n<=0?()=>ti:Ue((t,e)=>{let i=0;t.subscribe(ct(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function _C(n){return Ue((t,e)=>{let i=!1;t.subscribe(ct(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function xj(n=Sce){return Ue((t,e)=>{let i=!1;t.subscribe(ct(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Sce(){return new mC}function jd(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Qn((r,s)=>n(r,s,i)):fn,ni(1),e?_C(t):xj(()=>new mC))}function tk(n,t){return re(t)?vt(()=>n,t):vt(()=>n)}const nk=new je("angularfire2.auth.use-emulator"),ik=new je("angularfire2.auth.settings"),rk=new je("angularfire2.auth.tenant-id"),sk=new je("angularfire2.auth.langugage-code"),ok=new je("angularfire2.auth.use-device-language"),ak=new je("angularfire.auth.persistence"),lk=(n,t,e,i,r,s,o,c)=>pC(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const u=t.runOutsideAngular(()=>n.auth());if(e&&u.useEmulator(...e),i&&(u.tenantId=i),u.languageCode=r,s&&u.useDeviceLanguage(),o)for(const[f,_]of Object.entries(o))u.settings[f]=_;return c&&u.setPersistence(c),u},[e,i,r,s,o,c]);let Wc=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,s,o,c,u,f,_,x,T,R){const F=new ve,B=he(void 0).pipe(Pi(o.outsideAngular),vt(()=>s.runOutsideAngular(()=>Promise.resolve().then($t.bind($t,743)))),Ye(()=>zv(e,s,i)),Ye(j=>lk(j,s,c,f,_,x,u,T)),gC({bufferSize:1,refCount:!1}));if(sC(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=he(null);else{B.pipe(jd()).subscribe();const j=B.pipe(vt(le=>le.getRedirectResult().then(me=>me,()=>null)),$r,gC({bufferSize:1,refCount:!1})),oe=B.pipe(vt(le=>new zt(me=>({unsubscribe:s.runOutsideAngular(()=>le.onAuthStateChanged(Se=>me.next(Se),Se=>me.error(Se),()=>me.complete()))})))),ee=B.pipe(vt(le=>new zt(me=>({unsubscribe:s.runOutsideAngular(()=>le.onIdTokenChanged(Se=>me.next(Se),Se=>me.error(Se),()=>me.complete()))}))));this.authState=j.pipe(tk(oe),Qr(o.outsideAngular),Pi(o.insideAngular)),this.user=j.pipe(tk(ee),Qr(o.outsideAngular),Pi(o.insideAngular)),this.idToken=this.user.pipe(vt(le=>le?Y(le.getIdToken()):he(null))),this.idTokenResult=this.user.pipe(vt(le=>le?Y(le.getIdTokenResult()):he(null))),this.credential=J(j,F,this.authState.pipe(Qn(le=>!le))).pipe(Ye(le=>le?.user?le:null),Qr(o.outsideAngular),Pi(o.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,s)=>e.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(bce.indexOf(s)>-1)return()=>{};const o=t.toPromise().then(c=>{const u=c?.[s];return"function"==typeof u?u.bind(c):u?.then?u.then(f=>e.run(()=>f)):e.run(()=>u)});return new Proxy(()=>{},{get:(c,u)=>o[u],apply:(c,u,f)=>o.then(_=>{const x=_?.(...f);return i?.spy?.apply&&i.spy.apply(s,f,x),x})})})}))(this,B,s,{spy:{apply:(j,oe,ee)=>{(j.startsWith("signIn")||j.startsWith("createUser"))&&ee.then(le=>F.next(le))}}})}static \u0275fac=function(i){return new(i||n)(fe(rg),fe(sg,8),fe(wo),fe(ht),fe(fC),fe(nk,8),fe(ik,8),fe(rk,8),fe(sk,8),fe(ok,8),fe(ak,8),fe(hC,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),kce=(()=>{class n{constructor(){fa.Z.registerVersion("angularfire",tg.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rt({type:n});static \u0275inj=ke({providers:[Wc]})}return n})();function wj(n,t,e,i,r){return(s,o)=>{let c=e,u=t,f=0;s.subscribe(ct(o,_=>{const x=f++;u=c?n(u,_,x):(c=!0,_),i&&o.next(u)},r&&(()=>{c&&o.next(u),o.complete()})))}}function og(n,t){return Ue(wj(n,t,arguments.length>=2,!0))}function vC(...n){const t=bs(n);return Ue((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),c=!1;for(let u=0;u<r;u++)rt(n[u]).subscribe(ct(i,f=>{s[u]=f,!c&&!o[u]&&(o[u]=!0,(c=o.every(fn))&&(o=null))},Pt));e.subscribe(ct(i,u=>{if(c){const f=[u,...s];i.next(t?t(...f):f)}}))})}var pl=$t(427),Ke=$t(861),te=$t(963),pa=$t(383);const Cj="@firebase/database";let ck="";function dk(n){ck=n}class Rce{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,te.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,te.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Oce{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,te.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Dj=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Rce(t)}}catch{}return new Oce},vh=Dj("localStorage"),uk=Dj("sessionStorage"),ag=new pa.Yd("@firebase/database"),Tj=function(){let n=1;return function(){return n++}}(),Ij=function(n){const t=(0,te.dS)(n),e=new te.gQ;e.update(t);const i=e.digest();return te.US.encodeByteArray(i)},Hv=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Hv.apply(null,i):t+="object"==typeof i?(0,te.Wl)(i):i,t+=" "}return t};let yh=null,Sj=!0;const Aj=function(n,t){(0,te.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ag.logLevel=pa.in.VERBOSE,yh=ag.log.bind(ag),t&&uk.set("logging_enabled",!0)):"function"==typeof n?yh=n:(yh=null,uk.remove("logging_enabled"))},Ts=function(...n){if(!0===Sj&&(Sj=!1,null===yh&&!0===uk.get("logging_enabled")&&Aj(!0)),yh){const t=Hv.apply(null,n);yh(t)}},Uv=function(n){return function(...t){Ts(n,...t)}},hk=function(...n){const t="FIREBASE INTERNAL ERROR: "+Hv(...n);ag.error(t)},Zl=function(...n){const t=`FIREBASE FATAL ERROR: ${Hv(...n)}`;throw ag.error(t),new Error(t)},to=function(...n){const t="FIREBASE WARNING: "+Hv(...n);ag.warn(t)},yC=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Wd="[MIN_NAME]",Gc="[MAX_NAME]",bh=function(n,t){if(n===t)return 0;if(n===Wd||t===Gc)return-1;if(t===Wd||n===Gc)return 1;{const e=Rj(n),i=Rj(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Lce=function(n,t){return n===t?0:n<t?-1:1},jv=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,te.Wl)(t))},fk=function(n){if("object"!=typeof n||null===n)return(0,te.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,te.Wl)(t[i]),e+=":",e+=fk(n[t[i]]);return e+="}",e},kj=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Is(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Mj=function(n){(0,te.hu)(!yC(n),"Invalid JSON number");const i=1023;let r,s,o,c,u;0===n?(s=0,o=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=c+i,o=Math.round(n*Math.pow(2,52-c)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const f=[];for(u=52;u;u-=1)f.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(r?1:0),f.reverse();const _=f.join("");let x="";for(u=0;u<64;u+=8){let T=parseInt(_.substr(u,8),2).toString(16);1===T.length&&(T="0"+T),x+=T}return x.toLowerCase()},zce=new RegExp("^-?(0*)\\d{1,10}$"),Rj=function(n){if(zce.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},lg=function(n){try{n()}catch(t){setTimeout(()=>{throw to("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Wv=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Wce{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){to(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Gce{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ts("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',to(t)}}let Gv=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Fj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zj="websocket",Hj="long_polling";class gk{constructor(t,e,i,r,s=!1,o="",c=!1,u=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vh.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&vh.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Uj(n,t,e){let i;if((0,te.hu)("string"==typeof t,"typeof type must == string"),(0,te.hu)("object"==typeof e,"typeof params must == object"),t===zj)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Hj)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function $ce(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Is(e,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class Yce{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,te.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,te.p$)(this.counters_)}}const mk={},_k={};function vk(n){const t=n.toString();return mk[t]||(mk[t]=new Yce),mk[t]}class Xce{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&lg(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Gd{constructor(t,e,i,r,s,o,c){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uv(t),this.stats_=vk(e),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),Uj(e,Hj,u))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Xce(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,te.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yk((...s)=>{const[o,c,u,f,_]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=c,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Fj.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Gd.forceAllow_=!0}static forceDisallow(){Gd.forceDisallow_=!0}static isAvailable(){return!((0,te.Yr)()||!Gd.forceAllow_&&(Gd.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,te.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,te.h$)(e),r=kj(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,te.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,te.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class yk{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,te.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Tj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=yk.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){Ts("frame writing exception"),c.stack&&Ts(c.stack),Ts(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Ts("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,te.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Ts("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let xC=null;typeof MozWebSocket<"u"?xC=MozWebSocket:typeof WebSocket<"u"&&(xC=WebSocket);let cg=(()=>{class n{constructor(e,i,r,s,o,c,u){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uv(this.connId),this.stats_=vk(i),this.connURL=n.connectionURL_(i,c,u,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,o){const c={v:"5"};return!(0,te.Yr)()&&typeof location<"u"&&location.hostname&&Fj.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),o&&(c.p=o),Uj(e,zj,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vh.set("previous_websocket_failure",!0);try{let r;if((0,te.Yr)()){r={headers:{"User-Agent":`Firebase/5/${ck}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,c=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;c&&(r.proxy={origin:c})}this.mySock=new xC(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==xC&&!n.forceDisallow_}static previouslyFailed(){return vh.isInMemoryStorage||!0===vh.get("previous_websocket_failure")}markConnectionHealthy(){vh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,te.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,te.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,te.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=kj(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Xj=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Gd,cg]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=cg&&cg.isAvailable();let r=i&&!cg.previouslyFailed();if(e.webSocketOnly&&(i||to("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[cg];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class n3{constructor(t,e,i,r,s,o,c,u,f,_){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=u,this.onKill_=f,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uv("c:"+this.id+":"),this.transportManager_=new Xj(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Wv(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=jv("t",t),i=jv("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=jv("t",t),i=jv("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=jv("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?hk("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hk("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&to("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Wv(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wv(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class r3{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class s3{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,te.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,te.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class wC extends s3{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,te.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new wC}getInitialEvent(t){return(0,te.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class ki{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function bi(){return new ki("")}function Wn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function $d(n){return n.pieces_.length-n.pieceNum_}function $i(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new ki(n.pieces_,t)}function xk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function $v(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function l3(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new ki(t,0)}function gr(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof ki)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new ki(e,0)}function Gn(n){return n.pieceNum_>=n.pieces_.length}function ko(n,t){const e=Wn(n),i=Wn(t);if(null===e)return t;if(e===i)return ko($i(n),$i(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function _de(n,t){const e=$v(n,0),i=$v(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=bh(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function wk(n,t){if($d(n)!==$d(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ha(n,t){let e=n.pieceNum_,i=t.pieceNum_;if($d(n)>$d(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class vde{constructor(t,e){this.errorPrefix_=e,this.parts_=$v(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,te.ug)(this.parts_[i]);c3(this)}}function c3(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+xh(n))}function xh(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Ck extends s3{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Ck}getInitialEvent(t){return(0,te.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Yv=1e3;let EC,wh=(()=>{class n extends r3{constructor(e,i,r,s,o,c,u,f){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=u,this.authOverride_=f,this.id=n.nextPersistentConnectionId_++,this.log_=Uv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yv,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f&&!(0,te.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ck.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&wC.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,o={r:s,a:e,b:i};this.log_((0,te.Wl)(o)),(0,te.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new te.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const u=c.d;"ok"===c.s?i.resolve(u):i.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),(0,te.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,te.hu)(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(c).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};e.tag&&(o.q=i._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,u=>{const f=u.d,_=u.s;n.warnOnListenWarnings_(f,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",u),"ok"!==_&&this.removeListen_(r,s),e.onComplete&&e.onComplete(_,f))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,te.r3)(e,"w")){const r=(0,te.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();to(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,te.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,te.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,c=s.d||"error";this.authToken_===e&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,te.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const o={p:e};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,o){this.initConnection_();const c={p:i,d:r};void 0!==o&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,te.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):hk("Unrecognized action received from server: "+(0,te.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,te.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yv,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Yv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Yv),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ke.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),o=e.id+":"+n.nextConnectionId_++,c=e.lastSessionId;let u=!1,f=null;const _=function(){f?f.close():(u=!0,s())};e.realtime_={close:_,sendRequest:function(R){(0,te.hu)(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(R)}};const T=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[R,F]=yield Promise.all([e.authTokenProvider_.getToken(T),e.appCheckTokenProvider_.getToken(T)]);u?Ts("getToken() completed but was canceled"):(Ts("getToken() completed. Creating connection."),e.authToken_=R&&R.accessToken,e.appCheckToken_=F&&F.token,f=new n3(o,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,B=>{to(B+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},c))}catch(R){e.log_("Failed to get token: "+R),u||(e.repoInfo_.nodeAdmin&&to(R),_())}}})()}interrupt(e){Ts("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ts("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,te.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Yv,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(o=>fk(o)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new ki(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Ts("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ts("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,te.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+ck.replace(/\./g,"-")]=1,(0,te.uI)()?e["framework.cordova"]=1:(0,te.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wC.getInstance().currentlyOnline();return(0,te.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Kn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Kn(t,e)}}class CC{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Kn(Wd,t),r=new Kn(Wd,e);return 0!==this.compare(i,r)}minPost(){return Kn.MIN}}class h3 extends CC{static get __EMPTY_NODE(){return EC}static set __EMPTY_NODE(t){EC=t}compare(t,e){return bh(t.name,e.name)}isDefinedOn(t){throw(0,te.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Kn.MIN}maxPost(){return new Kn(Gc,EC)}makePost(t,e){return(0,te.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Kn(t,EC)}toString(){return".key"}}const Kl=new h3;class DC{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Dk,gl=(()=>{class n{constructor(e,i,r,s,o){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??Zo.EMPTY_NODE,this.right=o??Zo.EMPTY_NODE}copy(e,i,r,s,o){return new n(e??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Zo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Zo{constructor(t,e=Zo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Zo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,gl.BLACK,null,null))}remove(t){return new Zo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,gl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new DC(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new DC(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new DC(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new DC(this.root_,null,this.comparator_,!0,t)}}function Tde(n,t){return bh(n.name,t.name)}function Ek(n,t){return bh(n,t)}Zo.EMPTY_NODE=new class Dde{copy(t,e,i,r,s){return this}insert(t,e,i){return new gl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const f3=function(n){return"number"==typeof n?"number:"+Mj(n):"string:"+n},p3=function(n){if(n.isLeafNode()){const t=n.val();(0,te.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,te.r3)(t,".sv"),"Priority must be a string or number.")}else(0,te.hu)(n===Dk||n.isEmpty(),"priority of unexpected type.");(0,te.hu)(n===Dk||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let g3,m3,_3,dg=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,te.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),p3(this.priorityNode_)}static set __childrenNodeConstructor(e){g3=e}static get __childrenNodeConstructor(){return g3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Gn(e)?this:".priority"===Wn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Wn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,te.hu)(".priority"!==r||1===$d(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild($i(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+f3(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Mj(this.value_):this.value_,this.lazyHash_=Ij(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,te.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),o=n.VALUE_TYPE_ORDER.indexOf(r);return(0,te.hu)(s>=0,"Unknown leaf type: "+i),(0,te.hu)(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const tr=new class kde extends CC{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?bh(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Kn.MIN}maxPost(){return new Kn(Gc,new dg("[PRIORITY-POST]",_3))}makePost(t,e){const i=m3(t);return new Kn(e,new dg("[PRIORITY-POST]",i))}toString(){return".priority"}},Mde=Math.log(2);class Rde{constructor(t){this.count=parseInt(Math.log(t+1)/Mde,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const TC=function(n,t,e,i){n.sort(t);const r=function(u,f){const _=f-u;let x,T;if(0===_)return null;if(1===_)return x=n[u],T=e?e(x):x,new gl(T,x.node,gl.BLACK,null,null);{const R=parseInt(_/2,10)+u,F=r(u,R),B=r(R+1,f);return x=n[R],T=e?e(x):x,new gl(T,x.node,gl.BLACK,F,B)}},c=function(u){let f=null,_=null,x=n.length;const T=function(F,B){const j=x-F,oe=x;x-=F;const ee=r(j+1,oe),le=n[j],me=e?e(le):le;R(new gl(me,le.node,B,null,ee))},R=function(F){f?(f.left=F,f=F):(_=F,f=F)};for(let F=0;F<u.count;++F){const B=u.nextBitIsOne(),j=Math.pow(2,u.count-(F+1));B?T(j,gl.BLACK):(T(j,gl.BLACK),T(j,gl.RED))}return _}(new Rde(n.length));return new Zo(i||t,c)};let Tk;const ug={};class $c{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,te.hu)(ug&&tr,"ChildrenNode.ts has not been loaded"),Tk=Tk||new $c({".priority":ug},{".priority":tr}),Tk}get(t){const e=(0,te.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Zo?e:null}hasIndex(t){return(0,te.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,te.hu)(t!==Kl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(Kn.Wrap);let c,o=s.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=s.getNext();c=r?TC(i,t.getCompare()):ug;const u=t.toString(),f=Object.assign({},this.indexSet_);f[u]=t;const _=Object.assign({},this.indexes_);return _[u]=c,new $c(_,f)}addToIndexes(t,e){const i=(0,te.UI)(this.indexes_,(r,s)=>{const o=(0,te.DV)(this.indexSet_,s);if((0,te.hu)(o,"Missing index implementation for "+s),r===ug){if(o.isDefinedOn(t.node)){const c=[],u=e.getIterator(Kn.Wrap);let f=u.getNext();for(;f;)f.name!==t.name&&c.push(f),f=u.getNext();return c.push(t),TC(c,o.getCompare())}return ug}{const c=e.get(t.name);let u=r;return c&&(u=u.remove(new Kn(t.name,c))),u.insert(t,t.node)}});return new $c(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,te.UI)(this.indexes_,r=>{if(r===ug)return r;{const s=e.get(t.name);return s?r.remove(new Kn(t.name,s)):r}});return new $c(i,this.indexSet_)}}let qv,An=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&p3(this.priorityNode_),this.children_.isEmpty()&&(0,te.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return qv||(qv=new n(new Zo(Ek),null,$c.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qv}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?qv:i}}getChild(e){const i=Wn(e);return null===i?this:this.getImmediateChild(i).getChild($i(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,te.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Kn(e,i);let s,o;i.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),o=this.indexMap_.addToIndexes(r,this.children_));const c=s.isEmpty()?qv:this.priorityNode_;return new n(s,c,o)}}updateChild(e,i){const r=Wn(e);if(null===r)return i;{(0,te.hu)(".priority"!==Wn(e)||1===$d(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild($i(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(tr,(c,u)=>{i[c]=u.val(e),r++,o&&n.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!e&&o&&s<2*r){const c=[];for(const u in i)c[u]=i[u];return c}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+f3(this.getPriority().val())+":"),this.forEachChild(tr,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":Ij(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new Kn(e,i));return o?o.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Kn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Kn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Kn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Kn.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xv?-1:0}withIndex(e){if(e===Kl||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Kl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(tr),s=i.getIterator(tr);let o=r.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=r.getNext(),c=s.getNext()}return null===o&&null===c}return!1}return!1}}resolveIndex_(e){return e===Kl?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Xv=new class Ode extends An{constructor(){super(new Zo(Ek),An.EMPTY_NODE,$c.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return An.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Kn,{MIN:{value:new Kn(Wd,An.EMPTY_NODE)},MAX:{value:new Kn(Gc,Xv)}}),h3.__EMPTY_NODE=An.EMPTY_NODE,dg.__childrenNodeConstructor=An,function Ide(n){Dk=n}(Xv),function Ade(n){_3=n}(Xv);const Pde=!0;function Ir(n,t=null){if(null===n)return An.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,te.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new dg(n,Ir(t));if(n instanceof Array||!Pde){let e=An.EMPTY_NODE;return Is(n,(i,r)=>{if((0,te.r3)(n,i)&&"."!==i.substring(0,1)){const s=Ir(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Ir(t))}{const e=[];let i=!1;if(Is(n,(o,c)=>{if("."!==o.substring(0,1)){const u=Ir(c);u.isEmpty()||(i=i||!u.getPriority().isEmpty(),e.push(new Kn(o,u)))}}),0===e.length)return An.EMPTY_NODE;const s=TC(e,Tde,o=>o.name,Ek);if(i){const o=TC(e,tr.getCompare());return new An(s,Ir(t),new $c({".priority":o},{".priority":tr}))}return new An(s,Ir(t),$c.Default)}}!function Sde(n){m3=n}(Ir);class Ik extends CC{constructor(t){super(),this.indexPath_=t,(0,te.hu)(!Gn(t)&&".priority"!==Wn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?bh(t.name,e.name):s}makePost(t,e){const i=Ir(t),r=An.EMPTY_NODE.updateChild(this.indexPath_,i);return new Kn(e,r)}maxPost(){const t=An.EMPTY_NODE.updateChild(this.indexPath_,Xv);return new Kn(Gc,t)}toString(){return $v(this.indexPath_,0).join("/")}}const Sk=new class Nde extends CC{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?bh(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Kn.MIN}maxPost(){return Kn.MAX}makePost(t,e){const i=Ir(t);return new Kn(e,i)}toString(){return".value"}};function v3(n){return{type:"value",snapshotNode:n}}function hg(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Zv(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Kv(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Ak{constructor(t){this.index_=t}updateChild(t,e,i,r,s,o){(0,te.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=t.getImmediateChild(e);return c.getChild(r).equals(i.getChild(r))&&c.isEmpty()===i.isEmpty()||(null!=o&&(i.isEmpty()?t.hasChild(e)?o.trackChildChange(Zv(e,c)):(0,te.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(hg(e,i)):o.trackChildChange(Kv(e,i,c))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(tr,(r,s)=>{e.hasChild(r)||i.trackChildChange(Zv(r,s))}),e.isLeafNode()||e.forEachChild(tr,(r,s)=>{if(t.hasChild(r)){const o=t.getImmediateChild(r);o.equals(s)||i.trackChildChange(Kv(r,s,o))}else i.trackChildChange(hg(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?An.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Qv{constructor(t){this.indexedFilter_=new Ak(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Qv.getStartPost_(t),this.endPost_=Qv.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,o){return this.matches(new Kn(e,i))||(i=An.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,o)}updateFullNode(t,e,i){e.isLeafNode()&&(e=An.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(An.EMPTY_NODE);const s=this;return e.forEachChild(tr,(o,c)=>{s.matches(new Kn(o,c))||(r=r.updateImmediateChild(o,An.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Fde{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Qv(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,o){return this.rangedFilter_.matches(new Kn(e,i))||(i=An.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,o):this.fullLimitUpdateChild_(t,e,i,s,o)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=An.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=An.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c)){if(!this.withinDirectionalEnd(c))break;r=r.updateImmediateChild(c.name,c.node),o++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(An.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:r=r.updateImmediateChild(c.name,An.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let o;if(this.reverse_){const x=this.index_.getCompare();o=(T,R)=>x(R,T)}else o=this.index_.getCompare();const c=t;(0,te.hu)(c.numChildren()===this.limit_,"");const u=new Kn(e,i),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),_=this.rangedFilter_.matches(u);if(c.hasChild(e)){const x=c.getImmediateChild(e);let T=r.getChildAfterChild(this.index_,f,this.reverse_);for(;null!=T&&(T.name===e||c.hasChild(T.name));)T=r.getChildAfterChild(this.index_,T,this.reverse_);const R=null==T?1:o(T,u);if(_&&!i.isEmpty()&&R>=0)return s?.trackChildChange(Kv(e,i,x)),c.updateImmediateChild(e,i);{s?.trackChildChange(Zv(e,x));const B=c.updateImmediateChild(e,An.EMPTY_NODE);return null!=T&&this.rangedFilter_.matches(T)?(s?.trackChildChange(hg(T.name,T.node)),B.updateImmediateChild(T.name,T.node)):B}}return i.isEmpty()?t:_&&o(f,u)>=0?(null!=s&&(s.trackChildChange(Zv(f.name,f.node)),s.trackChildChange(hg(e,i))),c.updateImmediateChild(e,i).updateImmediateChild(f.name,An.EMPTY_NODE)):t}}class IC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,te.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,te.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,te.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,te.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,te.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tr}copy(){const t=new IC;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function kk(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Mk(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function SC(n,t){const e=n.copy();return e.index_=t,e}function y3(n){const t={};if(n.isDefault())return t;let e;if(n.index_===tr?e="$priority":n.index_===Sk?e="$value":n.index_===Kl?e="$key":((0,te.hu)(n.index_ instanceof Ik,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,te.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,te.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,te.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,te.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,te.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function b3(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==tr&&(t.i=n.index_.toString()),t}class AC extends r3{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Uv("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,te.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=AC.getListenId_(t,i),c={};this.listens_[o]=c;const u=y3(t._queryParams);this.restRequest_(s+".json",u,(f,_)=>{let x=_;if(404===f&&(x=null,f=null),null===f&&this.onDataUpdate_(s,x,!1,i),(0,te.DV)(this.listens_,o)===c){let T;T=f?401===f?"permission_denied":"rest_error:"+f:"ok",r(T,null)}})}unlisten(t,e){const i=AC.getListenId_(t,e);delete this.listens_[i]}get(t){const e=y3(t._queryParams),i=t._path.toString(),r=new te.BH;return this.restRequest_(i+".json",e,(s,o)=>{let c=o;404===s&&(c=null,s=null),null===s?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,te.xO)(e);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&4===c.readyState){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=(0,te.cI)(c.responseText)}catch{to("Failed to parse JSON response for "+o+": "+c.responseText)}i(null,u)}else 401!==c.status&&404!==c.status&&to("Got unsuccessful REST response for "+o+" Status: "+c.status),i(c.status);i=null}},c.open("GET",o,!0),c.send()})}}class jde{constructor(){this.rootNode_=An.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function kC(){return{value:null,children:new Map}}function fg(n,t,e){if(Gn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Wn(t);n.children.has(i)||n.children.set(i,kC()),fg(n.children.get(i),t=$i(t),e)}}function Rk(n,t){if(Gn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(tr,(i,r)=>{fg(n,new ki(i),r)}),Rk(n,t)}}if(n.children.size>0){const e=Wn(t);return t=$i(t),n.children.has(e)&&Rk(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Ok(n,t,e){null!==n.value?e(t,n.value):function Wde(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{Ok(r,new ki(t.toString()+"/"+i),e)})}class Gde{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Is(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class qde{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Gde(t);const i=1e4+2e4*Math.random();Wv(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Is(t,(r,s)=>{s>0&&(0,te.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),Wv(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ql=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Ql||{});function Lk(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class MC{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ql.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Gn(this.path)){if(null!=this.affectedTree.value)return(0,te.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ki(t));return new MC(bi(),e,this.revert)}}return(0,te.hu)(Wn(this.path)===t,"operationForChild called for unrelated child."),new MC($i(this.path),this.affectedTree,this.revert)}}class Jv{constructor(t,e){this.source=t,this.path=e,this.type=Ql.LISTEN_COMPLETE}operationForChild(t){return Gn(this.path)?new Jv(this.source,bi()):new Jv(this.source,$i(this.path))}}class Ch{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ql.OVERWRITE}operationForChild(t){return Gn(this.path)?new Ch(this.source,bi(),this.snap.getImmediateChild(t)):new Ch(this.source,$i(this.path),this.snap)}}class pg{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ql.MERGE}operationForChild(t){if(Gn(this.path)){const e=this.children.subtree(new ki(t));return e.isEmpty()?null:e.value?new Ch(this.source,bi(),e.value):new pg(this.source,bi(),e)}return(0,te.hu)(Wn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new pg(this.source,$i(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Yd{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Gn(t))return this.isFullyInitialized()&&!this.filtered_;const e=Wn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Xde{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ey(n,t,e,i,r,s){const o=i.filter(c=>c.type===e);o.sort((c,u)=>function Qde(n,t,e){if(null==t.childName||null==e.childName)throw(0,te.g5)("Should only compare child_ events.");const i=new Kn(t.childName,t.snapshotNode),r=new Kn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,c,u)),o.forEach(c=>{const u=function Kde(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,c,s);r.forEach(f=>{f.respondsTo(c.type)&&t.push(f.createEvent(u,n.query_))})})}function RC(n,t){return{eventCache:n,serverCache:t}}function ty(n,t,e,i){return RC(new Yd(t,e,i),n.serverCache)}function w3(n,t,e,i){return RC(n.eventCache,new Yd(t,e,i))}function OC(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Eh(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Fk;class nr{constructor(t,e=(()=>(Fk||(Fk=new Zo(Lce)),Fk))()){this.value=t,this.children=e}static fromObject(t){let e=new nr(null);return Is(t,(i,r)=>{e=e.set(new ki(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:bi(),value:this.value};if(Gn(t))return null;{const i=Wn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue($i(t),e);return null!=s?{path:gr(new ki(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Gn(t))return this;{const e=Wn(t),i=this.children.get(e);return null!==i?i.subtree($i(t)):new nr(null)}}set(t,e){if(Gn(t))return new nr(e,this.children);{const i=Wn(t),s=(this.children.get(i)||new nr(null)).set($i(t),e),o=this.children.insert(i,s);return new nr(this.value,o)}}remove(t){if(Gn(t))return this.children.isEmpty()?new nr(null):new nr(null,this.children);{const e=Wn(t),i=this.children.get(e);if(i){const r=i.remove($i(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new nr(null):new nr(this.value,s)}return this}}get(t){if(Gn(t))return this.value;{const e=Wn(t),i=this.children.get(e);return i?i.get($i(t)):null}}setTree(t,e){if(Gn(t))return e;{const i=Wn(t),s=(this.children.get(i)||new nr(null)).setTree($i(t),e);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new nr(this.value,o)}}fold(t){return this.fold_(bi(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(gr(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,bi(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Gn(t))return null;{const s=Wn(t),o=this.children.get(s);return o?o.findOnPath_($i(t),gr(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,bi(),e)}foreachOnPath_(t,e,i){if(Gn(t))return this;{this.value&&i(e,this.value);const r=Wn(t),s=this.children.get(r);return s?s.foreachOnPath_($i(t),gr(e,r),i):new nr(null)}}foreach(t){this.foreach_(bi(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(gr(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class ml{constructor(t){this.writeTree_=t}static empty(){return new ml(new nr(null))}}function ny(n,t,e){if(Gn(t))return new ml(new nr(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const o=ko(r,t);return s=s.updateChild(o,e),new ml(n.writeTree_.set(r,s))}{const r=new nr(e),s=n.writeTree_.setTree(t,r);return new ml(s)}}}function Vk(n,t,e){let i=n;return Is(e,(r,s)=>{i=ny(i,gr(t,r),s)}),i}function C3(n,t){if(Gn(t))return ml.empty();{const e=n.writeTree_.setTree(t,new nr(null));return new ml(e)}}function Bk(n,t){return null!=Dh(n,t)}function Dh(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(ko(e.path,t)):null}function E3(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(tr,(i,r)=>{t.push(new Kn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Kn(i,r.value))}),t}function qd(n,t){if(Gn(t))return n;{const e=Dh(n,t);return new ml(null!=e?new nr(e):n.writeTree_.subtree(t))}}function zk(n){return n.writeTree_.isEmpty()}function gg(n,t){return D3(bi(),n.writeTree_,t)}function D3(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,te.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=D3(gr(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(gr(n,".priority"),i)),e}}function PC(n,t){return k3(t,n)}function rue(n,t){if(n.snap)return Ha(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ha(gr(n.path,e),t))return!0;return!1}function oue(n){return n.visible}function T3(n,t,e){let i=ml.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const o=s.path;let c;if(s.snap)Ha(e,o)?(c=ko(e,o),i=ny(i,c,s.snap)):Ha(o,e)&&(c=ko(o,e),i=ny(i,bi(),s.snap.getChild(c)));else{if(!s.children)throw(0,te.g5)("WriteRecord should have .snap or .children");if(Ha(e,o))c=ko(e,o),i=Vk(i,c,s.children);else if(Ha(o,e))if(c=ko(o,e),Gn(c))i=Vk(i,bi(),s.children);else{const u=(0,te.DV)(s.children,Wn(c));if(u){const f=u.getChild($i(c));i=ny(i,bi(),f)}}}}}return i}function I3(n,t,e,i,r){if(i||r){const s=qd(n.visibleWrites,t);return!r&&zk(s)?e:r||null!=e||Bk(s,bi())?gg(T3(n.allWrites,function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(Ha(f.path,t)||Ha(t,f.path))},t),e||An.EMPTY_NODE):null}{const s=Dh(n.visibleWrites,t);if(null!=s)return s;{const o=qd(n.visibleWrites,t);return zk(o)?e:null!=e||Bk(o,bi())?gg(o,e||An.EMPTY_NODE):null}}}function NC(n,t,e,i){return I3(n.writeTree,n.treePath,t,e,i)}function Hk(n,t){return function aue(n,t,e){let i=An.EMPTY_NODE;const r=Dh(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(tr,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(e){const s=qd(n.visibleWrites,t);return e.forEachChild(tr,(o,c)=>{const u=gg(qd(s,new ki(o)),c);i=i.updateImmediateChild(o,u)}),E3(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return E3(qd(n.visibleWrites,t)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(n.writeTree,n.treePath,t)}function S3(n,t,e,i){return function lue(n,t,e,i,r){(0,te.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=gr(t,e);if(Bk(n.visibleWrites,s))return null;{const o=qd(n.visibleWrites,s);return zk(o)?r.getChild(e):gg(o,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function LC(n,t){return function due(n,t){return Dh(n.visibleWrites,t)}(n.writeTree,gr(n.treePath,t))}function Uk(n,t,e){return function cue(n,t,e,i){const r=gr(t,e),s=Dh(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?gg(qd(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function A3(n,t){return k3(gr(n.treePath,t),n.writeTree)}function k3(n,t){return{treePath:n,writeTree:t}}class pue{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,te.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,te.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,Kv(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,Zv(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,hg(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,te.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Kv(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const M3=new class gue{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class jk{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Yd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Uk(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Eh(this.viewCache_),s=function fue(n,t,e,i,r,s){return function uue(n,t,e,i,r,s,o){let c;const u=qd(n.visibleWrites,t),f=Dh(u,bi());if(null!=f)c=f;else{if(null==e)return[];c=gg(u,e)}if(c=c.withIndex(o),c.isEmpty()||c.isLeafNode())return[];{const _=[],x=o.getCompare(),T=s?c.getReverseIteratorFrom(i,o):c.getIteratorFrom(i,o);let R=T.getNext();for(;R&&_.length<r;)0!==x(R,i)&&_.push(R),R=T.getNext();return _}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function R3(n,t,e,i,r,s){const o=t.eventCache;if(null!=LC(i,e))return t;{let c,u;if(Gn(e))if((0,te.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const f=Eh(t),x=Hk(i,f instanceof An?f:An.EMPTY_NODE);c=n.filter.updateFullNode(t.eventCache.getNode(),x,s)}else{const f=NC(i,Eh(t));c=n.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const f=Wn(e);if(".priority"===f){(0,te.hu)(1===$d(e),"Can't have a priority with additional path components");const _=o.getNode();u=t.serverCache.getNode();const x=S3(i,e,_,u);c=null!=x?n.filter.updatePriority(_,x):o.getNode()}else{const _=$i(e);let x;if(o.isCompleteForChild(f)){u=t.serverCache.getNode();const T=S3(i,e,o.getNode(),u);x=null!=T?o.getNode().getImmediateChild(f).updateChild(_,T):o.getNode().getImmediateChild(f)}else x=Uk(i,f,t.serverCache);c=null!=x?n.filter.updateChild(o.getNode(),f,x,_,r,s):o.getNode()}}return ty(t,c,o.isFullyInitialized()||Gn(e),n.filter.filtersNodes())}}function FC(n,t,e,i,r,s,o,c){const u=t.serverCache;let f;const _=o?n.filter:n.filter.getIndexedFilter();if(Gn(e))f=_.updateFullNode(u.getNode(),i,null);else if(_.filtersNodes()&&!u.isFiltered()){const R=u.getNode().updateChild(e,i);f=_.updateFullNode(u.getNode(),R,null)}else{const R=Wn(e);if(!u.isCompleteForPath(e)&&$d(e)>1)return t;const F=$i(e),j=u.getNode().getImmediateChild(R).updateChild(F,i);f=".priority"===R?_.updatePriority(u.getNode(),j):_.updateChild(u.getNode(),R,j,F,M3,null)}const x=w3(t,f,u.isFullyInitialized()||Gn(e),_.filtersNodes());return R3(n,x,e,r,new jk(r,x,s),c)}function Wk(n,t,e,i,r,s,o){const c=t.eventCache;let u,f;const _=new jk(r,t,s);if(Gn(e))f=n.filter.updateFullNode(t.eventCache.getNode(),i,o),u=ty(t,f,!0,n.filter.filtersNodes());else{const x=Wn(e);if(".priority"===x)f=n.filter.updatePriority(t.eventCache.getNode(),i),u=ty(t,f,c.isFullyInitialized(),c.isFiltered());else{const T=$i(e),R=c.getNode().getImmediateChild(x);let F;if(Gn(T))F=i;else{const B=_.getCompleteChild(x);F=null!=B?".priority"===xk(T)&&B.getChild(l3(T)).isEmpty()?B:B.updateChild(T,i):An.EMPTY_NODE}u=R.equals(F)?t:ty(t,n.filter.updateChild(c.getNode(),x,F,T,_,o),c.isFullyInitialized(),n.filter.filtersNodes())}}return u}function O3(n,t){return n.eventCache.isCompleteForChild(t)}function P3(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Gk(n,t,e,i,r,s,o,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let f,u=t;f=Gn(e)?i:new nr(null).setTree(e,i);const _=t.serverCache.getNode();return f.children.inorderTraversal((x,T)=>{if(_.hasChild(x)){const F=P3(0,t.serverCache.getNode().getImmediateChild(x),T);u=FC(n,u,new ki(x),F,r,s,o,c)}}),f.children.inorderTraversal((x,T)=>{const R=!t.serverCache.isCompleteForChild(x)&&null===T.value;if(!_.hasChild(x)&&!R){const B=P3(0,t.serverCache.getNode().getImmediateChild(x),T);u=FC(n,u,new ki(x),B,r,s,o,c)}}),u}class Eue{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Ak(i.getIndex()),s=function Vde(n){return n.loadsAllData()?new Ak(n.getIndex()):n.hasLimit()?new Fde(n):new Qv(n)}(i);this.processor_=function mue(n){return{filter:n}}(s);const o=e.serverCache,c=e.eventCache,u=r.updateFullNode(An.EMPTY_NODE,o.getNode(),null),f=s.updateFullNode(An.EMPTY_NODE,c.getNode(),null),_=new Yd(u,o.isFullyInitialized(),r.filtersNodes()),x=new Yd(f,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=RC(x,_),this.eventGenerator_=new Xde(this.query_)}get query(){return this.query_}}function Iue(n,t){const e=Eh(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Gn(t)&&!e.getImmediateChild(Wn(t)).isEmpty())?e.getChild(t):null}function N3(n){return 0===n.eventRegistrations_.length}function L3(n,t,e){const i=[];if(e){(0,te.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(e,r);o&&i.push(o)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(o)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function F3(n,t,e,i){t.type===Ql.MERGE&&null!==t.source.queryId&&((0,te.hu)(Eh(n.viewCache_),"We should always have a full cache before handling merges"),(0,te.hu)(OC(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function vue(n,t,e,i,r){const s=new pue;let o,c;if(e.type===Ql.OVERWRITE){const f=e;f.source.fromUser?o=Wk(n,t,f.path,f.snap,i,r,s):((0,te.hu)(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered()&&!Gn(f.path),o=FC(n,t,f.path,f.snap,i,r,c,s))}else if(e.type===Ql.MERGE){const f=e;f.source.fromUser?o=function bue(n,t,e,i,r,s,o){let c=t;return i.foreach((u,f)=>{const _=gr(e,u);O3(t,Wn(_))&&(c=Wk(n,c,_,f,r,s,o))}),i.foreach((u,f)=>{const _=gr(e,u);O3(t,Wn(_))||(c=Wk(n,c,_,f,r,s,o))}),c}(n,t,f.path,f.children,i,r,s):((0,te.hu)(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered(),o=Gk(n,t,f.path,f.children,i,r,c,s))}else if(e.type===Ql.ACK_USER_WRITE){const f=e;o=f.revert?function Cue(n,t,e,i,r,s){let o;if(null!=LC(i,e))return t;{const c=new jk(i,t,r),u=t.eventCache.getNode();let f;if(Gn(e)||".priority"===Wn(e)){let _;if(t.serverCache.isFullyInitialized())_=NC(i,Eh(t));else{const x=t.serverCache.getNode();(0,te.hu)(x instanceof An,"serverChildren would be complete if leaf node"),_=Hk(i,x)}f=n.filter.updateFullNode(u,_,s)}else{const _=Wn(e);let x=Uk(i,_,t.serverCache);null==x&&t.serverCache.isCompleteForChild(_)&&(x=u.getImmediateChild(_)),f=null!=x?n.filter.updateChild(u,_,x,$i(e),c,s):t.eventCache.getNode().hasChild(_)?n.filter.updateChild(u,_,An.EMPTY_NODE,$i(e),c,s):u,f.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=NC(i,Eh(t)),o.isLeafNode()&&(f=n.filter.updateFullNode(f,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=LC(i,bi()),ty(t,f,o,n.filter.filtersNodes())}}(n,t,f.path,i,r,s):function xue(n,t,e,i,r,s,o){if(null!=LC(r,e))return t;const c=t.serverCache.isFiltered(),u=t.serverCache;if(null!=i.value){if(Gn(e)&&u.isFullyInitialized()||u.isCompleteForPath(e))return FC(n,t,e,u.getNode().getChild(e),r,s,c,o);if(Gn(e)){let f=new nr(null);return u.getNode().forEachChild(Kl,(_,x)=>{f=f.set(new ki(_),x)}),Gk(n,t,e,f,r,s,c,o)}return t}{let f=new nr(null);return i.foreach((_,x)=>{const T=gr(e,_);u.isCompleteForPath(T)&&(f=f.set(_,u.getNode().getChild(T)))}),Gk(n,t,e,f,r,s,c,o)}}(n,t,f.path,f.affectedTree,i,r,s)}else{if(e.type!==Ql.LISTEN_COMPLETE)throw(0,te.g5)("Unknown operation type: "+e.type);o=function wue(n,t,e,i,r){const s=t.serverCache;return R3(n,w3(t,s.getNode(),s.isFullyInitialized()||Gn(e),s.isFiltered()),e,i,M3,r)}(n,t,e.path,i,s)}const u=s.getChanges();return function yue(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=OC(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(v3(OC(t)))}}(t,o,u),{viewCache:o,changes:u}}(n.processor_,r,t,e,i);return function _ue(n,t){(0,te.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,te.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,te.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,V3(n,s.changes,s.viewCache.eventCache.getNode(),null)}function V3(n,t,e,i){return function Zde(n,t,e,i){const r=[],s=[];return t.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Lde(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(o.childName,o.snapshotNode))}),ey(n,r,"child_removed",t,i,e),ey(n,r,"child_added",t,i,e),ey(n,r,"child_moved",s,i,e),ey(n,r,"child_changed",t,i,e),ey(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let VC,zC;class B3{constructor(){this.views=new Map}}function $k(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,te.hu)(null!=s,"SyncTree gave us an op for an invalid query."),F3(s,t,e,i)}{let s=[];for(const o of n.views.values())s=s.concat(F3(o,t,e,i));return s}}function z3(n,t,e,i,r){const o=n.views.get(t._queryIdentifier);if(!o){let c=NC(e,r?i:null),u=!1;c?u=!0:i instanceof An?(c=Hk(e,i),u=!1):(c=An.EMPTY_NODE,u=!1);const f=RC(new Yd(c,u,!1),new Yd(i,r,!1));return new Eue(t,f)}return o}function H3(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Xd(n,t){let e=null;for(const i of n.views.values())e=e||Iue(i,t);return e}function U3(n,t){return t._queryParams.loadsAllData()?BC(n):n.views.get(t._queryIdentifier)}function j3(n,t){return null!=U3(n,t)}function Zd(n){return null!=BC(n)}function BC(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Fue=1;class W3{constructor(t){this.listenProvider_=t,this.syncPointTree_=new nr(null),this.pendingWriteTree_=function hue(){return{visibleWrites:ml.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Yk(n,t,e,i,r){return function eue(n,t,e,i,r){(0,te.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=ny(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?mg(n,new Ch({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Kd(n,t,e=!1){const i=function nue(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function iue(n,t){const e=n.allWrites.findIndex(c=>c.writeId===t);(0,te.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,o=n.allWrites.length-1;for(;r&&o>=0;){const c=n.allWrites[o];c.visible&&(o>=e&&rue(c,i.path)?r=!1:Ha(i.path,c.path)&&(s=!0)),o--}return!!r&&(s?(function sue(n){n.visibleWrites=T3(n.allWrites,oue,bi()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=C3(n.visibleWrites,i.path):Is(i.children,u=>{n.visibleWrites=C3(n.visibleWrites,gr(i.path,u))}),!0))}(n.pendingWriteTree_,t)){let s=new nr(null);return null!=i.snap?s=s.set(bi(),!0):Is(i.children,o=>{s=s.set(new ki(o),!0)}),mg(n,new MC(i.path,s,e))}return[]}function iy(n,t,e){return mg(n,new Ch({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function HC(n,t,e,i,r=!1){const s=t._path,o=n.syncPointTree_.get(s);let c=[];if(o&&("default"===t._queryIdentifier||j3(o,t))){const u=function Pue(n,t,e,i){const r=t._queryIdentifier,s=[];let o=[];const c=Zd(n);if("default"===r)for(const[u,f]of n.views.entries())o=o.concat(L3(f,e,i)),N3(f)&&(n.views.delete(u),f.query._queryParams.loadsAllData()||s.push(f.query));else{const u=n.views.get(r);u&&(o=o.concat(L3(u,e,i)),N3(u)&&(n.views.delete(r),u.query._queryParams.loadsAllData()||s.push(u.query)))}return c&&!Zd(n)&&s.push(new(function Mue(){return(0,te.hu)(VC,"Reference.ts has not been loaded"),VC}())(t._repo,t._path)),{removed:s,events:o}}(o,t,e,i);(function Rue(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const f=u.removed;if(c=u.events,!r){const _=-1!==f.findIndex(T=>T._queryParams.loadsAllData()),x=n.syncPointTree_.findOnPath(s,(T,R)=>Zd(R));if(_&&!x){const T=n.syncPointTree_.subtree(s);if(!T.isEmpty()){const R=function Wue(n){return n.fold((t,e,i)=>{if(e&&Zd(e))return[BC(e)];{let r=[];return e&&(r=H3(e)),Is(i,(s,o)=>{r=r.concat(o)}),r}})}(T);for(let F=0;F<R.length;++F){const B=R[F],j=B.query,oe=q3(n,B);n.listenProvider_.startListening(sy(j),ry(n,j),oe.hashFn,oe.onComplete)}}}!x&&f.length>0&&!i&&(_?n.listenProvider_.stopListening(sy(t),null):f.forEach(T=>{const R=n.queryToTagMap.get(jC(T));n.listenProvider_.stopListening(sy(T),R)}))}!function Gue(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=jC(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,f)}return c}function G3(n,t,e,i){const r=Xk(n,i);if(null!=r){const s=Zk(r),o=s.path,c=s.queryId,u=ko(o,t);return Kk(n,o,new Ch(Lk(c),u,e))}return[]}function qk(n,t,e,i=!1){const r=t._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(r,(T,R)=>{const F=ko(T,r);s=s||Xd(R,F),o=o||Zd(R)});let u,c=n.syncPointTree_.get(r);c?(o=o||Zd(c),s=s||Xd(c,bi())):(c=new B3,n.syncPointTree_=n.syncPointTree_.set(r,c)),null!=s?u=!0:(u=!1,s=An.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((R,F)=>{const B=Xd(F,bi());B&&(s=s.updateImmediateChild(R,B))}));const f=j3(c,t);if(!f&&!t._queryParams.loadsAllData()){const T=jC(t);(0,te.hu)(!n.queryToTagMap.has(T),"View does not exist, but we have a tag");const R=function $ue(){return Fue++}();n.queryToTagMap.set(T,R),n.tagToQueryMap.set(R,T)}let x=function Oue(n,t,e,i,r,s){const o=z3(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,o),function Sue(n,t){n.eventRegistrations_.push(t)}(o,e),function Aue(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(tr,(s,o)=>{i.push(hg(s,o))}),e.isFullyInitialized()&&i.push(v3(e.getNode())),V3(n,i,e.getNode(),t)}(o,e)}(c,t,e,PC(n.pendingWriteTree_,r),s,u);if(!f&&!o&&!i){const T=U3(c,t);x=x.concat(function Yue(n,t,e){const i=t._path,r=ry(n,t),s=q3(n,e),o=n.listenProvider_.startListening(sy(t),r,s.hashFn,s.onComplete),c=n.syncPointTree_.subtree(i);if(r)(0,te.hu)(!Zd(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((f,_,x)=>{if(!Gn(f)&&_&&Zd(_))return[BC(_).query];{let T=[];return _&&(T=T.concat(H3(_).map(R=>R.query))),Is(x,(R,F)=>{T=T.concat(F)}),T}});for(let f=0;f<u.length;++f){const _=u[f];n.listenProvider_.stopListening(sy(_),ry(n,_))}}return o}(n,t,T))}return x}function UC(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(o,c)=>{const f=Xd(c,ko(o,t));if(f)return f});return I3(r,t,s,e,!0)}function mg(n,t){return $3(t,n.syncPointTree_,null,PC(n.pendingWriteTree_,bi()))}function $3(n,t,e,i){if(Gn(n.path))return Y3(n,t,e,i);{const r=t.get(bi());null==e&&null!=r&&(e=Xd(r,bi()));let s=[];const o=Wn(n.path),c=n.operationForChild(o),u=t.children.get(o);if(u&&c){const f=e?e.getImmediateChild(o):null,_=A3(i,o);s=s.concat($3(c,u,f,_))}return r&&(s=s.concat($k(r,n,i,e))),s}}function Y3(n,t,e,i){const r=t.get(bi());null==e&&null!=r&&(e=Xd(r,bi()));let s=[];return t.children.inorderTraversal((o,c)=>{const u=e?e.getImmediateChild(o):null,f=A3(i,o),_=n.operationForChild(o);_&&(s=s.concat(Y3(_,c,u,f)))}),r&&(s=s.concat($k(r,n,i,e))),s}function q3(n,t){const e=t.query,i=ry(n,e);return{hashFn:()=>(function Due(n){return n.viewCache_.serverCache.getNode()}(t)||An.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Hue(n,t,e){const i=Xk(n,e);if(i){const r=Zk(i),s=r.path,o=r.queryId,c=ko(s,t);return Kk(n,s,new Jv(Lk(o),c))}return[]}(n,e._path,i):function zue(n,t){return mg(n,new Jv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function Bce(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return HC(n,e,null,s)}}}}function ry(n,t){const e=jC(t);return n.queryToTagMap.get(e)}function jC(n){return n._path.toString()+"$"+n._queryIdentifier}function Xk(n,t){return n.tagToQueryMap.get(t)}function Zk(n){const t=n.indexOf("$");return(0,te.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new ki(n.substr(0,t))}}function Kk(n,t,e){const i=n.syncPointTree_.get(t);return(0,te.hu)(i,"Missing sync point for query tag that we're tracking"),$k(i,e,PC(n.pendingWriteTree_,t),null)}function sy(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Lue(){return(0,te.hu)(zC,"Reference.ts has not been loaded"),zC}())(n._repo,n._path):n}class Qk{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Qk(e)}node(){return this.node_}}class Jk{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=gr(this.path_,t);return new Jk(this.syncTree_,e)}node(){return UC(this.syncTree_,this.path_)}}const que=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},X3=function(n,t,e){return n&&"object"==typeof n?((0,te.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Xue(n[".sv"],t,e):"object"==typeof n[".sv"]?Zue(n[".sv"],t):void(0,te.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Xue=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,te.hu)(!1,"Unexpected server value: "+n)},Zue=function(n,t,e){n.hasOwnProperty("increment")||(0,te.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,te.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,te.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},Z3=function(n,t,e,i){return tM(t,new Jk(e,n),i)},eM=function(n,t,e){return tM(n,new Qk(t),e)};function tM(n,t,e){const i=n.getPriority().val(),r=X3(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const o=n,c=X3(o.getValue(),t,e);return c!==o.getValue()||r!==o.getPriority().val()?new dg(c,Ir(r)):n}{const o=n;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new dg(r))),o.forEachChild(tr,(c,u)=>{const f=tM(u,t.getImmediateChild(c),e);f!==u&&(s=s.updateImmediateChild(c,f))}),s}}class nM{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function WC(n,t){let e=t instanceof ki?t:new ki(t),i=n,r=Wn(e);for(;null!==r;){const s=(0,te.DV)(i.node.children,r)||{children:{},childCount:0};i=new nM(r,i,s),e=$i(e),r=Wn(e)}return i}function Th(n){return n.node.value}function iM(n,t){n.node.value=t,rM(n)}function K3(n){return n.node.childCount>0}function GC(n,t){Is(n.node.children,(e,i)=>{t(new nM(e,n,i))})}function Q3(n,t,e,i){e&&!i&&t(n),GC(n,r=>{Q3(r,t,!0,i)}),e&&i&&t(n)}function oy(n){return new ki(null===n.parent?n.name:oy(n.parent)+"/"+n.name)}function rM(n){null!==n.parent&&function Jue(n,t,e){const i=function Kue(n){return void 0===Th(n)&&!K3(n)}(e),r=(0,te.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,rM(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,rM(n))}(n.parent,n.name,n)}const ehe=/[\[\].#$\/\u0000-\u001F\u007F]/,the=/[\[\].#$\u0000-\u001F\u007F]/,sM=10485760,$C=function(n){return"string"==typeof n&&0!==n.length&&!ehe.test(n)},J3=function(n){return"string"==typeof n&&0!==n.length&&!the.test(n)},ay=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!yC(n)||n&&"object"==typeof n&&(0,te.r3)(n,".sv")},Jl=function(n,t,e,i){i&&void 0===t||ly((0,te.gK)(n,"value"),t,e)},ly=function(n,t,e){const i=e instanceof ki?new vde(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+xh(i));if("function"==typeof t)throw new Error(n+"contains a function "+xh(i)+" with contents = "+t.toString());if(yC(t))throw new Error(n+"contains "+t.toString()+" "+xh(i));if("string"==typeof t&&t.length>sM/3&&(0,te.ug)(t)>sM)throw new Error(n+"contains a string greater than "+sM+" utf8 bytes "+xh(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Is(t,(o,c)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!$C(o)))throw new Error(n+" contains an invalid key ("+o+") "+xh(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function yde(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,te.ug)(t),c3(n)})(i,o),ly(n,c,i),function bde(n){const t=n.parts_.pop();n.byteLength_-=(0,te.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+xh(i)+" in addition to actual children.")}},e4=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,te.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Is(t,(o,c)=>{const u=new ki(o);if(ly(r,c,gr(e,u)),".priority"===xk(u)&&!ay(c))throw new Error(r+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=$v(i);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!$C(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(_de);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Ha(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},oM=function(n,t,e){if(!e||void 0!==t){if(yC(t))throw new Error((0,te.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ay(t))throw new Error((0,te.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},cy=function(n,t,e,i){if(!(i&&void 0===e||$C(e)))throw new Error((0,te.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dy=function(n,t,e,i){if(!(i&&void 0===e||J3(e)))throw new Error((0,te.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},rhe=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),dy(n,t,e,i)},Ua=function(n,t){if(".info"===Wn(t))throw new Error(n+" failed = Can't modify data under /.info/")},t4=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!$C(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),J3(n)}(e))throw new Error((0,te.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class she{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function YC(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!wk(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function n4(n,t,e){YC(n,e),i4(n,i=>wk(i,t))}function ga(n,t,e){YC(n,e),i4(n,i=>Ha(i,t)||Ha(t,i))}function i4(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(ohe(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function ohe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();yh&&Ts("event: "+e.toString()),lg(i)}}}const r4="repo_interrupt",ahe=25;class lhe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new she,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kC(),this.transactionQueueTree_=new nM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function s4(n){const e=n.infoData_.getNode(new ki(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function uy(n){return que({timestamp:s4(n)})}function o4(n,t,e,i,r){n.dataUpdateCount++;const s=new ki(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let o=[];if(r)if(i){const u=(0,te.UI)(e,f=>Ir(f));o=function Uue(n,t,e,i){const r=Xk(n,i);if(r){const s=Zk(r),o=s.path,c=s.queryId,u=ko(o,t),f=nr.fromObject(e);return Kk(n,o,new pg(Lk(c),u,f))}return[]}(n.serverSyncTree_,s,u,r)}else{const u=Ir(e);o=G3(n.serverSyncTree_,s,u,r)}else if(i){const u=(0,te.UI)(e,f=>Ir(f));o=function Bue(n,t,e){const i=nr.fromObject(e);return mg(n,new pg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,u)}else{const u=Ir(e);o=iy(n.serverSyncTree_,s,u)}let c=s;o.length>0&&(c=vg(n,s)),ga(n.eventQueue_,c,o)}function a4(n,t){aM(n,"connected",t),!1===t&&function fhe(n){_g(n,"onDisconnectEvents");const t=uy(n),e=kC();Ok(n.onDisconnect_,bi(),(r,s)=>{const o=Z3(r,s,n.serverSyncTree_,t);fg(e,r,o)});let i=[];Ok(e,bi(),(r,s)=>{i=i.concat(iy(n.serverSyncTree_,r,s));const o=uM(n,r);vg(n,o)}),n.onDisconnect_=kC(),ga(n.eventQueue_,bi(),i)}(n)}function aM(n,t,e){const i=new ki("/.info/"+t),r=Ir(e);n.infoData_.updateSnapshot(i,r);const s=iy(n.infoSyncTree_,i,r);ga(n.eventQueue_,i,s)}function qC(n){return n.nextWriteId_++}function lM(n,t,e,i,r){_g(n,"set",{path:t.toString(),value:e,priority:i});const s=uy(n),o=Ir(e,i),c=UC(n.serverSyncTree_,t),u=eM(o,c,s),f=qC(n),_=Yk(n.serverSyncTree_,t,u,f,!0);YC(n.eventQueue_,_),n.server_.put(t.toString(),o.val(!0),(T,R)=>{const F="ok"===T;F||to("set at "+t+" failed: "+T);const B=Kd(n.serverSyncTree_,f,!F);ga(n.eventQueue_,t,B),Qd(0,r,T,R)});const x=uM(n,t);vg(n,x),ga(n.eventQueue_,x,[])}function phe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&Rk(n.onDisconnect_,t),Qd(0,e,i,r)})}function l4(n,t,e,i){const r=Ir(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,o)=>{"ok"===s&&fg(n.onDisconnect_,t,r),Qd(0,i,s,o)})}function cM(n,t,e){let i;i=".info"===Wn(t._path)?HC(n.infoSyncTree_,t,e):HC(n.serverSyncTree_,t,e),n4(n.eventQueue_,t._path,i)}function c4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(r4)}function _g(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Ts(e,...t)}function Qd(n,t,e,i){t&&lg(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,t(o)}})}function dM(n,t,e){return UC(n.serverSyncTree_,t,e)||An.EMPTY_NODE}function XC(n,t=n.transactionQueueTree_){if(t||ZC(n,t),Th(t)){const e=u4(n,t);(0,te.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function bhe(n,t,e){const i=e.map(f=>f.currentWriteId),r=dM(n,t,i);let s=r;const o=r.hash();for(let f=0;f<e.length;f++){const _=e[f];(0,te.hu)(0===_.status,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const x=ko(t,_.path);s=s.updateChild(x,_.currentOutputSnapshotRaw)}const c=s.val(!0),u=t;n.server_.put(u.toString(),c,f=>{_g(n,"transaction put response",{path:u.toString(),status:f});let _=[];if("ok"===f){const x=[];for(let T=0;T<e.length;T++)e[T].status=2,_=_.concat(Kd(n.serverSyncTree_,e[T].currentWriteId)),e[T].onComplete&&x.push(()=>e[T].onComplete(null,!0,e[T].currentOutputSnapshotResolved)),e[T].unwatcher();ZC(n,WC(n.transactionQueueTree_,t)),XC(n,n.transactionQueueTree_),ga(n.eventQueue_,t,_);for(let T=0;T<x.length;T++)lg(x[T])}else{if("datastale"===f)for(let x=0;x<e.length;x++)e[x].status=3===e[x].status?4:0;else{to("transaction at "+u.toString()+" failed: "+f);for(let x=0;x<e.length;x++)e[x].status=4,e[x].abortReason=f}vg(n,t)}},o)}(n,oy(t),e)}else K3(t)&&GC(t,e=>{XC(n,e)})}function vg(n,t){const e=d4(n,t),i=oy(e);return function xhe(n,t,e){if(0===t.length)return;const i=[];let r=[];const o=t.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const u=t[c],f=ko(e,u.path);let x,_=!1;if((0,te.hu)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)_=!0,x=u.abortReason,r=r.concat(Kd(n.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=ahe)_=!0,x="maxretry",r=r.concat(Kd(n.serverSyncTree_,u.currentWriteId,!0));else{const T=dM(n,u.path,o);u.currentInputSnapshot=T;const R=t[c].update(T.val());if(void 0!==R){ly("transaction failed: Data returned ",R,u.path);let F=Ir(R);"object"==typeof R&&null!=R&&(0,te.r3)(R,".priority")||(F=F.updatePriority(T.getPriority()));const j=u.currentWriteId,oe=uy(n),ee=eM(F,T,oe);u.currentOutputSnapshotRaw=F,u.currentOutputSnapshotResolved=ee,u.currentWriteId=qC(n),o.splice(o.indexOf(j),1),r=r.concat(Yk(n.serverSyncTree_,u.path,ee,u.currentWriteId,u.applyLocally)),r=r.concat(Kd(n.serverSyncTree_,j,!0))}else _=!0,x="nodata",r=r.concat(Kd(n.serverSyncTree_,u.currentWriteId,!0))}ga(n.eventQueue_,e,r),r=[],_&&(t[c].status=2,setTimeout(t[c].unwatcher,Math.floor(0)),t[c].onComplete&&i.push("nodata"===x?()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot):()=>t[c].onComplete(new Error(x),!1,null)))}ZC(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)lg(i[c]);XC(n,n.transactionQueueTree_)}(n,u4(n,e),i),i}function d4(n,t){let e,i=n.transactionQueueTree_;for(e=Wn(t);null!==e&&void 0===Th(i);)i=WC(i,e),e=Wn(t=$i(t));return i}function u4(n,t){const e=[];return h4(n,t,e),e.sort((i,r)=>i.order-r.order),e}function h4(n,t,e){const i=Th(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);GC(t,r=>{h4(n,r,e)})}function ZC(n,t){const e=Th(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,iM(t,e.length>0?e:void 0)}GC(t,i=>{ZC(n,i)})}function uM(n,t){const e=oy(d4(n,t)),i=WC(n.transactionQueueTree_,t);return function Que(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{hM(n,r)}),hM(n,i),Q3(i,r=>{hM(n,r)}),e}function hM(n,t){const e=Th(t);if(e){const i=[];let r=[],s=-1;for(let o=0;o<e.length;o++)3===e[o].status||(1===e[o].status?((0,te.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,e[o].status=3,e[o].abortReason="set"):((0,te.hu)(0===e[o].status,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(Kd(n.serverSyncTree_,e[o].currentWriteId,!0)),e[o].onComplete&&i.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?iM(t,void 0):e.length=s+1,ga(n.eventQueue_,oy(t),r);for(let o=0;o<i.length;o++)lg(i[o])}}const fM=function(n,t){const e=Ehe(n),i=e.namespace;return"firebase.com"===e.domain&&Zl(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Zl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&to("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new gk(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new ki(e.pathString)}},Ehe=function(n){let t="",e="",i="",r="",s="",o=!0,c="https",u=443;if("string"==typeof n){let f=n.indexOf("//");f>=0&&(c=n.substring(0,f-1),n=n.substring(f+2));let _=n.indexOf("/");-1===_&&(_=n.length);let x=n.indexOf("?");-1===x&&(x=n.length),t=n.substring(0,Math.min(_,x)),_<x&&(r=function whe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(_,x)));const T=function Che(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):to(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,x)));f=t.indexOf(":"),f>=0?(o="https"===c||"wss"===c,u=parseInt(t.substring(f+1),10)):f=t.length;const R=t.slice(0,f);if("localhost"===R.toLowerCase())e="localhost";else if(R.split(".").length<=2)e=R;else{const F=t.indexOf(".");i=t.substring(0,F).toLowerCase(),e=t.substring(F+1),s=i}"ns"in T&&(s=T.ns)}return{host:t,port:u,domain:e,subdomain:i,secure:o,scheme:c,pathString:r,namespace:s}},f4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Dhe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=f4.charAt(e%64),e=Math.floor(e/64);(0,te.hu)(0===e,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=f4.charAt(t[r]);return(0,te.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class p4{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,te.Wl)(this.snapshot.exportVal())}}class g4{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class pM{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,te.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class m4{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new te.BH;return phe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ua("OnDisconnect.remove",this._path);const t=new te.BH;return l4(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ua("OnDisconnect.set",this._path),Jl("OnDisconnect.set",t,this._path,!1);const e=new te.BH;return l4(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ua("OnDisconnect.setWithPriority",this._path),Jl("OnDisconnect.setWithPriority",t,this._path,!1),oM("OnDisconnect.setWithPriority",e,!1);const i=new te.BH;return function ghe(n,t,e,i,r){const s=Ir(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(o,c)=>{"ok"===o&&fg(n.onDisconnect_,t,s),Qd(0,r,o,c)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Ua("OnDisconnect.update",this._path),e4("OnDisconnect.update",t,this._path,!1);const e=new te.BH;return function mhe(n,t,e,i){if((0,te.xb)(e))return Ts("onDisconnect().update() called with empty data.  Don't do anything."),void Qd(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Is(e,(o,c)=>{const u=Ir(c);fg(n.onDisconnect_,gr(t,o),u)}),Qd(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ko{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Gn(this._path)?null:xk(this._path)}get ref(){return new ja(this._repo,this._path)}get _queryIdentifier(){const t=b3(this._queryParams),e=fk(t);return"{}"===e?"default":e}get _queryObject(){return b3(this._queryParams)}isEqual(t){if(!((t=(0,te.m9)(t))instanceof Ko))return!1;const e=this._repo===t._repo,i=wk(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function mde(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function KC(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Jd(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Kl){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Wd)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Gc)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===tr){if(null!=t&&!ay(t)||null!=e&&!ay(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,te.hu)(n.getIndex()instanceof Ik||n.getIndex()===Sk,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function QC(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ja extends Ko{constructor(t,e){super(t,e,new IC,!1)}get parent(){const t=l3(this._path);return null===t?null:new ja(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Ih{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ki(t),i=Sh(this.ref,t);return new Ih(this._node.getChild(e),i,tr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Ih(r,Sh(this.ref,i),tr)))}hasChild(t){const e=new ki(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _4(n,t){return(n=(0,te.m9)(n))._checkNotDeleted("ref"),void 0!==t?Sh(n._root,t):n._root}function v4(n,t){(n=(0,te.m9)(n))._checkNotDeleted("refFromURL");const e=fM(t,n._repo.repoInfo_.nodeAdmin);t4("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Zl("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),_4(n,e.path.toString())}function Sh(n,t){return null===Wn((n=(0,te.m9)(n))._path)?rhe("child","path",t,!1):dy("child","path",t,!1),new ja(n._repo,gr(n._path,t))}function gM(n,t){n=(0,te.m9)(n),Ua("set",n._path),Jl("set",t,n._path,!1);const e=new te.BH;return lM(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function khe(n,t){e4("update",t,n._path,!1);const e=new te.BH;return function hhe(n,t,e,i){_g(n,"update",{path:t.toString(),value:e});let r=!0;const s=uy(n),o={};if(Is(e,(c,u)=>{r=!1,o[c]=Z3(gr(t,c),Ir(u),n.serverSyncTree_,s)}),r)Ts("update() called with empty data.  Don't do anything."),Qd(0,i,"ok",void 0);else{const c=qC(n),u=function Vue(n,t,e,i){!function tue(n,t,e,i){(0,te.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Vk(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=nr.fromObject(e);return mg(n,new pg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,o,c);YC(n.eventQueue_,u),n.server_.merge(t.toString(),e,(f,_)=>{const x="ok"===f;x||to("update at "+t+" failed: "+f);const T=Kd(n.serverSyncTree_,c,!x),R=T.length>0?vg(n,t):t;ga(n.eventQueue_,R,T),Qd(0,i,f,_)}),Is(e,f=>{const _=uM(n,gr(t,f));vg(n,_)}),ga(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Mhe(n){n=(0,te.m9)(n);const t=new pM(()=>{}),e=new hy(t);return function uhe(n,t,e){const i=function jue(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(f,_)=>{const x=ko(f,e);i=i||Xd(_,x)});let r=n.syncPointTree_.get(e);r?i=i||Xd(r,bi()):(r=new B3,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,o=s?new Yd(i,!0,!1):null;return function Tue(n){return OC(n.viewCache_)}(z3(r,t,PC(n.pendingWriteTree_,t._path),s?o.getNode():An.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=Ir(r).withIndex(t._queryParams.getIndex());let o;if(qk(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())o=iy(n.serverSyncTree_,t._path,s);else{const c=ry(n.serverSyncTree_,t);o=G3(n.serverSyncTree_,t._path,s,c)}return ga(n.eventQueue_,t._path,o),HC(n.serverSyncTree_,t,e,null,!0),s},r=>(_g(n,"get for query "+(0,te.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Ih(i,new ja(n._repo,n._path),n._queryParams.getIndex()))}class hy{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new p4("value",this,new Ih(t.snapshotNode,new ja(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new g4(this,t,e):null}matches(t){return t instanceof hy&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class JC{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new g4(this,t,e):null}createEvent(t,e){(0,te.hu)(null!=t.childName,"Child events should have a childName.");const i=Sh(new ja(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new p4(t.type,this,new Ih(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof JC&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function fy(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const u=e,f=(_,x)=>{cM(n._repo,n,c),u(_,x)};f.userCallback=e.userCallback,f.context=e.context,e=f}const o=new pM(e,s||void 0),c="value"===t?new hy(o):new JC(t,o);return function _he(n,t,e){let i;i=".info"===Wn(t._path)?qk(n.infoSyncTree_,t,e):qk(n.serverSyncTree_,t,e),n4(n.eventQueue_,t._path,i)}(n._repo,n,c),()=>cM(n._repo,n,c)}function mM(n,t,e,i){return fy(n,"value",t,e,i)}function y4(n,t,e,i){return fy(n,"child_added",t,e,i)}function b4(n,t,e,i){return fy(n,"child_changed",t,e,i)}function x4(n,t,e,i){return fy(n,"child_moved",t,e,i)}function w4(n,t,e,i){return fy(n,"child_removed",t,e,i)}function C4(n,t,e){let i=null;const r=e?new pM(e):null;"value"===t?i=new hy(r):t&&(i=new JC(t,r)),cM(n._repo,n,i)}class _l{}class E4 extends _l{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Jl("endAt",this._value,t._path,!0);const e=Mk(t._queryParams,this._value,this._key);if(QC(e),Jd(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ko(t._repo,t._path,e,t._orderByCalled)}}class Ohe extends _l{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Jl("endBefore",this._value,t._path,!1);const e=function Ude(n,t,e){let i;return i=Mk(n,t,n.index_===Kl||e?e:Wd),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(QC(e),Jd(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ko(t._repo,t._path,e,t._orderByCalled)}}class D4 extends _l{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Jl("startAt",this._value,t._path,!0);const e=kk(t._queryParams,this._value,this._key);if(QC(e),Jd(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ko(t._repo,t._path,e,t._orderByCalled)}}class Lhe extends _l{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Jl("startAfter",this._value,t._path,!1);const e=function Hde(n,t,e){let i;return i=kk(n,t,n.index_===Kl||e?e:Gc),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(QC(e),Jd(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ko(t._repo,t._path,e,t._orderByCalled)}}class Vhe extends _l{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ko(t._repo,t._path,function Bde(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class zhe extends _l{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ko(t._repo,t._path,function zde(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Uhe extends _l{constructor(t){super(),this._path=t}_apply(t){KC(t,"orderByChild");const e=new ki(this._path);if(Gn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Ik(e),r=SC(t._queryParams,i);return Jd(r),new Ko(t._repo,t._path,r,!0)}}class Whe extends _l{_apply(t){KC(t,"orderByKey");const e=SC(t._queryParams,Kl);return Jd(e),new Ko(t._repo,t._path,e,!0)}}class $he extends _l{_apply(t){KC(t,"orderByPriority");const e=SC(t._queryParams,tr);return Jd(e),new Ko(t._repo,t._path,e,!0)}}class qhe extends _l{_apply(t){KC(t,"orderByValue");const e=SC(t._queryParams,Sk);return Jd(e),new Ko(t._repo,t._path,e,!0)}}class Zhe extends _l{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Jl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new E4(this._value,this._key)._apply(new D4(this._value,this._key)._apply(t))}}function vl(n,...t){let e=(0,te.m9)(n);for(const i of t)e=i._apply(e);return e}(function kue(n){(0,te.hu)(!VC,"__referenceConstructor has already been defined"),VC=n})(ja),function Nue(n){(0,te.hu)(!zC,"__referenceConstructor has already been defined"),zC=n}(ja);const _M={};function vM(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Zl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ts("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u,f,o=fM(s,r),c=o.repoInfo;typeof process<"u"&&process.env&&(f=process.env.FIREBASE_DATABASE_EMULATOR_HOST),f?(u=!0,s=`http://${f}?ns=${c.namespace}`,o=fM(s,r),c=o.repoInfo):u=!o.repoInfo.secure;const _=r&&u?new Gv(Gv.OWNER):new Gce(n.name,n.options,t);t4("Invalid Firebase Database URL",o),Gn(o.path)||Zl("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function tfe(n,t,e,i){let r=_M[t.name];r||(r={},_M[t.name]=r);let s=r[n.toURLString()];return s&&Zl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new lhe(n,false,e,i),r[n.toURLString()]=s,s}(c,n,_,new Wce(n.name,e));return new ife(x,n)}class ife{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function che(n,t,e){if(n.stats_=vk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new AC(n.repoInfo_,(i,r,s,o)=>{o4(n,i,r,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>a4(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,te.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new wh(n.repoInfo_,t,(i,r,s,o)=>{o4(n,i,r,s,o)},i=>{a4(n,i)},i=>{!function dhe(n,t){Is(t,(e,i)=>{aM(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function qce(n,t){const e=n.toString();return _k[e]||(_k[e]=t()),_k[e]}(n.repoInfo_,()=>new qde(n.stats_,n.server_)),n.infoData_=new jde,n.infoSyncTree_=new W3({startListening:(i,r,s,o)=>{let c=[];const u=n.infoData_.getNode(i._path);return u.isEmpty()||(c=iy(n.infoSyncTree_,i._path,u),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),aM(n,"connected",!1),n.serverSyncTree_=new W3({startListening:(i,r,s,o)=>(n.server_.listen(i,s,r,(c,u)=>{const f=o(c,u);ga(n.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ja(this._repo,bi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function efe(n,t){const e=_M[t];(!e||e[n.key]!==n)&&Zl(`Database ${t}(${n.repoInfo_}) has already been deleted.`),c4(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Zl("Cannot call "+t+" on a deleted database.")}}function I4(){Xj.IS_TRANSPORT_INITIALIZED&&to("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function rfe(){I4(),Gd.forceDisallow()}function sfe(){I4(),cg.forceDisallow(),Gd.forceAllow()}function lfe(n,t){Aj(n,t)}const dfe={".sv":"timestamp"};class ffe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}wh.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},wh.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function cfe(n){dk(Xo.SDK_VERSION),(0,Xo._registerComponent)(new pl.wA("database",(t,{instanceIdentifier:e})=>vM(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Xo.registerVersion)(Cj,"1.0.1",n),(0,Xo.registerVersion)(Cj,"1.0.1","esm2017")}();const _fe=new pa.Yd("@firebase/database-compat"),A4=function(n){_fe.warn("FIREBASE WARNING: "+n)};class bfe{constructor(t){this._delegate=t}cancel(t){(0,te.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,te.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,te.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,te.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,te.Dv)("OnDisconnect.set",1,2,arguments.length),(0,te.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,te.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,te.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,te.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,A4("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,te.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class xfe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,te.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class eu{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,te.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,te.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,te.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,te.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,te.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),dy("DataSnapshot.child","path",t,!1),new eu(this._database,this._delegate.child(t))}hasChild(t){return(0,te.Dv)("DataSnapshot.hasChild",1,1,arguments.length),dy("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,te.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,te.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,te.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new eu(this._database,e)))}hasChildren(){return(0,te.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,te.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,te.Dv)("DataSnapshot.ref",0,0,arguments.length),new ma(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Bs{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,te.Dv)("Query.on",2,4,arguments.length),(0,te.Wj)("Query.on","callback",e,!1);const o=Bs.getCancelAndContextArgs_("Query.on",i,r),c=(f,_)=>{e.call(o.context,new eu(this.database,f),_)};c.userCallback=e,c.context=o.context;const u=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(t){case"value":return mM(this._delegate,c,u),e;case"child_added":return y4(this._delegate,c,u),e;case"child_removed":return w4(this._delegate,c,u),e;case"child_changed":return b4(this._delegate,c,u),e;case"child_moved":return x4(this._delegate,c,u),e;default:throw new Error((0,te.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,te.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,te.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,te.Wj)("Query.off","callback",e,!0),(0,te.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,C4(this._delegate,t,r)}else C4(this._delegate,t)}get(){return Mhe(this._delegate).then(t=>new eu(this.database,t))}once(t,e,i,r){(0,te.Dv)("Query.once",1,4,arguments.length),(0,te.Wj)("Query.once","callback",e,!0);const s=Bs.getCancelAndContextArgs_("Query.once",i,r),o=new te.BH,c=(f,_)=>{const x=new eu(this.database,f);e&&e.call(s.context,x,_),o.resolve(x)};c.userCallback=e,c.context=s.context;const u=f=>{s.cancel&&s.cancel.call(s.context,f),o.reject(f)};switch(t){case"value":mM(this._delegate,c,u,{onlyOnce:!0});break;case"child_added":y4(this._delegate,c,u,{onlyOnce:!0});break;case"child_removed":w4(this._delegate,c,u,{onlyOnce:!0});break;case"child_changed":b4(this._delegate,c,u,{onlyOnce:!0});break;case"child_moved":x4(this._delegate,c,u,{onlyOnce:!0});break;default:throw new Error((0,te.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return(0,te.Dv)("Query.limitToFirst",1,1,arguments.length),new Bs(this.database,vl(this._delegate,function Bhe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Vhe(n)}(t)))}limitToLast(t){return(0,te.Dv)("Query.limitToLast",1,1,arguments.length),new Bs(this.database,vl(this._delegate,function Hhe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new zhe(n)}(t)))}orderByChild(t){return(0,te.Dv)("Query.orderByChild",1,1,arguments.length),new Bs(this.database,vl(this._delegate,function jhe(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return dy("orderByChild","path",n,!1),new Uhe(n)}(t)))}orderByKey(){return(0,te.Dv)("Query.orderByKey",0,0,arguments.length),new Bs(this.database,vl(this._delegate,function Ghe(){return new Whe}()))}orderByPriority(){return(0,te.Dv)("Query.orderByPriority",0,0,arguments.length),new Bs(this.database,vl(this._delegate,function Yhe(){return new $he}()))}orderByValue(){return(0,te.Dv)("Query.orderByValue",0,0,arguments.length),new Bs(this.database,vl(this._delegate,function Xhe(){return new qhe}()))}startAt(t=null,e){return(0,te.Dv)("Query.startAt",0,2,arguments.length),new Bs(this.database,vl(this._delegate,function Nhe(n=null,t){return cy("startAt","key",t,!0),new D4(n,t)}(t,e)))}startAfter(t=null,e){return(0,te.Dv)("Query.startAfter",0,2,arguments.length),new Bs(this.database,vl(this._delegate,function Fhe(n,t){return cy("startAfter","key",t,!0),new Lhe(n,t)}(t,e)))}endAt(t=null,e){return(0,te.Dv)("Query.endAt",0,2,arguments.length),new Bs(this.database,vl(this._delegate,function Rhe(n,t){return cy("endAt","key",t,!0),new E4(n,t)}(t,e)))}endBefore(t=null,e){return(0,te.Dv)("Query.endBefore",0,2,arguments.length),new Bs(this.database,vl(this._delegate,function Phe(n,t){return cy("endBefore","key",t,!0),new Ohe(n,t)}(t,e)))}equalTo(t,e){return(0,te.Dv)("Query.equalTo",1,2,arguments.length),new Bs(this.database,vl(this._delegate,function Khe(n,t){return cy("equalTo","key",t,!0),new Zhe(n,t)}(t,e)))}toString(){return(0,te.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,te.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,te.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Bs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,te.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,te.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,te.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ma(this.database,new ja(this._delegate._repo,this._delegate._path))}}class ma extends Bs{constructor(t,e){super(t,new Ko(e._repo,e._path,new IC,!1)),this.database=t,this._delegate=e}getKey(){return(0,te.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,te.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ma(this.database,Sh(this._delegate,t))}getParent(){(0,te.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ma(this.database,t):null}getRoot(){return(0,te.Dv)("Reference.root",0,0,arguments.length),new ma(this.database,this._delegate.root)}set(t,e){(0,te.Dv)("Reference.set",1,2,arguments.length),(0,te.Wj)("Reference.set","onComplete",e,!0);const i=gM(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,te.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,A4("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ua("Reference.update",this._delegate._path),(0,te.Wj)("Reference.update","onComplete",e,!0);const i=khe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,te.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,te.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Ahe(n,t,e){if(Ua("setWithPriority",n._path),Jl("setWithPriority",t,n._path,!1),oM("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new te.BH;return lM(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,te.Dv)("Reference.remove",0,1,arguments.length),(0,te.Wj)("Reference.remove","onComplete",t,!0);const e=function Ihe(n){return Ua("remove",n._path),gM(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,te.Dv)("Reference.transaction",1,3,arguments.length),(0,te.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,te.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,te.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function pfe(n,t,e){var i;if(n=(0,te.m9)(n),Ua("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new te.BH,c=mM(n,()=>{});return function yhe(n,t,e,i,r,s){_g(n,"transaction on "+t);const o={path:t,update:e,onComplete:i,status:null,order:Tj(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=dM(n,t,void 0);o.currentInputSnapshot=c;const u=o.update(c.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ly("transaction failed: Data returned ",u,o.path),o.status=0;const f=WC(n.transactionQueueTree_,t),_=Th(f)||[];let x;_.push(o),iM(f,_),"object"==typeof u&&null!==u&&(0,te.r3)(u,".priority")?(x=(0,te.DV)(u,".priority"),(0,te.hu)(ay(x),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):x=(UC(n.serverSyncTree_,t)||An.EMPTY_NODE).getPriority().val();const T=uy(n),R=Ir(u,x),F=eM(R,c,T);o.currentOutputSnapshotRaw=R,o.currentOutputSnapshotResolved=F,o.currentWriteId=qC(n);const B=Yk(n.serverSyncTree_,t,F,o.currentWriteId,o.applyLocally);ga(n.eventQueue_,t,B),XC(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(u,f,_)=>{let x=null;u?s.reject(u):(x=new Ih(_,new ja(n._repo,n._path),tr),s.resolve(new ffe(f,x)))},c,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new xfe(s.committed,new eu(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,te.Dv)("Reference.setPriority",1,2,arguments.length),(0,te.Wj)("Reference.setPriority","onComplete",e,!0);const i=function She(n,t){n=(0,te.m9)(n),Ua("setPriority",n._path),oM("setPriority",t,!1);const e=new te.BH;return lM(n._repo,gr(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,te.Dv)("Reference.push",0,2,arguments.length),(0,te.Wj)("Reference.push","onComplete",e,!0);const i=function The(n,t){n=(0,te.m9)(n),Ua("push",n._path),Jl("push",t,n._path,!0);const e=s4(n._repo),i=Dhe(e),r=Sh(n,i),s=Sh(n,i);let o;return o=null!=t?gM(s,t).then(()=>s):Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}(this._delegate,t),r=i.then(o=>new ma(this.database,o));e&&r.then(()=>e(null),o=>e(o));const s=new ma(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Ua("Reference.onDisconnect",this._delegate._path),new bfe(new m4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class py{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:rfe,forceLongPolling:sfe}}useEmulator(t,e,i={}){!function S4(n,t,e,i={}){(n=(0,te.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Zl("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Zl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Gv(Gv.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:(0,te.Sg)(i.mockUserToken,n.app.options.projectId);s=new Gv(o)}!function Jhe(n,t,e,i){n.repoInfo_=new gk(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,te.Dv)("database.ref",0,1,arguments.length),t instanceof ma){const e=v4(this._delegate,t.toString());return new ma(this,e)}{const e=_4(this._delegate,t);return new ma(this,e)}}refFromURL(t){(0,te.Dv)("database.refFromURL",1,1,arguments.length);const i=v4(this._delegate,t);return new ma(this,i)}goOffline(){return(0,te.Dv)("database.goOffline",0,0,arguments.length),function ofe(n){(n=(0,te.m9)(n))._checkNotDeleted("goOffline"),c4(n._repo)}(this._delegate)}goOnline(){return(0,te.Dv)("database.goOnline",0,0,arguments.length),function afe(n){(n=(0,te.m9)(n))._checkNotDeleted("goOnline"),function vhe(n){n.persistentConnection_&&n.persistentConnection_.resume(r4)}(n._repo)}(this._delegate)}}py.ServerValue={TIMESTAMP:function ufe(){return dfe}(),increment:n=>function hfe(n){return{".sv":{increment:n}}}(n)};var Cfe=Object.freeze({__proto__:null,initStandalone:function wfe({app:n,url:t,version:e,customAuthImpl:i,customAppCheckImpl:r,namespace:s,nodeAdmin:o=!1}){dk(e);const c=new pl.H0("database-standalone"),u=new pl.zt("auth-internal",c);let f;return u.setComponent(new pl.wA("auth-internal",()=>i,"PRIVATE")),r&&(f=new pl.zt("app-check-internal",c),f.setComponent(new pl.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new py(vM(n,u,f,t,o),n),namespace:s}}});const Efe=py.ServerValue;function gy(n,t,e="on",i=Ud){return new zt(r=>{let s=null;return s=n[e](t,(o,c)=>{i.schedule(()=>{r.next({snapshot:o,prevKey:c})}),"once"===e&&i.schedule(()=>r.complete())},o=>{i.schedule(()=>r.error(o))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe(Ye(r=>{const{snapshot:s,prevKey:o}=r;let c=null;return s.exists()&&(c=s.key),{type:t,payload:s,prevKey:o,key:c}}),ze())}function k4(n){return null==n}function M4(n){return"function"==typeof n.set}function R4(n,t){return M4(t)?t:n.ref(t)}function O4(n,t){if(function Tfe(n){return"string"==typeof n}(n))return t.stringCase();if(M4(n))return t.firebaseCase();if(function Ife(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function P4(n){return(k4(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function N4(n,t,e){return J(...(t=P4(t)).map(r=>gy(n,r,"on",e)))}function L4(n,t){return function(i,r){return O4(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Mfe(n){return function(e){return e?O4(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function F4(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Pfe(n,t){const{payload:e,prevKey:i,key:r}=t,s=F4(n,r),o=function Ofe(n,t){if(k4(t))return 0;{const e=F4(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload?.exists()){let c=null;t.payload.forEach(u=>{const f={payload:u,type:"value",prevKey:c,key:u.key};return c=u.key,n=[...n,f],!1})}return n;case"child_added":if(s>-1)(n[s-1]?.key||null)!==i&&(n=n.filter(u=>u.payload.key!==e.key)).splice(o,0,t);else{if(null==i)return[t,...n];(n=n.slice()).splice(o,0,t)}return n;case"child_removed":return n.filter(c=>c.payload.key!==e.key);case"child_changed":return n.map(c=>c.payload.key===r?t:c);case"child_moved":if(s>-1){const c=n.splice(s,1)[0];return(n=n.slice()).splice(o,0,c),n}return n;default:return n}}function V4(n,t,e){return function Rfe(n,t,e){return gy(n,"value","once",e).pipe(vt(i=>{const r=[he(i)];return t.forEach(s=>r.push(gy(n,s,"on",e))),J(...r).pipe(og(Pfe,[]))}),tn())}(n,t=P4(t),e)}function B4(n,t){return function(){return gy(n,"value","on",t)}}!function Dfe(n){n.INTERNAL.registerComponent(new pl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new py(r,i)},"PUBLIC").setServiceProps({Reference:ma,Query:Bs,Database:py,DataSnapshot:eu,enableLogging:lfe,INTERNAL:Cfe,ServerValue:Efe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.1")}(fa.Z);const Ffe=new je("angularfire2.realtimeDatabaseURL"),Vfe=new je("angularfire2.database.use-emulator");let Bfe=(()=>{class n{schedulers;database;constructor(e,i,r,s,o,c,u,f,_,x,T,R,F,B,j){this.schedulers=c;const oe=u,ee=zv(e,o,i);f&&lk(ee,o,_,T,R,F,x,B),this.database=pC(`${ee.name}.database.${r}`,"AngularFireDatabase",ee.name,()=>{const le=o.runOutsideAngular(()=>ee.database(r||void 0));return oe&&le.useEmulator(...oe),le},[oe])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>R4(this.database,e));let s=r;return i&&(s=i(r)),function Nfe(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:L4(i,"update"),set:L4(i,"set"),push:r=>i.push(r),remove:Mfe(i),snapshotChanges:r=>V4(n,r,e).pipe($r),stateChanges:r=>N4(n,r,e).pipe($r),auditTrail:r=>function Sfe(n,t,e){return function kfe(n,t,e){return function Afe(n,t){return gy(n,"value","on",t).pipe(Ye(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(vC(t),Ye(([r,s])=>{const o=r.lastKeyToLoad,c=s.map(u=>u.key);return{actions:s,lastKeyToLoad:o,loadedKeys:c}}),function Mce(n){return Ue((t,e)=>{let i=!1,r=0;t.subscribe(ct(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),Ye(r=>r.actions))}(n,N4(n,t).pipe(og((r,s)=>[...r,s],[])),e)}(n,r,e).pipe($r),valueChanges:(r,s)=>V4(n,r,e).pipe(Ye(c=>c.map(u=>s&&s.idField?{...u.payload.val(),[s.idField]:u.key}:u.payload.val())),$r)}}(s,this)}object(e){return function Lfe(n,t){return{query:n,snapshotChanges:()=>B4(n,t.schedulers.outsideAngular)().pipe($r),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>B4(n,t.schedulers.outsideAngular)().pipe($r,Ye(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>R4(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(fe(rg),fe(sg,8),fe(Ffe,8),fe(wo),fe(ht),fe(fC),fe(Vfe,8),fe(Wc,8),fe(nk,8),fe(ik,8),fe(rk,8),fe(sk,8),fe(ok,8),fe(ak,8),fe(hC,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),zfe=(()=>{class n{constructor(){fa.Z.registerVersion("angularfire",tg.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rt({type:n});static \u0275inj=ke({providers:[Bfe]})}return n})();function yg(...n){return function Hfe(){return Yn(1)}()(Y(n,fo(n)))}function yl(...n){const t=fo(n);return Ue((e,i)=>{(t?yg(n,e,t):yg(n,e)).subscribe(i)})}function bg(){return Ue((n,t)=>{let e,i=!1;n.subscribe(ct(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var kt,Ufe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bl={},yM=yM||{},yn=Ufe||self;function eE(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function my(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var bM="closure_uid_"+(1e9*Math.random()>>>0),Wfe=0;function Gfe(n,t,e){return n.call.apply(n.bind,arguments)}function $fe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function no(n,t,e){return(no=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gfe:$fe).apply(null,arguments)}function tE(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ss(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),c=2;c<arguments.length;c++)o[c-2]=arguments[c];return t.prototype[r].apply(i,o)}}function tu(){this.s=this.s,this.o=this.o}tu.prototype.s=!1,tu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function jfe(n){Object.prototype.hasOwnProperty.call(n,bM)&&n[bM]||(n[bM]=++Wfe)}(this)},tu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const z4=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function xM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function H4(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(eE(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function io(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}io.prototype.h=function(){this.defaultPrevented=!0};var qfe=function(){if(!yn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{yn.addEventListener("test",()=>{},t),yn.removeEventListener("test",()=>{},t)}catch{}return n}();function _y(n){return/^[\s\xa0]*$/.test(n)}function nE(){var n=yn.navigator;return n&&(n=n.userAgent)?n:""}function ec(n){return-1!=nE().indexOf(n)}function wM(n){return wM[" "](n),n}wM[" "]=function(){};var EM,n,Zfe=ec("Opera"),xg=ec("Trident")||ec("MSIE"),U4=ec("Edge"),CM=U4||xg,j4=ec("Gecko")&&!(-1!=nE().toLowerCase().indexOf("webkit")&&!ec("Edge"))&&!(ec("Trident")||ec("MSIE"))&&!ec("Edge"),Kfe=-1!=nE().toLowerCase().indexOf("webkit")&&!ec("Edge");function W4(){var n=yn.document;return n?n.documentMode:void 0}e:{var DM="",TM=(n=nE(),j4?/rv:([^\);]+)(\)|;)/.exec(n):U4?/Edge\/([\d\.]+)/.exec(n):xg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Kfe?/WebKit\/(\S+)/.exec(n):Zfe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(TM&&(DM=TM?TM[1]:""),xg){var IM=W4();if(null!=IM&&IM>parseFloat(DM)){EM=String(IM);break e}}EM=DM}var Qfe=yn.document&&xg&&(W4()||parseInt(EM,10))||void 0;function vy(n,t){if(io.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(j4){e:{try{wM(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Jfe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vy.$.h.call(this)}}Ss(vy,io);var Jfe={2:"touch",3:"pen",4:"mouse"};vy.prototype.h=function(){vy.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var yy="closure_listenable_"+(1e6*Math.random()|0),epe=0;function tpe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++epe,this.fa=this.ia=!1}function iE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function AM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function $4(n){const t={};for(const e in n)t[e]=n[e];return t}const Y4="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q4(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<Y4.length;s++)e=Y4[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function rE(n){this.src=n,this.g={},this.h=0}function kM(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=z4(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(iE(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function MM(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}rE.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=MM(n,t,i,r);return-1<o?(t=n[o],e||(t.ia=!1)):((t=new tpe(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var RM="closure_lm_"+(1e6*Math.random()|0),OM={};function X4(n,t,e,i,r){if(i&&i.once)return K4(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)X4(n,t[s],e,i,r);return null}return e=FM(e),n&&n[yy]?n.O(t,e,my(i)?!!i.capture:!!i,r):Z4(n,t,e,!1,i,r)}function Z4(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=my(r)?!!r.capture:!!r,c=NM(n);if(c||(n[RM]=c=new rE(n)),(e=c.add(t,e,i,o,s)).proxy)return e;if(i=function ipe(){const t=rpe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)qfe||(r=o),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(J4(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function K4(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)K4(n,t[s],e,i,r);return null}return e=FM(e),n&&n[yy]?n.P(t,e,my(i)?!!i.capture:!!i,r):Z4(n,t,e,!0,i,r)}function Q4(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q4(n,t[s],e,i,r);else i=my(i)?!!i.capture:!!i,e=FM(e),n&&n[yy]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=MM(s=n.g[t],e,i,r))&&(iE(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=NM(n))&&(t=n.g[t.toString()],n=-1,t&&(n=MM(t,e,i,r)),(e=-1<n?t[n]:null)&&PM(e))}function PM(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[yy])kM(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(J4(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=NM(t))?(kM(e,n),0==e.h&&(e.src=null,t[RM]=null)):iE(n)}}}function J4(n){return n in OM?OM[n]:OM[n]="on"+n}function rpe(n,t){if(n.fa)n=!0;else{t=new vy(t,this);var e=n.listener,i=n.la||n.src;n.ia&&PM(n),n=e.call(i,t)}return n}function NM(n){return(n=n[RM])instanceof rE?n:null}var LM="__closure_events_fn_"+(1e9*Math.random()>>>0);function FM(n){return"function"==typeof n?n:(n[LM]||(n[LM]=function(t){return n.handleEvent(t)}),n[LM])}function As(){tu.call(this),this.i=new rE(this),this.S=this,this.J=null}function zs(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new io(t,n);else if(t instanceof io)t.target=t.target||n;else{var r=t;q4(t=new io(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=sE(o,i,!0,t)&&r}if(r=sE(o=t.g=n,i,!0,t)&&r,r=sE(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=sE(o=t.g=e[s],i,!1,t)&&r}function sE(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==e){var c=o.listener,u=o.la||o.src;o.ia&&kM(n.i,o),r=!1!==c.call(u,i)&&r}}return r&&!i.defaultPrevented}Ss(As,tu),As.prototype[yy]=!0,As.prototype.removeEventListener=function(n,t,e,i){Q4(this,n,t,e,i)},As.prototype.N=function(){if(As.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)iE(e[i]);delete n.g[t],n.h--}}this.J=null},As.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},As.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var VM=yn.JSON.stringify;function ope(){var n=BM;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var eW=new class spe{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new lpe,n=>n.reset());class lpe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function cpe(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function dpe(n){yn.setTimeout(()=>{throw n},0)}let by,xy=!1,BM=new class ape{constructor(){this.h=this.g=null}add(t,e){const i=eW.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},tW=()=>{const n=yn.Promise.resolve(void 0);by=()=>{n.then(upe)}};var upe=()=>{for(var n;n=ope();){try{n.h.call(n.g)}catch(e){dpe(e)}var t=eW;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}xy=!1};function oE(n,t){As.call(this),this.h=n||1,this.g=t||yn,this.j=no(this.qb,this),this.l=Date.now()}function zM(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function HM(n,t,e){if("function"==typeof n)e&&(n=no(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=no(n.handleEvent,n)}return 2147483647<Number(t)?-1:yn.setTimeout(n,t||0)}function nW(n){n.g=HM(()=>{n.g=null,n.i&&(n.i=!1,nW(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Ss(oE,As),(kt=oE.prototype).ga=!1,kt.T=null,kt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zs(this,"tick"),this.ga&&(zM(this),this.start()))}},kt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},kt.N=function(){oE.$.N.call(this),zM(this),delete this.g};class hpe extends tu{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:nW(this)}N(){super.N(),this.g&&(yn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wy(n){tu.call(this),this.h=n,this.g={}}Ss(wy,tu);var iW=[];function rW(n,t,e,i){Array.isArray(e)||(e&&(iW[0]=e.toString()),e=iW);for(var r=0;r<e.length;r++){var s=X4(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function sW(n){AM(n.g,function(t,e){this.g.hasOwnProperty(e)&&PM(t)},n),n.g={}}function aE(){this.g=!0}function wg(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function mpe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return VM(e)}catch{return t}}(n,e)+(i?" "+i:"")})}wy.prototype.N=function(){wy.$.N.call(this),sW(this)},wy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},aE.prototype.Ea=function(){this.g=!1},aE.prototype.info=function(){};var Ah={},oW=null;function lE(){return oW=oW||new As}function aW(n){io.call(this,Ah.Ta,n)}function Cy(n){const t=lE();zs(t,new aW(t))}function lW(n,t){io.call(this,Ah.STAT_EVENT,n),this.stat=t}function Mo(n){const t=lE();zs(t,new lW(t,n))}function cW(n,t){io.call(this,Ah.Ua,n),this.size=t}function Ey(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return yn.setTimeout(function(){n()},t)}Ah.Ta="serverreachability",Ss(aW,io),Ah.STAT_EVENT="statevent",Ss(lW,io),Ah.Ua="timingevent",Ss(cW,io);var cE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dW={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function UM(){}function hW(){}UM.prototype.h=null;var GM,Dy={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jM(){io.call(this,"d")}function WM(){io.call(this,"c")}function dE(){}function Ty(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new wy(this),this.P=_pe,this.V=new oE(n=CM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fW}function fW(){this.i=null,this.g="",this.h=!1}Ss(jM,io),Ss(WM,io),Ss(dE,UM),dE.prototype.g=function(){return new XMLHttpRequest},dE.prototype.i=function(){return{}},GM=new dE;var _pe=45e3,$M={},uE={};function YM(n,t,e){n.L=1,n.v=gE(Yc(t)),n.s=e,n.S=!0,pW(n,null)}function pW(n,t){n.G=Date.now(),Iy(n),n.A=Yc(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),EW(e.i,"t",i),n.C=0,e=n.l.J,n.h=new fW,n.g=qW(n.l,e?t:null,!n.s),0<n.O&&(n.M=new hpe(no(n.Pa,n,n.g),n.O)),rW(n.U,n.g,"readystatechange",n.nb),t=n.I?$4(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Cy(),function fpe(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",c=s.split("&"),u=0;u<c.length;u++){var f=c[u].split("=");if(1<f.length){var _=f[0];f=f[1];var x=_.split("_");o=2<=x.length&&"type"==x[1]?o+(_+"=")+f+"&":o+(_+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function gW(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function mW(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=vpe(n,e),r==uE){4==t&&(n.o=4,Mo(14),i=!1),wg(n.j,n.m,null,"[Incomplete Response]");break}if(r==$M){n.o=4,Mo(15),wg(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}wg(n.j,n.m,r,null),qM(n,r)}gW(n)&&r!=uE&&r!=$M&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Mo(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),tR(t),t.M=!0,Mo(11))):(wg(n.j,n.m,e,"[Invalid Chunked Response]"),kh(n),Sy(n))}function vpe(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?uE:(e=Number(t.substring(e,i)),isNaN(e)?$M:(i+=1)+e>t.length?uE:(t=t.slice(i,i+e),n.C=i+e,t))}function Iy(n){n.Y=Date.now()+n.P,_W(n,n.P)}function _W(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ey(no(n.lb,n),t)}function hE(n){n.B&&(yn.clearTimeout(n.B),n.B=null)}function Sy(n){0==n.l.H||n.J||WW(n.l,n)}function kh(n){hE(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,zM(n.V),sW(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function qM(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||XM(e.i,n)))if(!n.K&&XM(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;xE(e),yE(e)}eR(e),Mo(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Ey(no(e.ib,e),6e3));if(1>=IW(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Rh(e,11)}else if((n.K||e.g==n)&&xE(e),!_y(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let f=r[t];if(e.V=f[0],f=f[1],2==e.H)if("c"==f[0]){e.K=f[1],e.pa=f[2];const _=f[3];null!=_&&(e.ra=_,e.l.info("VER="+e.ra));const x=f[4];null!=x&&(e.Ga=x,e.l.info("SVER="+e.Ga));const T=f[5];null!=T&&"number"==typeof T&&0<T&&(e.L=i=1.5*T,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const R=n.g;if(R){const F=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var s=i.i;s.g||-1==F.indexOf("spdy")&&-1==F.indexOf("quic")&&-1==F.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ZM(s,s.h),s.h=null))}if(i.F){const B=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;B&&(i.Da=B,cr(i.I,i.F,B))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var o=n;if((i=e).wa=YW(i,i.J?i.pa:null,i.Y),o.K){SW(i.i,o);var c=o,u=i.L;u&&c.setTimeout(u),c.B&&(hE(c),Iy(c)),i.g=o}else UW(i);0<e.j.length&&bE(e)}else"stop"!=f[0]&&"close"!=f[0]||Rh(e,7);else 3==e.H&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?Rh(e,7):JM(e):"noop"!=f[0]&&e.h&&e.h.Aa(f),e.A=0)}Cy()}catch{}}function vW(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(eE(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function bpe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(eE(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function ype(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(eE(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(kt=Ty.prototype).setTimeout=function(n){this.P=n},kt.nb=function(n){n=n.target;const t=this.M;t&&3==tc(n)?t.l():this.Pa(n)},kt.Pa=function(n){try{if(n==this.g)e:{const _=tc(this.g);var t=this.g.Ia();if(this.g.da(),!(3>_)&&(3!=_||CM||this.g&&(this.h.h||this.g.ja()||LW(this.g)))){this.J||4!=_||7==t||Cy(),hE(this);var e=this.g.da();this.ca=e;t:if(gW(this)){var i=LW(this.g);n="";var r=i.length,s=4==tc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){kh(this),Sy(this);var o="";break t}this.h.i=new yn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==e,function ppe(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,_,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_y(c)){var f=c;break t}}f=null}if(!(e=f)){this.i=!1,this.o=3,Mo(12),kh(this),Sy(this);break e}wg(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qM(this,e)}this.S?(mW(this,_,o),CM&&this.i&&3==_&&(rW(this.U,this.V,"tick",this.mb),this.V.start())):(wg(this.j,this.m,o,null),qM(this,o)),4==_&&kh(this),this.i&&!this.J&&(4==_?WW(this.l,this):(this.i=!1,Iy(this)))}else(function Vpe(n){const t={};n=(n.g&&2<=tc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(_y(n[i]))continue;var e=cpe(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function npe(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<o.indexOf("Unknown SID")?(this.o=3,Mo(12)):(this.o=0,Mo(13)),kh(this),Sy(this)}}}catch{}},kt.mb=function(){if(this.g){var n=tc(this.g),t=this.g.ja();this.C<t.length&&(hE(this),mW(this,n,t),this.i&&4!=n&&Iy(this))}},kt.cancel=function(){this.J=!0,kh(this)},kt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function gpe(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Cy(),Mo(17)),kh(this),this.o=2,Sy(this)):_W(this,this.Y-n)};var yW=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Mh){this.h=n.h,fE(this,n.j),this.s=n.s,this.g=n.g,pE(this,n.m),this.l=n.l;var t=n.i,e=new My;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),bW(this,e),this.o=n.o}else n&&(t=String(n).match(yW))?(this.h=!1,fE(this,t[1]||"",!0),this.s=Ay(t[2]||""),this.g=Ay(t[3]||"",!0),pE(this,t[4]),this.l=Ay(t[5]||"",!0),bW(this,t[6]||"",!0),this.o=Ay(t[7]||"")):(this.h=!1,this.i=new My(null,this.h))}function Yc(n){return new Mh(n)}function fE(n,t,e){n.j=e?Ay(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function pE(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function bW(n,t,e){t instanceof My?(n.i=t,function Ipe(n,t){t&&!n.j&&(nu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(wW(this,i),EW(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=ky(t,Dpe)),n.i=new My(t,n.h))}function cr(n,t,e){n.i.set(t,e)}function gE(n){return cr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ay(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ky(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,wpe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function wpe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Mh.prototype.toString=function(){var n=[],t=this.j;t&&n.push(ky(t,xW,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(ky(t,xW,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(ky(e,"/"==e.charAt(0)?Epe:Cpe,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",ky(e,Tpe)),n.join("")};var xW=/[#\/\?@]/g,Cpe=/[#\?:]/g,Epe=/[#\?]/g,Dpe=/[#\?@]/g,Tpe=/#/g;function My(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function nu(n){n.g||(n.g=new Map,n.h=0,n.i&&function xpe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function wW(n,t){nu(n),t=Cg(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function CW(n,t){return nu(n),t=Cg(n,t),n.g.has(t)}function EW(n,t,e){wW(n,t),0<e.length&&(n.i=null,n.g.set(Cg(n,t),xM(e)),n.h+=e.length)}function Cg(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function DW(n){this.l=n||Ape,n=yn.PerformanceNavigationTiming?0<(n=yn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(yn.g&&yn.g.Ka&&yn.g.Ka()&&yn.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(kt=My.prototype).add=function(n,t){nu(this),this.i=null,n=Cg(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},kt.forEach=function(n,t){nu(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},kt.ta=function(){nu(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},kt.Z=function(n){nu(this);let t=[];if("string"==typeof n)CW(this,n)&&(t=t.concat(this.g.get(Cg(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},kt.set=function(n,t){return nu(this),this.i=null,CW(this,n=Cg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},kt.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},kt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var Ape=10;function TW(n){return!!n.h||!!n.g&&n.g.size>=n.j}function IW(n){return n.h?1:n.g?n.g.size:0}function XM(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function ZM(n,t){n.g?n.g.add(t):n.h=t}function SW(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function AW(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return xM(n.i)}DW.prototype.cancel=function(){if(this.i=AW(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var kpe=class{stringify(n){return yn.JSON.stringify(n,void 0)}parse(n){return yn.JSON.parse(n,void 0)}};function Mpe(){this.g=new kpe}function Rpe(n,t,e){const i=e||"";try{vW(n,function(r,s){let o=r;my(r)&&(o=VM(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function mE(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Ry(n){this.l=n.ec||null,this.j=n.ob||!1}function _E(n,t){As.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=KM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ss(Ry,UM),Ry.prototype.g=function(){return new _E(this.l,this.j)},Ry.prototype.i=function(n){return function(){return n}}({}),Ss(_E,As);var KM=0;function kW(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Oy(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Py(n)}function Py(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(kt=_E.prototype).open=function(n,t){if(this.readyState!=KM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Py(this)},kt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||yn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},kt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oy(this)),this.readyState=KM},kt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Py(this)),this.g&&(this.readyState=3,Py(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof yn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kW(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},kt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Oy(this):Py(this),3==this.readyState&&kW(this)}},kt.Za=function(n){this.g&&(this.response=this.responseText=n,Oy(this))},kt.Ya=function(n){this.g&&(this.response=n,Oy(this))},kt.ka=function(){this.g&&Oy(this)},kt.setRequestHeader=function(n,t){this.v.append(n,t)},kt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},kt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(_E.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ppe=yn.JSON.parse;function Pr(n){As.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=MW,this.L=this.M=!1}Ss(Pr,As);var MW="",Npe=/^https?$/i,Lpe=["POST","PUT"];function RW(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,OW(n),vE(n)}function OW(n){n.F||(n.F=!0,zs(n,"complete"),zs(n,"error"))}function PW(n){if(n.h&&typeof yM<"u"&&(!n.C[1]||4!=tc(n)||2!=n.da()))if(n.v&&4==tc(n))HM(n.La,0,n);else if(zs(n,"readystatechange"),4==tc(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===o){var r=String(n.I).match(yW)[1]||null;!r&&yn.self&&yn.self.location&&(r=yn.self.location.protocol.slice(0,-1)),i=!Npe.test(r?r.toLowerCase():"")}e=i}if(e)zs(n,"complete"),zs(n,"success");else{n.m=6;try{var s=2<tc(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",OW(n)}}finally{vE(n)}}}function vE(n,t){if(n.g){NW(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||zs(n,"ready");try{e.onreadystatechange=i}catch{}}}function NW(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(yn.clearTimeout(n.A),n.A=null)}function tc(n){return n.g?n.g.readyState:0}function LW(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case MW:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FW(n){let t="";return AM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function QM(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=FW(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):cr(n,t,e))}function Ny(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function VW(n){this.Ga=0,this.j=[],this.l=new aE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ny("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ny("baseRetryDelayMs",5e3,n),this.hb=Ny("retryDelaySeedMs",1e4,n),this.eb=Ny("forwardChannelMaxRetries",2,n),this.xa=Ny("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new DW(n&&n.concurrentRequestLimit),this.Ja=new Mpe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function JM(n){if(BW(n),3==n.H){var t=n.W++,e=Yc(n.I);if(cr(e,"SID",n.K),cr(e,"RID",t),cr(e,"TYPE","terminate"),Ly(n,e),(t=new Ty(n,n.l,t)).L=2,t.v=gE(Yc(e)),e=!1,yn.navigator&&yn.navigator.sendBeacon)try{e=yn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&yn.Image&&((new Image).src=t.v,e=!0),e||(t.g=qW(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Iy(t)}$W(n)}function yE(n){n.g&&(tR(n),n.g.cancel(),n.g=null)}function BW(n){yE(n),n.u&&(yn.clearTimeout(n.u),n.u=null),xE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&yn.clearTimeout(n.m),n.m=null)}function bE(n){if(!TW(n.i)&&!n.m){n.m=!0;var t=n.Na;by||tW(),xy||(by(),xy=!0),BM.add(t,n),n.C=0}}function zW(n,t){var e;e=t?t.m:n.W++;const i=Yc(n.I);cr(i,"SID",n.K),cr(i,"RID",e),cr(i,"AID",n.V),Ly(n,i),n.o&&n.s&&QM(i,n.o,n.s),e=new Ty(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=HW(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ZM(n.i,e),YM(e,i,t)}function Ly(n,t){n.na&&AM(n.na,function(e,i){cr(t,i,e)}),n.h&&vW({},function(e,i){cr(t,i,e)})}function HW(n,t,e){e=Math.min(n.j.length,e);var i=n.h?no(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let c=!0;for(let u=0;u<e;u++){let f=r[u].g;const _=r[u].map;if(f-=s,0>f)s=Math.max(0,r[u].g-100),c=!1;else try{Rpe(_,o,"req"+f+"_")}catch{i&&i(_)}}if(c){i=o.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function UW(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;by||tW(),xy||(by(),xy=!0),BM.add(t,n),n.A=0}}function eR(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ey(no(n.Ma,n),GW(n,n.A)),n.A++,0))}function tR(n){null!=n.B&&(yn.clearTimeout(n.B),n.B=null)}function jW(n){n.g=new Ty(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Yc(n.wa);cr(t,"RID","rpc"),cr(t,"SID",n.K),cr(t,"AID",n.V),cr(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&cr(t,"TO",n.qa),cr(t,"TYPE","xmlhttp"),Ly(n,t),n.o&&n.s&&QM(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=gE(Yc(t)),e.s=null,e.S=!0,pW(e,n)}function xE(n){null!=n.v&&(yn.clearTimeout(n.v),n.v=null)}function WW(n,t){var e=null;if(n.g==t){xE(n),tR(n),n.g=null;var i=2}else{if(!XM(n.i,t))return;e=t.F,SW(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;zs(i=lE(),new cW(i,e)),bE(n)}else UW(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function Bpe(n,t){return!(IW(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ey(no(n.Na,n,t),GW(n,n.C)),n.C++,0)))}(n,t)||2==i&&eR(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Rh(n,5);break;case 4:Rh(n,10);break;case 3:Rh(n,6);break;default:Rh(n,2)}}function GW(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Rh(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=no(n.pb,n);e||(e=new Mh("//www.google.com/images/cleardot.gif"),yn.location&&"http"==yn.location.protocol||fE(e,"https"),gE(e)),function Ope(n,t){const e=new aE;if(yn.Image){const i=new Image;i.onload=tE(mE,e,i,"TestLoadImage: loaded",!0,t),i.onerror=tE(mE,e,i,"TestLoadImage: error",!1,t),i.onabort=tE(mE,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=tE(mE,e,i,"TestLoadImage: timeout",!1,t),yn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Mo(2);n.H=0,n.h&&n.h.za(t),$W(n),BW(n)}function $W(n){if(n.H=0,n.ma=[],n.h){const t=AW(n.i);(0!=t.length||0!=n.j.length)&&(H4(n.ma,t),H4(n.ma,n.j),n.i.i.length=0,xM(n.j),n.j.length=0),n.h.ya()}}function YW(n,t,e){var i=e instanceof Mh?Yc(e):new Mh(e);if(""!=i.g)t&&(i.g=t+"."+i.g),pE(i,i.m);else{var r=yn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Mh(null);i&&fE(s,i),t&&(s.g=t),r&&pE(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&cr(i,e,t),cr(i,"VER",n.ra),Ly(n,i),i}function qW(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Pr(e&&n.Ha&&!n.va?new Ry({ob:!0}):n.va)).Oa(n.J),t}function XW(){}function wE(){if(xg&&!(10<=Number(Qfe)))throw Error("Environmental error: no available transport.")}function _a(n,t){As.call(this),this.g=new VW(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!_y(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_y(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Eg(this)}function ZW(n){jM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function KW(){WM.call(this),this.status=1}function Eg(n){this.g=n}function xl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function nR(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],o=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=e+((o=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Li(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(kt=Pr.prototype).Oa=function(n){this.M=n},kt.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():GM.g(),this.C=function uW(n){return n.h||(n.h=n.i())}(this.u?this.u:GM),this.g.onreadystatechange=no(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void RW(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=yn.FormData&&n instanceof yn.FormData,!(0<=z4(Lpe,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NW(this),0<this.B&&((this.L=function Fpe(n){return xg&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=no(this.ua,this)):this.A=HM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){RW(this,s)}},kt.ua=function(){typeof yM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zs(this,"timeout"),this.abort(8))},kt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zs(this,"complete"),zs(this,"abort"),vE(this))},kt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vE(this,!0)),Pr.$.N.call(this)},kt.La=function(){this.s||(this.G||this.v||this.l?PW(this):this.kb())},kt.kb=function(){PW(this)},kt.isActive=function(){return!!this.g},kt.da=function(){try{return 2<tc(this)?this.g.status:-1}catch{return-1}},kt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},kt.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Ppe(t)}},kt.Ia=function(){return this.m},kt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(kt=VW.prototype).ra=8,kt.H=1,kt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Ty(this,this.l,n);let s=this.s;if(this.U&&(s?(s=$4(s),q4(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=HW(this,r,t),cr(e=Yc(this.I),"RID",n),cr(e,"CVER",22),this.F&&cr(e,"X-HTTP-Session-Id",this.F),Ly(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(FW(s)))+"&"+t:this.o&&QM(e,this.o,s)),ZM(this.i,r),this.bb&&cr(e,"TYPE","init"),this.P?(cr(e,"$req",t),cr(e,"SID","null"),r.aa=!0,YM(r,e,null)):YM(r,e,t),this.H=2}}else 3==this.H&&(n?zW(this,n):0==this.j.length||TW(this.i)||zW(this))},kt.Ma=function(){if(this.u=null,jW(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ey(no(this.jb,this),n)}},kt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mo(10),yE(this),jW(this))},kt.ib=function(){null!=this.v&&(this.v=null,yE(this),eR(this),Mo(19))},kt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Mo(2)):(this.l.info("Failed to ping google.com"),Mo(1))},kt.isActive=function(){return!!this.h&&this.h.isActive(this)},(kt=XW.prototype).Ba=function(){},kt.Aa=function(){},kt.za=function(){},kt.ya=function(){},kt.isActive=function(){return!0},kt.Va=function(){},wE.prototype.g=function(n,t){return new _a(n,t)},Ss(_a,As),_a.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Mo(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=YW(n,null,n.Y),bE(n)},_a.prototype.close=function(){JM(this.g)},_a.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=VM(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&bE(t)},_a.prototype.N=function(){this.g.h=null,delete this.j,JM(this.g),delete this.g,_a.$.N.call(this)},Ss(ZW,jM),Ss(KW,WM),Ss(Eg,XW),Eg.prototype.Ba=function(){zs(this.g,"a")},Eg.prototype.Aa=function(n){zs(this.g,new ZW(n))},Eg.prototype.za=function(n){zs(this.g,new KW)},Eg.prototype.ya=function(){zs(this.g,"b")},Ss(xl,function zpe(){this.blockSize=-1}),xl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xl.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)nR(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){nR(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){nR(this,i),r=0;break}}this.h=r,this.i+=t},xl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var Hpe={};function iR(n){return-128<=n&&128>n?function Xfe(n,t){var e=Hpe;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Li([0|t],0>t?-1:0)}):new Li([0|n],0>n?-1:0)}function nc(n){if(isNaN(n)||!isFinite(n))return Dg;if(0>n)return Hs(nc(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=rR;return new Li(t,0)}var rR=4294967296,Dg=iR(0),sR=iR(1),JW=iR(16777216);function qc(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Wa(n){return-1==n.h}function Hs(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Li(e,~n.h).add(sR)}function CE(n,t){return n.add(Hs(t))}function EE(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Fy(n,t){this.g=n,this.h=t}function DE(n,t){if(qc(t))throw Error("division by zero");if(qc(n))return new Fy(Dg,Dg);if(Wa(n))return t=DE(Hs(n),t),new Fy(Hs(t.g),Hs(t.h));if(Wa(t))return t=DE(n,Hs(t)),new Fy(Hs(t.g),t.h);if(30<n.g.length){if(Wa(n)||Wa(t))throw Error("slowDivide_ only works with positive integers.");for(var e=sR,i=t;0>=i.X(n);)e=eG(e),i=eG(i);var r=Tg(e,1),s=Tg(i,1);for(i=Tg(i,2),e=Tg(e,2);!qc(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(e),s=o),i=Tg(i,1),e=Tg(e,1)}return t=CE(n,r.R(t)),new Fy(r,t)}for(r=Dg;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),o=(s=nc(e)).R(t);Wa(o)||0<o.X(n);)o=(s=nc(e-=i)).R(t);qc(s)&&(s=sR),r=r.add(s),n=CE(n,o)}return new Fy(r,n)}function eG(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Li(e,n.h)}function Tg(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Li(r,n.h)}(kt=Li.prototype).ea=function(){if(Wa(this))return-Hs(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:rR+i)*t,t*=rR}return n},kt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(qc(this))return"0";if(Wa(this))return"-"+Hs(this).toString(n);for(var t=nc(Math.pow(n,6)),e=this,i="";;){var r=DE(e,t).g,s=((0<(e=CE(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(qc(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},kt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},kt.X=function(n){return Wa(n=CE(this,n))?-1:qc(n)?0:1},kt.abs=function(){return Wa(this)?Hs(this):this},kt.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,e[r]=(o&=65535)<<16|(s&=65535)}return new Li(e,-2147483648&e[e.length-1]?-1:0)},kt.R=function(n){if(qc(this)||qc(n))return Dg;if(Wa(this))return Wa(n)?Hs(this).R(Hs(n)):Hs(Hs(this).R(n));if(Wa(n))return Hs(this.R(Hs(n)));if(0>this.X(JW)&&0>n.X(JW))return nc(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),c=n.D(r)>>>16,u=65535&n.D(r);e[2*i+2*r]+=o*u,EE(e,2*i+2*r),e[2*i+2*r+1]+=s*u,EE(e,2*i+2*r+1),e[2*i+2*r+1]+=o*c,EE(e,2*i+2*r+1),e[2*i+2*r+2]+=s*c,EE(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Li(e,0)},kt.gb=function(n){return DE(this,n).h},kt.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Li(e,this.h&n.h)},kt.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Li(e,this.h|n.h)},kt.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Li(e,this.h^n.h)},wE.prototype.createWebChannel=wE.prototype.g,_a.prototype.send=_a.prototype.u,_a.prototype.open=_a.prototype.m,_a.prototype.close=_a.prototype.close,cE.NO_ERROR=0,cE.TIMEOUT=8,cE.HTTP_ERROR=6,dW.COMPLETE="complete",hW.EventType=Dy,Dy.OPEN="a",Dy.CLOSE="b",Dy.ERROR="c",Dy.MESSAGE="d",As.prototype.listen=As.prototype.O,Pr.prototype.listenOnce=Pr.prototype.P,Pr.prototype.getLastError=Pr.prototype.Sa,Pr.prototype.getLastErrorCode=Pr.prototype.Ia,Pr.prototype.getStatus=Pr.prototype.da,Pr.prototype.getResponseJson=Pr.prototype.Wa,Pr.prototype.getResponseText=Pr.prototype.ja,Pr.prototype.send=Pr.prototype.ha,Pr.prototype.setWithCredentials=Pr.prototype.Oa,xl.prototype.digest=xl.prototype.l,xl.prototype.reset=xl.prototype.reset,xl.prototype.update=xl.prototype.j,Li.prototype.add=Li.prototype.add,Li.prototype.multiply=Li.prototype.R,Li.prototype.modulo=Li.prototype.gb,Li.prototype.compare=Li.prototype.X,Li.prototype.toNumber=Li.prototype.ea,Li.prototype.toString=Li.prototype.toString,Li.prototype.getBits=Li.prototype.D,Li.fromNumber=nc,Li.fromString=function QW(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Hs(QW(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=nc(Math.pow(t,8)),i=Dg,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),t);8>s?(s=nc(Math.pow(t,s)),i=i.R(s).add(nc(o))):i=(i=i.R(e)).add(nc(o))}return i};var Upe=bl.createWebChannelTransport=function(){return new wE},jpe=bl.getStatEventTarget=function(){return lE()},oR=bl.ErrorCode=cE,Wpe=bl.EventType=dW,Gpe=bl.Event=Ah,tG=bl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$pe=bl.FetchXmlHttpFactory=Ry,TE=bl.WebChannel=hW,Ype=bl.XhrIo=Pr,qpe=bl.Md5=xl,Ig=bl.Integer=Li;const nG="@firebase/firestore";class ks{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ks.UNAUTHENTICATED=new ks(null),ks.GOOGLE_CREDENTIALS=new ks("google-credentials-uid"),ks.FIRST_PARTY=new ks("first-party-uid"),ks.MOCK_USER=new ks("mock-user");let Sg="10.5.2";const iu=new pa.Yd("@firebase/firestore");function Ag(){return iu.logLevel}function lt(n,...t){if(iu.logLevel<=pa.in.DEBUG){const e=t.map(aR);iu.debug(`Firestore (${Sg}): ${n}`,...e)}}function Yr(n,...t){if(iu.logLevel<=pa.in.ERROR){const e=t.map(aR);iu.error(`Firestore (${Sg}): ${n}`,...e)}}function Qo(n,...t){if(iu.logLevel<=pa.in.WARN){const e=t.map(aR);iu.warn(`Firestore (${Sg}): ${n}`,...e)}}function aR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Lt(n="Unexpected state"){const t=`FIRESTORE (${Sg}) INTERNAL ASSERTION FAILED: `+n;throw Yr(t),new Error(t)}function Xt(n,t){n||Lt()}function Ct(n,t){return n}const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends te.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class iG{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Kpe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ks.UNAUTHENTICATED))}shutdown(){}}class Qpe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Jpe{constructor(t){this.t=t,this.currentUser=ks.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let o=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gs,t.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const f=o;t.enqueueRetryable((0,Ke.Z)(function*(){yield f.promise,yield s(i.currentUser)}))},u=f=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gs)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xt("string"==typeof i.accessToken),new iG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Xt(null===t||"string"==typeof t),new ks(t)}}class ege{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=ks.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tge{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new ege(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(ks.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nge{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=s=>{null!=s.error&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,lt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Xt("string"==typeof e.token),this.R=e.token,new rG(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ige(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class sG{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=ige(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function gn(n,t){return n<t?-1:n>t?1:0}function kg(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function oG(n){return n+"\0"}class mr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new st(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new st(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new st(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return mr.fromMillis(Date.now())}static fromDate(t){return mr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new mr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?gn(this.nanoseconds,t.nanoseconds):gn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Zt(t)}static min(){return new Zt(new mr(0,0))}static max(){return new Zt(new mr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vy{constructor(t,e,i){void 0===e?e=0:e>t.length&&Lt(),void 0===i?i=t.length-e:i>t.length-e&&Lt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Vy.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Vy?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ci extends Vy{construct(t,e,i){return new ci(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new st(Ve.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ci(e)}static emptyPath(){return new ci([])}}const rge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends Vy{construct(t,e,i){return new dr(t,e,i)}static isValidIdentifier(t){return rge.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new st(Ve.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const c=t[r];if("\\"===c){if(r+1===t.length)throw new st(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new st(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else"`"===c?(o=!o,r++):"."!==c||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new st(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new dr(e)}static emptyPath(){return new dr([])}}class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(ci.fromString(t))}static fromName(t){return new Tt(ci.fromString(t).popFirst(5))}static empty(){return new Tt(ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ci.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ci.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new ci(t.slice()))}}class Mg{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function lR(n){return n.fields.find(t=>2===t.kind)}function Oh(n){return n.fields.filter(t=>2!==t.kind)}Mg.UNKNOWN_ID=-1;class Ph{constructor(t,e){this.fieldPath=t,this.kind=e}}class Rg{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Rg(0,va.min())}}function aG(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Zt.fromTimestamp(1e9===i?new mr(e+1,0):new mr(e,i));return new va(r,Tt.empty(),t)}function lG(n){return new va(n.readTime,n.key,-1)}class va{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new va(Zt.min(),Tt.empty(),-1)}static max(){return new va(Zt.max(),Tt.empty(),-1)}}function cR(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Tt.comparator(n.documentKey,t.documentKey),0!==e?e:gn(n.largestBatchId,t.largestBatchId))}const cG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function ru(n){return dR.apply(this,arguments)}function dR(){return dR=(0,Ke.Z)(function*(n){if(n.code!==Ve.FAILED_PRECONDITION||n.message!==cG)throw n;lt("LocalStore","Unexpectedly lost primary lease")}),dR.apply(this,arguments)}class Ie{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ie((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ie?e:Ie.resolve(e)}catch(e){return Ie.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ie.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ie.reject(e)}static resolve(t){return new Ie((e,i)=>{e(t)})}static reject(t){return new Ie((e,i)=>{i(t)})}static waitFor(t){return new Ie((e,i)=>{let r=0,s=0,o=!1;t.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&e()},u=>i(u))}),o=!0,s===r&&e()})}static or(t){let e=Ie.resolve(!1);for(const i of t)e=e.next(r=>r?Ie.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Ie((i,r)=>{const s=t.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const f=u;e(t[f]).next(_=>{o[f]=_,++c,c===s&&i(o)},_=>r(_))}})}static doWhile(t,e){return new Ie((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class IE{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new gs,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new By(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=uR(i.target.error);this.V.reject(new By(t,r))}}static open(t,e,i,r){try{return new IE(e,t.transaction(r,i))}catch(s){throw new By(e,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(lt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new lge(e)}}class wl{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===wl.S((0,te.z$)())&&Yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return lt("SimpleDb","Removing database:",t),Nh(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,te.hl)())return!1;if(wl.C())return!0;const t=(0,te.z$)(),e=wl.S(t),i=0<e&&e<10,r=wl.v(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,Ke.Z)(function*(){return e.db||(lt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=o=>{i(o.target.result)},s.onblocked=()=>{r(new By(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const c=o.target.error;r("VersionError"===c.name?new st(Ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===c.name?new st(Ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c):new By(t,c))},s.onupgradeneeded=o=>{lt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',o.oldVersion),e.p.N(o.target.result,s.transaction,o.oldVersion,e.version).next(()=>{lt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Ke.Z)(function*(){const o="readonly"===e;let c=0;for(;;){++c;try{s.db=yield s.O(t);const u=IE.open(s.db,t,o?"readonly":"readwrite",i),f=r(u).next(_=>(u.g(),_)).catch(_=>(u.abort(_),Ie.reject(_))).toPromise();return f.catch(()=>{}),yield u.m,f}catch(u){const f=u,_="FirebaseError"!==f.name&&c<3;if(lt("SimpleDb","Transaction failed with error:",f.message,"Retrying:",_),s.close(),!_)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class age{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Nh(this.k.delete())}}class By extends st{constructor(t,e){super(Ve.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function su(n){return"IndexedDbTransactionError"===n.name}class lge{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(lt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(lt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Nh(i)}add(t){return lt("SimpleDb","ADD",this.store.name,t,t),Nh(this.store.add(t))}get(t){return Nh(this.store.get(t)).next(e=>(void 0===e&&(e=null),lt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return lt("SimpleDb","DELETE",this.store.name,t),Nh(this.store.delete(t))}count(){return lt("SimpleDb","COUNT",this.store.name),Nh(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(o,c)=>{s.push(c)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Ie((s,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{s(c.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ie((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}H(t,e){lt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.J=!1;const r=this.cursor(i);return this.G(r,(s,o,c)=>c.delete())}Y(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Z(t){const e=this.cursor({});return new Ie((i,r)=>{e.onerror=s=>{const o=uR(s.target.error);r(o)},e.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(c=>{c?o.continue():i()}):i()}})}G(t,e){const i=[];return new Ie((r,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const c=o.target.result;if(!c)return void r();const u=new age(c),f=e(c.primaryKey,c.value,u);if(f instanceof Ie){const _=f.catch(x=>(u.done(),Ie.reject(x)));i.push(_)}u.isDone?r():null===u.$?c.continue():c.continue(u.$)}}).next(()=>Ie.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Nh(n){return new Ie((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=uR(i.target.error);e(r)}})}let uG=!1;function uR(n){const t=wl.S((0,te.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uG||(uG=!0,setTimeout(()=>{throw i},0)),i}}return n}class cge{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(t){var e=this;lt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ke.Z)(function*(){e.task=null;try{lt("IndexBackiller",`Documents written: ${yield e.X.te()}`)}catch(i){su(i)?lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield ru(i)}yield e.ee(6e4)}))}}class dge{constructor(t,e){this.localStore=t,this.persistence=e}te(t=50){var e=this;return(0,Ke.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.ne(i,t))})()}ne(t,e){const i=new Set;let r=e,s=!0;return Ie.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(null!==o&&!i.has(o))return lt("IndexBackiller",`Processing collection: ${o}`),this.re(t,o,r).next(c=>{r-=c,i.add(o)});s=!1})).next(()=>e-r)}re(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.ie(r,s)).next(c=>(lt("IndexBackiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(t,e,c))).next(()=>o.size)}))}ie(t,e){let i=t;return e.changes.forEach((r,s)=>{const o=lG(s);cR(o,i)>0&&(i=o)}),new va(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let ya=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function zy(n){return null==n}function Hy(n){return 0===n&&1/n==-1/0}function hG(n){return"number"==typeof n&&Number.isInteger(n)&&!Hy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ro(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=fG(t)),t=uge(n.get(e),t);return fG(t)}function uge(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function fG(n){return n+"\x01\x01"}function ic(n){const t=n.length;if(Xt(t>=2),2===t)return Xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ci.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const o=n.indexOf("\x01",s);switch((o<0||o>e)&&Lt(),n.charAt(o+1)){case"\x01":const c=n.substring(s,o);let u;0===r.length?u=c:(r+=c,u=r,r=""),i.push(u);break;case"\x10":r+=n.substring(s,o),r+="\0";break;case"\x11":r+=n.substring(s,o+1);break;default:Lt()}s=o+2}return new ci(i)}const pG=["userId","batchId"];function SE(n,t){return[n,ro(t)]}function gG(n,t,e){return[n,ro(t),e]}const hge={},fge=["prefixPath","collectionGroup","readTime","documentId"],pge=["prefixPath","collectionGroup","documentId"],gge=["collectionGroup","readTime","prefixPath","documentId"],mge=["canonicalId","targetId"],_ge=["targetId","path"],vge=["path","targetId"],yge=["collectionId","parent"],bge=["indexId","uid"],xge=["uid","sequenceNumber"],wge=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Cge=["indexId","uid","orderedDocumentKey"],Ege=["userId","collectionPath","documentId"],Dge=["userId","collectionPath","largestBatchId"],Tge=["userId","collectionGroup","largestBatchId"],mG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ige=[...mG,"documentOverlays"],_G=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vG=_G,Sge=[...vG,"indexConfiguration","indexState","indexEntries"];class hR extends dG{constructor(t,e){super(),this.ae=t,this.currentSequenceNumber=e}}function Ms(n,t){const e=Ct(n);return wl.M(e.ae,t)}function yG(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ou(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function bG(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ir{constructor(t,e){this.comparator=t,this.root=e||Us.EMPTY}insert(t,e){return new ir(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Us.BLACK,null,null))}remove(t){return new ir(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Us.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new AE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new AE(this.root,t,this.comparator,!1)}getReverseIterator(){return new AE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new AE(this.root,t,this.comparator,!0)}}class AE{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Us{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Us.RED,this.left=r??Us.EMPTY,this.right=s??Us.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Us(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Us.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Us.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Us.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Lt();const t=this.left.check();if(t!==this.right.check())throw Lt();return t+(this.isRed()?0:1)}}Us.EMPTY=null,Us.RED=!0,Us.BLACK=!1,Us.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt()}get value(){throw Lt()}get color(){throw Lt()}get left(){throw Lt()}get right(){throw Lt()}copy(t,e,i,r,s){return this}insert(t,e,i){return new Us(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ji{constructor(t){this.comparator=t,this.data=new ir(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new xG(this.data.getIterator())}getIteratorFrom(t){return new xG(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ji)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ji(this.comparator);return e.data=t,e}}class xG{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Og(n){return n.hasNext()?n.getNext():void 0}class Jo{constructor(t){this.fields=t,t.sort(dr.comparator)}static empty(){return new Jo([])}unionWith(t){let e=new ji(dr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Jo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return kg(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class wG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ms{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wG("Invalid base64 string: "+s):s}}(t);return new ms(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new ms(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return gn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ms.EMPTY_BYTE_STRING=new ms("");const kge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function au(n){if(Xt(!!n),"string"==typeof n){let t=0;const e=kge.exec(n);if(Xt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Nr(n.seconds),nanos:Nr(n.nanos)}}function Nr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Xc(n){return"string"==typeof n?ms.fromBase64String(n):ms.fromUint8Array(n)}function kE(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function ME(n){const t=n.mapValue.fields.__previous_value__;return kE(t)?ME(t):t}function Uy(n){const t=au(n.mapValue.fields.__local_write_time__.timestampValue);return new mr(t.seconds,t.nanos)}class Mge{constructor(t,e,i,r,s,o,c,u,f){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f}}class lu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new lu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof lu&&t.projectId===this.projectId&&t.database===this.database}}const cu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},RE={nullValue:"NULL_VALUE"};function du(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kE(n)?4:TG(n)?9007199254740991:10:Lt()}function rc(n,t){if(n===t)return!0;const e=du(n);if(e!==du(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Uy(n).isEqual(Uy(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=au(r.timestampValue),c=au(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,Xc(n.bytesValue).isEqual(Xc(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return Nr(r.geoPointValue.latitude)===Nr(s.geoPointValue.latitude)&&Nr(r.geoPointValue.longitude)===Nr(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Nr(r.integerValue)===Nr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Nr(r.doubleValue),c=Nr(s.doubleValue);return o===c?Hy(o)===Hy(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return kg(n.arrayValue.values||[],t.arrayValue.values||[],rc);case 10:return function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(yG(o)!==yG(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===c[u]||!rc(o[u],c[u])))return!1;return!0}(n,t);default:return Lt()}var s}function jy(n,t){return void 0!==(n.values||[]).find(e=>rc(e,t))}function uu(n,t){if(n===t)return 0;const e=du(n),i=du(t);if(e!==i)return gn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return gn(n.booleanValue,t.booleanValue);case 2:return function(s,o){const c=Nr(s.integerValue||s.doubleValue),u=Nr(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,t);case 3:return CG(n.timestampValue,t.timestampValue);case 4:return CG(Uy(n),Uy(t));case 5:return gn(n.stringValue,t.stringValue);case 6:return function(s,o){const c=Xc(s),u=Xc(o);return c.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const c=s.split("/"),u=o.split("/");for(let f=0;f<c.length&&f<u.length;f++){const _=gn(c[f],u[f]);if(0!==_)return _}return gn(c.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const c=gn(Nr(s.latitude),Nr(o.latitude));return 0!==c?c:gn(Nr(s.longitude),Nr(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const c=s.values||[],u=o.values||[];for(let f=0;f<c.length&&f<u.length;++f){const _=uu(c[f],u[f]);if(_)return _}return gn(c.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===cu.mapValue&&o===cu.mapValue)return 0;if(s===cu.mapValue)return 1;if(o===cu.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),f=o.fields||{},_=Object.keys(f);u.sort(),_.sort();for(let x=0;x<u.length&&x<_.length;++x){const T=gn(u[x],_[x]);if(0!==T)return T;const R=uu(c[u[x]],f[_[x]]);if(0!==R)return R}return gn(u.length,_.length)}(n.mapValue,t.mapValue);default:throw Lt()}}function CG(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return gn(n,t);const e=au(n),i=au(t),r=gn(e.seconds,i.seconds);return 0!==r?r:gn(e.nanos,i.nanos)}function Pg(n){return fR(n)}function fR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=au(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Xc(n.bytesValue).toBase64():"referenceValue"in n?Tt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=fR(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${fR(e.fields[o])}`;return r+"}"}(n.mapValue):Lt()}function Lh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function pR(n){return!!n&&"integerValue"in n}function Wy(n){return!!n&&"arrayValue"in n}function EG(n){return!!n&&"nullValue"in n}function DG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function PE(n){return!!n&&"mapValue"in n}function Gy(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return ou(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Gy(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Gy(n.arrayValue.values[e]);return t}return Object.assign({},n)}function TG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Rge(n){return"nullValue"in n?RE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Lh(lu.empty(),Tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Lt()}function Oge(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Lh(lu.empty(),Tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?cu:Lt()}function IG(n,t){const e=uu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function SG(n,t){const e=uu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class js{constructor(t){this.value=t}static empty(){return new js({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!PE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gy(e)}setAll(t){let e=dr.emptyPath(),i={},r=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){const u=this.getFieldsMap(e);this.applyChanges(u,i,r),i={},r=[],e=c.popLast()}o?i[c.lastSegment()]=Gy(o):r.push(c.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());PE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return rc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];PE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ou(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new js(Gy(this.value))}}function AG(n){const t=[];return ou(n.fields,(e,i)=>{const r=new dr([e]);if(PE(i)){const s=AG(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new Jo(t)}class ur{constructor(t,e,i,r,s,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new ur(t,0,Zt.min(),Zt.min(),Zt.min(),js.empty(),0)}static newFoundDocument(t,e,i,r){return new ur(t,1,e,Zt.min(),i,r,0)}static newNoDocument(t,e){return new ur(t,2,e,Zt.min(),Zt.min(),js.empty(),0)}static newUnknownDocument(t,e){return new ur(t,3,e,Zt.min(),Zt.min(),js.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Zt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=js.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ur&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hu{constructor(t,e){this.position=t,this.inclusive=e}}function kG(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?Tt.comparator(Tt.fromName(o.referenceValue),e.key):uu(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function MG(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!rc(n.position[e],t.position[e]))return!1;return!0}class $y{constructor(t,e="asc"){this.field=t,this.dir=e}}function Pge(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class RG{}class ii extends RG{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Nge(t,e,i):"array-contains"===e?new Vge(t,i):"in"===e?new VG(t,i):"not-in"===e?new Bge(t,i):"array-contains-any"===e?new zge(t,i):new ii(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Lge(t,i):new Fge(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(uu(e,this.value)):null!==e&&du(this.value)===du(e)&&this.matchesComparison(uu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends RG{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Fi(t,e)}matches(t){return Ng(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ng(n){return"and"===n.op}function gR(n){return"or"===n.op}function mR(n){return OG(n)&&Ng(n)}function OG(n){for(const t of n.filters)if(t instanceof Fi)return!1;return!0}function _R(n){if(n instanceof ii)return n.field.canonicalString()+n.op.toString()+Pg(n.value);if(mR(n))return n.filters.map(t=>_R(t)).join(",");{const t=n.filters.map(e=>_R(e)).join(",");return`${n.op}(${t})`}}function PG(n,t){return n instanceof ii?(i=n,(r=t)instanceof ii&&i.op===r.op&&i.field.isEqual(r.field)&&rc(i.value,r.value)):n instanceof Fi?function(i,r){return r instanceof Fi&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,c)=>s&&PG(o,r.filters[c]),!0)}(n,t):void Lt();var i,r}function NG(n,t){const e=n.filters.concat(t);return Fi.create(e,n.op)}function LG(n){return n instanceof ii?`${(e=n).field.canonicalString()} ${e.op} ${Pg(e.value)}`:n instanceof Fi?function(e){return e.op.toString()+" {"+e.getFilters().map(LG).join(" ,")+"}"}(n):"Filter";var e}class Nge extends ii{constructor(t,e,i){super(t,e,i),this.key=Tt.fromName(i.referenceValue)}matches(t){const e=Tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class Lge extends ii{constructor(t,e){super(t,"in",e),this.keys=FG(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Fge extends ii{constructor(t,e){super(t,"not-in",e),this.keys=FG(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function FG(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Tt.fromName(i.referenceValue))}class Vge extends ii{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Wy(e)&&jy(e.arrayValue,this.value)}}class VG extends ii{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&jy(this.value.arrayValue,e)}}class Bge extends ii{constructor(t,e){super(t,"not-in",e)}matches(t){if(jy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!jy(this.value.arrayValue,e)}}class zge extends ii{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Wy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>jy(this.value.arrayValue,i))}}class Hge{constructor(t,e=null,i=[],r=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.ce=null}}function vR(n,t=null,e=[],i=[],r=null,s=null,o=null){return new Hge(n,t,e,i,r,s,o)}function Fh(n){const t=Ct(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>_R(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),zy(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Pg(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Pg(i)).join(",")),t.ce=e}return t.ce}function Yy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Pge(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!PG(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!MG(n.startAt,t.startAt)&&MG(n.endAt,t.endAt)}function NE(n){return Tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function LE(n,t){return n.filters.filter(e=>e instanceof ii&&e.field.isEqual(t))}function BG(n,t,e){let i=RE,r=!0;for(const s of LE(n,t)){let o=RE,c=!0;switch(s.op){case"<":case"<=":o=Rge(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,c=!1;break;case"!=":case"not-in":o=RE}IG({value:i,inclusive:r},{value:o,inclusive:c})<0&&(i=o,r=c)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];IG({value:i,inclusive:r},{value:o,inclusive:e.inclusive})<0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}function zG(n,t,e){let i=cu,r=!0;for(const s of LE(n,t)){let o=cu,c=!0;switch(s.op){case">=":case">":o=Oge(s.value),c=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,c=!1;break;case"!=":case"not-in":o=cu}SG({value:i,inclusive:r},{value:o,inclusive:c})>0&&(i=o,r=c)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];SG({value:i,inclusive:r},{value:o,inclusive:e.inclusive})>0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}class Zc{constructor(t,e=null,i=[],r=[],s=null,o="F",c=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function HG(n,t,e,i,r,s,o,c){return new Zc(n,t,e,i,r,s,o,c)}function Lg(n){return new Zc(n)}function UG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function yR(n){return null!==n.collectionGroup}function Fg(n){const t=Ct(n);if(null===t.le){t.le=[];const e=new Set;for(const s of t.explicitOrderBy)t.le.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ji(dr.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.le.push(new $y(s,i))}),e.has(dr.keyField().canonicalString())||t.le.push(new $y(dr.keyField(),i))}return t.le}function Ro(n){const t=Ct(n);return t.he||(t.he=function jG(n,t){if("F"===n.limitType)return vR(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new $y(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new hu(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new hu(n.startAt.position,n.startAt.inclusive):null;return vR(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,Fg(n))),t.he}function bR(n,t){const e=n.filters.concat([t]);return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function FE(n,t,e){return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function qy(n,t){return Yy(Ro(n),Ro(t))&&n.limitType===t.limitType}function WG(n){return`${Fh(Ro(n))}|lt:${n.limitType}`}function Vg(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>LG(r)).join(", ")}]`),zy(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Pg(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Pg(r)).join(",")),`Target(${i})`}(Ro(n))}; limitType=${n.limitType})`}function Xy(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Tt.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of Fg(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,c,u){const f=kG(o,c,u);return o.inclusive?f<=0:f<0}(i.startAt,Fg(i),r)||i.endAt&&!function(o,c,u){const f=kG(o,c,u);return o.inclusive?f>=0:f>0}(i.endAt,Fg(i),r)));var i,r}function GG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $G(n){return(t,e)=>{let i=!1;for(const r of Fg(n)){const s=Uge(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Uge(n,t,e){const i=n.field.isKeyField()?Tt.comparator(t.key,e.key):function(s,o,c){const u=o.data.field(s),f=c.data.field(s);return null!==u&&null!==f?uu(u,f):Lt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Lt()}}class Kc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ou(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return bG(this.inner)}size(){return this.innerSize}}const jge=new ir(Tt.comparator);function ea(){return jge}const YG=new ir(Tt.comparator);function Zy(...n){let t=YG;for(const e of n)t=t.insert(e.key,e);return t}function qG(n){let t=YG;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function sc(){return Ky()}function XG(){return Ky()}function Ky(){return new Kc(n=>n.toString(),(n,t)=>n.isEqual(t))}const Wge=new ir(Tt.comparator),Gge=new ji(Tt.comparator);function On(...n){let t=Gge;for(const e of n)t=t.add(e);return t}const $ge=new ji(gn);function xR(){return $ge}function ZG(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hy(t)?"-0":t}}function KG(n){return{integerValue:""+n}}function QG(n,t){return hG(t)?KG(t):ZG(n,t)}class VE{constructor(){this._=void 0}}function Yge(n,t,e){return n instanceof Bg?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&kE(s)&&(s=ME(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof Vh?e5(n,t):n instanceof Bh?t5(n,t):function(r,s){const o=JG(r,s),c=n5(o)+n5(r.Ie);return pR(o)&&pR(r.Ie)?KG(c):ZG(r.serializer,c)}(n,t)}function qge(n,t,e){return n instanceof Vh?e5(n,t):n instanceof Bh?t5(n,t):e}function JG(n,t){return n instanceof zg?pR(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class Bg extends VE{}class Vh extends VE{constructor(t){super(),this.elements=t}}function e5(n,t){const e=r5(t);for(const i of n.elements)e.some(r=>rc(r,i))||e.push(i);return{arrayValue:{values:e}}}class Bh extends VE{constructor(t){super(),this.elements=t}}function t5(n,t){let e=r5(t);for(const i of n.elements)e=e.filter(r=>!rc(r,i));return{arrayValue:{values:e}}}class zg extends VE{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function n5(n){return Nr(n.integerValue||n.doubleValue)}function r5(n){return Wy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qy{constructor(t,e){this.field=t,this.transform=e}}class Zge{constructor(t,e){this.version=t,this.transformResults=e}}class _r{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new _r}static exists(t){return new _r(void 0,t)}static updateTime(t){return new _r(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function BE(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class zE{}function s5(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Ug(n.key,_r.none()):new Hg(n.key,n.data,_r.none());{const e=n.data,i=js.empty();let r=new ji(dr.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Qc(n.key,i,new Jo(r.toArray()),_r.none())}}function Kge(n,t,e){n instanceof Hg?function(r,s,o){const c=r.value.clone(),u=l5(r.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Qc?function(r,s,o){if(!BE(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=l5(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(a5(r)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Jy(n,t,e,i){return n instanceof Hg?function(s,o,c,u){if(!BE(s.precondition,o))return c;const f=s.value.clone(),_=c5(s.fieldTransforms,u,o);return f.setAll(_),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof Qc?function(s,o,c,u){if(!BE(s.precondition,o))return c;const f=c5(s.fieldTransforms,u,o),_=o.data;return _.setAll(a5(s)),_.setAll(f),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===c?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(x=>x.field))}(n,t,e,i):(c=e,BE(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function Qge(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=JG(i.transform,r||null);null!=s&&(null===e&&(e=js.empty()),e.set(i.field,s))}return e||null}function o5(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&kg(i,r,(s,o)=>function Xge(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof Vh&&r instanceof Vh||i instanceof Bh&&r instanceof Bh?kg(i.elements,r.elements,rc):i instanceof zg&&r instanceof zg?rc(i.Ie,r.Ie):i instanceof Bg&&r instanceof Bg);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class Hg extends zE{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Qc extends zE{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function a5(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function l5(n,t,e){const i=new Map;Xt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,c=t.data.field(s.field);i.set(s.field,qge(o,c,e[r]))}return i}function c5(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,Yge(s,o,t))}return i}class Ug extends zE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wR extends zE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CR{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&Kge(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Jy(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Jy(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=XG();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=e.has(r.key)?null:c;const u=s5(o,c);null!==u&&i.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(Zt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),On())}isEqual(t){return this.batchId===t.batchId&&kg(this.mutations,t.mutations,(e,i)=>o5(e,i))&&kg(this.baseMutations,t.baseMutations,(e,i)=>o5(e,i))}}class ER{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Xt(t.mutations.length===i.length);let r=Wge;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new ER(t,e,i,r)}}class DR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class eme{constructor(t,e){this.count=t,this.unchangedNames=e}}var is,di;function d5(n){switch(n){default:return Lt();case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0}}function u5(n){if(void 0===n)return Yr("GRPC error has no .code"),Ve.UNKNOWN;switch(n){case is.OK:return Ve.OK;case is.CANCELLED:return Ve.CANCELLED;case is.UNKNOWN:return Ve.UNKNOWN;case is.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case is.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case is.INTERNAL:return Ve.INTERNAL;case is.UNAVAILABLE:return Ve.UNAVAILABLE;case is.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case is.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case is.NOT_FOUND:return Ve.NOT_FOUND;case is.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case is.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case is.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case is.ABORTED:return Ve.ABORTED;case is.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case is.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case is.DATA_LOSS:return Ve.DATA_LOSS;default:return Lt()}}(di=is||(is={}))[di.OK=0]="OK",di[di.CANCELLED=1]="CANCELLED",di[di.UNKNOWN=2]="UNKNOWN",di[di.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",di[di.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",di[di.NOT_FOUND=5]="NOT_FOUND",di[di.ALREADY_EXISTS=6]="ALREADY_EXISTS",di[di.PERMISSION_DENIED=7]="PERMISSION_DENIED",di[di.UNAUTHENTICATED=16]="UNAUTHENTICATED",di[di.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",di[di.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",di[di.ABORTED=10]="ABORTED",di[di.OUT_OF_RANGE=11]="OUT_OF_RANGE",di[di.UNIMPLEMENTED=12]="UNIMPLEMENTED",di[di.INTERNAL=13]="INTERNAL",di[di.UNAVAILABLE=14]="UNAVAILABLE",di[di.DATA_LOSS=15]="DATA_LOSS";function h5(){return new TextEncoder}const tme=new Ig([4294967295,4294967295],0);function f5(n){const t=h5().encode(n),e=new qpe;return e.update(t),new Uint8Array(e.digest())}function p5(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ig([e,i],0),new Ig([r,s],0)]}class TR{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new eb(`Invalid padding: ${e}`);if(i<0)throw new eb(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new eb(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new eb(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=Ig.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(Ig.fromNumber(i)));return 1===r.compare(tme)&&(r=new Ig([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=f5(t),[i,r]=p5(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new TR(s,r,e);return i.forEach(c=>o.insert(c)),o}insert(t){if(0===this.Te)return;const e=f5(t),[i,r]=p5(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class eb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tb{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,nb.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new tb(Zt.min(),r,new ir(gn),ea(),On())}}class nb{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new nb(i,e,On(),On(),On())}}class UE{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class g5{constructor(t,e){this.targetId=t,this.fe=e}}class m5{constructor(t,e,i=ms.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class _5{constructor(){this.ge=0,this.pe=y5(),this.ye=ms.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=On(),e=On(),i=On();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Lt()}}),new nb(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=y5()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class nme{constructor(t){this.Le=t,this.ke=new Map,this.qe=ea(),this.Qe=v5(),this.Ke=new ir(gn)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:Lt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const s=r.target;if(NE(s))if(0===i){const o=new Tt(s.path);this.We(e,o,ur.newNoDocument(o,Zt.min()))}else Xt(1===i);else{const o=this.Ze(e);if(o!==i){const c=this.Xe(t),u=c?this.et(c,t,o):1;0!==u&&(this.He(e),this.Ke=this.Ke.insert(e,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,c;try{o=Xc(i).toUint8Array()}catch(u){if(u instanceof wG)return Qo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new TR(o,r,s)}catch(u){return Qo(u instanceof eb?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===c.Te?null:c}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.nt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.We(e,s,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((s,o)=>{const c=this.Ye(o);if(c){if(s.current&&NE(c.target)){const u=new Tt(c.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,ur.newNoDocument(u,t))}s.De&&(e.set(o,s.ve()),s.Fe())}});let i=On();this.Qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{const f=this.Ye(u);return!f||"TargetPurposeLimboResolution"===f.purpose||(c=!1,!1)}),c&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new tb(t,e,this.Ke,this.qe,i);return this.qe=ea(),this.Qe=v5(),this.Ke=new ir(gn),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new _5,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new ji(gn),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||lt("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new _5),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function v5(){return new ir(Tt.comparator)}function y5(){return new ir(Tt.comparator)}const ime={asc:"ASCENDING",desc:"DESCENDING"},rme={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sme={and:"AND",or:"OR"};class ome{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function IR(n,t){return n.useProto3Json||zy(t)?t:{value:t}}function jg(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function b5(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function ame(n,t){return jg(n,t.toTimestamp())}function qr(n){return Xt(!!n),Zt.fromTimestamp(function(e){const i=au(e);return new mr(i.seconds,i.nanos)}(n))}function SR(n,t){return(i=n,new ci(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function x5(n){const t=ci.fromString(n);return Xt(k5(t)),t}function ib(n,t){return SR(n.databaseId,t.path)}function oc(n,t){const e=x5(t);if(e.get(1)!==n.databaseId.projectId)throw new st(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new st(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Tt(C5(e))}function AR(n,t){return SR(n.databaseId,t)}function w5(n){const t=x5(n);return 4===t.length?ci.emptyPath():C5(t)}function rb(n){return new ci(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function C5(n){return Xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function E5(n,t,e){return{name:ib(n,t),fields:e.value.mapValue.fields}}function D5(n,t,e){const i=oc(n,t.name),r=qr(t.updateTime),s=t.createTime?qr(t.createTime):Zt.min(),o=new js({mapValue:{fields:t.fields}}),c=ur.newFoundDocument(i,r,s,o);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function sb(n,t){let e;if(t instanceof Hg)e={update:E5(n,t.key,t.value)};else if(t instanceof Ug)e={delete:ib(n,t.key)};else if(t instanceof Qc)e={update:E5(n,t.key,t.data),updateMask:gme(t.fieldMask)};else{if(!(t instanceof wR))return Lt();e={verify:ib(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const c=o.transform;if(c instanceof Bg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Vh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Bh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof zg)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw Lt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:ame(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Lt()),e;var s}function kR(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?_r.updateTime(qr(s.updateTime)):void 0!==s.exists?_r.exists(s.exists):_r.none():_r.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let u=null;"setToServerValue"in c?(Xt("REQUEST_TIME"===c.setToServerValue),u=new Bg):"appendMissingElements"in c?u=new Vh(c.appendMissingElements.values||[]):"removeAllFromArray"in c?u=new Bh(c.removeAllFromArray.values||[]):"increment"in c?u=new zg(o,c.increment):Lt();const f=dr.fromServerFormat(c.fieldPath);return new Qy(f,u)}(n,r)):[];var s;if(t.update){const r=oc(n,t.update.name),s=new js({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=new Jo((t.updateMask.fieldPaths||[]).map(_=>dr.fromServerFormat(_)));return new Qc(r,s,o,e,i)}return new Hg(r,s,e,i)}if(t.delete){const r=oc(n,t.delete);return new Ug(r,e)}if(t.verify){const r=oc(n,t.verify);return new wR(r,e)}return Lt()}function T5(n,t){return{documents:[AR(n,t.path)]}}function MR(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=AR(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=AR(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(u){if(0!==u.length)return A5(Fi.create(u,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(u){if(0!==u.length)return u.map(f=>{return{field:fu((x=f).field),direction:hme(x.dir)};var x})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=IR(n,t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),e;var u}function I5(n){let t=w5(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Xt(1===i);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let s=[];e.where&&(s=function(x){const T=S5(x);return T instanceof Fi&&mR(T)?T.getFilters():[T]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(T=>{return new $y(Wg((F=T).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction));var F}));let c=null;e.limit&&(c=function(x){let T;return T="object"==typeof x?x.value:x,zy(T)?null:T}(e.limit));let u=null;var x;e.startAt&&(u=new hu((x=e.startAt).values||[],!!x.before));let f=null;return e.endAt&&(f=function(x){return new hu(x.values||[],!x.before)}(e.endAt)),HG(t,r,o,s,c,"F",u,f)}function S5(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Wg(e.unaryFilter.field);return ii.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Wg(e.unaryFilter.field);return ii.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wg(e.unaryFilter.field);return ii.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wg(e.unaryFilter.field);return ii.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Lt()}}(n):void 0!==n.fieldFilter?ii.create(Wg((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Fi.create(e.compositeFilter.filters.map(i=>S5(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Lt()}}(e.compositeFilter.op))}(n):Lt();var e}function hme(n){return ime[n]}function fme(n){return rme[n]}function pme(n){return sme[n]}function fu(n){return{fieldPath:n.canonicalString()}}function Wg(n){return dr.fromServerFormat(n.fieldPath)}function A5(n){return n instanceof ii?function(e){if("=="===e.op){if(DG(e.value))return{unaryFilter:{field:fu(e.field),op:"IS_NAN"}};if(EG(e.value))return{unaryFilter:{field:fu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(DG(e.value))return{unaryFilter:{field:fu(e.field),op:"IS_NOT_NAN"}};if(EG(e.value))return{unaryFilter:{field:fu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(e.field),op:fme(e.op),value:e.value}}}(n):n instanceof Fi?function(e){const i=e.getFilters().map(r=>A5(r));return 1===i.length?i[0]:{compositeFilter:{op:pme(e.op),filters:i}}}(n):Lt()}function gme(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function k5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Jc{constructor(t,e,i,r,s=Zt.min(),o=Zt.min(),c=ms.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new Jc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class M5{constructor(t){this.ut=t}}function R5(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:jE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:ib(s=n.ut,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:jg(s,o.version.toTimestamp()),createTime:jg(s,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:zh(t.version)};else{if(!t.isUnknownDocument())return Lt();i.unknownDocument={path:e.path.toArray(),version:zh(t.version)}}var s,o;return i}function jE(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function zh(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Hh(n){const t=new mr(n.seconds,n.nanoseconds);return Zt.fromTimestamp(t)}function Uh(n,t){const e=(t.baseMutations||[]).map(s=>kR(n.ut,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>kR(n.ut,s)),r=mr.fromMillis(t.localWriteTimeMs);return new CR(t.batchId,r,e,i)}function ob(n){const t=Hh(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Hh(n.lastLimboFreeSnapshotVersion):Zt.min();let i;return i=void 0!==n.query.documents?(Xt(1===(s=n.query).documents.length),Ro(Lg(w5(s.documents[0])))):function(s){return Ro(I5(s))}(n.query),new Jc(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,ms.fromBase64String(n.resumeToken));var s}function O5(n,t){const e=zh(t.snapshotVersion),i=zh(t.lastLimboFreeSnapshotVersion);let r;r=NE(t.target)?T5(n.ut,t.target):MR(n.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Fh(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function RR(n){const t=I5({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?FE(t,t.limit,"L"):t}function OR(n,t){return new DR(t.largestBatchId,kR(n.ut,t.overlayMutation))}function P5(n,t){const e=t.path.lastSegment();return[n,ro(t.path.popLast()),e]}function N5(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:zh(i.readTime),documentKey:ro(i.documentKey.path),largestBatchId:i.largestBatchId}}class _me{getBundleMetadata(t,e){return L5(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:Hh(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return L5(t).put({bundleId:(r=e).id,createTime:zh(qr(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return F5(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:RR(s.bundledQuery),readTime:Hh(s.readTime)};var s})}saveNamedQuery(t,e){return F5(t).put({name:(r=e).name,readTime:zh(qr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function L5(n){return Ms(n,"bundles")}function F5(n){return Ms(n,"namedQueries")}class WE{constructor(t,e){this.serializer=t,this.userId=e}static ct(t,e){return new WE(t,e.uid||"")}getOverlay(t,e){return ab(t).get(P5(this.userId,e)).next(i=>i?OR(this.serializer,i):null)}getOverlays(t,e){const i=sc();return Ie.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,o)=>{const c=new DR(e,o);r.push(this.lt(t,c))}),Ie.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(o=>r.add(ro(o.getCollectionPath())));const s=[];return r.forEach(o=>{const c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(ab(t).H("collectionPathOverlayIndex",c))}),Ie.waitFor(s)}getOverlaysForCollection(t,e,i){const r=sc(),s=ro(e),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ab(t).W("collectionPathOverlayIndex",o).next(c=>{for(const u of c){const f=OR(this.serializer,u);r.set(f.getKey(),f)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=sc();let o;const c=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return ab(t).Y({index:"collectionGroupOverlayIndex",range:c},(u,f,_)=>{const x=OR(this.serializer,f);s.size()<r||x.largestBatchId===o?(s.set(x.getKey(),x),o=x.largestBatchId):_.done()}).next(()=>s)}lt(t,e){return ab(t).put(function(r,s,o){const[c,u,f]=P5(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:f,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:sb(r.ut,o.mutation)}}(this.serializer,this.userId,e))}}function ab(n){return Ms(n,"documentOverlays")}class jh{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(Nr(t.integerValue));else if("doubleValue"in t){const i=Nr(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),Hy(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(Xc(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?TG(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):Lt()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),Tt.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}function vme(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function V5(n){const t=64-function(i){let r=0;for(let s=0;s<8;++s){const o=vme(255&i[s]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(t/8)}jh.St=new jh;class yme{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Dt(i.value),i=e.next();this.Ct()}vt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=e.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(t){const e=this.Bt(t),i=V5(e);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}kt(t){const e=this.Bt(t),i=V5(e);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(t){this.Lt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ut(){return this.buffer.slice(0,this.position)}Bt(t){const e=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Dt(t){const e=255&t;0===e?(this.Qt(0),this.Qt(255)):255===e?(this.Qt(255),this.Qt(0)):this.Qt(e)}Ft(t){const e=255&t;0===e?(this.$t(0),this.$t(255)):255===e?(this.$t(255),this.$t(0)):this.$t(t)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(t){this.Lt(1),this.buffer[this.position++]=t}$t(t){this.Lt(1),this.buffer[this.position++]=~t}Lt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class bme{constructor(t){this.Wt=t}Vt(t){this.Wt.bt(t)}dt(t){this.Wt.xt(t)}Et(t){this.Wt.Nt(t)}It(){this.Wt.qt()}}class xme{constructor(t){this.Wt=t}Vt(t){this.Wt.vt(t)}dt(t){this.Wt.Ot(t)}Et(t){this.Wt.kt(t)}It(){this.Wt.Kt()}}class lb{constructor(){this.Wt=new yme,this.Gt=new bme(this.Wt),this.zt=new xme(this.Wt)}seed(t){this.Wt.seed(t)}jt(t){return 0===t?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Wh{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ht(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Wh(this.indexId,this.documentKey,this.arrayValue,i)}}function pu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=B5(n.arrayValue,t.arrayValue),0!==e?e:(e=B5(n.directionalValue,t.directionalValue),0!==e?e:Tt.comparator(n.documentKey,t.documentKey)))}function B5(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class z5{constructor(t){this.Jt=new ji((e,i)=>dr.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];for(const e of t.filters){const i=e;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(t){if(Xt(t.collectionGroup===this.collectionId),this.Xt)return!1;const e=lR(t);if(void 0!==e&&!this.tn(e))return!1;const i=Oh(t);let r=new Set,s=0,o=0;for(;s<i.length&&this.tn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Jt.size>0){const c=this.Jt.getIterator().getNext();if(!r.has(c.field.canonicalString())){const u=i[s];if(!this.nn(c,u)||!this.rn(this.Yt[o++],u))return!1}++s}for(;s<i.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],i[s]))return!1;return!0}sn(){if(this.Xt)return null;let t=new ji(dr.comparator);const e=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new Ph(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Ph(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Ph(i.field,"asc"===i.dir?0:1)));return new Mg(Mg.UNKNOWN_ID,this.collectionId,e,Rg.empty())}tn(t){for(const e of this.Zt)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}rn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function H5(n){var t,e;if(Xt(n instanceof ii||n instanceof Fi),n instanceof ii){if(n instanceof VG){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>ii.create(n.field,"==",s)))||[];return Fi.create(r,"or")}return n}const i=n.filters.map(r=>H5(r));return Fi.create(i,n.op)}function wme(n){if(0===n.getFilters().length)return[];const t=LR(H5(n));return Xt(U5(t)),PR(t)||NR(t)?[t]:t.getFilters()}function PR(n){return n instanceof ii}function NR(n){return n instanceof Fi&&mR(n)}function U5(n){return PR(n)||NR(n)||function(e){if(e instanceof Fi&&gR(e)){for(const i of e.getFilters())if(!PR(i)&&!NR(i))return!1;return!0}return!1}(n)}function LR(n){if(Xt(n instanceof ii||n instanceof Fi),n instanceof ii)return n;if(1===n.filters.length)return LR(n.filters[0]);const t=n.filters.map(i=>LR(i));let e=Fi.create(t,n.op);return e=GE(e),U5(e)?e:(Xt(e instanceof Fi),Xt(Ng(e)),Xt(e.filters.length>1),e.filters.reduce((i,r)=>FR(i,r)))}function FR(n,t){let e;return Xt(n instanceof ii||n instanceof Fi),Xt(t instanceof ii||t instanceof Fi),e=n instanceof ii?t instanceof ii?Fi.create([n,t],"and"):j5(n,t):t instanceof ii?j5(t,n):function(r,s){if(Xt(r.filters.length>0&&s.filters.length>0),Ng(r)&&Ng(s))return NG(r,s.getFilters());const o=gR(r)?r:s,c=gR(r)?s:r,u=o.filters.map(f=>FR(f,c));return Fi.create(u,"or")}(n,t),GE(e)}function j5(n,t){if(Ng(t))return NG(t,n.getFilters());{const e=t.filters.map(i=>FR(n,i));return Fi.create(e,"or")}}function GE(n){if(Xt(n instanceof ii||n instanceof Fi),n instanceof ii)return n;const t=n.getFilters();if(1===t.length)return GE(t[0]);if(OG(n))return n;const e=t.map(r=>GE(r)),i=[];return e.forEach(r=>{r instanceof ii?i.push(r):r instanceof Fi&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Fi.create(i,n.op)}class Cme{constructor(){this.on=new VR}addToCollectionParentIndex(t,e){return this.on.add(e),Ie.resolve()}getCollectionParents(t,e){return Ie.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return Ie.resolve()}deleteFieldIndex(t,e){return Ie.resolve()}deleteAllFieldIndexes(t){return Ie.resolve()}createTargetIndexes(t,e){return Ie.resolve()}getDocumentsMatchingTarget(t,e){return Ie.resolve(null)}getIndexType(t,e){return Ie.resolve(0)}getFieldIndexes(t,e){return Ie.resolve([])}getNextCollectionGroupToUpdate(t){return Ie.resolve(null)}getMinOffset(t,e){return Ie.resolve(va.min())}getMinOffsetFromCollectionGroup(t,e){return Ie.resolve(va.min())}updateCollectionGroup(t,e,i){return Ie.resolve()}updateIndexEntries(t,e){return Ie.resolve()}}class VR{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new ji(ci.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ji(ci.comparator)).toArray()}}const $E=new Uint8Array(0);class Eme{constructor(t,e){this.user=t,this.databaseId=e,this._n=new VR,this.an=new Kc(i=>Fh(i),(i,r)=>Yy(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this._n.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this._n.add(e)});const s={collectionId:i,parent:ro(r)};return W5(t).put(s)}return Ie.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[oG(e),""],!1,!0);return W5(t).W(r).next(s=>{for(const o of s){if(o.collectionId!==e)break;i.push(ic(o.parent))}return i})}addFieldIndex(t,e){const i=cb(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var c;delete r.indexId;const s=i.add(r);if(e.indexState){const o=$g(t);return s.next(c=>{o.put(N5(c,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=cb(t),r=$g(t),s=Gg(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=cb(t),i=Gg(t),r=$g(t);return e.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(t,e){return Ie.forEach(this.un(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const s=new z5(i).sn();if(null!=s)return this.addFieldIndex(t,s)}}))}getDocumentsMatchingTarget(t,e){const i=Gg(t);let r=!0;const s=new Map;return Ie.forEach(this.un(e),o=>this.cn(t,o).next(c=>{r&&(r=!!c),s.set(o,c)})).next(()=>{if(r){let o=On();const c=[];return Ie.forEach(s,(u,f)=>{var le;lt("IndexedDbIndexManager",`Using index ${le=u,`id=${le.indexId}|cg=${le.collectionGroup}|f=${le.fields.map(me=>`${me.fieldPath}:${me.kind}`).join(",")}`} to execute ${Fh(e)}`);const _=function(le,me){const Se=lR(me);if(void 0===Se)return null;for(const Xe of LE(le,Se.fieldPath))switch(Xe.op){case"array-contains-any":return Xe.value.arrayValue.values||[];case"array-contains":return[Xe.value]}return null}(f,u),x=function(le,me){const Se=new Map;for(const Xe of Oh(me))for(const pt of LE(le,Xe.fieldPath))switch(pt.op){case"==":case"in":Se.set(Xe.fieldPath.canonicalString(),pt.value);break;case"not-in":case"!=":return Se.set(Xe.fieldPath.canonicalString(),pt.value),Array.from(Se.values())}return null}(f,u),T=function(le,me){const Se=[];let Xe=!0;for(const pt of Oh(me)){const ft=0===pt.kind?BG(le,pt.fieldPath,le.startAt):zG(le,pt.fieldPath,le.startAt);Se.push(ft.value),Xe&&(Xe=ft.inclusive)}return new hu(Se,Xe)}(f,u),R=function(le,me){const Se=[];let Xe=!0;for(const pt of Oh(me)){const ft=0===pt.kind?zG(le,pt.fieldPath,le.endAt):BG(le,pt.fieldPath,le.endAt);Se.push(ft.value),Xe&&(Xe=ft.inclusive)}return new hu(Se,Xe)}(f,u),F=this.ln(u,f,T),B=this.ln(u,f,R),j=this.hn(u,f,x),oe=this.Pn(u.indexId,_,F,T.inclusive,B,R.inclusive,j);return Ie.forEach(oe,ee=>i.j(ee,e.limit).next(le=>{le.forEach(me=>{const Se=Tt.fromSegments(me.documentKey);o.has(Se)||(o=o.add(Se),c.push(Se))})}))}).next(()=>c)}return Ie.resolve(null)})}un(t){let e=this.an.get(t);return e||(e=0===t.filters.length?[t]:wme(Fi.create(t.filters,"and")).map(i=>vR(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.an.set(t,e),e)}Pn(t,e,i,r,s,o,c){const u=(null!=e?e.length:1)*Math.max(i.length,s.length),f=u/(null!=e?e.length:1),_=[];for(let x=0;x<u;++x){const T=e?this.In(e[x/f]):$E,R=this.Tn(t,T,i[x%f],r),F=this.En(t,T,s[x%f],o),B=c.map(j=>this.Tn(t,T,j,!0));_.push(...this.createRange(R,F,B))}return _}Tn(t,e,i,r){const s=new Wh(t,Tt.empty(),e,i);return r?s:s.Ht()}En(t,e,i,r){const s=new Wh(t,Tt.empty(),e,i);return r?s.Ht():s}cn(t,e){const i=new z5(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let o=null;for(const c of s)i.en(c)&&(!o||c.fields.length>o.fields.length)&&(o=c);return o})}getIndexType(t,e){let i=2;const r=this.un(e);return Ie.forEach(r,s=>this.cn(t,s).next(o=>{o?0!==i&&o.fields.length<function(u){let f=new ji(dr.comparator),_=!1;for(const x of u.filters)for(const T of x.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?_=!0:f=f.add(T.field));for(const x of u.orderBy)x.field.isKeyField()||(f=f.add(x.field));return f.size+(_?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}dn(t,e){const i=new lb;for(const r of Oh(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const o=i.jt(r.kind);jh.St.ht(s,o)}return i.Ut()}In(t){const e=new lb;return jh.St.ht(t,e.jt(0)),e.Ut()}An(t,e){const i=new lb;return jh.St.ht(Lh(this.databaseId,e),i.jt(function(s){const o=Oh(s);return 0===o.length?0:o[o.length-1].kind}(t))),i.Ut()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new lb);let s=0;for(const o of Oh(t)){const c=i[s++];for(const u of r)if(this.Rn(e,o.fieldPath)&&Wy(c))r=this.Vn(r,o,c);else{const f=u.jt(o.kind);jh.St.ht(c,f)}}return this.mn(r)}ln(t,e,i){return this.hn(t,e,i.position)}mn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ut();return e}Vn(t,e,i){const r=[...t],s=[];for(const o of i.arrayValue.values||[])for(const c of r){const u=new lb;u.seed(c.Ut()),jh.St.ht(o,u.jt(e.kind)),s.push(u)}return s}Rn(t,e){return!!t.filters.find(i=>i instanceof ii&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=cb(t),r=$g(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const o=[];return Ie.forEach(s,c=>r.get([c.indexId,this.uid]).next(u=>{o.push(function(_,x){const T=x?new Rg(x.sequenceNumber,new va(Hh(x.readTime),new Tt(ic(x.documentKey)),x.largestBatchId)):Rg.empty(),R=_.fields.map(([F,B])=>new Ph(dr.fromServerFormat(F),B));return new Mg(_.indexId,_.collectionGroup,R,T)}(c,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:gn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=cb(t),s=$g(t);return this.fn(t).next(o=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(c=>Ie.forEach(c,u=>s.put(N5(u.indexId,this.user,o,i)))))}updateIndexEntries(t,e){const i=new Map;return Ie.forEach(e,(r,s)=>{const o=i.get(r.collectionGroup);return(o?Ie.resolve(o):this.getFieldIndexes(t,r.collectionGroup)).next(c=>(i.set(r.collectionGroup,c),Ie.forEach(c,u=>this.gn(t,r,u).next(f=>{const _=this.pn(s,u);return f.isEqual(_)?Ie.resolve():this.yn(t,s,u,f,_)}))))})}wn(t,e,i,r){return Gg(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,e.key),documentKey:e.key.path.toArray()})}Sn(t,e,i,r){return Gg(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,e.key),e.key.path.toArray()])}gn(t,e,i){const r=Gg(t);let s=new ji(pu);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,e)])},(o,c)=>{s=s.add(new Wh(i.indexId,e,c.arrayValue,c.directionalValue))}).next(()=>s)}pn(t,e){let i=new ji(pu);const r=this.dn(e,t);if(null==r)return i;const s=lR(e);if(null!=s){const o=t.data.field(s.fieldPath);if(Wy(o))for(const c of o.arrayValue.values||[])i=i.add(new Wh(e.indexId,t.key,this.In(c),r))}else i=i.add(new Wh(e.indexId,t.key,$E,r));return i}yn(t,e,i,r,s){lt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(u,f,_,x,T){const R=u.getIterator(),F=f.getIterator();let B=Og(R),j=Og(F);for(;B||j;){let oe=!1,ee=!1;if(B&&j){const le=_(B,j);le<0?ee=!0:le>0&&(oe=!0)}else null!=B?ee=!0:oe=!0;oe?(x(j),j=Og(F)):ee?(T(B),B=Og(R)):(B=Og(R),j=Og(F))}}(r,s,pu,c=>{o.push(this.wn(t,e,i,c))},c=>{o.push(this.Sn(t,e,i,c))}),Ie.waitFor(o)}fn(t){let e=1;return $g(t).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((o,c)=>pu(o,c)).filter((o,c,u)=>!c||0!==pu(o,u[c-1]));const r=[];r.push(t);for(const o of i){const c=pu(o,t),u=pu(o,e);if(0===c)r[0]=t.Ht();else if(c>0&&u<0)r.push(o),r.push(o.Ht());else if(u>0)break}r.push(e);const s=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];s.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,$E,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,$E,[]]))}return s}bn(t,e){return pu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(G5)}getMinOffset(t,e){return Ie.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||Lt())).next(G5)}}function W5(n){return Ms(n,"collectionParents")}function Gg(n){return Ms(n,"indexEntries")}function cb(n){return Ms(n,"indexConfiguration")}function $g(n){return Ms(n,"indexState")}function G5(n){Xt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;cR(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new va(t.readTime,t.documentKey,e)}const $5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class so{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new so(t,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Y5(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(e.batchId);let c=0;const u=i.Y({range:o},(_,x,T)=>(c++,T.delete()));s.push(u.next(()=>{Xt(1===c)}));const f=[];for(const _ of e.mutations){const x=gG(t,_.key.path,e.batchId);s.push(r.delete(x)),f.push(_.key)}return Ie.waitFor(s).next(()=>f)}function YE(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Lt();t=n.noDocument}return JSON.stringify(t).length}so.DEFAULT_COLLECTION_PERCENTILE=10,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,so.DEFAULT=new so(41943040,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),so.DISABLED=new so(-1,0,0);class qE{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(t,e,i,r){Xt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new qE(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gu(t).Y({index:"userMutationsIndex",range:i},(r,s,o)=>{e=!1,o.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=Yg(t),o=gu(t);return o.add({}).next(c=>{Xt("number"==typeof c);const u=new CR(c,e,i,r),f=function(R,F,B){const j=B.baseMutations.map(ee=>sb(R.ut,ee)),oe=B.mutations.map(ee=>sb(R.ut,ee));return{userId:F,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:j,mutations:oe}}(this.serializer,this.userId,u),_=[];let x=new ji((T,R)=>gn(T.canonicalString(),R.canonicalString()));for(const T of r){const R=gG(this.userId,T.key.path,c);x=x.add(T.key.path.popLast()),_.push(o.put(f)),_.push(s.put(R,hge))}return x.forEach(T=>{_.push(this.indexManager.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(()=>{this.Dn[c]=u.keys()}),Ie.waitFor(_).next(()=>u)})}lookupMutationBatch(t,e){return gu(t).get(e).next(i=>i?(Xt(i.userId===this.userId),Uh(this.serializer,i)):null)}Cn(t,e){return this.Dn[e]?Ie.resolve(this.Dn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Dn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return gu(t).Y({index:"userMutationsIndex",range:r},(o,c,u)=>{c.userId===this.userId&&(Xt(c.batchId>=i),s=Uh(this.serializer,c)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return gu(t).Y({index:"userMutationsIndex",range:e,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gu(t).W("userMutationsIndex",e).next(i=>i.map(r=>Uh(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=SE(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Yg(t).Y({range:r},(o,c,u)=>{const[f,_,x]=o,T=ic(_);if(f===this.userId&&e.path.isEqual(T))return gu(t).get(x).next(R=>{if(!R)throw Lt();Xt(R.userId===this.userId),s.push(Uh(this.serializer,R))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ji(gn);const r=[];return e.forEach(s=>{const o=SE(this.userId,s.path),c=IDBKeyRange.lowerBound(o),u=Yg(t).Y({range:c},(f,_,x)=>{const[T,R,F]=f,B=ic(R);T===this.userId&&s.path.isEqual(B)?i=i.add(F):x.done()});r.push(u)}),Ie.waitFor(r).next(()=>this.vn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=SE(this.userId,i),o=IDBKeyRange.lowerBound(s);let c=new ji(gn);return Yg(t).Y({range:o},(u,f,_)=>{const[x,T,R]=u,F=ic(T);x===this.userId&&i.isPrefixOf(F)?F.length===r&&(c=c.add(R)):_.done()}).next(()=>this.vn(t,c))}vn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(gu(t).get(s).next(o=>{if(null===o)throw Lt();Xt(o.userId===this.userId),i.push(Uh(this.serializer,o))}))}),Ie.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return Y5(t.ae,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Fn(e.batchId)}),Ie.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Fn(t){delete this.Dn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ie.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Yg(t).Y({range:i},(s,o,c)=>{if(s[0]===this.userId){const u=ic(s[1]);r.push(u)}else c.done()}).next(()=>{Xt(0===r.length)})})}containsKey(t,e){return q5(t,this.userId,e)}Mn(t){return X5(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function q5(n,t,e){const i=SE(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return Yg(n).Y({range:s,J:!0},(c,u,f)=>{const[_,x,T]=c;_===t&&x===r&&(o=!0),f.done()}).next(()=>o)}function gu(n){return Ms(n,"mutations")}function Yg(n){return Ms(n,"documentMutations")}function X5(n){return Ms(n,"mutationQueues")}class Gh{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Gh(0)}static Nn(){return new Gh(-1)}}class Dme{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Bn(t).next(e=>{const i=new Gh(e.highestTargetId);return e.highestTargetId=i.next(),this.Ln(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(e=>Zt.fromTimestamp(new mr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Ln(t,r)))}addTargetData(t,e){return this.kn(t,e).next(()=>this.Bn(t).next(i=>(i.targetCount+=1,this.qn(e,i),this.Ln(t,i))))}updateTargetData(t,e){return this.kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>qg(t).delete(e.targetId)).next(()=>this.Bn(t)).next(i=>(Xt(i.targetCount>0),i.targetCount-=1,this.Ln(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return qg(t).Y((o,c)=>{const u=ob(c);u.sequenceNumber<=e&&null===i.get(u.targetId)&&(r++,s.push(this.removeTargetData(t,u)))}).next(()=>Ie.waitFor(s)).next(()=>r)}forEachTarget(t,e){return qg(t).Y((i,r)=>{const s=ob(r);e(s)})}Bn(t){return Z5(t).get("targetGlobalKey").next(e=>(Xt(null!==e),e))}Ln(t,e){return Z5(t).put("targetGlobalKey",e)}kn(t,e){return qg(t).put(O5(this.serializer,e))}qn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Fh(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return qg(t).Y({range:r,index:"queryTargetsIndex"},(o,c,u)=>{const f=ob(c);Yy(e,f.target)&&(s=f,u.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=mu(t);return e.forEach(o=>{const c=ro(o.path);r.push(s.put({targetId:i,path:c})),r.push(this.referenceDelegate.addReference(t,i,o))}),Ie.waitFor(r)}removeMatchingKeys(t,e,i){const r=mu(t);return Ie.forEach(e,s=>{const o=ro(s.path);return Ie.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=mu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=mu(t);let s=On();return r.Y({range:i,J:!0},(o,c,u)=>{const f=ic(o[1]),_=new Tt(f);s=s.add(_)}).next(()=>s)}containsKey(t,e){const i=ro(e.path),r=IDBKeyRange.bound([i],[oG(i)],!1,!0);let s=0;return mu(t).Y({index:"documentTargetsIndex",J:!0,range:r},([o,c],u,f)=>{0!==o&&(s++,f.done())}).next(()=>s>0)}_t(t,e){return qg(t).get(e).next(i=>i?ob(i):null)}}function qg(n){return Ms(n,"targets")}function Z5(n){return Ms(n,"targetGlobal")}function mu(n){return Ms(n,"targetDocuments")}function K5([n,t],[e,i]){const r=gn(n,e);return 0===r?gn(t,i):r}class Tme{constructor(t){this.Qn=t,this.buffer=new ji(K5),this.Kn=0}$n(){return++this.Kn}Un(t){const e=[t,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();K5(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Q5{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(t){var e=this;lt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ke.Z)(function*(){e.Wn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){su(i)?lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ru(i)}yield e.Gn(3e5)}))}}class Ime{constructor(t,e){this.zn=t,this.params=e}calculateTargetCount(t,e){return this.zn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ie.resolve(ya._e);const i=new Tme(e);return this.zn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve($5)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$5):this.Jn(t,e))}getCacheSize(t){return this.zn.getCacheSize(t)}Jn(t,e){let i,r,s,o,c,u,f;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,o=Date.now(),this.nthSequenceNumber(t,r))).next(x=>(i=x,c=Date.now(),this.removeTargets(t,i,e))).next(x=>(s=x,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(x=>(f=Date.now(),Ag()<=pa.in.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-_}ms\n\tDetermined least recently used ${r} in `+(c-o)+`ms\n\tRemoved ${s} targets in `+(u-c)+`ms\n\tRemoved ${x} documents in `+(f-u)+`ms\nTotal Duration: ${f-_}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:x})))}}class Sme{constructor(t,e){this.db=t,this.garbageCollector=function J5(n,t){return new Ime(n,t)}(this,e)}jn(t){const e=this.Yn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Yn(t){let e=0;return this.Hn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Hn(t,e){return this.Zn(t,(i,r)=>e(r))}addReference(t,e,i){return XE(t,i)}removeReference(t,e,i){return XE(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return XE(t,e)}Xn(t,e){return function(r,s){let o=!1;return X5(r).Z(c=>q5(r,c,s).next(u=>(u&&(o=!0),Ie.resolve(!u)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Zn(t,(o,c)=>{if(c<=e){const u=this.Xn(t,o).next(f=>{if(!f)return s++,i.getEntry(t,o).next(()=>(i.removeEntry(o,Zt.min()),mu(t).delete([0,ro(o.path)])))});r.push(u)}}).next(()=>Ie.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return XE(t,e)}Zn(t,e){const i=mu(t);let r,s=ya._e;return i.Y({index:"documentTargetsIndex"},([o,c],{path:u,sequenceNumber:f})=>{0===o?(s!==ya._e&&e(new Tt(ic(r)),s),s=f,r=u):s=ya._e}).next(()=>{s!==ya._e&&e(new Tt(ic(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function XE(n,t){return mu(n).put((r=n.currentSequenceNumber,{targetId:0,path:ro(t.path),sequenceNumber:r}));var r}class e${constructor(){this.changes=new Kc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ur.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ie.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ame{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return $h(t).put(i)}removeEntry(t,e,i){return $h(t).delete(function(s,o){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],jE(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.er(t,i)))}getEntry(t,e){let i=ur.newInvalidDocument(e);return $h(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(db(e))},(r,s)=>{i=this.tr(e,s)}).next(()=>i)}nr(t,e){let i={size:0,document:ur.newInvalidDocument(e)};return $h(t).Y({index:"documentKeyIndex",range:IDBKeyRange.only(db(e))},(r,s)=>{i={document:this.tr(e,s),size:YE(s)}}).next(()=>i)}getEntries(t,e){let i=ea();return this.rr(t,e,(r,s)=>{const o=this.tr(r,s);i=i.insert(r,o)}).next(()=>i)}ir(t,e){let i=ea(),r=new ir(Tt.comparator);return this.rr(t,e,(s,o)=>{const c=this.tr(s,o);i=i.insert(s,c),r=r.insert(s,YE(o))}).next(()=>({documents:i,sr:r}))}rr(t,e,i){if(e.isEmpty())return Ie.resolve();let r=new ji(r$);e.forEach(u=>r=r.add(u));const s=IDBKeyRange.bound(db(r.first()),db(r.last())),o=r.getIterator();let c=o.getNext();return $h(t).Y({index:"documentKeyIndex",range:s},(u,f,_)=>{const x=Tt.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&r$(c,x)<0;)i(c,null),c=o.getNext();c&&c.isEqual(x)&&(i(c,f),c=o.hasNext()?o.getNext():null),c?_.U(db(c)):_.done()}).next(()=>{for(;c;)i(c,null),c=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,s){const o=e.path,c=[o.popLast().toArray(),o.lastSegment(),jE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $h(t).W(IDBKeyRange.bound(c,u,!0)).next(f=>{s?.incrementDocumentReadCount(f.length);let _=ea();for(const x of f){const T=this.tr(Tt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);T.isFoundDocument()&&(Xy(e,T)||r.has(T.key))&&(_=_.insert(T.key,T))}return _})}getAllFromCollectionGroup(t,e,i,r){let s=ea();const o=i$(e,i),c=i$(e,va.max());return $h(t).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,c,!0)},(u,f,_)=>{const x=this.tr(Tt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(x.key,x),s.size===r&&_.done()}).next(()=>s)}newChangeBuffer(t){return new kme(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return n$(t).get("remoteDocumentGlobalKey").next(e=>(Xt(!!e),e))}er(t,e){return n$(t).put("remoteDocumentGlobalKey",e)}tr(t,e){if(e){const i=function mme(n,t){let e;if(t.document)e=D5(n.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Tt.fromSegments(t.noDocument.path),r=Hh(t.noDocument.readTime);e=ur.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Lt();{const i=Tt.fromSegments(t.unknownDocument.path),r=Hh(t.unknownDocument.version);e=ur.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const s=new mr(r[0],r[1]);return Zt.fromTimestamp(s)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Zt.min()))return i}return ur.newInvalidDocument(t)}}function t$(n){return new Ame(n)}class kme extends e${constructor(t,e){super(),this._r=t,this.trackRemovals=e,this.ar=new Kc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new ji((s,o)=>gn(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const c=this.ar.get(s);if(e.push(this._r.removeEntry(t,s,c.readTime)),o.isValidDocument()){const u=R5(this._r.serializer,o);r=r.add(s.path.popLast());const f=YE(u);i+=f-c.size,e.push(this._r.addEntry(t,s,u))}else if(i-=c.size,this.trackRemovals){const u=R5(this._r.serializer,o.convertToNoDocument(Zt.min()));e.push(this._r.addEntry(t,s,u))}}),r.forEach(s=>{e.push(this._r.indexManager.addToCollectionParentIndex(t,s))}),e.push(this._r.updateMetadata(t,i)),Ie.waitFor(e)}getFromCache(t,e){return this._r.nr(t,e).next(i=>(this.ar.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this._r.ir(t,e).next(({documents:i,sr:r})=>(r.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:i.get(s).readTime})}),i))}}function n$(n){return Ms(n,"remoteDocumentGlobal")}function $h(n){return Ms(n,"remoteDocumentsV14")}function db(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function i$(n,t){const e=t.documentKey.path.toArray();return[n,jE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function r$(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=gn(e[s],i[s]),r)return r;return r=gn(e.length,i.length),r||(r=gn(e[e.length-2],i[i.length-2]),r||gn(e[e.length-1],i[i.length-1]))}class Mme{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class s${constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Jy(i.mutation,r,Jo.empty(),mr.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,On()).next(()=>i))}getLocalViewOfDocuments(t,e,i=On()){const r=sc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=Zy();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=sc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,On()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,i,r){let s=ea();const o=Ky(),c=Ky();return e.forEach((u,f)=>{const _=i.get(f.key);r.has(f.key)&&(void 0===_||_.mutation instanceof Qc)?s=s.insert(f.key,f):void 0!==_?(o.set(f.key,_.mutation.getFieldMask()),Jy(_.mutation,f,_.mutation.getFieldMask(),mr.now())):o.set(f.key,Jo.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((f,_)=>o.set(f,_)),e.forEach((f,_)=>{var x;return c.set(f,new Mme(_,null!==(x=o.get(f))&&void 0!==x?x:null))}),c))}recalculateAndSaveOverlays(t,e){const i=Ky();let r=new ir((o,c)=>o-c),s=On();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const c of o)c.keys().forEach(u=>{const f=e.get(u);if(null===f)return;let _=i.get(u)||Jo.empty();_=c.applyToLocalView(f,_),i.set(u,_);const x=(r.get(c.batchId)||On()).add(u);r=r.insert(c.batchId,x)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,_=u.value,x=XG();_.forEach(T=>{if(!s.has(T)){const R=s5(e.get(T),i.get(T));null!==R&&x.set(T,R),s=s.add(T)}}),o.push(this.documentOverlayCache.saveOverlays(t,f,x))}return Ie.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return Tt.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):yR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Ie.resolve(sc());let c=-1,u=s;return o.next(f=>Ie.forEach(f,(_,x)=>(c<x.largestBatchId&&(c=x.largestBatchId),s.get(_)?Ie.resolve():this.remoteDocumentCache.getEntry(t,_).next(T=>{u=u.insert(_,T)}))).next(()=>this.populateOverlays(t,f,s)).next(()=>this.computeViews(t,u,f,On())).next(_=>({batchId:c,changes:qG(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Tt(e)).next(i=>{let r=Zy();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=Zy();return this.indexManager.getCollectionParents(t,s).next(c=>Ie.forEach(c,u=>{const f=(x=e,T=u.child(s),new Zc(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,T;return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next(_=>{_.forEach((x,T)=>{o=o.insert(x,T)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((u,f)=>{const _=f.getKey();null===o.get(_)&&(o=o.insert(_,ur.newInvalidDocument(_)))});let c=Zy();return o.forEach((u,f)=>{const _=s.get(u);void 0!==_&&Jy(_.mutation,f,Jo.empty(),mr.now()),Xy(e,f)&&(c=c.insert(u,f))}),c})}}class Rme{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return Ie.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:qr(r.createTime)}),Ie.resolve();var r}getNamedQuery(t,e){return Ie.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:RR(r.bundledQuery),readTime:qr(r.readTime)}),Ie.resolve();var r}}class Ome{constructor(){this.overlays=new ir(Tt.comparator),this.lr=new Map}getOverlay(t,e){return Ie.resolve(this.overlays.get(e))}getOverlays(t,e){const i=sc();return Ie.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.lt(t,e,s)}),Ie.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),Ie.resolve()}getOverlaysForCollection(t,e,i){const r=sc(),s=e.length+1,o=new Tt(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return Ie.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new ir((f,_)=>f-_);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let _=s.get(f.largestBatchId);null===_&&(_=sc(),s=s.insert(f.largestBatchId,_)),_.set(f.getKey(),f)}}const c=sc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,_)=>c.set(f,_)),!(c.size()>=r)););return Ie.resolve(c)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new DR(e,i));let s=this.lr.get(e);void 0===s&&(s=On(),this.lr.set(e,s)),this.lr.set(e,s.add(i.key))}}class BR{constructor(){this.hr=new ji(Rs.Pr),this.Ir=new ji(Rs.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new Rs(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new Rs(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new Tt(new ci([])),i=new Rs(e,t),r=new Rs(e,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new Tt(new ci([])),i=new Rs(e,t),r=new Rs(e,t+1);let s=On();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new Rs(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Rs{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return Tt.comparator(t.key,e.key)||gn(t.gr,e.gr)}static Tr(t,e){return gn(t.gr,e.gr)||Tt.comparator(t.key,e.key)}}class Pme{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new ji(Rs.Pr)}checkEmpty(t){return Ie.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.pr;this.pr++;const o=new CR(s,e,i,r);this.mutationQueue.push(o);for(const c of r)this.yr=this.yr.add(new Rs(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return Ie.resolve(o)}lookupMutationBatch(t,e){return Ie.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),s=r<0?0:r;return Ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Rs(e,0),r=new Rs(e,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const c=this.wr(o.gr);s.push(c)}),Ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ji(gn);return e.forEach(r=>{const s=new Rs(r,0),o=new Rs(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],c=>{i=i.add(c.gr)})}),Ie.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Tt.isDocumentKey(s)||(s=s.child(""));const o=new Rs(new Tt(s),0);let c=new ji(gn);return this.yr.forEachWhile(u=>{const f=u.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(c=c.add(u.gr)),!0)},o),Ie.resolve(this.br(c))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Xt(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return Ie.forEach(e.mutations,r=>{const s=new Rs(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new Rs(e,0),r=this.yr.firstAfterOrEqual(i);return Ie.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ie.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Nme{constructor(t){this.Cr=t,this.docs=new ir(Tt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ie.resolve(i?i.document.mutableCopy():ur.newInvalidDocument(e))}getEntries(t,e){let i=ea();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ur.newInvalidDocument(r))}),Ie.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=ea();const o=e.path,c=new Tt(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||cR(lG(_),i)<=0||(r.has(_.key)||Xy(e,_))&&(s=s.insert(_.key,_.mutableCopy()))}return Ie.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Lt()}vr(t,e){return Ie.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Lme(this)}getSize(t){return Ie.resolve(this.size)}}class Lme extends e${constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),Ie.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class Fme{constructor(t){this.persistence=t,this.Fr=new Kc(e=>Fh(e),Yy),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new BR,this.targetCount=0,this.Nr=Gh.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),Ie.resolve()}getLastRemoteSnapshotVersion(t){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ie.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),Ie.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new Gh(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,Ie.resolve()}updateTargetData(t,e){return this.kn(e),Ie.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Fr.forEach((o,c)=>{c.sequenceNumber<=e&&null===i.get(c.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),Ie.waitFor(s).next(()=>r)}getTargetCount(t){return Ie.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return Ie.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),Ie.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),Ie.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),Ie.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return Ie.resolve(i)}containsKey(t,e){return Ie.resolve(this.Or.containsKey(e))}}class zR{constructor(t,e){this.Br={},this.overlays={},this.Lr=new ya(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new Fme(this),this.indexManager=new Cme,this.remoteDocumentCache=new Nme(i=>this.referenceDelegate.Qr(i)),this.serializer=new M5(e),this.Kr=new Rme(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Ome,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new Pme(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){lt("MemoryPersistence","Starting transaction:",t);const r=new Vme(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,e){return Ie.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class Vme extends dG{constructor(t){super(),this.currentSequenceNumber=t}}class ZE{constructor(t){this.persistence=t,this.Gr=new BR,this.zr=null}static jr(t){return new ZE(t)}get Hr(){if(this.zr)return this.zr;throw Lt()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),Ie.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),Ie.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),Ie.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Hr,i=>{const r=Tt.fromPath(i);return this.Jr(t,r).next(s=>{s||e.removeEntry(r,Zt.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return Ie.or([()=>Ie.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class Bme{constructor(t){this.serializer=t}N(t,e,i,r){const s=new IE("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pG,{unique:!0}),u.createObjectStore("documentMutations"),o$(t),function(u){u.createObjectStore("remoteDocuments")}(t));let o=Ie.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),o$(t)),o=o.next(()=>function(u){const f=u.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(o=o.next(()=>function(u,f){return f.store("mutations").W().next(_=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pG,{unique:!0});const x=f.store("mutations"),T=_.map(R=>x.put(R));return Ie.waitFor(T)})}(t,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(o=o.next(()=>this.Zr(s))),i<6&&r>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Xr(s)))),i<7&&r>=7&&(o=o.next(()=>this.ei(s))),i<8&&r>=8&&(o=o.next(()=>this.ti(t,s))),i<9&&r>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(o=o.next(()=>this.ni(s))),i<11&&r>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(o=o.next(()=>{!function(u){const f=u.createObjectStore("documentOverlays",{keyPath:Ege});f.createIndex("collectionPathOverlayIndex",Dge,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",Tge,{unique:!1})}(t)})),i<13&&r>=13&&(o=o.next(()=>function(u){const f=u.createObjectStore("remoteDocumentsV14",{keyPath:fge});f.createIndex("documentKeyIndex",pge),f.createIndex("collectionGroupIndex",gge)}(t)).next(()=>this.ri(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.ii(t,s))),i<15&&r>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:bge}).createIndex("sequenceNumberIndex",xge,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:wge}).createIndex("documentKeyIndex",Cge,{unique:!1})}(t))),o}Xr(t){let e=0;return t.store("remoteDocuments").Y((i,r)=>{e+=YE(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>Ie.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",o).next(c=>Ie.forEach(c,u=>{Xt(u.userId===s.userId);const f=Uh(this.serializer,u);return Y5(t,s.userId,f).next(()=>{})}))}))}ei(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Y((o,c)=>{const u=new ci(o),f=[0,ro(u)];s.push(e.get(f).next(_=>_?Ie.resolve():e.put({targetId:0,path:ro(u),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ie.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:yge});const i=e.store("collectionParents"),r=new VR,s=o=>{if(r.add(o)){const c=o.lastSegment(),u=o.popLast();return i.put({collectionId:c,parent:ro(u)})}};return e.store("remoteDocuments").Y({J:!0},(o,c)=>{const u=new ci(o);return s(u.popLast())}).next(()=>e.store("documentMutations").Y({J:!0},([o,c,u],f)=>{const _=ic(c);return s(_.popLast())}))}ni(t){const e=t.store("targets");return e.Y((i,r)=>{const s=ob(r),o=O5(this.serializer,s);return e.put(o)})}ri(t,e){const i=e.store("remoteDocuments"),r=[];return i.Y((s,o)=>{const c=e.store("remoteDocumentsV14"),u=(x=o,x.document?new Tt(ci.fromString(x.document.name).popFirst(5)):x.noDocument?Tt.fromSegments(x.noDocument.path):x.unknownDocument?Tt.fromSegments(x.unknownDocument.path):Lt()).path.toArray(),f={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var x;r.push(c.put(f))}).next(()=>Ie.waitFor(r))}ii(t,e){const i=e.store("mutations"),r=t$(this.serializer),s=new zR(ZE.jr,this.serializer.ut);return i.W().next(o=>{const c=new Map;return o.forEach(u=>{var f;let _=null!==(f=c.get(u.userId))&&void 0!==f?f:On();Uh(this.serializer,u).keys().forEach(x=>_=_.add(x)),c.set(u.userId,_)}),Ie.forEach(c,(u,f)=>{const _=new ks(f),x=WE.ct(this.serializer,_),T=s.getIndexManager(_),R=qE.ct(_,this.serializer,T,s.referenceDelegate);return new s$(r,R,x,T).recalculateAndSaveOverlaysForDocumentKeys(new hR(e,ya._e),u).next()})})}}function o$(n){n.createObjectStore("targetDocuments",{keyPath:_ge}).createIndex("documentTargetsIndex",vge,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mge,{unique:!0}),n.createObjectStore("targetGlobal")}const HR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class UR{constructor(t,e,i,r,s,o,c,u,f,_,x=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=s,this.window=o,this.document=c,this.oi=f,this._i=_,this.ai=x,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=T=>Promise.resolve(),!UR.D())throw new st(Ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Sme(this,r),this.Ii=e+"main",this.serializer=new M5(u),this.Ti=new wl(this.Ii,this.ai,new Bme(this.serializer)),this.qr=new Dme(this.referenceDelegate,this.serializer),this.remoteDocumentCache=t$(this.serializer),this.Kr=new _me,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===_&&Yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(Ve.FAILED_PRECONDITION,HR);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.qr.getHighestSequenceNumber(t))}).then(t=>{this.Lr=new ya(t,this.oi)}).then(()=>{this.kr=!0}).catch(t=>(this.Ti&&this.Ti.close(),Promise.reject(t)))}mi(t){var e=this;return this.Pi=function(){var i=(0,Ke.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ti.L(function(){var e=(0,Ke.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,Ke.Z)(function*(){e.started&&(yield e.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>QE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(t)).next(e=>this.isPrimary&&!e?this.pi(t).next(()=>!1):!!e&&this.yi(t).next(()=>!0))).catch(t=>{if(su(t))return lt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.Pi(t)),this.isPrimary=t})}fi(t){return ub(t).get("owner").next(e=>Ie.resolve(this.wi(e)))}Si(t){return QE(t).delete(this.clientId)}bi(){var t=this;return(0,Ke.Z)(function*(){if(t.isPrimary&&!t.Di(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ms(i,"clientMetadata");return r.W().next(s=>{const o=t.Ci(s,18e5),c=s.filter(u=>-1===o.indexOf(u));return Ie.forEach(c,u=>r.delete(u.clientId)).next(()=>c)})}).catch(()=>[]);if(t.Ei)for(const i of e)t.Ei.removeItem(t.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(t){return!!t&&t.ownerId===this.clientId}gi(t){return this._i?Ie.resolve(!0):ub(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)){if(this.wi(e)&&this.networkEnabled)return!0;if(!this.wi(e)){if(!e.allowTabSynchronization)throw new st(Ve.FAILED_PRECONDITION,HR);return!1}}return!(!this.networkEnabled||!this.inForeground)||QE(t).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&lt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ke.Z)(function*(){t.kr=!1,t.Mi(),t.li&&(t.li.cancel(),t.li=null),t.xi(),t.Oi(),yield t.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new hR(e,ya._e);return t.pi(i).next(()=>t.Si(i))}),t.Ti.close(),t.Ni()})()}Ci(t,e){return t.filter(i=>this.Di(i.updateTimeMs,e)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>QE(t).W().next(e=>this.Ci(e,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(t,e){return qE.ct(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Eme(t,this.serializer.ut.databaseId)}getDocumentOverlayCache(t){return WE.ct(this.serializer,t)}getBundleCache(){return this.Kr}runTransaction(t,e,i){lt("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(u=this.ai)?Sge:14===u?vG:13===u?_G:12===u?Ige:11===u?mG:void Lt();var u;let o;return this.Ti.runTransaction(t,r,s,c=>(o=new hR(c,this.Lr?this.Lr.next():ya._e),"readwrite-primary"===e?this.fi(o).next(u=>!!u||this.gi(o)).next(u=>{if(!u)throw Yr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new st(Ve.FAILED_PRECONDITION,cG);return i(o)}).next(u=>this.yi(o).next(()=>u)):this.Li(o).next(()=>i(o)))).then(c=>(o.raiseOnCommittedEvent(),c))}Li(t){return ub(t).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new st(Ve.FAILED_PRECONDITION,HR)})}yi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ub(t).put("owner",e)}static D(){return wl.D()}pi(t){const e=ub(t);return e.get("owner").next(i=>this.wi(i)?(lt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ie.resolve())}Di(t,e){const i=Date.now();return!(t<i-e||t>i&&(Yr(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;(0,te.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(t){var e;try{const i=null!==(null===(e=this.Ei)||void 0===e?void 0:e.getItem(this.vi(t)));return lt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Yr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(t){Yr("Failed to set zombie client id.",t)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function ub(n){return Ms(n,"owner")}function QE(n){return Ms(n,"clientMetadata")}function jR(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class WR{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=On(),r=On();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new WR(t,e.fromCache,i,r)}}class zme{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class a${constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.zi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zme;return this.Hi(t,e,o).next(c=>{if(s.result=c,this.$i)return this.Ji(t,e,o,c.size)})}).next(()=>s.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(Ag()<=pa.in.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Vg(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ie.resolve()):(Ag()<=pa.in.DEBUG&&lt("QueryEngine","Query:",Vg(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Ag()<=pa.in.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Vg(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ro(e))):Ie.resolve())}zi(t,e){if(UG(e))return Ie.resolve(null);let i=Ro(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=FE(e,null,"F"),i=Ro(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=On(...s);return this.Gi.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,i).next(u=>{const f=this.Yi(e,c);return this.Zi(e,f,o,u.readTime)?this.zi(t,FE(e,null,"F")):this.Xi(t,f,e,u)}))})))}ji(t,e,i,r){return UG(e)||r.isEqual(Zt.min())?Ie.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(e,s);return this.Zi(e,o,i,r)?Ie.resolve(null):(Ag()<=pa.in.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vg(e)),this.Xi(t,o,e,aG(r,-1)).next(c=>c))})}Yi(t,e){let i=new ji($G(t));return e.forEach((r,s)=>{Xy(t,s)&&(i=i.add(s))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,e,i){return Ag()<=pa.in.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Vg(e)),this.Gi.getDocumentsMatchingQuery(t,e,va.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Hme{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new ir(gn),this.ns=new Kc(s=>Fh(s),Yy),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new s$(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function l$(n,t,e,i){return new Hme(n,t,e,i)}function c$(n,t){return GR.apply(this,arguments)}function GR(){return GR=(0,Ke.Z)(function*(n,t){const e=Ct(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],c=[];let u=On();for(const f of r){o.push(f.batchId);for(const _ of f.mutations)u=u.add(_.key)}for(const f of s){c.push(f.batchId);for(const _ of f.mutations)u=u.add(_.key)}return e.localDocuments.getDocuments(i,u).next(f=>({_s:f,removedBatchIds:o,addedBatchIds:c}))})})}),GR.apply(this,arguments)}function d$(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function u$(n,t,e){let i=On(),r=On();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=ea();return e.forEach((c,u)=>{const f=s.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(Zt.min())?(t.removeEntry(c,u.readTime),o=o.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||0===u.version.compareTo(f.version)&&f.hasPendingWrites?(t.addEntry(u),o=o.insert(c,u)):lt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)}),{us:o,cs:r}})}function Wme(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Xg(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(s=>s?(r=s,Ie.resolve(r)):e.qr.allocateTargetId(i).next(o=>(r=new Jc(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}function Zg(n,t,e){return $R.apply(this,arguments)}function $R(){return $R=(0,Ke.Z)(function*(n,t,e){const i=Ct(n),r=i.ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!su(o))throw o;lt("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),$R.apply(this,arguments)}function JE(n,t,e){const i=Ct(n);let r=Zt.min(),s=On();return i.persistence.runTransaction("Execute query","readwrite",o=>function(u,f,_){const x=Ct(u),T=x.ns.get(_);return void 0!==T?Ie.resolve(x.ts.get(T)):x.qr.getTargetData(f,_)}(i,o,Ro(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,e?r:Zt.min(),e?s:On())).next(c=>(p$(i,GG(t),c),{documents:c,ls:s})))}function h$(n,t){const e=Ct(n),i=Ct(e.qr),r=e.ts.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i._t(s,t).next(o=>o?o.target:null))}function f$(n,t){const e=Ct(n),i=e.rs.get(t)||Zt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ss.getAllFromCollectionGroup(r,t,aG(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(p$(e,t,r),r))}function p$(n,t,e){let i=n.rs.get(t)||Zt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(t,i)}function YR(){return YR=(0,Ke.Z)(function*(n,t,e,i){const r=Ct(n);let s=On(),o=ea();for(const f of e){const _=t.hs(f.metadata.name);f.document&&(s=s.add(_));const x=t.Ps(f);x.setReadTime(t.Is(f.metadata.readTime)),o=o.insert(_,x)}const c=r.ss.newChangeBuffer({trackRemovals:!0}),u=yield Xg(r,(_=i,Ro(Lg(ci.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",f=>u$(f,c,o).next(_=>(c.apply(f),_)).next(_=>r.qr.removeMatchingKeysForTargetId(f,u.targetId).next(()=>r.qr.addMatchingKeys(f,s,u.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,_.us,_.cs)).next(()=>_.us)))}),YR.apply(this,arguments)}function $me(n,t){return qR.apply(this,arguments)}function qR(){return qR=(0,Ke.Z)(function*(n,t,e=On()){const i=yield Xg(n,Ro(RR(t.bundledQuery))),r=Ct(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=qr(t.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Kr.saveNamedQuery(s,t);const c=i.withResumeToken(ms.EMPTY_BYTE_STRING,o);return r.ts=r.ts.insert(c.targetId,c),r.qr.updateTargetData(s,c).next(()=>r.qr.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.qr.addMatchingKeys(s,e,i.targetId)).next(()=>r.Kr.saveNamedQuery(s,t))})}),qR.apply(this,arguments)}function g$(n,t){return`firestore_clients_${n}_${t}`}function m$(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function XR(n,t){return`firestore_targets_${n}_${t}`}class eD{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ts(t,e,i){const r=JSON.parse(i);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new st(r.error.code,r.error.message))),o?new eD(t,e,r.state,s):(Yr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class hb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ts(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new st(i.error.code,i.error.message))),s?new hb(t,i.state,r):(Yr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Es(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class tD{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ts(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=xR();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=hG(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new tD(t,s):(Yr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class ZR{constructor(t,e){this.clientId=t,this.onlineState=e}static Ts(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new ZR(e.clientId,e.onlineState):(Yr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class KR{constructor(){this.activeTargetIds=xR()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QR{constructor(t,e,i,r,s){this.window=t,this.si=e,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ir(gn),this.started=!1,this.ps=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=g$(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new KR),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ke.Z)(function*(){const e=yield t.syncEngine.Bi();for(const r of e){if(r===t.Rs)continue;const s=t.getItem(g$(t.persistenceKey,r));if(s){const o=tD.Ts(r,s);o&&(t.gs=t.gs.insert(o.clientId,o))}}t.Fs();const i=t.storage.getItem(t.Cs);if(i){const r=t.Ms(i);r&&t.xs(r)}for(const r of t.ps)t.fs(r);t.ps=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(t){let e=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ns(t,"pending")}updateMutationState(t,e,i){this.Ns(t,e,i),this.Bs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(XR(this.persistenceKey,t));if(i){const r=hb.Ts(t,i);r&&(e=r.state)}}return this.Ls.ds(t),this.Fs(),e}removeLocalQueryTarget(t){this.Ls.As(t),this.Fs()}isLocalQueryTarget(t){return this.Ls.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(XR(this.persistenceKey,t))}updateQueryState(t,e,i){this.ks(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Bs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.qs(t)}notifyBundleLoaded(t){this.Qs(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return lt("SharedClientState","READ",t,e),e}setItem(t,e){lt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){lt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}fs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(lt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Ke.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ss.test(i.key)){if(null==i.newValue){const r=e.Ks(i.key);return e.$s(r,null)}{const r=e.Us(i.key,i.newValue);if(r)return e.$s(r.clientId,r)}}else if(e.bs.test(i.key)){if(null!==i.newValue){const r=e.Ws(i.key,i.newValue);if(r)return e.Gs(r)}}else if(e.Ds.test(i.key)){if(null!==i.newValue){const r=e.zs(i.key,i.newValue);if(r)return e.js(r)}}else if(i.key===e.Cs){if(null!==i.newValue){const r=e.Ms(i.newValue);if(r)return e.xs(r)}}else if(i.key===e.ws){const r=function(o){let c=ya._e;if(null!=o)try{const u=JSON.parse(o);Xt("number"==typeof u),c=u}catch(u){Yr("SharedClientState","Failed to read sequence number from WebStorage",u)}return c}(i.newValue);r!==ya._e&&e.sequenceNumberHandler(r)}else if(i.key===e.vs){const r=e.Hs(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Js(s)))}}else e.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(t,e,i){const r=new eD(this.currentUser,t,e,i),s=m$(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Es())}Bs(t){const e=m$(this.persistenceKey,this.currentUser,t);this.removeItem(e)}qs(t){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:t}))}ks(t,e,i){const r=XR(this.persistenceKey,t),s=new hb(t,e,i);this.setItem(r,s.Es())}Qs(t){const e=JSON.stringify(Array.from(t));this.setItem(this.vs,e)}Ks(t){const e=this.Ss.exec(t);return e?e[1]:null}Us(t,e){const i=this.Ks(t);return tD.Ts(i,e)}Ws(t,e){const i=this.bs.exec(t),r=Number(i[1]);return eD.Ts(new ks(void 0!==i[2]?i[2]:null),r,e)}zs(t,e){const i=this.Ds.exec(t),r=Number(i[1]);return hb.Ts(r,e)}Ms(t){return ZR.Ts(t)}Hs(t){return JSON.parse(t)}Gs(t){var e=this;return(0,Ke.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Ys(t.batchId,t.state,t.error);lt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}js(t){return this.syncEngine.Zs(t.targetId,t.state,t.error)}$s(t,e){const i=e?this.gs.insert(t,e):this.gs.remove(t),r=this.Os(this.gs),s=this.Os(i),o=[],c=[];return s.forEach(u=>{r.has(u)||o.push(u)}),r.forEach(u=>{s.has(u)||c.push(u)}),this.syncEngine.Xs(o,c).then(()=>{this.gs=i})}xs(t){this.gs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Os(t){let e=xR();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class _${constructor(){this.eo=new KR,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new KR,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Yme{ro(t){}shutdown(){}}class v${constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let nD=null;function JR(){return null===nD?nD=268435456+Math.round(2147483648*Math.random()):nD++,"0x"+nD.toString(16)}const qme={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xme{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const oo="WebChannelConnection";class Zme extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(e,i,r,s,o){const c=JR(),u=this.So(e,i);lt("RestConnection",`Sending RPC '${e}' ${c}:`,u,r);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,s,o),this.Do(e,u,f,r).then(_=>(lt("RestConnection",`Received RPC '${e}' ${c}: `,_),_),_=>{throw Qo("RestConnection",`RPC '${e}' ${c} failed with error: `,_,"url: ",u,"request:",r),_})}Co(e,i,r,s,o,c){return this.wo(e,i,r,s,o)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,i){return`${this.mo}/v1/${i}:${qme[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const s=JR();return new Promise((o,c)=>{const u=new Ype;u.setWithCredentials(!0),u.listenOnce(Wpe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case oR.NO_ERROR:const _=u.getResponseJson();lt(oo,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(_)),o(_);break;case oR.TIMEOUT:lt(oo,`RPC '${t}' ${s} timed out`),c(new st(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case oR.HTTP_ERROR:const x=u.getStatus();if(lt(oo,`RPC '${t}' ${s} failed with status:`,x,"response text:",u.getResponseText()),x>0){let T=u.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T?.error;if(R&&R.status&&R.message){const F=function(j){const oe=j.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(oe)>=0?oe:Ve.UNKNOWN}(R.status);c(new st(F,R.message))}else c(new st(Ve.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new st(Ve.UNAVAILABLE,"Connection failed."));break;default:Lt()}}finally{lt(oo,`RPC '${t}' ${s} completed.`)}});const f=JSON.stringify(r);lt(oo,`RPC '${t}' ${s} sending request:`,r),u.send(e,"POST",f,i,15)})}vo(t,e,i){const r=JR(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Upe(),c=jpe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;void 0!==f&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.xmlHttpFactory=new $pe({})),this.bo(u.initMessageHeaders,e,i),u.encodeInitMessageHeaders=!0;const _=s.join("");lt(oo,`Creating RPC '${t}' stream ${r}: ${_}`,u);const x=o.createWebChannel(_,u);let T=!1,R=!1;const F=new Xme({co:j=>{R?lt(oo,`Not sending because RPC '${t}' stream ${r} is closed:`,j):(T||(lt(oo,`Opening RPC '${t}' stream ${r} transport.`),x.open(),T=!0),lt(oo,`RPC '${t}' stream ${r} sending:`,j),x.send(j))},lo:()=>x.close()}),B=(j,oe,ee)=>{j.listen(oe,le=>{try{ee(le)}catch(me){setTimeout(()=>{throw me},0)}})};return B(x,TE.EventType.OPEN,()=>{R||lt(oo,`RPC '${t}' stream ${r} transport opened.`)}),B(x,TE.EventType.CLOSE,()=>{R||(R=!0,lt(oo,`RPC '${t}' stream ${r} transport closed`),F.Ro())}),B(x,TE.EventType.ERROR,j=>{R||(R=!0,Qo(oo,`RPC '${t}' stream ${r} transport errored:`,j),F.Ro(new st(Ve.UNAVAILABLE,"The operation could not be completed")))}),B(x,TE.EventType.MESSAGE,j=>{var oe;if(!R){const ee=j.data[0];Xt(!!ee);const me=ee.error||(null===(oe=ee[0])||void 0===oe?void 0:oe.error);if(me){lt(oo,`RPC '${t}' stream ${r} received error:`,me);const Se=me.status;let Xe=function(It){const Mt=is[It];if(void 0!==Mt)return u5(Mt)}(Se),pt=me.message;void 0===Xe&&(Xe=Ve.INTERNAL,pt="Unknown error status: "+Se+" with message "+me.message),R=!0,F.Ro(new st(Xe,pt)),x.close()}else lt(oo,`RPC '${t}' stream ${r} received:`,ee),F.Vo(ee)}}),B(c,Gpe.STAT_EVENT,j=>{j.stat===tG.PROXY?lt(oo,`RPC '${t}' stream ${r} detected buffering proxy`):j.stat===tG.NOPROXY&&lt(oo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{F.Ao()},0),F}}function y$(){return typeof window<"u"?window:null}function iD(){return typeof document<"u"?document:null}function fb(n){return new ome(n,!0)}class eO{constructor(t,e,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&lt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class b${constructor(t,e,i,r,s,o,c,u){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new eO(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return(0,Ke.Z)(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return(0,Ke.Z)(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return(0,Ke.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===Ve.RESOURCE_EXHAUSTED?(Yr(e.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===Ve.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new st(Ve.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko((0,Ke.Z)(function*(){t.state=0,t.start()}))}o_(t){return lt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kme extends b${constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function cme(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:Lt(),r=t.targetChange.targetIds||[],s=function(f,_){return f.useProto3Json?(Xt(void 0===_||"string"==typeof _),ms.fromBase64String(_||"")):(Xt(void 0===_||_ instanceof Uint8Array),ms.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(f){const _=void 0===f.code?Ve.UNKNOWN:u5(f.code);return new st(_,f.message||"")}(o);e=new m5(i,r,s,c||null)}else if("documentChange"in t){const i=t.documentChange,r=oc(n,i.document.name),s=qr(i.document.updateTime),o=i.document.createTime?qr(i.document.createTime):Zt.min(),c=new js({mapValue:{fields:i.document.fields}}),u=ur.newFoundDocument(r,s,o,c);e=new UE(i.targetIds||[],i.removedTargetIds||[],u.key,u)}else if("documentDelete"in t){const i=t.documentDelete,r=oc(n,i.document),s=i.readTime?qr(i.readTime):Zt.min(),o=ur.newNoDocument(r,s);e=new UE([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=oc(n,i.document);e=new UE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Lt();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new eme(r,s);e=new g5(i.targetId,o)}}var f;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return Zt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Zt.min():o.readTime?qr(o.readTime):Zt.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=rb(this.serializer),e.addTarget=function(s,o){let c;const u=o.target;if(c=NE(u)?{documents:T5(s,u)}:{query:MR(s,u)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=b5(s,o.resumeToken);const f=IR(s,o.expectedCount);null!==f&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo(Zt.min())>0){c.readTime=jg(s,o.snapshotVersion.toTimestamp());const f=IR(s,o.expectedCount);null!==f&&(c.expectedCount=f)}return c}(this.serializer,t);const i=function ume(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=rb(this.serializer),e.removeTarget=t,this.e_(e)}}class Qme extends b${constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(Xt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function dme(n,t){return n&&n.length>0?(Xt(void 0!==t),n.map(e=>function(r,s){let o=qr(r.updateTime?r.updateTime:s);return o.isEqual(Zt.min())&&(o=qr(s)),new Zge(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=qr(t.commitTime);return this.listener.I_(i,e)}return Xt(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=rb(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>sb(this.serializer,i))};this.e_(e)}}class Jme extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new st(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new st(Ve.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,e,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new st(Ve.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class t_e{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Yr(e),this.f_=!1):lt("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class n_e{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(c=>{i.enqueueAndForget((0,Ke.Z)(function*(){var u;_u(o)&&(lt("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,Ke.Z)(function*(_){const x=Ct(_);x.C_.add(4),yield Kg(x),x.M_.set("Unknown"),x.C_.delete(4),yield pb(x)}),function f(_){return u.apply(this,arguments)})(o))}))}),this.M_=new t_e(i,r)}}function pb(n){return nO.apply(this,arguments)}function nO(){return nO=(0,Ke.Z)(function*(n){if(_u(n))for(const t of n.v_)yield t(!0)}),nO.apply(this,arguments)}function Kg(n){return iO.apply(this,arguments)}function iO(){return iO=(0,Ke.Z)(function*(n){for(const t of n.v_)yield t(!1)}),iO.apply(this,arguments)}function rD(n,t){const e=Ct(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),oO(e)?sO(e):Jg(e).Ho()&&rO(e,t))}function gb(n,t){const e=Ct(n),i=Jg(e);e.D_.delete(t),i.Ho()&&x$(e,t),0===e.D_.size&&(i.Ho()?i.Zo():_u(e)&&e.M_.set("Unknown"))}function rO(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Jg(n).u_(t)}function x$(n,t){n.x_.Oe(t),Jg(n).c_(t)}function sO(n){n.x_=new nme({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),Jg(n).start(),n.M_.g_()}function oO(n){return _u(n)&&!Jg(n).jo()&&n.D_.size>0}function _u(n){return 0===Ct(n).C_.size}function w$(n){n.x_=void 0}function i_e(n){return aO.apply(this,arguments)}function aO(){return aO=(0,Ke.Z)(function*(n){n.D_.forEach((t,e)=>{rO(n,t)})}),aO.apply(this,arguments)}function r_e(n,t){return lO.apply(this,arguments)}function lO(){return lO=(0,Ke.Z)(function*(n,t){w$(n),oO(n)?(n.M_.w_(t),sO(n)):n.M_.set("Unknown")}),lO.apply(this,arguments)}function s_e(n,t,e){return cO.apply(this,arguments)}function cO(){return cO=(0,Ke.Z)(function*(n,t,e){if(n.M_.set("Online"),t instanceof m5&&2===t.state&&t.cause)try{yield(i=(0,Ke.Z)(function*(s,o){const c=o.cause;for(const u of o.targetIds)s.D_.has(u)&&(yield s.remoteSyncer.rejectListen(u,c),s.D_.delete(u),s.x_.removeTarget(u))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){lt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield sD(n,i)}else if(t instanceof UE?n.x_.$e(t):t instanceof g5?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(Zt.min()))try{const i=yield d$(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const c=s.x_.it(o);return c.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const _=s.D_.get(f);_&&s.D_.set(f,_.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,f)=>{const _=s.D_.get(u);if(!_)return;s.D_.set(u,_.withResumeToken(ms.EMPTY_BYTE_STRING,_.snapshotVersion)),x$(s,u);const x=new Jc(_.target,u,f,_.sequenceNumber);rO(s,x)}),s.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){lt("RemoteStore","Failed to raise snapshot:",i),yield sD(n,i)}var i}),cO.apply(this,arguments)}function sD(n,t,e){return dO.apply(this,arguments)}function dO(){return dO=(0,Ke.Z)(function*(n,t,e){if(!su(t))throw t;n.C_.add(1),yield Kg(n),n.M_.set("Offline"),e||(e=()=>d$(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ke.Z)(function*(){lt("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield pb(n)}))}),dO.apply(this,arguments)}function C$(n,t){return t().catch(e=>sD(n,e,t))}function Qg(n){return uO.apply(this,arguments)}function uO(){return uO=(0,Ke.Z)(function*(n){const t=Ct(n),e=vu(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;o_e(t);)try{const r=yield Wme(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,a_e(t,r)}catch(r){yield sD(t,r)}E$(t)&&D$(t)}),uO.apply(this,arguments)}function o_e(n){return _u(n)&&n.b_.length<10}function a_e(n,t){n.b_.push(t);const e=vu(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function E$(n){return _u(n)&&!vu(n).jo()&&n.b_.length>0}function D$(n){vu(n).start()}function l_e(n){return hO.apply(this,arguments)}function hO(){return hO=(0,Ke.Z)(function*(n){vu(n).E_()}),hO.apply(this,arguments)}function c_e(n){return fO.apply(this,arguments)}function fO(){return fO=(0,Ke.Z)(function*(n){const t=vu(n);for(const e of n.b_)t.P_(e.mutations)}),fO.apply(this,arguments)}function d_e(n,t,e){return pO.apply(this,arguments)}function pO(){return pO=(0,Ke.Z)(function*(n,t,e){const i=n.b_.shift(),r=ER.from(i,t,e);yield C$(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Qg(n)}),pO.apply(this,arguments)}function u_e(n,t){return gO.apply(this,arguments)}function gO(){return gO=(0,Ke.Z)(function*(n,t){var e;t&&vu(n).h_&&(yield(e=(0,Ke.Z)(function*(r,s){if(d5(c=s.code)&&c!==Ve.ABORTED){const o=r.b_.shift();vu(r).Yo(),yield C$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Qg(r)}var c}),function i(r,s){return e.apply(this,arguments)})(n,t)),E$(n)&&D$(n)}),gO.apply(this,arguments)}function T$(n,t){return mO.apply(this,arguments)}function mO(){return mO=(0,Ke.Z)(function*(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const i=_u(e);e.C_.add(3),yield Kg(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield pb(e)}),mO.apply(this,arguments)}function _O(n,t){return vO.apply(this,arguments)}function vO(){return vO=(0,Ke.Z)(function*(n,t){const e=Ct(n);t?(e.C_.delete(2),yield pb(e)):t||(e.C_.add(2),yield Kg(e),e.M_.set("Unknown"))}),vO.apply(this,arguments)}function Jg(n){return n.O_||(n.O_=function(e,i,r){const s=Ct(e);return s.A_(),new Kme(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:i_e.bind(null,n),Io:r_e.bind(null,n),a_:s_e.bind(null,n)}),n.v_.push(function(){var t=(0,Ke.Z)(function*(e){e?(n.O_.Yo(),oO(n)?sO(n):n.M_.set("Unknown")):(yield n.O_.stop(),w$(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function vu(n){return n.N_||(n.N_=function(e,i,r){const s=Ct(e);return s.A_(),new Qme(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:l_e.bind(null,n),Io:u_e.bind(null,n),T_:c_e.bind(null,n),I_:d_e.bind(null,n)}),n.v_.push(function(){var t=(0,Ke.Z)(function*(e){e?(n.N_.Yo(),yield Qg(n)):(yield n.N_.stop(),n.b_.length>0&&(lt("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class yO{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,c=new yO(t,e,o,r,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(Ve.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(n,t){if(Yr("AsyncQueue",`${t}: ${n}`),su(n))return new st(Ve.UNAVAILABLE,`${t}: ${n}`);throw n}class tm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Tt.comparator(e.key,i.key):(e,i)=>Tt.comparator(e.key,i.key),this.keyedMap=Zy(),this.sortedSet=new ir(this.comparator)}static emptySet(t){return new tm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof tm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new tm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class I${constructor(){this.B_=new ir(Tt.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):Lt():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class nm{constructor(t,e,i,r,s,o,c,u,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new nm(t,e,tm.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qy(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class h_e{constructor(){this.k_=void 0,this.listeners=[]}}class f_e{constructor(){this.queries=new Kc(t=>WG(t),qy),this.onlineState="Unknown",this.q_=new Set}}function bO(n,t){return xO.apply(this,arguments)}function xO(){return xO=(0,Ke.Z)(function*(n,t){const e=Ct(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new h_e),r)try{s.k_=yield e.onListen(i)}catch(o){const c=em(o,`Initialization of query '${Vg(t.query)}' failed`);return void t.onError(c)}e.queries.set(i,s),s.listeners.push(t),t.Q_(e.onlineState),s.k_&&t.K_(s.k_)&&EO(e)}),xO.apply(this,arguments)}function wO(n,t){return CO.apply(this,arguments)}function CO(){return CO=(0,Ke.Z)(function*(n,t){const e=Ct(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),CO.apply(this,arguments)}function p_e(n,t){const e=Ct(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const c of o.listeners)c.K_(r)&&(i=!0);o.k_=r}}i&&EO(e)}function g_e(n,t,e){const i=Ct(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function EO(n){n.q_.forEach(t=>{t.next()})}class DO{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new nm(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=nm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class m_e{constructor(t,e){this.Y_=t,this.byteLength=e}Z_(){return"metadata"in this.Y_}}class S${constructor(t){this.serializer=t}hs(t){return oc(this.serializer,t)}Ps(t){return t.metadata.exists?D5(this.serializer,t.document,!1):ur.newNoDocument(this.hs(t.metadata.name),this.Is(t.metadata.readTime))}Is(t){return qr(t)}}class __e{constructor(t,e,i){this.X_=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=A$(t)}ea(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Y_.namedQuery)this.queries.push(t.Y_.namedQuery);else if(t.Y_.documentMetadata){this.documents.push({metadata:t.Y_.documentMetadata}),t.Y_.documentMetadata.exists||++e;const i=ci.fromString(t.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Y_.document&&(this.documents[this.documents.length-1].document=t.Y_.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ta(t){const e=new Map,i=new S$(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.hs(r.metadata.name);for(const o of r.metadata.queries){const c=(e.get(o)||On()).add(s);e.set(o,c)}}return e}complete(){var t=this;return(0,Ke.Z)(function*(){const e=yield function Gme(n,t,e,i){return YR.apply(this,arguments)}(t.localStore,new S$(t.serializer),t.documents,t.X_.id),i=t.ta(t.documents);for(const r of t.queries)yield $me(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,na:t.collectionGroups,ra:e}})()}}function A$(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class k${constructor(t){this.key=t}}class M${constructor(t){this.key=t}}class R${constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=On(),this.mutatedKeys=On(),this._a=$G(t),this.aa=new tm(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new I$,r=e?e.aa:this.aa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,c=!1;const u="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,f="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,x)=>{const T=r.get(_),R=Xy(this.query,x)?x:null,F=!!T&&this.mutatedKeys.has(T.key),B=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let j=!1;T&&R?T.data.isEqual(R.data)?F!==B&&(i.track({type:3,doc:R}),j=!0):this.ha(T,R)||(i.track({type:2,doc:R}),j=!0,(u&&this._a(R,u)>0||f&&this._a(R,f)<0)&&(c=!0)):!T&&R?(i.track({type:0,doc:R}),j=!0):T&&!R&&(i.track({type:1,doc:T}),j=!0,(u||f)&&(c=!0)),j&&(R?(o=o.add(R),s=B?s.add(_):s.delete(_)):(o=o.delete(_),s=s.delete(_)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const _="F"===this.query.limitType?o.last():o.first();o=o.delete(_.key),s=s.delete(_.key),i.track({type:1,doc:_})}return{aa:o,la:i,Zi:c,mutatedKeys:s}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((f,_)=>function(T,R){const F=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt()}};return F(T)-F(R)}(f.type,_.type)||this._a(f.doc,_.doc)),this.Pa(i);const o=e?this.Ia():[],c=0===this.oa.size&&this.current?1:0,u=c!==this.sa;return this.sa=c,0!==s.length||u?{snapshot:new nm(this.query,t.aa,r,s,t.mutatedKeys,0===c,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new I$,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=On(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new M$(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new k$(i))}),e}da(t){this.ia=t.ls,this.oa=On();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return nm.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class v_e{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class y_e{constructor(t){this.key=t,this.Ra=!1}}class b_e{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Kc(c=>WG(c),qy),this.fa=new Map,this.ga=new Set,this.pa=new ir(Tt.comparator),this.ya=new Map,this.wa=new BR,this.Sa={},this.ba=new Map,this.Da=Gh.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function x_e(n,t){return TO.apply(this,arguments)}function TO(){return TO=(0,Ke.Z)(function*(n,t){const e=XO(n);let i,r;const s=e.ma.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=yield Xg(e.localStore,Ro(t)),c=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield IO(e,t,i,"current"===c,o.resumeToken),e.isPrimaryClient&&rD(e.remoteStore,o)}return r}),TO.apply(this,arguments)}function IO(n,t,e,i,r){return SO.apply(this,arguments)}function SO(){return SO=(0,Ke.Z)(function*(n,t,e,i,r){n.va=(x,T,R)=>{return(F=(0,Ke.Z)(function*(j,oe,ee,le){let me=oe.view.ca(ee);me.Zi&&(me=yield JE(j.localStore,oe.query,!1).then(({documents:pt})=>oe.view.ca(pt,me)));const Se=le&&le.targetChanges.get(oe.targetId),Xe=oe.view.applyChanges(me,j.isPrimaryClient,Se);return VO(j,oe.targetId,Xe.Ta),Xe.snapshot}),function B(j,oe,ee,le){return F.apply(this,arguments)})(n,x,T,R);var F};const s=yield JE(n.localStore,t,!0),o=new R$(t,s.ls),c=o.ca(s.documents),u=nb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),f=o.applyChanges(c,n.isPrimaryClient,u);VO(n,e,f.Ta);const _=new v_e(t,e,o);return n.ma.set(t,_),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),f.snapshot}),SO.apply(this,arguments)}function w_e(n,t){return AO.apply(this,arguments)}function AO(){return AO=(0,Ke.Z)(function*(n,t){const e=Ct(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(s=>!qy(s,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zg(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),gb(e.remoteStore,i.targetId),im(e,i.targetId)}).catch(ru))):(im(e,i.targetId),yield Zg(e.localStore,i.targetId,!0))}),AO.apply(this,arguments)}function kO(){return kO=(0,Ke.Z)(function*(n,t,e){const i=ZO(n);try{const r=yield function(o,c){const u=Ct(o),f=mr.now(),_=c.reduce((R,F)=>R.add(F.key),On());let x,T;return u.persistence.runTransaction("Locally write mutations","readwrite",R=>{let F=ea(),B=On();return u.ss.getEntries(R,_).next(j=>{F=j,F.forEach((oe,ee)=>{ee.isValidDocument()||(B=B.add(oe))})}).next(()=>u.localDocuments.getOverlayedDocuments(R,F)).next(j=>{x=j;const oe=[];for(const ee of c){const le=Qge(ee,x.get(ee.key).overlayedDocument);null!=le&&oe.push(new Qc(ee.key,le,AG(le.value.mapValue),_r.exists(!0)))}return u.mutationQueue.addMutationBatch(R,f,oe,c)}).next(j=>{T=j;const oe=j.applyToLocalDocumentSet(x,B);return u.documentOverlayCache.saveOverlays(R,j.batchId,oe)})}).then(()=>({batchId:T.batchId,changes:qG(x)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,u){let f=o.Sa[o.currentUser.toKey()];f||(f=new ir(gn)),f=f.insert(c,u),o.Sa[o.currentUser.toKey()]=f}(i,r.batchId,e),yield ed(i,r.changes),yield Qg(i.remoteStore)}catch(r){const s=em(r,"Failed to persist write");e.reject(s)}}),kO.apply(this,arguments)}function O$(n,t){return MO.apply(this,arguments)}function MO(){return MO=(0,Ke.Z)(function*(n,t){const e=Ct(n);try{const i=yield function jme(n,t){const e=Ct(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const c=[];t.targetChanges.forEach((_,x)=>{const T=r.get(x);if(!T)return;c.push(e.qr.removeMatchingKeys(s,_.removedDocuments,x).next(()=>e.qr.addMatchingKeys(s,_.addedDocuments,x)));let R=T.withSequenceNumber(s.currentSequenceNumber);var B,j,oe;null!==t.targetMismatches.get(x)?R=R.withResumeToken(ms.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),r=r.insert(x,R),j=R,oe=_,(0===(B=T).resumeToken.approximateByteSize()||j.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0)&&c.push(e.qr.updateTargetData(s,R))});let u=ea(),f=On();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,_))}),c.push(u$(s,o,t.documentUpdates).next(_=>{u=_.us,f=_.cs})),!i.isEqual(Zt.min())){const _=e.qr.getLastRemoteSnapshotVersion(s).next(x=>e.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(_)}return Ie.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,u,f)).next(()=>u)}).then(s=>(e.ts=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.ya.get(s);o&&(Xt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?Xt(o.Ra):r.removedDocuments.size>0&&(Xt(o.Ra),o.Ra=!1))}),yield ed(e,i,t)}catch(i){yield ru(i)}}),MO.apply(this,arguments)}function P$(n,t,e){const i=Ct(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((s,o)=>{const c=o.view.Q_(t);c.snapshot&&r.push(c.snapshot)}),function(o,c){const u=Ct(o);u.onlineState=c;let f=!1;u.queries.forEach((_,x)=>{for(const T of x.listeners)T.Q_(c)&&(f=!0)}),f&&EO(u)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function E_e(n,t,e){return RO.apply(this,arguments)}function RO(){return RO=(0,Ke.Z)(function*(n,t,e){const i=Ct(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new ir(Tt.comparator);o=o.insert(s,ur.newNoDocument(s,Zt.min()));const c=On().add(s),u=new tb(Zt.min(),new Map,new ir(gn),o,c);yield O$(i,u),i.pa=i.pa.remove(s),i.ya.delete(t),BO(i)}else yield Zg(i.localStore,t,!1).then(()=>im(i,t,e)).catch(ru)}),RO.apply(this,arguments)}function D_e(n,t){return OO.apply(this,arguments)}function OO(){return OO=(0,Ke.Z)(function*(n,t){const e=Ct(n),i=t.batch.batchId;try{const r=yield function Ume(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ss.newChangeBuffer({trackRemovals:!0});return function(c,u,f,_){const x=f.batch,T=x.keys();let R=Ie.resolve();return T.forEach(F=>{R=R.next(()=>_.getEntry(u,F)).next(B=>{const j=f.docVersions.get(F);Xt(null!==j),B.version.compareTo(j)<0&&(x.applyToRemoteDocument(B,f),B.isValidDocument()&&(B.setReadTime(f.commitVersion),_.addEntry(B)))})}),R.next(()=>c.mutationQueue.removeMutationBatch(u,x))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=On();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(u=u.add(c.batch.mutations[f].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);FO(e,i,null),LO(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ed(e,r)}catch(r){yield ru(r)}}),OO.apply(this,arguments)}function T_e(n,t,e){return PO.apply(this,arguments)}function PO(){return PO=(0,Ke.Z)(function*(n,t,e){const i=Ct(n);try{const r=yield function(o,c){const u=Ct(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let _;return u.mutationQueue.lookupMutationBatch(f,c).next(x=>(Xt(null!==x),_=x.keys(),u.mutationQueue.removeMutationBatch(f,x))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,_,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,_)).next(()=>u.localDocuments.getDocuments(f,_))})}(i.localStore,t);FO(i,t,e),LO(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ed(i,r)}catch(r){yield ru(r)}}),PO.apply(this,arguments)}function NO(){return NO=(0,Ke.Z)(function*(n,t){const e=Ct(n);_u(e.remoteStore)||lt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=Ct(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>c.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ba.get(i)||[];r.push(t),e.ba.set(i,r)}catch(i){const r=em(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),NO.apply(this,arguments)}function LO(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function FO(n,t,e){const i=Ct(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function im(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||N$(n,i)})}function N$(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(gb(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),BO(n))}function VO(n,t,e){for(const i of e)i instanceof k$?(n.wa.addReference(i.key,t),S_e(n,i)):i instanceof M$?(lt("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||N$(n,i.key)):Lt()}function S_e(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(lt("SyncEngine","New document in limbo: "+e),n.ga.add(i),BO(n))}function BO(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new Tt(ci.fromString(t)),i=n.Da.next();n.ya.set(i,new y_e(e)),n.pa=n.pa.insert(e,i),rD(n.remoteStore,new Jc(Ro(Lg(e.path)),i,"TargetPurposeLimboResolution",ya._e))}}function ed(n,t,e){return zO.apply(this,arguments)}function zO(){return zO=(0,Ke.Z)(function*(n,t,e){const i=Ct(n),r=[],s=[],o=[];var c;i.ma.isEmpty()||(i.ma.forEach((c,u)=>{o.push(i.va(u,t,e).then(f=>{if((f||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(u.targetId,f?.fromCache?"not-current":"current"),f){r.push(f);const _=WR.Qi(u.targetId,f);s.push(_)}}))}),yield Promise.all(o),i.Va.a_(r),yield(c=(0,Ke.Z)(function*(f,_){const x=Ct(f);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Ie.forEach(_,R=>Ie.forEach(R.ki,F=>x.persistence.referenceDelegate.addReference(T,R.targetId,F)).next(()=>Ie.forEach(R.qi,F=>x.persistence.referenceDelegate.removeReference(T,R.targetId,F)))))}catch(T){if(!su(T))throw T;lt("LocalStore","Failed to update sequence numbers: "+T)}for(const T of _){const R=T.targetId;if(!T.fromCache){const F=x.ts.get(R),j=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);x.ts=x.ts.insert(R,j)}}}),function u(f,_){return c.apply(this,arguments)})(i.localStore,s))}),zO.apply(this,arguments)}function A_e(n,t){return HO.apply(this,arguments)}function HO(){return HO=(0,Ke.Z)(function*(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){lt("SyncEngine","User change. New user:",t.toKey());const i=yield c$(e.localStore,t);e.currentUser=t,(s=e).ba.forEach(c=>{c.forEach(u=>{u.reject(new st(Ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ed(e,i._s)}var s}),HO.apply(this,arguments)}function k_e(n,t){const e=Ct(n),i=e.ya.get(t);if(i&&i.Ra)return On().add(i.key);{let r=On();const s=e.fa.get(t);if(!s)return r;for(const o of s){const c=e.ma.get(o);r=r.unionWith(c.view.ua)}return r}}function M_e(n,t){return UO.apply(this,arguments)}function UO(){return UO=(0,Ke.Z)(function*(n,t){const e=Ct(n),i=yield JE(e.localStore,t.query,!0),r=t.view.da(i);return e.isPrimaryClient&&VO(e,t.targetId,r.Ta),r}),UO.apply(this,arguments)}function R_e(n,t){return jO.apply(this,arguments)}function jO(){return jO=(0,Ke.Z)(function*(n,t){const e=Ct(n);return f$(e.localStore,t).then(i=>ed(e,i))}),jO.apply(this,arguments)}function O_e(n,t,e,i){return WO.apply(this,arguments)}function WO(){return WO=(0,Ke.Z)(function*(n,t,e,i){const r=Ct(n),s=yield function(c,u){const f=Ct(c),_=Ct(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",x=>_.Cn(x,u).next(T=>T?f.localDocuments.getDocuments(x,T):Ie.resolve(null)))}(r.localStore,t);var u;null!==s?("pending"===e?yield Qg(r.remoteStore):"acknowledged"===e||"rejected"===e?(FO(r,t,i||null),LO(r,t),u=t,Ct(Ct(r.localStore).mutationQueue).Fn(u)):Lt(),yield ed(r,s)):lt("SyncEngine","Cannot apply mutation batch with id: "+t)}),WO.apply(this,arguments)}function GO(){return GO=(0,Ke.Z)(function*(n,t){const e=Ct(n);if(XO(e),ZO(e),!0===t&&!0!==e.Ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield L$(e,i.toArray());e.Ca=!0,yield _O(e.remoteStore,!0);for(const s of r)rD(e.remoteStore,s)}else if(!1===t&&!1!==e.Ca){const i=[];let r=Promise.resolve();e.fa.forEach((s,o)=>{e.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(im(e,o),Zg(e.localStore,o,!0))),gb(e.remoteStore,o)}),yield r,yield L$(e,i),function(o){const c=Ct(o);c.ya.forEach((u,f)=>{gb(c.remoteStore,f)}),c.wa.Vr(),c.ya=new Map,c.pa=new ir(Tt.comparator)}(e),e.Ca=!1,yield _O(e.remoteStore,!1)}}),GO.apply(this,arguments)}function L$(n,t,e){return $O.apply(this,arguments)}function $O(){return $O=(0,Ke.Z)(function*(n,t,e){const i=Ct(n),r=[],s=[];for(const o of t){let c;const u=i.fa.get(o);if(u&&0!==u.length){c=yield Xg(i.localStore,Ro(u[0]));for(const f of u){const _=i.ma.get(f),x=yield M_e(i,_);x.snapshot&&s.push(x.snapshot)}}else{const f=yield h$(i.localStore,o);c=yield Xg(i.localStore,f),yield IO(i,F$(f),o,!1,c.resumeToken)}r.push(c)}return i.Va.a_(s),r}),$O.apply(this,arguments)}function F$(n){return HG(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function N_e(n){return e=Ct(n).localStore,Ct(Ct(e).persistence).Bi();var e}function L_e(n,t,e,i){return YO.apply(this,arguments)}function YO(){return YO=(0,Ke.Z)(function*(n,t,e,i){const r=Ct(n);if(r.Ca)return void lt("SyncEngine","Ignoring unexpected query state notification.");const s=r.fa.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const o=yield f$(r.localStore,GG(s[0])),c=tb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,ms.EMPTY_BYTE_STRING);yield ed(r,o,c);break}case"rejected":yield Zg(r.localStore,t,!0),im(r,t,i);break;default:Lt()}}),YO.apply(this,arguments)}function F_e(n,t,e){return qO.apply(this,arguments)}function qO(){return qO=(0,Ke.Z)(function*(n,t,e){const i=XO(n);if(i.Ca){for(const r of t){if(i.fa.has(r)){lt("SyncEngine","Adding an already active target "+r);continue}const s=yield h$(i.localStore,r),o=yield Xg(i.localStore,s);yield IO(i,F$(s),o.targetId,!1,o.resumeToken),rD(i.remoteStore,o)}for(const r of e)i.fa.has(r)&&(yield Zg(i.localStore,r,!1).then(()=>{gb(i.remoteStore,r),im(i,r)}).catch(ru))}}),qO.apply(this,arguments)}function XO(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=O$.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=k_e.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=E_e.bind(null,t),t.Va.a_=p_e.bind(null,t.eventManager),t.Va.Fa=g_e.bind(null,t.eventManager),t}function ZO(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=D_e.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=T_e.bind(null,t),t}class mb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ke.Z)(function*(){e.serializer=fb(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return l$(this.persistence,new a$,t.initialUser,this.serializer)}createPersistence(t){return new zR(ZE.jr,this.serializer)}createSharedClientState(t){return new _$}terminate(){var t=this;return(0,Ke.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class KO extends mb{constructor(t,e,i){super(),this.xa=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ke.Z)(function*(){yield e().call(i,t),yield i.xa.initialize(i,t),yield ZO(i.xa.syncEngine),yield Qg(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return l$(this.persistence,new a$,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new Q5(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new dge(e,this.persistence);return new cge(t.asyncQueue,i)}createPersistence(t){const e=jR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?so.withCacheSize(this.cacheSizeBytes):so.DEFAULT;return new UR(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,y$(),iD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new _$}}class V$ extends KO{constructor(t,e){super(t,e,!1),this.xa=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ke.Z)(function*(){yield e().call(i,t);const r=i.xa.syncEngine;i.sharedClientState instanceof QR&&(i.sharedClientState.syncEngine={Ys:O_e.bind(null,r),Zs:L_e.bind(null,r),Xs:F_e.bind(null,r),Bi:N_e.bind(null,r),Js:R_e.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var s=(0,Ke.Z)(function*(o){yield function P_e(n,t){return GO.apply(this,arguments)}(i.xa.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=y$();if(!QR.D(e))throw new st(Ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=jR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new QR(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class rm{initialize(t,e){var i=this;return(0,Ke.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>P$(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=A_e.bind(null,i.syncEngine),yield _O(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new f_e}createDatastore(t){const e=fb(t.databaseInfo.databaseId),i=new Zme(t.databaseInfo);return new Jme(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,o=e=>P$(this.syncEngine,e,0),c=v$.D()?new v$:new Yme,new n_e(i,r,s,o,c);var i,r,s,o,c}createSyncEngine(t,e){return function(r,s,o,c,u,f,_){const x=new b_e(r,s,o,c,u,f);return _&&(x.Ca=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ke.Z)(function*(i){const r=Ct(i);lt("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Kg(r),r.F_.shutdown(),r.M_.set("Unknown")}),function e(i){return t.apply(this,arguments)})(this.remoteStore);var t}}function B$(n,t=10240){let e=0;return{read:()=>(0,Ke.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ke.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class oD{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Yr("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class z_e{constructor(t,e){this.Ba=t,this.serializer=e,this.metadata=new gs,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var t=this;return(0,Ke.Z)(function*(){return t.metadata.promise})()}Ma(){var t=this;return(0,Ke.Z)(function*(){return yield t.getMetadata(),t.ka()})()}ka(){var t=this;return(0,Ke.Z)(function*(){const e=yield t.qa();if(null===e)return null;const i=t.La.decode(e),r=Number(i);isNaN(r)&&t.Qa(`length string (${i}) is not valid number`);const s=yield t.Ka(r);return new m_e(JSON.parse(s),e.length+r)})()}$a(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}qa(){var t=this;return(0,Ke.Z)(function*(){for(;t.$a()<0&&!(yield t.Ua()););if(0===t.buffer.length)return null;const e=t.$a();e<0&&t.Qa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Ka(t){var e=this;return(0,Ke.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ua())&&e.Qa("Reached the end of bundle when more is expected.");const i=e.La.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Qa(t){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${t}`)}Ua(){var t=this;return(0,Ke.Z)(function*(){const e=yield t.Ba.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class H_e{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ke.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new st(Ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ke.Z)(function*(o,c){const u=Ct(o),f=rb(u.serializer)+"/documents",_={documents:c.map(F=>ib(u.serializer,F))},x=yield u.Co("BatchGetDocuments",f,_,c.length),T=new Map;x.forEach(F=>{const B=function lme(n,t){return"found"in t?function(i,r){Xt(!!r.found);const s=oc(i,r.found.name),o=qr(r.found.updateTime),c=r.found.createTime?qr(r.found.createTime):Zt.min(),u=new js({mapValue:{fields:r.found.fields}});return ur.newFoundDocument(s,o,c,u)}(n,t):"missing"in t?function(i,r){Xt(!!r.missing),Xt(!!r.readTime);const s=oc(i,r.missing),o=qr(r.readTime);return ur.newNoDocument(s,o)}(n,t):Lt()}(u.serializer,F);T.set(B.key.toString(),B)});const R=[];return c.forEach(F=>{const B=T.get(F.toString());Xt(!!B),R.push(B)}),R}),function s(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ug(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ke.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Tt.fromPath(r);t.mutations.push(new wR(s,t.precondition(s)))}),yield(i=(0,Ke.Z)(function*(s,o){const c=Ct(s),u=rb(c.serializer)+"/documents",f={writes:o.map(_=>sb(c.serializer,_))};yield c.wo("Commit",u,f)}),function r(s,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Lt();e=Zt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new st(Ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Zt.min())?_r.exists(!1):_r.updateTime(e):_r.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Zt.min()))throw new st(Ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _r.updateTime(e)}return _r.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class U_e{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Wa=i.maxAttempts,this.zo=new eO(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var t=this;this.zo.ko((0,Ke.Z)(function*(){const e=new H_e(t.datastore),i=t.za(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.ja(s)}))}).catch(r=>{t.ja(r)})}))}za(t){try{const e=this.updateFunction(t);return!zy(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(t){this.Wa>0&&this.Ha(t)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(t)}Ha(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!d5(e)}return!1}}class j_e{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ks.UNAUTHENTICATED,this.clientId=sG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=(0,Ke.Z)(function*(c){lt("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(lt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return(0,Ke.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new st(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ke.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=em(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function aD(n,t){return QO.apply(this,arguments)}function QO(){return QO=(0,Ke.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ke.Z)(function*(s){i.isEqual(s)||(yield c$(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),QO.apply(this,arguments)}function JO(n,t){return eP.apply(this,arguments)}function eP(){return eP=(0,Ke.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield tP(n);lt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>T$(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>T$(t.remoteStore,s)),n._onlineComponents=t}),eP.apply(this,arguments)}function z$(n){return"FirebaseError"===n.name?n.code===Ve.FAILED_PRECONDITION||n.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function tP(n){return nP.apply(this,arguments)}function nP(){return nP=(0,Ke.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){lt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield aD(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!z$(e))throw e;Qo("Error using user provided cache. Falling back to memory cache: "+e),yield aD(n,new mb)}}else lt("FirestoreClient","Using default OfflineComponentProvider"),yield aD(n,new mb);return n._offlineComponents}),nP.apply(this,arguments)}function lD(n){return iP.apply(this,arguments)}function iP(){return iP=(0,Ke.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(lt("FirestoreClient","Using user provided OnlineComponentProvider"),yield JO(n,n._uninitializedComponentsProvider._online)):(lt("FirestoreClient","Using default OnlineComponentProvider"),yield JO(n,new rm))),n._onlineComponents}),iP.apply(this,arguments)}function H$(n){return tP(n).then(t=>t.persistence)}function sm(n){return tP(n).then(t=>t.localStore)}function U$(n){return lD(n).then(t=>t.remoteStore)}function rP(n){return lD(n).then(t=>t.syncEngine)}function om(n){return sP.apply(this,arguments)}function sP(){return sP=(0,Ke.Z)(function*(n){const t=yield lD(n),e=t.eventManager;return e.onListen=x_e.bind(null,t.syncEngine),e.onUnlisten=w_e.bind(null,t.syncEngine),e}),sP.apply(this,arguments)}function W$(n,t,e={}){const i=new gs;return n.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return function(s,o,c,u,f){const _=new oD({next:T=>{o.enqueueAndForget(()=>wO(s,x));const R=T.docs.has(c);!R&&T.fromCache?f.reject(new st(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&u&&"server"===u.source?f.reject(new st(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(T)},error:T=>f.reject(T)}),x=new DO(Lg(c.path),_,{includeMetadataChanges:!0,J_:!0});return bO(s,x)}(yield om(n),n.asyncQueue,t,e,i)})),i.promise}function G$(n,t,e={}){const i=new gs;return n.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return function(s,o,c,u,f){const _=new oD({next:T=>{o.enqueueAndForget(()=>wO(s,x)),T.fromCache&&"server"===u.source?f.reject(new st(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(T)},error:T=>f.reject(T)}),x=new DO(c,_,{includeMetadataChanges:!0,J_:!0});return bO(s,x)}(yield om(n),n.asyncQueue,t,e,i)})),i.promise}function $$(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const Y$=new Map;function oP(n,t,e){if(!e)throw new st(Ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function q$(n,t,e,i){if(!0===t&&!0===i)throw new st(Ve.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function X$(n){if(!Tt.isDocumentKey(n))throw new st(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Z$(n){if(Tt.isDocumentKey(n))throw new st(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":Lt()}function Jn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new st(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=cD(n);throw new st(Ve.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function K$(n,t){if(t<=0)throw new st(Ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class Q${constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new st(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new st(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}q$("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=$$(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new st(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _b{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new st(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new st(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q$(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new Kpe;switch(i.type){case"firstParty":return new tge(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new st(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Y$.get(e);i&&(lt("ComponentProvider","Removing Datastore"),Y$.delete(e),i.terminate())}(this),Promise.resolve()}}class Ws{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ws(this.firestore,t,this._query)}}class hr{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ac(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hr(this.firestore,t,this._key)}}class ac extends Ws{constructor(t,e,i){super(t,e,Lg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hr(this.firestore,null,new Tt(t))}withConverter(t){return new ac(this.firestore,t,this._path)}}function e8(n,t,...e){if(n=(0,te.m9)(n),oP("collection","path",t),n instanceof _b){const i=ci.fromString(t,...e);return Z$(i),new ac(n,null,i)}{if(!(n instanceof hr||n instanceof ac))throw new st(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ci.fromString(t,...e));return Z$(i),new ac(n.firestore,null,i)}}function dD(n,t,...e){if(n=(0,te.m9)(n),1===arguments.length&&(t=sG.newId()),oP("doc","path",t),n instanceof _b){const i=ci.fromString(t,...e);return X$(i),new hr(n,null,new Tt(i))}{if(!(n instanceof hr||n instanceof ac))throw new st(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ci.fromString(t,...e));return X$(i),new hr(n.firestore,n instanceof ac?n.converter:null,new Tt(i))}}function t8(n,t){return n=(0,te.m9)(n),t=(0,te.m9)(t),(n instanceof hr||n instanceof ac)&&(t instanceof hr||t instanceof ac)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function aP(n,t){return n=(0,te.m9)(n),t=(0,te.m9)(t),n instanceof Ws&&t instanceof Ws&&n.firestore===t.firestore&&qy(n._query,t._query)&&n.converter===t.converter}class tve{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new eO(this,"async_queue_retry"),this.iu=()=>{const e=iD();e&&lt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=iD();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=iD();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new gs;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return(0,Ke.Z)(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!su(e))throw e;lt("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,Yr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=yO.createAndSchedule(this,t,e,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&Lt()}verifyOperationInProgress(){}uu(){var t=this;return(0,Ke.Z)(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}function lP(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class nve{constructor(){this._progressObserver={},this._taskCompletionResolver=new gs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class rr extends _b{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new tve,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||n8(this),this._firestoreClient.terminate()}}function Lr(n){return n._firestoreClient||n8(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function n8(n){var t,e,i;const r=n._freezeSettings(),s=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Mge(n._databaseId,u,n._persistenceKey,(_=r).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,$$(_.experimentalLongPollingOptions),_.useFetchStreams));var u,_;n._firestoreClient=new j_e(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function i8(n,t,e){const i=new gs;return n.asyncQueue.enqueue((0,Ke.Z)(function*(){try{yield aD(n,e),yield JO(n,t),i.resolve()}catch(r){const s=r;if(!z$(s))throw s;Qo("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function r8(n){if(n._initialized||n._terminated)throw new st(Ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class lc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new lc(ms.fromBase64String(t))}catch(e){throw new st(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new lc(ms.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class td{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new st(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Yh{constructor(t){this._methodName=t}}class uD{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new st(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new st(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return gn(this._lat,t._lat)||gn(this._long,t._long)}}const fve=/^__.*__$/;class pve{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Qc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hg(t,this.data,e,this.fieldTransforms)}}class s8{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Qc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function o8(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt()}}class hD{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new hD(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return gD(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(o8(this.Iu)&&fve.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class gve{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||fb(t)}pu(t,e,i,r=!1){return new hD({Iu:t,methodName:e,gu:i,path:dr.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qh(n){const t=n._freezeSettings(),e=fb(n._databaseId);return new gve(n._databaseId,!!t.ignoreUndefinedProperties,e)}function fD(n,t,e,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,t,e,r);hP("Data must be an object, but it was:",o,i);const c=c8(i,o);let u,f;if(s.merge)u=new Jo(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const _=[];for(const x of s.mergeFields){const T=bb(t,x,e);if(!o.contains(T))throw new st(Ve.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);u8(_,T)||_.push(T)}u=new Jo(_),f=o.fieldTransforms.filter(x=>u.covers(x.field))}else u=null,f=o.fieldTransforms;return new pve(new js(c),u,f)}class yb extends Yh{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof yb}}function a8(n,t,e){return new hD({Iu:3,gu:t.settings.gu,methodName:n._methodName,du:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class cP extends Yh{_toFieldTransform(t){return new Qy(t.path,new Bg)}isEqual(t){return t instanceof cP}}class mve extends Yh{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=a8(this,t,!0),i=this.yu.map(s=>Xh(s,e)),r=new Vh(i);return new Qy(t.path,r)}isEqual(t){return this===t}}class _ve extends Yh{constructor(t,e){super(t),this.yu=e}_toFieldTransform(t){const e=a8(this,t,!0),i=this.yu.map(s=>Xh(s,e)),r=new Bh(i);return new Qy(t.path,r)}isEqual(t){return this===t}}class vve extends Yh{constructor(t,e){super(t),this.wu=e}_toFieldTransform(t){const e=new zg(t.serializer,QG(t.serializer,this.wu));return new Qy(t.path,e)}isEqual(t){return this===t}}function dP(n,t,e,i){const r=n.pu(1,t,e);hP("Data must be an object, but it was:",r,i);const s=[],o=js.empty();ou(i,(u,f)=>{const _=pD(t,u,e);f=(0,te.m9)(f);const x=r.Ru(_);if(f instanceof yb)s.push(_);else{const T=Xh(f,x);null!=T&&(s.push(_),o.set(_,T))}});const c=new Jo(s);return new s8(o,c,r.fieldTransforms)}function uP(n,t,e,i,r,s){const o=n.pu(1,t,e),c=[bb(t,i,e)],u=[r];if(s.length%2!=0)throw new st(Ve.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<s.length;T+=2)c.push(bb(t,s[T])),u.push(s[T+1]);const f=[],_=js.empty();for(let T=c.length-1;T>=0;--T)if(!u8(f,c[T])){const R=c[T];let F=u[T];F=(0,te.m9)(F);const B=o.Ru(R);if(F instanceof yb)f.push(R);else{const j=Xh(F,B);null!=j&&(f.push(R),_.set(R,j))}}const x=new Jo(f);return new s8(_,x,o.fieldTransforms)}function l8(n,t,e,i=!1){return Xh(e,n.pu(i?4:3,t))}function Xh(n,t){if(d8(n=(0,te.m9)(n)))return hP("Unsupported field value:",t,n),c8(n,t);if(n instanceof Yh)return function(i,r){if(!o8(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const c of i){let u=Xh(c,r.Vu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=(0,te.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return QG(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=mr.fromDate(i);return{timestampValue:jg(r.serializer,s)}}if(i instanceof mr){const s=new mr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:jg(r.serializer,s)}}if(i instanceof uD)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof lc)return{bytesValue:b5(r.serializer,i._byteString)};if(i instanceof hr){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:SR(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${cD(i)}`)}(n,t)}function c8(n,t){const e={};return bG(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ou(n,(i,r)=>{const s=Xh(r,t.Eu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function d8(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof mr||n instanceof uD||n instanceof lc||n instanceof hr||n instanceof Yh)}function hP(n,t,e){if(!d8(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=cD(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function bb(n,t,e){if((t=(0,te.m9)(t))instanceof td)return t._internalPath;if("string"==typeof t)return pD(n,t);throw gD("Field path arguments must be of type string or ",n,!1,void 0,e)}const yve=new RegExp("[~\\*/\\[\\]]");function pD(n,t,e){if(t.search(yve)>=0)throw gD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new td(...t.split("."))._internalPath}catch{throw gD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function gD(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${i}`),o&&(u+=` in document ${r}`),u+=")"),new st(Ve.INVALID_ARGUMENT,c+n+u)}function u8(n,t){return n.some(e=>e.isEqual(t))}class xb{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new bve(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(mD("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class bve extends xb{data(){return super.data()}}function mD(n,t){return"string"==typeof t?pD(n,t):t instanceof td?t._internalPath:t._delegate._internalPath}function h8(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new st(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fP{}class wb extends fP{}function yu(n,t,...e){let i=[];t instanceof fP&&i.push(t),i=i.concat(e),function(s){const o=s.filter(u=>u instanceof am).length,c=s.filter(u=>u instanceof Cb).length;if(o>1||o>0&&c>0)throw new st(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Cb extends wb{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Cb(t,e,i)}_apply(t){const e=this._parse(t);return m8(t._query,e),new Ws(t.firestore,t.converter,bR(t._query,e))}_parse(t){const e=qh(t.firestore);return function(s,o,c,u,f,_,x){let T;if(f.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new st(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){g8(x,_);const R=[];for(const F of x)R.push(p8(u,s,F));T={arrayValue:{values:R}}}else T=p8(u,s,x)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||g8(x,_),T=l8(c,"where",x,"in"===_||"not-in"===_);return ii.create(f,_,T)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class am extends fP{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new am(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Fi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,s){let o=r;const c=s.getFlattenedFilters();for(const u of c)m8(o,u),o=bR(o,u)}(t._query,e),new Ws(t.firestore,t.converter,bR(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pP extends wb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new pP(t,e)}_apply(t){const e=function(r,s,o){if(null!==r.startAt)throw new st(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new st(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $y(s,o)}(t._query,this._field,this._direction);return new Ws(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Zc(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class _D extends wb{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new _D(t,e,i)}_apply(t){return new Ws(t.firestore,t.converter,FE(t._query,this._limit,this._limitType))}}class vD extends wb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new vD(t,e,i)}_apply(t){const e=f8(t,this.type,this._docOrFields,this._inclusive);return new Ws(t.firestore,t.converter,(s=e,new Zc((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class yD extends wb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new yD(t,e,i)}_apply(t){const e=f8(t,this.type,this._docOrFields,this._inclusive);return new Ws(t.firestore,t.converter,(s=e,new Zc((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function f8(n,t,e,i){if(e[0]=(0,te.m9)(e[0]),e[0]instanceof xb)return function(s,o,c,u,f){if(!u)throw new st(Ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const x of Fg(s))if(x.field.isKeyField())_.push(Lh(o,u.key));else{const T=u.data.field(x.field);if(kE(T))throw new st(Ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const R=x.field.canonicalString();throw new st(Ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}_.push(T)}return new hu(_,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=qh(n.firestore);return function(o,c,u,f,_,x){const T=o.explicitOrderBy;if(_.length>T.length)throw new st(Ve.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let F=0;F<_.length;F++){const B=_[F];if(T[F].field.isKeyField()){if("string"!=typeof B)throw new st(Ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof B}`);if(!yR(o)&&-1!==B.indexOf("/"))throw new st(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${B}' contains a slash.`);const j=o.path.child(ci.fromString(B));if(!Tt.isDocumentKey(j))throw new st(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const oe=new Tt(j);R.push(Lh(c,oe))}else{const j=l8(u,f,B);R.push(j)}}return new hu(R,x)}(n._query,n.firestore._databaseId,r,t,e,i)}}function p8(n,t,e){if("string"==typeof(e=(0,te.m9)(e))){if(""===e)throw new st(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yR(t)&&-1!==e.indexOf("/"))throw new st(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ci.fromString(e));if(!Tt.isDocumentKey(i))throw new st(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Lh(n,new Tt(i))}if(e instanceof hr)return Lh(n,e._key);throw new st(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cD(e)}.`)}function g8(n,t){if(!Array.isArray(n)||0===n.length)throw new st(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function m8(n,t){const e=function(r,s){for(const o of r)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new st(Ve.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class gP{convertValue(t,e="none"){switch(du(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Nr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Xc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Lt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return ou(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new uD(Nr(t.latitude),Nr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ME(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Uy(t));default:return null}}convertTimestamp(t){const e=au(t);return new mr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ci.fromString(t);Xt(k5(i));const r=new lu(i.get(1),i.get(3)),s=new Tt(i.popFirst(5));return r.isEqual(e)||Yr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function bD(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Ave extends gP{constructor(t){super(),this.firestore=t}convertBytes(t){return new lc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new hr(this.firestore,null,e)}}class Zh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nd extends xb{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Eb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(mD("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Eb extends nd{data(t={}){return super.data(t)}}class bu{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Zh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Eb(this._firestore,this._userDataWriter,i.key,i,new Zh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new st(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Eb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Zh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const u=new Eb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Zh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,_=-1;return 0!==c.type&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),_=o.indexOf(c.doc.key)),{type:Mve(c.type),doc:u,oldIndex:f,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Mve(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt()}}function v8(n,t){return n instanceof nd&&t instanceof nd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof bu&&t instanceof bu&&n._firestore===t._firestore&&aP(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class xu extends gP{constructor(t){super(),this.firestore=t}convertBytes(t){return new lc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new hr(this.firestore,null,e)}}function y8(n,t,e){n=Jn(n,hr);const i=Jn(n.firestore,rr),r=bD(n.converter,t,e);return lm(i,[fD(qh(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,_r.none())])}function b8(n,t,e,...i){n=Jn(n,hr);const r=Jn(n.firestore,rr),s=qh(r);let o;return o="string"==typeof(t=(0,te.m9)(t))||t instanceof td?uP(s,"updateDoc",n._key,t,e,i):dP(s,"updateDoc",n._key,t),lm(r,[o.toMutation(n._key,_r.exists(!0))])}function x8(n,...t){var e,i,r;n=(0,te.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||lP(t[o])||(s=t[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges};if(lP(t[o])){const x=t[o];t[o]=null===(e=x.next)||void 0===e?void 0:e.bind(x),t[o+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),t[o+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let u,f,_;if(n instanceof hr)f=Jn(n.firestore,rr),_=Lg(n._key.path),u={next:x=>{t[o]&&t[o](mP(f,n,x))},error:t[o+1],complete:t[o+2]};else{const x=Jn(n,Ws);f=Jn(x.firestore,rr),_=x._query;const T=new xu(f);u={next:R=>{t[o]&&t[o](new bu(f,T,x,R))},error:t[o+1],complete:t[o+2]},h8(n._query)}return function(T,R,F,B){const j=new oD(B),oe=new DO(R,j,F);return T.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return bO(yield om(T),oe)})),()=>{j.Na(),T.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return wO(yield om(T),oe)}))}}(Lr(f),_,c,u)}function lm(n,t){return function(i,r){const s=new gs;return i.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return function C_e(n,t,e){return kO.apply(this,arguments)}(yield rP(i),r,s)})),s.promise}(Lr(n),t)}function mP(n,t,e){const i=e.docs.get(t._key),r=new xu(n);return new nd(n,r,t._key,i,new Zh(e.hasPendingWrites,e.fromCache),t.converter)}const Xve={maxAttempts:5};class w8{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=qh(t)}set(t,e,i){this._verifyNotCommitted();const r=wu(t,this._firestore),s=bD(r.converter,e,i),o=fD(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(o.toMutation(r._key,_r.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=wu(t,this._firestore);let o;return o="string"==typeof(e=(0,te.m9)(e))||e instanceof td?uP(this._dataReader,"WriteBatch.update",s._key,e,i,r):dP(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,_r.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=wu(t,this._firestore);return this._mutations=this._mutations.concat(new Ug(e._key,_r.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wu(n,t){if((n=(0,te.m9)(n)).firestore!==t)throw new st(Ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Zve extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=qh(e)}get(e){const i=wu(e,this._firestore),r=new Ave(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||1!==s.length)return Lt();const o=s[0];if(o.isFoundDocument())return new xb(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new xb(this._firestore,r,i._key,null,i.converter);throw Lt()})}set(e,i,r){const s=wu(e,this._firestore),o=bD(s.converter,i,r),c=fD(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,r);return this._transaction.set(s._key,c),this}update(e,i,r,...s){const o=wu(e,this._firestore);let c;return c="string"==typeof(i=(0,te.m9)(i))||i instanceof td?uP(this._dataReader,"Transaction.update",o._key,i,r,s):dP(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,c),this}delete(e){const i=wu(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=wu(t,this._firestore),i=new xu(this._firestore);return super.get(t).then(r=>new nd(this._firestore,i,e._key,r._document,new Zh(!1,!1),e.converter))}}function vP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new st("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function T8(){if(typeof Uint8Array>"u")throw new st("unimplemented","Uint8Arrays are not available in this environment.")}function I8(){if(!function Age(){return typeof atob<"u"}())throw new st("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){Sg=Xo.SDK_VERSION,(0,Xo._registerComponent)(new pl.wA("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),c=new rr(new Jpe(i.getProvider("auth-internal")),new nge(i.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new st(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(f.options.projectId,_)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),(0,Xo.registerVersion)(nG,"4.3.2",t),(0,Xo.registerVersion)(nG,"4.3.2","esm2017")}();class Db{constructor(t){this._delegate=t}static fromBase64String(t){return I8(),new Db(lc.fromBase64String(t))}static fromUint8Array(t){return T8(),new Db(lc.fromUint8Array(t))}toBase64(){return I8(),this._delegate.toBase64()}toUint8Array(){return T8(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yP(n){return function oye(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class aye{enableIndexedDbPersistence(t,e){return function rve(n,t){r8(n=Jn(n,rr));const e=Lr(n);if(e._uninitializedComponentsProvider)throw new st(Ve.FAILED_PRECONDITION,"SDK cache is already specified.");Qo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new rm;return i8(e,r,new KO(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function sve(n){r8(n=Jn(n,rr));const t=Lr(n);if(t._uninitializedComponentsProvider)throw new st(Ve.FAILED_PRECONDITION,"SDK cache is already specified.");Qo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new rm;return i8(t,i,new V$(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function ove(n){if(n._initialized&&!n._terminated)throw new st(Ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new gs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ke.Z)(function*(){try{yield(e=(0,Ke.Z)(function*(r){if(!wl.D())return Promise.resolve();const s=r+"main";yield wl.delete(s)}),function i(r){return e.apply(this,arguments)})(jR(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class S8{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof lu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Qo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function J$(n,t,e,i={}){var r;const s=(n=Jn(n,_b))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let c,u;if("string"==typeof i.mockUserToken)c=i.mockUserToken,u=ks.MOCK_USER;else{c=(0,te.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new st(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ks(f)}n._authCredentials=new Qpe(new iG(c,u))}}(this._delegate,t,e,i)}enableNetwork(){return function lve(n){return function W_e(n){return n.asyncQueue.enqueue((0,Ke.Z)(function*(){const t=yield H$(n),e=yield U$(n);return t.setNetworkEnabled(!0),function(r){const s=Ct(r);return s.C_.delete(0),pb(s)}(e)}))}(Lr(n=Jn(n,rr)))}(this._delegate)}disableNetwork(){return function cve(n){return function G_e(n){return n.asyncQueue.enqueue((0,Ke.Z)(function*(){const t=yield H$(n),e=yield U$(n);return t.setNetworkEnabled(!1),(i=(0,Ke.Z)(function*(s){const o=Ct(s);o.C_.add(0),yield Kg(o),o.M_.set("Offline")}),function r(s){return i.apply(this,arguments)})(e);var i}))}(Lr(n=Jn(n,rr)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,q$("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ave(n){return function(e){const i=new gs;return e.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return function I_e(n,t){return NO.apply(this,arguments)}(yield rP(e),i)})),i.promise}(Lr(n=Jn(n,rr)))}(this._delegate)}onSnapshotsInSync(t){return function zve(n,t){return function q_e(n,t){const e=new oD(t);return n.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return r=yield om(n),s=e,Ct(r).q_.add(s),void s.next();var r,s})),()=>{e.Na(),n.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return r=yield om(n),s=e,void Ct(r).q_.delete(s);var r,s}))}}(Lr(n=Jn(n,rr)),lP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new st("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new cm(this,e8(this._delegate,t))}catch(e){throw Oo(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ga(this,dD(this._delegate,t))}catch(e){throw Oo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Po(this,function eve(n,t){if(n=Jn(n,_b),oP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new st(Ve.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ws(n,null,(i=t,new Zc(ci.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw Oo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Kve(n,t,e){n=Jn(n,rr);const i=Object.assign(Object.assign({},Xve),e);return function(s){if(s.maxAttempts<1)throw new st(Ve.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,c){const u=new gs;return s.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){const f=yield function j$(n){return lD(n).then(t=>t.datastore)}(s);new U_e(s.asyncQueue,f,c,o,u).run()})),u.promise}(Lr(n),r=>t(new Zve(n,r)),i)}(this._delegate,e=>t(new A8(this,e)))}batch(){return Lr(this._delegate),new k8(new w8(this._delegate,t=>lm(this._delegate,t)))}loadBundle(t){return function dve(n,t){const e=Lr(n=Jn(n,rr)),i=new nve;return function X_e(n,t,e,i){const r=function(o,c){let u;return u="string"==typeof o?h5().encode(o):o,_=function(_,x){if(_ instanceof Uint8Array)return B$(_,x);if(_ instanceof ArrayBuffer)return B$(new Uint8Array(_),x);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new z_e(_,c);var _}(e,fb(t));n.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){!function V_e(n,t,e){const i=Ct(n);var r;(r=(0,Ke.Z)(function*(o,c,u){try{const f=yield c.getMetadata();if(yield function(F,B){const j=Ct(F),oe=qr(B.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",ee=>j.Kr.getBundleMetadata(ee,B.id)).then(ee=>!!ee&&ee.createTime.compareTo(oe)>=0)}(o.localStore,f))return yield c.close(),u._completeWith({taskState:"Success",documentsLoaded:(F=f).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);u._updateProgress(A$(f));const _=new __e(f,o.localStore,c.serializer);let x=yield c.Ma();for(;x;){const R=yield _.ea(x);R&&u._updateProgress(R),x=yield c.Ma()}const T=yield _.complete();return yield ed(o,T.ra,void 0),yield function(F,B){const j=Ct(F);return j.persistence.runTransaction("Save bundle","readwrite",oe=>j.Kr.saveBundleMetadata(oe,B))}(o.localStore,f),u._completeWith(T.progress),Promise.resolve(T.na)}catch(f){return Qo("SyncEngine",`Loading bundle failed with ${f}`),u._failWith(f),Promise.resolve(new Set)}var F}),function s(o,c,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield rP(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function uve(n,t){return function Z_e(n,t){return n.asyncQueue.enqueue((0,Ke.Z)(function*(){return function(i,r){const s=Ct(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,r))}(yield sm(n),t)}))}(Lr(n=Jn(n,rr)),t).then(e=>e?new Ws(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Po(this,e):null)}}class wD extends gP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Db(new lc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ga.forKey(e,this.firestore,null)}}class A8{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new wD(t)}get(t){const e=Qh(t);return this._delegate.get(e).then(i=>new Tb(this._firestore,new nd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Qh(t);return i?(vP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Qh(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Qh(t);return this._delegate.delete(e),this}}class k8{constructor(t){this._delegate=t}set(t,e,i){const r=Qh(t);return i?(vP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Qh(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Qh(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Kh{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Eb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ib(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Kh.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new Kh(t,new wD(t),e),r.set(e,s)),s}}Kh.INSTANCES=new WeakMap;class Ga{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new st("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ga(e,new hr(e._delegate,i,new Tt(t)))}static forKey(t,e,i){return new Ga(e,new hr(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new cm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new cm(this.firestore,e8(this._delegate,t))}catch(e){throw Oo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,te.m9)(t))instanceof hr&&t8(this._delegate,t)}set(t,e){e=vP("DocumentReference.set",e);try{return e?y8(this._delegate,t,e):y8(this._delegate,t)}catch(i){throw Oo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?b8(this._delegate,t):b8(this._delegate,t,e,...i)}catch(r){throw Oo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Vve(n){return lm(Jn(n.firestore,rr),[new Ug(n._key,_r.none())])}(this._delegate)}onSnapshot(...t){const e=M8(t),i=R8(t,r=>new Tb(this.firestore,new nd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return x8(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function Ove(n){n=Jn(n,hr);const t=Jn(n.firestore,rr),e=Lr(t),i=new xu(t);return function $_e(n,t){const e=new gs;return n.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return(i=(0,Ke.Z)(function*(s,o,c){try{const u=yield function(_,x){const T=Ct(_);return T.persistence.runTransaction("read document","readonly",R=>T.localDocuments.getDocument(R,x))}(s,o);u.isFoundDocument()?c.resolve(u):u.isNoDocument()?c.resolve(null):c.reject(new st(Ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const f=em(u,`Failed to get document '${o} from cache`);c.reject(f)}}),function r(s,o,c){return i.apply(this,arguments)})(yield sm(n),t,e);var i})),e.promise}(e,n._key).then(r=>new nd(t,i,n._key,r,new Zh(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function Pve(n){n=Jn(n,hr);const t=Jn(n.firestore,rr);return W$(Lr(t),n._key,{source:"server"}).then(e=>mP(t,n,e))}(this._delegate):function Rve(n){n=Jn(n,hr);const t=Jn(n.firestore,rr);return W$(Lr(t),n._key).then(e=>mP(t,n,e))}(this._delegate),e.then(i=>new Tb(this.firestore,new nd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ga(this.firestore,this._delegate.withConverter(t?Kh.getInstance(this.firestore,t):null))}}function Oo(n,t,e){return n.message=n.message.replace(t,e),n}function M8(n){for(const t of n)if("object"==typeof t&&!yP(t))return t;return{}}function R8(n,t){var e,i;let r;return r=yP(n[0])?n[0]:yP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Tb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return v8(this._delegate,t._delegate)}}class Ib extends Tb{data(t){const e=this._delegate.data(t);return function Zpe(n,t){n||Lt()}(void 0!==e),e}}class Po{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wD(t)}where(t,e,i){try{return new Po(this.firestore,yu(this._delegate,function xve(n,t,e){const i=t,r=mD("where",n);return Cb._create(r,i,e)}(t,e,i)))}catch(r){throw Oo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Po(this.firestore,yu(this._delegate,function wve(n,t="asc"){const e=t,i=mD("orderBy",n);return pP._create(i,e)}(t,e)))}catch(i){throw Oo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Po(this.firestore,yu(this._delegate,function Cve(n){return K$("limit",n),_D._create("limit",n,"F")}(t)))}catch(e){throw Oo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Po(this.firestore,yu(this._delegate,function Eve(n){return K$("limitToLast",n),_D._create("limitToLast",n,"L")}(t)))}catch(e){throw Oo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Po(this.firestore,yu(this._delegate,function Dve(...n){return vD._create("startAt",n,!0)}(...t)))}catch(e){throw Oo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Po(this.firestore,yu(this._delegate,function Tve(...n){return vD._create("startAfter",n,!1)}(...t)))}catch(e){throw Oo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Po(this.firestore,yu(this._delegate,function Ive(...n){return yD._create("endBefore",n,!1)}(...t)))}catch(e){throw Oo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Po(this.firestore,yu(this._delegate,function Sve(...n){return yD._create("endAt",n,!0)}(...t)))}catch(e){throw Oo(e,"endAt()","Query.endAt()")}}isEqual(t){return aP(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function Lve(n){n=Jn(n,Ws);const t=Jn(n.firestore,rr),e=Lr(t),i=new xu(t);return function Y_e(n,t){const e=new gs;return n.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return(i=(0,Ke.Z)(function*(s,o,c){try{const u=yield JE(s,o,!0),f=new R$(o,u.ls),_=f.ca(u.documents),x=f.applyChanges(_,!1);c.resolve(x.snapshot)}catch(u){const f=em(u,`Failed to execute query '${o} against cache`);c.reject(f)}}),function r(s,o,c){return i.apply(this,arguments)})(yield sm(n),t,e);var i})),e.promise}(e,n._query).then(r=>new bu(t,i,n,r))}(this._delegate):"server"===t?.source?function Fve(n){n=Jn(n,Ws);const t=Jn(n.firestore,rr),e=Lr(t),i=new xu(t);return G$(e,n._query,{source:"server"}).then(r=>new bu(t,i,n,r))}(this._delegate):function Nve(n){n=Jn(n,Ws);const t=Jn(n.firestore,rr),e=Lr(t),i=new xu(t);return h8(n._query),G$(e,n._query).then(r=>new bu(t,i,n,r))}(this._delegate),e.then(i=>new bP(this.firestore,new bu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=M8(t),i=R8(t,r=>new bP(this.firestore,new bu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return x8(this._delegate,e,i)}withConverter(t){return new Po(this.firestore,this._delegate.withConverter(t?Kh.getInstance(this.firestore,t):null))}}class cye{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Ib(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Ib(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new cye(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Ib(this._firestore,i))})}isEqual(t){return v8(this._delegate,t._delegate)}}class cm extends Po{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ga(this.firestore,t):null}doc(t){try{return new Ga(this.firestore,void 0===t?dD(this._delegate):dD(this._delegate,t))}catch(e){throw Oo(e,"doc()","CollectionReference.doc()")}}add(t){return function Bve(n,t){const e=Jn(n.firestore,rr),i=dD(n),r=bD(n.converter,t);return lm(e,[fD(qh(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,_r.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ga(this.firestore,e))}isEqual(t){return t8(this._delegate,t._delegate)}withConverter(t){return new cm(this.firestore,this._delegate.withConverter(t?Kh.getInstance(this.firestore,t):null))}}function Qh(n){return Jn(n,hr)}class xP{constructor(...t){this._delegate=new td(...t)}static documentId(){return new xP(dr.keyField().canonicalString())}isEqual(t){return(t=(0,te.m9)(t))instanceof td&&this._delegate._internalPath.isEqual(t._internalPath)}}class Jh{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Jve(){return new cP("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Jh(t)}static delete(){const t=function Qve(){return new yb("deleteField")}();return t._methodName="FieldValue.delete",new Jh(t)}static arrayUnion(...t){const e=function eye(...n){return new mve("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Jh(e)}static arrayRemove(...t){const e=function tye(...n){return new _ve("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Jh(e)}static increment(t){const e=function nye(n){return new vve("increment",n)}(t);return e._methodName="FieldValue.increment",new Jh(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const dye={Firestore:S8,GeoPoint:uD,Timestamp:mr,Blob:Db,Transaction:A8,WriteBatch:k8,DocumentReference:Ga,DocumentSnapshot:Tb,Query:Po,QueryDocumentSnapshot:Ib,QuerySnapshot:bP,CollectionReference:cm,FieldPath:xP,FieldValue:Jh,setLogLevel:function lye(n){!function Xpe(n){iu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function O8(n,t){return function fye(n,t=Ud){return new zt(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function wP(n,t){return O8(n,t).pipe(Ye(e=>({payload:e,type:"query"})))}!function hye(n){(function uye(n,t){n.INTERNAL.registerComponent(new pl.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},dye)))})(n,(t,e)=>new S8(t,e,new aye)),n.registerVersion("@firebase/firestore-compat","0.3.21")}(fa.Z);class P8{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=z8(i,e);return new F8(r,s,this.afs)}snapshotChanges(){return function pye(n,t){return O8(n,t).pipe(yl(void 0),bg(),Ye(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($r)}valueChanges(t={}){return this.snapshotChanges().pipe(Ye(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return Y(this.ref.get(t)).pipe($r)}}function CD(n,t){return wP(n,t).pipe(yl(void 0),bg(),Ye(e=>{const[i,r]=e,s=r.payload.docChanges(),o=s.map(c=>({type:c.type,payload:c}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,u)=>{const f=s.find(x=>x.doc.ref.isEqual(c.ref)),_=i?.payload.docs.find(x=>x.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:c}})}),o}))}function N8(n,t,e){return CD(n,e).pipe(og((i,r)=>function gye(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function mye(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return CP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return CP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return CP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),tn(),Ye(i=>i.map(r=>({type:r.type,payload:r}))))}function CP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function L8(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class F8{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=CD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Ye(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(yl(void 0),bg(),Qn(([i,r])=>r.length>0||!i),Ye(([,i])=>i),$r)}auditTrail(t){return this.stateChanges(t).pipe(og((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=L8(t);return N8(this.query,e,this.afs.schedulers.outsideAngular).pipe($r)}valueChanges(t={}){return wP(this.query,this.afs.schedulers.outsideAngular).pipe(Ye(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),$r)}get(t){return Y(this.query.get(t)).pipe($r)}add(t){return this.ref.add(t)}doc(t){return new P8(this.ref.doc(t),this.afs)}}class _ye{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?CD(this.query,this.afs.schedulers.outsideAngular).pipe(Ye(e=>e.filter(i=>t.indexOf(i.type)>-1)),Qn(e=>e.length>0),$r):CD(this.query,this.afs.schedulers.outsideAngular).pipe($r)}auditTrail(t){return this.stateChanges(t).pipe(og((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=L8(t);return N8(this.query,e,this.afs.schedulers.outsideAngular).pipe($r)}valueChanges(t={}){return wP(this.query,this.afs.schedulers.outsideAngular).pipe(Ye(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),$r)}get(t){return Y(this.query.get(t)).pipe($r)}}const V8=new je("angularfire2.enableFirestorePersistence"),B8=new je("angularfire2.firestore.persistenceSettings"),vye=new je("angularfire2.firestore.settings"),yye=new je("angularfire2.firestore.use-emulator");function z8(n,t=(e=>e)){return{query:t(n),ref:n}}let bye=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,s,o,c,u,f,_,x,T,R,F,B,j,oe,ee){this.schedulers=u;const le=zv(e,c,i),me=_;x&&lk(le,c,T,F,B,j,R,oe),[this.firestore,this.persistenceEnabled$]=pC(`${le.name}.firestore`,"AngularFirestore",le.name,()=>{const Se=c.runOutsideAngular(()=>le.firestore());if(s&&Se.settings(s),me&&Se.useEmulator(...me),r&&!sC(o)){const Xe=()=>{try{return Y(Se.enablePersistence(f||void 0).then(()=>!0,()=>!1))}catch(pt){return typeof console<"u"&&console.warn(pt),he(!1)}};return[Se,c.runOutsideAngular(Xe)]}return[Se,he(!1)]},[s,me,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:o}=z8(r,i),c=this.schedulers.ngZone.run(()=>s);return new F8(c,o,this)}collectionGroup(e,i){const r=i||(o=>o),s=this.firestore.collectionGroup(e);return new _ye(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new P8(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(fe(rg),fe(sg,8),fe(V8,8),fe(vye,8),fe(wo),fe(ht),fe(fC),fe(B8,8),fe(yye,8),fe(Wc,8),fe(nk,8),fe(ik,8),fe(rk,8),fe(sk,8),fe(ok,8),fe(ak,8),fe(hC,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),xye=(()=>{class n{constructor(){fa.Z.registerVersion("angularfire",tg.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:V8,useValue:!0},{provide:B8,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rt({type:n});static \u0275inj=ke({providers:[bye]})}return n})();function H8(n,t=Ud){return Ue((e,i)=>{let r=null,s=null,o=null;const c=()=>{if(r){r.unsubscribe(),r=null;const f=s;s=null,i.next(f)}};function u(){const f=o+n,_=t.now();if(_<f)return r=this.schedule(void 0,f-_),void i.add(r);c()}e.subscribe(ct(i,f=>{s=f,o=t.now(),r||(r=t.schedule(u,n),i.add(r))},()=>{c(),i.complete()},void 0,()=>{s=r=null}))})}const U8="firebasestorage.googleapis.com",j8="storageBucket";class Sr extends te.ZR{constructor(t,e,i=0){super(EP(t),`Firebase Storage: ${e} (${EP(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return EP(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var vr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(vr||{});function EP(n){return"storage/"+n}function DP(){return new Sr(vr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function W8(){return new Sr(vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function G8(){return new Sr(vr.CANCELED,"User canceled the upload/download.")}function $8(){return new Sr(vr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dm(n){return new Sr(vr.INVALID_ARGUMENT,n)}function Y8(){return new Sr(vr.APP_DELETED,"The Firebase app was deleted.")}function q8(n){return new Sr(vr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sb(n,t){return new Sr(vr.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Ab(n){throw new Sr(vr.INTERNAL_ERROR,"Internal error: "+n)}class ao{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=ao.makeFromUrl(t,e)}catch{return new ao(t,"")}if(""===i.path)return i;throw function Mye(n){return new Sr(vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+r+"(/(.*))?$","i");function f(me){me.path_=decodeURIComponent(me.path)}const x=e.replace(/[.]/g,"\\."),le=[{regex:c,indices:{bucket:1,path:3},postModify:function s(me){"/"===me.path.charAt(me.path.length-1)&&(me.path_=me.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:f},{regex:new RegExp(`^https?://${e===U8?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:f}];for(let me=0;me<le.length;me++){const Se=le[me],Xe=Se.regex.exec(t);if(Xe){let ft=Xe[Se.indices.path];ft||(ft=""),i=new ao(Xe[Se.indices.bucket],ft),Se.postModify(i);break}}if(null==i)throw function kye(n){return new Sr(vr.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class Lye{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function ED(n){return"string"==typeof n||n instanceof String}function X8(n){return TP()&&n instanceof Blob}function TP(){return typeof Blob<"u"&&!(0,te.UG)()}function IP(n,t,e,i){if(i<t)throw dm(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw dm(`Invalid value for '${n}'. Expected ${e} or less.`)}function id(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function Z8(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var um=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(um||{});function K8(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class Uye{constructor(t,e,i,r,s,o,c,u,f,_,x,T=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=_,this.connectionFactory_=x,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,F)=>{this.resolve_=R,this.reject_=F,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());!function Bye(n){return void 0!==n}(u)?s():s(u)}catch(u){o(u)}else if(null!==c){const u=DP();u.serverResponse=c.getErrorText(),o(this.errorCallback_?this.errorCallback_(c,u):u)}else o(r.canceled?this.appDelete_?Y8():G8():W8())};this.canceled_?e(0,new DD(!1,null,!0)):this.backoffId_=function Fye(n,t,e){let i=1,r=null,s=null,o=!1,c=0;function u(){return 2===c}let f=!1;function _(...j){f||(f=!0,t.apply(null,j))}function x(j){r=setTimeout(()=>{r=null,n(R,u())},j)}function T(){s&&clearTimeout(s)}function R(j,...oe){if(f)return void T();if(j)return T(),void _.call(null,j,...oe);if(u()||o)return T(),void _.call(null,j,...oe);let le;i<64&&(i*=2),1===c?(c=2,le=0):le=1e3*(i+Math.random()),x(le)}let F=!1;function B(j){F||(F=!0,T(),!f&&(null!==r?(j||(c=2),clearTimeout(r),x(0)):j||(c=1)))}return x(0),s=setTimeout(()=>{o=!0,B(!0)},e),B}((i,r)=>{if(r)return void i(!1,new DD(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===um.NO_ERROR,u=s.getStatus();if(!c||K8(u,this.additionalRetryCodes_)&&this.retry){const _=s.getErrorCode()===um.ABORT;return void i(!1,new DD(!1,null,_))}const f=-1!==this.successCodes_.indexOf(u);i(!0,new DD(f,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Vye(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class DD{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Xye(...n){const t=function qye(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(TP())return new Blob(n);throw new Sr(vr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ba={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class SP{constructor(t,e){this.data=t,this.contentType=e||null}}function AP(n,t){switch(n){case ba.RAW:return new SP(Q8(t));case ba.BASE64:case ba.BASE64URL:return new SP(J8(n,t));case ba.DATA_URL:return new SP(function Jye(n){const t=new eY(n);return t.base64?J8(ba.BASE64,t.rest):function Qye(n){let t;try{t=decodeURIComponent(n)}catch{throw Sb(ba.DATA_URL,"Malformed data URL.")}return Q8(t)}(t.rest)}(t),function ebe(n){return new eY(n).contentType}(t))}throw DP()}function Q8(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function J8(n,t){switch(n){case ba.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw Sb(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ba.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw Sb(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Kye(n){if(typeof atob>"u")throw function Nye(n){return new Sr(vr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:Sb(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class eY{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Sb(ba.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function tbe(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class cc{constructor(t,e){let i=0,r="";X8(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(X8(this.data_)){const r=function Zye(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new cc(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new cc(i,!0)}}static getBlob(...t){if(TP()){const e=t.map(i=>i instanceof cc?i.data_:i);return new cc(Xye.apply(null,e))}{const e=t.map(o=>ED(o)?AP(ba.RAW,o).data:o.data_);let i=0;e.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(o=>{for(let c=0;c<o.length;c++)r[s++]=o[c]}),new cc(r,!0)}}uploadData(){return this.data_}}function kP(n){let t;try{t=JSON.parse(n)}catch{return null}return function Hye(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function tY(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function rbe(n,t){return t}class No{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||rbe}}let TD=null;function kb(){if(TD)return TD;const n=[];n.push(new No("bucket")),n.push(new No("generation")),n.push(new No("metageneration")),n.push(new No("name","fullPath",!0));const e=new No("name");e.xform=function t(s,o){return function sbe(n){return!ED(n)||n.length<2?n:tY(n)}(o)},n.push(e);const r=new No("size");return r.xform=function i(s,o){return void 0!==o?Number(o):o},n.push(r),n.push(new No("timeCreated")),n.push(new No("updated")),n.push(new No("md5Hash",null,!0)),n.push(new No("cacheControl",null,!0)),n.push(new No("contentDisposition",null,!0)),n.push(new No("contentEncoding",null,!0)),n.push(new No("contentLanguage",null,!0)),n.push(new No("contentType",null,!0)),n.push(new No("metadata","customMetadata",!0)),TD=n,TD}function nY(n,t,e){const i=kP(t);return null===i?null:function abe(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const o=e[s];i[o.local]=o.xform(i,t[o.server])}return function obe(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new ao(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function MP(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const iY="prefixes",rY="items";class dc{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function uc(n){if(!n)throw DP()}function ID(n,t){return function e(i,r){const s=nY(n,r,t);return uc(null!==s),s}}function hm(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Sye(){return new Sr(vr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Iye(){return new Sr(vr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Tye(n){return new Sr(vr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function Aye(n){return new Sr(vr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function Mb(n){const t=hm(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function Dye(n){return new Sr(vr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function sY(n,t,e){const r=id(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new dc(r,"GET",ID(n,e),o);return c.errorHandler=Mb(t),c}function fbe(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const c=id(t.bucketOnlyServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,_=new dc(c,"GET",function ube(n,t){return function e(i,r){const s=function dbe(n,t,e){const i=kP(e);return null===i?null:function cbe(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[iY])for(const r of e[iY]){const s=r.replace(/\/$/,""),o=n._makeStorageReference(new ao(t,s));i.prefixes.push(o)}if(e[rY])for(const r of e[rY]){const s=n._makeStorageReference(new ao(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return uc(null!==s),s}}(n,t.bucket),f);return _.urlParams=s,_.errorHandler=hm(t),_}function aY(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function _be(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class SD{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function RP(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{uc(!1)}return uc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const xbe={STATE_CHANGED:"state_changed"},Lo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function OP(n){switch(n){case"running":case"pausing":case"canceling":return Lo.RUNNING;case"paused":return Lo.PAUSED;case"success":return Lo.SUCCESS;case"canceled":return Lo.CANCELED;default:return Lo.ERROR}}class wbe{constructor(t,e,i){if(function zye(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function fm(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let dY=null;class Cbe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=um.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=um.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=um.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Ab("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ab("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ab("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ab("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ab("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class Ebe extends Cbe{initXhr(){this.xhr_.responseType="text"}}function Cl(){return dY?dY():new Ebe}class uY{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=kb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(vr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(K8(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=W8()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(vr.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function vbe(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o=aY(t,i,r),c={name:o.fullPath},u=id(s,n.host,n._protocol),_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},x=MP(o,e),F=new dc(u,"POST",function R(B){let j;RP(B);try{j=B.getResponseHeader("X-Goog-Upload-URL")}catch{uc(!1)}return uc(ED(j)),j},n.maxUploadRetryTime);return F.urlParams=c,F.headers=_,F.body=x,F.errorHandler=hm(t),F}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Cl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function ybe(n,t,e,i){const u=new dc(e,"POST",function s(f){const _=RP(f,["active","final"]);let x=null;try{x=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{uc(!1)}x||uc(!1);const T=Number(x);return uc(!isNaN(T)),new SD(T,i.size(),"final"===_)},n.maxUploadRetryTime);return u.headers={"X-Goog-Upload-Command":"query"},u.errorHandler=hm(t),u}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Cl,e,i);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new SD(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=function bbe(n,t,e,i,r,s,o,c){const u=new SD(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=i.size()),i.size()!==u.total)throw function Oye(){return new Sr(vr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const f=u.total-u.current;let _=f;r>0&&(_=Math.min(_,r));const x=u.current;let R="";R=0===_?"finalize":f===_?"upload, finalize":"upload";const F={"X-Goog-Upload-Command":R,"X-Goog-Upload-Offset":`${u.current}`},B=i.slice(x,x+_);if(null===B)throw $8();const le=new dc(e,"POST",function j(me,Se){const Xe=RP(me,["active","final"]),pt=u.current+_,ft=i.size();let It;return It="final"===Xe?ID(t,s)(me,Se):null,new SD(pt,ft,"final"===Xe,It)},t.maxUploadRetryTime);return le.headers=F,le.body=B.uploadData(),le.progressCallback=c||null,le.errorHandler=hm(n),le}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(u){return this._error=u,void this._transition("error")}const c=this._ref.storage._makeRequest(o,Cl,r,s,!1);this._request=c,c.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=sY(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Cl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function lY(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},u=function c(){let le="";for(let me=0;me<2;me++)le+=Math.random().toString().slice(2);return le}();o["Content-Type"]="multipart/related; boundary="+u;const f=aY(t,i,r),_=MP(f,e),R=cc.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_+"\r\n--"+u+"\r\nContent-Type: "+f.contentType+"\r\n\r\n",i,"\r\n--"+u+"--");if(null===R)throw $8();const F={name:f.fullPath},B=id(s,n.host,n._protocol),oe=n.maxUploadRetryTime,ee=new dc(B,"POST",ID(n,e),oe);return ee.urlParams=F,ee.headers=o,ee.body=R.uploadData(),ee.errorHandler=hm(t),ee}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Cl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=G8(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=OP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new wbe(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(OP(this._state)){case Lo.SUCCESS:fm(this._resolve.bind(null,this.snapshot))();break;case Lo.CANCELED:case Lo.ERROR:fm(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(OP(this._state)){case Lo.RUNNING:case Lo.PAUSED:t.next&&fm(t.next.bind(t,this.snapshot))();break;case Lo.SUCCESS:t.complete&&fm(t.complete.bind(t))();break;default:t.error&&fm(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class ef{constructor(t,e){this._service=t,this._location=e instanceof ao?e:ao.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new ef(t,e)}get root(){const t=new ao(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tY(this._location.path)}get storage(){return this._service}get parent(){const t=function nbe(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new ao(this._location.bucket,t);return new ef(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw q8(t)}}function fY(n,t,e){return PP.apply(this,arguments)}function PP(){return PP=(0,Ke.Z)(function*(n,t,e){const r=yield pY(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield fY(n,t,r.nextPageToken))}),PP.apply(this,arguments)}function pY(n,t){null!=t&&"number"==typeof t.maxResults&&IP("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=fbe(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Cl)}function Lbe(n){n._throwIfRoot("getDownloadURL");const t=function pbe(n,t,e){const r=id(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new dc(r,"GET",function hbe(n,t){return function e(i,r){const s=nY(n,r,t);return uc(null!==s),function lbe(n,t,e,i){const r=kP(t);if(null===r||!ED(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(f=>{const x=n.fullPath;return id("/b/"+o(n.bucket)+"/o/"+o(x),e,i)+Z8({alt:"media",token:f})})[0]}(s,r,n.host,n._protocol)}}(n,e),o);return c.errorHandler=Mb(t),c}(n.storage,n._location,kb());return n.storage.makeRequestWithTokens(t,Cl).then(e=>{if(null===e)throw function Pye(){return new Sr(vr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function gY(n,t){const e=function ibe(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new ao(n._location.bucket,e);return new ef(n.storage,i)}function mY(n,t){if(n instanceof NP){const e=n;if(null==e._bucket)throw function Rye(){return new Sr(vr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+j8+"' property when initializing the app?")}();const i=new ef(e,e._bucket);return null!=t?mY(i,t):i}return void 0!==t?gY(n,t):n}function zbe(n,t){if(t&&function Vbe(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof NP)return function Bbe(n,t){return new ef(n,t)}(n,t);throw dm("To use ref(service, url), the first argument must be a Storage instance.")}return mY(n,t)}function _Y(n,t){const e=t?.[j8];return null==e?null:ao.makeFromBucketSpec(e,n)}class NP{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=U8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ao.makeFromBucketSpec(r,this._host):_Y(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?ao.makeFromBucketSpec(this._url,t):_Y(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){IP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){IP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Ke.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Ke.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ef(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new Lye(Y8());{const o=function Yye(n,t,e,i,r,s,o=!0){const c=Z8(n.urlParams),u=n.url+c,f=Object.assign({},n.headers);return function Gye(n,t){t&&(n["X-Firebase-GMPID"]=t)}(f,t),function jye(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(f,e),function Wye(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(f,s),function $ye(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(f,i),new Uye(u,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,Ke.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const vY="@firebase/storage";function xY(n,t){return zbe(n=(0,te.m9)(n),t)}function Zbe(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new NP(e,i,r,t,Xo.SDK_VERSION)}!function Kbe(){(0,Xo._registerComponent)(new pl.wA("storage",Zbe,"PUBLIC").setMultipleInstances(!0)),(0,Xo.registerVersion)(vY,"0.11.2",""),(0,Xo.registerVersion)(vY,"0.11.2","esm2017")}();class AD{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class CY{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new AD(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new AD(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?o=>e(new AD(o,this,this._ref)):{next:e.next?o=>e.next(new AD(o,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class EY{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new rd(t,this._service))}get items(){return this._delegate.items.map(t=>new rd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class rd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Xbe(n,t){return gY(n,t)}(this._delegate,t);return new rd(e,this.storage)}get root(){return new rd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new rd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new CY(function Ube(n,t,e){return function Mbe(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new uY(n,new cc(t),e)}(n=(0,te.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ba.RAW,i){this._throwIfRoot("putString");const r=AP(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new CY(new uY(this._delegate,new cc(r.data,!0),s),this)}listAll(){return function $be(n){return function Obe(n){const t={prefixes:[],items:[]};return fY(n,t).then(()=>t)}(n=(0,te.m9)(n))}(this._delegate).then(t=>new EY(t,this.storage))}list(t){return function Gbe(n,t){return pY(n=(0,te.m9)(n),t)}(this._delegate,t||void 0).then(e=>new EY(e,this.storage))}getMetadata(){return function jbe(n){return function Pbe(n){n._throwIfRoot("getMetadata");const t=sY(n.storage,n._location,kb());return n.storage.makeRequestWithTokens(t,Cl)}(n=(0,te.m9)(n))}(this._delegate)}updateMetadata(t){return function Wbe(n,t){return function Nbe(n,t){n._throwIfRoot("updateMetadata");const e=function gbe(n,t,e,i){const s=id(t.fullServerUrl(),n.host,n._protocol),c=MP(e,i),f=n.maxOperationRetryTime,_=new dc(s,"PATCH",ID(n,i),f);return _.headers={"Content-Type":"application/json; charset=utf-8"},_.body=c,_.errorHandler=Mb(t),_}(n.storage,n._location,t,kb());return n.storage.makeRequestWithTokens(e,Cl)}(n=(0,te.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function Ybe(n){return Lbe(n=(0,te.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function qbe(n){return function Fbe(n){n._throwIfRoot("deleteObject");const t=function mbe(n,t){const i=id(t.fullServerUrl(),n.host,n._protocol),c=new dc(i,"DELETE",function o(u,f){},n.maxOperationRetryTime);return c.successCodes=[200,204],c.errorHandler=Mb(t),c}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Cl)}(n=(0,te.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw q8(t)}}class DY{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(TY(t))throw dm("ref() expected a child path but got a URL, use refFromURL instead.");return new rd(xY(this._delegate,t),this)}refFromURL(t){if(!TY(t))throw dm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ao.makeFromUrl(t,this._delegate.host)}catch{throw dm("refFromUrl() expected a valid full URL but got an invalid one.")}return new rd(xY(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function wY(n,t,e,i={}){!function Hbe(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,te.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function TY(n){return/^[A-Za-z]+:\/\//.test(n)}function t0e(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new DY(e,i)}function IY(n){const t=function i0e(n){return new zt(t=>{const e=o=>t.next(o);e(n.snapshot);const s=n.on("state_changed",e);return n.then(o=>{e(o),t.complete()},o=>{e(n.snapshot),(o=>{t.error(o)})(o)}),function(){s()}}).pipe(H8(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(Ye(e=>e.bytesTransferred/e.totalBytes*100))}}function kD(n){return{getDownloadURL:()=>he(void 0).pipe(_j,vt(()=>n.getDownloadURL()),$r),getMetadata:()=>he(void 0).pipe(_j,vt(()=>n.getMetadata()),$r),delete:()=>Y(n.delete()),child:t=>kD(n.child(t)),updateMetadata:t=>Y(n.updateMetadata(t)),put:(t,e)=>IY(n.put(t,e)),putString:(t,e,i)=>IY(n.putString(t,e,i)),list:t=>Y(n.list(t)),listAll:()=>Y(n.listAll())}}!function n0e(n){const t={TaskState:Lo,TaskEvent:xbe,StringFormat:ba,Storage:DY,Reference:rd};n.INTERNAL.registerComponent(new pl.wA("storage-compat",t0e,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(fa.Z);const r0e=new je("angularfire2.storageBucket"),s0e=new je("angularfire2.storage.maxUploadRetryTime"),o0e=new je("angularfire2.storage.maxOperationRetryTime"),a0e=new je("angularfire2.storage.use-emulator");let l0e=(()=>{class n{storage;constructor(e,i,r,s,o,c,u,f,_,x){const T=zv(e,o,i);this.storage=pC(`${T.name}.storage.${r}`,"AngularFireStorage",T.name,()=>{const R=o.runOutsideAngular(()=>T.storage(r||void 0)),F=_;return F&&R.useEmulator(...F),u&&R.setMaxUploadRetryTime(u),f&&R.setMaxOperationRetryTime(f),R},[u,f])}ref(e){return kD(this.storage.ref(e))}refFromURL(e){return kD(this.storage.refFromURL(e))}upload(e,i,r){return kD(this.storage.ref(e)).put(i,r)}static \u0275fac=function(i){return new(i||n)(fe(rg),fe(sg,8),fe(r0e,8),fe(wo),fe(ht),fe(fC),fe(s0e,8),fe(o0e,8),fe(a0e,8),fe(hC,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),c0e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rt({type:n});static \u0275inj=ke({})}return n})(),d0e=(()=>{class n{constructor(){fa.Z.registerVersion("angularfire",tg.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rt({type:n});static \u0275inj=ke({providers:[l0e],imports:[c0e]})}return n})();const SY_firebase={apiKey:"AIzaSyDZMfeKR9MBcMxMHIf9uJ79ypwh1PdLqnc",authDomain:"petguardian-mobile.firebaseapp.com",projectId:"petguardian-mobile",storageBucket:"petguardian-mobile.appspot.com",messagingSenderId:"804674385941",appId:"1:804674385941:web:09008f5ce221d66a34761c",measurementId:"G-GL45SM7ZE6"};let LP,u0e=1;const MD={};function AY(n){return n in MD&&(delete MD[n],!0)}const h0e={setImmediate(n){const t=u0e++;return MD[t]=!0,LP||(LP=Promise.resolve()),LP.then(()=>AY(t)&&n()),t},clearImmediate(n){AY(n)}},{setImmediate:f0e,clearImmediate:p0e}=h0e,RD={setImmediate(...n){const{delegate:t}=RD;return(t?.setImmediate||f0e)(...n)},clearImmediate(n){const{delegate:t}=RD;return(t?.clearImmediate||p0e)(n)},delegate:void 0},kY=new class m0e extends uC{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class g0e extends dC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=RD.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(RD.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var MY=$t(54);const _0e=["chart"];let RY=(()=>{class n{constructor(e){this.ngZone=e,this.autoUpdateSeries=!0}ngOnChanges(e){kY.schedule(()=>{this.autoUpdateSeries&&0===Object.keys(e).filter(i=>"series"!==i).length?this.updateSeries(this.series,!0):this.createElement()})}ngOnDestroy(){this.chartObj&&this.chartObj.destroy()}createElement(){const e={};this.annotations&&(e.annotations=this.annotations),this.chart&&(e.chart=this.chart),this.colors&&(e.colors=this.colors),this.dataLabels&&(e.dataLabels=this.dataLabels),this.series&&(e.series=this.series),this.stroke&&(e.stroke=this.stroke),this.labels&&(e.labels=this.labels),this.legend&&(e.legend=this.legend),this.fill&&(e.fill=this.fill),this.tooltip&&(e.tooltip=this.tooltip),this.plotOptions&&(e.plotOptions=this.plotOptions),this.responsive&&(e.responsive=this.responsive),this.markers&&(e.markers=this.markers),this.noData&&(e.noData=this.noData),this.xaxis&&(e.xaxis=this.xaxis),this.yaxis&&(e.yaxis=this.yaxis),this.forecastDataPoints&&(e.forecastDataPoints=this.forecastDataPoints),this.grid&&(e.grid=this.grid),this.states&&(e.states=this.states),this.title&&(e.title=this.title),this.subtitle&&(e.subtitle=this.subtitle),this.theme&&(e.theme=this.theme),this.chartObj&&this.chartObj.destroy(),this.ngZone.runOutsideAngular(()=>{this.chartObj=new MY(this.chartElement.nativeElement,e)}),this.render()}render(){return this.ngZone.runOutsideAngular(()=>this.chartObj.render())}updateOptions(e,i,r,s){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateOptions(e,i,r,s))}updateSeries(e,i){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateSeries(e,i))}appendSeries(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.appendSeries(e,i))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartObj.appendData(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartObj.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartObj.resetSeries())}zoomX(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.zoomX(e,i))}toggleDataPointSelection(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.toggleDataPointSelection(e,i))}destroy(){this.chartObj.destroy()}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartObj.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartObj.paper())}addXaxisAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addXaxisAnnotation(e,i,r))}addYaxisAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addYaxisAnnotation(e,i,r))}addPointAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addPointAnnotation(e,i,r))}removeAnnotation(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.removeAnnotation(e,i))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartObj.clearAnnotations(e))}dataURI(e){return this.chartObj.dataURI(e)}}return n.\u0275fac=function(e){return new(e||n)(W(ht))},n.\u0275cmp=Bt({type:n,selectors:[["apx-chart"]],viewQuery:function(e,i){if(1&e&&Ji(_0e,7),2&e){let r;Jt(r=en())&&(i.chartElement=r.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",forecastDataPoints:"forecastDataPoints",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},features:[Ln],decls:2,vars:0,consts:[["chart",""]],template:function(e,i){1&e&&it(0,"div",null,0)},encapsulation:2,changeDetection:0}),n})();window.ApexCharts=MY;let v0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=ke({}),n})();const{isArray:b0e}=Array,{getPrototypeOf:x0e,prototype:w0e,keys:C0e}=Object;function OY(n){if(1===n.length){const t=n[0];if(b0e(t))return{args:t,keys:null};if(function E0e(n){return n&&"object"==typeof n&&x0e(n)===w0e}(t)){const e=C0e(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:D0e}=Array;function FP(n){return Ye(t=>function T0e(n,t){return D0e(t)?n(...t):n(t)}(n,t))}function PY(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function $a(...n){const t=fo(n),e=bs(n),{args:i,keys:r}=OY(n);if(0===i.length)return Y([],t);const s=new zt(function I0e(n,t,e=fn){return i=>{NY(t,()=>{const{length:r}=n,s=new Array(r);let o=r,c=r;for(let u=0;u<r;u++)NY(t,()=>{const f=Y(n[u],t);let _=!1;f.subscribe(ct(i,x=>{s[u]=x,_||(_=!0,c--),c||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>PY(r,o):fn));return e?s.pipe(FP(e)):s}function NY(n,t,e){n?Mr(e,n,t):t()}function LY(n){return new zt(t=>{rt(n()).subscribe(t)})}function Rb(n,t){const e=re(n)?n:()=>n,i=r=>r.error(e());return new zt(t?r=>t.schedule(i,0,r):i)}function VP(){return Ue((n,t)=>{let e=null;n._refCount++;const i=ct(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class FY extends zt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,et(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ge;const e=this.getSubject();t.add(this.source.subscribe(ct(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ge.EMPTY)}return t}refCount(){return VP()(this)}}function pm(n,t){return re(t)?In(n,t,1):In(n,1)}function Cu(n){return Ue((t,e)=>{let s,i=null,r=!1;i=t.subscribe(ct(e,void 0,void 0,o=>{s=rt(n(o,Cu(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function OD(n){return n<=0?()=>ti:Ue((t,e)=>{let i=[];t.subscribe(ct(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Ob(n){return Ue((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function sn(n){return Ue((t,e)=>{rt(n).subscribe(ct(e,()=>e.complete(),Pt)),!e.closed&&t.subscribe(e)})}const Pn="primary",Pb=Symbol("RouteTitle");class A0e{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function gm(n){return new A0e(n)}function k0e(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],c=n[s];if(o.startsWith(":"))r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function hc(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!BY(n[r],t[r]))return!1;return!0}function BY(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function zY(n){return n.length>0?n[n.length-1]:null}function Eu(n){return function y0e(n){return!!n&&(n instanceof zt||re(n.lift)&&re(n.subscribe))}(n)?n:bv(n)?Y(Promise.resolve(n)):he(n)}const R0e={exact:function jY(n,t,e){if(!tf(n.segments,t.segments)||!PD(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!jY(n.children[i],t.children[i],e))return!1;return!0},subset:WY},HY={exact:function O0e(n,t){return hc(n,t)},subset:function P0e(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>BY(n[e],t[e]))},ignored:()=>!0};function UY(n,t,e){return R0e[e.paths](n.root,t.root,e.matrixParams)&&HY[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function WY(n,t,e){return GY(n,t,t.segments,e)}function GY(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!tf(r,e)||t.hasChildren()||!PD(r,e,i))}if(n.segments.length===e.length){if(!tf(n.segments,e)||!PD(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!WY(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(tf(n.segments,r)&&PD(n.segments,r,i)&&n.children[Pn])&&GY(n.children[Pn],t,s,i)}}function PD(n,t,e){return t.every((i,r)=>HY[e](n[r].parameters,i.parameters))}class mm{constructor(t=new Vi([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gm(this.queryParams)),this._queryParamMap}toString(){return F0e.serialize(this)}}class Vi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ND(this)}}class Nb{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=gm(this.parameters)),this._parameterMap}toString(){return qY(this)}}function tf(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Lb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return new BP},providedIn:"root"})}return n})();class BP{parse(t){const e=new q0e(t);return new mm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Fb(t.root,!0)}`,i=function z0e(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${LD(e)}=${LD(r)}`).join("&"):`${LD(e)}=${LD(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function V0e(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const F0e=new BP;function ND(n){return n.segments.map(t=>qY(t)).join("/")}function Fb(n,t){if(!n.hasChildren())return ND(n);if(t){const e=n.children[Pn]?Fb(n.children[Pn],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Pn&&i.push(`${r}:${Fb(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function L0e(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Pn&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Pn&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Pn?[Fb(n.children[Pn],!1)]:[`${r}:${Fb(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pn]?`${ND(n)}/${e[0]}`:`${ND(n)}/(${e.join("//")})`}}function $Y(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function LD(n){return $Y(n).replace(/%3B/gi,";")}function zP(n){return $Y(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function FD(n){return decodeURIComponent(n)}function YY(n){return FD(n.replace(/\+/g,"%20"))}function qY(n){return`${zP(n.path)}${function B0e(n){return Object.keys(n).map(t=>`;${zP(t)}=${zP(n[t])}`).join("")}(n.parameters)}`}const H0e=/^[^\/()?;#]+/;function HP(n){const t=n.match(H0e);return t?t[0]:""}const U0e=/^[^\/()?;=#]+/,W0e=/^[^=?&#]+/,$0e=/^[^&#]+/;class q0e{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vi([],{}):new Vi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Pn]=new Vi(t,e)),i}parseSegment(){const t=HP(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l(4009,!1);return this.capture(t),new Nb(FD(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function j0e(n){const t=n.match(U0e);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=HP(this.remaining);r&&(i=r,this.capture(i))}t[FD(e)]=FD(i)}parseQueryParam(t){const e=function G0e(n){const t=n.match(W0e);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function Y0e(n){const t=n.match($0e);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=YY(e),s=YY(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=HP(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Pn);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Pn]:new Vi([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l(4011,!1)}}function XY(n){return n.segments.length>0?new Vi([],{[Pn]:n}):n}function ZY(n){const t={};for(const i of Object.keys(n.children)){const s=ZY(n.children[i]);if(i===Pn&&0===s.segments.length&&s.hasChildren())for(const[o,c]of Object.entries(s.children))t[o]=c;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function X0e(n){if(1===n.numberOfChildren&&n.children[Pn]){const t=n.children[Pn];return new Vi(n.segments.concat(t.segments),t.children)}return n}(new Vi(n.segments,t))}function nf(n){return n instanceof mm}function KY(n){let t;const r=XY(function e(s){const o={};for(const u of s.children){const f=e(u);o[u.outlet]=f}const c=new Vi(s.url,o);return s===n&&(t=c),c}(n.root));return t??r}function QY(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return UP(r,r,r,e,i);const s=function K0e(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new e6(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Object.entries(s.outlets).forEach(([u,f])=>{c[u]="string"==typeof f?f.split("/"):f}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?e=!0:".."===c?t++:""!=c&&r.push(c))}),r):[...r,s]},[]);return new e6(e,t,i)}(t);if(s.toRoot())return UP(r,r,new Vi([],{}),e,i);const o=function Q0e(n,t,e){if(n.isAbsolute)return new BD(t,!0,0);if(!e)return new BD(t,!1,NaN);if(null===e.parent)return new BD(e,!0,0);const i=VD(n.commands[0])?0:1;return function J0e(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l(4005,!1);r=i.segments.length}return new BD(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),c=o.processChildren?Bb(o.segmentGroup,o.index,s.commands):t6(o.segmentGroup,o.index,s.commands);return UP(r,o.segmentGroup,c,e,i)}function VD(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vb(n){return"object"==typeof n&&null!=n&&n.outlets}function UP(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([u,f])=>{s[u]=Array.isArray(f)?f.map(_=>`${_}`):`${f}`}),o=n===t?e:JY(n,t,e);const c=XY(ZY(o));return new mm(c,s,r)}function JY(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:JY(s,t,e)}),new Vi(n.segments,i)}class e6{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&VD(i[0]))throw new l(4003,!1);const r=i.find(Vb);if(r&&r!==zY(i))throw new l(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class BD{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function t6(n,t,e){if(n||(n=new Vi([],{})),0===n.segments.length&&n.hasChildren())return Bb(n,t,e);const i=function txe(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],c=e[i];if(Vb(c))break;const u=`${c}`,f=i<e.length-1?e[i+1]:null;if(r>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!i6(u,f,o))return s;i+=2}else{if(!i6(u,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Vi(n.segments.slice(0,i.pathIndex),{});return s.children[Pn]=new Vi(n.segments.slice(i.pathIndex),n.children),Bb(s,0,r)}return i.match&&0===r.length?new Vi(n.segments,{}):i.match&&!n.hasChildren()?jP(n,t,e):i.match?Bb(n,0,r):jP(n,t,e)}function Bb(n,t,e){if(0===e.length)return new Vi(n.segments,{});{const i=function exe(n){return Vb(n[0])?n[0].outlets:{[Pn]:n}}(e),r={};if(Object.keys(i).some(s=>s!==Pn)&&n.children[Pn]&&1===n.numberOfChildren&&0===n.children[Pn].segments.length){const s=Bb(n.children[Pn],t,e);return new Vi(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=t6(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Vi(n.segments,r)}}function jP(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Vb(s)){const u=nxe(s.outlets);return new Vi(i,u)}if(0===r&&VD(e[0])){i.push(new Nb(n.segments[t].path,n6(e[0]))),r++;continue}const o=Vb(s)?s.outlets[Pn]:`${s}`,c=r<e.length-1?e[r+1]:null;o&&c&&VD(c)?(i.push(new Nb(o,n6(c))),r+=2):(i.push(new Nb(o,{})),r++)}return new Vi(i,{})}function nxe(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=jP(new Vi([],{}),0,i))}),t}function n6(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function i6(n,t,e){return n==e.path&&hc(t,e.parameters)}const zb="imperative";class fc{constructor(t,e){this.id=t,this.url=e}}class zD extends fc{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Du extends fc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hb extends fc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _m extends fc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class HD extends fc{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class r6 extends fc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ixe extends fc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rxe extends fc{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sxe extends fc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oxe extends fc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class axe{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lxe{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cxe{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dxe{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uxe{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hxe{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s6{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class WP{}class GP{constructor(t){this.url=t}}class fxe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ub,this.attachRef=null}}let Ub=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new fxe,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class o6{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=$P(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=$P(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=YP(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return YP(t,this._root).map(e=>e.value)}}function $P(n,t){if(n===t.value)return t;for(const e of t.children){const i=$P(n,e);if(i)return i}return null}function YP(n,t){if(n===t.value)return[t];for(const e of t.children){const i=YP(n,e);if(i.length)return i.unshift(t),i}return[]}class sd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function vm(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class a6 extends o6{constructor(t,e){super(t),this.snapshot=e,qP(this,t)}toString(){return this.snapshot.toString()}}function l6(n,t){const e=function pxe(n,t){const o=new UD([],{},{},"",{},Pn,t,null,{});return new d6("",new sd(o,[]))}(0,t),i=new G([new Nb("",{})]),r=new G({}),s=new G({}),o=new G({}),c=new G(""),u=new ym(i,r,o,c,s,Pn,t,e.root);return u.snapshot=e.root,new a6(new sd(u,[]),e)}class ym{constructor(t,e,i,r,s,o,c,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ye(f=>f[Pb]))??he(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ye(t=>gm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ye(t=>gm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function c6(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function gxe(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class UD{get title(){return this.data?.[Pb]}constructor(t,e,i,r,s,o,c,u,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class d6 extends o6{constructor(t,e){super(e),this.url=t,qP(this,e)}toString(){return u6(this._root)}}function qP(n,t){t.value._routerState=n,t.children.forEach(e=>qP(n,e))}function u6(n){const t=n.children.length>0?` { ${n.children.map(u6).join(", ")} } `:"";return`${n.value}${t}`}function XP(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,hc(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),hc(t.params,e.params)||n.paramsSubject.next(e.params),function M0e(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!hc(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),hc(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ZP(n,t){const e=hc(n.params,t.params)&&function N0e(n,t){return tf(n,t)&&n.every((e,i)=>hc(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ZP(n.parent,t.parent))}let KP=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pn,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=He(Ub),this.location=He(Vs),this.changeDetector=He(Dr),this.environmentInjector=He(xo),this.inputBinder=He(jD,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new mxe(e,c,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$e({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ln]})}return n})();class mxe{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ym?this.route:t===Ub?this.childContexts:this.parent.get(t,e)}}const jD=new je("");let h6=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=$a([i.queryParams,i.params,i.data]).pipe(vt(([s,o,c],u)=>(c={...s,...o,...c},0===u?he(c):Promise.resolve(c)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function joe(n){const t=Xn(n);if(!t)return null;const e=new hv(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:c}of o.inputs)e.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function jb(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function vxe(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return jb(n,i,r);return jb(n,i)})}(n,t,e);return new sd(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(c=>jb(n,c)),o}}const i=function yxe(n){return new ym(new G(n.url),new G(n.params),new G(n.queryParams),new G(n.fragment),new G(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>jb(n,s));return new sd(i,r)}}const QP="ngNavigationCancelingError";function f6(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=nf(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=p6(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function p6(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[QP]=!0,i.cancellationCode=t,e&&(i.url=e),i}function g6(n){return n&&n[QP]}let m6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Bt({type:n,selectors:[["ng-component"]],standalone:!0,features:[To],decls:1,vars:0,template:function(i,r){1&i&&it(0,"router-outlet")},dependencies:[KP],encapsulation:2})}return n})();function JP(n){const t=n.children&&n.children.map(JP),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Pn&&(e.component=m6),e}function El(n){return n.outlet||Pn}function Wb(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Ixe{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),XP(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=vm(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=vm(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=vm(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=vm(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new hxe(s.value.snapshot))}),t.children.length&&this.forwardEvent(new dxe(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(XP(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),XP(c.route.value),this.activateChildRoutes(t,null,o.children)}else{const c=Wb(r.snapshot);o.attachRef=null,o.route=r,o.injector=c,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class _6{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class WD{constructor(t,e){this.component=t,this.route=e}}function Sxe(n,t,e){const i=n._root;return Gb(i,t?t._root:null,e,[i.value])}function bm(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function nn(n){return null!==xt(n)}(n)?t.get(n):n:i}function Gb(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=vm(t);return n.children.forEach(o=>{(function kxe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function Mxe(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!tf(n.url,t.url);case"pathParamsOrQueryParamsChange":return!tf(n.url,t.url)||!hc(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ZP(n,t)||!hc(n.queryParams,t.queryParams);default:return!ZP(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new _6(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Gb(n,t,s.component?c?c.children:null:e,i,r),u&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new WD(c.outlet.component,o))}else o&&$b(t,c,r),r.canActivateChecks.push(new _6(i)),Gb(n,null,s.component?c?c.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>$b(c,e.getContext(o),r)),r}function $b(n,t,e){const i=vm(n),r=n.value;Object.entries(i).forEach(([s,o])=>{$b(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new WD(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Yb(n){return"function"==typeof n}function v6(n){return n instanceof mC||"EmptyError"===n?.name}const GD=Symbol("INITIAL_VALUE");function xm(){return vt(n=>$a(n.map(t=>t.pipe(ni(1),yl(GD)))).pipe(Ye(t=>{for(const e of t)if(!0!==e){if(e===GD)return GD;if(!1===e||e instanceof mm)return e}return!0}),Qn(t=>t!==GD),ni(1)))}function y6(n){return function Fr(...n){return os(n)}(Gr(t=>{if(nf(t))throw f6(0,t)}),Ye(t=>!0===t))}class $D{constructor(t){this.segmentGroup=t||null}}class b6{constructor(t){this.urlTree=t}}function wm(n){return Rb(new $D(n))}function x6(n){return Rb(new b6(n))}class Kxe{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new l(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return he(i);if(r.numberOfChildren>1||!r.children[Pn])return Rb(new l(4e3,!1));r=r.children[Pn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new mm(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const c=s.substring(1);i[r]=e[c]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(t,u,i,r)}),new Vi(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new l(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const eN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qxe(n,t,e,i,r){const s=tN(n,t,e);return s.matched?(i=function xxe(n,t){return n.providers&&!n._injector&&(n._injector=WS(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function qxe(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?he(r.map(o=>{const c=bm(o,n);return Eu(function Fxe(n){return n&&Yb(n.canMatch)}(c)?c.canMatch(t,e):n.runInContext(()=>c(t,e)))})).pipe(xm(),y6()):he(!0)}(i,t,e).pipe(Ye(o=>!0===o?s:{...eN}))):he(s)}function tN(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...eN}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||k0e)(e,n,t);if(!r)return{...eN};const s={};Object.entries(r.posParams??{}).forEach(([c,u])=>{s[c]=u.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function w6(n,t,e,i){return e.length>0&&function twe(n,t,e){return e.some(i=>YD(n,t,i)&&El(i)!==Pn)}(n,e,i)?{segmentGroup:new Vi(t,ewe(i,new Vi(e,n.children))),slicedSegments:[]}:0===e.length&&function nwe(n,t,e){return e.some(i=>YD(n,t,i))}(n,e,i)?{segmentGroup:new Vi(n.segments,Jxe(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Vi(n.segments,n.children),slicedSegments:e}}function Jxe(n,t,e,i,r){const s={};for(const o of i)if(YD(n,e,o)&&!r[El(o)]){const c=new Vi([],{});s[El(o)]=c}return{...r,...s}}function ewe(n,t){const e={};e[Pn]=t;for(const i of n)if(""===i.path&&El(i)!==Pn){const r=new Vi([],{});e[El(i)]=r}return e}function YD(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class owe{constructor(t,e,i,r,s,o,c){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new Kxe(this.urlSerializer,this.urlTree)}noMatchError(t){return new l(4002,!1)}recognize(){const t=w6(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Pn).pipe(Cu(e=>{if(e instanceof b6)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof $D?this.noMatchError(e):e}),Ye(e=>{const i=new UD([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pn,this.rootComponentType,null,{}),r=new sd(i,e),s=new d6("",r),o=function Z0e(n,t,e=null,i=null){return QY(KY(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Pn).pipe(Cu(i=>{throw i instanceof $D?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=c6(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Y(r).pipe(pm(s=>{const o=i.children[s],c=function Dxe(n,t){const e=n.filter(i=>El(i)===t);return e.push(...n.filter(i=>El(i)!==t)),e}(e,s);return this.processSegmentGroup(t,c,o,s)}),og((s,o)=>(s.push(...o),s)),_C(null),function S0e(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Qn((r,s)=>n(r,s,i)):fn,OD(1),e?_C(t):xj(()=>new mC))}(),In(s=>{if(null===s)return wm(i);const o=C6(s);return function awe(n){n.sort((t,e)=>t.value.outlet===Pn?-1:e.value.outlet===Pn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),he(o)}))}processSegment(t,e,i,r,s,o){return Y(e).pipe(pm(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,i,r,s,o).pipe(Cu(u=>{if(u instanceof $D)return he(null);throw u}))),jd(c=>!!c),Cu(c=>{if(v6(c))return function rwe(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?he([]):wm(i);throw c}))}processSegmentAgainstRoute(t,e,i,r,s,o,c){return function iwe(n,t,e,i){return!!(El(n)===i||i!==Pn&&YD(t,e,n))&&("**"===n.path||tN(t,n,e).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):wm(r):wm(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?x6(s):this.applyRedirects.lineralizeSegments(i,s).pipe(In(o=>{const c=new Vi(o,{});return this.processSegment(t,e,c,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:c,consumedSegments:u,remainingSegments:f,positionalParamSegments:_}=tN(e,r,s);if(!c)return wm(e);const x=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,_);return r.redirectTo.startsWith("/")?x6(x):this.applyRedirects.lineralizeSegments(r,x).pipe(In(T=>this.processSegment(t,i,e,T.concat(f),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let c;if("**"===i.path){const u=r.length>0?zY(r).parameters:{};c=he({snapshot:new UD(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E6(i),El(i),i.component??i._loadedComponent??null,i,D6(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else c=Qxe(e,i,r,t).pipe(Ye(({matched:u,consumedSegments:f,remainingSegments:_,parameters:x})=>u?{snapshot:new UD(f,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,E6(i),El(i),i.component??i._loadedComponent??null,i,D6(i)),consumedSegments:f,remainingSegments:_}:null));return c.pipe(vt(u=>null===u?wm(e):this.getChildConfig(t=i._injector??t,i,r).pipe(vt(({routes:f})=>{const _=i._loadedInjector??t,{snapshot:x,consumedSegments:T,remainingSegments:R}=u,{segmentGroup:F,slicedSegments:B}=w6(e,T,R,f);if(0===B.length&&F.hasChildren())return this.processChildren(_,f,F).pipe(Ye(oe=>null===oe?null:[new sd(x,oe)]));if(0===f.length&&0===B.length)return he([new sd(x,[])]);const j=El(i)===s;return this.processSegment(_,f,F,B,j?Pn:s,!0).pipe(Ye(oe=>[new sd(x,oe)]))}))))}getChildConfig(t,e,i){return e.children?he({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?he({routes:e._loadedRoutes,injector:e._loadedInjector}):function Yxe(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?he(!0):he(r.map(o=>{const c=bm(o,n);return Eu(function Oxe(n){return n&&Yb(n.canLoad)}(c)?c.canLoad(t,e):n.runInContext(()=>c(t,e)))})).pipe(xm(),y6())}(t,e,i).pipe(In(r=>r?this.configLoader.loadChildren(t,e).pipe(Gr(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Zxe(n){return Rb(p6(!1,3))}())):he({routes:[],injector:t})}}function lwe(n){const t=n.value.routeConfig;return t&&""===t.path}function C6(n){const t=[],e=new Set;for(const i of n){if(!lwe(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=C6(i.children);t.push(new sd(i.value,r))}return t.filter(i=>!e.has(i))}function E6(n){return n.data||{}}function D6(n){return n.resolve||{}}function dwe(n,t){return In(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return he(e);let s=0;return Y(r).pipe(pm(o=>function uwe(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!T6(r)&&(s[Pb]=r.title),function hwe(n,t,e,i){const r=function fwe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return he({});const s={};return Y(r).pipe(In(o=>function pwe(n,t,e,i){const r=Wb(t)??i,s=bm(n,r);return Eu(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(jd(),Gr(c=>{s[o]=c}))),OD(1),function VY(n){return Ye(()=>n)}(s),Cu(o=>v6(o)?ti:Rb(o)))}(s,n,t,i).pipe(Ye(o=>(n._resolvedData=o,n.data=c6(n,e).resolve,r&&T6(r)&&(n.data[Pb]=r.title),null)))}(o.route,i,n,t)),Gr(()=>s++),OD(1),In(o=>s===r.length?he(e):ti))})}function T6(n){return"string"==typeof n.title||null===n.title}function nN(n){return vt(t=>{const e=n(t);return e?Y(e).pipe(Ye(()=>t)):he(t)})}const Cm=new je("ROUTES");let iN=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=He(jH)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return he(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Eu(e.loadComponent()).pipe(Ye(I6),Gr(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Ob(()=>{this.componentLoaders.delete(e)})),r=new FY(i,()=>new ve).pipe(VP());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return he({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function gwe(n,t,e,i){return Eu(n.loadChildren()).pipe(Ye(I6),In(r=>r instanceof Zz||Array.isArray(r)?he(r):Y(t.compileModuleAsync(r))),Ye(r=>{i&&i(n);let s,o,c=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(Cm,[],{optional:!0,self:!0}).flat()),{routes:o.map(JP),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Ob(()=>{this.childrenLoaders.delete(i)})),o=new FY(s,()=>new ve).pipe(VP());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function I6(n){return function mwe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let qD=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ve,this.transitionAbortSubject=new ve,this.configLoader=He(iN),this.environmentInjector=He(xo),this.urlSerializer=He(Lb),this.rootContexts=He(Ub),this.inputBindingEnabled=null!==He(jD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>he(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new lxe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new axe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new G({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zb,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qn(s=>0!==s.id),Ye(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),vt(s=>{this.currentTransition=s;let o=!1,c=!1;return he(s).pipe(Gr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vt(u=>{const f=u.currentBrowserUrl.toString(),_=!e.navigated||u.extractedUrl.toString()!==f||f!==u.currentUrlTree.toString();if(!_&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const T="";return this.events.next(new _m(u.id,this.urlSerializer.serialize(u.rawUrl),T,0)),u.resolve(null),ti}if(e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return he(u).pipe(vt(T=>{const R=this.transitions?.getValue();return this.events.next(new zD(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),R!==this.transitions?.getValue()?ti:Promise.resolve(T)}),function cwe(n,t,e,i,r,s){return In(o=>function swe(n,t,e,i,r,s,o="emptyOnly"){return new owe(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe(Ye(({state:c,tree:u})=>({...o,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Gr(T=>{s.targetSnapshot=T.targetSnapshot,s.urlAfterRedirects=T.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects};const R=new r6(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(R)}));if(_&&e.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:T,extractedUrl:R,source:F,restoredState:B,extras:j}=u,oe=new zD(T,this.urlSerializer.serialize(R),F,B);this.events.next(oe);const ee=l6(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:ee,urlAfterRedirects:R,extras:{...j,skipLocationChange:!1,replaceUrl:!1}},he(s)}{const T="";return this.events.next(new _m(u.id,this.urlSerializer.serialize(u.extractedUrl),T,1)),u.resolve(null),ti}}),Gr(u=>{const f=new ixe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),Ye(u=>(this.currentTransition=s={...u,guards:Sxe(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function Bxe(n,t){return In(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?he({...e,guardsResult:!0}):function zxe(n,t,e,i){return Y(n).pipe(In(r=>function $xe(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?he(s.map(c=>{const u=Wb(t)??r,f=bm(c,u);return Eu(function Lxe(n){return n&&Yb(n.canDeactivate)}(f)?f.canDeactivate(n,t,e,i):u.runInContext(()=>f(n,t,e,i))).pipe(jd())})).pipe(xm()):he(!0)}(r.component,r.route,e,t,i)),jd(r=>!0!==r,!0))}(o,i,r,n).pipe(In(c=>c&&function Rxe(n){return"boolean"==typeof n}(c)?function Hxe(n,t,e,i){return Y(t).pipe(pm(r=>yg(function jxe(n,t){return null!==n&&t&&t(new cxe(n)),he(!0)}(r.route.parent,i),function Uxe(n,t){return null!==n&&t&&t(new uxe(n)),he(!0)}(r.route,i),function Gxe(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function Axe(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>LY(()=>he(o.guards.map(u=>{const f=Wb(o.node)??e,_=bm(u,f);return Eu(function Nxe(n){return n&&Yb(n.canActivateChild)}(_)?_.canActivateChild(i,n):f.runInContext(()=>_(i,n))).pipe(jd())})).pipe(xm())));return he(s).pipe(xm())}(n,r.path,e),function Wxe(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return he(!0);const r=i.map(s=>LY(()=>{const o=Wb(t)??e,c=bm(s,o);return Eu(function Pxe(n){return n&&Yb(n.canActivate)}(c)?c.canActivate(t,n):o.runInContext(()=>c(t,n))).pipe(jd())}));return he(r).pipe(xm())}(n,r.route,e))),jd(r=>!0!==r,!0))}(i,s,n,t):he(c)),Ye(c=>({...e,guardsResult:c})))})}(this.environmentInjector,u=>this.events.next(u)),Gr(u=>{if(s.guardsResult=u.guardsResult,nf(u.guardsResult))throw f6(0,u.guardsResult);const f=new rxe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),Qn(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),nN(u=>{if(u.guards.canActivateChecks.length)return he(u).pipe(Gr(f=>{const _=new sxe(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),vt(f=>{let _=!1;return he(f).pipe(dwe(e.paramsInheritanceStrategy,this.environmentInjector),Gr({next:()=>_=!0,complete:()=>{_||this.cancelNavigationTransition(f,"",2)}}))}),Gr(f=>{const _=new oxe(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),nN(u=>{const f=_=>{const x=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(_.routeConfig).pipe(Gr(T=>{_.component=T}),Ye(()=>{})));for(const T of _.children)x.push(...f(T));return x};return $a(f(u.targetSnapshot.root)).pipe(_C(),ni(1))}),nN(()=>this.afterPreactivation()),Ye(u=>{const f=function _xe(n,t,e){const i=jb(n,t._root,e?e._root:void 0);return new a6(i,t)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:f},s}),Gr(()=>{this.events.next(new WP)}),((n,t,e,i)=>Ye(r=>(new Ixe(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ni(1),Gr({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Du(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),sn(this.transitionAbortSubject.pipe(Gr(u=>{throw u}))),Ob(()=>{o||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Cu(u=>{if(c=!0,g6(u))this.events.next(new Hb(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function bxe(n){return g6(n)&&nf(n.url)}(u)?this.events.next(new GP(u.url)):s.resolve(!1);else{this.events.next(new HD(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(u))}catch(f){s.reject(f)}}return ti}))}))}cancelNavigationTransition(e,i,r){const s=new Hb(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function S6(n){return n!==zb}let A6=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Pn);return i}getResolvedTitleForRoute(e){return e.data[Pb]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return He(_we)},providedIn:"root"})}return n})(),_we=(()=>{class n extends A6{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(dj))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vwe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return He(bwe)},providedIn:"root"})}return n})();class ywe{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let bwe=(()=>{class n extends ywe{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ar(n)))(r||n)}}();static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const XD=new je("",{providedIn:"root",factory:()=>({})});let xwe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:function(){return He(wwe)},providedIn:"root"})}return n})(),wwe=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qb=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(qb||{});function k6(n,t){n.events.pipe(Qn(e=>e instanceof Du||e instanceof Hb||e instanceof HD||e instanceof _m),Ye(e=>e instanceof Du||e instanceof _m?qb.COMPLETE:e instanceof Hb&&(0===e.code||1===e.code)?qb.REDIRECTING:qb.FAILED),Qn(e=>e!==qb.REDIRECTING),ni(1)).subscribe(()=>{t()})}function Cwe(n){throw n}function Ewe(n,t,e){return t.parse("/")}const Dwe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Twe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=He(UH),this.isNgZoneEnabled=!1,this._events=new ve,this.options=He(XD,{optional:!0})||{},this.pendingTasks=He(Bw),this.errorHandler=this.options.errorHandler||Cwe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ewe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=He(xwe),this.routeReuseStrategy=He(vwe),this.titleStrategy=He(A6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=He(Cm,{optional:!0})?.flat()??[],this.navigationTransitions=He(qD),this.urlSerializer=He(Lb),this.location=He(Yw),this.componentInputBindingEnabled=!!He(jD,{optional:!0}),this.eventsSubscription=new Ge,this.isNgZoneEnabled=He(ht)instanceof ht&&ht.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new mm,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=l6(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(M6(i)&&this._events.next(i));if(i instanceof zD)S6(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof _m)this.rawUrlTree=r.rawUrl;else if(i instanceof r6){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof WP)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Hb)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof GP){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||S6(r.source)};this.scheduleNavigation(s,zb,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof HD&&this.restoreHistory(r,!0),i instanceof Du&&(this.navigated=!0),M6(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zb,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const u={...r};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const c=this.parseUrl(e);this.scheduleNavigation(c,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(JP),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=i,f=u?this.currentUrlTree.fragment:o;let x,_=null;switch(c){case"merge":_={...this.currentUrlTree.queryParams,...s};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=s||null}null!==_&&(_=this.removeEmptyProps(_));try{x=KY(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),x=this.currentUrlTree.root}return QY(x,e,_,f??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=nf(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,zb,null,i)}navigate(e,i={skipLocationChange:!1}){return function Iwe(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new l(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Dwe}:!1===i?{...Twe}:i,nf(e))return UY(this.currentUrlTree,e,r);const s=this.parseUrl(e);return UY(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,f;o?(c=o.resolve,u=o.reject,f=o.promise):f=new Promise((x,T)=>{c=x,u=T});const _=this.pendingTasks.add();return k6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:c,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(x=>Promise.reject(x))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M6(n){return!(n instanceof WP||n instanceof GP)}let Xb=(()=>{class n{constructor(e,i,r,s,o,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ve,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=e.events.subscribe(f=>{f instanceof Du&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function aV(n,t,e){return function bee(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?oV:Tp}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(W(rs),W(ym),Od("tabindex"),W(Hr),W(Gt),W(mh))};static#t=this.\u0275dir=$e({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Je("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&Ht("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Qp],skipLocationChange:["skipLocationChange","skipLocationChange",Qp],replaceUrl:["replaceUrl","replaceUrl",Qp],routerLink:"routerLink"},standalone:!0,features:[vB,Ln]})}return n})(),R6=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,s,o){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new We,this.routerEventsSubscription=e.events.subscribe(c=>{c instanceof Du&&this.update()})}ngAfterContentInit(){he(this.links.changes,he(null)).pipe(Yn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Y(e).pipe(Yn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Swe(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(W(rs),W(Gt),W(Hr),W(Dr),W(Xb,8))};static#t=this.\u0275dir=$e({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(1&i&&yi(s,Xb,5),2&i){let o;Jt(o=en())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ln]})}return n})();class O6{}let Awe=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Qn(e=>e instanceof Du),pm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=WS(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Y(r).pipe(Yn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):he(null);const s=r.pipe(In(o=>null===o?he(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?Y([s,this.loader.loadComponent(i)]).pipe(Yn()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(fe(rs),fe(jH),fe(xo),fe(O6),fe(iN))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rN=new je("");let P6=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof zD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Du?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof _m&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof s6&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new s6(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){mw()};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function od(n,t){return{\u0275kind:n,\u0275providers:t}}function L6(){const n=He(Er);return t=>{const e=n.get(Fa);if(t!==e.components[0])return;const i=n.get(rs),r=n.get(F6);1===n.get(sN)&&i.initialNavigation(),n.get(V6,null,mn.Optional)?.setUpPreloading(),n.get(rN,null,mn.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const F6=new je("",{factory:()=>new ve}),sN=new je("",{providedIn:"root",factory:()=>1}),V6=new je("");function Owe(n){return od(0,[{provide:V6,useExisting:Awe},{provide:O6,useExisting:n}])}const B6=new je("ROUTER_FORROOT_GUARD"),Nwe=[Yw,{provide:Lb,useClass:BP},rs,Ub,{provide:ym,useFactory:function N6(n){return n.routerState.root},deps:[rs]},iN,[]];function Lwe(){return new ZH("Router",rs)}let z6=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Nwe,[],{provide:Cm,multi:!0,useValue:e},{provide:B6,useFactory:zwe,deps:[[rs,new Pd,new sh]]},{provide:XD,useValue:i||{}},i?.useHash?{provide:mh,useClass:qoe}:{provide:mh,useClass:TU},{provide:rN,useFactory:()=>{const n=He(ole),t=He(ht),e=He(XD),i=He(qD),r=He(Lb);return e.scrollOffset&&n.setOffset(e.scrollOffset),new P6(r,i,n,t,e)}},i?.preloadingStrategy?Owe(i.preloadingStrategy).\u0275providers:[],{provide:ZH,multi:!0,useFactory:Lwe},i?.initialNavigation?Hwe(i):[],i?.bindToComponentInputs?od(8,[h6,{provide:jD,useExisting:h6}]).\u0275providers:[],[{provide:H6,useFactory:L6},{provide:pA,multi:!0,useExisting:H6}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Cm,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(fe(B6,8))};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})();function zwe(n){return"guarded"}function Hwe(n){return["disabled"===n.initialNavigation?od(3,[{provide:oA,multi:!0,useFactory:()=>{const t=He(rs);return()=>{t.setUpLocationChangeListener()}}},{provide:sN,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?od(2,[{provide:sN,useValue:0},{provide:oA,multi:!0,deps:[Er],useFactory:t=>{const e=t.get($oe,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(rs),s=t.get(F6);k6(r,()=>{i(!0)}),t.get(qD).afterPreactivation=()=>(i(!0),s.closed?he(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const H6=new je("");function ZD(...n){const t=bs(n),{args:e,keys:i}=OY(n),r=new zt(s=>{const{length:o}=e;if(!o)return void s.complete();const c=new Array(o);let u=o,f=o;for(let _=0;_<o;_++){let x=!1;rt(e[_]).subscribe(ct(s,T=>{x||(x=!0,f--),c[_]=T},()=>u--,void 0,()=>{(!u||!x)&&(f||s.next(i?PY(i,c):c),s.complete())}))}});return t?r.pipe(FP(t)):r}let U6=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(W(Hr),W(Gt))};static#t=this.\u0275dir=$e({type:n})}return n})(),rf=(()=>{class n extends U6{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ar(n)))(r||n)}}();static#t=this.\u0275dir=$e({type:n,features:[Fn]})}return n})();const xa=new je("NgValueAccessor"),Wwe={provide:xa,useExisting:Ee(()=>Em),multi:!0},$we=new je("CompositionEventMode");let Em=(()=>{class n extends U6{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Gwe(){const n=zd()?zd().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(W(Hr),W(Gt),W($we,8))};static#t=this.\u0275dir=$e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Je("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[fi([Wwe]),Fn]})}return n})();function Tu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function W6(n){return null!=n&&"number"==typeof n.length}const Os=new je("NgValidators"),Iu=new je("NgAsyncValidators"),Ywe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _s{static min(t){return function G6(n){return t=>{if(Tu(t.value)||Tu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function $6(n){return t=>{if(Tu(t.value)||Tu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Y6(t)}static requiredTrue(t){return function q6(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function X6(n){return Tu(n.value)||Ywe.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Z6(n){return t=>Tu(t.value)||!W6(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function K6(n){return t=>W6(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Q6(n){if(!n)return KD;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Tu(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return r9(t)}static composeAsync(t){return s9(t)}}function Y6(n){return Tu(n.value)?{required:!0}:null}function KD(n){return null}function J6(n){return null!=n}function e9(n){return bv(n)?Y(n):n}function t9(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function n9(n,t){return t.map(e=>e(n))}function i9(n){return n.map(t=>function qwe(n){return!n.validate}(t)?t:e=>t.validate(e))}function r9(n){if(!n)return null;const t=n.filter(J6);return 0==t.length?null:function(e){return t9(n9(e,t))}}function oN(n){return null!=n?r9(i9(n)):null}function s9(n){if(!n)return null;const t=n.filter(J6);return 0==t.length?null:function(e){return ZD(n9(e,t).map(e9)).pipe(Ye(t9))}}function aN(n){return null!=n?s9(i9(n)):null}function o9(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function a9(n){return n._rawValidators}function l9(n){return n._rawAsyncValidators}function lN(n){return n?Array.isArray(n)?n:[n]:[]}function QD(n,t){return Array.isArray(n)?n.includes(t):n===t}function c9(n,t){const e=lN(t);return lN(n).forEach(r=>{QD(e,r)||e.push(r)}),e}function d9(n,t){return lN(t).filter(e=>!QD(n,e))}class u9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=oN(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=aN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Fo extends u9{get formDirective(){return null}get path(){return null}}class ad extends u9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class h9{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let JD=(()=>{class n extends h9{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(W(ad,2))};static#t=this.\u0275dir=$e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Ut("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Fn]})}return n})(),e1=(()=>{class n extends h9{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(W(Fo,10))};static#t=this.\u0275dir=$e({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Ut("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Fn]})}return n})();const Zb="VALID",n1="INVALID",Dm="PENDING",Kb="DISABLED";function uN(n){return(r1(n)?n.validators:n)||null}function hN(n,t){return(r1(t)?t.asyncValidators:n)||null}function r1(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function p9(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new l(1e3,"");if(!i[e])throw new l(1001,"")}function g9(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new l(1002,"")})}class s1{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Zb}get invalid(){return this.status===n1}get pending(){return this.status==Dm}get disabled(){return this.status===Kb}get enabled(){return this.status!==Kb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(c9(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(c9(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(d9(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(d9(t,this._rawAsyncValidators))}hasValidator(t){return QD(this._rawValidators,t)}hasAsyncValidator(t){return QD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Dm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Kb,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zb,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zb||this.status===Dm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kb:Zb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Dm,this._hasOwnPendingAsyncValidator=!0;const e=e9(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?Kb:this.errors?n1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dm)?Dm:this._anyControlsHaveStatus(n1)?n1:Zb}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){r1(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Qwe(n){return Array.isArray(n)?oN(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Jwe(n){return Array.isArray(n)?aN(n):n||null}(this._rawAsyncValidators)}}class Qb extends s1{constructor(t,e,i){super(uN(e),hN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){g9(this,0,t),Object.keys(t).forEach(i=>{p9(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class m9 extends Qb{}const sf=new je("CallSetDisabledState",{providedIn:"root",factory:()=>Jb}),Jb="always";function e0(n,t,e=Jb){fN(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function tCe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_9(n,t)})}(n,t),function iCe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function nCe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_9(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function eCe(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function a1(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),c1(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function l1(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function fN(n,t){const e=a9(n);null!==t.validator?n.setValidators(o9(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=l9(n);null!==t.asyncValidator?n.setAsyncValidators(o9(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();l1(t._rawValidators,r),l1(t._rawAsyncValidators,r)}function c1(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=a9(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=l9(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return l1(t._rawValidators,i),l1(t._rawAsyncValidators,i),e}function _9(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function v9(n,t){fN(n,t)}function y9(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const lCe={provide:Fo,useExisting:Ee(()=>d1)},t0=(()=>Promise.resolve())();let d1=(()=>{class n extends Fo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new We,this.form=new Qb({},oN(e),aN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){t0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),e0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){t0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){t0.then(()=>{const i=this._findContainer(e.path),r=new Qb({});v9(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){t0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){t0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,y9(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(W(Os,10),W(Iu,10),W(sf,8))};static#t=this.\u0275dir=$e({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Je("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fi([lCe]),Fn]})}return n})();function b9(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function x9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const n0=class extends s1{constructor(t=null,e,i){super(uN(e),hN(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),r1(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=x9(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){b9(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){b9(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){x9(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let u1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$e({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),I9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})();const _N=new je("NgModelWithFormControlWarning"),_Ce={provide:Fo,useExisting:Ee(()=>af)};let af=(()=>{class n extends Fo{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new We,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(c1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return e0(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){a1(e.control||null,e,!1),function aCe(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,y9(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(a1(i||null,e),(n=>n instanceof n0)(r)&&(e0(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);v9(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function rCe(n,t){return c1(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fN(this.form,this),this._oldForm&&c1(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(W(Os,10),W(Iu,10),W(sf,8))};static#t=this.\u0275dir=$e({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Je("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fi([_Ce]),Fn,Ln]})}return n})();const bCe={provide:ad,useExisting:Ee(()=>r0)};let r0=(()=>{class n extends ad{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new We,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function mN(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Em?e=s:function oCe(n){return Object.getPrototypeOf(n.constructor)===rf}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){this._added||this._setUpControl(),function gN(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function o1(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(W(Fo,13),W(Os,10),W(Iu,10),W(xa,10),W(_N,8))};static#n=this.\u0275dir=$e({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[fi([bCe]),Fn,Ln]})}return n})(),lf=(()=>{class n{constructor(){this._validator=KD}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):KD,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$e({type:n,features:[Ln]})}return n})();const ACe={provide:Os,useExisting:Ee(()=>h1),multi:!0};let h1=(()=>{class n extends lf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Qp,this.createValidator=e=>Y6}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ar(n)))(r||n)}}();static#t=this.\u0275dir=$e({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Ht("required",r._enabled?"":null)},inputs:{required:"required"},features:[fi([ACe]),Fn]})}return n})(),j9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({imports:[I9]})}return n})();class W9 extends s1{constructor(t,e,i){super(uN(e),hN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){g9(this,0,t),t.forEach((i,r)=>{p9(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function G9(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let wN=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return G9(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Qb(r,s)}record(e,i=null){const r=this._reduceControls(e);return new m9(r,i)}control(e,i,r){let s={};return this.useNonNullable?(G9(i)?s=i:(s.validators=i,s.asyncValidators=r),new n0(e,{...s,nonNullable:!0})):new n0(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new W9(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof n0||e instanceof s1?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NCe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:sf,useValue:e.callSetDisabledState??Jb}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({imports:[j9]})}return n})(),LCe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:_N,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:sf,useValue:e.callSetDisabledState??Jb}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({imports:[j9]})}return n})();var $9=$t(215);class f1{}class p1{}class pc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof pc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new pc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof pc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(c=>-1===s.indexOf(c)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class FCe{encodeKey(t){return Y9(t)}encodeValue(t){return Y9(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const BCe=/%(\d[a-f0-9])/gi,zCe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Y9(n){return encodeURIComponent(n).replace(BCe,(t,e)=>zCe[e]??t)}function g1(n){return`${n}`}class Su{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new FCe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function VCe(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,c]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],u=e.get(o)||[];u.push(c),e.set(o,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(g1):[g1(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Su({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(g1(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(g1(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class HCe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function q9(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function X9(n){return typeof Blob<"u"&&n instanceof Blob}function Z9(n){return typeof FormData<"u"&&n instanceof FormData}class s0{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function UCe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new pc),this.context||(this.context=new HCe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+o}}else this.params=new Su,this.urlWithParams=e}serializeBody(){return null===this.body?null:q9(this.body)||X9(this.body)||Z9(this.body)||function jCe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Su?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Z9(this.body)?null:X9(this.body)?this.body.type||null:q9(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Su?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,f=t.params||this.params;const _=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((x,T)=>x.set(T,t.setHeaders[T]),u)),t.setParams&&(f=Object.keys(t.setParams).reduce((x,T)=>x.set(T,t.setParams[T]),f)),new s0(e,i,s,{params:f,headers:u,context:_,reportProgress:c,responseType:r,withCredentials:o})}}var Tm=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Tm||{});class CN{constructor(t,e=200,i="OK"){this.headers=t.headers||new pc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class EN extends CN{constructor(t={}){super(t),this.type=Tm.ResponseHeader}clone(t={}){return new EN({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Im extends CN{constructor(t={}){super(t),this.type=Tm.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Im({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class K9 extends CN{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function DN(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let m1=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof s0)s=e;else{let u,f;u=r.headers instanceof pc?r.headers:new pc(r.headers),r.params&&(f=r.params instanceof Su?r.params:new Su({fromObject:r.params})),s=new s0(e,i,void 0!==r.body?r.body:null,{headers:u,context:r.context,params:f,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=he(s).pipe(pm(u=>this.handler.handle(u)));if(e instanceof s0||"events"===r.observe)return o;const c=o.pipe(Qn(u=>u instanceof Im));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Ye(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(Ye(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(Ye(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return c.pipe(Ye(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Su).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,DN(r,i))}post(e,i,r={}){return this.request("POST",e,DN(r,i))}put(e,i,r={}){return this.request("PUT",e,DN(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(fe(f1))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function eq(n,t){return t(n)}function GCe(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const YCe=new je(""),o0=new je(""),tq=new je("");function qCe(){let n=null;return(t,e)=>{null===n&&(n=(He(YCe,{optional:!0})??[]).reduceRight(GCe,eq));const i=He(Bw),r=i.add();return n(t,e).pipe(Ob(()=>i.remove(r)))}}let nq=(()=>{class n extends f1{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=He(Bw)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(o0),...this.injector.get(tq,[])]));this.chain=r.reduceRight((s,o)=>function $Ce(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,o,this.injector),eq)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Ob(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(fe(p1),fe(xo))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const QCe=/^\)\]\}',?\n/;let rq=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new l(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Y(i.\u0275loadImpl()):he(null)).pipe(vt(()=>new zt(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((B,j)=>o.setRequestHeader(B,j.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const B=e.detectContentTypeHeader();null!==B&&o.setRequestHeader("Content-Type",B)}if(e.responseType){const B=e.responseType.toLowerCase();o.responseType="json"!==B?B:"text"}const c=e.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const B=o.statusText||"OK",j=new pc(o.getAllResponseHeaders()),oe=function JCe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return u=new EN({headers:j,status:o.status,statusText:B,url:oe}),u},_=()=>{let{headers:B,status:j,statusText:oe,url:ee}=f(),le=null;204!==j&&(le=typeof o.response>"u"?o.responseText:o.response),0===j&&(j=le?200:0);let me=j>=200&&j<300;if("json"===e.responseType&&"string"==typeof le){const Se=le;le=le.replace(QCe,"");try{le=""!==le?JSON.parse(le):null}catch(Xe){le=Se,me&&(me=!1,le={error:Xe,text:le})}}me?(s.next(new Im({body:le,headers:B,status:j,statusText:oe,url:ee||void 0})),s.complete()):s.error(new K9({error:le,headers:B,status:j,statusText:oe,url:ee||void 0}))},x=B=>{const{url:j}=f(),oe=new K9({error:B,status:o.status||0,statusText:o.statusText||"Unknown Error",url:j||void 0});s.error(oe)};let T=!1;const R=B=>{T||(s.next(f()),T=!0);let j={type:Tm.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(j.total=B.total),"text"===e.responseType&&o.responseText&&(j.partialText=o.responseText),s.next(j)},F=B=>{let j={type:Tm.UploadProgress,loaded:B.loaded};B.lengthComputable&&(j.total=B.total),s.next(j)};return o.addEventListener("load",_),o.addEventListener("error",x),o.addEventListener("timeout",x),o.addEventListener("abort",x),e.reportProgress&&(o.addEventListener("progress",R),null!==c&&o.upload&&o.upload.addEventListener("progress",F)),o.send(c),s.next({type:Tm.Sent}),()=>{o.removeEventListener("error",x),o.removeEventListener("abort",x),o.removeEventListener("load",_),o.removeEventListener("timeout",x),e.reportProgress&&(o.removeEventListener("progress",R),null!==c&&o.upload&&o.upload.removeEventListener("progress",F)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(fe($U))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const TN=new je("XSRF_ENABLED"),sq=new je("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),oq=new je("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class aq{}let nEe=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=FU(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ln),fe(wo),fe(sq))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function iEe(n,t){const e=n.url.toLowerCase();if(!He(TN)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=He(aq).getToken(),r=He(oq);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Au=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Au||{});function rEe(...n){const t=[m1,rq,nq,{provide:f1,useExisting:nq},{provide:p1,useExisting:rq},{provide:o0,useValue:iEe,multi:!0},{provide:TN,useValue:!0},{provide:aq,useClass:nEe}];for(const e of n)t.push(...e.\u0275providers);return Wl(t)}const lq=new je("LEGACY_INTERCEPTOR_FN");function sEe(){return function cf(n,t){return{\u0275kind:n,\u0275providers:t}}(Au.LegacyInterceptors,[{provide:lq,useFactory:qCe},{provide:o0,useExisting:lq,multi:!0}])}let oEe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({providers:[rEe(sEe())]})}return n})(),gc=(()=>{class n{constructor(){this.loggedIn=new G(!1)}get isLoggedIn(){return this.loggedIn.asObservable()}isLoggedNext(e){return this.loggedIn.next(e)}SessionAddStorage(e,i){sessionStorage.setItem(e,JSON.stringify(i))}SessionGetStorage(e){const i=sessionStorage.getItem(e);return JSON.parse(i)}SessionRemove(e){sessionStorage.removeItem(e),sessionStorage.clear()}SessionClear(){sessionStorage.clear()}LocalAddStorage(e,i){localStorage.setItem(e,JSON.stringify(i))}LocalGetStorage(e){const i=localStorage.getItem(e);return JSON.parse(i)}LocalRemove(e){localStorage.removeItem(e)}LocalClear(){localStorage.clear()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class cq{}class hEe{}const ld="*";function a0(n,t){return{type:7,name:n,definitions:t,options:{}}}function cd(n,t=null){return{type:4,styles:t,timings:n}}function dq(n,t=null){return{type:2,steps:n,options:t}}function lo(n){return{type:6,styles:n,offset:null}}function ku(n,t,e){return{type:0,name:n,styles:t,options:e}}function uq(n){return{type:5,steps:n}}function dd(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class l0{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class hq{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,c)=>Math.max(o,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const fq=["toast-component",""];function fEe(n,t){if(1&n){const e=jn();ie(0,"button",5),Je("click",function(){return wt(e),yt(De().remove())}),ie(1,"span",6),Pe(2,"\xd7"),se()()}}function pEe(n,t){if(1&n&&(vv(0),Pe(1),yv()),2&n){const e=De(2);ne(1),Rn("[",e.duplicatesCount+1,"]")}}function gEe(n,t){if(1&n&&(ie(0,"div"),Pe(1),Te(2,pEe,2,1,"ng-container",4),se()),2&n){const e=De();Co(e.options.titleClass),Ht("aria-label",e.title),ne(1),Rn(" ",e.title," "),ne(1),de("ngIf",e.duplicatesCount)}}function mEe(n,t){if(1&n&&it(0,"div",7),2&n){const e=De();Co(e.options.messageClass),de("innerHTML",e.message,lh)}}function _Ee(n,t){if(1&n&&(ie(0,"div",8),Pe(1),se()),2&n){const e=De();Co(e.options.messageClass),Ht("aria-label",e.message),ne(1),Rn(" ",e.message," ")}}function vEe(n,t){if(1&n&&(ie(0,"div"),it(1,"div",9),se()),2&n){const e=De();ne(1),Es("width",e.width+"%")}}class DEe{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class TEe{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class IEe{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ve;_activate=new ve;_manualClose=new ve;_resetTimeout=new ve;_countDuplicate=new ve;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class v1{toastId;config;message;title;toastType;toastRef;_onTap=new ve;_onAction=new ve;constructor(t,e,i,r,s,o){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const gq=new je("ToastConfig");class SEe extends TEe{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){const i=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let AEe=(()=>{class n{_document=He(ln);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class kEe{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let MEe=(()=>{class n{_overlayContainer=He(AEe);_componentFactoryResolver=He(Ld);_appRef=He(Fa);_document=He(ln);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new SEe(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new kEe(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),c0=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,i,r={},s=""){return this._preBuildNotification(s,e,i,this.applyConfig(r))}success(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(r))}error(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(r))}info(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(r))}warning(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(r))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const c of this.toasts)if((!o||o&&c.title===e)&&c.message===i)return c.toastRef.onDuplicate(r,s),c;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,s)):this._buildNotification(e,i,r,s)}_buildNotification(e,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=i;let c=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(c=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let f=i;i&&s.enableHtml&&(f=this.sanitizer.sanitize(da.HTML,i));const _=new IEe(u),x=new v1(this.index,s,f,r,e,_),R=Er.create({providers:[{provide:v1,useValue:x}],parent:this._injector}),F=new DEe(s.toastComponent,R),B=u.attach(F,s.newestOnTop);_.componentInstance=B.instance;const j={toastId:this.index,title:r||"",message:i||"",toastRef:_,onShown:_.afterActivate(),onHidden:_.afterClosed(),onTap:x.onTap(),onAction:x.onAction(),portal:B};return c||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{j.toastRef.activate()})),this.toasts.push(j),j}static \u0275fac=function(i){return new(i||n)(fe(gq),fe(MEe),fe(Er),fe(fj),fe(ht))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const REe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||n)(W(c0),W(v1),W(ht))};static \u0275cmp=Bt({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){1&i&&Je("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&i&&(Mw("@flyInOut",r.state),Co(r.toastClasses),Es("display",r.displayStyle))},standalone:!0,features:[To],attrs:fq,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){1&i&&(Te(0,fEe,3,0,"button",0),Te(1,gEe,3,5,"div",1),Te(2,mEe,1,3,"div",2),Te(3,_Ee,2,4,"div",3),Te(4,vEe,2,2,"div",4)),2&i&&(de("ngIf",r.options.closeButton),ne(1),de("ngIf",r.title),ne(1),de("ngIf",r.message&&r.options.enableHtml),ne(1),de("ngIf",r.message&&!r.options.enableHtml),ne(1),de("ngIf",r.options.progressBar))},dependencies:[Tr],encapsulation:2,data:{animation:[a0("flyInOut",[ku("inactive",lo({opacity:0})),ku("active",lo({opacity:1})),ku("removed",lo({opacity:0})),dd("inactive => active",cd("{{ easeTime }}ms {{ easing }}")),dd("active => removed",cd("{{ easeTime }}ms {{ easing }}"))])]}})}return n})()},OEe=(n={})=>Wl([{provide:gq,useValue:{default:REe,config:n}}]);let SN,mq=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[OEe(e)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rt({type:n});static \u0275inj=ke({})}return n})(),Mu=(()=>{class n{constructor(e,i,r,s){this.http=e,this.storageService=i,this.afAuth=r,this.toastr=s,this.apiUrl="https://petguardian-api.uc.r.appspot.com/",this.petsArray=[]}GoogleAuth(){return this.AuthLogin(new $9.W)}AuthLogin(e){return this.afAuth.signInWithPopup(e).then(i=>{console.log("You have been successfully logged in!")}).catch(i=>{console.log(i)})}getAppointments(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"client/findAppointments/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClientAppointments(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"client/findAppointments/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClients(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"vet/findClients/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getSingleClient(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/client/find/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClientPets(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/client/findPets/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}postClientPets(e){const i={birth:"",breed:"",weight:{},health_info:{cardiac_freq:{},vaccines:[],observations:"",steps:{}},height:0,name:"",type:"",vet_id:"",client_id:"",profile_image:"",id:"",...e};return console.log(i),new Promise((r,s)=>{this.http.post(this.apiUrl+"pet/create",i,{responseType:"text"}).subscribe({next:o=>{e.profile_image="/assets/img/logo_default.svg",this.petsArray.push(e),this.toastr.success("Register completed","Congratulations!")},error:o=>{console.error("There was an error!",o),this.toastr.error("Error registering pet","Error")}})})}getPet(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/pet/find/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}addUser(e){const i={"content-type":"application/json"};return new Promise((r,s)=>{this.http.post(this.apiUrl+"client/create/"+e.id,JSON.stringify(e),{headers:i}).subscribe({next:o=>{},error:o=>{console.log("Result",o)}})})}getAllPets(){return new Promise((e,i)=>{this.http.get(this.apiUrl+"/pet/all").subscribe(r=>{e(r)},r=>{i(r)})})}static#e=this.\u0275fac=function(i){return new(i||n)(fe(m1),fe(gc),fe(Wc),fe(c0))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{SN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{SN=!1}let Sm,vs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?UA(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!SN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(fe(wo))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _q=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function vq(){if(Sm)return Sm;if("object"!=typeof document||!document)return Sm=new Set(_q),Sm;let n=document.createElement("input");return Sm=new Set(_q.filter(t=>(n.setAttribute("type",t),n.type===t))),Sm}let d0,df,AN;function Ru(n){return function PEe(){if(null==d0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>d0=!0}))}finally{d0=d0||!1}return d0}()?n:!!n.capture}function NEe(){if(null==df){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return df=!1,df;if("scrollBehavior"in document.documentElement.style)df=!0;else{const n=Element.prototype.scrollTo;df=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return df}function yq(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Ou(n){return n.composedPath?n.composedPath()[0]:n.target}function kN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Mm(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ON(n){return Qn((t,e)=>n<=e)}function co(n){return null!=n&&"false"!=`${n}`}function PN(n,t=0){return function jEe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function E1(n){return Array.isArray(n)?n:[n]}function ss(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Pu(n){return n instanceof Gt?n.nativeElement:n}let GEe=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({providers:[GEe]})}return n})();const wq=new Set;let uf,$Ee=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):qEe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function YEe(n,t){if(!wq.has(n))try{uf||(uf=document.createElement("style"),t&&(uf.nonce=t),uf.setAttribute("type","text/css"),document.head.appendChild(uf)),uf.sheet&&(uf.sheet.insertRule(`@media ${n} {body{ }}`,0),wq.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(vs),fe(XI,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qEe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let XEe=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new ve}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Cq(E1(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=$a(Cq(E1(e)).map(o=>this._registerQuery(o).observable));return s=yg(s.pipe(ni(1)),s.pipe(ON(1),H8(0))),s.pipe(Ye(o=>{const c={matches:!1,breakpoints:{}};return o.forEach(({matches:u,query:f})=>{c.matches=c.matches||u,c.breakpoints[f]=u}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new zt(o=>{const c=u=>this._zone.run(()=>o.next(u));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(yl(i),Ye(({matches:o})=>({query:e,matches:o})),sn(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(fe($Ee),fe(ht))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cq(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let QEe=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function eDe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function JEe(n){try{return n.frameElement}catch{return null}}(function lDe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Iq(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=Iq(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function oDe(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function aDe(n){return!function nDe(n){return function rDe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function tDe(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function iDe(n){return function sDe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Tq(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(fe(vs))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tq(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Iq(n){if(!Tq(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class cDe{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ni(1)).subscribe(t)}}let dDe=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new cDe(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(QEe),fe(ht),fe(ln))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uDe=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=co(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=co(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=yq(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(dDe),W(ln))};static#t=this.\u0275dir=$e({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Ln]})}return n})();function Sq(n){return 0===n.buttons||0===n.detail}function Aq(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const hDe=new je("cdk-input-modality-detector-options"),fDe={ignoreKeys:[18,17,224,91,16]},Rm=Ru({passive:!0,capture:!0});let pDe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new G(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(c=>c===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ou(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Sq(o)?"keyboard":"mouse"),this._mostRecentTarget=Ou(o))},this._onTouchstart=o=>{Aq(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ou(o))},this._options={...fDe,...s},this.modalityDetected=this._modality.pipe(ON(1)),this.modalityChanged=this.modalityDetected.pipe(tn()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Rm),r.addEventListener("mousedown",this._onMousedown,Rm),r.addEventListener("touchstart",this._onTouchstart,Rm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Rm),document.removeEventListener("mousedown",this._onMousedown,Rm),document.removeEventListener("touchstart",this._onTouchstart,Rm))}static#e=this.\u0275fac=function(i){return new(i||n)(fe(vs),fe(ht),fe(ln),fe(hDe,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mDe=new je("cdk-focus-monitor-default-options"),D1=Ru({passive:!0,capture:!0});let Mq=(()=>{class n{constructor(e,i,r,s,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ve,this._rootNodeFocusAndBlurListener=c=>{for(let f=Ou(c);f;f=f.parentElement)"focus"===c.type?this._onFocus(c,f):this._onBlur(c,f)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(e,i=!1){const r=Pu(e);if(!this._platform.isBrowser||1!==r.nodeType)return he();const s=function FEe(n){if(function LEe(){if(null==AN){const n=typeof document<"u"?document.head:null;AN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return AN}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const c={checkChildren:i,subject:new ve,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const i=Pu(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Pu(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([c,u])=>this._originChanged(c,i,u)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Ou(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,D1),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,D1)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(sn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,D1),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,D1),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ht),fe(vs),fe(pDe),fe(ln,8),fe(mDe,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_De=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new We}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(Mq))};static#t=this.\u0275dir=$e({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();const Rq="cdk-high-contrast-black-on-white",Oq="cdk-high-contrast-white-on-black",NN="cdk-high-contrast-active";let Pq=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=He(XEe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(NN,Rq,Oq),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(NN,Rq):2===i&&e.add(NN,Oq)}}static#e=this.\u0275fac=function(i){return new(i||n)(fe(vs),fe(ln))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vDe=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(fe(Pq))};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({imports:[xq]})}return n})();const yDe=["addListener","removeListener"],bDe=["addEventListener","removeEventListener"],xDe=["on","off"];function Xr(n,t,e,i){if(re(e)&&(i=e,e=void 0),i)return Xr(n,t,e).pipe(FP(i));const[r,s]=function EDe(n){return re(n.addEventListener)&&re(n.removeEventListener)}(n)?bDe.map(o=>c=>n[o](t,c,e)):function wDe(n){return re(n.addListener)&&re(n.removeListener)}(n)?yDe.map(Nq(n,t)):function CDe(n){return re(n.on)&&re(n.off)}(n)?xDe.map(Nq(n,t)):[];if(!r&&wn(n))return In(o=>Xr(o,t,e))(rt(n));if(!r)throw new TypeError("Invalid event target");return new zt(o=>{const c=(...u)=>o.next(1<u.length?u:u[0]);return r(c),()=>s(c)})}function Nq(n,t){return e=>i=>n[e](t,i)}const f0={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=f0;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Ge(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=f0;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=f0;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class TDe extends uC{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class DDe extends dC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=f0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(f0.cancelAnimationFrame(e),t._scheduled=void 0)}});function Om(n=0,t,e=uce){let i=-1;return null!=t&&(Oi(t)?e=t:i=t),new zt(r=>{let s=function ADe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Lq(n,t=Ud){return function SDe(n){return Ue((t,e)=>{let i=!1,r=null,s=null,o=!1;const c=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const f=r;r=null,e.next(f)}o&&e.complete()},u=()=>{s=null,o&&e.complete()};t.subscribe(ct(e,f=>{i=!0,r=f,s||rt(n(f)).subscribe(s=ct(e,c,u))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>Om(n,t))}const kDe=new je("cdk-dir-doc",{providedIn:"root",factory:function MDe(){return He(ln)}}),RDe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Pm=(()=>{class n{constructor(e){this.value="ltr",this.change=new We,e&&(this.value=function ODe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?RDe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(fe(kDe,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),p0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),NDe=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ve,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new zt(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Lq(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):he()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Qn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Pu(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Xr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ht),fe(vs),fe(ln,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fq=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ve,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Lq(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(fe(vs),fe(ht),fe(ln,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),Vq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({imports:[p0,LN,p0,LN]})}return n})();class FN{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class VN extends FN{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class FDe extends FN{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class VDe extends FN{constructor(t){super(),this.element=t instanceof Gt?t.nativeElement:t}}class Bq{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof VN?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof FDe?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof VDe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class BDe extends Bq{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const c=o.element,u=this._document.createComment("dom-portal");c.parentNode.insertBefore(u,c),this.outletElement.appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Er.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let zq=(()=>{class n extends Bq{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new We,this.attachDomPortal=s=>{const o=s.element,c=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(c,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(o,c)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(W(Ld),W(Vs),W(ln))};static#t=this.\u0275dir=$e({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Fn]})}return n})(),Hq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})();const Uq=NEe();class zDe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ss(-this._previousScrollPosition.left),t.style.top=ss(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Uq&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Uq&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class HDe{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Qn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class jq{enable(){}disable(){}attach(){}}function BN(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Wq(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class UDe{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();BN(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let jDe=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new jq,this.close=o=>new HDe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new zDe(this._viewportRuler,this._document),this.reposition=o=>new UDe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(i){return new(i||n)(fe(NDe),fe(Fq),fe(ht),fe(ln))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Gq{constructor(t){if(this.scrollStrategy=new jq,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class WDe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let $q=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ln))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GDe=(()=>{class n extends $q{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const c=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ln),fe(ht,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$De=(()=>{class n extends $q{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Ou(s)},this._clickListener=s=>{const o=Ou(s),c="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let f=u.length-1;f>-1;f--){const _=u[f];if(_._outsidePointerEvents.observers.length<1||!_.hasAttached())continue;if(_.overlayElement.contains(o)||_.overlayElement.contains(c))break;const x=_._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(s)):x.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ln),fe(vs),fe(ht,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yq=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||kN()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),kN()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ln),fe(vs))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class YDe{constructor(t,e,i,r,s,o,c,u,f,_=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=c,this._location=u,this._outsideClickDispatcher=f,this._animationsDisabled=_,this._backdropElement=null,this._backdropClick=new ve,this._attachments=new ve,this._detachments=new ve,this._locationChanges=Ge.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new ve,this._outsidePointerEvents=new ve,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ni(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ss(this._config.width),t.height=ss(this._config.height),t.minWidth=ss(this._config.minWidth),t.minHeight=ss(this._config.minHeight),t.maxWidth=ss(this._config.maxWidth),t.maxHeight=ss(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=E1(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(sn(J(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const qq="cdk-overlay-connected-position-bounding-box",qDe=/([A-Za-z%]+)$/;class Xq{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ve,this._resizeSubscription=Ge.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(qq),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let c of this._preferredPositions){let u=this._getOriginPoint(t,r,c),f=this._getOverlayPoint(u,e,c),_=this._getOverlayFit(f,e,i,c);if(_.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,u);this._canFitWithFlexibleDimensions(_,f,i)?s.push({position:c,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,c)}):(!o||o.overlayFit.visibleArea<_.visibleArea)&&(o={overlayFit:_,overlayPoint:f,originPoint:u,position:c,overlayRect:e})}if(s.length){let c=null,u=-1;for(const f of s){const _=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);_>u&&(u=_,c=f)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&hf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qq),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;r="start"==i.originX?o:c}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=Kq(e);let{x:o,y:c}=t,u=this._getOffset(r,"x"),f=this._getOffset(r,"y");u&&(o+=u),f&&(c+=f);let T=0-c,R=c+s.height-i.height,F=this._subtractOverflows(s.width,0-o,o+s.width-i.width),B=this._subtractOverflows(s.height,T,R),j=F*B;return{visibleArea:j,isCompletelyWithinViewport:s.width*s.height===j,fitsInViewportVertically:B===s.height,fitsInViewportHorizontally:F==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,o=Zq(this._overlayRef.getConfig().minHeight),c=Zq(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=c&&c<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Kq(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),c=Math.max(t.y+r.height-s.height,0),u=Math.max(s.top-i.top-t.y,0),f=Math.max(s.left-i.left-t.x,0);let _=0,x=0;return _=r.width<=s.width?f||-o:t.x<this._viewportMargin?s.left-i.left-t.x:0,x=r.height<=s.height?u||-c:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:_,y:x},{x:t.x+_,y:t.y+x}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new WDe(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,o,c,_,x,T;if("top"===e.overlayY)o=t.y,s=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)c=i.height-t.y+2*this._viewportMargin,s=i.height-c+this._viewportMargin;else{const R=Math.min(i.bottom-t.y+i.top,t.y),F=this._lastBoundingBoxSize.height;s=2*R,o=t.y-R,s>F&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-F/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)T=i.width-t.x+this._viewportMargin,_=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)x=t.x,_=i.right-t.x;else{const R=Math.min(i.right-t.x+i.left,t.x),F=this._lastBoundingBoxSize.width;_=2*R,x=t.x-R,_>F&&!this._isInitialRender&&!this._growAfterOpen&&(x=t.x-F/2)}return{top:o,left:x,bottom:c,right:T,width:_,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=ss(i.height),r.top=ss(i.top),r.bottom=ss(i.bottom),r.width=ss(i.width),r.left=ss(i.left),r.right=ss(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ss(s)),o&&(r.maxWidth=ss(o))}this._lastBoundingBoxSize=i,hf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){hf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){hf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const _=this._viewportRuler.getViewportScrollPosition();hf(i,this._getExactOverlayY(e,t,_)),hf(i,this._getExactOverlayX(e,t,_))}else i.position="static";let c="",u=this._getOffset(e,"x"),f=this._getOffset(e,"y");u&&(c+=`translateX(${u}px) `),f&&(c+=`translateY(${f}px)`),i.transform=c.trim(),o.maxHeight&&(r?i.maxHeight=ss(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=ss(o.maxWidth):s&&(i.maxWidth="")),hf(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ss(s.y),r}_getExactOverlayX(t,e,i){let o,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ss(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Wq(t,i),isOriginOutsideView:BN(t,i),isOverlayClipped:Wq(e,i),isOverlayOutsideView:BN(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&E1(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Gt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function hf(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Zq(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(qDe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Kq(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Qq="cdk-global-overlay-wrapper";class XDe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Qq),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:c}=i,u=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),f=!("100%"!==s&&"100vh"!==s||c&&"100%"!==c&&"100vh"!==c),_=this._xPosition,x=this._xOffset,T="rtl"===this._overlayRef.getConfig().direction;let R="",F="",B="";u?B="flex-start":"center"===_?(B="center",T?F=x:R=x):T?"left"===_||"end"===_?(B="flex-end",R=x):("right"===_||"start"===_)&&(B="flex-start",F=x):"left"===_||"start"===_?(B="flex-start",R=x):("right"===_||"end"===_)&&(B="flex-end",F=x),t.position=this._cssPosition,t.marginLeft=u?"0":R,t.marginTop=f?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=u?"0":F,e.justifyContent=B,e.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Qq),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ZDe=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new XDe}flexibleConnectedTo(e){return new Xq(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(Fq),fe(ln),fe(vs),fe(Yq))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KDe=0,T1=(()=>{class n{constructor(e,i,r,s,o,c,u,f,_,x,T,R){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=c,this._ngZone=u,this._document=f,this._directionality=_,this._location=x,this._outsideClickDispatcher=T,this._animationsModuleType=R}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new Gq(e);return o.direction=o.direction||this._directionality.value,new YDe(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+KDe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Fa)),new BDe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(jDe),fe(Yq),fe(Ld),fe(ZDe),fe(GDe),fe(Er),fe(ht),fe(ln),fe(Pm),fe(Yw),fe($De),fe(Lc,8))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const e1e={provide:new je("cdk-connected-overlay-scroll-strategy"),deps:[T1],useFactory:function JDe(n){return()=>n.scrollStrategies.reposition()}};let t1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({providers:[T1,e1e],imports:[p0,Hq,Vq,Vq]})}return n})();const i1e=new je("mat-sanity-checks",{providedIn:"root",factory:function n1e(){return!0}});let mc=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!kN()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(fe(Pq),fe(i1e,8),fe(ln))};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({imports:[p0,p0]})}return n})();function r1e(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=co(t)}constructor(...t){super(...t),this._disabled=!1}}}function zN(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function s1e(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=co(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function o1e(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}const a1e=new je("MAT_DATE_LOCALE",{providedIn:"root",factory:function l1e(){return He(eo)}});class Gs{constructor(){this._localeChanges=new ve,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const ff=new je("mat-date-formats"),c1e=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function HN(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let d1e=(()=>{class n extends Gs{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return HN(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return HN(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return HN(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(c1e.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(a1e,8),fe(vs))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const u1e={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let h1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({providers:[{provide:Gs,useClass:d1e}]})}return n})(),f1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({providers:[{provide:ff,useValue:u1e}],imports:[h1e]})}return n})(),p1e=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class g1e{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const tX=Ru({passive:!0,capture:!0});class m1e{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Ou(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,tX)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,tX)))}}const nX={enterDuration:225,exitDuration:150},iX=Ru({passive:!0,capture:!0}),rX=["mousedown","touchstart"],sX=["mouseup","mouseleave","touchend","touchcancel"];class I1{static#e=this._eventManager=new m1e;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Pu(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...nX,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=i.radius||function v1e(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),c=t-r.left,u=e-r.top,f=s.enterDuration,_=document.createElement("div");_.classList.add("mat-ripple-element"),_.style.left=c-o+"px",_.style.top=u-o+"px",_.style.height=2*o+"px",_.style.width=2*o+"px",null!=i.color&&(_.style.backgroundColor=i.color),_.style.transitionDuration=`${f}ms`,this._containerElement.appendChild(_);const x=window.getComputedStyle(_),R=x.transitionDuration,F="none"===x.transitionProperty||"0s"===R||"0s, 0s"===R||0===r.width&&0===r.height,B=new g1e(this,_,i,F);_.style.transform="scale3d(1, 1, 1)",B.state=0,i.persistent||(this._mostRecentTransientRipple=B);let j=null;return!F&&(f||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const oe=()=>this._finishRippleTransition(B),ee=()=>this._destroyRipple(B);_.addEventListener("transitionend",oe),_.addEventListener("transitioncancel",ee),j={onTransitionEnd:oe,onTransitionCancel:ee}}),this._activeRipples.set(B,j),(F||!f)&&this._finishRippleTransition(B),B}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...nX,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Pu(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,rX.forEach(i=>{I1._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{sX.forEach(e=>{this._triggerElement.addEventListener(e,this,iX)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Sq(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Aq(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(rX.forEach(e=>I1._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&sX.forEach(e=>t.removeEventListener(e,this,iX)))}}const oX=new je("mat-ripple-global-options");let y1e=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new I1(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(ht),W(vs),W(oX,8),W(Lc,8))};static#t=this.\u0275dir=$e({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Ut("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),b1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({imports:[mc,mc]})}return n})();const aX={capture:!0},lX=["focus","click","mouseenter","touchstart"],UN="mat-ripple-loader-uninitialized",jN="mat-ripple-loader-class-name",cX="mat-ripple-loader-centered",S1="mat-ripple-loader-disabled";let x1e=(()=>{class n{constructor(){this._document=He(ln,{optional:!0}),this._animationMode=He(Lc,{optional:!0}),this._globalRippleOptions=He(oX,{optional:!0}),this._platform=He(vs),this._ngZone=He(ht),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${UN}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of lX)this._document?.addEventListener(e,this._onInteraction,aX)})}ngOnDestroy(){for(const e of lX)this._document?.removeEventListener(e,this._onInteraction,aX)}configureRipple(e,i){e.setAttribute(UN,""),(i.className||!e.hasAttribute(jN))&&e.setAttribute(jN,i.className||""),i.centered&&e.setAttribute(cX,""),i.disabled&&e.setAttribute(S1,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(S1,""):e.removeAttribute(S1)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(jN)),e.append(i);const r=new y1e(new Gt(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(cX),r.disabled=e.hasAttribute(S1),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(UN),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const w1e=["mat-button",""],C1e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],E1e=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],T1e=["mat-icon-button",""],I1e=["*"],S1e=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],A1e=zN(r1e(s1e(class{constructor(n){this._elementRef=n}})));let dX=(()=>{class n extends A1e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=co(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=co(e),this._updateRippleDisabled()}constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=He(Mq),this._rippleLoader=He(x1e),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const o=e.nativeElement.classList;for(const c of S1e)this._hasHostAttributes(c.selector)&&c.mdcClasses.forEach(u=>{o.add(u)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){mw()};static#t=this.\u0275dir=$e({type:n,features:[Fn]})}return n})(),uX=(()=>{class n extends dX{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(vs),W(ht),W(Lc,8))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Ht("disabled",r.disabled||null),Ut("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Fn],attrs:w1e,ngContentSelectors:E1e,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(al(C1e),it(0,"span",0),Rr(1),ie(2,"span",1),Rr(3,1),se(),Rr(4,2),it(5,"span",2)(6,"span",3)),2&i&&Ut("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),hX=(()=>{class n extends dX{constructor(e,i,r,s){super(e,i,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(vs),W(ht),W(Lc,8))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Ht("disabled",r.disabled||null),Ut("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Fn],attrs:T1e,ngContentSelectors:I1e,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(al(),it(0,"span",0),Rr(1),it(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),R1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({imports:[mc,b1e,mc]})}return n})();class O1e{constructor(t){this._box=t,this._destroyed=new ve,this._resizeSubject=new ve,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new zt(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Qn(e=>e.some(i=>i.target===t)),gC({bufferSize:1,refCount:!0}),sn(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let P1e=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=He(ht)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new O1e(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const N1e=["notch"],L1e=["matFormFieldNotchedOutline",""],F1e=["*"],V1e=["textField"],B1e=["iconPrefixContainer"],z1e=["textPrefixContainer"];function H1e(n,t){1&n&&it(0,"span",19)}function U1e(n,t){if(1&n&&(ie(0,"label",17),Rr(1,1),Te(2,H1e,1,0,"span",18),se()),2&n){const e=De(2);de("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Ht("for",e._control.id),ne(2),de("ngIf",!e.hideRequiredMarker&&e._control.required)}}function j1e(n,t){1&n&&Te(0,U1e,3,5,"label",16),2&n&&de("ngIf",De()._hasFloatingLabel())}function W1e(n,t){1&n&&it(0,"div",20)}function G1e(n,t){}function $1e(n,t){1&n&&Te(0,G1e,0,0,"ng-template",22),2&n&&(De(2),de("ngTemplateOutlet",oi(1)))}function Y1e(n,t){if(1&n&&(ie(0,"div",21),Te(1,$1e,1,1,"ng-template",9),se()),2&n){const e=De();de("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),ne(1),de("ngIf",!e._forceDisplayInfixLabel())}}function q1e(n,t){1&n&&(ie(0,"div",23,24),Rr(2,2),se())}function X1e(n,t){1&n&&(ie(0,"div",25,26),Rr(2,3),se())}function Z1e(n,t){}function K1e(n,t){1&n&&Te(0,Z1e,0,0,"ng-template",22),2&n&&(De(),de("ngTemplateOutlet",oi(1)))}function Q1e(n,t){1&n&&(ie(0,"div",27),Rr(1,4),se())}function J1e(n,t){1&n&&(ie(0,"div",28),Rr(1,5),se())}function eTe(n,t){1&n&&it(0,"div",29)}function tTe(n,t){1&n&&(ie(0,"div",30),Rr(1,6),se()),2&n&&de("@transitionMessages",De()._subscriptAnimationState)}function nTe(n,t){if(1&n&&(ie(0,"mat-hint",34),Pe(1),se()),2&n){const e=De(2);de("id",e._hintLabelId),ne(1),dn(e.hintLabel)}}function iTe(n,t){if(1&n&&(ie(0,"div",31),Te(1,nTe,2,2,"mat-hint",32),Rr(2,7),it(3,"div",33),Rr(4,8),se()),2&n){const e=De();de("@transitionMessages",e._subscriptAnimationState),ne(1),de("ngIf",e.hintLabel)}}const rTe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],sTe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let WN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$e({type:n,selectors:[["mat-label"]]})}return n})();const oTe=new je("MatError");let aTe=0,fX=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+aTe++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$e({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(Eo("id",r.id),Ht("align",null),Ut("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const lTe=new je("MatPrefix"),pX=new je("MatSuffix");let cTe=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$e({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[fi([{provide:pX,useExisting:n}])]})}return n})();const gX=new je("FloatingLabelParent");let mX=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=He(P1e),this._ngZone=He(ht),this._parent=He(gX),this._resizeSubscription=new Ge}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function dTe(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt))};static#t=this.\u0275dir=$e({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Ut("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const _X="mdc-line-ripple--active",A1="mdc-line-ripple--deactivating";let vX=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(A1);"opacity"===r.propertyName&&o&&s.remove(_X,A1)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(A1),e.add(_X)}deactivate(){this._elementRef.nativeElement.classList.add(A1)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(ht))};static#t=this.\u0275dir=$e({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),yX=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(ht))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&Ji(N1e,5),2&i){let s;Jt(s=en())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Ut("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:L1e,ngContentSelectors:F1e,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(al(),it(0,"div",0),ie(1,"div",1,2),Rr(3),se(),it(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const uTe={transitionMessages:a0("transitionMessages",[ku("enter",lo({opacity:1,transform:"translateY(0%)"})),dd("void => enter",[lo({opacity:0,transform:"translateY(-5px)"}),cd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let bX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$e({type:n})}return n})();const GN=new je("MatFormField"),hTe=new je("MAT_FORM_FIELD_DEFAULT_OPTIONS");let xX=0,gTe=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=co(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,o,c,u,f){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=c,this._animationMode=u,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+xX++,this._hintLabelId="mat-mdc-hint-"+xX++,this._subscriptAnimationState="",this._destroyed=new ve,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(sn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),J(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(sn(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(sn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(Dr),W(ht),W(Pm),W(vs),W(hTe,8),W(Lc,8),W(ln))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(yi(s,WN,5),yi(s,WN,7),yi(s,bX,5),yi(s,lTe,5),yi(s,pX,5),yi(s,oTe,5),yi(s,fX,5)),2&i){let o;Jt(o=en())&&(r._labelChildNonStatic=o.first),Jt(o=en())&&(r._labelChildStatic=o.first),Jt(o=en())&&(r._formFieldControl=o.first),Jt(o=en())&&(r._prefixChildren=o),Jt(o=en())&&(r._suffixChildren=o),Jt(o=en())&&(r._errorChildren=o),Jt(o=en())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(1&i&&(Ji(V1e,5),Ji(B1e,5),Ji(z1e,5),Ji(mX,5),Ji(yX,5),Ji(vX,5)),2&i){let s;Jt(s=en())&&(r._textField=s.first),Jt(s=en())&&(r._iconPrefixContainer=s.first),Jt(s=en())&&(r._textPrefixContainer=s.first),Jt(s=en())&&(r._floatingLabel=s.first),Jt(s=en())&&(r._notchedOutline=s.first),Jt(s=en())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Ut("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[fi([{provide:GN,useExisting:n},{provide:gX,useExisting:n}])],ngContentSelectors:sTe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(al(rTe),Te(0,j1e,1,1,"ng-template",null,0,Gi),ie(2,"div",1,2),Je("click",function(o){return r._control.onContainerClick(o)}),Te(4,W1e,1,0,"div",3),ie(5,"div",4),Te(6,Y1e,2,2,"div",5),Te(7,q1e,3,0,"div",6),Te(8,X1e,3,0,"div",7),ie(9,"div",8),Te(10,K1e,1,1,"ng-template",9),Rr(11),se(),Te(12,Q1e,2,0,"div",10),Te(13,J1e,2,0,"div",11),se(),Te(14,eTe,1,0,"div",12),se(),ie(15,"div",13),Te(16,tTe,2,1,"div",14),Te(17,iTe,5,2,"div",15),se()),2&i&&(ne(2),Ut("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),ne(2),de("ngIf",!r._hasOutline()&&!r._control.disabled),ne(2),de("ngIf",r._hasOutline()),ne(1),de("ngIf",r._hasIconPrefix),ne(1),de("ngIf",r._hasTextPrefix),ne(2),de("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),ne(2),de("ngIf",r._hasTextSuffix),ne(1),de("ngIf",r._hasIconSuffix),ne(1),de("ngIf",!r._hasOutline()),ne(1),Ut("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),de("ngSwitch",r._getDisplayedMessages()),ne(1),de("ngSwitchCase","error"),ne(1),de("ngSwitchCase","hint"))},dependencies:[Tr,ps,eg,rC,fX,mX,yX,vX],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[uTe.transitionMessages]},changeDetection:0})}return n})(),EX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({imports:[mc,jc,xq,mc]})}return n})();const DX=Ru({passive:!0});let mTe=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ti;const i=Pu(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new ve,o="cdk-text-field-autofilled",c=u=>{"cdk-text-field-autofill-start"!==u.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===u.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:u.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:u.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",c,DX),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",c,DX)}}),s}stopMonitoring(e){const i=Pu(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(fe(vs),fe(ht))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_Te=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})();const TX=new je("MAT_INPUT_VALUE_ACCESSOR"),vTe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let yTe=0;const bTe=o1e(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new ve}});let xTe=(()=>{class n extends bTe{get disabled(){return this._disabled}set disabled(e){this._disabled=co(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(_s.required)??!1}set required(e){this._required=co(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&vq().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=co(e)}constructor(e,i,r,s,o,c,u,f,_,x){super(c,s,o,r),this._elementRef=e,this._platform=i,this._autofillMonitor=f,this._formField=x,this._uid="mat-input-"+yTe++,this.focused=!1,this.stateChanges=new ve,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>vq().has(F)),this._iOSKeyupListener=F=>{const B=F.target;!B.value&&0===B.selectionStart&&0===B.selectionEnd&&(B.setSelectionRange(1,1),B.setSelectionRange(0,0))};const T=this._elementRef.nativeElement,R=T.nodeName.toLowerCase();this._inputValueAccessor=u||T,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&_.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===R,this._isTextarea="textarea"===R,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=T.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){vTe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(vs),W(ad,10),W(d1,8),W(af,8),W(p1e),W(TX,10),W(mTe),W(ht),W(GN,8))};static#t=this.\u0275dir=$e({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Je("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(Eo("id",r.id)("disabled",r.disabled)("required",r.required),Ht("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Ut("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[fi([{provide:bX,useExisting:n}]),Fn,Ln]})}return n})(),wTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({imports:[mc,EX,EX,_Te,mc]})}return n})();const CTe=["mat-calendar-body",""];function ETe(n,t){if(1&n&&(ie(0,"tr",3)(1,"td",4),Pe(2),se()()),2&n){const e=De();ne(1),Es("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Ht("colspan",e.numCols),ne(1),Rn(" ",e.label," ")}}function DTe(n,t){if(1&n&&(ie(0,"td",4),Pe(1),se()),2&n){const e=De(2);Es("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Ht("colspan",e._firstRowOffset),ne(1),Rn(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function TTe(n,t){if(1&n){const e=jn();ie(0,"td",8)(1,"button",9),Je("click",function(r){const o=wt(e).$implicit;return yt(De(2)._cellClicked(o,r))})("focus",function(r){const o=wt(e).$implicit;return yt(De(2)._emitActiveDateChange(o,r))}),ie(2,"span",10),Pe(3),se(),it(4,"span",11),se()()}if(2&n){const e=t.$implicit,i=t.index,r=De().index,s=De();Es("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),Ht("data-mat-row",r)("data-mat-col",i),ne(1),Ut("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),de("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),Ht("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null)("aria-describedby",s._getDescribedby(e.compareValue)),ne(1),Ut("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),ne(1),Rn(" ",e.displayValue," ")}}function ITe(n,t){if(1&n&&(ie(0,"tr",5),Te(1,DTe,2,6,"td",6),Te(2,TTe,5,48,"td",7),se()),2&n){const e=t.$implicit,i=t.index,r=De();ne(1),de("ngIf",0===i&&r._firstRowOffset),ne(1),de("ngForOf",e)}}function STe(n,t){if(1&n&&(ie(0,"th",5)(1,"span",6),Pe(2),se(),ie(3,"span",7),Pe(4),se()()),2&n){const e=t.$implicit;ne(2),dn(e.long),ne(2),dn(e.narrow)}}const ATe=["*"];function kTe(n,t){}function MTe(n,t){if(1&n){const e=jn();ie(0,"mat-month-view",5),Je("activeDateChange",function(r){return wt(e),yt(De().activeDate=r)})("_userSelection",function(r){return wt(e),yt(De()._dateSelected(r))})("dragStarted",function(r){return wt(e),yt(De()._dragStarted(r))})("dragEnded",function(r){return wt(e),yt(De()._dragEnded(r))}),se()}if(2&n){const e=De();de("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function RTe(n,t){if(1&n){const e=jn();ie(0,"mat-year-view",6),Je("activeDateChange",function(r){return wt(e),yt(De().activeDate=r)})("monthSelected",function(r){return wt(e),yt(De()._monthSelectedInYearView(r))})("selectedChange",function(r){return wt(e),yt(De()._goToDateInView(r,"month"))}),se()}if(2&n){const e=De();de("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function OTe(n,t){if(1&n){const e=jn();ie(0,"mat-multi-year-view",7),Je("activeDateChange",function(r){return wt(e),yt(De().activeDate=r)})("yearSelected",function(r){return wt(e),yt(De()._yearSelectedInMultiYearView(r))})("selectedChange",function(r){return wt(e),yt(De()._goToDateInView(r,"year"))}),se()}if(2&n){const e=De();de("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function PTe(n,t){}const NTe=["button"];function LTe(n,t){1&n&&(eh(),ie(0,"svg",3),it(1,"path",4),se())}const FTe=[[["","matDatepickerToggleIcon",""]]],VTe=["[matDatepickerToggleIcon]"];let m0=(()=>{class n{constructor(){this.changes=new ve,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class $N{constructor(t,e,i,r,s={},o=t,c){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=o,this.rawValue=c}}let BTe=1;const IX=Ru({passive:!1,capture:!0}),Nu=Ru({passive:!0,capture:!0}),k1=Ru({passive:!0});let Nm=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=He(vs),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new We,this.previewChange=new We,this.activeDateChange=new We,this.dragStarted=new We,this.dragEnded=new We,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const s=SX(r),o=s?this._getCellFromElement(s):null;s!==r.target&&(this._didDragSinceMouseDown=!0),qN(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=r.target&&this._getCellFromElement(r.target);!s||!this._isInRange(s.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const s=qN(r.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const o=this._getCellFromElement(s);this.dragEnded.emit({value:o?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const s=SX(r);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+BTe++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,IX),r.addEventListener("mouseenter",this._enterHandler,Nu),r.addEventListener("focus",this._enterHandler,Nu),r.addEventListener("mouseleave",this._leaveHandler,Nu),r.addEventListener("blur",this._leaveHandler,Nu),r.addEventListener("mousedown",this._mousedownHandler,k1),r.addEventListener("touchstart",this._mousedownHandler,k1),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,IX),e.removeEventListener("mouseenter",this._enterHandler,Nu),e.removeEventListener("focus",this._enterHandler,Nu),e.removeEventListener("mouseleave",this._leaveHandler,Nu),e.removeEventListener("blur",this._leaveHandler,Nu),e.removeEventListener("mousedown",this._mousedownHandler,k1),e.removeEventListener("touchstart",this._mousedownHandler,k1),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ni(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return XN(e,this.startValue,this.endValue)}_isRangeEnd(e){return ZN(e,this.startValue,this.endValue)}_isInRange(e){return KN(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return XN(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const o=this.rows[i-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const o=this.rows[i+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return ZN(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return KN(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return XN(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return ZN(e,this.previewStart,this.previewEnd)}_isInPreview(e){return KN(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const i=qN(e);if(i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(ht))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Ln],attrs:CTe,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,r){1&i&&(Te(0,ETe,3,6,"tr",0),Te(1,ITe,3,2,"tr",1),ie(2,"label",2),Pe(3),se(),ie(4,"label",2),Pe(5),se()),2&i&&(de("ngIf",r._firstRowOffset<r.labelMinRequiredCells),ne(1),de("ngForOf",r.rows),ne(1),de("id",r._startDateLabelId),ne(1),Rn(" ",r.startDateAccessibleName,"\n"),ne(1),de("id",r._endDateLabelId),ne(1),Rn(" ",r.endDateAccessibleName,"\n"))},dependencies:[za,Wr,Tr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return n})();function YN(n){return"TD"===n?.nodeName}function qN(n){let t;return YN(n)?t=n:YN(n.parentNode)?t=n.parentNode:YN(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function XN(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function ZN(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function KN(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}function SX(n){const t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class Vo{constructor(t,e){this.start=t,this.end=e}}let Lu=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new ve,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static#e=this.\u0275fac=function(i){mw()};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),zTe=(()=>{class n extends Lu{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static#e=this.\u0275fac=function(i){return new(i||n)(fe(Gs))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const AX={provide:Lu,deps:[[new Pd,new sh,Lu],Gs],useFactory:function UTe(n,t){return n||new zTe(t)}},M1=new je("MAT_DATE_RANGE_SELECTION_STRATEGY");let kX=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Vo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=o,this._rerenderSubscription=Ge.EMPTY,this.activeDrag=null,this.selectedChange=new We,this._userSelection=new We,this.dragStarted=new We,this.dragEnded=new We,this.activeDateChange=new We,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yl(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,o;this._selected instanceof Vo?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),(s!==i||o!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Mm(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const r=i?i.rawValue:null,s=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&r){const o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((o,c)=>({long:o,narrow:i[c]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),c=this._shouldEnableDate(o),u=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),f=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new $N(r+1,i[r],u,c,f,this._getCellCompareValue(o),o))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Vo?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(i){return new(i||n)(W(Dr),W(ff,8),W(Gs,8),W(Pm,8),W(M1,8))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,r){if(1&i&&Ji(Nm,5),2&i){let s;Jt(s=en())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Ln],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(i,r){1&i&&(ie(0,"table",0)(1,"thead",1)(2,"tr"),Te(3,STe,5,2,"th",2),se(),ie(4,"tr"),it(5,"th",3),se()(),ie(6,"tbody",4),Je("selectedValueChange",function(o){return r._dateSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("previewChange",function(o){return r._previewChanged(o)})("dragStarted",function(o){return r.dragStarted.emit(o)})("dragEnded",function(o){return r._dragEnded(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),se()()),2&i&&(ne(3),de("ngForOf",r._weekdays),ne(3),de("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Wr,Nm],encapsulation:2,changeDetection:0})}return n})();const wa=24;let MX=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),RX(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Vo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Ge.EMPTY,this.selectedChange=new We,this.yearSelected=new We,this.activeDateChange=new We,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yl(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-_0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<wa;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-_0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,wa-_0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-wa:-wa);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*wa:wa);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return _0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new $N(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Vo){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static#e=this.\u0275fac=function(i){return new(i||n)(W(Dr),W(Gs,8),W(Pm,8))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,r){if(1&i&&Ji(Nm,5),2&i){let s;Jt(s=en())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,r){1&i&&(ie(0,"table",0)(1,"thead",1)(2,"tr"),it(3,"th",2),se()(),ie(4,"tbody",3),Je("selectedValueChange",function(o){return r._yearSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),se()()),2&i&&(ne(4),de("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Nm],encapsulation:2,changeDetection:0})}return n})();function RX(n,t,e,i,r){const s=n.getYear(t),o=n.getYear(e),c=OX(n,i,r);return Math.floor((s-c)/wa)===Math.floor((o-c)/wa)}function _0(n,t,e,i){return function $Te(n,t){return(n%t+t)%t}(n.getYear(t)-OX(n,e,i),wa)}function OX(n,t,e){let i=0;return e?i=n.getYear(e)-wa+1:t&&(i=n.getYear(t)),i}let PX=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Vo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Ge.EMPTY,this.selectedChange=new We,this.monthSelected=new We,this.activeDateChange=new We,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(yl(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(r,"year"):void 0;return new $N(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),o)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Vo?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}static#e=this.\u0275fac=function(i){return new(i||n)(W(Dr),W(ff,8),W(Gs,8),W(Pm,8))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,r){if(1&i&&Ji(Nm,5),2&i){let s;Jt(s=en())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(i,r){1&i&&(ie(0,"table",0)(1,"thead",1)(2,"tr"),it(3,"th",2),se()(),ie(4,"tbody",3),Je("selectedValueChange",function(o){return r._monthSelected(o)})("activeDateChange",function(o){return r._updateActiveDate(o)})("keyup",function(o){return r._handleCalendarBodyKeyup(o)})("keydown",function(o){return r._handleCalendarBodyKeydown(o)}),se()()),2&i&&(ne(4),de("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Nm],encapsulation:2,changeDetection:0})}return n})(),YTe=1,qTe=(()=>{class n{constructor(e,i,r,s,o){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._id="mat-calendar-header-"+YTe++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-wa)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:wa)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):RX(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-_0(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+wa-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}static#e=this.\u0275fac=function(i){return new(i||n)(W(m0),W(Ee(()=>eL)),W(Gs,8),W(ff,8),W(Dr))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:ATe,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(i,r){1&i&&(al(),ie(0,"div",0)(1,"div",1)(2,"button",2),Je("click",function(){return r.currentPeriodClicked()}),ie(3,"span",3),Pe(4),se(),eh(),ie(5,"svg",4),it(6,"polygon",5),se()(),j_(),it(7,"div",6),Rr(8),ie(9,"button",7),Je("click",function(){return r.previousClicked()}),se(),ie(10,"button",8),Je("click",function(){return r.nextClicked()}),se()()(),ie(11,"label",9),Pe(12),se()),2&i&&(ne(2),Ht("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),ne(2),dn(r.periodButtonText),ne(1),Ut("mat-calendar-invert","month"!==r.calendar.currentView),ne(4),de("disabled",!r.previousEnabled()),Ht("aria-label",r.prevButtonLabel),ne(1),de("disabled",!r.nextEnabled()),Ht("aria-label",r.nextButtonLabel),ne(1),de("id",r._periodButtonLabelId),ne(1),dn(r.periodButtonDescription))},dependencies:[uX,hX],encapsulation:2,changeDetection:0})}return n})(),eL=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Vo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new We,this.yearSelected=new We,this.monthSelected=new We,this.viewChanged=new We(!0),this._userSelection=new We,this._userDragDrop=new We,this._activeDrag=null,this.stateChanges=new ve,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new VN(this.headerComponent||qTe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Vo||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(i){return new(i||n)(W(m0),W(Gs,8),W(ff,8),W(Dr))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,r){if(1&i&&(Ji(kX,5),Ji(PX,5),Ji(MX,5)),2&i){let s;Jt(s=en())&&(r.monthView=s.first),Jt(s=en())&&(r.yearView=s.first),Jt(s=en())&&(r.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[fi([AX]),Ln],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(i,r){1&i&&(Te(0,kTe,0,0,"ng-template",0),ie(1,"div",1),Te(2,MTe,1,11,"mat-month-view",2),Te(3,RTe,1,6,"mat-year-view",3),Te(4,OTe,1,6,"mat-multi-year-view",4),se()),2&i&&(de("cdkPortalOutlet",r._calendarHeaderPortal),ne(1),de("ngSwitch",r.currentView),ne(1),de("ngSwitchCase","month"),ne(1),de("ngSwitchCase","year"),ne(1),de("ngSwitchCase","multi-year"))},dependencies:[eg,rC,_De,zq,kX,PX,MX],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button,.mat-datepicker-content .mat-calendar-next-button{color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return n})();const NX={transformPanel:a0("transformPanel",[dd("void => enter-dropdown",cd("120ms cubic-bezier(0, 0, 0.2, 1)",uq([lo({opacity:0,transform:"scale(1, 0.8)"}),lo({opacity:1,transform:"scale(1, 1)"})]))),dd("void => enter-dialog",cd("150ms cubic-bezier(0, 0, 0.2, 1)",uq([lo({opacity:0,transform:"scale(0.7)"}),lo({transform:"none",opacity:1})]))),dd("* => void",cd("100ms linear",lo({opacity:0})))]),fadeInCalendar:a0("fadeInCalendar",[ku("void",lo({opacity:0})),ku("enter",lo({opacity:1})),dd("void => *",cd("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let XTe=0;const LX=new je("mat-datepicker-scroll-strategy"),KTe={provide:LX,deps:[T1],useFactory:function ZTe(n){return()=>n.scrollStrategies.reposition()}},QTe=zN(class{constructor(n){this._elementRef=n}});let JTe=(()=>{class n extends QTe{constructor(e,i,r,s,o,c){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=o,this._subscriptions=new Ge,this._animationDone=new ve,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=c.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof Vo;if(s&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(o,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(Dr),W(Lu),W(Gs),W(M1,8),W(m0))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,r){if(1&i&&Ji(eL,5),2&i){let s;Jt(s=en())&&(r._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(i,r){1&i&&kS("@transformPanel.start",function(o){return r._handleAnimationEvent(o)})("@transformPanel.done",function(o){return r._handleAnimationEvent(o)}),2&i&&(Mw("@transformPanel",r._animationState),Ut("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[Fn],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(i,r){if(1&i&&(ie(0,"div",0)(1,"mat-calendar",1),Je("yearSelected",function(o){return r.datepicker._selectYear(o)})("monthSelected",function(o){return r.datepicker._selectMonth(o)})("viewChanged",function(o){return r.datepicker._viewChanged(o)})("_userSelection",function(o){return r._handleUserSelection(o)})("_userDragDrop",function(o){return r._handleUserDragDrop(o)}),se(),Te(2,PTe,0,0,"ng-template",2),ie(3,"button",3),Je("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),Pe(4),se()()),2&i){let s;Ut("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Ht("aria-modal",!0)("aria-labelledby",null!==(s=r._dialogLabelId)&&void 0!==s?s:void 0),ne(1),de("id",r.datepicker.id)("ngClass",r.datepicker.panelClass)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),ne(1),de("cdkPortalOutlet",r._actionsPortal),ne(1),Ut("cdk-visually-hidden",!r._closeButtonFocused),de("color",r.color||"primary"),ne(1),dn(r._closeButtonText)}},dependencies:[za,uX,uDe,zq,eL],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[NX.transformPanel,NX.fadeInCalendar]},changeDetection:0})}return n})(),FX=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=co(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=co(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=co(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function WEe(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){co(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,r,s,o,c,u){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=o,this._dir=c,this._model=u,this._inputStateChanges=Ge.EMPTY,this._document=He(ln),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new We,this.monthSelected=new We,this.viewChanged=new We(!0),this.openedStream=new We,this.closedStream=new We,this._opened=!1,this.id="mat-datepicker-"+XTe++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ve,this._scrollStrategy=s}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof Xq&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=yq(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(ni(1)).subscribe(()=>{const o=this._document.activeElement;e&&(!o||o===this._document.activeElement||s.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new VN(JTe,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Gq({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const o=s.keyCode;(38===o||40===o||37===o||39===o||33===o||34===o)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(ni(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",o="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:o,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o}])}_getCloseStream(e){const i=["ctrlKey","shiftKey","metaKey"];return J(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Qn(r=>27===r.keyCode&&!Mm(r)||this.datepickerInput&&Mm(r,"altKey")&&38===r.keyCode&&i.every(s=>!Mm(r,s)))))}static#e=this.\u0275fac=function(i){return new(i||n)(W(T1),W(ht),W(Vs),W(LX),W(Gs,8),W(Pm,8),W(Lu))};static#t=this.\u0275dir=$e({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Ln]})}return n})(),eIe=(()=>{class n extends FX{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ar(n)))(r||n)}}();static#t=this.\u0275cmp=Bt({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[fi([AX,{provide:FX,useExisting:n}]),Fn],decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}return n})();class R1{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let tIe=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=co(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new R1(this,this._elementRef.nativeElement)),this.dateChange.emit(new R1(this,this._elementRef.nativeElement))}})}constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new We,this.dateInput=new We,this.stateChanges=new ve,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ge.EMPTY,this._localeSubscription=Ge.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),c=this._getMinDate();return!c||!o||this._dateAdapter.compareDate(c,o)<=0?null:{matDatepickerMin:{min:c,actual:o}}},this._maxValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),c=this._getMaxDate();return!c||!o||this._dateAdapter.compareDate(c,o)>=0?null:{matDatepickerMax:{max:c,actual:o}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function nIe(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){Mm(e,"altKey")&&40===e.keyCode&&["ctrlKey","shiftKey","metaKey"].every(s=>!Mm(e,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new R1(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new R1(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(Gs,8),W(ff,8))};static#t=this.\u0275dir=$e({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Ln]})}return n})();const iIe={provide:xa,useExisting:Ee(()=>tL),multi:!0},rIe={provide:Os,useExisting:Ee(()=>tL),multi:!0};let tL=(()=>{class n extends tIe{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Ge.EMPTY,this._validator=_s.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(Gs,8),W(ff,8),W(GN,8))};static#t=this.\u0275dir=$e({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,r){1&i&&Je("input",function(o){return r._onInput(o.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(o){return r._onKeydown(o)}),2&i&&(Eo("disabled",r.disabled),Ht("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",(null==r._datepicker?null:r._datepicker.opened)&&r._datepicker.id||null)("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[fi([iIe,rIe,{provide:TX,useExisting:n}]),Fn]})}return n})(),sIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=$e({type:n,selectors:[["","matDatepickerToggleIcon",""]]})}return n})(),oIe=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=co(e)}constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Ge.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:he(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:he(),r=this.datepicker?J(this.datepicker.openedStream,this.datepicker.closedStream):he();this._stateChanges.unsubscribe(),this._stateChanges=J(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(W(m0),W(Dr),Od("tabindex"))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,r,s){if(1&i&&yi(s,sIe,5),2&i){let o;Jt(o=en())&&(r._customIcon=o.first)}},viewQuery:function(i,r){if(1&i&&Ji(NTe,5),2&i){let s;Jt(s=en())&&(r._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,r){1&i&&Je("click",function(o){return r._open(o)}),2&i&&(Ht("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),Ut("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&"accent"===r.datepicker.color)("mat-warn",r.datepicker&&"warn"===r.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Ln],ngContentSelectors:VTe,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,r){1&i&&(al(FTe),ie(0,"button",0,1),Te(2,LTe,2,0,"svg",2),Rr(3),se()),2&i&&(de("disabled",r.disabled)("disableRipple",r.disableRipple),Ht("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),ne(2),de("ngIf",!r._customIcon))},dependencies:[Tr,hX],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return n})(),cIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({providers:[m0,KTe],imports:[jc,R1e,t1e,vDe,Hq,mc,LN]})}return n})();function BX(n){return n&&n.constructor&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)}function zX(n){return n}function HX(n,t){const e=(t=t||{}).delimiter||".",i=t.maxDepth,r=t.transformKey||zX,s={};return function o(c,u,f){f=f||1,Object.keys(c).forEach(function(_){const x=c[_],T=t.safe&&Array.isArray(x),R=Object.prototype.toString.call(x),F=BX(x),B="[object Object]"===R||"[object Array]"===R,j=u?u+e+r(_):r(_);if(!T&&!F&&B&&Object.keys(x).length&&(!t.maxDepth||f<i))return o(x,j,f+1);s[j]=x})}(n),s}function UX(n,t){const e=(t=t||{}).delimiter||".",i=t.overwrite||!1,r=t.transformKey||zX,s={};if(BX(n)||"[object Object]"!==Object.prototype.toString.call(n))return n;function c(_){const x=Number(_);return isNaN(x)||-1!==_.indexOf(".")||t.object?_:x}return n=Object.keys(n).reduce(function(_,x){const T=Object.prototype.toString.call(n[x]);return"[object Object]"!==T&&"[object Array]"!==T||function f(_){const x=Object.prototype.toString.call(_);return!_||("[object Array]"===x?!_.length:"[object Object]"===x?!Object.keys(_).length:void 0)}(n[x])?(_[x]=n[x],_):function u(_,x,T){return Object.keys(T).reduce(function(R,F){return R[_+e+F]=T[F],R},x)}(x,_,HX(n[x],t))},{}),Object.keys(n).forEach(function(_){const x=_.split(e).map(r);let T=c(x.shift()),R=c(x[0]),F=s;for(;void 0!==R;){if("__proto__"===T)return;const B=Object.prototype.toString.call(F[T]),j="[object Object]"===B||"[object Array]"===B;if(!i&&!j&&typeof F[T]<"u")return;(i&&!j||!i&&null==F[T])&&(F[T]="number"!=typeof R||t.object?{}:[]),F=F[T],x.length>0&&(T=c(x.shift()),R=c(x[0]))}F[T]=UX(n[_],t)}),s}class uIe{translations;constructor(t){this.translations=t}getTranslation(t){return he(this.translations.get(t)||{})}}const jX=new je("TRANSLOCO_LOADER");function WX(n,t){return n&&(Object.prototype.hasOwnProperty.call(n,t)?n[t]:t.split(".").reduce((e,i)=>e?.[i],n))}function GX(n){return n?Array.isArray(n)?n.length:iL(n)?Object.keys(n).length:n?n.length:0:0}function pf(n){return"string"==typeof n}function iL(n){return!!n&&"object"==typeof n&&!Array.isArray(n)}function $X(n){return n.replace(/(?:^\w|[A-Z]|\b\w)/g,(t,e)=>0==e?t.toLowerCase():t.toUpperCase()).replace(/\s+|_|-|\//g,"")}function rL(n){return null==n}function qX(n){return!1===rL(n)}function sL(n){return n&&"string"==typeof n.scope}function XX(n){return HX(n,{safe:!0})}const Lm=new je("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>v0}),v0={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"]};function yIe(n={}){return{...v0,...n,missingHandler:{...v0.missingHandler,...n.missingHandler},flatten:{...v0.flatten,...n.flatten}}}const ZX=new je("TRANSLOCO_TRANSPILER");let bIe=(()=>{class n{interpolationMatcher;constructor(e){this.interpolationMatcher=function xIe(n){const[t,e]=n.interpolation;return new RegExp(`${t}(.*?)${e}`,"g")}(e??v0)}transpile(e,i={},r,s){return pf(e)?e.replace(this.interpolationMatcher,(o,c)=>(c=c.trim(),qX(i[c])?i[c]:qX(r[c])?this.transpile(r[c],i,r,s):"")):(i&&(iL(e)?e=this.handleObject(e,i,r,s):Array.isArray(e)&&(e=this.handleArray(e,i,r,s))),e)}handleObject(e,i={},r,s){let o=e;return Object.keys(i).forEach(c=>{const u=WX(o,c),f=WX(i,c),_=this.transpile(u,f,r,s);o=function hIe(n,t,e){n={...n};const i=t.split("."),r=i.length-1;return i.reduce((s,o,c)=>(s[o]=c===r?e:Array.isArray(s[o])?s[o].slice():{...s[o]},s&&s[o]),n),n}(o,c,_)}),o}handleArray(e,i={},r,s){return e.map(o=>this.transpile(o,i,r,s))}static \u0275fac=function(i){return new(i||n)(fe(Lm,8))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const KX=new je("TRANSLOCO_MISSING_HANDLER");let wIe=(()=>{class n{handle(e,i){return i.missingHandler.logMissingKey&&!i.prodMode&&console.warn(`%c Missing translation for '${e}'`,"font-size: 12px; color: red"),e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const QX=new je("TRANSLOCO_INTERCEPTOR");let CIe=(()=>{class n{preSaveTranslation(e){return e}preSaveTranslationKey(e,i){return i}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const JX=new je("TRANSLOCO_FALLBACK_STRATEGY");let cL,EIe=(()=>{class n{userConfig;constructor(e){this.userConfig=e}getNextLangs(){const e=this.userConfig.fallbackLang;if(!e)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(e)?e:[e]}static \u0275fac=function(i){return new(i||n)(fe(Lm))};static \u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();function y0(n){if(!n)return"";const t=n.split("/");return t.pop(),t.join("/")}function Fu(n){return n?n.split("/").pop():""}function oL(n,t,e="|"){if(pf(n)){const i=n.split(e),r=i.pop();return r===t?[!0,i.toString()]:[!1,r]}return[!1,""]}function aL(n,t){return function _Ie(n){return n&&iL(n.loader)}(n)?function DIe(n,t){return Object.keys(n).reduce((e,i)=>(e[`${t}/${i}`]=n[i],e),{})}(n.loader,t):void 0}function lL(n){return{scope:y0(n)||null,langName:Fu(n)}}function n7(n){const{path:t,inlineLoader:e,mainLoader:i,data:r}=n;if(e){if(!1===function pIe(n){return"function"==typeof n}(e[t]))throw`You're using an inline loader but didn't provide a loader for ${t}`;return e[t]().then(o=>o.default?o.default:o)}return i.getTranslation(t,r)}let O1=(()=>{class n{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;subscription=null;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new ve;events$=this.events.asObservable();config;constructor(e,i,r,s,o,c){this.loader=e,this.parser=i,this.missingHandler=r,this.interceptor=s,this.fallbackStrategy=c,this.loader||(this.loader=new uIe(this.translations)),cL=this,this.config=JSON.parse(JSON.stringify(o)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new G(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.subscription=this.events$.subscribe(u=>{"translationLoadSuccess"===u.type&&u.wasFailure&&this.setActiveLang(u.payload.langName)})}getDefaultLang(){return this.defaultLang}setDefaultLang(e){this.defaultLang=e}getActiveLang(){return this.lang.getValue()}setActiveLang(e){return this.parser.onLangChanged?.(e),this.lang.next(e),this.events.next({type:"langChanged",payload:lL(e)}),this}setAvailableLangs(e){this.availableLangs=e}getAvailableLangs(){return this.availableLangs}load(e,i={}){const r=this.cache.get(e);if(r)return r;let s;const o=this._isLangScoped(e);let c;o&&(c=y0(e));const u={path:e,mainLoader:this.loader,inlineLoader:i.inlineLoader,data:o?{scope:c}:void 0};if(this.useFallbackTranslation(e)){const _=o?`${c}/${this.firstFallbackLang}`:this.firstFallbackLang,x=function TIe({mainLoader:n,path:t,data:e,fallbackPath:i,inlineLoader:r}){return(i?[t,i]:[t]).map(o=>Y(n7({path:o,mainLoader:n,inlineLoader:r,data:e})).pipe(Ye(u=>({translation:u,lang:o}))))}({...u,fallbackPath:_});s=ZD(x)}else s=Y(n7(u));const f=s.pipe(function dIe(n=1/0){let t;t=n&&"object"==typeof n?n:{count:n};const{count:e=1/0,delay:i,resetOnSuccess:r=!1}=t;return e<=0?fn:Ue((s,o)=>{let u,c=0;const f=()=>{let _=!1;u=s.subscribe(ct(o,x=>{r&&(c=0),o.next(x)},void 0,x=>{if(c++<e){const T=()=>{u?(u.unsubscribe(),u=null,f()):_=!0};if(null!=i){const R="number"==typeof i?Om(i):rt(i(x,c)),F=ct(o,()=>{F.unsubscribe(),T()},()=>{o.complete()});R.subscribe(F)}else T()}else o.error(x)})),_&&(u.unsubscribe(),u=null,f())};f()})}(this.config.failedRetries),Gr(_=>{Array.isArray(_)?_.forEach(x=>{this.handleSuccess(x.lang,x.translation),x.lang!==e&&this.cache.set(x.lang,he({}))}):this.handleSuccess(e,_)}),Cu(_=>(this.config.prodMode||console.error(`Error while trying to load "${e}"`,_),this.handleFailure(e,i))),gC(1));return this.cache.set(e,f),f}translate(e,i={},r=this.getActiveLang()){if(!e)return e;const{scope:s,resolveLang:o}=this.resolveLangAndScope(r);if(Array.isArray(e))return e.map(f=>this.translate(s?`${s}.${f}`:f,i,o));e=s?`${s}.${e}`:e;const c=this.getTranslation(o),u=c[e];return u?this.parser.transpile(u,i,c,e):this._handleMissingKey(e,u,i)}selectTranslate(e,i,r,s=!1){let o;const c=(f,_)=>this.load(f,_).pipe(Ye(()=>s?this.translateObject(e,i,f):this.translate(e,i,f)));if(rL(r))return this.langChanges$.pipe(vt(f=>c(f)));if(function mIe(n){return Array.isArray(n)&&n.every(sL)}(r)||sL(r)){const f=Array.isArray(r)?r[0]:r;r=f.scope,o=aL(f,f.scope)}if(this.isLang(r)||this.isScopeWithLang(r))return c(r);const u=r;return this.langChanges$.pipe(vt(f=>c(`${u}/${f}`,{inlineLoader:o})))}isScopeWithLang(e){return this.isLang(Fu(e))}translateObject(e,i={},r=this.getActiveLang()){if(pf(e)||Array.isArray(e)){const{resolveLang:o,scope:c}=this.resolveLangAndScope(r);if(Array.isArray(e))return e.map(_=>this.translateObject(c?`${c}.${_}`:_,i,o));const u=this.getTranslation(o),f=function vIe(n){return UX(n)}(this.getObjectByKey(u,e=c?`${c}.${e}`:e));return function fIe(n){return 0===GX(n)}(f)?this.translate(e,i,r):this.parser.transpile(f,i,u,e)}const s=[];for(const[o,c]of this.getEntries(e))s.push(this.translateObject(o,c,r));return s}selectTranslateObject(e,i,r){if(pf(e)||Array.isArray(e))return this.selectTranslate(e,i,r,!0);const[[s,o],...c]=this.getEntries(e);return this.selectTranslateObject(s,o,r).pipe(Ye(u=>{const f=[u];for(const[_,x]of c)f.push(this.translateObject(_,x,r));return f}))}getTranslation(e){if(e){if(this.isLang(e))return this.translations.get(e)||{};{const{scope:i,resolveLang:r}=this.resolveLangAndScope(e),s=this.translations.get(r)||{};return this.getObjectByKey(s,i)}}return this.translations}selectTranslation(e){let i=this.langChanges$;if(e){const r=Fu(e)!==e;i=this.isLang(e)||r?he(e):this.langChanges$.pipe(Ye(s=>`${e}/${s}`))}return i.pipe(vt(r=>this.load(r).pipe(Ye(()=>this.getTranslation(r)))))}setTranslation(e,i=this.getActiveLang(),r={}){const o={merge:!0,emitChange:!0,...r},c=y0(i);let u=e;c&&(u=XX({[this.getMappedScope(c)]:e}));const f=c?Fu(i):i,_={...o.merge&&this.getTranslation(f),...u},x=this.config.flatten.aot?_:XX(_),T=this.interceptor.preSaveTranslation(x,f);this.translations.set(f,T),o.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(e,i,r=this.getActiveLang(),s={}){const o=this.interceptor.preSaveTranslationKey(e,i,r);this.setTranslation({[e]:o},r,{...s,merge:!0})}setFallbackLangForMissingTranslation({fallbackLang:e}){const i=Array.isArray(e)?e[0]:e;e&&this.useFallbackTranslation(i)&&(this.firstFallbackLang=i)}_handleMissingKey(e,i,r){if(this.config.missingHandler.allowEmpty&&""===i)return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;const s=this.translate(e,r,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,s}return this.missingHandler.handle(e,this.getMissingHandlerData(),r)}_isLangScoped(e){return-1===this.getAvailableLangsIds().indexOf(e)}isLang(e){return-1!==this.getAvailableLangsIds().indexOf(e)}_loadDependencies(e,i){const r=Fu(e);return this._isLangScoped(e)&&!this.isLoadedTranslation(r)?$a([this.load(r),this.load(e,{inlineLoader:i})]):this.load(e,{inlineLoader:i})}_completeScopeWithLang(e){return this._isLangScoped(e)&&!this.isLang(Fu(e))?`${e}/${this.getActiveLang()}`:e}_setScopeAlias(e,i){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[e]=i}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.cache.clear()}isLoadedTranslation(e){return GX(this.getTranslation(e))}getAvailableLangsIds(){return pf(this.getAvailableLangs()[0])?this.getAvailableLangs():this.getAvailableLangs().map(i=>i.id)}getMissingHandlerData(){return{...this.config,activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang}}useFallbackTranslation(e){return this.config.missingHandler.useFallbackTranslation&&e!==this.firstFallbackLang}handleSuccess(e,i){this.setTranslation(i,e,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:lL(e)}),this.failedLangs.forEach(r=>this.cache.delete(r)),this.failedLangs.clear()}handleFailure(e,i){rL(i.failedCounter)&&(i.failedCounter=0,i.fallbackLangs||(i.fallbackLangs=this.fallbackStrategy.getNextLangs(e)));const r=e.split("/"),o=i.fallbackLangs[i.failedCounter];if(this.failedLangs.add(e),this.cache.has(o))return this.handleSuccess(o,this.getTranslation(o)),ti;if(!o||o===r[r.length-1]){let f="Unable to load translation and all the fallback languages";throw r.length>1&&(f+=", did you misspelled the scope name?"),new Error(f)}let u=o;return r.length>1&&(r[r.length-1]=o,u=r.join("/")),i.failedCounter++,this.events.next({type:"translationLoadFailure",payload:lL(e)}),this.load(u,i)}getMappedScope(e){const{scopeMapping:i={}}=this.config;return i[e]||$X(e)}resolveLangAndScope(e){let r,i=e;if(this._isLangScoped(e)){const s=Fu(e),o=this.isLang(s);i=o?s:this.getActiveLang(),r=this.getMappedScope(o?y0(e):e)}return{scope:r,resolveLang:i}}getObjectByKey(e,i){const r={},s=`${i}.`;for(const o in e)o.startsWith(s)&&(r[o.replace(s,"")]=e[o]);return r}getEntries(e){return e instanceof Map?e.entries():Object.entries(e)}static \u0275fac=function(i){return new(i||n)(fe(jX,8),fe(ZX),fe(KX),fe(QX),fe(Lm),fe(JX))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const dL=new je("TRANSLOCO_LANG"),uL=(new je("TRANSLOCO_LOADING_TEMPLATE"),new je("TRANSLOCO_SCOPE"));class r7{initialized=!1;resolve({inline:t,provider:e,active:i}){let r=i;if(this.initialized)return r=i,r;if(e){const[,s]=oL(e,"static");r=s}if(t){const[,s]=oL(t,"static");r=s}return this.initialized=!0,r}resolveLangBasedOnScope(t){return y0(t)?Fu(t):t}resolveLangPath(t,e){return e?`${e}/${t}`:t}}class s7{service;constructor(t){this.service=t}resolve(t){const{inline:e,provider:i}=t;if(e)return e;if(i){if(sL(i)){const{scope:r,alias:s=$X(r)}=i;return this.service._setScopeAlias(r,s),r}return i}}}let ud=(()=>{class n{service;providerScope;providerLang;cdr;subscription=null;lastValue="";lastKey;path;langResolver=new r7;scopeResolver;constructor(e,i,r,s){this.service=e,this.providerScope=i,this.providerLang=r,this.cdr=s,this.scopeResolver=new s7(this.service)}transform(e,i,r){if(!e)return e;const s=i?`${e}${JSON.stringify(i)}`:e;if(s===this.lastKey)return this.lastValue;this.lastKey=s,this.subscription?.unsubscribe();const o=function e7(n,t){const[e]=oL(t,"static");return!e&&!!n.config.reRenderOnLangChange}(this.service,this.providerLang||r);return this.subscription=this.service.langChanges$.pipe(vt(c=>{const u=this.langResolver.resolve({inline:r,provider:this.providerLang,active:c});return Array.isArray(this.providerScope)?ZD(this.providerScope.map(f=>this.resolveScope(u,f))):this.resolveScope(u,this.providerScope)}),function t7(n){return n?t=>t:ni(1)}(o)).subscribe(()=>this.updateValue(e,i)),this.lastValue}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscription=null}updateValue(e,i){const r=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.service.translate(e,i,r),this.cdr.markForCheck()}resolveScope(e,i){const r=this.scopeResolver.resolve({inline:void 0,provider:i});this.path=this.langResolver.resolveLangPath(e,r);const s=aL(i,r);return this.service._loadDependencies(this.path,s)}static \u0275fac=function(i){return new(i||n)(W(O1,16),W(uL,24),W(dL,24),W(Dr,16))};static \u0275pipe=Jr({name:"transloco",type:n,pure:!1,standalone:!0})}return n})(),kIe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rt({type:n});static \u0275inj=ke({})}return n})();function MIe(n){const t=[PIe(bIe),LIe(wIe),FIe(CIe),NIe(EIe)];return n.config&&t.push(function RIe(n){return Wl([{provide:Lm,useValue:yIe(n)}])}(n.config)),n.loader&&t.push(function OIe(n){return Wl([{provide:jX,useClass:n}])}(n.loader)),t}function PIe(n){return Wl([{provide:ZX,useClass:n,deps:[Lm]}])}function NIe(n){return Wl([{provide:JX,useClass:n,deps:[Lm]}])}function LIe(n){return Wl([{provide:KX,useClass:n}])}function FIe(n){return Wl([{provide:QX,useClass:n}])}function BIe(n,t){if(1&n){const e=jn();ie(0,"div",12)(1,"div",13),Je("click",function(){const s=wt(e).$implicit;return yt(De().redirectPetPage(s.id||""))}),it(2,"img",14),ie(3,"div",15)(4,"p"),Pe(5),se()()()()}if(2&n){const e=t.$implicit;ne(1),Yl("id",e.id),ne(1),Yl("src",e.profile_image,Tp),ne(3),dn(e.name)}}new je("TRANSLOCO_TEST_LANGS - Available testing languages"),new je("TRANSLOCO_TEST_OPTIONS - Testing options");let zIe=(()=>{class n{constructor(e,i,r,s,o){this.apiService=e,this.router=i,this.datePipe=r,this.fb=s,this.storageService=o,this.savedPets=[],this.registerPetForm=this.fb.group({name:["",[_s.required]],type:["",_s.required],breed:["",[_s.required]],birth:["",_s.required]}),this.showData()}openForm(){const e=document.getElementById("myForm");e&&(e.style.display="block")}closeForm(){const e=document.getElementById("myForm");e&&(e.style.display="none")}redirectPetPage(e){this.router.navigate(["pet-profile"],{queryParams:{petId:e}})}registerPet(){var e={client_id:this.storageService.SessionGetStorage("uid"),name:this.registerPetForm.value.name,type:this.registerPetForm.value.type,breed:this.registerPetForm.value.breed,birth:this.registerPetForm.value.birth};console.log(e),this.apiService.postClientPets(e),this.closeForm()}showData(){this.apiService.getClientPets(this.storageService.SessionGetStorage("uid")).then(e=>{this.apiService.petsArray=e;for(const i of this.apiService.petsArray)""==i.profile_image?i.profile_image="Toby"==i.name?"/assets/img/dogImage1.jpg":"Dobby"==i.name?"/assets/img/dogImage2.jpg":"Darwin"==i.name?"/assets/img/catImage.avif":"/assets/img/logo_default.svg":"Toby"==i.name?i.profile_image="/assets/img/dogImage1.jpg":"Dobby"==i.name?i.profile_image="/assets/img/dogImage2.jpg":"Darwin"==i.name&&(i.profile_image="/assets/img/catImage.avif");console.log(e)})}onDateInput(e){this.registerPetForm.value.birth=this.datePipe.transform(e.value,"ddMMyyyy")+"_00:00"}static#e=this.\u0275fac=function(i){return new(i||n)(W(Mu),W(rs),W(Lv),W(wN),W(gc))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-pets-list"]],decls:31,vars:29,consts:[[1,"open-button",3,"click"],["id","myForm",1,"form-popup"],[1,"form-container",3,"formGroup","ngSubmit"],["type","text","formControlName","name","required","",3,"placeholder"],["type","text","formControlName","type","required","",3,"placeholder"],["type","text","formControlName","breed","required","",3,"placeholder"],["formControlName","birth","matInput","","readonly","","required","",3,"matDatepicker","click","dateInput"],["matSuffix","",3,"for"],["picker",""],["type","submit",1,"btn",3,"disabled"],["type","button",1,"btn","cancel",3,"click"],["class","module","style","text-align: center;",4,"ngFor","ngForOf"],[1,"module",2,"text-align","center"],[1,"image-container",3,"id","click"],["width","50px","alt","Pet",3,"src"],[1,"overlay"]],template:function(i,r){if(1&i){const s=jn();ie(0,"button",0),Je("click",function(){return r.openForm()}),Pe(1,"+"),se(),ie(2,"div",1)(3,"form",2),Je("ngSubmit",function(){return r.registerPet()}),ie(4,"h1"),Pe(5),Nt(6,"transloco"),se(),it(7,"input",3),Nt(8,"transloco"),it(9,"input",4),Nt(10,"transloco"),it(11,"input",5),Nt(12,"transloco"),ie(13,"mat-form-field")(14,"mat-label"),Pe(15),Nt(16,"transloco"),se(),ie(17,"input",6),Je("click",function(){return wt(s),yt(oi(20).open())})("dateInput",function(c){return r.onDateInput(c)}),se(),it(18,"mat-datepicker-toggle",7)(19,"mat-datepicker",null,8),se(),ie(21,"button",9),Pe(22),Nt(23,"transloco"),se(),ie(24,"button",10),Je("click",function(){return r.closeForm()}),Pe(25),Nt(26,"transloco"),se()()(),ie(27,"h1"),Pe(28),Nt(29,"transloco"),se(),Te(30,BIe,6,3,"div",11)}if(2&i){const s=oi(20);ne(3),de("formGroup",r.registerPetForm),ne(2),dn(vn(6,13,"register_pet")),ne(2),de("placeholder",vn(8,15,"pet_name")),ne(2),de("placeholder",vn(10,17,"pet_type")),ne(2),de("placeholder",vn(12,19,"pet_breed")),ne(4),dn(vn(16,21,"pet_birth")),ne(2),de("matDatepicker",s),ne(1),de("for",s),ne(3),de("disabled",r.registerPetForm.invalid),ne(1),dn(vn(23,23,"register_button")),ne(3),dn(vn(26,25,"close_button")),ne(3),Rn(" ",vn(29,27,"your_pets"),"\n"),ne(2),de("ngForOf",r.apiService.petsArray)}},dependencies:[Wr,u1,Em,JD,e1,h1,af,r0,eIe,tL,oIe,xTe,gTe,WN,cTe,ud],styles:[".whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:10px;border-radius:20px;width:350px;margin-right:40px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}*[_ngcontent-%COMP%]{box-sizing:border-box}.open-button[_ngcontent-%COMP%]{background-color:#555;color:#fff;padding:16px 20px;border:none;cursor:pointer;opacity:.8;position:fixed;bottom:80px;right:10px}.form-popup[_ngcontent-%COMP%]{display:none;position:fixed;bottom:80px;right:15px;border:3px solid #f1f1f1;z-index:9}.form-container[_ngcontent-%COMP%]{max-width:300px;padding:10px;background-color:#fff}.form-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:15px;margin:5px 0 22px;border:none;background:#f1f1f1}.form-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{background-color:#ddd;outline:none}.form-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff;padding:16px 20px;border:none;cursor:pointer;width:50%;margin-bottom:10px;opacity:.8}.form-container[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:red}.form-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .open-button[_ngcontent-%COMP%]:hover{opacity:1}"]})}return n})();var gf=function(n){return n.UserNotFound="auth/user-not-found",n.WrongPassword="auth/wrong-password",n.EmailInUse="auth/email-already-in-use",n.WeakPassword="auth/weak-password",n.BadEmail="auth/invalid-email",n.InvalidLogin="auth/invalid-login-credentials",n}(gf||{});let o7=(()=>{class n{constructor(){}firebaseError(e){switch(e){case gf.UserNotFound:return"User does not exist";case gf.WrongPassword:return"Wrong password";case gf.EmailInUse:return"Email already in use";case gf.WeakPassword:return"Weak password, use 6 characters at least";case gf.BadEmail:return"Invalid Email";case gf.InvalidLogin:return"Credentials not accepted";default:return"Unknown error"}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HIe(n,t){1&n&&(ie(0,"span",14)(1,"strong"),Pe(2,"Mail"),se(),Pe(3," is required "),se())}function UIe(n,t){1&n&&(ie(0,"span",14),Pe(1," Mail must be "),ie(2,"strong"),Pe(3,"valid"),se()())}function jIe(n,t){1&n&&(ie(0,"span",14)(1,"strong"),Pe(2,"Password"),se(),Pe(3," is required "),se())}let WIe=(()=>{class n{constructor(e,i,r,s,o,c,u){this.fb=e,this.afAuth=i,this.router=r,this.fireBaseErrorService=s,this.toastr=o,this.storageService=c,this.apiService=u,this.loginUser=this.fb.group({email:["",[_s.required,_s.email]],password:["",_s.required]}),this.subscription=this.storageService.isLoggedIn.subscribe(f=>{1==f&&this.router.navigate(["dashboard"])}),this.checkSession()}checkSession(){const e=localStorage.getItem("usrMail")||"",i=localStorage.getItem("usrPswd")||"";this.login(e,i,!0)}login(e,i,r){var s=this.loginUser.value.email,o=this.loginUser.value.password;if(r){if(""==e||""==i)return;s=e,o=i}localStorage.setItem("usrMail",s),localStorage.setItem("usrPswd",o),console.log("Email: "+s+" Password: "+o),this.afAuth.signInWithEmailAndPassword(s,o).then(c=>{this.storageService.isLoggedNext(!0),this.storageService.SessionAddStorage("uid",c.user?.uid),this.router.navigate(["home"])}).catch(c=>{this.toastr.error(this.fireBaseErrorService.firebaseError(c.code),"Error")})}GoogleAuth(){return this.AuthLogin(new $9.W)}AuthLogin(e){return this.afAuth.signInWithPopup(e).then(i=>{this.storageService.isLoggedNext(!0),this.storageService.SessionAddStorage("uid",i.user?.uid),console.log(i.user?.uid),this.router.navigate(["home"])}).catch(i=>{console.log(i)})}static#e=this.\u0275fac=function(i){return new(i||n)(W(wN),W(Wc),W(rs),W(o7),W(c0),W(gc),W(Mu))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-login"]],decls:27,vars:5,consts:[[1,"wrapper"],[1,"body"],["src","../../../assets/img/login-person.png","alt","Login",1,"logo"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["class","text-danger errorLabel",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"form-group","mt-3"],[1,"btn","btn-lg","btn-google",3,"click"],["src","/assets/imgs/google.png","alt","Login w google"],[1,"btn","btn-lg","btn-reg",3,"click"],[1,"text-danger","errorLabel"]],template:function(i,r){if(1&i&&(ie(0,"div",0)(1,"div",1),it(2,"img",2),ie(3,"h1"),Pe(4,"Login"),se(),ie(5,"form",3),Je("ngSubmit",function(){return r.login("","",!1)}),ie(6,"div",4),it(7,"input",5),ie(8,"label"),Pe(9,"Email"),se(),Te(10,HIe,4,0,"span",6),Te(11,UIe,4,0,"span",6),se(),ie(12,"div",4),it(13,"input",7),ie(14,"label"),Pe(15,"Password"),se(),Te(16,jIe,4,0,"span",6),se(),ie(17,"div",8)(18,"button",9),Pe(19,"Login"),se()()(),ie(20,"div",10)(21,"button",11),Je("click",function(){return r.GoogleAuth()}),it(22,"img",12),Pe(23," Login with google"),se()(),ie(24,"div",10)(25,"button",13),Je("click",function(){return r.router.navigate(["register"])}),Pe(26,"Register"),se()()()()),2&i){let s,o,c;ne(5),de("formGroup",r.loginUser),ne(5),de("ngIf",(null==(s=r.loginUser.get("email"))?null:s.hasError("required"))&&(null==(s=r.loginUser.get("email"))?null:s.touched)),ne(1),de("ngIf",(null==(o=r.loginUser.get("email"))?null:o.hasError("email"))&&(null==(o=r.loginUser.get("email"))?null:o.touched)),ne(5),de("ngIf",(null==(c=r.loginUser.get("password"))?null:c.hasError("required"))&&(null==(c=r.loginUser.get("password"))?null:c.touched)),ne(2),de("disabled",r.loginUser.invalid)}},dependencies:[Tr,u1,Em,JD,e1,af,r0],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:10px}.body[_ngcontent-%COMP%]{width:100%;max-width:330px;text-align:center}.btn-google[_ngcontent-%COMP%]{background-color:#fff;color:#444;width:100%;font-weight:500}.btn-reg[_ngcontent-%COMP%]{background-color:#9d9d9d;color:#fff;width:100%;font-weight:500}.btn-google[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-bottom:4px;margin-right:14px}.btn-reg[_ngcontent-%COMP%]{background-color:#9d9d9d;color:#fff;width:100%}"]})}return n})();function GIe(n,t){1&n&&(ie(0,"span",14)(1,"strong"),Pe(2,"Mail"),se(),Pe(3," is required "),se())}function $Ie(n,t){1&n&&(ie(0,"span",14),Pe(1," Mail must be "),ie(2,"strong"),Pe(3,"valid"),se()())}function YIe(n,t){1&n&&(ie(0,"span",14)(1,"strong"),Pe(2,"Password"),se(),Pe(3," is required "),se())}function qIe(n,t){1&n&&(ie(0,"span",14)(1,"strong"),Pe(2,"Password"),se(),Pe(3," is different "),se())}function XIe(n,t){1&n&&(ie(0,"span",14)(1,"strong"),Pe(2,"Name"),se(),Pe(3," is required "),se())}function ZIe(n,t){1&n&&(ie(0,"span",14),Pe(1," Provide at least "),ie(2,"strong"),Pe(3,"one surname"),se()())}function KIe(n,t){1&n&&(ie(0,"span",14)(1,"strong"),Pe(2,"Phone number"),se(),Pe(3," is required "),se())}function QIe(n,t){1&n&&(ie(0,"span",14),Pe(1," Phone number "),ie(2,"strong"),Pe(3,"must be valid "),se()())}function JIe(n,t){1&n&&(ie(0,"span",14)(1,"strong"),Pe(2,"Address"),se(),Pe(3," is required "),se())}let eSe=(()=>{class n{constructor(e,i,r,s,o,c,u){this.fb=e,this.afAuth=i,this.router=r,this.fireBaseErrorService=s,this.toastr=o,this.storageService=c,this.apiService=u,this.registerUser=this.fb.group({email:["",[_s.required,_s.email]],password:["",_s.required],password_rep:["",[_s.required]],name:["",_s.required],surnames:["",[_s.required]],phone:[" ",[_s.required,_s.min(1e8),_s.max(999999999)]],address:["",_s.required]}),this.subscription=this.storageService.isLoggedIn.subscribe(f=>{1==f&&this.router.navigate(["dashboard"])})}register(){const e=this.registerUser.value.email,i=this.registerUser.value.password;this.registerUser.value.password_rep!=this.registerUser.value.password&&this.toastr.error("Passwords do not match","Password error"),this.afAuth.createUserWithEmailAndPassword(e,i).then(r=>{this.apiService.addUser({id:r.user?.uid,name:this.registerUser.value.name,address:{latitude:"0.0",longitude:"0.0"},email:this.registerUser.value.email,phone:this.registerUser.value.phone,surnames:this.registerUser.value.surnames}),this.toastr.success("Register completed","Congratulations!"),this.router.navigate([""])}).catch(r=>{this.toastr.error(this.fireBaseErrorService.firebaseError(r.code),"Error")})}static#e=this.\u0275fac=function(i){return new(i||n)(W(wN),W(Wc),W(rs),W(o7),W(c0),W(gc),W(Mu))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-register"]],decls:45,vars:11,consts:[[1,"wrapper"],[1,"body"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["class","text-danger errorLabel",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["type","password","formControlName","password_rep","placeholder","Password Repeat",1,"form-control"],["type","text","formControlName","name","placeholder","Name",1,"form-control"],["type","text","formControlName","surnames","placeholder","Surnames",1,"form-control"],["type","tel","formControlName","phone","placeholder","Phone",1,"form-control"],["type","text","formControlName","address","placeholder","Address",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"text-danger","errorLabel"]],template:function(i,r){if(1&i&&(ie(0,"div",0)(1,"div",1)(2,"h1"),Pe(3,"Register"),se(),ie(4,"form",2),Je("ngSubmit",function(){return r.register()}),ie(5,"div",3),it(6,"input",4),ie(7,"label"),Pe(8,"Email"),se(),Te(9,GIe,4,0,"span",5),Te(10,$Ie,4,0,"span",5),se(),ie(11,"div",3),it(12,"input",6),ie(13,"label"),Pe(14,"Password"),se(),Te(15,YIe,4,0,"span",5),se(),ie(16,"div",3),it(17,"input",7),ie(18,"label"),Pe(19,"Repeat Password"),se(),Te(20,qIe,4,0,"span",5),se(),ie(21,"div",3),it(22,"input",8),ie(23,"label"),Pe(24,"Name"),se(),Te(25,XIe,4,0,"span",5),se(),ie(26,"div",3),it(27,"input",9),ie(28,"label"),Pe(29,"Surnames"),se(),Te(30,ZIe,4,0,"span",5),se(),ie(31,"div",3),it(32,"input",10),ie(33,"label"),Pe(34,"Phone number"),se(),Te(35,KIe,4,0,"span",5),Te(36,QIe,4,0,"span",5),se(),ie(37,"div",3),it(38,"input",11),ie(39,"label"),Pe(40,"Address"),se(),Te(41,JIe,4,0,"span",5),se(),ie(42,"div",12)(43,"button",13),Pe(44,"Register"),se()()()()()),2&i){let s,o,c,u,f,_,x,T,R;ne(4),de("formGroup",r.registerUser),ne(5),de("ngIf",(null==(s=r.registerUser.get("email"))?null:s.hasError("required"))&&(null==(s=r.registerUser.get("email"))?null:s.touched)),ne(1),de("ngIf",(null==(o=r.registerUser.get("email"))?null:o.hasError("email"))&&(null==(o=r.registerUser.get("email"))?null:o.touched)),ne(5),de("ngIf",(null==(c=r.registerUser.get("password"))?null:c.hasError("required"))&&(null==(c=r.registerUser.get("password"))?null:c.touched)),ne(5),de("ngIf",(null==(u=r.registerUser.get("password_rep"))?null:u.hasError("checkPasswords"))&&(null==(u=r.registerUser.get("passwor_rep"))?null:u.touched)),ne(5),de("ngIf",(null==(f=r.registerUser.get("name"))?null:f.hasError("required"))&&(null==(f=r.registerUser.get("name"))?null:f.touched)),ne(5),de("ngIf",(null==(_=r.registerUser.get("surnames"))?null:_.hasError("required"))&&(null==(_=r.registerUser.get("surnames"))?null:_.touched)),ne(5),de("ngIf",(null==(x=r.registerUser.get("phone"))?null:x.hasError("required"))&&(null==(x=r.registerUser.get("phone"))?null:x.touched)),ne(1),de("ngIf",((null==(T=r.registerUser.get("phone"))?null:T.hasError("min"))||(null==(T=r.registerUser.get("phone"))?null:T.hasError("max")))&&(null==(T=r.registerUser.get("phone"))?null:T.touched)),ne(5),de("ngIf",(null==(R=r.registerUser.get("address"))?null:R.hasError("address"))&&(null==(R=r.registerUser.get("address"))?null:R.touched)),ne(2),de("disabled",r.registerUser.invalid)}},dependencies:[Tr,u1,Em,JD,e1,af,r0],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:10px}.body[_ngcontent-%COMP%]{width:100%;max-width:330px;margin:auto;padding:30px;text-align:center}"]})}return n})();const a7=["*"];class Dl{_clearListeners(){for(const t of this._listeners)t.remove();this._listeners=[]}constructor(t){this._ngZone=t,this._pending=[],this._listeners=[],this._targetStream=new G(void 0)}getLazyEmitter(t){return this._targetStream.pipe(vt(e=>{const i=new zt(r=>{if(!e)return void this._pending.push({observable:i,observer:r});const s=e.addListener(t,o=>{this._ngZone.run(()=>r.next(o))});if(s)return this._listeners.push(s),()=>s.remove();r.complete()});return i}))}setTarget(t){const e=this._targetStream.value;t!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(t),this._pending.forEach(i=>i.observable.subscribe(i.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const b0={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"};let Bo=(()=>{class n{set center(e){this._center=e}set zoom(e){this._zoom=e}set options(e){this._options=e||b0}constructor(e,i,r){if(this._elementRef=e,this._ngZone=i,this._eventManager=new Dl(He(ht)),this.height="500px",this.width="500px",this._options=b0,this.mapInitialized=new We,this.authFailure=new We,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=UA(r),this._isBrowser){const s=window;this._existingAuthFailureCallback=s.gm_authFailure,s.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(e){(e.height||e.width)&&this._setSize();const i=this.googleMap;i&&(e.options&&i.setOptions(this._combineOptions()),e.center&&this._center&&i.setCenter(this._center),e.zoom&&null!=this._zoom&&i.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&i.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._ngZone.runOutsideAngular(()=>{this.googleMap=new google.maps.Map(this._mapEl,this._combineOptions())}),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap))}ngOnDestroy(){this._eventManager.destroy(),this._isBrowser&&(window.gm_authFailure=this._existingAuthFailureCallback)}fitBounds(e,i){this._assertInitialized(),this.googleMap.fitBounds(e,i)}panBy(e,i){this._assertInitialized(),this.googleMap.panBy(e,i)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,i){this._assertInitialized(),this.googleMap.panToBounds(e,i)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const e=this._mapEl.style;e.height=null===this.height?"":d7(this.height)||"500px",e.width=null===this.width?"":d7(this.width)||"500px"}}_combineOptions(){const e=this._options||{};return{...e,center:this._center||e.center||b0.center,zoom:this._zoom??e.zoom??b0.zoom,mapTypeId:this.mapTypeId||e.mapTypeId||b0.mapTypeId}}_assertInitialized(){}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(ht),W(wo))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[Ln],ngContentSelectors:a7,decls:2,vars:0,consts:[[1,"map-container"]],template:function(i,r){1&i&&(al(),it(0,"div",0),Rr(1))},encapsulation:2,changeDetection:0})}return n})();const tSe=/([A-Za-z%]+)$/;function d7(n){return null==n?"":tSe.test(n)?n:`${n}px`}const lSe={position:{lat:37.421995,lng:-122.084092}};let fL=(()=>{class n{set title(e){this._title=e}set position(e){this._position=e}set label(e){this._label=e}set clickable(e){this._clickable=e}set options(e){this._options=e}set icon(e){this._icon=e}set visible(e){this._visible=e}constructor(e,i){this._googleMap=e,this._ngZone=i,this._eventManager=new Dl(He(ht)),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this.marker=new google.maps.Marker(this._combineOptions())}),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker))}ngOnChanges(e){const{marker:i,_title:r,_position:s,_label:o,_clickable:c,_icon:u,_visible:f}=this;i&&(e.options&&i.setOptions(this._combineOptions()),e.title&&void 0!==r&&i.setTitle(r),e.position&&s&&i.setPosition(s),e.label&&void 0!==o&&i.setLabel(o),e.clickable&&void 0!==c&&i.setClickable(c),e.icon&&u&&i.setIcon(u),e.visible&&void 0!==f&&i.setVisible(f))}ngOnDestroy(){this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){const e=this._options||lSe;return{...e,title:this._title||e.title,position:this._position||e.position,label:this._label||e.label,clickable:this._clickable??e.clickable,map:this._googleMap.googleMap,icon:this._icon||e.icon,visible:this._visible??e.visible}}_assertInitialized(){}static#e=this.\u0275fac=function(i){return new(i||n)(W(Bo),W(ht))};static#t=this.\u0275dir=$e({type:n,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"],features:[Ln]})}return n})(),vSe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),u7=(()=>{class n{constructor(e){this.httpClient=e,this.zoom=15,this.options={mapTypeId:"hybrid",zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0,maxZoom:15,minZoom:8,disableDefaultUI:!0},this.markerOptions={draggable:!1,icon:{url:"../assets/mapIcons/user_position.svg",scaledSize:new google.maps.Size(50,50)}},this.parkMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_park.svg",scaledSize:new google.maps.Size(50,50)}},this.cofeeMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_cofee.svg",scaledSize:new google.maps.Size(50,50)}},this.hairMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_hair.svg",scaledSize:new google.maps.Size(50,50)}},this.hotelMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_hotel.svg",scaledSize:new google.maps.Size(50,50)}},this.storeMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_store.svg",scaledSize:new google.maps.Size(50,50)}},this.toystoreMarkerOptions={draggable:!1,icon:{url:"../assets/mapIcons/map_toystore.svg",scaledSize:new google.maps.Size(50,50)}},this.markers=[],this.userMarker=new google.maps.Marker,this.marker1=new google.maps.Marker,this.marker2=new google.maps.Marker,this.marker3=new google.maps.Marker,this.marker4=new google.maps.Marker,this.marker5=new google.maps.Marker,this.marker6=new google.maps.Marker,this.apiKey="AIzaSyAouWao_x1bulJ9RkrfYpYP49u2a9RzSXw"}ngOnInit(){this.getPosition().then(e=>{e&&(this.center=e,this.userMarker.setPosition(e))}),this.generateMockMarkers()}generateMockMarkers(){this.marker1.setPosition({lat:41.616858,lng:.644994}),this.marker2.setPosition({lat:41.602403,lng:.646611}),this.marker3.setPosition({lat:41.593508,lng:.629787}),this.marker4.setPosition({lat:41.63944,lng:.627794}),this.marker5.setPosition({lat:41.627029,lng:.617831}),this.marker6.setPosition({lat:41.623057,lng:.601558}),this.marker1.setIcon()}getNearbyRestaurants(e){return fetch(`https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${e.lat},${e.lng}&radius=500&type=restaurant&key=${this.apiKey}`).then(s=>s.json()).then(s=>s.results).catch(s=>(console.error("Error al obtener restaurantes cercanos:",s),[]))}getPosition(){return new Promise((e,i)=>{navigator.geolocation.getCurrentPosition(r=>{e({lng:r.coords.longitude,lat:r.coords.latitude})},r=>{i(r)})})}toggleButtonClass(e,i){var r=document.getElementById(e);r instanceof HTMLButtonElement&&(r.classList.contains("button-on")?(r.classList.remove("button-on"),r.classList.add("button-off"),i.setVisible(!0)):(r.classList.add("button-on"),r.classList.remove("button-off"),i.setVisible(!1)))}obtainCoordByStr(){alert("executing...");const i=document.getElementById("searchInput").value,s=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(i)}&key=${this.apiKey}`;this.httpClient.get(s).subscribe(o=>{if("OK"===o.status&&o.results.length>0){const c=o.results[0].geometry.location;console.log(i,c),this.center=c,this.userMarker.setPosition(c)}})}static#e=this.\u0275fac=function(i){return new(i||n)(W(m1))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-map-page"]],decls:59,vars:46,consts:[["id","searchInput","placeholder","Av/ John Doe 1234",1,"input",3,"keydown.enter"],["height","500px","width","100%",3,"zoom","center"],["id","",3,"options","position"],["id","parkMarker",3,"options","position","visible"],["id","cafeMarker",3,"options","position","visible"],["id","hairMarker",3,"options","position","visible"],["id","hotelMarker",3,"options","position","visible"],["id","storeMarker",3,"options","position","visible"],["id","petstoreMarker",3,"options","position","visible"],[1,"button-container"],["id","storeBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/shop_ico.svg","alt",""],["id","parkBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/park_ico.svg","alt",""],["id","cafeBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/cafe_ico.svg","alt",""],["id","homeBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/hotel_ico.svg","alt",""],["id","hairBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/hair_ico.svg","alt",""],["id","petstoreBtn",1,"button-off",3,"click"],["src","/assets/mapIcons/samp/toystore_ico.svg","alt",""]],template:function(i,r){1&i&&(ie(0,"h1"),Pe(1),Nt(2,"transloco"),se(),ie(3,"h2"),Pe(4),Nt(5,"transloco"),se(),ie(6,"input",0),Je("keydown.enter",function(){return r.obtainCoordByStr()}),se(),ie(7,"google-map",1),it(8,"map-marker",2)(9,"map-marker",3)(10,"map-marker",4)(11,"map-marker",5)(12,"map-marker",6)(13,"map-marker",7)(14,"map-marker",8),se(),ie(15,"div",9)(16,"div")(17,"button",10),Je("click",function(){return r.toggleButtonClass("storeBtn",r.marker5)}),it(18,"img",11),se(),it(19,"br"),ie(20,"label"),Pe(21),Nt(22,"transloco"),se()(),ie(23,"div")(24,"button",12),Je("click",function(){return r.toggleButtonClass("parkBtn",r.marker1)}),it(25,"img",13),se(),it(26,"br"),ie(27,"label"),Pe(28),Nt(29,"transloco"),se()(),ie(30,"div")(31,"button",14),Je("click",function(){return r.toggleButtonClass("cafeBtn",r.marker2)}),it(32,"img",15),se(),it(33,"br"),ie(34,"label"),Pe(35),Nt(36,"transloco"),se()()(),ie(37,"div",9)(38,"div")(39,"button",16),Je("click",function(){return r.toggleButtonClass("homeBtn",r.marker4)}),it(40,"img",17),se(),it(41,"br"),ie(42,"label"),Pe(43),Nt(44,"transloco"),se()(),ie(45,"div")(46,"button",18),Je("click",function(){return r.toggleButtonClass("hairBtn",r.marker3)}),it(47,"img",19),se(),it(48,"br"),ie(49,"label"),Pe(50),Nt(51,"transloco"),se()(),ie(52,"div")(53,"button",20),Je("click",function(){return r.toggleButtonClass("petstoreBtn",r.marker6)}),it(54,"img",21),se(),it(55,"br"),ie(56,"label"),Pe(57),Nt(58,"transloco"),se()()()),2&i&&(ne(1),dn(vn(2,30,"interactive_maps")),ne(3),dn(vn(5,32,"find_location")),ne(3),de("zoom",12)("center",r.center),ne(1),de("options",r.markerOptions)("position",r.userMarker.getPosition()),ne(1),de("options",r.parkMarkerOptions)("position",r.marker1.getPosition())("visible",r.marker1.getVisible()),ne(1),de("options",r.cofeeMarkerOptions)("position",r.marker2.getPosition())("visible",r.marker2.getVisible()),ne(1),de("options",r.hairMarkerOptions)("position",r.marker3.getPosition())("visible",r.marker3.getVisible()),ne(1),de("options",r.hotelMarkerOptions)("position",r.marker4.getPosition())("visible",r.marker4.getVisible()),ne(1),de("options",r.storeMarkerOptions)("position",r.marker5.getPosition())("visible",r.marker5.getVisible()),ne(1),de("options",r.toystoreMarkerOptions)("position",r.marker6.getPosition())("visible",r.marker6.getVisible()),ne(7),dn(vn(22,34,"petstore")),ne(7),dn(vn(29,36,"park")),ne(7),dn(vn(36,38,"cafe")),ne(8),dn(vn(44,40,"hotel")),ne(7),dn(vn(51,42,"hairdresser")),ne(7),dn(vn(58,44,"toy")))},dependencies:[Bo,fL,ud],styles:[".button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:25px 10px;text-align:center}.button-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:0 0 calc(33.33% - 10px)}.button-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}h2[_ngcontent-%COMP%]{font-size:16px;margin-top:20px;margin-bottom:-20px}.button-on[_ngcontent-%COMP%]{margin:10px 0;padding:24px;background-color:#fff;border-radius:10px;box-shadow:#00000059 0 5px 15px;border:none;transition:background-color .3s ease}.button-off[_ngcontent-%COMP%]{margin:10px 0;padding:24px;background-color:#a9dfaa;border-radius:10px;box-shadow:inset 0 0 10px #00000080;border:none;transition:background-color .3s ease}.input[_ngcontent-%COMP%]{width:100%;border-radius:10px;margin-bottom:20px}"]})}return n})();function P1(n){return(P1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function En(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function xi(n){En(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||"object"===P1(n)&&"[object Date]"===t?new Date(n.getTime()):"number"==typeof n||"[object Number]"===t?new Date(n):(("string"==typeof n||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function h7(n,t){En(2,arguments);var e=xi(n),i=xi(t);return e.getFullYear()===i.getFullYear()&&e.getMonth()===i.getMonth()}function x0(n){En(1,arguments);var t=xi(n);return t.setHours(0,0,0,0),t}function f7(n,t){En(2,arguments);var e=x0(n),i=x0(t);return e.getTime()===i.getTime()}var bSe=function(){function n(){}return n.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},n.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},n.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},n.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},n.prototype.position=function(t,e){void 0===e&&(e=!0);var i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i={top:(i=t.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},n.prototype.offset=function(t,e){void 0===e&&(e=!0);var i=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s},n.prototype.positionElements=function(t,e,i,r){var s=i.split("-"),o=s[0],c=void 0===o?"top":o,u=s[1],f=void 0===u?"center":u,_=r?this.offset(t,!1):this.position(t,!1),x=this.getAllStyles(e),T=parseFloat(x.marginTop),R=parseFloat(x.marginBottom),F=parseFloat(x.marginLeft),B=parseFloat(x.marginRight),j=0,oe=0;switch(c){case"top":j=_.top-(e.offsetHeight+T+R);break;case"bottom":j=_.top+_.height;break;case"left":oe=_.left-(e.offsetWidth+F+B);break;case"right":oe=_.left+_.width}switch(f){case"top":j=_.top;break;case"bottom":j=_.top+_.height-e.offsetHeight;break;case"left":oe=_.left;break;case"right":oe=_.left+_.width-e.offsetWidth;break;case"center":"top"===c||"bottom"===c?oe=_.left+_.width/2-e.offsetWidth/2:j=_.top+_.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(oe)+"px, "+Math.round(j)+"px)";var ee=e.getBoundingClientRect(),le=document.documentElement,me=window.innerHeight||le.clientHeight,Se=window.innerWidth||le.clientWidth;return ee.left>=0&&ee.top>=0&&ee.right<=Se&&ee.bottom<=me},n}(),xSe=/\s+/,p7=new bSe,Tl=function(){return Tl=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Tl.apply(this,arguments)},pL=function(n,t,e){if(e||2===arguments.length)for(var s,i=0,r=t.length;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return n.concat(s||Array.prototype.slice.call(t))},gL=function(n){return n[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",n}(gL||{}),CSe=[gL.SUNDAY,gL.SATURDAY],mL=7,Vu=86400;function g7(n,t){var e=t.startDate,r=t.excluded,s=t.precision;if(r.length<1)return 0;for(var c=n.getDay,u=n.addDays,f=(0,n.addSeconds)(e,t.seconds-1),_=c(e),x=c(f),T=0,R=e,F=function(){var B=c(R);r.some(function(j){return j===B})&&(T+=function ESe(n,t){var i=t.day,s=t.dayEnd,o=t.startDate,c=t.endDate,u=n.differenceInSeconds,_=n.startOfDay;if("minutes"===t.precision){if(i===t.dayStart)return u((0,n.endOfDay)(o),o)+1;if(i===s)return u(c,_(c))+1}return Vu}(n,{dayStart:_,dayEnd:x,day:B,precision:s,startDate:e,endDate:f})),R=u(R,1)};R<f;)F();return T}function w0(n,t){var i=t.periodStart,r=t.periodEnd;return t.events.filter(function(s){return function ISe(n,t){var e=t.event,i=t.periodStart,r=t.periodEnd,s=n.isSameSecond,o=e.start,c=e.end||e.start;return!!(o>i&&o<r||c>i&&c<r||o<i&&c>r||s(o,i)||s(o,r)||s(c,i)||s(c,r))}(n,{event:s,periodStart:i,periodEnd:r})})}function m7(n,t){var e=t.date,i=t.weekendDays,r=void 0===i?CSe:i,o=n.isSameDay,c=n.getDay,u=(0,n.startOfDay)(new Date),f=c(e);return{date:e,day:f,isPast:e<u,isToday:o(e,u),isFuture:e>u,isWeekend:r.indexOf(f)>-1}}function vL(n,t){for(var r=t.excluded,s=void 0===r?[]:r,o=t.weekendDays,c=t.viewStart,u=void 0===c?n.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):c,f=t.viewEnd,_=void 0===f?n.addDays(u,mL):f,x=n.addDays,T=n.getDay,R=[],F=u;F<_;)s.some(function(B){return T(F)===B})||R.push(m7(n,{date:F,weekendDays:o})),F=x(F,1);return R}function ASe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.excluded,s=void 0===r?[]:r,o=t.precision,c=void 0===o?"days":o,u=t.absolutePositionedEvents,f=void 0!==u&&u,_=t.viewStart,x=t.viewEnd;_=n.startOfDay(_),x=n.endOfDay(x);var T=n.differenceInSeconds,R=n.differenceInDays,F=function SSe(n,t){for(var i=t.date2,r=t.excluded,s=t.date1,o=0;s<i;)-1===r.indexOf(n.getDay(s))&&o++,s=n.addDays(s,1);return o}(n,{date1:_,date2:x,excluded:s}),B=R(x,_)+1,j=i.filter(function(le){return le.allDay}).map(function(le){var me=function TSe(n,t){var e=t.event,i=t.startOfWeek,r=t.excluded,s=t.precision,o=n.differenceInDays,c=n.startOfDay,u=n.differenceInSeconds;if(e.start<i)return 0;var f=0;switch(s){case"days":f=o(c(e.start),i)*Vu;break;case"minutes":f=u(e.start,i)}return f-=g7(n,{startDate:i,seconds:f,excluded:r,precision:s}),Math.abs(f/Vu)}(n,{event:le,startOfWeek:_,excluded:s,precision:c}),Se=function DSe(n,t){var e=t.event,i=t.offset,s=t.excluded,o=t.precision,c=t.totalDaysInView,f=n.differenceInSeconds,_=n.addDays,x=n.endOfDay,T=n.differenceInDays,R=Vu,F=(0,n.max)([e.start,t.startOfWeekDate]);e.end&&(R="minutes"===o?f(e.end,F):T(_(x(e.end),1),F)*Vu);var B=i*Vu,oe=c*Vu;return B+R>oe&&(R=oe-B),(R-=g7(n,{startDate:F,seconds:R,excluded:s,precision:o}))/Vu}(n,{event:le,offset:me,startOfWeekDate:_,excluded:s,precision:c,totalDaysInView:B});return{event:le,offset:me,span:Se}}).filter(function(le){return le.offset<F}).filter(function(le){return le.span>0}).map(function(le){return{event:le.event,offset:le.offset,span:le.span,startsBeforeWeek:le.event.start<_,endsAfterWeek:(le.event.end||le.event.start)>x}}).sort(function(le,me){var Se=T(le.event.start,me.event.start);return 0===Se?T(me.event.end||me.event.start,le.event.end||le.event.start):Se}),oe=[],ee=[];return j.forEach(function(le,me){if(-1===ee.indexOf(le)){ee.push(le);var Se=le.span+le.offset,Xe=j.slice(me+1).filter(function(It){if(It.offset>=Se&&Se+It.span<=B&&-1===ee.indexOf(It)){var Mt=It.offset-Se;return f||(It.offset=Mt),Se+=It.span+Mt,ee.push(It),!0}}),pt=pL([le],Xe,!0),ft=pt.filter(function(It){return It.event.id}).map(function(It){return It.event.id}).join("-");oe.push(Tl({row:pt},ft?{id:ft}:{}))}}),oe}function kSe(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.hourDuration,o=t.dayStart,c=t.dayEnd,u=t.weekStartsOn,f=t.excluded,_=t.weekendDays,x=t.segmentHeight,T=t.viewStart,R=t.viewEnd,F=t.minimumEventHeight,B=function PSe(n,t){var e=t.viewDate,i=t.hourSegments,r=t.hourDuration,s=t.dayStart,o=t.dayEnd,c=n.setMinutes,u=n.setHours,f=n.startOfDay,_=n.startOfMinute,x=n.endOfDay,T=n.addMinutes,R=n.addDays,F=[],B=c(u(f(e),F1(s.hour)),V1(s.minute)),j=c(u(_(x(e)),F1(o.hour)),V1(o.minute)),oe=(r||60)/i,ee=f(e),le=x(e),me=function(Mt){return Mt};n.getTimezoneOffset(ee)!==n.getTimezoneOffset(le)&&(ee=R(ee,1),B=R(B,1),j=R(j,1),me=function(Mt){return R(Mt,-1)});for(var Se=r?1440/r:60,Xe=0;Xe<Se;Xe++){for(var pt=[],ft=0;ft<i;ft++){var It=T(T(B,Xe*(r||60)),ft*oe);It>=B&&It<j&&pt.push({date:me(It),displayDate:It,isStart:0===ft})}pt.length>0&&F.push({segments:pt})}return F}(n,{viewDate:i,hourSegments:r,hourDuration:s,dayStart:o,dayEnd:c}),j=vL(n,{viewDate:i,weekStartsOn:u,excluded:f,weekendDays:_,viewStart:T,viewEnd:R}),oe=n.setHours,ee=n.setMinutes,le=n.getHours,me=n.getMinutes;return j.map(function(Se){var Xe=function OSe(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.dayStart,o=t.dayEnd,c=t.eventWidth,u=t.segmentHeight,f=t.hourDuration,_=t.minimumEventHeight,x=n.setMinutes,T=n.setHours,R=n.startOfDay,F=n.startOfMinute,B=n.endOfDay,j=n.differenceInMinutes,oe=x(T(R(i),F1(s.hour)),V1(s.minute)),ee=x(T(F(B(i)),F1(o.hour)),V1(o.minute));ee.setSeconds(59,999);var le=[],me=w0(n,{events:e.filter(function(ft){return!ft.allDay}),periodStart:oe,periodEnd:ee}),Se=me.sort(function(ft,It){return ft.start.valueOf()-It.start.valueOf()}).map(function(ft){var It=ft.start,Mt=ft.end||It,gt=It<oe,_t=Mt>ee,un=r*u/(f||60),ei=0;if(It>oe){var ra=n.getTimezoneOffset(It),Ot=n.getTimezoneOffset(oe)-ra;ei+=j(It,oe)+Ot}ei*=un,ei=Math.floor(ei);var Kt=gt?oe:It,Qt=_t?ee:Mt,Mi=n.getTimezoneOffset(Kt)-n.getTimezoneOffset(Qt),sr=j(Qt,Kt)+Mi;ft.end?sr*=un:sr=u,_&&sr<_&&(sr=_),sr=Math.floor(sr);for(var zo=L1(le,ei,ei+sr),ui=0;zo.some(function(gd){return gd.left===ui});)ui+=c;var sa={event:ft,height:sr,width:c,top:ei,left:ui,startsBeforeDay:gt,endsAfterDay:_t};return le.push(sa),sa}),Xe=Math.max.apply(Math,Se.map(function(ft){return ft.left+ft.width})),pt=w0(n,{events:e.filter(function(ft){return ft.allDay}),periodStart:R(oe),periodEnd:B(ee)});return{events:Se,width:Xe,allDayEvents:pt,period:{events:me,start:oe,end:ee}}}(n,{events:e,viewDate:Se.date,hourSegments:r,dayStart:o,dayEnd:c,segmentHeight:x,eventWidth:1,hourDuration:s,minimumEventHeight:F}),pt=B.map(function(Mt){var gt=Mt.segments.map(function(_t){var un=ee(oe(Se.date,le(_t.date)),me(_t.date));return Tl(Tl({},_t),{date:un})});return Tl(Tl({},Mt),{segments:gt})});function ft(Mt,gt){var _t=Math.max.apply(Math,gt.map(function(ei){return ei.left+1})),un=Mt.filter(function(ei){return ei.left>=_t}).filter(function(ei){return L1(gt,ei.top,ei.top+ei.height).length>0});return un.length>0?ft(Mt,un):_t}var It=Xe.events.map(function(Mt){var _t=100/ft(Xe.events,L1(Xe.events,Mt.top,Mt.top+Mt.height));return Tl(Tl({},Mt),{left:Mt.left*_t,width:_t})});return{hours:pt,date:Se.date,events:It.map(function(Mt){var gt=L1(It.filter(function(_t){return _t.left>Mt.left}),Mt.top,Mt.top+Mt.height);return gt.length>0?Tl(Tl({},Mt),{width:Math.min.apply(Math,gt.map(function(_t){return _t.left}))-Mt.left}):Mt})}})}function L1(n,t,e){return n.filter(function(i){var r=i.top,s=i.top+i.height;return t<s&&s<e||t<r&&r<e||r<=t&&e<=s})}function F1(n){return Math.max(Math.min(23,n),0)}function V1(n){return Math.max(Math.min(59,n),0)}var Fm=function(n){return n.NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",n}(Fm||{});function yL(n,t){return n=function VSe(n,t){return typeof n>"u"?typeof t>"u"?n:t:n}(n,t),"function"==typeof n?function(){for(var i=arguments,r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=i[o];return!!n.apply(this,s)}:n?function(){return!0}:function(){return!1}}var bL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},_7=function(n){return null!=n&&"object"===(typeof n>"u"?"undefined":bL(n))&&1===n.nodeType&&"object"===bL(n.style)&&"object"===bL(n.ownerDocument)};function v7(n,t){if(t=wL(t,!0),!_7(t))return-1;for(var e=0;e<n.length;e++)if(n[e]===t)return e;return-1}function xL(n,t){return-1!==v7(n,t)}function zSe(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return function BSe(n,t){for(var e=0;e<t.length;e++)xL(n,t[e])||n.push(t[e]);return t}(n,e=e.map(wL))}function HSe(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return e.map(wL).reduce(function(r,s){var o=v7(n,s);return-1!==o?r.concat(n.splice(o,1)):r},[])}function wL(n,t){if("string"==typeof n)try{return document.querySelector(n)}catch(e){throw e}if(!_7(n)&&!t)throw new TypeError(n+" is not a DOM element.");return n}function y7(n){if(n===window)return function jSe(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var t={};return Object.defineProperties(t,n),t}();try{var t=n.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}var t,CL=void 0;"function"!=typeof Object.create?(t=function(){},CL=function(e,i){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");t.prototype=e||{};var r=new t;return t.prototype=null,void 0!==i&&Object.defineProperties(r,i),null===e&&(r.__proto__=null),r}):CL=Object.create;var GSe=CL,mf=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function EL(n,t){t=t||{};for(var e=GSe(n),i=0;i<mf.length;i++)void 0!==t[mf[i]]&&(e[mf[i]]=t[mf[i]]);return e}function DL(n,t){console.log("data ",t),n.data=t||{},n.dispatched="mousemove"}var C0=["webkit","moz","ms","o"],E0=function(){if(typeof window>"u")return function(){};for(var n=0,t=C0.length;n<t&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[C0[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(i){var r=(new Date).getTime(),s=Math.max(0,16-r-e),o=window.setTimeout(function(){return i(r+s)},s);return e=r+s,o}}return window.requestAnimationFrame.bind(window)}(),Vm=function(){if(typeof window>"u")return function(){};for(var n=0,t=C0.length;n<t&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[C0[n]+"CancelAnimationFrame"]||window[C0[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function YSe(n,t){void 0===t&&(t={});var e=this,i=4,r=!1;if("object"!=typeof t.margin){var s=t.margin||-1;this.margin={left:s,right:s,top:s,bottom:s}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var o={},c=function USe(n,t){var e=yL((t=t||{}).allowUpdate,!0);return function(r){if(r=r||window.event,n.target=r.target||r.srcElement||r.originalTarget,n.element=this,n.type=r.type,e(r)){if(r.targetTouches)n.x=r.targetTouches[0].clientX,n.y=r.targetTouches[0].clientY,n.pageX=r.targetTouches[0].pageX,n.pageY=r.targetTouches[0].pageY,n.screenX=r.targetTouches[0].screenX,n.screenY=r.targetTouches[0].screenY;else{if(null===r.pageX&&null!==r.clientX){var s=r.target&&r.target.ownerDocument||document,o=s.documentElement,c=s.body;n.pageX=r.clientX+(o&&o.scrollLeft||c&&c.scrollLeft||0)-(o&&o.clientLeft||c&&c.clientLeft||0),n.pageY=r.clientY+(o&&o.scrollTop||c&&c.scrollTop||0)-(o&&o.clientTop||c&&c.clientTop||0)}else n.pageX=r.pageX,n.pageY=r.pageY;n.x=r.clientX,n.y=r.clientY,n.screenX=r.screenX,n.screenY=r.screenY}n.clientX=n.x,n.clientY=n.y}}}(o),u=function $Se(n){var t={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function e(s){for(var o=0;o<mf.length;o++)t[mf[o]]=s[mf[o]]}return void 0!==n&&n.addEventListener("mousemove",e),{destroy:function r(){n&&n.removeEventListener("mousemove",e,!1),t=null},dispatch:MouseEvent?function(o,c,u){var f=new MouseEvent("mousemove",EL(t,c));return DL(f,u),o.dispatchEvent(f)}:"function"==typeof document.createEvent?function(o,c,u){var f=EL(t,c),_=document.createEvent("MouseEvents");return _.initMouseEvent("mousemove",!0,!0,window,0,f.screenX,f.screenY,f.clientX,f.clientY,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget),DL(_,u),o.dispatchEvent(_)}:"function"==typeof document.createEventObject?function(o,c,u){var f=document.createEventObject(),_=EL(t,c);for(var x in _)f[x]=_[x];return DL(f,u),o.dispatchEvent(f)}:void 0}}(),f=!1;window.addEventListener("mousemove",c,!1),window.addEventListener("touchmove",c,!1),isNaN(t.maxSpeed)||(i=t.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=yL(t.autoScroll),this.syncMove=yL(t.syncMove,!1),this.destroy=function(gt){window.removeEventListener("mousemove",c,!1),window.removeEventListener("touchmove",c,!1),window.removeEventListener("mousedown",B,!1),window.removeEventListener("touchstart",B,!1),window.removeEventListener("mouseup",j,!1),window.removeEventListener("touchend",j,!1),window.removeEventListener("pointerup",j,!1),window.removeEventListener("mouseleave",ee,!1),window.removeEventListener("mousemove",Se,!1),window.removeEventListener("touchmove",Se,!1),window.removeEventListener("scroll",F,!0),n=[],gt&&oe()},this.add=function(){for(var gt=[],_t=arguments.length;_t--;)gt[_t]=arguments[_t];return zSe.apply(void 0,[n].concat(gt)),this},this.remove=function(){for(var gt=[],_t=arguments.length;_t--;)gt[_t]=arguments[_t];return HSe.apply(void 0,[n].concat(gt))};var x,gt,_=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),gt=n,n=[],gt.forEach(function(_t){_t===window?_=window:e.add(_t)}),Object.defineProperties(this,{down:{get:function(){return f}},maxSpeed:{get:function(){return i}},point:{get:function(){return o}},scrolling:{get:function(){return r}}});var R,T=null;function F(gt){for(var _t=0;_t<n.length;_t++)if(n[_t]===gt.target){r=!0;break}r&&E0(function(){return r=!1})}function B(){f=!0}function j(){f=!1,oe()}function oe(){Vm(R),Vm(x)}function ee(){f=!1}function me(){for(var gt=null,_t=0;_t<n.length;_t++)b7(o,n[_t])&&(gt=n[_t]);return gt}function Se(gt){if(e.autoScroll()&&!gt.dispatched){var _t=gt.target,un=document.body;T&&!b7(o,T)&&(e.scrollWhenOutside||(T=null)),_t&&_t.parentNode===un?_t=me():(_t=function le(gt){if(!gt)return null;if(T===gt||xL(n,gt))return gt;for(;gt=gt.parentNode;)if(xL(n,gt))return gt;return null}(_t),_t||(_t=me())),_t&&_t!==T&&(T=_t),_&&(Vm(x),x=E0(Xe)),T&&(Vm(R),R=E0(pt))}}function Xe(){ft(_),Vm(x),x=E0(Xe)}function pt(){T&&(ft(T),Vm(R),R=E0(pt))}function ft(gt){var un,ei,_t=y7(gt);un=o.x<_t.left+e.margin.left?Math.floor(Math.max(-1,(o.x-_t.left)/e.margin.left-1)*e.maxSpeed.left):o.x>_t.right-e.margin.right?Math.ceil(Math.min(1,(o.x-_t.right)/e.margin.right+1)*e.maxSpeed.right):0,ei=o.y<_t.top+e.margin.top?Math.floor(Math.max(-1,(o.y-_t.top)/e.margin.top-1)*e.maxSpeed.top):o.y>_t.bottom-e.margin.bottom?Math.ceil(Math.min(1,(o.y-_t.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):0,e.syncMove()&&u.dispatch(gt,{pageX:o.pageX+un,pageY:o.pageY+ei,clientX:o.x+un,clientY:o.y+ei}),setTimeout(function(){ei&&function It(gt,_t){gt===window?window.scrollTo(gt.pageXOffset,gt.pageYOffset+_t):gt.scrollTop+=_t}(gt,ei),un&&function Mt(gt,_t){gt===window?window.scrollTo(gt.pageXOffset+_t,gt.pageYOffset):gt.scrollLeft+=_t}(gt,un)})}window.addEventListener("mousedown",B,!1),window.addEventListener("touchstart",B,!1),window.addEventListener("mouseup",j,!1),window.addEventListener("touchend",j,!1),window.addEventListener("pointerup",j,!1),window.addEventListener("mousemove",Se,!1),window.addEventListener("touchmove",Se,!1),window.addEventListener("mouseleave",ee,!1),window.addEventListener("scroll",F,!0)}function b7(n,t,e){return e?n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right:function WSe(n,t){var e=y7(t);return n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right}(n,t)}function TL(n,t,e){e&&e.split(" ").forEach(i=>n.addClass(t.nativeElement,i))}function B1(n,t,e){e&&e.split(" ").forEach(i=>n.removeClass(t.nativeElement,i))}let x7=(()=>{class n{constructor(){this.currentDrag=new ve}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w7=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(W(Gt))},n.\u0275dir=$e({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),IL=(()=>{class n{constructor(e,i,r,s,o,c,u){this.element=e,this.renderer=i,this.draggableHelper=r,this.zone=s,this.vcr=o,this.scrollContainer=c,this.document=u,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new We,this.dragStart=new We,this.ghostElementCreated=new We,this.dragging=new We,this.dragEnd=new We,this.pointerDown$=new ve,this.pointerMove$=new ve,this.pointerUp$=new ve,this.eventListenerSubscriptions={},this.destroy$=new ve,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(Qn(()=>this.canDrag()),In(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();const r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(r)});const s=this.getScrollPosition(),o=new zt(R=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",B=>R.next(B))).pipe(yl(s),Ye(()=>this.getScrollPosition())),c=new ve,u=new bj;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const f=J(this.pointerUp$,this.pointerDown$,u,this.destroy$).pipe(ze()),_=$a([this.pointerMove$,o]).pipe(Ye(([R,F])=>({currentDrag$:c,transformX:R.clientX-i.clientX,transformY:R.clientY-i.clientY,clientX:R.clientX,clientY:R.clientY,scrollLeft:F.left,scrollTop:F.top,target:R.event.target})),Ye(R=>(this.dragSnapGrid.x&&(R.transformX=Math.round(R.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(R.transformY=Math.round(R.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),R)),Ye(R=>(this.dragAxis.x||(R.transformX=0),this.dragAxis.y||(R.transformY=0),R)),Ye(R=>{const F=R.scrollLeft-s.left,B=R.scrollTop-s.top;return{...R,x:R.transformX+F,y:R.transformY+B}}),Qn(({x:R,y:F,transformX:B,transformY:j})=>!this.validateDrag||this.validateDrag({x:R,y:F,transform:{x:B,y:j}})),sn(f),ze()),x=_.pipe(ni(1),ze()),T=_.pipe(OD(1),ze());return x.subscribe(({clientX:R,clientY:F,x:B,y:j})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:u})}),this.scroller=function qSe(n,t){return new YSe(n,t)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],{...this.autoScroll,autoScroll:()=>!0}),TL(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const oe=this.element.nativeElement.getBoundingClientRect(),ee=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(ee):this.element.nativeElement.parentNode.insertBefore(ee,this.element.nativeElement.nextSibling),this.ghostElement=ee,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(ee,{position:"fixed",top:`${oe.top}px`,left:`${oe.left}px`,width:`${oe.width}px`,height:`${oe.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const le=this.vcr.createEmbeddedView(this.ghostElementTemplate);ee.innerHTML="",le.rootNodes.filter(me=>me instanceof Node).forEach(me=>{ee.appendChild(me)}),T.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(le))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:R-B,clientY:F-j,element:ee})}),T.subscribe(()=>{ee.parentElement.removeChild(ee),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(c)}),T.pipe(In(R=>{const F=u.pipe(function FSe(n){return function LSe(n,t){return Ue(wj(n,t,arguments.length>=2,!1,!0))}((t,e,i)=>!n||n(e,i)?t+1:t,0)}(),ni(1),Ye(B=>({...R,dragCancelled:B>0})));return u.complete(),F})).subscribe(({x:R,y:F,dragCancelled:B})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:R,y:F,dragCancelled:B})}),B1(this.renderer,this.element,this.dragActiveClass),c.complete()}),J(f,T).pipe(ni(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),_}),ze());J(e.pipe(ni(1),Ye(i=>[,i])),e.pipe(bg())).pipe(Qn(([i,r])=>!i||i.x!==r.x||i.y!==r.y),Ye(([i,r])=>r)).subscribe(({x:i,y:r,currentDrag$:s,clientX:o,clientY:c,transformX:u,transformY:f,target:_})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:i,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){const x=`translate3d(${u}px, ${f}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:x,"-webkit-transform":x,"-ms-transform":x,"-moz-transform":x,"-o-transform":x})}}),s.next({clientX:o,clientY:c,dropData:this.dropData,target:_})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;e&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&i&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let i,r,s;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,s=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const o=Xr(this.document,"contextmenu").subscribe(u=>{u.preventDefault()}),c=Xr(this.document,"touchmove",{passive:!1}).subscribe(u=>{this.touchStartLongPress&&!r&&s&&(r=this.shouldBeginDrag(e,u,i)),(!this.touchStartLongPress||!s||r)&&(u.preventDefault(),this.pointerMove$.next({event:u,clientX:u.targetTouches[0].clientX,clientY:u.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{o.unsubscribe(),c.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,i){Object.keys(i).forEach(r=>{this.renderer.setStyle(e,r,i[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,i,r){const s=this.getScrollPosition(),o_top=Math.abs(s.top-r.top),o_left=Math.abs(s.left-r.left),c=Math.abs(i.targetTouches[0].clientX-e.touches[0].clientX)-o_left,u=Math.abs(i.targetTouches[0].clientY-e.touches[0].clientY)-o_top,_=this.touchStartLongPress;return(c+u>_.delta||o_top>0||o_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=_.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(W(Gt),W(Hr),W(x7),W(ht),W(Vs),W(w7,8),W(ln))},n.\u0275dir=$e({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[Ln]}),n})();function C7(n,t,e){return n>=e.left&&n<=e.right&&t>=e.top&&t<=e.bottom}let SL=(()=>{class n{constructor(e,i,r,s,o){this.element=e,this.draggableHelper=i,this.zone=r,this.renderer=s,this.scrollContainer=o,this.dragEnter=new We,this.dragLeave=new We,this.dragOver=new We,this.drop=new We}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{TL(this.renderer,this.element,this.dragActiveClass);const i={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0});let s;const o=e.pipe(Ye(({clientX:f,clientY:_,dropData:x,target:T})=>{s={clientX:f,clientY:_,dropData:x,target:T},i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);const R=C7(f,_,i.rect),F=!this.validateDrop||this.validateDrop({clientX:f,clientY:_,target:T,dropData:x});return i.scrollContainerRect?R&&F&&C7(f,_,i.scrollContainerRect):R&&F})),c=o.pipe(tn());let u;c.pipe(Qn(f=>f)).subscribe(()=>{u=!0,TL(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(s)})}),o.pipe(Qn(f=>f)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(s)})}),c.pipe(bg(),Qn(([f,_])=>f&&!_)).subscribe(()=>{u=!1,B1(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(s)})}),e.subscribe({complete:()=>{r(),B1(this.renderer,this.element,this.dragActiveClass),u&&(B1(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(s)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(W(Gt),W(x7),W(ht),W(Hr),W(w7,8))},n.\u0275dir=$e({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),z1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=ke({}),n})();const _f=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function E7(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let o=0;o<r.length;o++)i(r[o],s[o])}}let KSe=0;function D7(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${KSe++}`)}function T7(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function I7(n,t,e,i){const r={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return t.top&&(r.top+=i),t.bottom&&(r.bottom+=i),t.left&&(r.left+=e),t.right&&(r.right+=e),r.height=r.bottom-r.top,r.width=r.right-r.left,r}const S7=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function A7(n,t){return n.left&&n.top?t.topLeft:n.right&&n.top?t.topRight:n.left&&n.bottom?t.bottomLeft:n.right&&n.bottom?t.bottomRight:n.left||n.right?t.leftOrRight:n.top||n.bottom?t.topOrBottom:""}function H1({edges:n,initialRectangle:t,newRectangle:e}){const i={};return Object.keys(n).forEach(r=>{i[r]=(e[r]||0)-(t[r]||0)}),i}const k7="resize-active";let M7=(()=>{class n{constructor(e,i,r,s){this.platformId=e,this.renderer=i,this.elm=r,this.zone=s,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=S7,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new We,this.resizing=new We,this.resizeEnd=new We,this.mouseup=new ve,this.mousedown=new ve,this.mousemove=new ve,this.destroy$=new ve,this.pointerEventListeners=Bm.getInstance(i,s)}ngOnInit(){const e=J(this.pointerEventListeners.pointerDown,this.mousedown),i=J(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Gr(({event:f})=>{s&&f.cancelable&&f.preventDefault()}),ze()),r=J(this.pointerEventListeners.pointerUp,this.mouseup);let s;const o=()=>{s&&s.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},c=()=>({...S7,...this.resizeCursors});e.pipe(In(f=>{function _(R){return{clientX:R.clientX-f.clientX,clientY:R.clientY-f.clientY}}const x=()=>{const R={x:1,y:1};return s&&(this.resizeSnapGrid.left&&s.edges.left?R.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&s.edges.right&&(R.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&s.edges.top?R.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&s.edges.bottom&&(R.y=+this.resizeSnapGrid.bottom)),R};function T(R,F){return{x:Math.ceil(R.clientX/F.x),y:Math.ceil(R.clientY/F.y)}}return J(i.pipe(ni(1)).pipe(Ye(R=>[,R])),i.pipe(bg())).pipe(Ye(([R,F])=>[R&&_(R),_(F)])).pipe(Qn(([R,F])=>{if(!R)return!0;const B=x(),j=T(R,B),oe=T(F,B);return j.x!==oe.x||j.y!==oe.y})).pipe(Ye(([,R])=>{const F=x();return{clientX:Math.round(R.clientX/F.x)*F.x,clientY:Math.round(R.clientY/F.y)*F.y}})).pipe(sn(J(r,e)))})).pipe(Qn(()=>!!s)).pipe(Ye(({clientX:f,clientY:_})=>I7(s.startingRect,s.edges,f,_))).pipe(Qn(f=>this.allowNegativeResizes||!!(f.height&&f.width&&f.height>0&&f.width>0))).pipe(Qn(f=>!this.validateResize||this.validateResize({rectangle:f,edges:H1({edges:s.edges,initialRectangle:s.startingRect,newRectangle:f})})),sn(this.destroy$)).subscribe(f=>{s&&s.clonedNode&&(this.renderer.setStyle(s.clonedNode,"height",`${f.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${f.width}px`),this.renderer.setStyle(s.clonedNode,"top",`${f.top}px`),this.renderer.setStyle(s.clonedNode,"left",`${f.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:H1({edges:s.edges,initialRectangle:s.startingRect,newRectangle:f}),rectangle:f})}),s.currentRect=f}),e.pipe(Ye(({edges:f})=>f||{}),Qn(f=>Object.keys(f).length>0),sn(this.destroy$)).subscribe(f=>{s&&o();const _=function QSe(n,t){let e=0,i=0;const r=n.nativeElement.style,o=["transform","-ms-transform","-moz-transform","-o-transform"].map(c=>r[c]).find(c=>!!c);if(o&&o.includes("translate")&&(e=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-i,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-i,left:n.nativeElement.offsetLeft-e,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-e};{const c=n.nativeElement.getBoundingClientRect();return{height:c.height,width:c.width,top:c.top-i,bottom:c.bottom-i,left:c.left-e,right:c.right-e,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);s={edges:f,startingRect:_,currentRect:_};const x=c(),T=A7(s.edges,x);this.renderer.setStyle(document.body,"cursor",T),this.setElementClass(this.elm,k7,!0),this.enableGhostResize&&(s.clonedNode=function ZSe(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();return t.removeAttribute("id"),e.forEach(r=>{r.removeAttribute("id")}),"canvas"===i?T7(n,t):("input"===i||"select"===i||"textarea"===i)&&D7(n,t),E7("canvas",n,t,T7),E7("input, textarea, select",n,t,D7),t}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(s.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(s.clonedNode,"left",`${s.startingRect.left}px`),this.renderer.setStyle(s.clonedNode,"top",`${s.startingRect.top}px`),this.renderer.setStyle(s.clonedNode,"height",`${s.startingRect.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${s.startingRect.width}px`),this.renderer.setStyle(s.clonedNode,"cursor",A7(s.edges,x)),this.renderer.addClass(s.clonedNode,"resize-ghost-element"),s.clonedNode.scrollTop=s.startingRect.scrollTop,s.clonedNode.scrollLeft=s.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:H1({edges:f,initialRectangle:_,newRectangle:_}),rectangle:I7(_,{},0,0)})})}),r.pipe(sn(this.destroy$)).subscribe(()=>{s&&(this.renderer.removeClass(this.elm.nativeElement,k7),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:H1({edges:s.edges,initialRectangle:s.startingRect,newRectangle:s.currentRect}),rectangle:s.currentRect})}),o(),s=null)})}ngOnDestroy(){UA(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,i,r){r?this.renderer.addClass(e.nativeElement,i):this.renderer.removeClass(e.nativeElement,i)}}return n.\u0275fac=function(e){return new(e||n)(W(wo),W(Hr),W(Gt),W(ht))},n.\u0275dir=$e({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class Bm{constructor(t,e){this.pointerDown=new zt(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousedown",o=>{i.next({clientX:o.clientX,clientY:o.clientY,event:o})}),_f&&(s=t.listen("document","touchstart",o=>{i.next({clientX:o.touches[0].clientX,clientY:o.touches[0].clientY,event:o})}))}),()=>{r(),_f&&s()}}).pipe(ze()),this.pointerMove=new zt(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousemove",o=>{i.next({clientX:o.clientX,clientY:o.clientY,event:o})}),_f&&(s=t.listen("document","touchmove",o=>{i.next({clientX:o.targetTouches[0].clientX,clientY:o.targetTouches[0].clientY,event:o})}))}),()=>{r(),_f&&s()}}).pipe(ze()),this.pointerUp=new zt(i=>{let r,s,o;return e.runOutsideAngular(()=>{r=t.listen("document","mouseup",c=>{i.next({clientX:c.clientX,clientY:c.clientY,event:c})}),_f&&(s=t.listen("document","touchend",c=>{i.next({clientX:c.changedTouches[0].clientX,clientY:c.changedTouches[0].clientY,event:c})}),o=t.listen("document","touchcancel",c=>{i.next({clientX:c.changedTouches[0].clientX,clientY:c.changedTouches[0].clientY,event:c})}))}),()=>{r(),_f&&(s(),o())}}).pipe(ze())}static getInstance(t,e){return Bm.instance||(Bm.instance=new Bm(t,e)),Bm.instance}}let tAe=(()=>{class n{constructor(e,i,r,s){this.renderer=e,this.element=i,this.zone=r,this.resizableDirective=s,this.resizeEdges={},this.eventListeners={},this.destroy$=new ve}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),_f&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),J(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,i,r){e.cancelable&&e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",s=>{this.onMousemove(s,s.targetTouches[0].clientX,s.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",s=>{this.onMousemove(s,s.clientX,s.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:r,edges:this.resizeEdges})}onMouseup(e,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,i,r){this.resizable.mousemove.next({clientX:i,clientY:r,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return Xr(this.element.nativeElement,e).pipe(sn(this.destroy$))}}return n.\u0275fac=function(e){return new(e||n)(W(Hr),W(Gt),W(ht),W(M7,8))},n.\u0275dir=$e({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),R7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=ke({}),n})();const nAe=function(n){return{action:n}};function iAe(n,t){if(1&n){const e=jn();ie(0,"a",5),Je("mwlClick",function(r){const o=wt(e).$implicit,c=De(2).event;return yt(o.onClick({event:c,sourceEvent:r}))})("mwlKeydownEnter",function(r){const o=wt(e).$implicit,c=De(2).event;return yt(o.onClick({event:c,sourceEvent:r}))}),Nt(1,"calendarA11y"),se()}if(2&n){const e=t.$implicit;de("ngClass",e.cssClass)("innerHtml",e.label,lh),Ht("aria-label",So(1,3,dl(6,nAe,e),"actionButtonLabel"))}}function rAe(n,t){if(1&n&&(ie(0,"span",3),Te(1,iAe,2,8,"a",4),se()),2&n){const e=De(),i=e.event,r=e.trackByActionId;ne(1),de("ngForOf",i.actions)("ngForTrackBy",r)}}function sAe(n,t){1&n&&Te(0,rAe,2,2,"span",2),2&n&&de("ngIf",t.event.actions)}function oAe(n,t){}const aAe=function(n,t){return{event:n,trackByActionId:t}},zm=function(){return{}};function lAe(n,t){if(1&n&&(it(0,"span",2),Nt(1,"calendarEventTitle"),Nt(2,"calendarA11y")),2&n){const e=t.event;de("innerHTML",ul(1,2,e.title,t.view,e),lh),Ht("aria-hidden",So(2,6,Io(9,zm),"hideEventTitle"))}}function cAe(n,t){}const dAe=function(n,t){return{event:n,view:t}};function uAe(n,t){if(1&n&&(ie(0,"div",2),it(1,"div",3)(2,"div",4),se()),2&n){const e=t.contents;de("ngClass","cal-tooltip-"+t.placement),ne(2),de("innerHtml",e,lh)}}function hAe(n,t){}const fAe=function(n,t,e){return{contents:n,placement:t,event:e}};function pAe(n,t){if(1&n&&(ie(0,"span",7),Pe(1),se()),2&n){const e=De().day;ne(1),dn(e.badgeTotal)}}const AL=function(n){return{backgroundColor:n}},gAe=function(n,t){return{event:n,draggedFrom:t}},D0=function(n,t){return{x:n,y:t}},U1=function(){return{delay:300,delta:30}};function mAe(n,t){if(1&n){const e=jn();ie(0,"div",10),Je("mouseenter",function(){const s=wt(e).$implicit;return yt(De(2).highlightDay.emit({event:s}))})("mouseleave",function(){const s=wt(e).$implicit;return yt(De(2).unhighlightDay.emit({event:s}))})("mwlClick",function(r){const o=wt(e).$implicit;return yt(De(2).eventClicked.emit({event:o,sourceEvent:r}))}),Nt(1,"calendarEventTitle"),Nt(2,"calendarA11y"),se()}if(2&n){const e=t.$implicit,i=De(2),r=i.tooltipPlacement,s=i.tooltipTemplate,o=i.tooltipAppendToBody,c=i.tooltipDelay,u=i.day,f=i.validateDrag;Ut("cal-draggable",e.draggable),de("ngStyle",dl(22,AL,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",ul(1,15,e.title,"monthTooltip",e))("tooltipPlacement",r)("tooltipEvent",e)("tooltipTemplate",s)("tooltipAppendToBody",o)("tooltipDelay",c)("dropData",Ur(24,gAe,e,u))("dragAxis",Ur(27,D0,e.draggable,e.draggable))("validateDrag",f)("touchStartLongPress",Io(30,U1)),Ht("aria-hidden",So(2,19,Io(31,zm),"hideMonthCellEvents"))}}function _Ae(n,t){if(1&n&&(ie(0,"div",8),Te(1,mAe,3,32,"div",9),se()),2&n){const e=De(),i=e.day,r=e.trackByEventId;ne(1),de("ngForOf",i.events)("ngForTrackBy",r)}}const vAe=function(n,t){return{day:n,locale:t}};function yAe(n,t){if(1&n&&(ie(0,"div",2),Nt(1,"calendarA11y"),ie(2,"span",3),Te(3,pAe,2,1,"span",4),ie(4,"span",5),Pe(5),Nt(6,"calendarDate"),se()()(),Te(7,_Ae,2,2,"div",6)),2&n){const e=t.day,i=t.locale;Ht("aria-label",So(1,4,Ur(11,vAe,e,i),"monthCell")),ne(3),de("ngIf",e.badgeTotal>0),ne(2),dn(ul(6,7,e.date,"monthViewDayNumber",i)),ne(2),de("ngIf",e.events.length>0)}}function bAe(n,t){}const xAe=function(n,t,e,i,r,s,o,c,u,f,_,x){return{day:n,openDay:t,locale:e,tooltipPlacement:i,highlightDay:r,unhighlightDay:s,eventClicked:o,tooltipTemplate:c,tooltipAppendToBody:u,tooltipDelay:f,trackByEventId:_,validateDrag:x}},wAe=function(n){return{event:n}},O7=function(n,t){return{event:n,locale:t}};function CAe(n,t){if(1&n){const e=jn();ie(0,"div",7),it(1,"span",8),Pe(2," "),ie(3,"mwl-calendar-event-title",9),Je("mwlClick",function(r){const o=wt(e).$implicit;return yt(De(2).eventClicked.emit({event:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){const o=wt(e).$implicit;return yt(De(2).eventClicked.emit({event:o,sourceEvent:r}))}),Nt(4,"calendarA11y"),se(),Pe(5," "),it(6,"mwl-calendar-event-actions",10),se()}if(2&n){const e=t.$implicit,i=De(2).validateDrag,r=De();Ut("cal-draggable",e.draggable),de("ngClass",null==e?null:e.cssClass)("dropData",dl(16,wAe,e))("dragAxis",Ur(18,D0,e.draggable,e.draggable))("validateDrag",i)("touchStartLongPress",Io(21,U1)),ne(1),de("ngStyle",dl(22,AL,null==e.color?null:e.color.primary)),ne(2),de("event",e)("customTemplate",r.eventTitleTemplate),Ht("aria-label",So(4,13,Ur(24,O7,e,r.locale),"eventDescription")),ne(3),de("event",e)("customTemplate",r.eventActionsTemplate)}}const P7=function(n,t){return{date:n,locale:t}};function EAe(n,t){if(1&n&&(ie(0,"div",3),it(1,"span",4),Nt(2,"calendarA11y"),it(3,"span",5),Nt(4,"calendarA11y"),Te(5,CAe,7,27,"div",6),se()),2&n){const e=De(),i=e.events,r=e.trackByEventId,s=De();de("@collapse",void 0),ne(1),Ht("aria-label",So(2,5,Ur(11,P7,s.date,s.locale),"openDayEventsAlert")),ne(2),Ht("aria-label",So(4,8,Ur(14,P7,s.date,s.locale),"openDayEventsLandmark")),ne(2),de("ngForOf",i)("ngForTrackBy",r)}}function DAe(n,t){1&n&&Te(0,EAe,6,17,"div",2),2&n&&de("ngIf",t.isOpen)}function TAe(n,t){}const IAe=function(n,t,e,i,r){return{events:n,eventClicked:t,isOpen:e,trackByEventId:i,validateDrag:r}};function SAe(n,t){if(1&n){const e=jn();ie(0,"div",4),Je("click",function(r){const o=wt(e).$implicit;return yt(De(2).columnHeaderClicked.emit({isoDayNumber:o.day,sourceEvent:r}))}),Pe(1),Nt(2,"calendarDate"),se()}if(2&n){const e=t.$implicit,i=De().locale;Ut("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),de("ngClass",e.cssClass),ne(1),Rn(" ",ul(2,10,e.date,"monthViewColumnHeader",i)," ")}}function AAe(n,t){if(1&n&&(ie(0,"div",2),Te(1,SAe,3,14,"div",3),se()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;ne(1),de("ngForOf",e)("ngForTrackBy",i)}}function kAe(n,t){}const MAe=function(n,t,e){return{days:n,locale:t,trackByWeekDayHeaderDate:e}};function RAe(n,t){if(1&n){const e=jn();ie(0,"mwl-calendar-month-cell",7),Je("mwlClick",function(r){const o=wt(e).$implicit;return yt(De(2).dayClicked.emit({day:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){const o=wt(e).$implicit;return yt(De(2).dayClicked.emit({day:o,sourceEvent:r}))})("highlightDay",function(r){return wt(e),yt(De(2).toggleDayHighlight(r.event,!0))})("unhighlightDay",function(r){return wt(e),yt(De(2).toggleDayHighlight(r.event,!1))})("drop",function(r){const o=wt(e).$implicit;return yt(De(2).eventDropped(o,r.dropData.event,r.dropData.draggedFrom))})("eventClicked",function(r){return wt(e),yt(De(2).eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))}),Nt(1,"calendarA11y"),se()}if(2&n){const e=t.$implicit,i=De(2);de("ngClass",null==e?null:e.cssClass)("day",e)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",dl(15,AL,e.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),Ht("tabindex",So(1,12,Io(17,zm),"monthCellTabIndex"))}}function OAe(n,t){if(1&n){const e=jn();ie(0,"div")(1,"div",4),Te(2,RAe,2,18,"mwl-calendar-month-cell",5),Nt(3,"slice"),se(),ie(4,"mwl-calendar-open-day-events",6),Je("eventClicked",function(r){return wt(e),yt(De().eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))})("drop",function(r){wt(e);const s=De();return yt(s.eventDropped(s.openDay,r.dropData.event,r.dropData.draggedFrom))}),se()()}if(2&n){const e=t.$implicit,i=De();ne(2),de("ngForOf",ul(3,9,i.view.days,e,e+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),ne(2),de("locale",i.locale)("isOpen",i.openRowIndex===e)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function PAe(n,t){if(1&n){const e=jn();ie(0,"div",4),Je("mwlClick",function(r){const o=wt(e).$implicit;return yt(De().dayHeaderClicked.emit({day:o,sourceEvent:r}))})("drop",function(r){const o=wt(e).$implicit;return yt(De().eventDropped.emit({event:r.dropData.event,newStart:o.date}))})("dragEnter",function(){const s=wt(e).$implicit;return yt(De().dragEnter.emit({date:s.date}))}),ie(1,"b"),Pe(2),Nt(3,"calendarDate"),se(),it(4,"br"),ie(5,"span"),Pe(6),Nt(7,"calendarDate"),se()()}if(2&n){const e=t.$implicit,i=De().locale;Ut("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),de("ngClass",e.cssClass),ne(2),dn(ul(3,11,e.date,"weekViewColumnHeader",i)),ne(4),dn(ul(7,15,e.date,"weekViewColumnSubHeader",i))}}function NAe(n,t){if(1&n&&(ie(0,"div",2),Te(1,PAe,8,19,"div",3),se()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;ne(1),de("ngForOf",e)("ngForTrackBy",i)}}function LAe(n,t){}const FAe=function(n,t,e,i,r,s){return{days:n,locale:t,dayHeaderClicked:e,eventDropped:i,dragEnter:r,trackByWeekDayHeaderDate:s}},VAe=function(n,t,e){return{color:n,backgroundColor:t,borderColor:e}};function BAe(n,t){if(1&n){const e=jn();ie(0,"div",2),Je("mwlClick",function(r){return yt(wt(e).eventClicked.emit({sourceEvent:r}))})("mwlKeydownEnter",function(r){return yt(wt(e).eventClicked.emit({sourceEvent:r}))}),Nt(1,"calendarEventTitle"),Nt(2,"calendarA11y"),it(3,"mwl-calendar-event-actions",3),Pe(4," "),it(5,"mwl-calendar-event-title",4),se()}if(2&n){const e=t.weekEvent,i=t.tooltipPlacement,r=t.tooltipTemplate,s=t.tooltipAppendToBody,o=t.tooltipDisabled,c=t.tooltipDelay,u=t.daysInWeek,f=De();de("ngStyle",Xp(20,VAe,null==e.event.color?null:e.event.color.secondaryText,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",o?"":ul(1,13,e.event.title,1===u?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",i)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",r)("tooltipAppendToBody",s)("tooltipDelay",c),Ht("aria-label",So(2,17,Ur(24,O7,e.tempEvent||e.event,f.locale),"eventDescription")),ne(3),de("event",e.tempEvent||e.event)("customTemplate",f.eventActionsTemplate),ne(2),de("event",e.tempEvent||e.event)("customTemplate",f.eventTitleTemplate)("view",1===u?"day":"week")}}function zAe(n,t){}const HAe=function(n,t,e,i,r,s,o,c,u){return{weekEvent:n,tooltipPlacement:t,eventClicked:e,tooltipTemplate:i,tooltipAppendToBody:r,tooltipDisabled:s,tooltipDelay:o,column:c,daysInWeek:u}};function UAe(n,t){if(1&n&&(ie(0,"div",4),Pe(1),Nt(2,"calendarDate"),se()),2&n){const e=De(),i=e.segment,r=e.daysInWeek,s=e.locale;ne(1),Rn(" ",ul(2,1,i.displayDate,1===r?"dayViewHour":"weekViewHour",s)," ")}}function jAe(n,t){if(1&n&&(ie(0,"div",2),Nt(1,"calendarA11y"),Te(2,UAe,3,5,"div",3),se()),2&n){const e=t.segment,r=t.isTimeLabel,s=t.daysInWeek;Es("height",t.segmentHeight,"px"),Ut("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),de("ngClass",e.cssClass),Ht("aria-hidden",So(1,9,Io(12,zm),1===s?"hideDayHourSegment":"hideWeekHourSegment")),ne(2),de("ngIf",r)}}function WAe(n,t){}const GAe=function(n,t,e,i,r){return{segment:n,locale:t,segmentHeight:e,isTimeLabel:i,daysInWeek:r}};function $Ae(n,t){1&n&&it(0,"div",3),2&n&&Es("top",De().topPx,"px")}function YAe(n,t){1&n&&Te(0,$Ae,1,2,"div",2),2&n&&de("ngIf",t.isVisible)}function qAe(n,t){}const XAe=function(n,t,e,i,r,s,o){return{columnDate:n,dayStartHour:t,dayStartMinute:e,dayEndHour:i,dayEndMinute:r,isVisible:s,topPx:o}};function ZAe(n,t){if(1&n){const e=jn();ie(0,"div",13),Je("drop",function(r){const o=wt(e).$implicit;return yt(De(2).eventDropped(r,o.date,!0))})("dragEnter",function(){const s=wt(e).$implicit;return yt(De(2).dateDragEnter(s.date))}),se()}}const KAe=function(){return{left:!0}};function QAe(n,t){1&n&&it(0,"div",22),2&n&&de("resizeEdges",Io(1,KAe))}const JAe=function(){return{right:!0}};function eke(n,t){1&n&&it(0,"div",23),2&n&&de("resizeEdges",Io(1,JAe))}const tke=function(n,t){return{left:n,right:t}},N7=function(n,t){return{event:n,calendarId:t}},nke=function(n){return{x:n}};function ike(n,t){if(1&n){const e=jn();ie(0,"div",17,18),Je("resizeStart",function(r){const o=wt(e).$implicit;De();const c=oi(1);return yt(De(2).allDayEventResizeStarted(c,o,r))})("resizing",function(r){const o=wt(e).$implicit,c=De(3);return yt(c.allDayEventResizing(o,r,c.dayColumnWidth))})("resizeEnd",function(){const s=wt(e).$implicit;return yt(De(3).allDayEventResizeEnded(s))})("dragStart",function(){const s=wt(e).$implicit,o=oi(1);De();const c=oi(1);return yt(De(2).dragStarted(c,o,s,!1))})("dragging",function(){return wt(e),yt(De(3).allDayEventDragMove())})("dragEnd",function(r){const o=wt(e).$implicit,c=De(3);return yt(c.dragEnded(o,r,c.dayColumnWidth))}),Te(2,QAe,1,2,"div",19),ie(3,"mwl-calendar-week-view-event",20),Je("eventClicked",function(r){const o=wt(e).$implicit;return yt(De(3).eventClicked.emit({event:o.event,sourceEvent:r.sourceEvent}))}),se(),Te(4,eke,1,2,"div",21),se()}if(2&n){const e=t.$implicit,i=De(3);Es("width",100/i.days.length*e.span,"%")("margin-left",i.rtl?null:100/i.days.length*e.offset,"%")("margin-right",i.rtl?100/i.days.length*e.offset:null,"%"),Ut("cal-draggable",e.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),de("ngClass",null==e.event?null:e.event.cssClass)("resizeCursors",i.resizeCursors)("resizeSnapGrid",Ur(33,tke,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",Ur(36,N7,e.event,i.calendarId))("dragAxis",Ur(39,D0,e.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&e.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?dl(42,nke,i.dayColumnWidth):Io(44,zm))("validateDrag",i.validateDrag)("touchStartLongPress",Io(45,U1)),ne(2),de("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),ne(1),de("locale",i.locale)("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),ne(1),de("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function rke(n,t){if(1&n&&(ie(0,"div",14,15),Te(2,ike,5,46,"div",16),se()),2&n){const e=t.$implicit,i=De(2);ne(2),de("ngForOf",e.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function ske(n,t){if(1&n){const e=jn();ie(0,"div",8,9),Je("dragEnter",function(){return wt(e),yt(De().dragEnter("allDay"))})("dragLeave",function(){return wt(e),yt(De().dragLeave("allDay"))}),ie(2,"div",5),it(3,"div",10),Te(4,ZAe,1,0,"div",11),se(),Te(5,rke,3,2,"div",12),se()}if(2&n){const e=De();ne(3),de("ngTemplateOutlet",e.allDayEventsLabelTemplate),ne(1),de("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),ne(1),de("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function oke(n,t){if(1&n&&it(0,"mwl-calendar-week-view-hour-segment",28),2&n){const e=t.$implicit,i=De(3);Es("height",i.hourSegmentHeight,"px"),de("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function ake(n,t){if(1&n&&(ie(0,"div",26),Te(1,oke,1,8,"mwl-calendar-week-view-hour-segment",27),se()),2&n){const e=t.$implicit,i=t.odd,r=De(2);Ut("cal-hour-odd",i),ne(1),de("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function lke(n,t){if(1&n&&(ie(0,"div",24),Te(1,ake,2,4,"div",25),se()),2&n){const e=De();ne(1),de("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const cke=function(){return{left:!0,top:!0}};function dke(n,t){1&n&&it(0,"div",22),2&n&&de("resizeEdges",Io(1,cke))}function uke(n,t){}function hke(n,t){if(1&n){const e=jn();ie(0,"mwl-calendar-week-view-event",36),Je("eventClicked",function(r){wt(e);const s=De().$implicit;return yt(De(2).eventClicked.emit({event:s.event,sourceEvent:r.sourceEvent}))}),se()}if(2&n){const e=De().$implicit,i=De().$implicit,r=De();de("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",i)("daysInWeek",r.daysInWeek)}}const fke=function(){return{right:!0,bottom:!0}};function pke(n,t){1&n&&it(0,"div",23),2&n&&de("resizeEdges",Io(1,fke))}const gke=function(n,t,e,i){return{left:n,right:t,top:e,bottom:i}};function mke(n,t){if(1&n){const e=jn();ie(0,"div",33,18),Je("resizeStart",function(r){const o=wt(e).$implicit,c=De(2),u=oi(6);return yt(c.timeEventResizeStarted(u,o,r))})("resizing",function(r){const o=wt(e).$implicit;return yt(De(2).timeEventResizing(o,r))})("resizeEnd",function(){const s=wt(e).$implicit;return yt(De(2).timeEventResizeEnded(s))})("dragStart",function(){const s=wt(e).$implicit,o=oi(1),c=De(2),u=oi(6);return yt(c.dragStarted(u,o,s,!0))})("dragging",function(r){const o=wt(e).$implicit;return yt(De(2).dragMove(o,r))})("dragEnd",function(r){const o=wt(e).$implicit,c=De(2);return yt(c.dragEnded(o,r,c.dayColumnWidth,!0))}),Te(2,dke,1,2,"div",19),Te(3,uke,0,0,"ng-template",34),Te(4,hke,1,12,"ng-template",null,35,Gi),Te(6,pke,1,2,"div",21),se()}if(2&n){const e=t.$implicit,i=oi(5),r=De(2);Es("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),Ut("cal-draggable",e.event.draggable&&0===r.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),de("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeCursors",r.resizeCursors)("resizeSnapGrid",rH(30,gke,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",Ur(35,N7,e.event,r.calendarId))("dragAxis",Ur(38,D0,e.event.draggable&&0===r.timeEventResizes.size,e.event.draggable&&0===r.timeEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?Ur(41,D0,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):Io(44,zm))("touchStartLongPress",Io(45,U1))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",r.validateDrag),ne(2),de("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),ne(1),de("ngTemplateOutlet",i),ne(3),de("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function _ke(n,t){if(1&n){const e=jn();ie(0,"mwl-calendar-week-view-hour-segment",38),Je("mwlClick",function(r){const o=wt(e).$implicit;return yt(De(3).hourSegmentClicked.emit({date:o.date,sourceEvent:r}))})("drop",function(r){const o=wt(e).$implicit;return yt(De(3).eventDropped(r,o.date,!1))})("dragEnter",function(){const s=wt(e).$implicit;return yt(De(3).dateDragEnter(s.date))}),se()}if(2&n){const e=t.$implicit,i=De(3);Es("height",i.hourSegmentHeight,"px"),de("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function vke(n,t){if(1&n&&(ie(0,"div",26),Te(1,_ke,1,10,"mwl-calendar-week-view-hour-segment",37),se()),2&n){const e=t.$implicit,i=t.odd,r=De(2);Ut("cal-hour-odd",i),ne(1),de("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function yke(n,t){if(1&n&&(ie(0,"div",29),it(1,"mwl-calendar-week-view-current-time-marker",30),ie(2,"div",31),Te(3,mke,7,46,"div",32),se(),Te(4,vke,2,4,"div",25),se()),2&n){const e=t.$implicit,i=De();ne(1),de("columnDate",e.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),ne(2),de("ngForOf",e.events)("ngForTrackBy",i.trackByWeekTimeEvent),ne(1),de("ngForOf",e.hours)("ngForTrackBy",i.trackByHour)}}let vf=(()=>{class n{constructor(e,i,r){this.renderer=e,this.elm=i,this.document=r,this.clickListenerDisabled=!1,this.click=new We,this.destroy$=new ve}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(sn(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new zt(e=>this.renderer.listen(this.elm.nativeElement,"click",i=>{e.next(i)}))}}return n.\u0275fac=function(e){return new(e||n)(W(Hr),W(Gt),W(ln))},n.\u0275dir=$e({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),j1=(()=>{class n{constructor(e,i,r){this.host=e,this.ngZone=i,this.renderer=r,this.keydown=new We,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(13===e.keyCode||13===e.which||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(e){return new(e||n)(W(Gt),W(ht),W(Hr))},n.\u0275dir=$e({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),W1=(()=>{class n{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:i}){return e.badgeTotal>0?`\n        ${ts(e.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${ts(e.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:e,locale:i}){return`\n      Beginning of expanded view for ${ts(e,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:e,locale:i}){return`${ts(e,"EEEE MMMM dd",i)} expanded`}eventDescription({event:e,locale:i}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:i});const r=`\n      ${ts(e.start,"EEEE MMMM dd",i)},\n      ${e.title}, from ${ts(e.start,"hh:mm a",i)}\n    `;return e.end?r+` to ${ts(e.end,"hh:mm a",i)}`:r}allDayEventDescription({event:e,locale:i}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${ts(e.start,"MMMM dd hh:mm a",i)}\n    `;return e.end?r+`, stop time ${ts(e.end,"MMMM d hh:mm a",i)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(e){return new(e||n)(fe(BA))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),yf=(()=>{class n{constructor(e,i){this.calendarA11y=e,this.locale=i}transform(e,i){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[i]>"u"){const r=Object.getOwnPropertyNames(Object.getPrototypeOf(W1.prototype)).filter(s=>"constructor"!==s);throw new Error(`${i} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[i](e)}}return n.\u0275fac=function(e){return new(e||n)(W(W1,16),W(eo,16))},n.\u0275pipe=Jr({name:"calendarA11y",type:n,pure:!0}),n})(),L7=(()=>{class n{constructor(){this.trackByActionId=(e,i)=>i.id?i.id:i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,i){if(1&e&&(Te(0,sAe,1,1,"ng-template",null,0,Gi),Te(2,oAe,0,0,"ng-template",1)),2&e){const r=oi(1);ne(2),de("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",Ur(2,aAe,i.event,i.trackByActionId))}},dependencies:[za,Wr,Tr,ps,vf,j1,yf],encapsulation:2}),n})();class kL{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}let ML=(()=>{class n{constructor(e){this.calendarEventTitle=e}transform(e,i,r){return this.calendarEventTitle[i](r,e)}}return n.\u0275fac=function(e){return new(e||n)(W(kL,16))},n.\u0275pipe=Jr({name:"calendarEventTitle",type:n,pure:!0}),n})(),F7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,i){if(1&e&&(Te(0,lAe,3,10,"ng-template",null,0,Gi),Te(2,cAe,0,0,"ng-template",1)),2&e){const r=oi(1);ne(2),de("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",Ur(2,dAe,i.event,i.view))}},dependencies:[ps,ML,yf],encapsulation:2}),n})(),bke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,i){if(1&e&&(Te(0,uAe,3,2,"ng-template",null,0,Gi),Te(2,hAe,0,0,"ng-template",1)),2&e){const r=oi(1);ne(2),de("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",Xp(2,fAe,i.contents,i.placement,i.event))}},dependencies:[za,ps],encapsulation:2}),n})(),V7=(()=>{class n{constructor(e,i,r,s,o,c){this.elementRef=e,this.injector=i,this.renderer=r,this.viewContainerRef=o,this.document=c,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new ve,this.tooltipFactory=s.resolveComponentFactory(bke)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?he("now"):Om(this.delay)).pipe(sn(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function wSe(n,t,e,i,r){var s=Array.isArray(e)?e:e.split(xSe),o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],c=t.classList,u=function(j){var oe=j.split("-"),ee=oe[0],le=oe[1],me=[];return r&&(me.push(r+"-"+ee),le&&me.push(r+"-"+ee+"-"+le),me.forEach(function(Se){c.add(Se)})),me};r&&o.forEach(function(j){c.remove(r+"-"+j)});var f=s.findIndex(function(j){return"auto"===j});f>=0&&o.forEach(function(j){null==s.find(function(oe){return-1!==oe.search("^"+j)})&&s.splice(f++,1,j)});var _=t.style;_.position="absolute",_.top="0",_.left="0",_["will-change"]="transform";for(var x,T=!1,R=0,F=s;R<F.length;R++){var B=u(x=F[R]);if(p7.positionElements(n,t,x,i)){T=!0;break}r&&B.forEach(function(j){c.remove(j)})}return T||(u(x=s[0]),p7.positionElements(n,t,x,i)),x}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(e){return new(e||n)(W(Gt),W(Er),W(Hr),W(Ld),W(Vs),W(ln))},n.\u0275dir=$e({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,i){1&e&&Je("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[Ln]}),n})();var bf=function(n){return n.Month="month",n.Week="week",n.Day="day",n}(bf||{});const B7=n=>function NSe(n,t){var e=!0;function i(r,s){t(r,s),e=!1}return Array.isArray(n)?(n.forEach(function(r){r.start?r.start instanceof Date||i(Fm.StartPropertyNotDate,r):i(Fm.StartPropertyMissing,r),r.end&&(r.end instanceof Date||i(Fm.EndPropertyNotDate,r),r.start>r.end&&i(Fm.EndsBeforeStart,r))}),e):(t(Fm.NotArray,n),!1)}(n,(...e)=>console.warn("angular-calendar",...e));function z7(n,t){return Math.floor(n.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(n.right)}function H7(n,t){return Math.round(n/t)*t}const U7=(n,t)=>t.id?t.id:t,RL=(n,t)=>t.date.toISOString(),Cke=(n,t)=>t.date.toISOString(),Eke=(n,t)=>t.segments[0].date.toISOString(),Dke=(n,t)=>t.event.id?t.event.id:t.event,Tke=(n,t)=>t.event.id?t.event.id:t.event;function OL(n,t,e,i,r){const s=H7(n,i||e),o=function Ske(n,t,e){return(e||60)/(n*t)}(t,e,r);return s*o}function j7(n,t,e){return t.end?t.end:n.addMinutes(t.start,e)}function Il(n,t,e,i){let r=0,s=0;const o=e<0?n.subDays:n.addDays;let c=t;for(;s<=Math.abs(e);){c=o(t,r);const u=n.getDay(c);-1===i.indexOf(u)&&s++,r++}return c}function PL(n,t,e,i=[],r){let s=r?n.startOfDay(t):n.startOfWeek(t,{weekStartsOn:e});const o=n.endOfWeek(t,{weekStartsOn:e});for(;i.indexOf(n.getDay(s))>-1&&s<o;)s=n.addDays(s,1);if(r)return{viewStart:s,viewEnd:n.endOfDay(Il(n,s,r-1,i))};{let c=o;for(;i.indexOf(n.getDay(c))>-1&&c>s;)c=n.subDays(c,1);return{viewStart:s,viewEnd:c}}}function NL({x:n,y:t}){return Math.abs(n)>1||Math.abs(t)>1}class hd{}let Mke=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new We}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===bf.Day?Il(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===bf.Week&&this.daysInWeek?Il(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(W(hd))},n.\u0275dir=$e({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,i){1&e&&Je("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),Rke=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new We}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===bf.Day?Il(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===bf.Week&&this.daysInWeek?Il(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(W(hd))},n.\u0275dir=$e({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,i){1&e&&Je("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),Oke=(()=>{class n{constructor(e){this.dateAdapter=e,this.viewDateChange=new We}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return n.\u0275fac=function(e){return new(e||n)(W(hd))},n.\u0275dir=$e({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,i){1&e&&Je("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),n})(),Pke=(()=>{class n{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return ts(e,"EEEE",i)}monthViewDayNumber({date:e,locale:i}){return ts(e,"d",i)}monthViewTitle({date:e,locale:i}){return ts(e,"LLLL y",i)}weekViewColumnHeader({date:e,locale:i}){return ts(e,"EEEE",i)}weekViewColumnSubHeader({date:e,locale:i}){return ts(e,"MMM d",i)}weekViewTitle({date:e,locale:i,weekStartsOn:r,excludeDays:s,daysInWeek:o}){const{viewStart:c,viewEnd:u}=PL(this.dateAdapter,e,r,s,o),f=(_,x)=>ts(_,"MMM d"+(x?", yyyy":""),i);return`${f(c,c.getUTCFullYear()!==u.getUTCFullYear())} - ${f(u,!0)}`}weekViewHour({date:e,locale:i}){return ts(e,"h a",i)}dayViewHour({date:e,locale:i}){return ts(e,"h a",i)}dayViewTitle({date:e,locale:i}){return ts(e,"EEEE, MMMM d, y",i)}}return n.\u0275fac=function(e){return new(e||n)(fe(hd))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),G1=(()=>{class n extends Pke{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ar(n)))(i||n)}}(),n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),T0=(()=>{class n{constructor(e,i){this.dateFormatter=e,this.locale=i}transform(e,i,r=this.locale,s=0,o=[],c){if(typeof this.dateFormatter[i]>"u"){const u=Object.getOwnPropertyNames(Object.getPrototypeOf(G1.prototype)).filter(f=>"constructor"!==f);throw new Error(`${i} is not a valid date formatter. Can only be one of ${u.join(", ")}`)}return this.dateFormatter[i]({date:e,locale:r,weekStartsOn:s,excludeDays:o,daysInWeek:c})}}return n.\u0275fac=function(e){return new(e||n)(W(G1,16),W(eo,16))},n.\u0275pipe=Jr({name:"calendarDate",type:n,pure:!0}),n})(),$1=(()=>{class n{constructor(e){this.dateAdapter=e}getMonthView(e){return function RSe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,o=t.excluded,c=void 0===o?[]:o,u=t.viewStart,f=void 0===u?n.startOfMonth(r):u,_=t.viewEnd,x=void 0===_?n.endOfMonth(r):_,T=t.weekendDays;i||(i=[]);for(var It,F=n.endOfWeek,B=n.differenceInDays,j=n.startOfDay,oe=n.addHours,ee=n.endOfDay,le=n.isSameMonth,me=n.getDay,Se=(0,n.startOfWeek)(f,{weekStartsOn:s}),Xe=F(x,{weekStartsOn:s}),pt=w0(n,{events:i,periodStart:Se,periodEnd:Xe}),ft=[],Mt=function(Kt){var Qt;if(It?(Qt=j(oe(It,24)),It.getTime()===Qt.getTime()&&(Qt=j(oe(It,25))),It=Qt):Qt=It=Se,!c.some(function(Ar){return me(Qt)===Ar})){var Mi=m7(n,{date:Qt,weekendDays:T}),sr=w0(n,{events:pt,periodStart:j(Qt),periodEnd:ee(Qt)});Mi.inMonth=le(Qt,r),Mi.events=sr,Mi.badgeTotal=sr.length,ft.push(Mi)}},gt=0;gt<B(Xe,Se)+1;gt++)Mt();var _t=[],un=mL-c.length;if(un<mL)for(gt=0;gt<ft.length;gt+=un){var ei=ft.slice(gt,gt+un);ei.some(function(Qt){return f<=Qt.date&&Qt.date<x})&&(_t=pL(pL([],_t,!0),ei,!0))}else _t=ft;var Et=Math.floor(_t.length/un),Ot=[];for(gt=0;gt<Et;gt++)Ot.push(gt*un);return{rowOffsets:Ot,totalDaysVisibleInWeek:un,days:_t,period:{start:_t[0].date,end:ee(_t[_t.length-1].date),events:pt}}}(this.dateAdapter,e)}getWeekViewHeader(e){return vL(this.dateAdapter,e)}getWeekView(e){return function MSe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,o=t.excluded,c=void 0===o?[]:o,u=t.precision,f=void 0===u?"days":u,_=t.absolutePositionedEvents,x=void 0!==_&&_,T=t.hourSegments,R=t.hourDuration,F=t.dayStart,B=t.dayEnd,j=t.weekendDays,oe=t.segmentHeight,ee=t.minimumEventHeight,le=t.viewStart,me=void 0===le?n.startOfWeek(r,{weekStartsOn:s}):le,Se=t.viewEnd,Xe=void 0===Se?n.endOfWeek(r,{weekStartsOn:s}):Se;i||(i=[]);var ft=n.endOfDay,It=w0(n,{events:i,periodStart:me=(0,n.startOfDay)(me),periodEnd:Xe=ft(Xe)}),Mt=vL(n,{viewDate:r,weekStartsOn:s,excluded:c,weekendDays:j,viewStart:me,viewEnd:Xe});return{allDayEventRows:ASe(n,{events:It,excluded:c,precision:f,absolutePositionedEvents:x,viewStart:me,viewEnd:Xe}),period:{events:It,start:Mt[0].date,end:ft(Mt[Mt.length-1].date)},hourColumns:kSe(n,{events:i,viewDate:r,hourSegments:T,hourDuration:R,dayStart:F,dayEnd:B,weekStartsOn:s,excluded:c,weekendDays:j,segmentHeight:oe,viewStart:me,viewEnd:Xe,minimumEventHeight:ee})}}(this.dateAdapter,e)}}return n.\u0275fac=function(e){return new(e||n)(fe(hd))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();new je("Moment");var Bu=function(n){return n.Drag="drag",n.Drop="drop",n.Resize="resize",n}(Bu||{});let I0=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||kL,i.dateFormatter||G1,i.utils||$1,i.a11y||W1]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=ke({providers:[BA],imports:[jc]}),n})(),Nke=(()=>{class n{constructor(){this.highlightDay=new We,this.unhighlightDay=new We,this.eventClicked=new We,this.trackByEventId=U7,this.validateDrag=NL}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,i){2&e&&Ut("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,i){if(1&e&&(Te(0,yAe,8,14,"ng-template",null,0,Gi),Te(2,bAe,0,0,"ng-template",1)),2&e){const r=oi(1);ne(2),de("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",YS(2,xAe,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},dependencies:[za,Wr,Tr,ps,Nv,IL,V7,vf,T0,ML,yf],encapsulation:2}),n})();const Lke=a0("collapse",[ku("void",lo({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),ku("*",lo({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),dd("* => void",cd("150ms ease-out")),dd("void => *",cd("150ms ease-in"))]);let Fke=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new We,this.trackByEventId=U7,this.validateDrag=NL}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,i){if(1&e&&(Te(0,DAe,1,1,"ng-template",null,0,Gi),Te(2,TAe,0,0,"ng-template",1)),2&e){const r=oi(1);ne(2),de("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",$S(2,IAe,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},dependencies:[za,Wr,Tr,ps,Nv,IL,L7,F7,vf,j1,yf],encapsulation:2,data:{animation:[Lke]}}),n})(),Vke=(()=>{class n{constructor(){this.columnHeaderClicked=new We,this.trackByWeekDayHeaderDate=RL}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,i){if(1&e&&(Te(0,AAe,2,2,"ng-template",null,0,Gi),Te(2,kAe,0,0,"ng-template",1)),2&e){const r=oi(1);ne(2),de("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",Xp(2,MAe,i.days,i.locale,i.trackByWeekDayHeaderDate))}},dependencies:[za,Wr,ps,T0],encapsulation:2}),n})(),Bke=(()=>{class n{constructor(e,i,r,s){this.cdr=e,this.utils=i,this.dateAdapter=s,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new We,this.dayClicked=new We,this.eventClicked=new We,this.columnHeaderClicked=new We,this.eventTimesChanged=new We,this.trackByRowOffset=(o,c)=>this.view.days.slice(c,this.view.totalDaysVisibleInWeek).map(u=>u.date.toISOString()).join("-"),this.trackByDate=(o,c)=>c.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays,r=e.viewDate||e.events||e.excludeDays||e.weekendDays;i&&this.refreshHeader(),e.events&&B7(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,i){this.view.days.forEach(r=>{i&&r.events.indexOf(e)>-1?r.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(e,i,r){if(e!==r){const s=this.dateAdapter.getYear(e.date),o=this.dateAdapter.getMonth(e.date),c=this.dateAdapter.getDate(e.date),u=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,s),o),c);let f;if(i.end){const _=this.dateAdapter.differenceInSeconds(u,i.start);f=this.dateAdapter.addSeconds(i.end,_)}this.eventTimesChanged.emit({event:i,newStart:u,newEnd:f,day:e,type:Bu.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,e));const i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(e){return new(e||n)(W(Dr),W($1),W(eo),W(hd))},n.\u0275cmp=Bt({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[Ln],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,i){1&e&&(ie(0,"div",0)(1,"mwl-calendar-month-view-header",1),Je("columnHeaderClicked",function(s){return i.columnHeaderClicked.emit(s)}),se(),ie(2,"div",2),Te(3,OAe,5,13,"div",3),se()()),2&e&&(ne(1),de("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),ne(2),de("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},dependencies:[za,Wr,Nv,SL,vf,j1,Nke,Fke,Vke,WU,yf],encapsulation:2}),n})(),W7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=ke({imports:[jc,z1,I0,z1]}),n})();class zke{constructor(t,e){this.dragContainerElement=t,this.startPosition=e.getBoundingClientRect()}validateDrag({x:t,y:e,snapDraggedEvents:i,dragAlreadyMoved:r,transform:s}){const o=NL({x:t,y:e})||r;if(i){const c=Object.assign({},this.startPosition,{left:this.startPosition.left+s.x,right:this.startPosition.right+s.x,top:this.startPosition.top+s.y,bottom:this.startPosition.bottom+s.y});if(o){const u=this.dragContainerElement.getBoundingClientRect(),f=u.top<c.top&&c.top<u.bottom,_=u.top<c.bottom&&c.bottom<u.bottom;return z7(u,c)&&(f||_)}return!1}return o}}class Hke{constructor(t,e,i){this.resizeContainerElement=t,this.minWidth=e,this.rtl=i}validateResize({rectangle:t,edges:e}){return this.rtl&&(typeof e.left<"u"?(t.left-=e.left,t.right+=e.left):typeof e.right<"u"&&(t.left+=e.right,t.right-=e.right),t.width=t.right-t.left),!(this.minWidth&&Math.ceil(t.width)<Math.ceil(this.minWidth))&&function wke(n,t){return z7(n,t)&&function xke(n,t){return Math.floor(n.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(n.bottom)}(n,t)}(this.resizeContainerElement.getBoundingClientRect(),t)}}let Uke=(()=>{class n{constructor(){this.dayHeaderClicked=new We,this.eventDropped=new We,this.dragEnter=new We,this.trackByWeekDayHeaderDate=RL}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,i){if(1&e&&(Te(0,NAe,2,2,"ng-template",null,0,Gi),Te(2,LAe,0,0,"ng-template",1)),2&e){const r=oi(1);ne(2),de("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function sH(n,t,e,i,r,s,o,c,u){const f=Cs()+n,_=nt(),x=La(_,f,e,i,r,s);return dh(_,f+4,o,c)||x?$l(_,f+6,u?t.call(u,e,i,r,s,o,c):t(e,i,r,s,o,c)):pv(_,f+6)}(2,FAe,i.days,i.locale,i.dayHeaderClicked,i.eventDropped,i.dragEnter,i.trackByWeekDayHeaderDate))}},dependencies:[za,Wr,ps,SL,vf,T0],encapsulation:2}),n})(),jke=(()=>{class n{constructor(){this.eventClicked=new We}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,i){if(1&e&&(Te(0,BAe,6,27,"ng-template",null,0,Gi),Te(2,zAe,0,0,"ng-template",1)),2&e){const r=oi(1);ne(2),de("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",YS(2,HAe,[i.weekEvent,i.tooltipPlacement,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDisabled,i.tooltipDelay,i.column,i.daysInWeek]))}},dependencies:[ps,Nv,L7,F7,V7,vf,j1,ML,yf],encapsulation:2}),n})(),Wke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,i){if(1&e&&(Te(0,jAe,3,13,"ng-template",null,0,Gi),Te(2,WAe,0,0,"ng-template",1)),2&e){const r=oi(1);ne(2),de("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",$S(2,GAe,i.segment,i.locale,i.segmentHeight,i.isTimeLabel,i.daysInWeek))}},dependencies:[za,Tr,ps,T0,yf],encapsulation:2}),n})(),Gke=(()=>{class n{constructor(e,i){this.dateAdapter=e,this.zone=i,this.columnDate$=new G(void 0),this.marker$=this.zone.onStable.pipe(vt(()=>function ySe(n=0,t=Ud){return n<0&&(n=0),Om(n,n,t)}(6e4)),yl(0),tk(this.columnDate$),Ye(r=>{const s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),c=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),u=new Date;return{isVisible:this.dateAdapter.isSameDay(r,u)&&u>=s&&u<=o,top:this.dateAdapter.differenceInMinutes(u,s)*c}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return n.\u0275fac=function(e){return new(e||n)(W(hd),W(ht))},n.\u0275cmp=Bt({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[Ln],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,i){if(1&e&&(Te(0,YAe,1,1,"ng-template",null,0,Gi),Te(2,qAe,0,0,"ng-template",1),Nt(3,"async"),Nt(4,"async")),2&e){const r=oi(1);let s;ne(2),de("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function oH(n,t,e,i,r,s,o,c,u,f){const _=Cs()+n,x=nt();let T=La(x,_,e,i,r,s);return Cw(x,_+4,o,c,u)||T?$l(x,_+7,f?t.call(f,e,i,r,s,o,c,u):t(e,i,r,s,o,c,u)):pv(x,_+7)}(6,XAe,i.columnDate,i.dayStartHour,i.dayStartMinute,i.dayEndHour,i.dayEndMinute,null==(s=vn(3,2,i.marker$))?null:s.isVisible,null==(s=vn(4,4,i.marker$))?null:s.top))}},dependencies:[Tr,ps,VA],encapsulation:2}),n})(),G7=(()=>{class n{constructor(e,i,r,s,o){this.cdr=e,this.utils=i,this.dateAdapter=s,this.element=o,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new We,this.eventClicked=new We,this.eventTimesChanged=new We,this.beforeViewRender=new We,this.hourSegmentClicked=new We,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=RL,this.trackByHourSegment=Cke,this.trackByHour=Eke,this.trackByWeekAllDayEvent=Dke,this.trackByWeekTimeEvent=Tke,this.trackByHourColumn=(c,u)=>u.hours[0]?u.hours[0].segments[0].date.toISOString():u,this.trackById=(c,u)=>u.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,r=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;i&&this.refreshHeader(),e.events&&B7(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(e,i,r){this.timeEventResizes.set(i.event,r),this.resizeStarted(e,i)}timeEventResizing(e,i){this.timeEventResizes.set(e.event,i);const r=new Map,s=[...this.events];this.timeEventResizes.forEach((o,c)=>{const u=this.getTimeEventResizedDates(c,o),f={...c,...u};r.set(f,c);const _=s.indexOf(c);s[_]=f}),this.restoreOriginalEvents(s,r,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const i=this.timeEventResizes.get(e.event);if(i){this.timeEventResizes.delete(e.event);const r=this.getTimeEventResizedDates(e.event,i);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:e.event,type:Bu.Resize})}}allDayEventResizeStarted(e,i,r){this.allDayEventResizes.set(i,{originalOffset:i.offset,originalSpan:i.span,edge:typeof r.edges.left<"u"?"left":"right"}),this.resizeStarted(e,i,this.getDayColumnWidth(e))}allDayEventResizing(e,i,r){const s=this.allDayEventResizes.get(e),o=this.rtl?-1:1;if(typeof i.edges.left<"u"){const c=Math.round(+i.edges.left/r)*o;e.offset=s.originalOffset+c,e.span=s.originalSpan-c}else if(typeof i.edges.right<"u"){const c=Math.round(+i.edges.right/r)*o;e.span=s.originalSpan+c}}allDayEventResizeEnded(e){const i=this.allDayEventResizes.get(e);if(i){const r="left"===i.edge;let s;s=r?e.offset-i.originalOffset:e.span-i.originalSpan,e.offset=i.originalOffset,e.span=i.originalSpan;const o=this.getAllDayEventResizedDates(e.event,s,r);this.eventTimesChanged.emit({newStart:o.start,newEnd:o.end,event:e.event,type:Bu.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,i,r){(function kke(n,t,e,i){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==i||n.dropData.event.allDay&&!e||!n.dropData.event.allDay&&e)})(e,0,r,this.calendarId)&&this.lastDragEnterDate.getTime()===i.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:Bu.Drop,event:e.dropData.event,newStart:i,allDay:r}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,i,r,s){this.dayColumnWidth=this.getDayColumnWidth(e);const o=new zke(e,i);this.validateDrag=({x:c,y:u,transform:f})=>{const _=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&o.validateDrag({x:c,y:u,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:f});if(_&&this.validateEventTimesChanged){const x=this.getDragMovedEventTimes(r,{x:c,y:u},this.dayColumnWidth,s);return this.validateEventTimesChanged({type:Bu.Drag,event:r.event,newStart:x.start,newEnd:x.end})}return _},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&s&&this.view.hourColumns.forEach(c=>{const u=c.events.find(f=>f.event===r.event&&f!==r);u&&(u.width=0,u.height=0)}),this.cdr.markForCheck()}dragMove(e,i){const r=this.getDragMovedEventTimes(e,i,this.dayColumnWidth,!0),s=e.event,o={...s,...r},c=this.events.map(u=>u===s?o:u);this.restoreOriginalEvents(c,new Map([[o,s]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,i,r,s=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:o,end:c}=this.getDragMovedEventTimes(e,i,r,s);(this.snapDraggedEvents||this.eventDragEnterByType[s?"time":"allDay"]>0)&&function Ake(n,t,e){const i=t||n;return e.start<=n&&n<=e.end||e.start<=i&&i<=e.end}(o,c,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:o,newEnd:c,event:e.event,type:Bu.Drag,allDay:!s}))}refreshHeader(){this.days=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays,...PL(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit({header:this.days,...this.view})}getWeekView(e){return this.utils.getWeekView({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight,...PL(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}getDragMovedEventTimes(e,i,r,s){const o=H7(i.x,r)/r*(this.rtl?-1:1),c=s?OL(i.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,u=this.dateAdapter.addMinutes(Il(this.dateAdapter,e.event.start,o,this.excludeDays),c);let f;return e.event.end&&(f=this.dateAdapter.addMinutes(Il(this.dateAdapter,e.event.end,o,this.excludeDays),c)),{start:u,end:f}}restoreOriginalEvents(e,i,r=!0){const s=this.view;r&&(this.view=this.getWeekView(e));const o=e.filter(c=>i.has(c));this.view.hourColumns.forEach((c,u)=>{s.hourColumns[u].hours.forEach((f,_)=>{f.segments.forEach((x,T)=>{c.hours[_].segments[T].cssClass=x.cssClass})}),o.forEach(f=>{const _=i.get(f),x=c.events.find(T=>T.event===(r?f:_));x?(x.event=_,x.tempEvent=f,r||(x.height=0,x.width=0)):c.events.push({event:_,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:f})})}),i.clear()}getTimeEventResizedDates(e,i){const r={start:e.start,end:j7(this.dateAdapter,e,this.minimumEventHeight)},{end:s,...o}=e,c={start:this.dateAdapter.addMinutes(r.end,-1*this.minimumEventHeight),end:j7(this.dateAdapter,o,this.minimumEventHeight)},u=this.rtl?-1:1;if(typeof i.edges.left<"u"){const f=Math.round(+i.edges.left/this.dayColumnWidth)*u,_=Il(this.dateAdapter,r.start,f,this.excludeDays);r.start=_<c.start?_:c.start}else if(typeof i.edges.right<"u"){const f=Math.round(+i.edges.right/this.dayColumnWidth)*u,_=Il(this.dateAdapter,r.end,f,this.excludeDays);r.end=_>c.end?_:c.end}if(typeof i.edges.top<"u"){const f=OL(i.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),_=this.dateAdapter.addMinutes(r.start,f);r.start=_<c.start?_:c.start}else if(typeof i.edges.bottom<"u"){const f=OL(i.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),_=this.dateAdapter.addMinutes(r.end,f);r.end=_>c.end?_:c.end}return r}resizeStarted(e,i,r){this.dayColumnWidth=this.getDayColumnWidth(e);const s=new Hke(e,r,this.rtl);this.validateResize=({rectangle:o,edges:c})=>{const u=s.validateResize({rectangle:{...o},edges:c});if(u&&this.validateEventTimesChanged){let f;if(r){const _=this.rtl?-1:1;if(typeof c.left<"u"){const x=Math.round(+c.left/r)*_;f=this.getAllDayEventResizedDates(i.event,x,!this.rtl)}else{const x=Math.round(+c.right/r)*_;f=this.getAllDayEventResizedDates(i.event,x,this.rtl)}}else f=this.getTimeEventResizedDates(i.event,{rectangle:o,edges:c});return this.validateEventTimesChanged({type:Bu.Resize,event:i.event,newStart:f.start,newEnd:f.end})}return u},this.cdr.markForCheck()}getAllDayEventResizedDates(e,i,r){let s=e.start,o=e.end||e.start;return r?s=Il(this.dateAdapter,s,i,this.excludeDays):o=Il(this.dateAdapter,o,i,this.excludeDays),{start:s,end:o}}}return n.\u0275fac=function(e){return new(e||n)(W(Dr),W($1),W(eo),W(hd),W(Gt))},n.\u0275cmp=Bt({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[Ln],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,i){1&e&&(ie(0,"div",0)(1,"mwl-calendar-week-view-header",1),Je("dayHeaderClicked",function(s){return i.dayHeaderClicked.emit(s)})("eventDropped",function(s){return i.eventDropped({dropData:s},s.newStart,!0)})("dragEnter",function(s){return i.dateDragEnter(s.date)}),se(),Te(2,ske,6,5,"div",2),ie(3,"div",3),Je("dragEnter",function(){return i.dragEnter("time")})("dragLeave",function(){return i.dragLeave("time")}),Te(4,lke,2,2,"div",4),ie(5,"div",5,6),Te(7,yke,5,13,"div",7),se()()()),2&e&&(ne(1),de("days",i.days)("locale",i.locale)("customTemplate",i.headerTemplate),ne(1),de("ngIf",i.view.allDayEventRows.length>0),ne(2),de("ngIf",i.view.hourColumns.length>0&&1!==i.daysInWeek),ne(1),Ut("cal-resize-active",i.timeEventResizes.size>0),ne(2),de("ngForOf",i.view.hourColumns)("ngForTrackBy",i.trackByHourColumn))},dependencies:[za,Wr,Tr,ps,M7,tAe,IL,SL,vf,Uke,jke,Wke,Gke],encapsulation:2}),n})(),LL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=ke({imports:[jc,R7,z1,I0,R7,z1]}),n})(),$ke=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new We,this.hourSegmentClicked=new We,this.eventTimesChanged=new We,this.beforeViewRender=new We}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Bt({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:27,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,i){1&e&&(ie(0,"mwl-calendar-week-view",0),Je("eventClicked",function(s){return i.eventClicked.emit(s)})("hourSegmentClicked",function(s){return i.hourSegmentClicked.emit(s)})("eventTimesChanged",function(s){return i.eventTimesChanged.emit(s)})("beforeViewRender",function(s){return i.beforeViewRender.emit(s)}),se()),2&e&&de("daysInWeek",1)("viewDate",i.viewDate)("events",i.events)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("minimumEventHeight",i.minimumEventHeight)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("refresh",i.refresh)("locale",i.locale)("eventSnapSize",i.eventSnapSize)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("resizeCursors",i.resizeCursors)("hourSegmentTemplate",i.hourSegmentTemplate)("eventTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("snapDraggedEvents",i.snapDraggedEvents)("allDayEventsLabelTemplate",i.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",i.currentTimeMarkerTemplate)("validateEventTimesChanged",i.validateEventTimesChanged)},dependencies:[G7],encapsulation:2}),n})(),$7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=ke({imports:[jc,I0,LL]}),n})(),Yke=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||kL,i.dateFormatter||G1,i.utils||$1,i.a11y||W1]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Rt({type:n}),n.\u0275inj=ke({imports:[I0,W7,LL,$7,I0,W7,LL,$7]}),n})();const xf=void 0,Xke=["en",[["a","p"],["AM","PM"],xf],[["AM","PM"],xf,xf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xf,"{1} 'at' {0}",xf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qke(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],{isArray:Zke}=Array;function Y7(n){return 1===n.length&&Zke(n[0])?n[0]:n}function FL(...n){const t=bs(n),e=Y7(n);return e.length?new zt(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)rt(e[o]).subscribe(ct(i,c=>{if(r[o].push(c),r.every(u=>u.length)){const u=r.map(f=>f.shift());i.next(t?t(...u):u),r.some((f,_)=>!f.length&&s[_])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):ti}Math,Math,Math;const IRe=["*"],iOe=["dialog"];function Ef(n){return"string"==typeof n}function Df(n){return null!=n}function $m(n){return(n||document.body).getBoundingClientRect()}const TZ={animation:!0,transitionTimerDelayMs:5},XOe=()=>{},{transitionTimerDelayMs:ZOe}=TZ,N0=new Map,ia=(n,t,e,i)=>{let r=i.context||{};const s=N0.get(t);if(s)switch(i.runningTransition){case"continue":return ti;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),N0.delete(t)}const o=e(t,i.animation,r)||XOe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),he(void 0).pipe(function YOe(n){return t=>new zt(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const c=new ve,u=new ve,f=c.pipe(function Qke(...n){return t=>yg(t,he(...n))}(!0));N0.set(t,{transition$:c,complete:()=>{u.next(),u.complete()},context:r});const _=function qOe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const x=Xr(t,"transitionend").pipe(sn(f),Qn(({target:R})=>R===t));(function q7(...n){return 1===(n=Y7(n)).length?rt(n[0]):new zt(function Kke(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(rt(n[i]).subscribe(ct(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(Om(_+ZOe).pipe(sn(f)),x,u).pipe(sn(f)).subscribe(()=>{N0.delete(t),n.run(()=>{o(),c.next(),c.complete()})})}),c.asObservable()};let eT=(()=>{class n{constructor(){this.animation=TZ.animation}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),LZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),BZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),zZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})();var Yi=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Yi||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const YZ=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function qZ(n){const t=Array.from(n.querySelectorAll(YZ)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let aK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),dK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})();class kf{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let XPe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(ni(1)).subscribe(()=>{ia(this._zone,this._el.nativeElement,(e,i)=>{i&&$m(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ia(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(ht))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(Co("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Ut("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[To],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();class uK{update(t){}close(t){}dismiss(t){}}const ZPe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],KPe=["animation","backdropClass"];class QPe{_applyWindowOptions(t,e){ZPe.forEach(i=>{Df(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){KPe.forEach(i=>{Df(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(sn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(sn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new ve,this._dismissed=new ve,this._hidden=new ve,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function CZ(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():he(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),FL(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var uF=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(uF||{});let JPe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new ve,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new We,this.shown=new ve,this.hidden=new ve}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ef(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ni(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=FL(ia(this._zone,e,()=>e.classList.remove("show"),i),ia(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};FL(ia(this._zone,this._elRef.nativeElement,(s,o)=>{o&&$m(s),s.classList.add("show")},e),ia(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Xr(e,"keydown").pipe(sn(this._closed$),Qn(r=>r.which===Yi.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(uF.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Xr(this._dialogEl.nativeElement,"mousedown").pipe(sn(this._closed$),Gr(()=>i=!1),vt(()=>Xr(e,"mouseup").pipe(sn(this._closed$),ni(1))),Qn(({target:r})=>e===r)).subscribe(()=>{i=!0}),Xr(e,"click").pipe(sn(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(uF.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=qZ(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ia(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||n)(W(ln),W(Gt),W(ht))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&Ji(iOe,7),2&i){let s;Jt(s=en())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Ht("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Co("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Ut("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[To],ngContentSelectors:IRe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(al(),ie(0,"div",0,1)(2,"div",2),Rr(3),se()()),2&i&&Co("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),eNe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(e>0){const c=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${c+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=o),r.overflow=s}}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ln))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tNe=(()=>{class n{constructor(e,i,r,s,o,c,u){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=s,this._scrollBar=o,this._rendererFactory=c,this._ngZone=u,this._activeWindowCmptHasChanged=new ve,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new We,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const f=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=Xr(t,"focusin").pipe(sn(e),Ye(s=>s.target));Xr(t,"keydown").pipe(sn(e),Qn(s=>s.which===Yi.Tab),vC(r)).subscribe(([s,o])=>{const[c,u]=qZ(t);(o===c||o===t)&&s.shiftKey&&(u.focus(),s.preventDefault()),o===u&&!s.shiftKey&&(c.focus(),s.preventDefault())}),i&&Xr(t,"click").pipe(sn(e),vC(r),Ye(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const s=r.container instanceof HTMLElement?r.container:Df(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const c=new uK,u=(e=r.injector||e).get(xo,null)||this._environmentInjector,f=this._getContentRef(e,u,i,c,r);let _=!1!==r.backdrop?this._attachBackdrop(s):void 0,x=this._attachWindowComponent(s,f.nodes),T=new QPe(x,f,_,r.beforeDismiss);return this._registerModalRef(T),this._registerWindowCmpt(x),T.hidden.pipe(ni(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),c.close=R=>{T.close(R)},c.dismiss=R=>{T.dismiss(R)},c.update=R=>{T.update(R)},T.update(r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),_&&_.instance&&_.changeDetectorRef.detectChanges(),x.changeDetectorRef.detectChanges(),T}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=wA(XPe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=wA(JPe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,s,o){return r?r instanceof lr?this._createFromTemplateRef(r,s):Ef(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new kf([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new kf([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new kf([[i]])}_createFromComponent(e,i,r,s,o){const u=wA(r,{environmentInjector:i,elementInjector:Er.create({providers:[{provide:uK,useValue:s}],parent:e})}),f=u.location.nativeElement;return o.scrollable&&f.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new kf([[f]],u.hostView,u)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||n)(fe(Fa),fe(Er),fe(xo),fe(ln),fe(eNe),fe(Rp),fe(ht))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nNe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(fe(eT))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hK=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||n)(fe(Er),fe(tNe),fe(nNe))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({providers:[hK]})}return n})(),mK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),EK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),DK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),TK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),IK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),SK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),AK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),kK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),MK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})();new je("live announcer delay",{providedIn:"root",factory:function _Ne(){return 100}});let RK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})(),OK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({})}return n})();const yNe=[NZ,LZ,BZ,zZ,aK,dK,fK,mK,OK,EK,DK,TK,IK,SK,AK,kK,MK,RK];let PK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({imports:[yNe,NZ,LZ,BZ,zZ,aK,dK,fK,mK,OK,EK,DK,TK,IK,SK,AK,kK,MK,RK]})}return n})(),bNe=(()=>{class n{constructor(e,i){this.apiService=e,this.storageService=i,this.pet_list=[],e.getAllPets().then(r=>{this.pet_list=r,i.SessionAddStorage("pets",this.pet_list)})}static#e=this.\u0275fac=function(i){return new(i||n)(fe(Mu),fe(gc))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const xNe={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"},black:{primary:"#000000",secondary:"#000000"},green:{primary:"#2D6F28",secondary:"#2D6F28"}};let wNe=(()=>{class n{constructor(e,i,r){this.storageService=e,this.apiservice=i,this.petService=r,this.uid="",this.eventListSubject=new ve,this.eventList=[],this.EventList=this.eventListSubject.asObservable();var s=e.SessionGetStorage("uid");console.log(s),this.apiservice.getAppointments(s).then(o=>{o.forEach(c=>{console.log("a"),console.log(c);var u,f="";u=this.parseDateFromString(c.start_date)<new Date?"black":"green",console.log("asdasd"+r.pet_list),r.pet_list.forEach(_=>{"CL7E6IRjyJgOzaLxCV8O"==c.pet_id?f="Tobby":"HtvrlxCnJsSXVkUcgkFG"==c.pet_id?f="Dobby":(f="Bobby",console.log(""))}),this.addEvent({start:this.parseDateFromString(c.start_date),end:this.parseDateFromString(c.end_date),title:f,pet_id:c.pet_id,matter:c.matter,color:{...xNe[u]}})})})}getVetfromPet(e){var i=this.storageService.SessionGetStorage("pets");return i.find(r=>r.id==e)?.vet_id}parseDateFromString(e){const r=e.match(/^(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})$/);if(r){const s=parseInt(r[1]),o=parseInt(r[2])-1,c=parseInt(r[3]),u=parseInt(r[4]),f=parseInt(r[5]),_=new Date(c,o,s,u,f);if(!isNaN(_.getTime()))return _}return null}addEvent(e){this.eventList.push(e),this.eventListSubject.next(this.eventList)}deleteEvent(e){this.eventList=this.eventList.filter(i=>i!==e),this.eventListSubject.next(this.eventList)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(gc),fe(Mu),fe(bNe))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const CNe=["modalContent"];function ENe(n,t){if(1&n){const e=jn();ie(0,"mwl-calendar-month-view",16),Je("dayClicked",function(r){return wt(e),yt(De().dayClicked(r.day))})("eventClicked",function(r){return wt(e),yt(De().eventClicked(r))})("beforeViewRender",function(r){return wt(e),yt(De().beforeMonthViewRender(r))}),se()}if(2&n){const e=De();de("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)("activeDayIsOpen",e.activeDayIsOpen)}}function DNe(n,t){if(1&n){const e=jn();ie(0,"mwl-calendar-week-view",17),Je("beforeViewRender",function(r){return wt(e),yt(De().beforeWeekViewRender(r))}),se()}if(2&n){const e=De();de("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)}}function TNe(n,t){if(1&n){const e=jn();ie(0,"mwl-calendar-day-view",17),Je("beforeViewRender",function(r){return wt(e),yt(De().beforeDayViewRender(r))}),se()}if(2&n){const e=De();de("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)}}function INe(n,t){if(1&n){const e=jn();ie(0,"div",18)(1,"div",12),it(2,"img",19),ie(3,"div",20)(4,"b",21),Pe(5),Nt(6,"date"),se(),ie(7,"p",22),Pe(8),se(),ie(9,"p",22),Pe(10,"Vet: Ramon"),se(),ie(11,"p",22),Pe(12),se()(),it(13,"img",23),ie(14,"img",24),Je("click",function(){const s=wt(e).$implicit;return yt(De().delete_event(s))}),se()()()}if(2&n){const e=t.$implicit;ne(5),dn(So(6,3,e.start,"MMM dd 'at' hh:mm a")),ne(3),Rn("Pet: ",e.title,""),ne(4),Rn("Matter: ",e.matter,"")}}!function Rae(n,t,e){(function Oie(n,t,e){"string"!=typeof t&&(e=t,t=n[Qi.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Yp[t]=n,e&&(Yp[t][Qi.ExtraData]=e)})(n,t,e)}(Xke);let SNe=(()=>{class n{constructor(e,i,r,s,o){this.modal=e,this.storageService=i,this.apiService=r,this.appointmentService=s,this.router=o,this.locale="en",this.view=bf.Month,this.CalendarView=bf,this.viewDate=new Date,this.refresh=new ve,this.events=[],this.displayed_events=[],this.activeDayIsOpen=!0,this.storageService.SessionGetStorage("uid")}ngOnInit(){this.appointmentService.EventList.subscribe(e=>{this.events=e;var i=new Date;this.events.forEach(r=>{r.start>i&&this.displayed_events.push(r)})})}eventClicked({event:e}){this.router.navigate(["clients/pet"],{queryParams:{petId:e.pet_id}})}dayClicked({date:e,events:i}){h7(e,this.viewDate)&&(this.activeDayIsOpen=!(f7(this.viewDate,e)&&!0===this.activeDayIsOpen||0===i.length),this.viewDate=e)}beforeMonthViewRender(e){e.body.forEach(i=>{i.isPast&&(i.cssClass="bg-pink")})}beforeWeekViewRender(e){e.hourColumns.forEach(i=>{i.hours.forEach(r=>{r.segments.forEach(s=>{})})})}beforeDayViewRender(e){e.hourColumns.forEach(i=>{i.hours.forEach(r=>{r.segments.forEach(s=>{})})})}delete_event(e){this.displayed_events.splice(this.displayed_events.indexOf(e),1),this.events.splice(this.events.indexOf(e),1),this.appointmentService.deleteEvent(e)}setView(e){this.view=e}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}static#e=this.\u0275fac=function(i){return new(i||n)(W(hK),W(gc),W(Mu),W(wNe),W(rs))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-appointments"]],viewQuery:function(i,r){if(1&i&&Ji(CNe,7),2&i){let s;Jt(s=en())&&(r.modalContent=s.first)}},decls:40,vars:21,consts:[[1,"row","text-center"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-dark",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-dark",3,"view","viewDate","viewDateChange"],[1,"btn","btn-dark",3,"click"],[1,"calendar-size",3,"ngSwitch"],[3,"locale","viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","beforeViewRender",4,"ngSwitchCase"],[3,"locale","viewDate","events","refresh","beforeViewRender",4,"ngSwitchCase"],[2,"width","100%","align-self","center"],[2,"justify-content","center","height","80px"],[1,"appointment-container",2,"display","flex","text-align","center"],["src","../../../assets/imgs/Add.svg",2,"height","70%","padding-left","5%","padding-top","5%"],[2,"align-items","center","text-align","center"],["style","justify-content: center; height: 100px;",4,"ngFor","ngForOf"],[3,"locale","viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","beforeViewRender"],[3,"locale","viewDate","events","refresh","beforeViewRender"],[2,"justify-content","center","height","100px"],["src","../../../assets/imgs/vet_img.svg",2,"height","70%","padding-left","5%","padding-top","5%"],[2,"align-items","center","text-align","left","max-width","200px","padding-left","10px"],[2,"word-wrap","break-word","margin","0","color","#286024"],[2,"word-wrap","break-word","margin","0"],["src","../../../assets/imgs/edit_icon.svg",1,"editIcons"],["src","../../../assets/imgs/delete_icon.svg",1,"editIcons",3,"click"]],template:function(i,r){1&i&&(ie(0,"h1"),Pe(1,"Appointments"),se(),it(2,"br"),ie(3,"div",0)(4,"div",1)(5,"div",2)(6,"div",3),Je("viewDateChange",function(o){return r.viewDate=o})("viewDateChange",function(){return r.closeOpenMonthViewDay()}),Pe(7," Previous "),se(),ie(8,"div",4),Je("viewDateChange",function(o){return r.viewDate=o}),Pe(9," Today "),se(),ie(10,"div",5),Je("viewDateChange",function(o){return r.viewDate=o})("viewDateChange",function(){return r.closeOpenMonthViewDay()}),Pe(11," Next "),se()()(),ie(12,"div",1)(13,"h3"),Pe(14),Nt(15,"calendarDate"),se()(),ie(16,"div",1)(17,"div",2)(18,"div",6),Je("click",function(){return r.setView(r.CalendarView.Month)}),Pe(19," Month "),se(),ie(20,"div",6),Je("click",function(){return r.setView(r.CalendarView.Week)}),Pe(21," Week "),se(),ie(22,"div",6),Je("click",function(){return r.setView(r.CalendarView.Day)}),Pe(23," Day "),se()()()(),it(24,"br"),ie(25,"div",7),Te(26,ENe,1,5,"mwl-calendar-month-view",8),Te(27,DNe,1,4,"mwl-calendar-week-view",9),Te(28,TNe,1,4,"mwl-calendar-day-view",9),se(),it(29,"br"),ie(30,"h3",10),Pe(31,"Upcommig Appointments"),se(),ie(32,"div",11)(33,"div",12),it(34,"img",13),ie(35,"div",14)(36,"p"),Pe(37,"Add new Appointment"),se()()()(),it(38,"br"),Te(39,INe,15,6,"div",15)),2&i&&(ne(6),de("view",r.view)("viewDate",r.viewDate),ne(2),de("viewDate",r.viewDate),ne(2),de("view",r.view)("viewDate",r.viewDate),ne(4),dn(ul(15,17,r.viewDate,r.view+"ViewTitle","en")),ne(4),Ut("active",r.view===r.CalendarView.Month),ne(2),Ut("active",r.view===r.CalendarView.Week),ne(2),Ut("active",r.view===r.CalendarView.Day),ne(3),de("ngSwitch",r.view),ne(1),de("ngSwitchCase",r.CalendarView.Month),ne(1),de("ngSwitchCase",r.CalendarView.Week),ne(1),de("ngSwitchCase",r.CalendarView.Day),ne(11),de("ngForOf",r.displayed_events))},dependencies:[Wr,eg,rC,Mke,Rke,Oke,Bke,G7,$ke,Lv,T0],styles:[".calendar-size[_ngcontent-%COMP%]{font-size:11px!important}.appointment-container[_ngcontent-%COMP%]{width:100%;height:100%;top:405px;left:1488px;border-radius:8px;background-color:#fff;text-align:center;margin-bottom:25px;padding-top:3%}.editIcons[_ngcontent-%COMP%]{padding:1%;margin-left:20px;width:40px}p[_ngcontent-%COMP%]{font-size:12px}"]})}return n})();class ANe{}class NK{}const kNe=["determinateSpinner"];function MNe(n,t){if(1&n&&(eh(),ie(0,"svg",11),it(1,"circle",12),se()),2&n){const e=De();Ht("viewBox",e._viewBox()),ne(1),Es("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),Ht("r",e._circleRadius())}}const RNe=zN(class{constructor(n){this._elementRef=n}},"primary"),ONe=new je("mat-progress-spinner-default-options",{providedIn:"root",factory:function PNe(){return{diameter:LK}}}),LK=100;let LNe=(()=>{class n extends RNe{constructor(e,i,r){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=LK,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,PN(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=PN(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=PN(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(i){return new(i||n)(W(Gt),W(Lc,8),W(ONe))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(1&i&&Ji(kNe,5),2&i){let s;Jt(s=en())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(i,r){2&i&&(Ht("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),Es("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),Ut("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[Fn],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(1&i&&(Te(0,MNe,2,8,"ng-template",null,0,Gi),ie(2,"div",1,2),eh(),ie(4,"svg",3),it(5,"circle",4),se()(),j_(),ie(6,"div",5)(7,"div",6)(8,"div",7),uh(9,8),se(),ie(10,"div",9),uh(11,8),se(),ie(12,"div",10),uh(13,8),se()()()),2&i){const s=oi(1);ne(4),Ht("viewBox",r._viewBox()),ne(1),Es("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Ht("r",r._circleRadius()),ne(4),de("ngTemplateOutlet",s),ne(2),de("ngTemplateOutlet",s),ne(2),de("ngTemplateOutlet",s)}},dependencies:[ps],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return n})(),FNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({imports:[jc,mc]})}return n})();function VNe(n,t){1&n&&uh(0)}function BNe(n,t){1&n&&uh(0)}function zNe(n,t){if(1&n){const e=jn();ie(0,"button",7),Je("click",function(){wt(e);const r=De().$implicit;return yt(De(2).redirectVisitPage(r.id||""))}),ie(1,"div",8)(2,"div"),it(3,"img",9),se(),ie(4,"div",10)(5,"ul")(6,"li")(7,"b"),Pe(8),Nt(9,"transloco"),se(),Pe(10),se(),ie(11,"li")(12,"b"),Pe(13),Nt(14,"transloco"),se(),Pe(15),se(),ie(16,"li")(17,"b"),Pe(18),Nt(19,"transloco"),se(),Pe(20),se()()()()()}if(2&n){const e=De().$implicit,i=De(2);Yl("id",e.id),ne(3),Yl("src",i.VisitPet.profile_image,Tp),ne(5),Rn(" ",vn(9,8,"pet_profile_birth")," "),ne(2),Rn(" ",i.VisitPet.name,""),ne(3),Rn(" ",vn(14,10,"start"),""),ne(2),Rn(" ",i.formatStartDate(e.start_date||""),""),ne(3),Rn(" ",vn(19,12,"end"),""),ne(2),Rn(" ",i.formatStartDate(e.end_date||""),"")}}function HNe(n,t){if(1&n&&(ie(0,"div"),Te(1,BNe,1,0,"ng-container",6),Te(2,zNe,21,14,"ng-template",null,1,Gi),se()),2&n){const e=t.$implicit,i=oi(3),r=De(2);ne(1),de("ngIf",r.isTodayVisit(e.end_date||""))("ngIfThen",i)}}function UNe(n,t){1&n&&Te(0,HNe,4,2,"div",5),2&n&&de("ngForOf",De().clientAppointments)}function jNe(n,t){1&n&&(ie(0,"div")(1,"p"),Pe(2),Nt(3,"transloco"),se()()),2&n&&(ne(2),Rn(" ",vn(3,1,"no_visits"),""))}function WNe(n,t){1&n&&(ie(0,"div",11),it(1,"mat-spinner"),se())}function GNe(n,t){if(1&n){const e=jn();ie(0,"div",12)(1,"div",13),Je("click",function(){const s=wt(e).$implicit;return yt(De().redirectPetPage(s.id||""))}),it(2,"img",14),ie(3,"div",15)(4,"p"),Pe(5),se()()()()}if(2&n){const e=t.$implicit;ne(1),Yl("id",e.id),ne(1),Yl("src",e.profile_image,Tp),ne(3),dn(e.name)}}let $Ne=(()=>{class n{constructor(e,i,r,s){this.router=e,this.apiService=i,this.storageService=r,this.translocoService=s,this.contentIsLoading=!0,this.currentDate=new Date,this.showData(),this.client=new ANe,this.petsArray=[],this.clientAppointments=[],this.ifvisit=!1,this.isTodayVisits=[],this.VisitPet=new NK}ngOnInit(){}formatStartDate(e){const r=e.match(/(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})/);return r?`${r[4]}:${r[5]}`:""}formatDate(e){const r=e.match(/(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})/);return r?`${r[1]}${r[2]}${r[3]}`:""}isTodayVisit(e){const o=`${this.currentDate.getDate().toString().padStart(2,"0")}${(this.currentDate.getMonth()+1).toString().padStart(2,"0")}${this.currentDate.getFullYear().toString()}`;return this.formatDate(e)==o}redirectPetPage(e){this.router.navigate(["pet-profile"],{queryParams:{petId:e}})}redirectVisitPage(e){this.router.navigate(["appointment"],{queryParams:{appointmentId:e}})}showData(){this.apiService.getSingleClient(this.storageService.SessionGetStorage("uid")).then(e=>{this.client=e,console.log(e)}),this.apiService.getClientPets(this.storageService.SessionGetStorage("uid")).then(e=>{this.petsArray=e;for(let i=0;i<e.length;i++)e[i].profile_image="Toby"==e[i].name?"/assets/img/dogImage1.jpg":"Dobby"==e[i].name?"/assets/img/dogImage2.jpg":"Darwin"==e[i].name?"/assets/img/catImage.avif":"/assets/img/logo_default.svg";this.contentIsLoading=!1,console.log(e)}),this.apiService.getClientAppointments(this.storageService.SessionGetStorage("uid")).then(e=>{this.clientAppointments=e;let i=!1;for(const r of this.clientAppointments)this.apiService.getPet(r.pet_id||"").then(s=>{this.VisitPet=s,""==this.VisitPet.profile_image?this.VisitPet.profile_image="/assets/img/logo_default.svg":"Toby"==this.VisitPet.name?this.VisitPet.profile_image="/assets/img/dogImage1.jpg":"Dobby"==this.VisitPet.name?this.VisitPet.profile_image="/assets/img/dogImage2.jpg":"Darwin"==this.VisitPet.name&&(this.VisitPet.profile_image="/assets/img/catImage.avif")}),(i=this.isTodayVisit(r.end_date||""))&&this.isTodayVisits.push(r.end_date||"")})}static#e=this.\u0275fac=function(i){return new(i||n)(W(rs),W(Mu),W(gc),W(O1))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-home"]],decls:21,vars:27,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""],["class","spinnerDiv",4,"ngIf"],["class","module","style","text-align: center;",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen"],[1,"whiteButton",3,"id","click"],[2,"column-count","2"],[2,"width","70%",3,"src"],[2,"text-align","left"],[1,"spinnerDiv"],[1,"module",2,"text-align","center"],[1,"image-container",3,"id","click"],["width","50px","alt","Pet",3,"src"],[1,"overlay"]],template:function(i,r){if(1&i&&(ie(0,"h1"),Pe(1),Nt(2,"transloco"),se(),ie(3,"h2"),Pe(4),Nt(5,"date"),Nt(6,"date"),Nt(7,"date"),se(),ie(8,"h1"),Pe(9),Nt(10,"transloco"),se(),Te(11,VNe,1,0,"ng-container",0),Te(12,UNe,1,1,"ng-template",null,1,Gi),Te(14,jNe,4,3,"ng-template",null,2,Gi),ie(16,"h1"),Pe(17),Nt(18,"transloco"),se(),Te(19,WNe,2,0,"div",3),Te(20,GNe,6,3,"div",4)),2&i){const s=oi(13),o=oi(15);ne(1),kw(" ",vn(2,12,"welcome")," ",r.client.name,"\n"),ne(3),NS(" ",So(5,14,r.currentDate,"EEEE"),", ",So(6,17,r.currentDate,"d")," ",So(7,20,r.currentDate,"MMMM"),""),ne(5),Rn(" ",vn(10,23,"today_visits"),"\n"),ne(2),de("ngIf",r.isTodayVisits.length>0)("ngIfThen",s)("ngIfElse",o),ne(6),Rn(" ",vn(18,25,"your_pets"),"\n"),ne(2),de("ngIf",r.contentIsLoading),ne(1),de("ngForOf",r.petsArray)}},dependencies:[Wr,Tr,LNe,Lv,ud],styles:[".whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:10px;border-radius:20px;width:100%;margin-right:20px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}.module[_ngcontent-%COMP%]{padding:0 40px}"]})}return n})();const YNe=["chart_div"];function qNe(n,t){if(1&n&&(ie(0,"ul")(1,"li"),Pe(2),se()()),2&n){const e=t.$implicit;ne(2),Rn("",e," \u2713")}}const XNe=[{path:"",component:WIe},{path:"register",component:eSe},{path:"map",component:u7},{path:"appointments",component:SNe},{path:"map",component:u7},{path:"home",component:$Ne},{path:"pet-profile",component:(()=>{class n{constructor(e){this.apiService=e,this.chartOptions={series:[{name:"Cardiac Frequency",data:[70,75,80,74,84,90,75,70,80,91,92,93,64,75,86,77,98,109,60]},{name:"Steps",data:[300,200,100,290,500,400,211,314,194,211,112,323,414,125,376,517,238,419,310]}],chart:{type:"bar",height:350},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(r){return"$ "+r+" thousands"}}}},this.chartOptions2={series:[{name:"Weight",data:[90,91,90,93,94,90,95,98,100,98,97]},{name:"Height",data:[100,100,100,105,105,105,105,105,110,110,110]}],chart:{type:"line",height:350},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(r){return"$ "+r+" thousands"}}}};const i=new URLSearchParams(window.location.search);this.showPetData(i.get("petId")),this.petInfo=new NK,this.petImage=new String}showPetData(e){null!=e&&this.apiService.getPet(e).then(i=>{this.petInfo=i,i.profile_image="Toby"==i.name?"/assets/img/dogImage1.jpg":"Dobby"==i.name?"/assets/img/dogImage2.jpg":"Darwin"==i.name?"/assets/img/catImage.avif":"/assets/img/logo_default.svg"})}getLatestWeight(){if(null!=this.petInfo.weight){const e=Object.keys(this.petInfo.weight);return this.petInfo.weight[e[e.length-1]]}return null}getBirth(e){if(null!=e){const i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=e.split("_")[0],o=parseInt(s.substring(0,2),10),c=parseInt(s.substring(2,4),10)-1,u=parseInt(s.substring(4,8),10);return`${o} of ${i[c]}, ${u}`}return null}static#e=this.\u0275fac=function(i){return new(i||n)(W(Mu))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-pet-profile-page"]],viewQuery:function(i,r){if(1&i&&Ji(YNe,5),2&i){let s;Jt(s=en())&&(r.chart=s.first)}},decls:69,vars:41,consts:[[2,"text-align","center"],["id","petsIcon","src","/assets/menuIcons/edit.svg","alt","pets"],["id","petsIcon","src","/assets/menuIcons/delete.svg","alt","pets"],[2,"width","300px",3,"src"],[1,"module",2,"column-count","2"],[1,"info-container"],["for","petTypeBreed"],["id","petTypeBreed"],["for","petWeight"],["id","petWeight"],["for","petHeight"],["id","petHeight"],[1,"module",2,"padding-right","5px"],[4,"ngFor","ngForOf"],[1,"module","info-container",2,"padding-right","5px"],[2,"text-align","justify"],[1,"module"],[1,"image-container"],["id","chart_div"],[3,"series","chart"]],template:function(i,r){1&i&&(ie(0,"div")(1,"h1",0),Pe(2),it(3,"img",1)(4,"img",2),se()(),ie(5,"div",0),it(6,"img",3),se(),ie(7,"div",4)(8,"h1"),Pe(9),Nt(10,"transloco"),se(),ie(11,"div",5)(12,"div")(13,"div")(14,"label")(15,"b"),Pe(16),Nt(17,"transloco"),se()(),ie(18,"span"),Pe(19),se(),it(20,"br"),ie(21,"label")(22,"b"),Pe(23),Nt(24,"transloco"),se()(),ie(25,"span"),Pe(26),se(),it(27,"br"),ie(28,"label",6)(29,"b"),Pe(30),Nt(31,"transloco"),se()(),ie(32,"span",7),Pe(33),se(),it(34,"br"),se(),ie(35,"div")(36,"label",8)(37,"b"),Pe(38),Nt(39,"transloco"),se()(),ie(40,"span",9),Pe(41),se(),it(42,"br"),ie(43,"label",10)(44,"b"),Pe(45),Nt(46,"transloco"),se()(),ie(47,"span",11),Pe(48),se(),it(49,"br"),se()(),ie(50,"div",12)(51,"h1"),Pe(52),Nt(53,"transloco"),se(),Te(54,qNe,3,1,"ul",13),se()()(),ie(55,"div",14)(56,"h1"),Pe(57),Nt(58,"transloco"),se(),ie(59,"p",15),Pe(60),se()(),ie(61,"div",16)(62,"h1"),Pe(63),Nt(64,"transloco"),se(),it(65,"div",17),ie(66,"div",18),it(67,"apx-chart",19)(68,"apx-chart",19),se()()),2&i&&(ne(2),Rn("",r.petInfo.name," "),ne(4),Yl("src",r.petInfo.profile_image,Tp),ne(3),Rn(" ",vn(10,23,"personal_info"),""),ne(7),dn(vn(17,25,"pet_profile_name")),ne(3),Rn(" ",r.petInfo.name,""),ne(4),Rn(" ",vn(24,27,"pet_profile_birth"),""),ne(3),Rn(" ",r.getBirth(r.petInfo.birth),""),ne(4),dn(vn(31,29,"pet_profile_type")),ne(3),kw(" ",r.petInfo.type,", ",r.petInfo.breed,""),ne(5),Rn(" ",vn(39,31,"pet_weight"),""),ne(3),Rn(" ",r.getLatestWeight(),"g"),ne(4),Rn(" ",vn(46,33,"pet_height"),""),ne(3),Rn(" ",r.petInfo.height,"cm"),ne(4),dn(vn(53,35,"pet_vaccines")),ne(2),de("ngForOf",null==r.petInfo.health_info?null:r.petInfo.health_info.vaccines),ne(3),dn(vn(58,37,"pet_resume")),ne(3),Rn("",null==r.petInfo.health_info?null:r.petInfo.health_info.observations," "),ne(3),dn(vn(64,39,"pet_statistics")),ne(4),de("series",r.chartOptions.series)("chart",r.chartOptions.chart),ne(1),de("series",r.chartOptions2.series)("chart",r.chartOptions2.chart))},dependencies:[Wr,RY,ud],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-right:50px}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:278px;height:178px}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}"]})}return n})()},{path:"menu-pet-appointment",component:(()=>{class n{constructor(e){this.router=e}redirectPetsPage(){this.router.navigate(["petsList"])}redirectVisitPage(){this.router.navigate(["appointments"])}static#e=this.\u0275fac=function(i){return new(i||n)(W(rs))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-menu-pet-appointment"]],decls:10,vars:0,consts:[[1,"whiteButton"],["src","/assets/menuIcons/calendar-clock 1.svg ","alt","petajda",3,"click"],["src","/assets/menuIcons/petjada.svg ","alt","petajda",3,"click"]],template:function(i,r){1&i&&(ie(0,"h1"),Pe(1," Pet-vet menu\n"),se(),ie(2,"button",0)(3,"img",1),Je("click",function(){return r.redirectVisitPage()}),se(),ie(4,"h2"),Pe(5,"Appointments"),se()(),ie(6,"button",0)(7,"img",2),Je("click",function(){return r.redirectPetsPage()}),se(),ie(8,"h2"),Pe(9,"Pet space"),se()())},styles:[".whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:50px;border-radius:20px;width:100%;margin-top:100px;margin-right:20px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px;margin-bottom:20px}"]})}return n})()},{path:"petsList",component:zIe},{path:"qr",component:(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-qr"]],decls:8,vars:6,consts:[[2,"text-align","center"],["src","/assets/imgs/under-dev.png","alt","unde development","width","100%"]],template:function(i,r){1&i&&(ie(0,"h1"),Pe(1),Nt(2,"transloco"),se(),ie(3,"div",0),it(4,"img",1),ie(5,"h2"),Pe(6),Nt(7,"transloco"),se()()),2&i&&(ne(1),dn(vn(2,2,"qr_underdev")),ne(5),dn(vn(7,4,"stay_tunned")))},dependencies:[ud]})}return n})()},{path:"chat",component:(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-chat"]],decls:8,vars:6,consts:[[2,"text-align","center"],["src","/assets/imgs/under-dev.png","alt","unde development","width","100%"]],template:function(i,r){1&i&&(ie(0,"h1"),Pe(1),Nt(2,"transloco"),se(),ie(3,"div",0),it(4,"img",1),ie(5,"h2"),Pe(6),Nt(7,"transloco"),se()()),2&i&&(ne(1),dn(vn(2,2,"chat_underdev")),ne(5),dn(vn(7,4,"stay_tunned")))},dependencies:[ud]})}return n})()},{path:"profile",component:(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-user-profile"]],decls:8,vars:6,consts:[[2,"text-align","center"],["src","/assets/imgs/under-dev.png","alt","unde development","width","100%"]],template:function(i,r){1&i&&(ie(0,"h1"),Pe(1),Nt(2,"transloco"),se(),ie(3,"div",0),it(4,"img",1),ie(5,"h2"),Pe(6),Nt(7,"transloco"),se()()),2&i&&(ne(1),dn(vn(2,2,"user_underdev")),ne(5),dn(vn(7,4,"stay_tunned")))},dependencies:[ud]})}return n})()}];let ZNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({imports:[z6.forRoot(XNe),z6]})}return n})();const KNe=[[["","icon",""]],"*"],QNe=["[icon]","*"];let JNe=(()=>{class n{constructor(){this.routerLinkActiveOptions={exact:!1}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-sidenav-link"]],inputs:{routerLink:"routerLink",routerLinkActiveOptions:"routerLinkActiveOptions"},ngContentSelectors:QNe,decls:5,vars:2,consts:[["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],[1,"text-container"]],template:function(i,r){1&i&&(al(KNe),ie(0,"a",0)(1,"span"),Rr(2),se(),ie(3,"span",1),Rr(4,1),se()()),2&i&&de("routerLink",r.routerLink)("routerLinkActiveOptions",r.routerLinkActiveOptions)},dependencies:[Xb,R6],styles:["a[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:8px;min-width:80px;padding:16px;background-color:#2d6f28;font-weight:700;color:#afeebb;box-sizing:border-box;text-decoration:none;border-radius:0;transition:background-color 275ms ease-out}a[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]})}return n})(),eLe=(()=>{class n{changeIcon(e){switch(document.getElementById("profileIcon").src="/assets/menuIcons/userOff.svg",e){case"dashboardIcon":document.getElementById(e).src="/assets/menuIcons/homeOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("mapIcon","map"),this.disableIcon("chatIcon","chat"),this.disableIcon("qrIcon","qr");break;case"petsIcon":document.getElementById(e).src="/assets/menuIcons/dogOn.svg",this.disableIcon("dashboardIcon","home"),this.disableIcon("mapIcon","map"),this.disableIcon("chatIcon","chat"),this.disableIcon("qrIcon","qr");break;case"mapIcon":document.getElementById(e).src="/assets/menuIcons/mapOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("dashboardIcon","home"),this.disableIcon("chatIcon","chat"),this.disableIcon("qrIcon","qr");break;case"chatIcon":document.getElementById(e).src="/assets/menuIcons/chatOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("mapIcon","map"),this.disableIcon("dashboardIcon","home"),this.disableIcon("qrIcon","qr");break;case"qrIcon":document.getElementById(e).src="/assets/menuIcons/qrOn.svg",this.disableIcon("petsIcon","dog"),this.disableIcon("mapIcon","map"),this.disableIcon("chatIcon","chat"),this.disableIcon("dashboardIcon","home")}}disableIcon(e,i){document.getElementById(e).src="/assets/menuIcons/"+i+"Off.svg"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-side-nav"]],decls:11,vars:0,consts:[[1,"mainSidenav"],["routerLink","home",3,"click"],["id","dashboardIcon","src","/assets/menuIcons/homeOn.svg","alt","dashboard"],["routerLink","menu-pet-appointment",3,"click"],["id","petsIcon","src","/assets/menuIcons/dogOff.svg","alt","pets"],["routerLink","map",3,"click"],["id","mapIcon","src","/assets/menuIcons/mapOff.svg","alt","map"],["routerLink","chat",3,"click"],["id","chatIcon","src","/assets/menuIcons/chatOff.svg","alt","chat"],["routerLink","qr",3,"click"],["id","qrIcon","src","/assets/menuIcons/qrOff.svg","alt","qr"]],template:function(i,r){1&i&&(ie(0,"div",0)(1,"app-sidenav-link",1),Je("click",function(){return r.changeIcon("dashboardIcon")}),it(2,"img",2),se(),ie(3,"app-sidenav-link",3),Je("click",function(){return r.changeIcon("petsIcon")}),it(4,"img",4),se(),ie(5,"app-sidenav-link",5),Je("click",function(){return r.changeIcon("mapIcon")}),it(6,"img",6),se(),ie(7,"app-sidenav-link",7),Je("click",function(){return r.changeIcon("chatIcon")}),it(8,"img",8),se(),ie(9,"app-sidenav-link",9),Je("click",function(){return r.changeIcon("qrIcon")}),it(10,"img",10),se()())},dependencies:[Xb,JNe],styles:["[_nghost-%COMP%]{height:60px;width:100%;box-sizing:border-box;position:fixed;bottom:0;background-color:#2d6f28}.mainSidenav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mainSidenav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}"]})}return n})();function tLe(n,t){if(1&n){const e=jn();ie(0,"div",6)(1,"a",7),Je("click",function(){return wt(e),yt(De().redirectProfile())}),Pe(2),Nt(3,"transloco"),se(),ie(4,"a",7),Je("click",function(){return wt(e),yt(De().logout())}),Pe(5),Nt(6,"transloco"),se()()}2&n&&(ne(2),dn(vn(3,2,"user_profile_popup")),ne(3),dn(vn(6,4,"logout_popup")))}let nLe=(()=>{class n{constructor(e,i,r,s){this.afAuth=e,this.router=i,this.storageService=r,this.translocoService=s,this.prevScrollPos=window.pageYOffset,this.showPopup=!1}logout(){this.afAuth.signOut().then(()=>{this.storageService.isLoggedNext(!1),localStorage.clear(),this.router.navigate(["/"]),this.togglePopup()})}redirectProfile(){this.router.navigate(["profile"]),this.togglePopup(),this.changeMenuIcons()}changeMenuIcons(){document.getElementById("profileIcon").src="/assets/menuIcons/userOn.svg";const i=document.getElementById("petsIcon"),r=document.getElementById("dashboardIcon"),s=document.getElementById("mapIcon"),o=document.getElementById("chatIcon"),c=document.getElementById("qrIcon");i.src="/assets/menuIcons/dogOff.svg",r.src="/assets/menuIcons/homeOff.svg",s.src="/assets/menuIcons/mapOff.svg",o.src="/assets/menuIcons/chatOff.svg",c.src="/assets/menuIcons/qrOff.svg"}togglePopup(){this.showPopup=!this.showPopup}swapLang(e){this.translocoService.setActiveLang(e);const i=document.getElementById("catIcon"),r=document.getElementById("esIcon"),s=document.getElementById("enIcon");switch(e){case"cat":i.width=30,r.width=18,s.width=18;break;case"es":i.width=18,r.width=30,s.width=18;break;case"en":i.width=18,r.width=18,s.width=30}}static#e=this.\u0275fac=function(i){return new(i||n)(W(Wc),W(rs),W(gc),W(O1))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-top-bar"]],decls:9,vars:1,consts:[["id","barra",1,"barra"],["id","catIcon","src","/assets/menuIcons/cat.png","alt","User profile","width","18px;",3,"click"],["id","esIcon","src","/assets/menuIcons/espana.png","alt","User profile","width","18px;",3,"click"],["id","enIcon","src","/assets/menuIcons/reino-unido.png","alt","User profile","width","30px;",3,"click"],["id","profileIcon","src","/assets/menuIcons/userOff.svg","alt","User profile",3,"click"],["class","popup",4,"ngIf"],[1,"popup"],[3,"click"]],template:function(i,r){1&i&&(ie(0,"div",0)(1,"p"),Pe(2,"PetGuardian App"),se(),ie(3,"div")(4,"img",1),Je("click",function(){return r.swapLang("cat")}),se(),ie(5,"img",2),Je("click",function(){return r.swapLang("es")}),se(),ie(6,"img",3),Je("click",function(){return r.swapLang("en")}),se(),ie(7,"img",4),Je("click",function(){return r.togglePopup()}),se()(),Te(8,tLe,7,6,"div",5),se()),2&i&&(ne(8),de("ngIf",r.showPopup))},dependencies:[Tr,ud],styles:[".barra[_ngcontent-%COMP%]{background-color:#2d6f28;color:#fff;text-align:center;padding:10px;position:fixed;top:0;width:100%;display:flex;justify-content:space-between;transition:top .3s;z-index:1000}.barra[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}img[_ngcontent-%COMP%]{margin-left:20px}.popup[_ngcontent-%COMP%]{position:absolute;right:0;top:60px;background-color:#fff;box-shadow:0 8px 16px #0003;z-index:1001}.popup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:10px;display:block;text-decoration:none}.popup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.popup.show[_ngcontent-%COMP%]{display:block}#profileIcon[_ngcontent-%COMP%]{width:30px}"]})}return n})();function iLe(n,t){1&n&&it(0,"app-top-bar")}function rLe(n,t){1&n&&it(0,"app-side-nav")}let sLe=(()=>{class n{constructor(e,i,r){this.afAuth=e,this.router=i,this.storageService=r,this.title="petguardian-mobile",this.isLoggedIn$=this.storageService.isLoggedIn,this.subscription=this.storageService.isLoggedIn.subscribe(s=>{0==s&&this.router.navigate(["/"])})}static#e=this.\u0275fac=function(i){return new(i||n)(W(Wc),W(rs),W(gc))};static#t=this.\u0275cmp=Bt({type:n,selectors:[["app-root"]],decls:6,vars:6,consts:[[4,"ngIf"],[1,"content"]],template:function(i,r){1&i&&(Te(0,iLe,1,0,"app-top-bar",0),Nt(1,"async"),ie(2,"div",1),it(3,"router-outlet"),se(),Te(4,rLe,1,0,"app-side-nav",0),Nt(5,"async")),2&i&&(de("ngIf",vn(1,2,r.isLoggedIn$)),ne(4),de("ngIf",vn(5,4,r.isLoggedIn$)))},dependencies:[Tr,KP,eLe,nLe,VA],styles:["[_ngcontent-%COMP%]:root{--sidenav-width: 300px}[_nghost-%COMP%]{min-height:100vh;display:flex;flex-direction:row}.content[_ngcontent-%COMP%]{flex-grow:1;padding:75px 20px 85px;background-color:#ededed}"]})}return n})();function qs(n){if(null===n||!0===n||!1===n)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function fF(n,t){En(2,arguments);var e=xi(n),i=qs(t);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function pF(n,t){En(2,arguments);var e=xi(n).getTime(),i=qs(t);return new Date(e+i)}var oLe=36e5;function aLe(n,t){return En(2,arguments),pF(n,qs(t)*oLe)}var lLe=6e4;function cLe(n,t){return En(2,arguments),pF(n,qs(t)*lLe)}function dLe(n,t){return En(2,arguments),pF(n,1e3*qs(t))}function FK(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}var uLe=864e5;function VK(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function fLe(n,t){En(2,arguments);var e=xi(n),i=xi(t),r=VK(e,i),s=Math.abs(function hLe(n,t){En(2,arguments);var e=x0(n),i=x0(t),r=e.getTime()-FK(e),s=i.getTime()-FK(i);return Math.round((r-s)/uLe)}(e,i));e.setDate(e.getDate()-r*s);var c=r*(s-+(VK(e,i)===-r));return 0===c?0:c}Math.pow(10,8);var mLe=6e4;function zK(n,t){return En(2,arguments),xi(n).getTime()-xi(t).getTime()}var HK={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},bLe="trunc";function UK(n){return n?HK[n]:HK[bLe]}function xLe(n,t,e){En(2,arguments);var i=zK(n,t)/mLe;return UK(e?.roundingMethod)(i)}function wLe(n,t,e){En(2,arguments);var i=zK(n,t)/1e3;return UK(e?.roundingMethod)(i)}function CLe(n){En(1,arguments);var t=xi(n);return t.setHours(23,59,59,999),t}function ELe(n){En(1,arguments);var t=xi(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}var jK={};function WK(){return jK}function DLe(n,t){var e,i,r,s,o,c,u,f;En(1,arguments);var _=WK(),x=qs(null!==(e=null!==(i=null!==(r=null!==(s=t?.weekStartsOn)&&void 0!==s?s:null==t||null===(o=t.locale)||void 0===o||null===(c=o.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:_.weekStartsOn)&&void 0!==i?i:null===(u=_.locale)||void 0===u||null===(f=u.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==e?e:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var T=xi(n),R=T.getDay(),F=6+(R<x?-7:0)-(R-x);return T.setDate(T.getDate()+F),T.setHours(23,59,59,999),T}function TLe(n){return En(1,arguments),xi(n).getDay()}function ILe(n){return En(1,arguments),xi(n).getMonth()}function GK(n){En(1,arguments);var t=xi(n);return t.setMilliseconds(0),t}function SLe(n,t){En(2,arguments);var e=GK(n),i=GK(t);return e.getTime()===i.getTime()}function ALe(n){var t,e;if(En(1,arguments),n&&"function"==typeof n.forEach)t=n;else{if("object"!==P1(n)||null===n)return new Date(NaN);t=Array.prototype.slice.call(n)}return t.forEach(function(i){var r=xi(i);(void 0===e||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function kLe(n,t){En(2,arguments);var e=xi(n),i=qs(t);return e.setHours(i),e}function MLe(n,t){En(2,arguments);var e=xi(n),i=qs(t);return e.setMinutes(i),e}function RLe(n){En(1,arguments);var t=xi(n);return t.setSeconds(0,0),t}function OLe(n){En(1,arguments);var t=xi(n);return t.setDate(1),t.setHours(0,0,0,0),t}function $K(n,t){var e,i,r,s,o,c,u,f;En(1,arguments);var _=WK(),x=qs(null!==(e=null!==(i=null!==(r=null!==(s=t?.weekStartsOn)&&void 0!==s?s:null==t||null===(o=t.locale)||void 0===o||null===(c=o.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:_.weekStartsOn)&&void 0!==i?i:null===(u=_.locale)||void 0===u||null===(f=u.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==e?e:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var T=xi(n),R=T.getDay(),F=(R<x?7:0)+R-x;return T.setDate(T.getDate()-F),T.setHours(0,0,0,0),T}function PLe(n){return En(1,arguments),xi(n).getHours()}function NLe(n){return En(1,arguments),xi(n).getMinutes()}function LLe(n){return new Date(n).getTimezoneOffset()}function YK(n,t){return En(2,arguments),fF(n,7*qs(t))}function qK(n,t){En(2,arguments);var e=xi(n),i=qs(t);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());return s.setMonth(e.getMonth()+i+1,0),r>=s.getDate()?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function VLe(n,t){return En(2,arguments),fF(n,-qs(t))}function BLe(n,t){return En(2,arguments),YK(n,-qs(t))}function zLe(n,t){return En(2,arguments),qK(n,-qs(t))}function fT(n){return En(1,arguments),$K(n,{weekStartsOn:1})}var jLe=6048e5;function WLe(n){En(1,arguments);var t=xi(n),e=fT(t).getTime()-function ULe(n){En(1,arguments);var t=function HLe(n){En(1,arguments);var t=xi(n),e=t.getFullYear(),i=new Date(0);i.setFullYear(e+1,0,4),i.setHours(0,0,0,0);var r=fT(i),s=new Date(0);s.setFullYear(e,0,4),s.setHours(0,0,0,0);var o=fT(s);return t.getTime()>=r.getTime()?e+1:t.getTime()>=o.getTime()?e:e-1}(n),e=new Date(0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),fT(e)}(t).getTime();return Math.round(e/jLe)+1}function GLe(n,t){En(2,arguments);var e=xi(n),i=qs(t);return e.setDate(i),e}function YLe(n,t){En(2,arguments);var e=xi(n),i=qs(t),r=e.getFullYear(),s=e.getDate(),o=new Date(0);o.setFullYear(r,i,15),o.setHours(0,0,0,0);var c=function $Le(n){En(1,arguments);var t=xi(n),e=t.getFullYear(),i=t.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}(o);return e.setMonth(i,Math.min(s,c)),e}function qLe(n,t){En(2,arguments);var e=xi(n),i=qs(t);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(i),e)}function XLe(n){return En(1,arguments),xi(n).getDate()}function ZLe(n){return En(1,arguments),xi(n).getFullYear()}function KLe(){return(0,Vt.pi)((0,Vt.pi)({},function FLe(){return{addDays:fF,addHours:aLe,addMinutes:cLe,addSeconds:dLe,differenceInDays:fLe,differenceInMinutes:xLe,differenceInSeconds:wLe,endOfDay:CLe,endOfMonth:ELe,endOfWeek:DLe,getDay:TLe,getMonth:ILe,isSameDay:f7,isSameMonth:h7,isSameSecond:SLe,max:ALe,setHours:kLe,setMinutes:MLe,startOfDay:x0,startOfMinute:RLe,startOfMonth:OLe,startOfWeek:$K,getHours:PLe,getMinutes:NLe,getTimezoneOffset:LLe}}()),{addWeeks:YK,addMonths:qK,subDays:VLe,subWeeks:BLe,subMonths:zLe,getISOWeek:WLe,setDate:GLe,setMonth:YLe,setYear:qLe,getDate:XLe,getYear:ZLe})}function XK(n){return new l(3e3,!1)}function Uu(n){switch(n.length){case 0:return new l0;case 1:return n[0];default:return new hq(n)}}function ZK(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,c=null;if(t.forEach(u=>{const f=u.get("offset"),_=f==o,x=_&&c||new Map;u.forEach((T,R)=>{let F=R,B=T;if("offset"!==R)switch(F=n.normalizePropertyName(F,r),B){case"!":B=e.get(R);break;case ld:B=i.get(R);break;default:B=n.normalizeStyleValue(R,F,B,r)}x.set(F,B)}),_||s.push(x),c=x,o=f}),r.length)throw function bFe(n){return new l(3502,!1)}();return s}function gF(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&mF(e,"start",n)));break;case"done":n.onDone(()=>i(e&&mF(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&mF(e,"destroy",n)))}}function mF(n,t,e){const s=_F(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function _F(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Ta(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function KK(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const RFe=(()=>typeof document>"u"?null:document.documentElement)();function vF(n){const t=n.parentNode||n.host||null;return t===RFe?null:t}let Mf=null,QK=!1;function JK(n,t){for(;t;){if(t===n)return!0;t=vF(t)}return!1}function eQ(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let tQ=(()=>{class n{validateStyleProperty(e){return function PFe(n){Mf||(Mf=function NFe(){return typeof document<"u"?document.body:null}()||{},QK=!!Mf.style&&"WebkitAppearance"in Mf.style);let t=!0;return Mf.style&&!function OFe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Mf.style,!t&&QK&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Mf.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return JK(e,i)}getParentElement(e){return vF(e)}query(e,i,r){return eQ(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,c=[],u){return new l0(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})(),yF=(()=>{class n{static#e=this.NOOP=new tQ}return n})();const LFe=1e3,bF="ng-enter",pT="ng-leave",gT="ng-trigger",mT=".ng-trigger",iQ="ng-animating",xF=".ng-animating";function pd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:wF(parseFloat(t[1]),t[2])}function wF(n,t){return"s"===t?n*LFe:n}function _T(n,t,e){return n.hasOwnProperty("duration")?n:function VFe(n,t,e){let r,s=0,o="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(XK()),{duration:0,delay:0,easing:""};r=wF(parseFloat(c[1]),c[2]);const u=c[3];null!=u&&(s=wF(parseFloat(u),c[4]));const f=c[5];f&&(o=f)}else r=n;if(!e){let c=!1,u=t.length;r<0&&(t.push(function QLe(){return new l(3100,!1)}()),c=!0),s<0&&(t.push(function JLe(){return new l(3101,!1)}()),c=!0),c&&t.splice(u,0,XK())}return{duration:r,delay:s,easing:o}}(n,t,e)}function z0(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function rQ(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function ju(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function yc(n,t,e){t.forEach((i,r)=>{const s=EF(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function Rf(n,t){t.forEach((e,i)=>{const r=EF(i);n.style[r]=""})}function H0(n){return Array.isArray(n)?1==n.length?n[0]:dq(n):n}const CF=new RegExp("{{\\s*(.+?)\\s*}}","g");function oQ(n){let t=[];if("string"==typeof n){let e;for(;e=CF.exec(n);)t.push(e[1]);CF.lastIndex=0}return t}function U0(n,t,e){const i=n.toString(),r=i.replace(CF,(s,o)=>{let c=t[o];return null==c&&(e.push(function tFe(n){return new l(3003,!1)}()),c=""),c.toString()});return r==i?n:r}function vT(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const HFe=/-+([a-z0-9])/g;function EF(n){return n.replace(HFe,(...t)=>t[1].toUpperCase())}function Ia(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function nFe(n){return new l(3004,!1)}()}}function aQ(n,t){return window.getComputedStyle(n)[t]}const yT="*";function WFe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function GFe(n,t,e){if(":"==n[0]){const u=function $Fe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function mFe(n){return new l(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof u)return void t.push(u);n=u}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function gFe(n){return new l(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(lQ(r,o));"<"==s[0]&&!(r==yT&&o==yT)&&t.push(lQ(o,r))}(i,e,t)):e.push(n),e}const bT=new Set(["true","1"]),xT=new Set(["false","0"]);function lQ(n,t){const e=bT.has(n)||xT.has(n),i=bT.has(t)||xT.has(t);return(r,s)=>{let o=n==yT||n==r,c=t==yT||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?bT.has(n):xT.has(n)),!c&&i&&"boolean"==typeof s&&(c=s?bT.has(t):xT.has(t)),o&&c}}const YFe=new RegExp("s*:selfs*,?","g");function DF(n,t,e,i){return new qFe(n).build(t,e,i)}class qFe{constructor(t){this._driver=t}build(t,e,i){const r=new KFe(e);return this._resetContextStyleTimingState(r),Ia(this,H0(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function rFe(){return new l(3006,!1)}()),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const u=c,f=u.name;f.toString().split(/\s*,\s*/).forEach(_=>{u.name=_,s.push(this.visitState(u,e))}),u.name=f}else if(1==c.type){const u=this.visitTransition(c,e);i+=u.queryCount,r+=u.depCount,o.push(u)}else e.errors.push(function sFe(){return new l(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{oQ(u).forEach(f=>{o.hasOwnProperty(f)||s.add(f)})})}),s.size&&(vT(s.values()),e.errors.push(function oFe(n,t){return new l(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ia(this,H0(t.animation),e);return{type:1,matchers:WFe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Of(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ia(this,i,e)),options:Of(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const c=Ia(this,o,e);return r=Math.max(r,e.currentTime),c});return e.currentTime=r,{type:3,steps:s,options:Of(t.options)}}visitAnimate(t,e){const i=function JFe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return TF(_T(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=TF(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=_T(e,t);return TF(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:lo({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,c=!1;if(!o){c=!0;const f={};i.easing&&(f.easing=i.easing),o=lo(f)}e.currentTime+=i.duration+i.delay;const u=this.visitStyle(o,e);u.isEmptyStep=c,r=u}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let c of r)"string"==typeof c?c===ld?i.push(c):e.errors.push(new l(3002,!1)):i.push(rQ(c));let s=!1,o=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(o=c.get("easing"),c.delete("easing")),!s))for(let u of c.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,u)=>{const f=e.collectedStyles.get(e.currentQuerySelector),_=f.get(u);let x=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(e.errors.push(function lFe(n,t,e,i,r){return new l(3010,!1)}()),x=!1),s=_.startTime),x&&f.set(u,{startTime:s,endTime:r}),e.options&&function zFe(n,t,e){const i=t.params||{},r=oQ(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function eFe(n){return new l(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function cFe(){return new l(3011,!1)}()),i;let s=0;const o=[];let c=!1,u=!1,f=0;const _=t.steps.map(oe=>{const ee=this._makeStyleAst(oe,e);let le=null!=ee.offset?ee.offset:function QFe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ee.styles),me=0;return null!=le&&(s++,me=ee.offset=le),u=u||me<0||me>1,c=c||me<f,f=me,o.push(me),ee});u&&e.errors.push(function dFe(){return new l(3012,!1)}()),c&&e.errors.push(function uFe(){return new l(3200,!1)}());const x=t.steps.length;let T=0;s>0&&s<x?e.errors.push(function hFe(){return new l(3202,!1)}()):0==s&&(T=1/(x-1));const R=x-1,F=e.currentTime,B=e.currentAnimateTimings,j=B.duration;return _.forEach((oe,ee)=>{const le=T>0?ee==R?1:T*ee:o[ee],me=le*j;e.currentTime=F+B.delay+me,B.duration=me,this._validateStyleAst(oe,e),oe.offset=le,i.styles.push(oe)}),i}visitReference(t,e){return{type:8,animation:Ia(this,H0(t.animation),e),options:Of(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Of(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Of(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function XFe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(YFe,"")),n=n.replace(/@\*/g,mT).replace(/@\w+/g,e=>mT+"-"+e.slice(1)).replace(/:animating/g,xF),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Ta(e.collectedStyles,e.currentQuerySelector,new Map);const c=Ia(this,H0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:c,originalSelector:t.selector,options:Of(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function fFe(){return new l(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:_T(t.timings,e.errors,!0);return{type:12,animation:Ia(this,H0(t.animation),e),timings:i,options:null}}}class KFe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Of(n){return n?(n=z0(n)).params&&(n.params=function ZFe(n){return n?z0(n):null}(n.params)):n={},n}function TF(n,t,e){return{duration:n,delay:t,easing:e}}function IF(n,t,e,i,r,s,o=null,c=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:c}}class wT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const n2e=new RegExp(":enter","g"),r2e=new RegExp(":leave","g");function SF(n,t,e,i,r,s=new Map,o=new Map,c,u,f=[]){return(new s2e).buildKeyframes(n,t,e,i,r,s,o,c,u,f)}class s2e{buildKeyframes(t,e,i,r,s,o,c,u,f,_=[]){f=f||new wT;const x=new AF(t,e,f,r,s,_,[]);x.options=u;const T=u.delay?pd(u.delay):0;x.currentTimeline.delayNextStep(T),x.currentTimeline.setStyles([o],null,x.errors,u),Ia(this,i,x);const R=x.timelines.filter(F=>F.containsAnimation());if(R.length&&c.size){let F;for(let B=R.length-1;B>=0;B--){const j=R[B];if(j.element===e){F=j;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([c],null,x.errors,u)}return R.length?R.map(F=>F.buildKeyframes()):[IF(e,[],[],[],0,T,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:pd(U0(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?pd(i.duration):null,c=null!=i.delay?pd(i.delay):null;return 0!==o&&t.forEach(u=>{const f=e.appendInstructionToTimeline(u,o,c);s=Math.max(s,f.duration+f.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ia(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=CT);const o=pd(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Ia(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?pd(t.options.delay):0;t.steps.forEach(o=>{const c=e.createSubContext(t.options);s&&c.delayNextStep(s),Ia(this,o,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return _T(e.params?U0(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,c=e.createSubContext().currentTimeline;c.easing=i.easing,t.styles.forEach(u=>{c.forwardTime((u.offset||0)*s),c.setStyles(u.styles,u.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?pd(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=CT);let o=i;const c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=c.length;let u=null;c.forEach((f,_)=>{e.currentQueryIndex=_;const x=e.createSubContext(t.options,f);s&&x.delayNextStep(s),f===e.element&&(u=x.currentTimeline),Ia(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),c=o*(e.currentQueryTotal-1);let u=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=c-u;break;case"full":u=i.currentStaggerTime}const _=e.currentTimeline;u&&_.delayNextStep(u);const x=_.currentTime;Ia(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const CT={};class AF{constructor(t,e,i,r,s,o,c,u){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=CT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new ET(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=pd(i.duration)),null!=i.delay&&(r.delay=pd(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(c=>{(!e||!o.hasOwnProperty(c))&&(o[c]=U0(s[c],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new AF(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=CT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new o2e(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let c=[];if(r&&c.push(this.element),t.length>0){t=(t=t.replace(n2e,"."+this._enterClassName)).replace(r2e,"."+this._leaveClassName);let f=this._driver.query(this.element,t,1!=i);0!==i&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),c.push(...f)}return!s&&0==c.length&&o.push(function pFe(n){return new l(3014,!1)}()),c}}class ET{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ET(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ld),this._currentKeyframe.set(e,ld);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function a2e(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,ld)}else ju(r,e)}),e}(t,this._globalTimelineStyles);for(let[c,u]of o){const f=U0(u,s,i);this._pendingStyles.set(c,f),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??ld),this._updateStyle(c,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,u)=>{const f=ju(c,new Map,this._backFill);f.forEach((_,x)=>{"!"===_?t.add(x):_===ld&&e.add(x)}),i||f.set("offset",u/this.duration),r.push(f)});const s=t.size?vT(t.values()):[],o=e.size?vT(e.values()):[];if(i){const c=r[0],u=new Map(c);c.set("offset",0),u.set("offset",1),r=[c,u]}return IF(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class o2e extends ET{constructor(t,e,i,r,s,o,c=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,c=e/o,u=ju(t[0]);u.set("offset",0),s.push(u);const f=ju(t[0]);f.set("offset",uQ(c)),s.push(f);const _=t.length-1;for(let x=1;x<=_;x++){let T=ju(t[x]);const R=T.get("offset");T.set("offset",uQ((e+R*i)/o)),s.push(T)}i=o,e=0,r="",t=s}return IF(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function uQ(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class kF{}const l2e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class c2e extends kF{normalizePropertyName(t,e){return EF(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(l2e.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function iFe(n,t){return new l(3005,!1)}())}return o+s}}function hQ(n,t,e,i,r,s,o,c,u,f,_,x,T){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:c,queriedElements:u,preStyleProps:f,postStyleProps:_,totalTime:x,errors:T}}const MF={};class fQ{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function d2e(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,c,u,f,_){const x=[],T=this.ast.options&&this.ast.options.params||MF,F=this.buildStyles(i,c&&c.params||MF,x),B=u&&u.params||MF,j=this.buildStyles(r,B,x),oe=new Set,ee=new Map,le=new Map,me="void"===r,Se={params:u2e(B,T),delay:this.ast.options?.delay},Xe=_?[]:SF(t,e,this.ast.animation,s,o,F,j,Se,f,x);let pt=0;if(Xe.forEach(It=>{pt=Math.max(It.duration+It.delay,pt)}),x.length)return hQ(e,this._triggerName,i,r,me,F,j,[],[],ee,le,pt,x);Xe.forEach(It=>{const Mt=It.element,gt=Ta(ee,Mt,new Set);It.preStyleProps.forEach(un=>gt.add(un));const _t=Ta(le,Mt,new Set);It.postStyleProps.forEach(un=>_t.add(un)),Mt!==e&&oe.add(Mt)});const ft=vT(oe.values());return hQ(e,this._triggerName,i,r,me,F,j,Xe,ft,ee,le,pt)}}function u2e(n,t){const e=z0(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class h2e{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=z0(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,c)=>{o&&(o=U0(o,r,e));const u=this.normalizer.normalizePropertyName(c,e);o=this.normalizer.normalizeStyleValue(c,u,o,e),i.set(c,o)})}),i}}class p2e{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new h2e(r.style,r.options&&r.options.params||{},i))}),pQ(this.states,"true","1"),pQ(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new fQ(t,r,this.states))}),this.fallbackTransition=function g2e(n,t,e){return new fQ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function pQ(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const m2e=new wT;class _2e{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=DF(this._driver,e,i,[]);if(i.length)throw function xFe(n){return new l(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=ZK(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const c=new Map;if(s?(o=SF(this._driver,e,s,bF,pT,new Map,new Map,i,m2e,r),o.forEach(_=>{const x=Ta(c,_.element,new Map);_.postStyleProps.forEach(T=>x.set(T,null))})):(r.push(function wFe(){return new l(3300,!1)}()),o=[]),r.length)throw function CFe(n){return new l(3504,!1)}();c.forEach((_,x)=>{_.forEach((T,R)=>{_.set(R,this._driver.computeStyle(x,R,ld))})});const f=Uu(o.map(_=>{const x=c.get(_.element);return this._buildPlayer(_,new Map,x)}));return this._playersById.set(t,f),f.onDestroy(()=>this.destroy(t)),this.players.push(f),f}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function EFe(n){return new l(3301,!1)}();return e}listen(t,e,i,r){const s=_F(e,"","","");return gF(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const gQ="ng-animate-queued",RF="ng-animate-disabled",w2e=[],mQ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},C2e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ml="__ng_removed";class OF{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function I2e(n){return n??null}(i?t.value:t),i){const s=z0(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const j0="void",PF=new OF(j0);class E2e{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,qa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function DFe(n,t){return new l(3302,!1)}();if(null==i||0==i.length)throw function TFe(n){return new l(3303,!1)}();if(!function S2e(n){return"start"==n||"done"==n}(i))throw function IFe(n,t){return new l(3400,!1)}();const s=Ta(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const c=Ta(this._engine.statesByElement,t,new Map);return c.has(e)||(qa(t,gT),qa(t,gT+"-"+e),c.set(e,PF)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(e)||c.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function SFe(n){return new l(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new NF(this.id,e,t);let c=this._engine.statesByElement.get(t);c||(qa(t,gT),qa(t,gT+"-"+e),this._engine.statesByElement.set(t,c=new Map));let u=c.get(e);const f=new OF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&f.absorbOptions(u.options),c.set(e,f),u||(u=PF),f.value!==j0&&u.value===f.value){if(!function M2e(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(u.params,f.params)){const B=[],j=s.matchStyles(u.value,u.params,B),oe=s.matchStyles(f.value,f.params,B);B.length?this._engine.reportError(B):this._engine.afterFlush(()=>{Rf(t,j),yc(t,oe)})}return}const T=Ta(this._engine.playersByElement,t,[]);T.forEach(B=>{B.namespaceId==this.id&&B.triggerName==e&&B.queued&&B.destroy()});let R=s.matchTransition(u.value,f.value,t,f.params),F=!1;if(!R){if(!r)return;R=s.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:R,fromState:u,toState:f,player:o,isFallbackTransition:F}),F||(qa(t,gQ),o.onStart(()=>{Zm(t,gQ)})),o.onDone(()=>{let B=this.players.indexOf(o);B>=0&&this.players.splice(B,1);const j=this._engine.playersByElement.get(t);if(j){let oe=j.indexOf(o);oe>=0&&j.splice(oe,1)}}),this.players.push(o),T.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,mT,!0);i.forEach(r=>{if(r[Ml])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const c=[];if(s.forEach((u,f)=>{if(o.set(f,u.value),this._triggers.has(f)){const _=this.trigger(t,f,j0,r);_&&c.push(_)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&Uu(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const u=this._triggers.get(o).fallbackTransition,f=i.get(o)||PF,_=new OF(j0),x=new NF(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:u,fromState:f,toState:_,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Ml];(!s||s===mQ)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){qa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(c=>{if(c.name==i.triggerName){const u=_F(s,i.triggerName,i.fromState.value,i.toState.value);u._data=t,gF(i.player,c.phase,u,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class D2e{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new E2e(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,c=this.driver.getParentElement(e);for(;c;){const u=r.get(c);if(u){const f=i.indexOf(u);i.splice(f+1,0,t),o=!0;break}c=this.driver.getParentElement(c)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(DT(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!DT(e))return;const s=e[Ml];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),qa(t,RF)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Zm(t,RF))}removeNode(t,e,i){if(DT(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Ml]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return DT(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,mT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,xF,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Uu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ml];if(e&&e.setForRemoval){if(t[Ml]=mQ,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(RF)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)qa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Uu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function AFe(n){return new l(3402,!1)}()}_flushAnimations(t,e){const i=new wT,r=[],s=new Map,o=[],c=new Map,u=new Map,f=new Map,_=new Set;this.disabledNodes.forEach(Et=>{_.add(Et);const Ot=this.driver.query(Et,".ng-animate-queued",!0);for(let Kt=0;Kt<Ot.length;Kt++)_.add(Ot[Kt])});const x=this.bodyNode,T=Array.from(this.statesByElement.keys()),R=yQ(T,this.collectedEnterElements),F=new Map;let B=0;R.forEach((Et,Ot)=>{const Kt=bF+B++;F.set(Ot,Kt),Et.forEach(Qt=>qa(Qt,Kt))});const j=[],oe=new Set,ee=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const Ot=this.collectedLeaveElements[Et],Kt=Ot[Ml];Kt&&Kt.setForRemoval&&(j.push(Ot),oe.add(Ot),Kt.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(Qt=>oe.add(Qt)):ee.add(Ot))}const le=new Map,me=yQ(T,Array.from(oe));me.forEach((Et,Ot)=>{const Kt=pT+B++;le.set(Ot,Kt),Et.forEach(Qt=>qa(Qt,Kt))}),t.push(()=>{R.forEach((Et,Ot)=>{const Kt=F.get(Ot);Et.forEach(Qt=>Zm(Qt,Kt))}),me.forEach((Et,Ot)=>{const Kt=le.get(Ot);Et.forEach(Qt=>Zm(Qt,Kt))}),j.forEach(Et=>{this.processLeaveNode(Et)})});const Se=[],Xe=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(e).forEach(Kt=>{const Qt=Kt.player,Mi=Kt.element;if(Se.push(Qt),this.collectedEnterElements.length){const Zr=Mi[Ml];if(Zr&&Zr.setForMove){if(Zr.previousTriggersValues&&Zr.previousTriggersValues.has(Kt.triggerName)){const Ho=Zr.previousTriggersValues.get(Kt.triggerName),uo=this.statesByElement.get(Kt.element);if(uo&&uo.has(Kt.triggerName)){const Km=uo.get(Kt.triggerName);Km.value=Ho,uo.set(Kt.triggerName,Km)}}return void Qt.destroy()}}const sr=!x||!this.driver.containsElement(x,Mi),Ar=le.get(Mi),zo=F.get(Mi),ui=this._buildInstruction(Kt,i,zo,Ar,sr);if(ui.errors&&ui.errors.length)return void Xe.push(ui);if(sr)return Qt.onStart(()=>Rf(Mi,ui.fromStyles)),Qt.onDestroy(()=>yc(Mi,ui.toStyles)),void r.push(Qt);if(Kt.isFallbackTransition)return Qt.onStart(()=>Rf(Mi,ui.fromStyles)),Qt.onDestroy(()=>yc(Mi,ui.toStyles)),void r.push(Qt);const sa=[];ui.timelines.forEach(Zr=>{Zr.stretchStartingKeyframe=!0,this.disabledNodes.has(Zr.element)||sa.push(Zr)}),ui.timelines=sa,i.append(Mi,ui.timelines),o.push({instruction:ui,player:Qt,element:Mi}),ui.queriedElements.forEach(Zr=>Ta(c,Zr,[]).push(Qt)),ui.preStyleProps.forEach((Zr,Ho)=>{if(Zr.size){let uo=u.get(Ho);uo||u.set(Ho,uo=new Set),Zr.forEach((Km,Pf)=>uo.add(Pf))}}),ui.postStyleProps.forEach((Zr,Ho)=>{let uo=f.get(Ho);uo||f.set(Ho,uo=new Set),Zr.forEach((Km,Pf)=>uo.add(Pf))})});if(Xe.length){const Et=[];Xe.forEach(Ot=>{Et.push(function kFe(n,t){return new l(3505,!1)}())}),Se.forEach(Ot=>Ot.destroy()),this.reportError(Et)}const pt=new Map,ft=new Map;o.forEach(Et=>{const Ot=Et.element;i.has(Ot)&&(ft.set(Ot,Ot),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,pt))}),r.forEach(Et=>{const Ot=Et.element;this._getPreviousPlayers(Ot,!1,Et.namespaceId,Et.triggerName,null).forEach(Qt=>{Ta(pt,Ot,[]).push(Qt),Qt.destroy()})});const It=j.filter(Et=>xQ(Et,u,f)),Mt=new Map;vQ(Mt,this.driver,ee,f,ld).forEach(Et=>{xQ(Et,u,f)&&It.push(Et)});const _t=new Map;R.forEach((Et,Ot)=>{vQ(_t,this.driver,new Set(Et),u,"!")}),It.forEach(Et=>{const Ot=Mt.get(Et),Kt=_t.get(Et);Mt.set(Et,new Map([...Ot?.entries()??[],...Kt?.entries()??[]]))});const un=[],ei=[],ra={};o.forEach(Et=>{const{element:Ot,player:Kt,instruction:Qt}=Et;if(i.has(Ot)){if(_.has(Ot))return Kt.onDestroy(()=>yc(Ot,Qt.toStyles)),Kt.disabled=!0,Kt.overrideTotalTime(Qt.totalTime),void r.push(Kt);let Mi=ra;if(ft.size>1){let Ar=Ot;const zo=[];for(;Ar=Ar.parentNode;){const ui=ft.get(Ar);if(ui){Mi=ui;break}zo.push(Ar)}zo.forEach(ui=>ft.set(ui,Mi))}const sr=this._buildAnimation(Kt.namespaceId,Qt,pt,s,_t,Mt);if(Kt.setRealPlayer(sr),Mi===ra)un.push(Kt);else{const Ar=this.playersByElement.get(Mi);Ar&&Ar.length&&(Kt.parentPlayer=Uu(Ar)),r.push(Kt)}}else Rf(Ot,Qt.fromStyles),Kt.onDestroy(()=>yc(Ot,Qt.toStyles)),ei.push(Kt),_.has(Ot)&&r.push(Kt)}),ei.forEach(Et=>{const Ot=s.get(Et.element);if(Ot&&Ot.length){const Kt=Uu(Ot);Et.setRealPlayer(Kt)}}),r.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<j.length;Et++){const Ot=j[Et],Kt=Ot[Ml];if(Zm(Ot,pT),Kt&&Kt.hasAnimation)continue;let Qt=[];if(c.size){let sr=c.get(Ot);sr&&sr.length&&Qt.push(...sr);let Ar=this.driver.query(Ot,xF,!0);for(let zo=0;zo<Ar.length;zo++){let ui=c.get(Ar[zo]);ui&&ui.length&&Qt.push(...ui)}}const Mi=Qt.filter(sr=>!sr.destroyed);Mi.length?A2e(this,Ot,Mi):this.processLeaveNode(Ot)}return j.length=0,un.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const Ot=this.players.indexOf(Et);this.players.splice(Ot,1)}),Et.play()}),un}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const c=this.playersByQueriedElement.get(t);c&&(o=c)}else{const c=this.playersByElement.get(t);if(c){const u=!s||s==j0;c.forEach(f=>{f.queued||!u&&f.triggerName!=r||o.push(f)})}}return(i||r)&&(o=o.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const f=u.element,_=f!==s,x=Ta(i,f,[]);this._getPreviousPlayers(f,_,o,c,e.toState).forEach(R=>{const F=R.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),R.destroy(),x.push(R)})}Rf(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const c=e.triggerName,u=e.element,f=[],_=new Set,x=new Set,T=e.timelines.map(F=>{const B=F.element;_.add(B);const j=B[Ml];if(j&&j.removedBeforeQueried)return new l0(F.duration,F.delay);const oe=B!==u,ee=function k2e(n){const t=[];return bQ(n,t),t}((i.get(B)||w2e).map(pt=>pt.getRealPlayer())).filter(pt=>!!pt.element&&pt.element===B),le=s.get(B),me=o.get(B),Se=ZK(this._normalizer,F.keyframes,le,me),Xe=this._buildPlayer(F,Se,ee);if(F.subTimeline&&r&&x.add(B),oe){const pt=new NF(t,c,B);pt.setRealPlayer(Xe),f.push(pt)}return Xe});f.forEach(F=>{Ta(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>function T2e(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,F.element,F))}),_.forEach(F=>qa(F,iQ));const R=Uu(T);return R.onDestroy(()=>{_.forEach(F=>Zm(F,iQ)),yc(u,e.toStyles)}),x.forEach(F=>{Ta(r,F,[]).push(R)}),R}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new l0(t.duration,t.delay)}}class NF{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new l0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>gF(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ta(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function DT(n){return n&&1===n.nodeType}function _Q(n,t){const e=n.style.display;return n.style.display=t??"none",e}function vQ(n,t,e,i,r){const s=[];e.forEach(u=>s.push(_Q(u)));const o=[];i.forEach((u,f)=>{const _=new Map;u.forEach(x=>{const T=t.computeStyle(f,x,r);_.set(x,T),(!T||0==T.length)&&(f[Ml]=C2e,o.push(f))}),n.set(f,_)});let c=0;return e.forEach(u=>_Q(u,s[c++])),o}function yQ(n,t){const e=new Map;if(n.forEach(c=>e.set(c,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(c){if(!c)return 1;let u=s.get(c);if(u)return u;const f=c.parentNode;return u=e.has(f)?f:r.has(f)?1:o(f),s.set(c,u),u}return t.forEach(c=>{const u=o(c);1!==u&&e.get(u).push(c)}),e}function qa(n,t){n.classList?.add(t)}function Zm(n,t){n.classList?.remove(t)}function A2e(n,t,e){Uu(e).onDone(()=>n.processLeaveNode(t))}function bQ(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof hq?bQ(i.players,t):t.push(i)}}function xQ(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class TT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new D2e(t,e,i),this._timelineEngine=new _2e(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let c=this._triggerCache[o];if(!c){const u=[],_=DF(this._driver,s,u,[]);if(u.length)throw function yFe(n,t){return new l(3404,!1)}();c=function f2e(n,t,e){return new p2e(n,t,e)}(r,_,this._normalizer),this._triggerCache[o]=c}this._transitionEngine.registerTrigger(e,r,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=KK(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,c]=KK(i);return this._timelineEngine.listen(o,e,c,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let O2e=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&yc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yc(this._element,this._initialStyles),this._endStyles&&(yc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Rf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rf(this._element,this._endStyles),this._endStyles=null),yc(this._element,this._initialStyles),this._state=3)}}return n})();function LF(n){let t=null;return n.forEach((e,i)=>{(function P2e(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class wQ{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:aQ(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class N2e{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return JK(t,e)}getParentElement(t){return vF(t)}query(t,e,i){return eQ(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const u={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(u.easing=s);const f=new Map,_=o.filter(R=>R instanceof wQ);(function UFe(n,t){return 0===n||0===t})(i,r)&&_.forEach(R=>{R.currentSnapshot.forEach((F,B)=>f.set(B,F))});let x=function BFe(n){return n.length?n[0]instanceof Map?n:n.map(t=>rQ(t)):[]}(e).map(R=>ju(R));x=function jFe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(c=>o.set(c,aQ(n,c)))}}return t}(t,x,f);const T=function R2e(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=LF(t[0]),t.length>1&&(i=LF(t[t.length-1]))):t instanceof Map&&(e=LF(t)),e||i?new O2e(n,e,i):null}(t,x);return new wQ(t,x,u,T)}}let L2e=(()=>{class n extends cq{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:jo.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?dq(e):e;return CQ(this._renderer,null,i,"register",[r]),new F2e(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(fe(Rp),fe(ln))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class F2e extends hEe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new V2e(this._id,t,e||{},this._renderer)}}class V2e{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return CQ(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function CQ(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const EQ="@.disabled";let B2e=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const c=o?.parentNode(s);c&&o.removeChild(c,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let _=this._rendererCache.get(s);return _||(_=new DQ("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,_)),_}const o=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const u=_=>{Array.isArray(_)?_.forEach(u):this.engine.registerTrigger(o,c,e,_.name,_)};return i.data.animation.forEach(u),new z2e(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,c]=s;o(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(fe(Rp),fe(TT),fe(ht))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();class DQ{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==EQ?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class z2e extends DQ{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==EQ?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function H2e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function U2e(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(t,e,i)}}let j2e=(()=>{class n extends TT{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(fe(ln),fe(yF),fe(kF),fe(Fa))};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac})}return n})();const TQ=[{provide:cq,useClass:L2e},{provide:kF,useFactory:function W2e(){return new c2e}},{provide:TT,useClass:j2e},{provide:Rp,useFactory:function G2e(n,t,e){return new B2e(n,t,e)},deps:[ZA,TT,ht]}],FF=[{provide:yF,useFactory:()=>new N2e},{provide:Lc,useValue:"BrowserAnimations"},...TQ],IQ=[{provide:yF,useClass:tQ},{provide:Lc,useValue:"NoopAnimations"},...TQ];let SQ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?IQ:FF}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({providers:FF,imports:[cj]})}return n})(),$2e=(()=>{class n{constructor(){this.http=He(m1)}getTranslation(e){return this.http.get(`https://petguardian-mobile.web.app/assets/i18n/${e}.json`)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Y2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n});static#n=this.\u0275inj=ke({providers:[MIe({config:{availableLangs:["en","es","cat"],defaultLang:"en",reRenderOnLangChange:!0,prodMode:!0},loader:$2e})],imports:[kIe]})}return n})(),q2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Rt({type:n,bootstrap:[sLe]});static#n=this.\u0275inj=ke({providers:[Lv],imports:[Dce.initializeApp(SY_firebase),kce,oEe,jc,mq.forRoot(),NCe,LCe,xye,d0e,zfe,cj,SQ,ZNe,mq,PK,Yke.forRoot({provide:hd,useFactory:KLe}),vSe,PK,v0e,SQ,cIe,wTe,f1e,FNe,Y2e]})}return n})();Kle().bootstrapModule(q2e).catch(n=>console.error(n))},54:(Kr,Wi,$t)=>{var re;function Be(V,a){var l=Object.keys(V);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(V);a&&(d=d.filter(function(h){return Object.getOwnPropertyDescriptor(V,h).enumerable})),l.push.apply(l,d)}return l}function ae(V){for(var a=1;a<arguments.length;a++){var l=null!=arguments[a]?arguments[a]:{};a%2?Be(Object(l),!0).forEach(function(d){Vn(V,d,l[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(l)):Be(Object(l)).forEach(function(d){Object.defineProperty(V,d,Object.getOwnPropertyDescriptor(l,d))})}return V}function bt(V){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(V)}function Ge(V,a){if(!(V instanceof a))throw new TypeError("Cannot call a class as a function")}function Ti(V,a){for(var l=0;l<a.length;l++){var d=a[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(V,d.key,d)}}function ut(V,a,l){return a&&Ti(V.prototype,a),l&&Ti(V,l),V}function Vn(V,a,l){return a in V?Object.defineProperty(V,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):V[a]=l,V}function bn(V,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(a&&a.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),a&&ot(V,a)}function Ze(V){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(V)}function ot(V,a){return(ot=Object.setPrototypeOf||function(l,d){return l.__proto__=d,l})(V,a)}function on(V){var a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,d=Ze(V);if(a){var h=Ze(this).constructor;l=Reflect.construct(d,arguments,h)}else l=d.apply(this,arguments);return function Pt(V,a){if(a&&("object"==typeof a||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(V)}(this,l)}}function Bn(V,a){return function(l){if(Array.isArray(l))return l}(V)||function(l,d){var h=null==l?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(null!=h){var p,g,m=[],v=!0,w=!1;try{for(h=h.call(l);!(v=(p=h.next()).done)&&(m.push(p.value),!d||m.length!==d);v=!0);}catch(E){w=!0,g=E}finally{try{v||null==h.return||h.return()}finally{if(w)throw g}}return m}}(V,a)||Dn(V,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kn(V){return function(a){if(Array.isArray(a))return rn(a)}(V)||function(a){if(typeof Symbol<"u"&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(V)||Dn(V)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(V,a){if(V){if("string"==typeof V)return rn(V,a);var l=Object.prototype.toString.call(V).slice(8,-1);return"Object"===l&&V.constructor&&(l=V.constructor.name),"Map"===l||"Set"===l?Array.from(V):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?rn(V,a):void 0}}function rn(V,a){(null==a||a>V.length)&&(a=V.length);for(var l=0,d=new Array(a);l<a;l++)d[l]=V[l];return d}var pe=function(){function V(){Ge(this,V)}return ut(V,[{key:"shadeRGBColor",value:function(a,l){var d=l.split(","),h=a<0?0:255,p=a<0?-1*a:a,g=parseInt(d[0].slice(4),10),m=parseInt(d[1],10),v=parseInt(d[2],10);return"rgb("+(Math.round((h-g)*p)+g)+","+(Math.round((h-m)*p)+m)+","+(Math.round((h-v)*p)+v)+")"}},{key:"shadeHexColor",value:function(a,l){var d=parseInt(l.slice(1),16),h=a<0?0:255,p=a<0?-1*a:a,g=d>>16,m=d>>8&255,v=255&d;return"#"+(16777216+65536*(Math.round((h-g)*p)+g)+256*(Math.round((h-m)*p)+m)+(Math.round((h-v)*p)+v)).toString(16).slice(1)}},{key:"shadeColor",value:function(a,l){return V.isColorHex(l)?this.shadeHexColor(a,l):this.shadeRGBColor(a,l)}}],[{key:"bind",value:function(a,l){return function(){return a.apply(l,arguments)}}},{key:"isObject",value:function(a){return a&&"object"===bt(a)&&!Array.isArray(a)&&null!=a}},{key:"is",value:function(a,l){return Object.prototype.toString.call(l)==="[object "+a+"]"}},{key:"listToArray",value:function(a){var l,d=[];for(l=0;l<a.length;l++)d[l]=a[l];return d}},{key:"extend",value:function(a,l){var d=this;"function"!=typeof Object.assign&&(Object.assign=function(p){if(null==p)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(p),m=1;m<arguments.length;m++){var v=arguments[m];if(null!=v)for(var w in v)v.hasOwnProperty(w)&&(g[w]=v[w])}return g});var h=Object.assign({},a);return this.isObject(a)&&this.isObject(l)&&Object.keys(l).forEach(function(p){d.isObject(l[p])&&p in a?h[p]=d.extend(a[p],l[p]):Object.assign(h,Vn({},p,l[p]))}),h}},{key:"extendArray",value:function(a,l){var d=[];return a.map(function(h){d.push(V.extend(l,h))}),d}},{key:"monthMod",value:function(a){return a%12}},{key:"clone",value:function(a){if(V.is("Array",a)){for(var l=[],d=0;d<a.length;d++)l[d]=this.clone(a[d]);return l}if(V.is("Null",a))return null;if(V.is("Date",a))return a;if("object"===bt(a)){var h={};for(var p in a)a.hasOwnProperty(p)&&(h[p]=this.clone(a[p]));return h}return a}},{key:"log10",value:function(a){return Math.log(a)/Math.LN10}},{key:"roundToBase10",value:function(a){return Math.pow(10,Math.floor(Math.log10(a)))}},{key:"roundToBase",value:function(a,l){return Math.pow(l,Math.floor(Math.log(a)/Math.log(l)))}},{key:"parseNumber",value:function(a){return null===a?a:parseFloat(a)}},{key:"stripNumber",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isInteger(a)?a:parseFloat(a.toPrecision(l))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(a){var l=String(a).split(/[eE]/);if(1===l.length)return l[0];var d="",h=a<0?"-":"",p=l[0].replace(".",""),g=Number(l[1])+1;if(g<0){for(d=h+"0.";g++;)d+="0";return d+p.replace(/^-/,"")}for(g-=p.length;g--;)d+="0";return p+d}},{key:"getDimensions",value:function(a){var l=getComputedStyle(a,null),d=a.clientHeight,h=a.clientWidth;return d-=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),[h-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),d]}},{key:"getBoundingClientRect",value:function(a){var l=a.getBoundingClientRect();return{top:l.top,right:l.right,bottom:l.bottom,left:l.left,width:a.clientWidth,height:a.clientHeight,x:l.left,y:l.top}}},{key:"getLargestStringFromArr",value:function(a){return a.reduce(function(l,d){return Array.isArray(d)&&(d=d.reduce(function(h,p){return h.length>p.length?h:p})),l.length>d.length?l:d},0)}},{key:"hexToRgba",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==a.substring(0,1)&&(a="#999999");var d=a.replace("#","");d=d.match(new RegExp("(.{"+d.length/3+"})","g"));for(var h=0;h<d.length;h++)d[h]=parseInt(1===d[h].length?d[h]+d[h]:d[h],16);return void 0!==l&&d.push(l),"rgba("+d.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(a){return parseFloat(a.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(a)}},{key:"getPolygonPos",value:function(a,l){for(var d=[],h=2*Math.PI/l,p=0;p<l;p++){var g={};g.x=a*Math.sin(p*h),g.y=-a*Math.cos(p*h),d.push(g)}return d}},{key:"polarToCartesian",value:function(a,l,d,h){var p=(h-90)*Math.PI/180;return{x:a+d*Math.cos(p),y:l+d*Math.sin(p)}}},{key:"escapeString",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";return a.toString().slice().replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,l)}},{key:"negToZero",value:function(a){return a<0?0:a}},{key:"moveIndexInArray",value:function(a,l,d){if(d>=a.length)for(var h=d-a.length+1;h--;)a.push(void 0);return a.splice(d,0,a.splice(l,1)[0]),a}},{key:"extractNumber",value:function(a){return parseFloat(a.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(a,l){for(;(a=a.parentElement)&&!a.classList.contains(l););return a}},{key:"setELstyles",value:function(a,l){for(var d in l)l.hasOwnProperty(d)&&(a.style.key=l[d])}},{key:"isNumber",value:function(a){return!isNaN(a)&&parseFloat(Number(a))===a&&!isNaN(parseInt(a,10))}},{key:"isFloat",value:function(a){return Number(a)===a&&a%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var a=window.navigator.userAgent,l=a.indexOf("MSIE ");if(l>0)return parseInt(a.substring(l+5,a.indexOf(".",l)),10);if(a.indexOf("Trident/")>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}var h=a.indexOf("Edge/");return h>0&&parseInt(a.substring(h+5,a.indexOf(".",h)),10)}}]),V}(),Ii=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.setEasingFunctions()}return ut(V,[{key:"setEasingFunctions",value:function(){var a;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":a="-";break;case"easein":a="<";break;case"easeout":a=">";break;case"easeinout":default:a="<>";break;case"swing":a=function(l){var d=1.70158;return(l-=1)*l*((d+1)*l+d)+1};break;case"bounce":a=function(l){return l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375};break;case"elastic":a=function(l){return l===!!l?l:Math.pow(2,-10*l)*Math.sin((l-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=a}}},{key:"animateLine",value:function(a,l,d,h){a.attr(l).animate(h).attr(d)}},{key:"animateMarker",value:function(a,l,d,h,p,g){l||(l=0),a.attr({r:l,width:l,height:l}).animate(h,p).attr({r:d,width:d.width,height:d.height}).afterAll(function(){g()})}},{key:"animateCircle",value:function(a,l,d,h,p){a.attr({r:l.r,cx:l.cx,cy:l.cy}).animate(h,p).attr({r:d.r,cx:d.cx,cy:d.cy})}},{key:"animateRect",value:function(a,l,d,h,p){a.attr(l).animate(h).attr(d).afterAll(function(){return p()})}},{key:"animatePathsGradually",value:function(a){var E=this.w,D=0;E.config.chart.animations.animateGradually.enabled&&(D=E.config.chart.animations.animateGradually.delay),E.config.chart.animations.dynamicAnimation.enabled&&E.globals.dataChanged&&"bar"!==E.config.chart.type&&(D=0),this.morphSVG(a.el,a.realIndex,a.j,"line"!==E.config.chart.type||E.globals.comboCharts?a.fill:"stroke",a.pathFrom,a.pathTo,a.speed,a.delay*D)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(a){var l=a.el;l.classList.remove("apexcharts-element-hidden"),l.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(a){var l=this.w;l.globals.animationEnded||(l.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof l.config.chart.events.animationEnd&&l.config.chart.events.animationEnd(this.ctx,{el:a,w:l}))}},{key:"morphSVG",value:function(a,l,d,h,p,g,m,v){var w=this,E=this.w;p||(p=a.attr("pathFrom")),g||(g=a.attr("pathTo"));var D=function(k){return"radar"===E.config.chart.type&&(m=1),"M 0 ".concat(E.globals.gridHeight)};(!p||p.indexOf("undefined")>-1||p.indexOf("NaN")>-1)&&(p=D()),(!g||g.indexOf("undefined")>-1||g.indexOf("NaN")>-1)&&(g=D()),E.globals.shouldAnimate||(m=1),a.plot(p).animate(1,E.globals.easing,v).plot(p).animate(m,E.globals.easing,v).plot(g).afterAll(function(){pe.isNumber(d)?d===E.globals.series[E.globals.maxValsInArrayIndex].length-2&&E.globals.shouldAnimate&&w.animationCompleted(a):"none"!==h&&E.globals.shouldAnimate&&(!E.globals.comboCharts&&l===E.globals.series.length-1||E.globals.comboCharts)&&w.animationCompleted(a),w.showDelayedElements()})}}]),V}(),xn=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"getDefaultFilter",value:function(a,l){var d=this.w;a.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==d.config.states.normal.filter?this.applyFilter(a,l,d.config.states.normal.filter.type,d.config.states.normal.filter.value):d.config.chart.dropShadow.enabled&&this.dropShadow(a,d.config.chart.dropShadow,l)}},{key:"addNormalFilter",value:function(a,l){var d=this.w;d.config.chart.dropShadow.enabled&&!a.node.classList.contains("apexcharts-marker")&&this.dropShadow(a,d.config.chart.dropShadow,l)}},{key:"addLightenFilter",value:function(a,l,d){var h=this,p=this.w,g=d.intensity;a.unfilter(!0),new window.SVG.Filter,a.filter(function(m){var v=p.config.chart.dropShadow;(v.enabled?h.addShadow(m,l,v):m).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:g}})}),a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)}},{key:"addDarkenFilter",value:function(a,l,d){var h=this,p=this.w,g=d.intensity;a.unfilter(!0),new window.SVG.Filter,a.filter(function(m){var v=p.config.chart.dropShadow;(v.enabled?h.addShadow(m,l,v):m).componentTransfer({rgb:{type:"linear",slope:g}})}),a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)}},{key:"applyFilter",value:function(a,l,d){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(d){case"none":this.addNormalFilter(a,l);break;case"lighten":this.addLightenFilter(a,l,{intensity:h});break;case"darken":this.addDarkenFilter(a,l,{intensity:h})}}},{key:"addShadow",value:function(a,l,d){var h=d.blur,p=d.top,g=d.left,m=d.color,v=d.opacity,w=a.flood(Array.isArray(m)?m[l]:m,v).composite(a.sourceAlpha,"in").offset(g,p).gaussianBlur(h).merge(a.source);return a.blend(a.source,w)}},{key:"dropShadow",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,h=l.top,p=l.left,g=l.blur,m=l.color,v=l.opacity,w=l.noUserSpaceOnUse,E=this.w;return a.unfilter(!0),pe.isIE()&&"radialBar"===E.config.chart.type||(m=Array.isArray(m)?m[d]:m,a.filter(function(D){var k;k=pe.isSafari()||pe.isFirefox()||pe.isIE()?D.flood(m,v).composite(D.sourceAlpha,"in").offset(p,h).gaussianBlur(g):D.flood(m,v).composite(D.sourceAlpha,"in").offset(p,h).gaussianBlur(g).merge(D.source),D.blend(D.source,k)}),w||a.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(a.filterer.node)),a}},{key:"setSelectionFilter",value:function(a,l,d){var h=this.w;if(void 0!==h.globals.selectedDataPoints[l]&&h.globals.selectedDataPoints[l].indexOf(d)>-1){a.node.setAttribute("selected",!0);var p=h.config.states.active.filter;"none"!==p&&this.applyFilter(a,l,p.type,p.value)}}},{key:"_scaleFilterSize",value:function(a){!function(l){for(var d in l)l.hasOwnProperty(d)&&a.setAttribute(d,l[d])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),V}(),Re=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"roundPathCorners",value:function(a,l){function d(q,ye,_e){var Oe=ye.x-q.x,ce=ye.y-q.y,qe=Math.sqrt(Oe*Oe+ce*ce);return h(q,ye,Math.min(1,_e/qe))}function h(q,ye,_e){return{x:q.x+(ye.x-q.x)*_e,y:q.y+(ye.y-q.y)*_e}}function p(q,ye){q.length>2&&(q[q.length-2]=ye.x,q[q.length-1]=ye.y)}function g(q){return{x:parseFloat(q[q.length-2]),y:parseFloat(q[q.length-1])}}a.indexOf("NaN")>-1&&(a="");var m=a.split(/[,\s]/).reduce(function(q,ye){var _e=ye.match("([a-zA-Z])(.+)");return _e?(q.push(_e[1]),q.push(_e[2])):q.push(ye),q},[]).reduce(function(q,ye){return parseFloat(ye)==ye&&q.length?q[q.length-1].push(ye):q.push([ye]),q},[]),v=[];if(m.length>1){var w=g(m[0]),E=null;"Z"==m[m.length-1][0]&&m[0].length>2&&(m[m.length-1]=E=["L",w.x,w.y]),v.push(m[0]);for(var D=1;D<m.length;D++){var k=v[v.length-1],O=m[D],P=O==E?m[1]:m[D+1];if(P&&k&&k.length>2&&"L"==O[0]&&P.length>2&&"L"==P[0]){var L,z,$=g(k),K=g(O),b=g(P);L=d(K,$,l),z=d(K,b,l),p(O,L),O.origPoint=K,v.push(O);var I=h(L,K,.5),N=h(K,z,.5),U=["C",I.x,I.y,N.x,N.y,z.x,z.y];U.origPoint=K,v.push(U)}else v.push(O)}if(E){var Q=g(v[v.length-1]);v.push(["Z"]),p(v[0],Q)}}else v=m;return v.reduce(function(q,ye){return q+ye.join(" ")+" "},"")}},{key:"drawLine",value:function(a,l,d,h){var p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:a,y1:l,x2:d,y2:h,stroke:p,"stroke-dasharray":g,"stroke-width":m,"stroke-linecap":v})}},{key:"drawRect",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,w=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,E=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,D=this.w.globals.dom.Paper.rect();return D.attr({x:a,y:l,width:d>0?d:0,height:h>0?h:0,rx:p,ry:p,opacity:m,"stroke-width":null!==v?v:0,stroke:null!==w?w:"none","stroke-dasharray":E}),D.node.setAttribute("fill",g),D}},{key:"drawPolygon",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(a).attr({fill:h,stroke:l,"stroke-width":d})}},{key:"drawCircle",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a<0&&(a=0);var d=this.w.globals.dom.Paper.circle(2*a);return null!==l&&d.attr(l),d}},{key:"drawPath",value:function(a){var l=a.d,d=void 0===l?"":l,h=a.stroke,p=void 0===h?"#a8a8a8":h,g=a.strokeWidth,m=void 0===g?1:g,v=a.fill,w=a.fillOpacity,E=void 0===w?1:w,D=a.strokeOpacity,k=void 0===D?1:D,O=a.classes,P=a.strokeLinecap,L=void 0===P?null:P,z=a.strokeDashArray,$=void 0===z?0:z,K=this.w;return null===L&&(L=K.config.stroke.lineCap),(d.indexOf("undefined")>-1||d.indexOf("NaN")>-1)&&(d="M 0 ".concat(K.globals.gridHeight)),K.globals.dom.Paper.path(d).attr({fill:v,"fill-opacity":E,stroke:p,"stroke-opacity":k,"stroke-linecap":L,"stroke-width":m,"stroke-dasharray":$,class:O})}},{key:"group",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w.globals.dom.Paper.group();return null!==a&&l.attr(a),l}},{key:"move",value:function(a,l){return["M",a,l].join(" ")}},{key:"line",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=null;return null===d?h=[" L",a,l].join(" "):"H"===d?h=[" H",a].join(" "):"V"===d&&(h=[" V",l].join(" ")),h}},{key:"curve",value:function(a,l,d,h,p,g){return["C",a,l,d,h,p,g].join(" ")}},{key:"quadraticCurve",value:function(a,l,d,h){return["Q",a,l,d,h].join(" ")}},{key:"arc",value:function(a,l,d,h,p,g,m){var v="A";return arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(v="a"),[v,a,l,d,h,p,g,m].join(" ")}},{key:"renderPaths",value:function(a){var l,d=a.j,h=a.realIndex,p=a.pathFrom,g=a.pathTo,m=a.stroke,v=a.strokeWidth,w=a.strokeLinecap,E=a.fill,D=a.animationDelay,k=a.initialSpeed,O=a.dataChangeSpeed,P=a.className,L=a.shouldClipToGrid,z=void 0===L||L,$=a.bindEventsOnPaths,K=void 0===$||$,b=a.drawShadow,I=void 0===b||b,N=this.w,U=new xn(this.ctx),Q=new Ii(this.ctx),q=this.w.config.chart.animations.enabled,ye=q&&this.w.config.chart.animations.dynamicAnimation.enabled,_e=!!(q&&!N.globals.resized||ye&&N.globals.dataChanged&&N.globals.shouldAnimate);_e?l=p:(l=g,N.globals.animationEnded=!0);var ce,Oe=N.config.stroke.dashArray;ce=Array.isArray(Oe)?Oe[h]:N.config.stroke.dashArray;var qe=this.drawPath({d:l,stroke:m,strokeWidth:v,fill:E,fillOpacity:1,classes:P,strokeLinecap:w,strokeDashArray:ce});qe.attr("index",h),z&&qe.attr({"clip-path":"url(#gridRectMask".concat(N.globals.cuid,")")}),"none"!==N.config.states.normal.filter.type?U.getDefaultFilter(qe,h):N.config.chart.dropShadow.enabled&&I&&(!N.config.chart.dropShadow.enabledOnSeries||N.config.chart.dropShadow.enabledOnSeries&&-1!==N.config.chart.dropShadow.enabledOnSeries.indexOf(h))&&U.dropShadow(qe,N.config.chart.dropShadow,h),K&&(qe.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,qe)),qe.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,qe)),qe.node.addEventListener("mousedown",this.pathMouseDown.bind(this,qe))),qe.attr({pathTo:g,pathFrom:p});var xt={el:qe,j:d,realIndex:h,pathFrom:p,pathTo:g,fill:E,strokeWidth:v,delay:D};return!q||N.globals.resized||N.globals.dataChanged?!N.globals.resized&&N.globals.dataChanged||Q.showDelayedElements():Q.animatePathsGradually(ae(ae({},xt),{},{speed:k})),N.globals.dataChanged&&ye&&_e&&Q.animatePathsGradually(ae(ae({},xt),{},{speed:O})),qe}},{key:"drawPattern",value:function(a,l,d){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(l,d,function(g){"horizontalLines"===a?g.line(0,0,d,0).stroke({color:h,width:p+1}):"verticalLines"===a?g.line(0,0,0,l).stroke({color:h,width:p+1}):"slantedLines"===a?g.line(0,0,l,d).stroke({color:h,width:p}):"squares"===a?g.rect(l,d).fill("none").stroke({color:h,width:p}):"circles"===a&&g.circle(l).fill("none").stroke({color:h,width:p})})}},{key:"drawGradient",value:function(a,l,d,h,p){var g,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,v=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,E=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,D=this.w;l.length<9&&0===l.indexOf("#")&&(l=pe.hexToRgba(l,h)),d.length<9&&0===d.indexOf("#")&&(d=pe.hexToRgba(d,p));var k=0,O=1,P=1,L=null;null!==v&&(k=void 0!==v[0]?v[0]/100:0,O=void 0!==v[1]?v[1]/100:1,P=void 0!==v[2]?v[2]/100:1,L=void 0!==v[3]?v[3]/100:null);var z=!("donut"!==D.config.chart.type&&"pie"!==D.config.chart.type&&"polarArea"!==D.config.chart.type&&"bubble"!==D.config.chart.type);return g=D.globals.dom.Paper.gradient(z?"radial":"linear",null===w||0===w.length?function(b){b.at(k,l,h),b.at(O,d,p),b.at(P,d,p),null!==L&&b.at(L,l,h)}:function(b){(Array.isArray(w[E])?w[E]:w).forEach(function(I){b.at(I.offset/100,I.color,I.opacity)})}),z?g.attr("bubble"!==D.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:D.globals.gridWidth/2,cy:D.globals.gridHeight/2,r:m}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2}):"vertical"===a?g.from(0,0).to(0,1):"diagonal"===a?g.from(0,0).to(1,1):"horizontal"===a?g.from(0,1).to(1,1):"diagonal2"===a&&g.from(1,0).to(0,1),g}},{key:"getTextBasedOnMaxWidth",value:function(a){var l=a.text,d=a.maxWidth,g=this.getTextRects(l,a.fontSize,a.fontFamily),v=Math.floor(d/(g.width/l.length));return d<g.width?l.slice(0,v-3)+"...":l}},{key:"drawText",value:function(a){var l=this,d=a.x,h=a.y,p=a.text,g=a.textAnchor,m=a.fontSize,v=a.fontFamily,w=a.fontWeight,E=a.foreColor,D=a.opacity,k=a.maxWidth,O=a.cssClass,P=void 0===O?"":O,L=a.isPlainText,z=void 0===L||L,$=this.w;void 0===p&&(p="");var K=p;g||(g="start"),E&&E.length||(E=$.config.chart.foreColor),w=w||"regular";var b,I={maxWidth:k,fontSize:m=m||"11px",fontFamily:v=v||$.config.chart.fontFamily};return Array.isArray(p)?b=$.globals.dom.Paper.text(function(N){for(var U=0;U<p.length;U++)K=p[U],k&&(K=l.getTextBasedOnMaxWidth(ae({text:p[U]},I))),0===U?N.tspan(K):N.tspan(K).newLine()}):(k&&(K=this.getTextBasedOnMaxWidth(ae({text:p},I))),b=z?$.globals.dom.Paper.plain(p):$.globals.dom.Paper.text(function(N){return N.tspan(K)})),b.attr({x:d,y:h,"text-anchor":g,"dominant-baseline":"auto","font-size":m,"font-family":v,"font-weight":w,fill:E,class:"apexcharts-text "+P}),b.node.style.fontFamily=v,b.node.style.opacity=D,b}},{key:"drawMarker",value:function(a,l,d){a=a||0;var h=d.pSize||0,p=null;if("square"===d.shape||"rect"===d.shape){var g=void 0===d.pRadius?h/2:d.pRadius;null!==l&&h||(h=0,g=0);var m=1.2*h+g,v=this.drawRect(m,m,m,m,g);v.attr({x:a-m/2,y:l-m/2,cx:a,cy:l,class:d.class?d.class:"",fill:d.pointFillColor,"fill-opacity":d.pointFillOpacity?d.pointFillOpacity:1,stroke:d.pointStrokeColor,"stroke-width":d.pointStrokeWidth?d.pointStrokeWidth:0,"stroke-opacity":d.pointStrokeOpacity?d.pointStrokeOpacity:1}),p=v}else"circle"!==d.shape&&d.shape||(pe.isNumber(l)||(h=0,l=0),p=this.drawCircle(h,{cx:a,cy:l,class:d.class?d.class:"",stroke:d.pointStrokeColor,fill:d.pointFillColor,"fill-opacity":d.pointFillOpacity?d.pointFillOpacity:1,"stroke-width":d.pointStrokeWidth?d.pointStrokeWidth:0,"stroke-opacity":d.pointStrokeOpacity?d.pointStrokeOpacity:1}));return p}},{key:"pathMouseEnter",value:function(a,l){var d=this.w,h=new xn(this.ctx),p=parseInt(a.node.getAttribute("index"),10),g=parseInt(a.node.getAttribute("j"),10);if("function"==typeof d.config.chart.events.dataPointMouseEnter&&d.config.chart.events.dataPointMouseEnter(l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:d}),this.ctx.events.fireEvent("dataPointMouseEnter",[l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:d}]),("none"===d.config.states.active.filter.type||"true"!==a.node.getAttribute("selected"))&&"none"!==d.config.states.hover.filter.type&&!d.globals.isTouchDevice){var m=d.config.states.hover.filter;h.applyFilter(a,p,m.type,m.value)}}},{key:"pathMouseLeave",value:function(a,l){var d=this.w,h=new xn(this.ctx),p=parseInt(a.node.getAttribute("index"),10),g=parseInt(a.node.getAttribute("j"),10);"function"==typeof d.config.chart.events.dataPointMouseLeave&&d.config.chart.events.dataPointMouseLeave(l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:d}),this.ctx.events.fireEvent("dataPointMouseLeave",[l,this.ctx,{seriesIndex:p,dataPointIndex:g,w:d}]),"none"!==d.config.states.active.filter.type&&"true"===a.node.getAttribute("selected")||"none"!==d.config.states.hover.filter.type&&h.getDefaultFilter(a,p)}},{key:"pathMouseDown",value:function(a,l){var d=this.w,h=new xn(this.ctx),p=parseInt(a.node.getAttribute("index"),10),g=parseInt(a.node.getAttribute("j"),10),m="false";if("true"===a.node.getAttribute("selected")){if(a.node.setAttribute("selected","false"),d.globals.selectedDataPoints[p].indexOf(g)>-1){var v=d.globals.selectedDataPoints[p].indexOf(g);d.globals.selectedDataPoints[p].splice(v,1)}}else{if(!d.config.states.active.allowMultipleDataPointsSelection&&d.globals.selectedDataPoints.length>0){d.globals.selectedDataPoints=[];var w=d.globals.dom.Paper.select(".apexcharts-series path").members,E=d.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,D=function(P){Array.prototype.forEach.call(P,function(L){L.node.setAttribute("selected","false"),h.getDefaultFilter(L,p)})};D(w),D(E)}a.node.setAttribute("selected","true"),m="true",void 0===d.globals.selectedDataPoints[p]&&(d.globals.selectedDataPoints[p]=[]),d.globals.selectedDataPoints[p].push(g)}if("true"===m){var k=d.config.states.active.filter;if("none"!==k)h.applyFilter(a,p,k.type,k.value);else if("none"!==d.config.states.hover.filter&&!d.globals.isTouchDevice){var O=d.config.states.hover.filter;h.applyFilter(a,p,O.type,O.value)}}else"none"!==d.config.states.active.filter.type&&("none"===d.config.states.hover.filter.type||d.globals.isTouchDevice?h.getDefaultFilter(a,p):h.applyFilter(a,p,(O=d.config.states.hover.filter).type,O.value));"function"==typeof d.config.chart.events.dataPointSelection&&d.config.chart.events.dataPointSelection(l,this.ctx,{selectedDataPoints:d.globals.selectedDataPoints,seriesIndex:p,dataPointIndex:g,w:d}),l&&this.ctx.events.fireEvent("dataPointSelection",[l,this.ctx,{selectedDataPoints:d.globals.selectedDataPoints,seriesIndex:p,dataPointIndex:g,w:d}])}},{key:"rotateAroundCenter",value:function(a){var l={};return a&&"function"==typeof a.getBBox&&(l=a.getBBox()),{x:l.x+l.width/2,y:l.y+l.height/2}}},{key:"getTextRects",value:function(a,l,d,h){var p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=this.w,m=this.drawText({x:-200,y:-200,text:a,textAnchor:"start",fontSize:l,fontFamily:d,foreColor:"#fff",opacity:0});h&&m.attr("transform",h),g.globals.dom.Paper.add(m);var v=m.bbox();return p||(v=m.node.getBoundingClientRect()),m.remove(),{width:v.width,height:v.height}}},{key:"placeTextWithEllipsis",value:function(a,l,d){if("function"==typeof a.getComputedTextLength&&(a.textContent=l,l.length>0&&a.getComputedTextLength()>=d/1.1)){for(var h=l.length-3;h>0;h-=3)if(a.getSubStringLength(0,h)<=d/1.1)return void(a.textContent=l.substring(0,h)+"...");a.textContent="."}}}],[{key:"setAttrs",value:function(a,l){for(var d in l)l.hasOwnProperty(d)&&a.setAttribute(d,l[d])}}]),V}(),Yt=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"getStackedSeriesTotals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=this.w,d=[];if(0===l.globals.series.length)return d;for(var h=0;h<l.globals.series[l.globals.maxValsInArrayIndex].length;h++){for(var p=0,g=0;g<l.globals.series.length;g++)void 0!==l.globals.series[g][h]&&-1===a.indexOf(g)&&(p+=l.globals.series[g][h]);d.push(p)}return d}},{key:"getSeriesTotalByIndex",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===a?this.w.config.series.reduce(function(l,d){return l+d},0):this.w.globals.series[a].reduce(function(l,d){return l+d},0)}},{key:"isSeriesNull",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===a?this.w.config.series.filter(function(l){return null!==l}):this.w.config.series[a].data.filter(function(l){return null!==l})).length}},{key:"seriesHaveSameValues",value:function(a){return this.w.globals.series[a].every(function(l,d,h){return l===h[0]})}},{key:"getCategoryLabels",value:function(a){var l=this.w,d=a.slice();return l.config.xaxis.convertedCatToNumeric&&(d=a.map(function(h,p){return l.config.xaxis.labels.formatter(h-l.globals.minX+1)})),d}},{key:"getLargestSeries",value:function(){var a=this.w;a.globals.maxValsInArrayIndex=a.globals.series.map(function(l){return l.length}).indexOf(Math.max.apply(Math,a.globals.series.map(function(l){return l.length})))}},{key:"getLargestMarkerSize",value:function(){var a=this.w,l=0;return a.globals.markers.size.forEach(function(d){l=Math.max(l,d)}),a.config.markers.discrete&&a.config.markers.discrete.length&&a.config.markers.discrete.forEach(function(d){l=Math.max(l,d.size)}),l>0&&(l+=a.config.markers.hover.sizeOffset+1),a.globals.markers.largestSize=l,l}},{key:"getSeriesTotals",value:function(){var a=this.w;a.globals.seriesTotals=a.globals.series.map(function(l,d){var h=0;if(Array.isArray(l))for(var p=0;p<l.length;p++)h+=l[p];else h+=l;return h})}},{key:"getSeriesTotalsXRange",value:function(a,l){var d=this.w;return d.globals.series.map(function(h,p){for(var g=0,m=0;m<h.length;m++)d.globals.seriesX[p][m]>a&&d.globals.seriesX[p][m]<l&&(g+=h[m]);return g})}},{key:"getPercentSeries",value:function(){var a=this.w;a.globals.seriesPercent=a.globals.series.map(function(l,d){var h=[];if(Array.isArray(l))for(var p=0;p<l.length;p++){var g=a.globals.stackedSeriesTotals[p],m=0;g&&(m=100*l[p]/g),h.push(m)}else{var v=100*l/a.globals.seriesTotals.reduce(function(w,E){return w+E},0);h.push(v)}return h})}},{key:"getCalculatedRatios",value:function(){var a,l,d,h,p=this.w.globals,g=[],m=0,v=[],w=.1,E=0;if(p.yRange=[],p.isMultipleYAxis)for(var D=0;D<p.minYArr.length;D++)p.yRange.push(Math.abs(p.minYArr[D]-p.maxYArr[D])),v.push(0);else p.yRange.push(Math.abs(p.minY-p.maxY));p.xRange=Math.abs(p.maxX-p.minX),p.zRange=Math.abs(p.maxZ-p.minZ);for(var k=0;k<p.yRange.length;k++)g.push(p.yRange[k]/p.gridHeight);if(l=p.xRange/p.gridWidth,d=Math.abs(p.initialMaxX-p.initialMinX)/p.gridWidth,a=p.yRange/p.gridWidth,h=p.xRange/p.gridHeight,(m=p.zRange/p.gridHeight*16)||(m=1),p.minY!==Number.MIN_VALUE&&0!==Math.abs(p.minY)&&(p.hasNegs=!0),p.isMultipleYAxis){v=[];for(var O=0;O<g.length;O++)v.push(-p.minYArr[O]/g[O])}else v.push(-p.minY/g[0]),p.minY!==Number.MIN_VALUE&&0!==Math.abs(p.minY)&&(w=-p.minY/a,E=p.minX/l);return{yRatio:g,invertedYRatio:a,zRatio:m,xRatio:l,initialXRatio:d,invertedXRatio:h,baseLineInvertedY:w,baseLineY:v,baseLineX:E}}},{key:"getLogSeries",value:function(a){var l=this,d=this.w;return d.globals.seriesLog=a.map(function(h,p){return d.config.yaxis[p]&&d.config.yaxis[p].logarithmic?h.map(function(g){return null===g?null:l.getLogVal(d.config.yaxis[p].logBase,g,p)}):h}),d.globals.invalidLogScale?a:d.globals.seriesLog}},{key:"getBaseLog",value:function(a,l){return Math.log(l)/Math.log(a)}},{key:"getLogVal",value:function(a,l,d){if(0===l)return 0;var h=this.w,p=0===h.globals.minYArr[d]?-1:this.getBaseLog(a,h.globals.minYArr[d]),g=(0===h.globals.maxYArr[d]?0:this.getBaseLog(a,h.globals.maxYArr[d]))-p;return l<1?l/g:(this.getBaseLog(a,l)-p)/g}},{key:"getLogYRatios",value:function(a){var l=this,d=this.w,h=this.w.globals;return h.yLogRatio=a.slice(),h.logYRange=h.yRange.map(function(p,g){if(d.config.yaxis[g]&&l.w.config.yaxis[g].logarithmic){var m,v=-Number.MAX_VALUE,w=Number.MIN_VALUE;return h.seriesLog.forEach(function(E,D){E.forEach(function(k){d.config.yaxis[D]&&d.config.yaxis[D].logarithmic&&(v=Math.max(k,v),w=Math.min(k,w))})}),m=Math.pow(h.yRange[g],Math.abs(w-v)/h.yRange[g]),h.yLogRatio[g]=m/h.gridHeight,m}}),h.invalidLogScale?a.slice():h.yLogRatio}}],[{key:"checkComboSeries",value:function(a){var l=!1,d=0,h=0;return a.length&&void 0!==a[0].type&&a.forEach(function(p){"bar"!==p.type&&"column"!==p.type&&"candlestick"!==p.type&&"boxPlot"!==p.type||d++,void 0!==p.type&&h++}),h>0&&(l=!0),{comboBarCount:d,comboCharts:l}}},{key:"extendArrayProps",value:function(a,l,d){return l.yaxis&&(l=a.extendYAxis(l,d)),l.annotations&&(l.annotations.yaxis&&(l=a.extendYAxisAnnotations(l)),l.annotations.xaxis&&(l=a.extendXAxisAnnotations(l)),l.annotations.points&&(l=a.extendPointAnnotations(l))),l}}]),V}(),br=function(){function V(a){Ge(this,V),this.w=a.w,this.annoCtx=a}return ut(V,[{key:"setOrientations",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("vertical"===a.label.orientation){var p=this.w.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(null!==l?l:0,"']"));if(null!==p){var g=p.getBoundingClientRect();p.setAttribute("x",parseFloat(p.getAttribute("x"))-g.height+4),p.setAttribute("y","top"===a.label.position?parseFloat(p.getAttribute("y"))+g.width:parseFloat(p.getAttribute("y"))-g.width);var m=this.annoCtx.graphics.rotateAroundCenter(p),w=m.y;p.setAttribute("transform","rotate(-90 ".concat(m.x," ").concat(w,")"))}}}},{key:"addBackgroundToAnno",value:function(a,l){var d=this.w;if(!a||void 0===l.label.text||void 0!==l.label.text&&!String(l.label.text).trim())return null;var h=d.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),p=a.getBoundingClientRect(),g=l.label.style.padding.left,m=l.label.style.padding.right,v=l.label.style.padding.top,w=l.label.style.padding.bottom;"vertical"===l.label.orientation&&(v=l.label.style.padding.left,w=l.label.style.padding.right,g=l.label.style.padding.top,m=l.label.style.padding.bottom);var k=this.annoCtx.graphics.drawRect(p.left-h.left-g-d.globals.barPadForNumericAxis,p.top-h.top-v,p.width+g+m,p.height+v+w,l.label.borderRadius,l.label.style.background,1,l.label.borderWidth,l.label.borderColor,0);return l.id&&k.node.classList.add(l.id),k}},{key:"annotationsBackground",value:function(){var a=this,l=this.w,d=function(h,p,g){var m=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(g,"-annotations .apexcharts-").concat(g,"-annotation-label[rel='").concat(p,"']"));if(m){var v=m.parentNode,w=a.addBackgroundToAnno(m,h);w&&(v.insertBefore(w.node,m),h.label.mouseEnter&&w.node.addEventListener("mouseenter",h.label.mouseEnter.bind(a,h)),h.label.mouseLeave&&w.node.addEventListener("mouseleave",h.label.mouseLeave.bind(a,h)),h.label.click&&w.node.addEventListener("click",h.label.click.bind(a,h)))}};l.config.annotations.xaxis.map(function(h,p){d(h,p,"xaxis")}),l.config.annotations.yaxis.map(function(h,p){d(h,p,"yaxis")}),l.config.annotations.points.map(function(h,p){d(h,p,"point")})}},{key:"getY1Y2",value:function(a,l){var d,h="y1"===a?l.y:l.y2,p=this.w;if(this.annoCtx.invertAxis){var g=p.globals.labels.indexOf(h);p.config.xaxis.convertedCatToNumeric&&(g=p.globals.categoryLabels.indexOf(h));var m=p.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(g+1)+")");m&&(d=parseFloat(m.getAttribute("y")))}else{var v;v=p.config.yaxis[l.yAxisIndex].logarithmic?(h=new Yt(this.annoCtx.ctx).getLogVal(h,l.yAxisIndex))/p.globals.yLogRatio[l.yAxisIndex]:(h-p.globals.minYArr[l.yAxisIndex])/(p.globals.yRange[l.yAxisIndex]/p.globals.gridHeight),d=p.globals.gridHeight-v,!l.marker||null!=l.y||(d=0),p.config.yaxis[l.yAxisIndex]&&p.config.yaxis[l.yAxisIndex].reversed&&(d=v)}return"string"==typeof h&&h.indexOf("px")>-1&&(d=parseFloat(h)),d}},{key:"getX1X2",value:function(a,l){var d=this.w,h=this.annoCtx.invertAxis?d.globals.minY:d.globals.minX,p=this.annoCtx.invertAxis?d.globals.maxY:d.globals.maxX,g=this.annoCtx.invertAxis?d.globals.yRange[0]:d.globals.xRange,m=(l.x-h)/(g/d.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(m=(p-l.x)/(g/d.globals.gridWidth)),"category"!==d.config.xaxis.type&&!d.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||d.globals.dataFormatXNumeric||(m=this.getStringX(l.x));var v=(l.x2-h)/(g/d.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(v=(p-l.x2)/(g/d.globals.gridWidth)),"category"!==d.config.xaxis.type&&!d.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||d.globals.dataFormatXNumeric||(v=this.getStringX(l.x2)),null!=l.x||!l.marker||(m=d.globals.gridWidth),"x1"===a&&"string"==typeof l.x&&l.x.indexOf("px")>-1&&(m=parseFloat(l.x)),"x2"===a&&"string"==typeof l.x2&&l.x2.indexOf("px")>-1&&(v=parseFloat(l.x2)),"x1"===a?m:v}},{key:"getStringX",value:function(a){var l=this.w,d=a;l.config.xaxis.convertedCatToNumeric&&l.globals.categoryLabels.length&&(a=l.globals.categoryLabels.indexOf(a)+1);var h=l.globals.labels.indexOf(a),p=l.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(h+1)+")");return p&&(d=parseFloat(p.getAttribute("x"))),d}}]),V}(),qi=function(){function V(a){Ge(this,V),this.w=a.w,this.annoCtx=a,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new br(this.annoCtx)}return ut(V,[{key:"addXaxisAnnotation",value:function(a,l,d){var h,p=this.w,g=this.helpers.getX1X2("x1",a),m=a.label.text,v=a.strokeDashArray;if(pe.isNumber(g)){if(null==a.x2){var w=this.annoCtx.graphics.drawLine(g+a.offsetX,0+a.offsetY,g+a.offsetX,p.globals.gridHeight+a.offsetY,a.borderColor,v,a.borderWidth);l.appendChild(w.node),a.id&&w.node.classList.add(a.id)}else{if((h=this.helpers.getX1X2("x2",a))<g){var E=g;g=h,h=E}var D=this.annoCtx.graphics.drawRect(g+a.offsetX,0+a.offsetY,h-g,p.globals.gridHeight+a.offsetY,0,a.fillColor,a.opacity,1,a.borderColor,v);D.node.classList.add("apexcharts-annotation-rect"),D.attr("clip-path","url(#gridRectMask".concat(p.globals.cuid,")")),l.appendChild(D.node),a.id&&D.node.classList.add(a.id)}var k=this.annoCtx.graphics.getTextRects(m,parseFloat(a.label.style.fontSize)),P=this.annoCtx.graphics.drawText({x:g+a.label.offsetX,y:("top"===a.label.position?4:"center"===a.label.position?p.globals.gridHeight/2+("vertical"===a.label.orientation?k.width/2:0):p.globals.gridHeight)+a.label.offsetY-("vertical"===a.label.orientation?"top"===a.label.position?k.width/2-12:-k.width/2:0),text:m,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});P.attr({rel:d}),l.appendChild(P.node),this.annoCtx.helpers.setOrientations(a,d)}}},{key:"drawXAxisAnnotations",value:function(){var a=this,l=this.w,d=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return l.config.annotations.xaxis.map(function(h,p){a.addXaxisAnnotation(h,d.node,p)}),d}}]),V}(),cn=function(){function V(a){Ge(this,V),this.w=a.w,this.annoCtx=a,this.helpers=new br(this.annoCtx)}return ut(V,[{key:"addYaxisAnnotation",value:function(a,l,d){var h,p=this.w,g=a.strokeDashArray,m=this.helpers.getY1Y2("y1",a),v=a.label.text;if(null==a.y2){var w=this.annoCtx.graphics.drawLine(0+a.offsetX,m+a.offsetY,this._getYAxisAnnotationWidth(a),m+a.offsetY,a.borderColor,g,a.borderWidth);l.appendChild(w.node),a.id&&w.node.classList.add(a.id)}else{if((h=this.helpers.getY1Y2("y2",a))>m){var E=m;m=h,h=E}var D=this.annoCtx.graphics.drawRect(0+a.offsetX,h+a.offsetY,this._getYAxisAnnotationWidth(a),m-h,0,a.fillColor,a.opacity,1,a.borderColor,g);D.node.classList.add("apexcharts-annotation-rect"),D.attr("clip-path","url(#gridRectMask".concat(p.globals.cuid,")")),l.appendChild(D.node),a.id&&D.node.classList.add(a.id)}var O=this.annoCtx.graphics.drawText({x:("right"===a.label.position?p.globals.gridWidth:"center"===a.label.position?p.globals.gridWidth/2:0)+a.label.offsetX,y:(h??m)+a.label.offsetY-3,text:v,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});O.attr({rel:d}),l.appendChild(O.node)}},{key:"_getYAxisAnnotationWidth",value:function(a){var l=this.w;return(a.width.indexOf("%")>-1?l.globals.gridWidth*parseInt(a.width,10)/100:parseInt(a.width,10))+a.offsetX}},{key:"drawYAxisAnnotations",value:function(){var a=this,l=this.w,d=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return l.config.annotations.yaxis.map(function(h,p){a.addYaxisAnnotation(h,d.node,p)}),d}}]),V}(),at=function(){function V(a){Ge(this,V),this.w=a.w,this.annoCtx=a,this.helpers=new br(this.annoCtx)}return ut(V,[{key:"addPointAnnotation",value:function(a,l,d){var h=this.helpers.getX1X2("x1",a),p=this.helpers.getY1Y2("y1",a);if(pe.isNumber(h)){var g={pSize:a.marker.size,pointStrokeWidth:a.marker.strokeWidth,pointFillColor:a.marker.fillColor,pointStrokeColor:a.marker.strokeColor,shape:a.marker.shape,pRadius:a.marker.radius,class:"apexcharts-point-annotation-marker ".concat(a.marker.cssClass," ").concat(a.id?a.id:"")},m=this.annoCtx.graphics.drawMarker(h+a.marker.offsetX,p+a.marker.offsetY,g);l.appendChild(m.node);var v=a.label.text?a.label.text:"",w=this.annoCtx.graphics.drawText({x:h+a.label.offsetX,y:p+a.label.offsetY-a.marker.size-parseFloat(a.label.style.fontSize)/1.6,text:v,textAnchor:a.label.textAnchor,fontSize:a.label.style.fontSize,fontFamily:a.label.style.fontFamily,fontWeight:a.label.style.fontWeight,foreColor:a.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(a.label.style.cssClass," ").concat(a.id?a.id:"")});if(w.attr({rel:d}),l.appendChild(w.node),a.customSVG.SVG){var E=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+a.customSVG.cssClass});E.attr({transform:"translate(".concat(h+a.customSVG.offsetX,", ").concat(p+a.customSVG.offsetY,")")}),E.node.innerHTML=a.customSVG.SVG,l.appendChild(E.node)}if(a.image.path){var D=a.image.width?a.image.width:20,k=a.image.height?a.image.height:20;m=this.annoCtx.addImage({x:h+a.image.offsetX-D/2,y:p+a.image.offsetY-k/2,width:D,height:k,path:a.image.path,appendTo:".apexcharts-point-annotations"})}a.mouseEnter&&m.node.addEventListener("mouseenter",a.mouseEnter.bind(this,a)),a.mouseLeave&&m.node.addEventListener("mouseleave",a.mouseLeave.bind(this,a)),a.click&&m.node.addEventListener("click",a.click.bind(this,a))}}},{key:"drawPointAnnotations",value:function(){var a=this,l=this.w,d=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return l.config.annotations.points.map(function(h,p){a.addPointAnnotation(h,d.node,p)}),d}}]),V}(),Mn={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},$n=function(){function V(){Ge(this,V),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return ut(V,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[Mn],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(a){return new Date(a).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(a){return a}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(a){return a+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(a){return a.globals.seriesTotals.reduce(function(l,d){return l+d},0)/a.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(a){return a}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(a){return a}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(a){return a.globals.seriesTotals.reduce(function(l,d){return l+d},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(a){return null!==a?a:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(a){return a?a+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),V}(),Bi=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.graphics=new Re(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new br(this),this.xAxisAnnotations=new qi(this),this.yAxisAnnotations=new cn(this),this.pointsAnnotations=new at(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return ut(V,[{key:"drawAxesAnnotations",value:function(){var a=this.w;if(a.globals.axisCharts){for(var l=this.yAxisAnnotations.drawYAxisAnnotations(),d=this.xAxisAnnotations.drawXAxisAnnotations(),h=this.pointsAnnotations.drawPointAnnotations(),p=a.config.chart.animations.enabled,g=[l,d,h],m=[d.node,l.node,h.node],v=0;v<3;v++)a.globals.dom.elGraphical.add(g[v]),!p||a.globals.resized||a.globals.dataChanged||"scatter"!==a.config.chart.type&&"bubble"!==a.config.chart.type&&a.globals.dataPoints>1&&m[v].classList.add("apexcharts-element-hidden"),a.globals.delayedElements.push({el:m[v],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var a=this;this.w.config.annotations.images.map(function(l,d){a.addImage(l,d)})}},{key:"drawTextAnnos",value:function(){var a=this;this.w.config.annotations.texts.map(function(l,d){a.addText(l,d)})}},{key:"addXaxisAnnotation",value:function(a,l,d){this.xAxisAnnotations.addXaxisAnnotation(a,l,d)}},{key:"addYaxisAnnotation",value:function(a,l,d){this.yAxisAnnotations.addYaxisAnnotation(a,l,d)}},{key:"addPointAnnotation",value:function(a,l,d){this.pointsAnnotations.addPointAnnotation(a,l,d)}},{key:"addText",value:function(a,l){var p=a.text,k=a.backgroundColor,O=a.borderWidth,P=a.strokeDashArray,L=a.borderRadius,z=a.borderColor,$=a.appendTo,K=void 0===$?".apexcharts-annotations":$,b=a.paddingLeft,I=void 0===b?4:b,N=a.paddingRight,U=void 0===N?4:N,Q=a.paddingBottom,q=void 0===Q?2:Q,ye=a.paddingTop,_e=void 0===ye?2:ye,Oe=this.w,ce=this.graphics.drawText({x:a.x,y:a.y,text:p,textAnchor:a.textAnchor||"start",fontSize:a.fontSize||"12px",fontWeight:a.fontWeight||"regular",fontFamily:a.fontFamily||Oe.config.chart.fontFamily,foreColor:a.foreColor||Oe.config.chart.foreColor,cssClass:a.cssClass}),qe=Oe.globals.dom.baseEl.querySelector(K);qe&&qe.appendChild(ce.node);var ke=ce.bbox();if(p){var xt=this.graphics.drawRect(ke.x-I,ke.y-_e,ke.width+I+U,ke.height+q+_e,L,k||"transparent",1,O,z,P);qe.insertBefore(xt.node,ce.node)}}},{key:"addImage",value:function(a,l){var d=this.w,p=a.x,g=void 0===p?0:p,m=a.y,v=void 0===m?0:m,w=a.width,E=void 0===w?20:w,D=a.height,k=void 0===D?20:D,O=a.appendTo,P=void 0===O?".apexcharts-annotations":O,L=d.globals.dom.Paper.image(a.path);L.size(E,k).move(g,v);var z=d.globals.dom.baseEl.querySelector(P);return z&&z.appendChild(L.node),L}},{key:"addXaxisAnnotationExternal",value:function(a,l,d){return this.addAnnotationExternal({params:a,pushToMemory:l,context:d,type:"xaxis",contextMethod:d.addXaxisAnnotation}),d}},{key:"addYaxisAnnotationExternal",value:function(a,l,d){return this.addAnnotationExternal({params:a,pushToMemory:l,context:d,type:"yaxis",contextMethod:d.addYaxisAnnotation}),d}},{key:"addPointAnnotationExternal",value:function(a,l,d){return void 0===this.invertAxis&&(this.invertAxis=d.w.globals.isBarHorizontal),this.addAnnotationExternal({params:a,pushToMemory:l,context:d,type:"point",contextMethod:d.addPointAnnotation}),d}},{key:"addAnnotationExternal",value:function(a){var l=a.params,d=a.pushToMemory,h=a.context,p=a.type,g=a.contextMethod,m=h,v=m.w,w=v.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-annotations")),E=w.childNodes.length+1,D=new $n,k=Object.assign({},"xaxis"===p?D.xAxisAnnotation:"yaxis"===p?D.yAxisAnnotation:D.pointAnnotation),O=pe.extend(k,l);switch(p){case"xaxis":this.addXaxisAnnotation(O,w,E);break;case"yaxis":this.addYaxisAnnotation(O,w,E);break;case"point":this.addPointAnnotation(O,w,E)}var P=v.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-annotations .apexcharts-").concat(p,"-annotation-label[rel='").concat(E,"']")),L=this.helpers.addBackgroundToAnno(P,O);return L&&w.insertBefore(L.node,P),d&&v.globals.memory.methodsToExec.push({context:m,id:O.id?O.id:pe.randomId(),method:g,label:"addAnnotation",params:l}),h}},{key:"clearAnnotations",value:function(a){var l=a.w,d=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");l.globals.memory.methodsToExec.map(function(h,p){"addText"!==h.label&&"addAnnotation"!==h.label||l.globals.memory.methodsToExec.splice(p,1)}),d=pe.listToArray(d),Array.prototype.forEach.call(d,function(h){for(;h.firstChild;)h.removeChild(h.firstChild)})}},{key:"removeAnnotation",value:function(a,l){var d=a.w,h=d.globals.dom.baseEl.querySelectorAll(".".concat(l));h&&(d.globals.memory.methodsToExec.map(function(p,g){p.id===l&&d.globals.memory.methodsToExec.splice(g,1)}),Array.prototype.forEach.call(h,function(p){p.parentElement.removeChild(p)}))}}]),V}(),fn=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return ut(V,[{key:"isValidDate",value:function(a){return!isNaN(this.parseDate(a))}},{key:"getTimeStamp",value:function(a){return Date.parse(a)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(a).toISOString().substr(0,25)).getTime():new Date(a).getTime():a}},{key:"getDate",value:function(a){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(a).toUTCString()):new Date(a)}},{key:"parseDate",value:function(a){var l=Date.parse(a);if(!isNaN(l))return this.getTimeStamp(a);var d=Date.parse(a.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(d)}},{key:"parseDateWithTimezone",value:function(a){return Date.parse(a.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(a,l){var d=this.w.globals.locale,h=this.w.config.xaxis.labels.datetimeUTC,p=["\0"].concat(kn(d.months)),g=["\x01"].concat(kn(d.shortMonths)),m=["\x02"].concat(kn(d.days)),v=["\x03"].concat(kn(d.shortDays));function w(q,ye){var _e=q+"";for(ye=ye||2;_e.length<ye;)_e="0"+_e;return _e}var E=h?a.getUTCFullYear():a.getFullYear();l=(l=(l=l.replace(/(^|[^\\])yyyy+/g,"$1"+E)).replace(/(^|[^\\])yy/g,"$1"+E.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+E);var D=(h?a.getUTCMonth():a.getMonth())+1;l=(l=(l=(l=l.replace(/(^|[^\\])MMMM+/g,"$1"+p[0])).replace(/(^|[^\\])MMM/g,"$1"+g[0])).replace(/(^|[^\\])MM/g,"$1"+w(D))).replace(/(^|[^\\])M/g,"$1"+D);var k=h?a.getUTCDate():a.getDate();l=(l=(l=(l=l.replace(/(^|[^\\])dddd+/g,"$1"+m[0])).replace(/(^|[^\\])ddd/g,"$1"+v[0])).replace(/(^|[^\\])dd/g,"$1"+w(k))).replace(/(^|[^\\])d/g,"$1"+k);var O=h?a.getUTCHours():a.getHours(),P=O>12?O-12:0===O?12:O;l=(l=(l=(l=l.replace(/(^|[^\\])HH+/g,"$1"+w(O))).replace(/(^|[^\\])H/g,"$1"+O)).replace(/(^|[^\\])hh+/g,"$1"+w(P))).replace(/(^|[^\\])h/g,"$1"+P);var L=h?a.getUTCMinutes():a.getMinutes();l=(l=l.replace(/(^|[^\\])mm+/g,"$1"+w(L))).replace(/(^|[^\\])m/g,"$1"+L);var z=h?a.getUTCSeconds():a.getSeconds();l=(l=l.replace(/(^|[^\\])ss+/g,"$1"+w(z))).replace(/(^|[^\\])s/g,"$1"+z);var $=h?a.getUTCMilliseconds():a.getMilliseconds();l=l.replace(/(^|[^\\])fff+/g,"$1"+w($,3)),$=Math.round($/10),l=l.replace(/(^|[^\\])ff/g,"$1"+w($)),$=Math.round($/10);var K=O<12?"AM":"PM";l=(l=(l=l.replace(/(^|[^\\])f/g,"$1"+$)).replace(/(^|[^\\])TT+/g,"$1"+K)).replace(/(^|[^\\])T/g,"$1"+K.charAt(0));var b=K.toLowerCase();l=(l=l.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var I=-a.getTimezoneOffset(),N=h||!I?"Z":I>0?"+":"-";if(!h){var U=(I=Math.abs(I))%60;N+=w(Math.floor(I/60))+":"+w(U)}l=l.replace(/(^|[^\\])K/g,"$1"+N);var Q=(h?a.getUTCDay():a.getDay())+1;return(l=(l=(l=(l=l.replace(new RegExp(m[0],"g"),m[Q])).replace(new RegExp(v[0],"g"),v[Q])).replace(new RegExp(p[0],"g"),p[D])).replace(new RegExp(g[0],"g"),g[D])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(a,l,d){var h=this.w;void 0!==h.config.xaxis.min&&(a=h.config.xaxis.min),void 0!==h.config.xaxis.max&&(l=h.config.xaxis.max);var p=this.getDate(a),g=this.getDate(l),m=this.formatDate(p,"yyyy MM dd HH mm ss fff").split(" "),v=this.formatDate(g,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(m[6],10),maxMillisecond:parseInt(v[6],10),minSecond:parseInt(m[5],10),maxSecond:parseInt(v[5],10),minMinute:parseInt(m[4],10),maxMinute:parseInt(v[4],10),minHour:parseInt(m[3],10),maxHour:parseInt(v[3],10),minDate:parseInt(m[2],10),maxDate:parseInt(v[2],10),minMonth:parseInt(m[1],10)-1,maxMonth:parseInt(v[1],10)-1,minYear:parseInt(m[0],10),maxYear:parseInt(v[0],10)}}},{key:"isLeapYear",value:function(a){return a%4==0&&a%100!=0||a%400==0}},{key:"calculcateLastDaysOfMonth",value:function(a,l,d){return this.determineDaysOfMonths(a,l)-d}},{key:"determineDaysOfYear",value:function(a){var l=365;return this.isLeapYear(a)&&(l=366),l}},{key:"determineRemainingDaysOfYear",value:function(a,l,d){var h=this.daysCntOfYear[l]+d;return l>1&&this.isLeapYear()&&h++,h}},{key:"determineDaysOfMonths",value:function(a,l){var d=30;switch(a=pe.monthMod(a),!0){case this.months30.indexOf(a)>-1:2===a&&(d=this.isLeapYear(l)?29:28);break;case this.months31.indexOf(a)>-1:default:d=31}return d}}]),V}(),Fr=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.tooltipKeyFormat="dd MMM"}return ut(V,[{key:"xLabelFormat",value:function(a,l,d,h){var p=this.w;if("datetime"===p.config.xaxis.type&&void 0===p.config.xaxis.labels.formatter&&void 0===p.config.tooltip.x.formatter){var g=new fn(this.ctx);return g.formatDate(g.getDate(l),p.config.tooltip.x.format)}return a(l,d,h)}},{key:"defaultGeneralFormatter",value:function(a){return Array.isArray(a)?a.map(function(l){return l}):a}},{key:"defaultYFormatter",value:function(a,l,d){var h=this.w;return pe.isNumber(a)&&(a=a.toFixed(0!==h.globals.yValueDecimal?void 0!==l.decimalsInFloat?l.decimalsInFloat:h.globals.yValueDecimal:h.globals.maxYArr[d]-h.globals.minYArr[d]<5?1:0)),a}},{key:"setLabelFormatters",value:function(){var a=this,l=this.w;return l.globals.xaxisTooltipFormatter=function(d){return a.defaultGeneralFormatter(d)},l.globals.ttKeyFormatter=function(d){return a.defaultGeneralFormatter(d)},l.globals.ttZFormatter=function(d){return d},l.globals.legendFormatter=function(d){return a.defaultGeneralFormatter(d)},l.globals.xLabelFormatter=void 0!==l.config.xaxis.labels.formatter?l.config.xaxis.labels.formatter:function(d){if(pe.isNumber(d)){if(!l.config.xaxis.convertedCatToNumeric&&"numeric"===l.config.xaxis.type){if(pe.isNumber(l.config.xaxis.decimalsInFloat))return d.toFixed(l.config.xaxis.decimalsInFloat);var h=l.globals.maxX-l.globals.minX;return d.toFixed(h>0&&h<100?1:0)}return d.toFixed(l.globals.isBarHorizontal&&l.globals.maxY-l.globals.minYArr<4?1:0)}return d},l.globals.ttKeyFormatter="function"==typeof l.config.tooltip.x.formatter?l.config.tooltip.x.formatter:l.globals.xLabelFormatter,"function"==typeof l.config.xaxis.tooltip.formatter&&(l.globals.xaxisTooltipFormatter=l.config.xaxis.tooltip.formatter),(Array.isArray(l.config.tooltip.y)||void 0!==l.config.tooltip.y.formatter)&&(l.globals.ttVal=l.config.tooltip.y),void 0!==l.config.tooltip.z.formatter&&(l.globals.ttZFormatter=l.config.tooltip.z.formatter),void 0!==l.config.legend.formatter&&(l.globals.legendFormatter=l.config.legend.formatter),l.config.yaxis.forEach(function(d,h){l.globals.yLabelFormatters[h]=void 0!==d.labels.formatter?d.labels.formatter:function(p){return l.globals.xyCharts?Array.isArray(p)?p.map(function(g){return a.defaultYFormatter(g,d,h)}):a.defaultYFormatter(p,d,h):p}}),l.globals}},{key:"heatmapLabelFormatters",value:function(){var a=this.w;if("heatmap"===a.config.chart.type){a.globals.yAxisScale[0].result=a.globals.seriesNames.slice();var l=a.globals.seriesNames.reduce(function(d,h){return d.length>h.length?d:h},0);a.globals.yAxisScale[0].niceMax=l,a.globals.yAxisScale[0].niceMin=l}}}]),V}(),os=function(V){var a,l=V.isTimeline,d=V.ctx,h=V.seriesIndex,p=V.dataPointIndex,g=V.y1,m=V.y2,v=V.w,w=v.globals.seriesRangeStart[h][p],E=v.globals.seriesRangeEnd[h][p],D=v.globals.labels[p],k=v.config.series[h].name?v.config.series[h].name:"",O=v.globals.ttKeyFormatter,P=v.config.tooltip.y.title.formatter,L={w:v,seriesIndex:h,dataPointIndex:p,start:w,end:E};"function"==typeof P&&(k=P(k,L)),null!==(a=v.config.series[h].data[p])&&void 0!==a&&a.x&&(D=v.config.series[h].data[p].x),l||"datetime"===v.config.xaxis.type&&(D=new Fr(d).xLabelFormat(v.globals.ttKeyFormatter,D,D,{i:void 0,dateFormatter:new fn(d).formatDate,w:v})),"function"==typeof O&&(D=O(D,L)),Number.isFinite(g)&&Number.isFinite(m)&&(w=g,E=m);var z="",$="",K=v.globals.colors[h];if(void 0===v.config.tooltip.x.formatter)if("datetime"===v.config.xaxis.type){var b=new fn(d);z=b.formatDate(b.getDate(w),v.config.tooltip.x.format),$=b.formatDate(b.getDate(E),v.config.tooltip.x.format)}else z=w,$=E;else z=v.config.tooltip.x.formatter(w),$=v.config.tooltip.x.formatter(E);return{start:w,end:E,startVal:z,endVal:$,ylabel:D,color:K,seriesName:k}},zt=function(V){var a=V.color,l=V.seriesName,d=V.ylabel,h=V.start,p=V.end,g=V.seriesIndex,m=V.dataPointIndex,v=V.ctx.tooltip.tooltipLabels.getFormatters(g);h=v.yLbFormatter(h),p=v.yLbFormatter(p);var w=v.yLbFormatter(V.w.globals.series[g][m]),E='<span class="value start-value">\n  '.concat(h,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(p,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+a+'">'+(l||"")+'</span></div><div> <span class="category">'+d+": </span> "+(V.w.globals.comboCharts?"rangeArea"===V.w.config.series[g].type||"rangeBar"===V.w.config.series[g].type?E:"<span>".concat(w,"</span>"):E)+" </div></div>"},fr=function(){function V(a){Ge(this,V),this.opts=a}return ut(V,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(a){return this.hideYAxis(),pe.extend(a,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),ae(ae({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var a=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return a._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var a=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return a._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(a,l){var d=l.seriesIndex,h=l.dataPointIndex,p=l.w,g=function(){return p.globals.seriesRangeEnd[d][h]-p.globals.seriesRangeStart[d][h]};return p.globals.comboCharts?"rangeBar"===p.config.series[d].type||"rangeArea"===p.config.series[d].type?g():a:g()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(a){return a.w.config.plotOptions&&a.w.config.plotOptions.bar&&a.w.config.plotOptions.bar.horizontal?(h=(d=os(ae(ae({},l=a),{},{isTimeline:!0}))).color,p=d.seriesName,g=d.ylabel,m=d.startVal,v=d.endVal,zt(ae(ae({},l),{},{color:h,seriesName:p,ylabel:g,start:m,end:v}))):function(l){var d=os(l),h=d.color,p=d.seriesName,g=d.ylabel,m=d.start,v=d.end;return zt(ae(ae({},l),{},{color:h,seriesName:p,ylabel:g,start:m,end:v}))}(a);var l,d,h,p,g,m,v}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(a){var l,d;return null!==(l=a.plotOptions.bar)&&void 0!==l&&l.barHeight||(a.plotOptions.bar.barHeight=2),null!==(d=a.plotOptions.bar)&&void 0!==d&&d.columnWidth||(a.plotOptions.bar.columnWidth=2),a}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(a){return h=(d=os(l=a)).color,p=d.seriesName,g=d.ylabel,m=d.start,v=d.end,zt(ae(ae({},l),{},{color:h,seriesName:p,ylabel:g,start:m,end:v}));var l,d,h,p,g,m,v}}}}},{key:"brush",value:function(a){return pe.extend(a,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(a){a.dataLabels=a.dataLabels||{},a.dataLabels.formatter=a.dataLabels.formatter||void 0;var l=a.dataLabels.formatter;return a.yaxis.forEach(function(d,h){a.yaxis[h].min=0,a.yaxis[h].max=100}),"bar"===a.chart.type&&(a.dataLabels.formatter=l||function(d){return"number"==typeof d&&d?d.toFixed(0)+"%":d}),a}},{key:"stackedBars",value:function(){var a=this.bar();return ae(ae({},a),{},{plotOptions:ae(ae({},a.plotOptions),{},{bar:ae(ae({},a.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(a){return a.xaxis.convertedCatToNumeric=!0,a}},{key:"convertCatToNumericXaxis",value:function(a,l,d){a.xaxis.type="numeric",a.xaxis.labels=a.xaxis.labels||{},a.xaxis.labels.formatter=a.xaxis.labels.formatter||function(g){return pe.isNumber(g)?Math.floor(g):g};var h=a.xaxis.labels.formatter,p=a.xaxis.categories&&a.xaxis.categories.length?a.xaxis.categories:a.labels;return d&&d.length&&(p=d.map(function(g){return Array.isArray(g)?g:String(g)})),p&&p.length&&(a.xaxis.labels.formatter=function(g){return pe.isNumber(g)?h(p[Math.floor(g)-1]):h(g)}),a.xaxis.categories=[],a.labels=[],a.xaxis.tickAmount=a.xaxis.tickAmount||"dataPoints",a}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(a){return a.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(a){return a},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(a,l,d,h,p){var g=a.globals.seriesCandleO[l][d],m=a.globals.seriesCandleH[l][d],v=a.globals.seriesCandleM[l][d],w=a.globals.seriesCandleL[l][d],E=a.globals.seriesCandleC[l][d];return a.config.series[l].type&&a.config.series[l].type!==p?'<div class="apexcharts-custom-tooltip">\n          '.concat(a.config.series[l].name?a.config.series[l].name:"series-"+(l+1),": <strong>").concat(a.globals.series[l][d],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(a.config.chart.type,'">')+"<div>".concat(h[0],': <span class="value">')+g+"</span></div>"+"<div>".concat(h[1],': <span class="value">')+m+"</span></div>"+(v?"<div>".concat(h[2],': <span class="value">')+v+"</span></div>":"")+"<div>".concat(h[3],': <span class="value">')+w+"</span></div>"+"<div>".concat(h[4],': <span class="value">')+E+"</span></div></div>"}}]),V}(),Vr=function(){function V(a){Ge(this,V),this.opts=a}return ut(V,[{key:"init",value:function(a){var l=a.responsiveOverride,d=this.opts,h=new $n,p=new fr(d);this.chartType=d.chart.type,d=this.extendYAxis(d),d=this.extendAnnotations(d);var g=h.init(),m={};if(d&&"object"===bt(d)){var v,w,E,D,k,O,P,L,z,$,K={};K=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(d.chart.type)?p[d.chart.type]():p.line(),null!==(v=d.plotOptions)&&void 0!==v&&null!==(w=v.bar)&&void 0!==w&&w.isFunnel&&(K=p.funnel()),d.chart.stacked&&"bar"===d.chart.type&&(K=p.stackedBars()),null!==(E=d.chart.brush)&&void 0!==E&&E.enabled&&(K=p.brush(K)),d.chart.stacked&&"100%"===d.chart.stackType&&(d=p.stacked100(d)),null!==(D=d.plotOptions)&&void 0!==D&&null!==(k=D.bar)&&void 0!==k&&k.isDumbbell&&(d=p.dumbbell(d)),"monotoneCubic"===(null===(O=d)||void 0===O||null===(P=O.stroke)||void 0===P?void 0:P.curve)&&(d.stroke.curve="smooth"),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(d),d.xaxis=d.xaxis||window.Apex.xaxis||{},l||(d.xaxis.convertedCatToNumeric=!1),(null!==(L=(d=this.checkForCatToNumericXAxis(this.chartType,K,d)).chart.sparkline)&&void 0!==L&&L.enabled||null!==(z=window.Apex.chart)&&void 0!==z&&null!==($=z.sparkline)&&void 0!==$&&$.enabled)&&(K=p.sparkline(K)),m=pe.extend(g,K)}var b=pe.extend(m,window.Apex);return g=pe.extend(b,d),this.handleUserInputErrors(g)}},{key:"checkForCatToNumericXAxis",value:function(a,l,d){var h,p,g=new fr(d);return("bar"===a||"boxPlot"===a)&&(null===(h=d.plotOptions)||void 0===h||null===(p=h.bar)||void 0===p?void 0:p.horizontal)||"pie"===a||"polarArea"===a||"donut"===a||"radar"===a||"radialBar"===a||"heatmap"===a||!("datetime"!==d.xaxis.type&&"numeric"!==d.xaxis.type)||"between"===(d.xaxis.tickPlacement?d.xaxis.tickPlacement:l.xaxis&&l.xaxis.tickPlacement)||(d=g.convertCatToNumeric(d)),d}},{key:"extendYAxis",value:function(a,l){var d=new $n;(void 0===a.yaxis||!a.yaxis||Array.isArray(a.yaxis)&&0===a.yaxis.length)&&(a.yaxis={}),a.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(a.yaxis=pe.extend(a.yaxis,window.Apex.yaxis)),a.yaxis=a.yaxis.constructor!==Array?[pe.extend(d.yAxis,a.yaxis)]:pe.extendArray(a.yaxis,d.yAxis);var h=!1;a.yaxis.forEach(function(g){g.logarithmic&&(h=!0)});var p=a.series;return l&&!p&&(p=l.config.series),h&&p.length!==a.yaxis.length&&p.length&&(a.yaxis=p.map(function(g,m){if(g.name||(p[m].name="series-".concat(m+1)),a.yaxis[m])return a.yaxis[m].seriesName=p[m].name,a.yaxis[m];var v=pe.extend(d.yAxis,a.yaxis[0]);return v.show=!1,v})),h&&p.length>1&&p.length!==a.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),a}},{key:"extendAnnotations",value:function(a){return void 0===a.annotations&&(a.annotations={},a.annotations.yaxis=[],a.annotations.xaxis=[],a.annotations.points=[]),a=this.extendYAxisAnnotations(a),a=this.extendXAxisAnnotations(a),this.extendPointAnnotations(a)}},{key:"extendYAxisAnnotations",value:function(a){var l=new $n;return a.annotations.yaxis=pe.extendArray(void 0!==a.annotations.yaxis?a.annotations.yaxis:[],l.yAxisAnnotation),a}},{key:"extendXAxisAnnotations",value:function(a){var l=new $n;return a.annotations.xaxis=pe.extendArray(void 0!==a.annotations.xaxis?a.annotations.xaxis:[],l.xAxisAnnotation),a}},{key:"extendPointAnnotations",value:function(a){var l=new $n;return a.annotations.points=pe.extendArray(void 0!==a.annotations.points?a.annotations.points:[],l.pointAnnotation),a}},{key:"checkForDarkTheme",value:function(a){a.theme&&"dark"===a.theme.mode&&(a.tooltip||(a.tooltip={}),"light"!==a.tooltip.theme&&(a.tooltip.theme="dark"),a.chart.foreColor||(a.chart.foreColor="#f6f7f8"),a.chart.background||(a.chart.background="#424242"),a.theme.palette||(a.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(a){var l=a;if(l.tooltip.shared&&l.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===l.chart.type&&l.plotOptions.bar.horizontal){if(l.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");l.yaxis[0].reversed&&(l.yaxis[0].opposite=!0),l.xaxis.tooltip.enabled=!1,l.yaxis[0].tooltip.enabled=!1,l.chart.zoom.enabled=!1}return"bar"!==l.chart.type&&"rangeBar"!==l.chart.type||l.tooltip.shared&&"barWidth"===l.xaxis.crosshairs.width&&l.series.length>1&&(l.xaxis.crosshairs.width="tickWidth"),"candlestick"!==l.chart.type&&"boxPlot"!==l.chart.type||l.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(l.chart.type," chart is not supported.")),l.yaxis[0].reversed=!1),l}}]),V}(),Me=function(){function V(){Ge(this,V)}return ut(V,[{key:"initGlobalVars",value:function(a){a.series=[],a.seriesCandleO=[],a.seriesCandleH=[],a.seriesCandleM=[],a.seriesCandleL=[],a.seriesCandleC=[],a.seriesRangeStart=[],a.seriesRangeEnd=[],a.seriesRange=[],a.seriesPercent=[],a.seriesGoals=[],a.seriesX=[],a.seriesZ=[],a.seriesNames=[],a.seriesTotals=[],a.seriesLog=[],a.seriesColors=[],a.stackedSeriesTotals=[],a.seriesXvalues=[],a.seriesYvalues=[],a.labels=[],a.hasXaxisGroups=!1,a.groups=[],a.hasSeriesGroups=!1,a.seriesGroups=[],a.categoryLabels=[],a.timescaleLabels=[],a.noLabelsProvided=!1,a.resizeTimer=null,a.selectionResizeTimer=null,a.delayedElements=[],a.pointsArray=[],a.dataLabelsRects=[],a.isXNumeric=!1,a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1,a.isDataXYZ=!1,a.isMultiLineX=!1,a.isMultipleYAxis=!1,a.maxY=-Number.MAX_VALUE,a.minY=Number.MIN_VALUE,a.minYArr=[],a.maxYArr=[],a.maxX=-Number.MAX_VALUE,a.minX=Number.MAX_VALUE,a.initialMaxX=-Number.MAX_VALUE,a.initialMinX=Number.MAX_VALUE,a.maxDate=0,a.minDate=Number.MAX_VALUE,a.minZ=Number.MAX_VALUE,a.maxZ=-Number.MAX_VALUE,a.minXDiff=Number.MAX_VALUE,a.yAxisScale=[],a.xAxisScale=null,a.xAxisTicksPositions=[],a.yLabelsCoords=[],a.yTitleCoords=[],a.barPadForNumericAxis=0,a.padHorizontal=0,a.xRange=0,a.yRange=[],a.zRange=0,a.dataPoints=0,a.xTickAmount=0}},{key:"globalVars",value:function(a){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:a.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.zoom&&a.chart.zoom.enabled,panEnabled:"pan"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.pan,selectionEnabled:"selection"===a.chart.toolbar.autoSelected&&a.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(a){var l=this.globalVars(a);return this.initGlobalVars(l),l.initialConfig=pe.extend({},a),l.initialSeries=pe.clone(a.series),l.lastXAxis=pe.clone(l.initialConfig.xaxis),l.lastYAxis=pe.clone(l.initialConfig.yaxis),l}}]),V}(),Fe=function(){function V(a){Ge(this,V),this.opts=a}return ut(V,[{key:"init",value:function(){var a=new Vr(this.opts).init({responsiveOverride:!1});return{config:a,globals:(new Me).init(a)}}}]),V}(),ve=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.opts=null,this.seriesIndex=0}return ut(V,[{key:"clippedImgArea",value:function(a){var l=this.w,d=l.config,h=parseInt(l.globals.gridWidth,10),p=parseInt(l.globals.gridHeight,10),g=h>p?h:p,m=a.image,v=0,w=0;void 0===a.width&&void 0===a.height?void 0!==d.fill.image.width&&void 0!==d.fill.image.height?(v=d.fill.image.width+1,w=d.fill.image.height):(v=g+1,w=g):(v=a.width,w=a.height);var E=document.createElementNS(l.globals.SVGNS,"pattern");Re.setAttrs(E,{id:a.patternID,patternUnits:a.patternUnits?a.patternUnits:"userSpaceOnUse",width:v+"px",height:w+"px"});var D=document.createElementNS(l.globals.SVGNS,"image");E.appendChild(D),D.setAttributeNS(window.SVG.xlink,"href",m),Re.setAttrs(D,{x:0,y:0,preserveAspectRatio:"none",width:v+"px",height:w+"px"}),D.style.opacity=a.opacity,l.globals.dom.elDefs.node.appendChild(E)}},{key:"getSeriesIndex",value:function(a){var l=this.w,d=l.config.chart.type;return this.seriesIndex=("bar"===d||"rangeBar"===d)&&l.config.plotOptions.bar.distributed||"heatmap"===d||"treemap"===d?a.seriesNumber:a.seriesNumber%l.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(a){var l=this.w;this.opts=a;var d,h,p,g=this.w.config;this.seriesIndex=this.getSeriesIndex(a);var m=this.getFillColors()[this.seriesIndex];void 0!==l.globals.seriesColors[this.seriesIndex]&&(m=l.globals.seriesColors[this.seriesIndex]),"function"==typeof m&&(m=m({seriesIndex:this.seriesIndex,dataPointIndex:a.dataPointIndex,value:a.value,w:l}));var v=a.fillType?a.fillType:this.getFillType(this.seriesIndex),w=Array.isArray(g.fill.opacity)?g.fill.opacity[this.seriesIndex]:g.fill.opacity;a.color&&(m=a.color),m||(m="#fff",console.warn("undefined color - ApexCharts"));var E=m;if(-1===m.indexOf("rgb")?m.length<9&&(E=pe.hexToRgba(m,w)):m.indexOf("rgba")>-1&&(w=pe.getOpacityFromRGBA(m)),a.opacity&&(w=a.opacity),"pattern"===v&&(h=this.handlePatternFill({fillConfig:a.fillConfig,patternFill:h,fillColor:m,fillOpacity:w,defaultColor:E})),"gradient"===v&&(p=this.handleGradientFill({fillConfig:a.fillConfig,fillColor:m,fillOpacity:w,i:this.seriesIndex})),"image"===v){var D=g.fill.image.src,k=a.patternID?a.patternID:"";this.clippedImgArea({opacity:w,image:Array.isArray(D)?a.seriesNumber<D.length?D[a.seriesNumber]:D[0]:D,width:a.width?a.width:void 0,height:a.height?a.height:void 0,patternUnits:a.patternUnits,patternID:"pattern".concat(l.globals.cuid).concat(a.seriesNumber+1).concat(k)}),d="url(#pattern".concat(l.globals.cuid).concat(a.seriesNumber+1).concat(k,")")}else d="gradient"===v?p:"pattern"===v?h:E;return a.solid&&(d=E),d}},{key:"getFillType",value:function(a){var l=this.w;return Array.isArray(l.config.fill.type)?l.config.fill.type[a]:l.config.fill.type}},{key:"getFillColors",value:function(){var a=this.w,l=a.config,d=this.opts,h=[];return a.globals.comboCharts?"line"===a.config.series[this.seriesIndex].type?Array.isArray(a.globals.stroke.colors)?h=a.globals.stroke.colors:h.push(a.globals.stroke.colors):Array.isArray(a.globals.fill.colors)?h=a.globals.fill.colors:h.push(a.globals.fill.colors):"line"===l.chart.type?Array.isArray(a.globals.stroke.colors)?h=a.globals.stroke.colors:h.push(a.globals.stroke.colors):Array.isArray(a.globals.fill.colors)?h=a.globals.fill.colors:h.push(a.globals.fill.colors),void 0!==d.fillColors&&(h=[],Array.isArray(d.fillColors)?h=d.fillColors.slice():h.push(d.fillColors)),h}},{key:"handlePatternFill",value:function(a){var l=a.fillConfig,h=a.fillColor,p=a.fillOpacity,g=a.defaultColor,m=this.w.config.fill;l&&(m=l);var v=this.opts,w=new Re(this.ctx),E=Array.isArray(m.pattern.strokeWidth)?m.pattern.strokeWidth[this.seriesIndex]:m.pattern.strokeWidth,D=h;return Array.isArray(m.pattern.style)?void 0!==m.pattern.style[v.seriesNumber]?w.drawPattern(m.pattern.style[v.seriesNumber],m.pattern.width,m.pattern.height,D,E,p):g:w.drawPattern(m.pattern.style,m.pattern.width,m.pattern.height,D,E,p)}},{key:"handleGradientFill",value:function(a){var l=a.fillColor,d=a.fillOpacity,h=a.fillConfig,p=a.i,g=this.w.config.fill;h&&(g=ae(ae({},g),h));var m,v=this.opts,w=new Re(this.ctx),E=new pe,D=g.gradient.type,k=l,O=void 0===g.gradient.opacityFrom?d:Array.isArray(g.gradient.opacityFrom)?g.gradient.opacityFrom[p]:g.gradient.opacityFrom;k.indexOf("rgba")>-1&&(O=pe.getOpacityFromRGBA(k));var P=void 0===g.gradient.opacityTo?d:Array.isArray(g.gradient.opacityTo)?g.gradient.opacityTo[p]:g.gradient.opacityTo;if(void 0===g.gradient.gradientToColors||0===g.gradient.gradientToColors.length)m=E.shadeColor("dark"===g.gradient.shade?-1*parseFloat(g.gradient.shadeIntensity):parseFloat(g.gradient.shadeIntensity),l.indexOf("rgb")>-1?pe.rgb2hex(l):l);else if(g.gradient.gradientToColors[v.seriesNumber]){var L=g.gradient.gradientToColors[v.seriesNumber];m=L,L.indexOf("rgba")>-1&&(P=pe.getOpacityFromRGBA(L))}else m=l;if(g.gradient.gradientFrom&&(k=g.gradient.gradientFrom),g.gradient.gradientTo&&(m=g.gradient.gradientTo),g.gradient.inverseColors){var z=k;k=m,m=z}return k.indexOf("rgb")>-1&&(k=pe.rgb2hex(k)),m.indexOf("rgb")>-1&&(m=pe.rgb2hex(m)),w.drawGradient(D,k,m,O,P,v.size,g.gradient.stops,g.gradient.colorStops,p)}}]),V}(),Ae=function(){function V(a,l){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"setGlobalMarkerSize",value:function(){var a=this.w;if(a.globals.markers.size=Array.isArray(a.config.markers.size)?a.config.markers.size:[a.config.markers.size],a.globals.markers.size.length>0){if(a.globals.markers.size.length<a.globals.series.length+1)for(var l=0;l<=a.globals.series.length;l++)void 0===a.globals.markers.size[l]&&a.globals.markers.size.push(a.globals.markers.size[0])}else a.globals.markers.size=a.config.series.map(function(d){return a.config.markers.size})}},{key:"plotChartMarkers",value:function(a,l,d,h){var p,g=arguments.length>4&&void 0!==arguments[4]&&arguments[4],m=this.w,v=l,w=a,E=null,D=new Re(this.ctx),k=m.config.markers.discrete&&m.config.markers.discrete.length;if((m.globals.markers.size[l]>0||g||k)&&(E=D.group({class:g||k?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(m.globals.cuid,")")),Array.isArray(w.x))for(var O=0;O<w.x.length;O++){var P=d;1===d&&0===O&&(P=0),1===d&&1===O&&(P=1);var L="apexcharts-marker";if("line"!==m.config.chart.type&&"area"!==m.config.chart.type||m.globals.comboCharts||m.config.tooltip.intersect||(L+=" no-pointer-events"),(Array.isArray(m.config.markers.size)?m.globals.markers.size[l]>0:m.config.markers.size>0)||g||k){pe.isNumber(w.y[O])?L+=" w".concat(pe.randomId()):L="apexcharts-nullpoint";var z=this.getMarkerConfig({cssClass:L,seriesIndex:l,dataPointIndex:P});m.config.series[v].data[P]&&(m.config.series[v].data[P].fillColor&&(z.pointFillColor=m.config.series[v].data[P].fillColor),m.config.series[v].data[P].strokeColor&&(z.pointStrokeColor=m.config.series[v].data[P].strokeColor)),h&&(z.pSize=h),(w.x[O]<0||w.x[O]>m.globals.gridWidth||w.y[O]<-m.globals.markers.largestSize||w.y[O]>m.globals.gridHeight+m.globals.markers.largestSize)&&(z.pSize=0),(p=D.drawMarker(w.x[O],w.y[O],z)).attr("rel",P),p.attr("j",P),p.attr("index",l),p.node.setAttribute("default-marker-size",z.pSize),new xn(this.ctx).setSelectionFilter(p,l,P),this.addEvents(p),E&&E.add(p)}else void 0===m.globals.pointsArray[l]&&(m.globals.pointsArray[l]=[]),m.globals.pointsArray[l].push([w.x[O],w.y[O]])}return E}},{key:"getMarkerConfig",value:function(a){var l=a.cssClass,d=a.seriesIndex,h=a.dataPointIndex,p=void 0===h?null:h,g=a.finishRadius,m=void 0===g?null:g,v=this.w,w=this.getMarkerStyle(d),E=v.globals.markers.size[d],D=v.config.markers;return null!==p&&D.discrete.length&&D.discrete.map(function(k){k.seriesIndex===d&&k.dataPointIndex===p&&(w.pointStrokeColor=k.strokeColor,w.pointFillColor=k.fillColor,E=k.size,w.pointShape=k.shape)}),{pSize:null===m?E:m,pRadius:D.radius,width:Array.isArray(D.width)?D.width[d]:D.width,height:Array.isArray(D.height)?D.height[d]:D.height,pointStrokeWidth:Array.isArray(D.strokeWidth)?D.strokeWidth[d]:D.strokeWidth,pointStrokeColor:w.pointStrokeColor,pointFillColor:w.pointFillColor,shape:w.pointShape||(Array.isArray(D.shape)?D.shape[d]:D.shape),class:l,pointStrokeOpacity:Array.isArray(D.strokeOpacity)?D.strokeOpacity[d]:D.strokeOpacity,pointStrokeDashArray:Array.isArray(D.strokeDashArray)?D.strokeDashArray[d]:D.strokeDashArray,pointFillOpacity:Array.isArray(D.fillOpacity)?D.fillOpacity[d]:D.fillOpacity,seriesIndex:d}}},{key:"addEvents",value:function(a){var l=this.w,d=new Re(this.ctx);a.node.addEventListener("mouseenter",d.pathMouseEnter.bind(this.ctx,a)),a.node.addEventListener("mouseleave",d.pathMouseLeave.bind(this.ctx,a)),a.node.addEventListener("mousedown",d.pathMouseDown.bind(this.ctx,a)),a.node.addEventListener("click",l.config.markers.onClick),a.node.addEventListener("dblclick",l.config.markers.onDblClick),a.node.addEventListener("touchstart",d.pathMouseDown.bind(this.ctx,a),{passive:!0})}},{key:"getMarkerStyle",value:function(a){var l=this.w,d=l.globals.markers.colors,h=l.config.markers.strokeColor||l.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(h)?h[a]:h,pointFillColor:Array.isArray(d)?d[a]:d}}}]),V}(),et=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return ut(V,[{key:"draw",value:function(a,l,d){var h=this.w,p=new Re(this.ctx),g=d.realIndex,m=d.pointsPos,v=d.zRatio,w=d.elParent,E=p.group({class:"apexcharts-series-markers apexcharts-series-".concat(h.config.chart.type)});if(E.attr("clip-path","url(#gridRectMarkerMask".concat(h.globals.cuid,")")),Array.isArray(m.x))for(var D=0;D<m.x.length;D++){var k=l+1,O=!0;0===l&&0===D&&(k=0),0===l&&1===D&&(k=1);var P=0,L=h.globals.markers.size[g];if(v!==1/0){var z=h.config.plotOptions.bubble;L=h.globals.seriesZ[g][k],z.zScaling&&(L/=v),z.minBubbleRadius&&L<z.minBubbleRadius&&(L=z.minBubbleRadius),z.maxBubbleRadius&&L>z.maxBubbleRadius&&(L=z.maxBubbleRadius)}h.config.chart.animations.enabled||(P=L);var K=m.y[D];if(P=P||0,null!==K&&void 0!==h.globals.series[g][k]||(O=!1),O){var b=this.drawPoint(m.x[D],K,P,L,g,k,l);E.add(b)}w.add(E)}}},{key:"drawPoint",value:function(a,l,d,h,p,g,m){var v=this.w,w=p,E=new Ii(this.ctx),D=new xn(this.ctx),k=new ve(this.ctx),O=new Ae(this.ctx),P=new Re(this.ctx),L=O.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:w,dataPointIndex:g,finishRadius:"bubble"===v.config.chart.type||v.globals.comboCharts&&v.config.series[p]&&"bubble"===v.config.series[p].type?h:null});h=L.pSize;var z,$=k.fillPath({seriesNumber:p,dataPointIndex:g,color:L.pointFillColor,patternUnits:"objectBoundingBox",value:v.globals.series[p][m]});if("circle"===L.shape?z=P.drawCircle(d):"square"!==L.shape&&"rect"!==L.shape||(z=P.drawRect(0,0,L.width-L.pointStrokeWidth/2,L.height-L.pointStrokeWidth/2,L.pRadius)),v.config.series[w].data[g]&&v.config.series[w].data[g].fillColor&&($=v.config.series[w].data[g].fillColor),z.attr({x:a-L.width/2-L.pointStrokeWidth/2,y:l-L.height/2-L.pointStrokeWidth/2,cx:a,cy:l,fill:$,"fill-opacity":L.pointFillOpacity,stroke:L.pointStrokeColor,r:h,"stroke-width":L.pointStrokeWidth,"stroke-dasharray":L.pointStrokeDashArray,"stroke-opacity":L.pointStrokeOpacity}),v.config.chart.dropShadow.enabled&&D.dropShadow(z,v.config.chart.dropShadow,p),!this.initialAnim||v.globals.dataChanged||v.globals.resized?v.globals.animationEnded=!0:E.animateMarker(z,0,"circle"===L.shape?h:{width:L.width,height:L.height},v.config.chart.animations.speed,v.globals.easing,function(){window.setTimeout(function(){E.animationCompleted(z)},100)}),v.globals.dataChanged&&"circle"===L.shape)if(this.dynamicAnim){var I,N,U,Q,q=v.config.chart.animations.dynamicAnimation.speed;null!=(Q=v.globals.previousPaths[p]&&v.globals.previousPaths[p][m])&&(I=Q.x,N=Q.y,U=void 0!==Q.r?Q.r:h);for(var ye=0;ye<v.globals.collapsedSeries.length;ye++)v.globals.collapsedSeries[ye].index===p&&(q=1,h=0);0===a&&0===l&&(h=0),E.animateCircle(z,{cx:I,cy:N,r:U},{cx:a,cy:l,r:h},q,v.globals.easing)}else z.attr({r:h});return z.attr({rel:g,j:g,index:p,"default-marker-size":h}),D.setSelectionFilter(z,p,g),O.addEvents(z),z.node.classList.add("apexcharts-marker"),z}},{key:"centerTextInBubble",value:function(a){return{y:a+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),V}(),Ue=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"dataLabelsCorrection",value:function(a,l,d,h,p,g,m){var v=this.w,w=!1,E=new Re(this.ctx).getTextRects(d,m),D=E.width,k=E.height;if(l<0&&(l=0),l>v.globals.gridHeight+k&&(l=v.globals.gridHeight+k/2),void 0===v.globals.dataLabelsRects[h]&&(v.globals.dataLabelsRects[h]=[]),v.globals.dataLabelsRects[h].push({x:a,y:l,width:D,height:k}),void 0!==v.globals.dataLabelsRects[h][v.globals.dataLabelsRects[h].length-2]){var L=v.globals.dataLabelsRects[h][void 0!==v.globals.lastDrawnDataLabelsIndexes[h]?v.globals.lastDrawnDataLabelsIndexes[h][v.globals.lastDrawnDataLabelsIndexes[h].length-1]:0];(a>L.x+L.width||l>L.y+L.height||l+k<L.y||a+D<L.x)&&(w=!0)}return(0===p||g)&&(w=!0),{x:a,y:l,textRects:E,drawnextLabel:w}}},{key:"drawDataLabel",value:function(a){var l=this,d=a.type,h=a.pos,p=a.i,g=a.j,m=a.isRangeStart,v=a.strokeWidth,w=void 0===v?2:v,E=this.w,D=new Re(this.ctx),k=E.config.dataLabels,O=0,P=0,L=g,z=null;if(!k.enabled||!Array.isArray(h.x))return z;z=D.group({class:"apexcharts-data-labels"});for(var $=0;$<h.x.length;$++)if(O=h.x[$]+k.offsetX,P=h.y[$]+k.offsetY+w,!isNaN(O)){1===g&&0===$&&(L=0),1===g&&1===$&&(L=1);var K=E.globals.series[p][L];"rangeArea"===d&&(K=m?E.globals.seriesRangeStart[p][L]:E.globals.seriesRangeEnd[p][L]);var b="",I=function(N){return E.config.dataLabels.formatter(N,{ctx:l.ctx,seriesIndex:p,dataPointIndex:L,w:E})};"bubble"===E.config.chart.type?(b=I(K=E.globals.seriesZ[p][L]),P=h.y[$],P=new et(this.ctx).centerTextInBubble(P,p,L).y):void 0!==K&&(b=I(K)),this.plotDataLabelsText({x:O,y:P,text:b,i:p,j:L,parent:z,offsetCorrection:!0,dataLabelsConfig:E.config.dataLabels})}return z}},{key:"plotDataLabelsText",value:function(a){var l=this.w,d=new Re(this.ctx),h=a.x,p=a.y,g=a.i,m=a.j,v=a.text,w=a.textAnchor,E=a.fontSize,D=a.parent,k=a.dataLabelsConfig,O=a.color,P=a.alwaysDrawDataLabel,L=a.offsetCorrection;if(!(Array.isArray(l.config.dataLabels.enabledOnSeries)&&l.config.dataLabels.enabledOnSeries.indexOf(g)<0)){var z={x:h,y:p,drawnextLabel:!0,textRects:null};L&&(z=this.dataLabelsCorrection(h,p,v,g,m,P,parseInt(k.style.fontSize,10))),l.globals.zoomed||(h=z.x,p=z.y),z.textRects&&(h<-10-z.textRects.width||h>l.globals.gridWidth+z.textRects.width+10)&&(v="");var $=l.globals.dataLabels.style.colors[g];(("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)&&l.config.plotOptions.bar.distributed||l.config.dataLabels.distributed)&&($=l.globals.dataLabels.style.colors[m]),"function"==typeof $&&($=$({series:l.globals.series,seriesIndex:g,dataPointIndex:m,w:l})),O&&($=O);var K=k.offsetX,b=k.offsetY;if("bar"!==l.config.chart.type&&"rangeBar"!==l.config.chart.type||(K=0,b=0),z.drawnextLabel){var I=d.drawText({width:100,height:parseInt(k.style.fontSize,10),x:h+K,y:p+b,foreColor:$,textAnchor:w||k.textAnchor,text:v,fontSize:E||k.style.fontSize,fontFamily:k.style.fontFamily,fontWeight:k.style.fontWeight||"normal"});if(I.attr({class:"apexcharts-datalabel",cx:h,cy:p}),k.dropShadow.enabled){var N=k.dropShadow;new xn(this.ctx).dropShadow(I,N)}D.add(I),void 0===l.globals.lastDrawnDataLabelsIndexes[g]&&(l.globals.lastDrawnDataLabelsIndexes[g]=[]),l.globals.lastDrawnDataLabelsIndexes[g].push(m)}}}},{key:"addBackgroundToDataLabel",value:function(a,l){var d=this.w,h=d.config.dataLabels.background,p=h.padding,g=h.padding/2,m=l.width,v=l.height,w=new Re(this.ctx).drawRect(l.x-p,l.y-g/2,m+2*p,v+g,h.borderRadius,"transparent"===d.config.chart.background?"#fff":d.config.chart.background,h.opacity,h.borderWidth,h.borderColor);return h.dropShadow.enabled&&new xn(this.ctx).dropShadow(w,h.dropShadow),w}},{key:"dataLabelsBackground",value:function(){var a=this.w;if("bubble"!==a.config.chart.type)for(var l=a.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),d=0;d<l.length;d++){var h=l[d],p=h.getBBox(),g=null;if(p.width&&p.height&&(g=this.addBackgroundToDataLabel(h,p)),g){h.parentNode.insertBefore(g.node,h);var m=h.getAttribute("fill");!a.config.chart.animations.enabled||a.globals.resized||a.globals.dataChanged?g.attr({fill:m}):g.animate().attr({fill:m}),h.setAttribute("fill",a.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var a=this.w,l=a.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),d=a.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),h=0;h<l.length;h++)d&&d.insertBefore(l[h],d.nextSibling)}}]),V}(),ct=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.legendInactiveClass="legend-mouseover-inactive"}return ut(V,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(a){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(pe.escapeString(a),"']"))}},{key:"isSeriesHidden",value:function(a){var l=this.getSeriesByName(a),d=parseInt(l.getAttribute("data:realIndex"),10);return{isHidden:l.classList.contains("apexcharts-series-collapsed"),realIndex:d}}},{key:"addCollapsedClassToSeries",value:function(a,l){var d=this.w;function h(p){for(var g=0;g<p.length;g++)p[g].index===l&&a.node.classList.add("apexcharts-series-collapsed")}h(d.globals.collapsedSeries),h(d.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(a){var l=this.isSeriesHidden(a);return this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,l.isHidden),l.isHidden}},{key:"showSeries",value:function(a){var l=this.isSeriesHidden(a);l.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!0)}},{key:"hideSeries",value:function(a){var l=this.isSeriesHidden(a);l.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!1)}},{key:"resetSeries",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],h=this.w,p=pe.clone(h.globals.initialSeries);h.globals.previousPaths=[],d?(h.globals.collapsedSeries=[],h.globals.ancillaryCollapsedSeries=[],h.globals.collapsedSeriesIndices=[],h.globals.ancillaryCollapsedSeriesIndices=[]):p=this.emptyCollapsedSeries(p),h.config.series=p,a&&(l&&(h.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(p,h.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(a){for(var l=this.w,d=0;d<a.length;d++)l.globals.collapsedSeriesIndices.indexOf(d)>-1&&(a[d].data=[]);return a}},{key:"toggleSeriesOnHover",value:function(a,l){var d=this.w;l||(l=a.target);var h=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===a.type){var p=parseInt(l.getAttribute("rel"),10)-1,g=null,m=null;d.globals.axisCharts||"radialBar"===d.config.chart.type?d.globals.axisCharts?(g=d.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(p,"']")),m=d.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(p,"']"))):g=d.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"']")):g=d.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"'] path"));for(var v=0;v<h.length;v++)h[v].classList.add(this.legendInactiveClass);null!==g&&(d.globals.axisCharts||g.parentNode.classList.remove(this.legendInactiveClass),g.classList.remove(this.legendInactiveClass),null!==m&&m.classList.remove(this.legendInactiveClass))}else if("mouseout"===a.type)for(var w=0;w<h.length;w++)h[w].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(a,l){var d=this,h=this.w,p=h.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),g=function(v){for(var w=0;w<p.length;w++)p[w].classList[v](d.legendInactiveClass)};if("mousemove"===a.type){var m=parseInt(l.getAttribute("rel"),10)-1;g("add"),function(v){for(var w=0;w<p.length;w++){var E=parseInt(p[w].getAttribute("val"),10);E>=v.from&&E<=v.to&&p[w].classList.remove(d.legendInactiveClass)}}(h.config.plotOptions.heatmap.colorScale.ranges[m])}else"mouseout"===a.type&&g("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=this.w,h=0;if(d.config.series.length>1)for(var p=d.config.series.map(function(m,v){return m.data&&m.data.length>0&&-1===d.globals.collapsedSeriesIndices.indexOf(v)&&(!d.globals.comboCharts||0===l.length||l.length&&l.indexOf(d.config.series[v].type)>-1)?v:-1}),g="asc"===a?0:p.length-1;"asc"===a?g<p.length:g>=0;"asc"===a?g++:g--)if(-1!==p[g]){h=p[g];break}return h}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(a,l){return"bar"===a.type||"column"===a.type?l:-1}).filter(function(a){return-1!==a}):this.w.config.series.map(function(a,l){return l})}},{key:"getPreviousPaths",value:function(){var a=this.w;function l(g,m,v){for(var w=g[m].childNodes,E={type:v,paths:[],realIndex:g[m].getAttribute("data:realIndex")},D=0;D<w.length;D++)if(w[D].hasAttribute("pathTo")){var k=w[D].getAttribute("pathTo");E.paths.push({d:k})}a.globals.previousPaths.push(E)}a.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(g){for(var v=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(g,"-series .apexcharts-series")),w=0;w<v.length;w++)l(v,w,g)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var d=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a.config.chart.type," .apexcharts-series"));if(d.length>0)for(var h=function(g){for(var m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(g,"'] rect")),v=[],w=function(D){var k=function(P){return m[D].getAttribute(P)},O={x:parseFloat(k("x")),y:parseFloat(k("y")),width:parseFloat(k("width")),height:parseFloat(k("height"))};v.push({rect:O,color:m[D].getAttribute("color")})},E=0;E<m.length;E++)w(E);a.globals.previousPaths.push(v)},p=0;p<d.length;p++)h(p);a.globals.axisCharts||(a.globals.previousPaths=a.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(a){var l=this.w,d=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series"));if(d.length>0)for(var h=0;h<d.length;h++){for(var p=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series[data\\:realIndex='").concat(h,"'] circle")),g=[],m=0;m<p.length;m++)g.push({x:p[m].getAttribute("cx"),y:p[m].getAttribute("cy"),r:p[m].getAttribute("r")});l.globals.previousPaths.push(g)}}},{key:"clearPreviousPaths",value:function(){var a=this.w;a.globals.previousPaths=[],a.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var a=this.w,l=a.config.noData,d=new Re(this.ctx),h=a.globals.svgWidth/2,p=a.globals.svgHeight/2,g="middle";if(a.globals.noData=!0,a.globals.animationEnded=!0,"left"===l.align?(h=10,g="start"):"right"===l.align&&(h=a.globals.svgWidth-10,g="end"),"top"===l.verticalAlign?p=50:"bottom"===l.verticalAlign&&(p=a.globals.svgHeight-50),h+=l.offsetX,p=p+parseInt(l.style.fontSize,10)+2+l.offsetY,void 0!==l.text&&""!==l.text){var m=d.drawText({x:h,y:p,text:l.text,textAnchor:g,fontSize:l.style.fontSize,fontFamily:l.style.fontFamily,foreColor:l.style.color,opacity:1,class:"apexcharts-text-nodata"});a.globals.dom.Paper.add(m)}}},{key:"setNullSeriesToZeroValues",value:function(a){for(var l=this.w,d=0;d<a.length;d++)if(0===a[d].length)for(var h=0;h<a[l.globals.maxValsInArrayIndex].length;h++)a[d].push(0);return a}},{key:"hasAllSeriesEqualX",value:function(){for(var a=!0,l=this.w,d=this.filteredSeriesX(),h=0;h<d.length-1;h++)if(d[h][0]!==d[h+1][0]){a=!1;break}return l.globals.allSeriesHasEqualX=a,a}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(l){return l.length>0?l:[]})}}]),V}(),pn=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Yt(this.ctx)}return ut(V,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var a=this.w.config.series.slice(),l=new ct(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==a[this.activeSeriesIndex].data&&a[this.activeSeriesIndex].data.length>0&&null!==a[this.activeSeriesIndex].data[0]&&void 0!==a[this.activeSeriesIndex].data[0].x&&null!==a[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var a=this.w.config.series.slice(),l=new ct(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==a[this.activeSeriesIndex].data&&a[this.activeSeriesIndex].data.length>0&&null!=a[this.activeSeriesIndex].data[0]&&a[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(a,l){for(var d=this.w.config,h=this.w.globals,p="boxPlot"===d.chart.type||"boxPlot"===d.series[l].type,g=0;g<a[l].data.length;g++)if(void 0!==a[l].data[g][1]&&(Array.isArray(a[l].data[g][1])&&4===a[l].data[g][1].length&&!p?this.twoDSeries.push(pe.parseNumber(a[l].data[g][1][3])):this.twoDSeries.push(pe.parseNumber(a[l].data[g].length>=5?a[l].data[g][4]:a[l].data[g][1])),h.dataFormatXNumeric=!0),"datetime"===d.xaxis.type){var m=new Date(a[l].data[g][0]);m=new Date(m).getTime(),this.twoDSeriesX.push(m)}else this.twoDSeriesX.push(a[l].data[g][0]);for(var v=0;v<a[l].data.length;v++)void 0!==a[l].data[v][2]&&(this.threeDSeries.push(a[l].data[v][2]),h.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(a,l){var d=this.w.config,h=this.w.globals,p=new fn(this.ctx),g=l;h.collapsedSeriesIndices.indexOf(l)>-1&&(g=this.activeSeriesIndex);for(var m=0;m<a[l].data.length;m++)void 0!==a[l].data[m].y&&(Array.isArray(a[l].data[m].y)?this.twoDSeries.push(pe.parseNumber(a[l].data[m].y[a[l].data[m].y.length-1])):this.twoDSeries.push(pe.parseNumber(a[l].data[m].y))),void 0!==a[l].data[m].goals&&Array.isArray(a[l].data[m].goals)?(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(a[l].data[m].goals)):(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(null));for(var v=0;v<a[g].data.length;v++){var w="string"==typeof a[g].data[v].x,E=Array.isArray(a[g].data[v].x),D=!E&&!!p.isValidDate(a[g].data[v].x.toString());w||D?w||d.xaxis.convertedCatToNumeric?"datetime"!==d.xaxis.type||h.isBarHorizontal&&h.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(a[g].data[v].x),isNaN(a[g].data[v].x)||"category"===this.w.config.xaxis.type||"string"==typeof a[g].data[v].x||(h.isXNumeric=!0)):this.twoDSeriesX.push(p.parseDate(a[g].data[v].x)):"datetime"===d.xaxis.type?this.twoDSeriesX.push(p.parseDate(a[g].data[v].x.toString())):(h.dataFormatXNumeric=!0,h.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(a[g].data[v].x))):E?(this.fallbackToCategory=!0,this.twoDSeriesX.push(a[g].data[v].x)):(h.isXNumeric=!0,h.dataFormatXNumeric=!0,this.twoDSeriesX.push(a[g].data[v].x))}if(a[l].data[0]&&void 0!==a[l].data[0].z){for(var O=0;O<a[l].data.length;O++)this.threeDSeries.push(a[l].data[O].z);h.isDataXYZ=!0}}},{key:"handleRangeData",value:function(a,l){var d=this.w.globals,h={};return this.isFormat2DArray()?h=this.handleRangeDataFormat("array",a,l):this.isFormatXY()&&(h=this.handleRangeDataFormat("xy",a,l)),d.seriesRangeStart.push(h.start),d.seriesRangeEnd.push(h.end),d.seriesRange.push(h.rangeUniques),d.seriesRange.forEach(function(p,g){p&&p.forEach(function(m,v){m.y.forEach(function(w,E){for(var D=0;D<m.y.length;D++)E!==D&&w.y1<=m.y[D].y2&&m.y[D].y1<=w.y2&&(m.overlaps.indexOf(w.rangeName)<0&&m.overlaps.push(w.rangeName),m.overlaps.indexOf(m.y[D].rangeName)<0&&m.overlaps.push(m.y[D].rangeName))})})}),h}},{key:"handleCandleStickBoxData",value:function(a,l){var d=this.w.globals,h={};return this.isFormat2DArray()?h=this.handleCandleStickBoxDataFormat("array",a,l):this.isFormatXY()&&(h=this.handleCandleStickBoxDataFormat("xy",a,l)),d.seriesCandleO[l]=h.o,d.seriesCandleH[l]=h.h,d.seriesCandleM[l]=h.m,d.seriesCandleL[l]=h.l,d.seriesCandleC[l]=h.c,h}},{key:"handleRangeDataFormat",value:function(a,l,d){var h=[],p=[],g=l[d].data.filter(function(E,D,k){return D===k.findIndex(function(O){return O.x===E.x})}).map(function(E,D){return{x:E.x,overlaps:[],y:[]}});if("array"===a)for(var m=0;m<l[d].data.length;m++)Array.isArray(l[d].data[m])?(h.push(l[d].data[m][1][0]),p.push(l[d].data[m][1][1])):(h.push(l[d].data[m]),p.push(l[d].data[m]));else if("xy"===a)for(var v=function(E){var D=Array.isArray(l[d].data[E].y),k=pe.randomId(),O=l[d].data[E].x,P={y1:D?l[d].data[E].y[0]:l[d].data[E].y,y2:D?l[d].data[E].y[1]:l[d].data[E].y,rangeName:k};l[d].data[E].rangeName=k;var L=g.findIndex(function(z){return z.x===O});g[L].y.push(P),h.push(P.y1),p.push(P.y2)},w=0;w<l[d].data.length;w++)v(w);return{start:h,end:p,rangeUniques:g}}},{key:"handleCandleStickBoxDataFormat",value:function(a,l,d){var h=this.w,p="boxPlot"===h.config.chart.type||"boxPlot"===h.config.series[d].type,g=[],m=[],v=[],w=[],E=[];if("array"===a)if(p&&6===l[d].data[0].length||!p&&5===l[d].data[0].length)for(var D=0;D<l[d].data.length;D++)g.push(l[d].data[D][1]),m.push(l[d].data[D][2]),p?(v.push(l[d].data[D][3]),w.push(l[d].data[D][4]),E.push(l[d].data[D][5])):(w.push(l[d].data[D][3]),E.push(l[d].data[D][4]));else for(var k=0;k<l[d].data.length;k++)Array.isArray(l[d].data[k][1])&&(g.push(l[d].data[k][1][0]),m.push(l[d].data[k][1][1]),p?(v.push(l[d].data[k][1][2]),w.push(l[d].data[k][1][3]),E.push(l[d].data[k][1][4])):(w.push(l[d].data[k][1][2]),E.push(l[d].data[k][1][3])));else if("xy"===a)for(var O=0;O<l[d].data.length;O++)Array.isArray(l[d].data[O].y)&&(g.push(l[d].data[O].y[0]),m.push(l[d].data[O].y[1]),p?(v.push(l[d].data[O].y[2]),w.push(l[d].data[O].y[3]),E.push(l[d].data[O].y[4])):(w.push(l[d].data[O].y[2]),E.push(l[d].data[O].y[3])));return{o:g,h:m,m:v,l:w,c:E}}},{key:"parseDataAxisCharts",value:function(a){var l,d=this,p=this.w.config,g=this.w.globals,m=new fn(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx),v=p.labels.length>0?p.labels.slice():p.xaxis.categories.slice();if(g.isRangeBar="rangeBar"===p.chart.type&&g.isBarHorizontal,g.hasXaxisGroups="category"===p.xaxis.type&&p.xaxis.group.groups.length>0,g.hasXaxisGroups&&(g.groups=p.xaxis.group.groups),g.hasSeriesGroups=null===(l=a[0])||void 0===l?void 0:l.group,g.hasSeriesGroups){var w=[],E=kn(new Set(a.map(function(P){return P.group})));a.forEach(function(P,L){var z=E.indexOf(P.group);w[z]||(w[z]=[]),w[z].push(P.name)}),g.seriesGroups=w}for(var D=function(){for(var P=0;P<v.length;P++)if("string"==typeof v[P]){if(!m.isValidDate(v[P]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");d.twoDSeriesX.push(m.parseDate(v[P]))}else d.twoDSeriesX.push(v[P])},k=0;k<a.length;k++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===a[k].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==p.chart.type&&"rangeArea"!==p.chart.type&&"rangeBar"!==a[k].type&&"rangeArea"!==a[k].type||(g.isRangeData=!0,g.isComboCharts?"rangeBar"!==a[k].type&&"rangeArea"!==a[k].type||this.handleRangeData(a,k):"rangeBar"!==p.chart.type&&"rangeArea"!==p.chart.type||this.handleRangeData(a,k)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(a,k):this.isFormatXY()&&this.handleFormatXY(a,k),"candlestick"!==p.chart.type&&"candlestick"!==a[k].type&&"boxPlot"!==p.chart.type&&"boxPlot"!==a[k].type||this.handleCandleStickBoxData(a,k),g.series.push(this.twoDSeries),g.labels.push(this.twoDSeriesX),g.seriesX.push(this.twoDSeriesX),g.seriesGoals=this.seriesGoals,k!==this.activeSeriesIndex||this.fallbackToCategory||(g.isXNumeric=!0);else{"datetime"===p.xaxis.type?(g.isXNumeric=!0,D(),g.seriesX.push(this.twoDSeriesX)):"numeric"===p.xaxis.type&&(g.isXNumeric=!0,v.length>0&&(this.twoDSeriesX=v,g.seriesX.push(this.twoDSeriesX))),g.labels.push(this.twoDSeriesX);var O=a[k].data.map(function(P){return pe.parseNumber(P)});g.series.push(O)}g.seriesZ.push(this.threeDSeries),g.seriesNames.push(void 0!==a[k].name?a[k].name:"series-"+parseInt(k+1,10)),g.seriesColors.push(void 0!==a[k].color?a[k].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(a){var l=this.w.globals,d=this.w.config;l.series=a.slice(),l.seriesNames=d.labels.slice();for(var h=0;h<l.series.length;h++)void 0===l.seriesNames[h]&&l.seriesNames.push("series-"+(h+1));return this.w}},{key:"handleExternalLabelsData",value:function(a){var l=this.w.config,d=this.w.globals;l.xaxis.categories.length>0?d.labels=l.xaxis.categories:l.labels.length>0?d.labels=l.labels.slice():this.fallbackToCategory?(d.labels=d.labels[0],d.seriesRange.length&&(d.seriesRange.map(function(h){h.forEach(function(p){d.labels.indexOf(p.x)<0&&p.x&&d.labels.push(p.x)})}),d.labels=Array.from(new Set(d.labels.map(JSON.stringify)),JSON.parse)),l.xaxis.convertedCatToNumeric&&(new fr(l).convertCatToNumericXaxis(l,this.ctx,d.seriesX[0]),this._generateExternalLabels(a))):this._generateExternalLabels(a)}},{key:"_generateExternalLabels",value:function(a){var l=this.w.globals,d=this.w.config,h=[];if(l.axisCharts){if(l.series.length>0)if(this.isFormatXY())for(var p=d.series.map(function(D,k){return D.data.filter(function(O,P,L){return L.findIndex(function(z){return z.x===O.x})===P})}),g=p.reduce(function(D,k,O,P){return P[D].length>k.length?D:O},0),m=0;m<p[g].length;m++)h.push(m+1);else for(var v=0;v<l.series[l.maxValsInArrayIndex].length;v++)h.push(v+1);l.seriesX=[];for(var w=0;w<a.length;w++)l.seriesX.push(h);this.w.globals.isBarHorizontal||(l.isXNumeric=!0)}if(0===h.length){h=l.axisCharts?[]:l.series.map(function(D,k){return k+1});for(var E=0;E<a.length;E++)l.seriesX.push(h)}l.labels=h,d.xaxis.convertedCatToNumeric&&(l.categoryLabels=h.map(function(D){return d.xaxis.labels.formatter(D)})),l.noLabelsProvided=!0}},{key:"parseData",value:function(a){var l=this.w,d=l.config,h=l.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),h.axisCharts?(this.parseDataAxisCharts(a),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(a),d.chart.stacked){var p=new ct(this.ctx);h.series=p.setNullSeriesToZeroValues(h.series)}this.coreUtils.getSeriesTotals(),h.axisCharts&&(h.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),h.dataFormatXNumeric||h.isXNumeric&&("numeric"!==d.xaxis.type||0!==d.labels.length||0!==d.xaxis.categories.length)||this.handleExternalLabelsData(a);for(var g=this.coreUtils.getCategoryLabels(h.labels),m=0;m<g.length;m++)if(Array.isArray(g[m])){h.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var a=this,l=this.w;l.globals.ignoreYAxisIndexes=l.globals.collapsedSeries.map(function(d,h){if(a.w.globals.isMultipleYAxis&&!l.config.chart.stacked)return d.index})}}]),V}(),Ye=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"getLabel",value:function(a,l,d,h){var z,$,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",m=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],v=this.w,w=void 0===a[h]?"":a[h],E=w,D=v.globals.xLabelFormatter,k=v.config.xaxis.labels.formatter,O=!1,P=new Fr(this.ctx);m&&(E=P.xLabelFormat(D,w,w,{i:h,dateFormatter:new fn(this.ctx).formatDate,w:v}),void 0!==k&&(E=k(w,a[h],{i:h,dateFormatter:new fn(this.ctx).formatDate,w:v}))),l.length>0?(z=l[h].unit,$=null,l.forEach(function(N){"month"===N.unit?$="year":"day"===N.unit?$="month":"hour"===N.unit?$="day":"minute"===N.unit&&($="hour")}),O=$===z,d=l[h].position,E=l[h].value):"datetime"===v.config.xaxis.type&&void 0===k&&(E=""),void 0===E&&(E=""),E=Array.isArray(E)?E:E.toString();var b,K=new Re(this.ctx);b=v.globals.rotateXLabels&&m?K.getTextRects(E,parseInt(g,10),null,"rotate(".concat(v.config.xaxis.labels.rotate," 0 0)"),!1):K.getTextRects(E,parseInt(g,10));var I=!v.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(E)&&(0===E.indexOf("NaN")||0===E.toLowerCase().indexOf("invalid")||E.toLowerCase().indexOf("infinity")>=0||p.indexOf(E)>=0&&I)&&(E=""),{x:d,text:E,textRect:b,isBold:O}}},{key:"checkLabelBasedOnTickamount",value:function(a,l,d){var h=this.w,p=h.config.xaxis.tickAmount;return"dataPoints"===p&&(p=Math.round(h.globals.gridWidth/120)),p>d||a%Math.round(d/(p+1))==0||(l.text=""),l}},{key:"checkForOverflowingLabels",value:function(a,l,d,h,p){var g=this.w;if(0===a&&g.globals.skipFirstTimelinelabel&&(l.text=""),a===d-1&&g.globals.skipLastTimelinelabel&&(l.text=""),g.config.xaxis.labels.hideOverlappingLabels&&h.length>0){var m=p[p.length-1];l.x<m.textRect.width/(g.globals.rotateXLabels?Math.abs(g.config.xaxis.labels.rotate)/12:1.01)+m.x&&(l.text="")}return l}},{key:"checkForReversedLabels",value:function(a,l){var d=this.w;return d.config.yaxis[a]&&d.config.yaxis[a].reversed&&l.reverse(),l}},{key:"isYAxisHidden",value:function(a){var l=this.w,d=new Yt(this.ctx);return!l.config.yaxis[a].show||!l.config.yaxis[a].showForNullSeries&&d.isSeriesNull(a)&&-1===l.globals.collapsedSeriesIndices.indexOf(a)}},{key:"getYAxisForeColor",value:function(a,l){var d=this.w;return Array.isArray(a)&&d.globals.yAxisScale[l]&&this.ctx.theme.pushExtraColors(a,d.globals.yAxisScale[l].result.length,!1),a}},{key:"drawYAxisTicks",value:function(a,l,d,h,p,g,m){var v=this.w,w=new Re(this.ctx),E=v.globals.translateY;if(h.show&&l>0){!0===v.config.yaxis[p].opposite&&(a+=h.width);for(var D=l;D>=0;D--){var k=E+l/10+v.config.yaxis[p].labels.offsetY-1;v.globals.isBarHorizontal&&(k=g*D),"heatmap"===v.config.chart.type&&(k+=g/2);var O=w.drawLine(a+d.offsetX-h.width+h.offsetX,k+h.offsetY,a+d.offsetX+h.offsetX,k+h.offsetY,h.color);m.add(O),E+=g}}}}]),V}(),Vt=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"scaleSvgNode",value:function(a,l){var d=parseFloat(a.getAttributeNS(null,"width")),h=parseFloat(a.getAttributeNS(null,"height"));a.setAttributeNS(null,"width",d*l),a.setAttributeNS(null,"height",h*l),a.setAttributeNS(null,"viewBox","0 0 "+d+" "+h)}},{key:"fixSvgStringForIe11",value:function(a){if(!pe.isIE11())return a.replace(/&nbsp;/g,"&#160;");var l=0,d=a.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(h){return 2==++l?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':h});return(d=d.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(a){null==a&&(a=1);var l=this.w.globals.dom.Paper.svg();if(1!==a){var d=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(d,a),l=(new XMLSerializer).serializeToString(d)}return this.fixSvgStringForIe11(l)}},{key:"cleanup",value:function(){var a=this.w,l=a.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),d=a.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),h=a.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(h,function(p){p.setAttribute("width",0)}),l&&l[0]&&(l[0].setAttribute("x",-500),l[0].setAttribute("x1",-500),l[0].setAttribute("x2",-500)),d&&d[0]&&(d[0].setAttribute("y",-100),d[0].setAttribute("y1",-100),d[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var a=this.getSvgString(),l=new Blob([a],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(l)}},{key:"dataURI",value:function(a){var l=this;return new Promise(function(d){var h=l.w,p=a?a.scale||a.width/h.globals.svgWidth:1;l.cleanup();var g=document.createElement("canvas");g.width=h.globals.svgWidth*p,g.height=parseInt(h.globals.dom.elWrap.style.height,10)*p;var m="transparent"===h.config.chart.background?"#fff":h.config.chart.background,v=g.getContext("2d");v.fillStyle=m,v.fillRect(0,0,g.width*p,g.height*p);var w=l.getSvgString(p);if(window.canvg&&pe.isIE11()){var E=window.canvg.Canvg.fromString(v,w,{ignoreClear:!0,ignoreDimensions:!0});E.start();var D=g.msToBlob();E.stop(),d({blob:D})}else{var k="data:image/svg+xml,"+encodeURIComponent(w),O=new Image;O.crossOrigin="anonymous",O.onload=function(){if(v.drawImage(O,0,0),g.msToBlob){var P=g.msToBlob();d({blob:P})}else{var L=g.toDataURL("image/png");d({imgURI:L})}},O.src=k}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var a=this;this.dataURI().then(function(l){var d=l.imgURI,h=l.blob;h?navigator.msSaveOrOpenBlob(h,a.w.globals.chartID+".png"):a.triggerDownload(d,a.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(a){var l=this,d=a.series,h=a.fileName,p=a.columnDelimiter,g=void 0===p?",":p,m=a.lineDelimiter,v=void 0===m?"\n":m,w=this.w;d||(d=w.config.series);var E=[],D=[],k="",O=w.globals.series.map(function(b,I){return-1===w.globals.collapsedSeriesIndices.indexOf(I)?b:[]}),P=Math.max.apply(Math,kn(d.map(function(b){return b.data?b.data.length:0}))),L=new pn(this.ctx),z=new Ye(this.ctx),$=function(b){var I="";if(w.globals.axisCharts){if("category"===w.config.xaxis.type||w.config.xaxis.convertedCatToNumeric)if(w.globals.isBarHorizontal){var N=w.globals.yLabelFormatters[0],U=new ct(l.ctx).getActiveConfigSeriesIndex();I=N(w.globals.labels[b],{seriesIndex:U,dataPointIndex:b,w})}else I=z.getLabel(w.globals.labels,w.globals.timescaleLabels,0,b).text;"datetime"===w.config.xaxis.type&&(w.config.xaxis.categories.length?I=w.config.xaxis.categories[b]:w.config.labels.length&&(I=w.config.labels[b]))}else I=w.config.labels[b];return Array.isArray(I)&&(I=I.join(" ")),pe.isNumber(I)?I:I.split(g).join("")};E.push(w.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===w.config.chart.type?(E.push("minimum"),E.push("q1"),E.push("median"),E.push("q3"),E.push("maximum")):"candlestick"===w.config.chart.type?(E.push("open"),E.push("high"),E.push("low"),E.push("close")):"rangeBar"===w.config.chart.type?(E.push("minimum"),E.push("maximum")):d.map(function(b,I){var N=(b.name?b.name:"series-".concat(I))+"";w.globals.axisCharts&&E.push(N.split(g).join("")?N.split(g).join(""):"series-".concat(I))}),w.globals.axisCharts||(E.push(w.config.chart.toolbar.export.csv.headerValue),D.push(E.join(g))),d.map(function(b,I){w.globals.axisCharts?function(b,I){if(E.length&&0===I&&D.push(E.join(g)),b.data){b.data=b.data.length&&b.data||kn(Array(P)).map(function(){return""});for(var N=0;N<b.data.length;N++){E=[];var U=$(N);if(U||(L.isFormatXY()?U=d[I].data[N].x:L.isFormat2DArray()&&(U=d[I].data[N]?d[I].data[N][0]:"")),0===I){E.push("datetime"===w.config.xaxis.type&&String(U).length>=10?w.config.chart.toolbar.export.csv.dateFormatter(U):pe.isNumber(U)?U:U.split(g).join(""));for(var Q=0;Q<w.globals.series.length;Q++){var q;L.isFormatXY()?E.push(null===(q=d[Q].data[N])||void 0===q?void 0:q.y):E.push(O[Q][N])}}("candlestick"===w.config.chart.type||b.type&&"candlestick"===b.type)&&(E.pop(),E.push(w.globals.seriesCandleO[I][N]),E.push(w.globals.seriesCandleH[I][N]),E.push(w.globals.seriesCandleL[I][N]),E.push(w.globals.seriesCandleC[I][N])),("boxPlot"===w.config.chart.type||b.type&&"boxPlot"===b.type)&&(E.pop(),E.push(w.globals.seriesCandleO[I][N]),E.push(w.globals.seriesCandleH[I][N]),E.push(w.globals.seriesCandleM[I][N]),E.push(w.globals.seriesCandleL[I][N]),E.push(w.globals.seriesCandleC[I][N])),"rangeBar"===w.config.chart.type&&(E.pop(),E.push(w.globals.seriesRangeStart[I][N]),E.push(w.globals.seriesRangeEnd[I][N])),E.length&&D.push(E.join(g))}}}(b,I):((E=[]).push(w.globals.labels[I].split(g).join("")),E.push(O[I]),D.push(E.join(g)))}),k+=D.join(v),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+k),h||w.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(a,l,d){var h=document.createElement("a");h.href=a,h.download=(l||this.w.globals.chartID)+d,document.body.appendChild(h),h.click(),document.body.removeChild(h)}}]),V}(),wn=function(){function V(a,l){Ge(this,V),this.ctx=a,this.elgrid=l,this.w=a.w;var d=this.w;this.axesUtils=new Ye(a),this.xaxisLabels=d.globals.labels.slice(),d.globals.timescaleLabels.length>0&&!d.globals.isBarHorizontal&&(this.xaxisLabels=d.globals.timescaleLabels.slice()),d.config.xaxis.overwriteCategories&&(this.xaxisLabels=d.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===d.config.xaxis.position?0:d.globals.gridHeight+1,this.offY=this.offY+d.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===d.config.chart.type&&d.config.plotOptions.bar.horizontal,this.xaxisFontSize=d.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=d.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=d.config.xaxis.labels.style.colors,this.xaxisBorderWidth=d.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=d.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?d.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=d.config.xaxis.axisBorder.height,this.yaxis=d.config.yaxis[0]}return ut(V,[{key:"drawXaxis",value:function(){var a=this.w,l=new Re(this.ctx),d=l.group({class:"apexcharts-xaxis",transform:"translate(".concat(a.config.xaxis.offsetX,", ").concat(a.config.xaxis.offsetY,")")}),h=l.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(a.globals.translateXAxisX,", ").concat(a.globals.translateXAxisY,")")});d.add(h);for(var p=[],g=0;g<this.xaxisLabels.length;g++)p.push(this.xaxisLabels[g]);if(this.drawXAxisLabelAndGroup(!0,l,h,p,a.globals.isXNumeric,function(P,L){return L}),a.globals.hasXaxisGroups){var m=a.globals.groups;p=[];for(var v=0;v<m.length;v++)p.push(m[v].title);var w={};a.config.xaxis.group.style&&(w.xaxisFontSize=a.config.xaxis.group.style.fontSize,w.xaxisFontFamily=a.config.xaxis.group.style.fontFamily,w.xaxisForeColors=a.config.xaxis.group.style.colors,w.fontWeight=a.config.xaxis.group.style.fontWeight,w.cssClass=a.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,l,h,p,!1,function(P,L){return m[P].cols*L},w)}if(void 0!==a.config.xaxis.title.text){var E=l.group({class:"apexcharts-xaxis-title"}),D=l.drawText({x:a.globals.gridWidth/2+a.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===a.config.xaxis.position?a.globals.xAxisLabelsHeight:-a.globals.xAxisLabelsHeight-10)+a.config.xaxis.title.offsetY,text:a.config.xaxis.title.text,textAnchor:"middle",fontSize:a.config.xaxis.title.style.fontSize,fontFamily:a.config.xaxis.title.style.fontFamily,fontWeight:a.config.xaxis.title.style.fontWeight,foreColor:a.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+a.config.xaxis.title.style.cssClass});E.add(D),d.add(E)}if(a.config.xaxis.axisBorder.show){var k=a.globals.barPadForNumericAxis,O=l.drawLine(a.globals.padHorizontal+a.config.xaxis.axisBorder.offsetX-k,this.offY,this.xaxisBorderWidth+k,this.offY,a.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&a.config.grid.show?this.elgrid.elGridBorders.add(O):d.add(O)}return d}},{key:"drawXAxisLabelAndGroup",value:function(a,l,d,h,p,g){var m,v=this,w=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},E=[],D=[],k=this.w,O=w.xaxisFontSize||this.xaxisFontSize,P=w.xaxisFontFamily||this.xaxisFontFamily,L=w.xaxisForeColors||this.xaxisForeColors,z=w.fontWeight||k.config.xaxis.labels.style.fontWeight,$=w.cssClass||k.config.xaxis.labels.style.cssClass,K=k.globals.padHorizontal,b=h.length,I="category"===k.config.xaxis.type?k.globals.dataPoints:b;0===I&&b>I&&(I=b),p?(m=k.globals.gridWidth/Math.min(I>1?I-1:I,b-1),K=K+g(0,m)/2+k.config.xaxis.labels.offsetX):K=K+g(0,m=k.globals.gridWidth/I)+k.config.xaxis.labels.offsetX;for(var U=function(q){var ye=K-g(q,m)/2+k.config.xaxis.labels.offsetX;0===q&&1===b&&m/2===K&&1===I&&(ye=k.globals.gridWidth/2);var _e=v.axesUtils.getLabel(h,k.globals.timescaleLabels,ye,q,E,O,a),Oe=28;if(k.globals.rotateXLabels&&a&&(Oe=22),k.config.xaxis.title.text&&"top"===k.config.xaxis.position&&(Oe+=parseFloat(k.config.xaxis.title.style.fontSize)+2),a||(Oe=Oe+parseFloat(O)+(k.globals.xAxisLabelsHeight-k.globals.xAxisGroupLabelsHeight)+(k.globals.rotateXLabels?10:0)),_e=void 0!==k.config.xaxis.tickAmount&&"dataPoints"!==k.config.xaxis.tickAmount&&"datetime"!==k.config.xaxis.type?v.axesUtils.checkLabelBasedOnTickamount(q,_e,b):v.axesUtils.checkForOverflowingLabels(q,_e,b,E,D),k.config.xaxis.labels.show){var ce=l.drawText({x:_e.x,y:v.offY+k.config.xaxis.labels.offsetY+Oe-("top"===k.config.xaxis.position?k.globals.xAxisHeight+k.config.xaxis.axisTicks.height-2:0),text:_e.text,textAnchor:"middle",fontWeight:_e.isBold?600:z,fontSize:O,fontFamily:P,foreColor:Array.isArray(L)?a&&k.config.xaxis.convertedCatToNumeric?L[k.globals.minX+q-1]:L[q]:L,isPlainText:!1,cssClass:(a?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+$});if(d.add(ce),ce.on("click",function(ke){if("function"==typeof k.config.chart.events.xAxisLabelClick){var xt=Object.assign({},k,{labelIndex:q});k.config.chart.events.xAxisLabelClick(ke,v.ctx,xt)}}),a){var qe=document.createElementNS(k.globals.SVGNS,"title");qe.textContent=Array.isArray(_e.text)?_e.text.join(" "):_e.text,ce.node.appendChild(qe),""!==_e.text&&(E.push(_e.text),D.push(_e))}}q<b-1&&(K+=g(q+1,m))},Q=0;Q<=b-1;Q++)U(Q)}},{key:"drawXaxisInversed",value:function(a){var l,d,h=this,p=this.w,g=new Re(this.ctx),m=p.config.yaxis[0].opposite?p.globals.translateYAxisX[a]:0,v=g.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:a}),w=g.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+m+", 0)"});v.add(w);var E=[];if(p.config.yaxis[a].show)for(var D=0;D<this.xaxisLabels.length;D++)E.push(this.xaxisLabels[D]);d=-(l=p.globals.gridHeight/E.length)/2.2;var k=p.globals.yLabelFormatters[0],O=p.config.yaxis[0].labels;if(O.show)for(var P=function(N){var U=void 0===E[N]?"":E[N];U=k(U,{seriesIndex:a,dataPointIndex:N,w:p});var Q=h.axesUtils.getYAxisForeColor(O.style.colors,a),q=0;Array.isArray(U)&&(q=U.length/2*parseInt(O.style.fontSize,10));var ye=O.offsetX-15,_e="end";h.yaxis.opposite&&(_e="start"),"left"===p.config.yaxis[0].labels.align?(ye=O.offsetX,_e="start"):"center"===p.config.yaxis[0].labels.align?(ye=O.offsetX,_e="middle"):"right"===p.config.yaxis[0].labels.align&&(_e="end");var Oe=g.drawText({x:ye,y:d+l+O.offsetY-q,text:U,textAnchor:_e,foreColor:Array.isArray(Q)?Q[N]:Q,fontSize:O.style.fontSize,fontFamily:O.style.fontFamily,fontWeight:O.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+O.style.cssClass,maxWidth:O.maxWidth});w.add(Oe),Oe.on("click",function(ke){if("function"==typeof p.config.chart.events.xAxisLabelClick){var xt=Object.assign({},p,{labelIndex:N});p.config.chart.events.xAxisLabelClick(ke,h.ctx,xt)}});var ce=document.createElementNS(p.globals.SVGNS,"title");if(ce.textContent=Array.isArray(U)?U.join(" "):U,Oe.node.appendChild(ce),0!==p.config.yaxis[a].labels.rotate){var qe=g.rotateAroundCenter(Oe.node);Oe.node.setAttribute("transform","rotate(".concat(p.config.yaxis[a].labels.rotate," 0 ").concat(qe.y,")"))}d+=l},L=0;L<=E.length-1;L++)P(L);if(void 0!==p.config.yaxis[0].title.text){var z=g.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+m+", 0)"}),$=g.drawText({x:p.config.yaxis[0].title.offsetX,y:p.globals.gridHeight/2+p.config.yaxis[0].title.offsetY,text:p.config.yaxis[0].title.text,textAnchor:"middle",foreColor:p.config.yaxis[0].title.style.color,fontSize:p.config.yaxis[0].title.style.fontSize,fontWeight:p.config.yaxis[0].title.style.fontWeight,fontFamily:p.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+p.config.yaxis[0].title.style.cssClass});z.add($),v.add(z)}var K=0;this.isCategoryBarHorizontal&&p.config.yaxis[0].opposite&&(K=p.globals.gridWidth);var b=p.config.xaxis.axisBorder;if(b.show){var I=g.drawLine(p.globals.padHorizontal+b.offsetX+K,1+b.offsetY,p.globals.padHorizontal+b.offsetX+K,p.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&p.config.grid.show?this.elgrid.elGridBorders.add(I):v.add(I)}return p.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(K,E.length,p.config.yaxis[0].axisBorder,p.config.yaxis[0].axisTicks,0,l,v),v}},{key:"drawXaxisTicks",value:function(a,l,d){var h=this.w,p=a;if(!(a<0||a-2>h.globals.gridWidth)){var g=this.offY+h.config.xaxis.axisTicks.offsetY;if(l=l+g+h.config.xaxis.axisTicks.height,"top"===h.config.xaxis.position&&(l=g-h.config.xaxis.axisTicks.height),h.config.xaxis.axisTicks.show){var m=new Re(this.ctx).drawLine(a+h.config.xaxis.axisTicks.offsetX,g+h.config.xaxis.offsetY,p+h.config.xaxis.axisTicks.offsetX,l+h.config.xaxis.offsetY,h.config.xaxis.axisTicks.color);d.add(m),m.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var a=this.w,l=[],d=this.xaxisLabels.length,h=a.globals.padHorizontal;if(a.globals.timescaleLabels.length>0)for(var p=0;p<d;p++)l.push(h=this.xaxisLabels[p].position);else for(var g=d,m=0;m<g;m++){var v=g;a.globals.isXNumeric&&"bar"!==a.config.chart.type&&(v-=1),l.push(h+=a.globals.gridWidth/v)}return l}},{key:"xAxisLabelCorrections",value:function(){var a=this.w,l=new Re(this.ctx),d=a.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),h=a.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),p=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),g=a.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(a.globals.rotateXLabels||a.config.xaxis.labels.rotateAlways)for(var m=0;m<h.length;m++){var v=l.rotateAroundCenter(h[m]);v.y=v.y-1,v.x=v.x+1,h[m].setAttribute("transform","rotate(".concat(a.config.xaxis.labels.rotate," ").concat(v.x," ").concat(v.y,")")),h[m].setAttribute("text-anchor","end"),d.setAttribute("transform","translate(0, ".concat(-10,")")),a.config.xaxis.labels.trim&&Array.prototype.forEach.call(h[m].childNodes,function(O){l.placeTextWithEllipsis(O,O.textContent,a.globals.xAxisLabelsHeight-("bottom"===a.config.legend.position?20:10))})}else!function(){for(var O=a.globals.gridWidth/(a.globals.labels.length+1),P=0;P<h.length;P++)a.config.xaxis.labels.trim&&"datetime"!==a.config.xaxis.type&&Array.prototype.forEach.call(h[P].childNodes,function(z){l.placeTextWithEllipsis(z,z.textContent,O)})}();if(p.length>0){var E=p[p.length-1].getBBox(),D=p[0].getBBox();E.x<-20&&p[p.length-1].parentNode.removeChild(p[p.length-1]),D.x+D.width>a.globals.gridWidth&&!a.globals.isBarHorizontal&&p[0].parentNode.removeChild(p[0]);for(var k=0;k<g.length;k++)l.placeTextWithEllipsis(g[k],g[k].textContent,a.config.yaxis[0].labels.maxWidth-(a.config.yaxis[0].title.text?2*parseFloat(a.config.yaxis[0].title.style.fontSize):0)-15)}}}]),V}(),wi=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w;var l=this.w;this.xaxisLabels=l.globals.labels.slice(),this.axesUtils=new Ye(a),this.isRangeBar=l.globals.seriesRange.length&&l.globals.isBarHorizontal,l.globals.timescaleLabels.length>0&&(this.xaxisLabels=l.globals.timescaleLabels.slice())}return ut(V,[{key:"drawGridArea",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w,d=new Re(this.ctx);null===a&&(a=d.group({class:"apexcharts-grid"}));var h=d.drawLine(l.globals.padHorizontal,1,l.globals.padHorizontal,l.globals.gridHeight,"transparent"),p=d.drawLine(l.globals.padHorizontal,l.globals.gridHeight,l.globals.gridWidth,l.globals.gridHeight,"transparent");return a.add(p),a.add(h),a}},{key:"drawGrid",value:function(){var a=null;return this.w.globals.axisCharts&&(a=this.renderGrid(),this.drawGridArea(a.el)),a}},{key:"createGridMask",value:function(){var a=this.w,l=a.globals,d=new Re(this.ctx),h=Array.isArray(a.config.stroke.width)?0:a.config.stroke.width;if(Array.isArray(a.config.stroke.width)){var p=0;a.config.stroke.width.forEach(function(D){p=Math.max(p,D)}),h=p}l.dom.elGridRectMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(l.cuid)),l.dom.elGridRectMarkerMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(l.cuid)),l.dom.elForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elForecastMask.setAttribute("id","forecastMask".concat(l.cuid)),l.dom.elNonForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(l.cuid));var g=a.config.chart.type,m=0,v=0;("bar"===g||"rangeBar"===g||"candlestick"===g||"boxPlot"===g||a.globals.comboBarCount>0)&&a.globals.isXNumeric&&!a.globals.isBarHorizontal&&(v=a.config.grid.padding.right,l.barPadForNumericAxis>(m=a.config.grid.padding.left)&&(m=l.barPadForNumericAxis,v=l.barPadForNumericAxis)),l.dom.elGridRect=d.drawRect(-h-m-2,2*-h-2,l.gridWidth+h+v+m+4,l.gridHeight+4*h+4,0,"#fff");var w=a.globals.markers.largestSize+1;l.dom.elGridRectMarker=d.drawRect(2*-w,2*-w,l.gridWidth+4*w,l.gridHeight+4*w,0,"#fff"),l.dom.elGridRectMask.appendChild(l.dom.elGridRect.node),l.dom.elGridRectMarkerMask.appendChild(l.dom.elGridRectMarker.node);var E=l.dom.baseEl.querySelector("defs");E.appendChild(l.dom.elGridRectMask),E.appendChild(l.dom.elForecastMask),E.appendChild(l.dom.elNonForecastMask),E.appendChild(l.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(a){var l=a.i,d=a.x1,m=a.xCount,w=this.w;if(!(0===l&&w.globals.skipFirstTimelinelabel||l===m-1&&w.globals.skipLastTimelinelabel&&!w.config.xaxis.labels.formatter||"radar"===w.config.chart.type)){w.config.grid.xaxis.lines.show&&this._drawGridLine({i:l,x1:d,y1:a.y1,x2:a.x2,y2:a.y2,xCount:m,parent:a.parent});var E=0;if(w.globals.hasXaxisGroups&&"between"===w.config.xaxis.tickPlacement){var D=w.globals.groups;if(D){for(var k=0,O=0;k<l&&O<D.length;O++)k+=D[O].cols;k===l&&(E=.6*w.globals.xAxisLabelsHeight)}}new wn(this.ctx).drawXaxisTicks(d,E,w.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(a){var l=a.i,d=a.x1,h=a.y1,p=a.x2,g=a.y2,m=a.xCount,v=a.parent,w=this.w,E=!1,D=v.node.classList.contains("apexcharts-gridlines-horizontal"),k=w.config.grid.strokeDashArray,O=w.globals.barPadForNumericAxis;(0===h&&0===g||0===d&&0===p)&&(E=!0),h===w.globals.gridHeight&&g===w.globals.gridHeight&&(E=!0),!w.globals.isBarHorizontal||0!==l&&l!==m-1||(E=!0);var P=new Re(this).drawLine(d-(D?O:0),h,p+(D?O:0),g,w.config.grid.borderColor,k);P.node.classList.add("apexcharts-gridline"),E&&w.config.grid.show?this.elGridBorders.add(P):v.add(P)}},{key:"_drawGridBandRect",value:function(a){var l=a.c,d=a.x1,h=a.y1,p=a.x2,g=a.y2,m=a.type,v=this.w,w=new Re(this.ctx),E=v.globals.barPadForNumericAxis;if("column"!==m||"datetime"!==v.config.xaxis.type){var k=w.drawRect(d-("row"===m?E:0),h,p+("row"===m?2*E:0),g,0,v.config.grid[m].colors[l],v.config.grid[m].opacity);this.elg.add(k),k.attr("clip-path","url(#gridRectMask".concat(v.globals.cuid,")")),k.node.classList.add("apexcharts-grid-".concat(m))}}},{key:"_drawXYLines",value:function(a){var l=this,d=a.xCount,h=a.tickAmount,p=this.w;if(p.config.grid.xaxis.lines.show||p.config.xaxis.axisTicks.show){var g,m=p.globals.padHorizontal,v=p.globals.gridHeight;p.globals.timescaleLabels.length?function(P){for(var L=P.xC,$=P.y1,b=P.y2,I=0;I<L;I++)l._drawGridLines({i:I,x1:l.xaxisLabels[I].position,y1:$,x2:l.xaxisLabels[I].position,y2:b,xCount:d,parent:l.elgridLinesV})}({xC:d,x1:m,y1:0,x2:g,y2:v}):(p.globals.isXNumeric&&(d=p.globals.xAxisScale.result.length),function(P){for(var L=P.xC,z=P.x1,$=P.y1,K=P.x2,b=P.y2,I=0;I<L+(p.globals.isXNumeric?0:1);I++)0===I&&1===L&&1===p.globals.dataPoints&&(K=z=p.globals.gridWidth/2),l._drawGridLines({i:I,x1:z,y1:$,x2:K,y2:b,xCount:d,parent:l.elgridLinesV}),K=z+=p.globals.gridWidth/(p.globals.isXNumeric?L-1:L)}({xC:d,x1:m,y1:0,x2:g,y2:v}))}if(p.config.grid.yaxis.lines.show){var w=0,E=0,D=p.globals.gridWidth,k=h+1;this.isRangeBar&&(k=p.globals.labels.length);for(var O=0;O<k+(this.isRangeBar?1:0);O++)this._drawGridLine({i:O,xCount:k+(this.isRangeBar?1:0),x1:0,y1:w,x2:D,y2:E,parent:this.elgridLinesH}),E=w+=p.globals.gridHeight/(this.isRangeBar?k:h)}}},{key:"_drawInvertedXYLines",value:function(a){var l=a.xCount,d=this.w;if(d.config.grid.xaxis.lines.show||d.config.xaxis.axisTicks.show)for(var h,p=d.globals.padHorizontal,g=d.globals.gridHeight,m=0;m<l+1;m++)d.config.grid.xaxis.lines.show&&this._drawGridLine({i:m,xCount:l+1,x1:p,y1:0,x2:h,y2:g,parent:this.elgridLinesV}),new wn(this.ctx).drawXaxisTicks(p,0,d.globals.dom.elGraphical),h=p=p+d.globals.gridWidth/l+.3;if(d.config.grid.yaxis.lines.show)for(var v=0,w=0,E=d.globals.gridWidth,D=0;D<d.globals.dataPoints+1;D++)this._drawGridLine({i:D,xCount:d.globals.dataPoints+1,x1:0,y1:v,x2:E,y2:w,parent:this.elgridLinesH}),w=v+=d.globals.gridHeight/d.globals.dataPoints}},{key:"renderGrid",value:function(){var a=this.w,l=new Re(this.ctx);this.elg=l.group({class:"apexcharts-grid"}),this.elgridLinesH=l.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=l.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=l.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),a.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var d,h=a.globals.yAxisScale.length?a.globals.yAxisScale[0].result.length-1:5,p=0;p<a.globals.series.length&&(void 0!==a.globals.yAxisScale[p]&&(h=a.globals.yAxisScale[p].result.length-1),!(h>2));p++);return!a.globals.isBarHorizontal||this.isRangeBar?(d=this.xaxisLabels.length,this.isRangeBar&&(d--,h=a.globals.labels.length,a.config.xaxis.tickAmount&&a.config.xaxis.labels.formatter&&(d=a.config.xaxis.tickAmount)),this._drawXYLines({xCount:d,tickAmount:h})):this._drawInvertedXYLines({xCount:d=h,tickAmount:h=a.globals.xTickAmount}),this.drawGridBands(d,h),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:a.globals.gridWidth/d}}},{key:"drawGridBands",value:function(a,l){var d=this.w;if(void 0!==d.config.grid.row.colors&&d.config.grid.row.colors.length>0)for(var h=0,p=d.globals.gridHeight/l,g=d.globals.gridWidth,m=0,v=0;m<l;m++,v++)v>=d.config.grid.row.colors.length&&(v=0),this._drawGridBandRect({c:v,x1:0,y1:h,x2:g,y2:p,type:"row"}),h+=d.globals.gridHeight/l;if(void 0!==d.config.grid.column.colors&&d.config.grid.column.colors.length>0)for(var w=d.globals.isBarHorizontal||"on"!==d.config.xaxis.tickPlacement||"category"!==d.config.xaxis.type&&!d.config.xaxis.convertedCatToNumeric?a:a-1,E=d.globals.padHorizontal,D=d.globals.padHorizontal+d.globals.gridWidth/w,k=d.globals.gridHeight,O=0,P=0;O<a;O++,P++)P>=d.config.grid.column.colors.length&&(P=0),this._drawGridBandRect({c:P,x1:E,y1:0,x2:D,y2:k,type:"column"}),E+=d.globals.gridWidth/w}}]),V}(),zn=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"niceScale",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,p=arguments.length>4?arguments[4]:void 0,g=this.w,m=Math.abs(l-a);if("dataPoints"===(d=this._adjustTicksForSmallRange(d,h,m))&&(d=g.globals.dataPoints-1),a===Number.MIN_VALUE&&0===l||!pe.isNumber(a)&&!pe.isNumber(l)||a===Number.MIN_VALUE&&l===-Number.MAX_VALUE)return this.linearScale(a=0,l=d,d);a>l?(console.warn("axis.min cannot be greater than axis.max"),l=a+.1):a===l&&(a=0===a?0:a-.5,l=0===l?2:l+.5);var v=[];m<1&&p&&("candlestick"===g.config.chart.type||"candlestick"===g.config.series[h].type||"boxPlot"===g.config.chart.type||"boxPlot"===g.config.series[h].type||g.globals.isRangeData)&&(l*=1.01);var w=d+1;w<2?w=2:w>2&&(w-=2);var E=m/w,D=Math.floor(pe.log10(E)),k=Math.pow(10,D),O=Math.round(E/k);O<1&&(O=1);var P=O*k,L=P*Math.floor(a/P),z=P*Math.ceil(l/P),$=L;if(p&&m>2){for(;v.push(pe.stripNumber($,7)),!(($+=P)>z););return{result:v,niceMin:v[0],niceMax:v[v.length-1]}}var K=a;(v=[]).push(pe.stripNumber(K,7));for(var b=Math.abs(l-a)/d,I=0;I<=d;I++)v.push(K+=b);return v[v.length-2]>=l&&v.pop(),{result:v,niceMin:v[0],niceMax:v[v.length-1]}}},{key:"linearScale",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,h=arguments.length>3?arguments[3]:void 0,p=Math.abs(l-a);"dataPoints"===(d=this._adjustTicksForSmallRange(d,h,p))&&(d=this.w.globals.dataPoints-1);var g=p/d;d===Number.MAX_VALUE&&(d=10,g=1);for(var m=[],v=a;d>=0;)m.push(v),v+=g,d-=1;return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"logarithmicScaleNice",value:function(a,l,d){l<=0&&(l=Math.max(a,d)),a<=0&&(a=Math.min(l,d));for(var h=[],p=Math.ceil(Math.log(l)/Math.log(d)+1),g=Math.floor(Math.log(a)/Math.log(d));g<p;g++)h.push(Math.pow(d,g));return{result:h,niceMin:h[0],niceMax:h[h.length-1]}}},{key:"logarithmicScale",value:function(a,l,d){l<=0&&(l=Math.max(a,d)),a<=0&&(a=Math.min(l,d));for(var h=[],p=Math.log(l)/Math.log(d),g=Math.log(a)/Math.log(d),m=p-g,v=Math.round(m),w=m/v,E=0,D=g;E<v;E++,D+=w)h.push(Math.pow(d,D));return h.push(Math.pow(d,p)),{result:h,niceMin:a,niceMax:l}}},{key:"_adjustTicksForSmallRange",value:function(a,l,d){var h=a;if(void 0!==l&&this.w.config.yaxis[l].labels.formatter&&void 0===this.w.config.yaxis[l].tickAmount){var p=Number(this.w.config.yaxis[l].labels.formatter(1));pe.isNumber(p)&&0===this.w.globals.yValueDecimal&&(h=Math.ceil(d))}return h<a?h:a}},{key:"setYScaleForIndex",value:function(a,l,d){var h=this.w.globals,p=this.w.config,g=h.isBarHorizontal?p.xaxis:p.yaxis[a];void 0===h.yAxisScale[a]&&(h.yAxisScale[a]=[]);var m=Math.abs(d-l);g.logarithmic&&m<=5&&(h.invalidLogScale=!0),g.logarithmic&&m>5?(h.allSeriesCollapsed=!1,h.yAxisScale[a]=this.logarithmicScale(l,d,g.logBase),h.yAxisScale[a]=g.forceNiceScale?this.logarithmicScaleNice(l,d,g.logBase):this.logarithmicScale(l,d,g.logBase)):d!==-Number.MAX_VALUE&&pe.isNumber(d)?(h.allSeriesCollapsed=!1,h.yAxisScale[a]=void 0===g.min&&void 0===g.max||g.forceNiceScale?this.niceScale(l,d,g.tickAmount?g.tickAmount:m<5&&m>1?m+1:5,a,void 0===p.yaxis[a].max&&void 0===p.yaxis[a].min||p.yaxis[a].forceNiceScale):this.linearScale(l,d,g.tickAmount,a)):h.yAxisScale[a]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(a,l){var d=this.w,h=d.globals,p=d.config.xaxis,g=Math.abs(l-a);return h.xAxisScale=l!==-Number.MAX_VALUE&&pe.isNumber(l)?this.linearScale(a,l,p.tickAmount?p.tickAmount:g<5&&g>1?g+1:5,0):this.linearScale(0,5,5),h.xAxisScale}},{key:"setMultipleYScales",value:function(){var a=this,l=this.w.globals,d=this.w.config,h=l.minYArr.concat([]),p=l.maxYArr.concat([]),g=[];d.yaxis.forEach(function(m,v){var w=v;d.series.forEach(function(k,O){k.name===m.seriesName&&(w=O,g.push(v!==O?{index:O,similarIndex:v,alreadyExists:!0}:{index:O}))}),a.setYScaleForIndex(v,h[w],p[w])}),this.sameScaleInMultipleAxes(h,p,g)}},{key:"sameScaleInMultipleAxes",value:function(a,l,d){var h=this,p=this.w.config,g=this.w.globals,m=[];d.forEach(function(L){L.alreadyExists&&(void 0===m[L.index]&&(m[L.index]=[]),m[L.index].push(L.index),m[L.index].push(L.similarIndex))}),g.yAxisSameScaleIndices=m,m.forEach(function(L,z){m.forEach(function($,K){var b,I;z!==K&&(b=L,I=$,b.filter(function(N){return-1!==I.indexOf(N)})).length>0&&(m[z]=m[z].concat(m[K]))})});var v=m.map(function(L){return L.filter(function(z,$){return L.indexOf(z)===$})}).map(function(L){return L.sort()});m=m.filter(function(L){return!!L});var w=v.slice(),E=w.map(function(L){return JSON.stringify(L)});w=w.filter(function(L,z){return E.indexOf(JSON.stringify(L))===z});var D=[],k=[];a.forEach(function(L,z){w.forEach(function($,K){$.indexOf(z)>-1&&(void 0===D[K]&&(D[K]=[],k[K]=[]),D[K].push({key:z,value:L}),k[K].push({key:z,value:l[z]}))})});var O=Array.apply(null,Array(w.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),P=Array.apply(null,Array(w.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);D.forEach(function(L,z){L.forEach(function($,K){O[z]=Math.min($.value,O[z])})}),k.forEach(function(L,z){L.forEach(function($,K){P[z]=Math.max($.value,P[z])})}),a.forEach(function(L,z){k.forEach(function($,K){var b=O[K],I=P[K];p.chart.stacked&&(I=0,$.forEach(function(N,U){N.value!==-Number.MAX_VALUE&&(I+=N.value),b!==Number.MIN_VALUE&&(b+=D[K][U].value)})),$.forEach(function(N,U){$[U].key===z&&(void 0!==p.yaxis[z].min&&(b="function"==typeof p.yaxis[z].min?p.yaxis[z].min(g.minY):p.yaxis[z].min),void 0!==p.yaxis[z].max&&(I="function"==typeof p.yaxis[z].max?p.yaxis[z].max(g.maxY):p.yaxis[z].max),h.setYScaleForIndex(z,b,I))})})})}},{key:"autoScaleY",value:function(a,l,d){a||(a=this);var h=a.w;if(h.globals.isMultipleYAxis||h.globals.collapsedSeries.length)return console.warn("autoScaleYaxis not supported in a multi-yaxis chart."),l;var p=h.globals.seriesX[0],g=h.config.chart.stacked;return l.forEach(function(m,v){for(var w=0,E=0;E<p.length;E++)if(p[E]>=d.xaxis.min){w=E;break}var D,k,O=h.globals.minYArr[v],P=h.globals.maxYArr[v],L=h.globals.stackedSeriesTotals;h.globals.series.forEach(function(z,$){var K=z[w];g?(D=k=K=L[w],L.forEach(function(b,I){p[I]<=d.xaxis.max&&p[I]>=d.xaxis.min&&(b>k&&null!==b&&(k=b),z[I]<D&&null!==z[I]&&(D=z[I]))})):(D=k=K,z.forEach(function(b,I){if(p[I]<=d.xaxis.max&&p[I]>=d.xaxis.min){var N=b,U=b;h.globals.series.forEach(function(Q,q){null!==b&&(N=Math.min(Q[I],N),U=Math.max(Q[I],U))}),U>k&&null!==U&&(k=U),N<D&&null!==N&&(D=N)}})),void 0===D&&void 0===k&&(D=O,k=P),k*=k<0?.9:1.1,0==(D*=D<0?1.1:.9)&&0===k&&(D=-1,k=1),k<0&&k<P&&(k=P),D<0&&D>O&&(D=O),l.length>1?(l[$].min=void 0===m.min?D:m.min,l[$].max=void 0===m.max?k:m.max):(l[0].min=void 0===m.min?D:m.min,l[0].max=void 0===m.max?k:m.max)})}),l}}]),V}(),gi=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.scales=new zn(a)}return ut(V,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=this.w.config,g=this.w.globals,m=-Number.MAX_VALUE,v=Number.MIN_VALUE;null===h&&(h=a+1);var w=g.series,E=w,D=w;"candlestick"===p.chart.type?(E=g.seriesCandleL,D=g.seriesCandleH):"boxPlot"===p.chart.type?(E=g.seriesCandleO,D=g.seriesCandleC):g.isRangeData&&(E=g.seriesRangeStart,D=g.seriesRangeEnd);for(var k=a;k<h;k++){g.dataPoints=Math.max(g.dataPoints,w[k].length),g.categoryLabels.length&&(g.dataPoints=g.categoryLabels.filter(function(L){return void 0!==L}).length),g.labels.length&&"datetime"!==p.xaxis.type&&0!==g.series.reduce(function(L,z){return L+z.length},0)&&(g.dataPoints=Math.max(g.dataPoints,g.labels.length));for(var O=0;O<g.series[k].length;O++){var P=w[k][O];null!==P&&pe.isNumber(P)?(void 0!==D[k][O]&&(m=Math.max(m,D[k][O]),l=Math.min(l,D[k][O])),void 0!==E[k][O]&&(l=Math.min(l,E[k][O]),d=Math.max(d,E[k][O])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==g.seriesCandleC[k][O]&&(m=Math.max(m,g.seriesCandleO[k][O]),m=Math.max(m,g.seriesCandleH[k][O]),m=Math.max(m,g.seriesCandleL[k][O]),m=Math.max(m,g.seriesCandleC[k][O]),"boxPlot"===this.w.config.chart.type&&(m=Math.max(m,g.seriesCandleM[k][O]))),!p.series[k].type||"candlestick"===p.series[k].type&&"boxPlot"===p.series[k].type&&"rangeArea"===p.series[k].type&&"rangeBar"===p.series[k].type||(m=Math.max(m,g.series[k][O]),l=Math.min(l,g.series[k][O])),d=m),g.seriesGoals[k]&&g.seriesGoals[k][O]&&Array.isArray(g.seriesGoals[k][O])&&g.seriesGoals[k][O].forEach(function(L){v!==Number.MIN_VALUE&&(v=Math.min(v,L.value),l=v),m=Math.max(m,L.value),d=m}),pe.isFloat(P)&&(P=pe.noExponents(P),g.yValueDecimal=Math.max(g.yValueDecimal,P.toString().split(".")[1].length)),v>E[k][O]&&E[k][O]<0&&(v=E[k][O])):g.hasNullValues=!0}}return"rangeBar"===p.chart.type&&g.seriesRangeStart.length&&g.isBarHorizontal&&(v=l),"bar"===p.chart.type&&(v<0&&m<0&&(m=0),v===Number.MIN_VALUE&&(v=0)),{minY:v,maxY:m,lowestY:l,highestY:d}}},{key:"setYRange",value:function(){var a=this.w.globals,l=this.w.config;a.maxY=-Number.MAX_VALUE,a.minY=Number.MIN_VALUE;var d=Number.MAX_VALUE;if(a.isMultipleYAxis)for(var h=0;h<a.series.length;h++){var p=this.getMinYMaxY(h,d,null,h+1);a.minYArr.push(p.minY),a.maxYArr.push(p.maxY),d=p.lowestY}var g=this.getMinYMaxY(0,d,null,a.series.length);if(a.minY=g.minY,a.maxY=g.maxY,d=g.lowestY,l.chart.stacked&&this._setStackedMinMax(),("line"===l.chart.type||"area"===l.chart.type||"candlestick"===l.chart.type||"boxPlot"===l.chart.type||"rangeBar"===l.chart.type&&!a.isBarHorizontal)&&a.minY===Number.MIN_VALUE&&d!==-Number.MAX_VALUE&&d!==a.maxY){var m=a.maxY-d;(d>=0&&d<=10||void 0!==l.yaxis[0].min||void 0!==l.yaxis[0].max)&&(m=0),a.minY=d-5*m/100,d>0&&a.minY<0&&(a.minY=0),a.maxY=a.maxY+5*m/100}return l.yaxis.forEach(function(v,w){void 0!==v.max&&("number"==typeof v.max?a.maxYArr[w]=v.max:"function"==typeof v.max&&(a.maxYArr[w]=v.max(a.isMultipleYAxis?a.maxYArr[w]:a.maxY)),a.maxY=a.maxYArr[w]),void 0!==v.min&&("number"==typeof v.min?a.minYArr[w]=v.min:"function"==typeof v.min&&(a.minYArr[w]=v.min(a.isMultipleYAxis?a.minYArr[w]===Number.MIN_VALUE?0:a.minYArr[w]:a.minY)),a.minY=a.minYArr[w])}),a.isBarHorizontal&&["min","max"].forEach(function(v){void 0!==l.xaxis[v]&&"number"==typeof l.xaxis[v]&&("min"===v?a.minY=l.xaxis[v]:a.maxY=l.xaxis[v])}),a.isMultipleYAxis?(this.scales.setMultipleYScales(),a.minY=d,a.yAxisScale.forEach(function(v,w){a.minYArr[w]=v.niceMin,a.maxYArr[w]=v.niceMax})):(this.scales.setYScaleForIndex(0,a.minY,a.maxY),a.minY=a.yAxisScale[0].niceMin,a.maxY=a.yAxisScale[0].niceMax,a.minYArr[0]=a.yAxisScale[0].niceMin,a.maxYArr[0]=a.yAxisScale[0].niceMax),{minY:a.minY,maxY:a.maxY,minYArr:a.minYArr,maxYArr:a.maxYArr,yAxisScale:a.yAxisScale}}},{key:"setXRange",value:function(){var a=this.w.globals,l=this.w.config,d="numeric"===l.xaxis.type||"datetime"===l.xaxis.type||"category"===l.xaxis.type&&!a.noLabelsProvided||a.noLabelsProvided||a.isXNumeric;if(a.isXNumeric&&function(){for(var m=0;m<a.series.length;m++)if(a.labels[m])for(var v=0;v<a.labels[m].length;v++)null!==a.labels[m][v]&&pe.isNumber(a.labels[m][v])&&(a.maxX=Math.max(a.maxX,a.labels[m][v]),a.initialMaxX=Math.max(a.maxX,a.labels[m][v]),a.minX=Math.min(a.minX,a.labels[m][v]),a.initialMinX=Math.min(a.minX,a.labels[m][v]))}(),a.noLabelsProvided&&0===l.xaxis.categories.length&&(a.maxX=a.labels[a.labels.length-1],a.initialMaxX=a.labels[a.labels.length-1],a.minX=1,a.initialMinX=1),a.isXNumeric||a.noLabelsProvided||a.dataFormatXNumeric){var h;if(void 0===l.xaxis.tickAmount?(h=Math.round(a.svgWidth/150),"numeric"===l.xaxis.type&&a.dataPoints<30&&(h=a.dataPoints-1),h>a.dataPoints&&0!==a.dataPoints&&(h=a.dataPoints-1)):"dataPoints"===l.xaxis.tickAmount?(a.series.length>1&&(h=a.series[a.maxValsInArrayIndex].length-1),a.isXNumeric&&(h=a.maxX-a.minX-1)):h=l.xaxis.tickAmount,a.xTickAmount=h,void 0!==l.xaxis.max&&"number"==typeof l.xaxis.max&&(a.maxX=l.xaxis.max),void 0!==l.xaxis.min&&"number"==typeof l.xaxis.min&&(a.minX=l.xaxis.min),void 0!==l.xaxis.range&&(a.minX=a.maxX-l.xaxis.range),a.minX!==Number.MAX_VALUE&&a.maxX!==-Number.MAX_VALUE)if(l.xaxis.convertedCatToNumeric&&!a.dataFormatXNumeric){for(var p=[],g=a.minX-1;g<a.maxX;g++)p.push(g+1);a.xAxisScale={result:p,niceMin:p[0],niceMax:p[p.length-1]}}else a.xAxisScale=this.scales.setXScale(a.minX,a.maxX);else a.xAxisScale=this.scales.linearScale(0,h,h),a.noLabelsProvided&&a.labels.length>0&&(a.xAxisScale=this.scales.linearScale(1,a.labels.length,h-1),a.seriesX=a.labels.slice());d&&(a.labels=a.xAxisScale.result.slice())}return a.isBarHorizontal&&a.labels.length&&(a.xTickAmount=a.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:a.minX,maxX:a.maxX}}},{key:"setZRange",value:function(){var a=this.w.globals;if(a.isDataXYZ)for(var l=0;l<a.series.length;l++)if(void 0!==a.seriesZ[l])for(var d=0;d<a.seriesZ[l].length;d++)null!==a.seriesZ[l][d]&&pe.isNumber(a.seriesZ[l][d])&&(a.maxZ=Math.max(a.maxZ,a.seriesZ[l][d]),a.minZ=Math.min(a.minZ,a.seriesZ[l][d]))}},{key:"_handleSingleDataPoint",value:function(){var a=this.w.globals,l=this.w.config;if(a.minX===a.maxX){var d=new fn(this.ctx);if("datetime"===l.xaxis.type){var h=d.getDate(a.minX);l.xaxis.labels.datetimeUTC?h.setUTCDate(h.getUTCDate()-2):h.setDate(h.getDate()-2),a.minX=new Date(h).getTime();var p=d.getDate(a.maxX);l.xaxis.labels.datetimeUTC?p.setUTCDate(p.getUTCDate()+2):p.setDate(p.getDate()+2),a.maxX=new Date(p).getTime()}else("numeric"===l.xaxis.type||"category"===l.xaxis.type&&!a.noLabelsProvided)&&(a.minX=a.minX-2,a.initialMinX=a.minX,a.maxX=a.maxX+2,a.initialMaxX=a.maxX)}}},{key:"_getMinXDiff",value:function(){var a=this.w.globals;a.isXNumeric&&a.seriesX.forEach(function(l,d){1===l.length&&l.push(a.seriesX[a.maxValsInArrayIndex][a.seriesX[a.maxValsInArrayIndex].length-1]);var h=l.slice();h.sort(function(p,g){return p-g}),h.forEach(function(p,g){if(g>0){var m=p-h[g-1];m>0&&(a.minXDiff=Math.min(m,a.minXDiff))}}),1!==a.dataPoints&&a.minXDiff!==Number.MAX_VALUE||(a.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var a=this,l=this.w.globals;if(l.series.length){var d=l.seriesGroups;d.length||(d=[this.w.config.series.map(function(g){return g.name})]);var h={},p={};d.forEach(function(g){h[g]=[],p[g]=[],a.w.config.series.map(function(m,v){return g.indexOf(m.name)>-1?v:null}).filter(function(m){return null!==m}).forEach(function(m){for(var v=0;v<l.series[l.maxValsInArrayIndex].length;v++)void 0===h[g][v]&&(h[g][v]=0,p[g][v]=0),null!==l.series[m][v]&&pe.isNumber(l.series[m][v])&&(l.series[m][v]>0?h[g][v]+=parseFloat(l.series[m][v])+1e-4:p[g][v]+=parseFloat(l.series[m][v]))})}),Object.entries(h).forEach(function(g){var m=Bn(g,1)[0];h[m].forEach(function(v,w){l.maxY=Math.max(l.maxY,h[m][w]),l.minY=Math.min(l.minY,p[m][w])})})}}}]),V}(),Ri=function(){function V(a,l){Ge(this,V),this.ctx=a,this.elgrid=l,this.w=a.w;var d=this.w;this.xaxisFontSize=d.config.xaxis.labels.style.fontSize,this.axisFontFamily=d.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=d.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===d.config.chart.type&&d.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===d.config.xaxis.position&&(this.xAxisoffX=d.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Ye(a)}return ut(V,[{key:"drawYaxis",value:function(a){var l=this,d=this.w,h=new Re(this.ctx),p=d.config.yaxis[a].labels.style,g=p.fontSize,m=p.fontFamily,v=p.fontWeight,w=h.group({class:"apexcharts-yaxis",rel:a,transform:"translate("+d.globals.translateYAxisX[a]+", 0)"});if(this.axesUtils.isYAxisHidden(a))return w;var E=h.group({class:"apexcharts-yaxis-texts-g"});w.add(E);var D=d.globals.yAxisScale[a].result.length-1,k=d.globals.gridHeight/D,O=d.globals.translateY,P=d.globals.yLabelFormatters[a],L=d.globals.yAxisScale[a].result.slice();L=this.axesUtils.checkForReversedLabels(a,L);var z="";if(d.config.yaxis[a].labels.show)for(var $=function(ye){var _e=L[ye];_e=P(_e,ye,d);var Oe=d.config.yaxis[a].labels.padding;d.config.yaxis[a].opposite&&0!==d.config.yaxis.length&&(Oe*=-1);var ce="end";d.config.yaxis[a].opposite&&(ce="start"),"left"===d.config.yaxis[a].labels.align?ce="start":"center"===d.config.yaxis[a].labels.align?ce="middle":"right"===d.config.yaxis[a].labels.align&&(ce="end");var qe=l.axesUtils.getYAxisForeColor(p.colors,a),ke=d.config.yaxis[a].labels.offsetY;"heatmap"===d.config.chart.type&&(ke-=(d.globals.gridHeight/d.globals.series.length-1)/2);var xt=h.drawText({x:Oe,y:O+D/10+ke+1,text:_e,textAnchor:ce,fontSize:g,fontFamily:m,fontWeight:v,maxWidth:d.config.yaxis[a].labels.maxWidth,foreColor:Array.isArray(qe)?qe[ye]:qe,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+p.cssClass});ye===D&&(z=xt),E.add(xt);var nn=document.createElementNS(d.globals.SVGNS,"title");if(nn.textContent=Array.isArray(_e)?_e.join(" "):_e,xt.node.appendChild(nn),0!==d.config.yaxis[a].labels.rotate){var Sn=h.rotateAroundCenter(z.node),qn=h.rotateAroundCenter(xt.node);xt.node.setAttribute("transform","rotate(".concat(d.config.yaxis[a].labels.rotate," ").concat(Sn.x," ").concat(qn.y,")"))}O+=k},K=D;K>=0;K--)$(K);if(void 0!==d.config.yaxis[a].title.text){var b=h.group({class:"apexcharts-yaxis-title"}),I=0;d.config.yaxis[a].opposite&&(I=d.globals.translateYAxisX[a]);var N=h.drawText({x:I,y:d.globals.gridHeight/2+d.globals.translateY+d.config.yaxis[a].title.offsetY,text:d.config.yaxis[a].title.text,textAnchor:"end",foreColor:d.config.yaxis[a].title.style.color,fontSize:d.config.yaxis[a].title.style.fontSize,fontWeight:d.config.yaxis[a].title.style.fontWeight,fontFamily:d.config.yaxis[a].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+d.config.yaxis[a].title.style.cssClass});b.add(N),w.add(b)}var U=d.config.yaxis[a].axisBorder,Q=31+U.offsetX;if(d.config.yaxis[a].opposite&&(Q=-31-U.offsetX),U.show){var q=h.drawLine(Q,d.globals.translateY+U.offsetY-2,Q,d.globals.gridHeight+d.globals.translateY+U.offsetY+2,U.color,0,U.width);w.add(q)}return d.config.yaxis[a].axisTicks.show&&this.axesUtils.drawYAxisTicks(Q,D,U,d.config.yaxis[a].axisTicks,a,k,w),w}},{key:"drawYaxisInversed",value:function(a){var l=this.w,d=new Re(this.ctx),h=d.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),p=d.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(l.globals.translateXAxisX,", ").concat(l.globals.translateXAxisY,")")});h.add(p);var g=l.globals.yAxisScale[a].result.length-1,m=l.globals.gridWidth/g+.1,v=m+l.config.xaxis.labels.offsetX,w=l.globals.xLabelFormatter,E=l.globals.yAxisScale[a].result.slice(),D=l.globals.timescaleLabels;D.length>0&&(this.xaxisLabels=D.slice(),g=(E=D.slice()).length),E=this.axesUtils.checkForReversedLabels(a,E);var k=D.length;if(l.config.xaxis.labels.show)for(var O=k?0:g;k?O<k:O>=0;k?O++:O--){var P=E[O];P=w(P,O,l);var L=l.globals.gridWidth+l.globals.padHorizontal-(v-m+l.config.xaxis.labels.offsetX);if(D.length){var z=this.axesUtils.getLabel(E,D,L,O,this.drawnLabels,this.xaxisFontSize);L=z.x,P=z.text,this.drawnLabels.push(z.text),0===O&&l.globals.skipFirstTimelinelabel&&(P=""),O===E.length-1&&l.globals.skipLastTimelinelabel&&(P="")}var $=d.drawText({x:L,y:this.xAxisoffX+l.config.xaxis.labels.offsetY+30-("top"===l.config.xaxis.position?l.globals.xAxisHeight+l.config.xaxis.axisTicks.height-2:0),text:P,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[a]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:l.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+l.config.xaxis.labels.style.cssClass});p.add($),$.tspan(P);var K=document.createElementNS(l.globals.SVGNS,"title");K.textContent=P,$.node.appendChild(K),v+=m}return this.inversedYAxisTitleText(h),this.inversedYAxisBorder(h),h}},{key:"inversedYAxisBorder",value:function(a){var l=this.w,d=new Re(this.ctx),h=l.config.xaxis.axisBorder;if(h.show){var p=0;"bar"===l.config.chart.type&&l.globals.isXNumeric&&(p-=15);var g=d.drawLine(l.globals.padHorizontal+p+h.offsetX,this.xAxisoffX,l.globals.gridWidth,this.xAxisoffX,h.color,0,h.height);this.elgrid&&this.elgrid.elGridBorders&&l.config.grid.show?this.elgrid.elGridBorders.add(g):a.add(g)}}},{key:"inversedYAxisTitleText",value:function(a){var l=this.w,d=new Re(this.ctx);if(void 0!==l.config.xaxis.title.text){var h=d.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),p=d.drawText({x:l.globals.gridWidth/2+l.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(l.config.xaxis.title.style.fontSize)+l.config.xaxis.title.offsetY+20,text:l.config.xaxis.title.text,textAnchor:"middle",fontSize:l.config.xaxis.title.style.fontSize,fontFamily:l.config.xaxis.title.style.fontFamily,fontWeight:l.config.xaxis.title.style.fontWeight,foreColor:l.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+l.config.xaxis.title.style.cssClass});h.add(p),a.add(h)}}},{key:"yAxisTitleRotate",value:function(a,l){var d=this.w,h=new Re(this.ctx),p={width:0,height:0},g={width:0,height:0},m=d.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-texts-g"));null!==m&&(p=m.getBoundingClientRect());var v=d.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-title text"));if(null!==v&&(g=v.getBoundingClientRect()),null!==v){var w=this.xPaddingForYAxisTitle(a,p,g,l);v.setAttribute("x",w.xPos-(l?10:0))}if(null!==v){var E=h.rotateAroundCenter(v);v.setAttribute("transform","rotate(".concat(l?-1*d.config.yaxis[a].title.rotate:d.config.yaxis[a].title.rotate," ").concat(E.x," ").concat(E.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(a,l,d,h){var p=this.w,g=0,m=0,v=10;return void 0===p.config.yaxis[a].title.text||a<0?{xPos:m,padd:0}:(h?(m=l.width+p.config.yaxis[a].title.offsetX+d.width/2+v/2,0===(g+=1)&&(m-=v/2)):(m=-1*l.width+p.config.yaxis[a].title.offsetX+v/2+d.width/2,p.globals.isBarHorizontal&&(m=-1*l.width-p.config.yaxis[a].title.offsetX-(v=25))),{xPos:m,padd:v})}},{key:"setYAxisXPosition",value:function(a,l){var d=this.w,h=0,p=0,g=18,m=1;d.config.yaxis.length>1&&(this.multipleYs=!0),d.config.yaxis.map(function(v,w){var E=d.globals.ignoreYAxisIndexes.indexOf(w)>-1||!v.show||v.floating||0===a[w].width,D=a[w].width+l[w].width;v.opposite?d.globals.isBarHorizontal?d.globals.translateYAxisX[w]=(p=d.globals.gridWidth+d.globals.translateX-1)-v.labels.offsetX:(p=d.globals.gridWidth+d.globals.translateX+m,E||(m=m+D+20),d.globals.translateYAxisX[w]=p-v.labels.offsetX+20):(h=d.globals.translateX-g,E||(g=g+D+20),d.globals.translateYAxisX[w]=h+v.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var a=this.w,l=a.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(l=pe.listToArray(l)).forEach(function(d,h){var p=a.config.yaxis[h];if(p&&!p.floating&&void 0!==p.labels.align){var g=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-texts-g")),m=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-label"));m=pe.listToArray(m);var v=g.getBoundingClientRect();"left"===p.labels.align?(m.forEach(function(w,E){w.setAttribute("text-anchor","start")}),p.opposite||g.setAttribute("transform","translate(-".concat(v.width,", 0)"))):"center"===p.labels.align?(m.forEach(function(w,E){w.setAttribute("text-anchor","middle")}),g.setAttribute("transform","translate(".concat(v.width/2*(p.opposite?1:-1),", 0)"))):"right"===p.labels.align&&(m.forEach(function(w,E){w.setAttribute("text-anchor","end")}),p.opposite&&g.setAttribute("transform","translate(".concat(v.width,", 0)")))}})}}]),V}(),Ce=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.documentEvent=pe.bind(this.documentEvent,this)}return ut(V,[{key:"addEventListener",value:function(a,l){var d=this.w;d.globals.events.hasOwnProperty(a)?d.globals.events[a].push(l):d.globals.events[a]=[l]}},{key:"removeEventListener",value:function(a,l){var d=this.w;if(d.globals.events.hasOwnProperty(a)){var h=d.globals.events[a].indexOf(l);-1!==h&&d.globals.events[a].splice(h,1)}}},{key:"fireEvent",value:function(a,l){var d=this.w;if(d.globals.events.hasOwnProperty(a)){l&&l.length||(l=[]);for(var h=d.globals.events[a],p=h.length,g=0;g<p;g++)h[g].apply(null,l)}}},{key:"setupEventHandlers",value:function(){var a=this,l=this.w,d=this.ctx,h=l.globals.dom.baseEl.querySelector(l.globals.chartClass);this.ctx.eventList.forEach(function(p){h.addEventListener(p,function(g){var m=Object.assign({},l,{seriesIndex:l.globals.capturedSeriesIndex,dataPointIndex:l.globals.capturedDataPointIndex});"mousemove"===g.type||"touchmove"===g.type?"function"==typeof l.config.chart.events.mouseMove&&l.config.chart.events.mouseMove(g,d,m):"mouseleave"===g.type||"touchleave"===g.type?"function"==typeof l.config.chart.events.mouseLeave&&l.config.chart.events.mouseLeave(g,d,m):("mouseup"===g.type&&1===g.which||"touchend"===g.type)&&("function"==typeof l.config.chart.events.click&&l.config.chart.events.click(g,d,m),d.ctx.events.fireEvent("click",[g,d,m]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(p){l.globals.dom.baseEl.addEventListener(p,a.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(a){var l=this.w,d=a.target.className;if("click"===a.type){var h=l.globals.dom.baseEl.querySelector(".apexcharts-menu");h&&h.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==d&&h.classList.remove("apexcharts-menu-open")}l.globals.clientX="touchmove"===a.type?a.touches[0].clientX:a.clientX,l.globals.clientY="touchmove"===a.type?a.touches[0].clientY:a.clientY}}]),V}(),we=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"setCurrentLocaleValues",value:function(a){var l=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(l=this.w.config.chart.locales.concat(window.Apex.chart.locales));var d=l.filter(function(p){return p.name===a})[0];if(!d)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var h=pe.extend(Mn,d);this.w.globals.locale=h.options}}]),V}(),Ne=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"drawAxis",value:function(a,l){var d,h,p=this,g=this.w.globals,m=this.w.config,v=new wn(this.ctx,l),w=new Ri(this.ctx,l);g.axisCharts&&"radar"!==a&&(g.isBarHorizontal?(h=w.drawYaxisInversed(0),d=v.drawXaxisInversed(0),g.dom.elGraphical.add(d),g.dom.elGraphical.add(h)):(d=v.drawXaxis(),g.dom.elGraphical.add(d),m.yaxis.map(function(E,D){if(-1===g.ignoreYAxisIndexes.indexOf(D)&&(h=w.drawYaxis(D),g.dom.Paper.add(h),"back"===p.w.config.grid.position)){var k=g.dom.Paper.children()[1];k.remove(),g.dom.Paper.add(k)}})))}}]),V}(),Qe=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"drawXCrosshairs",value:function(){var a=this.w,l=new Re(this.ctx),d=new xn(this.ctx),h=a.config.xaxis.crosshairs.fill.gradient,p=a.config.xaxis.crosshairs.dropShadow,k=p.enabled,O=p.left,P=p.top,L=p.blur,z=p.color,$=p.opacity,K=a.config.xaxis.crosshairs.fill.color;if(a.config.xaxis.crosshairs.show){"gradient"===a.config.xaxis.crosshairs.fill.type&&(K=l.drawGradient("vertical",h.colorFrom,h.colorTo,h.opacityFrom,h.opacityTo,null,h.stops,null));var b=l.drawRect();1===a.config.xaxis.crosshairs.width&&(b=l.drawLine());var I=a.globals.gridHeight;(!pe.isNumber(I)||I<0)&&(I=0);var N=a.config.xaxis.crosshairs.width;(!pe.isNumber(N)||N<0)&&(N=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:I,width:N,height:I,fill:K,filter:"none","fill-opacity":a.config.xaxis.crosshairs.opacity,stroke:a.config.xaxis.crosshairs.stroke.color,"stroke-width":a.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":a.config.xaxis.crosshairs.stroke.dashArray}),k&&(b=d.dropShadow(b,{left:O,top:P,blur:L,color:z,opacity:$})),a.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var a=this.w,l=new Re(this.ctx),d=a.config.yaxis[0].crosshairs,h=a.globals.barPadForNumericAxis;if(a.config.yaxis[0].crosshairs.show){var p=l.drawLine(-h,0,a.globals.gridWidth+h,0,d.stroke.color,d.stroke.dashArray,d.stroke.width);p.attr({class:"apexcharts-ycrosshairs"}),a.globals.dom.elGraphical.add(p)}var g=l.drawLine(-h,0,a.globals.gridWidth+h,0,d.stroke.color,0,0);g.attr({class:"apexcharts-ycrosshairs-hidden"}),a.globals.dom.elGraphical.add(g)}}]),V}(),mt=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"checkResponsiveConfig",value:function(a){var l=this,d=this.w,h=d.config;if(0!==h.responsive.length){var p=h.responsive.slice();p.sort(function(w,E){return w.breakpoint>E.breakpoint?1:E.breakpoint>w.breakpoint?-1:0}).reverse();var g=new Vr({}),m=function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},D=window.innerWidth>0?window.innerWidth:screen.width;if(D>p[0].breakpoint){var k=Yt.extendArrayProps(g,d.globals.initialConfig,d);w=pe.extend(k,w),w=pe.extend(d.config,w),l.overrideResponsiveOptions(w)}else for(var O=0;O<p.length;O++)D<p[O].breakpoint&&(w=Yt.extendArrayProps(g,p[O].options,d),w=pe.extend(d.config,w),l.overrideResponsiveOptions(w))};if(a){var v=Yt.extendArrayProps(g,a,d);v=pe.extend(d.config,v),m(v=pe.extend(v,a))}else m({})}}},{key:"overrideResponsiveOptions",value:function(a){var l=new Vr(a).init({responsiveOverride:!0});this.w.config=l}}]),V}(),rt=function(){function V(a){Ge(this,V),this.ctx=a,this.colors=[],this.w=a.w;var l=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===l.config.chart.type&&l.config.plotOptions.treemap.distributed||"heatmap"===l.config.chart.type&&l.config.plotOptions.heatmap.distributed,this.isBarDistributed=l.config.plotOptions.bar.distributed&&("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)}return ut(V,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var a,l=this,d=this.w,h=new pe;if(d.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(d.config.theme.mode)),void 0===d.config.colors||0===(null===(a=d.config.colors)||void 0===a?void 0:a.length)?d.globals.colors=this.predefined():(d.globals.colors=d.config.colors,Array.isArray(d.config.colors)&&d.config.colors.length>0&&"function"==typeof d.config.colors[0]&&(d.globals.colors=d.config.series.map(function(P,L){var z=d.config.colors[L];return z||(z=d.config.colors[0]),"function"==typeof z?(l.isColorFn=!0,z({value:d.globals.axisCharts?d.globals.series[L][0]?d.globals.series[L][0]:0:d.globals.series[L],seriesIndex:L,dataPointIndex:L,w:d})):z}))),d.globals.seriesColors.map(function(P,L){P&&(d.globals.colors[L]=P)}),d.config.theme.monochrome.enabled){var p=[],g=d.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(g=d.globals.series[0].length*d.globals.series.length);for(var m=d.config.theme.monochrome.color,v=1/(g/d.config.theme.monochrome.shadeIntensity),w=d.config.theme.monochrome.shadeTo,E=0,D=0;D<g;D++){var k=void 0;"dark"===w?(k=h.shadeColor(-1*E,m),E+=v):(k=h.shadeColor(E,m),E+=v),p.push(k)}d.globals.colors=p.slice()}var O=d.globals.colors.slice();this.pushExtraColors(d.globals.colors),["fill","stroke"].forEach(function(P){d.globals[P].colors=void 0===d.config[P].colors?l.isColorFn?d.config.colors:O:d.config[P].colors.slice(),l.pushExtraColors(d.globals[P].colors)}),d.globals.dataLabels.style.colors=void 0===d.config.dataLabels.style.colors?O:d.config.dataLabels.style.colors.slice(),this.pushExtraColors(d.globals.dataLabels.style.colors,50),d.globals.radarPolygons.fill.colors=void 0===d.config.plotOptions.radar.polygons.fill.colors?["dark"===d.config.theme.mode?"#424242":"none"]:d.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(d.globals.radarPolygons.fill.colors,20),d.globals.markers.colors=void 0===d.config.markers.colors?O:d.config.markers.colors.slice(),this.pushExtraColors(d.globals.markers.colors)}},{key:"pushExtraColors",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=this.w,p=l||h.globals.series.length;if(null===d&&(d=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===h.config.chart.type&&h.config.plotOptions.heatmap.colorScale.inverse),d&&h.globals.series.length&&(p=h.globals.series[h.globals.maxValsInArrayIndex].length*h.globals.series.length),a.length<p)for(var g=p-a.length,m=0;m<g;m++)a.push(a[m])}},{key:"updateThemeOptions",value:function(a){a.chart=a.chart||{},a.tooltip=a.tooltip||{};var l=a.theme.mode||"light",d=a.theme.palette?a.theme.palette:"dark"===l?"palette4":"palette1",h=a.chart.foreColor?a.chart.foreColor:"dark"===l?"#f6f7f8":"#373d3f";return a.tooltip.theme=l,a.chart.foreColor=h,a.theme.palette=d,a}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),V}(),mi=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(a){var l=this.w,d="title"===a?l.config.title:l.config.subtitle,h=l.globals.svgWidth/2,p=d.offsetY,g="middle";if("left"===d.align?(h=10,g="start"):"right"===d.align&&(h=l.globals.svgWidth-10,g="end"),h+=d.offsetX,p=p+parseInt(d.style.fontSize,10)+d.margin/2,void 0!==d.text){var m=new Re(this.ctx).drawText({x:h,y:p,text:d.text,textAnchor:g,fontSize:d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight,foreColor:d.style.color,opacity:1});m.node.setAttribute("class","apexcharts-".concat(a,"-text")),l.globals.dom.Paper.add(m)}}}]),V}(),Nn=function(){function V(a){Ge(this,V),this.w=a.w,this.dCtx=a}return ut(V,[{key:"getTitleSubtitleCoords",value:function(a){var l=this.w,d=0,h=0,p="title"===a?l.config.title.floating:l.config.subtitle.floating,g=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-text"));if(null!==g&&!p){var m=g.getBoundingClientRect();d=m.width,h=l.globals.axisCharts?m.height+5:m.height}return{width:d,height:h}}},{key:"getLegendsRect",value:function(){var a=this.w,l=a.globals.dom.elLegendWrap;a.config.legend.height||"top"!==a.config.legend.position&&"bottom"!==a.config.legend.position||(l.style.maxHeight=a.globals.svgHeight/2+"px");var d=Object.assign({},pe.getBoundingClientRect(l));return this.dCtx.lgRect=null!==l&&!a.config.legend.floating&&a.config.legend.show?{x:d.x,y:d.y,height:d.height,width:0===d.height?0:d.width}:{x:0,y:0,height:0,width:0},"left"!==a.config.legend.position&&"right"!==a.config.legend.position||1.5*this.dCtx.lgRect.width>a.globals.svgWidth&&(this.dCtx.lgRect.width=a.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(a,l){var d=a;if(this.w.globals.isMultiLineX){var h=l.map(function(g,m){return Array.isArray(g)?g.length:1}),p=Math.max.apply(Math,kn(h));d=l[h.indexOf(p)]}return d}}]),V}(),Tn=function(){function V(a){Ge(this,V),this.w=a.w,this.dCtx=a}return ut(V,[{key:"getxAxisLabelsCoords",value:function(){var a,l=this.w,d=l.globals.labels.slice();if(l.config.xaxis.convertedCatToNumeric&&0===d.length&&(d=l.globals.categoryLabels),l.globals.timescaleLabels.length>0){var h=this.getxAxisTimeScaleLabelsCoords();a={width:h.width,height:h.height},l.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==l.config.legend.position&&"right"!==l.config.legend.position||l.config.legend.floating?0:this.dCtx.lgRect.width;var p=l.globals.xLabelFormatter,g=pe.getLargestStringFromArr(d),m=this.dCtx.dimHelpers.getLargestStringFromMultiArr(g,d);l.globals.isBarHorizontal&&(m=g=l.globals.yAxisScale[0].result.reduce(function(P,L){return P.length>L.length?P:L},0));var v=new Fr(this.dCtx.ctx),w=g;g=v.xLabelFormat(p,g,w,{i:void 0,dateFormatter:new fn(this.dCtx.ctx).formatDate,w:l}),m=v.xLabelFormat(p,m,w,{i:void 0,dateFormatter:new fn(this.dCtx.ctx).formatDate,w:l}),(l.config.xaxis.convertedCatToNumeric&&void 0===g||""===String(g).trim())&&(m=g="1");var E=new Re(this.dCtx.ctx),D=E.getTextRects(g,l.config.xaxis.labels.style.fontSize),k=D;if(g!==m&&(k=E.getTextRects(m,l.config.xaxis.labels.style.fontSize)),(a={width:D.width>=k.width?D.width:k.width,height:D.height>=k.height?D.height:k.height}).width*d.length>l.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==l.config.xaxis.labels.rotate||l.config.xaxis.labels.rotateAlways){if(!l.globals.isBarHorizontal){l.globals.rotateXLabels=!0;var O=function(P){return E.getTextRects(P,l.config.xaxis.labels.style.fontSize,l.config.xaxis.labels.style.fontFamily,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1)};D=O(g),g!==m&&(k=O(m)),a.height=(D.height>k.height?D.height:k.height)/1.5,a.width=D.width>k.width?D.width:k.width}}else l.globals.rotateXLabels=!1}return l.config.xaxis.labels.show||(a={width:0,height:0}),{width:a.width,height:a.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var a,l=this.w;if(!l.globals.hasXaxisGroups)return{width:0,height:0};var d,h=(null===(a=l.config.xaxis.group.style)||void 0===a?void 0:a.fontSize)||l.config.xaxis.labels.style.fontSize,p=l.globals.groups.map(function(D){return D.title}),g=pe.getLargestStringFromArr(p),m=this.dCtx.dimHelpers.getLargestStringFromMultiArr(g,p),v=new Re(this.dCtx.ctx),w=v.getTextRects(g,h),E=w;return g!==m&&(E=v.getTextRects(m,h)),d={width:w.width>=E.width?w.width:E.width,height:w.height>=E.height?w.height:E.height},l.config.xaxis.labels.show||(d={width:0,height:0}),{width:d.width,height:d.height}}},{key:"getxAxisTitleCoords",value:function(){var a=this.w,l=0,d=0;if(void 0!==a.config.xaxis.title.text){var h=new Re(this.dCtx.ctx).getTextRects(a.config.xaxis.title.text,a.config.xaxis.title.style.fontSize);l=h.width,d=h.height}return{width:l,height:d}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var a,l=this.w;this.dCtx.timescaleLabels=l.globals.timescaleLabels.slice();var d=this.dCtx.timescaleLabels.map(function(p){return p.value}),h=d.reduce(function(p,g){return void 0===p?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):p.length>g.length?p:g},0);return 1.05*(a=new Re(this.dCtx.ctx).getTextRects(h,l.config.xaxis.labels.style.fontSize)).width*d.length>l.globals.gridWidth&&0!==l.config.xaxis.labels.rotate&&(l.globals.overlappingXLabels=!0),a}},{key:"additionalPaddingXLabels",value:function(a){var l=this,d=this.w,h=d.globals,p=d.config,g=p.xaxis.type,m=a.width;h.skipLastTimelinelabel=!1,h.skipFirstTimelinelabel=!1;var v=d.config.yaxis[0].opposite&&d.globals.isBarHorizontal;p.yaxis.forEach(function(E,D){v?(l.dCtx.gridPad.left<m&&(l.dCtx.xPadLeft=m/2+1),l.dCtx.xPadRight=m/2+1):function(E,D){p.yaxis.length>1&&-1!==h.collapsedSeriesIndices.indexOf(D)||function(k){if(l.dCtx.timescaleLabels&&l.dCtx.timescaleLabels.length){var L=l.dCtx.timescaleLabels[0].position-m/1.75+l.dCtx.yAxisWidthLeft;l.dCtx.timescaleLabels[l.dCtx.timescaleLabels.length-1].position+m/1.75-l.dCtx.yAxisWidthRight>h.svgWidth-h.translateX-("right"===d.config.legend.position&&l.dCtx.lgRect.width>0?l.dCtx.lgRect.width:0)&&(h.skipLastTimelinelabel=!0),L<-(k.show&&!k.floating||"bar"!==p.chart.type&&"candlestick"!==p.chart.type&&"rangeBar"!==p.chart.type&&"boxPlot"!==p.chart.type?10:m/1.75)&&(h.skipFirstTimelinelabel=!0)}else"datetime"===g?l.dCtx.gridPad.right<m&&!h.rotateXLabels&&(h.skipLastTimelinelabel=!0):"datetime"!==g&&l.dCtx.gridPad.right<m/2-l.dCtx.yAxisWidthRight&&!h.rotateXLabels&&!d.config.xaxis.labels.trim&&("between"!==d.config.xaxis.tickPlacement||d.globals.isBarHorizontal)&&(l.dCtx.xPadRight=m/2+1)}(E)}(E,D)})}}]),V}(),_i=function(){function V(a){Ge(this,V),this.w=a.w,this.dCtx=a}return ut(V,[{key:"getyAxisLabelsCoords",value:function(){var a=this,l=this.w,d=[],h=10,p=new Ye(this.dCtx.ctx);return l.config.yaxis.map(function(g,m){var v={seriesIndex:m,dataPointIndex:-1,w:l},w=l.globals.yAxisScale[m],E=0;if(!p.isYAxisHidden(m)&&g.labels.show&&void 0!==g.labels.minWidth&&(E=g.labels.minWidth),!p.isYAxisHidden(m)&&g.labels.show&&w.result.length){var D=l.globals.yLabelFormatters[m],O=w.result.reduce(function(I,N){var U,Q;return(null===(U=String(D(I,v)))||void 0===U?void 0:U.length)>(null===(Q=String(D(N,v)))||void 0===Q?void 0:Q.length)?I:N},w.niceMin===Number.MIN_VALUE?0:w.niceMin),P=O=D(O,v);if(void 0!==O&&0!==O.length||(O=w.niceMax),l.globals.isBarHorizontal){h=0;var L=l.globals.labels.slice();O=pe.getLargestStringFromArr(L),O=D(O,{seriesIndex:m,dataPointIndex:-1,w:l}),P=a.dCtx.dimHelpers.getLargestStringFromMultiArr(O,L)}var z=new Re(a.dCtx.ctx),$="rotate(".concat(g.labels.rotate," 0 0)"),K=z.getTextRects(O,g.labels.style.fontSize,g.labels.style.fontFamily,$,!1),b=K;O!==P&&(b=z.getTextRects(P,g.labels.style.fontSize,g.labels.style.fontFamily,$,!1)),d.push({width:(E>b.width||E>K.width?E:b.width>K.width?b.width:K.width)+h,height:b.height>K.height?b.height:K.height})}else d.push({width:0,height:0})}),d}},{key:"getyAxisTitleCoords",value:function(){var a=this,d=[];return this.w.config.yaxis.map(function(h,p){if(h.show&&void 0!==h.title.text){var g=new Re(a.dCtx.ctx),m="rotate(".concat(h.title.rotate," 0 0)"),v=g.getTextRects(h.title.text,h.title.style.fontSize,h.title.style.fontFamily,m,!1);d.push({width:v.width,height:v.height})}else d.push({width:0,height:0})}),d}},{key:"getTotalYAxisWidth",value:function(){var a=this.w,l=0,d=0,h=0,p=a.globals.yAxisScale.length>1?10:0,g=new Ye(this.dCtx.ctx),m=function(v,w){var E=a.config.yaxis[w].floating,D=0;v.width>0&&!E?(D=v.width+p,a.globals.ignoreYAxisIndexes.indexOf(w)>-1&&(D=D-v.width-p)):D=E||g.isYAxisHidden(w)?0:5,a.config.yaxis[w].opposite?h+=D:d+=D,l+=D};return a.globals.yLabelsCoords.map(function(v,w){m(v,w)}),a.globals.yTitleCoords.map(function(v,w){m(v,w)}),a.globals.isBarHorizontal&&!a.config.yaxis[0].floating&&(l=a.globals.yLabelsCoords[0].width+a.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=d,this.dCtx.yAxisWidthRight=h,l}}]),V}(),zi=function(){function V(a){Ge(this,V),this.w=a.w,this.dCtx=a}return ut(V,[{key:"gridPadForColumnsInNumericAxis",value:function(a){var l=this.w;if(l.globals.noData||l.globals.allSeriesCollapsed)return 0;var d=function(E){return"bar"===E||"rangeBar"===E||"candlestick"===E||"boxPlot"===E},h=l.config.chart.type,p=0,g=d(h)?l.config.series.length:1;if(l.globals.comboBarCount>0&&(g=l.globals.comboBarCount),l.globals.collapsedSeries.forEach(function(E){d(E.type)&&(g-=1)}),l.config.chart.stacked&&(g=1),(d(h)||l.globals.comboBarCount>0)&&l.globals.isXNumeric&&!l.globals.isBarHorizontal&&g>0){var m,v,w=Math.abs(l.globals.initialMaxX-l.globals.initialMinX);w<=3&&(w=l.globals.dataPoints),m=w/a,l.globals.minXDiff&&l.globals.minXDiff/m>0&&(v=l.globals.minXDiff/m),v>a/2&&(v/=2),(p=v/g*parseInt(l.config.plotOptions.bar.columnWidth,10)/100)<1&&(p=1),l.globals.barPadForNumericAxis=p=p/(g>1?1:1.5)+5}return p}},{key:"gridPadFortitleSubtitle",value:function(){var a=this,l=this.w,d=l.globals,h=this.dCtx.isSparkline||!l.globals.axisCharts?0:10;["title","subtitle"].forEach(function(m){h+=void 0!==l.config[m].text?l.config[m].margin:a.dCtx.isSparkline||!l.globals.axisCharts?0:5}),!l.config.legend.show||"bottom"!==l.config.legend.position||l.config.legend.floating||l.globals.axisCharts||(h+=10);var p=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),g=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");d.gridHeight=d.gridHeight-p.height-g.height-h,d.translateY=d.translateY+p.height+g.height+h}},{key:"setGridXPosForDualYAxis",value:function(a,l){var d=this.w,h=new Ye(this.dCtx.ctx);d.config.yaxis.map(function(p,g){-1!==d.globals.ignoreYAxisIndexes.indexOf(g)||p.floating||h.isYAxisHidden(g)||(p.opposite&&(d.globals.translateX=d.globals.translateX-(l[g].width+a[g].width)-parseInt(d.config.yaxis[g].labels.style.fontSize,10)/1.2-12),d.globals.translateX<2&&(d.globals.translateX=2))})}}]),V}(),Xi=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Nn(this),this.dimYAxis=new _i(this),this.dimXAxis=new Tn(this),this.dimGrid=new zi(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return ut(V,[{key:"plotCoords",value:function(){var a=this,l=this.w,d=l.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&((l.config.markers.discrete.length>0||l.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(p){var g=Bn(p,2);a.gridPad[g[0]]=Math.max(g[1],a.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(l.config.stroke.width/2,this.gridPad.top),this.gridPad.bottom=Math.max(l.config.stroke.width/2,this.gridPad.bottom)),d.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),d.gridHeight=d.gridHeight-this.gridPad.top-this.gridPad.bottom,d.gridWidth=d.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var h=this.dimGrid.gridPadForColumnsInNumericAxis(d.gridWidth);d.gridWidth=d.gridWidth-2*h,d.translateX=d.translateX+this.gridPad.left+this.xPadLeft+(h>0?h+4:0),d.translateY=d.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var a=this,l=this.w,d=l.globals,h=this.dimYAxis.getyAxisLabelsCoords(),p=this.dimYAxis.getyAxisTitleCoords();l.globals.yLabelsCoords=[],l.globals.yTitleCoords=[],l.config.yaxis.map(function(O,P){l.globals.yLabelsCoords.push({width:h[P].width,index:P}),l.globals.yTitleCoords.push({width:p[P].width,index:P})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var g=this.dimXAxis.getxAxisLabelsCoords(),m=this.dimXAxis.getxAxisGroupLabelsCoords(),v=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(g,v,m),d.translateXAxisY=l.globals.rotateXLabels?this.xAxisHeight/8:-4,d.translateXAxisX=l.globals.rotateXLabels&&l.globals.isXNumeric&&l.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,l.globals.isBarHorizontal&&(d.rotateXLabels=!1,d.translateXAxisY=parseInt(l.config.xaxis.labels.style.fontSize,10)/1.5*-1),d.translateXAxisY=d.translateXAxisY+l.config.xaxis.labels.offsetY,d.translateXAxisX=d.translateXAxisX+l.config.xaxis.labels.offsetX;var w=this.yAxisWidth,E=this.xAxisHeight;d.xAxisLabelsHeight=this.xAxisHeight-v.height,d.xAxisGroupLabelsHeight=d.xAxisLabelsHeight-g.height,d.xAxisLabelsWidth=this.xAxisWidth,d.xAxisHeight=this.xAxisHeight;var D=10;("radar"===l.config.chart.type||this.isSparkline)&&(w=0,E=d.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===l.config.chart.type)&&(w=0,E=0,D=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(g);var k=function(){d.translateX=w,d.gridHeight=d.svgHeight-a.lgRect.height-E-(a.isSparkline||"treemap"===l.config.chart.type?0:l.globals.rotateXLabels?10:15),d.gridWidth=d.svgWidth-w};switch("top"===l.config.xaxis.position&&(D=d.xAxisHeight-l.config.xaxis.axisTicks.height-5),l.config.legend.position){case"bottom":d.translateY=D,k();break;case"top":d.translateY=this.lgRect.height+D,k();break;case"left":d.translateY=D,d.translateX=this.lgRect.width+w,d.gridHeight=d.svgHeight-E-12,d.gridWidth=d.svgWidth-this.lgRect.width-w;break;case"right":d.translateY=D,d.translateX=w,d.gridHeight=d.svgHeight-E-12,d.gridWidth=d.svgWidth-this.lgRect.width-w-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(p,h),new Ri(this.ctx).setYAxisXPosition(h,p)}},{key:"setDimensionsForNonAxisCharts",value:function(){var a=this.w,l=a.globals,d=a.config,h=0;a.config.legend.show&&!a.config.legend.floating&&(h=20);var p="pie"===d.chart.type||"polarArea"===d.chart.type||"donut"===d.chart.type?"pie":"radialBar",g=d.plotOptions[p].offsetY,m=d.plotOptions[p].offsetX;if(!d.legend.show||d.legend.floating)return l.gridHeight=l.svgHeight-d.grid.padding.left+d.grid.padding.right,l.gridWidth=l.gridHeight,l.translateY=g,void(l.translateX=m+(l.svgWidth-l.gridWidth)/2);switch(d.legend.position){case"bottom":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=g-10,l.translateX=m+(l.svgWidth-l.gridWidth)/2;break;case"top":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=this.lgRect.height+g+10,l.translateX=m+(l.svgWidth-l.gridWidth)/2;break;case"left":l.gridWidth=l.svgWidth-this.lgRect.width-h,l.gridHeight="auto"!==d.chart.height?l.svgHeight:l.gridWidth,l.translateY=g,l.translateX=m+this.lgRect.width+h;break;case"right":l.gridWidth=l.svgWidth-this.lgRect.width-h-5,l.gridHeight="auto"!==d.chart.height?l.svgHeight:l.gridWidth,l.translateY=g,l.translateX=m+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(a,l,d){var h=this.w;this.xAxisHeight=(d.height+a.height+l.height)*(h.globals.isMultiLineX?1.2:h.globals.LINE_HEIGHT_RATIO)+(h.globals.hasXaxisGroups?2:1)*(h.globals.rotateXLabels?22:10)+(h.globals.rotateXLabels&&"bottom"===h.config.legend.position?10:0),this.xAxisWidth=a.width,this.xAxisHeight-l.height>h.config.xaxis.labels.maxHeight&&(this.xAxisHeight=h.config.xaxis.labels.maxHeight),h.config.xaxis.labels.minHeight&&this.xAxisHeight<h.config.xaxis.labels.minHeight&&(this.xAxisHeight=h.config.xaxis.labels.minHeight),h.config.xaxis.floating&&(this.xAxisHeight=0);var E=0,D=0;h.config.yaxis.forEach(function(k){E+=k.labels.minWidth,D+=k.labels.maxWidth}),this.yAxisWidth<E&&(this.yAxisWidth=E),this.yAxisWidth>D&&(this.yAxisWidth=D)}}]),V}(),kr=function(){function V(a){Ge(this,V),this.w=a.w,this.lgCtx=a}return ut(V,[{key:"getLegendStyles",value:function(){var a=document.createElement("style");a.setAttribute("type","text/css");var l=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return a.appendChild(l),a}},{key:"getLegendBBox",value:function(){var a=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:a.height,clww:a.width}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(a,l){var d=this,h=this.w;if(h.globals.axisCharts||"radialBar"===h.config.chart.type){h.globals.resized=!0;var p=null,g=null;h.globals.risingSeries=[],h.globals.axisCharts?(p=h.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),g=parseInt(p.getAttribute("data:realIndex"),10)):(p=h.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")),g=parseInt(p.getAttribute("rel"),10)-1),l?[{cs:h.globals.collapsedSeries,csi:h.globals.collapsedSeriesIndices},{cs:h.globals.ancillaryCollapsedSeries,csi:h.globals.ancillaryCollapsedSeriesIndices}].forEach(function(E){d.riseCollapsedSeries(E.cs,E.csi,g)}):this.hideSeries({seriesEl:p,realIndex:g})}else{var m=h.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(a+1,"'] path")),v=h.config.chart.type;if("pie"===v||"polarArea"===v||"donut"===v){var w=h.config.plotOptions.pie.donut.labels;new Re(this.lgCtx.ctx).pathMouseDown(m.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(m.members[0].node,w)}m.fire("click")}}},{key:"hideSeries",value:function(a){var l=a.seriesEl,d=a.realIndex,h=this.w,p=pe.clone(h.config.series);if(h.globals.axisCharts){var g=!1;if(h.config.yaxis[d]&&h.config.yaxis[d].show&&h.config.yaxis[d].showAlways&&(g=!0,h.globals.ancillaryCollapsedSeriesIndices.indexOf(d)<0&&(h.globals.ancillaryCollapsedSeries.push({index:d,data:p[d].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),h.globals.ancillaryCollapsedSeriesIndices.push(d))),!g){h.globals.collapsedSeries.push({index:d,data:p[d].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),h.globals.collapsedSeriesIndices.push(d);var m=h.globals.risingSeries.indexOf(d);h.globals.risingSeries.splice(m,1)}}else h.globals.collapsedSeries.push({index:d,data:p[d]}),h.globals.collapsedSeriesIndices.push(d);for(var v=l.childNodes,w=0;w<v.length;w++)v[w].classList.contains("apexcharts-series-markers-wrap")&&(v[w].classList.contains("apexcharts-hide")?v[w].classList.remove("apexcharts-hide"):v[w].classList.add("apexcharts-hide"));h.globals.allSeriesCollapsed=h.globals.collapsedSeries.length===h.config.series.length,p=this._getSeriesBasedOnCollapsedState(p),this.lgCtx.ctx.updateHelpers._updateSeries(p,h.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(a,l,d){var h=this.w,p=pe.clone(h.config.series);if(a.length>0){for(var g=0;g<a.length;g++)a[g].index===d&&(h.globals.axisCharts?(p[d].data=a[g].data.slice(),a.splice(g,1),l.splice(g,1),h.globals.risingSeries.push(d)):(p[d]=a[g].data,a.splice(g,1),l.splice(g,1),h.globals.risingSeries.push(d)));p=this._getSeriesBasedOnCollapsedState(p),this.lgCtx.ctx.updateHelpers._updateSeries(p,h.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(a){var l=this.w;return a.forEach(l.globals.axisCharts?function(d,h){l.globals.collapsedSeriesIndices.indexOf(h)>-1&&(a[h].data=[])}:function(d,h){l.globals.collapsedSeriesIndices.indexOf(h)>-1&&(a[h]=0)}),a}}]),V}(),Mr=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new kr(this)}return ut(V,[{key:"init",value:function(){var a=this.w,l=a.globals,d=a.config;if((d.legend.showForSingleSeries&&1===l.series.length||this.isBarsDistributed||l.series.length>1||!l.axisCharts)&&d.legend.show){for(;l.dom.elLegendWrap.firstChild;)l.dom.elLegendWrap.removeChild(l.dom.elLegendWrap.firstChild);this.drawLegends(),pe.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===d.legend.position||"top"===d.legend.position?this.legendAlignHorizontal():"right"!==d.legend.position&&"left"!==d.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var a=this,l=this.w,d=l.config.legend.fontFamily,h=l.globals.seriesNames,p=l.globals.colors.slice();if("heatmap"===l.config.chart.type){var g=l.config.plotOptions.heatmap.colorScale.ranges;h=g.map(function(qe){return qe.name?qe.name:qe.from+" - "+qe.to}),p=g.map(function(qe){return qe.color})}else this.isBarsDistributed&&(h=l.globals.labels.slice());l.config.legend.customLegendItems.length&&(h=l.config.legend.customLegendItems);for(var m=l.globals.legendFormatter,v=l.config.legend.inverseOrder,w=v?h.length-1:0;v?w>=0:w<=h.length-1;v?w--:w++){var E,D=m(h[w],{seriesIndex:w,w:l}),k=!1,O=!1;if(l.globals.collapsedSeries.length>0)for(var P=0;P<l.globals.collapsedSeries.length;P++)l.globals.collapsedSeries[P].index===w&&(k=!0);if(l.globals.ancillaryCollapsedSeriesIndices.length>0)for(var L=0;L<l.globals.ancillaryCollapsedSeriesIndices.length;L++)l.globals.ancillaryCollapsedSeriesIndices[L]===w&&(O=!0);var z=document.createElement("span");z.classList.add("apexcharts-legend-marker");var $=l.config.legend.markers.offsetX,K=l.config.legend.markers.offsetY,b=l.config.legend.markers.height,I=l.config.legend.markers.width,N=l.config.legend.markers.strokeWidth,U=l.config.legend.markers.strokeColor,Q=l.config.legend.markers.radius,q=z.style;q.background=p[w],q.color=p[w],q.setProperty("background",p[w],"important"),l.config.legend.markers.fillColors&&l.config.legend.markers.fillColors[w]&&(q.background=l.config.legend.markers.fillColors[w]),void 0!==l.globals.seriesColors[w]&&(q.background=l.globals.seriesColors[w],q.color=l.globals.seriesColors[w]),q.height=Array.isArray(b)?parseFloat(b[w])+"px":parseFloat(b)+"px",q.width=Array.isArray(I)?parseFloat(I[w])+"px":parseFloat(I)+"px",q.left=(Array.isArray($)?parseFloat($[w]):parseFloat($))+"px",q.top=(Array.isArray(K)?parseFloat(K[w]):parseFloat(K))+"px",q.borderWidth=Array.isArray(N)?N[w]:N,q.borderColor=Array.isArray(U)?U[w]:U,q.borderRadius=Array.isArray(Q)?parseFloat(Q[w])+"px":parseFloat(Q)+"px",l.config.legend.markers.customHTML&&(Array.isArray(l.config.legend.markers.customHTML)?l.config.legend.markers.customHTML[w]&&(z.innerHTML=l.config.legend.markers.customHTML[w]()):z.innerHTML=l.config.legend.markers.customHTML()),Re.setAttrs(z,{rel:w+1,"data:collapsed":k||O}),(k||O)&&z.classList.add("apexcharts-inactive-legend");var ye=document.createElement("div"),_e=document.createElement("span");_e.classList.add("apexcharts-legend-text"),_e.innerHTML=Array.isArray(D)?D.join(" "):D;var Oe=l.config.legend.labels.useSeriesColors?l.globals.colors[w]:Array.isArray(l.config.legend.labels.colors)?null===(E=l.config.legend.labels.colors)||void 0===E?void 0:E[w]:l.config.legend.labels.colors;Oe||(Oe=l.config.chart.foreColor),_e.style.color=Oe,_e.style.fontSize=parseFloat(l.config.legend.fontSize)+"px",_e.style.fontWeight=l.config.legend.fontWeight,_e.style.fontFamily=d||l.config.chart.fontFamily,Re.setAttrs(_e,{rel:w+1,i:w,"data:default-text":encodeURIComponent(D),"data:collapsed":k||O}),ye.appendChild(z),ye.appendChild(_e);var ce=new Yt(this.ctx);l.config.legend.showForZeroSeries||0===ce.getSeriesTotalByIndex(w)&&ce.seriesHaveSameValues(w)&&!ce.isSeriesNull(w)&&-1===l.globals.collapsedSeriesIndices.indexOf(w)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(w)&&ye.classList.add("apexcharts-hidden-zero-series"),l.config.legend.showForNullSeries||ce.isSeriesNull(w)&&-1===l.globals.collapsedSeriesIndices.indexOf(w)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(w)&&ye.classList.add("apexcharts-hidden-null-series"),l.globals.dom.elLegendWrap.appendChild(ye),l.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(l.config.legend.horizontalAlign)),l.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+l.config.legend.position),ye.classList.add("apexcharts-legend-series"),ye.style.margin="".concat(l.config.legend.itemMargin.vertical,"px ").concat(l.config.legend.itemMargin.horizontal,"px"),l.globals.dom.elLegendWrap.style.width=l.config.legend.width?l.config.legend.width+"px":"",l.globals.dom.elLegendWrap.style.height=l.config.legend.height?l.config.legend.height+"px":"",Re.setAttrs(ye,{rel:w+1,seriesName:pe.escapeString(h[w]),"data:collapsed":k||O}),(k||O)&&ye.classList.add("apexcharts-inactive-legend"),l.config.legend.onItemClick.toggleDataSeries||ye.classList.add("apexcharts-no-click")}l.globals.dom.elWrap.addEventListener("click",a.onLegendClick,!0),l.config.legend.onItemHover.highlightDataSeries&&0===l.config.legend.customLegendItems.length&&(l.globals.dom.elWrap.addEventListener("mousemove",a.onLegendHovered,!0),l.globals.dom.elWrap.addEventListener("mouseout",a.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(a,l){var d=this.w,h=d.globals.dom.elLegendWrap,p=h.getBoundingClientRect(),g=0,m=0;if("bottom"===d.config.legend.position)m+=d.globals.svgHeight-p.height/2;else if("top"===d.config.legend.position){var v=new Xi(this.ctx),w=v.dimHelpers.getTitleSubtitleCoords("title").height,E=v.dimHelpers.getTitleSubtitleCoords("subtitle").height;m=m+(w>0?w-10:0)+(E>0?E-10:0)}h.style.position="absolute",m=m+l+d.config.legend.offsetY,h.style.left=(g=g+a+d.config.legend.offsetX)+"px",h.style.top=m+"px","bottom"===d.config.legend.position?(h.style.top="auto",h.style.bottom=5-d.config.legend.offsetY+"px"):"right"===d.config.legend.position&&(h.style.left="auto",h.style.right=25+d.config.legend.offsetX+"px"),["width","height"].forEach(function(D){h.style[D]&&(h.style[D]=parseInt(d.config.legend[D],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var a=this.w;a.globals.dom.elLegendWrap.style.right=0;var l=this.legendHelpers.getLegendBBox(),d=new Xi(this.ctx),h=d.dimHelpers.getTitleSubtitleCoords("title"),p=d.dimHelpers.getTitleSubtitleCoords("subtitle"),g=0;"bottom"===a.config.legend.position?g=-l.clwh/1.8:"top"===a.config.legend.position&&(g=h.height+p.height+a.config.title.margin+a.config.subtitle.margin-10),this.setLegendWrapXY(20,g)}},{key:"legendAlignVertical",value:function(){var a=this.w,l=this.legendHelpers.getLegendBBox(),d=0;"left"===a.config.legend.position&&(d=20),"right"===a.config.legend.position&&(d=a.globals.svgWidth-l.clww-10),this.setLegendWrapXY(d,20)}},{key:"onLegendHovered",value:function(a){var l=this.w,d=a.target.classList.contains("apexcharts-legend-series")||a.target.classList.contains("apexcharts-legend-text")||a.target.classList.contains("apexcharts-legend-marker");if("heatmap"===l.config.chart.type||this.isBarsDistributed){if(d){var h=parseInt(a.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,h,this.w]),new ct(this.ctx).highlightRangeInSeries(a,a.target)}}else!a.target.classList.contains("apexcharts-inactive-legend")&&d&&new ct(this.ctx).toggleSeriesOnHover(a,a.target)}},{key:"onLegendClick",value:function(a){var l=this.w;if(!l.config.legend.customLegendItems.length&&(a.target.classList.contains("apexcharts-legend-series")||a.target.classList.contains("apexcharts-legend-text")||a.target.classList.contains("apexcharts-legend-marker"))){var d=parseInt(a.target.getAttribute("rel"),10)-1,h="true"===a.target.getAttribute("data:collapsed"),p=this.w.config.chart.events.legendClick;"function"==typeof p&&p(this.ctx,d,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,d,this.w]);var g=this.w.config.legend.markers.onClick;"function"==typeof g&&a.target.classList.contains("apexcharts-legend-marker")&&(g(this.ctx,d,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,d,this.w])),"treemap"!==l.config.chart.type&&"heatmap"!==l.config.chart.type&&!this.isBarsDistributed&&l.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(d,h)}}}]),V}(),ai=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w;var l=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=l.globals.minX,this.maxX=l.globals.maxX}return ut(V,[{key:"createToolbar",value:function(){var a=this,l=this.w,d=function(){return document.createElement("div")},h=d();if(h.setAttribute("class","apexcharts-toolbar"),h.style.top=l.config.chart.toolbar.offsetY+"px",h.style.right=3-l.config.chart.toolbar.offsetX+"px",l.globals.dom.elWrap.appendChild(h),this.elZoom=d(),this.elZoomIn=d(),this.elZoomOut=d(),this.elPan=d(),this.elSelection=d(),this.elZoomReset=d(),this.elMenuIcon=d(),this.elMenu=d(),this.elCustomIcons=[],this.t=l.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var p=0;p<this.t.customIcons.length;p++)this.elCustomIcons.push(d());var g=[],m=function(D,k,O){var P=D.toLowerCase();a.t[P]&&l.config.chart.zoom.enabled&&g.push({el:k,icon:"string"==typeof a.t[P]?a.t[P]:O,title:a.localeValues[D],class:"apexcharts-".concat(P,"-icon")})};m("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),m("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var v=function(D){a.t[D]&&l.config.chart[D].enabled&&g.push({el:"zoom"===D?a.elZoom:a.elSelection,icon:"string"==typeof a.t[D]?a.t[D]:"zoom"===D?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:a.localeValues["zoom"===D?"selectionZoom":"selection"],class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(D,"-icon")})};v("zoom"),v("selection"),this.t.pan&&l.config.chart.zoom.enabled&&g.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),m("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&g.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var w=0;w<this.elCustomIcons.length;w++)g.push({el:this.elCustomIcons[w],icon:this.t.customIcons[w].icon,title:this.t.customIcons[w].title,index:this.t.customIcons[w].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[w].class});g.forEach(function(D,k){D.index&&pe.moveIndexInArray(g,k,D.index)});for(var E=0;E<g.length;E++)Re.setAttrs(g[E].el,{class:g[E].class,title:g[E].title}),g[E].el.innerHTML=g[E].icon,h.appendChild(g[E].el);this._createHamburgerMenu(h),l.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):l.globals.panEnabled?this.elPan.classList.add(this.selectedClass):l.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(a){this.elMenuItems=[],a.appendChild(this.elMenu),Re.setAttrs(this.elMenu,{class:"apexcharts-menu"});var l=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||l.splice(2,1);for(var d=0;d<l.length;d++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[d].innerHTML=l[d].title,Re.setAttrs(this.elMenuItems[d],{class:"apexcharts-menu-item ".concat(l[d].name),title:l[d].title}),this.elMenu.appendChild(this.elMenuItems[d])}},{key:"addToolbarEventListeners",value:function(){var a=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(d){d.classList.contains("exportSVG")?d.addEventListener("click",a.handleDownload.bind(a,"svg")):d.classList.contains("exportPNG")?d.addEventListener("click",a.handleDownload.bind(a,"png")):d.classList.contains("exportCSV")&&d.addEventListener("click",a.handleDownload.bind(a,"csv"))});for(var l=0;l<this.t.customIcons.length;l++)this.elCustomIcons[l].addEventListener("click",this.t.customIcons[l].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(a){this.ctx.getSyncedCharts().forEach(function(l){l.ctx.toolbar.toggleOtherControls();var d="selection"===a?l.ctx.toolbar.elSelection:l.ctx.toolbar.elZoom,h="selection"===a?"selectionEnabled":"zoomEnabled";l.w.globals[h]=!l.w.globals[h],d.classList.contains(l.ctx.toolbar.selectedClass)?d.classList.remove(l.ctx.toolbar.selectedClass):d.classList.add(l.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var a=this.w;this.elZoom||(this.elZoom=a.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=a.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=a.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(a){this.toggleOtherControls(),"pan"===a?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var l="pan"===a?this.elPan:this.elZoom,d="pan"===a?this.elZoom:this.elPan;l&&l.classList.add(this.selectedClass),d&&d.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(a){a.ctx.toolbar.toggleOtherControls(),a.w.globals.panEnabled=!a.w.globals.panEnabled,a.ctx.toolbar.elPan.classList.contains(a.ctx.toolbar.selectedClass)?a.ctx.toolbar.elPan.classList.remove(a.ctx.toolbar.selectedClass):a.ctx.toolbar.elPan.classList.add(a.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var a=this,l=this.w;l.globals.panEnabled=!1,l.globals.zoomEnabled=!1,l.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(d){d&&d.classList.remove(a.selectedClass)})}},{key:"handleZoomIn",value:function(){var a=this.w;a.globals.isRangeBar&&(this.minX=a.globals.minY,this.maxX=a.globals.maxY);var l=(this.minX+this.maxX)/2,p=this._getNewMinXMaxX((this.minX+l)/2,(this.maxX+l)/2);a.globals.disableZoomIn||this.zoomUpdateOptions(p.minX,p.maxX)}},{key:"handleZoomOut",value:function(){var a=this.w;if(a.globals.isRangeBar&&(this.minX=a.globals.minY,this.maxX=a.globals.maxY),!("datetime"===a.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var l=(this.minX+this.maxX)/2,p=this._getNewMinXMaxX(this.minX-(l-this.minX),this.maxX-(l-this.maxX));a.globals.disableZoomOut||this.zoomUpdateOptions(p.minX,p.maxX)}}},{key:"_getNewMinXMaxX",value:function(a,l){var d=this.w.config.xaxis.convertedCatToNumeric;return{minX:d?Math.floor(a):a,maxX:d?Math.floor(l):l}}},{key:"zoomUpdateOptions",value:function(a,l){var d=this.w;if(void 0!==a||void 0!==l){if(!(d.config.xaxis.convertedCatToNumeric&&(a<1&&(a=1,l=d.globals.dataPoints),l-a<2))){var h={min:a,max:l},p=this.getBeforeZoomRange(h);p&&(h=p.xaxis);var g={xaxis:h},m=pe.clone(d.globals.initialConfig.yaxis);d.config.chart.zoom.autoScaleYaxis&&(m=new zn(this.ctx).autoScaleY(this.ctx,m,{xaxis:h})),d.config.chart.group||(g.yaxis=m),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(g,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(h,m)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(a,l){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:a,yaxis:l})}},{key:"getBeforeZoomRange",value:function(a,l){var d=null;return"function"==typeof this.ev.beforeZoom&&(d=this.ev.beforeZoom(this,{xaxis:a,yaxis:l})),d}},{key:"toggleMenu",value:function(){var a=this;window.setTimeout(function(){a.elMenu.classList.contains("apexcharts-menu-open")?a.elMenu.classList.remove("apexcharts-menu-open"):a.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(a){var l=this.w,d=new Vt(this.ctx);switch(a){case"svg":d.exportToSVG(this.ctx);break;case"png":d.exportToPng(this.ctx);break;case"csv":d.exportToCSV({series:l.config.series,columnDelimiter:l.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(a){this.ctx.getSyncedCharts().forEach(function(l){var d=l.w;if(d.globals.lastXAxis.min=d.globals.initialConfig.xaxis.min,d.globals.lastXAxis.max=d.globals.initialConfig.xaxis.max,l.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof d.config.chart.events.beforeResetZoom){var h=d.config.chart.events.beforeResetZoom(l,d);h&&l.updateHelpers.revertDefaultAxisMinMax(h)}"function"==typeof d.config.chart.events.zoomed&&l.ctx.toolbar.zoomCallback({min:d.config.xaxis.min,max:d.config.xaxis.max}),d.globals.zoomed=!1;var p=l.ctx.series.emptyCollapsedSeries(pe.clone(d.globals.initialSeries));l.updateHelpers._updateSeries(p,d.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),V}(),In=function(V){bn(l,ai);var a=on(l);function l(d){var h;return Ge(this,l),(h=a.call(this,d)).ctx=d,h.w=d.w,h.dragged=!1,h.graphics=new Re(h.ctx),h.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],h.clientX=0,h.clientY=0,h.startX=0,h.endX=0,h.dragX=0,h.startY=0,h.endY=0,h.dragY=0,h.moveDirection="none",h}return ut(l,[{key:"init",value:function(d){var h=this,p=d.xyRatios,g=this.w,m=this;this.xyRatios=p,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=g.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),g.globals.dom.elGraphical.add(this.zoomRect),g.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===g.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:g.globals.gridWidth,maxY:g.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===g.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:g.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=g.globals.dom.baseEl.querySelector("".concat(g.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(v){h.hoverArea.addEventListener(v,m.svgMouseEvents.bind(m,p),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(d,h){var p=this.w,g=this,m=this.ctx.toolbar,v=p.globals.zoomEnabled?p.config.chart.zoom.type:p.config.chart.selection.type,w=p.config.chart.toolbar.autoSelected;if(h.shiftKey?(this.shiftWasPressed=!0,m.enableZoomPanFromToolbar("pan"===w?"zoom":"pan")):this.shiftWasPressed&&(m.enableZoomPanFromToolbar(w),this.shiftWasPressed=!1),h.target){var E,D=h.target.classList;if(h.target.parentNode&&null!==h.target.parentNode&&(E=h.target.parentNode.classList),!(D.contains("apexcharts-selection-rect")||D.contains("apexcharts-legend-marker")||D.contains("apexcharts-legend-text")||E&&E.contains("apexcharts-toolbar"))){if(g.clientX="touchmove"===h.type||"touchstart"===h.type?h.touches[0].clientX:"touchend"===h.type?h.changedTouches[0].clientX:h.clientX,g.clientY="touchmove"===h.type||"touchstart"===h.type?h.touches[0].clientY:"touchend"===h.type?h.changedTouches[0].clientY:h.clientY,"mousedown"===h.type&&1===h.which){var k=g.gridRect.getBoundingClientRect();g.startX=g.clientX-k.left,g.startY=g.clientY-k.top,g.dragged=!1,g.w.globals.mousedown=!0}if(("mousemove"===h.type&&1===h.which||"touchmove"===h.type)&&(g.dragged=!0,p.globals.panEnabled?(p.globals.selection=null,g.w.globals.mousedown&&g.panDragging({context:g,zoomtype:v,xyRatios:d})):(g.w.globals.mousedown&&p.globals.zoomEnabled||g.w.globals.mousedown&&p.globals.selectionEnabled)&&(g.selection=g.selectionDrawing({context:g,zoomtype:v}))),"mouseup"===h.type||"touchend"===h.type||"mouseleave"===h.type){var O=g.gridRect.getBoundingClientRect();g.w.globals.mousedown&&(g.endX=g.clientX-O.left,g.endY=g.clientY-O.top,g.dragX=Math.abs(g.endX-g.startX),g.dragY=Math.abs(g.endY-g.startY),(p.globals.zoomEnabled||p.globals.selectionEnabled)&&g.selectionDrawn({context:g,zoomtype:v}),p.globals.panEnabled&&p.config.xaxis.convertedCatToNumeric&&g.delayedPanScrolled()),p.globals.zoomEnabled&&g.hideSelectionRect(this.selectionRect),g.dragged=!1,g.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var d=this.w;if(this.selectionRect){var h=this.selectionRect.node.getBoundingClientRect();h.width>0&&h.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:d.globals.gridWidth,maxY:d.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var d=this.w,h=this.xyRatios;if(!d.globals.zoomEnabled)if(null!=d.globals.selection)this.drawSelectionRect(d.globals.selection);else if(void 0!==d.config.chart.selection.xaxis.min&&void 0!==d.config.chart.selection.xaxis.max){var p=(d.config.chart.selection.xaxis.min-d.globals.minX)/h.xRatio;this.drawSelectionRect({x:p,y:0,width:d.globals.gridWidth-(d.globals.maxX-d.config.chart.selection.xaxis.max)/h.xRatio-p,height:d.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof d.config.chart.events.selection&&d.config.chart.events.selection(this.ctx,{xaxis:{min:d.config.chart.selection.xaxis.min,max:d.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(d){var h=d.x,p=d.y,g=d.width,m=d.height,v=d.translateX,E=d.translateY,k=this.w,O=this.zoomRect,P=this.selectionRect;if(this.dragged||null!==k.globals.selection){var L={transform:"translate("+(void 0===v?0:v)+", "+(void 0===E?0:E)+")"};k.globals.zoomEnabled&&this.dragged&&(g<0&&(g=1),O.attr({x:h,y:p,width:g,height:m,fill:k.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":k.config.chart.zoom.zoomedArea.fill.opacity,stroke:k.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":k.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":k.config.chart.zoom.zoomedArea.stroke.opacity}),Re.setAttrs(O.node,L)),k.globals.selectionEnabled&&(P.attr({x:h,y:p,width:g>0?g:0,height:m>0?m:0,fill:k.config.chart.selection.fill.color,"fill-opacity":k.config.chart.selection.fill.opacity,stroke:k.config.chart.selection.stroke.color,"stroke-width":k.config.chart.selection.stroke.width,"stroke-dasharray":k.config.chart.selection.stroke.dashArray,"stroke-opacity":k.config.chart.selection.stroke.opacity}),Re.setAttrs(P.node,L))}}},{key:"hideSelectionRect",value:function(d){d&&d.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(d){var L,p=d.zoomtype,g=this.w,m=d.context,v=this.gridRect.getBoundingClientRect(),w=m.startX-1,E=m.startY,D=!1,k=!1,O=m.clientX-v.left-w,P=m.clientY-v.top-E;return Math.abs(O+w)>g.globals.gridWidth?O=g.globals.gridWidth-w:m.clientX-v.left<0&&(O=w),w>m.clientX-v.left&&(D=!0,O=Math.abs(O)),E>m.clientY-v.top&&(k=!0,P=Math.abs(P)),m.drawSelectionRect(L="x"===p?{x:D?w-O:w,y:0,width:O,height:g.globals.gridHeight}:"y"===p?{x:0,y:k?E-P:E,width:g.globals.gridWidth,height:P}:{x:D?w-O:w,y:k?E-P:E,width:O,height:P}),m.selectionDragging("resizing"),L}},{key:"selectionDragging",value:function(d,h){var p=this,g=this.w,m=this.xyRatios,v=this.selectionRect,w=0;"resizing"===d&&(w=30);var E=function(k){return parseFloat(v.node.getAttribute(k))},D={x:E("x"),y:E("y"),width:E("width"),height:E("height")};g.globals.selection=D,"function"==typeof g.config.chart.events.selection&&g.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var k=p.gridRect.getBoundingClientRect(),O=v.node.getBoundingClientRect(),P={xaxis:{min:g.globals.xAxisScale.niceMin+(O.left-k.left)*m.xRatio,max:g.globals.xAxisScale.niceMin+(O.right-k.left)*m.xRatio},yaxis:{min:g.globals.yAxisScale[0].niceMin+(k.bottom-O.bottom)*m.yRatio[0],max:g.globals.yAxisScale[0].niceMax-(O.top-k.top)*m.yRatio[0]}};g.config.chart.events.selection(p.ctx,P),g.config.chart.brush.enabled&&void 0!==g.config.chart.events.brushScrolled&&g.config.chart.events.brushScrolled(p.ctx,P)},w))}},{key:"selectionDrawn",value:function(d){var p=d.zoomtype,g=this.w,m=d.context,v=this.xyRatios,w=this.ctx.toolbar;if(m.startX>m.endX){var E=m.startX;m.startX=m.endX,m.endX=E}if(m.startY>m.endY){var D=m.startY;m.startY=m.endY,m.endY=D}var k=void 0,O=void 0;g.globals.isRangeBar?(k=g.globals.yAxisScale[0].niceMin+m.startX*v.invertedYRatio,O=g.globals.yAxisScale[0].niceMin+m.endX*v.invertedYRatio):(k=g.globals.xAxisScale.niceMin+m.startX*v.xRatio,O=g.globals.xAxisScale.niceMin+m.endX*v.xRatio);var P=[],L=[];if(g.config.yaxis.forEach(function(Q,q){P.push(g.globals.yAxisScale[q].niceMax-v.yRatio[q]*m.startY),L.push(g.globals.yAxisScale[q].niceMax-v.yRatio[q]*m.endY)}),m.dragged&&(m.dragX>10||m.dragY>10)&&k!==O)if(g.globals.zoomEnabled){var z=pe.clone(g.globals.initialConfig.yaxis),$=pe.clone(g.globals.initialConfig.xaxis);if(g.globals.zoomed=!0,g.config.xaxis.convertedCatToNumeric&&(k=Math.floor(k),O=Math.floor(O),k<1&&(k=1,O=g.globals.dataPoints),O-k<2&&(O=k+1)),"xy"!==p&&"x"!==p||($={min:k,max:O}),"xy"!==p&&"y"!==p||z.forEach(function(Q,q){z[q].min=L[q],z[q].max=P[q]}),g.config.chart.zoom.autoScaleYaxis){var K=new zn(m.ctx);z=K.autoScaleY(m.ctx,z,{xaxis:$})}if(w){var b=w.getBeforeZoomRange($,z);b&&($=b.xaxis?b.xaxis:$,z=b.yaxis?b.yaxis:z)}var I={xaxis:$};g.config.chart.group||(I.yaxis=z),m.ctx.updateHelpers._updateOptions(I,!1,m.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof g.config.chart.events.zoomed&&w.zoomCallback($,z)}else if(g.globals.selectionEnabled){var N,U=null;N={min:k,max:O},"xy"!==p&&"y"!==p||(U=pe.clone(g.config.yaxis)).forEach(function(Q,q){U[q].min=L[q],U[q].max=P[q]}),g.globals.selection=m.selection,"function"==typeof g.config.chart.events.selection&&g.config.chart.events.selection(m.ctx,{xaxis:N,yaxis:U})}}},{key:"panDragging",value:function(d){var p=this.w,g=d.context;if(void 0!==p.globals.lastClientPosition.x){var m=p.globals.lastClientPosition.x-g.clientX,v=p.globals.lastClientPosition.y-g.clientY;Math.abs(m)>Math.abs(v)&&m>0?this.moveDirection="left":Math.abs(m)>Math.abs(v)&&m<0?this.moveDirection="right":Math.abs(v)>Math.abs(m)&&v>0?this.moveDirection="up":Math.abs(v)>Math.abs(m)&&v<0&&(this.moveDirection="down")}p.globals.lastClientPosition={x:g.clientX,y:g.clientY},p.config.xaxis.convertedCatToNumeric||g.panScrolled(p.globals.isRangeBar?p.globals.minY:p.globals.minX,p.globals.isRangeBar?p.globals.maxY:p.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var d=this.w,h=d.globals.minX,p=d.globals.maxX,g=(d.globals.maxX-d.globals.minX)/2;"left"===this.moveDirection?(h=d.globals.minX+g,p=d.globals.maxX+g):"right"===this.moveDirection&&(h=d.globals.minX-g,p=d.globals.maxX-g),h=Math.floor(h),p=Math.floor(p),this.updateScrolledChart({xaxis:{min:h,max:p}},h,p)}},{key:"panScrolled",value:function(d,h){var p=this.w,g=this.xyRatios,m=pe.clone(p.globals.initialConfig.yaxis),v=g.xRatio,w=p.globals.minX,E=p.globals.maxX;p.globals.isRangeBar&&(v=g.invertedYRatio,w=p.globals.minY,E=p.globals.maxY),"left"===this.moveDirection?(d=w+p.globals.gridWidth/15*v,h=E+p.globals.gridWidth/15*v):"right"===this.moveDirection&&(d=w-p.globals.gridWidth/15*v,h=E-p.globals.gridWidth/15*v),p.globals.isRangeBar||(d<p.globals.initialMinX||h>p.globals.initialMaxX)&&(d=w,h=E);var D={min:d,max:h};p.config.chart.zoom.autoScaleYaxis&&(m=new zn(this.ctx).autoScaleY(this.ctx,m,{xaxis:D}));var k={xaxis:{min:d,max:h}};p.config.chart.group||(k.yaxis=m),this.updateScrolledChart(k,d,h)}},{key:"updateScrolledChart",value:function(d,h,p){var g=this.w;this.ctx.updateHelpers._updateOptions(d,!1,!1),"function"==typeof g.config.chart.events.scrolled&&g.config.chart.events.scrolled(this.ctx,{xaxis:{min:h,max:p}})}}]),l}(),Yn=function(){function V(a){Ge(this,V),this.w=a.w,this.ttCtx=a,this.ctx=a.ctx}return ut(V,[{key:"getNearestValues",value:function(a){var l=a.hoverArea,h=a.clientX,p=a.clientY,g=this.w,m=a.elGrid.getBoundingClientRect(),v=m.width,w=m.height,E=v/(g.globals.dataPoints-1),D=w/g.globals.dataPoints,k=this.hasBars();!g.globals.comboCharts&&!k||g.config.xaxis.convertedCatToNumeric||(E=v/g.globals.dataPoints);var O=h-m.left-g.globals.barPadForNumericAxis,P=p-m.top;O<0||P<0||O>v||P>w?(l.classList.remove("hovering-zoom"),l.classList.remove("hovering-pan")):g.globals.zoomEnabled?(l.classList.remove("hovering-pan"),l.classList.add("hovering-zoom")):g.globals.panEnabled&&(l.classList.remove("hovering-zoom"),l.classList.add("hovering-pan"));var L=Math.round(O/E),z=Math.floor(P/D);k&&!g.config.xaxis.convertedCatToNumeric&&(L=Math.ceil(O/E),L-=1);var $=null,K=null,b=g.globals.seriesXvalues.map(function(q){return q.filter(function(ye){return pe.isNumber(ye)})}),I=g.globals.seriesYvalues.map(function(q){return q.filter(function(ye){return pe.isNumber(ye)})});if(g.globals.isXNumeric){var N=this.ttCtx.getElGrid().getBoundingClientRect(),U=O*(N.width/v);$=(K=this.closestInMultiArray(U,P*(N.height/w),b,I)).index,L=K.j,null!==$&&(L=(K=this.closestInArray(U,b=g.globals.seriesXvalues[$])).index)}return g.globals.capturedSeriesIndex=null===$?-1:$,(!L||L<1)&&(L=0),g.globals.capturedDataPointIndex=g.globals.isBarHorizontal?z:L,{capturedSeries:$,j:g.globals.isBarHorizontal?z:L,hoverX:O,hoverY:P}}},{key:"closestInMultiArray",value:function(a,l,d,h){var g=0,m=null,v=-1;this.w.globals.series.length>1?g=this.getFirstActiveXArray(d):m=0;var E=Math.abs(a-d[g][0]);if(d.forEach(function(O){O.forEach(function(P,L){var z=Math.abs(a-P);z<=E&&(E=z,v=L)})}),-1!==v){var k=Math.abs(l-h[g][v]);m=g,h.forEach(function(O,P){var L=Math.abs(l-O[v]);L<=k&&(k=L,m=P)})}return{index:m,j:v}}},{key:"getFirstActiveXArray",value:function(a){for(var l=this.w,d=0,h=a.map(function(g,m){return g.length>0?m:-1}),p=0;p<h.length;p++)if(-1!==h[p]&&-1===l.globals.collapsedSeriesIndices.indexOf(p)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(p)){d=h[p];break}return d}},{key:"closestInArray",value:function(a,l){for(var h=null,p=Math.abs(a-l[0]),g=0;g<l.length;g++){var m=Math.abs(a-l[g]);m<p&&(p=m,h=g)}return{index:h}}},{key:"isXoverlap",value:function(a){var l=[],d=this.w.globals.seriesX.filter(function(p){return void 0!==p[0]});if(d.length>0)for(var h=0;h<d.length-1;h++)void 0!==d[h][a]&&void 0!==d[h+1][a]&&d[h][a]!==d[h+1][a]&&l.push("unEqual");return 0===l.length}},{key:"isInitialSeriesSameLen",value:function(){for(var a=!0,l=this.w.globals.initialSeries,d=0;d<l.length-1;d++)if(l[d].data.length!==l[d+1].data.length){a=!1;break}return a}},{key:"getBarsHeight",value:function(a){return kn(a).reduce(function(l,d){return l+d.getBBox().height},0)}},{key:"getElMarkers",value:function(a){return this.w.globals.dom.baseEl.querySelectorAll("number"==typeof a?".apexcharts-series[data\\:realIndex='".concat(a,"'] .apexcharts-series-markers-wrap > *"):".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(a=kn(a)).sort(function(d,h){var p=Number(d.getAttribute("data:realIndex")),g=Number(h.getAttribute("data:realIndex"));return g<p?1:g>p?-1:0});var l=[];return a.forEach(function(d){l.push(d.querySelector(".apexcharts-marker"))}),l}},{key:"hasMarkers",value:function(a){return this.getElMarkers(a).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(a){var l=this.w,d=l.config.markers.hover.size;return void 0===d&&(d=l.globals.markers.size[a]+l.config.markers.hover.sizeOffset),d}},{key:"toggleAllTooltipSeriesGroups",value:function(a){var l=this.w,d=this.ttCtx;0===d.allTooltipSeriesGroups.length&&(d.allTooltipSeriesGroups=l.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var h=d.allTooltipSeriesGroups,p=0;p<h.length;p++)"enable"===a?(h[p].classList.add("apexcharts-active"),h[p].style.display=l.config.tooltip.items.display):(h[p].classList.remove("apexcharts-active"),h[p].style.display="none")}}]),V}(),ti=function(){function V(a){Ge(this,V),this.w=a.w,this.ctx=a.ctx,this.ttCtx=a,this.tooltipUtil=new Yn(a)}return ut(V,[{key:"drawSeriesTexts",value:function(a){var l=a.shared,d=void 0===l||l,h=a.ttItems,p=a.i,g=void 0===p?0:p,m=a.j,v=void 0===m?null:m,D=a.e,k=this.w;void 0!==k.config.tooltip.custom?this.handleCustomTooltip({i:g,j:v,y1:a.y1,y2:a.y2,w:k}):this.toggleActiveInactiveSeries(d);var O=this.getValuesToPrint({i:g,j:v});this.printLabels({i:g,j:v,values:O,ttItems:h,shared:d,e:D});var P=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=P.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=P.getBoundingClientRect().height}},{key:"printLabels",value:function(a){var l,d=this,h=a.i,p=a.j,g=a.values,m=a.ttItems,v=a.shared,w=a.e,E=this.w,D=[],k=function(N){return E.globals.seriesGoals[N]&&E.globals.seriesGoals[N][p]&&Array.isArray(E.globals.seriesGoals[N][p])},O=g.xVal,P=g.zVal,L=g.xAxisTTVal,z="",$=E.globals.colors[h];null!==p&&E.config.plotOptions.bar.distributed&&($=E.globals.colors[p]);for(var K=function(N,U){var Q=d.getFormatters(h);z=d.getSeriesName({fn:Q.yLbTitleFormatter,index:h,seriesIndex:h,j:p}),"treemap"===E.config.chart.type&&(z=Q.yLbTitleFormatter(String(E.config.series[h].data[p].x),{series:E.globals.series,seriesIndex:h,dataPointIndex:p,w:E}));var q=E.config.tooltip.inverseOrder?U:N;if(E.globals.axisCharts){var ye=function(ce){var qe,ke,xt,nn;return E.globals.isRangeData?Q.yLbFormatter(null===(qe=E.globals.seriesRangeStart)||void 0===qe||null===(ke=qe[ce])||void 0===ke?void 0:ke[p],{series:E.globals.seriesRangeStart,seriesIndex:ce,dataPointIndex:p,w:E})+" - "+Q.yLbFormatter(null===(xt=E.globals.seriesRangeEnd)||void 0===xt||null===(nn=xt[ce])||void 0===nn?void 0:nn[p],{series:E.globals.seriesRangeEnd,seriesIndex:ce,dataPointIndex:p,w:E}):Q.yLbFormatter(E.globals.series[ce][p],{series:E.globals.series,seriesIndex:ce,dataPointIndex:p,w:E})};if(v)Q=d.getFormatters(q),z=d.getSeriesName({fn:Q.yLbTitleFormatter,index:q,seriesIndex:h,j:p}),$=E.globals.colors[q],l=ye(q),k(q)&&(D=E.globals.seriesGoals[q][p].map(function(ce){return{attrs:ce,val:Q.yLbFormatter(ce.value,{seriesIndex:q,dataPointIndex:p,w:E})}}));else{var _e,Oe=null==w||null===(_e=w.target)||void 0===_e?void 0:_e.getAttribute("fill");Oe&&($=-1!==Oe.indexOf("url")?document.querySelector(Oe.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):Oe),l=ye(h),k(h)&&Array.isArray(E.globals.seriesGoals[h][p])&&(D=E.globals.seriesGoals[h][p].map(function(ce){return{attrs:ce,val:Q.yLbFormatter(ce.value,{seriesIndex:h,dataPointIndex:p,w:E})}}))}}null===p&&(l=Q.yLbFormatter(E.globals.series[h],ae(ae({},E),{},{seriesIndex:h,dataPointIndex:h}))),d.DOMHandling({i:h,t:q,j:p,ttItems:m,values:{val:l,goalVals:D,xVal:O,xAxisTTVal:L,zVal:P},seriesName:z,shared:v,pColor:$})},b=0,I=E.globals.series.length-1;b<E.globals.series.length;b++,I--)K(b,I)}},{key:"getFormatters",value:function(a){var l,d=this.w,h=d.globals.yLabelFormatters[a];return void 0!==d.globals.ttVal?Array.isArray(d.globals.ttVal)?(h=d.globals.ttVal[a]&&d.globals.ttVal[a].formatter,l=d.globals.ttVal[a]&&d.globals.ttVal[a].title&&d.globals.ttVal[a].title.formatter):(h=d.globals.ttVal.formatter,"function"==typeof d.globals.ttVal.title.formatter&&(l=d.globals.ttVal.title.formatter)):l=d.config.tooltip.y.title.formatter,"function"!=typeof h&&(h=d.globals.yLabelFormatters[0]?d.globals.yLabelFormatters[0]:function(p){return p}),"function"!=typeof l&&(l=function(p){return p}),{yLbFormatter:h,yLbTitleFormatter:l}}},{key:"getSeriesName",value:function(a){var h=a.seriesIndex,p=a.j,g=this.w;return(0,a.fn)(String(g.globals.seriesNames[a.index]),{series:g.globals.series,seriesIndex:h,dataPointIndex:p,w:g})}},{key:"DOMHandling",value:function(a){var l=a.t,d=a.j,h=a.ttItems,p=a.values,g=a.seriesName,m=a.shared,v=a.pColor,w=this.w,E=this.ttCtx,D=p.val,k=p.goalVals,O=p.xVal,P=p.xAxisTTVal,L=p.zVal,z=null;z=h[l].children,w.config.tooltip.fillSeriesColor&&(h[l].style.backgroundColor=v,z[0].style.display="none"),E.showTooltipTitle&&(null===E.tooltipTitle&&(E.tooltipTitle=w.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),E.tooltipTitle.innerHTML=O),E.isXAxisTooltipEnabled&&(E.xaxisTooltipText.innerHTML=""!==P?P:O);var $=h[l].querySelector(".apexcharts-tooltip-text-y-label");$&&($.innerHTML=g||"");var K=h[l].querySelector(".apexcharts-tooltip-text-y-value");K&&(K.innerHTML=void 0!==D?D:""),z[0]&&z[0].classList.contains("apexcharts-tooltip-marker")&&(w.config.tooltip.marker.fillColors&&Array.isArray(w.config.tooltip.marker.fillColors)&&(v=w.config.tooltip.marker.fillColors[l]),z[0].style.backgroundColor=v),w.config.tooltip.marker.show||(z[0].style.display="none");var b=h[l].querySelector(".apexcharts-tooltip-text-goals-label"),I=h[l].querySelector(".apexcharts-tooltip-text-goals-value");if(k.length&&w.globals.seriesGoals[l]){var N=function(){var U="<div >",Q="<div>";k.forEach(function(q,ye){U+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(q.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(q.attrs.name,"</div>"),Q+="<div>".concat(q.val,"</div>")}),b.innerHTML=U+"</div>",I.innerHTML=Q+"</div>"};m?w.globals.seriesGoals[l][d]&&Array.isArray(w.globals.seriesGoals[l][d])?N():(b.innerHTML="",I.innerHTML=""):N()}else b.innerHTML="",I.innerHTML="";null!==L&&(h[l].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=w.config.tooltip.z.title,h[l].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==L?L:""),m&&z[0]&&(z[0].parentNode.style.display=null==D||w.globals.ancillaryCollapsedSeriesIndices.indexOf(l)>-1||w.globals.collapsedSeriesIndices.indexOf(l)>-1?"none":w.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(a){var l=this.w;if(a)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var d=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");d&&(d.classList.add("apexcharts-active"),d.style.display=l.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(a){var l=a.i,d=a.j,h=this.w,p=this.ctx.series.filteredSeriesX(),g="",m="",v=null,w=null,E={series:h.globals.series,seriesIndex:l,dataPointIndex:d,w:h},D=h.globals.ttZFormatter;null===d?w=h.globals.series[l]:h.globals.isXNumeric&&"treemap"!==h.config.chart.type?(g=p[l][d],0===p[l].length&&(g=p[this.tooltipUtil.getFirstActiveXArray(p)][d])):g=void 0!==h.globals.labels[d]?h.globals.labels[d]:"";var k=g;return g=h.globals.isXNumeric&&"datetime"===h.config.xaxis.type?new Fr(this.ctx).xLabelFormat(h.globals.ttKeyFormatter,k,k,{i:void 0,dateFormatter:new fn(this.ctx).formatDate,w:this.w}):h.globals.isBarHorizontal?h.globals.yLabelFormatters[0](k,E):h.globals.xLabelFormatter(k,E),void 0!==h.config.tooltip.x.formatter&&(g=h.globals.ttKeyFormatter(k,E)),h.globals.seriesZ.length>0&&h.globals.seriesZ[l].length>0&&(v=D(h.globals.seriesZ[l][d],h)),m="function"==typeof h.config.xaxis.tooltip.formatter?h.globals.xaxisTooltipFormatter(k,E):g,{val:Array.isArray(w)?w.join(" "):w,xVal:Array.isArray(g)?g.join(" "):g,xAxisTTVal:Array.isArray(m)?m.join(" "):m,zVal:v}}},{key:"handleCustomTooltip",value:function(a){var l=a.i,d=a.j,h=a.y1,p=a.y2,g=a.w,m=this.ttCtx.getElTooltip(),v=g.config.tooltip.custom;Array.isArray(v)&&v[l]&&(v=v[l]),m.innerHTML=v({ctx:this.ctx,series:g.globals.series,seriesIndex:l,dataPointIndex:d,y1:h,y2:p,w:g})}}]),V}(),Sa=function(){function V(a){Ge(this,V),this.ttCtx=a,this.ctx=a.ctx,this.w=a.w}return ut(V,[{key:"moveXCrosshairs",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,d=this.ttCtx,h=this.w,p=d.getElXCrosshairs(),g=a-d.xcrosshairsWidth/2,m=h.globals.labels.slice().length;if(null!==l&&(g=h.globals.gridWidth/m*l),null===p||h.globals.isBarHorizontal||(p.setAttribute("x",g),p.setAttribute("x1",g),p.setAttribute("x2",g),p.setAttribute("y2",h.globals.gridHeight),p.classList.add("apexcharts-active")),g<0&&(g=0),g>h.globals.gridWidth&&(g=h.globals.gridWidth),d.isXAxisTooltipEnabled){var v=g;"tickWidth"!==h.config.xaxis.crosshairs.width&&"barWidth"!==h.config.xaxis.crosshairs.width||(v=g+d.xcrosshairsWidth/2),this.moveXAxisTooltip(v)}}},{key:"moveYCrosshairs",value:function(a){var l=this.ttCtx;null!==l.ycrosshairs&&Re.setAttrs(l.ycrosshairs,{y1:a,y2:a}),null!==l.ycrosshairsHidden&&Re.setAttrs(l.ycrosshairsHidden,{y1:a,y2:a})}},{key:"moveXAxisTooltip",value:function(a){var l=this.w,d=this.ttCtx;if(null!==d.xaxisTooltip&&0!==d.xcrosshairsWidth){d.xaxisTooltip.classList.add("apexcharts-active");var p,h=d.xaxisOffY+l.config.xaxis.tooltip.offsetY+l.globals.translateY+1+l.config.xaxis.offsetY;a-=d.xaxisTooltip.getBoundingClientRect().width/2,isNaN(a)||(a+=l.globals.translateX,p=new Re(this.ctx).getTextRects(d.xaxisTooltipText.innerHTML),d.xaxisTooltipText.style.minWidth=p.width+"px",d.xaxisTooltip.style.left=a+"px",d.xaxisTooltip.style.top=h+"px")}}},{key:"moveYAxisTooltip",value:function(a){var l=this.w,d=this.ttCtx;null===d.yaxisTTEls&&(d.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var h=parseInt(d.ycrosshairsHidden.getAttribute("y1"),10),p=l.globals.translateY+h,g=d.yaxisTTEls[a].getBoundingClientRect().height,m=l.globals.translateYAxisX[a]-2;l.config.yaxis[a].opposite&&(m-=26),p-=g/2,-1===l.globals.ignoreYAxisIndexes.indexOf(a)?(d.yaxisTTEls[a].classList.add("apexcharts-active"),d.yaxisTTEls[a].style.top=p+"px",d.yaxisTTEls[a].style.left=m+l.config.yaxis[a].tooltip.offsetX+"px"):d.yaxisTTEls[a].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=this.w,p=this.ttCtx,g=p.getElTooltip(),m=p.tooltipRect,v=null!==d?parseFloat(d):1,w=parseFloat(a)+v+5,E=parseFloat(l)+v/2;if(w>h.globals.gridWidth/2&&(w=w-m.ttWidth-v-10),w>h.globals.gridWidth-m.ttWidth-10&&(w=h.globals.gridWidth-m.ttWidth),w<-20&&(w=-20),h.config.tooltip.followCursor){var D=p.getElGrid().getBoundingClientRect();(w=p.e.clientX-D.left)>h.globals.gridWidth/2&&(w-=p.tooltipRect.ttWidth),(E=p.e.clientY+h.globals.translateY-D.top)>h.globals.gridHeight/2&&(E-=p.tooltipRect.ttHeight)}else h.globals.isBarHorizontal||m.ttHeight/2+E>h.globals.gridHeight&&(E=h.globals.gridHeight-m.ttHeight+h.globals.translateY);isNaN(w)||(g.style.left=(w+=h.globals.translateX)+"px",g.style.top=E+"px")}},{key:"moveMarkers",value:function(a,l){var d=this.w,h=this.ttCtx;if(d.globals.markers.size[a]>0)for(var p=d.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(a,"'] .apexcharts-marker")),g=0;g<p.length;g++)parseInt(p[g].getAttribute("rel"),10)===l&&(h.marker.resetPointsSize(),h.marker.enlargeCurrentPoint(l,p[g]));else h.marker.resetPointsSize(),this.moveDynamicPointOnHover(l,a)}},{key:"moveDynamicPointOnHover",value:function(a,l){var d,h,p=this.w,g=this.ttCtx,m=p.globals.pointsArray,v=g.tooltipUtil.getHoverMarkerSize(l),w=p.config.series[l].type;if(!w||"column"!==w&&"candlestick"!==w&&"boxPlot"!==w){d=m[l][a][0],h=m[l][a][1]?m[l][a][1]:0;var E=p.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(l,"'] .apexcharts-series-markers circle"));E&&h<p.globals.gridHeight&&h>0&&(E.setAttribute("r",v),E.setAttribute("cx",d),E.setAttribute("cy",h)),this.moveXCrosshairs(d),g.fixedTooltip||this.moveTooltip(d,h,v)}}},{key:"moveDynamicPointsOnHover",value:function(a){var l,d=this.ttCtx,h=d.w,p=0,g=0,m=h.globals.pointsArray;l=new ct(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var v=d.tooltipUtil.getHoverMarkerSize(l);m[l]&&(p=m[l][a][0],g=m[l][a][1]);var w=d.tooltipUtil.getAllMarkers();if(null!==w)for(var E=0;E<h.globals.series.length;E++){var D=m[E];if(h.globals.comboCharts&&void 0===D&&w.splice(E,0,null),D&&D.length){var k=m[E][a][1];w[E].setAttribute("cx",p),"rangeArea"!==h.config.chart.type||h.globals.comboCharts||(k-=Math.abs(k-m[E][a+h.globals.series[E].length][1])/2),null!==k&&!isNaN(k)&&k<h.globals.gridHeight+v&&k+v>0?(w[E]&&w[E].setAttribute("r",v),w[E]&&w[E].setAttribute("cy",k)):w[E]&&w[E].setAttribute("r",0)}}this.moveXCrosshairs(p),d.fixedTooltip||this.moveTooltip(p,g||h.globals.gridHeight,v)}},{key:"moveStickyTooltipOverBars",value:function(a,l){var d=this.w,h=this.ttCtx,p=d.globals.columnSeries?d.globals.columnSeries.length:d.globals.series.length,g=p>=2&&p%2==0?Math.floor(p/2):Math.floor(p/2)+1;d.globals.isBarHorizontal&&(g=new ct(this.ctx).getActiveConfigSeriesIndex("desc")+1);var m=d.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(g,"'] path[j='").concat(a,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(g,"'] path[j='").concat(a,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(g,"'] path[j='").concat(a,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(g,"'] path[j='").concat(a,"']"));m||"number"!=typeof l||(m=d.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(l,"'] path[j='").concat(a,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(l,"'] path[j='").concat(a,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(l,"'] path[j='").concat(a,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(l,"'] path[j='").concat(a,"']")));var v=m?parseFloat(m.getAttribute("cx")):0,w=m?parseFloat(m.getAttribute("cy")):0,E=m?parseFloat(m.getAttribute("barWidth")):0,D=h.getElGrid().getBoundingClientRect(),k=m&&(m.classList.contains("apexcharts-candlestick-area")||m.classList.contains("apexcharts-boxPlot-area"));d.globals.isXNumeric?(m&&!k&&(v-=p%2!=0?E/2:0),m&&k&&d.globals.comboCharts&&(v-=E/2)):d.globals.isBarHorizontal||(v=h.xAxisTicksPositions[a-1]+h.dataPointsDividedWidth/2,isNaN(v)&&(v=h.xAxisTicksPositions[a]-h.dataPointsDividedWidth/2)),d.globals.isBarHorizontal?w-=h.tooltipRect.ttHeight:d.config.tooltip.followCursor?w=h.e.clientY-D.top-h.tooltipRect.ttHeight/2:w+h.tooltipRect.ttHeight+15>d.globals.gridHeight&&(w=d.globals.gridHeight),d.globals.isBarHorizontal||this.moveXCrosshairs(v),h.fixedTooltip||this.moveTooltip(v,w||d.globals.gridHeight)}}]),V}(),Si=function(){function V(a){Ge(this,V),this.w=a.w,this.ttCtx=a,this.ctx=a.ctx,this.tooltipPosition=new Sa(a)}return ut(V,[{key:"drawDynamicPoints",value:function(){var a=this.w,l=new Re(this.ctx),d=new Ae(this.ctx),h=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series");h=kn(h),a.config.chart.stacked&&h.sort(function(D,k){return parseFloat(D.getAttribute("data:realIndex"))-parseFloat(k.getAttribute("data:realIndex"))});for(var p=0;p<h.length;p++){var g=h[p].querySelector(".apexcharts-series-markers-wrap");if(null!==g){var m=void 0,v="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==a.config.chart.type&&"area"!==a.config.chart.type||a.globals.comboCharts||a.config.tooltip.intersect||(v+=" no-pointer-events");var w=d.getMarkerConfig({cssClass:v,seriesIndex:Number(g.getAttribute("data:realIndex"))});(m=l.drawMarker(0,0,w)).node.setAttribute("default-marker-size",0);var E=document.createElementNS(a.globals.SVGNS,"g");E.classList.add("apexcharts-series-markers"),E.appendChild(m.node),g.appendChild(E)}}}},{key:"enlargeCurrentPoint",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=this.w;"bubble"!==p.config.chart.type&&this.newPointSize(a,l);var g=l.getAttribute("cx"),m=l.getAttribute("cy");if(null!==d&&null!==h&&(g=d,m=h),this.tooltipPosition.moveXCrosshairs(g),!this.fixedTooltip){if("radar"===p.config.chart.type){var v=this.ttCtx.getElGrid().getBoundingClientRect();g=this.ttCtx.e.clientX-v.left}this.tooltipPosition.moveTooltip(g,m,p.config.markers.hover.size)}}},{key:"enlargePoints",value:function(a){for(var l=this.w,d=this,h=this.ttCtx,p=a,g=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),m=l.config.markers.hover.size,v=0;v<g.length;v++){var w=g[v].getAttribute("rel"),E=g[v].getAttribute("index");if(void 0===m&&(m=l.globals.markers.size[E]+l.config.markers.hover.sizeOffset),p===parseInt(w,10)){d.newPointSize(p,g[v]);var D=g[v].getAttribute("cx"),k=g[v].getAttribute("cy");d.tooltipPosition.moveXCrosshairs(D),h.fixedTooltip||d.tooltipPosition.moveTooltip(D,k,m)}else d.oldPointSize(g[v])}}},{key:"newPointSize",value:function(a,l){var d=this.w,h=d.config.markers.hover.size,p=0===a?l.parentNode.firstChild:l.parentNode.lastChild;if("0"!==p.getAttribute("default-marker-size")){var g=parseInt(p.getAttribute("index"),10);void 0===h&&(h=d.globals.markers.size[g]+d.config.markers.hover.sizeOffset),h<0&&(h=0),p.setAttribute("r",h)}}},{key:"oldPointSize",value:function(a){var l=parseFloat(a.getAttribute("default-marker-size"));a.setAttribute("r",l)}},{key:"resetPointsSize",value:function(){for(var a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=0;l<a.length;l++){var d=parseFloat(a[l].getAttribute("default-marker-size"));pe.isNumber(d)&&d>=0?a[l].setAttribute("r",d):a[l].setAttribute("r",0)}}}]),V}(),Oi=function(){function V(a){Ge(this,V),this.w=a.w;var l=this.w;this.ttCtx=a,this.isVerticalGroupedRangeBar=!l.globals.isBarHorizontal&&"rangeBar"===l.config.chart.type&&l.config.plotOptions.bar.rangeBarGroupRows}return ut(V,[{key:"getAttr",value:function(a,l){return parseFloat(a.target.getAttribute(l))}},{key:"handleHeatTreeTooltip",value:function(a){var l=a.e,d=a.opt,h=a.x,p=a.y,m=this.ttCtx,v=this.w;if(l.target.classList.contains("apexcharts-".concat(a.type,"-rect"))){var w=this.getAttr(l,"i"),E=this.getAttr(l,"j"),D=this.getAttr(l,"cx"),k=this.getAttr(l,"cy"),O=this.getAttr(l,"width"),P=this.getAttr(l,"height");if(m.tooltipLabels.drawSeriesTexts({ttItems:d.ttItems,i:w,j:E,shared:!1,e:l}),v.globals.capturedSeriesIndex=w,v.globals.capturedDataPointIndex=E,h=D+m.tooltipRect.ttWidth/2+O,p=k+m.tooltipRect.ttHeight/2-P/2,m.tooltipPosition.moveXCrosshairs(D+O/2),h>v.globals.gridWidth/2&&(h=D-m.tooltipRect.ttWidth/2+O),m.w.config.tooltip.followCursor){var L=v.globals.dom.elWrap.getBoundingClientRect();h=v.globals.clientX-L.left-(h>v.globals.gridWidth/2?m.tooltipRect.ttWidth:0),p=v.globals.clientY-L.top-(p>v.globals.gridHeight/2?m.tooltipRect.ttHeight:0)}}return{x:h,y:p}}},{key:"handleMarkerTooltip",value:function(a){var l,d,h=a.e,p=a.opt,g=a.x,m=a.y,v=this.w,w=this.ttCtx;if(h.target.classList.contains("apexcharts-marker")){var E=parseInt(p.paths.getAttribute("cx"),10),D=parseInt(p.paths.getAttribute("cy"),10),k=parseFloat(p.paths.getAttribute("val"));if(d=parseInt(p.paths.getAttribute("rel"),10),l=parseInt(p.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,w.intersect){var O=pe.findAncestor(p.paths,"apexcharts-series");O&&(l=parseInt(O.getAttribute("data:realIndex"),10))}if(w.tooltipLabels.drawSeriesTexts({ttItems:p.ttItems,i:l,j:d,shared:!w.showOnIntersect&&v.config.tooltip.shared,e:h}),"mouseup"===h.type&&w.markerClick(h,l,d),v.globals.capturedSeriesIndex=l,v.globals.capturedDataPointIndex=d,g=E,m=D+v.globals.translateY-1.4*w.tooltipRect.ttHeight,w.w.config.tooltip.followCursor){var P=w.getElGrid().getBoundingClientRect();m=w.e.clientY+v.globals.translateY-P.top}k<0&&(m=D),w.marker.enlargeCurrentPoint(d,p.paths,g,m)}return{x:g,y:m}}},{key:"handleBarTooltip",value:function(a){var l,d,h=a.e,p=a.opt,g=this.w,m=this.ttCtx,v=m.getElTooltip(),w=0,E=0,D=0,k=this.getBarTooltipXY({e:h,opt:p}),O=k.barHeight,P=k.j;g.globals.capturedSeriesIndex=l=k.i,g.globals.capturedDataPointIndex=P,g.globals.isBarHorizontal&&m.tooltipUtil.hasBars()||!g.config.tooltip.shared?(E=k.x,D=k.y,d=Array.isArray(g.config.stroke.width)?g.config.stroke.width[l]:g.config.stroke.width,w=E):g.globals.comboCharts||g.config.tooltip.shared||(w/=2),isNaN(D)&&(D=g.globals.svgHeight-m.tooltipRect.ttHeight);var L=parseInt(p.paths.parentNode.getAttribute("data:realIndex"),10),z=g.globals.isMultipleYAxis?g.config.yaxis[L]&&g.config.yaxis[L].reversed:g.config.yaxis[0].reversed;if(E+m.tooltipRect.ttWidth>g.globals.gridWidth&&!z?E-=m.tooltipRect.ttWidth:E<0&&(E=0),m.w.config.tooltip.followCursor){var $=m.getElGrid().getBoundingClientRect();D=m.e.clientY-$.top}null===m.tooltip&&(m.tooltip=g.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),g.config.tooltip.shared||m.tooltipPosition.moveXCrosshairs(g.globals.comboBarCount>0?w+d/2:w),!m.fixedTooltip&&(!g.config.tooltip.shared||g.globals.isBarHorizontal&&m.tooltipUtil.hasBars())&&(z&&(E-=m.tooltipRect.ttWidth)<0&&(E=0),!z||g.globals.isBarHorizontal&&m.tooltipUtil.hasBars()||(D=D+O-2*(g.globals.series[l][P]<0?O:0)),D=D+g.globals.translateY-m.tooltipRect.ttHeight/2,v.style.left=E+g.globals.translateX+"px",v.style.top=D+"px")}},{key:"getBarTooltipXY",value:function(a){var l=this,d=a.e,h=a.opt,p=this.w,g=null,m=this.ttCtx,v=0,w=0,E=0,D=0,k=0,O=d.target.classList;if(O.contains("apexcharts-bar-area")||O.contains("apexcharts-candlestick-area")||O.contains("apexcharts-boxPlot-area")||O.contains("apexcharts-rangebar-area")){var P=d.target,L=P.getBoundingClientRect(),z=h.elGrid.getBoundingClientRect(),$=L.height;k=L.height;var K=L.width,b=parseInt(P.getAttribute("cx"),10),I=parseInt(P.getAttribute("cy"),10);D=parseFloat(P.getAttribute("barWidth"));var N="touchmove"===d.type?d.touches[0].clientX:d.clientX;g=parseInt(P.getAttribute("j"),10),v=parseInt(P.parentNode.getAttribute("rel"),10)-1;var U=P.getAttribute("data-range-y1"),Q=P.getAttribute("data-range-y2");p.globals.comboCharts&&(v=parseInt(P.parentNode.getAttribute("data:realIndex"),10));var q=function(_e){return p.globals.isXNumeric?b-K/2:l.isVerticalGroupedRangeBar?b+K/2:b-m.dataPointsDividedWidth+K/2},ye=function(){return I-m.dataPointsDividedHeight+$/2-m.tooltipRect.ttHeight/2};m.tooltipLabels.drawSeriesTexts({ttItems:h.ttItems,i:v,j:g,y1:U?parseInt(U,10):null,y2:Q?parseInt(Q,10):null,shared:!m.showOnIntersect&&p.config.tooltip.shared,e:d}),p.config.tooltip.followCursor?p.globals.isBarHorizontal?(w=N-z.left+15,E=ye()):(w=q(),E=d.clientY-z.top-m.tooltipRect.ttHeight/2-15):p.globals.isBarHorizontal?((w=b)<m.xyRatios.baseLineInvertedY&&(w=b-m.tooltipRect.ttWidth),E=ye()):(w=q(),E=I)}return{x:w,y:E,barHeight:k,barWidth:D,i:v,j:g}}}]),V}(),ho=function(){function V(a){Ge(this,V),this.w=a.w,this.ttCtx=a}return ut(V,[{key:"drawXaxisTooltip",value:function(){var a=this.w,l=this.ttCtx,d="bottom"===a.config.xaxis.position;l.xaxisOffY=d?a.globals.gridHeight+1:-a.globals.xAxisHeight-a.config.xaxis.axisTicks.height+3;var h=d?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",p=a.globals.dom.elWrap;l.isXAxisTooltipEnabled&&null===a.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(l.xaxisTooltip=document.createElement("div"),l.xaxisTooltip.setAttribute("class",h+" apexcharts-theme-"+a.config.tooltip.theme),p.appendChild(l.xaxisTooltip),l.xaxisTooltipText=document.createElement("div"),l.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),l.xaxisTooltipText.style.fontFamily=a.config.xaxis.tooltip.style.fontFamily||a.config.chart.fontFamily,l.xaxisTooltipText.style.fontSize=a.config.xaxis.tooltip.style.fontSize,l.xaxisTooltip.appendChild(l.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var a=this.w,l=this.ttCtx,d=function(p){var g=a.config.yaxis[p].opposite||a.config.yaxis[p].crosshairs.opposite;l.yaxisOffX=g?a.globals.gridWidth+1:1;var m="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p,g?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");a.globals.yAxisSameScaleIndices.map(function(w,E){w.map(function(D,k){k===p&&(m+=a.config.yaxis[k].show?" ":" apexcharts-yaxistooltip-hidden")})});var v=a.globals.dom.elWrap;null===a.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p))&&(l.yaxisTooltip=document.createElement("div"),l.yaxisTooltip.setAttribute("class",m+" apexcharts-theme-"+a.config.tooltip.theme),v.appendChild(l.yaxisTooltip),0===p&&(l.yaxisTooltipText=[]),l.yaxisTooltipText[p]=document.createElement("div"),l.yaxisTooltipText[p].classList.add("apexcharts-yaxistooltip-text"),l.yaxisTooltip.appendChild(l.yaxisTooltipText[p]))},h=0;h<a.config.yaxis.length;h++)d(h)}},{key:"setXCrosshairWidth",value:function(){var a=this.w,l=this.ttCtx,d=l.getElXCrosshairs();if(l.xcrosshairsWidth=parseInt(a.config.xaxis.crosshairs.width,10),a.globals.comboCharts){var h=a.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==h&&"barWidth"===a.config.xaxis.crosshairs.width){var p=parseFloat(h.getAttribute("barWidth"));l.xcrosshairsWidth=p}else"tickWidth"===a.config.xaxis.crosshairs.width&&(l.xcrosshairsWidth=a.globals.gridWidth/a.globals.labels.length)}else if("tickWidth"===a.config.xaxis.crosshairs.width)l.xcrosshairsWidth=a.globals.gridWidth/a.globals.labels.length;else if("barWidth"===a.config.xaxis.crosshairs.width){var v=a.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==v){var w=parseFloat(v.getAttribute("barWidth"));l.xcrosshairsWidth=w}else l.xcrosshairsWidth=1}a.globals.isBarHorizontal&&(l.xcrosshairsWidth=0),null!==d&&l.xcrosshairsWidth>0&&d.setAttribute("width",l.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var a=this.w,l=this.ttCtx;l.ycrosshairs=a.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),l.ycrosshairsHidden=a.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(a,l,d){var h=this.ttCtx,p=this.w,g=p.globals.yLabelFormatters[a];if(h.yaxisTooltips[a]){var m=h.getElGrid().getBoundingClientRect(),E=p.globals.minYArr[a]+(p.globals.maxYArr[a]-p.globals.minYArr[a]-(l-m.top)*d.yRatio[a]);h.tooltipPosition.moveYCrosshairs(l-m.top),h.yaxisTooltipText[a].innerHTML=g(E),h.tooltipPosition.moveYAxisTooltip(a)}}}]),V}(),bs=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w;var l=this.w;this.tConfig=l.config.tooltip,this.tooltipUtil=new Yn(this),this.tooltipLabels=new ti(this),this.tooltipPosition=new Sa(this),this.marker=new Si(this),this.intersect=new Oi(this),this.axesTooltip=new ho(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!l.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return ut(V,[{key:"getElTooltip",value:function(a){return a||(a=this),a.w.globals.dom.baseEl?a.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(a){var l=this.w;this.xyRatios=a,this.isXAxisTooltipEnabled=l.config.xaxis.tooltip.enabled&&l.globals.axisCharts,this.yaxisTooltips=l.config.yaxis.map(function(g,m){return!!(g.show&&g.tooltip.enabled&&l.globals.axisCharts)}),this.allTooltipSeriesGroups=[],l.globals.axisCharts||(this.showTooltipTitle=!1);var d=document.createElement("div");if(d.classList.add("apexcharts-tooltip"),l.config.tooltip.cssClass&&d.classList.add(l.config.tooltip.cssClass),d.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),l.globals.dom.elWrap.appendChild(d),l.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var h=new wn(this.ctx);this.xAxisTicksPositions=h.getXAxisTicksPositions()}if(!l.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==l.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==l.config.markers.size&&0!==l.globals.markers.largestSize||this.marker.drawDynamicPoints(this),l.globals.collapsedSeries.length!==l.globals.series.length){this.dataPointsDividedHeight=l.globals.gridHeight/l.globals.dataPoints,this.dataPointsDividedWidth=l.globals.gridWidth/l.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||l.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,d.appendChild(this.tooltipTitle));var p=l.globals.series.length;(l.globals.xyCharts||l.globals.comboCharts)&&this.tConfig.shared&&(p=this.showOnIntersect?1:l.globals.series.length),this.legendLabels=l.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(p),this.addSVGEvents()}}},{key:"createTTElements",value:function(a){for(var l=this,d=this.w,h=[],p=this.getElTooltip(),g=function(v){var w=document.createElement("div");w.classList.add("apexcharts-tooltip-series-group"),w.style.order=d.config.tooltip.inverseOrder?a-v:v+1,l.tConfig.shared&&l.tConfig.enabledOnSeries&&Array.isArray(l.tConfig.enabledOnSeries)&&l.tConfig.enabledOnSeries.indexOf(v)<0&&w.classList.add("apexcharts-tooltip-series-group-hidden");var E=document.createElement("span");E.classList.add("apexcharts-tooltip-marker"),E.style.backgroundColor=d.globals.colors[v],w.appendChild(E);var D=document.createElement("div");D.classList.add("apexcharts-tooltip-text"),D.style.fontFamily=l.tConfig.style.fontFamily||d.config.chart.fontFamily,D.style.fontSize=l.tConfig.style.fontSize,["y","goals","z"].forEach(function(k){var O=document.createElement("div");O.classList.add("apexcharts-tooltip-".concat(k,"-group"));var P=document.createElement("span");P.classList.add("apexcharts-tooltip-text-".concat(k,"-label")),O.appendChild(P);var L=document.createElement("span");L.classList.add("apexcharts-tooltip-text-".concat(k,"-value")),O.appendChild(L),D.appendChild(O)}),w.appendChild(D),p.appendChild(w),h.push(w)},m=0;m<a;m++)g(m);return h}},{key:"addSVGEvents",value:function(){var a=this.w,l=a.config.chart.type,d=this.getElTooltip(),h=!("bar"!==l&&"candlestick"!==l&&"boxPlot"!==l&&"rangeBar"!==l),p="area"===l||"line"===l||"scatter"===l||"bubble"===l||"radar"===l,g=a.globals.dom.Paper.node,m=this.getElGrid();m&&(this.seriesBound=m.getBoundingClientRect());var v,w=[],E=[],D={hoverArea:g,elGrid:m,tooltipEl:d,tooltipY:w,tooltipX:E,ttItems:this.ttItems};if(a.globals.axisCharts&&(p?v=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):h?v=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==l&&"treemap"!==l||(v=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),v&&v.length))for(var k=0;k<v.length;k++)w.push(v[k].getAttribute("cy")),E.push(v[k].getAttribute("cx"));if(a.globals.xyCharts&&!this.showOnIntersect||a.globals.comboCharts&&!this.showOnIntersect||h&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([g],D);else if(h&&!a.globals.comboCharts||p&&this.showOnIntersect)this.addDatapointEventsListeners(D);else if(!a.globals.axisCharts||"heatmap"===l||"treemap"===l){var O=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(O,D)}if(this.showOnIntersect){var P=a.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");P.length>0&&this.addPathsEventListeners(P,D),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(D)}}},{key:"drawFixedTooltipRect",value:function(){var a=this.w,l=this.getElTooltip(),d=l.getBoundingClientRect(),h=d.width+10,p=d.height+10,g=this.tConfig.fixed.offsetX,m=this.tConfig.fixed.offsetY,v=this.tConfig.fixed.position.toLowerCase();return v.indexOf("right")>-1&&(g=g+a.globals.svgWidth-h+10),v.indexOf("bottom")>-1&&(m=m+a.globals.svgHeight-p-10),l.style.left=g+"px",l.style.top=m+"px",{x:g,y:m,ttWidth:h,ttHeight:p}}},{key:"addDatapointEventsListeners",value:function(a){var l=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(l,a)}},{key:"addPathsEventListeners",value:function(a,l){for(var d=this,h=function(g){var m={paths:a[g],tooltipEl:l.tooltipEl,tooltipY:l.tooltipY,tooltipX:l.tooltipX,elGrid:l.elGrid,hoverArea:l.hoverArea,ttItems:l.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(v){return a[g].addEventListener(v,d.onSeriesHover.bind(d,m),{capture:!1,passive:!0})})},p=0;p<a.length;p++)h(p)}},{key:"onSeriesHover",value:function(a,l){var d=this,h=Date.now()-this.lastHoverTime;h>=100?this.seriesHover(a,l):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){d.seriesHover(a,l)},100-h))}},{key:"seriesHover",value:function(a,l){var d=this;this.lastHoverTime=Date.now();var h=[],p=this.w;p.config.chart.group&&(h=this.ctx.getGroupedCharts()),p.globals.axisCharts&&(p.globals.minX===-1/0&&p.globals.maxX===1/0||0===p.globals.dataPoints)||(h.length?h.forEach(function(g){var m=d.getElTooltip(g);g.w.globals.minX===d.w.globals.minX&&g.w.globals.maxX===d.w.globals.maxX&&g.w.globals.tooltip.seriesHoverByContext({chartCtx:g,ttCtx:g.w.globals.tooltip,opt:{paths:a.paths,tooltipEl:m,tooltipY:a.tooltipY,tooltipX:a.tooltipX,elGrid:a.elGrid,hoverArea:a.hoverArea,ttItems:g.w.globals.tooltip.ttItems},e:l})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:a,e:l}))}},{key:"seriesHoverByContext",value:function(a){var l=a.chartCtx,d=a.ttCtx,h=a.opt,p=a.e,g=l.w,m=this.getElTooltip();m&&(d.tooltipRect={x:0,y:0,ttWidth:m.getBoundingClientRect().width,ttHeight:m.getBoundingClientRect().height},d.e=p,d.tooltipUtil.hasBars()&&!g.globals.comboCharts&&!d.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new ct(l).toggleSeriesOnHover(p,p.target.parentNode),d.fixedTooltip&&d.drawFixedTooltipRect(),g.globals.axisCharts?d.axisChartsTooltips({e:p,opt:h,tooltipRect:d.tooltipRect}):d.nonAxisChartsTooltips({e:p,opt:h,tooltipRect:d.tooltipRect}))}},{key:"axisChartsTooltips",value:function(a){var l,d,h=a.e,p=a.opt,g=this.w,m=p.elGrid.getBoundingClientRect(),v="touchmove"===h.type?h.touches[0].clientX:h.clientX,w="touchmove"===h.type?h.touches[0].clientY:h.clientY;if(this.clientY=w,this.clientX=v,g.globals.capturedSeriesIndex=-1,g.globals.capturedDataPointIndex=-1,w<m.top||w>m.top+m.height)this.handleMouseOut(p);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!g.config.tooltip.shared){var E=parseInt(p.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(E)<0)return void this.handleMouseOut(p)}var D=this.getElTooltip(),k=this.getElXCrosshairs(),O=g.globals.xyCharts||"bar"===g.config.chart.type&&!g.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||g.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===h.type||"touchmove"===h.type||"mouseup"===h.type){if(g.globals.collapsedSeries.length+g.globals.ancillaryCollapsedSeries.length===g.globals.series.length)return;null!==k&&k.classList.add("apexcharts-active");var P=this.yaxisTooltips.filter(function($){return!0===$});if(null!==this.ycrosshairs&&P.length&&this.ycrosshairs.classList.add("apexcharts-active"),O&&!this.showOnIntersect)this.handleStickyTooltip(h,v,w,p);else if("heatmap"===g.config.chart.type||"treemap"===g.config.chart.type){var L=this.intersect.handleHeatTreeTooltip({e:h,opt:p,x:l,y:d,type:g.config.chart.type});d=L.y,D.style.left=(l=L.x)+"px",D.style.top=d+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:h,opt:p}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:h,opt:p,x:l,y:d});if(this.yaxisTooltips.length)for(var z=0;z<g.config.yaxis.length;z++)this.axesTooltip.drawYaxisTooltipText(z,w,this.xyRatios);p.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==h.type&&"touchend"!==h.type||this.handleMouseOut(p)}}},{key:"nonAxisChartsTooltips",value:function(a){var l=a.e,d=a.opt,h=a.tooltipRect,p=this.w,g=d.paths.getAttribute("rel"),m=this.getElTooltip(),v=p.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===l.type||"touchmove"===l.type){m.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:d.ttItems,i:parseInt(g,10)-1,shared:!1});var E=p.globals.clientY-v.top-h.ttHeight-10;if(m.style.left=p.globals.clientX-v.left-h.ttWidth/2+"px",m.style.top=E+"px",p.config.legend.tooltipHoverFormatter){var D=g-1,k=(0,p.config.legend.tooltipHoverFormatter)(this.legendLabels[D].getAttribute("data:default-text"),{seriesIndex:D,dataPointIndex:D,w:p});this.legendLabels[D].innerHTML=k}}else"mouseout"!==l.type&&"touchend"!==l.type||(m.classList.remove("apexcharts-active"),p.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(O){var P=O.getAttribute("data:default-text");O.innerHTML=decodeURIComponent(P)}))}},{key:"handleStickyTooltip",value:function(a,l,d,h){var p=this.w,g=this.tooltipUtil.getNearestValues({context:this,hoverArea:h.hoverArea,elGrid:h.elGrid,clientX:l,clientY:d}),m=g.j,v=g.capturedSeries;p.globals.collapsedSeriesIndices.includes(v)&&(v=null);var w=h.elGrid.getBoundingClientRect();if(g.hoverX<0||g.hoverX>w.width)this.handleMouseOut(h);else if(null!==v)this.handleStickyCapturedSeries(a,v,h,m);else if(this.tooltipUtil.isXoverlap(m)||p.globals.isBarHorizontal){var E=p.globals.series.findIndex(function(D,k){return!p.globals.collapsedSeriesIndices.includes(k)});this.create(a,this,E,m,h.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(a,l,d,h){var p=this.w;if(this.tConfig.shared||null!==p.globals.series[l][h]){if(void 0!==p.globals.series[l][h])this.tConfig.shared&&this.tooltipUtil.isXoverlap(h)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(a,this,l,h,d.ttItems):this.create(a,this,l,h,d.ttItems,!1);else if(this.tooltipUtil.isXoverlap(h)){var g=p.globals.series.findIndex(function(m,v){return!p.globals.collapsedSeriesIndices.includes(v)});this.create(a,this,g,h,d.ttItems)}}else this.handleMouseOut(d)}},{key:"deactivateHoverFilter",value:function(){for(var a=this.w,l=new Re(this.ctx),d=a.globals.dom.Paper.select(".apexcharts-bar-area"),h=0;h<d.length;h++)l.pathMouseLeave(d[h])}},{key:"handleMouseOut",value:function(a){var l=this.w,d=this.getElXCrosshairs();if(a.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==l.config.chart.type&&this.marker.resetPointsSize(),null!==d&&d.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var h=0;h<this.yaxisTTEls.length;h++)this.yaxisTTEls[h].classList.remove("apexcharts-active")}l.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(p){var g=p.getAttribute("data:default-text");p.innerHTML=decodeURIComponent(g)})}},{key:"markerClick",value:function(a,l,d){var h=this.w;"function"==typeof h.config.chart.events.markerClick&&h.config.chart.events.markerClick(a,this.ctx,{seriesIndex:l,dataPointIndex:d,w:h}),this.ctx.events.fireEvent("markerClick",[a,this.ctx,{seriesIndex:l,dataPointIndex:d,w:h}])}},{key:"create",value:function(a,l,d,h,p){var g,m,v,w,E,D,k,O,P,L,z,$,K,b,I,N,U=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,Q=this.w,q=l;"mouseup"===a.type&&this.markerClick(a,d,h),null===U&&(U=this.tConfig.shared);var ye=this.tooltipUtil.hasMarkers(d),_e=this.tooltipUtil.getElBars();if(Q.config.legend.tooltipHoverFormatter){var Oe=Q.config.legend.tooltipHoverFormatter,ce=Array.from(this.legendLabels);ce.forEach(function(xs){var Ka=xs.getAttribute("data:default-text");xs.innerHTML=decodeURIComponent(Ka)});for(var qe=0;qe<ce.length;qe++){var ke=ce[qe],xt=parseInt(ke.getAttribute("i"),10),nn=decodeURIComponent(ke.getAttribute("data:default-text")),Sn=Oe(nn,{seriesIndex:U?xt:d,dataPointIndex:h,w:Q});if(U)ke.innerHTML=Q.globals.collapsedSeriesIndices.indexOf(xt)<0?Sn:nn;else if(ke.innerHTML=xt===d?Sn:nn,d===xt)break}}var qn=ae(ae({ttItems:p,i:d,j:h},void 0!==(null===(g=Q.globals.seriesRange)||void 0===g||null===(m=g[d])||void 0===m||null===(v=m[h])||void 0===v||null===(w=v.y[0])||void 0===w?void 0:w.y1)&&{y1:null===(E=Q.globals.seriesRange)||void 0===E||null===(D=E[d])||void 0===D||null===(k=D[h])||void 0===k||null===(O=k.y[0])||void 0===O?void 0:O.y1}),void 0!==(null===(P=Q.globals.seriesRange)||void 0===P||null===(L=P[d])||void 0===L||null===(z=L[h])||void 0===z||null===($=z.y[0])||void 0===$?void 0:$.y2)&&{y2:null===(K=Q.globals.seriesRange)||void 0===K||null===(b=K[d])||void 0===b||null===(I=b[h])||void 0===I||null===(N=I.y[0])||void 0===N?void 0:N.y2});if(U){if(q.tooltipLabels.drawSeriesTexts(ae(ae({},qn),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),ye)Q.globals.markers.largestSize>0?q.marker.enlargePoints(h):q.tooltipPosition.moveDynamicPointsOnHover(h);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(_e),this.barSeriesHeight>0)){var Ci=new Re(this.ctx),si=Q.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(h,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(h,d);for(var Hi=0;Hi<si.length;Hi++)Ci.pathMouseEnter(si[Hi])}}else q.tooltipLabels.drawSeriesTexts(ae({shared:!1},qn)),this.tooltipUtil.hasBars()&&q.tooltipPosition.moveStickyTooltipOverBars(h,d),ye&&q.tooltipPosition.moveMarkers(d,h)}}]),V}(),fo=function(){function V(a){Ge(this,V),this.w=a.w,this.barCtx=a,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return ut(V,[{key:"handleBarDataLabels",value:function(a){var l=a.x,d=a.y,h=a.y1,p=a.y2,g=a.i,m=a.j,v=a.realIndex,w=a.groupIndex,E=a.series,D=a.barHeight,k=a.barWidth,O=a.barXPosition,P=a.barYPosition,L=a.visibleSeries,z=a.renderedPath,$=this.w,K=new Re(this.barCtx.ctx),b=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[v]:this.barCtx.strokeWidth,I=l+parseFloat(k*L),N=d+parseFloat(D*L);$.globals.isXNumeric&&!$.globals.isBarHorizontal&&(I=l+parseFloat(k*(L+1)),N=d+parseFloat(D*(L+1))-b);var U,_e,Q=null,q=l,ye=d,Oe=$.config.dataLabels,ce=this.barCtx.barOptions.dataLabels,qe=this.barCtx.barOptions.dataLabels.total;void 0!==P&&this.barCtx.isRangeBar&&(N=P,ye=P),void 0!==O&&this.barCtx.isVerticalGroupedRangeBar&&(I=O,q=O);var ke=Oe.offsetX,xt=Oe.offsetY,nn={width:0,height:0};$.config.dataLabels.enabled&&(nn=K.getTextRects($.globals.yLabelFormatters[0](this.barCtx.series[g][m]),parseFloat(Oe.style.fontSize)));var qn={x:l,y:d,i:g,j:m,realIndex:v,groupIndex:w||-1,renderedPath:z,bcx:I,bcy:N,barHeight:D,barWidth:k,textRects:nn,strokeWidth:b,dataLabelsX:q,dataLabelsY:ye,dataLabelsConfig:Oe,barDataLabelsConfig:ce,barTotalDataLabelsConfig:qe,offX:ke,offY:xt};return _e=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(qn):this.calculateColumnsDataLabelsPosition(qn),z.attr({cy:_e.bcy,cx:_e.bcx,j:m,val:E[g][m],barHeight:D,barWidth:k}),U=this.drawCalculatedDataLabels({x:_e.dataLabelsX,y:_e.dataLabelsY,val:this.barCtx.isRangeBar?[h,p]:E[g][m],i:v,j:m,barWidth:k,barHeight:D,textRects:nn,dataLabelsConfig:Oe}),$.config.chart.stacked&&qe.enabled&&(Q=this.drawTotalDataLabels({x:_e.totalDataLabelsX,y:_e.totalDataLabelsY,realIndex:v,textAnchor:_e.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:v,j:m}),dataLabelsConfig:Oe,barTotalDataLabelsConfig:qe})),{dataLabels:U,totalDataLabels:Q}}},{key:"getStackedTotalDataLabel",value:function(a){var l=a.realIndex,d=a.j,h=this.w,p=this.barCtx.stackedSeriesTotals[d];return this.totalFormatter&&(p=this.totalFormatter(p,ae(ae({},h),{},{seriesIndex:l,dataPointIndex:d,w:h}))),p}},{key:"calculateColumnsDataLabelsPosition",value:function(a){var l,d,h=this.w,p=a.i,g=a.j,m=a.realIndex,v=a.groupIndex,w=a.y,E=a.bcx,D=a.barWidth,k=a.barHeight,O=a.textRects,P=a.dataLabelsX,L=a.dataLabelsY,z=a.dataLabelsConfig,$=a.barDataLabelsConfig,K=a.barTotalDataLabelsConfig,b=a.strokeWidth,I=a.offX,N=a.offY;k=Math.abs(k);var U="vertical"===h.config.plotOptions.bar.dataLabels.orientation,Q=this.barCtx.barHelpers.getZeroValueEncounters({i:p,j:g}).zeroEncounters;E=E-b/2+(-1!==v?v*D:0),this.barCtx.isVerticalGroupedRangeBar?P+=D/2:(P=h.globals.isXNumeric?E-D/2+I:E-h.globals.gridWidth/h.globals.dataPoints+D/2+I,Q>0&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(P-=D*Q)),U&&(P=P+O.height/2-b/2-2);var ye=this.barCtx.series[p][g]<0,_e=w;switch(this.barCtx.isReversed&&(_e=w-k+(ye?2*k:0),w-=k),$.position){case"center":L=U?ye?_e-k/2+N:_e+k/2-N:ye?_e-k/2+O.height/2+N:_e+k/2+O.height/2-N;break;case"bottom":L=U?ye?_e-k+N:_e+k-N:ye?_e-k+O.height+b+N:_e+k-O.height/2+b-N;break;case"top":L=U?ye?_e+N:_e-N:ye?_e-O.height/2-N:_e+O.height+N}if(this.barCtx.lastActiveBarSerieIndex===m&&K.enabled){var Oe=new Re(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:m,j:g}),z.fontSize);l=ye?_e-Oe.height/2-N-K.offsetY+18:_e+Oe.height+N+K.offsetY-18,d=P+K.offsetX}return h.config.chart.stacked||(L<0?L=0+b:L+O.height/3>h.globals.gridHeight&&(L=h.globals.gridHeight-b)),{bcx:E,bcy:w,dataLabelsX:P,dataLabelsY:L,totalDataLabelsX:d,totalDataLabelsY:l,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(a){var l=this.w,d=a.x,h=a.i,p=a.j,g=a.realIndex,m=a.groupIndex,v=a.bcy,w=a.barHeight,E=a.barWidth,D=a.textRects,k=a.dataLabelsX,O=a.strokeWidth,P=a.dataLabelsConfig,L=a.barDataLabelsConfig,z=a.barTotalDataLabelsConfig,$=a.offX,K=a.offY,b=l.globals.gridHeight/l.globals.dataPoints;E=Math.abs(E);var I,N,U=(v+=-1!==m?m*w:0)-(this.barCtx.isRangeBar?0:b)+w/2+D.height/2+K-3,Q="start",q=this.barCtx.series[h][p]<0,ye=d;switch(this.barCtx.isReversed&&(ye=d+E-(q?2*E:0),d=l.globals.gridWidth-E),L.position){case"center":k=q?ye+E/2-$:Math.max(D.width/2,ye-E/2)+$;break;case"bottom":k=q?ye+E-O-Math.round(D.width/2)-$:ye-E+O+Math.round(D.width/2)+$;break;case"top":k=q?ye-O+Math.round(D.width/2)-$:ye-O-Math.round(D.width/2)+$}if(this.barCtx.lastActiveBarSerieIndex===g&&z.enabled){var _e=new Re(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:g,j:p}),P.fontSize);q?(I=ye-O+Math.round(_e.width/2)-$-z.offsetX-15,Q="end"):I=ye-O-Math.round(_e.width/2)+$+z.offsetX+15,N=U+z.offsetY}return l.config.chart.stacked||(k<0?k=k+D.width+O:k+D.width/2>l.globals.gridWidth&&(k=l.globals.gridWidth-D.width-O)),{bcx:d,bcy:v,dataLabelsX:k,dataLabelsY:U,totalDataLabelsX:I,totalDataLabelsY:N,totalDataLabelsAnchor:Q}}},{key:"drawCalculatedDataLabels",value:function(a){var l=a.x,d=a.y,h=a.val,p=a.i,g=a.j,m=a.textRects,v=a.barHeight,w=a.barWidth,E=a.dataLabelsConfig,D=this.w,k="rotate(0)";"vertical"===D.config.plotOptions.bar.dataLabels.orientation&&(k="rotate(-90, ".concat(l,", ").concat(d,")"));var O=new Ue(this.barCtx.ctx),P=new Re(this.barCtx.ctx),L=E.formatter,z=null,$=D.globals.collapsedSeriesIndices.indexOf(p)>-1;if(E.enabled&&!$){z=P.group({class:"apexcharts-data-labels",transform:k});var K="";void 0!==h&&(K=L(h,ae(ae({},D),{},{seriesIndex:p,dataPointIndex:g,w:D}))),!h&&D.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(K="");var b=D.globals.series[p][g]<0,I=D.config.plotOptions.bar.dataLabels.position;"vertical"===D.config.plotOptions.bar.dataLabels.orientation&&("top"===I&&(E.textAnchor=b?"end":"start"),"center"===I&&(E.textAnchor="middle"),"bottom"===I&&(E.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&w<P.getTextRects(K,parseFloat(E.style.fontSize)).width&&(K=""),D.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?m.width/1.6>Math.abs(w)&&(K=""):m.height/1.6>Math.abs(v)&&(K=""));var N=ae({},E);this.barCtx.isHorizontal&&h<0&&("start"===E.textAnchor?N.textAnchor="end":"end"===E.textAnchor&&(N.textAnchor="start")),O.plotDataLabelsText({x:l,y:d,text:K,i:p,j:g,parent:z,dataLabelsConfig:N,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return z}},{key:"drawTotalDataLabels",value:function(a){var l,d=a.x,h=a.y,p=a.val,g=a.realIndex,m=a.textAnchor,v=a.barTotalDataLabelsConfig,w=new Re(this.barCtx.ctx);return v.enabled&&void 0!==d&&void 0!==h&&this.barCtx.lastActiveBarSerieIndex===g&&(l=w.drawText({x:d,y:h,foreColor:v.style.color,text:p,textAnchor:m,fontFamily:v.style.fontFamily,fontSize:v.style.fontSize,fontWeight:v.style.fontWeight})),l}}]),V}(),xr=function(){function V(a){Ge(this,V),this.w=a.w,this.barCtx=a}return ut(V,[{key:"initVariables",value:function(a){var l=this.w;this.barCtx.series=a,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var d=0;d<a.length;d++)if(a[d].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=a[d].length),l.globals.isXNumeric)for(var h=0;h<a[d].length;h++)l.globals.seriesX[d][h]>l.globals.minX&&l.globals.seriesX[d][h]<l.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=l.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],l.globals.comboCharts||this.checkZeroSeries({series:a})}},{key:"initialPositions",value:function(){var a,l,d,h,p,g,m,v,w=this.w,E=w.globals.dataPoints;this.barCtx.isRangeBar&&(E=w.globals.labels.length);var D=this.barCtx.seriesLen;if(w.config.plotOptions.bar.rangeBarGroupRows&&(D=1),this.barCtx.isHorizontal)p=(d=w.globals.gridHeight/E)/D,w.globals.isXNumeric&&(p=(d=w.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),p=p*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(p=parseInt(this.barCtx.barOptions.barHeight,10)),v=this.barCtx.baseLineInvertedY+w.globals.padHorizontal+(this.barCtx.isReversed?w.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(v=w.globals.gridWidth/2),l=(d-p*this.barCtx.seriesLen)/2;else{if(h=w.globals.gridWidth/this.barCtx.visibleItems,w.config.xaxis.convertedCatToNumeric&&(h=w.globals.gridWidth/w.globals.dataPoints),g=h/D*parseInt(this.barCtx.barOptions.columnWidth,10)/100,w.globals.isXNumeric){var k=this.barCtx.xRatio;w.config.xaxis.convertedCatToNumeric&&(k=this.barCtx.initialXRatio),w.globals.minXDiff&&.5!==w.globals.minXDiff&&w.globals.minXDiff/k>0&&(h=w.globals.minXDiff/k),(g=h/D*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(g=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(g=parseInt(this.barCtx.barOptions.columnWidth,10)),m=w.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?w.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),a=w.globals.padHorizontal+(h-g*this.barCtx.seriesLen)/2}return{x:a,y:l,yDivision:d,xDivision:h,barHeight:p,barWidth:g,zeroH:m,zeroW:v}}},{key:"initializeStackedPrevVars",value:function(a){var l=a.w;l.globals.hasSeriesGroups?l.globals.seriesGroups.forEach(function(d){a[d]||(a[d]={}),a[d].prevY=[],a[d].prevX=[],a[d].prevYF=[],a[d].prevXF=[],a[d].prevYVal=[],a[d].prevXVal=[]}):(a.prevY=[],a.prevX=[],a.prevYF=[],a.prevXF=[],a.prevYVal=[],a.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(a){var l=a.w;l.globals.hasSeriesGroups?l.globals.seriesGroups.forEach(function(d){a[d]||(a[d]={}),a[d].xArrj=[],a[d].xArrjF=[],a[d].xArrjVal=[],a[d].yArrj=[],a[d].yArrjF=[],a[d].yArrjVal=[]}):(a.xArrj=[],a.xArrjF=[],a.xArrjVal=[],a.yArrj=[],a.yArrjF=[],a.yArrjVal=[])}},{key:"getPathFillColor",value:function(a,l,d,h){var p,g,m,v,w=this.w,E=new ve(this.barCtx.ctx),D=null,k=this.barCtx.barOptions.distributed?d:l;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(O){a[l][d]>=O.from&&a[l][d]<=O.to&&(D=O.color)}),w.config.series[l].data[d]&&w.config.series[l].data[d].fillColor&&(D=w.config.series[l].data[d].fillColor),E.fillPath({seriesNumber:this.barCtx.barOptions.distributed?k:h,dataPointIndex:d,color:D,value:a[l][d],fillConfig:null===(p=w.config.series[l].data[d])||void 0===p?void 0:p.fill,fillType:null!==(g=w.config.series[l].data[d])&&void 0!==g&&null!==(m=g.fill)&&void 0!==m&&m.type?null===(v=w.config.series[l].data[d])||void 0===v?void 0:v.fill.type:w.config.fill.type})}},{key:"getStrokeWidth",value:function(a,l,d){var h=0,p=this.w;return this.barCtx.isNullValue=!this.barCtx.series[a][l],p.config.stroke.show&&(this.barCtx.isNullValue||(h=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[d]:this.barCtx.strokeWidth)),h}},{key:"shouldApplyRadius",value:function(a){var l=this.w,d=!1;return l.config.plotOptions.bar.borderRadius>0&&(l.config.chart.stacked&&"last"===l.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===a&&(d=!0):d=!0),d}},{key:"barBackground",value:function(a){var l=a.j,d=a.i,h=a.x1,p=a.x2,g=a.y1,m=a.y2,v=a.elSeries,w=this.w,E=new Re(this.barCtx.ctx),D=new ct(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&D===d){l>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(l%=this.barCtx.barOptions.colors.backgroundBarColors.length);var O=E.drawRect(void 0!==h?h:0,void 0!==g?g:0,void 0!==p?p:w.globals.gridWidth,void 0!==m?m:w.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[l],this.barCtx.barOptions.colors.backgroundBarOpacity);v.add(O),O.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(a){var l,d=a.barWidth,h=a.barXPosition,p=a.y1,g=a.y2,m=a.strokeWidth,v=a.seriesGroup,w=a.realIndex,E=a.i,D=a.j,k=a.w,O=new Re(this.barCtx.ctx);(m=Array.isArray(m)?m[w]:m)||(m=0);var P=d,L=h;null!==(l=k.config.series[w].data[D])&&void 0!==l&&l.columnWidthOffset&&(L=h-k.config.series[w].data[D].columnWidthOffset/2,P=d+k.config.series[w].data[D].columnWidthOffset);var z=L,$=L+P;g+=.001;var K=O.move(z,p+=.001),b=O.move(z,p),I=O.line($-m,p);if(k.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(w,D,!1)),K=K+O.line(z,g)+O.line($-m,g)+O.line($-m,p)+("around"===k.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),b=b+O.line(z,p)+I+I+I+I+I+O.line(z,p)+("around"===k.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(w)&&(K=O.roundPathCorners(K,k.config.plotOptions.bar.borderRadius)),k.config.chart.stacked){var N=this.barCtx;k.globals.hasSeriesGroups&&v&&(N=this.barCtx[v]),N.yArrj.push(g),N.yArrjF.push(Math.abs(p-g)),N.yArrjVal.push(this.barCtx.series[E][D])}return{pathTo:K,pathFrom:b}}},{key:"getBarpaths",value:function(a){var l,d=a.barYPosition,h=a.barHeight,p=a.x1,g=a.x2,m=a.strokeWidth,v=a.seriesGroup,w=a.realIndex,E=a.i,D=a.j,k=a.w,O=new Re(this.barCtx.ctx);(m=Array.isArray(m)?m[w]:m)||(m=0);var P=d,L=h;null!==(l=k.config.series[w].data[D])&&void 0!==l&&l.barHeightOffset&&(P=d-k.config.series[w].data[D].barHeightOffset/2,L=h+k.config.series[w].data[D].barHeightOffset);var z=P,$=P+L;g+=.001;var K=O.move(p+=.001,z),b=O.move(p,z);k.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(w,D,!1));var I=O.line(p,$-m);if(K=K+O.line(g,z)+O.line(g,$-m)+I+("around"===k.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),b=b+O.line(p,z)+I+I+I+I+I+O.line(p,z)+("around"===k.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(w)&&(K=O.roundPathCorners(K,k.config.plotOptions.bar.borderRadius)),k.config.chart.stacked){var N=this.barCtx;k.globals.hasSeriesGroups&&v&&(N=this.barCtx[v]),N.xArrj.push(g),N.xArrjF.push(Math.abs(p-g)),N.xArrjVal.push(this.barCtx.series[E][D])}return{pathTo:K,pathFrom:b}}},{key:"checkZeroSeries",value:function(a){for(var l=a.series,d=this.w,h=0;h<l.length;h++){for(var p=0,g=0;g<l[d.globals.maxValsInArrayIndex].length;g++)p+=l[h][g];0===p&&this.barCtx.zeroSerieses.push(h)}}},{key:"getXForValue",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:l;return null!=a&&(d=l+a/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?a/this.barCtx.invertedYRatio:0)),d}},{key:"getYForValue",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:l;return null!=a&&(d=l-a/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?a/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),d}},{key:"getGoalValues",value:function(a,l,d,h,p){var g=this,m=this.w,v=[],w=function(k,O){var P;v.push((Vn(P={},a,"x"===a?g.getXForValue(k,l,!1):g.getYForValue(k,d,!1)),Vn(P,"attrs",O),P))};if(m.globals.seriesGoals[h]&&m.globals.seriesGoals[h][p]&&Array.isArray(m.globals.seriesGoals[h][p])&&m.globals.seriesGoals[h][p].forEach(function(k){w(k.value,k)}),this.barCtx.barOptions.isDumbbell&&m.globals.seriesRange.length){var E=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:m.globals.colors,D={strokeHeight:"x"===a?0:m.globals.markers.size[h],strokeWidth:"x"===a?m.globals.markers.size[h]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(E[h])?E[h][0]:E[h]};w(m.globals.seriesRangeStart[h][p],D),w(m.globals.seriesRangeEnd[h][p],ae(ae({},D),{},{strokeColor:Array.isArray(E[h])?E[h][1]:E[h]}))}return v}},{key:"drawGoalLine",value:function(a){var l=a.barXPosition,d=a.barYPosition,h=a.goalX,p=a.goalY,g=a.barWidth,m=a.barHeight,v=new Re(this.barCtx.ctx),w=v.group({className:"apexcharts-bar-goals-groups"});w.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:w.node}),w.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var E=null;return this.barCtx.isHorizontal?Array.isArray(h)&&h.forEach(function(D){var k=void 0!==D.attrs.strokeHeight?D.attrs.strokeHeight:m/2,O=d+k+m/2;E=v.drawLine(D.x,O-2*k,D.x,O,D.attrs.strokeColor?D.attrs.strokeColor:void 0,D.attrs.strokeDashArray,D.attrs.strokeWidth?D.attrs.strokeWidth:2,D.attrs.strokeLineCap),w.add(E)}):Array.isArray(p)&&p.forEach(function(D){var k=void 0!==D.attrs.strokeWidth?D.attrs.strokeWidth:g/2,O=l+k+g/2;E=v.drawLine(O-2*k,D.y,O,D.y,D.attrs.strokeColor?D.attrs.strokeColor:void 0,D.attrs.strokeDashArray,D.attrs.strokeHeight?D.attrs.strokeHeight:2,D.attrs.strokeLineCap),w.add(E)}),w}},{key:"drawBarShadow",value:function(a){var l=a.prevPaths,d=a.currPaths,h=a.color,p=this.w,g=l.x,m=l.x1,w=d.x,E=d.x1,D=d.barYPosition,k=l.barYPosition+d.barHeight,O=new Re(this.barCtx.ctx),P=new pe,L=O.move(m,k)+O.line(g,k)+O.line(w,D)+O.line(E,D)+O.line(m,k)+("around"===p.config.plotOptions.bar.borderRadiusApplication?" Z":" z");return O.drawPath({d:L,fill:P.shadeColor(.5,pe.rgb2hex(h)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(a){var l=a.i,d=a.j,p=0,g=0;return this.w.globals.seriesPercent.forEach(function(m,v){m[d]&&p++,v<l&&0===m[d]&&g++}),{nonZeroColumns:p,zeroEncounters:g}}}]),V}(),Pi=function(){function V(a,l){Ge(this,V),this.ctx=a,this.w=a.w;var d=this.w;this.barOptions=d.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=d.config.stroke.width,this.isNullValue=!1,this.isRangeBar=d.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!d.globals.isBarHorizontal&&d.globals.seriesRange.length&&d.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=l,null!==this.xyRatios&&(this.xRatio=l.xRatio,this.initialXRatio=l.initialXRatio,this.yRatio=l.yRatio,this.invertedXRatio=l.invertedXRatio,this.invertedYRatio=l.invertedYRatio,this.baseLineY=l.baseLineY,this.baseLineInvertedY=l.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var h=new ct(this.ctx);this.lastActiveBarSerieIndex=h.getActiveConfigSeriesIndex("desc",["bar","column"]);var p=h.getBarSeriesIndices(),g=new Yt(this.ctx);this.stackedSeriesTotals=g.getStackedSeriesTotals(this.w.config.series.map(function(m,v){return-1===p.indexOf(v)?v:-1}).filter(function(m){return-1!==m})),this.barHelpers=new xr(this)}return ut(V,[{key:"draw",value:function(a,l){var d=this.w,h=new Re(this.ctx),p=new Yt(this.ctx,d);a=p.getLogSeries(a),this.series=a,this.yRatio=p.getLogYRatios(this.yRatio),this.barHelpers.initVariables(a);var g=h.group({class:"apexcharts-bar-series apexcharts-plot-series"});d.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var m=0,v=0;m<a.length;m++,v++){var w,E,D,k,O=void 0,P=void 0,L=[],z=[],$=d.globals.comboCharts?l[m]:m,K=h.group({class:"apexcharts-series",rel:m+1,seriesName:pe.escapeString(d.globals.seriesNames[$]),"data:realIndex":$});this.ctx.series.addCollapsedClassToSeries(K,$),a[m].length>0&&(this.visibleI=this.visibleI+1);var b=0,I=0;this.yRatio.length>1&&(this.yaxisIndex=$),this.isReversed=d.config.yaxis[this.yaxisIndex]&&d.config.yaxis[this.yaxisIndex].reversed;var N=this.barHelpers.initialPositions();P=N.y,b=N.barHeight,E=N.yDivision,k=N.zeroW,O=N.x,I=N.barWidth,w=N.xDivision,D=N.zeroH,this.horizontal||z.push(O+I/2);var U=h.group({class:"apexcharts-datalabels","data:realIndex":$});d.globals.delayedElements.push({el:U.node}),U.node.classList.add("apexcharts-element-hidden");var Q=h.group({class:"apexcharts-bar-goals-markers"}),q=h.group({class:"apexcharts-bar-shadows"});d.globals.delayedElements.push({el:q.node}),q.node.classList.add("apexcharts-element-hidden");for(var ye=0;ye<d.globals.dataPoints;ye++){var _e=this.barHelpers.getStrokeWidth(m,ye,$),Oe=null,ce={indexes:{i:m,j:ye,realIndex:$,bc:v},x:O,y:P,strokeWidth:_e,elSeries:K};this.isHorizontal?(Oe=this.drawBarPaths(ae(ae({},ce),{},{barHeight:b,zeroW:k,yDivision:E})),I=this.series[m][ye]/this.invertedYRatio):(Oe=this.drawColumnPaths(ae(ae({},ce),{},{xDivision:w,barWidth:I,zeroH:D})),b=this.series[m][ye]/this.yRatio[this.yaxisIndex]);var qe=this.barHelpers.getPathFillColor(a,m,ye,$);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&ye>0){var ke=this.barHelpers.drawBarShadow({color:"string"==typeof qe&&-1===qe?.indexOf("url")?qe:pe.hexToRgba(d.globals.colors[m]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:Oe});ke&&q.add(ke)}this.pathArr.push(Oe);var xt=this.barHelpers.drawGoalLine({barXPosition:Oe.barXPosition,barYPosition:Oe.barYPosition,goalX:Oe.goalX,goalY:Oe.goalY,barHeight:b,barWidth:I});xt&&Q.add(xt),P=Oe.y,O=Oe.x,ye>0&&z.push(O+I/2),L.push(P),this.renderSeries({realIndex:$,pathFill:qe,j:ye,i:m,pathFrom:Oe.pathFrom,pathTo:Oe.pathTo,strokeWidth:_e,elSeries:K,x:O,y:P,series:a,barHeight:Oe.barHeight?Oe.barHeight:b,barWidth:Oe.barWidth?Oe.barWidth:I,elDataLabelsWrap:U,elGoalsMarkers:Q,elBarShadows:q,visibleSeries:this.visibleI,type:"bar"})}d.globals.seriesXvalues[$]=z,d.globals.seriesYvalues[$]=L,g.add(K)}return g}},{key:"renderSeries",value:function(a){var l=a.realIndex,d=a.pathFill,h=a.lineFill,p=a.j,g=a.i,m=a.groupIndex,v=a.pathFrom,w=a.pathTo,E=a.strokeWidth,D=a.elSeries,k=a.x,O=a.y,P=a.y1,L=a.y2,z=a.series,$=a.barHeight,K=a.barWidth,b=a.barXPosition,I=a.barYPosition,N=a.elDataLabelsWrap,U=a.elGoalsMarkers,Q=a.elBarShadows,q=a.visibleSeries,ye=a.type,_e=this.w,Oe=new Re(this.ctx);h||(h=this.barOptions.distributed?_e.globals.stroke.colors[p]:_e.globals.stroke.colors[l]),_e.config.series[g].data[p]&&_e.config.series[g].data[p].strokeColor&&(h=_e.config.series[g].data[p].strokeColor),this.isNullValue&&(d="none");var qe=Oe.renderPaths({i:g,j:p,realIndex:l,pathFrom:v,pathTo:w,stroke:h,strokeWidth:E,strokeLineCap:_e.config.stroke.lineCap,fill:d,animationDelay:p/_e.config.chart.animations.animateGradually.delay*(_e.config.chart.animations.speed/_e.globals.dataPoints)/2.4,initialSpeed:_e.config.chart.animations.speed,dataChangeSpeed:_e.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(ye,"-area")});qe.attr("clip-path","url(#gridRectMask".concat(_e.globals.cuid,")"));var ke=_e.config.forecastDataPoints;ke.count>0&&p>=_e.globals.dataPoints-ke.count&&(qe.node.setAttribute("stroke-dasharray",ke.dashArray),qe.node.setAttribute("stroke-width",ke.strokeWidth),qe.node.setAttribute("fill-opacity",ke.fillOpacity)),void 0!==P&&void 0!==L&&(qe.attr("data-range-y1",P),qe.attr("data-range-y2",L)),new xn(this.ctx).setSelectionFilter(qe,l,p),D.add(qe);var xt=new fo(this).handleBarDataLabels({x:k,y:O,y1:P,y2:L,i:g,j:p,series:z,realIndex:l,groupIndex:m,barHeight:$,barWidth:K,barXPosition:b,barYPosition:I,renderedPath:qe,visibleSeries:q});return null!==xt.dataLabels&&N.add(xt.dataLabels),xt.totalDataLabels&&N.add(xt.totalDataLabels),D.add(N),U&&D.add(U),Q&&D.add(Q),D}},{key:"drawBarPaths",value:function(a){var l,m,d=a.indexes,h=a.barHeight,p=a.strokeWidth,g=a.zeroW,v=a.y,w=a.yDivision,E=a.elSeries,D=this.w,k=d.i,O=d.j;if(D.globals.isXNumeric)l=(v=(D.globals.seriesX[k][O]-D.globals.minX)/this.invertedXRatio-h)+h*this.visibleI;else if(D.config.plotOptions.bar.hideZeroBarsWhenGrouped){var P=0,L=0;D.globals.seriesPercent.forEach(function($,K){$[O]&&P++,K<k&&0===$[O]&&L++}),P>0&&(h=this.seriesLen*h/P),l=v+h*this.visibleI,l-=h*L}else l=v+h*this.visibleI;this.isFunnel&&(g-=(this.barHelpers.getXForValue(this.series[k][O],g)-g)/2),m=this.barHelpers.getXForValue(this.series[k][O],g);var z=this.barHelpers.getBarpaths({barYPosition:l,barHeight:h,x1:g,x2:m,strokeWidth:p,series:this.series,realIndex:d.realIndex,i:k,j:O,w:D});return D.globals.isXNumeric||(v+=w),this.barHelpers.barBackground({j:O,i:k,y1:l-h*this.visibleI,y2:h*this.seriesLen,elSeries:E}),{pathTo:z.pathTo,pathFrom:z.pathFrom,x1:g,x:m,y:v,goalX:this.barHelpers.getGoalValues("x",g,null,k,O),barYPosition:l,barHeight:h}}},{key:"drawColumnPaths",value:function(a){var l,p,d=a.indexes,h=a.x,g=a.xDivision,m=a.barWidth,v=a.zeroH,w=a.strokeWidth,E=a.elSeries,D=this.w,O=d.i,P=d.j,L=d.bc;if(D.globals.isXNumeric){var z=this.getBarXForNumericXAxis({x:h,j:P,realIndex:d.realIndex,barWidth:m});h=z.x,l=z.barXPosition}else if(D.config.plotOptions.bar.hideZeroBarsWhenGrouped){var $=this.barHelpers.getZeroValueEncounters({i:O,j:P}),K=$.nonZeroColumns;K>0&&(m=this.seriesLen*m/K),l=h+m*this.visibleI,l-=m*$.zeroEncounters}else l=h+m*this.visibleI;p=this.barHelpers.getYForValue(this.series[O][P],v);var I=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:m,y1:v,y2:p,strokeWidth:w,series:this.series,realIndex:d.realIndex,i:O,j:P,w:D});return D.globals.isXNumeric||(h+=g),this.barHelpers.barBackground({bc:L,j:P,i:O,x1:l-w/2-m*this.visibleI,x2:m*this.seriesLen+w/2,elSeries:E}),{pathTo:I.pathTo,pathFrom:I.pathFrom,x:h,y:p,goalY:this.barHelpers.getGoalValues("y",null,v,O,P),barXPosition:l,barWidth:m}}},{key:"getBarXForNumericXAxis",value:function(a){var l=a.x,d=a.barWidth,h=a.realIndex,p=a.j,g=this.w,m=h;return g.globals.seriesX[h].length||(m=g.globals.maxValsInArrayIndex),g.globals.seriesX[m][p]&&(l=(g.globals.seriesX[m][p]-g.globals.minX)/this.xRatio-d*this.seriesLen/2),{barXPosition:l+d*this.visibleI,x:l}}},{key:"getPreviousPath",value:function(a,l){for(var d,h=this.w,p=0;p<h.globals.previousPaths.length;p++){var g=h.globals.previousPaths[p];g.paths&&g.paths.length>0&&parseInt(g.realIndex,10)===parseInt(a,10)&&void 0!==h.globals.previousPaths[p].paths[l]&&(d=h.globals.previousPaths[p].paths[l].d)}return d}}]),V}(),Qr=function(V){bn(l,Pi);var a=on(l);function l(){return Ge(this,l),a.apply(this,arguments)}return ut(l,[{key:"draw",value:function(d,h){var p=this,g=this.w;this.graphics=new Re(this.ctx),this.bar=new Pi(this.ctx,this.xyRatios);var m=new Yt(this.ctx,g);d=m.getLogSeries(d),this.yRatio=m.getLogYRatios(this.yRatio),this.barHelpers.initVariables(d),"100%"===g.config.chart.stackType&&(d=g.globals.seriesPercent.slice()),this.series=d,this.barHelpers.initializeStackedPrevVars(this);for(var v=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),w=0,E=0,D=function(P,L){var z=void 0,$=void 0,K=void 0,b=void 0,I=-1;p.groupCtx=p,g.globals.seriesGroups.forEach(function(si,Hi){si.indexOf(g.config.series[P].name)>-1&&(I=Hi)}),-1!==I&&(p.groupCtx=p[g.globals.seriesGroups[I]]);var N=[],U=[],Q=g.globals.comboCharts?h[P]:P;p.yRatio.length>1&&(p.yaxisIndex=Q),p.isReversed=g.config.yaxis[p.yaxisIndex]&&g.config.yaxis[p.yaxisIndex].reversed;var q=p.graphics.group({class:"apexcharts-series",seriesName:pe.escapeString(g.globals.seriesNames[Q]),rel:P+1,"data:realIndex":Q});p.ctx.series.addCollapsedClassToSeries(q,Q);var ye=p.graphics.group({class:"apexcharts-datalabels","data:realIndex":Q}),_e=p.graphics.group({class:"apexcharts-bar-goals-markers"}),Oe=0,ce=0,qe=p.initialPositions(w,E,z,$,K,b);E=qe.y,Oe=qe.barHeight,$=qe.yDivision,b=qe.zeroW,w=qe.x,ce=qe.barWidth,z=qe.xDivision,K=qe.zeroH,p.barHelpers.initializeStackedXYVars(p),1===p.groupCtx.prevY.length&&p.groupCtx.prevY[0].every(function(si){return isNaN(si)})&&(p.groupCtx.prevY[0]=p.groupCtx.prevY[0].map(function(si){return K}),p.groupCtx.prevYF[0]=p.groupCtx.prevYF[0].map(function(si){return 0}));for(var ke=0;ke<g.globals.dataPoints;ke++){var xt=p.barHelpers.getStrokeWidth(P,ke,Q),nn={indexes:{i:P,j:ke,realIndex:Q,bc:L},strokeWidth:xt,x:w,y:E,elSeries:q,groupIndex:I,seriesGroup:g.globals.seriesGroups[I]},Sn=null;p.isHorizontal?(Sn=p.drawStackedBarPaths(ae(ae({},nn),{},{zeroW:b,barHeight:Oe,yDivision:$})),ce=p.series[P][ke]/p.invertedYRatio):(Sn=p.drawStackedColumnPaths(ae(ae({},nn),{},{xDivision:z,barWidth:ce,zeroH:K})),Oe=p.series[P][ke]/p.yRatio[p.yaxisIndex]);var qn=p.barHelpers.drawGoalLine({barXPosition:Sn.barXPosition,barYPosition:Sn.barYPosition,goalX:Sn.goalX,goalY:Sn.goalY,barHeight:Oe,barWidth:ce});qn&&_e.add(qn),E=Sn.y,N.push(w=Sn.x),U.push(E);var Ci=p.barHelpers.getPathFillColor(d,P,ke,Q);q=p.renderSeries({realIndex:Q,pathFill:Ci,j:ke,i:P,groupIndex:I,pathFrom:Sn.pathFrom,pathTo:Sn.pathTo,strokeWidth:xt,elSeries:q,x:w,y:E,series:d,barHeight:Oe,barWidth:ce,elDataLabelsWrap:ye,elGoalsMarkers:_e,type:"bar",visibleSeries:0})}g.globals.seriesXvalues[Q]=N,g.globals.seriesYvalues[Q]=U,p.groupCtx.prevY.push(p.groupCtx.yArrj),p.groupCtx.prevYF.push(p.groupCtx.yArrjF),p.groupCtx.prevYVal.push(p.groupCtx.yArrjVal),p.groupCtx.prevX.push(p.groupCtx.xArrj),p.groupCtx.prevXF.push(p.groupCtx.xArrjF),p.groupCtx.prevXVal.push(p.groupCtx.xArrjVal),v.add(q)},k=0,O=0;k<d.length;k++,O++)D(k,O);return v}},{key:"initialPositions",value:function(d,h,p,g,m,v){var w,E,D,k,O=this.w;return this.isHorizontal?(D=(D=g=O.globals.gridHeight/O.globals.dataPoints)*parseInt(O.config.plotOptions.bar.barHeight,10)/100,-1===String(O.config.plotOptions.bar.barHeight).indexOf("%")&&(D=parseInt(O.config.plotOptions.bar.barHeight,10)),v=this.baseLineInvertedY+O.globals.padHorizontal+(this.isReversed?O.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),h=(g-D)/2):(k=p=O.globals.gridWidth/O.globals.dataPoints,k=O.globals.isXNumeric&&O.globals.dataPoints>1?(p=O.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:k*parseInt(O.config.plotOptions.bar.columnWidth,10)/100,-1===String(O.config.plotOptions.bar.columnWidth).indexOf("%")&&(k=parseInt(O.config.plotOptions.bar.columnWidth,10)),m=O.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?O.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),d=O.globals.padHorizontal+(p-k)/2),{x:d,y:h,yDivision:g,xDivision:p,barHeight:null!==(w=O.globals.seriesGroups)&&void 0!==w&&w.length?D/O.globals.seriesGroups.length:D,barWidth:null!==(E=O.globals.seriesGroups)&&void 0!==E&&E.length?k/O.globals.seriesGroups.length:k,zeroH:m,zeroW:v}}},{key:"drawStackedBarPaths",value:function(d){for(var h,w,p=d.indexes,g=d.barHeight,m=d.strokeWidth,v=d.zeroW,E=d.y,D=d.groupIndex,k=d.seriesGroup,O=d.yDivision,P=d.elSeries,L=this.w,z=E+(-1!==D?D*g:0),$=p.i,K=p.j,b=0,I=0;I<this.groupCtx.prevXF.length;I++)b+=this.groupCtx.prevXF[I][K];var N=$;if(k&&(N=k.indexOf(L.config.series[$].name)),N>0){var U=v;this.groupCtx.prevXVal[N-1][K]<0?U=this.series[$][K]>=0?this.groupCtx.prevX[N-1][K]+b-2*(this.isReversed?b:0):this.groupCtx.prevX[N-1][K]:this.groupCtx.prevXVal[N-1][K]>=0&&(U=this.series[$][K]>=0?this.groupCtx.prevX[N-1][K]:this.groupCtx.prevX[N-1][K]-b+2*(this.isReversed?b:0)),h=U}else h=v;var Q=this.barHelpers.getBarpaths({barYPosition:z,barHeight:g,x1:h,x2:w=null===this.series[$][K]?h:h+this.series[$][K]/this.invertedYRatio-2*(this.isReversed?this.series[$][K]/this.invertedYRatio:0),strokeWidth:m,series:this.series,realIndex:p.realIndex,seriesGroup:k,i:$,j:K,w:L});return this.barHelpers.barBackground({j:K,i:$,y1:z,y2:g,elSeries:P}),E+=O,{pathTo:Q.pathTo,pathFrom:Q.pathFrom,goalX:this.barHelpers.getGoalValues("x",v,null,$,K),barYPosition:z,x:w,y:E}}},{key:"drawStackedColumnPaths",value:function(d){var g,h=d.indexes,p=d.x,m=d.xDivision,v=d.barWidth,w=d.zeroH,E=d.groupIndex,D=d.seriesGroup,k=d.elSeries,O=this.w,P=h.i,L=h.j,z=h.bc;if(O.globals.isXNumeric){var $=O.globals.seriesX[P][L];$||($=0),p=($-O.globals.minX)/this.xRatio-v/2,O.globals.seriesGroups.length&&(p=($-O.globals.minX)/this.xRatio-v/2*O.globals.seriesGroups.length)}for(var K,b=p+(-1!==E?E*v:0),I=0,N=0;N<this.groupCtx.prevYF.length;N++)I+=isNaN(this.groupCtx.prevYF[N][L])?0:this.groupCtx.prevYF[N][L];var U=P;if(D&&(U=D.indexOf(O.config.series[P].name)),U>0&&!O.globals.isXNumeric||U>0&&O.globals.isXNumeric&&O.globals.seriesX[P-1][L]===O.globals.seriesX[P][L]){var Q,q,ye,_e=Math.min(this.yRatio.length+1,P+1);if(void 0!==this.groupCtx.prevY[U-1]&&this.groupCtx.prevY[U-1].length)for(var Oe=1;Oe<_e;Oe++){var ce;if(!isNaN(null===(ce=this.groupCtx.prevY[U-Oe])||void 0===ce?void 0:ce[L])){ye=this.groupCtx.prevY[U-Oe][L];break}}for(var qe=1;qe<_e;qe++){var ke,xt;if((null===(ke=this.groupCtx.prevYVal[U-qe])||void 0===ke?void 0:ke[L])<0){q=this.series[P][L]>=0?ye-I+2*(this.isReversed?I:0):ye;break}if((null===(xt=this.groupCtx.prevYVal[U-qe])||void 0===xt?void 0:xt[L])>=0){q=this.series[P][L]>=0?ye:ye+I-2*(this.isReversed?I:0);break}}void 0===q&&(q=O.globals.gridHeight),K=null!==(Q=this.groupCtx.prevYF[0])&&void 0!==Q&&Q.every(function(Sn){return 0===Sn})&&this.groupCtx.prevYF.slice(1,U).every(function(Sn){return Sn.every(function(qn){return isNaN(qn)})})?w:q}else K=w;var nn=this.barHelpers.getColumnPaths({barXPosition:b,barWidth:v,y1:K,y2:g=this.series[P][L]?K-this.series[P][L]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[P][L]/this.yRatio[this.yaxisIndex]:0):K,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:D,realIndex:h.realIndex,i:P,j:L,w:O});return this.barHelpers.barBackground({bc:z,j:L,i:P,x1:b,x2:v,elSeries:k}),p+=m,{pathTo:nn.pathTo,pathFrom:nn.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,w,P,L),barXPosition:b,x:O.globals.isXNumeric?p-m:p,y:g}}}]),l}(),as=function(V){bn(l,Pi);var a=on(l);function l(){return Ge(this,l),a.apply(this,arguments)}return ut(l,[{key:"draw",value:function(d,h,p){var g=this,m=this.w,v=new Re(this.ctx),w=m.globals.comboCharts?h:m.config.chart.type,E=new ve(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=m.config.plotOptions.bar.horizontal;var D=new Yt(this.ctx,m);d=D.getLogSeries(d),this.series=d,this.yRatio=D.getLogYRatios(this.yRatio),this.barHelpers.initVariables(d);for(var k=v.group({class:"apexcharts-".concat(w,"-series apexcharts-plot-series")}),O=function(L){g.isBoxPlot="boxPlot"===m.config.chart.type||"boxPlot"===m.config.series[L].type;var z,$,K,b,_e,Oe,I=void 0,N=void 0,U=[],Q=[],q=m.globals.comboCharts?p[L]:L,ye=v.group({class:"apexcharts-series",seriesName:pe.escapeString(m.globals.seriesNames[q]),rel:L+1,"data:realIndex":q});g.ctx.series.addCollapsedClassToSeries(ye,q),d[L].length>0&&(g.visibleI=g.visibleI+1),g.yRatio.length>1&&(g.yaxisIndex=q);var ce=g.barHelpers.initialPositions();N=ce.y,_e=ce.barHeight,$=ce.yDivision,b=ce.zeroW,z=ce.xDivision,K=ce.zeroH,Q.push((I=ce.x)+(Oe=ce.barWidth)/2);for(var qe=v.group({class:"apexcharts-datalabels","data:realIndex":q}),ke=function(nn){var Sn=g.barHelpers.getStrokeWidth(L,nn,q),qn=null,Ci={indexes:{i:L,j:nn,realIndex:q},x:I,y:N,strokeWidth:Sn,elSeries:ye};qn=g.isHorizontal?g.drawHorizontalBoxPaths(ae(ae({},Ci),{},{yDivision:$,barHeight:_e,zeroW:b})):g.drawVerticalBoxPaths(ae(ae({},Ci),{},{xDivision:z,barWidth:Oe,zeroH:K})),N=qn.y,I=qn.x,nn>0&&Q.push(I+Oe/2),U.push(N),qn.pathTo.forEach(function(si,Hi){var xs=!g.isBoxPlot&&g.candlestickOptions.wick.useFillColor?qn.color[Hi]:m.globals.stroke.colors[L],Ka=E.fillPath({seriesNumber:q,dataPointIndex:nn,color:qn.color[Hi],value:d[L][nn]});g.renderSeries({realIndex:q,pathFill:Ka,lineFill:xs,j:nn,i:L,pathFrom:qn.pathFrom,pathTo:si,strokeWidth:Sn,elSeries:ye,x:I,y:N,series:d,barHeight:_e,barWidth:Oe,elDataLabelsWrap:qe,visibleSeries:g.visibleI,type:m.config.chart.type})})},xt=0;xt<m.globals.dataPoints;xt++)ke(xt);m.globals.seriesXvalues[q]=Q,m.globals.seriesYvalues[q]=U,k.add(ye)},P=0;P<d.length;P++)O(P);return k}},{key:"drawVerticalBoxPaths",value:function(d){var h=d.indexes,p=d.x,g=d.xDivision,m=d.barWidth,v=d.zeroH,w=d.strokeWidth,E=this.w,D=new Re(this.ctx),k=h.i,O=h.j,P=!0,L=E.config.plotOptions.candlestick.colors.upward,z=E.config.plotOptions.candlestick.colors.downward,$="";this.isBoxPlot&&($=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var K=this.yRatio[this.yaxisIndex],b=h.realIndex,I=this.getOHLCValue(b,O),N=v,U=v;I.o>I.c&&(P=!1);var Q=Math.min(I.o,I.c),q=Math.max(I.o,I.c),ye=I.m;E.globals.isXNumeric&&(p=(E.globals.seriesX[b][O]-E.globals.minX)/this.xRatio-m/2);var _e=p+m*this.visibleI;null==this.series[k][O]?(Q=v,q=v):(Q=v-Q/K,q=v-q/K,N=v-I.h/K,U=v-I.l/K,ye=v-I.m/K);var Oe=D.move(_e,v),ce=D.move(_e+m/2,Q);return E.globals.previousPaths.length>0&&(ce=this.getPreviousPath(b,O,!0)),Oe=this.isBoxPlot?[D.move(_e,Q)+D.line(_e+m/2,Q)+D.line(_e+m/2,N)+D.line(_e+m/4,N)+D.line(_e+m-m/4,N)+D.line(_e+m/2,N)+D.line(_e+m/2,Q)+D.line(_e+m,Q)+D.line(_e+m,ye)+D.line(_e,ye)+D.line(_e,Q+w/2),D.move(_e,ye)+D.line(_e+m,ye)+D.line(_e+m,q)+D.line(_e+m/2,q)+D.line(_e+m/2,U)+D.line(_e+m-m/4,U)+D.line(_e+m/4,U)+D.line(_e+m/2,U)+D.line(_e+m/2,q)+D.line(_e,q)+D.line(_e,ye)+"z"]:[D.move(_e,q)+D.line(_e+m/2,q)+D.line(_e+m/2,N)+D.line(_e+m/2,q)+D.line(_e+m,q)+D.line(_e+m,Q)+D.line(_e+m/2,Q)+D.line(_e+m/2,U)+D.line(_e+m/2,Q)+D.line(_e,Q)+D.line(_e,q-w/2)],ce+=D.move(_e,Q),E.globals.isXNumeric||(p+=g),{pathTo:Oe,pathFrom:ce,x:p,y:q,barXPosition:_e,color:this.isBoxPlot?$:P?[L]:[z]}}},{key:"drawHorizontalBoxPaths",value:function(d){var h=d.indexes,p=d.y,g=d.yDivision,m=d.barHeight,v=d.zeroW,w=d.strokeWidth,E=this.w,D=new Re(this.ctx),k=h.i,O=h.j,P=this.boxOptions.colors.lower;this.isBoxPlot&&(P=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var L=this.invertedYRatio,z=h.realIndex,$=this.getOHLCValue(z,O),K=v,b=v,I=Math.min($.o,$.c),N=Math.max($.o,$.c),U=$.m;E.globals.isXNumeric&&(p=(E.globals.seriesX[z][O]-E.globals.minX)/this.invertedXRatio-m/2);var Q=p+m*this.visibleI;null==this.series[k][O]?(I=v,N=v):(I=v+I/L,N=v+N/L,K=v+$.h/L,b=v+$.l/L,U=v+$.m/L);var q=D.move(v,Q),ye=D.move(I,Q+m/2);return E.globals.previousPaths.length>0&&(ye=this.getPreviousPath(z,O,!0)),q=[D.move(I,Q)+D.line(I,Q+m/2)+D.line(K,Q+m/2)+D.line(K,Q+m/2-m/4)+D.line(K,Q+m/2+m/4)+D.line(K,Q+m/2)+D.line(I,Q+m/2)+D.line(I,Q+m)+D.line(U,Q+m)+D.line(U,Q)+D.line(I+w/2,Q),D.move(U,Q)+D.line(U,Q+m)+D.line(N,Q+m)+D.line(N,Q+m/2)+D.line(b,Q+m/2)+D.line(b,Q+m-m/4)+D.line(b,Q+m/4)+D.line(b,Q+m/2)+D.line(N,Q+m/2)+D.line(N,Q)+D.line(U,Q)+"z"],ye+=D.move(I,Q),E.globals.isXNumeric||(p+=g),{pathTo:q,pathFrom:ye,x:N,y:p,barYPosition:Q,color:P}}},{key:"getOHLCValue",value:function(d,h){var p=this.w;return{o:this.isBoxPlot?p.globals.seriesCandleH[d][h]:p.globals.seriesCandleO[d][h],h:this.isBoxPlot?p.globals.seriesCandleO[d][h]:p.globals.seriesCandleH[d][h],m:p.globals.seriesCandleM[d][h],l:this.isBoxPlot?p.globals.seriesCandleC[d][h]:p.globals.seriesCandleL[d][h],c:this.isBoxPlot?p.globals.seriesCandleL[d][h]:p.globals.seriesCandleC[d][h]}}}]),l}(),Xa=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"checkColorRange",value:function(){var a=this.w,l=!1,d=a.config.plotOptions[a.config.chart.type];return d.colorScale.ranges.length>0&&d.colorScale.ranges.map(function(h,p){h.from<=0&&(l=!0)}),l}},{key:"getShadeColor",value:function(a,l,d,h){var p=this.w,g=1,m=p.config.plotOptions[a].shadeIntensity,v=this.determineColor(a,l,d);p.globals.hasNegs||h?g=p.config.plotOptions[a].reverseNegativeShade?v.percent<0?v.percent/100*(1.25*m):1.25*m*(1-v.percent/100):v.percent<=0?1-(1+v.percent/100)*m:(1-v.percent/100)*m:(g=1-v.percent/100,"treemap"===a&&(g=1.25*m*(1-v.percent/100)));var w=v.color,E=new pe;return p.config.plotOptions[a].enableShades&&(w=pe.hexToRgba(E.shadeColor("dark"===this.w.config.theme.mode?-1*g:g,v.color),p.config.fill.opacity)),{color:w,colorProps:v}}},{key:"determineColor",value:function(a,l,d){var h=this.w,p=h.globals.series[l][d],g=h.config.plotOptions[a],m=g.colorScale.inverse?d:l;g.distributed&&"treemap"===h.config.chart.type&&(m=d);var v=h.globals.colors[m],w=null,E=Math.min.apply(Math,kn(h.globals.series[l])),D=Math.max.apply(Math,kn(h.globals.series[l]));g.distributed||"heatmap"!==a||(E=h.globals.minY,D=h.globals.maxY),void 0!==g.colorScale.min&&(E=g.colorScale.min<h.globals.minY?g.colorScale.min:h.globals.minY,D=g.colorScale.max>h.globals.maxY?g.colorScale.max:h.globals.maxY);var k=Math.abs(D)+Math.abs(E),O=100*p/(0===k?k-1e-6:k);return g.colorScale.ranges.length>0&&g.colorScale.ranges.map(function(P,L){if(p>=P.from&&p<=P.to){v=P.color,w=P.foreColor?P.foreColor:null,E=P.from,D=P.to;var z=Math.abs(D)+Math.abs(E);O=100*p/(0===z?z-1e-6:z)}}),{color:v,foreColor:w,percent:O}}},{key:"calculateDataLabels",value:function(a){var l=a.text,d=a.x,h=a.y,p=a.i,g=a.j,m=a.colorProps,v=a.fontSize,w=this.w.config.dataLabels,E=new Re(this.ctx),D=new Ue(this.ctx),k=null;if(w.enabled){k=E.group({class:"apexcharts-data-labels"});var P=w.offsetY,L=d+w.offsetX,z=h+parseFloat(w.style.fontSize)/3+P;D.plotDataLabelsText({x:L,y:z,text:l,i:p,j:g,color:m.foreColor,parent:k,fontSize:v,dataLabelsConfig:w})}return k}},{key:"addListeners",value:function(a){var l=new Re(this.ctx);a.node.addEventListener("mouseenter",l.pathMouseEnter.bind(this,a)),a.node.addEventListener("mouseleave",l.pathMouseLeave.bind(this,a)),a.node.addEventListener("mousedown",l.pathMouseDown.bind(this,a))}}]),V}(),Aa=function(){function V(a,l){Ge(this,V),this.ctx=a,this.w=a.w,this.xRatio=l.xRatio,this.yRatio=l.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Xa(a),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return ut(V,[{key:"draw",value:function(a){var l=this.w,d=new Re(this.ctx),h=d.group({class:"apexcharts-heatmap"});h.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")"));var p=l.globals.gridWidth/l.globals.dataPoints,g=l.globals.gridHeight/l.globals.series.length,m=0,v=!1;this.negRange=this.helpers.checkColorRange();var w=a.slice();l.config.yaxis[0].reversed&&(v=!0,w.reverse());for(var E=v?0:w.length-1;v?E<w.length:E>=0;v?E++:E--){var D=d.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:pe.escapeString(l.globals.seriesNames[E]),rel:E+1,"data:realIndex":E});if(this.ctx.series.addCollapsedClassToSeries(D,E),l.config.chart.dropShadow.enabled){var k=l.config.chart.dropShadow;new xn(this.ctx).dropShadow(D,k,E)}for(var O=0,P=l.config.plotOptions.heatmap.shadeIntensity,L=0;L<w[E].length;L++){var z=this.helpers.getShadeColor(l.config.chart.type,E,L,this.negRange),$=z.color,K=z.colorProps;"image"===l.config.fill.type&&($=new ve(this.ctx).fillPath({seriesNumber:E,dataPointIndex:L,opacity:l.globals.hasNegs?K.percent<0?1-(1+K.percent/100):P+K.percent/100:K.percent/100,patternID:pe.randomId(),width:l.config.fill.image.width?l.config.fill.image.width:p,height:l.config.fill.image.height?l.config.fill.image.height:g}));var I=d.drawRect(O,m,p,g,this.rectRadius);if(I.attr({cx:O,cy:m}),I.node.classList.add("apexcharts-heatmap-rect"),D.add(I),I.attr({fill:$,i:E,index:E,j:L,val:w[E][L],"stroke-width":this.strokeWidth,stroke:l.config.plotOptions.heatmap.useFillColorAsStroke?$:l.globals.stroke.colors[0],color:$}),this.helpers.addListeners(I),l.config.chart.animations.enabled&&!l.globals.dataChanged){var N=1;l.globals.resized||(N=l.config.chart.animations.speed),this.animateHeatMap(I,O,m,p,g,N)}if(l.globals.dataChanged){var U=1;if(this.dynamicAnim.enabled&&l.globals.shouldAnimate){U=this.dynamicAnim.speed;var Q=l.globals.previousPaths[E]&&l.globals.previousPaths[E][L]&&l.globals.previousPaths[E][L].color;Q||(Q="rgba(255, 255, 255, 0)"),this.animateHeatColor(I,pe.isColorHex(Q)?Q:pe.rgb2hex(Q),pe.isColorHex($)?$:pe.rgb2hex($),U)}}var q=(0,l.config.dataLabels.formatter)(l.globals.series[E][L],{value:l.globals.series[E][L],seriesIndex:E,dataPointIndex:L,w:l}),ye=this.helpers.calculateDataLabels({text:q,x:O+p/2,y:m+g/2,i:E,j:L,colorProps:K,series:w});null!==ye&&D.add(ye),O+=p}m+=g,h.add(D)}var _e=l.globals.yAxisScale[0].result.slice();return l.config.yaxis[0].reversed?_e.unshift(""):_e.push(""),l.globals.yAxisScale[0].result=_e,h}},{key:"animateHeatMap",value:function(a,l,d,h,p,g){var m=new Ii(this.ctx);m.animateRect(a,{x:l+h/2,y:d+p/2,width:0,height:0},{x:l,y:d,width:h,height:p},g,function(){m.animationCompleted(a)})}},{key:"animateHeatColor",value:function(a,l,d,h){a.attr({fill:l}).animate(h).attr({fill:d})}}]),V}(),ka=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"drawYAxisTexts",value:function(a,l,d,h){var p=this.w,g=p.config.yaxis[0],m=p.globals.yLabelFormatters[0];return new Re(this.ctx).drawText({x:a+g.labels.offsetX,y:l+g.labels.offsetY,text:m(h,d),textAnchor:"middle",fontSize:g.labels.style.fontSize,fontFamily:g.labels.style.fontFamily,foreColor:Array.isArray(g.labels.style.colors)?g.labels.style.colors[d]:g.labels.style.colors})}}]),V}(),po=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w;var l=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=Math.min(l.globals.gridWidth,l.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=l.globals.gridWidth/2,this.fullAngle="radialBar"===l.config.chart.type?360:Math.abs(l.config.plotOptions.pie.endAngle-l.config.plotOptions.pie.startAngle),this.initialAngle=l.config.plotOptions.pie.startAngle%this.fullAngle,l.globals.radialSize=this.defaultSize/2.05-l.config.stroke.width-(l.config.chart.sparkline.enabled?0:l.config.chart.dropShadow.blur),this.donutSize=l.globals.radialSize*parseInt(l.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return ut(V,[{key:"draw",value:function(a){var l=this,d=this.w,h=new Re(this.ctx);if(this.ret=h.group({class:"apexcharts-pie"}),d.globals.noData)return this.ret;for(var p=0,g=0;g<a.length;g++)p+=pe.negToZero(a[g]);var m=[],v=h.group();0===p&&(p=1e-5),a.forEach(function(Q){l.maxY=Math.max(l.maxY,Q)}),d.config.yaxis[0].max&&(this.maxY=d.config.yaxis[0].max),"back"===d.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var w=0;w<a.length;w++){var E=this.fullAngle*pe.negToZero(a[w])/p;m.push(E),"polarArea"===this.chartType?(m[w]=this.fullAngle/a.length,this.sliceSizes.push(d.globals.radialSize*a[w]/this.maxY)):this.sliceSizes.push(d.globals.radialSize)}if(d.globals.dataChanged){for(var D,k=0,O=0;O<d.globals.previousPaths.length;O++)k+=pe.negToZero(d.globals.previousPaths[O]);for(var P=0;P<d.globals.previousPaths.length;P++)D=this.fullAngle*pe.negToZero(d.globals.previousPaths[P])/k,this.prevSectorAngleArr.push(D)}this.donutSize<0&&(this.donutSize=0);var L=d.config.plotOptions.pie.customScale,K=d.globals.gridWidth/2-d.globals.gridWidth/2*L,b=d.globals.gridHeight/2-d.globals.gridHeight/2*L;if("donut"===this.chartType){var I=h.drawCircle(this.donutSize);I.attr({cx:this.centerX,cy:this.centerY,fill:d.config.plotOptions.pie.donut.background?d.config.plotOptions.pie.donut.background:"transparent"}),v.add(I)}var N=this.drawArcs(m,a);if(this.sliceLabels.forEach(function(Q){N.add(Q)}),v.attr({transform:"translate(".concat(K,", ").concat(b,") scale(").concat(L,")")}),v.add(N),this.ret.add(v),this.donutDataLabels.show){var U=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:K,translateY:b});this.ret.add(U)}return"front"===d.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(a,l){var d=this.w,h=new xn(this.ctx),p=new Re(this.ctx),g=new ve(this.ctx),m=p.group({class:"apexcharts-slices"}),v=this.initialAngle,w=this.initialAngle,E=this.initialAngle,D=this.initialAngle;this.strokeWidth=d.config.stroke.show?d.config.stroke.width:0;for(var k=0;k<a.length;k++){var O=p.group({class:"apexcharts-series apexcharts-pie-series",seriesName:pe.escapeString(d.globals.seriesNames[k]),rel:k+1,"data:realIndex":k});m.add(O),E=(v=E)+a[k],D=(w=D)+this.prevSectorAngleArr[k];var P=E<v?this.fullAngle+E-v:E-v,L=g.fillPath({seriesNumber:k,size:this.sliceSizes[k],value:l[k]}),z=this.getChangedPath(w,D),$=p.drawPath({d:z,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[k]:this.lineColorArr,strokeWidth:0,fill:L,fillOpacity:d.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(k)});$.attr({index:0,j:k}),h.setSelectionFilter($,0,k),d.config.chart.dropShadow.enabled&&h.dropShadow($,d.config.chart.dropShadow,k),this.addListeners($,this.donutDataLabels),Re.setAttrs($.node,{"data:angle":P,"data:startAngle":v,"data:strokeWidth":this.strokeWidth,"data:value":l[k]});var b={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?b=pe.polarToCartesian(this.centerX,this.centerY,d.globals.radialSize/1.25+d.config.plotOptions.pie.dataLabels.offset,(v+P/2)%this.fullAngle):"donut"===this.chartType&&(b=pe.polarToCartesian(this.centerX,this.centerY,(d.globals.radialSize+this.donutSize)/2+d.config.plotOptions.pie.dataLabels.offset,(v+P/2)%this.fullAngle)),O.add($);var I=0;if(!this.initialAnim||d.globals.resized||d.globals.dataChanged?this.animBeginArr.push(0):(0==(I=P/this.fullAngle*d.config.chart.animations.speed)&&(I=1),this.animDur=I+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths($,this.dynamicAnim&&d.globals.dataChanged?{size:this.sliceSizes[k],endAngle:E,startAngle:v,prevStartAngle:w,prevEndAngle:D,animateStartingPos:!0,i:k,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:d.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[k],endAngle:E,startAngle:v,i:k,totalItems:a.length-1,animBeginArr:this.animBeginArr,dur:I}),d.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&$.click(this.pieClicked.bind(this,k)),void 0!==d.globals.selectedDataPoints[0]&&d.globals.selectedDataPoints[0].indexOf(k)>-1&&this.pieClicked(k),d.config.dataLabels.enabled){var N=b.x,U=b.y,Q=100*P/this.fullAngle+"%";if(0!==P&&d.config.plotOptions.pie.dataLabels.minAngleToShowLabel<a[k]){var q=d.config.dataLabels.formatter;void 0!==q&&(Q=q(d.globals.seriesPercent[k][0],{seriesIndex:k,w:d}));var ye=d.globals.dataLabels.style.colors[k],_e=p.group({class:"apexcharts-datalabels"}),Oe=p.drawText({x:N,y:U,text:Q,textAnchor:"middle",fontSize:d.config.dataLabels.style.fontSize,fontFamily:d.config.dataLabels.style.fontFamily,fontWeight:d.config.dataLabels.style.fontWeight,foreColor:ye});_e.add(Oe),d.config.dataLabels.dropShadow.enabled&&h.dropShadow(Oe,d.config.dataLabels.dropShadow),Oe.node.classList.add("apexcharts-pie-label"),d.config.chart.animations.animate&&!1===d.globals.resized&&(Oe.node.classList.add("apexcharts-pie-label-delay"),Oe.node.style.animationDelay=d.config.chart.animations.speed/940+"s"),this.sliceLabels.push(_e)}}}return m}},{key:"addListeners",value:function(a,l){var d=new Re(this.ctx);a.node.addEventListener("mouseenter",d.pathMouseEnter.bind(this,a)),a.node.addEventListener("mouseleave",d.pathMouseLeave.bind(this,a)),a.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,a.node,l)),a.node.addEventListener("mousedown",d.pathMouseDown.bind(this,a)),this.donutDataLabels.total.showAlways||(a.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,a.node,l)),a.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,a.node,l)))}},{key:"animatePaths",value:function(a,l){var h=l.endAngle<l.startAngle?this.fullAngle+l.endAngle-l.startAngle:l.endAngle-l.startAngle,p=h,g=l.startAngle,m=l.startAngle;void 0!==l.prevStartAngle&&void 0!==l.prevEndAngle&&(g=l.prevEndAngle,p=l.prevEndAngle<l.prevStartAngle?this.fullAngle+l.prevEndAngle-l.prevStartAngle:l.prevEndAngle-l.prevStartAngle),l.i===this.w.config.series.length-1&&(h+m>this.fullAngle?l.endAngle=l.endAngle-(h+m):h+m<this.fullAngle&&(l.endAngle=l.endAngle+(this.fullAngle-(h+m)))),h===this.fullAngle&&(h=this.fullAngle-.01),this.animateArc(a,g,m,h,p,l)}},{key:"animateArc",value:function(a,l,d,h,p,g){var m,v=this,w=this.w,E=new Ii(this.ctx),D=g.size;(isNaN(l)||isNaN(p))&&(l=d,p=h,g.dur=0);var k=h,O=d,P=l<d?this.fullAngle+l-d:l-d;w.globals.dataChanged&&g.shouldSetPrevPaths&&g.prevEndAngle&&(m=v.getPiePath({me:v,startAngle:g.prevStartAngle,angle:g.prevEndAngle<g.prevStartAngle?this.fullAngle+g.prevEndAngle-g.prevStartAngle:g.prevEndAngle-g.prevStartAngle,size:D}),a.attr({d:m})),0!==g.dur?a.animate(g.dur,w.globals.easing,g.animBeginArr[g.i]).afterAll(function(){"pie"!==v.chartType&&"donut"!==v.chartType&&"polarArea"!==v.chartType||this.animate(w.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":v.strokeWidth}),g.i===w.config.series.length-1&&E.animationCompleted(a)}).during(function(L){k=P+(h-P)*L,g.animateStartingPos&&(k=p+(h-p)*L,O=l-p+(d-(l-p))*L),m=v.getPiePath({me:v,startAngle:O,angle:k,size:D}),a.node.setAttribute("data:pathOrig",m),a.attr({d:m})}):(m=v.getPiePath({me:v,startAngle:O,angle:h,size:D}),g.isTrack||(w.globals.animationEnded=!0),a.node.setAttribute("data:pathOrig",m),a.attr({d:m,"stroke-width":v.strokeWidth}))}},{key:"pieClicked",value:function(a){var l,d=this.w,h=this,p=h.sliceSizes[a]+(d.config.plotOptions.pie.expandOnClick?4:0),g=d.globals.dom.Paper.select(".apexcharts-".concat(h.chartType.toLowerCase(),"-slice-").concat(a)).members[0];if("true"!==g.attr("data:pieClicked")){var m=d.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(m,function(D){D.setAttribute("data:pieClicked","false");var k=D.getAttribute("data:pathOrig");k&&D.setAttribute("d",k)}),g.attr("data:pieClicked","true");var v=parseInt(g.attr("data:startAngle"),10),w=parseInt(g.attr("data:angle"),10);l=h.getPiePath({me:h,startAngle:v,angle:w,size:p}),360!==w&&g.plot(l)}else{g.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(g.node,this.donutDataLabels);var E=g.attr("data:pathOrig");g.attr({d:E})}}},{key:"getChangedPath",value:function(a,l){var d="";return this.dynamicAnim&&this.w.globals.dataChanged&&(d=this.getPiePath({me:this,startAngle:a,angle:l-a,size:this.size})),d}},{key:"getPiePath",value:function(a){var l=a.me,d=a.startAngle,h=a.angle,p=a.size,g=d,m=Math.PI*(g-90)/180,v=h+d;Math.ceil(v)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(v=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(v)>this.fullAngle&&(v-=this.fullAngle);var w=Math.PI*(v-90)/180,E=l.centerX+p*Math.cos(m),D=l.centerY+p*Math.sin(m),k=l.centerX+p*Math.cos(w),O=l.centerY+p*Math.sin(w),P=pe.polarToCartesian(l.centerX,l.centerY,l.donutSize,v),L=pe.polarToCartesian(l.centerX,l.centerY,l.donutSize,g),z=h>180?1:0,$=["M",E,D,"A",p,p,0,z,1,k,O];return"donut"===l.chartType?[].concat($,["L",P.x,P.y,"A",l.donutSize,l.donutSize,0,z,0,L.x,L.y,"L",E,D,"z"]).join(" "):"pie"===l.chartType||"polarArea"===l.chartType?[].concat($,["L",l.centerX,l.centerY,"L",E,D]).join(" "):[].concat($).join(" ")}},{key:"drawPolarElements",value:function(a){var l=this.w,d=new zn(this.ctx),h=new Re(this.ctx),p=new ka(this.ctx),g=h.group(),m=h.group(),v=d.niceScale(0,Math.ceil(this.maxY),l.config.yaxis[0].tickAmount,0,!0),w=v.result.reverse(),E=v.result.length;this.maxY=v.niceMax;for(var D=l.globals.radialSize,k=D/(E-1),O=0;O<E-1;O++){var P=h.drawCircle(D);if(P.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":l.config.plotOptions.polarArea.rings.strokeWidth,stroke:l.config.plotOptions.polarArea.rings.strokeColor}),l.config.yaxis[0].show){var L=p.drawYAxisTexts(this.centerX,this.centerY-D+parseInt(l.config.yaxis[0].labels.style.fontSize,10)/2,O,w[O]);m.add(L)}g.add(P),D-=k}this.drawSpokes(a),a.add(g),a.add(m)}},{key:"renderInnerDataLabels",value:function(a,l){var d=this.w,h=new Re(this.ctx),p=h.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(l.translateX?l.translateX:0,", ").concat(l.translateY?l.translateY:0,") scale(").concat(d.config.plotOptions.pie.customScale,")")}),g=a.total.show;p.node.style.opacity=l.opacity;var m,v,w=l.centerX,E=l.centerY;m=void 0===a.name.color?d.globals.colors[0]:a.name.color;var D=a.name.fontSize,k=a.name.fontFamily,O=a.name.fontWeight;v=void 0===a.value.color?d.config.chart.foreColor:a.value.color;var P=a.value.formatter,L="",z="";if(g?(m=a.total.color,D=a.total.fontSize,k=a.total.fontFamily,O=a.total.fontWeight,z=a.total.label,L=a.total.formatter(d)):1===d.globals.series.length&&(L=P(d.globals.series[0],d),z=d.globals.seriesNames[0]),z&&(z=a.name.formatter(z,a.total.show,d)),a.name.show){var $=h.drawText({x:w,y:E+parseFloat(a.name.offsetY),text:z,textAnchor:"middle",foreColor:m,fontSize:D,fontWeight:O,fontFamily:k});$.node.classList.add("apexcharts-datalabel-label"),p.add($)}if(a.value.show){var K=a.name.show?parseFloat(a.value.offsetY)+16:a.value.offsetY,b=h.drawText({x:w,y:E+K,text:L,textAnchor:"middle",foreColor:v,fontWeight:a.value.fontWeight,fontSize:a.value.fontSize,fontFamily:a.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),p.add(b)}return p}},{key:"printInnerLabels",value:function(a,l,d,h){var p,g=this.w;h?p=void 0===a.name.color?g.globals.colors[parseInt(h.parentNode.getAttribute("rel"),10)-1]:a.name.color:g.globals.series.length>1&&a.total.show&&(p=a.total.color);var m=g.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),v=g.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");d=(0,a.value.formatter)(d,g),h||"function"!=typeof a.total.formatter||(d=a.total.formatter(g)),l=a.name.formatter(l,l===a.total.label,g),null!==m&&(m.textContent=l),null!==v&&(v.textContent=d),null!==m&&(m.style.fill=p)}},{key:"printDataLabelsInner",value:function(a,l){var d=this.w,h=a.getAttribute("data:value"),p=d.globals.seriesNames[parseInt(a.parentNode.getAttribute("rel"),10)-1];d.globals.series.length>1&&this.printInnerLabels(l,p,h,a);var g=d.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==g&&(g.style.opacity=1)}},{key:"drawSpokes",value:function(a){var l=this,d=this.w,h=new Re(this.ctx),p=d.config.plotOptions.polarArea.spokes;if(0!==p.strokeWidth){for(var g=[],m=360/d.globals.series.length,v=0;v<d.globals.series.length;v++)g.push(pe.polarToCartesian(this.centerX,this.centerY,d.globals.radialSize,d.config.plotOptions.pie.startAngle+m*v));g.forEach(function(w,E){var D=h.drawLine(w.x,w.y,l.centerX,l.centerY,Array.isArray(p.connectorColors)?p.connectorColors[E]:p.connectorColors);a.add(D)})}}},{key:"revertDataLabelsInner",value:function(a,l,d){var h=this,p=this.w,g=p.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),m=!1,v=p.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),w=function(k){var O=k.makeSliceOut,P=k.printLabel;Array.prototype.forEach.call(v,function(L){"true"===L.getAttribute("data:pieClicked")&&(O&&(m=!0),P&&h.printDataLabelsInner(L,l))})};if(w({makeSliceOut:!0,printLabel:!1}),l.total.show&&p.globals.series.length>1)m&&!l.total.showAlways?w({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(l,l.total.label,l.total.formatter(p));else if(w({makeSliceOut:!1,printLabel:!0}),!m)if(p.globals.selectedDataPoints.length&&p.globals.series.length>1)if(p.globals.selectedDataPoints[0].length>0){var E=p.globals.selectedDataPoints[0],D=p.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(E));this.printDataLabelsInner(D,l)}else g&&p.globals.selectedDataPoints.length&&0===p.globals.selectedDataPoints[0].length&&(g.style.opacity=0);else g&&p.globals.series.length>1&&(g.style.opacity=0)}}]),V}(),ge=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var l=this.w;this.graphics=new Re(this.ctx),this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=l.globals.svgHeight<l.globals.svgWidth?l.globals.gridHeight+1.5*l.globals.goldenPadding:l.globals.gridWidth,this.isLog=l.config.yaxis[0].logarithmic,this.coreUtils=new Yt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(l.globals.maxY,0):l.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):l.globals.minY,this.polygons=l.config.plotOptions.radar.polygons,this.strokeWidth=l.config.stroke.show?l.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-l.config.chart.dropShadow.blur,l.config.xaxis.labels.show&&(this.size=this.size-l.globals.xAxisLabelsWidth/1.75),void 0!==l.config.plotOptions.radar.size&&(this.size=l.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return ut(V,[{key:"draw",value:function(a){var l=this,d=this.w,h=new ve(this.ctx),p=[],g=new Ue(this.ctx);a.length&&(this.dataPointsLen=a[d.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var E=d.globals.gridHeight/2+d.config.plotOptions.radar.offsetY,D=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(d.globals.gridWidth/2+d.config.plotOptions.radar.offsetX||0,", ").concat(E||0,")")}),k=[],O=null,P=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),a.forEach(function(z,$){var K=z.length===d.globals.dataPoints,b=l.graphics.group().attr({class:"apexcharts-series","data:longestSeries":K,seriesName:pe.escapeString(d.globals.seriesNames[$]),rel:$+1,"data:realIndex":$});l.dataRadiusOfPercent[$]=[],l.dataRadius[$]=[],l.angleArr[$]=[],z.forEach(function(qe,ke){var xt=Math.abs(l.maxValue-l.minValue);qe+=Math.abs(l.minValue),l.isLog&&(qe=l.coreUtils.getLogVal(qe,0)),l.dataRadiusOfPercent[$][ke]=qe/xt,l.dataRadius[$][ke]=l.dataRadiusOfPercent[$][ke]*l.size,l.angleArr[$][ke]=ke*l.disAngle}),k=l.getDataPointsPos(l.dataRadius[$],l.angleArr[$]);var I=l.createPaths(k,{x:0,y:0});O=l.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),P=l.graphics.group({class:"apexcharts-datalabels","data:realIndex":$}),d.globals.delayedElements.push({el:O.node,index:$});var N={i:$,realIndex:$,animationDelay:$,initialSpeed:d.config.chart.animations.speed,dataChangeSpeed:d.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:d.globals.stroke.colors[$],strokeLineCap:d.config.stroke.lineCap},U=null;d.globals.previousPaths.length>0&&(U=l.getPreviousPath($));for(var Q=0;Q<I.linePathsTo.length;Q++){var q=l.graphics.renderPaths(ae(ae({},N),{},{pathFrom:null===U?I.linePathsFrom[Q]:U,pathTo:I.linePathsTo[Q],strokeWidth:Array.isArray(l.strokeWidth)?l.strokeWidth[$]:l.strokeWidth,fill:"none",drawShadow:!1}));b.add(q);var ye=h.fillPath({seriesNumber:$}),_e=l.graphics.renderPaths(ae(ae({},N),{},{pathFrom:null===U?I.areaPathsFrom[Q]:U,pathTo:I.areaPathsTo[Q],strokeWidth:0,fill:ye,drawShadow:!1}));d.config.chart.dropShadow.enabled&&new xn(l.ctx).dropShadow(_e,Object.assign({},d.config.chart.dropShadow,{noUserSpaceOnUse:!0}),$),b.add(_e)}z.forEach(function(qe,ke){var xt=new Ae(l.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:$,dataPointIndex:ke}),nn=l.graphics.drawMarker(k[ke].x,k[ke].y,xt);nn.attr("rel",ke),nn.attr("j",ke),nn.attr("index",$),nn.node.setAttribute("default-marker-size",xt.pSize);var Sn=l.graphics.group({class:"apexcharts-series-markers"});Sn&&Sn.add(nn),O.add(Sn),b.add(O);var qn=d.config.dataLabels;if(qn.enabled){var Ci=qn.formatter(d.globals.series[$][ke],{seriesIndex:$,dataPointIndex:ke,w:d});g.plotDataLabelsText({x:k[ke].x,y:k[ke].y,text:Ci,textAnchor:"middle",i:$,j:$,parent:P,offsetCorrection:!1,dataLabelsConfig:ae({},qn)})}b.add(P)}),p.push(b)}),this.drawPolygons({parent:D}),d.config.xaxis.labels.show){var L=this.drawXAxisTexts();D.add(L)}return p.forEach(function(z){D.add(z)}),D.add(this.yaxisLabels),D}},{key:"drawPolygons",value:function(a){for(var l=this,d=this.w,h=a.parent,p=new ka(this.ctx),g=d.globals.yAxisScale[0].result.reverse(),m=g.length,v=[],w=this.size/(m-1),E=0;E<m;E++)v[E]=w*E;v.reverse();var D=[],k=[];v.forEach(function(O,P){var L=pe.getPolygonPos(O,l.dataPointsLen),z="";L.forEach(function($,K){if(0===P){var b=l.graphics.drawLine($.x,$.y,0,0,Array.isArray(l.polygons.connectorColors)?l.polygons.connectorColors[K]:l.polygons.connectorColors);k.push(b)}0===K&&l.yaxisLabelsTextsPos.push({x:$.x,y:$.y}),z+=$.x+","+$.y+" "}),D.push(z)}),D.forEach(function(O,P){var L=l.polygons.strokeColors,z=l.polygons.strokeWidth,$=l.graphics.drawPolygon(O,Array.isArray(L)?L[P]:L,Array.isArray(z)?z[P]:z,d.globals.radarPolygons.fill.colors[P]);h.add($)}),k.forEach(function(O){h.add(O)}),d.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(O,P){var L=p.drawYAxisTexts(O.x,O.y,P,g[P]);l.yaxisLabels.add(L)})}},{key:"drawXAxisTexts",value:function(){var a=this,l=this.w,d=l.config.xaxis.labels,h=this.graphics.group({class:"apexcharts-xaxis"}),p=pe.getPolygonPos(this.size,this.dataPointsLen);return l.globals.labels.forEach(function(g,m){var v=l.config.xaxis.labels.formatter,w=new Ue(a.ctx);if(p[m]){var E=a.getTextPos(p[m],a.size),D=v(g,{seriesIndex:-1,dataPointIndex:m,w:l});w.plotDataLabelsText({x:E.newX,y:E.newY,text:D,textAnchor:E.textAnchor,i:m,j:m,parent:h,color:Array.isArray(d.style.colors)&&d.style.colors[m]?d.style.colors[m]:"#a8a8a8",dataLabelsConfig:ae({textAnchor:E.textAnchor,dropShadow:{enabled:!1}},d),offsetCorrection:!1})}}),h}},{key:"createPaths",value:function(a,l){var d=this,h=[],p=[],g=[],m=[];if(a.length){p=[this.graphics.move(l.x,l.y)],m=[this.graphics.move(l.x,l.y)];var v=this.graphics.move(a[0].x,a[0].y),w=this.graphics.move(a[0].x,a[0].y);a.forEach(function(E,D){v+=d.graphics.line(E.x,E.y),w+=d.graphics.line(E.x,E.y),D===a.length-1&&(v+="Z",w+="Z")}),h.push(v),g.push(w)}return{linePathsFrom:p,linePathsTo:h,areaPathsFrom:m,areaPathsTo:g}}},{key:"getTextPos",value:function(a,l){var d="middle",h=a.x,p=a.y;return Math.abs(a.x)>=10?a.x>0?(d="start",h+=10):a.x<0&&(d="end",h-=10):d="middle",Math.abs(a.y)>=l-10&&(a.y<0?p-=10:a.y>0&&(p+=10)),{textAnchor:d,newX:h,newY:p}}},{key:"getPreviousPath",value:function(a){for(var l=this.w,d=null,h=0;h<l.globals.previousPaths.length;h++){var p=l.globals.previousPaths[h];p.paths.length>0&&parseInt(p.realIndex,10)===parseInt(a,10)&&void 0!==l.globals.previousPaths[h].paths[0]&&(d=l.globals.previousPaths[h].paths[0].d)}return d}},{key:"getDataPointsPos",value:function(a,l){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;a=a||[],l=l||[];for(var h=[],p=0;p<d;p++){var g={};g.x=a[p]*Math.sin(l[p]),g.y=-a[p]*Math.cos(l[p]),h.push(g)}return h}}]),V}(),ue=function(V){bn(l,po);var a=on(l);function l(d){var h;Ge(this,l),(h=a.call(this,d)).ctx=d,h.w=d.w,h.animBeginArr=[0],h.animDur=0;var p=h.w;return h.startAngle=p.config.plotOptions.radialBar.startAngle,h.endAngle=p.config.plotOptions.radialBar.endAngle,h.totalAngle=Math.abs(p.config.plotOptions.radialBar.endAngle-p.config.plotOptions.radialBar.startAngle),h.trackStartAngle=p.config.plotOptions.radialBar.track.startAngle,h.trackEndAngle=p.config.plotOptions.radialBar.track.endAngle,h.donutDataLabels=h.w.config.plotOptions.radialBar.dataLabels,h.radialDataLabels=h.donutDataLabels,h.trackStartAngle||(h.trackStartAngle=h.startAngle),h.trackEndAngle||(h.trackEndAngle=h.endAngle),360===h.endAngle&&(h.endAngle=359.99),h.margin=parseInt(p.config.plotOptions.radialBar.track.margin,10),h}return ut(l,[{key:"draw",value:function(d){var h=this.w,p=new Re(this.ctx),g=p.group({class:"apexcharts-radialbar"});if(h.globals.noData)return g;var m=p.group(),v=this.defaultSize/2,w=h.globals.gridWidth/2,E=this.defaultSize/2.05;h.config.chart.sparkline.enabled||(E=E-h.config.stroke.width-h.config.chart.dropShadow.blur);var D=h.globals.fill.colors;if(h.config.plotOptions.radialBar.track.show){var k=this.drawTracks({size:E,centerX:w,centerY:v,colorArr:D,series:d});m.add(k)}var O=this.drawArcs({size:E,centerX:w,centerY:v,colorArr:D,series:d}),P=360;h.config.plotOptions.radialBar.startAngle<0&&(P=this.totalAngle);var L=(360-P)/360;if(h.globals.radialSize=E-E*L,this.radialDataLabels.value.show){var z=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);h.globals.radialSize+=z*L}return m.add(O.g),"front"===h.config.plotOptions.radialBar.hollow.position&&(O.g.add(O.elHollow),O.dataLabels&&O.g.add(O.dataLabels)),g.add(m),g}},{key:"drawTracks",value:function(d){var h=this.w,p=new Re(this.ctx),g=p.group({class:"apexcharts-tracks"}),m=new xn(this.ctx),v=new ve(this.ctx),w=this.getStrokeWidth(d);d.size=d.size-w/2;for(var E=0;E<d.series.length;E++){var D=p.group({class:"apexcharts-radialbar-track apexcharts-track"});g.add(D),D.attr({rel:E+1}),d.size=d.size-w-this.margin;var k=h.config.plotOptions.radialBar.track,O=v.fillPath({seriesNumber:0,size:d.size,fillColors:Array.isArray(k.background)?k.background[E]:k.background,solid:!0}),P=this.trackStartAngle,L=this.trackEndAngle;Math.abs(L)+Math.abs(P)>=360&&(L=360-Math.abs(this.startAngle)-.1);var z=p.drawPath({d:"",stroke:O,strokeWidth:w*parseInt(k.strokeWidth,10)/100,fill:"none",strokeOpacity:k.opacity,classes:"apexcharts-radialbar-area"});k.dropShadow.enabled&&m.dropShadow(z,k.dropShadow),D.add(z),z.attr("id","apexcharts-radialbarTrack-"+E),this.animatePaths(z,{centerX:d.centerX,centerY:d.centerY,endAngle:L,startAngle:P,size:d.size,i:E,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:h.globals.easing})}return g}},{key:"drawArcs",value:function(d){var h=this.w,p=new Re(this.ctx),g=new ve(this.ctx),m=new xn(this.ctx),v=p.group(),w=this.getStrokeWidth(d);d.size=d.size-w/2;var E=h.config.plotOptions.radialBar.hollow.background,D=d.size-w*d.series.length-this.margin*d.series.length-w*parseInt(h.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,k=D-h.config.plotOptions.radialBar.hollow.margin;void 0!==h.config.plotOptions.radialBar.hollow.image&&(E=this.drawHollowImage(d,v,D,E));var O=this.drawHollow({size:k,centerX:d.centerX,centerY:d.centerY,fill:E||"transparent"});h.config.plotOptions.radialBar.hollow.dropShadow.enabled&&m.dropShadow(O,h.config.plotOptions.radialBar.hollow.dropShadow);var L=1;!this.radialDataLabels.total.show&&h.globals.series.length>1&&(L=0);var z=null;this.radialDataLabels.show&&(z=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:D,centerX:d.centerX,centerY:d.centerY,opacity:L})),"back"===h.config.plotOptions.radialBar.hollow.position&&(v.add(O),z&&v.add(z));var $=!1;h.config.plotOptions.radialBar.inverseOrder&&($=!0);for(var K=$?d.series.length-1:0;$?K>=0:K<d.series.length;$?K--:K++){var b=p.group({class:"apexcharts-series apexcharts-radial-series",seriesName:pe.escapeString(h.globals.seriesNames[K])});v.add(b),b.attr({rel:K+1,"data:realIndex":K}),this.ctx.series.addCollapsedClassToSeries(b,K),d.size=d.size-w-this.margin;var I=g.fillPath({seriesNumber:K,size:d.size,value:d.series[K]}),N=this.startAngle,U=void 0,Q=pe.negToZero(d.series[K]>100?100:d.series[K])/100,q=Math.round(this.totalAngle*Q)+this.startAngle,ye=void 0;h.globals.dataChanged&&(U=this.startAngle,ye=Math.round(this.totalAngle*pe.negToZero(h.globals.previousPaths[K])/100)+U),Math.abs(q)+Math.abs(N)>=360&&(q-=.01),Math.abs(ye)+Math.abs(U)>=360&&(ye-=.01);var _e=q-N,Oe=Array.isArray(h.config.stroke.dashArray)?h.config.stroke.dashArray[K]:h.config.stroke.dashArray,ce=p.drawPath({d:"",stroke:I,strokeWidth:w,fill:"none",fillOpacity:h.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+K,strokeDashArray:Oe});Re.setAttrs(ce.node,{"data:angle":_e,"data:value":d.series[K]}),h.config.chart.dropShadow.enabled&&m.dropShadow(ce,h.config.chart.dropShadow,K),m.setSelectionFilter(ce,0,K),this.addListeners(ce,this.radialDataLabels),b.add(ce),ce.attr({index:0,j:K});var ke=0;!this.initialAnim||h.globals.resized||h.globals.dataChanged||(ke=h.config.chart.animations.speed),h.globals.dataChanged&&(ke=h.config.chart.animations.dynamicAnimation.speed),this.animDur=ke/(1.2*d.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(ce,{centerX:d.centerX,centerY:d.centerY,endAngle:q,startAngle:N,prevEndAngle:ye,prevStartAngle:U,size:d.size,i:K,totalItems:2,animBeginArr:this.animBeginArr,dur:ke,shouldSetPrevPaths:!0,easing:h.globals.easing})}return{g:v,elHollow:O,dataLabels:z}}},{key:"drawHollow",value:function(d){var h=new Re(this.ctx).drawCircle(2*d.size);return h.attr({class:"apexcharts-radialbar-hollow",cx:d.centerX,cy:d.centerY,r:d.size,fill:d.fill}),h}},{key:"drawHollowImage",value:function(d,h,p,g){var m=this.w,v=new ve(this.ctx),w=pe.randomId(),E=m.config.plotOptions.radialBar.hollow.image;if(m.config.plotOptions.radialBar.hollow.imageClipped)v.clippedImgArea({width:p,height:p,image:E,patternID:"pattern".concat(m.globals.cuid).concat(w)}),g="url(#pattern".concat(m.globals.cuid).concat(w,")");else{var D=m.config.plotOptions.radialBar.hollow.imageWidth,k=m.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===D&&void 0===k){var O=m.globals.dom.Paper.image(E).loaded(function(L){this.move(d.centerX-L.width/2+m.config.plotOptions.radialBar.hollow.imageOffsetX,d.centerY-L.height/2+m.config.plotOptions.radialBar.hollow.imageOffsetY)});h.add(O)}else{var P=m.globals.dom.Paper.image(E).loaded(function(L){this.move(d.centerX-D/2+m.config.plotOptions.radialBar.hollow.imageOffsetX,d.centerY-k/2+m.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(D,k)});h.add(P)}}return g}},{key:"getStrokeWidth",value:function(d){return d.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(d.series.length+1)-this.margin}}]),l}(),Y=function(V){bn(l,Pi);var a=on(l);function l(){return Ge(this,l),a.apply(this,arguments)}return ut(l,[{key:"draw",value:function(d,h){var p=this.w,g=new Re(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=d,this.seriesRangeStart=p.globals.seriesRangeStart,this.seriesRangeEnd=p.globals.seriesRangeEnd,this.barHelpers.initVariables(d);for(var m=g.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),v=0;v<d.length;v++){var w,E,D,k,O=void 0,P=void 0,L=p.globals.comboCharts?h[v]:v,z=g.group({class:"apexcharts-series",seriesName:pe.escapeString(p.globals.seriesNames[L]),rel:v+1,"data:realIndex":L});this.ctx.series.addCollapsedClassToSeries(z,L),d[v].length>0&&(this.visibleI=this.visibleI+1);var $=0,K=0;this.yRatio.length>1&&(this.yaxisIndex=L);var b=this.barHelpers.initialPositions();P=b.y,k=b.zeroW,O=b.x,K=b.barWidth,$=b.barHeight,w=b.xDivision,E=b.yDivision,D=b.zeroH;for(var I=g.group({class:"apexcharts-datalabels","data:realIndex":L}),N=g.group({class:"apexcharts-rangebar-goals-markers"}),U=0;U<p.globals.dataPoints;U++){var Q,q=this.barHelpers.getStrokeWidth(v,U,L),ye=this.seriesRangeStart[v][U],_e=this.seriesRangeEnd[v][U],Oe=null,ce=null,qe=null,ke={x:O,y:P,strokeWidth:q,elSeries:z},xt=this.seriesLen;if(p.config.plotOptions.bar.rangeBarGroupRows&&(xt=1),void 0===p.config.series[v].data[U])break;if(this.isHorizontal){if(qe=P+$*this.visibleI,p.config.series[v].data[U].x){var Sn=this.detectOverlappingBars({i:v,j:U,barYPosition:qe,srty:(E-$*xt)/2,barHeight:$,yDivision:E,initPositions:b});$=Sn.barHeight,qe=Sn.barYPosition}K=(Oe=this.drawRangeBarPaths(ae({indexes:{i:v,j:U,realIndex:L},barHeight:$,barYPosition:qe,zeroW:k,yDivision:E,y1:ye,y2:_e},ke))).barWidth}else{if(p.globals.isXNumeric&&(O=(p.globals.seriesX[v][U]-p.globals.minX)/this.xRatio-K/2),ce=O+K*this.visibleI,p.config.series[v].data[U].x){var Ci=this.detectOverlappingBars({i:v,j:U,barXPosition:ce,srtx:(w-K*xt)/2,barWidth:K,xDivision:w,initPositions:b});K=Ci.barWidth,ce=Ci.barXPosition}$=(Oe=this.drawRangeColumnPaths(ae({indexes:{i:v,j:U,realIndex:L},barWidth:K,barXPosition:ce,zeroH:D,xDivision:w},ke))).barHeight}var si=this.barHelpers.drawGoalLine({barXPosition:Oe.barXPosition,barYPosition:qe,goalX:Oe.goalX,goalY:Oe.goalY,barHeight:$,barWidth:K});si&&N.add(si),P=Oe.y,O=Oe.x;var Hi=this.barHelpers.getPathFillColor(d,v,U,L);this.renderSeries((Vn(Q={realIndex:L,pathFill:Hi,lineFill:p.globals.stroke.colors[L],j:U,i:v,x:O,y:P,y1:ye,y2:_e,pathFrom:Oe.pathFrom,pathTo:Oe.pathTo,strokeWidth:q,elSeries:z,series:d,barHeight:$,barWidth:K,barXPosition:ce,barYPosition:qe},"barWidth",K),Vn(Q,"elDataLabelsWrap",I),Vn(Q,"elGoalsMarkers",N),Vn(Q,"visibleSeries",this.visibleI),Vn(Q,"type","rangebar"),Q))}m.add(z)}return m}},{key:"detectOverlappingBars",value:function(d){var h=d.i,p=d.j,g=d.barYPosition,m=d.barXPosition,v=d.srty,w=d.srtx,E=d.barHeight,D=d.barWidth,k=d.yDivision,O=d.xDivision,P=d.initPositions,L=this.w,z=[],$=L.config.series[h].data[p].rangeName,K=L.config.series[h].data[p].x,b=Array.isArray(K)?K.join(" "):K,I=L.globals.labels.map(function(U){return Array.isArray(U)?U.join(" "):U}).indexOf(b),N=L.globals.seriesRange[h].findIndex(function(U){return U.x===b&&U.overlaps.length>0});return this.isHorizontal?(g=L.config.plotOptions.bar.rangeBarGroupRows?v+k*I:v+E*this.visibleI+k*I,N>-1&&!L.config.plotOptions.bar.rangeBarOverlap&&(z=L.globals.seriesRange[h][N].overlaps).indexOf($)>-1&&(g=(E=P.barHeight/z.length)*this.visibleI+k*(100-parseInt(this.barOptions.barHeight,10))/100/2+E*(this.visibleI+z.indexOf($))+k*I)):(I>-1&&(m=L.config.plotOptions.bar.rangeBarGroupRows?w+O*I:w+D*this.visibleI+O*I),N>-1&&!L.config.plotOptions.bar.rangeBarOverlap&&(z=L.globals.seriesRange[h][N].overlaps).indexOf($)>-1&&(m=(D=P.barWidth/z.length)*this.visibleI+O*(100-parseInt(this.barOptions.barWidth,10))/100/2+D*(this.visibleI+z.indexOf($))+O*I)),{barYPosition:g,barXPosition:m,barHeight:E,barWidth:D}}},{key:"drawRangeColumnPaths",value:function(d){var h=d.indexes,p=d.x,g=d.xDivision,m=d.barWidth,v=d.barXPosition,w=d.zeroH,E=this.w,D=h.i,k=h.j,O=this.yRatio[this.yaxisIndex],P=h.realIndex,L=this.getRangeValue(P,k),z=Math.min(L.start,L.end),$=Math.max(L.start,L.end);null==this.series[D][k]?z=w:(z=w-z/O,$=w-$/O);var K=Math.abs($-z),b=this.barHelpers.getColumnPaths({barXPosition:v,barWidth:m,y1:z,y2:$,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:h.realIndex,i:P,j:k,w:E});if(E.globals.isXNumeric){var I=this.getBarXForNumericXAxis({x:p,j:k,realIndex:P,barWidth:m});p=I.x,v=I.barXPosition}else p+=g;return{pathTo:b.pathTo,pathFrom:b.pathFrom,barHeight:K,x:p,y:$,goalY:this.barHelpers.getGoalValues("y",null,w,D,k),barXPosition:v}}},{key:"drawRangeBarPaths",value:function(d){var h=d.indexes,p=d.y,v=d.yDivision,w=d.barHeight,E=d.barYPosition,D=d.zeroW,k=this.w,O=D+d.y1/this.invertedYRatio,P=D+d.y2/this.invertedYRatio,L=Math.abs(P-O),z=this.barHelpers.getBarpaths({barYPosition:E,barHeight:w,x1:O,x2:P,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:h.realIndex,realIndex:h.realIndex,j:h.j,w:k});return k.globals.isXNumeric||(p+=v),{pathTo:z.pathTo,pathFrom:z.pathFrom,barWidth:L,x:P,goalX:this.barHelpers.getGoalValues("x",D,null,h.realIndex,h.j),y:p}}},{key:"getRangeValue",value:function(d,h){var p=this.w;return{start:p.globals.seriesRangeStart[d][h],end:p.globals.seriesRangeEnd[d][h]}}}]),l}(),J=function(){function V(a){Ge(this,V),this.w=a.w,this.lineCtx=a}return ut(V,[{key:"sameValueSeriesFix",value:function(a,l){var d=this.w;if(("gradient"===d.config.fill.type||"gradient"===d.config.fill.type[a])&&new Yt(this.lineCtx.ctx,d).seriesHaveSameValues(a)){var h=l[a].slice();h[h.length-1]=h[h.length-1]+1e-6,l[a]=h}return l}},{key:"calculatePoints",value:function(a){var l=a.series,h=a.x,p=a.y,g=a.i,m=a.j,v=a.prevY,w=this.w,E=[],D=[];if(0===m){var k=this.lineCtx.categoryAxisCorrection+w.config.markers.offsetX;w.globals.isXNumeric&&(k=(w.globals.seriesX[a.realIndex][0]-w.globals.minX)/this.lineCtx.xRatio+w.config.markers.offsetX),E.push(k),D.push(pe.isNumber(l[g][0])?v+w.config.markers.offsetY:null),E.push(h+w.config.markers.offsetX),D.push(pe.isNumber(l[g][m+1])?p+w.config.markers.offsetY:null)}else E.push(h+w.config.markers.offsetX),D.push(pe.isNumber(l[g][m+1])?p+w.config.markers.offsetY:null);return{x:E,y:D}}},{key:"checkPreviousPaths",value:function(a){for(var l=a.pathFromLine,d=a.pathFromArea,h=a.realIndex,p=this.w,g=0;g<p.globals.previousPaths.length;g++){var m=p.globals.previousPaths[g];("line"===m.type||"area"===m.type)&&m.paths.length>0&&parseInt(m.realIndex,10)===parseInt(h,10)&&("line"===m.type?(this.lineCtx.appendPathFrom=!1,l=p.globals.previousPaths[g].paths[0].d):"area"===m.type&&(this.lineCtx.appendPathFrom=!1,d=p.globals.previousPaths[g].paths[0].d,p.config.stroke.show&&p.globals.previousPaths[g].paths[1]&&(l=p.globals.previousPaths[g].paths[1].d)))}return{pathFromLine:l,pathFromArea:d}}},{key:"determineFirstPrevY",value:function(a){var l,d=a.i,h=a.series,p=a.prevY,g=a.lineYPosition,m=this.w;if(void 0!==(null===(l=h[d])||void 0===l?void 0:l[0]))p=(g=m.config.chart.stacked&&d>0?this.lineCtx.prevSeriesY[d-1][0]:this.lineCtx.zeroY)-h[d][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?h[d][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(m.config.chart.stacked&&d>0&&void 0===h[d][0])for(var v=d-1;v>=0;v--)if(null!=h[v][0]){p=g=this.lineCtx.prevSeriesY[v][0];break}return{prevY:p,lineYPosition:g}}}]),V}(),he=function(V){for(var a="",l=0;l<V.length;l++){var d=V[l],h=V[l-1],p=d.length,g=h?.length;l>1&&Math.abs(d[p-2]-h[g-2])<30?(a+="Q".concat(d[0],", ").concat(d[1]),a+=", ".concat(d[2],", ").concat(d[3])):p>4?(a+="C".concat(d[0],", ").concat(d[1]),a+=", ".concat(d[2],", ").concat(d[3]),a+=", ".concat(d[4],", ").concat(d[5])):p>2&&(a+="S".concat(d[0],", ").concat(d[1]),a+=", ".concat(d[2],", ").concat(d[3]))}return a},ze=function(V){var a=function(V){for(var a,l,d,h,p=function(E){for(var D=[],k=E[0],O=E[1],P=D[0]=St(k,O),L=1,z=E.length-1;L<z;L++)D[L]=.5*(P+(P=St(k=O,O=E[L+1])));return D[L]=P,D}(V),g=V.length-1,m=[],v=0;v<g;v++)d=St(V[v],V[v+1]),Math.abs(d)<1e-6?p[v]=p[v+1]=0:(h=(a=p[v]/d)*a+(l=p[v+1]/d)*l)>9&&(h=3*d/Math.sqrt(h),p[v]=h*a,p[v+1]=h*l);for(var w=0;w<=g;w++)h=(V[Math.min(g,w+1)][0]-V[Math.max(0,w-1)][0])/(6*(1+p[w]*p[w])),m.push([h||0,p[w]*h||0]);return m}(V),l=V[1],d=V[0],h=[],p=a[1],g=a[0];h.push(d,[d[0]+g[0],d[1]+g[1],l[0]-p[0],l[1]-p[1],l[0],l[1]]);for(var m=2,v=a.length;m<v;m++){var w=V[m],E=a[m];h.push([w[0]-E[0],w[1]-E[1],w[0],w[1]])}return h};function St(V,a){return(a[1]-V[1])/(a[0]-V[0])}var vt=function(){function V(a,l,d){Ge(this,V),this.ctx=a,this.w=a.w,this.xyRatios=l,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||d,this.scatter=new et(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new J(this),this.markers=new Ae(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return ut(V,[{key:"draw",value:function(a,l,d,h){var p,g=this.w,m=new Re(this.ctx),v=g.globals.comboCharts?l:g.config.chart.type,w=m.group({class:"apexcharts-".concat(v,"-series apexcharts-plot-series")}),E=new Yt(this.ctx,g);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,a=E.getLogSeries(a),this.yRatio=E.getLogYRatios(this.yRatio);for(var D=[],k=0;k<a.length;k++){a=this.lineHelpers.sameValueSeriesFix(k,a);var O=g.globals.comboCharts?d[k]:k;this._initSerieVariables(a,k,O);var P=[],L=[],z=[],$=g.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,O),g.globals.isXNumeric&&g.globals.seriesX.length>0&&($=(g.globals.seriesX[O][0]-g.globals.minX)/this.xRatio),z.push($);var K=$,b=this.zeroY,I=this.zeroY;b=this.lineHelpers.determineFirstPrevY({i:k,series:a,prevY:b,lineYPosition:0}).prevY,P.push("smooth"===g.config.stroke.curve&&null===a[k][0]?null:b),"rangeArea"===v&&(I=this.lineHelpers.determineFirstPrevY({i:k,series:h,prevY:I,lineYPosition:0}).prevY,L.push(I));var N={type:v,series:a,realIndex:O,i:k,x:$,y:1,pathsFrom:this._calculatePathsFrom({type:v,series:a,i:k,realIndex:O,prevX:K,prevY:b,prevY2:I}),linePaths:[],areaPaths:[],seriesIndex:d,lineYPosition:0,xArrj:z,yArrj:P,y2Arrj:L,seriesRangeEnd:h},U=this._iterateOverDataPoints(ae(ae({},N),{},{iterations:"rangeArea"===v?a[k].length-1:void 0,isRangeStart:!0}));if("rangeArea"===v){var Q=this._calculatePathsFrom({series:h,i:k,realIndex:O,prevX:K,prevY:I}),q=this._iterateOverDataPoints(ae(ae({},N),{},{series:h,pathsFrom:Q,iterations:h[k].length-1,isRangeStart:!1}));U.linePaths[0]=q.linePath+U.linePath,U.pathFromLine=q.pathFromLine+U.pathFromLine}this._handlePaths({type:v,realIndex:O,i:k,paths:U}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),D.push(this.elSeries)}if(void 0!==(null===(p=g.config.series[0])||void 0===p?void 0:p.zIndex)&&D.sort(function(Oe,ce){return Number(Oe.node.getAttribute("zIndex"))-Number(ce.node.getAttribute("zIndex"))}),g.config.chart.stacked)for(var ye=D.length;ye>0;ye--)w.add(D[ye-1]);else for(var _e=0;_e<D.length;_e++)w.add(D[_e]);return w}},{key:"_initSerieVariables",value:function(a,l,d){var h=this.w,p=new Re(this.ctx);this.xDivision=h.globals.gridWidth/(h.globals.dataPoints-("on"===h.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(h.config.stroke.width)?h.config.stroke.width[d]:h.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=d),this.isReversed=h.config.yaxis[this.yaxisIndex]&&h.config.yaxis[this.yaxisIndex].reversed,this.zeroY=h.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?h.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>h.globals.gridHeight||"end"===h.config.plotOptions.area.fillTo)&&(this.areaBottomY=h.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=p.group({class:"apexcharts-series",zIndex:void 0!==h.config.series[d].zIndex?h.config.series[d].zIndex:d,seriesName:pe.escapeString(h.globals.seriesNames[d])}),this.elPointsMain=p.group({class:"apexcharts-series-markers-wrap","data:realIndex":d}),this.elDataLabelsWrap=p.group({class:"apexcharts-datalabels","data:realIndex":d}),this.elSeries.attr({"data:longestSeries":a[l].length===h.globals.dataPoints,rel:l+1,"data:realIndex":d}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(a){var l,d,h,p,g=a.type,m=a.series,v=a.i,w=a.realIndex,E=a.prevX,D=a.prevY,k=a.prevY2,O=this.w,P=new Re(this.ctx);if(null===m[v][0]){for(var L=0;L<m[v].length;L++)if(null!==m[v][L]){l=P.move(E=this.xDivision*L,D=this.zeroY-m[v][L]/this.yRatio[this.yaxisIndex]),d=P.move(E,this.areaBottomY);break}}else l=P.move(E,D),"rangeArea"===g&&(l=P.move(E,k)+P.line(E,D)),d=P.move(E,this.areaBottomY)+P.line(E,D);if(h=P.move(-1,this.zeroY)+P.line(-1,this.zeroY),p=P.move(-1,this.zeroY)+P.line(-1,this.zeroY),O.globals.previousPaths.length>0){var z=this.lineHelpers.checkPreviousPaths({pathFromLine:h,pathFromArea:p,realIndex:w});h=z.pathFromLine,p=z.pathFromArea}return{prevX:E,prevY:D,linePath:l,areaPath:d,pathFromLine:h,pathFromArea:p}}},{key:"_handlePaths",value:function(a){var l=a.type,d=a.realIndex,h=a.i,p=a.paths,g=this.w,m=new Re(this.ctx),v=new ve(this.ctx);this.prevSeriesY.push(p.yArrj),g.globals.seriesXvalues[d]=p.xArrj,g.globals.seriesYvalues[d]=p.yArrj;var w=g.config.forecastDataPoints;if(w.count>0&&"rangeArea"!==l){var E=g.globals.seriesXvalues[d][g.globals.seriesXvalues[d].length-w.count-1],D=m.drawRect(E,0,g.globals.gridWidth,g.globals.gridHeight,0);g.globals.dom.elForecastMask.appendChild(D.node);var k=m.drawRect(0,0,E,g.globals.gridHeight,0);g.globals.dom.elNonForecastMask.appendChild(k.node)}this.pointsChart||g.globals.delayedElements.push({el:this.elPointsMain.node,index:d});var O={i:h,realIndex:d,animationDelay:h,initialSpeed:g.config.chart.animations.speed,dataChangeSpeed:g.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(l)};if("area"===l)for(var P=v.fillPath({seriesNumber:d}),L=0;L<p.areaPaths.length;L++){var z=m.renderPaths(ae(ae({},O),{},{pathFrom:p.pathFromArea,pathTo:p.areaPaths[L],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:P}));this.elSeries.add(z)}if(g.config.stroke.show&&!this.pointsChart){var $=null;if("line"===l)$=v.fillPath({seriesNumber:d,i:h});else if("solid"===g.config.stroke.fill.type)$=g.globals.stroke.colors[d];else{var K=g.config.fill;g.config.fill=g.config.stroke.fill,$=v.fillPath({seriesNumber:d,i:h}),g.config.fill=K}for(var b=0;b<p.linePaths.length;b++){var I=$;"rangeArea"===l&&(I=v.fillPath({seriesNumber:d}));var N=ae(ae({},O),{},{pathFrom:p.pathFromLine,pathTo:p.linePaths[b],stroke:$,strokeWidth:this.strokeWidth,strokeLineCap:g.config.stroke.lineCap,fill:"rangeArea"===l?I:"none"}),U=m.renderPaths(N);if(this.elSeries.add(U),U.attr("fill-rule","evenodd"),w.count>0&&"rangeArea"!==l){var Q=m.renderPaths(N);Q.node.setAttribute("stroke-dasharray",w.dashArray),w.strokeWidth&&Q.node.setAttribute("stroke-width",w.strokeWidth),this.elSeries.add(Q),Q.attr("clip-path","url(#forecastMask".concat(g.globals.cuid,")")),U.attr("clip-path","url(#nonForecastMask".concat(g.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(a){var l=this,d=a.type,h=a.series,p=a.iterations,g=a.realIndex,m=a.i,v=a.x,w=a.y,E=a.pathsFrom,D=a.linePaths,k=a.areaPaths,O=a.seriesIndex,P=a.lineYPosition,L=a.xArrj,z=a.yArrj,$=a.y2Arrj,K=a.isRangeStart,b=a.seriesRangeEnd,I=this.w,N=new Re(this.ctx),U=this.yRatio,Q=E.prevY,q=E.linePath,ye=E.areaPath,_e=E.pathFromLine,Oe=E.pathFromArea,ce=pe.isNumber(I.globals.minYArr[g])?I.globals.minYArr[g]:I.globals.minY;p||(p=I.globals.dataPoints>1?I.globals.dataPoints-1:I.globals.dataPoints);for(var qe=function(si,Hi){return Hi-si/U[l.yaxisIndex]+2*(l.isReversed?si/U[l.yaxisIndex]:0)},ke=w,xt=0;xt<p;xt++){var nn=null==h[m][xt+1];if(I.globals.isXNumeric){var Sn=I.globals.seriesX[g][xt+1];void 0===I.globals.seriesX[g][xt+1]&&(Sn=I.globals.seriesX[g][p-1]),v=(Sn-I.globals.minX)/this.xRatio}else v+=this.xDivision;P=I.config.chart.stacked&&m>0&&I.globals.collapsedSeries.length<I.config.series.length-1?this.prevSeriesY[function(si){for(var Hi=si,xs=0;xs<I.globals.series.length;xs++)if(I.globals.collapsedSeriesIndices.indexOf(si)>-1){Hi--;break}return Hi>=0?Hi:0}(m-1)][xt+1]:this.zeroY,nn?w=qe(ce,P):(w=qe(h[m][xt+1],P),"rangeArea"===d&&(ke=qe(b[m][xt+1],P))),L.push(v),z.push(nn&&"smooth"===I.config.stroke.curve?null:w),$.push(ke);var qn=this.lineHelpers.calculatePoints({series:h,x:v,y:w,realIndex:g,i:m,j:xt,prevY:Q}),Ci=this._createPaths({type:d,series:h,i:m,realIndex:g,j:xt,x:v,y:w,y2:ke,xArrj:L,yArrj:z,y2Arrj:$,linePath:q,areaPath:ye,linePaths:D,areaPaths:k,seriesIndex:O,isRangeStart:K});k=Ci.areaPaths,D=Ci.linePaths,ye=Ci.areaPath,q=Ci.linePath,!this.appendPathFrom||"smooth"===I.config.stroke.curve&&"rangeArea"===d||(_e+=N.line(v,this.zeroY),Oe+=N.line(v,this.zeroY)),this.handleNullDataPoints(h,qn,m,xt,g),this._handleMarkersAndLabels({type:d,pointsPos:qn,i:m,j:xt,realIndex:g,isRangeStart:K})}return{yArrj:z,xArrj:L,pathFromArea:Oe,areaPaths:k,pathFromLine:_e,linePaths:D,linePath:q,areaPath:ye}}},{key:"_handleMarkersAndLabels",value:function(a){var l=a.type,d=a.pointsPos,h=a.isRangeStart,p=a.i,g=a.j,m=a.realIndex,v=this.w,w=new Ue(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,g,{realIndex:m,pointsPos:d,zRatio:this.zRatio,elParent:this.elPointsMain});else{v.globals.series[p].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var E=this.markers.plotChartMarkers(d,m,g+1);null!==E&&this.elPointsMain.add(E)}var D=w.drawDataLabel({type:l,isRangeStart:h,pos:d,i:m,j:g+1});null!==D&&this.elDataLabelsWrap.add(D)}},{key:"_createPaths",value:function(a){var l=a.type,d=a.series,h=a.i,p=a.realIndex,g=a.j,m=a.x,v=a.y,w=a.xArrj,E=a.yArrj,D=a.y2,k=a.y2Arrj,O=a.linePath,P=a.areaPath,L=a.linePaths,z=a.areaPaths,$=a.seriesIndex,K=a.isRangeStart,b=this.w,I=new Re(this.ctx),N=b.config.stroke.curve,U=this.areaBottomY;if(Array.isArray(b.config.stroke.curve)&&(N=Array.isArray($)?b.config.stroke.curve[$[h]]:b.config.stroke.curve[h]),"rangeArea"===l&&(b.globals.hasNullValues||b.config.forecastDataPoints.count>0)&&"smooth"===N&&(N="straight"),"smooth"===N){var Q="rangeArea"===l?w.length===b.globals.dataPoints:g===d[h].length-2,q=w.map(function(xt,nn){return[w[nn],E[nn]]}).filter(function(xt){return null!==xt[1]});if(Q&&q.length>1){var ye=ze(q);if(O+=he(ye),null===d[h][0]?P=O:P+=he(ye),"rangeArea"===l&&K){O+=I.line(w[w.length-1],k[k.length-1]);var _e=w.slice().reverse(),Oe=k.slice().reverse(),ce=_e.map(function(xt,nn){return[_e[nn],Oe[nn]]}),qe=ze(ce);P=O+=he(qe)}else P+=I.line(q[q.length-1][0],U)+I.line(q[0][0],U)+I.move(q[0][0],q[0][1])+"z";L.push(O),z.push(P)}}else null===d[h][g+1]&&(O+=I.move(m,v),P=P+I.line(b.globals.isXNumeric?(b.globals.seriesX[p][g]-b.globals.minX)/this.xRatio:m-this.xDivision,U)+I.move(m,v)+"z"),null===d[h][g]&&(O+=I.move(m,v),P+=I.move(m,U)),"stepline"===N?(O=O+I.line(m,null,"H")+I.line(null,v,"V"),P=P+I.line(m,null,"H")+I.line(null,v,"V")):"straight"===N&&(O+=I.line(m,v),P+=I.line(m,v)),g===d[h].length-2&&(P=P+I.line(m,U)+I.move(m,v)+"z","rangeArea"===l&&K?O=O+I.line(m,D)+I.move(m,D)+"z":(L.push(O),z.push(P)));return{linePaths:L,areaPaths:z,linePath:O,areaPath:P}}},{key:"handleNullDataPoints",value:function(a,l,d,h,p){var g=this.w;if(null===a[d][h]&&g.config.markers.showNullDataPoints||1===a[d].length){var m=this.markers.plotChartMarkers(l,p,h+1,this.strokeWidth-g.config.markers.strokeWidth/2,!0);null!==m&&this.elPointsMain.add(m)}}}]),V}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function V(m,v,w,E){this.xoffset=m,this.yoffset=v,this.height=E,this.width=w,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(D){var k,O=[],P=this.xoffset,L=this.yoffset,z=p(D)/this.height,$=p(D)/this.width;if(this.width>=this.height)for(k=0;k<D.length;k++)O.push([P,L,P+z,L+D[k]/z]),L+=D[k]/z;else for(k=0;k<D.length;k++)O.push([P,L,P+D[k]/$,L+$]),P+=D[k]/$;return O},this.cutArea=function(D){var k;if(this.width>=this.height){var O=D/this.height;k=new V(this.xoffset+O,this.yoffset,this.width-O,this.height)}else{var L=D/this.width;k=new V(this.xoffset,this.yoffset+L,this.width,this.height-L)}return k}}function a(m,v,w,E,D){return E=void 0===E?0:E,D=void 0===D?0:D,function(O){var P,L,z=[];for(P=0;P<O.length;P++)for(L=0;L<O[P].length;L++)z.push(O[P][L]);return z}(l(function(O,P){var L,z=[],$=P/p(O);for(L=0;L<O.length;L++)z[L]=O[L]*$;return z}(m,v*w),[],new V(E,D,v,w),[]))}function l(m,v,w,E){var D,k,O,P,L,z,$;if(0!==m.length)return D=w.shortestEdge(),L=k=m[0],z=D,0===(P=v).length||(($=P.slice()).push(L),d(P,z)>=d($,z))?(v.push(k),l(m.slice(1),v,w,E)):(O=w.cutArea(p(v),E),E.push(w.getCoordinates(v)),l(m,[],O,E)),E;E.push(w.getCoordinates(v))}function d(m,v){var w=Math.min.apply(Math,m),E=Math.max.apply(Math,m),D=p(m);return Math.max(Math.pow(v,2)*E/Math.pow(D,2),Math.pow(D,2)/(Math.pow(v,2)*w))}function h(m){return m&&m.constructor===Array}function p(m){var v,w=0;for(v=0;v<m.length;v++)w+=m[v];return w}function g(m){var v,w=0;if(h(m[0]))for(v=0;v<m.length;v++)w+=g(m[v]);else w=p(m);return w}return function m(v,w,E,D,k){D=void 0===D?0:D,k=void 0===k?0:k;var O,P,L=[],z=[];if(h(v[0])){for(P=0;P<v.length;P++)L[P]=g(v[P]);for(O=a(L,w,E,D,k),P=0;P<v.length;P++)z.push(m(v[P],O[P][2]-O[P][0],O[P][3]-O[P][1],O[P][0],O[P][1]))}else z=a(v,w,E,D,k);return z}}();var tn,ri,Dt=function(){function V(a,l){Ge(this,V),this.ctx=a,this.w=a.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Xa(a),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return ut(V,[{key:"draw",value:function(a){var l=this,d=this.w,h=new Re(this.ctx),p=new ve(this.ctx),g=h.group({class:"apexcharts-treemap"});if(d.globals.noData)return g;var m=[];return a.forEach(function(v){var w=v.map(function(E){return Math.abs(E)});m.push(w)}),this.negRange=this.helpers.checkColorRange(),d.config.series.forEach(function(v,w){v.data.forEach(function(E){Array.isArray(l.labels[w])||(l.labels[w]=[]),l.labels[w].push(E.x)})}),window.TreemapSquared.generate(m,d.globals.gridWidth,d.globals.gridHeight).forEach(function(v,w){var E=h.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:pe.escapeString(d.globals.seriesNames[w]),rel:w+1,"data:realIndex":w});if(d.config.chart.dropShadow.enabled){var D=d.config.chart.dropShadow;new xn(l.ctx).dropShadow(g,D,w)}var k=h.group({class:"apexcharts-data-labels"});v.forEach(function(O,P){var L=O[0],z=O[1],$=O[2],K=O[3],b=h.drawRect(L,z,$-L,K-z,0,"#fff",1,l.strokeWidth,d.config.plotOptions.treemap.useFillColorAsStroke?N:d.globals.stroke.colors[w]);b.attr({cx:L,cy:z,index:w,i:w,j:P,width:$-L,height:K-z});var I=l.helpers.getShadeColor(d.config.chart.type,w,P,l.negRange),N=I.color;void 0!==d.config.series[w].data[P]&&d.config.series[w].data[P].fillColor&&(N=d.config.series[w].data[P].fillColor);var U=p.fillPath({color:N,seriesNumber:w,dataPointIndex:P});b.node.classList.add("apexcharts-treemap-rect"),b.attr({fill:U}),l.helpers.addListeners(b);var Q={x:L+($-L)/2,y:z+(K-z)/2,width:0,height:0},q={x:L,y:z,width:$-L,height:K-z};if(d.config.chart.animations.enabled&&!d.globals.dataChanged){var ye=1;d.globals.resized||(ye=d.config.chart.animations.speed),l.animateTreemap(b,Q,q,ye)}d.globals.dataChanged&&l.dynamicAnim.enabled&&d.globals.shouldAnimate&&(d.globals.previousPaths[w]&&d.globals.previousPaths[w][P]&&d.globals.previousPaths[w][P].rect&&(Q=d.globals.previousPaths[w][P].rect),l.animateTreemap(b,Q,q,l.dynamicAnim.speed));var Oe=l.getFontSize(O),ce=d.config.dataLabels.formatter(l.labels[w][P],{value:d.globals.series[w][P],seriesIndex:w,dataPointIndex:P,w:d});"truncate"===d.config.plotOptions.treemap.dataLabels.format&&(Oe=parseInt(d.config.dataLabels.style.fontSize,10),ce=l.truncateLabels(ce,Oe,L,z,$,K));var qe=l.helpers.calculateDataLabels({text:ce,x:(L+$)/2,y:(z+K)/2+l.strokeWidth/2+Oe/3,i:w,j:P,colorProps:I,fontSize:Oe,series:a});d.config.dataLabels.enabled&&qe&&l.rotateToFitLabel(qe,Oe,ce,L,z,$,K),E.add(b),null!==qe&&E.add(qe)}),E.add(k),g.add(E)}),g}},{key:"getFontSize",value:function(a){var g,l=this.w,m=function v(w){var E,D=0;if(Array.isArray(w[0]))for(E=0;E<w.length;E++)D+=v(w[E]);else for(E=0;E<w.length;E++)D+=w[E].length;return D}(this.labels)/function v(w){var E,D=0;if(Array.isArray(w[0]))for(E=0;E<w.length;E++)D+=v(w[E]);else for(E=0;E<w.length;E++)D+=1;return D}(this.labels);return g=Math.pow((a[2]-a[0])*(a[3]-a[1]),.5),Math.min(g/m,parseInt(l.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(a,l,d,h,p,g,m){var v=new Re(this.ctx),w=v.getTextRects(d,l);if(w.width+this.w.config.stroke.width+5>g-h&&w.width<=m-p){var E=v.rotateAroundCenter(a.node);a.node.setAttribute("transform","rotate(-90 ".concat(E.x," ").concat(E.y,") translate(").concat(w.height/3,")"))}}},{key:"truncateLabels",value:function(a,l,d,h,p,g){var m=new Re(this.ctx),v=m.getTextRects(a,l).width+this.w.config.stroke.width+5>p-d&&g-h>p-d?g-h:p-d,w=m.getTextBasedOnMaxWidth({text:a,maxWidth:v,fontSize:l});return a.length!==w.length&&v/l<5?"":w}},{key:"animateTreemap",value:function(a,l,d,h){var p=new Ii(this.ctx);p.animateRect(a,{x:l.x,y:l.y,width:l.width,height:l.height},{x:d.x,y:d.y,width:d.width,height:d.height},h,function(){p.animationCompleted(a)})}}]),V}(),Wt=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return ut(V,[{key:"calculateTimeScaleTicks",value:function(a,l){var d=this,h=this.w;if(h.globals.allSeriesCollapsed)return h.globals.labels=[],h.globals.timescaleLabels=[],[];var p=new fn(this.ctx),g=(l-a)/864e5;this.determineInterval(g),h.globals.disableZoomIn=!1,h.globals.disableZoomOut=!1,g<.00011574074074074075?h.globals.disableZoomIn=!0:g>5e4&&(h.globals.disableZoomOut=!0);var m=p.getTimeUnitsfromTimestamp(a,l,this.utc),v=h.globals.gridWidth/g,w=v/24,E=w/60,D=E/60,k=Math.floor(24*g),O=Math.floor(1440*g),P=Math.floor(86400*g),L=Math.floor(g),z=Math.floor(g/30),$=Math.floor(g/365),K={minMillisecond:m.minMillisecond,minSecond:m.minSecond,minMinute:m.minMinute,minHour:m.minHour,minDate:m.minDate,minMonth:m.minMonth,minYear:m.minYear},b={firstVal:K,currentMillisecond:K.minMillisecond,currentSecond:K.minSecond,currentMinute:K.minMinute,currentHour:K.minHour,currentMonthDate:K.minDate,currentDate:K.minDate,currentMonth:K.minMonth,currentYear:K.minYear,daysWidthOnXAxis:v,hoursWidthOnXAxis:w,minutesWidthOnXAxis:E,secondsWidthOnXAxis:D,numberOfSeconds:P,numberOfMinutes:O,numberOfHours:k,numberOfDays:L,numberOfMonths:z,numberOfYears:$};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var I=this.timeScaleArray.map(function(N){var U={position:N.position,unit:N.unit,year:N.year,day:N.day?N.day:1,hour:N.hour?N.hour:0,month:N.month+1};return"month"===N.unit?ae(ae({},U),{},{day:1,value:N.value+1}):"day"===N.unit||"hour"===N.unit?ae(ae({},U),{},{value:N.value}):"minute"===N.unit?ae(ae({},U),{},{value:N.value,minute:N.value}):"second"===N.unit?ae(ae({},U),{},{value:N.value,minute:N.minute,second:N.second}):N});return I.filter(function(N){var U=1,Q=Math.ceil(h.globals.gridWidth/120),q=N.value;void 0!==h.config.xaxis.tickAmount&&(Q=h.config.xaxis.tickAmount),I.length>Q&&(U=Math.floor(I.length/Q));var ye=!1,_e=!1;switch(d.tickInterval){case"years":"year"===N.unit&&(ye=!0);break;case"half_year":U=7,"year"===N.unit&&(ye=!0);break;case"months":U=1,"year"===N.unit&&(ye=!0);break;case"months_fortnight":U=15,"year"!==N.unit&&"month"!==N.unit||(ye=!0),30===q&&(_e=!0);break;case"months_days":U=10,"month"===N.unit&&(ye=!0),30===q&&(_e=!0);break;case"week_days":U=8,"month"===N.unit&&(ye=!0);break;case"days":U=1,"month"===N.unit&&(ye=!0);break;case"hours":"day"===N.unit&&(ye=!0);break;case"minutes_fives":case"seconds_fives":q%5!=0&&(_e=!0);break;case"seconds_tens":q%10!=0&&(_e=!0)}if("hours"===d.tickInterval||"minutes_fives"===d.tickInterval||"seconds_tens"===d.tickInterval||"seconds_fives"===d.tickInterval){if(!_e)return!0}else if((q%U==0||ye)&&!_e)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(a,l){var d=this.w,h=this.formatDates(a),p=this.removeOverlappingTS(h);d.globals.timescaleLabels=p.slice(),new Xi(this.ctx).plotCoords()}},{key:"determineInterval",value:function(a){var l=24*a,d=60*l;switch(!0){case a/365>5:this.tickInterval="years";break;case a>800:this.tickInterval="half_year";break;case a>180:this.tickInterval="months";break;case a>90:this.tickInterval="months_fortnight";break;case a>60:this.tickInterval="months_days";break;case a>30:this.tickInterval="week_days";break;case a>2:this.tickInterval="days";break;case l>2.4:this.tickInterval="hours";break;case d>15:this.tickInterval="minutes_fives";break;case d>5:this.tickInterval="minutes";break;case d>1:this.tickInterval="seconds_tens";break;case 60*d>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(a){var l=a.firstVal,d=a.currentMonth,h=a.currentYear,p=a.daysWidthOnXAxis,g=a.numberOfYears,m=l.minYear,v=0,w=new fn(this.ctx),E="year";if(l.minDate>1||l.minMonth>0){var D=w.determineRemainingDaysOfYear(l.minYear,l.minMonth,l.minDate);v=(w.determineDaysOfYear(l.minYear)-D+1)*p,this.timeScaleArray.push({position:v,value:m=l.minYear+1,unit:E,year:m,month:pe.monthMod(d+1)})}else 1===l.minDate&&0===l.minMonth&&this.timeScaleArray.push({position:v,value:m,unit:E,year:h,month:pe.monthMod(d+1)});for(var k=m,O=v,P=0;P<g;P++)k++,O=w.determineDaysOfYear(k-1)*p+O,this.timeScaleArray.push({position:O,value:k,unit:E,year:k,month:1})}},{key:"generateMonthScale",value:function(a){var l=a.firstVal,d=a.currentMonthDate,h=a.currentMonth,p=a.currentYear,g=a.daysWidthOnXAxis,m=a.numberOfMonths,v=h,w=0,E=new fn(this.ctx),D="month",k=0;if(l.minDate>1){w=(E.determineDaysOfMonths(h+1,l.minYear)-d+1)*g,v=pe.monthMod(h+1);var O=p+k,P=pe.monthMod(v),L=v;0===v&&(D="year",L=O,P=1,O+=k+=1),this.timeScaleArray.push({position:w,value:L,unit:D,year:O,month:P})}else this.timeScaleArray.push({position:w,value:v,unit:D,year:p,month:pe.monthMod(h)});for(var z=v+1,$=w,K=0,b=1;K<m;K++,b++){0===(z=pe.monthMod(z))?(D="year",k+=1):D="month";var I=this._getYear(p,z,k);$=E.determineDaysOfMonths(z,I)*g+$,this.timeScaleArray.push({position:$,value:0===z?I:z,unit:D,year:I,month:0===z?1:z}),z++}}},{key:"generateDayScale",value:function(a){var l=a.firstVal,d=a.currentMonth,h=a.currentYear,p=a.hoursWidthOnXAxis,g=a.numberOfDays,m=new fn(this.ctx),v="day",w=l.minDate+1,E=w,D=function(b,I,N){return b>m.determineDaysOfMonths(I+1,N)&&(E=1,v="month",O=I+=1),I},k=(24-l.minHour)*p,O=w,P=D(E,d,h);0===l.minHour&&1===l.minDate?(k=0,O=pe.monthMod(l.minMonth),v="month",E=l.minDate):1!==l.minDate&&0===l.minHour&&0===l.minMinute&&(k=0,O=w=l.minDate,P=D(E=w,d,h)),this.timeScaleArray.push({position:k,value:O,unit:v,year:this._getYear(h,P,0),month:pe.monthMod(P),day:E});for(var L=k,z=0;z<g;z++){v="day",P=D(E+=1,P,this._getYear(h,P,0));var $=this._getYear(h,P,0);L=24*p+L;var K=1===E?pe.monthMod(P):E;this.timeScaleArray.push({position:L,value:K,unit:v,year:$,month:pe.monthMod(P),day:K})}}},{key:"generateHourScale",value:function(a){var l=a.firstVal,d=a.currentDate,h=a.currentMonth,p=a.currentYear,g=a.minutesWidthOnXAxis,m=a.numberOfHours,v=new fn(this.ctx),w="hour",E=function(U,Q){return U>v.determineDaysOfMonths(Q+1,p)&&(z=1,Q+=1),{month:Q,date:z}},D=function(U,Q){return U>v.determineDaysOfMonths(Q+1,p)?Q+=1:Q},k=60-(l.minMinute+l.minSecond/60),O=k*g,P=l.minHour+1,L=P;60===k&&(O=0,L=(P=l.minHour)+1);var z=d;L>=24&&(L=0,z+=1,w="day");var $=E(z,h).month;$=D(z,$),this.timeScaleArray.push({position:O,value:P,unit:w,day:z,hour:L,year:p,month:pe.monthMod($)}),L++;for(var K=O,b=0;b<m;b++){w="hour",L>=24&&(L=0,w="day",$=E(z+=1,$).month,$=D(z,$));var I=this._getYear(p,$,0);this.timeScaleArray.push({position:K=60*g+K,value:0===L?z:L,unit:w,hour:L,day:z,year:I,month:pe.monthMod($)}),L++}}},{key:"generateMinuteScale",value:function(a){for(var w=a.minutesWidthOnXAxis,D=a.numberOfMinutes,k=a.currentMinute+1,O=a.currentDate,P=a.currentMonth,L=a.currentYear,z=a.currentHour,$=(60-a.currentSecond-a.currentMillisecond/1e3)*a.secondsWidthOnXAxis,K=0;K<D;K++)k>=60&&(k=0,24===(z+=1)&&(z=0)),this.timeScaleArray.push({position:$,value:k,unit:"minute",hour:z,minute:k,day:O,year:this._getYear(L,P,0),month:pe.monthMod(P)}),$+=w,k++}},{key:"generateSecondScale",value:function(a){for(var w=a.secondsWidthOnXAxis,E=a.numberOfSeconds,D=a.currentSecond+1,k=a.currentMinute,O=a.currentDate,P=a.currentMonth,L=a.currentYear,z=a.currentHour,$=(1e3-a.currentMillisecond)/1e3*w,K=0;K<E;K++)D>=60&&(D=0,++k>=60&&(k=0,24==++z&&(z=0))),this.timeScaleArray.push({position:$,value:D,unit:"second",hour:z,minute:k,second:D,day:O,year:this._getYear(L,P,0),month:pe.monthMod(P)}),$+=w,D++}},{key:"createRawDateString",value:function(a,l){var d=a.year;return 0===a.month&&(a.month=1),d+="-"+("0"+a.month.toString()).slice(-2),d+="day"===a.unit?"day"===a.unit?"-"+("0"+l).slice(-2):"-01":"-"+("0"+(a.day?a.day:"1")).slice(-2),d+="hour"===a.unit?"hour"===a.unit?"T"+("0"+l).slice(-2):"T00":"T"+("0"+(a.hour?a.hour:"0")).slice(-2),d+="minute"===a.unit?":"+("0"+l).slice(-2):":"+(a.minute?("0"+a.minute).slice(-2):"00"),d+="second"===a.unit?":"+("0"+l).slice(-2):":00",this.utc&&(d+=".000Z"),d}},{key:"formatDates",value:function(a){var l=this,d=this.w;return a.map(function(h){var p=h.value.toString(),g=new fn(l.ctx),m=l.createRawDateString(h,p),v=g.getDate(g.parseDate(m));if(l.utc||(v=g.getDate(g.parseDateWithTimezone(m))),void 0===d.config.xaxis.labels.format){var w="dd MMM",E=d.config.xaxis.labels.datetimeFormatter;"year"===h.unit&&(w=E.year),"month"===h.unit&&(w=E.month),"day"===h.unit&&(w=E.day),"hour"===h.unit&&(w=E.hour),"minute"===h.unit&&(w=E.minute),"second"===h.unit&&(w=E.second),p=g.formatDate(v,w)}else p=g.formatDate(v,d.config.xaxis.labels.format);return{dateString:m,position:h.position,value:p,unit:h.unit,year:h.year,month:h.month}})}},{key:"removeOverlappingTS",value:function(a){var l,d=this,h=new Re(this.ctx),p=!1;a.length>0&&a[0].value&&a.every(function(v){return v.value.length===a[0].value.length})&&(p=!0,l=h.getTextRects(a[0].value).width);var g=0;return a.map(function(v,w){if(w>0&&d.w.config.xaxis.labels.hideOverlappingLabels){var E=p?l:h.getTextRects(a[g].value).width;return v.position>a[g].position+E+10?(g=w,v):null}return v}).filter(function(v){return null!==v})}},{key:"_getYear",value:function(a,l,d){return a+Math.floor(l/12)+d}}]),V}(),wr=function(){function V(a,l){Ge(this,V),this.ctx=l,this.w=l.w,this.el=a}return ut(V,[{key:"setupElements",value:function(){var a=this.w.globals,l=this.w.config,d=l.chart.type;a.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(d)>-1,a.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(d)>-1,a.isBarHorizontal=("bar"===l.chart.type||"rangeBar"===l.chart.type||"boxPlot"===l.chart.type)&&l.plotOptions.bar.horizontal,a.chartClass=".apexcharts"+a.chartID,a.dom.baseEl=this.el,a.dom.elWrap=document.createElement("div"),Re.setAttrs(a.dom.elWrap,{id:a.chartClass.substring(1),class:"apexcharts-canvas "+a.chartClass.substring(1)}),this.el.appendChild(a.dom.elWrap),a.dom.Paper=new window.SVG.Doc(a.dom.elWrap),a.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(l.chart.offsetX,", ").concat(l.chart.offsetY,")")}),a.dom.Paper.node.style.background="dark"!==l.theme.mode||l.chart.background?l.chart.background:"rgba(0, 0, 0, 0.8)",this.setSVGDimensions(),a.dom.elLegendForeign=document.createElementNS(a.SVGNS,"foreignObject"),Re.setAttrs(a.dom.elLegendForeign,{x:0,y:0,width:a.svgWidth,height:a.svgHeight}),a.dom.elLegendWrap=document.createElement("div"),a.dom.elLegendWrap.classList.add("apexcharts-legend"),a.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),a.dom.elLegendForeign.appendChild(a.dom.elLegendWrap),a.dom.Paper.node.appendChild(a.dom.elLegendForeign),a.dom.elGraphical=a.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),a.dom.elDefs=a.dom.Paper.defs(),a.dom.Paper.add(a.dom.elGraphical),a.dom.elGraphical.add(a.dom.elDefs)}},{key:"plotChartType",value:function(a,l){var d=this.w,h=d.config,p=d.globals,g={series:[],i:[]},m={series:[],i:[]},v={series:[],i:[]},w={series:[],i:[]},E={series:[],i:[]},D={series:[],i:[]},k={series:[],i:[]},O={series:[],i:[]},P={series:[],seriesRangeEnd:[],i:[]};p.series.map(function(Q,q){var ye=0;void 0!==a[q].type?("column"===a[q].type||"bar"===a[q].type?(p.series.length>1&&h.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),E.series.push(Q),E.i.push(q),ye++,d.globals.columnSeries=E.series):"area"===a[q].type?(m.series.push(Q),m.i.push(q),ye++):"line"===a[q].type?(g.series.push(Q),g.i.push(q),ye++):"scatter"===a[q].type?(v.series.push(Q),v.i.push(q)):"bubble"===a[q].type?(w.series.push(Q),w.i.push(q),ye++):"candlestick"===a[q].type?(D.series.push(Q),D.i.push(q),ye++):"boxPlot"===a[q].type?(k.series.push(Q),k.i.push(q),ye++):"rangeBar"===a[q].type?(O.series.push(Q),O.i.push(q),ye++):"rangeArea"===a[q].type?(P.series.push(p.seriesRangeStart[q]),P.seriesRangeEnd.push(p.seriesRangeEnd[q]),P.i.push(q),ye++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),ye>1&&(p.comboCharts=!0)):(g.series.push(Q),g.i.push(q))});var L=new vt(this.ctx,l),z=new as(this.ctx,l);this.ctx.pie=new po(this.ctx);var $=new ue(this.ctx);this.ctx.rangeBar=new Y(this.ctx,l);var K=new ge(this.ctx),b=[];if(p.comboCharts){if(m.series.length>0&&b.push(L.draw(m.series,"area",m.i)),E.series.length>0)if(d.config.chart.stacked){var I=new Qr(this.ctx,l);b.push(I.draw(E.series,E.i))}else this.ctx.bar=new Pi(this.ctx,l),b.push(this.ctx.bar.draw(E.series,E.i));if(P.series.length>0&&b.push(L.draw(P.series,"rangeArea",P.i,P.seriesRangeEnd)),g.series.length>0&&b.push(L.draw(g.series,"line",g.i)),D.series.length>0&&b.push(z.draw(D.series,"candlestick",D.i)),k.series.length>0&&b.push(z.draw(k.series,"boxPlot",k.i)),O.series.length>0&&b.push(this.ctx.rangeBar.draw(O.series,O.i)),v.series.length>0){var N=new vt(this.ctx,l,!0);b.push(N.draw(v.series,"scatter",v.i))}if(w.series.length>0){var U=new vt(this.ctx,l,!0);b.push(U.draw(w.series,"bubble",w.i))}}else switch(h.chart.type){case"line":b=L.draw(p.series,"line");break;case"area":b=L.draw(p.series,"area");break;case"bar":h.chart.stacked?b=new Qr(this.ctx,l).draw(p.series):(this.ctx.bar=new Pi(this.ctx,l),b=this.ctx.bar.draw(p.series));break;case"candlestick":b=new as(this.ctx,l).draw(p.series,"candlestick");break;case"boxPlot":b=new as(this.ctx,l).draw(p.series,h.chart.type);break;case"rangeBar":b=this.ctx.rangeBar.draw(p.series);break;case"rangeArea":b=L.draw(p.seriesRangeStart,"rangeArea",void 0,p.seriesRangeEnd);break;case"heatmap":b=new Aa(this.ctx,l).draw(p.series);break;case"treemap":b=new Dt(this.ctx,l).draw(p.series);break;case"pie":case"donut":case"polarArea":b=this.ctx.pie.draw(p.series);break;case"radialBar":b=$.draw(p.series);break;case"radar":b=K.draw(p.series);break;default:b=L.draw(p.series)}return b}},{key:"setSVGDimensions",value:function(){var a=this.w.globals,l=this.w.config;a.svgWidth=l.chart.width,a.svgHeight=l.chart.height;var d=pe.getDimensions(this.el),h=l.chart.width.toString().split(/[0-9]+/g).pop();"%"===h?pe.isNumber(d[0])&&(0===d[0].width&&(d=pe.getDimensions(this.el.parentNode)),a.svgWidth=d[0]*parseInt(l.chart.width,10)/100):"px"!==h&&""!==h||(a.svgWidth=parseInt(l.chart.width,10));var p=l.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==a.svgHeight&&""!==a.svgHeight)if("%"===p){var g=pe.getDimensions(this.el.parentNode);a.svgHeight=g[1]*parseInt(l.chart.height,10)/100}else a.svgHeight=parseInt(l.chart.height,10);else a.svgHeight=a.axisCharts?a.svgWidth/1.61:a.svgWidth/1.2;a.svgWidth<0&&(a.svgWidth=0),a.svgHeight<0&&(a.svgHeight=0),Re.setAttrs(a.dom.Paper.node,{width:a.svgWidth,height:a.svgHeight}),"%"!==p&&(a.dom.Paper.node.parentNode.parentNode.style.minHeight=a.svgHeight+(l.chart.sparkline.enabled?0:a.axisCharts?l.chart.parentHeightOffset:0)+"px"),a.dom.elWrap.style.width=a.svgWidth+"px",a.dom.elWrap.style.height=a.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var a=this.w.globals;Re.setAttrs(a.dom.elGraphical.node,{transform:"translate("+a.translateX+", "+a.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var a=this.w,l=a.globals,d=0,h=a.config.chart.sparkline.enabled?1:15;h+=a.config.grid.padding.bottom,"top"!==a.config.legend.position&&"bottom"!==a.config.legend.position||!a.config.legend.show||a.config.legend.floating||(d=new Mr(this.ctx).legendHelpers.getLegendBBox().clwh+10);var p=a.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),g=2.05*a.globals.radialSize;if(p&&!a.config.chart.sparkline.enabled&&0!==a.config.plotOptions.radialBar.startAngle){var m=pe.getBoundingClientRect(p);g=m.bottom,g=Math.max(2.05*a.globals.radialSize,m.bottom-m.top)}var w=g+l.translateY+d+h;l.dom.elLegendForeign&&l.dom.elLegendForeign.setAttribute("height",w),a.config.chart.height&&String(a.config.chart.height).indexOf("%")>0||(l.dom.elWrap.style.height=w+"px",Re.setAttrs(l.dom.Paper.node,{height:w}),l.dom.Paper.node.parentNode.parentNode.style.minHeight=w+"px")}},{key:"coreCalculations",value:function(){new gi(this.ctx).init()}},{key:"resetGlobals",value:function(){var a=this,l=function(){return a.w.config.series.map(function(p){return[]})},d=new Me,h=this.w.globals;d.initGlobalVars(h),h.seriesXvalues=l(),h.seriesYvalues=l()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var a=null,l=this.w;if(l.globals.axisCharts){if("back"===l.config.xaxis.crosshairs.position&&new Qe(this.ctx).drawXCrosshairs(),"back"===l.config.yaxis[0].crosshairs.position&&new Qe(this.ctx).drawYCrosshairs(),"datetime"===l.config.xaxis.type&&void 0===l.config.xaxis.labels.formatter){this.ctx.timeScale=new Wt(this.ctx);var d=[];isFinite(l.globals.minX)&&isFinite(l.globals.maxX)&&!l.globals.isBarHorizontal?d=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minX,l.globals.maxX):l.globals.isBarHorizontal&&(d=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minY,l.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(d)}a=new Yt(this.ctx).getCalculatedRatios()}return a}},{key:"updateSourceChart",value:function(a){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:a.w.globals.minX,max:a.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var a=this,l=this.w;if(l.config.chart.brush.enabled&&"function"!=typeof l.config.chart.events.selection){var d=Array.isArray(l.config.chart.brush.targets)||[l.config.chart.brush.target];d.forEach(function(h){var p=ApexCharts.getChartByID(h);p.w.globals.brushSource=a.ctx,"function"!=typeof p.w.config.chart.events.zoomed&&(p.w.config.chart.events.zoomed=function(){a.updateSourceChart(p)}),"function"!=typeof p.w.config.chart.events.scrolled&&(p.w.config.chart.events.scrolled=function(){a.updateSourceChart(p)})}),l.config.chart.events.selection=function(h,p){d.forEach(function(g){var m=ApexCharts.getChartByID(g),v=pe.clone(l.config.yaxis);if(l.config.chart.brush.autoScaleYaxis&&1===m.w.globals.series.length){var w=new zn(m);v=w.autoScaleY(m,v,p)}var E=m.w.config.yaxis.reduce(function(D,k,O){return[].concat(kn(D),[ae(ae({},m.w.config.yaxis[O]),{},{min:v[0].min,max:v[0].max})])},[]);m.ctx.updateHelpers._updateOptions({xaxis:{min:p.xaxis.min,max:p.xaxis.max},yaxis:E},!1,!1,!1,!1)})}}}}]),V}(),Za=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"_updateOptions",value:function(a){var l=this,d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],g=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(m){var v=[l.ctx];p&&(v=l.ctx.getSyncedCharts()),l.ctx.w.globals.isExecCalled&&(v=[l.ctx],l.ctx.w.globals.isExecCalled=!1),v.forEach(function(w,E){var D=w.w;if(D.globals.shouldAnimate=h,d||(D.globals.resized=!0,D.globals.dataChanged=!0,h&&w.series.getPreviousPaths()),a&&"object"===bt(a)&&(w.config=new Vr(a),a=Yt.extendArrayProps(w.config,a,D),w.w.globals.chartID!==l.ctx.w.globals.chartID&&delete a.series,D.config=pe.extend(D.config,a),g&&(D.globals.lastXAxis=a.xaxis?pe.clone(a.xaxis):[],D.globals.lastYAxis=a.yaxis?pe.clone(a.yaxis):[],D.globals.initialConfig=pe.extend({},D.config),D.globals.initialSeries=pe.clone(D.config.series),a.series))){for(var k=0;k<D.globals.collapsedSeriesIndices.length;k++){var O=D.config.series[D.globals.collapsedSeriesIndices[k]];D.globals.collapsedSeries[k].data=D.globals.axisCharts?O.data.slice():O}for(var P=0;P<D.globals.ancillaryCollapsedSeriesIndices.length;P++){var L=D.config.series[D.globals.ancillaryCollapsedSeriesIndices[P]];D.globals.ancillaryCollapsedSeries[P].data=D.globals.axisCharts?L.data.slice():L}w.series.emptyCollapsedSeries(D.config.series)}return w.update(a).then(function(){E===v.length-1&&m(w)})})})}},{key:"_updateSeries",value:function(a,l){var d=this,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(p){var g,m=d.w;return m.globals.shouldAnimate=l,m.globals.dataChanged=!0,l&&d.ctx.series.getPreviousPaths(),m.globals.axisCharts?(0===(g=a.map(function(v,w){return d._extendSeries(v,w)})).length&&(g=[{data:[]}]),m.config.series=g):m.config.series=a.slice(),h&&(m.globals.initialConfig.series=pe.clone(m.config.series),m.globals.initialSeries=pe.clone(m.config.series)),d.ctx.update().then(function(){p(d.ctx)})})}},{key:"_extendSeries",value:function(a,l){var d=this.w,h=d.config.series[l];return ae(ae({},d.config.series[l]),{},{name:a.name?a.name:h?.name,color:a.color?a.color:h?.color,type:a.type?a.type:h?.type,group:a.group?a.group:h?.group,data:a.data?a.data:h?.data,zIndex:void 0!==a.zIndex?a.zIndex:l})}},{key:"toggleDataPointSelection",value:function(a,l){var d=this.w,h=null,p=".apexcharts-series[data\\:realIndex='".concat(a,"']");return d.globals.axisCharts?h=d.globals.dom.Paper.select("".concat(p," path[j='").concat(l,"'], ").concat(p," circle[j='").concat(l,"'], ").concat(p," rect[j='").concat(l,"']")).members[0]:void 0===l&&(h=d.globals.dom.Paper.select("".concat(p," path[j='").concat(a,"']")).members[0],"pie"!==d.config.chart.type&&"polarArea"!==d.config.chart.type&&"donut"!==d.config.chart.type||this.ctx.pie.pieClicked(a)),h?(new Re(this.ctx).pathMouseDown(h,null),h.node?h.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(a){var l=this.w;if(["min","max"].forEach(function(h){void 0!==a.xaxis[h]&&(l.config.xaxis[h]=a.xaxis[h],l.globals.lastXAxis[h]=a.xaxis[h])}),a.xaxis.categories&&a.xaxis.categories.length&&(l.config.xaxis.categories=a.xaxis.categories),l.config.xaxis.convertedCatToNumeric){var d=new fr(a);a=d.convertCatToNumericXaxis(a,this.ctx)}return a}},{key:"forceYAxisUpdate",value:function(a){return a.chart&&a.chart.stacked&&"100%"===a.chart.stackType&&(Array.isArray(a.yaxis)?a.yaxis.forEach(function(l,d){a.yaxis[d].min=0,a.yaxis[d].max=100}):(a.yaxis.min=0,a.yaxis.max=100)),a}},{key:"revertDefaultAxisMinMax",value:function(a){var l=this,d=this.w,h=d.globals.lastXAxis,p=d.globals.lastYAxis;a&&a.xaxis&&(h=a.xaxis),a&&a.yaxis&&(p=a.yaxis),d.config.xaxis.min=h.min,d.config.xaxis.max=h.max,d.config.yaxis.map(function(m,v){d.globals.zoomed||void 0!==p[v]?function(m){void 0!==p[m]&&(d.config.yaxis[m].min=p[m].min,d.config.yaxis[m].max=p[m].max)}(v):void 0!==l.ctx.opts.yaxis[v]&&(m.min=l.ctx.opts.yaxis[v].min,m.max=l.ctx.opts.yaxis[v].max)})}}]),V}();tn=typeof window<"u"?window:void 0,ri=function(V,a){var l=(void 0!==this?this:V).SVG=function(b){if(l.supported)return b=new l.Doc(b),l.parser.draw||l.prepare(),b};if(l.ns="http://www.w3.org/2000/svg",l.xmlns="http://www.w3.org/2000/xmlns/",l.xlink="http://www.w3.org/1999/xlink",l.svgjs="http://svgjs.dev",l.supported=!0,!l.supported)return!1;l.did=1e3,l.eid=function(b){return"Svgjs"+E(b)+l.did++},l.create=function(b){var I=a.createElementNS(this.ns,b);return I.setAttribute("id",this.eid(b)),I},l.extend=function(){var b,I;I=(b=[].slice.call(arguments)).pop();for(var N=b.length-1;N>=0;N--)if(b[N])for(var U in I)b[N].prototype[U]=I[U];l.Set&&l.Set.inherit&&l.Set.inherit()},l.invent=function(b){var I="function"==typeof b.create?b.create:function(){this.constructor.call(this,l.create(b.create))};return b.inherit&&(I.prototype=new b.inherit),b.extend&&l.extend(I,b.extend),b.construct&&l.extend(b.parent||l.Container,b.construct),I},l.adopt=function(b){return b?b.instance?b.instance:((I="svg"==b.nodeName?b.parentNode instanceof V.SVGElement?new l.Nested:new l.Doc:"linearGradient"==b.nodeName?new l.Gradient("linear"):"radialGradient"==b.nodeName?new l.Gradient("radial"):l[E(b.nodeName)]?new(l[E(b.nodeName)]):new l.Element(b)).type=b.nodeName,I.node=b,b.instance=I,I instanceof l.Doc&&I.namespace().defs(),I.setData(JSON.parse(b.getAttribute("svgjs:data"))||{}),I):null;var I},l.prepare=function(){var b=a.getElementsByTagName("body")[0],I=(b?new l.Doc(b):l.adopt(a.documentElement).nested()).size(2,0);l.parser={body:b||a.documentElement,draw:I.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:I.polyline().node,path:I.path().node,native:l.create("svg")}},l.parser={native:l.create("svg")},a.addEventListener("DOMContentLoaded",function(){l.parser.draw||l.prepare()},!1),l.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},l.utils={map:function(b,I){for(var N=b.length,U=[],Q=0;Q<N;Q++)U.push(I(b[Q]));return U},filter:function(b,I){for(var N=b.length,U=[],Q=0;Q<N;Q++)I(b[Q])&&U.push(b[Q]);return U},filterSVGElements:function(b){return this.filter(b,function(I){return I instanceof V.SVGElement})}},l.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},l.Color=function(b){var I,N;this.r=0,this.g=0,this.b=0,b&&("string"==typeof b?l.regex.isRgb.test(b)?(I=l.regex.rgb.exec(b.replace(l.regex.whitespace,"")),this.r=parseInt(I[1]),this.g=parseInt(I[2]),this.b=parseInt(I[3])):l.regex.isHex.test(b)&&(I=l.regex.hex.exec(4==(N=b).length?["#",N.substring(1,2),N.substring(1,2),N.substring(2,3),N.substring(2,3),N.substring(3,4),N.substring(3,4)].join(""):N),this.r=parseInt(I[1],16),this.g=parseInt(I[2],16),this.b=parseInt(I[3],16)):"object"===bt(b)&&(this.r=b.r,this.g=b.g,this.b=b.b))},l.extend(l.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+D(this.r)+D(this.g)+D(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(b){return this.destination=new l.Color(b),this},at:function(b){return this.destination?new l.Color({r:~~(this.r+(this.destination.r-this.r)*(b=b<0?0:b>1?1:b)),g:~~(this.g+(this.destination.g-this.g)*b),b:~~(this.b+(this.destination.b-this.b)*b)}):this}}),l.Color.test=function(b){return l.regex.isHex.test(b+="")||l.regex.isRgb.test(b)},l.Color.isRgb=function(b){return b&&"number"==typeof b.r&&"number"==typeof b.g&&"number"==typeof b.b},l.Color.isColor=function(b){return l.Color.isRgb(b)||l.Color.test(b)},l.Array=function(b,I){0==(b=(b||[]).valueOf()).length&&I&&(b=I.valueOf()),this.value=this.parse(b)},l.extend(l.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(b){return b=b.valueOf(),Array.isArray(b)?b:this.split(b)}}),l.PointArray=function(b,I){l.Array.call(this,b,I||[[0,0]])},l.PointArray.prototype=new l.Array,l.PointArray.prototype.constructor=l.PointArray;for(var d={M:function(b,I,N){return I.x=N.x=b[0],I.y=N.y=b[1],["M",I.x,I.y]},L:function(b,I){return I.x=b[0],I.y=b[1],["L",b[0],b[1]]},H:function(b,I){return I.x=b[0],["H",b[0]]},V:function(b,I){return I.y=b[0],["V",b[0]]},C:function(b,I){return I.x=b[4],I.y=b[5],["C",b[0],b[1],b[2],b[3],b[4],b[5]]},Q:function(b,I){return I.x=b[2],I.y=b[3],["Q",b[0],b[1],b[2],b[3]]},S:function(b,I){return I.x=b[2],I.y=b[3],["S",b[0],b[1],b[2],b[3]]},Z:function(b,I,N){return I.x=N.x,I.y=N.y,["Z"]}},h="mlhvqtcsaz".split(""),p=0,g=h.length;p<g;++p)d[h[p]]=function(b){return function(I,N,U){if("H"==b)I[0]=I[0]+N.x;else if("V"==b)I[0]=I[0]+N.y;else if("A"==b)I[5]=I[5]+N.x,I[6]=I[6]+N.y;else for(var Q=0,q=I.length;Q<q;++Q)I[Q]=I[Q]+(Q%2?N.y:N.x);if(d&&"function"==typeof d[b])return d[b](I,N,U)}}(h[p].toUpperCase());l.PathArray=function(b,I){l.Array.call(this,b,I||[["M",0,0]])},l.PathArray.prototype=new l.Array,l.PathArray.prototype.constructor=l.PathArray,l.extend(l.PathArray,{toString:function(){return function(b){for(var I=0,N=b.length,U="";I<N;I++)U+=b[I][0],null!=b[I][1]&&(U+=b[I][1],null!=b[I][2]&&(U+=" ",U+=b[I][2],null!=b[I][3]&&(U+=" ",U+=b[I][3],U+=" ",U+=b[I][4],null!=b[I][5]&&(U+=" ",U+=b[I][5],U+=" ",U+=b[I][6],null!=b[I][7]&&(U+=" ",U+=b[I][7])))));return U+" "}(this.value)},move:function(b,I){return this.bbox(),this},at:function(b){if(!this.destination)return this;for(var I=this.value,N=this.destination.value,U=[],Q=new l.PathArray,q=0,ye=I.length;q<ye;q++){U[q]=[I[q][0]];for(var _e=1,Oe=I[q].length;_e<Oe;_e++)U[q][_e]=I[q][_e]+(N[q][_e]-I[q][_e])*b;"A"===U[q][0]&&(U[q][4]=+(0!=U[q][4]),U[q][5]=+(0!=U[q][5]))}return Q.value=U,Q},parse:function(b){if(b instanceof l.PathArray)return b.valueOf();var I,N={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};b="string"==typeof b?b.replace(l.regex.numbersWithDots,v).replace(l.regex.pathLetters," $& ").replace(l.regex.hyphen,"$1 -").trim().split(l.regex.delimiter):b.reduce(function(Oe,ce){return[].concat.call(Oe,ce)},[]);var U=[],Q=new l.Point,q=new l.Point,ye=0,_e=b.length;do{l.regex.isPathLetter.test(b[ye])?(I=b[ye],++ye):"M"==I?I="L":"m"==I&&(I="l"),U.push(d[I].call(null,b.slice(ye,ye+=N[I.toUpperCase()]).map(parseFloat),Q,q))}while(_e>ye);return U},bbox:function(){return l.parser.draw||l.prepare(),l.parser.path.setAttribute("d",this.toString()),l.parser.path.getBBox()}}),l.Number=l.invent({create:function(b,I){this.value=0,this.unit=I||"","number"==typeof b?this.value=isNaN(b)?0:isFinite(b)?b:b<0?-34e37:34e37:"string"==typeof b?(I=b.match(l.regex.numberAndUnit))&&(this.value=parseFloat(I[1]),"%"==I[5]?this.value/=100:"s"==I[5]&&(this.value*=1e3),this.unit=I[5]):b instanceof l.Number&&(this.value=b.valueOf(),this.unit=b.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(b){return b=new l.Number(b),new l.Number(this+b,this.unit||b.unit)},minus:function(b){return b=new l.Number(b),new l.Number(this-b,this.unit||b.unit)},times:function(b){return b=new l.Number(b),new l.Number(this*b,this.unit||b.unit)},divide:function(b){return b=new l.Number(b),new l.Number(this/b,this.unit||b.unit)},to:function(b){var I=new l.Number(this);return"string"==typeof b&&(I.unit=b),I},morph:function(b){return this.destination=new l.Number(b),b.relative&&(this.destination.value+=this.value),this},at:function(b){return this.destination?new l.Number(this.destination).minus(this).times(b).plus(this):this}}}),l.Element=l.invent({create:function(b){this._stroke=l.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=b)&&(this.type=b.nodeName,this.node.instance=this,this._stroke=b.getAttribute("stroke")||this._stroke)},extend:{x:function(b){return this.attr("x",b)},y:function(b){return this.attr("y",b)},cx:function(b){return null==b?this.x()+this.width()/2:this.x(b-this.width()/2)},cy:function(b){return null==b?this.y()+this.height()/2:this.y(b-this.height()/2)},move:function(b,I){return this.x(b).y(I)},center:function(b,I){return this.cx(b).cy(I)},width:function(b){return this.attr("width",b)},height:function(b){return this.attr("height",b)},size:function(b,I){var N=k(this,b,I);return this.width(new l.Number(N.width)).height(new l.Number(N.height))},clone:function(b){this.writeDataToDom();var I=L(this.node.cloneNode(!0));return b?b.add(I):this.after(I),I},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(b){return this.after(b).remove(),b},addTo:function(b){return b.put(this)},putIn:function(b){return b.add(this)},id:function(b){return this.attr("id",b)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var b=this.attr("class");return null==b?[]:b.trim().split(l.regex.delimiter)},hasClass:function(b){return-1!=this.classes().indexOf(b)},addClass:function(b){if(!this.hasClass(b)){var I=this.classes();I.push(b),this.attr("class",I.join(" "))}return this},removeClass:function(b){return this.hasClass(b)&&this.attr("class",this.classes().filter(function(I){return I!=b}).join(" ")),this},toggleClass:function(b){return this.hasClass(b)?this.removeClass(b):this.addClass(b)},reference:function(b){return l.get(this.attr(b))},parent:function(b){var I=this;if(!I.node.parentNode)return null;if(I=l.adopt(I.node.parentNode),!b)return I;for(;I&&I.node instanceof V.SVGElement;){if("string"==typeof b?I.matches(b):I instanceof b)return I;if(!I.node.parentNode||"#document"==I.node.parentNode.nodeName)return null;I=l.adopt(I.node.parentNode)}},doc:function(){return this instanceof l.Doc?this:this.parent(l.Doc)},parents:function(b){var I=[],N=this;do{if(!(N=N.parent(b))||!N.node)break;I.push(N)}while(N.parent);return I},matches:function(b){return((I=this.node).matches||I.matchesSelector||I.msMatchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.oMatchesSelector).call(I,b);var I},native:function(){return this.node},svg:function(b){var I=a.createElement("svg");if(!(b&&this instanceof l.Parent))return I.appendChild(b=a.createElement("svg")),this.writeDataToDom(),b.appendChild(this.node.cloneNode(!0)),I.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");I.innerHTML="<svg>"+b.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var N=0,U=I.firstChild.childNodes.length;N<U;N++)this.node.appendChild(I.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(b){return this.dom=b,this},is:function(b){return this instanceof b}}}),l.easing={"-":function(b){return b},"<>":function(b){return-Math.cos(b*Math.PI)/2+.5},">":function(b){return Math.sin(b*Math.PI/2)},"<":function(b){return 1-Math.cos(b*Math.PI/2)}},l.morph=function(b){return function(I,N){return new l.MorphObj(I,N).at(b)}},l.Situation=l.invent({create:function(b){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new l.Number(b.duration).valueOf(),this.delay=new l.Number(b.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=b.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),l.FX=l.invent({create:function(b){this._target=b,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(b,I,N){"object"===bt(b)&&(I=b.ease,N=b.delay,b=b.duration);var U=new l.Situation({duration:b||1e3,delay:N||0,ease:l.easing[I||"-"]||I});return this.queue(U),this},target:function(b){return b&&b instanceof l.Element?(this._target=b,this):this._target},timeToAbsPos:function(b){return(b-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(b){return this.situation.duration/this._speed*b+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=V.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){V.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(b){return("function"==typeof b||b instanceof l.Situation)&&this.situations.push(b),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof l.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var b,I=this.situation;if(I.init)return this;for(var N in I.animations){b=this.target()[N](),Array.isArray(b)||(b=[b]),Array.isArray(I.animations[N])||(I.animations[N]=[I.animations[N]]);for(var U=b.length;U--;)I.animations[N][U]instanceof l.Number&&(b[U]=new l.Number(b[U])),I.animations[N][U]=b[U].morph(I.animations[N][U])}for(var N in I.attrs)I.attrs[N]=new l.MorphObj(this.target().attr(N),I.attrs[N]);for(var N in I.styles)I.styles[N]=new l.MorphObj(this.target().style(N),I.styles[N]);return I.initialTransformation=this.target().matrixify(),I.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(b,I){var N=this.active;return this.active=!1,I&&this.clearQueue(),b&&this.situation&&(!N&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(b){var I=this.last();return this.target().on("finished.fx",function N(U){U.detail.situation==I&&(b.call(this,I),this.off("finished.fx",N))}),this._callStart()},during:function(b){var I=this.last(),N=function(U){U.detail.situation==I&&b.call(this,U.detail.pos,l.morph(U.detail.pos),U.detail.eased,I)};return this.target().off("during.fx",N).on("during.fx",N),this.after(function(){this.off("during.fx",N)}),this._callStart()},afterAll:function(b){var I=function N(U){b.call(this),this.off("allfinished.fx",N)};return this.target().off("allfinished.fx",I).on("allfinished.fx",I),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(b,I,N){return this.last()[N||"animations"][b]=I,this._callStart()},step:function(b){var I,N,U;b||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(I=Math.max(this.absPos,0),N=Math.floor(I),!0===this.situation.loops||N<this.situation.loops?(this.pos=I-N,U=this.situation.loop,this.situation.loop=N):(this.absPos=this.situation.loops,this.pos=1,U=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-U)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var Q=this.situation.ease(this.pos);for(var q in this.situation.once)q>this.lastPos&&q<=Q&&(this.situation.once[q].call(this.target(),this.pos,Q),delete this.situation.once[q]);return this.active&&this.target().fire("during",{pos:this.pos,eased:Q,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=Q,this):this},eachAt:function(){var b,I=this,N=this.target(),U=this.situation;for(var Q in U.animations)b=[].concat(U.animations[Q]).map(function(_e){return"string"!=typeof _e&&_e.at?_e.at(U.ease(I.pos),I.pos):_e}),N[Q].apply(N,b);for(var Q in U.attrs)b=[Q].concat(U.attrs[Q]).map(function(Oe){return"string"!=typeof Oe&&Oe.at?Oe.at(U.ease(I.pos),I.pos):Oe}),N.attr.apply(N,b);for(var Q in U.styles)b=[Q].concat(U.styles[Q]).map(function(Oe){return"string"!=typeof Oe&&Oe.at?Oe.at(U.ease(I.pos),I.pos):Oe}),N.style.apply(N,b);if(U.transforms.length){b=U.initialTransformation,Q=0;for(var q=U.transforms.length;Q<q;Q++){var ye=U.transforms[Q];ye instanceof l.Matrix?b=ye.relative?b.multiply((new l.Matrix).morph(ye).at(U.ease(this.pos))):b.morph(ye).at(U.ease(this.pos)):(ye.relative||ye.undo(b.extract()),b=b.multiply(ye.at(U.ease(this.pos))))}N.matrix(b)}return this},once:function(b,I,N){var U=this.last();return N||(b=U.ease(b)),U.once[b]=I,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:l.Element,construct:{animate:function(b,I,N){return(this.fx||(this.fx=new l.FX(this))).animate(b,I,N)},delay:function(b){return(this.fx||(this.fx=new l.FX(this))).delay(b)},stop:function(b,I){return this.fx&&this.fx.stop(b,I),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),l.MorphObj=l.invent({create:function(b,I){return l.Color.isColor(I)?new l.Color(b).morph(I):l.regex.delimiter.test(b)?l.regex.pathLetters.test(b)?new l.PathArray(b).morph(I):new l.Array(b).morph(I):l.regex.numberAndUnit.test(I)?new l.Number(b).morph(I):(this.value=b,void(this.destination=I))},extend:{at:function(b,I){return I<1?this.value:this.destination},valueOf:function(){return this.value}}}),l.extend(l.FX,{attr:function(b,I,N){if("object"===bt(b))for(var U in b)this.attr(U,b[U]);else this.add(b,I,"attrs");return this},plot:function(b,I,N,U){return 4==arguments.length?this.plot([b,I,N,U]):this.add("plot",new(this.target().morphArray)(b))}}),l.Box=l.invent({create:function(b,I,N,U){if(!("object"!==bt(b)||b instanceof l.Element))return l.Box.call(this,null!=b.left?b.left:b.x,null!=b.top?b.top:b.y,b.width,b.height);var Q;4==arguments.length&&(this.x=b,this.y=I,this.width=N,this.height=U),null==(Q=this).x&&(Q.x=0,Q.y=0,Q.width=0,Q.height=0),Q.w=Q.width,Q.h=Q.height,Q.x2=Q.x+Q.width,Q.y2=Q.y+Q.height,Q.cx=Q.x+Q.width/2,Q.cy=Q.y+Q.height/2}}),l.BBox=l.invent({create:function(b){if(l.Box.apply(this,[].slice.call(arguments)),b instanceof l.Element){var I;try{if(!a.documentElement.contains){for(var N=b.node;N.parentNode;)N=N.parentNode;if(N!=a)throw new Error("Element not in the dom")}I=b.node.getBBox()}catch{if(b instanceof l.Shape){l.parser.draw||l.prepare();var U=b.clone(l.parser.draw.instance).show();U&&U.node&&"function"==typeof U.node.getBBox&&(I=U.node.getBBox()),U&&"function"==typeof U.remove&&U.remove()}else I={x:b.node.clientLeft,y:b.node.clientTop,width:b.node.clientWidth,height:b.node.clientHeight}}l.Box.call(this,I)}},inherit:l.Box,parent:l.Element,construct:{bbox:function(){return new l.BBox(this)}}}),l.BBox.prototype.constructor=l.BBox,l.Matrix=l.invent({create:function(b){var I=P([1,0,0,1,0,0]);b=null===b?I:b instanceof l.Element?b.matrixify():"string"==typeof b?P(b.split(l.regex.delimiter).map(parseFloat)):6==arguments.length?P([].slice.call(arguments)):Array.isArray(b)?P(b):b&&"object"===bt(b)?b:I;for(var N=$.length-1;N>=0;--N)this[$[N]]=null!=b[$[N]]?b[$[N]]:I[$[N]]},extend:{extract:function(){var b=O(this,0,1);O(this,1,0);var I=180/Math.PI*Math.atan2(b.y,b.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(I*Math.PI/180)+this.f*Math.sin(I*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(I*Math.PI/180)+this.e*Math.sin(-I*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:I,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new l.Matrix(this)}},clone:function(){return new l.Matrix(this)},morph:function(b){return this.destination=new l.Matrix(b),this},multiply:function(b){return new l.Matrix(this.native().multiply((I=b,I instanceof l.Matrix||(I=new l.Matrix(I)),I).native()));var I},inverse:function(){return new l.Matrix(this.native().inverse())},translate:function(b,I){return new l.Matrix(this.native().translate(b||0,I||0))},native:function(){for(var b=l.parser.native.createSVGMatrix(),I=$.length-1;I>=0;I--)b[$[I]]=this[$[I]];return b},toString:function(){return"matrix("+z(this.a)+","+z(this.b)+","+z(this.c)+","+z(this.d)+","+z(this.e)+","+z(this.f)+")"}},parent:l.Element,construct:{ctm:function(){return new l.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof l.Nested){var b=this.rect(1,1),I=b.node.getScreenCTM();return b.remove(),new l.Matrix(I)}return new l.Matrix(this.node.getScreenCTM())}}}),l.Point=l.invent({create:function(b,I){var N;N=Array.isArray(b)?{x:b[0],y:b[1]}:"object"===bt(b)?{x:b.x,y:b.y}:null!=b?{x:b,y:I??b}:{x:0,y:0},this.x=N.x,this.y=N.y},extend:{clone:function(){return new l.Point(this)},morph:function(b,I){return this.destination=new l.Point(b,I),this}}}),l.extend(l.Element,{point:function(b,I){return new l.Point(b,I).transform(this.screenCTM().inverse())}}),l.extend(l.Element,{attr:function(b,I,N){if(null==b){for(b={},N=(I=this.node.attributes).length-1;N>=0;N--)b[I[N].nodeName]=l.regex.isNumber.test(I[N].nodeValue)?parseFloat(I[N].nodeValue):I[N].nodeValue;return b}if("object"===bt(b))for(var U in b)this.attr(U,b[U]);else if(null===I)this.node.removeAttribute(b);else{if(null==I)return null==(I=this.node.getAttribute(b))?l.defaults.attrs[b]:l.regex.isNumber.test(I)?parseFloat(I):I;"stroke-width"==b?this.attr("stroke",parseFloat(I)>0?this._stroke:null):"stroke"==b&&(this._stroke=I),"fill"!=b&&"stroke"!=b||(l.regex.isImage.test(I)&&(I=this.doc().defs().image(I,0,0)),I instanceof l.Image&&(I=this.doc().defs().pattern(0,0,function(){this.add(I)}))),"number"==typeof I?I=new l.Number(I):l.Color.isColor(I)?I=new l.Color(I):Array.isArray(I)&&(I=new l.Array(I)),"leading"==b?this.leading&&this.leading(I):"string"==typeof N?this.node.setAttributeNS(N,b,I.toString()):this.node.setAttribute(b,I.toString()),!this.rebuild||"font-size"!=b&&"x"!=b||this.rebuild(b,I)}return this}}),l.extend(l.Element,{transform:function(b,I){var N;return"object"!==bt(b)?(N=new l.Matrix(this).extract(),"string"==typeof b?N[b]:N):(N=new l.Matrix(this),I=!!I||!!b.relative,null!=b.a&&(N=I?N.multiply(new l.Matrix(b)):new l.Matrix(b)),this.attr("transform",N))}}),l.extend(l.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(l.regex.transforms).slice(0,-1).map(function(b){var I=b.trim().split("(");return[I[0],I[1].split(l.regex.delimiter).map(function(N){return parseFloat(N)})]}).reduce(function(b,I){return"matrix"==I[0]?b.multiply(P(I[1])):b[I[0]].apply(b,I[1])},new l.Matrix)},toParent:function(b){if(this==b)return this;var I=this.screenCTM(),N=b.screenCTM().inverse();return this.addTo(b).untransform().transform(N.multiply(I)),this},toDoc:function(){return this.toParent(this.doc())}}),l.Transformation=l.invent({create:function(b,I){if(arguments.length>1&&"boolean"!=typeof I)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(b))for(var N=0,U=this.arguments.length;N<U;++N)this[this.arguments[N]]=b[N];else if(b&&"object"===bt(b))for(N=0,U=this.arguments.length;N<U;++N)this[this.arguments[N]]=b[this.arguments[N]];this.inversed=!1,!0===I&&(this.inversed=!0)}}),l.Translate=l.invent({parent:l.Matrix,inherit:l.Transformation,create:function(b,I){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),l.extend(l.Element,{style:function(b,I){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===bt(b))for(var N in b)this.style(N,b[N]);else{if(!l.regex.isCss.test(b))return this.node.style[w(b)];for(b=b.split(/\s*;\s*/).filter(function(U){return!!U}).map(function(U){return U.split(/\s*:\s*/)});I=b.pop();)this.style(I[0],I[1])}else this.node.style[w(b)]=null===I||l.regex.isBlank.test(I)?"":I;return this}}),l.Parent=l.invent({create:function(b){this.constructor.call(this,b)},inherit:l.Element,extend:{children:function(){return l.utils.map(l.utils.filterSVGElements(this.node.childNodes),function(b){return l.adopt(b)})},add:function(b,I){return null==I?this.node.appendChild(b.node):b.node!=this.node.childNodes[I]&&this.node.insertBefore(b.node,this.node.childNodes[I]),this},put:function(b,I){return this.add(b,I),b},has:function(b){return this.index(b)>=0},index:function(b){return[].slice.call(this.node.childNodes).indexOf(b.node)},get:function(b){return l.adopt(this.node.childNodes[b])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(b,I){for(var N=this.children(),U=0,Q=N.length;U<Q;U++)N[U]instanceof l.Element&&b.apply(N[U],[U,N]),I&&N[U]instanceof l.Container&&N[U].each(b,I);return this},removeElement:function(b){return this.node.removeChild(b.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),l.extend(l.Parent,{ungroup:function(b,I){return 0===I||this instanceof l.Defs||this.node==l.parser.draw||(b=b||(this instanceof l.Doc?this:this.parent(l.Parent)),I=I||1/0,this.each(function(){return this instanceof l.Defs?this:this instanceof l.Parent?this.ungroup(b,I-1):this.toParent(b)}),this.node.firstChild||this.remove()),this},flatten:function(b,I){return this.ungroup(b,I)}}),l.Container=l.invent({create:function(b){this.constructor.call(this,b)},inherit:l.Parent}),l.ViewBox=l.invent({parent:l.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(b){l.Element.prototype[b]=function(I){return l.on(this.node,b,I),this}}),l.listeners=[],l.handlerMap=[],l.listenerId=0,l.on=function(b,I,N,U,Q){var q=N.bind(U||b.instance||b),ye=(l.handlerMap.indexOf(b)+1||l.handlerMap.push(b))-1,_e=I.split(".")[0],Oe=I.split(".")[1]||"*";l.listeners[ye]=l.listeners[ye]||{},l.listeners[ye][_e]=l.listeners[ye][_e]||{},l.listeners[ye][_e][Oe]=l.listeners[ye][_e][Oe]||{},N._svgjsListenerId||(N._svgjsListenerId=++l.listenerId),l.listeners[ye][_e][Oe][N._svgjsListenerId]=q,b.addEventListener(_e,q,Q||{passive:!0})},l.off=function(b,I,N){var U=l.handlerMap.indexOf(b),Q=I&&I.split(".")[0],q=I&&I.split(".")[1],ye="";if(-1!=U)if(N){if("function"==typeof N&&(N=N._svgjsListenerId),!N)return;l.listeners[U][Q]&&l.listeners[U][Q][q||"*"]&&(b.removeEventListener(Q,l.listeners[U][Q][q||"*"][N],!1),delete l.listeners[U][Q][q||"*"][N])}else if(q&&Q){if(l.listeners[U][Q]&&l.listeners[U][Q][q]){for(var _e in l.listeners[U][Q][q])l.off(b,[Q,q].join("."),_e);delete l.listeners[U][Q][q]}}else if(q)for(var Oe in l.listeners[U])for(var ye in l.listeners[U][Oe])q===ye&&l.off(b,[Oe,q].join("."));else if(Q){if(l.listeners[U][Q]){for(var ye in l.listeners[U][Q])l.off(b,[Q,ye].join("."));delete l.listeners[U][Q]}}else{for(var Oe in l.listeners[U])l.off(b,Oe);delete l.listeners[U],delete l.handlerMap[U]}},l.extend(l.Element,{on:function(b,I,N,U){return l.on(this.node,b,I,N,U),this},off:function(b,I){return l.off(this.node,b,I),this},fire:function(b,I){return this.node.dispatchEvent(b instanceof V.Event?b:b=new l.CustomEvent(b,{detail:I,cancelable:!0})),this._event=b,this},event:function(){return this._event}}),l.Defs=l.invent({create:"defs",inherit:l.Container}),l.G=l.invent({create:"g",inherit:l.Container,extend:{x:function(b){return null==b?this.transform("x"):this.transform({x:b-this.x()},!0)}},construct:{group:function(){return this.put(new l.G)}}}),l.Doc=l.invent({create:function(b){b&&("svg"==(b="string"==typeof b?a.getElementById(b):b).nodeName?this.constructor.call(this,b):(this.constructor.call(this,l.create("svg")),b.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:l.Container,extend:{namespace:function(){return this.attr({xmlns:l.ns,version:"1.1"}).attr("xmlns:xlink",l.xlink,l.xmlns).attr("xmlns:svgjs",l.svgjs,l.xmlns)},defs:function(){var b;return this._defs||(this._defs=(b=this.node.getElementsByTagName("defs")[0])?l.adopt(b):new l.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,l.parser.draw&&!l.parser.draw.parentNode&&this.node.appendChild(l.parser.draw),this},clone:function(b){this.writeDataToDom();var I=this.node,N=L(I.cloneNode(!0));return b?(b.node||b).appendChild(N.node):I.parentNode.insertBefore(N.node,I.nextSibling),N}}}),l.extend(l.Element,{}),l.Gradient=l.invent({create:function(b){this.constructor.call(this,l.create(b+"Gradient")),this.type=b},inherit:l.Container,extend:{at:function(b,I,N){return this.put(new l.Stop).update(b,I,N)},update:function(b){return this.clear(),"function"==typeof b&&b.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(b,I,N){return"transform"==b&&(b="gradientTransform"),l.Container.prototype.attr.call(this,b,I,N)}},construct:{gradient:function(b,I){return this.defs().gradient(b,I)}}}),l.extend(l.Gradient,l.FX,{from:function(b,I){return this.attr("radial"==(this._target||this).type?{fx:new l.Number(b),fy:new l.Number(I)}:{x1:new l.Number(b),y1:new l.Number(I)})},to:function(b,I){return this.attr("radial"==(this._target||this).type?{cx:new l.Number(b),cy:new l.Number(I)}:{x2:new l.Number(b),y2:new l.Number(I)})}}),l.extend(l.Defs,{gradient:function(b,I){return this.put(new l.Gradient(b)).update(I)}}),l.Stop=l.invent({create:"stop",inherit:l.Element,extend:{update:function(b){return("number"==typeof b||b instanceof l.Number)&&(b={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=b.opacity&&this.attr("stop-opacity",b.opacity),null!=b.color&&this.attr("stop-color",b.color),null!=b.offset&&this.attr("offset",new l.Number(b.offset)),this}}}),l.Pattern=l.invent({create:"pattern",inherit:l.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(b){return this.clear(),"function"==typeof b&&b.call(this,this),this},toString:function(){return this.fill()},attr:function(b,I,N){return"transform"==b&&(b="patternTransform"),l.Container.prototype.attr.call(this,b,I,N)}},construct:{pattern:function(b,I,N){return this.defs().pattern(b,I,N)}}}),l.extend(l.Defs,{pattern:function(b,I,N){return this.put(new l.Pattern).update(N).attr({x:0,y:0,width:b,height:I,patternUnits:"userSpaceOnUse"})}}),l.Shape=l.invent({create:function(b){this.constructor.call(this,b)},inherit:l.Element}),l.Symbol=l.invent({create:"symbol",inherit:l.Container,construct:{symbol:function(){return this.put(new l.Symbol)}}}),l.Use=l.invent({create:"use",inherit:l.Shape,extend:{element:function(b,I){return this.attr("href",(I||"")+"#"+b,l.xlink)}},construct:{use:function(b,I){return this.put(new l.Use).element(b,I)}}}),l.Rect=l.invent({create:"rect",inherit:l.Shape,construct:{rect:function(b,I){return this.put(new l.Rect).size(b,I)}}}),l.Circle=l.invent({create:"circle",inherit:l.Shape,construct:{circle:function(b){return this.put(new l.Circle).rx(new l.Number(b).divide(2)).move(0,0)}}}),l.extend(l.Circle,l.FX,{rx:function(b){return this.attr("r",b)},ry:function(b){return this.rx(b)}}),l.Ellipse=l.invent({create:"ellipse",inherit:l.Shape,construct:{ellipse:function(b,I){return this.put(new l.Ellipse).size(b,I).move(0,0)}}}),l.extend(l.Ellipse,l.Rect,l.FX,{rx:function(b){return this.attr("rx",b)},ry:function(b){return this.attr("ry",b)}}),l.extend(l.Circle,l.Ellipse,{x:function(b){return null==b?this.cx()-this.rx():this.cx(b+this.rx())},y:function(b){return null==b?this.cy()-this.ry():this.cy(b+this.ry())},cx:function(b){return null==b?this.attr("cx"):this.attr("cx",b)},cy:function(b){return null==b?this.attr("cy"):this.attr("cy",b)},width:function(b){return null==b?2*this.rx():this.rx(new l.Number(b).divide(2))},height:function(b){return null==b?2*this.ry():this.ry(new l.Number(b).divide(2))},size:function(b,I){var N=k(this,b,I);return this.rx(new l.Number(N.width).divide(2)).ry(new l.Number(N.height).divide(2))}}),l.Line=l.invent({create:"line",inherit:l.Shape,extend:{array:function(){return new l.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(b,I,N,U){return null==b?this.array():(b=void 0!==I?{x1:b,y1:I,x2:N,y2:U}:new l.PointArray(b).toLine(),this.attr(b))},move:function(b,I){return this.attr(this.array().move(b,I).toLine())},size:function(b,I){var N=k(this,b,I);return this.attr(this.array().size(N.width,N.height).toLine())}},construct:{line:function(b,I,N,U){return l.Line.prototype.plot.apply(this.put(new l.Line),null!=b?[b,I,N,U]:[0,0,0,0])}}}),l.Polyline=l.invent({create:"polyline",inherit:l.Shape,construct:{polyline:function(b){return this.put(new l.Polyline).plot(b||new l.PointArray)}}}),l.Polygon=l.invent({create:"polygon",inherit:l.Shape,construct:{polygon:function(b){return this.put(new l.Polygon).plot(b||new l.PointArray)}}}),l.extend(l.Polyline,l.Polygon,{array:function(){return this._array||(this._array=new l.PointArray(this.attr("points")))},plot:function(b){return null==b?this.array():this.clear().attr("points","string"==typeof b?b:this._array=new l.PointArray(b))},clear:function(){return delete this._array,this},move:function(b,I){return this.attr("points",this.array().move(b,I))},size:function(b,I){var N=k(this,b,I);return this.attr("points",this.array().size(N.width,N.height))}}),l.extend(l.Line,l.Polyline,l.Polygon,{morphArray:l.PointArray,x:function(b){return null==b?this.bbox().x:this.move(b,this.bbox().y)},y:function(b){return null==b?this.bbox().y:this.move(this.bbox().x,b)},width:function(b){var I=this.bbox();return null==b?I.width:this.size(b,I.height)},height:function(b){var I=this.bbox();return null==b?I.height:this.size(I.width,b)}}),l.Path=l.invent({create:"path",inherit:l.Shape,extend:{morphArray:l.PathArray,array:function(){return this._array||(this._array=new l.PathArray(this.attr("d")))},plot:function(b){return null==b?this.array():this.clear().attr("d","string"==typeof b?b:this._array=new l.PathArray(b))},clear:function(){return delete this._array,this}},construct:{path:function(b){return this.put(new l.Path).plot(b||new l.PathArray)}}}),l.Image=l.invent({create:"image",inherit:l.Shape,extend:{load:function(b){if(!b)return this;var I=this,N=new V.Image;return l.on(N,"load",function(){l.off(N);var U=I.parent(l.Pattern);null!==U&&(0==I.width()&&0==I.height()&&I.size(N.width,N.height),U&&0==U.width()&&0==U.height()&&U.size(I.width(),I.height()),"function"==typeof I._loaded&&I._loaded.call(I,{width:N.width,height:N.height,ratio:N.width/N.height,url:b}))}),l.on(N,"error",function(U){l.off(N),"function"==typeof I._error&&I._error.call(I,U)}),this.attr("href",N.src=this.src=b,l.xlink)},loaded:function(b){return this._loaded=b,this},error:function(b){return this._error=b,this}},construct:{image:function(b,I,N){return this.put(new l.Image).load(b).size(I||0,N||I||0)}}}),l.Text=l.invent({create:function(){this.constructor.call(this,l.create("text")),this.dom.leading=new l.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",l.defaults.attrs["font-family"])},inherit:l.Shape,extend:{x:function(b){return null==b?this.attr("x"):this.attr("x",b)},text:function(b){if(void 0===b){b="";for(var I=this.node.childNodes,N=0,U=I.length;N<U;++N)0!=N&&3!=I[N].nodeType&&1==l.adopt(I[N]).dom.newLined&&(b+="\n"),b+=I[N].textContent;return b}if(this.clear().build(!0),"function"==typeof b)b.call(this,this);else{N=0;for(var Q=(b=b.split("\n")).length;N<Q;N++)this.tspan(b[N]).newLine()}return this.build(!1).rebuild()},size:function(b){return this.attr("font-size",b).rebuild()},leading:function(b){return null==b?this.dom.leading:(this.dom.leading=new l.Number(b),this.rebuild())},lines:function(){var b=(this.textPath&&this.textPath()||this).node,I=l.utils.map(l.utils.filterSVGElements(b.childNodes),function(N){return l.adopt(N)});return new l.Set(I)},rebuild:function(b){if("boolean"==typeof b&&(this._rebuild=b),this._rebuild){var I=this,N=0,U=this.dom.leading*new l.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(I.textPath()||this.attr("x",I.attr("x")),"\n"==this.text()?N+=U:(this.attr("dy",U+N),N=0))}),this.fire("rebuild")}return this},build:function(b){return this._build=!!b,this},setData:function(b){return this.dom=b,this.dom.leading=new l.Number(b.leading||1.3),this}},construct:{text:function(b){return this.put(new l.Text).text(b)},plain:function(b){return this.put(new l.Text).plain(b)}}}),l.Tspan=l.invent({create:"tspan",inherit:l.Shape,extend:{text:function(b){return null==b?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof b?b.call(this,this):this.plain(b),this)},dx:function(b){return this.attr("dx",b)},dy:function(b){return this.attr("dy",b)},newLine:function(){var b=this.parent(l.Text);return this.dom.newLined=!0,this.dy(b.dom.leading*b.attr("font-size")).attr("x",b.x())}}}),l.extend(l.Text,l.Tspan,{plain:function(b){return!1===this._build&&this.clear(),this.node.appendChild(a.createTextNode(b)),this},tspan:function(b){var I=(this.textPath&&this.textPath()||this).node,N=new l.Tspan;return!1===this._build&&this.clear(),I.appendChild(N.node),N.text(b)},clear:function(){for(var b=(this.textPath&&this.textPath()||this).node;b.hasChildNodes();)b.removeChild(b.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),l.TextPath=l.invent({create:"textPath",inherit:l.Parent,parent:l.Text,construct:{morphArray:l.PathArray,array:function(){var b=this.track();return b?b.array():null},plot:function(b){var I=this.track(),N=null;return I&&(N=I.plot(b)),null==b?N:this},track:function(){var b=this.textPath();if(b)return b.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return l.adopt(this.node.firstChild)}}}),l.Nested=l.invent({create:function(){this.constructor.call(this,l.create("svg")),this.style("overflow","visible")},inherit:l.Container,construct:{nested:function(){return this.put(new l.Nested)}}});var m={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(b,I){return"color"==I?b:b+"-"+I}};function v(b,I,N,U){return N+U.replace(l.regex.dots," .")}function w(b){return b.toLowerCase().replace(/-(.)/g,function(I,N){return N.toUpperCase()})}function E(b){return b.charAt(0).toUpperCase()+b.slice(1)}function D(b){var I=b.toString(16);return 1==I.length?"0"+I:I}function k(b,I,N){if(null==I||null==N){var U=b.bbox();null==I?I=U.width/U.height*N:null==N&&(N=U.height/U.width*I)}return{width:I,height:N}}function O(b,I,N){return{x:I*b.a+N*b.c+0,y:I*b.b+N*b.d+0}}function P(b){return{a:b[0],b:b[1],c:b[2],d:b[3],e:b[4],f:b[5]}}function L(b){for(var I=b.childNodes.length-1;I>=0;I--)b.childNodes[I]instanceof V.SVGElement&&L(b.childNodes[I]);return l.adopt(b).id(l.eid(b.nodeName))}function z(b){return Math.abs(b)>1e-37?b:0}["fill","stroke"].forEach(function(b){var I={};I[b]=function(N){if(void 0===N)return this;if("string"==typeof N||l.Color.isRgb(N)||N&&"function"==typeof N.fill)this.attr(b,N);else for(var U=m[b].length-1;U>=0;U--)null!=N[m[b][U]]&&this.attr(m.prefix(b,m[b][U]),N[m[b][U]]);return this},l.extend(l.Element,l.FX,I)}),l.extend(l.Element,l.FX,{translate:function(b,I){return this.transform({x:b,y:I})},matrix:function(b){return this.attr("transform",new l.Matrix(6==arguments.length?[].slice.call(arguments):b))},opacity:function(b){return this.attr("opacity",b)},dx:function(b){return this.x(new l.Number(b).plus(this instanceof l.FX?0:this.x()),!0)},dy:function(b){return this.y(new l.Number(b).plus(this instanceof l.FX?0:this.y()),!0)}}),l.extend(l.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(b){return this.node.getPointAtLength(b)}}),l.Set=l.invent({create:function(b){Array.isArray(b)?this.members=b:this.clear()},extend:{add:function(){for(var b=[].slice.call(arguments),I=0,N=b.length;I<N;I++)this.members.push(b[I]);return this},remove:function(b){var I=this.index(b);return I>-1&&this.members.splice(I,1),this},each:function(b){for(var I=0,N=this.members.length;I<N;I++)b.apply(this.members[I],[I,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(b){return this.index(b)>=0},index:function(b){return this.members.indexOf(b)},get:function(b){return this.members[b]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(b){return new l.Set(b)}}}),l.FX.Set=l.invent({create:function(b){this.set=b}}),l.Set.inherit=function(){var b=[];for(var I in l.Shape.prototype)"function"==typeof l.Shape.prototype[I]&&"function"!=typeof l.Set.prototype[I]&&b.push(I);for(var I in b.forEach(function(U){l.Set.prototype[U]=function(){for(var Q=0,q=this.members.length;Q<q;Q++)this.members[Q]&&"function"==typeof this.members[Q][U]&&this.members[Q][U].apply(this.members[Q],arguments);return"animate"==U?this.fx||(this.fx=new l.FX.Set(this)):this}}),b=[],l.FX.prototype)"function"==typeof l.FX.prototype[I]&&"function"!=typeof l.FX.Set.prototype[I]&&b.push(I);b.forEach(function(N){l.FX.Set.prototype[N]=function(){for(var U=0,Q=this.set.members.length;U<Q;U++)this.set.members[U].fx[N].apply(this.set.members[U].fx,arguments);return this}})},l.extend(l.Element,{}),l.extend(l.Element,{remember:function(b,I){if("object"===bt(arguments[0]))for(var N in b)this.remember(N,b[N]);else{if(1==arguments.length)return this.memory()[b];this.memory()[b]=I}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var b=arguments.length-1;b>=0;b--)delete this.memory()[arguments[b]];return this},memory:function(){return this._memory||(this._memory={})}}),l.get=function(b){var I=a.getElementById(function(N){var U=(N||"").toString().match(l.regex.reference);if(U)return U[1]}(b)||b);return l.adopt(I)},l.select=function(b,I){return new l.Set(l.utils.map((I||a).querySelectorAll(b),function(N){return l.adopt(N)}))},l.extend(l.Parent,{select:function(b){return l.select(b,this.node)}});var $="abcdef".split("");if("function"!=typeof V.CustomEvent){var K=function(b,I){I=I||{bubbles:!1,cancelable:!1,detail:void 0};var N=a.createEvent("CustomEvent");return N.initCustomEvent(b,I.bubbles,I.cancelable,I.detail),N};K.prototype=V.Event.prototype,l.CustomEvent=K}else l.CustomEvent=V.CustomEvent;return l},void 0!==(re=function(){return ri(tn,tn.document)}.call(Wi,$t,Wi,Kr))&&(Kr.exports=re),
/*! svg.filter.js - v2.0.2 - 2016-02-24
        * https://github.com/wout/svg.filter.js
        * Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(g,m){return this.add(g,m),!g.attr("in")&&this.autoSetIn&&g.attr("in",this.source),g.attr("result")||g.attr("result",g),g},blend:function(g,m,v){return this.put(new SVG.BlendEffect(g,m,v))},colorMatrix:function(g,m){return this.put(new SVG.ColorMatrixEffect(g,m))},convolveMatrix:function(g){return this.put(new SVG.ConvolveMatrixEffect(g))},componentTransfer:function(g){return this.put(new SVG.ComponentTransferEffect(g))},composite:function(g,m,v){return this.put(new SVG.CompositeEffect(g,m,v))},flood:function(g,m){return this.put(new SVG.FloodEffect(g,m))},offset:function(g,m){return this.put(new SVG.OffsetEffect(g,m))},image:function(g){return this.put(new SVG.ImageEffect(g))},merge:function(){var g=[void 0];for(var m in arguments)g.push(arguments[m]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,g)))},gaussianBlur:function(g,m){return this.put(new SVG.GaussianBlurEffect(g,m))},morphology:function(g,m){return this.put(new SVG.MorphologyEffect(g,m))},diffuseLighting:function(g,m,v){return this.put(new SVG.DiffuseLightingEffect(g,m,v))},displacementMap:function(g,m,v,w,E){return this.put(new SVG.DisplacementMapEffect(g,m,v,w,E))},specularLighting:function(g,m,v,w){return this.put(new SVG.SpecularLightingEffect(g,m,v,w))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(g,m,v,w,E){return this.put(new SVG.TurbulenceEffect(g,m,v,w,E))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(g){var m=this.put(new SVG.Filter);return"function"==typeof g&&g.call(m,m),m}}),SVG.extend(SVG.Container,{filter:function(g){return this.defs().filter(g)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(g){return this.filterer=g instanceof SVG.Element?g:this.doc().filter(g),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(g){return this.filterer&&!0===g&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",g)},result:function(g){return null==g?this.attr("result"):this.attr("result",g)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",g)},result:function(g){return null==g?this.attr("result"):this.attr("result",g)},toString:function(){return this.result()}}});var V={blend:function(g,m){return this.parent()&&this.parent().blend(this,g,m)},colorMatrix:function(g,m){return this.parent()&&this.parent().colorMatrix(g,m).in(this)},convolveMatrix:function(g){return this.parent()&&this.parent().convolveMatrix(g).in(this)},componentTransfer:function(g){return this.parent()&&this.parent().componentTransfer(g).in(this)},composite:function(g,m){return this.parent()&&this.parent().composite(this,g,m)},flood:function(g,m){return this.parent()&&this.parent().flood(g,m)},offset:function(g,m){return this.parent()&&this.parent().offset(g,m).in(this)},image:function(g){return this.parent()&&this.parent().image(g)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(g,m){return this.parent()&&this.parent().gaussianBlur(g,m).in(this)},morphology:function(g,m){return this.parent()&&this.parent().morphology(g,m).in(this)},diffuseLighting:function(g,m,v){return this.parent()&&this.parent().diffuseLighting(g,m,v).in(this)},displacementMap:function(g,m,v,w){return this.parent()&&this.parent().displacementMap(this,g,m,v,w)},specularLighting:function(g,m,v,w){return this.parent()&&this.parent().specularLighting(g,m,v,w).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(g,m,v,w,E){return this.parent()&&this.parent().turbulence(g,m,v,w,E).in(this)}};SVG.extend(SVG.Effect,V),SVG.extend(SVG.ParentEffect,V),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(g){this.attr("in",g)}}});var a={blend:function(g,m,v){this.attr({in:g,in2:m,mode:v||"normal"})},colorMatrix:function(g,m){"matrix"==g&&(m=h(m)),this.attr({type:g,values:void 0===m?null:m})},convolveMatrix:function(g){g=h(g),this.attr({order:Math.sqrt(g.split(" ").length),kernelMatrix:g})},composite:function(g,m,v){this.attr({in:g,in2:m,operator:v})},flood:function(g,m){this.attr("flood-color",g),null!=m&&this.attr("flood-opacity",m)},offset:function(g,m){this.attr({dx:g,dy:m})},image:function(g){this.attr("href",g,SVG.xlink)},displacementMap:function(g,m,v,w,E){this.attr({in:g,in2:m,scale:v,xChannelSelector:w,yChannelSelector:E})},gaussianBlur:function(g,m){this.attr("stdDeviation",null!=g||null!=m?function(v){if(!Array.isArray(v))return v;for(var w=0,E=v.length,D=[];w<E;w++)D.push(v[w]);return D.join(" ")}(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(g,m){this.attr({operator:g,radius:m})},tile:function(){},turbulence:function(g,m,v,w,E){this.attr({numOctaves:m,seed:v,stitchTiles:w,baseFrequency:g,type:E})}},l={merge:function(){var g;if(arguments[0]instanceof SVG.Set){var m=this;arguments[0].each(function(w){this instanceof SVG.MergeNode?m.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&m.put(new SVG.MergeNode(this))})}else{g=Array.isArray(arguments[0])?arguments[0]:arguments;for(var v=0;v<g.length;v++)g[v]instanceof SVG.MergeNode?this.put(g[v]):this.put(new SVG.MergeNode(g[v]))}},componentTransfer:function(g){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(v){this[v]=new(SVG["Func"+v.toUpperCase()])("identity"),this.rgb.add(this[v]),this.node.appendChild(this[v].node)}.bind(this)),g)for(var m in g.rgb&&(["r","g","b"].forEach(function(v){this[v].attr(g.rgb)}.bind(this)),delete g.rgb),g)this[m].attr(g[m])},diffuseLighting:function(g,m,v){this.attr({surfaceScale:g,diffuseConstant:m,kernelUnitLength:v})},specularLighting:function(g,m,v,w){this.attr({surfaceScale:g,diffuseConstant:m,specularExponent:v,kernelUnitLength:w})}},d={distantLight:function(g,m){this.attr({azimuth:g,elevation:m})},pointLight:function(g,m,v){this.attr({x:g,y:m,z:v})},spotLight:function(g,m,v,w,E,D){this.attr({x:g,y:m,z:v,pointsAtX:w,pointsAtY:E,pointsAtZ:D})},mergeNode:function(g){this.attr("in",g)}};function h(g){return Array.isArray(g)&&(g=new SVG.Array(g)),g.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function p(){var g=function(){};for(var m in"function"==typeof arguments[arguments.length-1]&&(g=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var v in arguments[m])g(arguments[m][v],v,arguments[m])}["r","g","b","a"].forEach(function(g){d["Func"+g.toUpperCase()]=function(m){switch(this.attr("type",m),m){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),p(a,function(g,m){var v=m.charAt(0).toUpperCase()+m.slice(1);SVG[v+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+v)),g.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),p(l,function(g,m){var v=m.charAt(0).toUpperCase()+m.slice(1);SVG[v+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+v)),g.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),p(d,function(g,m){var v=m.charAt(0).toUpperCase()+m.slice(1);SVG[v]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+v)),g.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(g){return g instanceof SVG.MergeNode?this.add(g,0):this.add(new SVG.MergeNode(g),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(g){return null==g?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",g)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function V(p,g,m,v,w,E,D){for(var k=p.slice(g,m||D),O=v.slice(w,E||D),P=0,L={pos:[0,0],start:[0,0]},z={pos:[0,0],start:[0,0]};k[P]=a.call(L,k[P]),O[P]=a.call(z,O[P]),k[P][0]!=O[P][0]||"M"==k[P][0]||"A"==k[P][0]&&(k[P][4]!=O[P][4]||k[P][5]!=O[P][5])?(Array.prototype.splice.apply(k,[P,1].concat(d.call(L,k[P]))),Array.prototype.splice.apply(O,[P,1].concat(d.call(z,O[P])))):(k[P]=l.call(L,k[P]),O[P]=l.call(z,O[P])),++P!=k.length||P!=O.length;)P==k.length&&k.push(["C",L.pos[0],L.pos[1],L.pos[0],L.pos[1],L.pos[0],L.pos[1]]),P==O.length&&O.push(["C",z.pos[0],z.pos[1],z.pos[0],z.pos[1],z.pos[0],z.pos[1]]);return{start:k,dest:O}}function a(p){switch(p[0]){case"z":case"Z":p[0]="L",p[1]=this.start[0],p[2]=this.start[1];break;case"H":p[0]="L",p[2]=this.pos[1];break;case"V":p[0]="L",p[2]=p[1],p[1]=this.pos[0];break;case"T":p[0]="Q",p[3]=p[1],p[4]=p[2],p[1]=this.reflection[1],p[2]=this.reflection[0];break;case"S":p[0]="C",p[6]=p[4],p[5]=p[3],p[4]=p[2],p[3]=p[1],p[2]=this.reflection[1],p[1]=this.reflection[0]}return p}function l(p){var g=p.length;return this.pos=[p[g-2],p[g-1]],-1!="SCQT".indexOf(p[0])&&(this.reflection=[2*this.pos[0]-p[g-4],2*this.pos[1]-p[g-3]]),p}function d(p){var g=[p];switch(p[0]){case"M":return this.pos=this.start=[p[1],p[2]],g;case"L":p[5]=p[3]=p[1],p[6]=p[4]=p[2],p[1]=this.pos[0],p[2]=this.pos[1];break;case"Q":p[6]=p[4],p[5]=p[3],p[4]=1*p[4]/3+2*p[2]/3,p[3]=1*p[3]/3+2*p[1]/3,p[2]=1*this.pos[1]/3+2*p[2]/3,p[1]=1*this.pos[0]/3+2*p[1]/3;break;case"A":p=(g=function(m,v){var w,E,D,k,O,P,L,z,$,K,b,I,N,U,Q,q,ye,_e,Oe,ce,qe,ke,xt,nn,Sn,qn,Ci=Math.abs(v[1]),si=Math.abs(v[2]),Hi=v[3]%360,xs=v[4],Ka=v[5],mn=v[6],Ma=v[7],Br=new SVG.Point(m),hi=new SVG.Point(mn,Ma),bc=[];if(0===Ci||0===si||Br.x===hi.x&&Br.y===hi.y)return[["C",Br.x,Br.y,hi.x,hi.y,hi.x,hi.y]];for((E=(w=new SVG.Point((Br.x-hi.x)/2,(Br.y-hi.y)/2).transform((new SVG.Matrix).rotate(Hi))).x*w.x/(Ci*Ci)+w.y*w.y/(si*si))>1&&(Ci*=E=Math.sqrt(E),si*=E),D=(new SVG.Matrix).rotate(Hi).scale(1/Ci,1/si).rotate(-Hi),Br=Br.transform(D),P=(k=[(hi=hi.transform(D)).x-Br.x,hi.y-Br.y])[0]*k[0]+k[1]*k[1],O=Math.sqrt(P),k[0]/=O,k[1]/=O,L=P<4?Math.sqrt(1-P/4):0,xs===Ka&&(L*=-1),z=new SVG.Point((hi.x+Br.x)/2+L*-k[1],(hi.y+Br.y)/2+L*k[0]),$=new SVG.Point(Br.x-z.x,Br.y-z.y),K=new SVG.Point(hi.x-z.x,hi.y-z.y),b=Math.acos($.x/Math.sqrt($.x*$.x+$.y*$.y)),$.y<0&&(b*=-1),I=Math.acos(K.x/Math.sqrt(K.x*K.x+K.y*K.y)),K.y<0&&(I*=-1),Ka&&b>I&&(I+=2*Math.PI),!Ka&&b<I&&(I-=2*Math.PI),q=[],ye=b,N=(I-b)/(U=Math.ceil(2*Math.abs(b-I)/Math.PI)),Q=4*Math.tan(N/4)/3,qe=0;qe<=U;qe++)Oe=Math.cos(ye),_e=Math.sin(ye),ce=new SVG.Point(z.x+Oe,z.y+_e),q[qe]=[new SVG.Point(ce.x+Q*_e,ce.y-Q*Oe),ce,new SVG.Point(ce.x-Q*_e,ce.y+Q*Oe)],ye+=N;for(q[0][0]=q[0][1].clone(),q[q.length-1][2]=q[q.length-1][1].clone(),D=(new SVG.Matrix).rotate(Hi).scale(Ci,si).rotate(-Hi),qe=0,ke=q.length;qe<ke;qe++)q[qe][0]=q[qe][0].transform(D),q[qe][1]=q[qe][1].transform(D),q[qe][2]=q[qe][2].transform(D);for(qe=1,ke=q.length;qe<ke;qe++)xt=(ce=q[qe-1][2]).x,nn=ce.y,Sn=(ce=q[qe][0]).x,qn=ce.y,mn=(ce=q[qe][1]).x,bc.push(["C",xt,nn,Sn,qn,mn,Ma=ce.y]);return bc}(this.pos,p))[0]}return p[0]="C",this.pos=[p[5],p[6]],this.reflection=[2*p[5]-p[3],2*p[6]-p[4]],g}function h(p,g){if(!1===g)return!1;for(var m=g,v=p.length;m<v;++m)if("M"==p[m][0])return m;return!1}SVG.extend(SVG.PathArray,{morph:function(p){for(var g=this.value,m=this.parse(p),v=0,w=0,E=!1,D=!1;!1!==v||!1!==w;){var k;E=h(g,!1!==v&&v+1),D=h(m,!1!==w&&w+1),!1===v&&(v=0==(k=new SVG.PathArray(O.start).bbox()).height||0==k.width?g.push(g[0])-1:g.push(["M",k.x+k.width/2,k.y+k.height/2])-1),!1===w&&(w=0==(k=new SVG.PathArray(O.dest).bbox()).height||0==k.width?m.push(m[0])-1:m.push(["M",k.x+k.width/2,k.y+k.height/2])-1);var O=V(g,v,E,m,w,D);g=g.slice(0,v).concat(O.start,!1===E?[]:g.slice(E)),m=m.slice(0,w).concat(O.dest,!1===D?[]:m.slice(D)),v=!1!==E&&v+O.start.length,w=!1!==D&&w+O.dest.length}return this.value=g,this.destination=new SVG.PathArray,this.destination.value=m,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
        * https://github.com/svgdotjs/svg.draggable.js
        * Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function V(a){a.remember("_draggable",this),this.el=a}V.prototype.init=function(a,l){var d=this;this.constraint=a,this.value=l,this.el.on("mousedown.drag",function(h){d.start(h)}),this.el.on("touchstart.drag",function(h){d.start(h)})},V.prototype.transformPoint=function(a,l){var d=(a=a||window.event).changedTouches&&a.changedTouches[0]||a;return this.p.x=d.clientX-(l||0),this.p.y=d.clientY,this.p.matrixTransform(this.m)},V.prototype.getBBox=function(){var a=this.el.bbox();return this.el instanceof SVG.Nested&&(a=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(a.x=this.el.x(),a.y=this.el.y()),a},V.prototype.start=function(a){if("click"!=a.type&&"mousedown"!=a.type&&"mousemove"!=a.type||1==(a.which||a.buttons)){var l=this;if(this.el.fire("beforedrag",{event:a,handler:this}),!this.el.event().defaultPrevented){a.preventDefault(),a.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var d,h=this.getBBox();if(this.el instanceof SVG.Text)switch(d=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":d/=2;break;case"start":d=0}this.startPoints={point:this.transformPoint(a,d),box:h,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(p){l.drag(p)}),SVG.on(window,"touchmove.drag",function(p){l.drag(p)}),SVG.on(window,"mouseup.drag",function(p){l.end(p)}),SVG.on(window,"touchend.drag",function(p){l.end(p)}),this.el.fire("dragstart",{event:a,p:this.startPoints.point,m:this.m,handler:this})}}},V.prototype.drag=function(a){var l=this.getBBox(),d=this.transformPoint(a),h=this.startPoints.box.x+d.x-this.startPoints.point.x,p=this.startPoints.box.y+d.y-this.startPoints.point.y,g=this.constraint,m=d.x-this.startPoints.point.x,v=d.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:a,p:d,m:this.m,handler:this}),this.el.event().defaultPrevented)return d;if("function"==typeof g){var w=g.call(this.el,h,p,this.m);"boolean"==typeof w&&(w={x:w,y:w}),!0===w.x?this.el.x(h):!1!==w.x&&this.el.x(w.x),!0===w.y?this.el.y(p):!1!==w.y&&this.el.y(w.y)}else"object"==typeof g&&(null!=g.minX&&h<g.minX?m=(h=g.minX)-this.startPoints.box.x:null!=g.maxX&&h>g.maxX-l.width&&(m=(h=g.maxX-l.width)-this.startPoints.box.x),null!=g.minY&&p<g.minY?v=(p=g.minY)-this.startPoints.box.y:null!=g.maxY&&p>g.maxY-l.height&&(v=(p=g.maxY-l.height)-this.startPoints.box.y),null!=g.snapToGrid&&(h-=h%g.snapToGrid,p-=p%g.snapToGrid,m-=m%g.snapToGrid,v-=v%g.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:m,y:v},!0):this.el.move(h,p));return d},V.prototype.end=function(a){var l=this.drag(a);this.el.fire("dragend",{event:a,p:l,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(a,l){"function"!=typeof a&&"object"!=typeof a||(l=a,a=!0);var d=this.remember("_draggable")||new V(this);return(a=void 0===a||a)?d.init(l||{},a):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function V(a){this.el=a,a.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(l,d,h){var p="string"!=typeof l?l:d[l];return h?p/2:p},this.pointCoords=function(l,d){var h=this.pointsList[l];return{x:this.pointCoord(h[0],d,"t"===l||"b"===l),y:this.pointCoord(h[1],d,"r"===l||"l"===l)}}}V.prototype.init=function(a,l){var d=this.el.bbox();this.options={};var h=this.el.selectize.defaults.points;for(var p in this.el.selectize.defaults)this.options[p]=this.el.selectize.defaults[p],void 0!==l[p]&&(this.options[p]=l[p]);var g=["points","pointsExclude"];for(var p in g){var m=this.options[g[p]];"string"==typeof m?m=m.length>0?m.split(/\s*,\s*/i):[]:"boolean"==typeof m&&"points"===g[p]&&(m=m?h:[]),this.options[g[p]]=m}this.options.points=[h,this.options.points].reduce(function(v,w){return v.filter(function(E){return w.indexOf(E)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(v,w){return v.filter(function(E){return w.indexOf(E)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(d.x,d.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(a):this.selectRect(a),this.observe(),this.cleanup()},V.prototype.selectPoints=function(a){return this.pointSelection.isSelected=a,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},V.prototype.getPointArray=function(){var a=this.el.bbox();return this.el.array().valueOf().map(function(l){return[l[0]-a.x,l[1]-a.y]})},V.prototype.drawPoints=function(){for(var a=this,l=this.getPointArray(),d=0,h=l.length;d<h;++d){var p=function(m){return function(v){(v=v||window.event).preventDefault?v.preventDefault():v.returnValue=!1,v.stopPropagation(),a.el.fire("point",{x:v.pageX||v.touches[0].pageX,y:v.pageY||v.touches[0].pageY,i:m,event:v})}}(d),g=this.drawPoint(l[d][0],l[d][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",p).on("mousedown",p);this.pointSelection.set.add(g)}},V.prototype.drawPoint=function(a,l){var d=this.options.pointType;switch(d){case"circle":return this.drawCircle(a,l);case"rect":return this.drawRect(a,l);default:if("function"==typeof d)return d.call(this,a,l);throw new Error("Unknown "+d+" point type!")}},V.prototype.drawCircle=function(a,l){return this.nested.circle(this.options.pointSize).center(a,l)},V.prototype.drawRect=function(a,l){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(a,l)},V.prototype.updatePointSelection=function(){var a=this.getPointArray();this.pointSelection.set.each(function(l){this.cx()===a[l][0]&&this.cy()===a[l][1]||this.center(a[l][0],a[l][1])})},V.prototype.updateRectSelection=function(){var a=this,l=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:l.width,height:l.height}),this.options.points.length&&this.options.points.map(function(h,p){var g=a.pointCoords(h,l);a.rectSelection.set.get(p+1).center(g.x,g.y)}),this.options.rotationPoint){var d=this.rectSelection.set.length();this.rectSelection.set.get(d-1).center(l.width/2,20)}},V.prototype.selectRect=function(a){var l=this,d=this.el.bbox();function h(m){return function(v){(v=v||window.event).preventDefault?v.preventDefault():v.returnValue=!1,v.stopPropagation(),l.el.fire(m,{x:v.pageX||v.touches[0].pageX,y:v.pageY||v.touches[0].pageY,event:v})}}if(this.rectSelection.isSelected=a,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(d.width,d.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(m,v){var w=l.pointCoords(m,d),E=l.drawPoint(w.x,w.y).attr("class",l.options.classPoints+"_"+m).on("mousedown",h(m)).on("touchstart",h(m));l.rectSelection.set.add(E)}),this.rectSelection.set.each(function(){this.addClass(l.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var p=function(m){(m=m||window.event).preventDefault?m.preventDefault():m.returnValue=!1,m.stopPropagation(),l.el.fire("rot",{x:m.pageX||m.touches[0].pageX,y:m.pageY||m.touches[0].pageY,event:m})},g=this.drawPoint(d.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",p).on("mousedown",p);this.rectSelection.set.add(g)}},V.prototype.handler=function(){var a=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(a.x,a.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},V.prototype.observe=function(){var a=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){a.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){a.handler()})},V.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(a,l){return"object"==typeof a&&(l=a,a=!0),(this.remember("_selectHandler")||new V(this)).init(void 0===a||a,l||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function V(a){a.remember("_resizeHandler",this),this.el=a,this.parameters={},this.lastUpdateCall=null,this.p=a.doc().node.createSVGPoint()}V.prototype.transformPoint=function(a,l,d){return this.p.x=a-(this.offset.x-window.pageXOffset),this.p.y=l-(this.offset.y-window.pageYOffset),this.p.matrixTransform(d||this.m)},V.prototype._extractPosition=function(a){return{x:null!=a.clientX?a.clientX:a.touches[0].clientX,y:null!=a.clientY?a.clientY:a.touches[0].clientY}},V.prototype.init=function(a){var l=this;if(this.stop(),"stop"!==a){for(var d in this.options={},this.el.resize.defaults)this.options[d]=this.el.resize.defaults[d],void 0!==a[d]&&(this.options[d]=a[d]);this.el.on("lt.resize",function(h){l.resize(h||window.event)}),this.el.on("rt.resize",function(h){l.resize(h||window.event)}),this.el.on("rb.resize",function(h){l.resize(h||window.event)}),this.el.on("lb.resize",function(h){l.resize(h||window.event)}),this.el.on("t.resize",function(h){l.resize(h||window.event)}),this.el.on("r.resize",function(h){l.resize(h||window.event)}),this.el.on("b.resize",function(h){l.resize(h||window.event)}),this.el.on("l.resize",function(h){l.resize(h||window.event)}),this.el.on("rot.resize",function(h){l.resize(h||window.event)}),this.el.on("point.resize",function(h){l.resize(h||window.event)}),this.update()}},V.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},V.prototype.resize=function(a){var l=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var d=this._extractPosition(a.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(d.x,d.y),x:a.detail.x,y:a.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==a.detail.i){var h=this.el.array().valueOf();this.parameters.i=a.detail.i,this.parameters.pointCoords=[h[a.detail.i][0],h[a.detail.i][1]]}switch(a.type){case"lt":this.calc=function(p,g){var m=this.snapToGrid(p,g);if(this.parameters.box.width-m[0]>0&&this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-m[0]);m=this.checkAspectRatio(m),this.el.move(this.parameters.box.x+m[0],this.parameters.box.y+m[1]).size(this.parameters.box.width-m[0],this.parameters.box.height-m[1])}};break;case"rt":this.calc=function(p,g){var m=this.snapToGrid(p,g,2);if(this.parameters.box.width+m[0]>0&&this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+m[0]);m=this.checkAspectRatio(m,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+m[1]).size(this.parameters.box.width+m[0],this.parameters.box.height-m[1])}};break;case"rb":this.calc=function(p,g){var m=this.snapToGrid(p,g,0);if(this.parameters.box.width+m[0]>0&&this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+m[0]);m=this.checkAspectRatio(m),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+m[0],this.parameters.box.height+m[1])}};break;case"lb":this.calc=function(p,g){var m=this.snapToGrid(p,g,1);if(this.parameters.box.width-m[0]>0&&this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-m[0]);m=this.checkAspectRatio(m,!0),this.el.move(this.parameters.box.x+m[0],this.parameters.box.y).size(this.parameters.box.width-m[0],this.parameters.box.height+m[1])}};break;case"t":this.calc=function(p,g){var m=this.snapToGrid(p,g,2);if(this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+m[1]).height(this.parameters.box.height-m[1])}};break;case"r":this.calc=function(p,g){var m=this.snapToGrid(p,g,0);if(this.parameters.box.width+m[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+m[0])}};break;case"b":this.calc=function(p,g){var m=this.snapToGrid(p,g,0);if(this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+m[1])}};break;case"l":this.calc=function(p,g){var m=this.snapToGrid(p,g,1);if(this.parameters.box.width-m[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+m[0],this.parameters.box.y).width(this.parameters.box.width-m[0])}};break;case"rot":this.calc=function(p,g){var m=p+this.parameters.p.x,v=g+this.parameters.p.y,w=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),E=Math.atan2(v-this.parameters.box.y-this.parameters.box.height/2,m-this.parameters.box.x-this.parameters.box.width/2),D=this.parameters.rotation+180*(E-w)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(D-D%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(p,g){var m=this.snapToGrid(p,g,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),v=this.el.array().valueOf();v[this.parameters.i][0]=this.parameters.pointCoords[0]+m[0],v[this.parameters.i][1]=this.parameters.pointCoords[1]+m[1],this.el.plot(v)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:a}),SVG.on(window,"touchmove.resize",function(p){l.update(p||window.event)}),SVG.on(window,"touchend.resize",function(){l.done()}),SVG.on(window,"mousemove.resize",function(p){l.update(p||window.event)}),SVG.on(window,"mouseup.resize",function(){l.done()})},V.prototype.update=function(a){if(a){var l=this._extractPosition(a),d=this.transformPoint(l.x,l.y),h=d.x-this.parameters.p.x,p=d.y-this.parameters.p.y;this.lastUpdateCall=[h,p],this.calc(h,p),this.el.fire("resizing",{dx:h,dy:p,event:a})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},V.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},V.prototype.snapToGrid=function(a,l,d,h){var p;return p=void 0!==h?[(d+a)%this.options.snapToGrid,(h+l)%this.options.snapToGrid]:[(this.parameters.box.x+a+(1&(d=d??3)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+l+(2&d?0:this.parameters.box.height))%this.options.snapToGrid],a<0&&(p[0]-=this.options.snapToGrid),l<0&&(p[1]-=this.options.snapToGrid),a-=Math.abs(p[0])<this.options.snapToGrid/2?p[0]:p[0]-(a<0?-this.options.snapToGrid:this.options.snapToGrid),l-=Math.abs(p[1])<this.options.snapToGrid/2?p[1]:p[1]-(l<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(a,l,d,h)},V.prototype.constraintToBox=function(a,l,d,h){var p,g,m=this.options.constraint||{};return void 0!==h?(p=d,g=h):(p=this.parameters.box.x+(1&d?0:this.parameters.box.width),g=this.parameters.box.y+(2&d?0:this.parameters.box.height)),void 0!==m.minX&&p+a<m.minX&&(a=m.minX-p),void 0!==m.maxX&&p+a>m.maxX&&(a=m.maxX-p),void 0!==m.minY&&g+l<m.minY&&(l=m.minY-g),void 0!==m.maxY&&g+l>m.maxY&&(l=m.maxY-g),[a,l]},V.prototype.checkAspectRatio=function(a,l){if(!this.options.saveAspectRatio)return a;var d=a.slice(),h=this.parameters.box.width/this.parameters.box.height,p=this.parameters.box.width+a[0],g=this.parameters.box.height-a[1],m=p/g;return m<h?(d[1]=p/h-this.parameters.box.height,l&&(d[1]=-d[1])):m>h&&(d[0]=this.parameters.box.width-g*h,l&&(d[0]=-d[0])),d},SVG.extend(SVG.Element,{resize:function(a){return(this.remember("_resizeHandler")||new V(this)).init(a||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Ee=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Ii(this.ctx),this.ctx.axes=new Ne(this.ctx),this.ctx.core=new wr(this.ctx.el,this.ctx),this.ctx.config=new Vr({}),this.ctx.data=new pn(this.ctx),this.ctx.grid=new wi(this.ctx),this.ctx.graphics=new Re(this.ctx),this.ctx.coreUtils=new Yt(this.ctx),this.ctx.crosshairs=new Qe(this.ctx),this.ctx.events=new Ce(this.ctx),this.ctx.exports=new Vt(this.ctx),this.ctx.localization=new we(this.ctx),this.ctx.options=new $n,this.ctx.responsive=new mt(this.ctx),this.ctx.series=new ct(this.ctx),this.ctx.theme=new rt(this.ctx),this.ctx.formatters=new Fr(this.ctx),this.ctx.titleSubtitle=new mi(this.ctx),this.ctx.legend=new Mr(this.ctx),this.ctx.toolbar=new ai(this.ctx),this.ctx.tooltip=new bs(this.ctx),this.ctx.dimensions=new Xi(this.ctx),this.ctx.updateHelpers=new Za(this.ctx),this.ctx.zoomPanSelection=new In(this.ctx),this.ctx.w.globals.tooltip=new bs(this.ctx)}}]),V}(),be=function(){function V(a){Ge(this,V),this.ctx=a,this.w=a.w}return ut(V,[{key:"clear",value:function(a){var l=a.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:l})}},{key:"killSVG",value:function(a){a.each(function(l,d){this.removeClass("*"),this.off(),this.stop()},!0),a.ungroup(),a.clear()}},{key:"clearDomElements",value:function(a){var l=this,h=this.w.globals.dom.Paper.node;h.parentNode&&h.parentNode.parentNode&&!a.isUpdating&&(h.parentNode.parentNode.style.minHeight="unset");var p=this.w.globals.dom.baseEl;p&&this.ctx.eventList.forEach(function(m){p.removeEventListener(m,l.ctx.events.documentEvent)});var g=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(g.Paper),g.Paper.remove(),g.elWrap=null,g.elGraphical=null,g.elLegendWrap=null,g.elLegendForeign=null,g.baseEl=null,g.elGridRect=null,g.elGridRectMask=null,g.elGridRectMarkerMask=null,g.elForecastMask=null,g.elNonForecastMask=null,g.elDefs=null}}]),V}(),dt=new WeakMap,jt=function(){function V(a,l){Ge(this,V),this.opts=l,this.ctx=this,this.w=new Fe(l).init(),this.el=a,this.w.globals.cuid=pe.randomId(),this.w.globals.chartID=this.w.config.chart.id?pe.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ee(this).initModules(),this.create=pe.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return ut(V,[{key:"render",value:function(){var a=this;return new Promise(function(l,d){if(null!==a.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),a.w.config.chart.id&&Apex._chartInstances.push({id:a.w.globals.chartID,group:a.w.config.chart.group,chart:a}),a.setLocale(a.w.config.chart.defaultLocale);var h=a.w.config.chart.events.beforeMount;if("function"==typeof h&&h(a,a.w),a.events.fireEvent("beforeMount",[a,a.w]),window.addEventListener("resize",a.windowResizeHandler),function(E,D){var k=!1;if(E.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var O=E.getBoundingClientRect();"none"!==E.style.display&&0!==O.width||(k=!0)}var P=new ResizeObserver(function(L){k&&D.call(E,L),k=!0});E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(E.children).forEach(function(L){return P.observe(L)}):P.observe(E),dt.set(D,P)}(a.el.parentNode,a.parentResizeHandler),!a.css){var p=a.el.getRootNode&&a.el.getRootNode(),g=pe.is("ShadowRoot",p),m=a.el.ownerDocument,v=m.getElementById("apexcharts-css");!g&&v||(a.css=document.createElement("style"),a.css.id="apexcharts-css",a.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n\n.apexcharts-bar-goals-markers{\n  pointer-events: none\n}\n\n.apexcharts-bar-shadows{\n  pointer-events: none\n}\n\n.apexcharts-rangebar-goals-markers{\n  pointer-events: none\n}',g?p.prepend(a.css):m.head.appendChild(a.css))}var w=a.create(a.w.config.series,{});if(!w)return l(a);a.mount(w).then(function(){"function"==typeof a.w.config.chart.events.mounted&&a.w.config.chart.events.mounted(a,a.w),a.events.fireEvent("mounted",[a,a.w]),l(w)}).catch(function(E){d(E)})}else d(new Error("Element not found"))})}},{key:"create",value:function(a,l){var d=this.w;new Ee(this).initModules();var h=this.w.globals;if(h.noData=!1,h.animationEnded=!1,this.responsive.checkResponsiveConfig(l),d.config.xaxis.convertedCatToNumeric&&new fr(d.config).convertCatToNumericXaxis(d.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===d.config.chart.type&&(d.config.grid.show=!1,d.config.yaxis[0].show=!1),0===h.svgWidth))return h.animationEnded=!0,null;var p=Yt.checkComboSeries(a);h.comboCharts=p.comboCharts,h.comboBarCount=p.comboBarCount;var g=a.every(function(E){return E.data&&0===E.data.length});(0===a.length||g)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new Ae(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),h.noData&&h.collapsedSeries.length!==h.series.length&&!d.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),h.axisCharts&&(this.core.coreCalculations(),"category"!==d.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=d.globals.minX,this.ctx.toolbar.maxX=d.globals.maxX),this.formatters.heatmapLabelFormatters(),new Yt(this).getLargestMarkerSize(),this.dimensions.plotCoords();var m=this.core.xySettings();this.grid.createGridMask();var v=this.core.plotChartType(a,m),w=new Ue(this);return w.bringForward(),d.config.dataLabels.background.enabled&&w.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:v,xyRatios:m,dimensions:{plot:{left:d.globals.translateX,top:d.globals.translateY,width:d.globals.gridWidth,height:d.globals.gridHeight}}}}},{key:"mount",value:function(){var a=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,d=this,h=d.w;return new Promise(function(p,g){if(null===d.el)return g(new Error("Not enough data to display or target element not found"));(null===l||h.globals.allSeriesCollapsed)&&d.series.handleNoData(),d.grid=new wi(d);var m,v,w=d.grid.drawGrid();if(d.annotations=new Bi(d),d.annotations.drawImageAnnos(),d.annotations.drawTextAnnos(),"back"===h.config.grid.position&&(w&&h.globals.dom.elGraphical.add(w.el),null!=w&&null!==(m=w.elGridBorders)&&void 0!==m&&m.node&&h.globals.dom.elGraphical.add(w.elGridBorders)),Array.isArray(l.elGraph))for(var E=0;E<l.elGraph.length;E++)h.globals.dom.elGraphical.add(l.elGraph[E]);else h.globals.dom.elGraphical.add(l.elGraph);"front"===h.config.grid.position&&(w&&h.globals.dom.elGraphical.add(w.el),null!=w&&null!==(v=w.elGridBorders)&&void 0!==v&&v.node&&h.globals.dom.elGraphical.add(w.elGridBorders)),"front"===h.config.xaxis.crosshairs.position&&d.crosshairs.drawXCrosshairs(),"front"===h.config.yaxis[0].crosshairs.position&&d.crosshairs.drawYCrosshairs(),"treemap"!==h.config.chart.type&&d.axes.drawAxis(h.config.chart.type,w);var D=new wn(a.ctx,w),k=new Ri(a.ctx,w);if(null!==w&&(D.xAxisLabelCorrections(w.xAxisTickWidth),k.setYAxisTextAlignments(),h.config.yaxis.map(function(P,L){-1===h.globals.ignoreYAxisIndexes.indexOf(L)&&k.yAxisTitleRotate(L,P.opposite)})),d.annotations.drawAxesAnnotations(),!h.globals.noData){if(h.config.tooltip.enabled&&!h.globals.noData&&d.w.globals.tooltip.drawTooltip(l.xyRatios),h.globals.axisCharts&&(h.globals.isXNumeric||h.config.xaxis.convertedCatToNumeric||h.globals.isRangeBar))(h.config.chart.zoom.enabled||h.config.chart.selection&&h.config.chart.selection.enabled||h.config.chart.pan&&h.config.chart.pan.enabled)&&d.zoomPanSelection.init({xyRatios:l.xyRatios});else{var O=h.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(P){O[P]=!1})}h.config.chart.toolbar.show&&!h.globals.allSeriesCollapsed&&d.toolbar.createToolbar()}h.globals.memory.methodsToExec.length>0&&h.globals.memory.methodsToExec.forEach(function(P){P.method(P.params,!1,P.context)}),h.globals.axisCharts||h.globals.noData||d.core.resizeNonAxisCharts(),p(d)})}},{key:"destroy",value:function(){var a,l;window.removeEventListener("resize",this.windowResizeHandler),(l=dt.get(a=this.parentResizeHandler))&&(l.disconnect(),dt.delete(a));var d=this.w.config.chart.id;d&&Apex._chartInstances.forEach(function(h,p){h.id===pe.escapeString(d)&&Apex._chartInstances.splice(p,1)}),new be(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(a){var l=this,d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],g=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],m=this.w;return m.globals.selection=void 0,a.series&&(this.series.resetSeries(!1,!0,!1),a.series.length&&a.series[0].data&&(a.series=a.series.map(function(v,w){return l.updateHelpers._extendSeries(v,w)})),this.updateHelpers.revertDefaultAxisMinMax()),a.xaxis&&(a=this.updateHelpers.forceXAxisUpdate(a)),a.yaxis&&(a=this.updateHelpers.forceYAxisUpdate(a)),m.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),a.theme&&(a=this.theme.updateThemeOptions(a)),this.updateHelpers._updateOptions(a,d,h,p,g)}},{key:"updateSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,l,d)}},{key:"appendSeries",value:function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],h=this.w.config.series.slice();return h.push(a),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(h,l,d)}},{key:"appendData",value:function(a){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=this;d.w.globals.dataChanged=!0,d.series.getPreviousPaths();for(var h=d.w.config.series.slice(),p=0;p<h.length;p++)if(null!=a[p])for(var g=0;g<a[p].data.length;g++)h[p].data.push(a[p].data[g]);return d.w.config.series=h,l&&(d.w.globals.initialSeries=pe.clone(d.w.config.series)),this.update()}},{key:"update",value:function(a){var l=this;return new Promise(function(d,h){new be(l.ctx).clear({isUpdating:!0});var p=l.create(l.w.config.series,a);if(!p)return d(l);l.mount(p).then(function(){"function"==typeof l.w.config.chart.events.updated&&l.w.config.chart.events.updated(l,l.w),l.events.fireEvent("updated",[l,l.w]),l.w.globals.isDirty=!0,d(l)}).catch(function(g){h(g)})})}},{key:"getSyncedCharts",value:function(){var a=this.getGroupedCharts(),l=[this];return a.length&&(l=[],a.forEach(function(d){l.push(d)})),l}},{key:"getGroupedCharts",value:function(){var a=this;return Apex._chartInstances.filter(function(l){if(l.group)return!0}).map(function(l){return a.w.config.chart.group===l.group?l.chart:a})}},{key:"toggleSeries",value:function(a){return this.series.toggleSeries(a)}},{key:"highlightSeriesOnLegendHover",value:function(a,l){return this.series.toggleSeriesOnHover(a,l)}},{key:"showSeries",value:function(a){this.series.showSeries(a)}},{key:"hideSeries",value:function(a){this.series.hideSeries(a)}},{key:"isSeriesHidden",value:function(a){this.series.isSeriesHidden(a)}},{key:"resetSeries",value:function(){this.series.resetSeries(!(arguments.length>0&&void 0!==arguments[0])||arguments[0],!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"addEventListener",value:function(a,l){this.events.addEventListener(a,l)}},{key:"removeEventListener",value:function(a,l){this.events.removeEventListener(a,l)}},{key:"addXaxisAnnotation",value:function(a){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=this;d&&(h=d),h.annotations.addXaxisAnnotationExternal(a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h)}},{key:"addYaxisAnnotation",value:function(a){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=this;d&&(h=d),h.annotations.addYaxisAnnotationExternal(a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h)}},{key:"addPointAnnotation",value:function(a){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=this;d&&(h=d),h.annotations.addPointAnnotationExternal(a,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],h)}},{key:"clearAnnotations",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,l=this;a&&(l=a),l.annotations.clearAnnotations(l)}},{key:"removeAnnotation",value:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=this;l&&(d=l),d.annotations.removeAnnotation(d,a)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(a,l){return this.coreUtils.getSeriesTotalsXRange(a,l)}},{key:"getHighestValueInSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new gi(this.ctx).getMinYMaxY(a).highestY}},{key:"getLowestValueInSeries",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new gi(this.ctx).getMinYMaxY(a).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(a,l){return this.updateHelpers.toggleDataPointSelection(a,l)}},{key:"zoomX",value:function(a,l){this.ctx.toolbar.zoomUpdateOptions(a,l)}},{key:"setLocale",value:function(a){this.localization.setCurrentLocaleValues(a)}},{key:"dataURI",value:function(a){return new Vt(this.ctx).dataURI(a)}},{key:"exportToCSV",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Vt(this.ctx).exportToCSV(a)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var a=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){a.w.globals.resized=!0,a.w.globals.dataChanged=!1,a.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var a=this.w.config.chart.redrawOnWindowResize;"function"==typeof a&&(a=a()),a&&this._windowResize()}}],[{key:"getChartByID",value:function(a){var l=pe.escapeString(a);if(Apex._chartInstances){var d=Apex._chartInstances.filter(function(h){return h.id===l})[0];return d&&d.chart}}},{key:"initOnLoad",value:function(){for(var a=document.querySelectorAll("[data-apexcharts]"),l=0;l<a.length;l++)new V(a[l],JSON.parse(a[l].getAttribute("data-options"))).render()}},{key:"exec",value:function(a,l){var d=this.getChartByID(a);if(d){d.w.globals.isExecCalled=!0;var h=null;if(-1!==d.publicMethods.indexOf(l)){for(var p=arguments.length,g=new Array(p>2?p-2:0),m=2;m<p;m++)g[m-2]=arguments[m];h=d[l].apply(d,g)}return h}}},{key:"merge",value:function(a,l){return pe.extend(a,l)}}]),V}();Kr.exports=jt},215:(Kr,Wi,$t)=>{$t.d(Wi,{$:()=>nl,A:()=>ot,E:()=>Bn,J:()=>Oe,K:()=>nn,M:()=>Qa,P:()=>Oa,Q:()=>ze,R:()=>hx,U:()=>He,V:()=>OT,W:()=>PT,X:()=>NT,Y:()=>Ja,Z:()=>go,_:()=>li,a:()=>$f,a0:()=>zf,a1:()=>X0,a2:()=>Z0,a3:()=>LT,a4:()=>Q0,a5:()=>Jr,a6:()=>ls,a7:()=>Tc,a8:()=>J0,a9:()=>Wf,aA:()=>Yt,aB:()=>at,aC:()=>sp,aD:()=>G,aE:()=>St,aF:()=>zr,aG:()=>yx,aH:()=>a2,aI:()=>E,aM:()=>Yf,aP:()=>tl,aa:()=>FT,ab:()=>pr,ac:()=>_n,ad:()=>Zi,ae:()=>_d,af:()=>Ll,ag:()=>hn,aj:()=>Cr,ak:()=>vd,al:()=>Ra,ao:()=>Y0,ap:()=>tx,ar:()=>VT,as:()=>XF,at:()=>$n,au:()=>be,av:()=>wr,aw:()=>Re,ax:()=>ap,ay:()=>Cs,az:()=>dt,b:()=>HT,c:()=>Dd,d:()=>eI,e:()=>JT,f:()=>wx,g:()=>rI,h:()=>nI,i:()=>jT,j:()=>wt,k:()=>th,l:()=>px,m:()=>Px,p:()=>Vn,r:()=>QT,s:()=>KT,u:()=>k_});var re=$t(861),Be=$t(963),ae=$t(211),bt=$t(383),Ge=$t(582),Ti=$t(427);const Vn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ot={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Bn=function Pt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},kn=function on(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dn=new Be.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pe=new bt.Yd("@firebase/auth");function xn(S,...y){pe.logLevel<=bt.in.ERROR&&pe.error(`Auth (${ae.SDK_VERSION}): ${S}`,...y)}function Re(S,...y){throw cn(S,...y)}function Yt(S,...y){return cn(S,...y)}function br(S,y,C){const M=Object.assign(Object.assign({},kn()),{[y]:C});return new Be.LL("auth","Firebase",M).create(y,{appName:S.name})}function qi(S,y,C){if(!(y instanceof C))throw C.name!==y.constructor.name&&Re(S,"argument-error"),br(S,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cn(S,...y){if("string"!=typeof S){const C=y[0],M=[...y.slice(1)];return M[0]&&(M[0].appName=S.name),S._errorFactory.create(C,...M)}return Dn.create(S,...y)}function at(S,y,...C){if(!S)throw cn(y,...C)}function Mn(S){const y="INTERNAL ASSERTION FAILED: "+S;throw xn(y),new Error(y)}function $n(S,y){S||Mn(y)}function Bi(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function fn(){return"http:"===Fr()||"https:"===Fr()}function Fr(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class fr{constructor(y,C){this.shortDelay=y,this.longDelay=C,$n(C>y,"Short delay should be less than long delay!"),this.isMobile=(0,Be.uI)()||(0,Be.b$)()}get(){return function os(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(fn()||(0,Be.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vr(S,y){$n(S.emulator,"Emulator should always be set here");const{url:C}=S.emulator;return y?`${C}${y.startsWith("/")?y.slice(1):y}`:C}class Me{static initialize(y,C,M){this.fetchImpl=y,C&&(this.headersImpl=C),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new fr(3e4,6e4);function Ae(S,y){return S.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:S.tenantId}):y}function et(S,y,C,M){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,re.Z)(function*(S,y,C,M,H={}){return ct(S,H,(0,re.Z)(function*(){let X={},xe={};M&&("GET"===y?xe=M:X={body:JSON.stringify(M)});const Le=(0,Be.xO)(Object.assign({key:S.config.apiKey},xe)).slice(1),tt=yield S._getAdditionalHeaders();return tt["Content-Type"]="application/json",S.languageCode&&(tt["X-Firebase-Locale"]=S.languageCode),Me.fetch()(wn(S,S.config.apiHost,C,Le),Object.assign({method:y,headers:tt,referrerPolicy:"no-referrer"},X))}))})).apply(this,arguments)}function ct(S,y,C){return pn.apply(this,arguments)}function pn(){return(pn=(0,re.Z)(function*(S,y,C){S._canInitEmulator=!1;const M=Object.assign(Object.assign({},Fe),y);try{const H=new zn(S),X=yield Promise.race([C(),H.promise]);H.clearNetworkTimeout();const xe=yield X.json();if("needConfirmation"in xe)throw gi(S,"account-exists-with-different-credential",xe);if(X.ok&&!("errorMessage"in xe))return xe;{const Le=X.ok?xe.errorMessage:xe.error.message,[tt,Ft]=Le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tt)throw gi(S,"credential-already-in-use",xe);if("EMAIL_EXISTS"===tt)throw gi(S,"email-already-in-use",xe);if("USER_DISABLED"===tt)throw gi(S,"user-disabled",xe);const qt=M[tt]||tt.toLowerCase().replace(/[_\s]+/g,"-");if(Ft)throw br(S,qt,Ft);Re(S,qt)}}catch(H){if(H instanceof Be.ZR)throw H;Re(S,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function Ye(S,y,C,M){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,re.Z)(function*(S,y,C,M,H={}){const X=yield et(S,y,C,M,H);return"mfaPendingCredential"in X&&Re(S,"multi-factor-auth-required",{_serverResponse:X}),X})).apply(this,arguments)}function wn(S,y,C,M){const H=`${y}${C}?${M}`;return S.config.emulator?Vr(S.config,H):`${S.config.apiScheme}://${H}`}function wi(S){switch(S){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zn{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((C,M)=>{this.timer=setTimeout(()=>M(Yt(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gi(S,y,C){const M={appName:S.name};C.email&&(M.email=C.email),C.phoneNumber&&(M.phoneNumber=C.phoneNumber);const H=Yt(S,y,M);return H.customData._tokenResponse=C,H}function Ri(S){return void 0!==S&&void 0!==S.getResponse}function Ce(S){return void 0!==S&&void 0!==S.enterprise}class we{constructor(y){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=y.recaptchaEnforcementState}getProviderEnforcementState(y){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const C of this.recaptchaEnforcementState)if(C.provider&&C.provider===y)return wi(C.enforcementState);return null}isProviderEnabled(y){return"ENFORCE"===this.getProviderEnforcementState(y)||"AUDIT"===this.getProviderEnforcementState(y)}}function Qe(){return(Qe=(0,re.Z)(function*(S){return(yield et(S,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mt(S,y){return rt.apply(this,arguments)}function rt(){return(rt=(0,re.Z)(function*(S,y){return et(S,"GET","/v2/recaptchaConfig",Ae(S,y))})).apply(this,arguments)}function Nn(){return(Nn=(0,re.Z)(function*(S,y){return et(S,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function _i(){return(_i=(0,re.Z)(function*(S,y){return et(S,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Xi(){return(Xi=(0,re.Z)(function*(S,y){return et(S,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function kr(S){if(S)try{const y=new Date(Number(S));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function In(){return(In=(0,re.Z)(function*(S,y=!1){const C=(0,Be.m9)(S),M=yield C.getIdToken(y),H=ti(M);at(H&&H.exp&&H.auth_time&&H.iat,C.auth,"internal-error");const X="object"==typeof H.firebase?H.firebase:void 0,xe=X?.sign_in_provider;return{claims:H,token:M,authTime:kr(Yn(H.auth_time)),issuedAtTime:kr(Yn(H.iat)),expirationTime:kr(Yn(H.exp)),signInProvider:xe||null,signInSecondFactor:X?.sign_in_second_factor||null}})).apply(this,arguments)}function Yn(S){return 1e3*Number(S)}function ti(S){const[y,C,M]=S.split(".");if(void 0===y||void 0===C||void 0===M)return xn("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,Be.tV)(C);return H?JSON.parse(H):(xn("Failed to decode base64 JWT payload"),null)}catch(H){return xn("Caught error parsing JWT payload as JSON",H?.toString()),null}}function Si(S,y){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,re.Z)(function*(S,y,C=!1){if(C)return y;try{return yield y}catch(M){throw M instanceof Be.ZR&&function ho({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}(M)&&S.auth.currentUser===S&&(yield S.auth.signOut()),M}})).apply(this,arguments)}class bs{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var C;if(y){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const H=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(y=!1){var C=this;if(!this.isRunning)return;const M=this.getInterval(y);this.timerId=setTimeout((0,re.Z)(function*(){yield C.iteration()}),M)}iteration(){var y=this;return(0,re.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C?.code&&y.schedule(!0))}y.schedule()})()}}class fo{constructor(y,C){this.createdAt=y,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=kr(this.lastLoginAt),this.creationTime=kr(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xr(S){return Pi.apply(this,arguments)}function Pi(){return Pi=(0,re.Z)(function*(S){var y;const C=S.auth,M=yield S.getIdToken(),H=yield Si(S,function zi(S,y){return Xi.apply(this,arguments)}(C,{idToken:M}));at(H?.users.length,C,"internal-error");const X=H.users[0];S._notifyReloadListener(X);const xe=null!==(y=X.providerUserInfo)&&void 0!==y&&y.length?function Aa(S){return S.map(y=>{var{providerId:C}=y,M=(0,Ge._T)(y,["providerId"]);return{providerId:C,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(X.providerUserInfo):[],Le=function Xa(S,y){return[...S.filter(M=>!y.some(H=>H.providerId===M.providerId)),...y]}(S.providerData,xe),qt=!!S.isAnonymous&&!(S.email&&X.passwordHash||Le?.length),Un={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:Le,metadata:new fo(X.createdAt,X.lastLoginAt),isAnonymous:qt};Object.assign(S,Un)}),Pi.apply(this,arguments)}function as(){return(as=(0,re.Z)(function*(S){const y=(0,Be.m9)(S);yield xr(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function po(){return(po=(0,re.Z)(function*(S,y){const C=yield ct(S,{},(0,re.Z)(function*(){const M=(0,Be.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:H,apiKey:X}=S.config,xe=wn(S,H,"/v1/token",`key=${X}`),Le=yield S._getAdditionalHeaders();return Le["Content-Type"]="application/x-www-form-urlencoded",Me.fetch()(xe,{method:"POST",headers:Le,body:M})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){at(y.idToken,"internal-error"),at(typeof y.idToken<"u","internal-error"),at(typeof y.refreshToken<"u","internal-error");const C="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function Sa(S){const y=ti(S);return at(y,"internal-error"),at(typeof y.exp<"u","internal-error"),at(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,C)}getToken(y,C=!1){var M=this;return(0,re.Z)(function*(){return at(!M.accessToken||M.refreshToken,y,"user-token-expired"),C||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(y,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,C){var M=this;return(0,re.Z)(function*(){const{accessToken:H,refreshToken:X,expiresIn:xe}=yield function ka(S,y){return po.apply(this,arguments)}(y,C);M.updateTokensAndExpiration(H,X,Number(xe))})()}updateTokensAndExpiration(y,C,M){this.refreshToken=C||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(y,C){const{refreshToken:M,accessToken:H,expirationTime:X}=C,xe=new ge;return M&&(at("string"==typeof M,"internal-error",{appName:y}),xe.refreshToken=M),H&&(at("string"==typeof H,"internal-error",{appName:y}),xe.accessToken=H),X&&(at("number"==typeof X,"internal-error",{appName:y}),xe.expirationTime=X),xe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new ge,this.toJSON())}_performRefresh(){return Mn("not implemented")}}function ue(S,y){at("string"==typeof S||typeof S>"u","internal-error",{appName:y})}class Y{constructor(y){var{uid:C,auth:M,stsTokenManager:H}=y,X=(0,Ge._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=M,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.emailVerified=X.emailVerified||!1,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.tenantId=X.tenantId||null,this.providerData=X.providerData?[...X.providerData]:[],this.metadata=new fo(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(y){var C=this;return(0,re.Z)(function*(){const M=yield Si(C,C.stsTokenManager.getToken(C.auth,y));return at(M,C.auth,"internal-error"),C.accessToken!==M&&(C.accessToken=M,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),M})()}getIdTokenResult(y){return function ai(S){return In.apply(this,arguments)}(this,y)}reload(){return function Qr(S){return as.apply(this,arguments)}(this)}_assign(y){this!==y&&(at(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(C=>Object.assign({},C)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const C=new Y(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return C.metadata._copy(this.metadata),C}_onReload(y){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,C=!1){var M=this;return(0,re.Z)(function*(){let H=!1;y.idToken&&y.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(y),H=!0),C&&(yield xr(M)),yield M.auth._persistUserIfCurrent(M),H&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var y=this;return(0,re.Z)(function*(){const C=yield y.getIdToken();return yield Si(y,function mi(S,y){return Nn.apply(this,arguments)}(y.auth,{idToken:C})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,C){var M,H,X,xe,Le,tt,Ft,qt;const Un=null!==(M=C.displayName)&&void 0!==M?M:void 0,Fs=null!==(H=C.email)&&void 0!==H?H:void 0,aa=null!==(X=C.phoneNumber)&&void 0!==X?X:void 0,Rd=null!==(xe=C.photoURL)&&void 0!==xe?xe:void 0,Lx=null!==(Le=C.tenantId)&&void 0!==Le?Le:void 0,up=null!==(tt=C._redirectEventId)&&void 0!==tt?tt:void 0,q_=null!==(Ft=C.createdAt)&&void 0!==Ft?Ft:void 0,X_=null!==(qt=C.lastLoginAt)&&void 0!==qt?qt:void 0,{uid:hp,emailVerified:Fx,isAnonymous:ih,providerData:ol,stsTokenManager:Vx}=C;at(hp&&Vx,y,"internal-error");const Bx=ge.fromJSON(this.name,Vx);at("string"==typeof hp,y,"internal-error"),ue(Un,y.name),ue(Fs,y.name),at("boolean"==typeof Fx,y,"internal-error"),at("boolean"==typeof ih,y,"internal-error"),ue(aa,y.name),ue(Rd,y.name),ue(Lx,y.name),ue(up,y.name),ue(q_,y.name),ue(X_,y.name);const fp=new Y({uid:hp,auth:y,email:Fs,emailVerified:Fx,displayName:Un,isAnonymous:ih,photoURL:Rd,phoneNumber:aa,tenantId:Lx,stsTokenManager:Bx,createdAt:q_,lastLoginAt:X_});return ol&&Array.isArray(ol)&&(fp.providerData=ol.map(rh=>Object.assign({},rh))),up&&(fp._redirectEventId=up),fp}static _fromIdTokenResponse(y,C,M=!1){return(0,re.Z)(function*(){const H=new ge;H.updateFromServerResponse(C);const X=new Y({uid:C.localId,auth:y,stsTokenManager:H,isAnonymous:M});return yield xr(X),X})()}}const J=new Map;function G(S){$n(S instanceof Function,"Expected a class definition");let y=J.get(S);return y?($n(y instanceof S,"Instance stored in cache mismatched with class"),y):(y=new S,J.set(S,y),y)}const ze=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,re.Z)(function*(){return!0})()}_set(C,M){var H=this;return(0,re.Z)(function*(){H.storage[C]=M})()}_get(C){var M=this;return(0,re.Z)(function*(){const H=M.storage[C];return void 0===H?null:H})()}_remove(C){var M=this;return(0,re.Z)(function*(){delete M.storage[C]})()}_addListener(C,M){}_removeListener(C,M){}}return S.type="NONE",S})();function St(S,y,C){return`firebase:${S}:${y}:${C}`}class vt{constructor(y,C,M){this.persistence=y,this.auth=C,this.userKey=M;const{config:H,name:X}=this.auth;this.fullUserKey=St(this.userKey,H.apiKey,X),this.fullPersistenceKey=St("persistence",H.apiKey,X),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,re.Z)(function*(){const C=yield y.persistence._get(y.fullUserKey);return C?Y._fromJSON(y.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var C=this;return(0,re.Z)(function*(){if(C.persistence===y)return;const M=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=y,M?C.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,C,M="authUser"){return(0,re.Z)(function*(){if(!C.length)return new vt(G(ze),y,M);const H=(yield Promise.all(C.map(function(){var Ft=(0,re.Z)(function*(qt){if(yield qt._isAvailable())return qt});return function(qt){return Ft.apply(this,arguments)}}()))).filter(Ft=>Ft);let X=H[0]||G(ze);const xe=St(M,y.config.apiKey,y.name);let Le=null;for(const Ft of C)try{const qt=yield Ft._get(xe);if(qt){const Un=Y._fromJSON(y,qt);Ft!==X&&(Le=Un),X=Ft;break}}catch{}const tt=H.filter(Ft=>Ft._shouldAllowMigration);return X._shouldAllowMigration&&tt.length?(X=tt[0],Le&&(yield X._set(xe,Le.toJSON())),yield Promise.all(C.map(function(){var Ft=(0,re.Z)(function*(qt){if(qt!==X)try{yield qt._remove(xe)}catch{}});return function(qt){return Ft.apply(this,arguments)}}())),new vt(X,y,M)):new vt(X,y,M)})()}}function tn(S){const y=S.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Wt(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ri(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Za(y))return"Blackberry";if(Ee(y))return"Webos";if(Dt(y))return"Safari";if((y.includes("chrome/")||vi(y))&&!y.includes("edge/"))return"Chrome";if(wr(y))return"Android";{const M=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function ri(S=(0,Be.z$)()){return/firefox\//i.test(S)}function Dt(S=(0,Be.z$)()){const y=S.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function vi(S=(0,Be.z$)()){return/crios\//i.test(S)}function Wt(S=(0,Be.z$)()){return/iemobile/i.test(S)}function wr(S=(0,Be.z$)()){return/android/i.test(S)}function Za(S=(0,Be.z$)()){return/blackberry/i.test(S)}function Ee(S=(0,Be.z$)()){return/webos/i.test(S)}function be(S=(0,Be.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function dt(S=(0,Be.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(S)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(S)}function a(S=(0,Be.z$)()){return be(S)||wr(S)||Ee(S)||Za(S)||/windows phone/i.test(S)||Wt(S)}function d(S,y=[]){let C;switch(S){case"Browser":C=tn((0,Be.z$)());break;case"Worker":C=`${tn((0,Be.z$)())}-${S}`;break;default:C=S}const M=y.length?y.join(","):"FirebaseCore-web";return`${C}/JsCore/${ae.SDK_VERSION}/${M}`}class h{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,C){const M=X=>new Promise((xe,Le)=>{try{xe(y(X))}catch(tt){Le(tt)}});M.onAbort=C,this.queue.push(M);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(y){var C=this;return(0,re.Z)(function*(){if(C.auth.currentUser===y)return;const M=[];try{for(const H of C.queue)yield H(y),H.onAbort&&M.push(H.onAbort)}catch(H){M.reverse();for(const X of M)try{X()}catch{}throw C.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}function g(){return(g=(0,re.Z)(function*(S,y={}){return et(S,"GET","/v2/passwordPolicy",Ae(S,y))})).apply(this,arguments)}class v{constructor(y){var C,M,H,X;const xe=y.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(C=xe.minPasswordLength)&&void 0!==C?C:6,xe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=xe.maxPasswordLength),void 0!==xe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=xe.containsLowercaseCharacter),void 0!==xe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=xe.containsUppercaseCharacter),void 0!==xe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=xe.containsNumericCharacter),void 0!==xe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=xe.containsNonAlphanumericCharacter),this.enforcementState=y.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(H=null===(M=y.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==H?H:"",this.forceUpgradeOnSignin=null!==(X=y.forceUpgradeOnSignin)&&void 0!==X&&X,this.schemaVersion=y.schemaVersion}validatePassword(y){var C,M,H,X,xe,Le;const tt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(y,tt),this.validatePasswordCharacterOptions(y,tt),tt.isValid&&(tt.isValid=null===(C=tt.meetsMinPasswordLength)||void 0===C||C),tt.isValid&&(tt.isValid=null===(M=tt.meetsMaxPasswordLength)||void 0===M||M),tt.isValid&&(tt.isValid=null===(H=tt.containsLowercaseLetter)||void 0===H||H),tt.isValid&&(tt.isValid=null===(X=tt.containsUppercaseLetter)||void 0===X||X),tt.isValid&&(tt.isValid=null===(xe=tt.containsNumericCharacter)||void 0===xe||xe),tt.isValid&&(tt.isValid=null===(Le=tt.containsNonAlphanumericCharacter)||void 0===Le||Le),tt}validatePasswordLengthOptions(y,C){const M=this.customStrengthOptions.minPasswordLength,H=this.customStrengthOptions.maxPasswordLength;M&&(C.meetsMinPasswordLength=y.length>=M),H&&(C.meetsMaxPasswordLength=y.length<=H)}validatePasswordCharacterOptions(y,C){let M;this.updatePasswordCharacterOptionsStatuses(C,!1,!1,!1,!1);for(let H=0;H<y.length;H++)M=y.charAt(H),this.updatePasswordCharacterOptionsStatuses(C,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(y,C,M,H,X){this.customStrengthOptions.containsLowercaseLetter&&(y.containsLowercaseLetter||(y.containsLowercaseLetter=C)),this.customStrengthOptions.containsUppercaseLetter&&(y.containsUppercaseLetter||(y.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(y.containsNumericCharacter||(y.containsNumericCharacter=H)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(y.containsNonAlphanumericCharacter||(y.containsNonAlphanumericCharacter=X))}}class w{constructor(y,C,M,H){this.app=y,this.heartbeatServiceProvider=C,this.appCheckServiceProvider=M,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D(this),this.idTokenSubscription=new D(this),this.beforeStateQueue=new h(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(y,C){var M=this;return C&&(this._popupRedirectResolver=G(C)),this._initializationPromise=this.queue((0,re.Z)(function*(){var H,X;if(!M._deleted&&(M.persistenceManager=yield vt.create(M,y),!M._deleted)){if(null!==(H=M._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(C),M.lastNotifiedUid=(null===(X=M.currentUser)||void 0===X?void 0:X.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,re.Z)(function*(){if(y._deleted)return;const C=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||C){if(y.currentUser&&C&&y.currentUser.uid===C.uid)return y._currentUser._assign(C),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(C,!0)}})()}initializeCurrentUser(y){var C=this;return(0,re.Z)(function*(){var M;const H=yield C.assertedPersistence.getCurrentUser();let X=H,xe=!1;if(y&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const Le=null===(M=C.redirectUser)||void 0===M?void 0:M._redirectEventId,tt=X?._redirectEventId,Ft=yield C.tryRedirectSignIn(y);(!Le||Le===tt)&&Ft?.user&&(X=Ft.user,xe=!0)}if(!X)return C.directlySetCurrentUser(null);if(!X._redirectEventId){if(xe)try{yield C.beforeStateQueue.runMiddleware(X)}catch(Le){X=H,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(Le))}return X?C.reloadAndSetCurrentUserOrClear(X):C.directlySetCurrentUser(null)}return at(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===X._redirectEventId?C.directlySetCurrentUser(X):C.reloadAndSetCurrentUserOrClear(X)})()}tryRedirectSignIn(y){var C=this;return(0,re.Z)(function*(){let M=null;try{M=yield C._popupRedirectResolver._completeRedirectFn(C,y,!0)}catch{yield C._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(y){var C=this;return(0,re.Z)(function*(){try{yield xr(y)}catch(M){if("auth/network-request-failed"!==M?.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function zt(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var y=this;return(0,re.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var C=this;return(0,re.Z)(function*(){const M=y?(0,Be.m9)(y):null;return M&&at(M.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(M&&M._clone(C))})()}_updateCurrentUser(y,C=!1){var M=this;return(0,re.Z)(function*(){if(!M._deleted)return y&&at(M.tenantId===y.tenantId,M,"tenant-id-mismatch"),C||(yield M.beforeStateQueue.runMiddleware(y)),M.queue((0,re.Z)(function*(){yield M.directlySetCurrentUser(y),M.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,re.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var C=this;return this.queue((0,re.Z)(function*(){yield C.assertedPersistence.setPersistence(G(y))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(y){var C=this;return(0,re.Z)(function*(){C._getPasswordPolicyInternal()||(yield C._updatePasswordPolicy());const M=C._getPasswordPolicyInternal();return M.schemaVersion!==C.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(C._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(y)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var y=this;return(0,re.Z)(function*(){const C=yield function p(S){return g.apply(this,arguments)}(y),M=new v(C);null===y.tenantId?y._projectPasswordPolicy=M:y._tenantPasswordPolicies[y.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new Be.LL("auth","Firebase",y())}onAuthStateChanged(y,C,M){return this.registerStateListener(this.authStateSubscription,y,C,M)}beforeAuthStateChanged(y,C){return this.beforeStateQueue.pushCallback(y,C)}onIdTokenChanged(y,C,M){return this.registerStateListener(this.idTokenSubscription,y,C,M)}authStateReady(){return new Promise((y,C)=>{if(this.currentUser)y();else{const M=this.onAuthStateChanged(()=>{M(),y()},C)}})}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,C){var M=this;return(0,re.Z)(function*(){const H=yield M.getOrInitRedirectPersistenceManager(C);return null===y?H.removeCurrentUser():H.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var C=this;return(0,re.Z)(function*(){if(!C.redirectPersistenceManager){const M=y&&G(y)||C._popupRedirectResolver;at(M,C,"argument-error"),C.redirectPersistenceManager=yield vt.create(C,[G(M._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(y){var C=this;return(0,re.Z)(function*(){var M,H;return C._isInitialized&&(yield C.queue((0,re.Z)(function*(){}))),(null===(M=C._currentUser)||void 0===M?void 0:M._redirectEventId)===y?C._currentUser:(null===(H=C.redirectUser)||void 0===H?void 0:H._redirectEventId)===y?C.redirectUser:null})()}_persistUserIfCurrent(y){var C=this;return(0,re.Z)(function*(){if(y===C.currentUser)return C.queue((0,re.Z)(function*(){return C.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(C=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,C,M,H){if(this._deleted)return()=>{};const X="function"==typeof C?C:C.next.bind(C);let xe=!1;const Le=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(Le,this,"internal-error"),Le.then(()=>{xe||X(this.currentUser)}),"function"==typeof C){const tt=y.addObserver(C,M,H);return()=>{xe=!0,tt()}}{const tt=y.addObserver(C);return()=>{xe=!0,tt()}}}directlySetCurrentUser(y){var C=this;return(0,re.Z)(function*(){C.currentUser&&C.currentUser!==y&&C._currentUser._stopProactiveRefresh(),y&&C.isProactiveRefreshEnabled&&y._startProactiveRefresh(),C.currentUser=y,y?yield C.assertedPersistence.setCurrentUser(y):yield C.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=d(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,re.Z)(function*(){var C;const M={"X-Client-Version":y.clientVersion};y.app.options.appId&&(M["X-Firebase-gmpid"]=y.app.options.appId);const H=yield null===(C=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();H&&(M["X-Firebase-Client"]=H);const X=yield y._getAppCheckToken();return X&&(M["X-Firebase-AppCheck"]=X),M})()}_getAppCheckToken(){var y=this;return(0,re.Z)(function*(){var C;const M=yield null===(C=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getToken();return M?.error&&function Ii(S,...y){pe.logLevel<=bt.in.WARN&&pe.warn(`Auth (${ae.SDK_VERSION}): ${S}`,...y)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function E(S){return(0,Be.m9)(S)}class D{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,Be.ne)(C=>this.observer=C)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function O(S){return new Promise((y,C)=>{const M=document.createElement("script");M.setAttribute("src",S),M.onload=y,M.onerror=H=>{const X=Yt("internal-error");X.customData=H,C(X)},M.type="text/javascript",M.charset="UTF-8",function k(){var S,y;return null!==(y=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==y?y:document}().appendChild(M)})}function P(S){return`__${S}${Math.floor(1e6*Math.random())}`}class K{constructor(y){this.type="recaptcha-enterprise",this.auth=E(y)}verify(y="verify",C=!1){var M=this;return(0,re.Z)(function*(){function X(){return X=(0,re.Z)(function*(Le){if(!C){if(null==Le.tenantId&&null!=Le._agentRecaptchaConfig)return Le._agentRecaptchaConfig.siteKey;if(null!=Le.tenantId&&void 0!==Le._tenantRecaptchaConfigs[Le.tenantId])return Le._tenantRecaptchaConfigs[Le.tenantId].siteKey}return new Promise(function(){var tt=(0,re.Z)(function*(Ft,qt){mt(Le,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Un=>{if(void 0!==Un.recaptchaKey){const Fs=new we(Un);return null==Le.tenantId?Le._agentRecaptchaConfig=Fs:Le._tenantRecaptchaConfigs[Le.tenantId]=Fs,Ft(Fs.siteKey)}qt(new Error("recaptcha Enterprise site key undefined"))}).catch(Un=>{qt(Un)})});return function(Ft,qt){return tt.apply(this,arguments)}}())}),X.apply(this,arguments)}function xe(Le,tt,Ft){const qt=window.grecaptcha;Ce(qt)?qt.enterprise.ready(()=>{qt.enterprise.execute(Le,{action:y}).then(Un=>{tt(Un)}).catch(()=>{tt("NO_RECAPTCHA")})}):Ft(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Le,tt)=>{(function H(Le){return X.apply(this,arguments)})(M.auth).then(Ft=>{if(!C&&Ce(window.grecaptcha))xe(Ft,Le,tt);else{if(typeof window>"u")return void tt(new Error("RecaptchaVerifier is only supported in browser"));O("https://www.google.com/recaptcha/enterprise.js?render="+Ft).then(()=>{xe(Ft,Le,tt)}).catch(qt=>{tt(qt)})}}).catch(Ft=>{tt(Ft)})})})()}}function b(S,y,C){return I.apply(this,arguments)}function I(){return(I=(0,re.Z)(function*(S,y,C,M=!1){const H=new K(S);let X;try{X=yield H.verify(C)}catch{X=yield H.verify(C,!0)}const xe=Object.assign({},y);return Object.assign(xe,M?{captchaResp:X}:{captchaResponse:X}),Object.assign(xe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(xe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),xe})).apply(this,arguments)}function N(S,y,C,M){return U.apply(this,arguments)}function U(){return U=(0,re.Z)(function*(S,y,C,M){var H;if(null!==(H=S._getRecaptchaConfig())&&void 0!==H&&H.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const X=yield b(S,y,C,"getOobCode"===C);return M(S,X)}return M(S,y).catch(function(){var X=(0,re.Z)(function*(xe){if("auth/missing-recaptcha-token"===xe.code){console.log(`${C} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Le=yield b(S,y,C,"getOobCode"===C);return M(S,Le)}return Promise.reject(xe)});return function(xe){return X.apply(this,arguments)}}())}),U.apply(this,arguments)}function Oe(S,y,C){const M=E(S);at(M._canInitEmulator,M,"emulator-config-failed"),at(/^https?:\/\//.test(y),M,"invalid-emulator-scheme");const H=!!C?.disableWarnings,X=ce(y),{host:xe,port:Le}=function qe(S){const y=ce(S),C=/(\/\/)?([^?#/]+)/.exec(S.substr(y.length));if(!C)return{host:"",port:null};const M=C[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(M);if(H){const X=H[1];return{host:X,port:ke(M.substr(X.length+1))}}{const[X,xe]=M.split(":");return{host:X,port:ke(xe)}}}(y);M.config.emulator={url:`${X}//${xe}${null===Le?"":`:${Le}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:xe,port:Le,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function xt(){function S(){const y=document.createElement("p"),C=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}function ce(S){const y=S.indexOf(":");return y<0?"":S.substr(0,y+1)}function ke(S){if(!S)return null;const y=Number(S);return isNaN(y)?null:y}class nn{constructor(y,C){this.providerId=y,this.signInMethod=C}toJSON(){return Mn("not implemented")}_getIdTokenResponse(y){return Mn("not implemented")}_linkToIdToken(y,C){return Mn("not implemented")}_getReauthenticationResolver(y){return Mn("not implemented")}}function Sn(S,y){return qn.apply(this,arguments)}function qn(){return(qn=(0,re.Z)(function*(S,y){return et(S,"POST","/v1/accounts:resetPassword",Ae(S,y))})).apply(this,arguments)}function Ci(S,y){return si.apply(this,arguments)}function si(){return(si=(0,re.Z)(function*(S,y){return et(S,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function xs(){return(xs=(0,re.Z)(function*(S,y){return et(S,"POST","/v1/accounts:update",Ae(S,y))})).apply(this,arguments)}function Ka(S,y){return mn.apply(this,arguments)}function mn(){return(mn=(0,re.Z)(function*(S,y){return Ye(S,"POST","/v1/accounts:signInWithPassword",Ae(S,y))})).apply(this,arguments)}function Ma(S,y){return Br.apply(this,arguments)}function Br(){return(Br=(0,re.Z)(function*(S,y){return et(S,"POST","/v1/accounts:sendOobCode",Ae(S,y))})).apply(this,arguments)}function bc(){return(bc=(0,re.Z)(function*(S,y){return Ma(S,y)})).apply(this,arguments)}function BF(S,y){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,re.Z)(function*(S,y){return Ma(S,y)})).apply(this,arguments)}function zF(S,y){return W0.apply(this,arguments)}function W0(){return(W0=(0,re.Z)(function*(S,y){return Ma(S,y)})).apply(this,arguments)}function Wu(){return(Wu=(0,re.Z)(function*(S,y){return Ma(S,y)})).apply(this,arguments)}function Lf(){return(Lf=(0,re.Z)(function*(S,y){return Ye(S,"POST","/v1/accounts:signInWithEmailLink",Ae(S,y))})).apply(this,arguments)}function e_(){return(e_=(0,re.Z)(function*(S,y){return Ye(S,"POST","/v1/accounts:signInWithEmailLink",Ae(S,y))})).apply(this,arguments)}class xc extends nn{constructor(y,C,M,H=null){super("password",M),this._email=y,this._password=C,this._tenantId=H}static _fromEmailAndPassword(y,C){return new xc(y,C,"password")}static _fromEmailAndCode(y,C,M=null){return new xc(y,C,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y;if(C?.email&&C?.password){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(y){var C=this;return(0,re.Z)(function*(){switch(C.signInMethod){case"password":return N(y,{returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ka);case"emailLink":return function Qm(S,y){return Lf.apply(this,arguments)}(y,{email:C._email,oobCode:C._password});default:Re(y,"internal-error")}})()}_linkToIdToken(y,C){var M=this;return(0,re.Z)(function*(){switch(M.signInMethod){case"password":return Ci(y,{idToken:C,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function Jm(S,y){return e_.apply(this,arguments)}(y,{idToken:C,email:M._email,oobCode:M._password});default:Re(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Rl(S,y){return G0.apply(this,arguments)}function G0(){return(G0=(0,re.Z)(function*(S,y){return Ye(S,"POST","/v1/accounts:signInWithIdp",Ae(S,y))})).apply(this,arguments)}class Qa extends nn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const C=new Qa(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(C.idToken=y.idToken),y.accessToken&&(C.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(C.nonce=y.nonce),y.pendingToken&&(C.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(C.accessToken=y.oauthToken,C.secret=y.oauthTokenSecret):Re("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y,{providerId:M,signInMethod:H}=C,X=(0,Ge._T)(C,["providerId","signInMethod"]);if(!M||!H)return null;const xe=new Qa(M,H);return xe.idToken=X.idToken||void 0,xe.accessToken=X.accessToken||void 0,xe.secret=X.secret,xe.nonce=X.nonce,xe.pendingToken=X.pendingToken||null,xe}_getIdTokenResponse(y){return Rl(y,this.buildRequest())}_linkToIdToken(y,C){const M=this.buildRequest();return M.idToken=C,Rl(y,M)}_getReauthenticationResolver(y){const C=this.buildRequest();return C.autoCreate=!1,Rl(y,C)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),y.postBody=(0,Be.xO)(C)}return y}}function wc(){return(wc=(0,re.Z)(function*(S,y){return et(S,"POST","/v1/accounts:sendVerificationCode",Ae(S,y))})).apply(this,arguments)}function md(){return(md=(0,re.Z)(function*(S,y){return Ye(S,"POST","/v1/accounts:signInWithPhoneNumber",Ae(S,y))})).apply(this,arguments)}function n_(){return(n_=(0,re.Z)(function*(S,y){const C=yield Ye(S,"POST","/v1/accounts:signInWithPhoneNumber",Ae(S,y));if(C.temporaryProof)throw gi(S,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const kT={USER_NOT_FOUND:"user-not-found"};function Ol(){return(Ol=(0,re.Z)(function*(S,y){return Ye(S,"POST","/v1/accounts:signInWithPhoneNumber",Ae(S,Object.assign(Object.assign({},y),{operation:"REAUTH"})),kT)})).apply(this,arguments)}class Cc extends nn{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,C){return new Cc({verificationId:y,verificationCode:C})}static _fromTokenResponse(y,C){return new Cc({phoneNumber:y,temporaryProof:C})}_getIdTokenResponse(y){return function t_(S,y){return md.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,C){return function AT(S,y){return n_.apply(this,arguments)}(y,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function $0(S,y){return Ol.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:C,verificationId:M,verificationCode:H}=this.params;return y&&C?{temporaryProof:y,phoneNumber:C}:{sessionInfo:M,code:H}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:C,verificationCode:M,phoneNumber:H,temporaryProof:X}=y;return M||C||H||X?new Cc({verificationId:C,verificationCode:M,phoneNumber:H,temporaryProof:X}):null}}class fe{constructor(y){var C,M,H,X,xe,Le;const tt=(0,Be.zd)((0,Be.pd)(y)),Ft=null!==(C=tt.apiKey)&&void 0!==C?C:null,qt=null!==(M=tt.oobCode)&&void 0!==M?M:null,Un=function Pl(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=tt.mode)&&void 0!==H?H:null);at(Ft&&qt&&Un,"argument-error"),this.apiKey=Ft,this.operation=Un,this.code=qt,this.continueUrl=null!==(X=tt.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(xe=tt.languageCode)&&void 0!==xe?xe:null,this.tenantId=null!==(Le=tt.tenantId)&&void 0!==Le?Le:null}static parseLink(y){const C=function MT(S){const y=(0,Be.zd)((0,Be.pd)(S)).link,C=y?(0,Be.zd)((0,Be.pd)(y)).deep_link_id:null,M=(0,Be.zd)((0,Be.pd)(S)).deep_link_id;return(M?(0,Be.zd)((0,Be.pd)(M)).link:null)||M||C||y||S}(y);try{return new fe(C)}catch{return null}}}let He=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(C,M){return xc._fromEmailAndPassword(C,M)}static credentialWithLink(C,M){const H=fe.parseLink(M);return at(H,"argument-error"),xc._fromEmailAndCode(C,H.code,H.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class Uo{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Nl extends Uo{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Ja extends Nl{static credentialFromJSON(y){const C="string"==typeof y?JSON.parse(y):y;return at("providerId"in C&&"signInMethod"in C,"argument-error"),Qa._fromParams(C)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return at(y.idToken||y.accessToken,"argument-error"),Qa._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Ja.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Ja.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:M,oauthTokenSecret:H,pendingToken:X,nonce:xe,providerId:Le}=y;if(!M&&!H&&!C&&!X||!Le)return null;try{return new Ja(Le)._credential({idToken:C,accessToken:M,nonce:xe,pendingToken:X})}catch{return null}}}let OT=(()=>{class S extends Nl{constructor(){super("facebook.com")}static credential(C){return Qa._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return S.credential(C.oauthAccessToken)}catch{return null}}}return S.FACEBOOK_SIGN_IN_METHOD="facebook.com",S.PROVIDER_ID="facebook.com",S})(),PT=(()=>{class S extends Nl{constructor(){super("google.com"),this.addScope("profile")}static credential(C,M){return Qa._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:M})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:M,oauthAccessToken:H}=C;if(!M&&!H)return null;try{return S.credential(M,H)}catch{return null}}}return S.GOOGLE_SIGN_IN_METHOD="google.com",S.PROVIDER_ID="google.com",S})(),NT=(()=>{class S extends Nl{constructor(){super("github.com")}static credential(C){return Qa._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return S.credential(C.oauthAccessToken)}catch{return null}}}return S.GITHUB_SIGN_IN_METHOD="github.com",S.PROVIDER_ID="github.com",S})();class tl extends nn{constructor(y,C){super(y,y),this.pendingToken=C}_getIdTokenResponse(y){return Rl(y,this.buildRequest())}_linkToIdToken(y,C){const M=this.buildRequest();return M.idToken=C,Rl(y,M)}_getReauthenticationResolver(y){const C=this.buildRequest();return C.autoCreate=!1,Rl(y,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y,{providerId:M,signInMethod:H,pendingToken:X}=C;return M&&H&&X&&M===H?new tl(M,X):null}static _create(y,C){return new tl(y,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class go extends Uo{constructor(y){at(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return go.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return go.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const C=tl.fromJSON(y);return at(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:C,providerId:M}=y;if(!C||!M)return null;try{return tl._create(M,C)}catch{return null}}}let li=(()=>{class S extends Nl{constructor(){super("twitter.com")}static credential(C,M){return Qa._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:M})}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:M,oauthTokenSecret:H}=C;if(!M||!H)return null;try{return S.credential(M,H)}catch{return null}}}return S.TWITTER_SIGN_IN_METHOD="twitter.com",S.PROVIDER_ID="twitter.com",S})();function Gu(S,y){return $u.apply(this,arguments)}function $u(){return($u=(0,re.Z)(function*(S,y){return Ye(S,"POST","/v1/accounts:signUp",Ae(S,y))})).apply(this,arguments)}class Xs{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,C,M,H=!1){return(0,re.Z)(function*(){const X=yield Y._fromIdTokenResponse(y,M,H),xe=i_(M);return new Xs({user:X,providerId:xe,_tokenResponse:M,operationType:C})})()}static _forOperation(y,C,M){return(0,re.Z)(function*(){yield y._updateTokensIfNecessary(M,!0);const H=i_(M);return new Xs({user:y,providerId:H,_tokenResponse:M,operationType:C})})()}}function i_(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}function nl(S){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,re.Z)(function*(S){var y;const C=E(S);if(yield C._initializationPromise,null!==(y=C.currentUser)&&void 0!==y&&y.isAnonymous)return new Xs({user:C.currentUser,providerId:null,operationType:"signIn"});const M=yield Gu(C,{returnSecureToken:!0}),H=yield Xs._fromIdTokenResponse(C,"signIn",M,!0);return yield C._updateCurrentUser(H.user),H})).apply(this,arguments)}class Yu extends Be.ZR{constructor(y,C,M,H){var X;super(C.code,C.message),this.operationType=M,this.user=H,Object.setPrototypeOf(this,Yu.prototype),this.customData={appName:y.name,tenantId:null!==(X=y.tenantId)&&void 0!==X?X:void 0,_serverResponse:C.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(y,C,M,H){return new Yu(y,C,M,H)}}function r_(S,y,C,M){return("reauthenticate"===y?C._getReauthenticationResolver(S):C._getIdTokenResponse(S)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?Yu._fromErrorAndOperation(S,X,y,M):X})}function Ff(S){return new Set(S.map(({providerId:y})=>y).filter(y=>!!y))}function Y0(S,y){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,re.Z)(function*(S,y){const C=(0,Be.m9)(S);yield qu(!0,C,y);const{providerUserInfo:M}=yield function Tn(S,y){return _i.apply(this,arguments)}(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[y]}),H=Ff(M||[]);return C.providerData=C.providerData.filter(X=>H.has(X.providerId)),H.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C}),Vf.apply(this,arguments)}function Dc(S,y){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,re.Z)(function*(S,y,C=!1){const M=yield Si(S,y._linkToIdToken(S.auth,yield S.getIdToken()),C);return Xs._forOperation(S,"link",M)})).apply(this,arguments)}function qu(S,y,C){return s_.apply(this,arguments)}function s_(){return(s_=(0,re.Z)(function*(S,y,C){yield xr(y);const H=!1===S?"provider-already-linked":"no-such-provider";at(Ff(y.providerData).has(C)===S,y.auth,H)})).apply(this,arguments)}function o_(S,y){return a_.apply(this,arguments)}function a_(){return(a_=(0,re.Z)(function*(S,y,C=!1){const{auth:M}=S,H="reauthenticate";try{const X=yield Si(S,r_(M,H,y,S),C);at(X.idToken,M,"internal-error");const xe=ti(X.idToken);at(xe,M,"internal-error");const{sub:Le}=xe;return at(S.uid===Le,M,"user-mismatch"),Xs._forOperation(S,H,X)}catch(X){throw"auth/user-not-found"===X?.code&&Re(M,"user-mismatch"),X}})).apply(this,arguments)}function q0(S,y){return mo.apply(this,arguments)}function mo(){return(mo=(0,re.Z)(function*(S,y,C=!1){const M="signIn",H=yield r_(S,M,y),X=yield Xs._fromIdTokenResponse(S,M,H);return C||(yield S._updateCurrentUser(X.user)),X})).apply(this,arguments)}function zf(S,y){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,re.Z)(function*(S,y){return q0(E(S),y)})).apply(this,arguments)}function X0(S,y){return l_.apply(this,arguments)}function l_(){return(l_=(0,re.Z)(function*(S,y){const C=(0,Be.m9)(S);return yield qu(!1,C,y.providerId),Dc(C,y)})).apply(this,arguments)}function Z0(S,y){return c_.apply(this,arguments)}function c_(){return(c_=(0,re.Z)(function*(S,y){return o_((0,Be.m9)(S),y)})).apply(this,arguments)}function d_(){return(d_=(0,re.Z)(function*(S,y){return Ye(S,"POST","/v1/accounts:signInWithCustomToken",Ae(S,y))})).apply(this,arguments)}function LT(S,y){return u_.apply(this,arguments)}function u_(){return u_=(0,re.Z)(function*(S,y){const C=E(S),M=yield function K0(S,y){return d_.apply(this,arguments)}(C,{token:y,returnSecureToken:!0}),H=yield Xs._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(H.user),H}),u_.apply(this,arguments)}class Bt{constructor(y,C){this.factorId=y,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(y,C){return"phoneInfo"in C?h_._fromServerResponse(y,C):"totpInfo"in C?f_._fromServerResponse(y,C):Re(y,"internal-error")}}class h_ extends Bt{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,C){return new h_(C)}}class f_ extends Bt{constructor(y){super("totp",y)}static _fromServerResponse(y,C){return new f_(C)}}function Uf(S,y,C){var M;at((null===(M=C.url)||void 0===M?void 0:M.length)>0,S,"invalid-continue-uri"),at(typeof C.dynamicLinkDomain>"u"||C.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),y.continueUrl=C.url,y.dynamicLinkDomain=C.dynamicLinkDomain,y.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(at(C.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),y.iOSBundleId=C.iOS.bundleId),C.android&&(at(C.android.packageName.length>0,S,"missing-android-pkg-name"),y.androidInstallApp=C.android.installApp,y.androidMinimumVersionCode=C.android.minimumVersion,y.androidPackageName=C.android.packageName)}function Rt(S){return p_.apply(this,arguments)}function p_(){return(p_=(0,re.Z)(function*(S){const y=E(S);y._getPasswordPolicyInternal()&&(yield y._updatePasswordPolicy())})).apply(this,arguments)}function Q0(S,y,C){return $e.apply(this,arguments)}function $e(){return($e=(0,re.Z)(function*(S,y,C){const M=E(S),H={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};C&&Uf(M,H,C),yield N(M,H,"getOobCode",BF)})).apply(this,arguments)}function Jr(S,y,C){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,re.Z)(function*(S,y,C){yield Sn((0,Be.m9)(S),{oobCode:y,newPassword:C}).catch(function(){var M=(0,re.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&Rt(S),H});return function(H){return M.apply(this,arguments)}}())}),Xn.apply(this,arguments)}function ls(S,y){return cs.apply(this,arguments)}function cs(){return cs=(0,re.Z)(function*(S,y){yield function Hi(S,y){return xs.apply(this,arguments)}((0,Be.m9)(S),{oobCode:y})}),cs.apply(this,arguments)}function Tc(S,y){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,re.Z)(function*(S,y){const C=(0,Be.m9)(S),M=yield Sn(C,{oobCode:y}),H=M.requestType;switch(at(H,C,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":at(M.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":at(M.mfaInfo,C,"internal-error");default:at(M.email,C,"internal-error")}let X=null;return M.mfaInfo&&(X=Bt._fromServerResponse(E(C),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:X},operation:H}})).apply(this,arguments)}function J0(S,y){return jf.apply(this,arguments)}function jf(){return(jf=(0,re.Z)(function*(S,y){const{data:C}=yield Tc((0,Be.m9)(S),y);return C.email})).apply(this,arguments)}function Wf(S,y,C){return g_.apply(this,arguments)}function g_(){return(g_=(0,re.Z)(function*(S,y,C){const M=E(S),xe=yield N(M,{returnSecureToken:!0,email:y,password:C,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gu).catch(tt=>{throw"auth/password-does-not-meet-requirements"===tt.code&&Rt(S),tt}),Le=yield Xs._fromIdTokenResponse(M,"signIn",xe);return yield M._updateCurrentUser(Le.user),Le})).apply(this,arguments)}function FT(S,y,C){return zf((0,Be.m9)(S),He.credential(y,C)).catch(function(){var M=(0,re.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&Rt(S),H});return function(H){return M.apply(this,arguments)}}())}function pr(S,y,C){return At.apply(this,arguments)}function At(){return(At=(0,re.Z)(function*(S,y,C){const M=E(S),H={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};(function X(xe,Le){at(Le.handleCodeInApp,M,"argument-error"),Le&&Uf(M,xe,Le)})(H,C),yield N(M,H,"getOobCode",zF)})).apply(this,arguments)}function _n(S,y){const C=fe.parseLink(y);return"EMAIL_SIGNIN"===C?.operation}function Zi(S,y,C){return _o.apply(this,arguments)}function _o(){return(_o=(0,re.Z)(function*(S,y,C){const M=(0,Be.m9)(S),H=He.credentialWithLink(y,C||Bi());return at(H._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),zf(M,H)})).apply(this,arguments)}function es(){return(es=(0,re.Z)(function*(S,y){return et(S,"POST","/v1/accounts:createAuthUri",Ae(S,y))})).apply(this,arguments)}function _d(S,y){return or.apply(this,arguments)}function or(){return or=(0,re.Z)(function*(S,y){const M={identifier:y,continueUri:fn()?Bi():"http://localhost"},{signinMethods:H}=yield function Xu(S,y){return es.apply(this,arguments)}((0,Be.m9)(S),M);return H||[]}),or.apply(this,arguments)}function Ll(S,y){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,re.Z)(function*(S,y){const C=(0,Be.m9)(S),H={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};y&&Uf(C.auth,H,y);const{email:X}=yield function hi(S,y){return bc.apply(this,arguments)}(C.auth,H);X!==S.email&&(yield S.reload())}),Fl.apply(this,arguments)}function hn(S,y,C){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,re.Z)(function*(S,y,C){const M=(0,Be.m9)(S),X={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield S.getIdToken(),newEmail:y};C&&Uf(M.auth,X,C);const{email:xe}=yield function je(S,y){return Wu.apply(this,arguments)}(M.auth,X);xe!==S.email&&(yield S.reload())}),Ic.apply(this,arguments)}function Vl(){return(Vl=(0,re.Z)(function*(S,y){return et(S,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Cr(S,y){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,re.Z)(function*(S,{displayName:y,photoURL:C}){if(void 0===y&&void 0===C)return;const M=(0,Be.m9)(S),X={idToken:yield M.getIdToken(),displayName:y,photoUrl:C,returnSecureToken:!0},xe=yield Si(M,function ex(S,y){return Vl.apply(this,arguments)}(M.auth,X));M.displayName=xe.displayName||null,M.photoURL=xe.photoUrl||null;const Le=M.providerData.find(({providerId:tt})=>"password"===tt);Le&&(Le.displayName=M.displayName,Le.photoURL=M.photoURL),yield M._updateTokensIfNecessary(xe)}),Sc.apply(this,arguments)}function vd(S,y){return yd((0,Be.m9)(S),y,null)}function Ra(S,y){return yd((0,Be.m9)(S),null,y)}function yd(S,y,C){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,re.Z)(function*(S,y,C){const{auth:M}=S,X={idToken:yield S.getIdToken(),returnSecureToken:!0};y&&(X.email=y),C&&(X.password=C);const xe=yield Si(S,Ci(M,X));yield S._updateTokensIfNecessary(xe,!0)})).apply(this,arguments)}class Zs{constructor(y,C,M={}){this.isNewUser=y,this.providerId=C,this.profile=M}}class bd extends Zs{constructor(y,C,M,H){super(y,C,M),this.username=H}}class Zu extends Zs{constructor(y,C){super(y,"facebook.com",C)}}class Hn extends bd{constructor(y,C){super(y,"github.com",C,"string"==typeof C?.login?C?.login:null)}}class jF extends Zs{constructor(y,C){super(y,"google.com",C)}}class m_ extends bd{constructor(y,C,M){super(y,"twitter.com",C,M)}}function tx(S){const{user:y,_tokenResponse:C}=S;return y.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function Bl(S){var y,C;if(!S)return null;const{providerId:M}=S,H=S.rawUserInfo?JSON.parse(S.rawUserInfo):{},X=S.isNewUser||"identitytoolkit#SignupNewUserResponse"===S.kind;if(!M&&S?.idToken){const xe=null===(C=null===(y=ti(S.idToken))||void 0===y?void 0:y.firebase)||void 0===C?void 0:C.sign_in_provider;if(xe)return new Zs(X,"anonymous"!==xe&&"custom"!==xe?xe:null)}if(!M)return null;switch(M){case"facebook.com":return new Zu(X,H);case"github.com":return new Hn(X,H);case"google.com":return new jF(X,H);case"twitter.com":return new m_(X,H,S.screenName||null);case"custom":case"anonymous":return new Zs(X,null);default:return new Zs(X,M,H)}}(C)}class rl{constructor(y,C,M){this.type=y,this.credential=C,this.user=M}static _fromIdtoken(y,C){return new rl("enroll",y,C)}static _fromMfaPendingCredential(y){return new rl("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var C,M;if(y?.multiFactorSession){if(null!==(C=y.multiFactorSession)&&void 0!==C&&C.pendingCredential)return rl._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(M=y.multiFactorSession)&&void 0!==M&&M.idToken)return rl._fromIdtoken(y.multiFactorSession.idToken)}return null}}class y_{constructor(y,C,M){this.session=y,this.hints=C,this.signInResolver=M}static _fromError(y,C){const M=E(y),H=C.customData._serverResponse,X=(H.mfaInfo||[]).map(Le=>Bt._fromServerResponse(M,Le));at(H.mfaPendingCredential,M,"internal-error");const xe=rl._fromMfaPendingCredential(H.mfaPendingCredential);return new y_(xe,X,function(){var Le=(0,re.Z)(function*(tt){const Ft=yield tt._process(M,xe);delete H.mfaInfo,delete H.mfaPendingCredential;const qt=Object.assign(Object.assign({},H),{idToken:Ft.idToken,refreshToken:Ft.refreshToken});switch(C.operationType){case"signIn":const Un=yield Xs._fromIdTokenResponse(M,C.operationType,qt);return yield M._updateCurrentUser(Un.user),Un;case"reauthenticate":return at(C.user,M,"internal-error"),Xs._forOperation(C.user,C.operationType,qt);default:Re(M,"internal-error")}});return function(tt){return Le.apply(this,arguments)}}())}resolveSignIn(y){var C=this;return(0,re.Z)(function*(){return C.signInResolver(y)})()}}function VT(S,y){var C;const M=(0,Be.m9)(S),H=y;return at(y.customData.operationType,M,"argument-error"),at(null===(C=H.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,M,"argument-error"),y_._fromError(M,H)}class ix{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(M=>Bt._fromServerResponse(y.auth,M)))})}static _fromUser(y){return new ix(y)}getSession(){var y=this;return(0,re.Z)(function*(){return rl._fromIdtoken(yield y.user.getIdToken(),y.user)})()}enroll(y,C){var M=this;return(0,re.Z)(function*(){const H=y,X=yield M.getSession(),xe=yield Si(M.user,H._process(M.user.auth,X,C));return yield M.user._updateTokensIfNecessary(xe),M.user.reload()})()}unenroll(y){var C=this;return(0,re.Z)(function*(){const M="string"==typeof y?y:y.uid,H=yield C.user.getIdToken();try{const X=yield Si(C.user,function qF(S,y){return et(S,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(S,y))}(C.user.auth,{idToken:H,mfaEnrollmentId:M}));C.enrolledFactors=C.enrolledFactors.filter(({uid:xe})=>xe!==M),yield C.user._updateTokensIfNecessary(X),yield C.user.reload()}catch(X){throw X}})()}}const rx=new WeakMap;function XF(S){const y=(0,Be.m9)(S);return rx.has(y)||rx.set(y,ix._fromUser(y)),rx.get(y)}const b_="__sak";class zT{constructor(y,C){this.storageRetriever=y,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(b_,"1"),this.storage.removeItem(b_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,C){return this.storage.setItem(y,JSON.stringify(C)),Promise.resolve()}_get(y){const C=this.storage.getItem(y);return Promise.resolve(C?JSON.parse(C):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const HT=(()=>{class S extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,M)=>this.onStorageEvent(C,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ZF(){const S=(0,Be.z$)();return Dt(S)||be(S)}()&&function l(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=a(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const M of Object.keys(this.listeners)){const H=this.storage.getItem(M),X=this.localCache[M];H!==X&&C(M,X,H)}}onStorageEvent(C,M=!1){if(!C.key)return void this.forAllChangedKeys((Le,tt,Ft)=>{this.notifyListeners(Le,Ft)});const H=C.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Le=this.storage.getItem(H);if(C.newValue!==Le)null!==C.newValue?this.storage.setItem(H,C.newValue):this.storage.removeItem(H);else if(this.localCache[H]===C.newValue&&!M)return}const X=()=>{const Le=this.storage.getItem(H);!M&&this.localCache[H]===Le||this.notifyListeners(H,Le)},xe=this.storage.getItem(H);!function V(){return(0,Be.w1)()&&10===document.documentMode}()||xe===C.newValue||C.newValue===C.oldValue?X():setTimeout(X,10)}notifyListeners(C,M){this.localCache[C]=M;const H=this.listeners[C];if(H)for(const X of Array.from(H))X(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,M,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:M,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(M)}_removeListener(C,M){this.listeners[C]&&(this.listeners[C].delete(M),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,M){var H=()=>super._set,X=this;return(0,re.Z)(function*(){yield H().call(X,C,M),X.localCache[C]=JSON.stringify(M)})()}_get(C){var M=()=>super._get,H=this;return(0,re.Z)(function*(){const X=yield M().call(H,C);return H.localCache[C]=JSON.stringify(X),X})()}_remove(C){var M=()=>super._remove,H=this;return(0,re.Z)(function*(){yield M().call(H,C),delete H.localCache[C]})()}}return S.type="LOCAL",S})(),$f=(()=>{class S extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,M){}_removeListener(C,M){}}return S.type="SESSION",S})();let e2=(()=>{class S{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const M=this.receivers.find(X=>X.isListeningto(C));if(M)return M;const H=new S(C);return this.receivers.push(H),H}isListeningto(C){return this.eventTarget===C}handleEvent(C){var M=this;return(0,re.Z)(function*(){const H=C,{eventId:X,eventType:xe,data:Le}=H.data,tt=M.handlersMap[xe];if(!tt?.size)return;H.ports[0].postMessage({status:"ack",eventId:X,eventType:xe});const Ft=Array.from(tt).map(function(){var Un=(0,re.Z)(function*(Fs){return Fs(H.origin,Le)});return function(Fs){return Un.apply(this,arguments)}}()),qt=yield function JF(S){return Promise.all(S.map(function(){var y=(0,re.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(M){return{fulfilled:!1,reason:M}}});return function(C){return y.apply(this,arguments)}}()))}(Ft);H.ports[0].postMessage({status:"done",eventId:X,eventType:xe,response:qt})})()}_subscribe(C,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(M)}_unsubscribe(C,M){this.handlersMap[C]&&M&&this.handlersMap[C].delete(M),(!M||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function Yf(S="",y=10){let C="";for(let M=0;M<y;M++)C+=Math.floor(10*Math.random());return S+C}class kc{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,C,M=50){var H=this;return(0,re.Z)(function*(){const X=typeof MessageChannel<"u"?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let xe,Le;return new Promise((tt,Ft)=>{const qt=Yf("",20);X.port1.start();const Un=setTimeout(()=>{Ft(new Error("unsupported_event"))},M);Le={messageChannel:X,onMessage(Fs){const aa=Fs;if(aa.data.eventId===qt)switch(aa.data.status){case"ack":clearTimeout(Un),xe=setTimeout(()=>{Ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(xe),tt(aa.data.response);break;default:clearTimeout(Un),clearTimeout(xe),Ft(new Error("invalid_response"))}}},H.handlers.add(Le),X.port1.addEventListener("message",Le.onMessage),H.target.postMessage({eventType:y,eventId:qt,data:C},[X.port2])}).finally(()=>{Le&&H.removeMessageHandler(Le)})})()}}function Ni(){return window}function sx(){return typeof Ni().WorkerGlobalScope<"u"&&"function"==typeof Ni().importScripts}function wd(){return(wd=(0,re.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const x_="firebaseLocalStorageDb",Qu="firebaseLocalStorage",qf="fbase_key";class Cd{constructor(y){this.request=y}toPromise(){return new Promise((y,C)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function Ed(S,y){return S.transaction([Qu],y?"readwrite":"readonly").objectStore(Qu)}function Xf(){const S=indexedDB.open(x_,1);return new Promise((y,C)=>{S.addEventListener("error",()=>{C(S.error)}),S.addEventListener("upgradeneeded",()=>{const M=S.result;try{M.createObjectStore(Qu,{keyPath:qf})}catch(H){C(H)}}),S.addEventListener("success",(0,re.Z)(function*(){const M=S.result;M.objectStoreNames.contains(Qu)?y(M):(M.close(),yield function w_(){const S=indexedDB.deleteDatabase(x_);return new Cd(S).toPromise()}(),y(yield Xf()))}))})}function C_(S,y,C){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,re.Z)(function*(S,y,C){const M=Ed(S,!0).put({[qf]:y,value:C});return new Cd(M).toPromise()})).apply(this,arguments)}function Mc(){return(Mc=(0,re.Z)(function*(S,y){const C=Ed(S,!1).get(y),M=yield new Cd(C).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Rc(S,y){const C=Ed(S,!0).delete(y);return new Cd(C).toPromise()}const jT=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,re.Z)(function*(){return C.db||(C.db=yield Xf()),C.db})()}_withRetries(C){var M=this;return(0,re.Z)(function*(){let H=0;for(;;)try{const X=yield M._openDb();return yield C(X)}catch(X){if(H++>3)throw X;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,re.Z)(function*(){return sx()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,re.Z)(function*(){C.receiver=e2._getInstance(function ox(){return sx()?self:null}()),C.receiver._subscribe("keyChanged",function(){var M=(0,re.Z)(function*(H,X){return{keyProcessed:(yield C._poll()).includes(X.key)}});return function(H,X){return M.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var M=(0,re.Z)(function*(H,X){return["keyChanged"]});return function(H,X){return M.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,re.Z)(function*(){var M,H;if(C.activeServiceWorker=yield function us(){return wd.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new kc(C.activeServiceWorker);const X=yield C.sender._send("ping",{},800);X&&null!==(M=X[0])&&void 0!==M&&M.fulfilled&&null!==(H=X[0])&&void 0!==H&&H.value.includes("keyChanged")&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var M=this;return(0,re.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Wo(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:C},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,re.Z)(function*(){try{if(!indexedDB)return!1;const C=yield Xf();return yield C_(C,b_,"1"),yield Rc(C,b_),!0}catch{}return!1})()}_withPendingWrite(C){var M=this;return(0,re.Z)(function*(){M.pendingWrites++;try{yield C()}finally{M.pendingWrites--}})()}_set(C,M){var H=this;return(0,re.Z)(function*(){return H._withPendingWrite((0,re.Z)(function*(){return yield H._withRetries(X=>C_(X,C,M)),H.localCache[C]=M,H.notifyServiceWorker(C)}))})()}_get(C){var M=this;return(0,re.Z)(function*(){const H=yield M._withRetries(X=>function Kf(S,y){return Mc.apply(this,arguments)}(X,C));return M.localCache[C]=H,H})()}_remove(C){var M=this;return(0,re.Z)(function*(){return M._withPendingWrite((0,re.Z)(function*(){return yield M._withRetries(H=>Rc(H,C)),delete M.localCache[C],M.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,re.Z)(function*(){const M=yield C._withRetries(xe=>{const Le=Ed(xe,!1).getAll();return new Cd(Le).toPromise()});if(!M)return[];if(0!==C.pendingWrites)return[];const H=[],X=new Set;for(const{fbase_key:xe,value:Le}of M)X.add(xe),JSON.stringify(C.localCache[xe])!==JSON.stringify(Le)&&(C.notifyListeners(xe,Le),H.push(xe));for(const xe of Object.keys(C.localCache))C.localCache[xe]&&!X.has(xe)&&(C.notifyListeners(xe,null),H.push(xe));return H})()}notifyListeners(C,M){this.localCache[C]=M;const H=this.listeners[C];if(H)for(const X of Array.from(H))X(M)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,re.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(M)}_removeListener(C,M){this.listeners[C]&&(this.listeners[C].delete(M),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})(),Qf=1e12;class D_{constructor(y){this.auth=y,this.counter=Qf,this._widgets=new Map}render(y,C){const M=this.counter;return this._widgets.set(M,new s2(y,this.auth.name,C||{})),this.counter++,M}reset(y){var C;const M=y||Qf;null===(C=this._widgets.get(M))||void 0===C||C.delete(),this._widgets.delete(M)}getResponse(y){var C;return(null===(C=this._widgets.get(y||Qf))||void 0===C?void 0:C.getResponse())||""}execute(y){var C=this;return(0,re.Z)(function*(){var M;return null===(M=C._widgets.get(y||Qf))||void 0===M||M.execute(),""})()}}class s2{constructor(y,C,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof y?document.getElementById(y):y;at(H,"argument-error",{appName:C}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function o2(S){const y=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<S;M++)y.push(C.charAt(Math.floor(62*Math.random())));return y.join("")}(50);const{callback:y,"expired-callback":C}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const T_=P("rcb"),dx=new fr(3e4,6e4);class $T{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=Ni().grecaptcha)||void 0===y||!y.render)}load(y,C=""){return at(function YT(S){return S.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(S)}(C),y,"argument-error"),this.shouldResolveImmediately(C)&&Ri(Ni().grecaptcha)?Promise.resolve(Ni().grecaptcha):new Promise((M,H)=>{const X=Ni().setTimeout(()=>{H(Yt(y,"network-request-failed"))},dx.get());Ni()[T_]=()=>{Ni().clearTimeout(X),delete Ni()[T_];const Le=Ni().grecaptcha;if(!Le||!Ri(Le))return void H(Yt(y,"internal-error"));const tt=Le.render;Le.render=(Ft,qt)=>{const Un=tt(Ft,qt);return this.counter++,Un},this.hostLanguage=C,M(Le)},O(`https://www.google.com/recaptcha/api.js??${(0,Be.xO)({onload:T_,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(X),H(Yt(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var C;return!(null===(C=Ni().grecaptcha)||void 0===C||!C.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qT{load(y){return(0,re.Z)(function*(){return new D_(y)})()}clearedOneInstance(){}}const I_="recaptcha",XT={theme:"light",type:"image"};class hx{constructor(y,C,M=Object.assign({},XT)){this.parameters=M,this.type=I_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=E(y),this.isInvisible="invisible"===this.parameters.size,at(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof C?document.getElementById(C):C;at(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qT:new $T,this.validateStartingState()}verify(){var y=this;return(0,re.Z)(function*(){y.assertNotDestroyed();const C=yield y.render(),M=y.getAssertedRecaptcha();return M.getResponse(C)||new Promise(X=>{const xe=Le=>{Le&&(y.tokenChangeListeners.delete(xe),X(Le))};y.tokenChangeListeners.add(xe),y.isInvisible&&M.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){at(!this.parameters.sitekey,this.auth,"argument-error"),at(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),at(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return C=>{if(this.tokenChangeListeners.forEach(M=>M(C)),"function"==typeof y)y(C);else if("string"==typeof y){const M=Ni()[y];"function"==typeof M&&M(C)}}}assertNotDestroyed(){at(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,re.Z)(function*(){if(yield y.init(),!y.widgetId){let C=y.container;if(!y.isInvisible){const M=document.createElement("div");C.appendChild(M),C=M}y.widgetId=y.getAssertedRecaptcha().render(C,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,re.Z)(function*(){at(fn()&&!sx(),y.auth,"internal-error"),yield function ZT(){let S=null;return new Promise(y=>{"complete"!==document.readyState?(S=()=>y(),window.addEventListener("load",S)):y()}).catch(y=>{throw S&&window.removeEventListener("load",S),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const C=yield function Ne(S){return Qe.apply(this,arguments)}(y.auth);at(C,y.auth,"internal-error"),y.parameters.sitekey=C})()}getAssertedRecaptcha(){return at(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fx{constructor(y,C){this.verificationId=y,this.onConfirmation=C}confirm(y){const C=Cc._fromVerification(this.verificationId,y);return this.onConfirmation(C)}}function KT(S,y,C){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,re.Z)(function*(S,y,C){const M=E(S),H=yield Ju(M,y,(0,Be.m9)(C));return new fx(H,X=>zf(M,X))})).apply(this,arguments)}function px(S,y,C){return S_.apply(this,arguments)}function S_(){return(S_=(0,re.Z)(function*(S,y,C){const M=(0,Be.m9)(S);yield qu(!1,M,"phone");const H=yield Ju(M.auth,y,(0,Be.m9)(C));return new fx(H,X=>X0(M,X))})).apply(this,arguments)}function QT(S,y,C){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,re.Z)(function*(S,y,C){const M=(0,Be.m9)(S),H=yield Ju(M.auth,y,(0,Be.m9)(C));return new fx(H,X=>Z0(M,X))})).apply(this,arguments)}function Ju(S,y,C){return A_.apply(this,arguments)}function A_(){return A_=(0,re.Z)(function*(S,y,C){var M;const H=yield C.verify();try{let X;if(at("string"==typeof H,S,"argument-error"),at(C.type===I_,S,"argument-error"),X="string"==typeof y?{phoneNumber:y}:y,"session"in X){const xe=X.session;if("phoneNumber"in X)return at("enroll"===xe.type,S,"internal-error"),(yield function GF(S,y){return et(S,"POST","/v2/accounts/mfaEnrollment:start",Ae(S,y))}(S,{idToken:xe.credential,phoneEnrollmentInfo:{phoneNumber:X.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{at("signin"===xe.type,S,"internal-error");const Le=(null===(M=X.multiFactorHint)||void 0===M?void 0:M.uid)||X.multiFactorUid;return at(Le,S,"missing-multi-factor-info"),(yield function WT(S,y){return et(S,"POST","/v2/accounts/mfaSignIn:start",Ae(S,y))}(S,{mfaPendingCredential:xe.credential,mfaEnrollmentId:Le,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:xe}=yield function UF(S,y){return wc.apply(this,arguments)}(S,{phoneNumber:X.phoneNumber,recaptchaToken:H});return xe}}finally{C._reset()}}),A_.apply(this,arguments)}function k_(S,y){return M_.apply(this,arguments)}function M_(){return(M_=(0,re.Z)(function*(S,y){yield Dc((0,Be.m9)(S),y)})).apply(this,arguments)}let Oa=(()=>{class S{constructor(C){this.providerId=S.PROVIDER_ID,this.auth=E(C)}verifyPhoneNumber(C,M){return Ju(this.auth,C,(0,Be.m9)(M))}static credential(C,M){return Cc._fromVerification(C,M)}static credentialFromResult(C){return S.credentialFromTaggedObject(C)}static credentialFromError(C){return S.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:M,temporaryProof:H}=C;return M&&H?Cc._fromTokenResponse(M,H):null}}return S.PROVIDER_ID="phone",S.PHONE_SIGN_IN_METHOD="phone",S})();function zl(S,y){return y?G(y):(at(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}class ep extends nn{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Rl(y,this._buildIdpRequest())}_linkToIdToken(y,C){return Rl(y,this._buildIdpRequest(C))}_getReauthenticationResolver(y){return Rl(y,this._buildIdpRequest())}_buildIdpRequest(y){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(C.idToken=y),C}}function Ui(S){return q0(S.auth,new ep(S),S.bypassAuthState)}function R_(S){const{auth:y,user:C}=S;return at(C,y,"internal-error"),o_(C,new ep(S),S.bypassAuthState)}function tp(S){return ws.apply(this,arguments)}function ws(){return(ws=(0,re.Z)(function*(S){const{auth:y,user:C}=S;return at(C,y,"internal-error"),Dc(C,new ep(S),S.bypassAuthState)})).apply(this,arguments)}class gx{constructor(y,C,M,H,X=!1){this.auth=y,this.resolver=M,this.user=H,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var y=this;return new Promise(function(){var C=(0,re.Z)(function*(M,H){y.pendingPromise={resolve:M,reject:H};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(X){y.reject(X)}});return function(M,H){return C.apply(this,arguments)}}())}onAuthEvent(y){var C=this;return(0,re.Z)(function*(){const{urlResponse:M,sessionId:H,postBody:X,tenantId:xe,error:Le,type:tt}=y;if(Le)return void C.reject(Le);const Ft={auth:C.auth,requestUri:M,sessionId:H,tenantId:xe||void 0,postBody:X||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(tt)(Ft))}catch(qt){C.reject(qt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Ui;case"linkViaPopup":case"linkViaRedirect":return tp;case"reauthViaPopup":case"reauthViaRedirect":return R_;default:Re(this.auth,"internal-error")}}resolve(y){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mx=new fr(2e3,1e4);function Dd(S,y,C){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,re.Z)(function*(S,y,C){const M=E(S);qi(S,y,Uo);const H=zl(M,C);return new np(M,"signInViaPopup",y,H).executeNotNull()})).apply(this,arguments)}function JT(S,y,C){return O_.apply(this,arguments)}function O_(){return(O_=(0,re.Z)(function*(S,y,C){const M=(0,Be.m9)(S);qi(M.auth,y,Uo);const H=zl(M.auth,C);return new np(M.auth,"reauthViaPopup",y,H,M).executeNotNull()})).apply(this,arguments)}function eI(S,y,C){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,re.Z)(function*(S,y,C){const M=(0,Be.m9)(S);qi(M.auth,y,Uo);const H=zl(M.auth,C);return new np(M.auth,"linkViaPopup",y,H,M).executeNotNull()})).apply(this,arguments)}let np=(()=>{class S extends gx{constructor(C,M,H,X,xe){super(C,M,X,xe),this.provider=H,this.authWindow=null,this.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=this}executeNotNull(){var C=this;return(0,re.Z)(function*(){const M=yield C.execute();return at(M,C.auth,"internal-error"),M})()}onExecution(){var C=this;return(0,re.Z)(function*(){$n(1===C.filter.length,"Popup operations only handle one event");const M=Yf();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],M),C.authWindow.associatedEvent=M,C.resolver._originValidation(C.auth).catch(H=>{C.reject(H)}),C.resolver._isIframeWebStorageSupported(C.auth,H=>{H||C.reject(Yt(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(Yt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}pollUserCancellation(){const C=()=>{var M,H;this.pollId=null!==(H=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Yt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(C,mx.get())};C()}}return S.currentPopupAction=null,S})();const tI="pendingRedirect",Td=new Map;class _x extends gx{constructor(y,C,M=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,M),this.eventId=null}execute(){var y=()=>super.execute,C=this;return(0,re.Z)(function*(){let M=Td.get(C.auth._key());if(!M){try{const X=(yield function vx(S,y){return P_.apply(this,arguments)}(C.resolver,C.auth))?yield y().call(C):null;M=()=>Promise.resolve(X)}catch(H){M=()=>Promise.reject(H)}Td.set(C.auth._key(),M)}return C.bypassAuthState||Td.set(C.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(y){var C=()=>super.onAuthEvent,M=this;return(0,re.Z)(function*(){if("signInViaRedirect"===y.type)return C().call(M,y);if("unknown"!==y.type){if(y.eventId){const H=yield M.auth._redirectUserForId(y.eventId);if(H)return M.user=H,C().call(M,y);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,re.Z)(function*(){})()}cleanUp(){}}function P_(){return(P_=(0,re.Z)(function*(S,y){const C=xx(y),M=bx(S);if(!(yield M._isAvailable()))return!1;const H="true"===(yield M._get(C));return yield M._remove(C),H})).apply(this,arguments)}function an(S,y){return ip.apply(this,arguments)}function ip(){return(ip=(0,re.Z)(function*(S,y){return bx(S)._set(xx(y),"true")})).apply(this,arguments)}function a2(){Td.clear()}function yx(S,y){Td.set(S._key(),y)}function bx(S){return G(S._redirectPersistence)}function xx(S){return St(tI,S.config.apiKey,S.name)}function wx(S,y,C){return function Id(S,y,C){return N_.apply(this,arguments)}(S,y,C)}function N_(){return(N_=(0,re.Z)(function*(S,y,C){const M=E(S);qi(S,y,Uo),yield M._initializationPromise;const H=zl(M,C);return yield an(H,M),H._openRedirect(M,y,"signInViaRedirect")})).apply(this,arguments)}function nI(S,y,C){return function iI(S,y,C){return L_.apply(this,arguments)}(S,y,C)}function L_(){return(L_=(0,re.Z)(function*(S,y,C){const M=(0,Be.m9)(S);qi(M.auth,y,Uo),yield M.auth._initializationPromise;const H=zl(M.auth,C);yield an(H,M.auth);const X=yield Sd(M);return H._openRedirect(M.auth,y,"reauthViaRedirect",X)})).apply(this,arguments)}function rI(S,y,C){return function nt(S,y,C){return Zn.apply(this,arguments)}(S,y,C)}function Zn(){return(Zn=(0,re.Z)(function*(S,y,C){const M=(0,Be.m9)(S);qi(M.auth,y,Uo),yield M.auth._initializationPromise;const H=zl(M.auth,C);yield qu(!1,M,y.providerId),yield an(H,M.auth);const X=yield Sd(M);return H._openRedirect(M.auth,y,"linkViaRedirect",X)})).apply(this,arguments)}function wt(S,y){return yt.apply(this,arguments)}function yt(){return(yt=(0,re.Z)(function*(S,y){return yield E(S)._initializationPromise,zr(S,y,!1)})).apply(this,arguments)}function zr(S,y){return rp.apply(this,arguments)}function rp(){return(rp=(0,re.Z)(function*(S,y,C=!1){const M=E(S),H=zl(M,y),xe=yield new _x(M,H,C).execute();return xe&&!C&&(delete xe.user._redirectEventId,yield M._persistUserIfCurrent(xe.user),yield M._setRedirectUser(null,y)),xe})).apply(this,arguments)}function Sd(S){return Go.apply(this,arguments)}function Go(){return(Go=(0,re.Z)(function*(S){const y=Yf(`${S.uid}:::`);return S._redirectEventId=y,yield S.auth._setRedirectUser(S),yield S.auth._persistUserIfCurrent(S),y})).apply(this,arguments)}class sp{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let C=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(y,M)&&(C=!0,this.sendToConsumer(y,M),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Ex(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sI(S);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=y,C=!0)),C}sendToConsumer(y,C){var M;if(y.error&&!sI(y)){const H=(null===(M=y.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";C.onError(Yt(this.auth,H))}else C.onAuthEvent(y)}isEventForConsumer(y,C){const M=null===C.eventId||!!y.eventId&&y.eventId===C.eventId;return C.filter.includes(y.type)&&M}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cx(y))}saveEventToCache(y){this.cachedEventUids.add(Cx(y)),this.lastProcessedEventTime=Date.now()}}function Cx(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(y=>y).join("-")}function sI({type:S,error:y}){return"unknown"===S&&"auth/no-auth-event"===y?.code}function Cs(S){return oa.apply(this,arguments)}function oa(){return(oa=(0,re.Z)(function*(S,y={}){return et(S,"GET","/v1/projects",y)})).apply(this,arguments)}const Dx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ad=/^https?/;function V_(){return(V_=(0,re.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:y}=yield Cs(S);for(const C of y)try{if(Tx(C))return}catch{}Re(S,"unauthorized-domain")})).apply(this,arguments)}function Tx(S){const y=Bi(),{protocol:C,hostname:M}=new URL(y);if(S.startsWith("chrome-extension://")){const xe=new URL(S);return""===xe.hostname&&""===M?"chrome-extension:"===C&&S.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===C&&xe.hostname===M}if(!Ad.test(C))return!1;if(Dx.test(S))return M===S;const H=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(M)}const oI=new fr(3e4,6e4);function Ix(){const S=Ni().___jsl;if(S?.H)for(const y of Object.keys(S.H))if(S.H[y].r=S.H[y].r||[],S.H[y].L=S.H[y].L||[],S.H[y].r=[...S.H[y].L],S.CP)for(let C=0;C<S.CP.length;C++)S.CP[C]=null}let kd=null;const z_=new fr(5e3,15e3),aI="__/auth/iframe",Ax="emulator/auth/iframe",H_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mx(S){const y=S.config;at(y.authDomain,S,"auth-domain-config-required");const C=y.emulator?Vr(y,Ax):`https://${S.config.authDomain}/${aI}`,M={apiKey:y.apiKey,appName:S.name,v:ae.SDK_VERSION},H=kx.get(S.config.apiHost);H&&(M.eid=H);const X=S._getFrameworks();return X.length&&(M.fw=X.join(",")),`${C}?${(0,Be.xO)(M).slice(1)}`}function op(){return op=(0,re.Z)(function*(S){const y=yield function Sx(S){return kd=kd||function B_(S){return new Promise((y,C)=>{var M,H,X;function xe(){Ix(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Ix(),C(Yt(S,"network-request-failed"))},timeout:oI.get()})}if(null!==(H=null===(M=Ni().gapi)||void 0===M?void 0:M.iframes)&&void 0!==H&&H.Iframe)y(gapi.iframes.getContext());else{if(null===(X=Ni().gapi)||void 0===X||!X.load){const Le=P("iframefcb");return Ni()[Le]=()=>{gapi.load?xe():C(Yt(S,"network-request-failed"))},O(`https://apis.google.com/js/api.js?onload=${Le}`).catch(tt=>C(tt))}xe()}}).catch(y=>{throw kd=null,y})}(S),kd}(S),C=Ni().gapi;return at(C,S,"internal-error"),y.open({where:document.body,url:Mx(S),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H_,dontclear:!0},M=>new Promise(function(){var H=(0,re.Z)(function*(X,xe){yield M.restyle({setHideOnLeave:!1});const Le=Yt(S,"network-request-failed"),tt=Ni().setTimeout(()=>{xe(Le)},z_.get());function Ft(){Ni().clearTimeout(tt),X(M)}M.ping(Ft).then(Ft,()=>{xe(Le)})});return function(X,xe){return H.apply(this,arguments)}}()))}),op.apply(this,arguments)}const U_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ki{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const j_="__/auth/handler",uI="emulator/auth/handler",Ox=encodeURIComponent("fac");function ap(S,y,C,M,H,X){return Md.apply(this,arguments)}function Md(){return(Md=(0,re.Z)(function*(S,y,C,M,H,X){at(S.config.authDomain,S,"auth-domain-config-required"),at(S.config.apiKey,S,"invalid-api-key");const xe={apiKey:S.config.apiKey,appName:S.name,authType:C,redirectUrl:M,v:ae.SDK_VERSION,eventId:H};if(y instanceof Uo){y.setDefaultLanguage(S.languageCode),xe.providerId=y.providerId||"",(0,Be.xb)(y.getCustomParameters())||(xe.customParameters=JSON.stringify(y.getCustomParameters()));for(const[qt,Un]of Object.entries(X||{}))xe[qt]=Un}if(y instanceof Nl){const qt=y.getScopes().filter(Un=>""!==Un);qt.length>0&&(xe.scopes=qt.join(","))}S.tenantId&&(xe.tid=S.tenantId);const Le=xe;for(const qt of Object.keys(Le))void 0===Le[qt]&&delete Le[qt];const tt=yield S._getAppCheckToken(),Ft=tt?`#${Ox}=${encodeURIComponent(tt)}`:"";return`${function Hl({config:S}){return S.emulator?Vr(S,uI):`https://${S.authDomain}/${j_}`}(S)}?${(0,Be.xO)(Le).slice(1)}${Ft}`})).apply(this,arguments)}const W_="webStorageSupport",th=class lp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$f,this._completeRedirectFn=zr,this._overrideRedirectResult=yx}_openPopup(y,C,M,H){var X=this;return(0,re.Z)(function*(){var xe;$n(null===(xe=X.eventManagers[y._key()])||void 0===xe?void 0:xe.manager,"_initialize() not called before _openPopup()");const Le=yield ap(y,C,M,Bi(),H);return function eh(S,y,C,M=500,H=600){const X=Math.max((window.screen.availHeight-H)/2,0).toString(),xe=Math.max((window.screen.availWidth-M)/2,0).toString();let Le="";const tt=Object.assign(Object.assign({},U_),{width:M.toString(),height:H.toString(),top:X,left:xe}),Ft=(0,Be.z$)().toLowerCase();C&&(Le=vi(Ft)?"_blank":C),ri(Ft)&&(y=y||"http://localhost",tt.scrollbars="yes");const qt=Object.entries(tt).reduce((Fs,[aa,Rd])=>`${Fs}${aa}=${Rd},`,"");if(function jt(S=(0,Be.z$)()){var y;return be(S)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(Ft)&&"_self"!==Le)return function dI(S,y){const C=document.createElement("a");C.href=S,C.target=y;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(M)}(y||"",Le),new Ki(null);const Un=window.open(y||"",Le,qt);at(Un,S,"popup-blocked");try{Un.focus()}catch{}return new Ki(Un)}(y,Le,Yf())})()}_openRedirect(y,C,M,H){var X=this;return(0,re.Z)(function*(){return yield X._originValidation(y),function t2(S){Ni().location.href=S}(yield ap(y,C,M,Bi(),H)),new Promise(()=>{})})()}_initialize(y){const C=y._key();if(this.eventManagers[C]){const{manager:H,promise:X}=this.eventManagers[C];return H?Promise.resolve(H):($n(X,"If manager is not set, promise should be"),X)}const M=this.initAndGetManager(y);return this.eventManagers[C]={promise:M},M.catch(()=>{delete this.eventManagers[C]}),M}initAndGetManager(y){var C=this;return(0,re.Z)(function*(){const M=yield function Rx(S){return op.apply(this,arguments)}(y),H=new sp(y);return M.register("authEvent",X=>(at(X?.authEvent,y,"invalid-auth-event"),{status:H.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[y._key()]={manager:H},C.iframes[y._key()]=M,H})()}_isIframeWebStorageSupported(y,C){this.iframes[y._key()].send(W_,{type:W_},H=>{var X;const xe=null===(X=H?.[0])||void 0===X?void 0:X[W_];void 0!==xe&&C(!!xe),Re(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const C=y._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function sl(S){return V_.apply(this,arguments)}(y)),this.originValidationPromises[C]}get _shouldInitProactively(){return a()||Dt()||be()}};class cp{constructor(y){this.factorId=y}_process(y,C,M){switch(C.type){case"enroll":return this._finalizeEnroll(y,C.credential,M);case"signin":return this._finalizeSignIn(y,C.credential);default:return Mn("unexpected MultiFactorSessionType")}}}class nh extends cp{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new nh(y)}_finalizeEnroll(y,C,M){return function BT(S,y){return et(S,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(S,y))}(y,{idToken:C,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,C){return function GT(S,y){return et(S,"POST","/v2/accounts/mfaSignIn:finalize",Ae(S,y))}(y,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Px=(()=>{class S{constructor(){}static assertion(C){return nh._fromCredential(C)}}return S.FACTOR_ID="phone",S})();var Nx="@firebase/auth";class $_{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var C=this;return(0,re.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const C=this.auth.onIdTokenChanged(M=>{y(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,C),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const C=this.internalListeners.get(y);C&&(this.internalListeners.delete(y),C(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Be.Pz)("authIdTokenMaxAge"),function pI(S){(0,ae._registerComponent)(new Ti.wA("auth",(y,{options:C})=>{const M=y.getProvider("app").getImmediate(),H=y.getProvider("heartbeat"),X=y.getProvider("app-check-internal"),{apiKey:xe,authDomain:Le}=M.options;at(xe&&!xe.includes(":"),"invalid-api-key",{appName:M.name});const tt={apiKey:xe,authDomain:Le,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d(S)},Ft=new w(M,H,X,tt);return function _e(S,y){const C=y?.persistence||[],M=(Array.isArray(C)?C:[C]).map(G);y?.errorMap&&S._updateErrorMap(y.errorMap),S._initializeWithPersistence(M,y?.popupRedirectResolver)}(Ft,C),Ft},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,C,M)=>{y.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Ti.wA("auth-internal",y=>{const C=E(y.getProvider("auth").getImmediate());return new $_(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Nx,"1.3.2",function l2(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,ae.registerVersion)(Nx,"1.3.2","esm2017")}("Browser")},963:(Kr,Wi,$t)=>{$t.d(Wi,{BH:()=>br,DV:()=>we,Dv:()=>Yn,G6:()=>Vr,GJ:()=>Ri,L:()=>bn,LL:()=>Ue,Pz:()=>Yt,Sg:()=>qi,UG:()=>Mn,UI:()=>Qe,US:()=>Ti,Wj:()=>Si,Wl:()=>Vt,Yr:()=>fr,ZB:()=>Pt,ZR:()=>et,aH:()=>Re,b$:()=>fn,cI:()=>Ye,dS:()=>ho,eu:()=>Fe,g5:()=>ae,gK:()=>ti,gQ:()=>zi,h$:()=>Vn,hl:()=>Me,hu:()=>Be,jU:()=>$n,lb:()=>Oi,m9:()=>po,ne:()=>Xi,p$:()=>ot,pd:()=>_i,r3:()=>Ce,ru:()=>Bi,tV:()=>Ze,uI:()=>at,ug:()=>bs,vZ:()=>mt,w1:()=>os,w9:()=>gi,xO:()=>Nn,xb:()=>Ne,z$:()=>cn,zd:()=>Tn});const re={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Be=function(ge,ue){if(!ge)throw ae(ue)},ae=function(ge){return new Error("Firebase Database ("+re.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ge)},bt=function(ge){const ue=[];let Y=0;for(let J=0;J<ge.length;J++){let G=ge.charCodeAt(J);G<128?ue[Y++]=G:G<2048?(ue[Y++]=G>>6|192,ue[Y++]=63&G|128):55296==(64512&G)&&J+1<ge.length&&56320==(64512&ge.charCodeAt(J+1))?(G=65536+((1023&G)<<10)+(1023&ge.charCodeAt(++J)),ue[Y++]=G>>18|240,ue[Y++]=G>>12&63|128,ue[Y++]=G>>6&63|128,ue[Y++]=63&G|128):(ue[Y++]=G>>12|224,ue[Y++]=G>>6&63|128,ue[Y++]=63&G|128)}return ue},Ti={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,ue){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let G=0;G<ge.length;G+=3){const he=ge[G],ze=G+1<ge.length,St=ze?ge[G+1]:0,vt=G+2<ge.length,tn=vt?ge[G+2]:0;let vi=(15&St)<<2|tn>>6,Wt=63&tn;vt||(Wt=64,ze||(vi=64)),J.push(Y[he>>2],Y[(3&he)<<4|St>>4],Y[vi],Y[Wt])}return J.join("")},encodeString(ge,ue){return this.HAS_NATIVE_SUPPORT&&!ue?btoa(ge):this.encodeByteArray(bt(ge),ue)},decodeString(ge,ue){return this.HAS_NATIVE_SUPPORT&&!ue?atob(ge):function(ge){const ue=[];let Y=0,J=0;for(;Y<ge.length;){const G=ge[Y++];if(G<128)ue[J++]=String.fromCharCode(G);else if(G>191&&G<224){const he=ge[Y++];ue[J++]=String.fromCharCode((31&G)<<6|63&he)}else if(G>239&&G<365){const vt=((7&G)<<18|(63&ge[Y++])<<12|(63&ge[Y++])<<6|63&ge[Y++])-65536;ue[J++]=String.fromCharCode(55296+(vt>>10)),ue[J++]=String.fromCharCode(56320+(1023&vt))}else{const he=ge[Y++],ze=ge[Y++];ue[J++]=String.fromCharCode((15&G)<<12|(63&he)<<6|63&ze)}}return ue.join("")}(this.decodeStringToByteArray(ge,ue))},decodeStringToByteArray(ge,ue){this.init_();const Y=ue?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let G=0;G<ge.length;){const he=Y[ge.charAt(G++)],St=G<ge.length?Y[ge.charAt(G)]:0;++G;const tn=G<ge.length?Y[ge.charAt(G)]:64;++G;const Dt=G<ge.length?Y[ge.charAt(G)]:64;if(++G,null==he||null==St||null==tn||null==Dt)throw new ut;J.push(he<<2|St>>4),64!==tn&&(J.push(St<<4&240|tn>>2),64!==Dt&&J.push(tn<<6&192|Dt))}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}};class ut extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vn=function(ge){const ue=bt(ge);return Ti.encodeByteArray(ue,!0)},bn=function(ge){return Vn(ge).replace(/\./g,"")},Ze=function(ge){try{return Ti.decodeString(ge,!0)}catch(ue){console.error("base64Decode failed: ",ue)}return null};function ot(ge){return Pt(void 0,ge)}function Pt(ge,ue){if(!(ue instanceof Object))return ue;switch(ue.constructor){case Date:return new Date(ue.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return ue}for(const Y in ue)!ue.hasOwnProperty(Y)||!on(Y)||(ge[Y]=Pt(ge[Y],ue[Y]));return ge}function on(ge){return"__proto__"!==ge}const pe=()=>{try{return function Bn(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ue=ge&&Ze(ge[1]);return ue&&JSON.parse(ue)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},Re=()=>{var ge;return null===(ge=pe())||void 0===ge?void 0:ge.config},Yt=ge=>{var ue;return null===(ue=pe())||void 0===ue?void 0:ue[`_${ge}`]};class br{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ue,Y)=>{this.resolve=ue,this.reject=Y})}wrapCallback(ue){return(Y,J)=>{Y?this.reject(Y):this.resolve(J),"function"==typeof ue&&(this.promise.catch(()=>{}),1===ue.length?ue(Y):ue(Y,J))}}}function qi(ge,ue){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const J=ue||"demo-project",G=ge.iat||0,he=ge.sub||ge.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${J}`,aud:J,iat:G,exp:G+3600,auth_time:G,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[bn(JSON.stringify({alg:"none",type:"JWT"})),bn(JSON.stringify(ze)),""].join(".")}function cn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function at(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function Mn(){var ge;const ue=null===(ge=pe())||void 0===ge?void 0:ge.forceEnvironment;if("node"===ue)return!0;if("browser"===ue)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $n(){return"object"==typeof self&&self.self===self}function Bi(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function fn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function os(){const ge=cn();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function fr(){return!0===re.NODE_CLIENT||!0===re.NODE_ADMIN}function Vr(){return!Mn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){try{return"object"==typeof indexedDB}catch{return!1}}function Fe(){return new Promise((ge,ue)=>{try{let Y=!0;const J="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(J);G.onsuccess=()=>{G.result.close(),Y||self.indexedDB.deleteDatabase(J),ge(!0)},G.onupgradeneeded=()=>{Y=!1},G.onerror=()=>{var he;ue((null===(he=G.error)||void 0===he?void 0:he.message)||"")}}catch(Y){ue(Y)}})}class et extends Error{constructor(ue,Y,J){super(Y),this.code=ue,this.customData=J,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(ue,Y,J){this.service=ue,this.serviceName=Y,this.errors=J}create(ue,...Y){const J=Y[0]||{},G=`${this.service}/${ue}`,he=this.errors[ue],ze=he?function ct(ge,ue){return ge.replace(pn,(Y,J)=>{const G=ue[J];return null!=G?String(G):`<${J}?>`})}(he,J):"Error";return new et(G,`${this.serviceName}: ${ze} (${G}).`,J)}}const pn=/\{\$([^}]+)}/g;function Ye(ge){return JSON.parse(ge)}function Vt(ge){return JSON.stringify(ge)}const wn=function(ge){let ue={},Y={},J={},G="";try{const he=ge.split(".");ue=Ye(Ze(he[0])||""),Y=Ye(Ze(he[1])||""),G=he[2],J=Y.d||{},delete Y.d}catch{}return{header:ue,claims:Y,data:J,signature:G}},gi=function(ge){const Y=wn(ge).claims;return!!Y&&"object"==typeof Y&&Y.hasOwnProperty("iat")},Ri=function(ge){const ue=wn(ge).claims;return"object"==typeof ue&&!0===ue.admin};function Ce(ge,ue){return Object.prototype.hasOwnProperty.call(ge,ue)}function we(ge,ue){if(Object.prototype.hasOwnProperty.call(ge,ue))return ge[ue]}function Ne(ge){for(const ue in ge)if(Object.prototype.hasOwnProperty.call(ge,ue))return!1;return!0}function Qe(ge,ue,Y){const J={};for(const G in ge)Object.prototype.hasOwnProperty.call(ge,G)&&(J[G]=ue.call(Y,ge[G],G,ge));return J}function mt(ge,ue){if(ge===ue)return!0;const Y=Object.keys(ge),J=Object.keys(ue);for(const G of Y){if(!J.includes(G))return!1;const he=ge[G],ze=ue[G];if(rt(he)&&rt(ze)){if(!mt(he,ze))return!1}else if(he!==ze)return!1}for(const G of J)if(!Y.includes(G))return!1;return!0}function rt(ge){return null!==ge&&"object"==typeof ge}function Nn(ge){const ue=[];for(const[Y,J]of Object.entries(ge))Array.isArray(J)?J.forEach(G=>{ue.push(encodeURIComponent(Y)+"="+encodeURIComponent(G))}):ue.push(encodeURIComponent(Y)+"="+encodeURIComponent(J));return ue.length?"&"+ue.join("&"):""}function Tn(ge){const ue={};return ge.replace(/^\?/,"").split("&").forEach(J=>{if(J){const[G,he]=J.split("=");ue[decodeURIComponent(G)]=decodeURIComponent(he)}}),ue}function _i(ge){const ue=ge.indexOf("?");if(!ue)return"";const Y=ge.indexOf("#",ue);return ge.substring(ue,Y>0?Y:void 0)}class zi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ue=1;ue<this.blockSize;++ue)this.pad_[ue]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ue,Y){Y||(Y=0);const J=this.W_;if("string"==typeof ue)for(let Dt=0;Dt<16;Dt++)J[Dt]=ue.charCodeAt(Y)<<24|ue.charCodeAt(Y+1)<<16|ue.charCodeAt(Y+2)<<8|ue.charCodeAt(Y+3),Y+=4;else for(let Dt=0;Dt<16;Dt++)J[Dt]=ue[Y]<<24|ue[Y+1]<<16|ue[Y+2]<<8|ue[Y+3],Y+=4;for(let Dt=16;Dt<80;Dt++){const vi=J[Dt-3]^J[Dt-8]^J[Dt-14]^J[Dt-16];J[Dt]=4294967295&(vi<<1|vi>>>31)}let tn,ri,G=this.chain_[0],he=this.chain_[1],ze=this.chain_[2],St=this.chain_[3],vt=this.chain_[4];for(let Dt=0;Dt<80;Dt++){Dt<40?Dt<20?(tn=St^he&(ze^St),ri=1518500249):(tn=he^ze^St,ri=1859775393):Dt<60?(tn=he&ze|St&(he|ze),ri=2400959708):(tn=he^ze^St,ri=3395469782);const vi=(G<<5|G>>>27)+tn+vt+ri+J[Dt]&4294967295;vt=St,St=ze,ze=4294967295&(he<<30|he>>>2),he=G,G=vi}this.chain_[0]=this.chain_[0]+G&4294967295,this.chain_[1]=this.chain_[1]+he&4294967295,this.chain_[2]=this.chain_[2]+ze&4294967295,this.chain_[3]=this.chain_[3]+St&4294967295,this.chain_[4]=this.chain_[4]+vt&4294967295}update(ue,Y){if(null==ue)return;void 0===Y&&(Y=ue.length);const J=Y-this.blockSize;let G=0;const he=this.buf_;let ze=this.inbuf_;for(;G<Y;){if(0===ze)for(;G<=J;)this.compress_(ue,G),G+=this.blockSize;if("string"==typeof ue){for(;G<Y;)if(he[ze]=ue.charCodeAt(G),++ze,++G,ze===this.blockSize){this.compress_(he),ze=0;break}}else for(;G<Y;)if(he[ze]=ue[G],++ze,++G,ze===this.blockSize){this.compress_(he),ze=0;break}}this.inbuf_=ze,this.total_+=Y}digest(){const ue=[];let Y=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let G=this.blockSize-1;G>=56;G--)this.buf_[G]=255&Y,Y/=256;this.compress_(this.buf_);let J=0;for(let G=0;G<5;G++)for(let he=24;he>=0;he-=8)ue[J]=this.chain_[G]>>he&255,++J;return ue}}function Xi(ge,ue){const Y=new kr(ge,ue);return Y.subscribe.bind(Y)}class kr{constructor(ue,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{ue(this)}).catch(J=>{this.error(J)})}next(ue){this.forEachObserver(Y=>{Y.next(ue)})}error(ue){this.forEachObserver(Y=>{Y.error(ue)}),this.close(ue)}complete(){this.forEachObserver(ue=>{ue.complete()}),this.close()}subscribe(ue,Y,J){let G;if(void 0===ue&&void 0===Y&&void 0===J)throw new Error("Missing Observer.");G=function ai(ge,ue){if("object"!=typeof ge||null===ge)return!1;for(const Y of ue)if(Y in ge&&"function"==typeof ge[Y])return!0;return!1}(ue,["next","error","complete"])?ue:{next:ue,error:Y,complete:J},void 0===G.next&&(G.next=In),void 0===G.error&&(G.error=In),void 0===G.complete&&(G.complete=In);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),he}unsubscribeOne(ue){void 0===this.observers||void 0===this.observers[ue]||(delete this.observers[ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ue){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,ue)}sendOne(ue,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ue])try{Y(this.observers[ue])}catch(J){typeof console<"u"&&console.error&&console.error(J)}})}close(ue){this.finalized||(this.finalized=!0,void 0!==ue&&(this.finalError=ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function In(){}const Yn=function(ge,ue,Y,J){let G;if(J<ue?G="at least "+ue:J>Y&&(G=0===Y?"none":"no more than "+Y),G)throw new Error(ge+" failed: Was called with "+J+(1===J?" argument.":" arguments.")+" Expects "+G+".")};function ti(ge,ue){return`${ge} failed: ${ue} argument `}function Si(ge,ue,Y,J){if((!J||Y)&&"function"!=typeof Y)throw new Error(ti(ge,ue)+"must be a valid function.")}function Oi(ge,ue,Y,J){if((!J||Y)&&("object"!=typeof Y||null===Y))throw new Error(ti(ge,ue)+"must be a valid context object.")}const ho=function(ge){const ue=[];let Y=0;for(let J=0;J<ge.length;J++){let G=ge.charCodeAt(J);if(G>=55296&&G<=56319){const he=G-55296;J++,Be(J<ge.length,"Surrogate pair missing trail surrogate."),G=65536+(he<<10)+(ge.charCodeAt(J)-56320)}G<128?ue[Y++]=G:G<2048?(ue[Y++]=G>>6|192,ue[Y++]=63&G|128):G<65536?(ue[Y++]=G>>12|224,ue[Y++]=G>>6&63|128,ue[Y++]=63&G|128):(ue[Y++]=G>>18|240,ue[Y++]=G>>12&63|128,ue[Y++]=G>>6&63|128,ue[Y++]=63&G|128)}return ue},bs=function(ge){let ue=0;for(let Y=0;Y<ge.length;Y++){const J=ge.charCodeAt(Y);J<128?ue++:J<2048?ue+=2:J>=55296&&J<=56319?(ue+=4,Y++):ue+=3}return ue};function po(ge){return ge&&ge._delegate?ge._delegate:ge}},614:()=>{const Kr=":";const zn=function(Ce,...we){if(zn.translate){const Qe=zn.translate(Ce,we);Ce=Qe[0],we=Qe[1]}let Ne=Ri(Ce[0],Ce.raw[0]);for(let Qe=1;Qe<Ce.length;Qe++)Ne+=we[Qe-1]+Ri(Ce[Qe],Ce.raw[Qe]);return Ne},gi=":";function Ri(Ce,we){return we.charAt(0)===gi?Ce.substring(function Fe(Ce,we){for(let Ne=1,Qe=1;Ne<Ce.length;Ne++,Qe++)if("\\"===we[Qe])Qe++;else if(Ce[Ne]===Kr)return Ne;throw new Error(`Unterminated $localize metadata block in "${we}".`)}(Ce,we)+1):Ce}globalThis.$localize=zn},743:(Kr,Wi,$t)=>{$t.r(Wi);var re=$t(861),Be=$t(168),ae=$t(215),bt=$t(963),ut=($t(211),$t(383),$t(427));function Vn(){return window}function ot(){return ot=(0,re.Z)(function*(Y,J,G){var he;const{BuildInfo:ze}=Vn();(0,ae.at)(J.sessionId,"AuthEvent did not contain a session ID");const St=yield function pe(Y){return Ii.apply(this,arguments)}(J.sessionId),vt={};return(0,ae.au)()?vt.ibi=ze.packageName:(0,ae.av)()?vt.apn=ze.packageName:(0,ae.aw)(Y,"operation-not-supported-in-this-environment"),ze.displayName&&(vt.appDisplayName=ze.displayName),vt.sessionId=St,(0,ae.ax)(Y,G,J.type,void 0,null!==(he=J.eventId)&&void 0!==he?he:void 0,vt)}),ot.apply(this,arguments)}function on(){return(on=(0,re.Z)(function*(Y){const{BuildInfo:J}=Vn(),G={};(0,ae.au)()?G.iosBundleId=J.packageName:(0,ae.av)()?G.androidPackageName=J.packageName:(0,ae.aw)(Y,"operation-not-supported-in-this-environment"),yield(0,ae.ay)(Y,G)})).apply(this,arguments)}function Dn(){return(Dn=(0,re.Z)(function*(Y,J,G){const{cordova:he}=Vn();let ze=()=>{};try{yield new Promise((St,vt)=>{let tn=null;function ri(){var Wt;St();const wr=null===(Wt=he.plugins.browsertab)||void 0===Wt?void 0:Wt.close;"function"==typeof wr&&wr(),"function"==typeof G?.close&&G.close()}function Dt(){tn||(tn=window.setTimeout(()=>{vt((0,ae.aA)(Y,"redirect-cancelled-by-user"))},2e3))}function vi(){"visible"===document?.visibilityState&&Dt()}J.addPassiveListener(ri),document.addEventListener("resume",Dt,!1),(0,ae.av)()&&document.addEventListener("visibilitychange",vi,!1),ze=()=>{J.removePassiveListener(ri),document.removeEventListener("resume",Dt,!1),document.removeEventListener("visibilitychange",vi,!1),tn&&window.clearTimeout(tn)}})}finally{ze()}})).apply(this,arguments)}function Ii(){return(Ii=(0,re.Z)(function*(Y){const J=function xn(Y){if((0,ae.at)(/[0-9a-zA-Z]+/.test(Y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Y);const J=new ArrayBuffer(Y.length),G=new Uint8Array(J);for(let he=0;he<Y.length;he++)G[he]=Y.charCodeAt(he);return G}(Y),G=yield crypto.subtle.digest("SHA-256",J);return Array.from(new Uint8Array(G)).map(ze=>ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Yt extends ae.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(J=>{this.resolveInialized=J})}addPassiveListener(J){this.passiveListeners.add(J)}removePassiveListener(J){this.passiveListeners.delete(J)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(J){return this.resolveInialized(),this.passiveListeners.forEach(G=>G(J)),super.onEvent(J)}initialized(){var J=this;return(0,re.Z)(function*(){yield J.initPromise})()}}function cn(Y){return at.apply(this,arguments)}function at(){return(at=(0,re.Z)(function*(Y){const J=yield Bi()._get(fn(Y));return J&&(yield Bi()._remove(fn(Y))),J})).apply(this,arguments)}function $n(){const Y=[];for(let G=0;G<20;G++){const he=Math.floor(62*Math.random());Y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(he))}return Y.join("")}function Bi(){return(0,ae.aD)(ae.b)}function fn(Y){return(0,ae.aE)("authEvent",Y.config.apiKey,Y.name)}function zt(Y){if(!Y?.includes("?"))return{};const[J,...G]=Y.split("?");return(0,bt.zd)(G.join("?"))}const Me=class Vr{constructor(){this._redirectPersistence=ae.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ae.aF,this._overrideRedirectResult=ae.aG}_initialize(J){var G=this;return(0,re.Z)(function*(){const he=J._key();let ze=G.eventManagers.get(he);return ze||(ze=new Yt(J),G.eventManagers.set(he,ze),G.attachCallbackListeners(J,ze)),ze})()}_openPopup(J){(0,ae.aw)(J,"operation-not-supported-in-this-environment")}_openRedirect(J,G,he,ze){var St=this;return(0,re.Z)(function*(){!function rn(Y){var J,G,he,ze,St,vt,tn,ri,Dt,vi;const Wt=Vn();(0,ae.aB)("function"==typeof(null===(J=Wt?.universalLinks)||void 0===J?void 0:J.subscribe),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ae.aB)(typeof(null===(G=Wt?.BuildInfo)||void 0===G?void 0:G.packageName)<"u",Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ae.aB)("function"==typeof(null===(St=null===(ze=null===(he=Wt?.cordova)||void 0===he?void 0:he.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===St?void 0:St.openUrl),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ae.aB)("function"==typeof(null===(ri=null===(tn=null===(vt=Wt?.cordova)||void 0===vt?void 0:vt.plugins)||void 0===tn?void 0:tn.browsertab)||void 0===ri?void 0:ri.isAvailable),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ae.aB)("function"==typeof(null===(vi=null===(Dt=Wt?.cordova)||void 0===Dt?void 0:Dt.InAppBrowser)||void 0===vi?void 0:vi.open),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(J);const vt=yield St._initialize(J);yield vt.initialized(),vt.resetRedirect(),(0,ae.aH)(),yield St._originValidation(J);const tn=function br(Y,J,G=null){return{type:J,eventId:G,urlResponse:null,sessionId:$n(),postBody:null,tenantId:Y.tenantId,error:(0,ae.aA)(Y,"no-auth-event")}}(J,he,ze);yield function qi(Y,J){return Bi()._set(fn(Y),J)}(J,tn);const ri=yield function Ze(Y,J,G){return ot.apply(this,arguments)}(J,tn,G),Dt=yield function Bn(Y){const{cordova:J}=Vn();return new Promise(G=>{J.plugins.browsertab.isAvailable(he=>{let ze=null;he?J.plugins.browsertab.openUrl(Y):ze=J.InAppBrowser.open(Y,(0,ae.az)()?"_blank":"_system","location=yes"),G(ze)})})}(ri);return function kn(Y,J,G){return Dn.apply(this,arguments)}(J,vt,Dt)})()}_isIframeWebStorageSupported(J,G){throw new Error("Method not implemented.")}_originValidation(J){const G=J._key();return this.originValidationPromises[G]||(this.originValidationPromises[G]=function Pt(Y){return on.apply(this,arguments)}(J)),this.originValidationPromises[G]}attachCallbackListeners(J,G){const{universalLinks:he,handleOpenURL:ze,BuildInfo:St}=Vn(),vt=setTimeout((0,re.Z)(function*(){yield cn(J),G.onEvent(Fe())}),500),tn=function(){var vi=(0,re.Z)(function*(Wt){clearTimeout(vt);const wr=yield cn(J);let Za=null;wr&&Wt?.url&&(Za=function Mn(Y,J){var G,he;const ze=function os(Y){const J=zt(Y),G=J.link?decodeURIComponent(J.link):void 0,he=zt(G).link,ze=J.deep_link_id?decodeURIComponent(J.deep_link_id):void 0;return zt(ze).link||ze||he||G||Y}(J);if(ze.includes("/__/auth/callback")){const St=zt(ze),vt=St.firebaseError?function Fr(Y){try{return JSON.parse(Y)}catch{return null}}(decodeURIComponent(St.firebaseError)):null,tn=null===(he=null===(G=vt?.code)||void 0===G?void 0:G.split("auth/"))||void 0===he?void 0:he[1],ri=tn?(0,ae.aA)(tn):null;return ri?{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,error:ri,urlResponse:null,sessionId:null,postBody:null}:{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,sessionId:Y.sessionId,urlResponse:ze,postBody:null}}return null}(wr,Wt.url)),G.onEvent(Za||Fe())});return function(wr){return vi.apply(this,arguments)}}();typeof he<"u"&&"function"==typeof he.subscribe&&he.subscribe(null,tn);const ri=ze,Dt=`${St.packageName.toLowerCase()}://`;Vn().handleOpenURL=function(){var vi=(0,re.Z)(function*(Wt){if(Wt.toLowerCase().startsWith(Dt)&&tn({url:Wt}),"function"==typeof ri)try{ri(Wt)}catch(wr){console.error(wr)}});return function(Wt){return vi.apply(this,arguments)}}()}};function Fe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ae.aA)("no-auth-event")}}function ct(){var Y;return(null===(Y=self?.location)||void 0===Y?void 0:Y.protocol)||null}function Ye(Y=(0,bt.z$)()){return!("file:"!==ct()&&"ionic:"!==ct()&&"capacitor:"!==ct()||!Y.toLowerCase().match(/iphone|ipad|ipod|android/))}function gi(){try{const Y=self.localStorage,J=ae.aM();if(Y)return Y.setItem(J,"1"),Y.removeItem(J),!function zn(Y=(0,bt.z$)()){return function wn(){return(0,bt.w1)()&&11===document?.documentMode}()||function wi(Y=(0,bt.z$)()){return/Edge\/\d+/.test(Y)}(Y)}()||(0,bt.hl)()}catch{return Ri()&&(0,bt.hl)()}return!1}function Ri(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ce(){return(function pn(){return"http:"===ct()||"https:"===ct()}()||(0,bt.ru)()||Ye())&&!function Vt(){return(0,bt.b$)()||(0,bt.UG)()}()&&gi()&&!Ri()}function we(){return Ye()&&typeof document<"u"}function Qe(){return(Qe=(0,re.Z)(function*(){return!!we()&&new Promise(Y=>{const J=setTimeout(()=>{Y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(J),Y(!0)})})})).apply(this,arguments)}const rt={LOCAL:"local",NONE:"none",SESSION:"session"},mi=ae.aB,Nn="persistence";function _i(Y){return zi.apply(this,arguments)}function zi(){return(zi=(0,re.Z)(function*(Y){yield Y._initializationPromise;const J=kr(),G=ae.aE(Nn,Y.config.apiKey,Y.name);J&&J.setItem(G,Y._getPersistence())})).apply(this,arguments)}function kr(){var Y;try{return(null===(Y=function mt(){return typeof window<"u"?window:null}())||void 0===Y?void 0:Y.sessionStorage)||null}catch{return null}}const Mr=ae.aB;class ai{constructor(){this.browserResolver=ae.aD(ae.k),this.cordovaResolver=ae.aD(Me),this.underlyingResolver=null,this._redirectPersistence=ae.a,this._completeRedirectFn=ae.aF,this._overrideRedirectResult=ae.aG}_initialize(J){var G=this;return(0,re.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._initialize(J)})()}_openPopup(J,G,he,ze){var St=this;return(0,re.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openPopup(J,G,he,ze)})()}_openRedirect(J,G,he,ze){var St=this;return(0,re.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openRedirect(J,G,he,ze)})()}_isIframeWebStorageSupported(J,G){this.assertedUnderlyingResolver._isIframeWebStorageSupported(J,G)}_originValidation(J){return this.assertedUnderlyingResolver._originValidation(J)}get _shouldInitProactively(){return we()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Mr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var J=this;return(0,re.Z)(function*(){if(J.underlyingResolver)return;const G=yield function Ne(){return Qe.apply(this,arguments)}();J.underlyingResolver=G?J.cordovaResolver:J.browserResolver})()}}function In(Y){return Y.unwrap()}function ti(Y){return Si(Y)}function Si(Y){const{_tokenResponse:J}=Y instanceof bt.ZR?Y.customData:Y;if(!J)return null;if(!(Y instanceof bt.ZR)&&"temporaryProof"in J&&"phoneNumber"in J)return ae.P.credentialFromResult(Y);const G=J.providerId;if(!G||G===ae.p.PASSWORD)return null;let he;switch(G){case ae.p.GOOGLE:he=ae.W;break;case ae.p.FACEBOOK:he=ae.V;break;case ae.p.GITHUB:he=ae.X;break;case ae.p.TWITTER:he=ae._;break;default:const{oauthIdToken:ze,oauthAccessToken:St,oauthTokenSecret:vt,pendingToken:tn,nonce:ri}=J;return St||vt||ze||tn?tn?G.startsWith("saml.")?ae.aP._create(G,tn):ae.M._fromParams({providerId:G,signInMethod:G,pendingToken:tn,idToken:ze,accessToken:St}):new ae.Y(G).credential({idToken:ze,accessToken:St,rawNonce:ri}):null}return Y instanceof bt.ZR?he.credentialFromError(Y):he.credentialFromResult(Y)}function Oi(Y,J){return J.catch(G=>{throw G instanceof bt.ZR&&function Sa(Y,J){var G;const he=null===(G=J.customData)||void 0===G?void 0:G._tokenResponse;if("auth/multi-factor-auth-required"===J?.code)J.resolver=new fo(Y,ae.ar(Y,J));else if(he){const ze=Si(J),St=J;ze&&(St.credential=ze,St.tenantId=he.tenantId||void 0,St.email=he.email||void 0,St.phoneNumber=he.phoneNumber||void 0)}}(Y,G),G}).then(G=>{const ze=G.user;return{operationType:G.operationType,credential:ti(G),additionalUserInfo:ae.ap(G),user:xr.getOrCreate(ze)}})}function ho(Y,J){return bs.apply(this,arguments)}function bs(){return(bs=(0,re.Z)(function*(Y,J){const G=yield J;return{verificationId:G.verificationId,confirm:he=>Oi(Y,G.confirm(he))}})).apply(this,arguments)}class fo{constructor(J,G){this.resolver=G,this.auth=function Yn(Y){return Y.wrapped()}(J)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(J){return Oi(In(this.auth),this.resolver.resolveSignIn(J))}}class xr{constructor(J){this._delegate=J,this.multiFactor=ae.as(J)}static getOrCreate(J){return xr.USER_MAP.has(J)||xr.USER_MAP.set(J,new xr(J)),xr.USER_MAP.get(J)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(J){return this._delegate.getIdTokenResult(J)}getIdToken(J){return this._delegate.getIdToken(J)}linkAndRetrieveDataWithCredential(J){return this.linkWithCredential(J)}linkWithCredential(J){var G=this;return(0,re.Z)(function*(){return Oi(G.auth,ae.a1(G._delegate,J))})()}linkWithPhoneNumber(J,G){var he=this;return(0,re.Z)(function*(){return ho(he.auth,ae.l(he._delegate,J,G))})()}linkWithPopup(J){var G=this;return(0,re.Z)(function*(){return Oi(G.auth,ae.d(G._delegate,J,ai))})()}linkWithRedirect(J){var G=this;return(0,re.Z)(function*(){return yield _i(ae.aI(G.auth)),ae.g(G._delegate,J,ai)})()}reauthenticateAndRetrieveDataWithCredential(J){return this.reauthenticateWithCredential(J)}reauthenticateWithCredential(J){var G=this;return(0,re.Z)(function*(){return Oi(G.auth,ae.a2(G._delegate,J))})()}reauthenticateWithPhoneNumber(J,G){return ho(this.auth,ae.r(this._delegate,J,G))}reauthenticateWithPopup(J){return Oi(this.auth,ae.e(this._delegate,J,ai))}reauthenticateWithRedirect(J){var G=this;return(0,re.Z)(function*(){return yield _i(ae.aI(G.auth)),ae.h(G._delegate,J,ai)})()}sendEmailVerification(J){return ae.af(this._delegate,J)}unlink(J){var G=this;return(0,re.Z)(function*(){return yield ae.ao(G._delegate,J),G})()}updateEmail(J){return ae.ak(this._delegate,J)}updatePassword(J){return ae.al(this._delegate,J)}updatePhoneNumber(J){return ae.u(this._delegate,J)}updateProfile(J){return ae.aj(this._delegate,J)}verifyBeforeUpdateEmail(J,G){return ae.ag(this._delegate,J,G)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xr.USER_MAP=new WeakMap;const Pi=ae.aB;let Qr=(()=>{class Y{constructor(G,he){if(this.app=G,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ze}=G.options;Pi(ze,"invalid-api-key",{appName:G.name}),Pi(ze,"invalid-api-key",{appName:G.name});const St=typeof window<"u"?ai:void 0;this._delegate=he.initialize({options:{persistence:Xa(ze,G.name),popupRedirectResolver:St}}),this._delegate._updateErrorMap(ae.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(G){this._delegate.languageCode=G}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(G){this._delegate.tenantId=G}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(G,he){ae.J(this._delegate,G,he)}applyActionCode(G){return ae.a6(this._delegate,G)}checkActionCode(G){return ae.a7(this._delegate,G)}confirmPasswordReset(G,he){return ae.a5(this._delegate,G,he)}createUserWithEmailAndPassword(G,he){var ze=this;return(0,re.Z)(function*(){return Oi(ze._delegate,ae.a9(ze._delegate,G,he))})()}fetchProvidersForEmail(G){return this.fetchSignInMethodsForEmail(G)}fetchSignInMethodsForEmail(G){return ae.ae(this._delegate,G)}isSignInWithEmailLink(G){return ae.ac(this._delegate,G)}getRedirectResult(){var G=this;return(0,re.Z)(function*(){Pi(Ce(),G._delegate,"operation-not-supported-in-this-environment");const he=yield ae.j(G._delegate,ai);return he?Oi(G._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging(G){!function ve(Y,J){(0,ae.aI)(Y)._logFramework(J)}(this._delegate,G)}onAuthStateChanged(G,he,ze){const{next:St,error:vt,complete:tn}=as(G,he,ze);return this._delegate.onAuthStateChanged(St,vt,tn)}onIdTokenChanged(G,he,ze){const{next:St,error:vt,complete:tn}=as(G,he,ze);return this._delegate.onIdTokenChanged(St,vt,tn)}sendSignInLinkToEmail(G,he){return ae.ab(this._delegate,G,he)}sendPasswordResetEmail(G,he){return ae.a4(this._delegate,G,he||void 0)}setPersistence(G){var he=this;return(0,re.Z)(function*(){let ze;switch(function Tn(Y,J){mi(Object.values(rt).includes(J),Y,"invalid-persistence-type"),(0,bt.b$)()?mi(J!==rt.SESSION,Y,"unsupported-persistence-type"):(0,bt.UG)()?mi(J===rt.NONE,Y,"unsupported-persistence-type"):Ri()?mi(J===rt.NONE||J===rt.LOCAL&&(0,bt.hl)(),Y,"unsupported-persistence-type"):mi(J===rt.NONE||gi(),Y,"unsupported-persistence-type")}(he._delegate,G),G){case rt.SESSION:ze=ae.a;break;case rt.LOCAL:ze=(yield ae.aD(ae.i)._isAvailable())?ae.i:ae.b;break;case rt.NONE:ze=ae.Q;break;default:return ae.aw("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence(ze)})()}signInAndRetrieveDataWithCredential(G){return this.signInWithCredential(G)}signInAnonymously(){return Oi(this._delegate,ae.$(this._delegate))}signInWithCredential(G){return Oi(this._delegate,ae.a0(this._delegate,G))}signInWithCustomToken(G){return Oi(this._delegate,ae.a3(this._delegate,G))}signInWithEmailAndPassword(G,he){return Oi(this._delegate,ae.aa(this._delegate,G,he))}signInWithEmailLink(G,he){return Oi(this._delegate,ae.ad(this._delegate,G,he))}signInWithPhoneNumber(G,he){return ho(this._delegate,ae.s(this._delegate,G,he))}signInWithPopup(G){var he=this;return(0,re.Z)(function*(){return Pi(Ce(),he._delegate,"operation-not-supported-in-this-environment"),Oi(he._delegate,ae.c(he._delegate,G,ai))})()}signInWithRedirect(G){var he=this;return(0,re.Z)(function*(){return Pi(Ce(),he._delegate,"operation-not-supported-in-this-environment"),yield _i(he._delegate),ae.f(he._delegate,G,ai)})()}updateCurrentUser(G){return this._delegate.updateCurrentUser(G)}verifyPasswordResetCode(G){return ae.a8(this._delegate,G)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Y.Persistence=rt,Y})();function as(Y,J,G){let he=Y;"function"!=typeof Y&&({next:he,error:J,complete:G}=Y);const ze=he;return{next:vt=>ze(vt&&xr.getOrCreate(vt)),error:J,complete:G}}function Xa(Y,J){const G=function Xi(Y,J){const G=kr();if(!G)return[];const he=ae.aE(Nn,Y,J);switch(G.getItem(he)){case rt.NONE:return[ae.Q];case rt.LOCAL:return[ae.i,ae.a];case rt.SESSION:return[ae.a];default:return[]}}(Y,J);if(typeof self<"u"&&!G.includes(ae.i)&&G.push(ae.i),typeof window<"u")for(const he of[ae.b,ae.a])G.includes(he)||G.push(he);return G.includes(ae.Q)||G.push(ae.Q),G}class Aa{constructor(){this.providerId="phone",this._delegate=new ae.P(In(Be.Z.auth()))}static credential(J,G){return ae.P.credential(J,G)}verifyPhoneNumber(J,G){return this._delegate.verifyPhoneNumber(J,G)}unwrap(){return this._delegate}}Aa.PHONE_SIGN_IN_METHOD=ae.P.PHONE_SIGN_IN_METHOD,Aa.PROVIDER_ID=ae.P.PROVIDER_ID;const ka=ae.aB;class po{constructor(J,G,he=Be.Z.app()){var ze;ka(null===(ze=he.options)||void 0===ze?void 0:ze.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new ae.R(he.auth(),J,G),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ue(Y){Y.INTERNAL.registerComponent(new ut.wA("auth-compat",J=>{const G=J.getProvider("app-compat").getImmediate(),he=J.getProvider("auth");return new Qr(G,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ae.A.EMAIL_SIGNIN,PASSWORD_RESET:ae.A.PASSWORD_RESET,RECOVER_EMAIL:ae.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ae.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ae.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ae.A.VERIFY_EMAIL}},EmailAuthProvider:ae.U,FacebookAuthProvider:ae.V,GithubAuthProvider:ae.X,GoogleAuthProvider:ae.W,OAuthProvider:ae.Y,SAMLAuthProvider:ae.Z,PhoneAuthProvider:Aa,PhoneMultiFactorGenerator:ae.m,RecaptchaVerifier:po,TwitterAuthProvider:ae._,Auth:Qr,AuthCredential:ae.K,Error:bt.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Y.registerVersion("@firebase/auth-compat","0.4.8")}(Be.Z)},168:(Kr,Wi,$t)=>{$t.d(Wi,{Z:()=>kn});var re=$t(963),Be=$t(427),ae=$t(211),bt=$t(383);class Ge{constructor(rn,pe){this._delegate=rn,this.firebase=pe,(0,ae._addComponent)(rn,new Be.wA("app-compat",()=>this,"PUBLIC")),this.container=rn.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rn){this._delegate.automaticDataCollectionEnabled=rn}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(rn=>{this._delegate.checkDestroyed(),rn()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ae.deleteApp)(this._delegate)))}_getService(rn,pe=ae._DEFAULT_ENTRY_NAME){var Ii;this._delegate.checkDestroyed();const xn=this._delegate.container.getProvider(rn);return!xn.isInitialized()&&"EXPLICIT"===(null===(Ii=xn.getComponent())||void 0===Ii?void 0:Ii.instantiationMode)&&xn.initialize(),xn.getImmediate({identifier:pe})}_removeServiceInstance(rn,pe=ae._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(rn).clearInstance(pe)}_addComponent(rn){(0,ae._addComponent)(this._delegate,rn)}_addOrOverwriteComponent(rn){(0,ae._addOrOverwriteComponent)(this._delegate,rn)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ut=new re.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ze=function bn(){const Dn=function Vn(Dn){const rn={},pe={__esModule:!0,initializeApp:function Re(cn,at={}){const Mn=ae.initializeApp(cn,at);if((0,re.r3)(rn,Mn.name))return rn[Mn.name];const $n=new Dn(Mn,pe);return rn[Mn.name]=$n,$n},app:xn,registerVersion:ae.registerVersion,setLogLevel:ae.setLogLevel,onLog:ae.onLog,apps:null,SDK_VERSION:ae.SDK_VERSION,INTERNAL:{registerComponent:function br(cn){const at=cn.name,Mn=at.replace("-compat","");if(ae._registerComponent(cn)&&"PUBLIC"===cn.type){const $n=(Bi=xn())=>{if("function"!=typeof Bi[Mn])throw ut.create("invalid-app-argument",{appName:at});return Bi[Mn]()};void 0!==cn.serviceProps&&(0,re.ZB)($n,cn.serviceProps),pe[Mn]=$n,Dn.prototype[Mn]=function(...Bi){return this._getService.bind(this,at).apply(this,cn.multipleInstances?Bi:[])}}return"PUBLIC"===cn.type?pe[Mn]:null},removeApp:function Ii(cn){delete rn[cn]},useAsService:function qi(cn,at){return"serverAuth"===at?null:at},modularAPIs:ae}};function xn(cn){if(!(0,re.r3)(rn,cn=cn||ae._DEFAULT_ENTRY_NAME))throw ut.create("no-app",{appName:cn});return rn[cn]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function Yt(){return Object.keys(rn).map(cn=>rn[cn])}}),xn.App=Dn,pe}(Ge);return Dn.INTERNAL=Object.assign(Object.assign({},Dn.INTERNAL),{createFirebaseNamespace:bn,extendNamespace:function rn(pe){(0,re.ZB)(Dn,pe)},createSubscribe:re.ne,ErrorFactory:re.LL,deepExtend:re.ZB}),Dn}(),ot=new bt.Yd("@firebase/app-compat");if((0,re.jU)()&&void 0!==self.firebase){ot.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Dn=self.firebase.SDK_VERSION;Dn&&Dn.indexOf("LITE")>=0&&ot.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const kn=Ze;!function Bn(Dn){(0,ae.registerVersion)("@firebase/app-compat","0.2.22",Dn)}()},211:(Kr,Wi,$t)=>{$t.r(Wi),$t.d(Wi,{FirebaseError:()=>bt.ZR,SDK_VERSION:()=>ho,_DEFAULT_ENTRY_NAME:()=>Tn,_addComponent:()=>kr,_addOrOverwriteComponent:()=>Mr,_apps:()=>zi,_clearComponents:()=>ti,_components:()=>Xi,_getProvider:()=>In,_registerComponent:()=>ai,_removeServiceInstance:()=>Yn,deleteApp:()=>Pi,getApp:()=>fo,getApps:()=>xr,initializeApp:()=>bs,onLog:()=>Xa,registerVersion:()=>as,setLogLevel:()=>Aa});var re=$t(861),Be=$t(427),ae=$t(383),bt=$t(963);const Ge=(Ee,be)=>be.some(dt=>Ee instanceof dt);let Ti,ut;const Ze=new WeakMap,ot=new WeakMap,Pt=new WeakMap,on=new WeakMap,Bn=new WeakMap;let rn={get(Ee,be,dt){if(Ee instanceof IDBTransaction){if("done"===be)return ot.get(Ee);if("objectStoreNames"===be)return Ee.objectStoreNames||Pt.get(Ee);if("store"===be)return dt.objectStoreNames[1]?void 0:dt.objectStore(dt.objectStoreNames[0])}return Re(Ee[be])},set:(Ee,be,dt)=>(Ee[be]=dt,!0),has:(Ee,be)=>Ee instanceof IDBTransaction&&("done"===be||"store"===be)||be in Ee};function xn(Ee){return"function"==typeof Ee?function Ii(Ee){return Ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function bn(){return ut||(ut=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ee)?function(...be){return Ee.apply(Yt(this),be),Re(Ze.get(this))}:function(...be){return Re(Ee.apply(Yt(this),be))}:function(be,...dt){const jt=Ee.call(Yt(this),be,...dt);return Pt.set(jt,be.sort?be.sort():[be]),Re(jt)}}(Ee):(Ee instanceof IDBTransaction&&function Dn(Ee){if(ot.has(Ee))return;const be=new Promise((dt,jt)=>{const V=()=>{Ee.removeEventListener("complete",a),Ee.removeEventListener("error",l),Ee.removeEventListener("abort",l)},a=()=>{dt(),V()},l=()=>{jt(Ee.error||new DOMException("AbortError","AbortError")),V()};Ee.addEventListener("complete",a),Ee.addEventListener("error",l),Ee.addEventListener("abort",l)});ot.set(Ee,be)}(Ee),Ge(Ee,function Vn(){return Ti||(Ti=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ee,rn):Ee)}function Re(Ee){if(Ee instanceof IDBRequest)return function kn(Ee){const be=new Promise((dt,jt)=>{const V=()=>{Ee.removeEventListener("success",a),Ee.removeEventListener("error",l)},a=()=>{dt(Re(Ee.result)),V()},l=()=>{jt(Ee.error),V()};Ee.addEventListener("success",a),Ee.addEventListener("error",l)});return be.then(dt=>{dt instanceof IDBCursor&&Ze.set(dt,Ee)}).catch(()=>{}),Bn.set(be,Ee),be}(Ee);if(on.has(Ee))return on.get(Ee);const be=xn(Ee);return be!==Ee&&(on.set(Ee,be),Bn.set(be,Ee)),be}const Yt=Ee=>Bn.get(Ee),cn=["get","getKey","getAll","getAllKeys","count"],at=["put","add","delete","clear"],Mn=new Map;function $n(Ee,be){if(!(Ee instanceof IDBDatabase)||be in Ee||"string"!=typeof be)return;if(Mn.get(be))return Mn.get(be);const dt=be.replace(/FromIndex$/,""),jt=be!==dt,V=at.includes(dt);if(!(dt in(jt?IDBIndex:IDBObjectStore).prototype)||!V&&!cn.includes(dt))return;const a=function(){var l=(0,re.Z)(function*(d,...h){const p=this.transaction(d,V?"readwrite":"readonly");let g=p.store;return jt&&(g=g.index(h.shift())),(yield Promise.all([g[dt](...h),V&&p.done]))[0]});return function(h){return l.apply(this,arguments)}}();return Mn.set(be,a),a}!function pe(Ee){rn=Ee(rn)}(Ee=>({...Ee,get:(be,dt,jt)=>$n(be,dt)||Ee.get(be,dt,jt),has:(be,dt)=>!!$n(be,dt)||Ee.has(be,dt)}));class Bi{constructor(be){this.container=be}getPlatformInfoString(){return this.container.getProviders().map(dt=>{if(function fn(Ee){const be=Ee.getComponent();return"VERSION"===be?.type}(dt)){const jt=dt.getImmediate();return`${jt.library}/${jt.version}`}return null}).filter(dt=>dt).join(" ")}}const Fr="@firebase/app",zt=new ae.Yd("@firebase/app"),Tn="[DEFAULT]",_i={[Fr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zi=new Map,Xi=new Map;function kr(Ee,be){try{Ee.container.addComponent(be)}catch(dt){zt.debug(`Component ${be.name} failed to register with FirebaseApp ${Ee.name}`,dt)}}function Mr(Ee,be){Ee.container.addOrOverwriteComponent(be)}function ai(Ee){const be=Ee.name;if(Xi.has(be))return zt.debug(`There were multiple attempts to register component ${be}.`),!1;Xi.set(be,Ee);for(const dt of zi.values())kr(dt,Ee);return!0}function In(Ee,be){const dt=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return dt&&dt.triggerHeartbeat(),Ee.container.getProvider(be)}function Yn(Ee,be,dt=Tn){In(Ee,be).clearInstance(dt)}function ti(){Xi.clear()}const Si=new bt.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Oi{constructor(be,dt,jt){this._isDeleted=!1,this._options=Object.assign({},be),this._config=Object.assign({},dt),this._name=dt.name,this._automaticDataCollectionEnabled=dt.automaticDataCollectionEnabled,this._container=jt,this.container.addComponent(new Be.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this.checkDestroyed(),this._automaticDataCollectionEnabled=be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(be){this._isDeleted=be}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}const ho="10.5.2";function bs(Ee,be={}){let dt=Ee;"object"!=typeof be&&(be={name:be});const jt=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},be),V=jt.name;if("string"!=typeof V||!V)throw Si.create("bad-app-name",{appName:String(V)});if(dt||(dt=(0,bt.aH)()),!dt)throw Si.create("no-options");const a=zi.get(V);if(a){if((0,bt.vZ)(dt,a.options)&&(0,bt.vZ)(jt,a.config))return a;throw Si.create("duplicate-app",{appName:V})}const l=new Be.H0(V);for(const h of Xi.values())l.addComponent(h);const d=new Oi(dt,jt,l);return zi.set(V,d),d}function fo(Ee=Tn){const be=zi.get(Ee);if(!be&&Ee===Tn&&(0,bt.aH)())return bs();if(!be)throw Si.create("no-app",{appName:Ee});return be}function xr(){return Array.from(zi.values())}function Pi(Ee){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,re.Z)(function*(Ee){const be=Ee.name;zi.has(be)&&(zi.delete(be),yield Promise.all(Ee.container.getProviders().map(dt=>dt.delete())),Ee.isDeleted=!0)})).apply(this,arguments)}function as(Ee,be,dt){var jt;let V=null!==(jt=_i[Ee])&&void 0!==jt?jt:Ee;dt&&(V+=`-${dt}`);const a=V.match(/\s|\//),l=be.match(/\s|\//);if(a||l){const d=[`Unable to register library "${V}" with version "${be}":`];return a&&d.push(`library name "${V}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${be}" contains illegal characters (whitespace or "/")`),void zt.warn(d.join(" "))}ai(new Be.wA(`${V}-version`,()=>({library:V,version:be}),"VERSION"))}function Xa(Ee,be){if(null!==Ee&&"function"!=typeof Ee)throw Si.create("invalid-log-argument");(0,ae.Am)(Ee,be)}function Aa(Ee){(0,ae.Ub)(Ee)}const ka="firebase-heartbeat-database",po=1,ge="firebase-heartbeat-store";let ue=null;function Y(){return ue||(ue=function br(Ee,be,{blocked:dt,upgrade:jt,blocking:V,terminated:a}={}){const l=indexedDB.open(Ee,be),d=Re(l);return jt&&l.addEventListener("upgradeneeded",h=>{jt(Re(l.result),h.oldVersion,h.newVersion,Re(l.transaction),h)}),dt&&l.addEventListener("blocked",h=>dt(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),V&&h.addEventListener("versionchange",p=>V(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}(ka,po,{upgrade:(Ee,be)=>{0===be&&Ee.createObjectStore(ge)}}).catch(Ee=>{throw Si.create("idb-open",{originalErrorMessage:Ee.message})})),ue}function G(){return(G=(0,re.Z)(function*(Ee){try{return yield(yield Y()).transaction(ge).objectStore(ge).get(St(Ee))}catch(be){if(be instanceof bt.ZR)zt.warn(be.message);else{const dt=Si.create("idb-get",{originalErrorMessage:be?.message});zt.warn(dt.message)}}})).apply(this,arguments)}function he(Ee,be){return ze.apply(this,arguments)}function ze(){return(ze=(0,re.Z)(function*(Ee,be){try{const jt=(yield Y()).transaction(ge,"readwrite");yield jt.objectStore(ge).put(be,St(Ee)),yield jt.done}catch(dt){if(dt instanceof bt.ZR)zt.warn(dt.message);else{const jt=Si.create("idb-set",{originalErrorMessage:dt?.message});zt.warn(jt.message)}}})).apply(this,arguments)}function St(Ee){return`${Ee.name}!${Ee.options.appId}`}class ri{constructor(be){this.container=be,this._heartbeatsCache=null;const dt=this.container.getProvider("app").getImmediate();this._storage=new Wt(dt),this._heartbeatsCachePromise=this._storage.read().then(jt=>(this._heartbeatsCache=jt,jt))}triggerHeartbeat(){var be=this;return(0,re.Z)(function*(){const jt=be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),V=Dt();if(null===be._heartbeatsCache&&(be._heartbeatsCache=yield be._heartbeatsCachePromise),be._heartbeatsCache.lastSentHeartbeatDate!==V&&!be._heartbeatsCache.heartbeats.some(a=>a.date===V))return be._heartbeatsCache.heartbeats.push({date:V,agent:jt}),be._heartbeatsCache.heartbeats=be._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),be._storage.overwrite(be._heartbeatsCache)})()}getHeartbeatsHeader(){var be=this;return(0,re.Z)(function*(){if(null===be._heartbeatsCache&&(yield be._heartbeatsCachePromise),null===be._heartbeatsCache||0===be._heartbeatsCache.heartbeats.length)return"";const dt=Dt(),{heartbeatsToSend:jt,unsentEntries:V}=function vi(Ee,be=1024){const dt=[];let jt=Ee.slice();for(const V of Ee){const a=dt.find(l=>l.agent===V.agent);if(a){if(a.dates.push(V.date),wr(dt)>be){a.dates.pop();break}}else if(dt.push({agent:V.agent,dates:[V.date]}),wr(dt)>be){dt.pop();break}jt=jt.slice(1)}return{heartbeatsToSend:dt,unsentEntries:jt}}(be._heartbeatsCache.heartbeats),a=(0,bt.L)(JSON.stringify({version:2,heartbeats:jt}));return be._heartbeatsCache.lastSentHeartbeatDate=dt,V.length>0?(be._heartbeatsCache.heartbeats=V,yield be._storage.overwrite(be._heartbeatsCache)):(be._heartbeatsCache.heartbeats=[],be._storage.overwrite(be._heartbeatsCache)),a})()}}function Dt(){return(new Date).toISOString().substring(0,10)}class Wt{constructor(be){this.app=be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,re.Z)(function*(){return!!(0,bt.hl)()&&(0,bt.eu)().then(()=>!0).catch(()=>!1)})()}read(){var be=this;return(0,re.Z)(function*(){return(yield be._canUseIndexedDBPromise)&&(yield function J(Ee){return G.apply(this,arguments)}(be.app))||{heartbeats:[]}})()}overwrite(be){var dt=this;return(0,re.Z)(function*(){var jt;if(yield dt._canUseIndexedDBPromise){const a=yield dt.read();return he(dt.app,{lastSentHeartbeatDate:null!==(jt=be.lastSentHeartbeatDate)&&void 0!==jt?jt:a.lastSentHeartbeatDate,heartbeats:be.heartbeats})}})()}add(be){var dt=this;return(0,re.Z)(function*(){var jt;if(yield dt._canUseIndexedDBPromise){const a=yield dt.read();return he(dt.app,{lastSentHeartbeatDate:null!==(jt=be.lastSentHeartbeatDate)&&void 0!==jt?jt:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...be.heartbeats]})}})()}}function wr(Ee){return(0,bt.L)(JSON.stringify({version:2,heartbeats:Ee})).length}!function Za(Ee){ai(new Be.wA("platform-logger",be=>new Bi(be),"PRIVATE")),ai(new Be.wA("heartbeat",be=>new ri(be),"PRIVATE")),as(Fr,"0.9.22",Ee),as(Fr,"0.9.22","esm2017"),as("fire-js","")}("")},427:(Kr,Wi,$t)=>{$t.d(Wi,{H0:()=>Vn,wA:()=>ae,zt:()=>Ge});var re=$t(861),Be=$t(963);class ae{constructor(Ze,ot,Pt){this.name=Ze,this.instanceFactory=ot,this.type=Pt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ze){return this.instantiationMode=Ze,this}setMultipleInstances(Ze){return this.multipleInstances=Ze,this}setServiceProps(Ze){return this.serviceProps=Ze,this}setInstanceCreatedCallback(Ze){return this.onInstanceCreated=Ze,this}}const bt="[DEFAULT]";class Ge{constructor(Ze,ot){this.name=Ze,this.container=ot,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ze){const ot=this.normalizeInstanceIdentifier(Ze);if(!this.instancesDeferred.has(ot)){const Pt=new Be.BH;if(this.instancesDeferred.set(ot,Pt),this.isInitialized(ot)||this.shouldAutoInitialize())try{const on=this.getOrInitializeService({instanceIdentifier:ot});on&&Pt.resolve(on)}catch{}}return this.instancesDeferred.get(ot).promise}getImmediate(Ze){var ot;const Pt=this.normalizeInstanceIdentifier(Ze?.identifier),on=null!==(ot=Ze?.optional)&&void 0!==ot&&ot;if(!this.isInitialized(Pt)&&!this.shouldAutoInitialize()){if(on)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pt})}catch(Bn){if(on)return null;throw Bn}}getComponent(){return this.component}setComponent(Ze){if(Ze.name!==this.name)throw Error(`Mismatching Component ${Ze.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ze,this.shouldAutoInitialize()){if(function ut(bn){return"EAGER"===bn.instantiationMode}(Ze))try{this.getOrInitializeService({instanceIdentifier:bt})}catch{}for(const[ot,Pt]of this.instancesDeferred.entries()){const on=this.normalizeInstanceIdentifier(ot);try{const Bn=this.getOrInitializeService({instanceIdentifier:on});Pt.resolve(Bn)}catch{}}}}clearInstance(Ze=bt){this.instancesDeferred.delete(Ze),this.instancesOptions.delete(Ze),this.instances.delete(Ze)}delete(){var Ze=this;return(0,re.Z)(function*(){const ot=Array.from(Ze.instances.values());yield Promise.all([...ot.filter(Pt=>"INTERNAL"in Pt).map(Pt=>Pt.INTERNAL.delete()),...ot.filter(Pt=>"_delete"in Pt).map(Pt=>Pt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ze=bt){return this.instances.has(Ze)}getOptions(Ze=bt){return this.instancesOptions.get(Ze)||{}}initialize(Ze={}){const{options:ot={}}=Ze,Pt=this.normalizeInstanceIdentifier(Ze.instanceIdentifier);if(this.isInitialized(Pt))throw Error(`${this.name}(${Pt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const on=this.getOrInitializeService({instanceIdentifier:Pt,options:ot});for(const[Bn,kn]of this.instancesDeferred.entries())Pt===this.normalizeInstanceIdentifier(Bn)&&kn.resolve(on);return on}onInit(Ze,ot){var Pt;const on=this.normalizeInstanceIdentifier(ot),Bn=null!==(Pt=this.onInitCallbacks.get(on))&&void 0!==Pt?Pt:new Set;Bn.add(Ze),this.onInitCallbacks.set(on,Bn);const kn=this.instances.get(on);return kn&&Ze(kn,on),()=>{Bn.delete(Ze)}}invokeOnInitCallbacks(Ze,ot){const Pt=this.onInitCallbacks.get(ot);if(Pt)for(const on of Pt)try{on(Ze,ot)}catch{}}getOrInitializeService({instanceIdentifier:Ze,options:ot={}}){let Pt=this.instances.get(Ze);if(!Pt&&this.component&&(Pt=this.component.instanceFactory(this.container,{instanceIdentifier:(bn=Ze,bn===bt?void 0:bn),options:ot}),this.instances.set(Ze,Pt),this.instancesOptions.set(Ze,ot),this.invokeOnInitCallbacks(Pt,Ze),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ze,Pt)}catch{}var bn;return Pt||null}normalizeInstanceIdentifier(Ze=bt){return this.component?this.component.multipleInstances?Ze:bt:Ze}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Vn{constructor(Ze){this.name=Ze,this.providers=new Map}addComponent(Ze){const ot=this.getProvider(Ze.name);if(ot.isComponentSet())throw new Error(`Component ${Ze.name} has already been registered with ${this.name}`);ot.setComponent(Ze)}addOrOverwriteComponent(Ze){this.getProvider(Ze.name).isComponentSet()&&this.providers.delete(Ze.name),this.addComponent(Ze)}getProvider(Ze){if(this.providers.has(Ze))return this.providers.get(Ze);const ot=new Ge(Ze,this);return this.providers.set(Ze,ot),ot}getProviders(){return Array.from(this.providers.values())}}},383:(Kr,Wi,$t)=>{$t.d(Wi,{Am:()=>bn,Ub:()=>Vn,Yd:()=>ut,in:()=>Be});const re=[];var Be=function(Ze){return Ze[Ze.DEBUG=0]="DEBUG",Ze[Ze.VERBOSE=1]="VERBOSE",Ze[Ze.INFO=2]="INFO",Ze[Ze.WARN=3]="WARN",Ze[Ze.ERROR=4]="ERROR",Ze[Ze.SILENT=5]="SILENT",Ze}(Be||{});const ae={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},bt=Be.INFO,Ge={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},Ti=(Ze,ot,...Pt)=>{if(ot<Ze.logLevel)return;const on=(new Date).toISOString(),Bn=Ge[ot];if(!Bn)throw new Error(`Attempted to log a message with an invalid logType (value: ${ot})`);console[Bn](`[${on}]  ${Ze.name}:`,...Pt)};class ut{constructor(ot){this.name=ot,this._logLevel=bt,this._logHandler=Ti,this._userLogHandler=null,re.push(this)}get logLevel(){return this._logLevel}set logLevel(ot){if(!(ot in Be))throw new TypeError(`Invalid value "${ot}" assigned to \`logLevel\``);this._logLevel=ot}setLogLevel(ot){this._logLevel="string"==typeof ot?ae[ot]:ot}get logHandler(){return this._logHandler}set logHandler(ot){if("function"!=typeof ot)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ot}get userLogHandler(){return this._userLogHandler}set userLogHandler(ot){this._userLogHandler=ot}debug(...ot){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...ot),this._logHandler(this,Be.DEBUG,...ot)}log(...ot){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...ot),this._logHandler(this,Be.VERBOSE,...ot)}info(...ot){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...ot),this._logHandler(this,Be.INFO,...ot)}warn(...ot){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...ot),this._logHandler(this,Be.WARN,...ot)}error(...ot){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...ot),this._logHandler(this,Be.ERROR,...ot)}}function Vn(Ze){re.forEach(ot=>{ot.setLogLevel(Ze)})}function bn(Ze,ot){for(const Pt of re){let on=null;ot&&ot.level&&(on=ae[ot.level]),Pt.userLogHandler=null===Ze?null:(Bn,kn,...Dn)=>{const rn=Dn.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");kn>=(on??Bn.logLevel)&&Ze({level:Be[kn].toLowerCase(),message:rn,args:Dn,type:Bn.name})}}}},861:(Kr,Wi,$t)=>{function re(ae,bt,Ge,Ti,ut,Vn,bn){try{var Ze=ae[Vn](bn),ot=Ze.value}catch(Pt){return void Ge(Pt)}Ze.done?bt(ot):Promise.resolve(ot).then(Ti,ut)}function Be(ae){return function(){var bt=this,Ge=arguments;return new Promise(function(Ti,ut){var Vn=ae.apply(bt,Ge);function bn(ot){re(Vn,Ti,ut,bn,Ze,"next",ot)}function Ze(ot){re(Vn,Ti,ut,bn,Ze,"throw",ot)}bn(void 0)})}}$t.d(Wi,{Z:()=>Be})},582:(Kr,Wi,$t)=>{$t.d(Wi,{FC:()=>Yt,KL:()=>qi,_T:()=>bt,mG:()=>Pt,pi:()=>ae,qq:()=>Re});var ae=function(){return ae=Object.assign||function(Fe){for(var ve,Ae=1,et=arguments.length;Ae<et;Ae++)for(var Ue in ve=arguments[Ae])Object.prototype.hasOwnProperty.call(ve,Ue)&&(Fe[Ue]=ve[Ue]);return Fe},ae.apply(this,arguments)};function bt(Me,Fe){var ve={};for(var Ae in Me)Object.prototype.hasOwnProperty.call(Me,Ae)&&Fe.indexOf(Ae)<0&&(ve[Ae]=Me[Ae]);if(null!=Me&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(Ae=Object.getOwnPropertySymbols(Me);et<Ae.length;et++)Fe.indexOf(Ae[et])<0&&Object.prototype.propertyIsEnumerable.call(Me,Ae[et])&&(ve[Ae[et]]=Me[Ae[et]])}return ve}function Pt(Me,Fe,ve,Ae){return new(ve||(ve=Promise))(function(Ue,ct){function pn(wn){try{Vt(Ae.next(wn))}catch(wi){ct(wi)}}function Ye(wn){try{Vt(Ae.throw(wn))}catch(wi){ct(wi)}}function Vt(wn){wn.done?Ue(wn.value):function et(Ue){return Ue instanceof ve?Ue:new ve(function(ct){ct(Ue)})}(wn.value).then(pn,Ye)}Vt((Ae=Ae.apply(Me,Fe||[])).next())})}function Re(Me){return this instanceof Re?(this.v=Me,this):new Re(Me)}function Yt(Me,Fe,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Ae=ve.apply(Me,Fe||[]),Ue=[];return et={},ct("next"),ct("throw"),ct("return"),et[Symbol.asyncIterator]=function(){return this},et;function ct(zn){Ae[zn]&&(et[zn]=function(gi){return new Promise(function(Ri,Ce){Ue.push([zn,gi,Ri,Ce])>1||pn(zn,gi)})})}function pn(zn,gi){try{!function Ye(zn){zn.value instanceof Re?Promise.resolve(zn.value.v).then(Vt,wn):wi(Ue[0][2],zn)}(Ae[zn](gi))}catch(Ri){wi(Ue[0][3],Ri)}}function Vt(zn){pn("next",zn)}function wn(zn){pn("throw",zn)}function wi(zn,gi){zn(gi),Ue.shift(),Ue.length&&pn(Ue[0][0],Ue[0][1])}}function qi(Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,Fe=Me[Symbol.asyncIterator];return Fe?Fe.call(Me):(Me=function Dn(Me){var Fe="function"==typeof Symbol&&Symbol.iterator,ve=Fe&&Me[Fe],Ae=0;if(ve)return ve.call(Me);if(Me&&"number"==typeof Me.length)return{next:function(){return Me&&Ae>=Me.length&&(Me=void 0),{value:Me&&Me[Ae++],done:!Me}}};throw new TypeError(Fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Me),ve={},Ae("next"),Ae("throw"),Ae("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function Ae(Ue){ve[Ue]=Me[Ue]&&function(ct){return new Promise(function(pn,Ye){!function et(Ue,ct,pn,Ye){Promise.resolve(Ye).then(function(Vt){Ue({value:Vt,done:pn})},ct)}(pn,Ye,(ct=Me[Ue](ct)).done,ct.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},Kr=>{var Wi=re=>Kr(Kr.s=re);Wi(614),Wi(144)}]);